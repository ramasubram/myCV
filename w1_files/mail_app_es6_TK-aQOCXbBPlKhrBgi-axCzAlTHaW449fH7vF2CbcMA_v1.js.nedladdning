!function(e){function t(t){for(var r,o,i=t[0],c=t[1],l=t[2],E=0,_=[];E<i.length;E++)o=i[E],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&_.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(d&&d(t);_.length;)_.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],r=!0,i=1;i<s.length;i++){0!==n[s[i]]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=s[0]))}return e}var r={},n={6:0},a=[];function o(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(e){var t=[],s=n[e];if(0!==s)if(s)t.push(s[2]);else{var r=new Promise((function(t,r){s=n[e]=[t,r]}));t.push(s[2]=r);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.src=o.p+window.ymailManifest[e],0!==i.src.indexOf(window.location.origin+"/")&&(i.crossOrigin="anonymous");var c=new Error;a=function(t){i.onerror=i.onload=null,clearTimeout(l);var s=n[e];if(0!==s){if(s){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,s[1](c)}n[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:i})}),12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(s,r,function(t){return e[t]}.bind(null,r));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;a.push([887,0]),s()}([function(e,t,s){"use strict";s.d(t,"f",(function(){return E})),s.d(t,"Me",(function(){return _})),s.d(t,"Re",(function(){return u})),s.d(t,"Vb",(function(){return p})),s.d(t,"N",(function(){return m})),s.d(t,"nb",(function(){return S})),s.d(t,"pc",(function(){return h})),s.d(t,"B",(function(){return C})),s.d(t,"wb",(function(){return g})),s.d(t,"jd",(function(){return O})),s.d(t,"Je",(function(){return T})),s.d(t,"hb",(function(){return A})),s.d(t,"Cb",(function(){return I})),s.d(t,"vc",(function(){return f})),s.d(t,"ad",(function(){return D})),s.d(t,"ub",(function(){return R})),s.d(t,"Qc",(function(){return b})),s.d(t,"Pc",(function(){return N})),s.d(t,"Oc",(function(){return M})),s.d(t,"Gc",(function(){return y})),s.d(t,"Fc",(function(){return L})),s.d(t,"Ce",(function(){return P})),s.d(t,"U",(function(){return v})),s.d(t,"vb",(function(){return U})),s.d(t,"Mb",(function(){return w})),s.d(t,"gd",(function(){return G})),s.d(t,"ie",(function(){return H})),s.d(t,"Ud",(function(){return j})),s.d(t,"Td",(function(){return k})),s.d(t,"Rd",(function(){return x})),s.d(t,"Zb",(function(){return B})),s.d(t,"Kb",(function(){return V})),s.d(t,"je",(function(){return W})),s.d(t,"Q",(function(){return K})),s.d(t,"od",(function(){return q})),s.d(t,"Bb",(function(){return Y})),s.d(t,"E",(function(){return z})),s.d(t,"Dd",(function(){return Q})),s.d(t,"F",(function(){return Z})),s.d(t,"Db",(function(){return te})),s.d(t,"Yb",(function(){return ae})),s.d(t,"V",(function(){return oe})),s.d(t,"Hc",(function(){return ie})),s.d(t,"w",(function(){return ce})),s.d(t,"Md",(function(){return de})),s.d(t,"y",(function(){return Ee})),s.d(t,"Ic",(function(){return _e})),s.d(t,"x",(function(){return ue})),s.d(t,"Lc",(function(){return pe})),s.d(t,"Mc",(function(){return me})),s.d(t,"xc",(function(){return ge})),s.d(t,"Ac",(function(){return Oe})),s.d(t,"rd",(function(){return Te})),s.d(t,"Ie",(function(){return Ae})),s.d(t,"mb",(function(){return Ie})),s.d(t,"G",(function(){return fe})),s.d(t,"uc",(function(){return De})),s.d(t,"H",(function(){return Re})),s.d(t,"ze",(function(){return be})),s.d(t,"lb",(function(){return Ne})),s.d(t,"sc",(function(){return Me})),s.d(t,"Rb",(function(){return ye})),s.d(t,"Jc",(function(){return Le})),s.d(t,"xd",(function(){return Pe})),s.d(t,"md",(function(){return ve})),s.d(t,"yb",(function(){return Fe})),s.d(t,"Hd",(function(){return we})),s.d(t,"P",(function(){return Ge})),s.d(t,"Yd",(function(){return He})),s.d(t,"cb",(function(){return je})),s.d(t,"db",(function(){return ke})),s.d(t,"Cd",(function(){return xe})),s.d(t,"Bd",(function(){return Be})),s.d(t,"vd",(function(){return Ve})),s.d(t,"wd",(function(){return We})),s.d(t,"Ke",(function(){return Ke})),s.d(t,"td",(function(){return qe})),s.d(t,"Pe",(function(){return Ye})),s.d(t,"n",(function(){return ze})),s.d(t,"Ed",(function(){return Qe})),s.d(t,"tb",(function(){return Ze})),s.d(t,"l",(function(){return $e})),s.d(t,"nd",(function(){return Je})),s.d(t,"m",(function(){return et})),s.d(t,"k",(function(){return tt})),s.d(t,"Qe",(function(){return st})),s.d(t,"yc",(function(){return rt})),s.d(t,"zc",(function(){return nt})),s.d(t,"ac",(function(){return at})),s.d(t,"we",(function(){return it})),s.d(t,"bc",(function(){return ct})),s.d(t,"Qd",(function(){return lt})),s.d(t,"se",(function(){return dt})),s.d(t,"qb",(function(){return Et})),s.d(t,"fe",(function(){return _t})),s.d(t,"ge",(function(){return ut})),s.d(t,"ee",(function(){return pt})),s.d(t,"ue",(function(){return mt})),s.d(t,"te",(function(){return St})),s.d(t,"fb",(function(){return ht})),s.d(t,"ed",(function(){return Ct})),s.d(t,"fd",(function(){return gt})),s.d(t,"Pd",(function(){return Ot})),s.d(t,"Ec",(function(){return Tt})),s.d(t,"sb",(function(){return At})),s.d(t,"dd",(function(){return It})),s.d(t,"o",(function(){return ft})),s.d(t,"Nc",(function(){return Dt})),s.d(t,"Bc",(function(){return Rt})),s.d(t,"D",(function(){return bt})),s.d(t,"Gd",(function(){return Nt})),s.d(t,"Fd",(function(){return Mt})),s.d(t,"Gb",(function(){return yt})),s.d(t,"Ib",(function(){return Lt})),s.d(t,"Hb",(function(){return Pt})),s.d(t,"Jb",(function(){return vt})),s.d(t,"W",(function(){return Ft})),s.d(t,"s",(function(){return Ut})),s.d(t,"v",(function(){return wt})),s.d(t,"ye",(function(){return Gt})),s.d(t,"K",(function(){return Ht})),s.d(t,"Nd",(function(){return jt})),s.d(t,"Sd",(function(){return kt})),s.d(t,"cc",(function(){return xt})),s.d(t,"Wb",(function(){return Bt})),s.d(t,"Lb",(function(){return Vt})),s.d(t,"J",(function(){return Wt})),s.d(t,"Sc",(function(){return Kt})),s.d(t,"hd",(function(){return qt})),s.d(t,"A",(function(){return Yt})),s.d(t,"zb",(function(){return zt})),s.d(t,"xb",(function(){return Qt})),s.d(t,"Xd",(function(){return Zt})),s.d(t,"R",(function(){return Xt})),s.d(t,"ab",(function(){return $t})),s.d(t,"Vd",(function(){return Jt})),s.d(t,"Y",(function(){return es})),s.d(t,"Wd",(function(){return ts})),s.d(t,"Z",(function(){return ss})),s.d(t,"Id",(function(){return rs})),s.d(t,"ib",(function(){return ns})),s.d(t,"Rc",(function(){return as})),s.d(t,"L",(function(){return os})),s.d(t,"z",(function(){return is})),s.d(t,"zd",(function(){return cs})),s.d(t,"Ub",(function(){return ls})),s.d(t,"Wc",(function(){return ds})),s.d(t,"Fe",(function(){return Es})),s.d(t,"me",(function(){return _s})),s.d(t,"Eb",(function(){return us})),s.d(t,"Kd",(function(){return ps})),s.d(t,"Le",(function(){return ms})),s.d(t,"Vc",(function(){return Ss})),s.d(t,"Tc",(function(){return hs})),s.d(t,"Ab",(function(){return Cs})),s.d(t,"ae",(function(){return gs})),s.d(t,"ob",(function(){return Os})),s.d(t,"cd",(function(){return Ts})),s.d(t,"wc",(function(){return As})),s.d(t,"oc",(function(){return Is})),s.d(t,"I",(function(){return fs})),s.d(t,"dc",(function(){return Ds})),s.d(t,"Ad",(function(){return Rs})),s.d(t,"Xb",(function(){return bs})),s.d(t,"Cc",(function(){return Ns})),s.d(t,"rb",(function(){return Ms})),s.d(t,"sd",(function(){return ys})),s.d(t,"qc",(function(){return Ls})),s.d(t,"kc",(function(){return Ps})),s.d(t,"rc",(function(){return vs})),s.d(t,"Jd",(function(){return Fs})),s.d(t,"Be",(function(){return Us})),s.d(t,"Oe",(function(){return ws})),s.d(t,"xe",(function(){return Gs})),s.d(t,"Nb",(function(){return Hs})),s.d(t,"Ae",(function(){return ks})),s.d(t,"le",(function(){return xs})),s.d(t,"Fb",(function(){return Bs})),s.d(t,"c",(function(){return Vs})),s.d(t,"q",(function(){return Ws})),s.d(t,"r",(function(){return Ks})),s.d(t,"h",(function(){return qs})),s.d(t,"i",(function(){return Ys})),s.d(t,"Ge",(function(){return zs})),s.d(t,"He",(function(){return Qs})),s.d(t,"Xc",(function(){return Zs})),s.d(t,"ud",(function(){return Xs})),s.d(t,"j",(function(){return $s})),s.d(t,"d",(function(){return Js})),s.d(t,"eb",(function(){return er})),s.d(t,"X",(function(){return tr})),s.d(t,"pd",(function(){return sr})),s.d(t,"bb",(function(){return rr})),s.d(t,"e",(function(){return nr})),s.d(t,"ic",(function(){return ar})),s.d(t,"nc",(function(){return or})),s.d(t,"jb",(function(){return ir})),s.d(t,"b",(function(){return cr})),s.d(t,"ec",(function(){return lr})),s.d(t,"gc",(function(){return dr})),s.d(t,"hc",(function(){return Er})),s.d(t,"fc",(function(){return _r})),s.d(t,"p",(function(){return ur})),s.d(t,"Zd",(function(){return pr})),s.d(t,"oe",(function(){return mr})),s.d(t,"qe",(function(){return Sr})),s.d(t,"pe",(function(){return hr})),s.d(t,"ne",(function(){return Cr})),s.d(t,"gb",(function(){return gr})),s.d(t,"re",(function(){return Or})),s.d(t,"ke",(function(){return Tr})),s.d(t,"yd",(function(){return Ar})),s.d(t,"De",(function(){return Ir})),s.d(t,"Tb",(function(){return fr})),s.d(t,"he",(function(){return Dr})),s.d(t,"bd",(function(){return Rr})),s.d(t,"M",(function(){return br})),s.d(t,"Ne",(function(){return Nr})),s.d(t,"Kc",(function(){return Mr})),s.d(t,"kd",(function(){return yr})),s.d(t,"Ld",(function(){return Lr})),s.d(t,"id",(function(){return Pr})),s.d(t,"O",(function(){return vr})),s.d(t,"Uc",(function(){return Fr})),s.d(t,"Od",(function(){return Ur})),s.d(t,"g",(function(){return wr})),s.d(t,"be",(function(){return Gr})),s.d(t,"ce",(function(){return Hr})),s.d(t,"de",(function(){return jr})),s.d(t,"qd",(function(){return kr})),s.d(t,"a",(function(){return xr})),s.d(t,"kb",(function(){return Br})),s.d(t,"ld",(function(){return Vr})),s.d(t,"lc",(function(){return Wr})),s.d(t,"mc",(function(){return Kr})),s.d(t,"jc",(function(){return qr})),s.d(t,"Ee",(function(){return Yr})),s.d(t,"tc",(function(){return zr})),s.d(t,"pb",(function(){return Qr})),s.d(t,"Dc",(function(){return Zr})),s.d(t,"S",(function(){return Xr})),s.d(t,"T",(function(){return $r})),s.d(t,"t",(function(){return Jr})),s.d(t,"u",(function(){return en})),s.d(t,"Qb",(function(){return tn})),s.d(t,"Ob",(function(){return sn})),s.d(t,"Zc",(function(){return rn})),s.d(t,"Pb",(function(){return nn})),s.d(t,"C",(function(){return an})),s.d(t,"Sb",(function(){return on})),s.d(t,"ve",(function(){return ln})),s.d(t,"Yc",(function(){return dn}));var r=s(3),n=s.n(r),a=s(182),o=s(9),i=s(81),c=s(180);function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const E=c.a,_="YMailNorrin",u=c.b,p=959521194;let m;!function(e){e.YAHOO="yahoo",e.AOL="aol"}(m||(m={}));const S=2,h=3;let C;!function(e){e.MAIL_APP="MAIL_APP",e.MOBILE_APP="MOBILE_APP",e.BASIC_MAIL_APP="BASIC_MAIL_APP",e.BASIC_MOBILE_APP="BASIC_MOBILE_APP"}(C||(C={}));const g="EMPTY_SEARCH_QUERY",O="/img/grocery.png",T="/img/ym6_groceries.png",A="STORE_FORWARD",I={IC:"ic"},f="monetization",D=Object(o.d)(["MESSAGE","COMPOSE","SEARCH","NAVIGATION","MAIL_READER","PREVIEW","SPONSORED_MESSAGE","TUTORIAL","SUBSCRIPTION_LIST"]),R=Object(o.d)(["ALERT","CONFIRM","PROMPT"]);let b;!function(e){e.NORMAL="NORMAL",e.ADVISORY="ADVISORY",e.WARNING="WARNING",e.POSITIVE="POSITIVE",e.NEGATIVE="NEGATIVE",e.PENDING="PENDING",e.FOWARDING_WARNING="FOWARDING_WARNING"}(b||(b={}));const N={ALERT_DIALOG:"alertdialog",STATUS:"status",ALERT:"alert"},M={LOW:1,MEDIUM:2,HIGH:3},y=Object(o.d)(["READ","STAR","SPAM","HAM","MOVE","DELETE","ANSWER","FORWARD","DECO","RECENT"]),L=Object(o.d)(["SUCCESS","ASYNC","FAIL","PARTIAL"]);let P;!function(e){e.LAUNCH="LAUNCH",e.DOCUMENT_FETCH="DOCUMENT_FETCH",e.COMPOSE_SUGGESTIONS_FETCH="COMPOSE_SUGGESTIONS_FETCH",e.SEARCH_SUGGESTIONS_FETCH="SEARCH_SUGGESTIONS_FETCH",e.IMPORTANT_CONTACTS_FETCH="IMPORTANT_CONTACTS_FETCH",e.VIDEO_CHANNELS_METADATA_FETCH="VIDEO_CHANNELS_METADATA_FETCH",e.VIDEO_CHANNEL_FETCH="VIDEO_CHANNEL_FETCH",e.COMPOSE="COMPOSE",e.MESSAGE_ITEM_TO_FETCH="MESSAGE_ITEM_TO_FETCH",e.MESSAGE_ITEM_TO_UPDATE="MESSAGE_ITEM_TO_UPDATE",e.LIST_TO_UPDATE="LIST_TO_UPDATE",e.GEMINI_AD_ASSET="GEMINI_AD_ASSET",e.SETTINGS_TO_CHANGE="SETTINGS_TO_CHANGE",e.BLOCKED_SENDERS_TO_FETCH="BLOCKED_SENDERS_TO_FETCH",e.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH="FILTERS_AND_BLOCKED_SENDERS_TO_FETCH",e.GEMINI_AD="GEMINI_AD",e.RELATED_SEARCHES_TO_FETCH="RELATED_SEARCHES_TO_FETCH",e.ASYNC_TASK_STATUS="ASYNC_TASK_STATUS",e.OLYMPIC_CONTENT_TO_FETCH="OLYMPIC_CONTENT_TO_FETCH",e.COMPONENT_UI_STATE="COMPONENT_UI_STATE",e.CONTACT_CARD="CONTACT_CARD",e.GIFS_TO_FETCH="GIFS_TO_FETCH",e.GIF_CATEGORY_TO_FETCH="GIF_CATEGORY_TO_FETCH",e.CONTACT_LIST_TO_FETCH="CONTACT_LIST_TO_FETCH",e.ACCOUNT_TO_UPDATE="ACCOUNT_TO_UPDATE",e.BASENAME_TO_CREATE="BASENAME_TO_CREATE",e.FOLDER="FOLDER",e.RSVP_FETCH="RSVP_FETCH",e.VACATION_RESPONSE_SETTINGS="VACATION_RESPONSE_SETTINGS",e.MORE_ITEMS_TO_FETCH="MORE_ITEMS_TO_FETCH",e.RAW_MESSAGE="RAW_MESSAGE",e.RAW_MESSAGE_TO_FETCH="RAW_MESSAGE_TO_FETCH",e.RELATED_COUPONS_TO_FETCH="RELATED_COUPONS_TO_FETCH",e.PARENT_MESSAGE_TO_FETCH="PARENT_MESSAGE_TO_FETCH",e.COUPON_RECOMMENDATIONS_TO_FETCH="COUPON_RECOMMENDATIONS_TO_FETCH",e.COUPONS_TO_FETCH="COUPONS_TO_FETCH",e.TOP_RETAILERS_TO_FETCH="TOP_RETAILERS_TO_FETCH",e.TOP_DEAL_CATEGORIES_TO_FETCH="TOP_DEAL_CATEGORIES_TO_FETCH",e.RECENT_SEARCHES_TO_FETCH="RECENT_SEARCHES_TO_FETCH",e.RECENT_SEARCH_DELETE="RECENT_SEARCH_DELETE",e.NUDGE_TO_REPLY="NUDGE_TO_REPLY",e.REPLY_SUGGESTIONS="REPLY_SUGGESTIONS",e.SYNC_NOW="SYNC_NOW",e.CONTACTS_LIST="CONTACTS_LIST",e.CONTACTS_CATEGORY_LIST="CONTACTS_CATEGORY_LIST",e.CONTACT_DETAILS="CONTACT_DETAILS",e.EDIT_CONTACT="EDIT_CONTACT",e.CONTACT_SAVE="CONTACT_SAVE",e.CONTACT_PHOTO_UPLOAD="CONTACT_PHOTO_UPLOAD",e.SOCIAL_ACCOUNT_IMPORT="SOCIAL_ACCOUNT_IMPORT",e.SOCIAL_ACCOUNT_AUTH_URL="SOCIAL_ACCOUNT_AUTH_URL",e.CLOUD_STORAGE_ACCOUNT_AUTH_URL="CLOUD_STORAGE_ACCOUNT_AUTH_URL",e.CLOUD_STORAGE_ITEMS_TO_FETCH="CLOUD_STORAGE_ITEMS_TO_FETCH",e.CLOUD_STORAGE_ITEM_SHAREABLE_LINK="CLOUD_STORAGE_ITEM_SHAREABLE_LINK",e.SOCIAL_ACCOUNT_STATUS="SOCIAL_ACCOUNT_STATUS",e.IMPORT_CONTACTS_PROVIDERS_STATUS="IMPORT_CONTACTS_PROVIDERS_STATUS",e.CONTACT_CREATE="CONTACT_CREATE",e.CONTACT_DELETE="CONTACT_DELETE",e.CONTACT_GROUP_DELETE="CONTACT_GROUP_DELETE",e.CONTACTS_GROUP_EDIT="CONTACTS_GROUP_EDIT",e.CONTACTS_GROUP_CREATE="CONTACTS_GROUP_CREATE",e.ENHANCE_CONTACTS_PREFERENCE_FETCH="ENHANCE_CONTACTS_PREFERENCE_FETCH",e.ENHANCE_CONTACTS_PREFERENCE_CHANGE="ENHANCE_CONTACTS_PREFERENCE_CHANGE",e.FETCH_ALL_CONTACTS="FETCH_ALL_CONTACTS",e.ACTIVATE_OFFER="ACTIVATE_OFFER",e.ACTIVATED_OFFERS="ACTIVATED_OFFERS",e.REMOVE_PRODUCTS="REMOVE_PRODUCTS",e.OFFERS="OFFERS",e.RETAILER_LINK="RETAILER_LINK",e.RETAILER_UNLINK="RETAILER_UNLINK",e.GROCERY_SEARCH_ASSIST="GROCERY_SEARCH_ASSIST",e.SAVINGS="SAVINGS",e.SHOPRUNNER_RETAILERS="SHOPRUNNER_RETAILERS",e.ACCOUNT_DELETE="ACCOUNT_DELETE",e.ACCOUNT_ADD="ACCOUNT_ADD",e.LOCATION_TO_UPDATE="LOCATION_TO_UPDATE",e.CONVERSATION_MODE_TO_UPDATE="CONVERSATION_MODE_TO_UPDATE",e.ACCOUNT_TO_REAUTH="ACCOUNT_TO_REAUTH",e.ALIAS_EMAIL_TO_CREATE="ALIAS_EMAIL_TO_CREATE",e.CONFIRM_EMAIL_TO_RESEND="CONFIRM_EMAIL_TO_RESEND",e.COMPOSE_ATTRIBUTES_TO_FETCH="COMPOSE_ATTRIBUTES_TO_FETCH",e.POST_LUNCH_TO_SYNC="POST_LUNCH_TO_SYNC",e.FETCH_PRIMARY_ACCOUNT="FETCH_PRIMARY_ACCOUNT",e.RETAILER_LOCATIONS="RETAILER_LOCATIONS",e.UPDATE_PREFERRED_STORE="UPDATE_PREFERRED_STORE",e.CHANGE_PRODUCTS_QUANTITY="CHANGE_PRODUCTS_QUANTITY",e.SAVE_COUPONS="SAVE_COUPONS",e.UNSAVE_COUPONS="UNSAVE_COUPONS",e.FOLLOW_CATEGORY="FOLLOW_CATEGORY",e.UNFOLLOW_CATEGORY="UNFOLLOW_CATEGORY",e.LINK_ENHANCER_TO_FETCH="LINK_ENHANCER_TO_FETCH",e.UPDATE_PAC_CUE="UPDATE_PAC_CUE",e.UNSUBSCRIBE_EMAIL="UNSUBSCRIBE_EMAIL",e.UNSUBSCRIBE_BRAND="UNSUBSCRIBE_BRAND",e.SUBSCRIPTION_LIST="SUBSCRIPTION_LIST",e.SUBHUB_RECOMMENDATION_LIST="SUBHUB_RECOMMENDATION_LIST",e.MEMBERSHIP_REWARDS_LAUNCH="MEMBERSHIP_REWARDS_LAUNCH",e.TMR_REGISTER_ACTION="TMR_REGISTER_ACTION",e.MARKETING_PREFERENCES_TO_UNSUBSCRIBE="MARKETING_PREFERENCES_TO_UNSUBSCRIBE",e.MARKETING_PREFERENCES_TO_READ="MARKETING_PREFERENCES_TO_READ",e.DISPATCHER_UPSELLS="DISPATCHER_UPSELLS",e.PURCHASE_MAILPRO_FREE_TRIAL="PURCHASE_MAILPRO_FREE_TRIAL",e.LIST_MAILPRO_SUBSCRIPTIONS="LIST_MAILPRO_SUBSCRIPTIONS",e.BREAKING_NEWS="BREAKING_NEWS",e.NEED_TO_KNOW_NEWS="NEED_TO_KNOW_NEWS",e.FETCH_CLOUD_STORAGE_PROVIDERS="FETCH_CLOUD_STORAGE_PROVIDERS",e.UNLINK_CLOUD_STORAGE_ACCOUNT="UNLINK_CLOUD_STORAGE_ACCOUNT",e.MORE_SENDER_ROLLUP_TO_FETCH="MORE_SENDER_ROLLUP_TO_FETCH",e.PHISHING_REMOVE_BDM_DECO="PHISHING_REMOVE_BDM_DECO",e.ASTRA_BATCH_REQUEST="ASTRA_BATCH_REQUEST",e.REQUEST_AFFILIATE_OFFERS="REQUEST_AFFILIATE_OFFERS"}(P||(P={}));const v={Modes:{NEW:"NEW",REPLY:"REPLY",REPLY_ALL:"REPLY_ALL",FORWARD:"FORWARD",EDIT:"EDIT",SPONSORED_FORWARD:"SPONSORED_FORWARD"}};let F;!function(e){e.NEW="NEW",e.REPLY="REPLY",e.REPLY_ALL="REPLY_ALL",e.FORWARD="FORWARD",e.EDIT="EDIT",e.SPONSORED_FORWARD="SPONSORED_FORWARD"}(F||(F={}));const U={Status:Object(o.d)(["DOES_NOT_EXIST","INIT","EDITED","SAVING","SAVED","SAVED_PARTIAL","SAVE_FAILED","SENDING","SEND_FAILED","SENT","CAPTCHAING"])};let w;!function(e){e.ALERTSTORE="ALERTSTORE",e.ARCHIVE="ARCHIVE",e.BULK="BULK",e.CARD="CARD",e.CHATS="CHATS",e.DELETED="DELETED",e.DRAFT="DRAFT",e.EXTERNAL_ALL="EXTERNAL_ALL",e.INBOX="INBOX",e.INVISIBLE="INVISIBLE",e.NOT_SEARCHABLE="NOT_SEARCHABLE",e.NOTES="NOTES",e.SENT="SENT",e.STAGING="STAGING",e.SYNC="SYNC",e.TOKENCACHE="TOKENCACHE",e.TRASH="TRASH",e.USER="USER"}(w||(w={}));const G=Object(o.d)([w.INBOX,w.DRAFT,w.SENT,w.TRASH,w.BULK,w.ARCHIVE,w.TOKENCACHE,w.USER,w.STAGING,w.SYNC,w.NOTES,w.DELETED,w.CHATS]),H=Object(o.d)([w.INBOX,w.DRAFT,w.SENT,w.ARCHIVE,w.TRASH,w.BULK]);let j;!function(e){e.UNREAD="UNREAD",e.STARRED="STARRED",e.DOCUMENTS="DOCUMENTS",e.PHOTOS="PHOTOS",e.TUTORIAL="TUTORIAL",e.COUPONS="COUPONS",e.COUPON_EMAILS="COUPON_EMAILS",e.RECEIPTS="RECEIPTS",e.TRAVEL="TRAVEL",e.TRAVEL_PAST="TRAVEL_PAST",e.TRAVEL_EMAILS="TRAVEL_EMAILS",e.PEOPLE="PEOPLE",e.FINANCE="FINANCE",e.SOCIAL="SOCIAL",e.SHOPPING="SHOPPING",e.SHOPPING_EMAILS="SHOPPING_EMAILS",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.SUBSCRIPTION_DETAIL="SUBSCRIPTION_DETAIL",e.ATTACHMENTS="ATTACHMENTS",e.GROCERIES="GROCERIES",e.FLAGGED="FLAGGED",e.OLDMAIL="OLDMAIL",e.NEWMAIL="NEWMAIL",e.SENDER_ROLLUP="SENDER_ROLLUP"}(j||(j={}));const k=Object(o.d)(["TAB_BAR","SIDE_BAR"]),x={[j.UNREAD]:"is:unread",[j.STARRED]:"is:starred",[j.TRAVEL]:"is:travel",[j.COUPONS]:"is:shopping"},B=[j.PHOTOS,j.DOCUMENTS,j.COUPONS,j.GROCERIES,j.TRAVEL,j.TUTORIAL,j.RECEIPTS,j.SUBSCRIPTIONS,j.ATTACHMENTS],V=Object.assign(Object(o.d)(["ALL_MAIL"]),w),W={INBOX:"1",DRAFT:"3",SENT:"2",TRASH:"4",SPAM:"6"},K=Object(o.d)(["DOWN","LEFT","NONE"]);let q,Y;!function(e){e.DIRTY="DIRTY",e.DOES_NOT_EXIST="DOES_NOT_EXIST",e.REFRESHING="REFRESHING",e.LOADING="LOADING",e.LOADED="LOADED",e.ERROR="ERROR"}(q||(q={})),function(e){e.LOADED="LOADED",e.CANCELLED="CANCELLED"}(Y||(Y={}));const z=Object(o.d)(["DELETED","LOADING","LOADED","ERROR","DELETING"]),Q=Object(o.d)(["CONTACT","SUBJECT"]),Z={Types:{TEXT:"text",IMAGE:"image",MESSAGE:"message",VIDEO:"video",AUDIO:"audio",APPLICATION:"application"},SubTypes:{ACROBAT:"acrobat",CALENDAR:"calendar",CSS:"css",CSV:"csv",DELIVERY_STATUS:"delivery-status",DOC:"msword",DOCX:"vnd.openxmlformats-officedocument.wordprocessingml.document",DOT:"dot",EXCEL:"excel",FOLDER:"vnd.pachyderm.folder",FRAMEMAKER:"vnd.framemaker",GDOCX:"vnd.google-apps.document",GIF:"gif",GPPT:"vnd.google-apps.presentation",GXLS:"vnd.google-apps.spreadsheet",GZIP:"x-gzip",HTML:"html",ICS:"ics",MS_WORD:"microsoft_word",MSEXCEL:"msexcel",MSTNEF:"ms-tnef",OCTET_STREAM:"octet-stream",PDF:"pdf",PLAIN:"plain",PNG:"png",PPT:"vnd.ms-powerpoint",PPTX:"vnd.openxmlformats-officedocument.presentationml.presentation",PPTX_SLIDESHOW:"vnd.openxmlformats-officedocument.presentationml.slideshow",PPTX_TEMPLATE:"vnd.openxmlformats-officedocument.presentationml.template",RFC822:"rfc822",RICHTEXT:"richtext",SC2:"mswor2c sc2",TAR:"x-tar",TIFF:"tiff",VND_MS_WORD:"vnd.ms-word",VND_MSWORD:"vnd.msword",VND_PDF:"vnd.pdf",WINWORD:"winword",WORD:"word",X_COMPRESSED:"x-compressed",X_DOT:"x-dot",X_EXCEL:"x-excel",X_FM:"x-fm",X_FRAMEMAKER:"x-framemaker",X_MAKER:"x-maker",X_MS_EXCEL:"x-dos_ms_excel",X_MS_WORD:"x-msword",X_MSW6:"x-msw6",X_PDF:"x-pdf",X_RTF:"x-rtf",X_SOFFICE:"x-soffice",X_XLS:"x-xls",X_ZIP:"x-zip-compressed",XLS:"vnd.ms-excel",XLS_M:"vnd.ms-excel.sheet.macroEnabled.12",XLS_M_TEMPLATE:"vnd.ms-excel.template.macroEnabled.12",XLS_TEMPLATE:"vnd.openxmlformats-officedocument.spreadsheetml.template",XLSX:"vnd.openxmlformats-officedocument.spreadsheetml.sheet",XML:"xml",ZIP:"zip",ZZ_DOT:"zz-winassoc-dot"},Dispositions:{ATTACHMENT:"attachment",INLINE:"inline"},SimplifiedTypes:{APPLICATION:"application",IMAGE:"image",VIDEO:"video",FILE:"file",FOLDER:"folder",AUDIO:"audio",COMPRESSED:"compressed",CAL:"cal",PDF:"pdf",XLS:"xls",DOC:"doc",PPT:"ppt",TEXT:"text",CSV:"csv",TIFF:"tiff",GDOCS:"gdoc",GSHEETS:"gsheet",GSLIDES:"gslide"},KnownDocTypes:/\.((doc|xls|ppt)x?|pdf)$/i},X={TIMEZONE:"web.timezone",LAST_OBSERVED_TIMEZONE:"web.lastObservedTimezone"},$={DESKTOP_MAIL_VERSION:"web.ymv",MOBILE_YMV:"ymvMobile"},J=d({},$,{CONVERSATIONS:"web.enableConversations"}),ee=(d({},$,{CONVERSATIONS:"mobileweb.conversations"}),d({},J,{DESKTOP_MAIL_PREVIOUS_VERSION:"web.previousClientVersion",DESKTOP_MAIL_VERSION_HISTORY:"web.clientVersionHistory"})),te=d({HAS_ADS:"hasAds",THEME:"web.mailTheme",POSTCARD_THEME:"web.postcardTheme",THEME_MODE:"web.themeMode",INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",SHOW_ALL_SYSTEM_FOLDERS:"web.showAllSystemFolders",CLIENT_BUCKETS:"web.clientBuckets",SCOUT_ONBOARDING:"web.norrinOnboard",BLOCK_IMAGES:"web.blockImages",LEGAL_JURISDICTION:"cp.legalJurisdiction",CONSENT_EVENTS:"cp.consentEvents"},X,{},ee),se=d({INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",INTERSTITIAL_SEEN_COUNT:"mobileweb.interstitialSeenCount",SCOUT_ONBOARDING:"web.norrinOnboard",MOBILE_SHOW_IMAGES:"mobileweb.showImages",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",PREFERRED_AD_FORMAT:"adFormatPreference",MOBILE_CONVERSATIONS:"mobileweb.conversations",CONSENT_EVENTS:"cp.consentEvents"},X),re=d({},se,{HAS_ADS:"hasAds",MOBILE_YMV:"ymvMobile"}),ne=d({},se,{MIGRATION_STATUS:"web.migration",MOBILE_SNIPPETS:"mobileweb.snippets"}),ae={PREVIEW_PANE:"web.mailPreviewPane",MAIL_TABS:"web.mailTabs",SNIPPETS:"web.generalSnippet",MSG_LIST_DENSITY:"web.msgsListDensity",DESKTOP_NOTIFICATION:"web.desktopNotification",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",EXPAND_SMART_VIEWS:"web.showSmartViews",HIDE_AD:"web.hideAd",EXPANDED_FOLDERS:"web.expandedFolders",STATIONERY_DEFAULT_THEME:"web.stationeryTheme",USE_RICH_TEXT:"web.useRichText",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SYSTEM_TABS:"web.systemTabs",AD_BLOCK_FEATURE_CUE_ID:"web.adBlockFeatureCueId",BREAKING_NEWS:"web.breakingNews",PACKAGE_TRACKING:"isShipmentTrackingEnabled",AMP_EMAIL:"ampEmail"},oe={COMPOSE_FONT_FAMILY:"web.composeFontFamily",COMPOSE_FONT_SIZE:"web.composeFontSize",LINK_ENHANCER:"web.enableEnhancerLinkPreview",RECENTLY_USED_EMOJIS:"web.emojiRecentlyUsed"},ie={MOBILE_NOTIFICATION:"mobileweb.notifications",MOBILE_SNIPPETS:"mobileweb.snippets",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",PREFERRED_AD_FORMAT:"adFormatPreference",AUTO_OPEN_FIRST_MESSAGE:"mobileweb.autoOpenFirstMessage"},ce=d({},ie,{INBOX_STYLE:"web.hulk.viewNewOld",IS_REINDEXABLE:"isReindexable"}),le={HAS_ADS:"hasAds",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",TIMEZONE:"web.timezone",BLOCK_IMAGES:"web.blockImages",NODIN_ONBOARD:"web.nodin.onboard"},de=(d({},le,{CONSENT_EVENTS:"cp.consentEvents"}),d({},oe,{VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",MESSAGE_FILTERS:"messageFilters",DEA_BASE_NAME:"disposableAddressesPrefix",MAILBOX_SIZE:"mailboxSize",TWEET:"web.enableTweet",CONSENT_EVENTS:"cp.consentEvents"})),Ee=d({},oe,{VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",MAILBOX_SIZE:"mailboxSize"}),_e={DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders"},ue={DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders"},pe=d({},oe,{MAILBOX_SIZE:"mailboxSize"}),me=d({},te,{},ae,{},de,{},ee,{},X,{},oe,{CP_SUBSCRIPTIONS:"cp.subscriptions"}),Se=d({},ie,{},re,{},_e),he=d({},ce,{},ne,{},ue,{},{AOL_MOBILE_SNIPPETS:"mobile.quicksilver.listSpacingType",AOL_MOBILE_SHOW_IMAGES:"web.blockImages"}),Ce=d({},le,{},{HAS_ADS:"hasAds",VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",DEA_BASE_NAME:"disposableAddressesPrefix",MESSAGE_FILTERS:"messageFilters"}),ge=d({},Se,{},he,{},te,{},me,{},Ce,{ADD_UNKNOWN_CONTACT:"web.addUnknownContact",XOBNI:"xobni",KEY_TASKS_PANEL:"web.keyTasksPanel",COMPOSE_SHOW_CC:"web.composeShowCc",COMPOSE_SHOW_BCC:"web.composeShowBcc",CC_ON_SEND:"web.ccOnSend",BCC_ON_SEND:"web.bccOnSend",HIDE_LINKEDIN_FOOTER:"web.autoSuggestHideLinkedinFooter",HIDE_LINKEDIN_RECONNECT:"web.hideLinkedinReconnect",SUPRESS_EMPTY_FOLDER_VIDEO:"web.suppressEmptyFolderVideo",SORT_SEARCH_BY:"web.searchSortBy",PEOPLE_NOTIFICATION:"web.peopleNotification",IMPORTANT_NOTIFICATION:"web.importantNotification",CANCEL_DELETE_COUNT:"web.cancelClickOnHoverDeleteCount",CONFIRM_BEFORE_DELETE:"web.confirmBeforeDelete",SHOW_EMAIL_HISTORY:"web.showEmailHistory",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SHOW_CLOUD_PERMISSION_DIALOG:"web.showCloudFilePermissionsDialog",ONBOARDING:"mailOnBoard",SYSTEM_TABS:"web.systemTabs",POSTCARD_THEME:"web.postcardTheme",SUPPRESSED_UPSELLS:"web.suppressedUpsells"}),Oe=Object(o.d)(["INTERSTITIAL_FREQUENCY","CLIENT_BUCKETS","PREVIEW_PANE","MAIL_TABS","SNIPPETS","MSG_LIST_DENSITY","LINK_ENHANCER","DESKTOP_NOTIFICATION","MOBILE_NOTIFICATION","COMPOSE_FONT_FAMILY","COMPOSE_FONT_SIZE","EXPANDED_FOLDERS","SHOW_CUSTOM_FOLDERS","HIDE_AD","TWEET","STATIONERY_DEFAULT_THEME","ACTION_AFTER_MSG_MOVE","BLOCK_IMAGES","USE_RICH_TEXT","ADD_UNKNOWN_CONTACT","EXPAND_SMART_VIEWS","KEY_TASKS_PANEL","THEME","THEME_MODE","COMPOSE_SHOW_CC","COMPOSE_SHOW_BCC","CC_ON_SEND","BCC_ON_SEND","BREAKING_NEWS","PACKAGE_TRACKING","HIDE_LINKEDIN_FOOTER","HIDE_LINKEDIN_RECONNECT","SUPRESS_EMPTY_FOLDER_VIDEO","SORT_SEARCH_BY","AD_BLOCK_FEATURE_CUE_ID","PEOPLE_NOTIFICATION","IMPORTANT_NOTIFICATION","CANCEL_DELETE_COUNT","CONFIRM_BEFORE_DELETE","SHOW_EMAIL_HISTORY","MARK_AS_READ_INTERVAL","SHOW_CLOUD_PERMISSION_DIALOG","ONBOARDING","UNSUBSCRIBE_TIMESTAMP","NUM_UNSUBSCRIBED_ITEMS","RECENTLY_USED_EMOJIS","SYSTEM_TABS","SCOUT_ONBOARDING","MOBILE_SHOW_IMAGES","MOBILE_SNIPPETS","MOBILE_THEME","MOBILE_THEME_MODE","DESKTOP_MAIL_VERSION","DESKTOP_MAIL_PREVIOUS_VERSION","DESKTOP_MAIL_VERSION_HISTORY","POSTCARD_THEME","CONVERSATIONS","TIMEZONE","LAST_OBSERVED_TIMEZONE","PREFERRED_AD_FORMAT","IS_UDB_MIGRATION_COMPLETE","PREFERRED_AD_FORMAT","NODIN_ONBOARD"]);let Te;!function(e){e.LIST="list",e.BASE="base",e.FOLDER="folder",e.MESSAGE_FROM_FOLDER_LIST="message_from_folder_list",e.MESSAGE_FROM_SEARCH_LIST="message_from_search_list",e.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST="message_group_list_from_folder_list",e.MESSAGE_FROM_LIST="message_from_list",e.NEW_DRAFT="new_draft",e.EDIT_DRAFT="edit_draft",e.SEARCH="search",e.SETTINGS="settings",e.CONTACTS="contacts",e.CONTACT_DETAILS="contact_details",e.CONTACT_DETAILS_FROM_SEARCH="contact_details_from_search",e.EDIT_CONTACT="edit_contact",e.EDIT_CONTACT_FROM_SEARCH="edit_contact_from_search",e.CREATE_CONTACT="create_contact",e.SIGNATURES_FROM_SETTINGS="signatures_from_settings",e.ADD_FOLDER="add_folder",e.EDIT_FOLDER="edit_folder",e.THEME_CHOOSER="theme_chooser",e.ACCOUNT_LIST_FROM_SETTINGS="account_list_from_settings",e.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST="account_selector_from_account_list",e.ADD_ACCOUNT_PROVIDER="add_account_provider",e.ATTACHMENT="attachment",e.SPONSORED_MESSAGE="sponsored_message",e.SECURE_COMPOSE="secure_compose",e.SECURE_BODY="secure_body",e.SECURE_SETTINGS="secure_settings",e.TUTORIAL="tutorial",e.PHOTO="photo",e.MESSAGE="message",e.BLOCKED_SENDERS="blocked_senders",e.LIST_FOLDERS="list_folders",e.LOAD_CONTACT="load_contact",e.TASK_STATUS="task_status",e.SUBSCRIPTION_LIST="subscription_list",e.MESSAGE_PREVIEW="message_preview",e.REWARDS="rewards",e.PORTRAIT_AD="portrait_ad",e.NOT_FOUND="not_found"}(Te||(Te={}));Object(o.d)([Te.SETTINGS]);const Ae="/d",Ie="/d",fe="/b",De="/m",Re="/mb",be="/[dm]",Ne=Ie+"/log",Me=De+"/log",ye=Ae+"/heartbeat",Le=Ae+"/optout",Pe="http://yo/norrinjsesearch",ve="/public/js/rapidworker_1.2.js",Fe=Object(o.d)(["ALPHA_HOST","BETA_HOST","CANARY_HOST","GLOBAL_HOST","GLOBAL_NORRIN_HOST","GLOBAL_NOBLE_HOST","GLOBAL_NODIN_HOST","GLOBAL_NOBLE_BASIC_HOST","CREDSTORE_HOST","JWS_HOST","INTERNAL_JWS_HOST","BOOTCAMP_HOST","GUCE_CONSENT_HOST","INTERNAL_BOOTCAMP_HOST"]),Ue=["yql","price_grabber_api","location_autosuggest_api","heartbeat","gemini_api","video_api","linkEnhancer","oauth","bootcamp_api","astra_api","udb","marketing_preferences","membership_rewards","obi","amp_viewer","assetConfig"].join("|"),we=(new RegExp("^(?!"+be+"/("+Ue+")/?)"),new RegExp("^"+Ie+"(?!/("+Ue+")/?)"),new RegExp("^"+fe+"(?!/("+Ue+")/?)"),new RegExp("^"+De+"(?!/("+Ue+")/?)"),new RegExp("^"+Re+"(?!/("+Ue+")/?)"),{ALL:"all",NONE:"none",READ:"read",UNREAD:"unread",STARRED:"flagged",UNSTARRED:"unflagged"}),Ge=Object(o.d)(["NONE","ALL","PARTIAL"]);let He,je;!function(e){e.DATE_DESC="date_desc",e.DATE_ASC="date_asc",e.UNREAD="unread",e.STARRED="flagged",e.SENDER="sender",e.RECIPIENT="recipient",e.SUBJECT="subject",e.ATTACHMENT="attachment",e.RELEVANCE="relevance",e.CARD_DATE_DESC="carddate_desc",e.CARD_DATE_ASC="carddate_asc",e.ALPHA_ASC="alpha_asc"}(He||(He={})),function(e){e.FIRST_NAME="first_name",e.LAST_NAME="last_name"}(je||(je={}));const ke={[je.FIRST_NAME]:1,[je.LAST_NAME]:2},xe={DESC:He.DATE_DESC,ASC:He.DATE_ASC},Be={DESC:He.DATE_DESC,ASC:He.DATE_ASC,ATTACHMENT:He.ATTACHMENT,RELEVANCE:He.RELEVANCE},Ve="cardDate",We="time asc",Ke=c.f,qe=c.c,Ye=(e="YMailNorrin")=>e&&e.includes(E)?c.d:c.e;let ze;!function(e){e.FREE="FREE",e.IMAPIN="IMAPIN",e.EXCHANGEIN="EXCHANGEIN",e.ALIAS="ALIAS",e.SENDAS="SENDAS",e.DEA="DEA",e.PARTNER="PARTNER",e.POPIN="POPIN",e.BIZMAIL="BIZMAIL",e.PHONE="PHONE",e.EXTERNAL="EXTERNAL"}(ze||(ze={}));const Qe=[ze.FREE,ze.IMAPIN,ze.EXCHANGEIN,ze.PARTNER,ze.BIZMAIL];Object(o.d)(["STORM","NORRIN","NOBLE","NODIN","NOBLE_BASIC"]);let Ze,Xe;!function(e){e[e.STORM=4]="STORM",e[e.NODIN=5]="NODIN",e[e.NORRIN=6]="NORRIN"}(Ze||(Ze={})),function(e){e[e.NOBLE_BASIC=1]="NOBLE_BASIC",e[e.NOBLE=2]="NOBLE"}(Xe||(Xe={}));const $e=Object(o.d)(["IMAPIN","ALIAS","SENDAS","DEA"]),Je=[ze.PARTNER,ze.FREE,ze.IMAPIN,ze.EXCHANGEIN,ze.BIZMAIL],et=Object(o.d)(["ENABLED","DISABLED","DELETED","PENDING","DELETE_IN_PROGRESS"]),tt=Object(o.d)(["NONE","PLAIN","OAUTH2","PASSKEY"]),st=Object(o.d)(["DISABLED","DELETED","MAINTENANCE"]),rt=Object(o.d)(["ENABLED","DISABLED","DELETED","MAINTENANCE","MIGRATION","INACTIVE"]),nt=Object(o.d)(["FREE","EXTERNAL","PHONE","BIZMAIL","PARTNER"]);let at;!function(e){e.MESSAGES="MESSAGES",e.MESSAGE="MESSAGE",e.IMAGES="IMAGES",e.DOCUMENTS="DOCUMENTS",e.ATTACHMENTS="ATTACHMENTS",e.LINKS="LINKS",e.PEOPLE="PEOPLE",e.EXTRACTIONS="EXTRACTIONS",e.ADS="ADS",e.PENCIL_AD="PENCIL_AD",e.AD_FEEDBACK="AD_FEEDBACK",e.GIFS="GIFS",e.CLOUD_STORAGE_ITEMS="CLOUD_STORAGE_ITEMS",e.STORE_SUMMARY="STORE_SUMMARY",e.TIMECHUNK="TIMECHUNK",e.LOAD_MORE="LOAD_MORE",e.FOLDER="FOLDER",e.SMARTVIEW="SMARTVIEW",e.TRAVEL_CARDS="TRAVEL_CARDS",e.COUPON_SEPARATOR="COUPON_SEPARATOR",e.RECOMMENDED_DEALS_HEADER="RECOMMENDED_DEALS_HEADER",e.RECEIPT_SEPARATOR="RECEIPT_SEPARATOR",e.SINGLE_STORE_SEPARATOR="SINGLE_STORE_SEPARATOR",e.CONTACTS="CONTACTS",e.CONTACTS_SEPARATOR="CONTACTS_SEPARATOR",e.CONTACTS_CONTROLS="CONTACTS_CONTROLS",e.EXPAND_COLLAPSE_CONTACTS="EXPAND_COLLAPSE_CONTACTS",e.LOADING_INDICATOR="LOADING_INDICATOR",e.COUPON_CARDS="COUPON_CARDS",e.RECOMMENDATION_CARDS="RECOMMENDATION_CARDS",e.PKG_TRACKING_CARD="PKG_TRACKING_CARD",e.OFFER_CARDS="OFFER_CARDS",e.GROCERY_CATEGORIES="GROCERY_CATEGORIES",e.REFUND_CARDS="REFUND_CARDS",e.CARDS="CARDS",e.SEARCH_PLACEHOLDER="SEARCH_PLACEHOLDER",e.COMPOSE="COMPOSE",e.PLAADS="PLAADS",e.ADS_SM="ADS_SM",e.RECEIPT_CARDS="RECEIPT_CARDS",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.SENDERS="SENDERS",e.SUBHUB_RECOMMENDATION_LIST="SUBHUB_RECOMMENDATION_LIST"}(at||(at={}));const ot=["TODAY","YESTERDAY","DAY","EARLIER_THIS_WEEK","THIS_WEEK","LAST_WEEK","EARLIER_IN_MONTH","THIS_MONTH","MONTH","EARLIER_IN_YEAR","THIS_YEAR","YEAR"],it={Types:Object(o.d)(ot),PriorityMap:(e=>e.reduce((e,t,s)=>(e[t]=s,e),{}))(ot),Day:{SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6},Month:{JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}};let ct;!function(e){e.FROM="FROM",e.TO="TO",e.ALL="ALL",e.RELATED="RELATED",e.WITH_KEYWORD="WITH_KEYWORD",e.WITH_KEYWORD_RELEVANCE="WITH_KEYWORD_RELEVANCE",e.TO_WITH_RELEVANCE="TO_WITH_RELEVANCE",e.FROM_WITH_RELEVANCE="FROM_WITH_RELEVANCE",e.ALL_WITH_RELEVANCE="ALL_WITH_RELEVANCE",e.SHOPPING="SHOPPING",e.TRAVEL="TRAVEL",e.FINANCE="FINANCE",e.SOCIAL="SOCIAL",e.TRAVEL_VIEW_UPCOMING="TRAVEL_VIEW_UPCOMING",e.TRAVEL_VIEW_PAST="TRAVEL_VIEW_PAST",e.SYSTEMFOLDER="SYSTEMFOLDER",e.CUSTOMFOLDER="CUSTOMFOLDER",e.FOLDERLABEL="FOLDERLABEL",e.SAVED_COUPON_CARDS="SAVED_COUPON_CARDS",e.ALL_REFUND_CARDS="ALL_REFUND_CARDS",e.ALL_COUPON_CARDS="ALL_COUPON_CARDS",e.ALL_RECEIPT_CARDS="ALL_RECEIPT_CARDS",e.ALL_DEAL_RECOMMENDATION_CARDS="ALL_DEAL_RECOMMENDATION_CARDS",e.ALL_PKG_TRACKING_CARD="ALL_PKG_TRACKING_CARD",e.RECOMMENDED_OFFER_CARDS="RECOMMENDED_OFFER_CARDS",e.ACTIVATED_OFFER_CARDS="ACTIVATED_OFFER_CARDS",e.GIFS="GIFS",e.CLOUD_STORAGE_ITEMS="CLOUD_STORAGE_ITEMS",e.ALL_PHOTOS="ALL_PHOTOS",e.PEOPLE="PEOPLE",e.NOT_PEOPLE="NOT_PEOPLE",e.TOP_CONTACTS="TOP_CONTACTS",e.USER_CREATED_CONTACTS="USER_CREATED_CONTACTS",e.IMPORTANT_CONTACTS="IMPORTANT_CONTACTS",e.GROUPS="GROUPS",e.PRINT_CONTACTS="PRINT_CONTACTS",e.ACTIVE="ACTIVE",e.PAST="PAST",e.OLDMAIL="OLDMAIL",e.NEWMAIL="NEWMAIL"}(ct||(ct={}));const lt=[ct.PEOPLE,ct.SHOPPING,ct.OLDMAIL,ct.NEWMAIL],dt=[j.PEOPLE,j.COUPONS],Et={[j.PEOPLE]:"PE",[j.COUPONS]:"SH",[j.SOCIAL]:"SO",[j.FINANCE]:"FI",[j.TRAVEL]:"TR"},_t=Object(o.d)(["PEOPLE","KEYWORD","ALL","RECENT"]),ut=Object(o.d)(["PERSON","KEYWORD","WEB_SEARCH","RECENT","HEADER","EMAIL"]),pt=Object(o.d)(["PERSON","KEYWORD","RECENT","EMAIL"]);let mt;!function(e){e.TEXT="TEXT",e.NEW_DRAFT="NEW_DRAFT",e.NO_SUBJECT="NO_SUBJECT",e.LOADING="LOADING",e.SEARCH_KEYWORD="SEARCH_KEYWORD",e.ERROR="ERROR",e.SEARCH_DEFAULT="SEARCH_DEFAULT",e.SETTINGS="SETTINGS",e.PREVIEW="PREVIEW",e.SPONSORED_AD="SPONSORED_AD",e.SMART_VIEW="SMART_VIEW"}(mt||(mt={}));const St=Object(o.d)(["NONE","SEARCH","SETTINGS","COMPOSE","SMARTVIEW_PEOPLE","SMARTVIEW_SHOPPING","SMARTVIEW_PHOTOS","SMARTVIEW_DOCUMENTS","SMARTVIEW_COUPONS","SMARTVIEW_GROCERIES","SMARTVIEW_RECEIPTS","SMARTVIEW_TRAVEL","SMARTVIEW_TUTORIAL","EXCLAMATION_ALT"]);let ht;!function(e){e.UP="UP",e.DOWN="DOWN",e.FIRST="FIRST",e.LAST="LAST",e.LEFT="LEFT",e.RIGHT="RIGHT"}(ht||(ht={}));const Ct={NO:0,RIGHT:1,BOTTOM:2},gt={H_SLIDER_POS:"hSliderPos",V_SLIDER_POS:"vSliderPos",H_SLIDER_POS_V2:"hsp",V_SLIDER_POS_V2:"vsp"},Ot={ALWAYS:!0,NEVER:!1},Tt={SLIM:1,NORMAL:2,RELAXED:3},At={FAMILY:'"Helvetica Neue", Helvetica, Arial, sans-serif',SIZE:"3",VALUE:i.c.MEDIUM},It=Object(o.d)(["LAUNCH","CHECK_MAIL","NEIGHBOR"]),ft={GO_BACK_TO_FOLDER:3,SHOW_PREVIOUS_MESSAGE:2,SHOW_NEXT_MESSAGE:1},Dt=(Object.assign({COMPACT_SLIM:4,COMPACT_NORMAL:5,COMPACT_RELAXED:6,COMPACT_SNIPPET_SLIM:7,COMPACT_SNIPPET_NORMAL:8,COMPACT_SNIPPET_RELAXED:9},Tt),Object(o.d)(["BROWSER","PUSH"])),Rt=(Object(o.d)(["NONE","PROCESSING_BEGUN","PROCESSING_COMPLETE"]),{IMMEDIATELY:0,AFTER_2_SECONDS:2,AFTER_5_SECONDS:5,NEVER:999}),bt={PAGES_CHUNK_SIZE:3,GAP_BETWEEN_PAGES:12,MAX_SCALE:3,MIN_SCALE:1,SCALE_STEP:.05,TOOLBAR_HEIGHT:54,Movement:Object(o.d)(["PREV","NEXT","ZOOM_IN","ZOOM_OUT"]),Orientation:Object(o.d)(["FIT_TO_WIDTH","FIT_TO_HEIGHT"]),Paddings:{AROUND_PAGE_WIDTH:20,AROUND_PAGE_HEIGHT:20,AROUND_IMG_WIDTH:16,AROUND_IMG_HEIGHT:16},previewableMimeTypes:["application/pdf","application/x-pdf","application/vnd.pdf","text/pdf","text/x-pdf","image/pdf","application/acrobat","application/text","text/css","text/plain","application/xml","text/xml","application/javascript","text/javascript","application/rtf","text/rtf","application/x-rtf","text/richtext","application/msword","application/x-msword","application/doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-word","application/vnd.openxmlformats-officedocument.wordprocessingml","application/vnd.ms-word.document.12","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-excel","application/msexcel","application/x-msexcel","application/excel","application/x-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.formula","application/vnd.oasis.opendocument.presentation"]},Nt=Object(o.d)(["FLOW","PINNED","PUSHED"]),Mt=.8,yt=Object(o.d)(["MOVETOFOLDER"]),Lt=Object(o.d)(["ALL"]),Pt=Object(o.d)(["SUBJECT","SENDER","TOORCC","BODY"]),vt=Object(o.d)(["CONTAINS","NOTCONTAINS","BEGINSWITH","ENDSWITH"]),Ft=Object(o.d)(["CLEAR_FOLDER","ARCHIVE_FOLDER"]),Ut={FOLDERS:"foldersField",FROM:"fromField",TO:"toField",SUBJECT:"subjectField",KEYWORD:"keywordField",BEFORE:"beforeField",AFTER:"afterField",ATTACHMENT:"attachmentField",PHOTO:"photoField",CALENDAR_INVITE:"calendarInviteField"},wt={ALL_MAIL:"allMail"},Gt=Object(o.d)(["STAR_CHANGE_ALL_ITEMS","STAR_CHANGE_SELECTED_ITEMS","READ_CHANGE_FOLDER_ITEMS","READ_CHANGE_ALL_ITEMS","READ_CHANGE_SELECTED_ITEMS","DELETE_FOLDER_ITEMS","DELETE_ALL_ITEMS","DELETE_SELECTED_ITEMS","DELETE_ALL_FROM_SENDERS","MOVE_ALL_ITEMS","MOVE_SELECTED_ITEMS","ARCHIVE_FOLDER_ITEMS","ARCHIVE_ALL_ITEMS","ARCHIVE_SELECTED_ITEMS","RESTORE_ALL_ITEMS","RESTORE_SELECTED_ITEMS","SPAM_ALL_ITEMS","SPAM_SELECTED_ITEMS","NOT_SPAM_ALL_ITEMS","NOT_SPAM_SELECTED_ITEMS","UNDO_MOVE","DELETE_DRAFT"]),Ht=Object(o.d)(["INIT","PENDING","COMPLETED","FAILED","ABORTING","ABORTED","ABORT_FAILED"]),jt={PERSONALIZE_INBOX:"0",ACCOUNTS:"1",SECURITY:"8",NOTIFICATIONS:"2",WRITING_EMAIL:"3",VIEWING_EMAIL:"4",CATEGORIZATION:"5",AUTOMATIC_REPLY:"6",FILTERS:"7",SECURITY_AND_PRIVACY:"8",CONTACTS:"9",ENCRYPTION:"10",MAIL_PRO:"11"},kt={[j.UNREAD]:"unread",[j.STARRED]:"starred",[j.PHOTOS]:"photos",[j.DOCUMENTS]:"documents",[j.TRAVEL]:"travel",[j.COUPONS]:"coupons",[j.RECEIPTS]:"receipts",[j.PEOPLE]:"people",[j.GROCERIES]:"groceries",[j.ATTACHMENTS]:"attachments",[j.SUBSCRIPTIONS]:"subhub",[j.OLDMAIL]:"oldMail",[j.NEWMAIL]:"newMail",[j.SENDER_ROLLUP]:"senderRollup",[j.COUPON_EMAILS]:"couponEmails"},xt=d({},kt,{CONTACT_DETAILS:"contactDetails",COUPON_RECOMMENDATIONS:"couponRecommendations",RECOMMENDED_DEALS:"recommededDeals"}),Bt={TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight"},Vt=Object(o.d)(["MARK_READ","ARCHIVE","DELETE","RENAME_FOLDER","MOVE_FOLDER","DELETE_FOLDER","CREATE_FOLDER","SEPARATOR"]),Wt={CARDS:"CARDS",MESSAGES:"MAIN",IMAGES:"IMAGES",DOCUMENTS:"DOCUMENTS",PEOPLE:"PEOPLE",AL:"AL",PLA:"PLA"},Kt={MAC:"mac",WINDOWS:"windows",IOS:"ios",ANDROID:"android",OTHER:"other"},qt=Object(o.d)(["MESSAGE","OFFERS","CONTACTS"]),Yt={NO_REFRESH:0,EMERGENCY_REFRESH:1,PERIODIC_REFRESH:2},zt=Object(o.d)(["LAUNCH_API_ERROR","ABUSIVE_USER","WRONG_MAILBOX_STATE","LAUNCH_PAGE_NOT_FOUND_ERROR","NO_SCRIPT","UNSUPPORTED_BROWSER","UNSUPPORTED_FBMAILBOT","SERVER_ERROR","REACT_ERROR","DEFAULT","SWITCH_ACCOUNT","NO_ACTIVE_MAILBOX"]);let Qt,Zt;!function(e){e.YAHOO="yahoo",e.YAHOO_SB="yahoosb",e.GOOGLE="google",e.GOOGLE_APP="googleapp",e.OUTLOOK="outlook",e.AOL="aol",e.OTHER="other",e.OFFICE365="office365",e.VERIZON_MEDIA="verizonmedia"}(Qt||(Qt={})),function(e){e.Facebook="Facebook",e.LinkedIn="LinkedIn",e.Twitter="Twitter",e.LinkedInTest="LinkedInTest"}(Zt||(Zt={}));const Xt=Object(o.d)(["GDrive","Dropbox"]),$t={[Zt.LinkedIn]:"r_basicprofile r_member_lookup",[Qt.YAHOO]:null,[Qt.GOOGLE]:"https://www.googleapis.com/auth/contacts.readonly",[Qt.OUTLOOK]:"Contacts.Read offline_access",[Qt.AOL]:"sdct-r sdct-w"},Jt={[Zt.LinkedIn]:"f7e0ac2c-98e8-11df-8527-000ffef4f721",[Zt.LinkedInTest]:"f8f1ac2c-99e8-11df-8517-000gfef5f721",[Qt.YAHOO]:"aa174cde-374f-47b5-9365-382da87f1d99",[Qt.GOOGLE]:"e0b61efe-086e-11e2-8a42-002481ee7a3a",[Qt.OUTLOOK]:"07b12df4-b892-11e2-95d7-2c4138949916",[Qt.AOL]:"b770b078-3fcd-4a17-b26a-7b8c56c2a91b"},es={[Zt.LinkedIn]:Zt.LinkedIn},ts={CONNECTED:"CONNECTED",NOT_CONNECTED:"NOT_CONNECTED",EXPIRED:"EXPIRED",FAILED:"FAILED",QUEUED:"QUEUED"},ss=[Qt.YAHOO,Qt.GOOGLE,Qt.OUTLOOK,Qt.AOL],rs={CONV:"CONV",SENDER:"SENDER"},ns=100,as=1e3;let os;!function(e){e.STACKED="STACKED",e.COLLAPSED="COLLAPSED",e.EXPANDED="EXPANDED",e.TEMPORARY_EXPANSION="TEMPORARY_EXPANSION",e.TEMPORARY_COLLAPSE="TEMPORARY_COLLAPSE"}(os||(os={}));const is={AstraClient:"astra_client_call",AthenaClient:"athena_client_call",BootcampClient:"bootcamp_client_call",BreakingNewsClient:"breaking_news_client",CloudStorageClient:"cloud_storage_client_call",CredstoreClient:"credstore_client_call",DarlaAdClient:"darla_ad_client",SubDispatcherAPIClient:"subdispatcher_api_client_call",EmojiSearch:"emoji_search_call",GeminiAPIClient:"gemini_api_client_call",GifCategories:"gif_category_content_call",HeartbeatAPIClient:"heartbeat_api_client_call",LinkEnhancerClient:"lucy_api_call",LocationAutoSuggestClient:"location_autosuggest_api_client_call",MailAPIClient:"mail_api_client_call",MembershipRewardsClient:"membership_rewards_client",NeedToKnowNewsClient:"need_to_know_news_client",ObiApiClient:"obi_api_client",PriceGrabberClient:"price_grabber_client_call",RapidClient:"i13n_beacon",RelatedSearchesAPIClient:"related_searches_api_client",SenderRollupClient:"sender_rollup_client",MarketingPreferencesAPIClient:"marketing_preferences_api_client_call",FalconTOMSubscriptionsAPIClient:"falcon_tom_subscriptions_api_client_call",EpochCalendarClient:"epoch_calendar_client",SmartReplyClient:"smart_reply_client_call",SubscriptionAPIClient:"subscription_api_client_call",UDBClient:"udb_client_call",XobniClient:"xobni_client_call"},cs=[Qt.YAHOO,Qt.GOOGLE,Qt.GOOGLE_APP,Qt.OUTLOOK,Qt.AOL,Qt.OFFICE365],ls={[Qt.GOOGLE]:{domainCheck:["*"],domainHints:["gmail","google","googlemail"],serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"https://mail.google.com/ https://www.googleapis.com/auth/contacts https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email"},[Qt.VERIZON_MEDIA]:{serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"https://mail.google.com/ https://www.googleapis.com/auth/contacts https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email"},[Qt.YAHOO]:{domainCheck:["yahoo","ymail","rocketmail"],serverUri:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1},[Qt.OUTLOOK]:{domainCheck:["outlook","hotmail","live","msn"],serverUri:"imaps://outlook.com",oauthDomain:"outlook.com",profileCheck:!0,providerUrl:"https://www.outlook.com",scope:"wl.imap,wl.offline_access,wl.emails,wl.basic,wl.contacts_emails,wl.contacts_phone_numbers"},[Qt.AOL]:{domainCheck:["aol","aim"],serverUri:"imaps://aol.com",oauthDomain:"aol.com",profileCheck:!0,providerUrl:"https://www.aol.com",scope:"offline_access email profile addressbook opencalendar"},[Qt.GOOGLE_APP]:{serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"https://mail.google.com/ https://www.googleapis.com/auth/contacts https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email"},[Qt.OFFICE365]:{domainCheck:["*"],domainHints:[],type:ze.EXCHANGEIN,serverUri:"https://office365.com",oauthDomain:"office365.com",profileCheck:!0,providerUrl:"https://www.office.com"},[Qt.YAHOO_SB]:{serverUri:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1}},ds=Object(o.d)(["att.net","bellsouth.net","attworld.com","sky.com","frontiernet.net","frontier.com","myfrontiermail.com","citilink.net","newnorth.net","epix.net","gvni.com","frontiernet.com","ctaz.com","ctaz.net","citilink.com","evansinet.com","globalvalleynetworks.com","xtra.co.nz","mymts.in","ameritech.net","btinternet.com","btopenworld.com","demobroadband.com","ovi.com","flash.net","nl.rogers.com","nvbell.net","pacbell.net","prodigy.net","rogers.com","sbcglobal.net","snet.net","swbell.net","talk21.com","verizon.net","wans.net","ymail.com","rocketmail.com","yahoo-inc.com"]),Es=Object(o.d)(["ad","ae","af","ag","ai","al","am","an","ao","aq","ar","as","at","au","aw","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cc","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cs","cu","cv","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","eh","es","et","fi","fj","fk","fm","fo","fr","fx","ga","gb","gd","ge","gh","gi","gl","gp","gq","gf","gm","gn","gr","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","in","io","iq","ir","is","it","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","mg","mh","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nt","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pt","pr","pw","py","qa","re","ro","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sy","sz","tc","td","tf","tg","th","tj","tk","tm","tn","to","tp","tr","tt","tv","tw","tz","ua","ug","uk","um","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","ye","yu","za","zm","zr","zw"]),_s=Object(o.d)(["aero","asia","biz","com","edu","gov","info","jobs","mil","mobi","museum","name","net","org","co"]);let us;!function(e){e.BODY_SCROLLING="bodyScrolling",e.SYNC_DATA_ONLY_WHEN_NEEDED="syncDataOnlyWhenNeeded",e.SYNC_NOW="syncNow",e.YBAR_FUJI2_THEME="ybarFuji2Theme",e.ADD_EDIT_FROM_LIST_CARD="addContactsFromMsg",e.EXTRACTIONS_FEEDBACK="extractionsFeedback",e.FORCE_OPTIN_BEACON="forceOptinBeacon",e.NPS_SURVEY="npsSurvey",e.NPS_SURVEY_CUE="npsSurveyCue",e.PRIVACY_RIGHTS_ICON="privacyRightsIcon",e.ADS="ads",e.NO_ADS="noAds",e.DARLA_PREFETCH="darlaPrefetch",e.DARLA_LOOKAHEAD="darlaLookAhead",e.DARLA_POST_RENDER="darlaPostRender",e.DARLA_PREFETCH_LAUNCH_SYNCER="darlaPrefetchLaunchSyncer",e.DARLA_GEMINI_ARBITRATION="darlaGeminiArbitration",e.DARLA_CSC_CLEANUP="darlaCscCleanup",e.AMP="amp",e.SHOW_ENHANCE_CONTACTS_PREFERENCE="showEnhanceContactsPreference",e.GEMINI_SPONSORED_VIDEO="geminiSponsoredVideo",e.COM_SCORE_BEACONING="comScoreBeaconing",e.EMPTY_FOLDER_VIDEO="emptyFolderVideo",e.MESSAGE_READ_AD_ROTATION="messageReadAdRotation",e.MESSAGE_UNREAD_INDICATOR="messageUnreadIndicator",e.GEMINI_VIEWABILITY="geminiViewability",e.GEMINI_VIEWABILITY_IO="geminiViewabilityIO",e.PREVIEW_PANE_IN_PIXELS="previewpaneInPixels",e.PREVIEW_PANE_COOKIE="previewpaneCookie",e.MAIL_PRO_ELIGIBLE="mailProEligible",e.WIDE_RIGHT_RAIL="wideRightRail",e.HIDE_RIGHT_RAIL="hideRightRail",e.PREMIUM_AD_DETECTION="premiumAdDetection",e.GEMINI_CONTEXTUAL_ADS="geminiContextualAds",e.AUTOPLAY_EMPTY_FOLDER_VIDEO="autoPlayEmptyFolderVideo",e.ROTATE_ADS_ONLINE="rotateAdsOnline",e.BOOKING_CARD="bookingCard",e.WIDER_MAIL_ELIGIBLE="widerMailEligible",e.WIDER_MAIL_PROMO="widerMailPromo",e.MAIL_PRO="mailPro",e.MAIL_PRO_LINK_IN_SETTINGS_MENU="mailProLinkInSettingsMenu",e.ABORT_DARLA_IN_PROGRESS="abortDarlaInProgress",e.LREC_MON_AD_ARBITRATION="lrecMonAdArbitration",e.ADBLOCK_UPSELL="adBlockUpsell",e.REDIRECT_ADBLOCK_USER_TO_NODIN="redirectAdBlockToNodin",e.ADBLOCK_DELAY_DISMISS="adblockDelayDismiss",e.SHOPPING_CART_AD="shoppingCartAd",e.APAC_SHOPPING_CART_AD="APACShoppingCartAd",e.AUTO_FORWARD_EMAIL="autoForwardEmail",e.SPONSORED_MESSAGE_TRIAGE="sponsoredMessageTriage",e.UNIFY_NATIVE_AD_FORMAT="unifyNativeAdFormat",e.EDGE_TO_EDGE_GRAPHICAL_AD="edgeToEdgeGraphicalAd",e.CROSS_DOMAIN_DPA_ADS="crossDomainDpaAds",e.NO_FORCE_DISPLAY_AD_ROTATION_ON_ROUTE_CHANGE="noForceDisplayAdRotationOnRouteChange",e.WEB_FONTS="webFonts",e.OFFLINE_CHECKING="offlineChecking",e.OFFLINE_TOASTS="offlineToasts",e.RIGHT_RAIL_AD_FREE_UPSELL="rightRailAdFreeUpsell",e.PENCIL_AD="pencilAd",e.PENCIL_AD_URL_VALIDATION="pencilAdUrlValidation",e.SECOND_PENCIL_AD="secondPencilAd",e.SECOND_PENCIL_FALLBACK_SECTION_ID_ENABLED="secondPencilFallbackSectionIdEnabled",e.RELATED_SEARCHES_CARD="relatedSearchesCard",e.HOTELS_CARD_PREFILL="hotelsCardPrefill",e.NOBLE_WEB_LINK="nobleWebLink",e.AFFILIATE_PARTNER="affiliatePartner",e.NODIN_MESSAGE_HEADER="nodinMessageHeader",e.CONTACT_CARD_TRACKING="contactCardTracking",e.MESSAGE_LIST_AD_CAROUSEL="messageListAdCarousel",e.NOBLE_HYBRID_AD="nobleHybridAd",e.PORTRAIT_AD="portraitAd",e.FLASH_SALE_AD="flashSaleAd",e.FLASH_SALE_AD_IN_SECONDS="flashSaleAdInSeconds",e.PLA_SEARCH_ADS="plaSearchAds",e.MESSAGE_READ_AD_ROTATION_V2="messageReadAdRotationV2",e.ROTATE_PENCIL_AD_ON_EXPIRE="rotatePencilAdOnExpire",e.AOL_VIDEO_PLAYER="aolVideoPlayer",e.OATH_VIDEO_PLAYER="oathVideoPlayer",e.RIGHT_RAIL_NATIVE_AD="rightRailNativeAd",e.SUBSCRIPTION_ADS="subscriptionAds",e.DEBUG_DARLA="debugDarla",e.SPONSORED_MOMENT="sponsoredMoment",e.VIDEO_SPONSORED_MOMENT="videoSponsoredMoment",e.ABP_STATIC_ADS="ABPStaticAds",e.RR_AD_BLOCK_DPA_ADS="rrAbpDpaAds",e.ROTATE_ADS_ON_CHECK_MAIL="rotateAdsOnCheckMail",e.AD_VIEWABILITY_TRACKER="adViewabilityTracker",e.AD_FORMAT_SELECTION="adFormatSelection",e.COMMERCIAL_ANALYSIS_OF_CONTENT="commercialAnalysisOfContent",e.RIGHT_RAIL_UPSELL_VIDEO_AD="rightRailUpsellVideoAd",e.ENABLE_SEARCH_RELEVANCE_CUE="enableSearchRelevanceCue",e.MSG_READ_PENCIL_AD_SEND_DOMAIN="msgReadPencilAdSendDomain",e.DEALS_SHOPPING_CART_AD="dealsShoppingCartAd",e.NO_IDLE_CHECK_MAIL_AD_ROTATIONS="noIdleCheckMailAdRotations",e.SAME_SEARCH_AD_ON_SECOND_PENCIL="sameSearchAdOnSecondPencil",e.SECOND_SEARCH_AD="secondSearchAd",e.AD_PARTIALLY_ABOVE_FOLD="adPartiallyAboveFold",e.DEAL_EXTENSION="dealExtension",e.TALL_PENCIL_AD="tallPencilAd",e.INSTRUMENT_SECOND_SEARCH_AD="instrumentSecondSearchAd",e.FIRE_VIEWABILITY_BEACONS_ON_CLICK="fireViewabilityBeaconsOnClick",e.MARK_AS_READ_DEFER="markAsReadDefer",e.NO_HIDDEN_CHECK_MAIL_AD_ROTATIONS="noHiddenCheckMailAdRotations",e.LOG_CHECK_MAIL_DISPATCH="logCheckMailDispatch",e.MEMBERSHIP_REWARDS="membershipRewards",e.TMR_ONBOARDING_CUE="tmrOnboardingCue",e.TMR_ICON_NOTIFICATION="tmrIconNotification",e.TMR_MOBILE_ONBOARDING_CUE="tmrMobileOnboardingCue",e.TMR_MOBILE_DAILY_CHECKIN_CUE="tmrMobileDailyCheckinCue",e.TMR_MOBILE_IMAPIN_CUE="tmrMobileImapInCue",e.ADD_MAILBOX_OPTION="addMailboxOption",e.ADD_MAILBOX_POPOVER="addMailboxPopover",e.TMR_ONBOARDING_REMINDER="tmrOnboardingReminder",e.MAILPRO_FREE_TRIAL="mailproFreeTrial",e.MAILPRO_FREE_TRIAL_UPSELLS="mailproFreeTrialUpsells",e.TOOLTIP_EMOJI="tooltipEmoji",e.NUKE_DISPLAY_ADS_ON_INACTIVE="nukeDisplayAdsOnInactive",e.NO_AD_ROTATION_ON_COMPOSE="noAdRotationOnCompose",e.CEP_FORWARD="cepForward",e.PREVIEW_MESSAGE_V3="previewMessageV3",e.MESSAGE_READ_CONTACT_CARD="messageReadContactCard",e.RSVP="rsvp",e.RSVP_RESPONSE="rsvpResponse",e.NUDGE_TO_REPLY="nudgeToReply",e.REPLY_NUDGE_COUNT="replyNudgeCount",e.PARSE_RSVP_REPLY_LINKS="parseRsvpReplyLinks",e.PHOTO_THEMES="photoThemes",e.TOOLBAR_V3="toolbarV3",e.RIGHT_RAIL_CONTACT_CARD="rightRailContactCard",e.RIGHT_RAIL_PHOTO_CARD="rightRailPhotosCard",e.RIGHT_RAIL_DOCS_CARD="rightRailDocsCard",e.RIGHT_RAIL_MESSAGES_CARD="rightRailMessagesCard",e.SUBHUB_RECOMMENDATIONS="subhubRecommendations",e.SUBHUB_RECOMMENDATION_CUE="subhubRecommendCue",e.NODIN_CHECK_MAIL="nodinCheckMail",e.NODIN_CHECK_MAIL_TOAST="nodinCheckMailToast",e.NODIN_ES5_SHIM="nodinES5Shim",e.NODIN_MESSAGE_READ_DOMAIN="nodinMessageReadDomain",e.NODIN_MESSAGE_READ_AD_ROTATION="nodinMessageReadAdRotation",e.NODIN_FILTERS="nodinFilters",e.LOG_CLIENT_ERROR="logClientError",e.SECURITY_SUBSCRIPTIONS_UPSELL="securitySubscriptionsUpsell",e.DO_NOT_SELL_LINK="doNotSellLink",e.SCOUT_PREDICATE="scoutPredicate",e.SCOUT_RECURRING="scoutRecurring",e.CONTACTS_PANE_FEATURE="contactsPaneFeature",e.CONTACT_SUMMARY="contactSummary",e.CONTACTS_PANE_CUE="contactsPaneCue",e.CONTACTS_SORT="contactsSort",e.DISABLE_DL="disableDL",e.XOBNI_PREFETCH="xobniPrefetch",e.CALENDAR_RIGHT_RAIL_PANE="calendarRightRailPane",e.CALENDAR_RIGHT_RAIL_PANE_CUE="calendarRightRailPaneCue",e.SUBSCRIPTION_LIST="subscriptionList",e.SOCIAL_ACCOUNTS="socialAccounts",e.USE_LINKEDIN_TEST_SPID="useLinkedinTestSpid",e.NOTEPAD_TAB="notepadTab",e.CONVERSATIONS="conversations",e.SHOW_COMMS_PROPERTIES="showCommsProperties",e.ADD_SEND_ONLY_ACCOUNTS="addSendOnlyAccounts",e.REPLY_TO_ADDRESS="replyToAddress",e.DISPOSABLE_ADDRESS="disposableAddress",e.SHOW_FORWARD_SETTINGS="showForwardSettings",e.EMOJI_SEARCH="emojiSearch",e.TUTORIAL="tutorial",e.MOVE_FOLDER="moveFolder",e.SHOW_TWEET="showTweet",e.TIMEZONE_CHECK="timezoneCheck",e.SILENT_TIMEZONE_CORRECTION="silentTimeZoneCorrection",e.RTL="rtl",e.IS_RETURNING_USER="isReturningUser",e.HAS_MAPPED_THEME="hasMappedTheme",e.FETCH_FULL_BODY="fetchFullBody",e.THEMES_CUE_V3="themesCueV3",e.NEW_USER_TASKS_CUE="newUserTasksCue",e.PHOTOS_CUE="photosCue",e.STARRED_CUE="starredCue",e.SETTINGS_CUE="settingsCue",e.PARTNER_RECONSENT_BANNER="partnerReconsentBanner",e.SEARCH_CUE="searchCue",e.SEARCH_RELEVANCE_CUE="searchRelevanceCue",e.ALL_TABS_PLUS_CUE="allTabsPlusCue",e.PEOPLE_SMARTVIEW_CUE="peopleSmartViewCue",e.STATIONERY_CUE="stationeryCue",e.UPDATE_WIDER_MAIL_CUE="updateWiderMailCue",e.ADBLOCK_UPSELL_CUE="adBlockUpsellCue",e.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE="redirectAdbToNodinCue",e.ADBLOCK_DELAY_DISMISS_CUE="adblockDelayDismissCue",e.RIGHT_RAIL_AD_FREE_UPSELL_CUE="rightRailAdFreeUpsellCue",e.EMOJI_CUE="emojiCue",e.SHOW_SPONSORED_LOGO="showSponsoredLogo",e.GROCERIES_CUE="groceriesCue",e.GROCERIES_PRODUCT_CUE="groceriesProductCue",e.COUPONS_VIEW_CUE="couponsViewCue",e.IS_WIDER_MAIL_EXTN_ENABLED="isWiderMailExtnEnabled",e.CATEGORY_FOLLOWING_CUE="categoryFollowingCue",e.PKG_TRACKING_CUE="pkgTrackingCue",e.DEALS_VIEW_CUE="dealsViewCue",e.SUBSCRIPTIONS_VIEW_CUE="subscriptionsViewCue",e.WELCOME_USER_CUE="welcomeUserCue",e.LASTPASS_UPSELL="lastpassUpsell",e.LASTPASS_FREETRIAL_UPSELL="lastPassFreeTrialUpsell",e.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE="lastpassFreeTrialUpsellEligible",e.SUBSCRIPTION_UPSELLS="subscriptionUpsells",e.SUBSCRIPTION_UPSELLS_ELIGIBLE="subscriptionUpsellsEligible",e.DISPATCHER_UPSELLS_ELIGIBLE="dispatcherUpsellsEligible",e.DISPATCHER_UPSELLS="dispatcherUpsells",e.YMOBILE_PROMO_UPSELLS="ymobilePromoUpsells",e.YMOBILE_PROMOS="ymobilePromos",e.FALCON_TOM_SUBSCRIPTIONS_UPSELLS="falconTOMSubscriptionsUpsells",e.FALCON_TOM_ARBITRATION_ENABLED="falconTOMArbitrationEnabled",e.BREAKING_NEWS="breakingNews",e.BREAKING_NEWS_ENABLED="breakingNewsEnabled",e.BREAKING_NEWS_TEST_PARAM="breakingNewsTestParam",e.NEED_TO_KNOW_NEWS_CUE="needToKnowNewsCue",e.NTK_CLOSE_ON_EXTERNAL_CLICK="ntkCloseOnExternalClick",e.HIDE_NTK_FOR_SMALLER_SCREEN="hideNTKforSmallerScreen",e.SHOW_NTK_ON_VISIBILITY_CHANGE="showNTKOnVisibilityChange",e.HIDE_NTK_FOR_HOMEPAGE_USERS="hideNTKforHomePageUsers",e.SHOW_FUJI2_NTK="showFuji2NTK",e.SHOW_YBAR_FUJI2_DIALPAD="showYbarFuji2Dialpad",e.HIDE_YBAR_DOWNLOAD_APP_LINK="hideYbarDownloadAppLink",e.MULTI_ACCOUNT_SIGN_OUT="multiAccountSignOut",e.UNUSUAL_DISCOUNT="unusualDiscount",e.UNUSUAL_DISCOUNT_EXISTS="UnusualDiscount",e.CATEGORY_FOLLOW="CategoryFollow",e.BROWSER_NOTIFICATIONS="browserNotifications",e.DESIGN_CLASSIFIER="designClassifier",e.DRAWER="drawer",e.CORONAVIRUS_ICON="coronavirusIcon",e.MOBILE_MESSAGE_SNIPPETS="mobileMessageSnippets",e.MOBILE_ONBOARDING_CUE="mobileOnboardingCue",e.MOBILE_SEARCH_SUGGESTIONS="mobileSearchSuggestions",e.MOBILE_SIGNATURE="mobileSignature",e.MOBILE_THEMING="mobileTheming",e.MOBILE_EDIT_RECIPIENTS="mobileEditRecipients",e.PUSH_NOTIFICATIONS_CUE_PTR="pshNotifctnsCueOnPTR",e.PUSH_NOTIFICATIONS_CUE_LAUNCH="pshNotifctnsCueOnLnch",e.PUSH_NOTIFICATIONS_CUE_COMPOSE="pshNotifctnsCueOnCmps",e.MOBILE_PAC_NOTIFICATION_CUE="mobilePacNotificationCue",e.LOADING_FALLBACK="loadingFallback",e.MOBILE_MESSAGE_READ_NAVIGATION="mobileMessageReadNavigation",e.HOMEPAGE_BUTTON="homepageButton",e.COMPOSE_FROM_CUSTOM_FOLDER="nobleBasicComposeFromCustomFolder",e.SIGN_OUT="signOut",e.LANDSHARK_CUE="landsharkCue",e.NON_NATIVE_APP_BANNERS="nonNativeAppBanners",e.APP_INSTALL_CUE_V1="appInstallCueV1",e.APP_INSTALL_CUE_V2="appInstallCueV2",e.BLOCK_SENDER_CUE="blockSenderCue",e.CORONAVIRUS_CUE="coronavirusCue",e.CONVERSATIONS_CUE="conversationsCue",e.COUPON_LANDSHARK_CUE="couponLandsharkCue",e.NOBLE_SUPPORTED_BROWSER_VERSION="nobleSupportedBrowserVersion",e.NOBLE_SUPPORTED_OS_VERSION="nobleSupportedOSVersion",e.NOBLE_SUPPORTED_PARTNER="nobleSupportedPartner",e.MAX_PREVIEW_LENGTH="maxPreviewLength",e.SMART_APP_BANNERS="smartAppBanners",e.DEALS="deals",e.RECOMMENDED_DEALS="recommendedDeals",e.DEALS_VIEW_FOR_INTLS="dealsViewForIntls",e.SHOW_RECOMMENDATIONS_MODAL="showRecommendationsModal",e.PRODUCT_RECOMMENDATIONS="productRecommendations",e.SENDER_DEALS_BACKFILL="senderDealsBackfill",e.SHOW_MERCHANT_CARD="showMerchantCard",e.FETCH_AFFILIATE_RETAILERS="fetchAffiliateRetailers",e.SHOW_USER_FOLLOWED_CATEGORIES="showUserFollowedCategories",e.DEALS_WITH_PRODUCTS="dealsWithProducts",e.FLIGHT_CARD_EXTRACTIONS="flightCardExtractions",e.TRAVEL_VIEW="travelView",e.RECEIPTS="receipts",e.GROCERIES="groceries",e.GROCERY_WITH_PRODUCTS="groceryWithProducts",e.YM6_QRCODE_UPSELL="ym6QRcodeUpsell",e.ENABLE_GROCERIES_TOP_OF_MSG="enableGroceriesTopOfMsg",e.ENABLE_STATIC_GROCERIES_TOP_OF_MSG="enableStaticGroceriesTopOfMsg",e.EMOJI="emoji",e.PRELOAD_EMOJI="preloadEmoji",e.GIF="gif",e.STATIONERY="stationery",e.EXCEPTION_NOTIFICATION="exceptionNotification",e.MKTG_BEACON="marketingBeaconing",e.NEWUSER_MKTG_BEACON="newUserMarketingBeaconing",e.VACATION_RESPONSE_STATIONERY="vacationResponseStationery",e.PERSIST_COMPOSE_TEXT_MODE="persistComposeTextMode",e.BLOCK_SENDERS="blockSenders",e.FILTER_MESSAGES_LIKE_THIS="filterMessagesLikeThis",e.UNSUBSCRIBE_FROM_MESSAGE="unsubscribeFromMessage",e.UNSUBSCRIBE_NEW_BADGE="unsubNewBadge",e.COLLAPSED_TRIAGING="collapsedTriaging",e.UNSUBSCRIBE_BADGES="unsubscribeBadges",e.DISABLE_UNSUBSCRIBE_FEATURE="disableUnsubscribeFeature",e.SMARTVIEW_CATEGORIES_ENABLED="smartViewCategoriesEnabled",e.SMARTVIEW_CATEGORIES_ALL="allSmartViews",e.SMARTVIEW_CATEGORIES_PEOPLE="peopleSmartView",e.SMARTVIEW_CATEGORIES_PEOPLE_V2="peopleSmartViewV2",e.SMARTVIEW_CATEGORIES_SHOPPING="shoppingSmartView",e.SMARTVIEW_ATTACHMNENTS="attachmentsSmartView",e.SHOW_TABS="showTabs",e.PUSH_NOTIFICATIONS="pushNotifications",e.SHOULD_SW_SUBSCRIBE="shouldServiceWorkerSubscribe",e.SHOW_ABOUT_OUR_ADS_LINK="showAboutOurAdsLink",e.SHOW_ABOUT_YAHOO_MAIL_LINK="showAboutYahooMailLink",e.SHOW_GIVE_FEEDBACK_LINK="showGiveFeedbackLink",e.SHOW_FEEDBACK_PANEL="showFeedbackPanel",e.SHOW_OPT_OUT_LINK_MORE_SETTINGS="optOutLinkInMoreSettings",e.SHOW_FORWARDING_NOTIFICATION="showForwardingNotification",e.SHOW_RECENT_SUGGESTIONS="showRecentSuggestions",e.SHOW_EMAIL_SEARCH_SUGGESTIONS="showEmailSearchSuggestions",e.SHOW_EMPTY_SEARCH_SUGGESTIONS="showEmptySearchSuggestions",e.MESSAGE_LIST_CONTEXT_MENU="messageListContextMenu",e.FILTER_COMMERCIAL_IMAGES="filterCommercialImages",e.IFRAME_PRINT="iframePrint",e.EXTERNAL_CSS="externalCss",e.DISPOSABLE_ADDRESS_DELETE_ONLY="disposableAddressDeleteOnly",e.SHOW_RIGHT_RAIL_HELP_LINKS="showRightRailHelpLinks",e.INLINE_IMAGES_PROXIED="inlineImagesProxied",e.WEB_PAC_NOTIFICATION_CUE="pacNotificationCue",e.CLICK_URL_LOGGING="clickUrlLogging",e.MESSAGE_OP_PERF="messageOpPerf",e.SWITCH_TO_NORRIN="switchToNorrin",e.SWITCH_TO_NORRIN_ON_WIN10="switchToNorrinOnWin10",e.BIZMAIL_USER="bizmailUser",e.DOCUMENT_PREVIEW_LIGHT="documentPreviewLight",e.NODIN_JS_ENHANCE="nodinJSEnhance",e.NODIN_BULK_OPERATION="nodinBulkOperation",e.NODIN_BULK_MENU="nodinBulkMenu",e.NODIN_IMAPIN="nodinImapIn",e.SELECT_ALL="selectAll",e.OFFICE365="office365",e.OFFICE365_CUE="office365Cue",e.SHOW_NODIN_ONBOARDING_MESSAGE="showNodinOnboardingMessage",e.NORRIN_OPTOUT="norrinOptOut",e.XOBNI_AUTO_SUGGEST="xobniAutoSuggest",e.CLASSIC_AUTO_SUGGEST="classicAutoSuggest",e.RESHOW_ONBOARDING_CUE="reshowOnboardingCue",e.SENDER_ROLLUP="senderRollup",e.SENDER_ROLLUP_FLUSH_CACHE="senderRollupFlushCache",e.SMART_REPLY="smartReply",e.CLOUD_STORAGE="cloudStorage",e.WALMART_CUE="walmartCue",e.GROCERIES_SEARCH_CUE="groceriesSearchCue",e.GROCERIES_LOCATIONS_CUE="groceriesLocationsCue",e.PKG_TRACKING_TOP_OF_MSG="pkgTrackingTopOfMsg",e.USE_INVERTED_INDEX="useInvertedIndex",e.SHOW_HUMAN_READABLE_CONSENT_SETTING="showHumanReadableConsentSetting",e.OPEN_FIRST_MESSAGE="openFirstMessage",e.ASTRA_YCPI_HOST="astraYcpiHost",e.AD_FEEDBACK_V2="adFeedbackV2",e.OLD_NEW_MAIL="oldNewMail",e.IS_REINDEXABLE="isReindexable",e.ENABLE_SETTINGS_MIGRATION="enableAolSettingsMigration",e.AOL_ONBOARDING_CUE_ML="aolOnboardingCueOnMsgLst",e.AOL_ONBOARDING_CUE_MR="aolOnboardingCueOnMsgRd",e.AOL_ONBOARDING_CUE_SM="aolOnboardingCueOnSlcMsg",e.AOL_ONBOARDING_CUE_CP="aolOnboardingCueOnCmps",e.LOCKER_PROFILE="lockerProfile",e.LOCKER_FEATURE_CUE="lockerFeatureCue",e.FIX_IMG_SRC="fixImgSrcURL",e.EXTERNAL_INLINE_IMAGE_PREVIEW="externalInlineImagePreview"}(us||(us={}));const ps={AMP_EMAIL:"ampEmail",APP_ROOT_PATH:"appRootPath",NPS_SURVEY_CONFIG:"npsSurveyConfig",THEME:"theme",THEME_MODE:"themeMode",TEXTUAL_SUGGESTIONS:"textualSuggestions",CLIENT_WIDTH:"clientWidth",ORIENTATION:"orientation",PREVIEW_PANE:"previewpane",SUBHUB_RECO_FILTER:"subhubRecommendationsFilter",SUBHUB_RECO_COUNT:"subhubRecommendationsCount",MSG_LIST_DENSITY:"messageListDensity",LIST_ITEM_HEIGHT:"listItemHeight",SNIPPETS:"snippets",COMPOSE_FONT_FAMILY:"composeFontFamily",COMPOSE_FONT_SIZE:"composeFontSize",COMPOSE_SAVE_INTERVAL:"composeSaveInterval",DESKTOP_NOTIFICATION:"desktopNotification",MOBILE_NOTIFICATION:"mobileNotification",LANDSHARK_ON_COUPON_MESSAGE_STRINGS:"landsharkOnCouponMessageStrings",MARK_AS_READ_INTERVAL:"markAsReadInterval",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",SHOW_IMAGES:"showImages",LINK_ENHANCR:"linkEnhancer",VACATION_PREFERENCES:"vacationPreferences",MESSAGE_FILTERS:"messageFilters",MAIL_TABS:"multiTask",CONVERSATIONS:"conversations",ACTION_AFTER_MSG_MOVE:"actionAfterMsgMove",SHOW_CUSTOM_FOLDERS:"showCustomFolders",SHOW_SMART_VIEWS:"showSmartViews",EXPANDED_FOLDERS:"expandedFolders",STATIONERY_DEFAULT_THEME:"stationeryDefaultTheme",TOGGLE_CONV_RELOAD_DELAY:"toggleConversationReloadDelayMS",SHOW_ALL_SYSTEM_FOLDERS:"showAllSystemFolders",RECENTLY_USED_EMOJIS:"recentlyUsedEmojis",SYSTEM_TABS:"systemTabs",SENDING_EMAIL_CONFIRM_STATUS:"sendingConfirmEmail",DEA_BASE_NAME:"disposableAddressesPrefix",MAILBOX_SIZE:"mailboxSize",PLA_SEARCH_SOURCE_TAG:"plaSearchSourceTag",SEARCH_SOURCE_TAG:"searchSourceTag",SEARCH_FETCH_COUNT:"searchFetchCount",SEARCH_FIRST_PAGE_COUNT:"searchFirstPageCount",SPACE_IDS:"spaceids",AD_BLOCK_FEATURE_CUE_ID:"adBlockFeatureCueId",WEB_SEARCH_URL:"webSearchURL",USE_RICH_TEXT:"useRichText",CORP_MAIL_GMAIL_SETTINGS:"corpMailGmailSettings",ACTIONABLE_RIGHT_RAIL_CONTENT:"actionableRightRailContent",THROTTLE_API_LIST:"throttleAPIList",SCOUT_ONBOARDING:"scoutOnboarding",NODIN_ONBOARD:"nodinOnboard",EMPTY_FOLDER_VIDEO_CHANNELS:"emptyFolderVideoChannels",HIDE_AD:"hideAd",TIME_TO_WAIT_SINCE_LAST_AD_CALL:"timeToWaitSinceLastAdCall",GEMINI_AD_COUNT:"geminiAdCount",GEMINI_SECTION_IDS:"geminiSectionIds",GEMINI_SECTION_IDS_TO_CACHE:"sectionIdsToCache",GEMINI_CREATIVE_ID:"geminiCreativeId",GEMINI_FORCE_FILTER:"geminiForceFilter",CMP_JS_URL:"cmpJSUrl",COM_SCORE_JS_URL:"comScoreJSUrl",AD_FREE_MAIL_URL:"adFreeMailUrl",ABOUT_AD_URL:"aboutAdsUrl",PRIVACY_URL:"privacyUrl",TERMS_URL:"termsUrl",HELP_URL:"helpUrl",ITEM_LIST_PAGE_THRESHOLD:"itemListPageThreshold",MESSAGE_READ_AD_ROTATION_INTERVAL:"messageReadAdRotationInterval",MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL:"messageReadAdRotationIdleInterval",WIDER_MAIL_EXTENSION_URL:"widerMailExtensionUrl",MAIL_PRO_MONTHLY_PRICE:"mailProMonthlyPrice",MAIL_PRO_YEARLY_PRICE:"mailProYearlyPrice",NOTIFICATION_MODE:"notificationMode",GEMINI_VIDEO_AD_ID:"geminiVideoAdId",GEMINI_VIDEO_AD_SITE:"geminiVideoAdSite",GEMINI_VIDEO_AD_EXP_NAME:"geminiVideoAdExpName",GEMINI_VIDEO_AD_EXP_TYPE:"geminiVideoAdExpType",CHROME_EXTENSION_ALLOWLIST:"chromeExtensionAllowlist",CHROME_LONGTERM_EXTENSION_LIST:"chromeLongtermExtensionList",RELATED_SEARCHES_CARD_STYLE:"relatedSearchesCardStyle",VIDEO_PLAYER_URL:"videoPlayerUrl",VIDEO_PLAYER_SAPI_COBRAND:"videoPlayerSapiCobrand",AOL_VIDEO_PLAYER_URL:"aolVideoPlayerUrl",AOL_VIDEO_PLAYER_IFRAME_SRC:"aolVideoPlayerIframeSrc",OATH_VIDEO_PLAYER_URL:"oathVideoPlayerUrl",SECOND_PENCIL_AD_DEPTH:"secondPencilAdDepth",PENCIL_AD_EXPIRE_TIME:"pencilAdExpireTime",PLA_SEARCH_ADS_BUCKET_ID:"plaSearchAdsBucketId",PLA_SEARCH_ADS_JS_URL:"plaSearchAdsJsUrl",PARTNER_ATTRIBUTION_URL:"partnerAttributionUrl",PREFERRED_AD_FORMAT:"preferredAdFormat",RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION:"rightRailUpsellVideoAdDuration",ADBLOCK_UPSELL_CUE_INTERVAL:"adBlockUpsellCueInterval",NEED_TO_KNOW_NEWS_CUE_INTERVAL:"needToKnowNewsCueInterval",CHECK_MAIL_AD_ROTATION_IDLE_INTERVAL:"checkMailAdRotationIdleInterval",DEALS_SHOPPING_CART_AD_VERSION:"dealsShoppingCartAdVersion",MESSAGE_LIST_AD_CAROUSEL_VERSION:"messageListAdCarouselVersion",LASTPASS_UPSELL_SETTINGS:"lastpassUpsellSettings",LASTPASS_FREETRIAL_UPSELL_SETTINGS:"lastpassFreeTrialUpsellSettings",SELECTED_SUBSCRIPTION_UPSELL:"selectedSubscriptionUpsell",SELECTED_SUBSCRIPTION_VERSION:"selectedSubscriptionVersion",SUBSCRIPTION_UPSELL_PRODUCT_CODE:"subscriptionUpsellProductCode",YMOBILE_UPSELL_VERSION:"ymobileUpsellVersion",LASTPASS_TOM_VERSION:"lastpassTOMVersion",DARLA_HOSTNAME:"darlaHostname",BREAKING_NEWS_REFRESH_INTERVAL:"breakingNewsRefreshInterval",BREAKING_NEWS_SETTINGS:"breakingNewsSettings",PACKAGE_TRACKING_SETTINGS:"packageTrackingSettings",ADVERTISE_WITH_US_LINK:"advertiseWithUsLink",MAILPRO_UPSELL_INSTRUMENTATION_URL:"mailProUpsellInstrumentationURL",TMR_ATOS_TEST_PARAM:"tmrAtosTestParam",MEMBERSHIP_REWARDS_SETTINGS:"membershipRewardsSettings",PURCHASE_OFFER_TEST_PARAM:"purchaseOfferTestParam",LIST_SUBSCRIPTION_TEST_PARAM:"listSubscriptionTestParam",DAYS_IN_TRIAL_TEST_PARAM:"daysInTrialTestParam",MOCKED_RECURRING_INTERVAL:"mockedRecurringInterval",OBI_AUTH:"obiAuth",OBI_HOSTNAME:"obiHostname",FTWCC_ELIGIBLE_UPSELLS:"ftwccEligibleUpsells",NUM_MESSAGE_GROUPS_TO_PREFETCH:"numMessageGroupsToPrefetch",NEIGHBOR_PREFETCH_COUNT:"neighborPrefetchCount",FALCON_TOM_SUBSCRIPTIONS_PREFETCH_COUNT:"falconTOMSubscriptionsPrefetchCount",INBOX_STYLE:"inboxStyle",MIGRATION_STATUS:"migrationStatus",LOCKER_ENV:"lockerEnv",SYNC_TIME:"syncTime",ASYNC_TASK_POLL_INTERVAL:"asyncTaskPollInterval",ASYNC_TASK_POLL_COUNT:"asyncTaskPollCount",CHECK_MAIL_INTERVAL:"checkMailInterval",MAIL_URL:"mailURL",CALENDAR_URL:"calendarURL",NOTEPAD_URL:"notePadURL",FEEDBACK_URL:"feedbackURL",BUFFER_SIZE:"bufferSize",PREVIEWABLE_INLINE_ATTACHMENT_SIZE:"previewableInlineAttachmentSize",MESSAGE_INITIAL_RENDER_COUNT:"messageInitialRenderCount",STATIONERY_RESTRICTED_THEMES:"stationeryRestrictedThemes",MESSAGE_FETCH_COUNT:"messageFetchCount",MESSAGE_FETCH_COUNT_INITIAL:"messageFetchCountInitial",COUPON_CARDS_FETCH_COUNT:"couponCardsFetchCount",COUPON_RECOMMENDATIONS_FETCH_COUNT:"couponRecommendationsFetchCount",CARD_GROUPS_FETCH_COUNT:"cardGroupsFetchCount",LINK_ENHANCER_URL_BLOCK_LIST:"linkEnhancerUrlBlocklist",NOTIFICATION_TTL:"notificationTTL",COMPOSE_THROTTLE_COUNT:"composeThrottleCount",NOTIFICATION:"notification",STAR_ANIMATION:"starAnimation",GUIDED_STAR_ANIMATION:"guidedStarAnimation",HAS_GUIDED_STAR_ANIMATION:"hasGuidedStarAnimation",HAS_DEALS_STAR_ANIMATION:"hasDealsStarAnimated",SERVICE_WORKER_URL:"serviceWorkerUrl",PARTNER_BRAND:"partnerBrand",HAS_WIDE_LOGO:"hasWideLogo",LINKEDIN_EXPIRY_NOTIFY_DAYS:"linkedInExpiryNotifyDays",QUOTIENT_DEBUG_FLAG:"quotientDebugFlag",ASTRA_NONPROD_FLAG:"astraNonProdFlag",IS_USER_FOLLOWING_CATEGORIES:"isUserFollowingCategories",PUSH_NOTIFICATIONS_EXPERIMENT:"pushNotificationsExperiment",CORONAVIRUS_URL:"coronavirusUrl",IMAPIN:"imapin",INTERSTITIAL_FREQUENCY:"interstitialFrequency",APP_INSTALL_LINK:"appInstallLink",DO_NOT_UPSELL_APP:"doNotUpsellApp",ACCOUNT_INFO_URL:"accountInfoURL",DELETE_DEBOUNCE_TIME:"deleteDebounceTime",LOGO_URL:"logoUrl",LOGO_SRCSET:"logoSrcSet",BASIC_MAIL_THEME:"basicMailTheme",HOMEPAGE_URL:"homepageURL",SIGN_OUT_URL:"signOutURL",AUTO_OPEN_FIRST_MESSAGE:"autoOpenFirstMessage",LOGIN_NAME:"loginName",V3_LIST_MESSAGE_BUFFER:"v3ListMessageBuffer",V3_OPPOSITE_BUFFER:"v3ListMessageOppositeBuffer",V3_LIST_NUM_OF_PLACEHOLDER:"v3ListNumOfPlaceHolder",BULK_ACTION_DIALOG_THRESHOLD:"bulkActionDialogThreshold",HUMAN_READABLE_CONSENT:"humanReadableConsentSetting",CONSENT_EVENTS:"consentEvents",ENABLED_AFFILIATE_PARTNERS:"enabledAffiliatePartners",NUMBER_OF_COUPON_ROWS:"numberOfCouponRows",SHOW_OUT_N_BACK_AUTO_EXPANSION:"showOutNBackAutoExpansion",MARKETING_PREFERENCES_SETTING:"marketingPreferencesSetting",DISPATCHER_UPSELL_DATA:"dispatcherUpsellData",MAX_NUMBER_OF_MESSAGE_BODIES:"maxNumberOfMessagebodies",MAX_NUMBER_OF_DOCUMENTS:"maxNumberOfDocuments",EDGE_TO_EDGE_GRAHICAL_DEGISN_VERSION:"edgeToEdgeGraphicalAdVersion",ADBLOCK_DELAY_DISMISS_SETTINGS:"adblockDelayDismissSettings",ADBLOCK_DELAY_DISMISS_INSTRUMENTATION_URL:"adblockDelayDismissInstrumentationURL"},ms=ps.DO_NOT_UPSELL_APP,Ss=Object(o.d)(["LANDSCAPE","PORTRAIT"]),hs="__setOauthStatus",Cs=["fullscreen","target","sponsoredForward","messagePreview","newCompose","accountIds"],gs=Object(o.d)(["featured","everyday","birthday","seasonal"]),Os=32e3,Ts=Object(o.d)(["NotInitialized","Initializing","Initialized"]),As="999+",Is=999,fs={TUMBLR:"www@tumblr",TENOR:"www@tenor"},Ds=Object(o.d)(["IDLE","START","FINISH"]),Rs=Object(o.d)(["ReservationPackage","FlightReservation","CheckInAction","Coupon","Order","ParcelDelivery","Recommendation"]),bs=Object(o.d)(["FOLDER_ACCESS_FAILED","MESSAGE_ACCESS_FAILED","COMPOSE_ACCESS_FAILED","SETTINGS_FAILED_TO_LOAD"]),Ns=Object(o.d)(["BDM","CPN","CRD","CRR","EML","EVR","FDR","FI","FLR","INV","LDG","ORD","PCS","PE","PKG","POE","SH","TAG","TNR","TR","TRR","TXR","USB"]),Ms=Object(o.d)(["NORMAL"]),ys=5,Ls=250,Ps=3,vs=864e5,Fs=Object(o.d)(["NONE","ERROR","VALIDATING","RESOLVED"]),Us=Object(o.d)(["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","js","jse","lib","lnk","mde","msc","msi","msp","mst","pif","reg","scr","sct","shb","sys","vb","vbe","vbs","vxd","wsc","wsf","wsh"]),ws=Object(a.h)("SLN15987"),Gs={LEFT:"left",RIGHT:"right"},Hs={MESSAGE_LIST:"messageList",MESSAGE_LIST_2:"messageList2",MESSAGE_LIST_SM:"messageListSM",MESSAGE_READ:"messageRead",COUPON_REC:"couponRec",SHOPPING_CART:"shoppingCart",SUBSCRIPTION:"subscription",RIGHT_RAIL_UPSELL:"rightRailUpsell",MESSAGE_LIST_CAROUSEL:"messageListCarousel",MESSAGE_LIST_2_FALLBACK:"messageList2Fallback",DEALS_SHOPPING_CART:"dealsShoppingCart",RR_AD_BLOCK_DPA_ADS:"rrAdBlockDPA",CROSS_DOMAIN_DPA_ADS:"crossDomainDPA",MESSAGE_LIST_SPONSORED_MESSAGE:"messageListSponsoredMessage"};Object(o.d)(["STRIKE_PRICE","MONEY_OFF","PERCENT_OFF","FREE_SHIPPING","CUSTOM"]);let js;!function(e){e.OVERNIGHT="OVERNIGHT",e.TWO_DAY="TWO_DAY",e.STANDARD="STANDARD"}(js||(js={}));const ks=200,xs=10*ks,Bs={OFFENSIVE:"offensive",NOT_RELEVANT:"notRelevant",KEEP_SEEING:"keepSeeing",SOMETHING_ELSE:"somethingElse"},Vs=16,Ws={UI_1:1,UI_3:3,UI_4:4},Ks=[Ws.UI_1,Ws.UI_4,Ws.UI_3,Ws.UI_4],qs="0a131ca69834ba58632792a2d7122797",Ys="91835879f027bd9de92f72e355cd359a",zs="fb3da3418dae370da3c415cf613a8b86",Qs="283181fd71e977feed2e8d123174599b",Zs="621765",Xs="129857X1600501",$s="580847",Js="https://s.yimg.com/nq/mailplusplus/mobileAssets/9b83437e9490e135d9a4ba8d017219ad/onDemandAssets/affiliateSenderDomains.json",er={YMAIL:"ymail",GDRIVE:"gdrive",DROPBOX:"dropbox"},tr={[er.GDRIVE]:{displayName:"Google Drive"},[er.DROPBOX]:{displayName:"Dropbox"}},sr=Object(o.d)(["CONTACTS_PANE","CALENDAR_PANE","BREAKING_NEWS","MEMBERSHIP_REWARDS"]),rr=Object(o.d)(["CONTACTS_LIST","CONTACT_DETAILS","EDIT_CONTACT","CREATE_CONTACT","EDIT_GROUP","CREATE_GROUP"]),nr=-1,ar=4,or=10,ir="default",cr="addGroup",lr=Object(o.d)(["DOES_NOT_EXIST","SUCCESS","FAILED"]),dr=Object(o.d)(["NOT_APPLICABLE","NOT_SUBSCRIBED","SUBSCRIBED","EXPIRED","UPGRADED_TO_MAILPRO"]),Er={INVALID:0,PRE_SIGNUP_LIGHTBOX:1,PRE_SIGNUP_PENCIL_BANNER:2,PRE_SIGNUP_LEFT_PANEL_1:3,PRE_SIGNUP_LEFT_PANEL_2:4,PRE_SIGNUP_LEFT_PANEL_3:5,POST_SIGNUP_THANKYOU_TOAST:11,FREE_TRIAL_ENDING_NOTICATION_1:12,FREE_TRIAL_ENDING_NOTICATION_2:13,FREE_TRIAL_LAST_DAY_NOTIFICATION:14,FREE_TRIAL_EXPIRED_NOTIFICATION:15,MAILPRO_SIGNUP_THNAKYOU_TOAST:21},_r=14,ur=Object(o.d)(["STARTED","SUBMITTED","ENDED","DELETED","LIKED"]),pr=Object(o.d)(["SUCCESS","PENDING","FAIL"]),mr=Object(o.d)(["NO_STATE","AGREED","SUSPENDED","EXPIRED"]),Sr={CHECKIN:"checkin",TASKS:"tasks",REWARDS:"rewards"},hr=Object(o.d)(["DAILY_CHECKIN","IMAPIN"]),Cr=Object(o.d)(["DAILY_CHECKIN","IMAPIN"]),gr=Object(o.d)(["WEEKEND_BONUS","MILESTONE_BONUS","NO_BONUS"]),Or={tw:"Asia/Taipei",hk:"Asia/Hong_Kong"},Tr=Object(o.d)(["LIGHT","DARK"]),Ar={SLIDEUP:"slideUp",GUIDEDSTAR:"guidedStars"},Ir=Object(o.d)(["SAVE_VACATION_RESPONSE","PREVENT_ROUTE_CHANGE"]),fr=Object(o.d)(["INVALID_EMAIL","INVALID_PROVIDER","DUPLICATE_EMAIL","NONE"]),Dr={ATT:"AT&T",BT:"British Telecom",FRONTIER:"Frontier",ROGERS:"Rogers",SKY:"Sky",VERIZON:"Verizon",AOL:"AOL"};let Rr;!function(e){e.SBC="sbc",e.ATT="att",e.VERIZON="verizon",e.VZ="vz",e.VZ_ACS="vz-acs",e.ROG="rog",e.ROGERS="rogers",e.ROGERS_ACS="rogers-acs",e.BT="bt",e.BT_1="bt-1",e.FTR="ftr",e.FRONTIER="frontier",e.SKY="sky",e.YCORP="ycorp",e.AOL="aol"}(Rr||(Rr={}));const br="ycorp",Nr=(e="us",t="en-US",s="")=>s.toUpperCase()===Dr.AOL?`https://login.aol.com/?display=login&.intl=${e}&.lang=${t}&.src=ym&done=https%3A%2F%2Fmail.aol.com%2Fd&prefill=0`:`https://login.yahoo.com/?display=login&.intl=${e}&.lang=${t}&.src=ym&done=https%3A%2F%2Fmail.yahoo.com%2Fd&prefill=0`,Mr="needToKnowNewsCue",yr={PERCENT:"PercentOff",AMOUNT:"AmountOff",GETXFREE:"BuyXGetYFree"},Lr={filters:500,blockedSenders:1e3},Pr={DEFAULT:"default",PTRV01:"ptrv01",PTRV02:"ptrv02",LAUNCHV01:"launchv01",COMPOSEV01:"composev01"},vr=["message.aol.com","email.aol.com","comms.aol.net"],Fr=["dc2.aol.com","cc.aol.com","email.aol.net","email.cs.com","email.netscape.net","comms.wmconnect.com"],Ur=Object(o.d)(["amazon.com","macys.com","wayfair.com","jossandmain.com","zulily.com","wayfair.ca","trivago.com","opticsplanet.com","joybird.com","redbubble.com","revolve.com","nordstromrack.com","ncl.com","birchlane.com","allmodern.com","shopdisney.com","webstaurantstore.com","novica.com","ihg.com","jcpenney.com","modcloth.com","victoriasecret.com","brilliantearth.com","slidebelts.com","levis.com","walmart.com","draxe.com","nike.com","lifeisgood.com","livingspaces.com","chewy.com","shutterfly.com","zappos.com","thredup.com","asics.com","ebay.com"]),wr=Object(o.d)(["nike.com.hk","nike.hk","play-asia.com","food123.com.tw","buy123.com.tw","caco.com.tw","obdesign.com.tw","shopping99.com","uv100.com.tw","s3.com.tw","gomaji.com","candybox.com.tw","brands.com.tw","andenhud.com.tw","etmall.com.tw","momoshop.com.tw","miu-star.com.tw","twhg.com.tw","mdmmd.com.tw","101.com.tw","tkec.com.tw","levi.com.tw","suitangtang.com","supercolor.com.tw","airspace.com.tw","watsons.com.tw","citiesocial.com","17life.com","utsavfashion.com","titan.co.in"]),Gr=Object(o.d)(["washingtonpost.com","nbcnews.com","foxnews.com","newsmax.com","newsmax.com","welcomefinancial-news.com","newyorker.com","thebay.com","trumptrainnews.com","thedailypressnews.com","laposte.net","americanactionnews.com","myhearstnewspaper.com","metronewsupdate.com","conservativenews.com","cntraveler.com","bizjournals.com","newyorktimes.com","nwitimes.com","huffingtonpost.com","latimes.com","huffpost.com","thetimes.co.uk","latimes.com","nypost.com","latimes.com","washingtontimesnews.com","westernjournalism.com","nytimes.com"]);let Hr,jr,kr;!function(e){e.WEEKLY="weekly",e.MONTHLY="monthly",e.YEARLY="yearly"}(Hr||(Hr={})),function(e){e.ACTIVE="active",e.PENDINGUNSUB="pendingunsub",e.FAILED="failed"}(jr||(jr={})),function(e){e.AttachmentUi="AttachmentUi",e.ContactsPane="ContactsPane",e.CalendarPane="CalendarPane",e.ContactCard="ContactCard",e.MessageBrief="MessageBrief",e.PhotoBrief="PhotoBrief",e.DocumentBrief="DocumentBrief",e.SubscriptionAds="SubscriptionAds",e.RightRailNativeAd="RightRailNativeAd",e.RelatedSearchesCard="RelatedSearchesCard",e.TravelCardsGroup="TravelCardsGroup",e.PlaAds="PlaAds",e.RightPaneAds="RightPaneAds",e.SavedDeals="SavedDeals",e.RetailerFilter="RetailerFilter",e.RightPaneGroceriesList="RightPaneGroceriesList",e.MembershipRewards="MembershipRewards",e.SubhubRecommendations="SubhubRecommendations",e.SubscriptionCard="SubscriptionCard"}(kr||(kr={}));const xr=["imaps://gmail.com:993","imaps://gmail.com"],Br=10,Vr=Object(o.d)(["Phone","LoyaltyNumber"]),Wr=5,Kr=15,qr=3,Yr=5,zr=5,Qr={THEMED_BUTTON:"themedButton",CTR_ON_IMG:"ctrOnImg"},Zr=Object(o.d)(["DEFAULT","BULK","TRASH"]),Xr={FOLDER_MIMETYPE:"application/vnd.pachyderm.folder",SPREADSHEET_MIMETYPE:"application/vnd.google-apps.spreadsheet",DOCUMENT_MIMETYPE:"application/vnd.google-apps.document"},$r={PRIVATE:"private",PUBLIC:"public"},Jr={PRICE_GRABBER:"priceGrabber",SKIM_LINK:"skimLink",VIG_LINK:"viglink",IMPACT_RADIUS:"impactRadius",AWIN:"awin"},en={MESSAGE_EXTRACTION:"message_extraction",PRODUCT_EXTRACTION:"product_extraction",SENDER_EXTRACTION_RECEIPTS:"sender_extraction_receipts",SENDER_EXTRACTION:"sender_extraction",NOBLE_MESSAGE_HEADER:"noble_message_header",CONTACT_CARD:"contact_card",COUPON_SMART_VIEW_BRIEF_ITEM:"coupon_smart_view_brief_item",COUPON_SMART_VIEW_DEAL_ITEM:"coupon_smart_view_deal_item",COUPON_SMART_VIEW_COUPON_LIST_ITEM:"coupon_smart_view_coupon_list_item",MESSAGE_HEADER:"message_header",RECOMMENDED_DEALS:"recommended_deals",RECOMMENDED_CATEGORIES:"recommended_categories",RECOMMENDED_PRODUCTS:"recommended_products"},tn={GROCERY_SRP:"grocerysrp",GROCERY_RECO:"groceryreco",GROCERY_CART:"grocerycart",GROCERY_ITEM_DETAIL:"groceryitemdetail",CATEGORY_RECO:"categoryreco",GROCERY_CATEGORY_RESULTS:"grocerycategoryresults"},sn={GROCERY_DEALS_RECOMMENDATION:"grocery_deals_recommendation",WALMART_RECOMMENDATIONS:"walmartrecommendations",WALMART_STATIC_UPSELL:"walmartstaticupsell"},rn={PACKAGE_TRACKING:"package_tracking",ENABLE_PACKAGE_TRACKING:"enable_package_tracking",PKG_TRACKING_URL_CLICKED:"pkg_tracking_url_clicked"};let nn,an,on,cn,ln;!function(e){e.GROCERY_CATEGORY_SEARCH="groceryCategorySearch",e.GROCERY_STORE_SEARCH="groceryStoreSearch",e.GROCERY_STORE_VIEW="groceryStoreView",e.GROCERY_ITEM_DETAIL="groceryItemDetail",e.GROCERY_SHOPPING_CART="groceryShoppingCart"}(nn||(nn={})),function(e){e.AFFILIATE_RETAILERS="affiliateRetailers",e.RECOMMENDED_DEALS="recommendedDeals",e.GROCERY_RETAILERS="groceryRetailers",e.GROCERY_RETAILERS_CATEGORY="groceryRetailersCategory",e.GROCERIES_TOP_OF_MSG="groceriesTopOfMsg",e.GROCERIES_TOP_OF_MSG_PRD="groceriesTopOfMsgPrd",e.CATEGORY_FOLLOWING_LIST="categoryFollowingList"}(an||(an={})),function(e){e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE"}(on||(on={})),function(e){e.FUJI2="fuji2",e.DEFAULT="default"}(cn||(cn={})),function(e){e.LIGHT="LIGHT",e.MEDIUM="MEDIUM",e.DARK="DARK"}(ln||(ln={}));const dn=128},,function(e,t,s){"use strict";s.r(t),s.d(t,"INITIAL_STATE",(function(){return r})),s.d(t,"LAUNCH_COMPLETED",(function(){return n})),s.d(t,"APP_LOAD_COMPLETED",(function(){return a})),s.d(t,"WINDOW_RESIZING",(function(){return o})),s.d(t,"WINDOW_RESIZED",(function(){return i})),s.d(t,"APPLICATION_VISIBILITY_DID_CHANGE",(function(){return c})),s.d(t,"CANCEL_APP_RELOAD",(function(){return l})),s.d(t,"CONFIRM_APP_RELOAD",(function(){return d})),s.d(t,"SHOW_APP_RELOAD",(function(){return E})),s.d(t,"LAUNCH_ERROR",(function(){return _})),s.d(t,"USER_LOCATION_UPDATE_SUCCEEDED",(function(){return u})),s.d(t,"USER_LOCATION_UPDATE_FAILED",(function(){return p})),s.d(t,"HEADER_NAVIGATION_SELECTED",(function(){return m})),s.d(t,"ACCOUNT_MENU_SHOWN",(function(){return S})),s.d(t,"USER_LOGGED_OUT",(function(){return h})),s.d(t,"HOME_BUTTON_CLICKED",(function(){return C})),s.d(t,"TIMEZONE_CHANGE_DETECTED",(function(){return g})),s.d(t,"PREFERRED_TIMEZONE_CHANGE_REJECTED",(function(){return O})),s.d(t,"ONLINE_STATUS_CHANGED",(function(){return T})),s.d(t,"OPEN_PAGE_REQUESTED",(function(){return A})),s.d(t,"CLOSE_PAGE_REQUESTED",(function(){return I})),s.d(t,"CLOSE_ALL_PAGES_REQUESTED",(function(){return f})),s.d(t,"EXTERNAL_LINK_CLICKED",(function(){return D})),s.d(t,"SYNC_DATA",(function(){return R})),s.d(t,"SYNC_NOW_SUCCEEDED",(function(){return b})),s.d(t,"SYNC_NOW_FAILED",(function(){return N})),s.d(t,"ROTATE_AD_ON_LIST_SCROLL",(function(){return M})),s.d(t,"LAUNCH_PAGE_REQUESTED",(function(){return y})),s.d(t,"LAUNCH_FAILED",(function(){return L})),s.d(t,"OPEN_TABS_MENU",(function(){return P})),s.d(t,"PREVIEW_MESSAGE_REQUESTED",(function(){return v})),s.d(t,"PREVIEW_MESSAGE_CLOSED",(function(){return F})),s.d(t,"MULTI_TASKING_PREF_CHANGE_REQUESTED",(function(){return U})),s.d(t,"MULTI_TASKING_PREF_CHANGE_SUCCEEDED",(function(){return w})),s.d(t,"MULTI_TASKING_PREF_CHANGE_FAILED",(function(){return G})),s.d(t,"EXPAND_ACCOUNT_LIST",(function(){return H})),s.d(t,"EXPANDED_FOLDERS_PREF_CHANGE_REQUESTED",(function(){return j})),s.d(t,"EXPANDED_FOLDERS_PREF_CHANGE_SUCCEEDED",(function(){return k})),s.d(t,"EXPANDED_FOLDERS_PREF_CHANGE_FAILED",(function(){return x})),s.d(t,"SHOW_CUSTOM_FOLDERS_PREF_CHANGE_REQUESTED",(function(){return B})),s.d(t,"SHOW_CUSTOM_FOLDERS_PREF_CHANGE_SUCCEEDED",(function(){return V})),s.d(t,"SHOW_CUSTOM_FOLDERS_PREF_CHANGE_FAILED",(function(){return W})),s.d(t,"CONVERSATIONS_CHANGE_REQUESTED",(function(){return K})),s.d(t,"CONVERSATIONS_CHANGE_SUCCEEDED",(function(){return q})),s.d(t,"CONVERSATIONS_CHANGE_FAILED",(function(){return Y})),s.d(t,"SHOW_IMAGE_PREF_CHANGE_REQUESTED",(function(){return z})),s.d(t,"SHOW_IMAGE_PREF_CHANGE_SUCCEEDED",(function(){return Q})),s.d(t,"SHOW_IMAGE_PREF_CHANGE_FAILED",(function(){return Z})),s.d(t,"MESSAGE_READ_SHOW_IMAGES_REQUESTED",(function(){return X})),s.d(t,"HIDEAD_PREF_CHANGE_REQUESTED",(function(){return $})),s.d(t,"HIDEAD_PREF_CHANGE_SUCCEEDED",(function(){return J})),s.d(t,"HIDEAD_PREF_CHANGE_FAILED",(function(){return ee})),s.d(t,"MESSAGE_LIST_DENSITY_PREF_CHANGE_REQUESTED",(function(){return te})),s.d(t,"MESSAGE_LIST_DENSITY_PREF_CHANGE_SUCCEEDED",(function(){return se})),s.d(t,"MESSAGE_LIST_DENSITY_PREF_CHANGE_FAILED",(function(){return re})),s.d(t,"ACTION_AFTER_MESSAGE_MOVE_CHANGE_REQUESTED",(function(){return ne})),s.d(t,"ACTION_AFTER_MESSAGE_MOVE_CHANGE_SUCCEEDED",(function(){return ae})),s.d(t,"ACTION_AFTER_MESSAGE_MOVE_CHANGE_FAILED",(function(){return oe})),s.d(t,"DEFAULT_SENDING_ADDRESS_CHANGE_REQUESTED",(function(){return ie})),s.d(t,"DEFAULT_SENDING_ADDRESS_CHANGE_SUCCEEDED",(function(){return ce})),s.d(t,"DEFAULT_SENDING_ADDRESS_CHANGE_FAILED",(function(){return le})),s.d(t,"SIGNATURE_STATUS_CHANGE_REQUESTED",(function(){return de})),s.d(t,"SIGNATURE_STATUS_CHANGE_SUCCEEDED",(function(){return Ee})),s.d(t,"SIGNATURE_STATUS_CHANGE_FAILED",(function(){return _e})),s.d(t,"SIGNATURE_TEXT_CHANGE_REQUESTED",(function(){return ue})),s.d(t,"SIGNATURE_TEXT_CHANGE_SUCCEEDED",(function(){return pe})),s.d(t,"SIGNATURE_TEXT_CHANGE_FAILED",(function(){return me})),s.d(t,"COMPOSE_FONT_SIZE_CHANGE_REQUESTED",(function(){return Se})),s.d(t,"COMPOSE_FONT_SIZE_CHANGE_SUCCEEDED",(function(){return he})),s.d(t,"COMPOSE_FONT_SIZE_CHANGE_FAILED",(function(){return Ce})),s.d(t,"COMPOSE_FONT_FAMILY_CHANGE_REQUESTED",(function(){return ge})),s.d(t,"COMPOSE_FONT_FAMILY_CHANGE_SUCCEEDED",(function(){return Oe})),s.d(t,"COMPOSE_FONT_FAMILY_CHANGE_FAILED",(function(){return Te})),s.d(t,"LINK_ENHANCER_FETCH_REQUESTED",(function(){return Ae})),s.d(t,"LINK_ENHANCER_FETCH_SUCCEEDED",(function(){return Ie})),s.d(t,"LINK_ENHANCER_FETCH_FAILED",(function(){return fe})),s.d(t,"LINK_ENHANCER_ADD_LINK",(function(){return De})),s.d(t,"LINK_ENHANCER_RESIZE_LINK",(function(){return Re})),s.d(t,"LINK_ENHANCER_REMOVE_LINK",(function(){return be})),s.d(t,"LINK_ENHANCER_OPEN_LINK",(function(){return Ne})),s.d(t,"LINK_ENHANCER_SHARE_LINK",(function(){return Me})),s.d(t,"LINK_ENHANCER_MOVE_LINK_BOTTOM",(function(){return ye})),s.d(t,"LINK_ENHANCER_MOVE_LINK_INLINE",(function(){return Le})),s.d(t,"DARLA_ADS_RECEIVED",(function(){return Pe})),s.d(t,"DARLA_ADS_FAILED",(function(){return ve})),s.d(t,"PREFETCHED_AD_RENDERED",(function(){return Fe})),s.d(t,"PREFETCHED_ADS_RENDERED",(function(){return Ue})),s.d(t,"LOOK_AHEAD_ADS_PARSED",(function(){return we})),s.d(t,"LOOK_AHEAD_ADS_RENDERED",(function(){return Ge})),s.d(t,"AD_ROTATION_SKIPPED",(function(){return He})),s.d(t,"PREMIUM_AD_STARTED",(function(){return je})),s.d(t,"PREMIUM_AD_STOPPED",(function(){return ke})),s.d(t,"HIDE_RIGHT_PANE_ADS",(function(){return xe})),s.d(t,"AD_RECEIVED",(function(){return Be})),s.d(t,"AD_FAILED",(function(){return Ve})),s.d(t,"GEMINI_AD_RECEIVED",(function(){return We})),s.d(t,"GEMINI_AD_FAILED",(function(){return Ke})),s.d(t,"GEMINI_AD_REQUESTED",(function(){return qe})),s.d(t,"AD_FALLBACK_CLICKED",(function(){return Ye})),s.d(t,"PENCIL_AD_CLICKED",(function(){return ze})),s.d(t,"AD_FEEDBACK_STARTED",(function(){return Qe})),s.d(t,"AD_FEEDBACK_SUBMITTED",(function(){return Ze})),s.d(t,"AD_FEEDBACK_CLOSED",(function(){return Xe})),s.d(t,"GEMINI_SPONSORED_ASSET_RECEIVED",(function(){return $e})),s.d(t,"GEMINI_SPONSORED_ASSET_FAILED",(function(){return Je})),s.d(t,"FLASH_SALE_AD_ENDED",(function(){return et})),s.d(t,"DELETE_PENCIL_AD",(function(){return tt})),s.d(t,"TOGGLE_PENCIL_AD_SELECTION",(function(){return st})),s.d(t,"SEARCH_AD_RENDERED",(function(){return rt})),s.d(t,"AD_FEEDBACK_CLICKED",(function(){return nt})),s.d(t,"SHOPPING_CART_AD_RENDERED",(function(){return at})),s.d(t,"DEALS_SHOPPING_CART_AD_RENDERED",(function(){return ot})),s.d(t,"ADFREE_UPSELL_ACCEPT",(function(){return it})),s.d(t,"ADFREE_UPSELL_CANCEL",(function(){return ct})),s.d(t,"GET_WIDER_MAIL_EXTENSION_URL",(function(){return lt})),s.d(t,"WIDER_MAIL_INSTALL_SUCCESS",(function(){return dt})),s.d(t,"WIDER_MAIL_INSTALL_FAILURE",(function(){return Et})),s.d(t,"KEY_DID_BIND",(function(){return _t})),s.d(t,"KEY_DID_UPDATE",(function(){return ut})),s.d(t,"KEY_DID_UNBIND",(function(){return pt})),s.d(t,"NAVIGATE_TO_COMPOSE_REQUESTED",(function(){return mt})),s.d(t,"FEEDBACK_PANEL_GIVE_FEEDBACK",(function(){return St})),s.d(t,"V3_MESSAGE_SAVE_REQUESTED",(function(){return ht})),s.d(t,"V3_MESSAGE_SAVE_SUCCEEDED",(function(){return Ct})),s.d(t,"V3_MESSAGE_SAVE_FAILED",(function(){return gt})),s.d(t,"V3_MESSAGE_SEND_REQUESTED",(function(){return Ot})),s.d(t,"V3_MESSAGE_SEND_SUCCEEDED",(function(){return Tt})),s.d(t,"V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED",(function(){return At})),s.d(t,"V3_MESSAGE_SEND_FAILED",(function(){return It})),s.d(t,"MESSAGE_SAVE_REQUESTED",(function(){return ft})),s.d(t,"MESSAGE_SAVE_SUCCEEDED",(function(){return Dt})),s.d(t,"MESSAGE_SAVE_FAILED",(function(){return Rt})),s.d(t,"MESSAGE_AUTO_SAVE_REQUESTED",(function(){return bt})),s.d(t,"MESSAGE_AUTO_SAVE_SUCCEEDED",(function(){return Nt})),s.d(t,"MESSAGE_AUTO_SAVE_FAILED",(function(){return Mt})),s.d(t,"SPONSORED_SAVE_TO_INBOX_REQUESTED",(function(){return yt})),s.d(t,"SPONSORED_SAVE_TO_INBOX_SUCCEEDED",(function(){return Lt})),s.d(t,"SPONSORED_SAVE_TO_INBOX_FAILED",(function(){return Pt})),s.d(t,"COMPOSE_OPENED",(function(){return vt})),s.d(t,"COMPOSE_CLOSED",(function(){return Ft})),s.d(t,"AUTOTAG_DROPDOWN_SHOWN",(function(){return Ut})),s.d(t,"AUTOTAG_CONTACT_SELECTED",(function(){return wt})),s.d(t,"EDIT_LIST_DROPDOWN_CONTACT_SELECTED",(function(){return Gt})),s.d(t,"AUTOTAG_DROPDOWN_CLOSED",(function(){return Ht})),s.d(t,"RELATED_CONTACTS_CLOSED",(function(){return jt})),s.d(t,"SEND",(function(){return kt})),s.d(t,"SEND_SUCCESS",(function(){return xt})),s.d(t,"SEND_FAILURE",(function(){return Bt})),s.d(t,"ATTACHMENT_STATE_UPDATED",(function(){return Vt})),s.d(t,"DELETE_DRAFT_SUCCEEDED",(function(){return Wt})),s.d(t,"DELETE_DRAFT_FAILED",(function(){return Kt})),s.d(t,"UPDATE_EDIT_DRAFT_STATE",(function(){return qt})),s.d(t,"DRAFT_SUBJECT_UPDATED",(function(){return Yt})),s.d(t,"CONTACT_SUGGESTIONS_REQUESTED",(function(){return zt})),s.d(t,"CONTACT_SUGGESTIONS_SUCCEEDED",(function(){return Qt})),s.d(t,"DELETE_CONTACT_SUGGESTIONS_REQUESTED",(function(){return Zt})),s.d(t,"DELETE_CONTACT_SUGGESTIONS_SUCCEEDED",(function(){return Xt})),s.d(t,"DELETE_CONTACT_SUGGESTIONS_FAILED",(function(){return $t})),s.d(t,"CONTACT_SUGGESTIONS_FAILED",(function(){return Jt})),s.d(t,"CONTACT_ADDED",(function(){return es})),s.d(t,"COMPOSE_NO_ADDRESS_DETECTED",(function(){return ts})),s.d(t,"COMPOSE_RECIPIENT_LIMIT_EXCEEDED",(function(){return ss})),s.d(t,"COMPOSE_ADDRESSING_FAILED",(function(){return rs})),s.d(t,"COMPOSE_INVALID_MESSAGE_OPENED",(function(){return ns})),s.d(t,"SUBJECT_FOCUSED",(function(){return as})),s.d(t,"RTE_MORE_MENU_SHOWN",(function(){return os})),s.d(t,"HANDLE_RTE_TOOLBAR_ACTIONS",(function(){return is})),s.d(t,"CONFIRM_DELETE_DIALOG_CLOSED",(function(){return cs})),s.d(t,"QUOTED_TEXT_EXPANDED",(function(){return ls})),s.d(t,"UPLOAD_PROGRESS_RECEIVED",(function(){return ds})),s.d(t,"MAILTO_ACTION_REQUESTED",(function(){return Es})),s.d(t,"ADD_BIG_ATTACHMENT",(function(){return _s})),s.d(t,"GIF_FETCHED",(function(){return us})),s.d(t,"GIF_FETCH_REQUESTED",(function(){return ps})),s.d(t,"GIF_FETCH_SUCCEEDED",(function(){return ms})),s.d(t,"GIF_FETCH_FAILED",(function(){return Ss})),s.d(t,"GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED",(function(){return hs})),s.d(t,"GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED_OLD",(function(){return Cs})),s.d(t,"GIF_CATEGORIES_CONTENT_FETCH_REQUESTED",(function(){return gs})),s.d(t,"GIF_CATEGORIES_CONTENT_FETCH_FAILED",(function(){return Os})),s.d(t,"MORE_RECEIPTS_REQUESTED",(function(){return Ts})),s.d(t,"MORE_RECEIPTS_REQUEST_FAILED",(function(){return As})),s.d(t,"MORE_RECEIPTS_SUCCESS",(function(){return Is})),s.d(t,"RECEIPTS_LIST_SUCCEEDED",(function(){return fs})),s.d(t,"RECEIPTS_LIST_FAILED",(function(){return Ds})),s.d(t,"TRAVEL_LIST_SUCCEEDED",(function(){return Rs})),s.d(t,"TRAVEL_LIST_FAILED",(function(){return bs})),s.d(t,"MORE_TRAVEL_ITEMS_SUCCEEDED",(function(){return Ns})),s.d(t,"MORE_TRAVEL_ITEMS_FAILED",(function(){return Ms})),s.d(t,"MESSAGE_GROUP_WITH_BODIES_OPENED",(function(){return ys})),s.d(t,"MESSAGE_GROUP_WITH_BODIES_RECEIVED",(function(){return Ls})),s.d(t,"MESSAGE_GROUP_WITH_BODIES_FAILED",(function(){return Ps})),s.d(t,"MESSAGE_GROUP_OPENED",(function(){return vs})),s.d(t,"MESSAGE_BODIES_REQUESTED",(function(){return Fs})),s.d(t,"MESSAGE_BODIES_RECEIVED",(function(){return Us})),s.d(t,"MESSAGE_BODIES_FAILED",(function(){return ws})),s.d(t,"MESSAGE_BODIES_OPEN_GROUP_RECEIVED",(function(){return Gs})),s.d(t,"MESSAGE_CARD_FOCUSED",(function(){return Hs})),s.d(t,"ATTACHMENT_PREVIEW_FAILED",(function(){return js})),s.d(t,"CHECK_MAIL_RECEIVED_WITH_UPDATES",(function(){return ks})),s.d(t,"CHECK_MAIL_RECEIVED_WITH_NO_UPDATES",(function(){return xs})),s.d(t,"CHECK_MAIL_FAILED",(function(){return Bs})),s.d(t,"MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED",(function(){return Vs})),s.d(t,"MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED",(function(){return Ws})),s.d(t,"MESSAGE_BODY_LINK_CLICKED",(function(){return Ks})),s.d(t,"DELETE_PREVIEW_REQUESTED",(function(){return qs})),s.d(t,"DELETE_PREVIEW_CLOSED",(function(){return Ys})),s.d(t,"STAR_CHANGE_REQUESTED",(function(){return zs})),s.d(t,"STAR_CHANGE_SUCCEEDED",(function(){return Qs})),s.d(t,"STAR_CHANGE_FAILED",(function(){return Zs})),s.d(t,"READ_CHANGE_REQUESTED",(function(){return Xs})),s.d(t,"READ_CHANGE_SUCCEEDED",(function(){return $s})),s.d(t,"READ_CHANGE_FAILED",(function(){return Js})),s.d(t,"RECENT_AND_READ_CHANGE_REQUESTED",(function(){return er})),s.d(t,"MOVE_AND_READ_CHANGE_REQUESTED",(function(){return tr})),s.d(t,"UNDO_MOVE_REQUESTED",(function(){return sr})),s.d(t,"UNDO_MOVE_SUCCEEDED",(function(){return rr})),s.d(t,"UNDO_MOVE_FAILED",(function(){return nr})),s.d(t,"UNDO_MOVE_AND_READ_REQUESTED",(function(){return ar})),s.d(t,"UPDATE_ITEMS_SUCCEEDED",(function(){return or})),s.d(t,"UPDATE_ITEMS_FAILED",(function(){return ir})),s.d(t,"FILE_ATTACHMENT_ADDED",(function(){return cr})),s.d(t,"ATTACHMENT_REMOVED",(function(){return lr})),s.d(t,"ATTACHMENT_DOWNLOADED",(function(){return dr})),s.d(t,"ALL_ATTACHMENTS_DOWNLOADED",(function(){return Er})),s.d(t,"INLINE_FILE_ATTACHMENT_ADDED",(function(){return _r})),s.d(t,"INLINE_FILE_ATTACHMENT_REMOVED",(function(){return ur})),s.d(t,"INLINE_ATTACHMENT_MOVED_TO_TRAY",(function(){return pr})),s.d(t,"ATTACHMENT_MOVED_TO_INLINE",(function(){return mr})),s.d(t,"INLINE_IMAGES_TO_ATTACHMENT",(function(){return Sr})),s.d(t,"MESSAGES_LIST_SCROLLED",(function(){return hr})),s.d(t,"ITEM_LIST_PAGE_SCROLLED",(function(){return Cr})),s.d(t,"MORE_MESSAGES_REQUEST_SUCCESS",(function(){return gr})),s.d(t,"MORE_MESSAGES_REQUEST_FAILED",(function(){return Or})),s.d(t,"MESSAGE_GROUP_BY_CHANGED",(function(){return Tr})),s.d(t,"MESSAGE_LIST_TOOLBAR_MENU_SHOWN",(function(){return Ar})),s.d(t,"MESSAGES_SELECTION_REPLACED",(function(){return Ir})),s.d(t,"ITEMS_DRAG_STARTED",(function(){return fr})),s.d(t,"COUPON_ICON_MSG_LIST_CLICKED",(function(){return Dr})),s.d(t,"STREAM_CURSOR_MOVED",(function(){return Rr})),s.d(t,"ALL_STREAM_ITEMS_SELECTED",(function(){return br})),s.d(t,"STREAM_ITEMS_SELECTION_CLEARED",(function(){return Nr})),s.d(t,"STREAM_CONTEXT_MENU",(function(){return Mr})),s.d(t,"STREAM_CONTEXT_MENU_SHOWN",(function(){return yr})),s.d(t,"STREAM_ITEM_TOGGLED",(function(){return Lr})),s.d(t,"STREAM_ITEMS_MULTIPLE_TOGGLE",(function(){return Pr})),s.d(t,"STREAM_SELECT_CURSOR_MOVED",(function(){return vr})),s.d(t,"STREAM_ITEMS_SELECTION_CHANGED",(function(){return Fr})),s.d(t,"STREAM_ITEMS_RANGE_SELECTED",(function(){return Ur})),s.d(t,"CHECK_REPLY_NUDGE_SUCCEEDED",(function(){return wr})),s.d(t,"CHECK_REPLY_NUDGE_FAILED",(function(){return Gr})),s.d(t,"CHANGE_FOLDER_SUCCEEDED",(function(){return Hr})),s.d(t,"CHANGE_FOLDER_FAILED",(function(){return jr})),s.d(t,"CREATE_FOLDER_REQUESTED",(function(){return kr})),s.d(t,"CREATE_FOLDER_SUCCEEDED",(function(){return xr})),s.d(t,"CREATE_FOLDER_FAILED",(function(){return Br})),s.d(t,"DELETE_FOLDER_REQUESTED",(function(){return Vr})),s.d(t,"DELETE_FOLDER_SUCCEEDED",(function(){return Wr})),s.d(t,"DELETE_FOLDER_FAILED",(function(){return Kr})),s.d(t,"RENAME_FOLDER_REQUESTED",(function(){return qr})),s.d(t,"RENAME_FOLDER_SUCCEEDED",(function(){return Yr})),s.d(t,"RENAME_FOLDER_FAILED",(function(){return zr})),s.d(t,"MOVE_FOLDER_REQUESTED",(function(){return Qr})),s.d(t,"MOVE_FOLDER_SUCCEEDED",(function(){return Zr})),s.d(t,"MOVE_FOLDER_FAILED",(function(){return Xr})),s.d(t,"FOLDER_CONTEXT_MENU_REQUESTED",(function(){return $r})),s.d(t,"DELETE_NON_EMPTY_FOLDER_REQUESTED",(function(){return Jr})),s.d(t,"CAPTCHA_BEGAN",(function(){return en})),s.d(t,"SEARCH_INPUT_FOCUSED",(function(){return tn})),s.d(t,"SEARCH_INPUT_BLURRED",(function(){return sn})),s.d(t,"SEARCH_LIST_ITEMS_REQUESTED",(function(){return rn})),s.d(t,"SEARCH_LIST_ITEMS_BLOCK_RECEIVED",(function(){return nn})),s.d(t,"SEARCH_LIST_ITEMS_RECEIVED",(function(){return an})),s.d(t,"SEARCH_LIST_ITEMS_FAILED",(function(){return on})),s.d(t,"SEARCH_RELEVANCE_CUE_TRIGGERED",(function(){return cn})),s.d(t,"MOVE_ITEMS_REQUESTED",(function(){return ln})),s.d(t,"MOVE_ITEMS_SUCCEEDED",(function(){return dn})),s.d(t,"MOVE_ITEMS_FAILED",(function(){return En})),s.d(t,"MORE_ITEMS_REQUESTED",(function(){return _n})),s.d(t,"DELETE_ITEMS_REQUESTED",(function(){return un})),s.d(t,"DELETE_ITEMS_SUCCEEDED",(function(){return pn})),s.d(t,"DELETE_ITEMS_FAILED",(function(){return mn})),s.d(t,"BLOCK_SENDERS_REQUESTED",(function(){return Sn})),s.d(t,"BLOCK_SENDERS_WITH_DELETE_REQUESTED",(function(){return hn})),s.d(t,"MORE_SEARCH_LIST_ITEMS_REQUESTED",(function(){return Cn})),s.d(t,"MORE_SEARCH_LIST_ITEMS_RECEIVED",(function(){return gn})),s.d(t,"MORE_SEARCH_LIST_ITEMS_FAILED",(function(){return On})),s.d(t,"SUGGESTIONS_REQUESTED",(function(){return Tn})),s.d(t,"SUGGESTIONS_RECEIVED",(function(){return An})),s.d(t,"SUGGESTIONS_FROM_CONTACTS_RECEIVED",(function(){return In})),s.d(t,"SUGGESTIONS_FAILED",(function(){return fn})),s.d(t,"SEARCH_PLA_AD_CLICKED",(function(){return Dn})),s.d(t,"RECENT_SEARCHES_REQUESTED",(function(){return Rn})),s.d(t,"RECENT_SEARCHES_FAILED",(function(){return bn})),s.d(t,"RECENT_SEARCHES_SUCCEEDED",(function(){return Nn})),s.d(t,"DELETE_RECENT_SEARCH_REQUESTED",(function(){return Mn})),s.d(t,"DELETE_RECENT_SEARCH_SUCCEEDED",(function(){return yn})),s.d(t,"DELETE_RECENT_SEARCH_FAILED",(function(){return Ln})),s.d(t,"ATTACHMENT_PREVIEW_SWITCH_TO_FULL_SCREEN",(function(){return Pn})),s.d(t,"ATTACHMENT_OPENED",(function(){return vn})),s.d(t,"ATTACHMENT_ZOOMED",(function(){return Fn})),s.d(t,"DOCUMENT_FETCH_SUCCEEDED",(function(){return Un})),s.d(t,"DOCUMENT_FETCH_FAILED",(function(){return wn})),s.d(t,"DOCUMENT_FETCH_REQUESTED",(function(){return Gn})),s.d(t,"SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED",(function(){return Hn})),s.d(t,"SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED",(function(){return jn})),s.d(t,"SETTINGS_MENU_REQUESTED",(function(){return kn})),s.d(t,"SETTINGS_MENU_CLOSED",(function(){return xn})),s.d(t,"SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED",(function(){return Bn})),s.d(t,"SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED",(function(){return Vn})),s.d(t,"SETTINGS_SAVE_VACATION_PREFERENCES_FAILED",(function(){return Wn})),s.d(t,"SETTINGS_ADD_FILTER_REQUESTED",(function(){return Kn})),s.d(t,"SETTINGS_SAVE_FILTERS_REQUESTED",(function(){return qn})),s.d(t,"SETTINGS_SAVE_FILTERS_SUCCEEDED",(function(){return Yn})),s.d(t,"SETTINGS_SAVE_FILTERS_FAILED",(function(){return zn})),s.d(t,"SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_SUCCEEDED",(function(){return Qn})),s.d(t,"SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_FAILED",(function(){return Zn})),s.d(t,"SETTINGS_LOCATION_CHANGE_REQUESTED",(function(){return Xn})),s.d(t,"SETTINGS_LOCATION_CHANGE_SUCCEEDED",(function(){return $n})),s.d(t,"SETTINGS_LOCATION_CHANGE_FAILED",(function(){return Jn})),s.d(t,"SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED",(function(){return ea})),s.d(t,"SETTINGS_ENHANCE_CONTACTS_FETCH_FAILED",(function(){return ta})),s.d(t,"SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED",(function(){return sa})),s.d(t,"SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED",(function(){return ra})),s.d(t,"SETTINGS_ENHANCE_CONTACTS_CHANGE_FAILED",(function(){return na})),s.d(t,"SETTINGS_FILTERS_AND_BLOCKED_SENDERS_REQUESTED",(function(){return aa})),s.d(t,"SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED",(function(){return oa})),s.d(t,"SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED",(function(){return ia})),s.d(t,"SETTINGS_BLOCKED_SENDERS_REQUESTED",(function(){return ca})),s.d(t,"SETTINGS_BLOCKED_SENDERS_RECEIVED",(function(){return la})),s.d(t,"SETTINGS_BLOCKED_SENDERS_FETCH_FAILED",(function(){return da})),s.d(t,"SETTINGS_SAVE_BLOCKED_SENDERS_REQUESTED",(function(){return Ea})),s.d(t,"SETTINGS_SAVE_BLOCKED_SENDERS_SUCCEEDED",(function(){return _a})),s.d(t,"SETTINGS_SAVE_BLOCKED_SENDERS_FAILED",(function(){return ua})),s.d(t,"SETTINGS_CHANGE_REQUESTED",(function(){return pa})),s.d(t,"SETTINGS_CHANGE_SUCCEEDED",(function(){return ma})),s.d(t,"SETTINGS_CHANGE_FAILED",(function(){return Sa})),s.d(t,"CONTACT_DETAIL_FETCH_REQUESTED",(function(){return ha})),s.d(t,"CONTACT_DETAIL_FETCH_SUCCEEDED",(function(){return Ca})),s.d(t,"CONTACT_DETAIL_FETCH_FAILED",(function(){return ga})),s.d(t,"IMPORTANT_CONTACTS_FETCH_SUCCEEDED",(function(){return Oa})),s.d(t,"IMPORTANT_CONTACTS_FETCH_FAILED",(function(){return Ta})),s.d(t,"NOTIFICATION_CLOSED",(function(){return Aa})),s.d(t,"NOTIFICATION_PAUSED",(function(){return Ia})),s.d(t,"NOTIFICATION_RESUME",(function(){return fa})),s.d(t,"SCOUT_TIMER",(function(){return Da})),s.d(t,"FEATURE_CUE_MARK_AS_SHOWN_REQUESTED",(function(){return Ra})),s.d(t,"FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED",(function(){return ba})),s.d(t,"FEATURE_CUE_MARK_AS_SHOWN_FAILED",(function(){return Na})),s.d(t,"FEATURE_TRY_NOW_REQUESTED",(function(){return Ma})),s.d(t,"FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED",(function(){return ya})),s.d(t,"FEATURE_CUE_MARK_AS_SUCCESS_FAILED",(function(){return La})),s.d(t,"FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED",(function(){return Pa})),s.d(t,"FEATURE_CUE_MARK_AS_CLOSE_FAILED",(function(){return va})),s.d(t,"FEATURE_CLOSED",(function(){return Fa})),s.d(t,"FEATURE_CUE_NOTIFICATION_CLOSED",(function(){return Ua})),s.d(t,"CARD_MARK_AS_SHOWN_REQUESTED",(function(){return wa})),s.d(t,"CARD_TRY_NOW_REQUESTED",(function(){return Ga})),s.d(t,"CARD_CLOSED",(function(){return Ha})),s.d(t,"BROWSER_NOTIFICATIONS_DISPLAYED",(function(){return ja})),s.d(t,"BULK_PROGRESS_INITIATED",(function(){return ka})),s.d(t,"BULK_PROGRESS_RECEIVED",(function(){return xa})),s.d(t,"BULK_CANCEL_REQUESTED",(function(){return Ba})),s.d(t,"BULK_CANCEL_FAILED",(function(){return Va})),s.d(t,"MESSAGE_PRINT_REQUESTED",(function(){return Wa})),s.d(t,"MESSAGE_PRINT_SUCCEEDED",(function(){return Ka})),s.d(t,"MESSAGE_PRINT_CLOSED",(function(){return qa})),s.d(t,"MESSAGE_PRINT_CANCELED",(function(){return Ya})),s.d(t,"MESSAGE_PRINT_FAILED",(function(){return za})),s.d(t,"DOWNLOAD_REQUESTED",(function(){return Qa})),s.d(t,"DOWNLOAD_COMPLETED",(function(){return Za})),s.d(t,"DOWNLOAD_FAILED",(function(){return Xa})),s.d(t,"OPT_OUT_OF_NORRIN",(function(){return $a})),s.d(t,"OPT_OUT_REQUESTED",(function(){return Ja})),s.d(t,"OPT_OUT_SUBMIT_FEEDBACK",(function(){return eo})),s.d(t,"OPT_OUT_CANCEL_FEEDBACK",(function(){return to})),s.d(t,"ABOUT_YAHOO_MAIL_PAGE_REQUESTED",(function(){return so})),s.d(t,"ADFREE_MAIL_PAGE_REQUESTED",(function(){return ro})),s.d(t,"HELP_PAGE_REQUESTED",(function(){return no})),s.d(t,"PRIVACY_TERMS_PAGE_REQUESTED",(function(){return ao})),s.d(t,"ABOUT_OUR_ADS_PAGE_REQUESTED",(function(){return oo})),s.d(t,"FEEDBACK_SUBMITTED",(function(){return io})),s.d(t,"SETTINGS_POPOVER_AUTOOPEN_CHANGED",(function(){return co})),s.d(t,"THEME_CHANGE_REQUESTED",(function(){return lo})),s.d(t,"THEME_CHANGE_SUCCEEDED",(function(){return Eo})),s.d(t,"THEME_CHANGE_FAILED",(function(){return _o})),s.d(t,"THEME_MODE_CHANGE_REQUESTED",(function(){return uo})),s.d(t,"THEME_MODE_CHANGE_SUCCEEDED",(function(){return po})),s.d(t,"THEME_MODE_CHANGE_FAILED",(function(){return mo})),s.d(t,"ACCOUNT_DETAILS_CHANGE_REQUESTED",(function(){return So})),s.d(t,"ACCOUNT_DETAILS_CHANGE_SUCCEEDED",(function(){return ho})),s.d(t,"ACCOUNT_DETAILS_CHANGE_FAILED",(function(){return Co})),s.d(t,"ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED",(function(){return go})),s.d(t,"ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED",(function(){return Oo})),s.d(t,"ACCOUNT_DELETE_REQUESTED",(function(){return To})),s.d(t,"ACCOUNT_DELETE_SUCCEEDED",(function(){return Ao})),s.d(t,"ACCOUNT_DELETE_FAILED",(function(){return Io})),s.d(t,"ACCOUNT_ADD_REQUESTED",(function(){return fo})),s.d(t,"ACCOUNT_ADD_SUCCEEDED",(function(){return Do})),s.d(t,"EMAIL_PROVIDER_SELECTED",(function(){return Ro})),s.d(t,"ACCOUNT_ADD_FAILED",(function(){return bo})),s.d(t,"ACCOUNT_ADD_FINISHED",(function(){return No})),s.d(t,"ACCOUNT_ADD_ERROR",(function(){return Mo})),s.d(t,"ACCOUNT_SETTINGS_CANCEL",(function(){return yo})),s.d(t,"ACCOUNT_ADD_WIZARD_OPENED",(function(){return Lo})),s.d(t,"ACCOUNT_ADD_SELECT_PROVIDER",(function(){return Po})),s.d(t,"ACCOUNT_DELETE_CONFIRMED",(function(){return vo})),s.d(t,"ACCOUNT_ADD_AUTHORIZED",(function(){return Fo})),s.d(t,"CONFIRM_EMAIL_RESEND_REQUESTED",(function(){return Uo})),s.d(t,"CONFIRM_EMAIL_RESEND_SUCCEEDED",(function(){return wo})),s.d(t,"CONFIRM_EMAIL_RESEND_FAILED",(function(){return Go})),s.d(t,"REVIEW_FORWARD_EMAIL",(function(){return Ho})),s.d(t,"FETCH_PRIMARY_ACCOUNT",(function(){return jo})),s.d(t,"ACCOUNT_REAUTH_REQUESTED",(function(){return ko})),s.d(t,"ACCOUNT_REAUTH_SUCCEEDED",(function(){return xo})),s.d(t,"ACCOUNT_REAUTH_FAILED",(function(){return Bo})),s.d(t,"MESSAGE_CARD_EXPANSION_CHANGED",(function(){return Vo})),s.d(t,"V3_MESSAGE_CARD_EXPANSION_CHANGED",(function(){return Wo})),s.d(t,"MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED",(function(){return Ko})),s.d(t,"SOCIAL_ACCOUNTS_STATUS_RECEIVED",(function(){return qo})),s.d(t,"SOCIAL_ACCOUNT_STATUS_FETCH_FAILED",(function(){return Yo})),s.d(t,"SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED",(function(){return zo})),s.d(t,"SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED",(function(){return Qo})),s.d(t,"SOCIAL_ACCOUNTS_DISCONNECT_FAILED",(function(){return Zo})),s.d(t,"SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED",(function(){return Xo})),s.d(t,"SOCIAL_ACCOUNTS_CONNECT_FAILED",(function(){return $o})),s.d(t,"SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED",(function(){return Jo})),s.d(t,"SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED",(function(){return ei})),s.d(t,"SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED",(function(){return ti})),s.d(t,"SOCIAL_ACCOUNTS_IMPORT_FAILED",(function(){return si})),s.d(t,"SOCIAL_ACCOUNTS_CONNECT_REQUESTED",(function(){return ri})),s.d(t,"IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED",(function(){return ni})),s.d(t,"DISCONNECT_CONTACTS_PROVIDER_REQUESTED",(function(){return ai})),s.d(t,"CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED",(function(){return oi})),s.d(t,"CONTACTS_PROVIDERS_STATUS_FETCH_FAILED",(function(){return ii})),s.d(t,"DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED",(function(){return ci})),s.d(t,"DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED",(function(){return li})),s.d(t,"DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED",(function(){return di})),s.d(t,"DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED",(function(){return Ei})),s.d(t,"DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_DELETE",(function(){return _i})),s.d(t,"ALIAS_EMAIL_CREATE_REQUESTED",(function(){return ui})),s.d(t,"ALIAS_EMAIL_CREATE_SUCCEEDED",(function(){return pi})),s.d(t,"ALIAS_EMAIL_CREATE_FAILED",(function(){return mi})),s.d(t,"UNSEEN_COUNT_RESET",(function(){return Si})),s.d(t,"UNSUBSCRIBE_BY_EMAIL_REQUESTED",(function(){return hi})),s.d(t,"UNSUBSCRIBE_BY_EMAIL_SUCCEEDED",(function(){return Ci})),s.d(t,"UNSUBSCRIBE_BY_EMAIL_FAILED",(function(){return gi})),s.d(t,"UNSUBSCRIBE_BY_BRAND_REQUESTED",(function(){return Oi})),s.d(t,"UNSUBSCRIBE_BY_BRAND_SUCCEEDED",(function(){return Ti})),s.d(t,"UNSUBSCRIBE_BY_BRAND_FAILED",(function(){return Ai})),s.d(t,"TUTORIAL_VIDEO_PLAYED",(function(){return Ii})),s.d(t,"EXCEPTION_OCCURRED",(function(){return fi})),s.d(t,"MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED",(function(){return Di})),s.d(t,"MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED",(function(){return Ri})),s.d(t,"UNSUBSCRIBE_LIST_REQUEST_SUCCEEDED",(function(){return bi})),s.d(t,"UNSUBSCRIBE_LIST_REQUEST_FAILED",(function(){return Ni})),s.d(t,"CHANNEL_CHANGED",(function(){return Mi})),s.d(t,"VIDEO_PLAYER_OPENED",(function(){return yi})),s.d(t,"VIDEO_PLAYER_CLOSED",(function(){return Li})),s.d(t,"CHANNELS_FETCH_REQUESTED",(function(){return Pi})),s.d(t,"VIDEO_CHANNELS_METADATA_RECEIVED",(function(){return vi})),s.d(t,"VIDEO_CHANNELS_METADATA_FAILED",(function(){return Fi})),s.d(t,"CHANNEL_FETCH_REQUESTED",(function(){return Ui})),s.d(t,"VIDEO_CHANNEL_RECEIVED",(function(){return wi})),s.d(t,"VIDEO_CHANNEL_FAILED",(function(){return Gi})),s.d(t,"VIDEO_PLAYER_PLAYED",(function(){return Hi})),s.d(t,"VIDEO_PLAYER_PAUSED",(function(){return ji})),s.d(t,"EMPTY_FOLDER_VIDEO_FETCH_CHANNEL",(function(){return ki})),s.d(t,"CONTACT_PICKER_OPENED",(function(){return xi})),s.d(t,"CONTACT_PICKER_GROUP_CHANGED",(function(){return Bi})),s.d(t,"CONTACT_SAVE_REQUESTED",(function(){return Vi})),s.d(t,"CONTACT_SAVE_SUCCEEDED",(function(){return Wi})),s.d(t,"CONTACT_SAVE_FAILED",(function(){return Ki})),s.d(t,"CONTACT_PHOTO_UPLOAD_SUCCEEDED",(function(){return qi})),s.d(t,"CONTACT_PHOTO_UPLOAD_FAILED",(function(){return Yi})),s.d(t,"CREATE_CONTACT_FAILED",(function(){return zi})),s.d(t,"CREATE_CONTACT_SUCCEEDED",(function(){return Qi})),s.d(t,"DELETE_CONTACT_REQUESTED",(function(){return Zi})),s.d(t,"DELETE_CONTACT_SUCCEEDED",(function(){return Xi})),s.d(t,"DELETE_CONTACT_FAILED",(function(){return $i})),s.d(t,"ADD_TO_CONTACTS",(function(){return Ji})),s.d(t,"EDIT_CONTACT_FROM_CARD",(function(){return ec})),s.d(t,"MESSAGE_READ_AD_ROTATION_TIMER",(function(){return tc})),s.d(t,"EMOJI_PICKER_CLOSED",(function(){return sc})),s.d(t,"EMOJI_PICKER_OPENED",(function(){return rc})),s.d(t,"EMOJI_CATEGORY_CHANGED",(function(){return nc})),s.d(t,"CONTACT_DRAG_DROP",(function(){return ac})),s.d(t,"LEGACY_WIDERMAIL_EXTN_DETECTED",(function(){return oc})),s.d(t,"FEATURE_DISABLED",(function(){return ic})),s.d(t,"FEATURE_ENABLED",(function(){return cc})),s.d(t,"MAILBOX_NOT_SYNCING",(function(){return lc})),s.d(t,"GET_INVITE_INFO_REQUESTED",(function(){return dc})),s.d(t,"RESPOND_TO_INVITE",(function(){return Ec})),s.d(t,"RESPOND_TO_INVITE_SUCCEEDED",(function(){return _c})),s.d(t,"RESPOND_TO_INVITE_FAILED",(function(){return uc})),s.d(t,"RSVP_NAVIGATE_TO_CALENDAR",(function(){return pc})),s.d(t,"INVITEINFO_FETCH_SUCCEEDED",(function(){return mc})),s.d(t,"INVITEINFO_FETCH_FAILED",(function(){return Sc})),s.d(t,"DRAWER_OPENED",(function(){return hc})),s.d(t,"DRAWER_CLOSED",(function(){return Cc})),s.d(t,"CC_BCC_TOGGLED",(function(){return gc})),s.d(t,"LIST_REFRESHED",(function(){return Oc})),s.d(t,"APP_INSTALL_CUE_CONTINUE",(function(){return Tc})),s.d(t,"APP_INSTALL_CUE_INVOKED",(function(){return Ac})),s.d(t,"APP_BANNER_SHOWN",(function(){return Ic})),s.d(t,"NAVIGATE_TO_MAIL_PRO",(function(){return fc})),s.d(t,"NAVIGATE_TO_WIDER_PROMO",(function(){return Dc})),s.d(t,"LOCATION_SUGGEST_REQUESTED",(function(){return Rc})),s.d(t,"LOCATION_SUGGEST_FAILED",(function(){return bc})),s.d(t,"LOCATION_SUGGEST_SUCCEEDED",(function(){return Nc})),s.d(t,"NAVIGATE_TO_BOOKING",(function(){return Mc})),s.d(t,"BOOKING_CARD_RENDERED",(function(){return yc})),s.d(t,"COUPONS_ADD_TAG_DECO_REQUESTED",(function(){return Lc})),s.d(t,"COUPONS_REMOVE_TAG_DECO_REQUESTED",(function(){return Pc})),s.d(t,"COUPONS_ADD_TAG_DECO_SUCCEEDED",(function(){return vc})),s.d(t,"COUPONS_REMOVE_TAG_DECO_SUCCEEDED",(function(){return Fc})),s.d(t,"COUPONS_ADD_TAG_DECO_FAILED",(function(){return Uc})),s.d(t,"COUPONS_REMOVE_TAG_DECO_FAILED",(function(){return wc})),s.d(t,"PHISHING_BANNER_MOUNTED",(function(){return Gc})),s.d(t,"PHISHING_REMOVE_BDM_DECO_REQUESTED",(function(){return Hc})),s.d(t,"PHISHING_REMOVE_BDM_DECO_SUCCEEDED",(function(){return jc})),s.d(t,"PHISHING_REMOVE_BDM_DECO_FAILED",(function(){return kc})),s.d(t,"PARENT_MESSAGE_METADATA_REQUESTED",(function(){return xc})),s.d(t,"PARENT_MESSAGE_METADATA_SUCCEEDED",(function(){return Bc})),s.d(t,"PARENT_MESSAGE_METADATA_FAILED",(function(){return Vc})),s.d(t,"COUPON_RECOMMENDATIONS_OPENED",(function(){return Wc})),s.d(t,"COUPON_RECOMMENDATIONS_CLOSED",(function(){return Kc})),s.d(t,"COUPON_RECOMMENDATIONS_AD_CLICKED",(function(){return qc})),s.d(t,"MORE_SMARTVIEW_COUPONS_REQUESTED",(function(){return Yc})),s.d(t,"MORE_COUPONS_REQUESTED",(function(){return zc})),s.d(t,"MORE_COUPONS_REQUEST_FAILED",(function(){return Qc})),s.d(t,"MORE_COUPONS_SUCCESS",(function(){return Zc})),s.d(t,"COUPONS_LIST_SUCCEEDED",(function(){return Xc})),s.d(t,"COUPONS_LIST_FAILED",(function(){return $c})),s.d(t,"DEALS_VIEW_EXPANSION_TOGGLED",(function(){return Jc})),s.d(t,"EXTRACT_COUPON_REQUESTED",(function(){return el})),s.d(t,"EXTRACT_COUPON_SUCCEEDED",(function(){return tl})),s.d(t,"EXTRACT_COUPON_FAILED",(function(){return sl})),s.d(t,"SELF_EXTRACT_COUPON_MODAL_OPENED",(function(){return rl})),s.d(t,"SELF_EXTRACT_COUPON_MODAL_CLOSED",(function(){return nl})),s.d(t,"ACTIVATE_OFFER_FAILED",(function(){return al})),s.d(t,"ACTIVATE_OFFER_REQUESTED",(function(){return ol})),s.d(t,"ACTIVATE_OFFER_SUCCEEDED",(function(){return il})),s.d(t,"ACTIVATED_OFFERS_LIST_FAILED",(function(){return cl})),s.d(t,"ACTIVATED_OFFERS_LIST_SUCCEEDED",(function(){return ll})),s.d(t,"DELETE_GROCERY_ITEMS_FAILED",(function(){return dl})),s.d(t,"DELETE_GROCERY_ITEMS_REQUESTED",(function(){return El})),s.d(t,"DELETE_GROCERY_ITEMS_SUCCEEDED",(function(){return _l})),s.d(t,"LINK_MODAL_CLOSED",(function(){return ul})),s.d(t,"LINK_MODAL_OPENED",(function(){return pl})),s.d(t,"LINK_RETAILER_FAILED",(function(){return ml})),s.d(t,"LINK_RETAILER_REQUESTED",(function(){return Sl})),s.d(t,"LINK_RETAILER_SUCCEEDED",(function(){return hl})),s.d(t,"LINKED_CARD_CLICKED",(function(){return Cl})),s.d(t,"LINKED_CARD_SHOWN",(function(){return gl})),s.d(t,"OFFERS_LIST_FAILED",(function(){return Ol})),s.d(t,"OFFERS_LIST_SUCCEEDED",(function(){return Tl})),s.d(t,"PRINT_OFFERS_FAILED",(function(){return Al})),s.d(t,"PRINT_OFFERS_REQUESTED",(function(){return Il})),s.d(t,"PRINT_OFFERS_SUCCEEDED",(function(){return fl})),s.d(t,"QUOTIENT_MODAL_SHOWN",(function(){return Dl})),s.d(t,"GROCERY_SEARCH_ASSIST_FAILED",(function(){return Rl})),s.d(t,"GROCERY_SEARCH_ASSIST_REQUESTED",(function(){return bl})),s.d(t,"GROCERY_SEARCH_ASSIST_SUCCEEDED",(function(){return Nl})),s.d(t,"UNLINK_RETAILER_FAILED",(function(){return Ml})),s.d(t,"UNLINK_RETAILER_REQUESTED",(function(){return yl})),s.d(t,"UNLINK_RETAILER_SUCCEEDED",(function(){return Ll})),s.d(t,"CATEGORY_FOLLOW_REQUESTED",(function(){return Pl})),s.d(t,"CATEGORY_UNFOLLOW_REQUESTED",(function(){return vl})),s.d(t,"CATEGORY_FOLLOW_SUCCEEDED",(function(){return Fl})),s.d(t,"CATEGORY_FOLLOW_FAILED",(function(){return Ul})),s.d(t,"CATEGORY_UNFOLLOW_SUCCEEDED",(function(){return wl})),s.d(t,"CATEGORY_UNFOLLOW_FAILED",(function(){return Gl})),s.d(t,"CATEGORY_FOLLOW_FAILURE_RESET",(function(){return Hl})),s.d(t,"GET_RETAILER_LOCATIONS_REQUESTED",(function(){return jl})),s.d(t,"GET_RETAILER_LOCATIONS_SUCCEEDED",(function(){return kl})),s.d(t,"GET_RETAILER_LOCATIONS_FAILED",(function(){return xl})),s.d(t,"UPDATE_PREFERRED_STORE_REQUESTED",(function(){return Bl})),s.d(t,"UPDATE_PREFERRED_STORE_SUCCEEDED",(function(){return Vl})),s.d(t,"UPDATE_PREFERRED_STORE_FAILED",(function(){return Wl})),s.d(t,"REFRESH_SHOPPING_LIST_REQUESTED",(function(){return Kl})),s.d(t,"CHANGE_GROCERY_ITEMS_QUANTITY_REQUESTED",(function(){return ql})),s.d(t,"CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED",(function(){return Yl})),s.d(t,"CHANGE_GROCERY_ITEMS_QUANTITY_FAILED",(function(){return zl})),s.d(t,"TOGGLE_GROCERY_CATEGORIES_EXPANSION",(function(){return Ql})),s.d(t,"AFFILIATE_OFFERS_FAILED",(function(){return Zl})),s.d(t,"AFFILIATE_OFFERS_REQUESTED",(function(){return Xl})),s.d(t,"AFFILIATE_OFFERS_SUCCEEDED",(function(){return $l})),s.d(t,"INBOX_COMMERCE_FEATURE_CLICKED",(function(){return Jl})),s.d(t,"ASTRA_BATCH_API_FAILED",(function(){return ed})),s.d(t,"ASTRA_BATCH_API_SUCCEEDED",(function(){return td})),s.d(t,"ADBLOCK_UPSELL_EXTENSION_INSTALL_SUCCEEDED",(function(){return sd})),s.d(t,"ADBLOCK_UPSELL_EXTENSION_INSTALL_FAILED",(function(){return rd})),s.d(t,"ADBLOCK_UPSELL_OPTION_CLICKED",(function(){return nd})),s.d(t,"ADBLOCK_DETECTED",(function(){return ad})),s.d(t,"ADBLOCK_BEACON_FAILED",(function(){return od})),s.d(t,"ABP_DETECTED",(function(){return id})),s.d(t,"SUBSCRIPTION_LIST_FETCH_SUCCEEDED",(function(){return cd})),s.d(t,"SUBSCRIPTION_LIST_FETCH_FAILED",(function(){return ld})),s.d(t,"SUBSCRIPTION_LIST_FILTER_CHANGED",(function(){return dd})),s.d(t,"SUBSCRIPTION_LIST_SORT_ORDER_CHANGED",(function(){return Ed})),s.d(t,"SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED",(function(){return _d})),s.d(t,"SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED",(function(){return ud})),s.d(t,"SHOW_MOBILE_ONBOARDING_CUE",(function(){return pd})),s.d(t,"USER_DWELLED_ON_CONTENT",(function(){return md})),s.d(t,"USER_NAVIGATED_ONBOARDING",(function(){return Sd})),s.d(t,"RIGHT_RAIL_COMMS_ICON_CLICKED",(function(){return hd})),s.d(t,"CONTACTS_PANE_LIST_FILTER_CHANGED",(function(){return Cd})),s.d(t,"CONTACTS_LIST_FETCH_SUCCEEDED",(function(){return gd})),s.d(t,"CONTACTS_LIST_FETCH_FAILED",(function(){return Od})),s.d(t,"CONTACTS_GROUP_FETCH_SUCCEEDED",(function(){return Td})),s.d(t,"CONTACTS_GROUP_FETCH_FAILED",(function(){return Ad})),s.d(t,"CATEGORY_LIST_EXPANSION_TOGGLED",(function(){return Id})),s.d(t,"CONTACTS_PANE_CONTACT_CLICKED",(function(){return fd})),s.d(t,"CONTACTS_PANE_BACK_BUTTON_CLICKED",(function(){return Dd})),s.d(t,"CONTACTS_PANE_EDIT_BUTTON_CLICKED",(function(){return Rd})),s.d(t,"CONTACTS_PANE_CREATE_GROUP_BUTTON_CLICKED",(function(){return bd})),s.d(t,"CONTACT_EDIT_CANCELLED",(function(){return Nd})),s.d(t,"CONTACTS_PANE_SEARCHED",(function(){return Md})),s.d(t,"CONTACT_CREATE_CLICKED",(function(){return yd})),s.d(t,"CONTACT_SEARCH_CLOSED",(function(){return Ld})),s.d(t,"CONTACTS_SORT_ORDER_CHANGED",(function(){return Pd})),s.d(t,"CONTACTS_PANE_CREATE_GROUP_REQUESTED",(function(){return vd})),s.d(t,"CONTACTS_PANE_SAVE_GROUP_REQUESTED",(function(){return Fd})),s.d(t,"CONTACTS_PANE_SAVE_GROUP_SUCCEEDED",(function(){return Ud})),s.d(t,"CONTACTS_PANE_SAVE_GROUP_FAILED",(function(){return wd})),s.d(t,"CONTACTS_PANE_CREATE_GROUP_SUCCEEDED",(function(){return Gd})),s.d(t,"CONTACTS_PANE_CREATE_GROUP_FAILED",(function(){return Hd})),s.d(t,"CONTACTS_PANE_GROUP_CHANGED",(function(){return jd})),s.d(t,"CONTACTS_PANE_EDIT_GROUP",(function(){return kd})),s.d(t,"CONTACTS_GROUP_DELETE_REQUESTED",(function(){return xd})),s.d(t,"CONTACTS_GROUP_EDIT_EMAIL_SEARCH",(function(){return Bd})),s.d(t,"CONTACTS_GROUP_DELETE_SUCCEEDED",(function(){return Vd})),s.d(t,"CONTACTS_GROUP_DELETE_FAILED",(function(){return Wd})),s.d(t,"EXPORT_ALL_CONTACTS_REQUESTED",(function(){return Kd})),s.d(t,"PRINT_ALL_CONTACTS_REQUESTED",(function(){return qd})),s.d(t,"FETCH_ALL_CONTACTS_SUCCESS",(function(){return Yd})),s.d(t,"FETCH_ALL_CONTACTS_FAILED",(function(){return zd})),s.d(t,"RELATED_SEARCHES_FETCH_SUCCEEDED",(function(){return Qd})),s.d(t,"RELATED_SEARCHES_FETCH_FAILED",(function(){return Zd})),s.d(t,"RELATED_SEARCHES_CARD_CLICKED",(function(){return Xd})),s.d(t,"SHOW_PUSH_NOTIFICATIONS_CUE",(function(){return $d})),s.d(t,"PUSH_NOTIFICATIONS_REQUEST_GRANTED",(function(){return Jd})),s.d(t,"VIGLINK_CLICKED",(function(){return eE})),s.d(t,"UNUSUAL_DISCOUNT_VIGLINK_CLICKED",(function(){return tE})),s.d(t,"PERMANENT_DELETE_CANCELLED",(function(){return sE})),s.d(t,"VIEW_RAW_MESSAGE",(function(){return rE})),s.d(t,"FETCH_RAW_MESSAGE",(function(){return nE})),s.d(t,"FETCH_RAW_MESSAGE_SUCCEEDED",(function(){return aE})),s.d(t,"FETCH_RAW_MESSAGE_FAILED",(function(){return oE})),s.d(t,"SPONSORED_MOMENT_CLICKED",(function(){return iE})),s.d(t,"SPONSORED_MOMENT_CLOSED",(function(){return cE})),s.d(t,"COUPONS_SEARCH_TOP_DEAL_CLICKED",(function(){return lE})),s.d(t,"TOGGLE_DETAIL_PANE_EXPANSION",(function(){return dE})),s.d(t,"AD_FORMAT_SELECTION_CLOSED",(function(){return EE})),s.d(t,"UPDATE_AD_FORMAT_SELECTION_CLICKED",(function(){return _E})),s.d(t,"POST_LAUNCH_SYNC_SUCCEEDED",(function(){return uE})),s.d(t,"POST_LAUNCH_SYNC_FAILED",(function(){return pE})),s.d(t,"POST_LAUNCH_ATTRIBUTES_RECEIVED",(function(){return mE})),s.d(t,"COMPOSE_ATTRIBUTES_REQUESTED",(function(){return SE})),s.d(t,"COMPOSE_ATTRIBUTES_RECEIVED",(function(){return hE})),s.d(t,"COMPOSE_ATTRIBUTES_FETCH_FAILED",(function(){return CE})),s.d(t,"TOP_RETAILERS_REQUEST_SUCCEEDED",(function(){return gE})),s.d(t,"TOP_RETAILERS_REQUEST_FAILED",(function(){return OE})),s.d(t,"TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED",(function(){return TE})),s.d(t,"TOP_DEAL_CATEGORIES_REQUEST_FAILED",(function(){return AE})),s.d(t,"USER_NAME_PHONE_REG_UPSELL_LOADED",(function(){return IE})),s.d(t,"USER_NAME_PHONE_REG_CANCEL_AUTH",(function(){return fE})),s.d(t,"RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED",(function(){return DE})),s.d(t,"RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED",(function(){return RE})),s.d(t,"RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED",(function(){return bE})),s.d(t,"TOM_UPSELL_CLICKED",(function(){return NE})),s.d(t,"TOM_UPSELL_SHOWN",(function(){return ME})),s.d(t,"LASTPASS_FREETRIAL_UPSELL_SHOWN",(function(){return yE})),s.d(t,"SECURITY_SUBSCRIPTIONS_UPSELL_CLICKED",(function(){return LE})),s.d(t,"MEMBERSHIP_REWARDS_LAUNCH_SUCCESS",(function(){return PE})),s.d(t,"MEMBERSHIP_REWARDS_LAUNCH_FAILED",(function(){return vE})),s.d(t,"TMR_NAVIGATE_TO_ATOS",(function(){return FE})),s.d(t,"TMR_REGISTER_ACTION_SUCCESS",(function(){return UE})),s.d(t,"TMR_REGISTER_ACTION_FAILED",(function(){return wE})),s.d(t,"TMR_TAB_CHANGE",(function(){return GE})),s.d(t,"TMR_SPIN_COMPLETED",(function(){return HE})),s.d(t,"TMR_NAVIGATE_TO_URL",(function(){return jE})),s.d(t,"TMR_POINT_ICON_CLICK",(function(){return kE})),s.d(t,"UNSUBSCRIBE_MARKETING_PREFERENCES",(function(){return xE})),s.d(t,"MARKETING_PREFERENCES_WRITE_SUCCEEDED",(function(){return BE})),s.d(t,"MARKETING_PREFERENCES_WRITE_FAILED",(function(){return VE})),s.d(t,"DISPATCHER_UPSELL_FETCH_SUCCEEDED",(function(){return WE})),s.d(t,"DISPATCHER_UPSELL_FETCH_FAILED",(function(){return KE})),s.d(t,"PURCHASE_MAILPRO_FREE_TRIAL",(function(){return qE})),s.d(t,"PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS",(function(){return YE})),s.d(t,"PURCHASE_MAILPRO_FREE_TRIAL_FAILED",(function(){return zE})),s.d(t,"LIST_MAILPRO_SUBSCRIPTIONS_SUCCESS",(function(){return QE})),s.d(t,"LIST_MAILPRO_SUBSCRIPTIONS_FAILED",(function(){return ZE})),s.d(t,"ADD_COMPOSE_HEADER",(function(){return XE})),s.d(t,"DELETE_COMPOSE_HEADER",(function(){return $E})),s.d(t,"UPDATE_COMPOSE_HEADER_FOCUS",(function(){return JE})),s.d(t,"FORWARD_ATTACHMENTS",(function(){return e_})),s.d(t,"CLEAR_FORWARDED_ATTACHMENT_IDS",(function(){return t_})),s.d(t,"FORCE_OPTIN_DONE",(function(){return s_})),s.d(t,"SHOPPING_CART_AD_CLICKED",(function(){return r_})),s.d(t,"DEALS_SHOPPING_CART_AD_CLICKED",(function(){return n_})),s.d(t,"PAC_CUE_MARK_AS_SHOWN_REQUESTED",(function(){return a_})),s.d(t,"REPLY_SUGGESTIONS_RECEIVED",(function(){return o_})),s.d(t,"BREAKING_NEWS_SUCCESS",(function(){return i_})),s.d(t,"BREAKING_NEWS_FAILED",(function(){return c_})),s.d(t,"BREAKING_NEWS_DISMISSED",(function(){return l_})),s.d(t,"BREAKING_NEWS_REFRESH",(function(){return d_})),s.d(t,"BREAKING_NEWS_CLICKED",(function(){return E_})),s.d(t,"BREAKING_NEWS_RENDERED",(function(){return __})),s.d(t,"SENDER_ROLLUP_SUCCEEDED",(function(){return u_})),s.d(t,"MORE_SENDER_ROLLUP_REQUESTED",(function(){return p_})),s.d(t,"MORE_SENDER_ROLLUP_SUCCEEDED",(function(){return m_})),s.d(t,"MORE_SENDER_ROLLUP_FAILED",(function(){return S_})),s.d(t,"SENDER_ROLLUP_FAILED",(function(){return h_})),s.d(t,"NEED_TO_KNOW_NEWS_SUCCEEDED",(function(){return C_})),s.d(t,"NEED_TO_KNOW_NEWS_FAILED",(function(){return g_})),s.d(t,"NEED_TO_KNOW_NEWS_CUE_CLICKED",(function(){return O_})),s.d(t,"CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED",(function(){return T_})),s.d(t,"CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED",(function(){return A_})),s.d(t,"CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED",(function(){return I_})),s.d(t,"CLOUD_STORAGE_ACCOUNT_DISCONNECT_REQUESTED",(function(){return f_})),s.d(t,"CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED",(function(){return D_})),s.d(t,"CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED",(function(){return R_})),s.d(t,"CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED",(function(){return b_})),s.d(t,"CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED",(function(){return N_})),s.d(t,"CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED",(function(){return M_})),s.d(t,"CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED",(function(){return y_})),s.d(t,"CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED",(function(){return L_})),s.d(t,"CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED",(function(){return P_})),s.d(t,"CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED",(function(){return v_})),s.d(t,"CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED",(function(){return F_})),s.d(t,"CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED",(function(){return U_})),s.d(t,"CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED",(function(){return w_})),s.d(t,"CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_DIALOG_CLICKED",(function(){return G_})),s.d(t,"ATTACH_FILES_MENU_ITEM_CLICKED",(function(){return H_})),s.d(t,"CLOUD_STORAGE_ITEM_LINK_ADDED",(function(){return j_})),s.d(t,"CLOUD_STORAGE_ITEM_PREVIEW_CLICKED",(function(){return k_})),s.d(t,"CLOUD_STORAGE_ITEM_PERMISSION_UPDATED",(function(){return x_})),s.d(t,"FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED",(function(){return B_})),s.d(t,"FALCON_TOM_SUBSCRIPTIONS_FETCH_FAILED",(function(){return V_}));const r="INITIAL_STATE",n="LAUNCH_COMPLETED",a="APP_LOAD_COMPLETED",o="WINDOW_RESIZING",i="WINDOW_RESIZED",c="APPLICATION_VISIBILITY_DID_CHANGE",l="CANCEL_APP_RELOAD",d="CONFIRM_APP_RELOAD",E="SHOW_APP_RELOAD",_="LAUNCH_ERROR",u="USER_LOCATION_UPDATE_SUCCEEDED",p="USER_LOCATION_UPDATE_FAILED",m="HEADER_NAVIGATION_SELECTED",S="ACCOUNT_MENU_SHOWN",h="USER_LOGGED_OUT",C="HOME_BUTTON_CLICKED",g="TIMEZONE_CHANGE_DETECTED",O="PREFERRED_TIMEZONE_CHANGE_REJECTED",T="ONLINE_STATUS_CHANGED",A="OPEN_PAGE_REQUESTED",I="CLOSE_PAGE_REQUESTED",f="CLOSE_ALL_PAGES_REQUESTED",D="EXTERNAL_LINK_CLICKED",R="SYNC_DATA",b="SYNC_NOW_SUCCEEDED",N="SYNC_NOW_FAILED",M="ROTATE_AD_ON_LIST_SCROLL",y="LAUNCH_PAGE_REQUESTED",L="LAUNCH_FAILED",P="OPEN_TABS_MENU",v="PREVIEW_MESSAGE_REQUESTED",F="PREVIEW_MESSAGE_CLOSED",U="MULTI_TASKING_PREF_CHANGE_REQUESTED",w="MULTI_TASKING_PREF_CHANGE_SUCCEEDED",G="MULTI_TASKING_PREF_CHANGE_FAILED",H="EXPAND_ACCOUNT_LIST",j="EXPANDED_FOLDERS_PREF_CHANGE_REQUESTED",k="EXPANDED_FOLDERS_PREF_CHANGE_SUCCEEDED",x="EXPANDED_FOLDERS_PREF_CHANGE_FAILED",B="SHOW_CUSTOM_FOLDERS_PREF_CHANGE_REQUESTED",V="SHOW_CUSTOM_FOLDERS_PREF_CHANGE_SUCCEEDED",W="SHOW_CUSTOM_FOLDERS_PREF_CHANGE_FAILED",K="CONVERSATIONS_CHANGE_REQUESTED",q="CONVERSATIONS_CHANGE_SUCCEEDED",Y="CONVERSATIONS_CHANGE_FAILED",z="SHOW_IMAGE_PREF_CHANGE_REQUESTED",Q="SHOW_IMAGE_PREF_CHANGE_SUCCEEDED",Z="SHOW_IMAGE_PREF_CHANGE_FAILED",X="MESSAGE_READ_SHOW_IMAGES_REQUESTED",$="HIDEAD_PREF_CHANGE_REQUESTED",J="HIDEAD_PREF_CHANGE_SUCCEEDED",ee="HIDEAD_PREF_CHANGE_FAILED",te="MESSAGE_LIST_DENSITY_PREF_CHANGE_REQUESTED",se="MESSAGE_LIST_DENSITY_PREF_CHANGE_SUCCEEDED",re="MESSAGE_LIST_DENSITY_PREF_CHANGE_FAILED",ne="ACTION_AFTER_MESSAGE_MOVE_CHANGE_REQUESTED",ae="ACTION_AFTER_MESSAGE_MOVE_CHANGE_SUCCEEDED",oe="ACTION_AFTER_MESSAGE_MOVE_CHANGE_FAILED",ie="DEFAULT_SENDING_ADDRESS_CHANGE_REQUESTED",ce="DEFAULT_SENDING_ADDRESS_CHANGE_SUCCEEDED",le="DEFAULT_SENDING_ADDRESS_CHANGE_FAILED",de="SIGNATURE_STATUS_CHANGE_REQUESTED",Ee="SIGNATURE_STATUS_CHANGE_SUCCEEDED",_e="SIGNATURE_STATUS_CHANGE_FAILED",ue="SIGNATURE_TEXT_CHANGE_REQUESTED",pe="SIGNATURE_TEXT_CHANGE_SUCCEEDED",me="SIGNATURE_TEXT_CHANGE_FAILED",Se="COMPOSE_FONT_SIZE_CHANGE_REQUESTED",he="COMPOSE_FONT_SIZE_CHANGE_SUCCEEDED",Ce="COMPOSE_FONT_SIZE_CHANGE_FAILED",ge="COMPOSE_FONT_FAMILY_CHANGE_REQUESTED",Oe="COMPOSE_FONT_FAMILY_CHANGE_SUCCEEDED",Te="COMPOSE_FONT_FAMILY_CHANGE_FAILED",Ae="LINK_ENHANCER_FETCH_REQUESTED",Ie="LINK_ENHANCER_FETCH_SUCCEEDED",fe="LINK_ENHANCER_FETCH_FAILED",De="LINK_ENHANCER_ADD_LINK",Re="LINK_ENHANCER_RESIZE_LINK",be="LINK_ENHANCER_REMOVE_LINK",Ne="LINK_ENHANCER_OPEN_LINK",Me="LINK_ENHANCER_SHARE_LINK",ye="LINK_ENHANCER_MOVE_LINK_BOTTOM",Le="LINK_ENHANCER_MOVE_LINK_INLINE",Pe="DARLA_ADS_RECEIVED",ve="DARLA_ADS_FAILED",Fe="PREFETCHED_AD_RENDERED",Ue="PREFETCHED_ADS_RENDERED",we="LOOK_AHEAD_ADS_PARSED",Ge="LOOK_AHEAD_ADS_RENDERED",He="AD_ROTATION_SKIPPED",je="PREMIUM_AD_STARTED",ke="PREMIUM_AD_STOPPED",xe="HIDE_RIGHT_PANE_ADS",Be="AD_RECEIVED",Ve="AD_FAILED",We="GEMINI_AD_RECEIVED",Ke="GEMINI_AD_FAILED",qe="GEMINI_AD_REQUESTED",Ye="AD_FALLBACK_CLICKED",ze="PENCIL_AD_CLICKED",Qe="AD_FEEDBACK_STARTED",Ze="AD_FEEDBACK_SUBMITTED",Xe="AD_FEEDBACK_CLOSED",$e="GEMINI_SPONSORED_ASSET_RECEIVED",Je="GEMINI_SPONSORED_ASSET_FAILED",et="FLASH_SALE_AD_ENDED",tt="DELETE_PENCIL_AD",st="TOGGLE_PENCIL_AD_SELECTION",rt="SEARCH_AD_RENDERED",nt="AD_FEEDBACK_CLICKED",at="SHOPPING_CART_AD_RENDERED",ot="DEALS_SHOPPING_CART_AD_RENDERED",it="ADFREE_UPSELL_ACCEPT",ct="ADFREE_UPSELL_CANCEL",lt="GET_WIDER_MAIL_EXTENSION_URL",dt="WIDER_MAIL_INSTALL_SUCCESS",Et="WIDER_MAIL_INSTALL_FAILURE",_t="KEY_DID_BIND",ut="KEY_DID_UPDATE",pt="KEY_DID_UNBIND",mt="NAVIGATE_TO_COMPOSE_REQUESTED",St="FEEDBACK_PANEL_GIVE_FEEDBACK",ht="V3_MESSAGE_SAVE_REQUESTED",Ct="V3_MESSAGE_SAVE_SUCCEEDED",gt="V3_MESSAGE_SAVE_FAILED",Ot="V3_MESSAGE_SEND_REQUESTED",Tt="V3_MESSAGE_SEND_SUCCEEDED",At="V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED",It="V3_MESSAGE_SEND_FAILED",ft="MESSAGE_SAVE_REQUESTED",Dt="MESSAGE_SAVE_SUCCEEDED",Rt="MESSAGE_SAVE_FAILED",bt="MESSAGE_AUTO_SAVE_REQUESTED",Nt="MESSAGE_AUTO_SAVE_SUCCEEDED",Mt="MESSAGE_AUTO_SAVE_FAILED",yt="SPONSORED_SAVE_TO_INBOX_REQUESTED",Lt="SPONSORED_SAVE_TO_INBOX_SUCCEEDED",Pt="SPONSORED_SAVE_TO_INBOX_FAILED",vt="COMPOSE_OPENED",Ft="COMPOSE_CLOSED",Ut="AUTOTAG_DROPDOWN_SHOWN",wt="AUTOTAG_CONTACT_SELECTED",Gt="EDIT_LIST_DROPDOWN_CONTACT_SELECTED",Ht="AUTOTAG_DROPDOWN_CLOSED",jt="RELATED_CONTACTS_CLOSED",kt="SEND",xt="SEND_SUCCESS",Bt="SEND_FAILURE",Vt="ATTACHMENT_STATE_UPDATED",Wt="DELETE_DRAFT_SUCCEEDED",Kt="DELETE_DRAFT_FAILED",qt="UPDATE_EDIT_DRAFT_STATE",Yt="DRAFT_SUBJECT_UPDATED",zt="CONTACT_SUGGESTIONS_REQUESTED",Qt="CONTACT_SUGGESTIONS_SUCCEEDED",Zt="DELETE_CONTACT_SUGGESTIONS_REQUESTED",Xt="DELETE_CONTACT_SUGGESTIONS_SUCCEEDED",$t="DELETE_CONTACT_SUGGESTIONS_FAILED",Jt="CONTACT_SUGGESTIONS_FAILED",es="CONTACT_ADDED",ts="COMPOSE_NO_ADDRESS_DETECTED",ss="COMPOSE_RECIPIENT_LIMIT_EXCEEDED",rs="COMPOSE_ADDRESSING_FAILED",ns="COMPOSE_INVALID_MESSAGE_OPENED",as="SUBJECT_FOCUSED",os="RTE_MORE_MENU_SHOWN",is="HANDLE_RTE_TOOLBAR_ACTIONS",cs="CONFIRM_DELETE_DIALOG_CLOSED",ls="QUOTED_TEXT_EXPANDED",ds="UPLOAD_PROGRESS_RECEIVED",Es="MAILTO_ACTION_REQUESTED",_s="ADD_BIG_ATTACHMENT",us="GIF_FETCHED",ps="GIF_FETCH_REQUESTED",ms="GIF_FETCH_SUCCEEDED",Ss="GIF_FETCH_FAILED",hs="GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED",Cs="GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED_OLD",gs="GIF_CATEGORIES_CONTENT_FETCH_REQUESTED",Os="GIF_CATEGORIES_CONTENT_FETCH_FAILED",Ts="MORE_RECEIPTS_REQUESTED",As="MORE_RECEIPTS_REQUEST_FAILED",Is="MORE_RECEIPTS_SUCCESS",fs="RECEIPTS_LIST_SUCCEEDED",Ds="RECEIPTS_LIST_FAILED",Rs="TRAVEL_LIST_SUCCEEDED",bs="TRAVEL_LIST_FAILED",Ns="MORE_TRAVEL_ITEMS_SUCCEEDED",Ms="MORE_TRAVEL_ITEMS_FAILED",ys="MESSAGE_GROUP_WITH_BODIES_OPENED",Ls="MESSAGE_GROUP_WITH_BODIES_RECEIVED",Ps="MESSAGE_GROUP_WITH_BODIES_FAILED",vs="MESSAGE_GROUP_OPENED",Fs="MESSAGE_BODIES_REQUESTED",Us="MESSAGE_BODIES_RECEIVED",ws="MESSAGE_BODIES_FAILED",Gs="MESSAGE_BODIES_OPEN_GROUP_RECEIVED",Hs="MESSAGE_CARD_FOCUSED",js="ATTACHMENT_PREVIEW_FAILED",ks="CHECK_MAIL_RECEIVED_WITH_UPDATES",xs="CHECK_MAIL_RECEIVED_WITH_NO_UPDATES",Bs="CHECK_MAIL_FAILED",Vs="MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED",Ws="MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED",Ks="MESSAGE_BODY_LINK_CLICKED",qs="DELETE_PREVIEW_REQUESTED",Ys="DELETE_PREVIEW_CLOSED",zs="STAR_CHANGE_REQUESTED",Qs="STAR_CHANGE_SUCCEEDED",Zs="STAR_CHANGE_FAILED",Xs="READ_CHANGE_REQUESTED",$s="READ_CHANGE_SUCCEEDED",Js="READ_CHANGE_FAILED",er="RECENT_AND_READ_CHANGE_REQUESTED",tr="MOVE_AND_READ_CHANGE_REQUESTED",sr="UNDO_MOVE_REQUESTED",rr="UNDO_MOVE_SUCCEEDED",nr="UNDO_MOVE_FAILED",ar="UNDO_MOVE_AND_READ_REQUESTED",or="UPDATE_ITEMS_SUCCEEDED",ir="UPDATE_ITEMS_FAILED",cr="FILE_ATTACHMENT_ADDED",lr="ATTACHMENT_REMOVED",dr="ATTACHMENT_DOWNLOADED",Er="ALL_ATTACHMENTS_DOWNLOADED",_r="INLINE_FILE_ATTACHMENT_ADDED",ur="INLINE_FILE_ATTACHMENT_REMOVED",pr="INLINE_ATTACHMENT_MOVED_TO_TRAY",mr="ATTACHMENT_MOVED_TO_INLINE",Sr="INLINE_IMAGES_TO_ATTACHMENT",hr="MESSAGES_LIST_SCROLLED",Cr="ITEM_LIST_PAGE_SCROLLED",gr="MORE_MESSAGES_REQUEST_SUCCESS",Or="MORE_MESSAGES_REQUEST_FAILED",Tr="MESSAGE_GROUP_BY_CHANGED",Ar="MESSAGE_LIST_TOOLBAR_MENU_SHOWN",Ir="MESSAGES_SELECTION_REPLACED",fr="ITEMS_DRAG_STARTED",Dr="COUPON_ICON_MSG_LIST_CLICKED",Rr="STREAM_CURSOR_MOVED",br="ALL_STREAM_ITEMS_SELECTED",Nr="STREAM_ITEMS_SELECTION_CLEARED",Mr="STREAM_CONTEXT_MENU",yr="STREAM_CONTEXT_MENU_SHOWN",Lr="STREAM_ITEM_TOGGLED",Pr="STREAM_ITEMS_MULTIPLE_TOGGLE",vr="STREAM_SELECT_CURSOR_MOVED",Fr="STREAM_ITEMS_SELECTION_CHANGED",Ur="STREAM_ITEMS_RANGE_SELECTED",wr="CHECK_REPLY_NUDGE_SUCCEEDED",Gr="CHECK_REPLY_NUDGE_FAILED",Hr="CHANGE_FOLDER_SUCCEEDED",jr="CHANGE_FOLDER_FAILED",kr="CREATE_FOLDER_REQUESTED",xr="CREATE_FOLDER_SUCCEEDED",Br="CREATE_FOLDER_FAILED",Vr="DELETE_FOLDER_REQUESTED",Wr="DELETE_FOLDER_SUCCEEDED",Kr="DELETE_FOLDER_FAILED",qr="RENAME_FOLDER_REQUESTED",Yr="RENAME_FOLDER_SUCCEEDED",zr="RENAME_FOLDER_FAILED",Qr="MOVE_FOLDER_REQUESTED",Zr="MOVE_FOLDER_SUCCEEDED",Xr="MOVE_FOLDER_FAILED",$r="FOLDER_CONTEXT_MENU_REQUESTED",Jr="DELETE_NON_EMPTY_FOLDER_REQUESTED",en="CAPTCHA_BEGAN",tn="SEARCH_INPUT_FOCUSED",sn="SEARCH_INPUT_BLURRED",rn="SEARCH_LIST_ITEMS_REQUESTED",nn="SEARCH_LIST_ITEMS_BLOCK_RECEIVED",an="SEARCH_LIST_ITEMS_RECEIVED",on="SEARCH_LIST_ITEMS_FAILED",cn="SEARCH_RELEVANCE_CUE_TRIGGERED",ln="MOVE_ITEMS_REQUESTED",dn="MOVE_ITEMS_SUCCEEDED",En="MOVE_ITEMS_FAILED",_n="MORE_ITEMS_REQUESTED",un="DELETE_ITEMS_REQUESTED",pn="DELETE_ITEMS_SUCCEEDED",mn="DELETE_ITEMS_FAILED",Sn="BLOCK_SENDERS_REQUESTED",hn="BLOCK_SENDERS_WITH_DELETE_REQUESTED",Cn="MORE_SEARCH_LIST_ITEMS_REQUESTED",gn="MORE_SEARCH_LIST_ITEMS_RECEIVED",On="MORE_SEARCH_LIST_ITEMS_FAILED",Tn="SUGGESTIONS_REQUESTED",An="SUGGESTIONS_RECEIVED",In="SUGGESTIONS_FROM_CONTACTS_RECEIVED",fn="SUGGESTIONS_FAILED",Dn="SEARCH_PLA_AD_CLICKED",Rn="RECENT_SEARCHES_REQUESTED",bn="RECENT_SEARCHES_FAILED",Nn="RECENT_SEARCHES_SUCCEEDED",Mn="DELETE_RECENT_SEARCH_REQUESTED",yn="DELETE_RECENT_SEARCH_SUCCEEDED",Ln="DELETE_RECENT_SEARCH_FAILED",Pn="ATTACHMENT_PREVIEW_SWITCH_TO_FULL_SCREEN",vn="ATTACHMENT_OPENED",Fn="ATTACHMENT_ZOOMED",Un="DOCUMENT_FETCH_SUCCEEDED",wn="DOCUMENT_FETCH_FAILED",Gn="DOCUMENT_FETCH_REQUESTED",Hn="SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED",jn="SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED",kn="SETTINGS_MENU_REQUESTED",xn="SETTINGS_MENU_CLOSED",Bn="SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED",Vn="SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED",Wn="SETTINGS_SAVE_VACATION_PREFERENCES_FAILED",Kn="SETTINGS_ADD_FILTER_REQUESTED",qn="SETTINGS_SAVE_FILTERS_REQUESTED",Yn="SETTINGS_SAVE_FILTERS_SUCCEEDED",zn="SETTINGS_SAVE_FILTERS_FAILED",Qn="SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_SUCCEEDED",Zn="SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_FAILED",Xn="SETTINGS_LOCATION_CHANGE_REQUESTED",$n="SETTINGS_LOCATION_CHANGE_SUCCEEDED",Jn="SETTINGS_LOCATION_CHANGE_FAILED",ea="SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED",ta="SETTINGS_ENHANCE_CONTACTS_FETCH_FAILED",sa="SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED",ra="SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED",na="SETTINGS_ENHANCE_CONTACTS_CHANGE_FAILED",aa="SETTINGS_FILTERS_AND_BLOCKED_SENDERS_REQUESTED",oa="SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED",ia="SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED",ca="SETTINGS_BLOCKED_SENDERS_REQUESTED",la="SETTINGS_BLOCKED_SENDERS_RECEIVED",da="SETTINGS_BLOCKED_SENDERS_FETCH_FAILED",Ea="SETTINGS_SAVE_BLOCKED_SENDERS_REQUESTED",_a="SETTINGS_SAVE_BLOCKED_SENDERS_SUCCEEDED",ua="SETTINGS_SAVE_BLOCKED_SENDERS_FAILED",pa="SETTINGS_CHANGE_REQUESTED",ma="SETTINGS_CHANGE_SUCCEEDED",Sa="SETTINGS_CHANGE_FAILED",ha="CONTACT_DETAIL_FETCH_REQUESTED",Ca="CONTACT_DETAIL_FETCH_SUCCEEDED",ga="CONTACT_DETAIL_FETCH_FAILED",Oa="IMPORTANT_CONTACTS_FETCH_SUCCEEDED",Ta="IMPORTANT_CONTACTS_FETCH_FAILED",Aa="NOTIFICATION_CLOSED",Ia="NOTIFICATION_PAUSED",fa="NOTIFICATION_RESUME",Da="SCOUT_TIMER",Ra="FEATURE_CUE_MARK_AS_SHOWN_REQUESTED",ba="FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED",Na="FEATURE_CUE_MARK_AS_SHOWN_FAILED",Ma="FEATURE_TRY_NOW_REQUESTED",ya="FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED",La="FEATURE_CUE_MARK_AS_SUCCESS_FAILED",Pa="FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED",va="FEATURE_CUE_MARK_AS_CLOSE_FAILED",Fa="FEATURE_CLOSED",Ua="FEATURE_CUE_NOTIFICATION_CLOSED",wa="CARD_MARK_AS_SHOWN_REQUESTED",Ga="CARD_TRY_NOW_REQUESTED",Ha="CARD_CLOSED",ja="BROWSER_NOTIFICATIONS_DISPLAYED",ka="BULK_PROGRESS_INITIATED",xa="BULK_PROGRESS_RECEIVED",Ba="BULK_CANCEL_REQUESTED",Va="BULK_CANCEL_FAILED",Wa="MESSAGE_PRINT_REQUESTED",Ka="MESSAGE_PRINT_SUCCEEDED",qa="MESSAGE_PRINT_CLOSED",Ya="MESSAGE_PRINT_CANCELED",za="MESSAGE_PRINT_FAILED",Qa="DOWNLOAD_REQUESTED",Za="DOWNLOAD_COMPLETED",Xa="DOWNLOAD_FAILED",$a="OPT_OUT_OF_NORRIN",Ja="OPT_OUT_REQUESTED",eo="OPT_OUT_SUBMIT_FEEDBACK",to="OPT_OUT_CANCEL_FEEDBACK",so="ABOUT_YAHOO_MAIL_PAGE_REQUESTED",ro="ADFREE_MAIL_PAGE_REQUESTED",no="HELP_PAGE_REQUESTED",ao="PRIVACY_TERMS_PAGE_REQUESTED",oo="ABOUT_OUR_ADS_PAGE_REQUESTED",io="FEEDBACK_SUBMITTED",co="SETTINGS_POPOVER_AUTOOPEN_CHANGED",lo="THEME_CHANGE_REQUESTED",Eo="THEME_CHANGE_SUCCEEDED",_o="THEME_CHANGE_FAILED",uo="THEME_MODE_CHANGE_REQUESTED",po="THEME_MODE_CHANGE_SUCCEEDED",mo="THEME_MODE_CHANGE_FAILED",So="ACCOUNT_DETAILS_CHANGE_REQUESTED",ho="ACCOUNT_DETAILS_CHANGE_SUCCEEDED",Co="ACCOUNT_DETAILS_CHANGE_FAILED",go="ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED",Oo="ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED",To="ACCOUNT_DELETE_REQUESTED",Ao="ACCOUNT_DELETE_SUCCEEDED",Io="ACCOUNT_DELETE_FAILED",fo="ACCOUNT_ADD_REQUESTED",Do="ACCOUNT_ADD_SUCCEEDED",Ro="EMAIL_PROVIDER_SELECTED",bo="ACCOUNT_ADD_FAILED",No="ACCOUNT_ADD_FINISHED",Mo="ACCOUNT_ADD_ERROR",yo="ACCOUNT_SETTINGS_CANCEL",Lo="ACCOUNT_ADD_WIZARD_OPENED",Po="ACCOUNT_ADD_SELECT_PROVIDER",vo="ACCOUNT_DELETE_CONFIRMED",Fo="ACCOUNT_ADD_AUTHORIZED",Uo="CONFIRM_EMAIL_RESEND_REQUESTED",wo="CONFIRM_EMAIL_RESEND_SUCCEEDED",Go="CONFIRM_EMAIL_RESEND_FAILED",Ho="REVIEW_FORWARD_EMAIL",jo="FETCH_PRIMARY_ACCOUNT",ko="ACCOUNT_REAUTH_REQUESTED",xo="ACCOUNT_REAUTH_SUCCEEDED",Bo="ACCOUNT_REAUTH_FAILED",Vo="MESSAGE_CARD_EXPANSION_CHANGED",Wo="V3_MESSAGE_CARD_EXPANSION_CHANGED",Ko="MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED",qo="SOCIAL_ACCOUNTS_STATUS_RECEIVED",Yo="SOCIAL_ACCOUNT_STATUS_FETCH_FAILED",zo="SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED",Qo="SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED",Zo="SOCIAL_ACCOUNTS_DISCONNECT_FAILED",Xo="SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED",$o="SOCIAL_ACCOUNTS_CONNECT_FAILED",Jo="SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED",ei="SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED",ti="SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED",si="SOCIAL_ACCOUNTS_IMPORT_FAILED",ri="SOCIAL_ACCOUNTS_CONNECT_REQUESTED",ni="IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED",ai="DISCONNECT_CONTACTS_PROVIDER_REQUESTED",oi="CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED",ii="CONTACTS_PROVIDERS_STATUS_FETCH_FAILED",ci="DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED",li="DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED",di="DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED",Ei="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED",_i="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_DELETE",ui="ALIAS_EMAIL_CREATE_REQUESTED",pi="ALIAS_EMAIL_CREATE_SUCCEEDED",mi="ALIAS_EMAIL_CREATE_FAILED",Si="UNSEEN_COUNT_RESET",hi="UNSUBSCRIBE_BY_EMAIL_REQUESTED",Ci="UNSUBSCRIBE_BY_EMAIL_SUCCEEDED",gi="UNSUBSCRIBE_BY_EMAIL_FAILED",Oi="UNSUBSCRIBE_BY_BRAND_REQUESTED",Ti="UNSUBSCRIBE_BY_BRAND_SUCCEEDED",Ai="UNSUBSCRIBE_BY_BRAND_FAILED",Ii="TUTORIAL_VIDEO_PLAYED",fi="EXCEPTION_OCCURRED",Di="MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED",Ri="MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED",bi="UNSUBSCRIBE_LIST_REQUEST_SUCCEEDED",Ni="UNSUBSCRIBE_LIST_REQUEST_FAILED",Mi="CHANNEL_CHANGED",yi="VIDEO_PLAYER_OPENED",Li="VIDEO_PLAYER_CLOSED",Pi="CHANNELS_FETCH_REQUESTED",vi="VIDEO_CHANNELS_METADATA_RECEIVED",Fi="VIDEO_CHANNELS_METADATA_FAILED",Ui="CHANNEL_FETCH_REQUESTED",wi="VIDEO_CHANNEL_RECEIVED",Gi="VIDEO_CHANNEL_FAILED",Hi="VIDEO_PLAYER_PLAYED",ji="VIDEO_PLAYER_PAUSED",ki="EMPTY_FOLDER_VIDEO_FETCH_CHANNEL",xi="CONTACT_PICKER_OPENED",Bi="CONTACT_PICKER_GROUP_CHANGED",Vi="CONTACT_SAVE_REQUESTED",Wi="CONTACT_SAVE_SUCCEEDED",Ki="CONTACT_SAVE_FAILED",qi="CONTACT_PHOTO_UPLOAD_SUCCEEDED",Yi="CONTACT_PHOTO_UPLOAD_FAILED",zi="CREATE_CONTACT_FAILED",Qi="CREATE_CONTACT_SUCCEEDED",Zi="DELETE_CONTACT_REQUESTED",Xi="DELETE_CONTACT_SUCCEEDED",$i="DELETE_CONTACT_FAILED",Ji="ADD_TO_CONTACTS",ec="EDIT_CONTACT_FROM_CARD",tc="MESSAGE_READ_AD_ROTATION_TIMER",sc="EMOJI_PICKER_CLOSED",rc="EMOJI_PICKER_OPENED",nc="EMOJI_CATEGORY_CHANGED",ac="CONTACT_DRAG_DROP",oc="LEGACY_WIDERMAIL_EXTN_DETECTED",ic="FEATURE_DISABLED",cc="FEATURE_ENABLED",lc="MAILBOX_NOT_SYNCING",dc="GET_INVITE_INFO_REQUESTED",Ec="RESPOND_TO_INVITE",_c="RESPOND_TO_INVITE_SUCCEEDED",uc="RESPOND_TO_INVITE_FAILED",pc="RSVP_NAVIGATE_TO_CALENDAR",mc="INVITEINFO_FETCH_SUCCEEDED",Sc="INVITEINFO_FETCH_FAILED",hc="DRAWER_OPENED",Cc="DRAWER_CLOSED",gc="CC_BCC_TOGGLED",Oc="LIST_REFRESHED",Tc="APP_INSTALL_CUE_CONTINUE",Ac="APP_INSTALL_CUE_INVOKED",Ic="APP_BANNER_SHOWN",fc="NAVIGATE_TO_MAIL_PRO",Dc="NAVIGATE_TO_WIDER_PROMO",Rc="LOCATION_SUGGEST_REQUESTED",bc="LOCATION_SUGGEST_FAILED",Nc="LOCATION_SUGGEST_SUCCEEDED",Mc="NAVIGATE_TO_BOOKING",yc="BOOKING_CARD_RENDERED",Lc="COUPONS_ADD_TAG_DECO_REQUESTED",Pc="COUPONS_REMOVE_TAG_DECO_REQUESTED",vc="COUPONS_ADD_TAG_DECO_SUCCEEDED",Fc="COUPONS_REMOVE_TAG_DECO_SUCCEEDED",Uc="COUPONS_ADD_TAG_DECO_FAILED",wc="COUPONS_REMOVE_TAG_DECO_FAILED",Gc="PHISHING_BANNER_MOUNTED",Hc="PHISHING_REMOVE_BDM_DECO_REQUESTED",jc="PHISHING_REMOVE_BDM_DECO_SUCCEEDED",kc="PHISHING_REMOVE_BDM_DECO_FAILED",xc="PARENT_MESSAGE_METADATA_REQUESTED",Bc="PARENT_MESSAGE_METADATA_SUCCEEDED",Vc="PARENT_MESSAGE_METADATA_FAILED",Wc="COUPON_RECOMMENDATIONS_OPENED",Kc="COUPON_RECOMMENDATIONS_CLOSED",qc="COUPON_RECOMMENDATIONS_AD_CLICKED",Yc="MORE_SMARTVIEW_COUPONS_REQUESTED",zc="MORE_COUPONS_REQUESTED",Qc="MORE_COUPONS_REQUEST_FAILED",Zc="MORE_COUPONS_SUCCESS",Xc="COUPONS_LIST_SUCCEEDED",$c="COUPONS_LIST_FAILED",Jc="DEALS_VIEW_EXPANSION_TOGGLED",el="EXTRACT_COUPON_REQUESTED",tl="EXTRACT_COUPON_SUCCEEDED",sl="EXTRACT_COUPON_FAILED",rl="SELF_EXTRACT_COUPON_MODAL_OPENED",nl="SELF_EXTRACT_COUPON_MODAL_CLOSED",al="ACTIVATE_OFFER_FAILED",ol="ACTIVATE_OFFER_REQUESTED",il="ACTIVATE_OFFER_SUCCEEDED",cl="ACTIVATED_OFFERS_LIST_FAILED",ll="ACTIVATED_OFFERS_LIST_SUCCEEDED",dl="DELETE_GROCERY_ITEMS_FAILED",El="DELETE_GROCERY_ITEMS_REQUESTED",_l="DELETE_GROCERY_ITEMS_SUCCEEDED",ul="LINK_MODAL_CLOSED",pl="LINK_MODAL_OPENED",ml="LINK_RETAILER_FAILED",Sl="LINK_RETAILER_REQUESTED",hl="LINK_RETAILER_SUCCEEDED",Cl="LINKED_CARD_CLICKED",gl="LINKED_CARD_SHOWN",Ol="OFFERS_LIST_FAILED",Tl="OFFERS_LIST_SUCCEEDED",Al="PRINT_OFFERS_FAILED",Il="PRINT_OFFERS_REQUESTED",fl="PRINT_OFFERS_SUCCEEDED",Dl="QUOTIENT_MODAL_SHOWN",Rl="GROCERY_SEARCH_ASSIST_FAILED",bl="GROCERY_SEARCH_ASSIST_REQUESTED",Nl="GROCERY_SEARCH_ASSIST_SUCCEEDED",Ml="UNLINK_RETAILER_FAILED",yl="UNLINK_RETAILER_REQUESTED",Ll="UNLINK_RETAILER_SUCCEEDED",Pl="CATEGORY_FOLLOW_REQUESTED",vl="CATEGORY_UNFOLLOW_REQUESTED",Fl="CATEGORY_FOLLOW_SUCCEEDED",Ul="CATEGORY_FOLLOW_FAILED",wl="CATEGORY_UNFOLLOW_SUCCEEDED",Gl="CATEGORY_UNFOLLOW_FAILED",Hl="CATEGORY_FOLLOW_FAILURE_RESET",jl="GET_RETAILER_LOCATIONS_REQUESTED",kl="GET_RETAILER_LOCATIONS_SUCCEEDED",xl="GET_RETAILER_LOCATIONS_FAILED",Bl="UPDATE_PREFERRED_STORE_REQUESTED",Vl="UPDATE_PREFERRED_STORE_SUCCEEDED",Wl="UPDATE_PREFERRED_STORE_FAILED",Kl="REFRESH_SHOPPING_LIST_REQUESTED",ql="CHANGE_GROCERY_ITEMS_QUANTITY_REQUESTED",Yl="CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED",zl="CHANGE_GROCERY_ITEMS_QUANTITY_FAILED",Ql="TOGGLE_GROCERY_CATEGORIES_EXPANSION",Zl="AFFILIATE_OFFERS_FAILED",Xl="AFFILIATE_OFFERS_REQUESTED",$l="AFFILIATE_OFFERS_SUCCEEDED",Jl="INBOX_COMMERCE_FEATURE_CLICKED",ed="ASTRA_BATCH_API_FAILED",td="ASTRA_BATCH_API_SUCCEEDED",sd="ADBLOCK_UPSELL_EXTENSION_INSTALL_SUCCEEDED",rd="ADBLOCK_UPSELL_EXTENSION_INSTALL_FAILED",nd="ADBLOCK_UPSELL_OPTION_CLICKED",ad="ADBLOCK_DETECTED",od="ADBLOCK_BEACON_FAILED",id="ABP_DETECTED",cd="SUBSCRIPTION_LIST_FETCH_SUCCEEDED",ld="SUBSCRIPTION_LIST_FETCH_FAILED",dd="SUBSCRIPTION_LIST_FILTER_CHANGED",Ed="SUBSCRIPTION_LIST_SORT_ORDER_CHANGED",_d="SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED",ud="SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED",pd="SHOW_MOBILE_ONBOARDING_CUE",md="USER_DWELLED_ON_CONTENT",Sd="USER_NAVIGATED_ONBOARDING",hd="RIGHT_RAIL_COMMS_ICON_CLICKED",Cd="CONTACTS_PANE_LIST_FILTER_CHANGED",gd="CONTACTS_LIST_FETCH_SUCCEEDED",Od="CONTACTS_LIST_FETCH_FAILED",Td="CONTACTS_GROUP_FETCH_SUCCEEDED",Ad="CONTACTS_GROUP_FETCH_FAILED",Id="CATEGORY_LIST_EXPANSION_TOGGLED",fd="CONTACTS_PANE_CONTACT_CLICKED",Dd="CONTACTS_PANE_BACK_BUTTON_CLICKED",Rd="CONTACTS_PANE_EDIT_BUTTON_CLICKED",bd="CONTACTS_PANE_CREATE_GROUP_BUTTON_CLICKED",Nd="CONTACT_EDIT_CANCELLED",Md="CONTACTS_PANE_SEARCHED",yd="CONTACT_CREATE_CLICKED",Ld="CONTACT_SEARCH_CLOSED",Pd="CONTACTS_SORT_ORDER_CHANGED",vd="CONTACTS_PANE_CREATE_GROUP_REQUESTED",Fd="CONTACTS_PANE_SAVE_GROUP_REQUESTED",Ud="CONTACTS_PANE_SAVE_GROUP_SUCCEEDED",wd="CONTACTS_PANE_SAVE_GROUP_FAILED",Gd="CONTACTS_PANE_CREATE_GROUP_SUCCEEDED",Hd="CONTACTS_PANE_CREATE_GROUP_FAILED",jd="CONTACTS_PANE_GROUP_CHANGED",kd="CONTACTS_PANE_EDIT_GROUP",xd="CONTACTS_GROUP_DELETE_REQUESTED",Bd="CONTACTS_GROUP_EDIT_EMAIL_SEARCH",Vd="CONTACTS_GROUP_DELETE_SUCCEEDED",Wd="CONTACTS_GROUP_DELETE_FAILED",Kd="EXPORT_ALL_CONTACTS_REQUESTED",qd="PRINT_ALL_CONTACTS_REQUESTED",Yd="FETCH_ALL_CONTACTS_SUCCESS",zd="FETCH_ALL_CONTACTS_FAILED",Qd="RELATED_SEARCHES_FETCH_SUCCEEDED",Zd="RELATED_SEARCHES_FETCH_FAILED",Xd="RELATED_SEARCHES_CARD_CLICKED",$d="SHOW_PUSH_NOTIFICATIONS_CUE",Jd="PUSH_NOTIFICATIONS_REQUEST_GRANTED",eE="VIGLINK_CLICKED",tE="UNUSUAL_DISCOUNT_VIGLINK_CLICKED",sE="PERMANENT_DELETE_CANCELLED",rE="VIEW_RAW_MESSAGE",nE="FETCH_RAW_MESSAGE",aE="FETCH_RAW_MESSAGE_SUCCEEDED",oE="FETCH_RAW_MESSAGE_FAILED",iE="SPONSORED_MOMENT_CLICKED",cE="SPONSORED_MOMENT_CLOSED",lE="COUPONS_SEARCH_TOP_DEAL_CLICKED",dE="TOGGLE_DETAIL_PANE_EXPANSION",EE="AD_FORMAT_SELECTION_CLOSED",_E="UPDATE_AD_FORMAT_SELECTION_CLICKED",uE="POST_LAUNCH_SYNC_SUCCEEDED",pE="POST_LAUNCH_SYNC_FAILED",mE="POST_LAUNCH_ATTRIBUTES_RECEIVED",SE="COMPOSE_ATTRIBUTES_REQUESTED",hE="COMPOSE_ATTRIBUTES_RECEIVED",CE="COMPOSE_ATTRIBUTES_FETCH_FAILED",gE="TOP_RETAILERS_REQUEST_SUCCEEDED",OE="TOP_RETAILERS_REQUEST_FAILED",TE="TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED",AE="TOP_DEAL_CATEGORIES_REQUEST_FAILED",IE="USER_NAME_PHONE_REG_UPSELL_LOADED",fE="USER_NAME_PHONE_REG_CANCEL_AUTH",DE="RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED",RE="RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED",bE="RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED",NE="TOM_UPSELL_CLICKED",ME="TOM_UPSELL_SHOWN",yE="LASTPASS_FREETRIAL_UPSELL_SHOWN",LE="SECURITY_SUBSCRIPTIONS_UPSELL_CLICKED",PE="MEMBERSHIP_REWARDS_LAUNCH_SUCCESS",vE="MEMBERSHIP_REWARDS_LAUNCH_FAILED",FE="TMR_NAVIGATE_TO_ATOS",UE="TMR_REGISTER_ACTION_SUCCESS",wE="TMR_REGISTER_ACTION_FAILED",GE="TMR_TAB_CHANGE",HE="TMR_SPIN_COMPLETED",jE="TMR_NAVIGATE_TO_URL",kE="TMR_POINT_ICON_CLICK",xE="UNSUBSCRIBE_MARKETING_PREFERENCES",BE="MARKETING_PREFERENCES_WRITE_SUCCEEDED",VE="MARKETING_PREFERENCES_WRITE_FAILED",WE="DISPATCHER_UPSELL_FETCH_SUCCEEDED",KE="DISPATCHER_UPSELL_FETCH_FAILED",qE="PURCHASE_MAILPRO_FREE_TRIAL",YE="PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS",zE="PURCHASE_MAILPRO_FREE_TRIAL_FAILED",QE="LIST_MAILPRO_SUBSCRIPTIONS_SUCCESS",ZE="LIST_MAILPRO_SUBSCRIPTIONS_FAILED",XE="ADD_COMPOSE_HEADER",$E="DELETE_COMPOSE_HEADER",JE="UPDATE_COMPOSE_HEADER_FOCUS",e_="FORWARD_ATTACHMENTS",t_="CLEAR_FORWARDED_ATTACHMENT_IDS",s_="FORCE_OPTIN_DONE",r_="SHOPPING_CART_AD_CLICKED",n_="DEALS_SHOPPING_CART_AD_CLICKED",a_="PAC_CUE_MARK_AS_SHOWN_REQUESTED",o_="REPLY_SUGGESTIONS_RECEIVED",i_="BREAKING_NEWS_SUCCESS",c_="BREAKING_NEWS_FAILED",l_="BREAKING_NEWS_DISMISSED",d_="BREAKING_NEWS_REFRESH",E_="BREAKING_NEWS_CLICKED",__="BREAKING_NEWS_RENDERED",u_="SENDER_ROLLUP_SUCCEEDED",p_="MORE_SENDER_ROLLUP_REQUESTED",m_="MORE_SENDER_ROLLUP_SUCCEEDED",S_="MORE_SENDER_ROLLUP_FAILED",h_="SENDER_ROLLUP_FAILED",C_="NEED_TO_KNOW_NEWS_SUCCEEDED",g_="NEED_TO_KNOW_NEWS_FAILED",O_="NEED_TO_KNOW_NEWS_CUE_CLICKED",T_="CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED",A_="CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED",I_="CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED",f_="CLOUD_STORAGE_ACCOUNT_DISCONNECT_REQUESTED",D_="CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED",R_="CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED",b_="CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED",N_="CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED",M_="CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED",y_="CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED",L_="CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED",P_="CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED",v_="CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED",F_="CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED",U_="CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED",w_="CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED",G_="CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_DIALOG_CLICKED",H_="ATTACH_FILES_MENU_ITEM_CLICKED",j_="CLOUD_STORAGE_ITEM_LINK_ADDED",k_="CLOUD_STORAGE_ITEM_PREVIEW_CLICKED",x_="CLOUD_STORAGE_ITEM_PERMISSION_UPDATED",B_="FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED",V_="FALCON_TOM_SUBSCRIPTIONS_FETCH_FAILED"},,function(e,t,s){"use strict";s.r(t),s.d(t,"DesktopKinds",(function(){return c})),s.d(t,"MobileKinds",(function(){return l})),s.d(t,"Kinds",(function(){return d})),s.d(t,"Sizes",(function(){return E})),s.d(t,"Rotate",(function(){return _})),s.d(t,"ColorStates",(function(){return p}));var r=s(3),n=s.n(r),a=s(22),o=s(11);function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}let c,l;!function(e){e.ADD="ADD",e.ADDATTACHMENT="ADDATTACHMENT",e.ALIGN_CENTER="ALIGN_CENTER",e.ALIGN_LEFT="ALIGN_LEFT",e.AOL_OFFICIAL="AOL_OFFICIAL",e.APP_HIDDEN="APP_HIDDEN",e.ARCHIVE="ARCHIVE",e.ARROW_RIGHT_DOC="ARROW_RIGHT_DOC",e.ARROW_UP="ARROW_UP",e.ATTACH="ATTACH",e.ATTACHMENT="ATTACHMENT",e.ATTACH_CAL="ATTACH_CAL",e.ATTACH_DOC="ATTACH_DOC",e.ATTACH_DOC_48="ATTACH_DOC_48",e.ATTACH_GDOCS_48="ATTACH_GDOCS_48",e.ATTACH_GENERIC_48="ATTACH_GENERIC_48",e.ATTACH_GSHEETS_48="ATTACH_GSHEETS_48",e.ATTACH_GSLIDES_48="ATTACH_GSLIDES_48",e.ATTACH_ICS_48="ATTACH_ICS_48",e.ATTACH_IMAGE="ATTACH_IMAGE",e.ATTACH_IMAGE_48="ATTACH_IMAGE_48",e.ATTACH_MOVIE_48="ATTACH_MOVIE_48",e.ATTACH_PDF_48="ATTACH_PDF_48",e.ATTACH_PPT_48="ATTACH_PPT_48",e.ATTACH_SOUND_48="ATTACH_SOUND_48",e.ATTACH_XLS_48="ATTACH_XLS_48",e.ATTACH_ZIP_48="ATTACH_ZIP_48",e.ATTENTION="ATTENTION",e.BELL="BELL",e.BOLD="BOLD",e.CALENDAR="CALENDAR",e.CALENDAR_EMPTY="CALENDAR_EMPTY",e.CALENDAR_SETTINGS="CALENDAR_SETTINGS",e.CAL_ACCEPT="CAL_ACCEPT",e.CAL_DECLINE="CAL_DECLINE",e.CAL_MAYBE="CAL_MAYBE",e.CHECKBOX_OFF="CHECKBOX_OFF",e.CHECKBOX_ON="CHECKBOX_ON",e.CHECKMARK="CHECKMARK",e.CHEVRON_UP="CHEVRON_UP",e.CIRCLE="CIRCLE",e.CLEAR="CLEAR",e.CLOCK="CLOCK",e.CLOCK_OUTLINE="CLOCK_OUTLINE",e.CLOSE="CLOSE",e.CLOSE_MINI="CLOSE_MINI",e.COLLAPSE_LIST="COLLAPSE_LIST",e.COMPOSE="COMPOSE",e.COMPOSE_EMOJI="COMPOSE_EMOJI",e.CONTACT_CARD="CONTACT_CARD",e.CONTACTCARD_OUTLINE="CONTACTCARD_OUTLINE",e.CONTRACT="CONTRACT",e.DEALS="DEALS",e.DELETE="DELETE",e.DEVICE_PHONE="DEVICE_PHONE",e.CAR="CAR",e.DOCUMENTS_S="DOCUMENTS_S",e.DOWNLOAD="DOWNLOAD",e.DRAFTS="DRAFTS",e.EMOJI_FOOD_AND_DRINK="EMOJI_FOOD_AND_DRINK",e.ENTER="ENTER",e.EXCLAMATION="EXCLAMATION",e.EXCLAMATION_ALT="EXCLAMATION_ALT",e.EXPAND="EXPAND",e.EXPAND_LIST="EXPAND_LIST",e.FEEDBACK="FEEDBACK",e.FOLDER="FOLDER",e.FORWARD="FORWARD",e.GETAWAYFILL="GETAWAYFILL",e.GIF_BOX="GIF_BOX",e.GUEST_LIST="GUEST_LIST",e.HOME="HOME",e.INBOX="INBOX",e.INDENT="INDENT",e.INFO="INFO",e.INPUT_ARROW_DOWN="INPUT_ARROW_DOWN",e.ITALIC="ITALIC",e.LINK="LINK",e.LIST_ORDERED="LIST_ORDERED",e.LIST_ORDERED_FLIPPED="LIST_ORDERED_FLIPPED",e.LIST_UNORDERED="LIST_UNORDERED",e.LOCATION_MARKER="LOCATION_MARKER",e.MESSENGER="MESSENGER",e.MINUS="MINUS",e.MIXED_CHECKBOX="MIXED_CHECKBOX",e.MORE="MORE",e.MOVE_TO_FOLDER="MOVE_TO_FOLDER",e.NEWS="NEWS",e.NOTEPAD="NOTEPAD",e.NO_INTERNET="NO_INTERNET",e.NONE_BELL="NONE_BELL",e.ORB="ORB",e.OUTDENT="OUTDENT",e.PEOPLE="PEOPLE",e.POP_OUT="POP_OUT",e.PRINTER="PRINTER",e.READ="READ",e.REFRESH="REFRESH",e.REPLY="REPLY",e.REPLY_ALL="REPLY_ALL",e.RESTORE_TO_INBOX="RESTORE_TO_INBOX",e.RICHTEXT_OFF="RICHTEXT_OFF",e.RICHTEXT_ON="RICHTEXT_ON",e.SCISSORS="SCISSORS",e.SEARCH="SEARCH",e.SEARCH_MAIL="SEARCH_MAIL",e.SEARCH_MINI="SEARCH_MINI",e.SEARCH_WEB="SEARCH_WEB",e.SELECTED="SELECTED",e.SENT="SENT",e.SETTINGS="SETTINGS",e.SHARE_SOCIAL="SHARE_SOCIAL",e.SHOPPING="SHOPPING",e.SPAM="SPAM",e.SPONSORED="SPONSORED",e.STAR="STAR",e.STATIONERY="STATIONERY",e.STRIKETHROUGH="STRIKETHROUGH",e.TAB_IMAGES="TAB_IMAGES",e.TEXT="TEXT",e.TEXT_COLOR="TEXT_COLOR",e.TRAVEL="TRAVEL",e.TRUSTED="TRUSTED",e.TUMBLR="TUMBLR",e.VIDEO_CALL="VIDEO_CALL",e.YBANG="YBANG",e.TAP_TO_TOP="TAP_TO_TOP",e.SIDEBAR="SIDEBAR",e.BIG_STAR="BIG_STAR",e.SOLID_CIRCLE="SOLID_CIRCLE",e.HOTELS="HOTELS",e.TICKETS="TICKETS",e.THEATERS="THEATERS",e.CONCERTS="CONCERTS",e.SPORTS="SPORTS",e.FACEBOOK="FACEBOOK",e.FLICKR="FLICKR",e.FLICKR_MONOCHROME="FLICKR_MONOCHROME",e.TWITTER="TWITTER",e.LINKEDIN="LINKEDIN",e.BASKET="BASKET",e.CAMERA_FILL="CAMERA_FILL",e.TAG_FILL="TAG_FILL",e.CARD="CARD",e.CLIPCOUPON="CLIPCOUPON",e.CART="CART",e.DESKTOP_ATTACHMENT="DESKTOP_ATTACHMENT",e.PREVIEW="PREVIEW",e.DRIVE="DRIVE",e.DROPBOX="DROPBOX",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.NO_ADS="NO_ADS",e.NUMBER_ONE="NUMBER_ONE",e.STOPWATCH_DASHES="STOPWATCH_DASHES",e.GIFT="GIFT",e.INFINITY="INFINITY"}(c||(c={})),function(e){e.AOL_OFFICIAL="AOL_OFFICIAL",e.BELL="BELL",e.CONTRACT="CONTRACT",e.EXCLAMATION_ALT="EXCLAMATION_ALT",e.EXPAND="EXPAND",e.INBOX="INBOX",e.SETTINGS="SETTINGS",e.HOME="HOME",e.MEDICAL_KIT="MEDICAL_KIT",e.CONTACT_CARD="CONTACT_CARD",e.ADD_CONTACT="ADD_CONTACT",e.CHEVRON_UP="CHEVRON_UP",e.ARROW_RIGHT_DOC="ARROW_RIGHT_DOC",e.INPUT_ARROW_DOWN="INPUT_ARROW_DOWN",e.MORE="MORE",e.FOLDER="FOLDER",e.REPLY="REPLY",e.REPLY_ALL="REPLY_ALL",e.FORWARD="FORWARD",e.STAR="STAR",e.CIRCLE="CIRCLE",e.READ="READ",e.ATTACHMENT="ATTACHMENT",e.ATTACH_CAL="ATTACH_CAL",e.ATTACH_DOC="ATTACH_DOC",e.ATTACH_IMAGE="ATTACH_IMAGE",e.ARROW_UP="ARROW_UP",e.CHECKBOX_OFF="CHECKBOX_OFF",e.CHECKBOX_ON="CHECKBOX_ON",e.CHECKMARK="CHECKMARK",e.MONOCHROME_MIXED_CHECKBOX="MONOCHROME_MIXED_CHECKBOX",e.CLOSE="CLOSE",e.CLOSE_MINI="CLOSE_MINI",e.SEARCH="SEARCH",e.ORB="ORB",e.SENT="SENT",e.COMPOSE="COMPOSE",e.DELETE="DELETE",e.MOVE_TO_FOLDER="MOVE_TO_FOLDER",e.ARCHIVE="ARCHIVE",e.SPAM="SPAM",e.TAB_IMAGES="TAB_IMAGES",e.NOTSPAM="NOTSPAM",e.ADD="ADD",e.DRAFTS="DRAFTS",e.SIDEBAR="SIDEBAR",e.BIG_STAR="BIG_STAR",e.SOLID_CIRCLE="SOLID_CIRCLE",e.FEEDBACK="FEEDBACK",e.ATTACH="ATTACH",e.SEARCH_MAIL="SEARCH_MAIL",e.SPONSORED="SPONSORED",e.ATTENTION="ATTENTION",e.YBANG="YBANG",e.ATTACH_IMAGE_48="ATTACH_IMAGE_48",e.ATTACH_MOVIE_48="ATTACH_MOVIE_48",e.ATTACH_GENERIC_48="ATTACH_GENERIC_48",e.ATTACH_SOUND_48="ATTACH_SOUND_48",e.ATTACH_PDF_48="ATTACH_PDF_48",e.ATTACH_PPT_48="ATTACH_PPT_48",e.ATTACH_XLS_48="ATTACH_XLS_48",e.ATTACH_ZIP_48="ATTACH_ZIP_48",e.ATTACH_DOC_48="ATTACH_DOC_48",e.ATTACH_ICS_48="ATTACH_ICS_48",e.NO_INTERNET="NO_INTERNET",e.SEARCH_MINI="SEARCH_MINI",e.FACEBOOK="FACEBOOK",e.FLICKR="FLICKR",e.FLICKR_MONOCHROME="FLICKR_MONOCHROME",e.TWITTER="TWITTER",e.LINKEDIN="LINKEDIN",e.CAMERA_FILL="CAMERA_FILL",e.BLOCK_PEOPLE="BLOCK_PEOPLE",e.BLOCK_PEOPLE_FILL="BLOCK_PEOPLE_FILL",e.NONE_BELL="NONE_BELL",e.INFO="INFO",e.PHONE="PHONE",e.COMMENT_FILL="COMMENT_FILL",e.CONVERSATIONS_FILL="CONVERSATIONS_FILL",e.CAL_DECLINE="CAL_DECLINE",e.CAL_MAYBE="CAL_MAYBE",e.TRUSTED="TRUSTED",e.CLOCK="CLOCK",e.UNSUBSCRIBE="UNSUBSCRIBE",e.BLOCK="BLOCK",e.TAB_MESSAGES="TAB_MESSAGES",e.FLAG="FLAG",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.SORT="SORT",e.PRO="PRO",e.ANNOUNCEMENT="ANNOUNCEMENT",e.CAL_ACCEPT="CAL_ACCEPT",e.KEEP_NEW="KEEP_NEW",e.OPEN_ENVELOPE="OPEN_ENVELOPE"}(l||(l={}));const d=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},c,{},l);let E,_;!function(e){e.XXXS="XXXS",e.XXS="XXS",e.XS="XS",e.S="S",e.M="M",e.L="L",e.XL="XL",e.XXL="XXL",e.XXXL="XXXL"}(E||(E={})),Object.assign(E,{AVATAR_SIZE_40:o.e}),function(e){e.D0="D0",e.D45="D45",e.D90="D90",e.D180="D180",e.D270="D270"}(_||(_={}));const u=[...Object.keys(a.j),...Object.keys(a.a)].reduce((e,t)=>(e[t="THEME_GRADIENT_"+t]=t,e),{});let p;!function(e){e.NORMAL="NORMAL",e.FIRST_LEVEL_GRAY="FIRST_LEVEL_GRAY",e.FIRST_LEVEL_ORANGE="FIRST_LEVEL_ORANGE",e.NORMAL_LESS_DIM="NORMAL_LESS_DIM",e.IMPROVED_GRAY_DARK="IMPROVED_GRAY_DARK",e.SECOND_LEVEL_GRAY="SECOND_LEVEL_GRAY",e.THIRD_LEVEL_GRAY="THIRD_LEVEL_GRAY",e.DARK="DARK",e.WHITE="WHITE",e.INHERITED="INHERITED",e.INVERTED="INVERTED",e.INVERTED_DIM="INVERTED_DIM",e.INVERTED_LESS_DIM="INVERTED_LESS_DIM",e.INVERTED_MORE_DIM="INVERTED_MORE_DIM",e.SELECTED="SELECTED",e.PRIMARY_HOVER="PRIMARY_HOVER",e.SELECTED_DARK_THEME_MODE="SELECTED_DARK_THEME_MODE",e.STARRING="STARRING",e.STARRED="STARRED",e.STARRED_DARK="STARRED_DARK",e.SMARTVIEW_DARK="SMARTVIEW_DARK",e.DISABLED="DISABLED",e.LESS_IMPORTANT="LESS_IMPORTANT",e.FAINT="FAINT",e.TRANSPARENT="TRANSPARENT",e.HEADING="HEADING",e.GRAD_RED="GRAD_RED",e.GRAD_BLUE="GRAD_BLUE",e.COOL_FAINT="COOL_FAINT",e.ADVISORY="ADVISORY",e.WARNING="WARNING",e.WARNING_GRAD_RED="WARNING_GRAD_RED",e.SUCCESS="SUCCESS",e.FOLDER="FOLDER",e.ATTACH_GENERIC="ATTACH_GENERIC",e.ATTACH_MEDIA="ATTACH_MEDIA",e.ATTACH_CAL="ATTACH_CAL",e.ATTACH_EXCEL="ATTACH_EXCEL",e.ATTACH_DOC="ATTACH_DOC",e.ATTACH_SLIDE="ATTACH_SLIDE",e.ATTACH_PDF="ATTACH_PDF",e.ATTACH_COMPRESSED="ATTACH_COMPRESSED",e.YBANG="YBANG",e.TOUCH_PRIMARY="TOUCH_PRIMARY",e.SMARTVIEW_PEOPLE="SMARTVIEW_PEOPLE",e.SMARTVIEW_SHOPPING="SMARTVIEW_SHOPPING",e.FACEBOOK_ENABLED="FACEBOOK_ENABLED",e.TWITTER_ENABLED="TWITTER_ENABLED",e.LINKEDIN_ENABLED="LINKEDIN_ENABLED",e.ICON_HOVER_BGCOLOR="ICON_HOVER_BGCOLOR",e.PURPLE="PURPLE",e.THEME_GRADIENT_PURPLE="THEME_GRADIENT_PURPLE"}(p||(p={})),Object.assign(p,u)},function(e,t,s){"use strict";s.d(t,"e",(function(){return a})),s.d(t,"d",(function(){return o})),s.d(t,"a",(function(){return i})),s.d(t,"g",(function(){return c})),s.d(t,"i",(function(){return l})),s.d(t,"f",(function(){return d})),s.d(t,"h",(function(){return E})),s.d(t,"b",(function(){return _})),s.d(t,"c",(function(){return u})),s.d(t,"j",(function(){return p}));var r=s(9),n=s(0);const a=Object(r.d)(["click","nav","shortcut","keydown","callout","view","swipe","voice","scoutInject"]),o={COMPOSE_FLOW:"compFlow"},i=Object(r.d)(["SEARCH_SUGGESTION","SEARCH_ZERO_RESULTS","AD_ROTATION_SKIPPED","PREMIUM_AD_STARTED","PREMIUM_AD_STOPPED"]),c={NORRIN_FORCE_OPTIN:"norrinForceOptin",MOBILE_ONBOARDING_WELCOME:"welcomeOnbrdng",MOBILE_ONBOARDING_PAGINATED_CONTENT:"pgntdCntntOnbrdng",MOBILE_ONBOARDING_NOTIFICATIONS:"notifsOnbrdng",MOBILE_ONBOARDING_FOLDERS:"folderOnbrdng",MOBILE_ONBOARDING_SWIPING:"swipeOnbrdng",MOBILE_ONBOARDING_COMPOSE:"composeOnbrdng",MOBILE_ONBOARDING_THEMING:"thmOnbrdng",MOBILE_ONBOARDING_SNIPPETS:"snptsOnbrdng",MOBILE_ONBOARDING_BLOCK_IMAGES:"blkImgsOnbrdng",MOBILE_ONBOARDING_CONVERSATIONS:"cnvrstnsOnbrdng",MOBILE_ONBOARDING_DONE:"doneOnbrdng",MOBILE_ONBOARDING_NOTIFICATIONS_ON:"notifsOnbrdngOn",MOBILE_ONBOARDING_NOTIFICATIONS_OFF:"notifsOnbrdngOff",CONVERSATIONS_CUE_TAP:"cue_conversationsCue_tap",DISMISS_APP_BANNER:"appBannerDismiss",APP_BANNER_SHOWN:"appBannerShown",VIEW_APP:"viewApp",TOOLBAR_SELECTALL_MSG:"tlbrSlctAllMsg",TOOLBAR_SELECT_NONE:"tlbrSlctNone",TOOLBAR_BULK_CONTEXT_MENU:"tlbrBlkCtxtMenu",TOOLBAR_BULK_CONTEXT_ALL:"tlbrBlkCtxtAll",TOOLBAR_BULK_CONTEXT_NONE:"tlbrBlkCtxtNone",TOOLBAR_BULK_CONTEXT_READ:"tlbrBlkCtxtRd",TOOLBAR_BULK_CONTEXT_UNREAD:"tlbrBlkCtxtUnrd",TOOLBAR_BULK_CONTEXT_STARRED:"tlbrBlkCtxtStrrd",TOOLBAR_BULK_CONTEXT_UNSTARRED:"tlbrBlkCtxtUnStrrd",TOOLBAR_UNSUBSCRIBE:"tlbrUnsub",TOOLBAR_REPLY:"tlbrReply",TOOLBAR_REPLYALL:"tlbrReplyAll",TOOLBAR_FORWARD:"tlbrForward",TOOLBAR_DELETE:"tlbrDel",TOOLBAR_ARCHIVE:"tlbrArchv",TOOLBAR_RESTORE:"tlbrRstr",TOOLBAR_MOVE:"tlbrMov",TOOLBAR_MOVE_MENU:"tlbrMovMenu",DRAG_DROP_MOVE:"dndMov",TOOLBAR_SPAM:"tlbrSpam",TOOLBAR_NOT_SPAM:"tlbrNotSpam",TOOLBAR_MORE_MENU:"tlbrMoreMenu",TOOLBAR_MARK_READ:"tlbrMrkRd",TOOLBAR_MARK_UNREAD:"tlbrMrkUnRd",TOOLBAR_MARK_STARRED:"tlbrMrkStrrd",TOOLBAR_MARK_UNSTARRED:"tlbrMrkUStrrd",TOOLBAR_VIEW_RAW:"tlbrRaw",TOOLBAR_PRINT:"tlbrPrint",TOOLBAR_ADD_TO_CONTACTS:"tlbAddToContacts",TOOLBAR_FILTER_MESSAGES_LIKE_THIS:"tlbrFltrMsgsLikeThis",TOOLBAR_SORT_MENU:"tlbrSrtMenu",TOOLBAR_SORT_NEW:"tlbrSrtNew",TOOLBAR_SORT_OLD:"tlbrSrtOld",TOOLBAR_SORT_UNREAD:"tlbrSrtUnrd",TOOLBAR_SORT_STARRED:"tlbrSrtStrrd",TOOLBAR_SORT_SENDER:"tlbrSrtSndr",TOOLBAR_SORT_ALPHA:"tlbrSrtAlpha",TOOLBAR_SORT_SUBJECT:"tlbrSrtSub",TOOLBAR_SORT_ATTACHMENT:"tlbrSrtAttmt",TOOLBAR_SORT_RELEVANCE:"tlbrSrtRelvnce",TOOLBAR_CLOSE_MSG:"tlbrCloseMsg",TOOLBAR_BACK_TO_LIST:"tlbrBackToLst",QUICK_REPLY:"qckReply",QUICK_REPLYALL:"qckReplyAll",QUICK_FORWARD:"qckForward",CONTACT_SEARCH:"cntctSrch",SUBJECT_SEARCH:"subSrch",PHISHING_BANNER_SPAM:"pshBnrSpm",PHISHING_BANNER_NOT_SPAM:"pshBnrNotSpm",PHISHING_BANNER_SHOWN:"pshBnrShwn",CHANGE_REPLY_TO_SETTING:"chngRplyTo",REPLY_TO_HELP_LINK:"rplyToHlpLnk",MSG_LST_CONTEXT_MENU:"msgLstContxtMenu",MSG_GRP_HDR_MARK_READ:"msgHdrMrkGrpRd",MSG_GRP_HDR_MARK_UNREAD:"msgHdrMrkGrpUnRd",MSG_GRP_HDR_MARK_STAR:"msgHdrMrkGrpStrrd",MSG_GRP_HDR_MARK_UNSTAR:"msgHdrMrkGrpUnStrrd",MSG_HDR_MARK_READ:"msgHdrMrkRd",MSG_HDR_MARK_UNREAD:"msgHdrMrkUnRd",MSG_HDR_MARK_STAR:"msgHdrMrkStrrd",MSG_HDR_MARK_UNSTAR:"msgHdrMrkUnStrrd",MSG_HDR_PRINT:"msgHdrPrint",MSG_HDR_PREV:"msgHdrPrev",MSG_HDR_NEXT:"msgHdrNext",MSG_REPLY:"msgReply",MSG_REPLY_ALL:"msgReplyAll",MSG_FORWARD:"msgForward",MSG_SMART_REPLY:"msgSmartReply",MSG_DELETE:"msgDelete",MSG_ARCHIVE:"msgArchive",SHOW_IMG:"showImg",SHOW_IMG_ALWAYS:"showImgAlws",OPEN_LINK:"openlnk",OPEN_DOC_PREVIEW:"openDocPrvw",ZOOM_IN_ATTACHMENT_PREVIEW:"zoomInDocPrvw",ZOOM_OUT_ATTACHMENT_PREVIEW:"zoomOutDocPrvw",OPEN_LIGHTBOX_ATTACHMENT_PREVIEW:"fullscrnDocPrvw",DOWNLOAD_ATTACHMENT:"dwnldattmt",DOWNLOAD_ATTACHMENT_ALL:"dwnldattmtAll",ATTACHMENT_LIGHTBOX_OPEN:"openattmlghtbx",ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD:"dwnldimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_SHARE:"shareimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_CLOSE:"closeimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_MESSAGE:"nextimglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_GROUP:"nextImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_LIST:"nextImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_MESSAGE:"previmglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_GROUP:"prevImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_LIST:"prevImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_ZOOM:"zoomimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_OPEN:"openimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_MSG:"rdmsgimglghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD:"dwnlddoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_SHARE:"sharedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_CLOSE:"closedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_MESSAGE:"nextdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_GROUP:"nextDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_LIST:"nextDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_MESSAGE:"prevdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_GROUP:"prevDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_LIST:"prevDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_ZOOM:"zoomdoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_OPEN:"opendoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_MSG:"rdmsgdoclghtbx",ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD:"dnlwdDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_SHARE:"shareDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_CLOSE:"closeDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_NEXT_IN_MESSAGE:"nextDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_PREV_IN_MESSAGE:"prevDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_ZOOM:"zoomDocPrvw",ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD:"dnlwdImgPrvw",ATTACHMENT_PREVIEW_IMAGE_SHARE:"shareImgPrvw",ATTACHMENT_PREVIEW_IMAGE_CLOSE:"closeImgPrvw",ATTACHMENT_PREVIEW_IMAGE_NEXT_IN_MESSAGE:"nextImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_PREV_IN_MESSAGE:"prevImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_ZOOM:"zoomImgPrvw",ATTACHMENT_VIEW_DOCUMENTS:"attmVwDoc",ATTACHMENT_VIEW_IMAGES:"attmVwImg",ATTACHMENT_VIEW_MESSAGES:"attmVwMsg",ATTACHMENT_ACTION_UNKNOWN:"attmUnknown",DOC_OPEN:"opendoc",DOC_READ_MSG:"rdmsgdoc",DOC_DELETE_PREVIEW_OPEN:"preDelDocOp",DOC_DELETE_PREVIEW_CLOSE:"preDelDocCls",DOC_DELETE_PREVIEW_READ_MSG:"preDelRdMsgDoc",DOC_MESSAGE_DELETE:"msgDelDoc",DOC_OPEN_LINK:"openlnkdoc",DOC_SHARE:"sharedoc",RIGHT_RAIL_DOC_OPEN:"opendocrail",RIGHT_RAIL_DOC_OPEN_ALL:"openalldocrail",PHOTO_OPEN:"openimg",PHOTO_READ_MSG:"rdmsgimg",PHOTO_DELETE_PREVIEW_OPEN:"preDelImgOp",PHOTO_DELETE_PREVIEW_CLOSE:"preDelImgCls",PHOTO_DELETE_PREVIEW_READ_MSG:"preDelRdMsgImg",PHOTO_MESSAGE_DELETE:"msgDelImg",PHOTO_DOWNLOAD:"dwnldimg",PHOTO_SHARE:"shareimg",RIGHT_RAIL_PHOTO_OPEN:"openimgrail",RIGHT_RAIL_PHOTO_OPEN_ALL:"opendocrail",TRAVEL_READ_MSG:"rdmsgtrv",OPEN_MSG:"openMsg",SELECT_MSG:"slctMsg",MARK_MSG_READ:"mrkMsgRd",MARK_MSG_UNREAD:"mrkMsgUnRd",MARK_MSG_STARRED:"mrkMsgStrrd",MARK_MSG_UNSTARRED:"mrkMsgUnStrrd",MSG_LIST_DEL:"msgLstDel",MSG_LIST_ARCHIVE:"msgLstArchv",MSG_LIST_MV_INBOX:"msgLstRstr",RIGHT_RAIL_MSG_OPEN:"openmsgrail",RIGHT_RAIL_MSG_OPEN_ALL:"openallmsgrail",TOGGLE_LIST_VISIBILITY:"toggleListView",MSG_LIST_REPLY:"msgLstRply",MSG_LIST_REPLY_ALL:"msgLstRplyAll",NUDGE_TO_REPLY_SHOWN:"nudgeToReplyShown",NUDGE_SCORE_LIST:"nudgeScoreList",GPT_CATEGORY_LIST_ON_MSG_OPEN:"gptCategoryListOnMsgOpen",UNDO_DELETE_ACTION:"undoDel",UNDO_ARCHIVE_ACTION:"undoArchv",UNDO_MOVE_ACTION:"undoMov",VIEW_MSG_LINK:"viewMsgLnk",AUTO_FORWARD_LINK:"autoFwdLnk",UNUSUAL_DISCOUNT:"annotation_show",UNUSUAL_DISCOUNT_MAIL_CLICKED:"annotated_message_open",LAUNCH:"launch",YMAIL_LOGO:"logo",MAIL_ICON:"inbxBtn",CONTACTS_ICON:"cntctBtn",CALENDAR_ICON:"clndrBtn",NOTEPAD_ICON:"ntpdBtn",HELP_ICON:"helpBtn",REWARDS_ICON:"rewardsBtn",MESSENGER_ICON:"mssgnrBtn",SETTINGS_GEAR_ICON:"sttgsBtn",SETTINGS_LABEL:"sttgsLabelBtn",SEARCH_BAR:"clickSrchBar",ADVANCED_SEARCH:"advncdSrch",SEARCH_BUTTON:"mailSrch",SEARCH_PEOPLE_SUGGEST:"mailSrchPeopleSuggst",SEARCH_KWRD_SUGGEST:"mailSrchKwrdSuggst",SEARCH_EMAIL_SUGGEST:"mailSrchEmailSuggst",SEARCH_RECENT_SUGGEST:"mailSrchRecentSuggst",SEARCH_EMPTY_PEOPLE_SUGGEST:"mailSrchEmptyPeopleSuggst",SEARCH_EMPTY_KWRD_SUGGEST:"mailSrchEmptyKwrdSuggst",SEARCH_EMPTY_EMAIL_SUGGEST:"mailSrchEmptyEmailSuggst",SEARCH_EMPTY_RECENT_SUGGEST:"mailSrchEmptyRecentSuggst",SEARCH_SUGGESTION_SHOWN:"srchsuggst",SEARCH_EMAIL_SUGGESTION_SHOWN:"showedEmailSnippets",ADVANCED_SEARCH_BUTTON:"advncdMailSrch",ACCOUNT_SETTINGS:"sttgsMenu",SIGNOUT:"signout",HOME_BUTTON:"homeBtn",CORONAVIRUS_BUTTON:"coronaBtn",SIDEBAR_BUTTON:"sidebarBtn",MARKETING_BEACON:"mktgBeacn",NEWUSER_MARKETING_BEACON:"newUserMktgBeacn",IE_TO_EDGE:"ie2edge",UNREAD_SMARTVIEW:"unrdSmrtvw",STARRED_SMARTVIEW:"strrdSmrtvw",PHOTO_SMARTVIEW:"photoSmrtvw",DOCUMENT_SMARTVIEW:"docSmrtvw",TUTORIAL_SMARTVIEW:"tutrlSmrtvw",COUPONS_SMARTVIEW:"cpnSmrtvw",RECEIPTS_SMARTVIEW:"rcptSmrtvw",TRAVEL_SMARTVIEW:"trvSmrtvw",SUBSCRIPTIONS_SMARTVIEW:"sbscrptnSmrtvw",ATTACHMENTS_SMARTVIEW:"attSmrtvw",INBOX_FOLDER:"inboxFldr",DRAFT_FOLDER:"draftFldr",SENT_FOLDER:"sentFldr",ARCHIVE_FOLDER:"archiveFldr",BULK_FOLDER:"spamFldr",TRASH_FOLDER:"trashFldr",USER_FOLDER:"usrFldr",ADD_FOLDER:"addFldr",FOLDER_CONTEXTMENU:"fldrContxtMenu",FOLDER_CONTEXTMENU_ALL_READ:"ctxtMenuFldrAllRd",FOLDER_CONTEXTMENU_ALL_ARCHIVE:"ctxtMenuFldrAllArch",FOLDER_CONTEXTMENU_ALL_DELETE:"ctxtMenuFldrAllDel",FOLDER_CONTEXTMENU_RENAME:"ctxtMenuFldrAllRen",FOLDER_CONTEXTMENU_MOVE:"ctxtMenuFldrAllMov",FOLDER_CONTEXTMENU_DELETE:"ctxtMenuDelFldr",FOLDER_CONTEXTMENU_EMPTY:"ctxtMenuEmpty",FOLDER_EMPTY:"fldrEmpty",ACCOUNT_SWITCH:"accntSwitch",COLLAPSE_ACCOUNT_SWITCHER:"cllpsAccntSwtchr",EXPAND_ACCOUNT_SWITCHER:"expndAccntSwtchr",EDIT_IMAP_ACCOUNT:"editImapAccnt",FIX_IMAP_ACCOUNT:"fixImapAccnt",CONFIRM_DELETE_ACCOUNT:"cnfmDelAccnt",DELETE_ACCOUNT:"delAccnt",ADD_ACCOUNT:"addAccnt",SELECT_YAHOO_ACCOUNT:"slctYahooAccnt",SELECT_OUTLOOK_ACCOUNT:"slctOutlookAccnt",SELECT_AOL_ACCOUNT:"slctAolAccnt",SELECT_GOOGLE_ACCOUNT:"slctGoogleAccnt",SELECT_OFFICE365_ACCOUNT:"slctOffice365Accnt",SELECT_OTHER_ACCOUNT:"slctOtherAccnt",AUTHORIZE_IMAP_ACCOUNT:"cnnctAccnt",CONNECT_ACCOUNT_SUCCESS:"cnnctAccntSuccess",CONNECT_ACCOUNT_FAILURE:"cnnctAccntFailure",CANCEL_ADD_ACCOUNT:"cancelAddAccnt",CANCEL_EDIT_DEA:"cancelEditDea",CANCEL_ADD_DEA:"cancelAddDea",CANCEL_ADD_BASE:"cancelAddBase",THEME_CHANGED:"thmSttgs",SETTINGS_POPUP_THEME:"themesClrSttgsPop",SETTINGS_THEME:"themesClrSttgs",SETTINGS_POPUP_THEME_MODE:"themesModeSttgsPop",SETTINGS_THEME_MODE:"themesModeSttgs",SETTINGS_POPUP_PREVIEW_PANE:"prvpSttgsPop",SETTINGS_PREVIEW_PANE:"prvpSttgs",SETTINGS_POPUP_MSG_LIST_DENSITY:"dnstySttsPop",SETTINGS_MSG_LIST_DENSITY:"dnstyStts",SETTINGS_POPUP_TAB_SETTING:"tabSttgsPop",SETTINGS_TAB_SETTING:"tabSttgs",SETTINGS_POPUP_SNIPPET:"snpptsSttgsPop",SETTINGS_SNIPPET:"snpptsSttgs",SETTINGS_INBOX_STYLE:"inbxStyleSttgs",SETTINGS_POPUP_MORE:"moreSttgsPop",SETTINGS_POPUP_SWITCH_TO_CLASSIC:"swtchSttgsPop",SETTINGS_POPUP_PRIVACY:"prvcySttgsPop",SETTINGS_HELP:"hlpSttgs",SETTINGS_POPUP_FEEDBACK:"fdbckSttgsPop",SETTINGS_POPUP_WIDER_PROMO:"widerPromoSttgsPop",SETTINGS_FEEDBACK:"fdbckSttgs",SETTINGS_LEFT_RAIL_PERSONALIZE_INBOX:"inbxSttgs",SETTINGS_LEFT_RAIL_ACCOUNTS:"accntSttgs",SETTINGS_LEFT_RAIL_NOTIFICATIONS:"notfctnSttgs",SETTINGS_LEFT_RAIL_WRITING_EMAILS:"writeSttgs",SETTINGS_LEFT_RAIL_VIEWING_EMAILS:"viewSttgs",SETTINGS_LEFT_RAIL_CATEGORIZATION:"ctgrySttgs",SETTINGS_LEFT_RAIL_AUTOMATIC_REPLY:"replySttgs",SETTINGS_LEFT_RAIL_FILTERS:"filtrSttgs",SETTINGS_LEFT_RAIL_ABOUT:"aboutSttgs",SETTINGS_LEFT_RAIL_ABOUT_ADS:"aboutAdsSttgs",SETTINGS_LEFT_RAIL_AD_FREE:"adFrSttgs",SETTINGS_LEFT_RAIL_PRIVACY:"privcySttgs",SETTINGS_TERMS:"termsSttgs",SETTINGS_DO_NOT_SELL:"doNotSellSttgs",SETTINGS_LEFT_RAIL_SECURITY_AND_PRIVACY:"secPrivSttgs",SETTINGS_LEFT_RAIL_ENCRYPTION:"cryptSttgs",SETTINGS_LEFT_RAIL_CONTACTS:"cntctSttgs",SETTINGS_NOTIFICATIONS:"setNtfctn",SETTINGS_CONVERSATION:"setConvstn",SETTINGS_HUMAN_READABLE_CONSENT_SHOW:"showHrconsent",SETTINGS_HUMAN_READABLE_CONSENT_OPTOUT:"optOutHrconsent",SETTINGS_HUMAN_READABLE_CONSENT_OPTIN:"optInHrconsent",SETTINGS_AUTOMATIC_REPLY:"saveReplySttgs",SETTINGS_CANCEL_EDIT_AUTOMATIC_REPLY:"cancelEditReplySttgs",SETTINGS_CANCEL_EDIT_ACCOUNT:"cancelEditAccnt",SETTINGS_LINK_ENHANCER:"linkEnhancerSttgs",SETTINGS_CATEGORIZATION_CHANGE:"chgCtgrySttgs",SETTINGS_CATEGORIZATION_ORDER:"ordCtgrySttgs",SETTINGS_COLLAPSE_SYSTEM_FOLDERS:"cllpsSysFldrs",SETTINGS_EXPAND_SYSTEM_FOLDERS:"expndSysFldrs",SETTINGS_LEFT_RAIL_MAIL_PRO:"mailProSttgs",SETTINGS_BLOCK_IMAGES:"showImgSttgs",SETTINGS_MOBILE_NOTIFICATION:"mobNtfctn",SETTINGS_OPT_OUT:"optOutSttgs",SETTINGS_SIGNATURE:"sigSttgs",SETTINGS_ACCOUNTS:"acctSttngs",SETTINGS_DISABLE_FORWARDING:"delAutoFwd",SETTINGS_ENABLE_FORWARDING:"addAutoFwd",SETTINGS_BLOCKED_SENDERS:"blkSdrSttgs",SETTINGS_MSG_FILTERS_SAVE:"saveMsgFltrSttgs",SETTINGS_FIRST_MESSAGE:"frstMsgSttgs",OPT_OUT_SUBMIT_FEEDBACK:"optOutSbmt",OPT_OUT_CANCEL_FEEDBACK:"optOutCncl",COMPOSE_BUTTON:"cmpsBtn",CANCEL_COMPOSE:"cancelCmp",CONTACT_SUGGEST:"contctsuggst",DELETE_CONTACT_SUGGEST:"delcontctsuggst",SELECT_CONTACT:"slctcontct",SHOW_HOVER_CARD:"showHvrcrd",COMPOSE_ADD_ATTACHMENT:"compsAddAttmnt",COMPOSE_DRAG_ATTACHMENT:"dragAttmnt",COMPOSE_ADD_BIG_ATTACHMENT:"compsAddBigAttmnt",DELETE_DRAFT:"delDraft",SEND:"send",SEND_MSG:"sendMsg",COMPOSE_AUTO_OPEN_STATIONERY_POPUP:"compsAutoOpnStnryPop",COMPOSE_OPEN_STATIONERY_POPUP:"compsOpnStnryPop",COMPOSE_CLOSE_STATIONERY_POPUP:"compsClsStnryPop",COMPOSE_ADD_STATIONERY:"compsAddStnry",COMPOSE_CLEAR_STATIONERY:"compsClrStnry",COMPOSE_CLEAR_DEFAULT_STATIONERY:"compsClrDfltStnry",COMPOSE_ADD_LINK:"compAddLink",COMPOSE_BOLD:"compsBold",COMPOSE_ITALIC:"compsItalic",COMPOSE_CHOOSE_COLOR:"compsClr",COMPOSE_CHOOSE_FONT:"compsFnt",COMPOSE_FILE_SELECT_BTN_CLICKED:"compsFileSlctBtnClicked",COMPOSE_OPEN_MORE_MENU:"compMoreMnu",COMPOSE_CHOOSE_LIST_TYPE:"compsLst",COMPOSE_ALIGN_TEXT:"compsAlgn",COMPOSE_STRIKETHROUGH_TEXT:"compsStrikeThrough",COMPOSE_PLAIN_TEXT_MODE:"compsPlainText",COMPOSE_RICH_TEXT_MODE:"compsRichText",RELATED_CONTACTS_CLOSED:"relatedContctsClosed",COMPOSE_SHOW_CC_BCC:"compsshowCC",COMPOSE_HIDE_CC_BCC:"compsHideCC",GIF_SEARCH:"compsGifSrch",GIF_CATEGORY:"compsGifCtgry",GIF_ADD:"compsAddGif",GIF_OPEN:"openGifCntxt",GIF_CHANGE_SIZE:"changeGifsz",GIF_SEND_AS_ATTACHMENT:"sendGifAttmnt",GIF_DOWNLOAD:"dnwldGif",GIF_REMOVE:"removeGif",EMOJI_CLOSE:"closeEmjiPckr",EMOJI_OPEN:"openEmjiPckr",EMOJI_ADD:"compsAddEmoji",EMOJI_CATEGORY_CHANGED:"emjiCtgryChngd",DRAG_CONTACT:"dragCntct",EMERGENCY_RELOAD_SHOWED:"emReloadShwd",EMERGENCY_RELOAD_ACCEPTED:"emReloadAcptd",EMERGENCY_RELOAD_CANCELED:"emReloadCncld",EMERGENCY_RELOAD_CLOSED:"emReloadClsd",PERIODIC_RELOAD_SHOWED:"peReloadShwd",PERIODIC_RELOAD_ACCEPTED:"peReloadAcptd",FILTER_MESSAGES:"fltrMsg",FILTER_IMAGES:"fltrPhoto",FILTER_DOCUMENTS:"fltrDocs",FILTER_FROM:"fltrFrom",FILTER_TO:"fltrTo",FILTER_ALL:"fltrAll",FILTER_PEOPLE:"fltrPeople",FILTER_NOT_PEOPLE:"fltrNotPeople",FILTER_TRAVEL_VIEW_UPCOMING:"fltrTrUpc",FILTER_TRAVEL_VIEW_PAST:"fltrTrPst",FILTER_PHOTOS:"fltrPhoto",FILTER_ACTIVE:"fltrActv",FILTER_PAST:"fltrPst",UNSUB_BUTTON:"unsub_btn",UNSUB_CONFIRM:"unsub_confirm",SUBSCRIPTION_OPEN:"subscriptionOpen",SUBHUB_RECOMMENDATION_SHOWN:"subhubRecoShown",SUBHUB_RECOMMENDATION_CORE_ACTION:"subscribe",COUPON_CLIPPED:"cpnClipped",UNUSUAL_DISCOUNT_COUPON_CLIPPED:"message_coupon_clipped",COUPON_UNCLIPPED:"cpnUnclipped",COUPON_OPENED:"cpnOpen",RECEIPT_OPENED:"rcptOpn",COUPON_REC_OPENED:"cpnRecOpened",COUPON_REC_CLOSED:"cpnRecClosed",CARD_INTERACT:"card_interact",CARD_VIEW:"card_view",FALLBACK_COUPON_CLIPPER_FROM_SENDER_SHOWN:"fallbackCpnClprFrmSenderShwn",FALLBACK_COUPON_CLIPPER_FROM_INBOX_SHOWN:"fallbackCpnClprFrmInboxShwn",COUPON_SELF_EXTRACTION_MODAL_OPENED:"cpnSlfExtrnOpnd",COUPON_SELF_EXTRACTION_MODAL_CLOSED:"cpnSlfExtrnClsd",COUPON_SELF_EXTRACTION_MODAL_CANCELLED:"cpnSlfExtrnCncld",COUPON_SELF_EXTRACTION_MODAL_SAVE:"cpnSlfExtrnSv",FEEDBACK_PANEL_GIVE_FEEDBACK:"fbpFbk",TUTORIAL_VIDEO:"tutorialVid",ABNORMAL_ZOOM_DIALOG_CLOSED:"zoomDiagClosed",HIDE_RIGHT_RAIL_AD:"hideRightRailAd",BOOKING_CARD_RENDERED:"bookingCardRendered",NAVIGATE_TO_BOOKING:"navigateToBooking",ADFREE_UPSELL_ACCEPT:"adFreeAcptd",ADFREE_UPSELL_CANCEL:"adFreeCncld",GET_RR_WIDER_MAIL_EXTENSION:"rrWiderMailGetExtension",RR_WIDER_MAIL_INSTALL_SUCCESS:"rrWiderMailInstallSuccess",RR_WIDER_MAIL_INSTALL_FAILURE:"rrWiderMailInstallFailure",LINK_ENHANCER_ADD_LINK:"addEnLnk",LINK_ENHANCER_RESIZE_LINK:"resizeEnLnk",LINK_ENHANCER_REMOVE_LINK:"removeEnLnk",LINK_ENHANCER_OPEN_LINK:"openEnLnk",LINK_ENHANCER_SHARE_LINK:"shareEnLnk",LINK_ENHANCER_MOVE_LINK_BOTTOM:"moveEnLnkBottom",LINK_ENHANCER_MOVE_LINK_INLINE:"moveEnLnkInline",PENCIL_AD_CLICKED:"pencilAdClicked",PENCIL_AD_FEEDBACK_OPEN:"pencilAdFeedbackOpen",SEARCH_AD_FETCHED:"searchAdFetched",PENCIL_AD_DELETE:"pencilAdDelete",PENCIL_AD_DELETE_TLBR:"pencilAdDeleteTlbr",PENCIL_AD_SELECTION_TOGGLED:"pencilAdSelectionToggled",SEARCH_AD_RENDERED:"searchAdRendered",AD_FEEDBACK_POSITIVE:"adFeedbackPositive",AD_FEEDBACK_NEGATIVE:"adFeedbackNegative",WHY_THIS_AD_LINK_CLICKED:"whyThisAdLinkClicked",GO_AD_FREE_LINK_CLICKED:"goAdFreeLinkClicked",NAVIGATE_TO_MAIL_PRO_MONTHLY:"navigateToMailProUrlMonthly",NAVIGATE_TO_MAIL_PRO_YEARLY:"navigateToMailProUrlYearly",NAVIGATE_TO_MAIL_PRO_ACTIVE_USER:"navigateToMailProUrlActiveUser",NAVIGATE_TO_MAIL_PRO_PASTDUE_USER:"navigateToMailProUrlPastDueUser",NAVIGATE_TO_MAIL_PRO_FROM_ERROR_PAGE:"navigateToMailProUrlFromErrorPage",NAVIGATE_TO_TRY_MAIL_PRO_FOR_FREE:"navigateToTryMailProForFree",NAVIGATE_TO_MAIL_PRO_FROM_ADFEEDBACK:"navigateToMailProUrlFromAdfeedback",NAVIGATE_TO_MAIL_PRO_FROM_TLBR:"navigateToMailProUrlFromTlbr",NAVIGATE_TO_MAIL_PRO_FROM_RIGHT_RAIL_UPSELL:"navigateToMailProUrlFromRightRailUpsell",NAVIGATE_TO_MAIL_PRO_FROM_SETTINGS_POPOVER:"navigateToMailProUrlFromSettingsPopover",NAVIGATE_TO_MAIL_PRO_TAB_FROM_ADFEEDBACK:"navigateToMailProTabFromAdfeedback",TABS_MENU_OPEN:"tabsMenuOpen",TABS_MENU_CLOSE:"tabsMenuClose",TAB_CLICKED_WITH_ATTACHMENT_PREVIEW:"tabClickedWithAttachmentPreview",SEARCH_PLA_AD_ITEM_CLICKED:"searchPlaAdItemClicked",RSVP_CALENDAR_RESPONSE:"rsvpCalendarResponse",RSVP_NAVIGATE_TO_CALENDAR:"rsvpNavigateToCalendar",RSVP_LOADED:"rsvpModuleLoaded",RELATED_SEARCHES_CARD_CLICKED:"relatedSearchesCardClicked",FEATURE_VIEWED:"featureViewed",ADBLOCK_DETECTED:"adblockDetected",ADBLOCK_BEACON_FAILED:"adblockBeaconFailed",ABP_DETECTED:"abpDetected",ADBLOCK_UI_UPDATE:"adblockUIUpdate",PUSH_NOTIFICATION_RECEIVED:"pushNotificationReceived",PUSH_NOTIFICATION_OPENED:"pushNotificationOpened",PUSH_NOTIFICATIONS_REQUEST_GRANTED:"pushNotificationsRequestGranted",PUSH_NOTIFICATIONS_REQUEST_REJECTED:"pushNotificationsRequestRejected",PUSH_NOTIFICATION_ACTION_DELETE:"pushNotificationActionDelete",PUSH_NOTIFICATION_ACTION_MARK_AS_READ:"pushNotificationActionMarkAsRead",PULL_TO_REFRESH:"pullToRefresh",NAVIGATE_TO_FOLDER:"navigateToFolder",NAVIGATE_TO_SETTINGS:"navigateToSttngs",CHECK_MAIL:"checkMail",MANUAL_SAVE_DRAFT:"manualSaveDraft",CONTACT_CARD_EMAIL_CLICKED:"contactCardEmailClicked",CONTACT_CARD_AVATAR_CLICKED:"contactCardAvatarClicked",CONTACT_CARD_URL_CLICKED:"contactCardUrlClicked",CONTACT_CARD_CLICKED:"contactCardClicked",CONTACT_CARD_NAME_CLICKED:"contactCardNameClicked",CONTACT_CARD_LOAD_FAILED:"contactCardLoadFailed",CONTACT_CARD_ADD_TO_CONTACTS:"contactCardAddToContacts",CONTACT_CARD_EDIT_CONTACT:"contactCardEditContact",OPEN_CONTACT_PICKER:"openContactPicker",OPEN_CONTACT_LIST:"openCntctLst",OPEN_CONTACT:"openCntct",CONTACTS_PANE_ICON_ON:"cntctIconOn",CONTACTS_PANE_ICON_OFF:"cntctIconOff",TOP_VIEW:"cntctsPaneTopView",USER_CREATED_VIEW:"cntctsPaneUserView",PEOPLE_VIEW:"cntctsPanePeopleView",BUSINESS_VIEW:"cntctsPaneBusinessView",GROUPS_VIEW:"cntctsPaneGroupsView",TOGGLE_ALPHA_SECTION:"toggleAlphaSctn",CONTACT_DETAILS_BACK:"contactDetailsBack",CONTACT_GROUP_EDIT_BACK:"contactGroupEditBack",CONTACT_GROUP_SAVE:"contactGroupSave",CONTACT_GROUP_CREATE:"contactGroupCreate",CONTACT_GROUP_EDIT_CANCEL:"contactGroupEditCancel",CONTACT_GROUP_CREATE_BACK:"contactGroupCreateBack",CONTACT_GROUP_CREATE_CANCEL:"contactGroupCreateCancel",ADD_CONTACT_TO_GROUP:"addContactToGroup",OPEN_EDIT_CONTACT:"openEditContact",CHANGE_USER_GROUP:"changeUserGroup",EDIT_USER_GROUP:"editUserGroup",OPEN_CREATE_USER_GROUP:"openCreateUserGroup",DELETE_USER_GROUP:"deleteUserGroup",CONTACT_EDIT_SAVE:"contactEditSave",CONTACT_CREATE_SAVE:"contactCreateSave",CONTACT_EDIT_CANCEL:"contactEditCancel",CONTACT_CREATE_CANCEL:"contactCreateCancel",SEARCH_CONTACTS:"searchContacts",CLEAR_CONTACTS_SEARCH:"clearContactsSearch",OPEN_CREATE_CONTACT:"openCreateContact",CONFIRM_DELETE_CONTACT:"confirmDeleteContact",EXPORT_ALL_CONTACTS:"exportAllContacts",IMPORT_CONTACTS:"importContacts",PRINT_ALL_CONTACTS:"printAllContacts",CHANGE_CONTACTS_SORT_ORDER:"changeContactsSortOrder",IMPORT_LINKEDIN_CONTACTS:"importLinkedInContacts",IMPORT_GMAIL_CONTACTS:"importGmailContacts",IMPORT_YMAIL_CONTACTS:"importYMailContacts",IMPORT_AOL_CONTACTS:"importAolContacts",IMPORT_OUTLOOK_CONTACTS:"importOutlookContacts",LINKEDIN_AUTH_EXPIRED:"linkedInAuthExpired",DISCONNECT_GMAIL_CONTACTS:"disconnectGmailContacts",DISCONNECT_YMAIL_CONTACTS:"disconnectYMailContacts",DISCONNECT_AOL_CONTACTS:"disconnectAolContacts",DISCONNECT_OUTLOOK_CONTACTS:"disconnectOutlookContacts",CONTACT_ITEM_EMAIL_CLICKED:"contactListEmailClicked",CONTACT_DETAILS_EMAIL_CLICKED:"contactDetailsEmailClicked",COUPON_BRAND_VIGLINK_CLICKED:"couponBrandViglinkClicked",COUPON_VIGLINK_CLICKED:"couponViglinkClicked",COUPON_BODY_VIGLINK_CLICKED:"couponBodyViglinkClicked",UNUSUAL_DISCOUNT_COUPON_CARD_VIGLINK_CLICKED:"annotated_message_link_click",COUPON_CARD_VIGLINK_CLICKED:"couponMsgReadCardClicked",COUPON_LIST_VIGLINK_CLICKED:"couponSmrtViewCardClicked",MESSAGE_READ_AVATAR_CLICKED:"MsgReadCardLogoClicked",MESSAGE_READ_FROM_FIELD_CLICKED:"MsgReadFromFieldClicked",COUPON_CARD_DEAL_FROM_MESSAGE_LOGO_CLICKED:"couponMsgReadDealLogoClicked",SHOPPING_COUPONS_VIEW_CLICKED:"shoppingCouponsVwClicked",SHOPPING_EMAILS_VIEW_CLICKED:"shoppingEmailsVwClicked",SHOPPING_CART_AD_REQUEST_SUCCESS:"shoppingCartAdRequestSuccess",SHOPPING_CART_AD_REQUEST_FAILURE:"shoppingCartAdRequestFailure",DEALS_SHOPPING_CART_AD_REQUEST_SUCCESS:"dealsShoppingCartAdRequestSuccess",DEALS_SHOPPING_CART_AD_REQUEST_FAILURE:"dealsShoppingCartAdRequestFailure",SHOPPING_CART_AD_RENDERED:"shoppingCartAdRendered",SHOPPING_CART_AD_CLICKED:"shoppingCartAdClicked",DEALS_SHOPPING_CART_AD_CLICKED:"dealsShoppingCartAdClicked",DEALS_SHOPPING_CART_AD_RENDERED:"dealsShoppingCartAdRendered",SHOPPING_CART_EXPAND_TOGGLED:"shoppingCartExpandToggled",DOMAIN_MATCHED_PENCIL_AD_MSG_READ:"domainMatchedPencilAdMsgRd",CROSS_DOMAIN_DPA_AD_REQUEST_SUCCESS:"crossDomainDPAAdRequestSuccess",CROSS_DOMAIN_DPA_AD_REQUEST_FAILURE:"crossDomainDPAAdRequestFailure",CROSS_DOMAIN_DPA_AD_REQUEST_ERROR:"crossDomainDPAAdRequestError",CROSS_DOMAIN_DPA_AD_RENDERED:"crossDomainDPAAdRendered",CROSS_DOMAIN_DPA_AD_CLICKED:"crossDomainDPAAdClicked",AD_FEEDBACK_OPENED:"adFeedbackOpened",AD_FEEDBACK_CLOSE:"adFeedbackClose",AD_FEEDBACK_SUBMIT:"adFeedbackSubmit",AD_POLICY_LINK_CLICKED:"adPolicyLinkClicked",ADVERTISE_WITH_US_LINK_CLICKED:"advertiseWithUsLinkClicked",CONNECTED_PROVIDERS:"connctdPrvdrs",QTNT_HEADER_VIEW:"qtnt_header_view",QTNT_ONBOARD_COMPLETE:"qtnt_onboard_complete",QTNT_ONBOARD_FAILURE:"qtnt_onboard_failure",QTNTVIEW_HEADER_ACTION:"qtntview_header_action",QTNTVIEW_LEFTRAIL:"qtntview_leftrail",QTNTVIEW_SMARTVIEW_ACTION:"qtntview_smartview_action",QTNTVIEW_SMARTVIEW_CANCEL:"qtntview_smartview_cancel",QTNT_START_SEARCH:"qtnt_start_search",QTNT_SEARCH:"qtnt_search",QTNT_CATEGORY_FILTER:"qtnt_category_filter",QTNT_COUPON_CLIP:"qtnt_coupon_clip",QTNTVIEW_TAKEOVER:"qtntview_takeover",QTNTVIEW_MESSAGELIST:"qtntview_messagelist",GROCERY_SEARCH_FIRE:"grocery_search_fire",GROCERY_SA_SELECT:"grocery_sa_select",GROCERY_END_OF_SCROLL:"end_of_scroll_reached",CATEGORY_FOLLOW:"category_follow",CATEGORY_UNFOLLOW:"category_unfollow",SUGGESTED_CATEGORIES_CARD_SHOW:"suggested_categories_card_show",CATEGORY_FOLLOWING_SHOW:"annotation_show",CATEGORY_FOLLOWING_MSG_OPEN:"annotated_message_open",BLOCK_SENDERS_SUBMIT:"blkSdrSbmt",BLOCK_SENDERS_WITH_DELETE_SUBMIT:"blkSdrDelSbmt",UNBLOCK_SENDERS_SUBMIT:"unblkSdrSbmt",SPONSORED_MOMENT_CLICKED:"sponsoredMomentClicked",SPONSORED_MOMENT_CLOSED:"sponsoredMomentClosed",PORTRAIT_AD_CLICKED:"portraitAdClicked",PORTRAIT_AD_EXPANDED:"portraitAdExpanded",PORTRAIT_AD_CLOSED:"portraitAdClosed",COUPONS_SEARCH_TOP_RETAILER_CLICKED:"couponsSearchTopRetailerClicked",COUPONS_SEARCH_TOP_DEAL_CLICKED:"couponsSearchTopDealClicked",COUPONS_SEARCH_RECENT_SEARCH_CLICKED:"couponsSearchRecentSearchClicked",AD_FORMAT_SELECTION_UPDATED:"adFormatSelectionUpdated",AD_FORMAT_SELECTION_CLOSED:"adFormatSelectionClosed",UPDATE_AD_FORMAT_SELECTION_CLICKED:"updateAdFormatSelectionClicked",RETAILER_FILTER_CLICKED:"retailerFilterClicked",CATEGORY_FILTER_CLICKED:"categoryFilterClicked",USERNAME_PHONE_REG_ONBOARDING:"userNamePhoneRegOnbrdng",USERNAME_PHONE_REG_ADD_ACCOUNT:"userNamePhoneRegAddAcct",USERNAME_PHONE_REG_ADD_PROVIDER:"userNamePhoneRegAddPrvdr",USERNAME_PHONE_REG_CANCEL_AUTHORIZE:"userNamePhoneRegCnclAuth",RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED:"rightRailUpsellVideoAdStarted",RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED:"rightRailUpsellVideoAdFinished",RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED:"rightRailUpsellVideoAdClicked",LASTPASS_FREETRIAL_UPSELL_VIEW_ELIGIBLE:"lastpassFreeTrialUpsellViewEligible",AUTOTAG_DROPDOWN_SHOWN:"autotagDrpDnShown",AUTOTAG_CONTACT_SELECTED:"autotagCntctSelect",AUTOTAG_DROPDOWN_CLOSED:"autotagDrpDnClosed",SECURITY_SUBSCRIPTIONS_UPSELL_CLICKED:"SecuritySubscriptionsUpsellClicked",BREAKING_NEWS_CLICKED:"breakingNewsClicked",BREAKING_NEWS_DISMISSED:"breakingNewsDismissed",BREAKING_NEWS_DISABLED:"breakingNewsDisabled",BREAKING_NEWS_ENABLED:"breakingNewsEnabled",BREAKING_NEWS_ICON:"breakingNewsIcon",LATEST_NEWS_CLICKED:"lastestNewsClicked",BREAKING_NEWS_RENDERED:"breakingNewsRendered",PACKAGE_TRACKING_DISABLED:"packageTrackingDisabled",PACKAGE_TRACKING_ENABLED:"packageTrackingEnabled",TMR_NAVIGATE_TO_ATOS:"tmrNavigateToAtos",TMR_NAVIGATE_TO_URL:"tmrNavigateToURL",TMR_NAVIGATE_TO_ADD_ACCOUNT:"tmrNavigateToAddAccount",TMR_LAUNCH_SUCCESS:"tmrLaunchSuccess",TMR_LAUNCH_FAILED:"tmrLaunchFailed",TMR_REGISTER_ACTION_SUCCESS:"tmrRegisterActionSuccess",TMR_REGISTER_ACTION_FAILED:"tmrRegisterActionFailed",TMR_TAB_CHANGE:"tmrTabChange",TMR_POINT_ICON_CLICK:"tmrPointIconClick",TMR_TASK_CLICK:"tmrTaskClick",TMR_ADD_MAILBOX_CLICK:"tmrAddMailboxClick",PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:"purchaseMailproFreeTrialSuccess",PURCHASE_MAILPRO_FREE_TRIAL_FAILED:"purchaseMailproFreeTrialFailed",LIST_MAILPRO_SUBSCRIPTIONS_SUCCESS:"listMailproSubscriptionsSuccess",LIST_MAILPRO_SUBSCRIPTIONS_FAILED:"listMailproSubscriptionsFailed",PURCHASE_MAILPRO_FREE_TRIAL:"purchaseMailproFreeTrial",UPGRADE_TO_MAILPRO:"upgradeToMailpro",PURCHASE_FREE_TRIAL_FROM_AD_FEEDBACK:"purchaseFreeTrialFromAdFeedback",PURCHASE_FREE_TRIAL_FROM_RIGHT_RAIL_UPSELL:"purchaseFreeTrialFromRightRailUpsell",PURCHASE_FREE_TRIAL_FROM_SETTINGS_MENU:"purchaseFreeTrialFromSettingsMenu",PURCHASE_FREE_TRIAL_FROM_SETTINGS_TAB:"purchaseFreeTrialFromSettingsTab",GET_MAILPRO_CLICK_FROM_AD_FEEDBACK:"getMailproClickFromAdFeedback",CLOUD_STORAGE_GDRIVE_CONNECT_CLICKED:"csGDriveConnectClicked",CLOUD_STORAGE_DROPBOX_CONNECT_CLICKED:"csDropboxConnectClicked",CLOUD_STORAGE_ITEMS_FETCHED:"csItemsFetched",CLOUD_STORAGE_FOLDER_ITEMS_FETCHED:"csFolderItemsFetched",CLOUD_STORAGE_ITEMS_SEARCHED:"csItemsSearched",CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_ACCEPTED:"csChangePermissionsAccepted",CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_CANCELLED:"csChangePermissionsCancelled",CLOUD_STORAGE_ITEM_LINK_INSERTED:"csItemLinkAdded",CLOUD_STORAGE_ITEM_PREVIEW_CLICKED:"csItemPreviewClicked",ATTACH_FILES_FROM_GDRIVE:"attFromGdrive",ATTACH_FILES_FROM_DROPBOX:"attFromDropbox",ATTACH_FILES_FROM_RECENT_FILES:"attFromRecentFiles",ATTACH_FILES_FROM_COMPUTER:"attFromComputer",MERCHANT_SITE_CLICK:"merchantSiteClick",PRODUCT_CATEGORY_CLICK:"productCategoryClick",AFFILIATE_DEAL_CLICK:"affiliateDealClick",DEAL_CARD_SHOWN:"dealCardShown",PRODUCT_CATEGORY_SHOWN:"productCategoryShown",DEALS_VIEW_LEARN_MORE:"dealsViewLearnMore",DEALS_VIEW_CASH_BACK:"dealsViewCashBack",DEALS_VIEW_BANNER_INVOKED:"dealsViewBannerInvoked",DEALS_VIEW_CASH_BACK_BANNER:"dealsViewCashBackBannerClick",DEALS_VIEW_NAV_FROM_NOTIFICATION:"dealsViewNavFromNotification",GROCERIES_VIEW_NAV_FROM_NOTIFICATION:"groceriesViewNavFromNotification",SIMPLE_CTA_MSG_BUTTON_CLICK:"simpleCTAMsgButtonClick",SIMPLE_CTA_MSG_READ_INVOKE:"simpleCTAMsgReadInvoke",SIMPLE_CTA_MSG_READ_BANNER_CLICK:"simpleCTAMsgReadBannerClick",CATEGORY_WITH_IMAGE_MSG_RD_INVOKE:"categoryWithImagesMsgReadInvoke",CATEGORY_WITH_IMAGES_MSG_RD_CATEGORY_CLICK:"categoryWithImagesMsgReadCategoryClick",CATEGORY_WITH_IMAGES_MSG_RD_CATEGORY_INVOKE:"categoryWithImagesMsgReadCategoryInvoke",CATEGORY_WITH_IMAGES_MSG_RD_BANNER_CLICK:"categoryWithImagesMsgReadBannerClick",ARTICLE_CONTENT_MSG_READ_CARD_LINK_CLICK:"articleContentMsgReadCardLinkClick",ARTICLE_CONTENT_WITHOUT_BG_MSG_READ_CARD_LINK_CLICK:"articleContentWithoutBgMsgReadCardLinkClick",ARTICLE_CONTENT_MSG_RD_INVOKE:"articleContentMsgReadInvoke",ARTICLE_CONTENT_WITHOUT_BG_MSG_RD_INVOKE:"articleContentWithoutBgMsgReadInvoke",ARTICLE_CONTENT_MSG_READ_CARD_INVOKE:"articleContentMsgReadCardInvoke",ARTICLE_CONTENT_WITHOUT_BG_MSG_READ_CARD_INVOKE:"articleContentWithoutBgMsgReadCardInvoke",ARTICLE_CONTENT_MSG_READ_BANNER_CLICK:"articleContentMsgReadBannerClick",SUBHUB_RECOMMENDATION_SUBSCRIBE_CLICK:"subhubRecoSubscribeClick",SUBHUB_RECOMMENDATION_GO_TO_WEBSITE_CLICK:"subhubRecoGoToWebsiteClick",SUBHUB_RECOMMENDATION_DIALOG_CLOSE_CLICK:"subhubRecoDialogCloseClick",SUBHUB_RECOMMENDATION_DIALOG_CANCEL_CLICK:"subhubRecoDialogCancelClick",NPS_SURVEY_SHOWN:"nps_intercept_presented",NPS_SURVEY_ACCEPT:"nps_invitation_accepted",NPS_SURVEY_DECLINE:"nps_invitation_declined",OLDMAIL:"oldMail",NEWMAIL:"newMail",INLINE_IMAGE_PREVIEW:"inlineImgPrvw",INLINE_IMAGE_DOWNLOAD:"inlineImgDwnld"},l={LAUNCH:"launch",ONBOARDING:"onboarding",LEFTRAIL_COMPOSE:"leftr_comp",COMPOSE_CLOSE:"comp_cls",COMPOSE_CONTACTS:"comp_contcts",COMPOSE_TOOLBAR:"comp_toolbr",COMPOSE_MSG:"comp_msg",RTE_TOOLBAR:"rte_toolbr",CONTACT_PICKER:"cntct_pckr",MSG_READ_ATTACHMENT:"msgrd_attm",MSG_BODY:"msg_body",ATTM_PREVIEW:"attm_prvw",MSG_READ_TOOLBAR:"msgrd_toolbar",QUICK_COMPOSE:"quickComp",MSG_READ_AD:"msgrd_ad",MSG_HEADER:"msgrd_header",MSG_LIST:"msglst",MSG_LIST_MSG:"msglst_msg",MSG_LIST_TOOLBAR:"msglst_toolbr",MSG_LIST_CONTEXT_MENU:"msglst_contxt_menu",MSG_LIST_TOOLBAR_POPUP:"msglst_toolbr_pop",MSG_LIST_BULK_ACTION:"msglst_blkactn",MSG_LIST_SORT:"msglst_srt",MSG_LIST_NOTIFICATION:"msglst_notf",MSG_LIST_AD:"msglst_ad",DOC_LIST:"doc_vw",PHOTO_LIST:"photo_vw",COUPONS_LIST:"coupons_vw",ATTACHMENT_VIEW:"attm_vw",RECEIPTS_LIST:"receipts_vw",TRAVEL_LIST:"travel_vw",SHOPPING_VIEW:"shopping_vw",INBOX_FILTERS:"inbox_filters",SHOPPING_CART:"shopping_cart",DPA_ADS:"dpa_ads",PHISHING_BANNER:"phishing_banner",REPLY_TO_ALERT_POPOVER:"reply_to_alert_popover",REPLY_TO_ALERT_BANNER:"reply_to_alert_banner",ATTACHMENT_LIGHTBOX:"attm_lghtbx",FEATURE_CUE:"feature_cue",THEMES_CUE:"themes_cue",NEW_USER_TASKS_CUE:"new_user_tasks_cue",FILTER_MESSAGES:"filter_messages",FEATURE_CARD:"feature_card",HEADER:"hdr",HEADER_NAV:"hdr_nav",HEADER_SEARCH:"hdr_srch",HEADER_SETTINGS:"hdr_sttngs",HEADER_LIST:"hdr_list",LEFTRAIL_SMARTVIEW:"leftr_smrtvw",LEFTRAIL_SYSFOLDER:"leftr_systfldr",LEFTRAIL_USERFOLDER:"leftr_usrfldr",LEFTRAIL_CONTEXTMENU:"leftr_contxtmnu",LEFTRAIL_ACCOUNTS:"leftr_acct",LEFTRAIL_FOLDER:"leftr_fldr",RIGHT_RAIL:"rightrail",RIGHT_RAIL_WIDER_MAIL_UPSELL:"rrWMailUpsell",RIGHT_RAIL_TRAVEL_CARD:"rightRailTravelCard",RIGHT_RAIL_PLA_CARD:"rightRailPlaCard",SETTINGS_POPUP:"sttgspop",SETTINGS_MAIN:"sttgsMain",SETTINGS_LEFT_RAIL:"sttgsLftr",SETTINGS_INBOX_TAB:"sttgsInbx",SETTINGS_ACCOUNTS_TAB:"sttgsAccnts",SETTINGS_NOTIFICATIONS_TAB:"sttgsNtfctn",SETTINGS_VIEWING_EMAIL_TAB:"sttgsView",SETTINGS_AUTOMATIC_REPLY_TAB:"sttgsReply",SETTINGS_WRITING_EMAIL_TAB:"sttgsWrite",SETTINGS_CATEGORIZATION_TAB:"sttgsCtgry",SETTINGS_CONTACTS_TAB:"sttgsCntcts",SETTINGS_MESSAGE_FILTERS_TAB:"sttgsMsgFltrs",SETTINGS_SECURITY_PRIVACY_TAB:"sttgsSecPrivacy",CPN_STORE_LOCATOR:"cpnStoreLctr",CPN_RECOMMENDATION:"cpnRec",CPN_RECOMMENDATION_SMRTVW:"cpnRecSmrtVw",COUPON_SELF_EXTRACTION_MODAL:"cpnSlfExtrnMdl",PERIODIC_RELOAD:"periodic_rld",EMERGENCY_RELOAD:"emergency_rld",VIDEO_PLAYER:"video_player",SUBSCRIPTIONS_VIEW:"subscriptions",UNSUB_PANE:"unsub_pane",FEEDBACK_PANEL:"feedback_panel",TUTORIALS:"tutorials",ADFREE_UPSELL_DIALOG:"adFreeDlg",NOTIFICATION_ACTION:"NtfctnActn",MAIL_PRO_SETTINGS:"mailProSettings",TABS_MENU:"tabsMenu",RSVP_CARD:"rsvp_card",RIGHT_RAIL_RELATED_SEARCHES_CARD:"rr_related_searches_card",FEATURE_VIEWABILITY:"feature_viewability",CONTACTS_PANE:"contacts_pane",CONTACT_CARD:"contact_card",TOP_CONTACTS_TAB:"top_contacts_tab",PEOPLE_CONTACTS_TAB:"people_contacts_tab",BUSINESS_CONTACTS_TAB:"business_contacts_tab",USER_CREATED_CONTACTS_TAB:"user_created_contacts_tab",GROUPS_CONTACTS_TAB:"groups_contacts_tab",CONTACTS_PANE_SEARCH:"contacts_pane_search",RELATED_CONTACTS:"related_contacts",CONTACTS_OVERFLOW_MENU:"contacts_overflow_menu",EDIT_CREATE_USER_GROUP:"edit_create_user_group",CONTENT_PROVIDERS:"content_providers",COUPONS_SEARCH_PANE:"coupons_search_pane",AD_FEEDBACK:"ad_feedback",QUOTIENT:"quotient",NUDGE_TO_REPLY:"nudge_to_reply",USERNAME_PHONE_REG:"userName_Phone_reg",LASTPASS_FREETRIAL_UPSELL:"lastpass_freetrial_upsell",BREAKING_NEWS:"breaking_news",PACKAGE_TRACKING:"package_tracking",MEMBERSHIP_REWARDS:"membership_rewards",MAILPRO_FREE_TRIAL:"mailpro_free_trial",COMPOSE_ATTACH_FILES_MENU:"cmpAttFilesMenu",SUBHUB_RECOMMENDATION_RIGHT_RAIL:"subhubRecoRightRail"},d={[n.Mb.INBOX]:"Inbox",[n.Mb.DRAFT]:"Drafts",[n.Mb.SENT]:"Sent",[n.Mb.ARCHIVE]:"Archive",[n.Mb.BULK]:"Spam",[n.Mb.TRASH]:"Trash",[n.Mb.USER]:"UserFolder",[n.Kb.ALL_MAIL]:"AllMail",[n.Ud.UNREAD]:"Unread",[n.Ud.STARRED]:"Starred",[n.Ud.PHOTOS]:"Photos",[n.Ud.DOCUMENTS]:"Documents",[n.Ud.SUBSCRIPTIONS]:"Subscription",[n.Ud.COUPONS]:"Deals",[n.Ud.RECEIPTS]:"Receipts",[n.Ud.GROCERIES]:"Groceries",[n.Ud.TRAVEL]:"Travel",[n.Ud.ATTACHMENTS]:"Attachments"},E=Object(r.d)(["replyMsg","replyAllMsg","forwardMsg","smartReply","deleteMsg","archiveMsg","restore","moveMsg","openMsg","open_doc","open_photo","dwnldAttmnt","printAttmnt","search","createFldr","markRead","markUnread","markStar","markUnstar","markSpam","markUnspam","renameFldr","move_fldr","deleteFldr","add_attmnt","composeMsg","sendMsg","clickMsgLink","listing","unsub","send"]),_={TRAVEL_UPCOMING:"trvUpcEmpty",TRAVEL_PAST:"trvPstEmpty",SEARCH:"search_zero_results"},u={CHANGE:"change"},p={TOM:"tom",RIGHT_RAIL:"right_rail",HOVER:"hover",COUPON_SMART_VIEW:"coupon_smart_view"}},,,function(e,t,s){"use strict";s.d(t,"eb",(function(){return T})),s.d(t,"a",(function(){return A})),s.d(t,"A",(function(){return v})),s.d(t,"z",(function(){return F})),s.d(t,"q",(function(){return U})),s.d(t,"y",(function(){return w})),s.d(t,"N",(function(){return G})),s.d(t,"M",(function(){return H})),s.d(t,"k",(function(){return j})),s.d(t,"m",(function(){return k})),s.d(t,"t",(function(){return x})),s.d(t,"J",(function(){return B})),s.d(t,"l",(function(){return V})),s.d(t,"db",(function(){return K})),s.d(t,"cb",(function(){return q})),s.d(t,"fb",(function(){return Y})),s.d(t,"x",(function(){return z})),s.d(t,"C",(function(){return Q})),s.d(t,"G",(function(){return Z})),s.d(t,"w",(function(){return X})),s.d(t,"F",(function(){return $})),s.d(t,"P",(function(){return J})),s.d(t,"H",(function(){return ee})),s.d(t,"Y",(function(){return te})),s.d(t,"U",(function(){return se})),s.d(t,"D",(function(){return re})),s.d(t,"h",(function(){return ne})),s.d(t,"L",(function(){return ae})),s.d(t,"B",(function(){return oe})),s.d(t,"i",(function(){return ie})),s.d(t,"g",(function(){return ce})),s.d(t,"p",(function(){return le})),s.d(t,"v",(function(){return de})),s.d(t,"j",(function(){return Ee})),s.d(t,"E",(function(){return _e})),s.d(t,"u",(function(){return ue})),s.d(t,"Q",(function(){return pe})),s.d(t,"r",(function(){return me})),s.d(t,"ab",(function(){return Se})),s.d(t,"gb",(function(){return he})),s.d(t,"ib",(function(){return Ce})),s.d(t,"hb",(function(){return ge})),s.d(t,"d",(function(){return Oe})),s.d(t,"f",(function(){return Te})),s.d(t,"e",(function(){return Ae})),s.d(t,"I",(function(){return Ie})),s.d(t,"X",(function(){return fe})),s.d(t,"S",(function(){return De})),s.d(t,"T",(function(){return Re})),s.d(t,"W",(function(){return be})),s.d(t,"K",(function(){return Ne})),s.d(t,"Z",(function(){return Me})),s.d(t,"n",(function(){return ye})),s.d(t,"o",(function(){return Le})),s.d(t,"O",(function(){return Pe})),s.d(t,"s",(function(){return ve})),s.d(t,"bb",(function(){return Fe})),s.d(t,"V",(function(){return Ue})),s.d(t,"R",(function(){return we})),s.d(t,"c",(function(){return Ge})),s.d(t,"b",(function(){return He})),s.d(t,"kb",(function(){return je})),s.d(t,"jb",(function(){return ke}));var r=s(3),n=s.n(r),a=s(34),o=s.n(a),i=s(30),c=s.n(i),l=s(298),d=s.n(l),E=s(53),_=s.n(E),u=s(363),p=s(56),m=s(0),S=s(20),h=s(9),C=s(14),g=s(76);function O(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const T=e=>"ListUi-"+e,A="DEFAULT_MESSAGES_METADATA_CACHEKEY",I=/^folders=([0-9]+)$/,f=/^is\:(starred|flagged|unread|read)$/gi;function D({name:e="",referrer:t="",keyword:s="",excludefolders:r=[],folders:n=[],accountIds:a=[],fromNames:o=[],emailAddresses:i=[],listContentType:c=m.ac.MESSAGES,listFilter:l=m.bc.WITH_KEYWORD,sortOrder:d=m.Yd.DATE_DESC,listIds:E=[],contactIds:_=[],brandId:u="",mimeType:p=""}){return{name:e,referrer:t,keyword:s,folders:[...n],accountIds:[...a],emailAddresses:[...i],excludefolders:[...r],listContentType:c,listFilter:l,sortOrder:d,contactIds:[..._],brandId:u,fromNames:[...o],listIds:[...E],mimeType:p}}const R=D(Object.create(null)),b=Object.keys(R).sort(),N=b.map(e=>R[e]),M=JSON.stringify(b.map(()=>""));function y(e){const t=JSON.parse(e);if(!Array.isArray(t))return D(t);return D(t.reduce((function(e,t,s){return e[b[s]]=t||N[s],e}),Object.create(null)))}const L=function(e){return JSON.stringify(b.map((function(t,s){const r=e[t];return!r||r===N[s]||Array.isArray(r)&&r.length<=0?"":Array.isArray(N[s])&&!Array.isArray(r)?[r]:r})))},P=Object(S.c)()?d()(y):y;function v(e){let t={};t=_.a.parse(e)||{};const s=parseInt(e,10)?e:t.folders;return s&&(t.folders=Array.isArray(s)?s:[s]),L(t)}function F(e){const t=e.params||{},s=t.query,r=t.fid,n=t.serializedListId;let a={};if(n)return v(n);if(s)a=_.a.parse(s);else if(r){a=_.a.parse(r);const e=a.folders;a.folders=void 0===e?[r]:e}else e.query&&(a=e.query);return e.name===m.rd.SUBSCRIPTION_LIST&&(a.listContentType=m.ac.SUBSCRIPTIONS),L(a)}function U(e){const t=P(e).folders;if(1===t.length)return t[0]}function w(e,t=m.Yd.DATE_DESC){return L({folders:[e],sortOrder:t})}const G=(e,t)=>L({listContentType:m.ac.SUBSCRIPTIONS,sortOrder:e,accountIds:[t]}),H=e=>L({listContentType:m.ac.SUBHUB_RECOMMENDATION_LIST,sortOrder:e}),j=(e,t,s="")=>L({listContentType:m.ac.CONTACTS,listFilter:e,keyword:t,name:s}),k=e=>j(m.bc.WITH_KEYWORD,e),x=e=>L({listContentType:m.ac.CONTACTS,listFilter:m.bc.IMPORTANT_CONTACTS,keyword:e}),B=({type:e,filter:t,accountId:s,folderId:r})=>L({referrer:m.Sd[e]||void 0,listFilter:t,folders:[r],accountIds:[s]}),V=e=>{const t=P(e);return t.listFilter===m.bc.WITH_KEYWORD?t.keyword:""};function W(e){const t=P(e).keyword;return(void 0===t?"":t).split(" ").filter(e=>e.trim().match(f))}function K(e){return W(e).length>0}function q(e,t){const s=W(e);let r=!0;return s.forEach(e=>{if(r)switch(e){case"is:unread":r=!t.read;break;case"is:read":r=!!t.read;break;case"is:starred":case"is:flagged":r=!!t.flagged}}),r}function Y(e,t){let s=!1;if("function"==typeof t)s=t("string"==typeof e?e:L(e));else if("string"==typeof t)s=("string"==typeof e?e:L(e))===t;else{const r="string"==typeof e?P(e):e;s=Object.keys(t).every(e=>{const s=t[e];return Array.isArray(s)?s.indexOf(r[e])>=0:s===r[e]})}return s}function z(e){return P(e).listFilter}function Q(e){if(!e)return A;return P(e).keyword&&z(e)===m.bc.WITH_KEYWORD?e:A}function Z(e){const t=P(e);return t.name||t.keyword||""}function X(e){return P(e).listContentType}function $(e){return P(e).referrer}function J(e){const t=$(e);return!!t&&Object(h.h)(m.Sd).indexOf(t)>-1}function ee(e){const t=z(e);return m.Qd.indexOf(t)>-1?t:null}function te(e){return J(e)&&!ee(e)}function se(e){const t=P(e).emailAddresses;return(void 0===t?[]:t).length>0}function re(e){return P(e).mimeType}function ne(e,t){const s=P(e),r=X(e);let n=z(e);const a=$(e),o=m.J.MESSAGES,i=m.J.IMAGES,c=m.J.DOCUMENTS,l=m.J.PEOPLE,d=m.J.AL,E=m.J.CARDS,_=m.J.PLA;let u=[o,i,c,l,d].join(",");const S=te(e);let h=void 0;const C=re(e);if(S)switch(r){case m.ac.MESSAGES:u=o;break;case m.ac.IMAGES:u=i,h=n;break;case m.ac.DOCUMENTS:u=c}else if(se(e))a===m.cc.CONTACT_DETAILS&&(n=m.bc.FROM,u=[l,i,c,E].join(","));else switch(r){case m.ac.MESSAGES:u=(null==t?void 0:t.plaAdsEnabled)?[o,l,_].join(","):[o,l,d].join(",");break;case m.ac.IMAGES:u=[i,l].join(",");break;case m.ac.DOCUMENTS:u=[c,l].join(",")}const O=Object.assign({},s,{listFilter:n,expand:u});return S&&[m.ac.IMAGES,m.ac.DOCUMENTS].indexOf(r)>-1&&!Object(g.d)(e)&&(O.keyword=""),h&&(O.filters=h),O.mimeType=C&&Object.keys(p.d).indexOf(C)>-1?C:"",O}function ae(e){return P(e).sortOrder}function oe(e){return P(e).name}function ie(e){return P(e).brandId}function ce(e){return P(e).accountIds}function le(e){return P(e).excludefolders}function de(e){return P(e).keyword}const Ee=e=>e.startsWith("category"+C.a)?e.substring(("category"+C.a).length):"",_e=e=>e.startsWith("id"+C.a)?e.substring(("id"+C.a).length):"",ue=e=>"category"+C.a+e,pe=e=>!!Ee(e);function me(e){const t=P(e),s=t.folders,r=t.keyword,n=Object(u.d)(r);return s.length?{folderIds:s,folderNames:[]}:{folderIds:[],folderNames:n[u.a.FOLDERS]||[]}}function Se(e){return e!==M}function he(e,t={}){return L(Object.assign({},P(e),t))}function Ce(e){const t=P(e),s=D({}),r={},n=t.emailAddresses,a=t.listFilter;(void 0===n?[]:n).length>0&&(void 0===a?m.bc.WITH_KEYWORD:a)===m.bc.WITH_KEYWORD&&(t.listFilter=m.bc.FROM);return Object.keys(t).forEach(e=>{const n=t[e];Array.isArray(n)?n.length>0&&(r[e]=n):n&&n!==s[e]&&(r[e]=n)}),_.a.stringify(r)}function ge(e){return Ce(e).replace(I,"$1")}function Oe(e){return L(e)}const Te=Oe,Ae=e=>{let t=e.referrer,s=void 0===t?"":t,r=e.listFilter,a=void 0===r?m.bc.ALL_COUPON_CARDS:r,i=o()(e,["referrer","listFilter"]);return""===s?"":Te(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?O(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({listContentType:m.ac.COUPON_CARDS,listFilter:a,referrer:s},i))};function Ie(e){return ee(F(e))}function fe(e){const t=F(e);return e.name===m.rd.LIST&&J(t)&&!!Ie(e)}function De(e){const t=F(e),s=J(t),r=ee(t);return e.name===m.rd.LIST&&s&&(r===m.bc.NEWMAIL||r===m.bc.OLDMAIL)}function Re(e){const t=J(e),s=ee(e);return t&&(s===m.bc.NEWMAIL||s===m.bc.OLDMAIL)}function be(e){const t=F(e);return(e.name===m.rd.LIST||e.name===m.rd.SEARCH)&&J(t)}function Ne(e){if(!te(e)&&!Re(e))return;const t=z(e),s=$(e);switch(t){case m.bc.OLDMAIL:return m.Ud.OLDMAIL;case m.bc.NEWMAIL:return m.Ud.NEWMAIL}if(s===m.Sd[m.Ud.SUBSCRIPTIONS])return m.Ud.SUBSCRIPTIONS;const r=W(e),n=r.length;for(let e=0;e<n;e++){const t=r[e];if("is:unread"===t)return m.Ud.UNREAD;if("is:starred"===t)return m.Ud.STARRED}}function Me(e){const t=Ne(F(e));return e.name===m.rd.SEARCH&&!!t&&[m.Ud.UNREAD,m.Ud.STARRED].indexOf(t)>-1}function ye(e){const t=P(e).emailAddresses;return(void 0===t?[]:t)[0]}function Le(e){return P(e).emailAddresses}function Pe(e){return P(e).listIds}function ve(e){return P(e).fromNames}function Fe(e,t){const s=P(e).keyword,r=void 0===s?"":s;return-1!==(Object(u.d)(r).is||[]).indexOf(t)}function Ue(e){const t=P(e),s=t.emailAddresses,r=t.folders;return!!(t.referrer||t.keyword||s&&s.length||r&&0===r.length)}function we(e){const t=X(e);return t===m.ac.REFUND_CARDS||t===m.ac.COUPON_CARDS||t===m.ac.TRAVEL_CARDS||t===m.ac.OFFER_CARDS}const Ge=(e,t)=>t.reduce((e,t)=>-1!==e.indexOf(t)?e:[...e,t],[...e]);function He(e,t,s){if(-1!==t.indexOf(s))return t;return ae(e)===m.Yd.DATE_DESC?[s,...t]:[...t,s]}const je=(e,t,s)=>{const r=t.lists[s],n=r.itemIds;return 0!==n.length&&r.hasMoreItems?n.length>e.length||n.length<e.length&&n.length===r.totalHits?n:c()(e.slice(0,n.length),n)?e:((e,t)=>{let s=-1;for(let r=t.length-1;r>=0;r--){const n=e.findIndex(e=>e===t[r]);if(-1!==n){s=n;break}}return-1===s?t:Ge(t,e.slice(s+1,e.length))})(e,n):n.length===e.length&&c()(e,n)?e:n},ke=e=>{switch(e.name){case m.rd.FOLDER:case m.rd.SEARCH:return!0;case m.rd.LIST:return De(e);default:return!1}}},function(e,t,s){"use strict";s.d(t,"b",(function(){return l})),s.d(t,"d",(function(){return d})),s.d(t,"c",(function(){return E})),s.d(t,"f",(function(){return _})),s.d(t,"h",(function(){return u})),s.d(t,"g",(function(){return p})),s.d(t,"e",(function(){return m})),s.d(t,"a",(function(){return h}));var r=s(34),n=s.n(r),a=s(651),o=s.n(a);function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const c=Object.prototype.hasOwnProperty;function l(e,t,s){if(!t||!e)return s;if("string"==typeof t&&(t=t.split(".")),1===t.length)return c.call(e,t[0])?e[t[0]]:s;return(e=e[t.splice(0,1)[0]])?l(e,t,s):s}function d(e){var t={};return("[object Array]"===Object.prototype.toString.call(e)?e:Object.keys(e)).forEach((function(e){null===e?t.null=null:void 0===e?t.undefined=void 0:t[e]=e.toString()})),t}function E(e){return!e||0===Object.keys(e).length}function _(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const s=Object.keys(e),r=Object.keys(t);return s.length===r.length&&s.every(s=>e[s]===t[s])}function u(e){return Object.keys(e).map(t=>e[t])}const p=(e,t)=>{let s=e;return t.forEach(t=>{if(!c.call(e,t))return;const r=s,a=n()(r,[t].map(i));s=a}),s},m=(e,t,s)=>{const r=e[t],n=p(e,[t]);return n[s]=r,n},S=(e,t)=>{if("function"==typeof e&&"function"==typeof t)return!0};function h(e,t){return o()(e,t,S)}},function(e,t,s){"use strict";s.r(t),s.d(t,"stateConfig",(function(){return xi})),s.d(t,"selectors",(function(){return Yi}));var r=s(33),n=s.n(r),a=s(258),o=s.n(a),i=s(3),c=s.n(i),l=s(259),d=s.n(l),E=s(60),_=s.n(E),u=s(30),p=s.n(u),m=s(31),S=s(172),h=s(0);function C(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function g(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?C(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):C(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const O="100%",T="320px",A="360px",I=640,f=520,D=1112;var R=s(6),b=s(11),N=s(9);Object(R.defineMessages)({adFormatSelectionPrompt:{id:"ad.adFormatSelectionPrompt",defaultMessage:"Choose your ad format"},adFormatSelectionHeader:{id:"ad.adFormatSelectionHeader",defaultMessage:"Don't like this ad format?"},adFormatSelectionAction:{id:"ad.adFormatSelectionAction",defaultMessage:"Set"},sponsoredMomentDescription:{id:"ad.adFormatSelectionSMDescription",defaultMessage:"Image ad below your newest messages"},pencilAdDescription:{id:"ad.adFormatSelectionPencilDescription",defaultMessage:"Text ad above your messages"},adFreeDescription:{id:"ad.adFormatSelectionAdFreeDescription",defaultMessage:"Ad free subscription"},adFreeAction:{id:"ad.adFormatSelectionAdFreeAction",defaultMessage:"Upgrade to Mail Pro"}});const M=Object(N.d)(["PENCIL_AD","SPONSORED_MOMENT","AD_FREE","UNSET"]),y={[M.UNSET]:0,[M.PENCIL_AD]:1,[M.SPONSORED_MOMENT]:2};var L=s(77),P=s(544),v=s(2),F=s(19),U=s(16),w=s(114),G=s(55),H=s(89),j=s(41),k=s(54),x=s(8),B=s(66),V=s(14),W=s(76),K=s(48),q=s(91);function Y(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function z(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Y(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Y(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Q=Object(m.combineReducers)({amountUnit:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.amountUnit||e;default:return e}},brandName:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.brandName||e;default:return e}},categories:(e=[],t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.categories||e;default:return e}},description:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.description||e;default:return e}},discountType:(e=h.kd.AMOUNT,t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.discountType||e;default:return e}},eligibleUnitText:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.eligibleUnitText||e;default:return e}},expiryTimestamp:(e=0,t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.expiryTimestamp||e;default:return e}},highResImgUrl:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.highResImgUrl||e;default:return e}},imageUrl:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.imageUrl||e;default:return e}},ingredients:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.ingredients||e;default:return e}},maxQuantity:(e=1,t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.maxQuantity||e;default:return e}},offerId:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.offerId;default:return e}},quantity:(e=1,t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:case v.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:return s.quantity||e;default:return e}},servingSize:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.servingSize||e;default:return e}},shortDescription:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.shortDescription||e;default:return e}},specialFeatures:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.specialFeatures||e;default:return e}},status:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.status||e;default:return e}},unitPriceDisplay:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.unitPriceDisplay||e;default:return e}},value:(e="",t)=>{const s=t.offer;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:return s.value||e;default:return e}}});var Z=function(e={},{type:t,offers:s}){switch(t){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:{const r=(s||[]).filter(t=>!p()(e[t.offerId],t));return r.length?r.reduce((e,s)=>z({},e,{[s.offerId]:Q(e[s.id],{type:t,offer:s})}),z({},e)):e}case v.ACTIVATE_OFFER_SUCCEEDED:{if(!s)return e;const r=s.reduce((s,r)=>z({},s,{[r.offerId]:Q(e[r.offerId],{type:t,offer:r})}),{});return Object.keys(r).length?z({},e,{},r):e}case v.DELETE_GROCERY_ITEMS_SUCCEEDED:{if(!(null==s?void 0:s.length))return e;const t=s.map(e=>e.offerId);return Object(N.g)(e,t)}case v.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:{const r=(s||[]).filter(t=>{var s;return(null===(s=e[t.offerId])||void 0===s?void 0:s.quantity)!==t.quantity});return r.length?r.reduce((s,r)=>z({},s,{[r.offerId]:Q(e[r.offerId],{type:t,offer:r})}),z({},e)):e}default:return e}};var X=s(83);const $=(e,t,s)=>{const r=t.getSetting,n=t.getAdsSelectors,a=(0,t.isFeatureEnabled)(h.Eb.ROTATE_PENCIL_AD_ON_EXPIRE),o=r(h.Kd.PENCIL_AD_EXPIRE_TIME),i=n(),c=i.getAdRotationId,l=(0,i.getGeminiAds)(s)||[],d=c();return s?l.filter((e,t)=>!a||d-e.timestamp<o||t===l.length-1):[]},J=(e,t,s)=>{const r=($(0,t,s)[0]||{}).ads;return(r&&r.length>0?r[0]:r)||De},ee=(e,t,s)=>{const r=($(0,t,s)[0]||{}).ads;return(r&&1===r.length&&!r[0].creativeId?r[0]:r)||[]},te=(e,t)=>{const s=t.getSetting,r=(0,t.isFeatureEnabled)(h.Eb.SPONSORED_MOMENT),n=s(h.Kd.GEMINI_SECTION_IDS),a=J(0,t,n[h.Nb.MESSAGE_LIST_SM]);return r&&a.creativeId?a:null},se=({hasRightPane:e,feedbackStatus:t,isAdFeedbackV2:s})=>t===h.p.STARTED?e?b.O:b.Q:t===h.p.SUBMITTED||t===h.p.DELETED||t===h.p.LIKED?s?e?b.R:b.Y:e?b.P:b.R:void 0,re={[h.Ec.SLIM]:b.X,[h.Ec.RELAXED]:b.W,[h.Ec.NORMAL]:b.P},ne=(e,t,s)=>{const r=e.getSetting,n=e.getAdsSelectors,a=e.isFeatureEnabled,o=r(h.Kd.PREVIEW_PANE)===h.ed.RIGHT,i=(0,n().getAdFeedbackStatus)()[s],c=i===h.p.STARTED||i===h.p.SUBMITTED,l=a(h.Eb.AD_FEEDBACK_V2),d=r(h.Kd.MSG_LIST_DENSITY);if(l){const e=Object(x.f)({listContentType:h.ac.PENCIL_AD});let r=o?re[d]:t;return(i===h.p.STARTED||i===h.p.SUBMITTED||i===h.p.DELETED||i===h.p.LIKED)&&(r=se({hasRightPane:o,feedbackStatus:i,isAdFeedbackV2:l})),{id:[e,h.ac.PENCIL_AD,s].join("-"),listId:e,sectionId:s,listItemHeight:r}}const E=Object(x.f)({listContentType:c?h.ac.AD_FEEDBACK:h.ac.PENCIL_AD});return c?{id:[E,h.ac.AD_FEEDBACK,s].join("-"),listId:E,sectionId:s,listItemHeight:se({hasRightPane:o,feedbackStatus:i})}:{id:[E,h.ac.PENCIL_AD,s].join("-"),listId:E,sectionId:s,listItemHeight:o?re[d]:t}};var ae=s(5),oe=s(137),ie=s(253);function ce(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function le(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ce(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ce(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const de=h.rd.MESSAGE_FROM_SEARCH_LIST,Ee=h.rd.MESSAGE_FROM_FOLDER_LIST,_e=h.rd.SPONSORED_MESSAGE,ue=h.rd.FOLDER,pe=h.p.STARTED,me=h.p.SUBMITTED,Se=h.p.ENDED,he=h.p.DELETED,Ce=h.p.LIKED,ge=[5600747],Oe=Object(N.d)([5564699].concat(ge)),Te=h.Zd.SUCCESS,Ae=h.Zd.PENDING,Ie=h.Zd.FAIL,fe=["OUTBOUND"],De={creativeId:"",pencilAd:{adHeadline:"",adSummary:"",adImg:"",adSource:"",clickUrl:"",creativeId:"",type:"",adFeedbackBeacon:"",rules:{},actionUrls:{},impressionTrackingUrls:[],carouselAssets:[],callExtension:{}},nativeAd:{contentType:"",url:"",usageType:"",geminiSponsoredAsset:"",actionUrls:{},embeddedLandingUrls:{}},timestamp:0},Re=Object(m.combineReducers)({ads:(e={spaceId:"",prevSpaceId:"",positions:[],prevPositions:[]},t)=>{switch(t.type){case v.DARLA_ADS_RECEIVED:return{spaceId:t.spaceId,prevSpaceId:e.spaceId,positions:t.positions,prevPositions:[...e.positions]}}return e},errorMessage:(e="",t)=>{switch(t.type){case v.DARLA_ADS_FAILED:return t.error}return e},prefetchedAds:(e={},t)=>{switch(t.type){case v.INITIAL_STATE:return t.darlaAds||e;default:return e}}}),be=Object(m.combineReducers)({timestamp:(e=0,t)=>{switch(t.type){case v.MESSAGE_CARD_EXPANSION_CHANGED:case v.V3_MESSAGE_CARD_EXPANSION_CHANGED:return t.actionTimestamp;case v.DELETE_ITEMS_REQUESTED:case v.MOVE_ITEMS_REQUESTED:if(t.fromMessageGroupView)return t.actionTimestamp;break;case v.MESSAGE_CARD_FOCUSED:if(t.messageReadAdRotationActive&&Object(N.b)(t,"card.folderType",null)===h.Mb.DRAFT)return 0;if((!t.messageReadAdRotationActive||t.actionTimestamp>t.messageReadAdRotationTimestamp+t.messageReadAdRotationIdleInterval)&&Object(N.b)(t,"card.folderType",null)!==h.Mb.DRAFT)return t.actionTimestamp;break;case v.APPLICATION_VISIBILITY_DID_CHANGE:return t.isVisible&&t.messageReadAdRotationActive?t.actionTimestamp:0;case v.OPEN_PAGE_REQUESTED:return t.route.name===de||t.route.name===Ee?t.actionTimestamp:0;case v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case v.HIDE_RIGHT_PANE_ADS:return 0}return e},timestampV2:(e=0,t)=>{switch(t.type){case v.MESSAGE_READ_AD_ROTATION_TIMER:return t.actionTimestamp}return e},active:(e=!1,t)=>{switch(t.type){case v.MESSAGE_CARD_EXPANSION_CHANGED:case v.V3_MESSAGE_CARD_EXPANSION_CHANGED:return!0;case v.DELETE_ITEMS_REQUESTED:case v.MOVE_ITEMS_REQUESTED:if(t.fromMessageGroupView)return!0;break;case v.MESSAGE_CARD_FOCUSED:if(t.messageReadAdRotationActive&&Object(N.b)(t,"card.folderType",null)===h.Mb.DRAFT)return!1;if((!t.messageReadAdRotationActive||t.actionTimestamp>t.messageReadAdRotationTimestamp+t.messageReadAdRotationIdleInterval)&&Object(N.b)(t,"card.folderType",null)!==h.Mb.DRAFT)return!0;break;case v.APPLICATION_VISIBILITY_DID_CHANGE:return!(!t.isVisible||!t.messageReadAdRotationActive)||e;case v.OPEN_PAGE_REQUESTED:return t.route.name===de||t.route.name===Ee;case v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return!1}return e}}),Ne=e=>{const t=Object.keys(e).reduce((e,t)=>le({},e,{[t]:e[t]===me?Se:null}),e);return p()(e,t)?e:t};var Me=Object(m.combineReducers)({adRotationId:(e=0,t)=>{if(X.a[t.type])return t.actionTimestamp;switch(t.type){case v.APPLICATION_VISIBILITY_DID_CHANGE:if(t.isVisible){if(t.noAdRotationOnCompose&&(t.route.name===Ee||t.route.name===de)&&!t.messageReadAdRotationActive)break;return t.actionTimestamp}break;case v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:if(!t.noAdRotationOnCompose)return t.actionTimestamp;break;case v.OPEN_PAGE_REQUESTED:if(t.route.name!==_e)return t.actionTimestamp;break;case v.STREAM_CURSOR_MOVED:if(t.previewPane!==h.ed.NO)return t.actionTimestamp;break;case v.ONLINE_STATUS_CHANGED:if(t.online&&t.rotateAdsOnline)return t.actionTimestamp;break;case v.SYNC_DATA:if(t.forceSync&&Object(N.b)(t,"i13nModel.mKey",null)===ae.g.PULL_TO_REFRESH)return t.actionTimestamp;break;case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES:if(t.rotateAds)return t.actionTimestamp}return e},darla:Re,geminiAds:(e={},t)=>{switch(t.type){case v.AD_FEEDBACK_SUBMITTED:return t.sectionId&&e[t.sectionId]?le({},e,{[t.sectionId]:[e[t.sectionId][0]]}):e;case v.INITIAL_STATE:case v.GEMINI_AD_RECEIVED:{if(t.geminiAd&&Object.keys(t.geminiAd).length>0)return Object.keys(t.geminiAd).filter(e=>t.geminiAd[e]&&!t.geminiAd[e].error).reduce((e,s)=>{if(Oe[s])return le({},e,{[s]:[{ads:t.geminiAd[s],timestamp:t.actionTimestamp}]});return e[s]=[...e[s]||[],{ads:t.geminiAd[s],timestamp:t.actionTimestamp}].filter(e=>t.actionTimestamp-e.timestamp<6e5),e},le({},e));const s=t.sectionIds&&ge.find(e=>e===t.sectionIds[h.Nb.MESSAGE_READ]);if(s)return le({},e,{[s]:[]});break}case v.GEMINI_AD_REQUESTED:{const s=t.sectionIds,r=void 0===s?{}:s;return Object(N.h)(r).reduce((e,s)=>(e[s]&&(e[s]=e[s].length>1?e[s].slice(1).filter(e=>t.actionTimestamp-e.timestamp<6e5):e[s].filter(e=>t.actionTimestamp-e.timestamp<6e5)),e),le({},e))}case v.OPEN_PAGE_REQUESTED:case v.PREVIEW_MESSAGE_REQUESTED:case v.STREAM_CURSOR_MOVED:return Object.keys(e).reduce((e,t)=>(Oe[t]&&(e[t]=[]),e),le({},e))}return e},geminiError:(e={},t)=>{switch(t.type){case v.GEMINI_AD_RECEIVED:{const e={};return Object.keys(t.geminiAd||{}).reduce((e,s)=>(t.geminiAd[s]&&t.geminiAd[s].error&&(e[s]=t.geminiAd[s]),e),e)}case v.GEMINI_AD_FAILED:return Object(N.h)(t.sectionIds||[]).reduce((e,s)=>(e[s]=t.error,e),{})}return e},searchAds:(e={},t)=>{switch(t.type){case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:if(Object(N.b)(t,"response.ADS",null))return le({},e,{[t.listId]:Object(N.b)(t,"response.ADS.WITH_KEYWORD.items",null)})}return e},searchPlaAds:(e={},t)=>{switch(t.type){case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{var s,r;const n=(null==t||null===(s=t.response)||void 0===s||null===(r=s.PLAADS)||void 0===r?void 0:r.WITH_KEYWORD)||{},a=n.items,o=void 0===a?[]:a,i=n.instrumentation;if(o.length)return le({},e,{[t.listId]:{ads:o,instrumentation:i}})}}return e},adFeedback:(e={},t)=>{switch(t.type){case v.APPLICATION_VISIBILITY_DID_CHANGE:if(t.isVisible)return Ne(e);break;case v.OPEN_PAGE_REQUESTED:if(t.route.name!==_e)return Ne(e);break;case v.STREAM_CURSOR_MOVED:if(t.previewPane!==h.ed.NO)return Ne(e);break;case v.ONLINE_STATUS_CHANGED:if(t.online&&t.rotateAdsOnline)return Ne(e);break;case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES:if(t.rotateAds)return Ne(e);break;case v.AD_FEEDBACK_STARTED:return le({},e,{[t.sectionId]:pe});case v.AD_FEEDBACK_SUBMITTED:return le({},e,{[t.sectionId]:me});case v.AD_FEEDBACK_CLOSED:return le({},e,{[t.sectionId]:e[t.sectionId]===me?Se:null});case v.DELETE_PENCIL_AD:return le({},e,{[t.sectionId]:he});case v.AD_FEEDBACK_CLICKED:if(t.feedbackType)return le({},e,{[t.sectionId]:t.feedbackType===oe.a.POSITIVE?Ce:he});break;default:if(X.a[t.type]&&-1===[v.AD_FEEDBACK_CLOSED,v.MESSAGE_READ_AD_ROTATION_TIMER].indexOf(t.type))return Ne(e)}return e},messageReadAdRotation:be,geminiCategories:(e=[],t)=>{switch(t.type){case v.OPEN_PAGE_REQUESTED:case v.PREVIEW_MESSAGE_REQUESTED:if(t.geminiCategories&&t.geminiCategories.length)return t.geminiCategories}return e},sponsoredAds:(e={},t)=>{switch(t.type){case v.OPEN_PAGE_REQUESTED:return t.sponsoredAd?le({},e,{[Object(N.b)(t,"sponsoredAd.creativeId")]:t.sponsoredAd}):e;case v.GEMINI_SPONSORED_ASSET_RECEIVED:{const s=e[t.creativeId]&&le({},e[t.creativeId].nativeAd,{geminiSponsoredAsset:t.asset});return le({},e,{[t.creativeId]:le({},e[t.creativeId],{nativeAd:s})})}}return e},relatedSearches:(e={},t)=>{switch(t.type){case v.RELATED_SEARCHES_FETCH_SUCCEEDED:return t.queries}return e},isAdBlocked:(e=!1,t)=>{switch(t.type){case v.ADBLOCK_DETECTED:return!0}return e},isABPDetected:(e=!1,t)=>{switch(t.type){case v.ABP_DETECTED:return!0}return e},isSponsoredMomentClosed:(e=!1,t)=>{switch(t.type){case v.SPONSORED_MOMENT_CLOSED:return!0}return e},checkMailAdRotationIdleTimestamp:(e=0,t)=>{switch(t.type){case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:return t.userInitiated?t.actionTimestamp:e;case v.GEMINI_AD_RECEIVED:case v.DARLA_ADS_RECEIVED:case v.MESSAGE_READ_AD_ROTATION_TIMER:return e}return t.actionTimestamp||e},hasSponsoredMessageOnMessageList:(e=Ae,t)=>{if(e===Ie)return e;switch(t.type){case v.INITIAL_STATE:return t.geminiAd&&t.geminiAd[5602797]&&!t.geminiAd[5602797].error?Te:Ie;case v.GEMINI_AD_RECEIVED:return e!==Ae||t.route.name!==ue&&t.route.name!==Ee||t.geminiAd[5545468]?e:t.geminiAd&&t.geminiAd[5602797]&&!t.geminiAd[5602797].error?Te:Ie;case v.OPEN_PAGE_REQUESTED:return e!==Te||t.previousRoute.name!==ue&&t.previousRoute.name!==Ee?e:Ae}return e},adblockDelayDismissQualifiedActionCount:(e=0,t)=>{switch(t.type){case v.OPEN_PAGE_REQUESTED:return Object(ie.c)(t)?++e:e;case v.PREVIEW_MESSAGE_REQUESTED:case v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return++e;case v.FEATURE_CLOSED:return t.name===h.Eb.ADBLOCK_DELAY_DISMISS_CUE?0:e;default:return e}}});function ye(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Le(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ye(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ye(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Pe=h.F.Dispositions;var ve=function(e={},t){const s=t.listData,r=void 0===s?{}:s,n=t.message;switch(t.type){case v.INITIAL_STATE:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.OPEN_PAGE_REQUESTED:case v.MESSAGE_SAVE_SUCCEEDED:{const t=n?n.attachments.reduce((e,t)=>Le({},e,{[t.id]:t}),{}):r.attachments;if(!t)return e;const s=function(e,t){return Object.keys(t).reduce((s,r)=>{const n=t[r],a=e[r]||{};return(e[r]||{}).contentId&&e[r].disposition===n.disposition||(s[r]=n),a.disposition&&a.disposition!==n.disposition&&(s[r]=Le({},a,{disposition:n.disposition})),s},{})}(e,t);return Object.keys(s).length?Le({},e,{},s):e}case v.V3_MESSAGE_SAVE_FAILED:{const s=t.newContentIds,r=void 0===s?[]:s;if(!r.length)return e;return Le({},e,{},r.map(e=>({contentId:e})))}case v.ATTACHMENT_ZOOMED:{const s=t.id,r=t.newZoomLevel,n=e[s];return n?Le({},e,{[s]:Le({},n,{previewerUiState:Le({},n.previewerUiState,{zoomLevel:r})})}):e}default:return e}};var Fe=s(306);function Ue(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function we(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ue(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ue(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Ge=Object(m.combineReducers)({startTime:(e=0,t)=>{var s,r;switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.startTime)||e;default:return e}},endTime:(e=0,t)=>{var s,r;switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.endTime)||e;default:return e}},location:(e="",t)=>{var s,r;switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.location)||e;default:return e}},summary:(e="",t)=>{var s,r;switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.summary)||e;default:return e}},state:(e="",t)=>{var s,r;switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.state)||e;default:return e}},firstAttendeeStatus:(e=[],t)=>{var s,r;switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.firstAttendeeStatus)||e;default:return e}},organizerEmail:(e=[],t)=>{var s,r;switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.organizerEmail)||e;default:return e}},isSameDay:(e=!1,t)=>{var s,r;switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.isSameDay)||e;default:return e}},attendees:(e=[],t)=>{var s,r;switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.attendees)||e;default:return e}},videoLink:(e="",t)=>{var s,r;switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.videoLink)||e;default:return e}},firstAttendeeEmail:(e=null,t)=>{var s,r;switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.firstAttendeeEmail)||e;default:return e}},response:(e="",t)=>{var s,r;switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.response)||e;case v.RESPOND_TO_INVITE_SUCCEEDED:case v.RESPOND_TO_INVITE_FAILED:return t.response;default:return e}},messageId:(e="",t)=>{switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return t.currentMessageId||e;default:return e}},status:(e=null,t)=>{switch(t.type){case v.INVITEINFO_FETCH_FAILED:return"ERROR";case v.GET_INVITE_INFO_REQUESTED:return"LOADING";case v.INVITEINFO_FETCH_SUCCEEDED:return"READY";default:return e}},uid:(e="",t)=>{switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:var s,r;return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.uid)||e;default:return e}},email:(e="",t)=>{var s,r;switch(t.type){case v.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(r=s[t.currentMessageId])||void 0===r?void 0:r.email)||e;default:return e}}});var He=(e={},t)=>{switch(t.type){case v.GET_INVITE_INFO_REQUESTED:case v.RESPOND_TO_INVITE:case v.RESPOND_TO_INVITE_SUCCEEDED:case v.RESPOND_TO_INVITE_FAILED:return we({},e,{[t.messageId]:Ge(e[t.messageId],t)});case v.INVITEINFO_FETCH_SUCCEEDED:case v.INVITEINFO_FETCH_FAILED:{let s={};return(t.messageIds||[]).forEach(r=>{s=we({},s,{[r]:Ge(e[r],we({},t,{currentMessageId:r}))})}),we({},e,{},s)}default:return e}};function je(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ke(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?je(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):je(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const xe=(e=[],t)=>{const s=t.cardGroup,r=void 0===s?[]:s;switch(t.type){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return p()(r,e)?e:r;default:return e}};var Be=function(e={},t){const s=t.type,r=t.listData,n=void 0===r?{}:r;switch(s){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:{const t=n.groupIdToMessageIdsMap;if(!t)return e;const r=Object.keys(t).filter(s=>!p()(t[s],e[s])).reduce((r,n)=>ke({},r,{[n]:xe(e[n],{type:s,cardGroup:t[n]})}),{});return Object.keys(r).length?ke({},e,{},r):e}default:return e}};function Ve(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function We(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ve(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ve(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Ke=(e=[],t)=>{const s=t.cards;switch(t.type){case v.MORE_COUPONS_SUCCESS:case v.MORE_RECEIPTS_SUCCESS:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.COUPONS_LIST_SUCCEEDED:case v.EXTRACT_COUPON_SUCCEEDED:case v.RECEIPTS_LIST_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.INITIAL_STATE:case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.ASTRA_BATCH_API_SUCCEEDED:return p()(s,e)?e:s;default:return e}};var qe=function(e={},t){const s=t.listData,r=void 0===s?{}:s,n=t.type;switch(n){case v.MORE_COUPONS_SUCCESS:case v.MORE_RECEIPTS_SUCCESS:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.COUPONS_LIST_SUCCEEDED:case v.EXTRACT_COUPON_SUCCEEDED:case v.RECEIPTS_LIST_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.INITIAL_STATE:case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.ASTRA_BATCH_API_SUCCEEDED:{if(!r.messageIdToSchemaIdsMap)return e;const t=Object.keys(r.messageIdToSchemaIdsMap).filter(t=>!p()(e[t],r.messageIdToSchemaIdsMap[t])).reduce((t,s)=>We({},t,{[s]:Ke(e[s],{type:n,cards:r.messageIdToSchemaIdsMap[s]})}),{});return Object.keys(t).length?We({},e,{},t):e}default:return e}};var Ye=s(657),ze=s.n(Ye);function Qe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ze(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Qe(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Qe(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Xe=Object(m.combineReducers)({name:(e="",t)=>{const s=t.category;switch(t.type){case v.MESSAGE_BODIES_RECEIVED:case v.ASTRA_BATCH_API_SUCCEEDED:return s.name||"";default:return e}},following:(e=!1,t)=>{switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:case v.CATEGORY_FOLLOW_SUCCEEDED:return!0;case v.CATEGORY_UNFOLLOW_SUCCEEDED:return!1;default:return e}},error:(e="",t)=>{switch(t.type){case v.CATEGORY_FOLLOW_FAILED:case v.CATEGORY_UNFOLLOW_FAILED:return t.error;case v.CATEGORY_FOLLOW_FAILURE_RESET:return"";default:return e}}});var $e=Object(m.combineReducers)({categories:function(e={},t){const s=t.listData,r=void 0===s?{}:s,n=t.followedCategoryList,a=void 0===n?[]:n,o=t.error,i=void 0===o?"":o,c=t.type,l=t.response;switch(c){case v.MESSAGE_BODIES_RECEIVED:{if(!r.schemaCards)return e;const t=Object.keys(r.schemaCards).filter(t=>r.schemaCards[t].type===h.Ad.Coupon&&!ze()(e[t],Object(N.g)(r.schemaCards[t],["id","type"]))&&r.schemaCards[t].couponCategories).map(e=>r.schemaCards[e].couponCategories).reduce((e,t)=>e.concat(t),[]).reduce((t,s)=>Ze({},t,{[s.id]:Xe(e[s.id],{type:c,category:s})}),{});return Object.keys(t).length?Ze({},e,{},t):e}case v.ASTRA_BATCH_API_SUCCEEDED:{var d;const t=null==l||null===(d=l[h.C.CATEGORY_FOLLOWING_LIST])||void 0===d?void 0:d.followedCategoryList,s=null==t?void 0:t.reduce((t,s)=>Ze({},t,{[s.id]:Xe(e[s.id],{type:c,category:s})}),{});return Object(N.c)(s)?e:Ze({},e,{},s)}case v.CATEGORY_FOLLOW_SUCCEEDED:case v.CATEGORY_UNFOLLOW_SUCCEEDED:{const t=a.reduce((t,s)=>Ze({},t,{[s.id]:Xe(e[s.id],{type:c,category:s})}),{});return Object.keys(t).length?Ze({},e,{},t):e}case v.CATEGORY_FOLLOW_FAILED:case v.CATEGORY_UNFOLLOW_FAILED:{const t=a.reduce((t,s)=>Ze({},t,{[s.id]:Xe(e[s.id],{type:c,category:s,error:i})}),{});return Object.keys(t).length?Ze({},e,{},t):e}case v.CATEGORY_FOLLOW_FAILURE_RESET:{const t=Object.keys(e).filter(t=>e[t].error).map(t=>Ze({},e[t],{id:t})).reduce((t,s)=>Ze({},t,{[s.id]:Xe(e[s.id],{type:c,category:s})}),{});return Object.keys(t).length?Ze({},e,{},t):e}default:return e}},isCategoryListLoaded:function(e=!1,t){switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return!0}return e}});var Je=Object(m.combineReducers)({composeAttributesStatus:(e=h.od.LOADING,t)=>{const s=t.route;switch(t.type){case v.LAUNCH_COMPLETED:return s.name===h.rd.NEW_DRAFT||s.name===h.rd.EDIT_DRAFT?h.od.LOADED:e;case v.COMPOSE_ATTRIBUTES_RECEIVED:case v.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:return h.od.LOADED;case v.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case v.COMPOSE_ATTRIBUTES_FETCH_FAILED:return h.od.ERROR;default:return e}}});var et=s(81),tt=s(43),st=s.n(tt),rt=s(29);function nt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function at(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?nt(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):nt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const ot=Object(m.combineReducers)({mailToLink:(e=null,t)=>{switch(t.type){case v.OPEN_PAGE_REQUESTED:{const s=t.mailtoAttr;return s||e}}return e},stationeryTheme:(e=rt.NO_STATIONERY,t)=>{const s=t.unsyncedDataItem,r=(void 0===s?{}:s).userInputtedValues,n=void 0===r?{}:r;switch(t.type){case v.OPEN_PAGE_REQUESTED:if(t.stationeryTheme)return t.stationeryTheme}return n.stationeryTheme||e},composeUndoStack:(e=[],t)=>{const s=t.unsyncedDataItem,r=(void 0===s?{}:s).userInputtedValues,n=void 0===r?{}:r;switch(t.type){case v.V3_MESSAGE_SEND_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return[]}return n.undoStack||e},composeRedoStack:(e=[],t)=>{const s=t.unsyncedDataItem,r=(void 0===s?{}:s).userInputtedValues,n=void 0===r?{}:r;switch(t.type){case v.V3_MESSAGE_SEND_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return[]}return n.redoStack||e},composeUiState:(e=null,t)=>{const s=t.unsyncedDataItem,r=(void 0===s?{}:s).userInputtedValues,n=void 0===r?{}:r;switch(t.type){case v.QUOTED_TEXT_EXPANDED:return Object.assign({},e,{isQuotedTextExpanded:!0})}return n.uiState||e},lastAutotagQuery:(e="",t)=>{switch(t.type){case v.CONTACT_SUGGESTIONS_REQUESTED:return t.query}return e},attachmentProgress:(e={},t)=>{switch(t.type){case v.UPLOAD_PROGRESS_RECEIVED:{const s=at({},e);return t.newFileContentIds.forEach(e=>s[e]=t.percent),s}}return e},sendStatus:(e=null,t)=>{switch(t.type){case v.V3_MESSAGE_SEND_REQUESTED:return e!==et.g.SENT?et.g.SENDING:e;case v.V3_MESSAGE_SEND_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return et.g.SENT;case v.V3_MESSAGE_SAVE_FAILED:return t.error&&"ES-2001"===t.error.errorCode?et.g.SENT:e;case v.V3_MESSAGE_SEND_FAILED:return t.error&&"ES-2001"===t.error.errorCode?et.g.SENT:et.g.SEND_FAILED}return e},composeFieldToFocus:(e=et.a.TO,t)=>{switch(t.type){case v.OPEN_PAGE_REQUESTED:return t.isReplyingMessageSubjectEdited?et.a.SUBJECT:e;case v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return t.inForwardToMessageId?et.a.TO:et.a.EDITOR;case v.V3_MESSAGE_SEND_FAILED:return et.a.EDITOR}return e},doComposeFromRouteQueryParams:(e=!1,t)=>{switch(t.type){case v.INITIAL_STATE:return!!t.mrdParams;case v.OPEN_PAGE_REQUESTED:return!1}return e},forwardCreativeId:(e=null,t)=>{switch(t.type){case v.OPEN_PAGE_REQUESTED:return t.forwardCreativeId||null}return e},forwardAttachmentIds:(e=[],t)=>{switch(t.type){case v.OPEN_PAGE_REQUESTED:case v.FORWARD_ATTACHMENTS:return t.attachments?[...e,...t.attachments.map(({id:e})=>({id:e,timestamp:Date.now()}))]:e;case v.CLEAR_FORWARDED_ATTACHMENT_IDS:return[]}return e},inReplyToMessageId:(e=null,t)=>{switch(t.type){case v.INITIAL_STATE:case v.UNDO_MOVE_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.GIF_FETCH_SUCCEEDED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const e=t.inReplyTo,s=void 0===e?{}:e,r=s.messageReference,n=void 0===r?{}:r;return s.replied&&n.id?n.id:null}case v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return t.inReplyToMessageId||null;case v.OPEN_PAGE_REQUESTED:return t.isReplyingMessageSubjectEdited?null:e}return e},inReplyAllToMessageId:(e=null,t)=>{switch(t.type){case v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return t.inReplyAllToMessageId||null;case v.OPEN_PAGE_REQUESTED:return t.isReplyingMessageSubjectEdited?null:e}return e},inForwardToMessageId:(e=null,t)=>{switch(t.type){case v.INITIAL_STATE:case v.UNDO_MOVE_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.GIF_FETCH_SUCCEEDED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const e=t.inReplyTo,s=void 0===e?{}:e,r=s.messageReference,n=void 0===r?{}:r;return s.forwarded&&n.id?n.id:null}case v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return t.inForwardToMessageId||null;case v.OPEN_PAGE_REQUESTED:return t.isReplyingMessageSubjectEdited?null:e}return e},selectedReplySuggestion:(e=null,t)=>{switch(t.type){case v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{const e=t.selectedReplySuggestion;return e||null}}return e},draftMessageId:(e=null,t)=>{switch(t.type){case v.INITIAL_STATE:case v.UNDO_MOVE_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.GIF_FETCH_SUCCEEDED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:return t.draftMessageId||null;case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return t.message.id;case v.OPEN_PAGE_REQUESTED:return t.isReplyingMessageSubjectEdited?null:e}return e},fatalErrorCount:(e=0,t)=>{switch(t.type){case v.MESSAGE_SAVE_FAILED:case v.V3_MESSAGE_SAVE_FAILED:case v.MESSAGE_AUTO_SAVE_FAILED:return t.error&&/^(E(S|C|T|P)-|EMPTY_RESPONSE)/.test(t.error.errorCode)?e+1:e;case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return 0}return e},lastSaveTimeStamp:(e=0,t)=>{switch(t.type){case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return t.lastEditedTimeStamp||t.actionTimestamp}return e},lastOpenTimeStamp:(e=0,t)=>{switch(t.type){case v.OPEN_PAGE_REQUESTED:return t.actionTimestamp||e}return e},isAutotagDisabled:(e=!1)=>e,isRelatedContactsDismissed:(e=!1,t)=>{switch(t.type){case v.RELATED_CONTACTS_CLOSED:return!0}return e},composeParams:(e=null,t)=>{switch(t.type){case v.OPEN_PAGE_REQUESTED:{const s=t.composeParams,r=void 0===s?{}:s;if(Object.keys(r).length>0)return at({},e,{},r);break}case v.ADD_COMPOSE_HEADER:{const s=t.composeParams;if(s&&(s.to||s.cc||s.bcc))return at({},e,{},s);break}case v.DELETE_COMPOSE_HEADER:return null}return e},composeHeaderInputFocus:(e={},t)=>{switch(t.type){case v.UPDATE_COMPOSE_HEADER_FOCUS:return t.inputFocus}return e}});var it=(e={},t)=>{switch(t.type){case v.MESSAGE_SAVE_FAILED:case v.MESSAGE_AUTO_SAVE_FAILED:case v.V3_MESSAGE_SAVE_REQUESTED:case v.V3_MESSAGE_SAVE_FAILED:case v.V3_MESSAGE_SEND_REQUESTED:case v.V3_MESSAGE_SEND_FAILED:case v.V3_MESSAGE_SEND_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.QUOTED_TEXT_EXPANDED:case v.UPLOAD_PROGRESS_RECEIVED:case v.ADD_COMPOSE_HEADER:case v.DELETE_COMPOSE_HEADER:case v.UPDATE_COMPOSE_HEADER_FOCUS:case v.RELATED_CONTACTS_CLOSED:case v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:if(t.csid)return at({},e,{[t.csid]:ot(e[t.csid],t)});break;case v.AUTOTAG_DROPDOWN_CLOSED:return at({},e,{[t.csid]:at({},e[t.csid],{isAutotagDisabled:!0})});case v.SYNC_DATA:case v.CLEAR_FORWARDED_ATTACHMENT_IDS:case v.ONLINE_STATUS_CHANGED:case v.APPLICATION_VISIBILITY_DID_CHANGE:case v.FORWARD_ATTACHMENTS:case v.OPEN_PAGE_REQUESTED:{const s=t.unsyncedData,r=(void 0===s?[]:s).filter(e=>e.type===h.Ce.COMPOSE);if(r.length){const s=r.map(s=>({[s.id]:ot(e[s.id],{type:t.type,attachments:t.csid===s.id?t.attachments:null,isReplyingMessageSubjectEdited:t.isReplyingMessageSubjectEdited,unsyncedDataItem:s})}));return at({},e,{},t.csid?{[t.csid]:ot(e[t.csid],t)}:{},{},Object.assign.apply({},s))}if(t.csid)return at({},e,{[t.csid]:ot(e[t.csid],t)});break}case v.INITIAL_STATE:case v.UNDO_MOVE_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.GIF_FETCH_SUCCEEDED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const s=t.mrdParams,r=void 0===s?{}:s,n=t.draftData,a=void 0===n?{}:n;if(r.csid)return at({},e,{[r.csid]:ot(e[r.csid],t)});if(a.csid)return at({},e,{[a.csid]:ot(e[a.csid],t)});if(t.listData&&t.listData.messages){const s=t.unsyncedData.filter(e=>e.type===h.Ce.COMPOSE).map(e=>e.id),r=Object(N.h)(t.listData.messages||[]).filter(e=>-1===s.indexOf(e.csid)).map(s=>({[s.csid]:ot(e[s.csid],at({},t,{draftMessageId:s.id,inReplyTo:s.inReplyTo}))}));return r.length?at({},e,{},Object.assign.apply({},r)):e}if(t.csid)return at({},e,{[t.csid]:ot(e[t.csid],t)});break}case v.DELETE_ITEMS_REQUESTED:if(t.csid)return st()(e,t.csid);if(t.itemsToUpdate)return st()(e,t.itemsToUpdate.filter(e=>!e.destinationFolder&&e.isAffected).map(({csid:e})=>e).filter(Boolean));break;case v.CONTACT_SUGGESTIONS_REQUESTED:if(t.csid)return at({},e,{[t.csid]:ot(e[t.csid],t)})}return e};function ct(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function lt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ct(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ct(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var dt=Object(m.combineReducers)({composeSuggestions:function(e={},t){switch(t.type){case v.CONTACT_SUGGESTIONS_SUCCEEDED:return lt({},e,{[t.query]:t.contacts})}return e},composeSuggestionsFromImportantContacts:function(e={},t){switch(t.type){case v.CONTACT_SUGGESTIONS_REQUESTED:return lt({},e,{[t.query]:t.contacts},t.nextContacts);case v.OPEN_PAGE_REQUESTED:return{}}return e}});var Et=s(34),_t=s.n(Et),ut=s(459),pt=s.n(ut),mt=s(99);function St(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ht(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?St(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):St(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Ct={isEditable:!1,name:"",emails:[],emailType:{},phonesWithType:[],addressesWithType:[]},gt=(e=Ct,t)=>{switch(t.type){case v.CONTACT_PHOTO_UPLOAD_SUCCEEDED:return ht({},e,{},t.contact,{photoTimestamp:Date.now()});case v.FETCH_ALL_CONTACTS_SUCCESS:case v.CONTACT_DETAIL_FETCH_SUCCEEDED:case v.CREATE_CONTACT_SUCCEEDED:case v.CONTACT_SAVE_SUCCEEDED:case v.CONTACTS_LIST_FETCH_SUCCEEDED:return ht({},e,{},t.contact);case v.CONTACTS_GROUP_FETCH_SUCCEEDED:{const s=t.contact;return ht({},e,{},s,{emails:pt()(e.emails,s.emails)})}case v.CONTACT_SUGGESTIONS_SUCCEEDED:case v.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:{const s=t.contact;return ht({},e,{name:s.name,emails:pt()(e.emails,s.emails),id:s.xobniId})}case v.SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{const e=t.contact,s=e.xobniId;return ht({},_t()(e,["xobniId"]),{isEditable:!0,id:s})}default:return e}};var Ot=s(658),Tt=s.n(Ot);function At(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function It(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?At(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):At(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var ft=s(218);function Dt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Rt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Dt(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Dt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const bt=e=>e.type===h.bb.CONTACTS_LIST?e:Rt({},e,{type:h.bb.CONTACTS_LIST,id:null,lastSavedData:void 0,contact:null,uiContext:null});var Nt=s(396);function Mt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function yt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Mt(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Mt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Lt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Pt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Lt(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Lt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const vt=(e={},t)=>{switch(t.type){case v.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case v.CONTACTS_GROUP_FETCH_SUCCEEDED:case v.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case v.CONTACTS_LIST_FETCH_SUCCEEDED:return Pt({},e,{},t.group);default:return e}};function Ft(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var Ut=(e={},t)=>{switch(t.type){case v.CONTACT_DETAIL_FETCH_SUCCEEDED:{const s=t.emails,r=t.contacts,n={},a=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ft(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ft(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e);return null==r||r.forEach(e=>{var t;return null==e||null===(t=e.emails)||void 0===t?void 0:t.forEach(t=>{n[t]=e})}),s.forEach(e=>{n[e]&&!n[e].xobniId&&(a[e]=n[e])}),a}}return e};var wt=(e=[],t)=>{switch(t.type){case v.DELETE_CONTACT_SUGGESTIONS_SUCCEEDED:return[...e,t.contactInfo]}return e};function Gt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var Ht=Object(m.combineReducers)({byId:(e={},t)=>{switch(t.type){case v.CONTACT_SUGGESTIONS_SUCCEEDED:{const s=t.contacts,r=t.type;return(void 0===s?[]:s).reduce((t,s)=>ht({},t,{[s.id]:gt(e[s.id],{type:r,contact:{xobniId:s.id,name:s.name,emails:[s.email]}})}),ht({},e))}case v.CONTACTS_GROUP_FETCH_SUCCEEDED:{const s=t.contacts;return(void 0===s?[]:s).reduce((s,r)=>{const n=r.type,a=r.value,o=_t()(r,["type","value"]);return n===mt.b.EMAIL&&(o.emails=[a]),ht({},s,{[r.id]:gt(e[r.id],{type:t.type,contact:o})})},ht({},e))}case v.CONTACTS_LIST_FETCH_SUCCEEDED:{const s=ht({},e),r=t.contacts;return(void 0===r?[]:r).forEach(({contacts:r})=>{r.forEach(r=>{s[r.id]=gt(e[r.id],{type:t.type,contact:r})})}),s}case v.FETCH_ALL_CONTACTS_SUCCESS:{const s=ht({},e);return t.contacts.forEach(r=>{s[r.id]=gt(e[r.id],{type:t.type,contact:r})}),s}case v.SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{const s=t.listData,r=Object.keys((void 0===s?{}:s).people||{});if(!r.length)return e;const n=ht({},e);return r.forEach(s=>{n[s]=gt(e[s],{type:t.type,contact:t.listData.people[s]})}),n}case v.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:{const s=ht({},e);return t.contacts.forEach(r=>{const n=r.xobniId;s[n]=gt(e[n],{type:t.type,contact:r})}),s}case v.CREATE_CONTACT_SUCCEEDED:case v.CONTACT_PHOTO_UPLOAD_SUCCEEDED:case v.CONTACT_SAVE_SUCCEEDED:{const s=ht({},e);return s[t.contact.id]=gt(e[t.contact.id],{type:t.type,contact:t.contact}),s}case v.DELETE_CONTACT_REQUESTED:return Object(N.g)(e,t.itemsToUpdate.filter(({isAffected:e})=>e).map(({id:e})=>e));case v.CONTACT_DETAIL_FETCH_SUCCEEDED:{const s=ht({},e);return t.contacts.filter(e=>e.xobniId).forEach(r=>{s[r.xobniId]=gt(e[r.xobniId],{type:t.type,contact:ht({},r,{id:r.xobniId,isEditable:!0})})}),s}default:return e}},idByEmail:(e={},t)=>{switch(t.type){case v.SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{const s=t.listData,r=(void 0===s?{}:s).people;return r?(e=It({},e),Object(N.h)(r).forEach(({xobniId:t,id:s})=>{e[s]=t}),e):e}case v.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:return It({},e,{},t.contactEmailToId);case v.CREATE_CONTACT_SUCCEEDED:case v.CONTACT_SAVE_SUCCEEDED:{let s=It({},e);const r=t.contact,n=r.id,a=r.emails,o=void 0===a?[]:a,i=t.itemsToUpdate[0].changedEmails,c=void 0===i?[]:i;return c.length>0&&(s=Object(N.g)(s,c)),o.forEach(e=>s[e]=n),s}case v.CONTACTS_LIST_FETCH_SUCCEEDED:return Tt()(t.contacts||[],e=>e.contacts).reduce((e,t)=>{const s={};return t.emails.forEach(e=>s[e]=t.id),It({},e,{},s)},It({},e));case v.CONTACT_SUGGESTIONS_SUCCEEDED:{const s=t.contacts;return(void 0===s?[]:s).reduce((e,t)=>It({},e,{[t.email]:t.id}),It({},e))}case v.CONTACTS_GROUP_FETCH_SUCCEEDED:{const s=t.contacts;return(void 0===s?[]:s).reduce((e,t)=>t.type===mt.b.EMAIL?It({},e,{[t.value]:t.id}):e,It({},e))}case v.DELETE_CONTACT_REQUESTED:return Object.keys(e).filter(s=>{const r=e[s];return t.itemsToUpdate.every(e=>e.id!==r)}).reduce((t,s)=>(t[s]=e[s],t),{});case v.CONTACT_DETAIL_FETCH_SUCCEEDED:{const s=It({},e),r=t.contacts;return(void 0===r?[]:r).forEach(e=>{const t=e.xobniId;t&&e.emails.forEach(e=>s[e]=t)}),s}case v.FETCH_ALL_CONTACTS_SUCCESS:{const s=It({},e),r=t.contacts;return(void 0===r?[]:r).forEach(e=>{const t=e.id;e.emails.forEach(e=>s[e]=t)}),s}default:return e}},selectedPaneFilter:(e=h.bc.USER_CREATED_CONTACTS,t)=>{switch(t.type){case v.CONTACTS_PANE_LIST_FILTER_CHANGED:return t.listFilter;default:return e}},contactsPaneView:(e={},t)=>{switch(t.type){case v.CONTACTS_PANE_CREATE_GROUP_FAILED:case v.CONTACTS_PANE_CREATE_GROUP_BUTTON_CLICKED:return Rt({},e,{type:h.bb.CREATE_GROUP,id:t.tempGroupId,lastSavedData:{name:"",contacts:[]}});case v.CONTACTS_PANE_SAVE_GROUP_FAILED:case v.CONTACTS_PANE_EDIT_GROUP:return Rt({},e,{type:h.bb.EDIT_GROUP,id:t.id,lastSavedData:t.oldGroup});case v.RIGHT_RAIL_COMMS_ICON_CLICKED:if(t.name===h.pd.CONTACTS_PANE)return bt(e);break;case v.OPEN_PAGE_REQUESTED:case v.PREVIEW_MESSAGE_REQUESTED:{const s=t.uiContext,r=(void 0===s?{}:s).mKey,n=t.route;if((void 0===n?{}:n).name===h.rd.NEW_DRAFT)break;if(!r||-1===ft.a.COMPOSE_FROM_CONTACTS_PANE.indexOf(r))return bt(e);break}case v.CONTACTS_PANE_BACK_BUTTON_CLICKED:case v.CONTACT_EDIT_CANCELLED:switch(e.type){case h.bb.EDIT_CONTACT:return-1!==ft.a.EDIT_FORM.indexOf(e.uiContext)?Rt({},e,{type:h.bb.CONTACT_DETAILS}):bt(e);case h.bb.CREATE_GROUP:case h.bb.EDIT_GROUP:case h.bb.CONTACT_DETAILS:case h.bb.CREATE_CONTACT:return bt(e)}break;case v.CONTACTS_PANE_EDIT_BUTTON_CLICKED:switch(e.type){case h.bb.CONTACT_DETAILS:return Rt({},e,{type:h.bb.EDIT_CONTACT,uiContext:ft.a.EDIT_FORM[1]})}break;case v.EDIT_CONTACT_FROM_CARD:return Rt({},e,{type:h.bb.EDIT_CONTACT,id:t.id,contact:null,uiContext:ft.a.EDIT_FORM[0]});case v.ADD_TO_CONTACTS:return Rt({},e,t.id?{type:h.bb.EDIT_CONTACT,contact:null,id:t.id,uiContext:null}:{type:h.bb.CREATE_CONTACT,contact:{isEditable:!1,name:"",firstName:"",middleName:"",lastName:"",emailsWithType:[{value:t.email,type:"email"}],phonesWithType:[],addressesWithType:[]},id:null});case v.CONTACT_CREATE_CLICKED:return Rt({},e,{type:h.bb.CREATE_CONTACT,id:null,contact:null});case v.CONTACTS_PANE_CONTACT_CLICKED:return Rt({},e,{type:h.bb.CONTACT_DETAILS,id:t.id,contact:null});case v.DELETE_CONTACT_REQUESTED:case v.CONTACT_SAVE_REQUESTED:case v.CONTACTS_GROUP_DELETE_REQUESTED:case v.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case v.CONTACTS_PANE_CREATE_GROUP_REQUESTED:return bt(e)}return e},selectedUserGroup:(e={[h.bc.GROUPS]:null,[Nt.a]:h.jb},t)=>{switch(t.type){case v.CONTACTS_PANE_GROUP_CHANGED:return yt({},e,{[h.bc.GROUPS]:t.value});case v.CONTACTS_LIST_FETCH_SUCCEEDED:{const s=t.groupIds,r=void 0===s?[]:s;if(null===e[h.bc.GROUPS]&&r.length)return yt({},e,{[h.bc.GROUPS]:r[0]});break}case v.CONTACTS_GROUP_DELETE_REQUESTED:return yt({},e,{[h.bc.GROUPS]:t.newGroupId});case v.CONTACTS_PANE_CREATE_GROUP_REQUESTED:return yt({},e,{[h.bc.GROUPS]:t.tempGroupId});case v.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:{const s=t.id;if(e[h.bc.GROUPS]===t.tempGroupId)return yt({},e,{[h.bc.GROUPS]:s});break}case v.CONTACT_PICKER_GROUP_CHANGED:case v.CONTACT_PICKER_OPENED:return yt({},e,{[Nt.a]:t.value||h.jb})}return e},groupsById:(e={},t)=>{switch(t.type){case v.CONTACTS_LIST_FETCH_SUCCEEDED:{const s=t.groups,r=void 0===s?[]:s,n=t.groupIds,a=void 0===n?[]:n,o=t.type;return r.length&&a.length?r.reduce((t,s,r)=>{const n=a[r];return n&&(t[n]=vt(e[n],{type:o,group:{id:n,name:s}})),t},Pt({},e)):e}case v.CONTACTS_PANE_CREATE_GROUP_REQUESTED:{const s=t.name,r=t.tempGroupId,n=t.type;if(!s||!r)break;return Pt({},e,{[r]:vt(e[r],{type:n,group:{id:r,name:s}})})}case v.CONTACTS_PANE_SAVE_GROUP_REQUESTED:{const s=t.groupId,r=t.newName,n=t.type;if(!r||!s)break;return Pt({},e,{[s]:vt(e[s],{type:n,group:{id:s,name:r}})})}case v.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:{const s=t.tempGroupId,r=t.id;if(!r)break;const n=Object(N.e)(e,s,r);return n[r].id=r,n}case v.CONTACTS_GROUP_FETCH_SUCCEEDED:{const s=t.groupName,r=t.id,n=t.type;return r?Pt({},e,{[r]:vt(e[r],{type:n,group:{id:r,name:s}})}):e}case v.CONTACTS_GROUP_DELETE_SUCCEEDED:{const s=t.groupId;return s?Object(N.g)(e,[s]):e}}return e},sortBy:(e=h.cb.FIRST_NAME,t)=>{const s=t.sortOrder;switch(t.type){case v.CONTACTS_SORT_ORDER_CHANGED:return s;default:return e}},addressBook:Ut,contactBlockList:wt});function jt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var kt=(e={},{type:t,contentProviders:s={}})=>{switch(t){case v.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED:return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?jt(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{},s)}return e};function xt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Bt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?xt(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Vt=Object(m.combineReducers)({cardConversationId:(e="",t)=>{const s=t.deal;switch(t.type){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return s.cardConversationId;default:return e}},categories:(e=[],t)=>{const s=t.deal;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.categories||e;case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:return s.couponCategories||e;default:return e}},cmid:(e="",t)=>{const s=t.deal;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.cmid||e;case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return s.id||e;default:return e}},dealLink:(e="",t)=>{const s=t.deal;switch(t.type){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.ASTRA_BATCH_API_SUCCEEDED:return s.dealLink||e;default:return e}},description:(e="",t)=>{const s=t.deal;switch(t.type){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.ASTRA_BATCH_API_SUCCEEDED:return s.description||e;default:return e}},from:(e="",t)=>{const s=t.deal;switch(t.type){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return s.from;default:return e}},imageHeight:(e=null,t)=>{const s=t.deal;switch(t.type){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return s.imageHeight;default:return e}},imageUrl:(e=null,t)=>{const s=t.deal;switch(t.type){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.ASTRA_BATCH_API_SUCCEEDED:return s.imageUrl||e;default:return e}},imageWidth:(e=null,t)=>{const s=t.deal;switch(t.type){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return s.imageWidth;default:return e}},isInferredDate:(e=!1,t)=>{const s=t.deal;switch(t.type){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return s.isInferredDate||!1;default:return e}},isRecommendedDeal:(e=!1,t)=>{switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return!0;default:return e}},parentMessageId:(e="",t)=>{const s=t.deal;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.parentMessageId||e;default:return e}},relevanceScore:(e=0,t)=>{const s=t.deal;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.relevanceScore||e;default:return e}},retailer:(e="",t)=>{const s=t.deal;switch(t.type){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.ASTRA_BATCH_API_SUCCEEDED:return s.retailer||e;default:return e}},retailerLogoUrl:(e="",t)=>{const s=t.deal;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.retailerLogoUrl||e;default:return e}},saved:(e=!1,t)=>{const s=t.deal;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.saved||e;case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.COUPONS_ADD_TAG_DECO_REQUESTED:case v.COUPONS_REMOVE_TAG_DECO_REQUESTED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return s.clipped;default:return e}},senderEmails:(e=[],t)=>{const s=t.deal;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.senderEmails||e;default:return e}},src:(e="msg",t)=>{const s=t.deal;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.src||e;default:return e}},unusualDiscount:(e="",t)=>{const s=t.deal;switch(t.type){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.ASTRA_BATCH_API_SUCCEEDED:return s.unusualDiscount||e;default:return e}},validThrough:(e="",t)=>{const s=t.deal;switch(t.type){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.ASTRA_BATCH_API_SUCCEEDED:return s.validThrough||e;default:return e}}});var Wt=function(e={},t){const s=t.listData,r=void 0===s?{}:s,n=t.type;switch(n){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.EXTRACT_COUPON_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.COUPONS_LIST_SUCCEEDED:case v.COUPONS_REMOVE_TAG_DECO_REQUESTED:case v.COUPONS_ADD_TAG_DECO_REQUESTED:case v.ASTRA_BATCH_API_SUCCEEDED:{if(!r.schemaCards)return e;const t=Object.keys(r.schemaCards).filter(t=>r.schemaCards[t].type===h.Ad.Coupon&&!p()(e[t],st()(r.schemaCards[t],["id","type"]))).reduce((t,s)=>Bt({},t,{[s]:Vt(e[s],{type:n,deal:r.schemaCards[s]})}),{});return Object.keys(t).length?Bt({},e,{},t):e}default:return e}};const Kt=(e={})=>({doesDealExist:t=>!!e[t],getExtractedDeals:()=>(Object(N.h)(e)||[]).filter(e=>!e.isRecommendedDeal),getRecommendedDeals:()=>(Object(N.h)(e)||[]).filter(e=>!!e.isRecommendedDeal).sort((e,t)=>t.relevanceScore-e.relevanceScore),getImageUrl:t=>e[t].imageUrl,getImageHeight:t=>e[t].imageHeight,getImageWidth:t=>e[t].imageWidth,getValidThroughDate:t=>e[t].validThrough,isInferredDate:t=>e[t].isInferredDate,getDealLink:t=>e[t].dealLink,getDescription:t=>e[t].description,getFromAddress:t=>e[t].from,isClipped:t=>e[t].saved,getCardConversationId:t=>e[t].cardConversationId,getUnusualDiscount:t=>e[t].unusualDiscount,getCouponCategory:t=>e[t].categories,getRetailer:t=>e[t].retailer});var qt=Object(m.combineReducers)({topRetailers:(e=null,t)=>{switch(t.type){case v.TOP_RETAILERS_REQUEST_SUCCEEDED:return t.topRetailers}return e},topDealCategories:(e=null,t)=>{switch(t.type){case v.TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED:return t.topDealCategories}return e},dealsViewExpansion:(e=!1,{type:t})=>{switch(t){case v.DEALS_VIEW_EXPANSION_TOGGLED:return!e;default:return e}}});var Yt=Object(m.combineReducers)({isDetailPaneExpanded:(e=!1,t)=>{switch(t.type){case v.TOGGLE_DETAIL_PANE_EXPANSION:return!e;case v.OPEN_PAGE_REQUESTED:case v.DELETE_ITEMS_SUCCEEDED:case v.MOVE_ITEMS_SUCCEEDED:return!1;default:return e}}});function zt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Qt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?zt(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Zt=Object(m.combineReducers)({content:(e=null,t)=>{switch(t.type){case v.DOCUMENT_FETCH_SUCCEEDED:return t.page.content}return e},status:(e=h.od.DOES_NOT_EXIST,t)=>{switch(t.type){case v.DOCUMENT_FETCH_SUCCEEDED:return t.page.state;case v.DOCUMENT_FETCH_REQUESTED:return e===h.od.LOADED?e:h.od.LOADING}return e}}),Xt=(e,t)=>`${e}-${t}`,$t=Object(m.combineReducers)({pages:(e={},t)=>{const s=t.startPage,r=t.endPage,n={};switch(t.type){case v.DOCUMENT_FETCH_SUCCEEDED:return Qt({},e,{},Object.keys(t.response.pages).reduce((s,r)=>(s[r]=Zt(e[r],Qt({},t,{page:t.response.pages[r]})),s),{}));case v.DOCUMENT_FETCH_REQUESTED:for(let a=s;a<=r;a++)n[a]=Zt(e[a],t);return Qt({},e,{},n)}return e},height:(e=null,t)=>{switch(t.type){case v.DOCUMENT_FETCH_SUCCEEDED:return t.response.height||e}return e},width:(e=null,t)=>{switch(t.type){case v.DOCUMENT_FETCH_SUCCEEDED:return t.response.width||e}return e},numPages:(e=0,t)=>{switch(t.type){case v.DOCUMENT_FETCH_SUCCEEDED:return t.response.numPages||e}return e},exceptions:(e={},t)=>{switch(t.type){case v.DOCUMENT_FETCH_SUCCEEDED:return t.response.exceptions||e}return e},sheets:(e={},t)=>{switch(t.type){case v.DOCUMENT_FETCH_SUCCEEDED:return t.response.sheets||e}return e},status:(e=h.od.DOES_NOT_EXIST,t)=>{switch(t.type){case v.DOCUMENT_FETCH_REQUESTED:return e!==h.od.LOADED?h.od.LOADING:e;case v.DOCUMENT_FETCH_SUCCEEDED:return h.od.LOADED;case v.DOCUMENT_FETCH_FAILED:return h.od.ERROR}return e},error:(e={},t)=>{const s=t.error,r=((void 0===s?{}:s).data||{}).info,n=(void 0===r?{}:r).documentError,a=void 0===n?{}:n;switch(t.type){case v.DOCUMENT_FETCH_SUCCEEDED:case v.DOCUMENT_FETCH_REQUESTED:return{};case v.DOCUMENT_FETCH_FAILED:return a}return e},retryCount:(e={},t)=>{switch(t.type){case v.DOCUMENT_FETCH_SUCCEEDED:case v.DOCUMENT_FETCH_FAILED:{const s=Xt(t.startPage,t.endPage);return Qt({},e,{[s]:(e[s]||0)+1})}}return e}});var Jt=(e={},t)=>{switch(t.type){case v.DOCUMENT_FETCH_REQUESTED:case v.DOCUMENT_FETCH_SUCCEEDED:case v.DOCUMENT_FETCH_FAILED:{var s;const r=(null===(s=t.statesToRemove)||void 0===s?void 0:s.documentsToRemove)||[];return r.length>0?st()(Qt({},e,{[t.documentId]:$t(e[t.documentId],t)}),r):Qt({},e,{[t.documentId]:$t(e[t.documentId],t)})}}return e};var es=function(e=[],t){switch(t.type){case v.DOWNLOAD_REQUESTED:case v.ATTACHMENT_DOWNLOADED:case v.ALL_ATTACHMENTS_DOWNLOADED:return function(e,t){return t.downloadId="download-"+Object(U.generateUID)(),e.concat(t)}(e,t.download);case v.DOWNLOAD_COMPLETED:case v.DOWNLOAD_FAILED:return function(e,t){return e.filter(e=>e.downloadId!==t)}(e,t.downloadId);default:return e}};var ts=s(20);const ss=new RegExp(/^\d{4}(((0)[0-9])|((1)[0-2]))([0-2][0-9]|(3)[0-1])$/);function rs(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ns(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?rs(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):rs(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const as={screenWidth:0,screenHeight:0,clientWidth:0,clientHeight:0,innerWidth:0,innerHeight:0,contentAndRightRailWidth:0,contentAndRightRailHeight:0,ybarHeight:0};var os=Object(m.combineReducers)({appName:(e=null,t)=>{switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return t.appName||e;default:return e}},appId:(e=null,t)=>{switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return t.appId||e;default:return e}},isInternalIP:(e=!1,t)=>{switch(t.type){case v.INITIAL_STATE:return t.internal;default:return e}},applicationVisibility:(e=!0,t)=>{switch(t.type){case v.APPLICATION_VISIBILITY_DID_CHANGE:return t.isVisible}return e},applicationLastVisibleTimeStamp:(e=null,t)=>{switch(t.type){case v.APPLICATION_VISIBILITY_DID_CHANGE:return t.isVisible?null:t.actionTimestamp}return e},buildRefreshStatus:(e=h.A.NO_REFRESH,t)=>{switch(t.type){case v.APPLICATION_VISIBILITY_DID_CHANGE:if(t.isVisible){const e=(t.actionTimestamp-t.applicationLastVisibleTimeStamp)/6e4;if(t.emergencyRefresh&&e>t.appRefreshIdleInterval.emergencyRefresh)return h.A.EMERGENCY_REFRESH;const s=864e5,r=15,n=Math.round(t.elapsedTimeFromSessionStart)/s;if(e>t.appRefreshIdleInterval.periodicRefresh&&n>=r)return h.A.PERIODIC_REFRESH}return e;case v.CANCEL_APP_RELOAD:return h.A.NO_REFRESH;default:return e}},timeZoneName:(e="UTC",t)=>{switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return t.clientParams&&t.clientParams.timezone||t.timezone&&t.timezone.name||"UTC";case v.LAUNCH_COMPLETED:return t.clientInferredTimezone||e;default:return e}},timezoneUpdating:(e=!1,t)=>{switch(t.type){case v.SETTINGS_LOCATION_CHANGE_REQUESTED:return t.isUpdating||e;default:return e}},windowDimensions:(e=as,t)=>{switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return t.clientParams&&t.clientParams.windowInnerWidth&&t.clientParams.windowInnerHeight?ns({},e,{innerWidth:t.clientParams.windowInnerWidth,innerHeight:t.clientParams.windowInnerHeight}):e;case v.WINDOW_RESIZING:return{screenWidth:t.screenWidth,screenHeight:t.screenHeight,clientWidth:t.clientWidth,clientHeight:t.clientHeight,contentAndRightRailHeight:t.contentAndRightRailHeight,contentAndRightRailWidth:t.contentAndRightRailWidth,innerWidth:t.innerWidth,innerHeight:t.innerHeight,ybarHeight:t.ybarHeight};case v.LAUNCH_COMPLETED:return t.clientWidth&&t.clientHeight&&t.innerWidth&&t.innerHeight?ns({},e,{screenWidth:t.screenWidth,screenHeight:t.screenHeight,clientWidth:t.clientWidth,clientHeight:t.clientHeight,innerWidth:t.innerWidth,innerHeight:t.innerHeight}):e;default:return e}},pageDirection:(e="ltr",t)=>{switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return t.pageDirection||e;default:return e}},browser:(e={},t)=>{switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return{browserName:t.browserName,browserVersion:t.browserVersion};default:return e}},loggerParams:(e={},t)=>{switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return t.loggerParams||{};default:return e}},doNotSellUrl:(e="",t)=>{switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return t.doNotSellUrl||null;default:return e}},doNotSellLabel:(e="",t)=>{switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return t.doNotSellLabel||"";default:return e}},userSegmentData:(e={},t)=>{switch(t.type){case v.LAUNCH_COMPLETED:return Object(ts.c)()&&window.AppBootstrapData?window.AppBootstrapData.userSegmentData||{}:e;default:return e}},endpoints:(e={},t)=>{switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return t.endpoints||{};default:return e}},partner:(e="",t)=>{switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return t.partner||"";default:return e}},os:(e="",t)=>{switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return t.os||"";default:return e}}});var is=s(460),cs=s.n(is),ls=s(22),ds=s(75);var Es=(e,t,s={})=>{const r=s.contentType,n=void 0===r?h.ac.MESSAGES:r,a=t.isMobileRoute,o=(0,t.getFeaturesSelectors)().getSetting,i=o(h.Kd.PREVIEW_PANE)===h.ed.RIGHT,c=o(h.Kd.MSG_LIST_DENSITY),l=o(h.Kd.SNIPPETS);if(a())return l?18*(l-1)+b.db:b.cb;switch(n){case h.ac.MESSAGES:switch(c){case h.Ec.SLIM:return i?l?b.X:b.U:b.ab;case h.Ec.RELAXED:return i?l?b.W:b.T:b.Z;default:return i?l?b.V:b.S:b.Y}case h.ac.IMAGES:return b.ib;case h.ac.DOCUMENTS:return b.x}};var _s=e=>{const t=(0,e.getAction)();return t.type===v.STAR_CHANGE_REQUESTED&&!t.isStarred};var us=e=>{const t=e.getRoute,s=(0,e.getAction)(),r=t(),n=Object(x.z)(r);if(Object(x.w)(n)!==h.ac.COUPON_CARDS)return s.type===v.COUPONS_ADD_TAG_DECO_SUCCEEDED},ps=s(181);var ms=e=>{const t=e.getFeaturesSelectors,s=(0,e.isMobileRoute)(),r=t().getSetting;return r(s?h.Kd.MOBILE_NOTIFICATION:h.Kd.DESKTOP_NOTIFICATION)};const Ss=(e,t,s=!1)=>{const r=t.isFeatureEnabled,n=t.isNarrowScreen,a=t.getActionableRightRailPane,o=(0,t.getRoute)(),i=r(h.Eb.HIDE_RIGHT_RAIL),c=r(h.Eb.WIDE_RIGHT_RAIL),l=!!o.params.attachmentId;return e&&!i&&(!n()||c||s)&&!a()&&!l},hs=(e,t)=>{const s=t.getRoute(),r=t.getSetting(h.Kd.PREVIEW_PANE)!==h.ed.NO;let n=[h.rd.MESSAGE_FROM_FOLDER_LIST,h.rd.MESSAGE_FROM_SEARCH_LIST,h.rd.MESSAGE_FROM_LIST];return r&&(n=[...n,h.rd.FOLDER,h.rd.LIST,h.rd.SEARCH]),Ss(e,t)&&-1!==n.indexOf(s.name)&&!!t.getGroupId()};var Cs=(e,t)=>{const s=t.getRoute;if((0,t.isMobileRoute)())return h.ed.NO;const r=Object(x.z)(s());return Object(x.w)(r)===h.ac.MESSAGES?e:h.ed.NO},gs=s(549);function Os(e,t){return e.length?function(e,t){return e.find(e=>{const s=Object(W.a)(e);return s&&s.name===t})}(e,t):null}var Ts=(e,t)=>{const s=[],r=t.getFeaturesSelectors,n=r().isEnabled(h.Eb.SMARTVIEW_CATEGORIES_ALL),a=r().isEnabled(h.Eb.SMARTVIEW_CATEGORIES_PEOPLE),o=r().isEnabled(h.Eb.SMARTVIEW_CATEGORIES_PEOPLE_V2),i=r().isEnabled(h.Eb.SMARTVIEW_CATEGORIES_SHOPPING),c=h.qb[h.Ud.PEOPLE]+":1",l=h.qb[h.Ud.PEOPLE]+":0",d=h.qb[h.Ud.COUPONS]+":1";if(!(n||a||o||i))return[];if(a||o||i){if(a||o){const t=Os(e,h.Ud.PEOPLE);s.push(t?Object(W.a)(t):a?Object(W.a)(c):Object(W.a)(l))}if(i){const t=Os(e,h.Ud.COUPONS);s.push(t?Object(W.a)(t):Object(W.a)(d))}}else e.forEach(e=>{const t=Object(W.a)(e);t&&s.push(t)}),h.se.forEach(e=>{s.find(({name:t})=>t===e)||s.push({name:e,status:0})});return s};const As=(e,t)=>{const s=(0,t.getFeaturesSelectors)().isEnabled(h.Eb.PHOTO_THEMES),r=e[h.Kd.THEME];return!ls.j[r]||!s&&Object(ls.p)(r)},Is=Object(N.d)(["luv.southwest.com","sg.booking.com","mail.hotels.com","booking.com","email.travelzoo.com","e.delta.com","h1.hilton.com","airbnb.com","email-marriott.com","united.com","email.jetblue.com","frontier.com","mailer.orbitz.com","news.united.com","save.spirit-airlines.com","aa.com","your.choicehotels.com","carnivalcruiselineemail.com","res.hilton.com","ifly.alaskaair.com"]);var fs=(e,t)=>{const s=t.getRouteParams,r=t.getRouteName,n=t.getRoute,a=t.doesMessageGroupIdExist,o=t.getMessageIdsFromMessageGroupId,i=t.getSmartViewTypeFromRoute,c=(0,t.getMessagesSelectors)(),l=c.doesMessageIdExist,d=c.getFromAddresses,E=r(),_=E===h.rd.MESSAGE_FROM_FOLDER_LIST||E===h.rd.MESSAGE_FROM_SEARCH_LIST,u=n(),p=Object(x.W)(u)&&i(u)===h.Ud.TRAVEL,m=(s()||{}).groupId,S=a(m)&&o(m)[0],C=l(S)&&d(S)[0];return Ss(e,t,!0)&&(_&&function(e){if(!e)return!1;const t=Object(N.b)(e,"email",""),s=t.slice(t.indexOf("@")+1).toLowerCase();return!!Is[s]}(C)||p)};var Ds=(e,t)=>{const s=t.getRoute,r=(0,t.getListsSelectors)().doesListExist,n=Object(x.z)(s()),a=Object(x.w)(n)===h.ac.TRAVEL_CARDS;return r(n)&&a&&e};const Rs={start:Date.parse("2017-09-24T04:55:00-07:00"),end:Date.parse("2017-09-24T10:00:00-07:00")};var bs=(e,t)=>{const s=e[h.Kd.ACTION_AFTER_MSG_MOVE],r=t.getPrescribedNumberOfColumns,n="/m"===(0,t.getFeaturesSelectors)().getSetting("appRootPath"),a=2===r();return n?a?h.o.SHOW_NEXT_MESSAGE:h.o.GO_BACK_TO_FOLDER:s},Ns=s(115);const Ms=/password/i,ys=/change|reset/i,Ls=e=>Ms.test(e)&&ys.test(e);var Ps=s(156),vs=s(143),Fs=s(550);function Us(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ws(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Us(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Us(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Gs={[h.Eb.DISPATCHER_UPSELLS]:!0,[h.Eb.SUBSCRIPTION_UPSELLS]:!0,[h.Eb.YMOBILE_PROMO_UPSELLS]:!0},Hs=(e,t=!1)=>(s=t,r)=>{switch(r.type){case v.LAUNCH_PAGE_REQUESTED:case v.INITIAL_STATE:case v.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case v.SETTINGS_BLOCKED_SENDERS_RECEIVED:case v.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:case v.POST_LAUNCH_ATTRIBUTES_RECEIVED:case v.COMPOSE_ATTRIBUTES_RECEIVED:return void 0!==r.features[e]?r.features[e]:s;case v.LAUNCH_COMPLETED:return!(e!==h.Kd.DO_NOT_UPSELL_APP||!r.doNotUpsellApp)||(r.nextFeature===e||s);case v.FEATURE_CLOSED:case v.FEATURE_DISABLED:case v.FEATURE_TRY_NOW_REQUESTED:case v.FEATURE_CUE_NOTIFICATION_CLOSED:{const t=r.name;return(t!==h.Eb.MOBILE_PAC_NOTIFICATION_CUE||e!==h.Eb.INLINE_IMAGES_PROXIED)&&(t!==e&&(r.nextFeature===e||s))}case v.FEATURE_ENABLED:case v.SETTINGS_CHANGE_REQUESTED:case v.SETTINGS_SAVE_FILTERS_REQUESTED:case v.RENAME_FOLDER_REQUESTED:case v.FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED:case v.FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED:case v.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED:{const t=r.name,n=r.value,a=r.feature,o=r.type;return void 0===t||void 0===n?s:a===h.Eb.MOBILE_PAC_NOTIFICATION_CUE&&e===h.Kd.SHOW_IMAGES&&o===v.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED||(t===h.Kd.CONSENT_EVENTS&&e===h.Kd.CONSENT_EVENTS&&o===v.SETTINGS_CHANGE_REQUESTED?((e,t)=>{let s=e;return Object.keys(t).forEach(e=>{const r=t[e]&&t[e].status;r===Ps.c&&(s=s.filter(t=>t!==e)),r===Ps.b&&(s=[...s,e])}),s})(s,n):t===e?n:s)}case v.SETTINGS_CHANGE_FAILED:var n;return(null==r||null===(n=r.requestActionPayload)||void 0===n?void 0:n.name)===h.Kd.LINK_ENHANCR&&e===h.Kd.LINK_ENHANCR?!s:s;case v.PAC_CUE_MARK_AS_SHOWN_REQUESTED:{const t=r.name,n=r.shownMaxTimes,a=void 0!==n&&n;return e===h.Kd.SHOW_IMAGES&&t===h.Eb.WEB_PAC_NOTIFICATION_CUE&&!!a||s}case v.BLOCK_SENDERS_REQUESTED:case v.BLOCK_SENDERS_WITH_DELETE_REQUESTED:{const t=r.name,n=r.blockSenders;return void 0===t||void 0===n?s:t===e?n:s}case v.SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED:{const t=r.value;return e===h.Kd.VACATION_PREFERENCES?t:s}case v.THEME_MODE_CHANGE_REQUESTED:case v.OPEN_PAGE_REQUESTED:if(Gs[e])return!1;if(r.nextFeature===e)return!0;if(r.updatedSettingAttributes){const t=r.updatedSettingAttributes,n=(Array.isArray(t)?t.find(t=>t.name===e):t)||{},a=n.name,o=n.value;return void 0===a||void 0===o?s:a===e?o:s}return s;case v.NEED_TO_KNOW_NEWS_FAILED:return e!==h.Eb.NEED_TO_KNOW_NEWS_CUE&&s;case v.APPLICATION_VISIBILITY_DID_CHANGE:if(e===h.Eb.NEED_TO_KNOW_NEWS_CUE){const e=r.showNTK;return void 0===e?s:e}return s;case v.TMR_REGISTER_ACTION_SUCCESS:if(e===h.Eb.TMR_ICON_NOTIFICATION){const e=r.showTMRNotification;return void 0===e?s:e}if(e===h.Eb.TMR_MOBILE_IMAPIN_CUE){const e=r.showTMRMobileImapInCue;return void 0===e?s:e}return s;case v.PREVIEW_MESSAGE_REQUESTED:case v.CLOSE_PAGE_REQUESTED:return!Gs[e]&&(r.nextFeature===e||s);case v.DISPATCHER_UPSELL_FETCH_SUCCEEDED:return e===h.Kd.DISPATCHER_UPSELL_DATA?r.mailoverlay||s:r.nextFeature===e||s;default:return r.nextFeature===e||s}},js={[h.Eb.SYNC_DATA_ONLY_WHEN_NEEDED]:!1,[h.Eb.SYNC_NOW]:!1,collectConfigAccess:!1,[h.Eb.YBAR_FUJI2_THEME]:!1,[h.Eb.SMART_REPLY]:!1,[h.Eb.PHOTOS_CUE]:!1,[h.Eb.STARRED_CUE]:!1,[h.Eb.SETTINGS_CUE]:!1,[h.Eb.PARTNER_RECONSENT_BANNER]:!1,[h.Eb.SEARCH_CUE]:!1,[h.Eb.SEARCH_RELEVANCE_CUE]:!1,[h.Eb.ENABLE_SEARCH_RELEVANCE_CUE]:!1,[h.Eb.ALL_TABS_PLUS_CUE]:!1,[h.Eb.PEOPLE_SMARTVIEW_CUE]:!1,[h.Eb.STATIONERY_CUE]:!1,[h.Eb.EMOJI_CUE]:!1,[h.Eb.SHOW_SPONSORED_LOGO]:!1,[h.Eb.THEMES_CUE_V3]:!1,[h.Eb.NEW_USER_TASKS_CUE]:!1,[h.Eb.UPDATE_WIDER_MAIL_CUE]:!1,[h.Eb.COUPONS_VIEW_CUE]:!1,[h.Kd.QUOTIENT_DEBUG_FLAG]:!1,[h.Kd.ASTRA_NONPROD_FLAG]:!1,[h.Eb.CATEGORY_FOLLOWING_CUE]:!1,[h.Eb.PKG_TRACKING_CUE]:!1,[h.Eb.ADBLOCK_UPSELL_CUE]:!1,[h.Eb.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE]:!1,[h.Eb.ADBLOCK_DELAY_DISMISS_CUE]:!1,[h.Eb.RIGHT_RAIL_AD_FREE_UPSELL_CUE]:!1,[h.Eb.COUPONS_VIEW_LAUNCH_CUE]:!1,[h.Eb.IS_WIDER_MAIL_EXTN_ENABLED]:!1,[h.Eb.SHOW_ENHANCE_CONTACTS_PREFERENCE]:!0,[h.Eb.CONVERSATIONS]:!0,[h.Eb.CLOUD_STORAGE]:!1,[h.Kd.IMAPIN]:!1,canAddImapInAccount:!1,canRemoveImapInAccount:!1,[h.Eb.OFFICE365]:!1,[h.Eb.OFFICE365_CUE]:!1,linkAccountList:!1,[h.Eb.MOVE_FOLDER]:!1,[h.Kd.SHOW_ALL_SYSTEM_FOLDERS]:!1,addAliasAccount:!1,[h.Kd.SNIPPETS]:!1,[h.Kd.USE_RICH_TEXT]:!0,[h.Kd.SHOW_IMAGES]:!1,[h.Kd.CONSENT_EVENTS]:[],[h.Kd.HUMAN_READABLE_CONSENT]:!1,[h.Eb.SHOW_HUMAN_READABLE_CONSENT_SETTING]:!1,[h.Kd.DESKTOP_NOTIFICATION]:0,[h.Kd.MOBILE_NOTIFICATION]:!1,[h.Kd.MAIL_TABS]:!1,[h.Kd.MARK_AS_READ_INTERVAL]:h.Bc.IMMEDIATELY,[h.Kd.THEME]:ls.j.DEFAULT,[h.Kd.THEME_MODE]:ls.i.LIGHT,[h.Kd.CLIENT_WIDTH]:0,[h.Kd.ORIENTATION]:"portrait",[h.Kd.PREVIEW_PANE]:h.ed.NO,[h.Kd.SUBHUB_RECO_FILTER]:"",[h.Kd.SUBHUB_RECO_COUNT]:5,[h.Kd.MSG_LIST_DENSITY]:h.Ec.NORMAL,[h.Kd.COMPOSE_FONT_SIZE]:h.sb.SIZE,[h.Kd.COMPOSE_FONT_FAMILY]:h.sb.FAMILY,focusBasedVisibilityDetection:!1,[h.Kd.DELIVERY_BLOCKED_SENDERS]:[],[h.Kd.LINK_ENHANCR]:!1,[h.Kd.VACATION_PREFERENCES]:{enabled:!1},[h.Kd.DEA_BASE_NAME]:null,[h.Kd.LIST_ITEM_HEIGHT]:32,[h.Kd.MESSAGE_FILTERS]:[],[h.Kd.ACTION_AFTER_MSG_MOVE]:h.o.GO_BACK_TO_FOLDER,[h.Kd.SHOW_CUSTOM_FOLDERS]:!0,[h.Kd.SHOW_SMART_VIEWS]:!0,[h.Kd.EXPANDED_FOLDERS]:[],[h.Kd.STATIONERY_DEFAULT_THEME]:"",[h.Kd.TOGGLE_CONV_RELOAD_DELAY]:300,[h.Eb.RESIZABLE_PREVIEW_PANE]:!0,[h.Eb.PREVIEW_PANE_IN_PIXELS]:!1,[h.Eb.PREVIEW_PANE_COOKIE]:!1,[h.Kd.RECENTLY_USED_EMOJIS]:[],[h.Eb.EMOJI_SEARCH]:!1,[h.Kd.SYSTEM_TABS]:[],[h.Eb.OPTIMISTIC_SEND]:!1,[h.Eb.FORCE_OPTIN_BEACON]:!1,[h.Eb.CEP_FORWARD]:!1,[h.Eb.RSVP]:!1,[h.Eb.RSVP_RESPONSE]:!1,[h.Eb.NUDGE_TO_REPLY]:!1,[h.Eb.STATIONERY_THEME_DATES]:!1,[h.Eb.PARSE_RSVP_REPLY_LINKS]:!1,[h.Kd.PLA_SEARCH_SOURCE_TAG]:"yahoo_mail_nextgen_search_pla",[h.Kd.SEARCH_SOURCE_TAG]:"yahoo_mail_nextgen_search",[h.Kd.SEARCH_FETCH_COUNT]:25,[h.Kd.SEARCH_FIRST_PAGE_COUNT]:25,[h.Kd.SPACE_IDS]:{},[h.Eb.SUBHUB_RECOMMENDATIONS]:!1,[h.Eb.DEALS_VIEW_CUE]:!1,[h.Eb.GROCERIES_CUE]:!1,[h.Eb.GROCERIES_PRODUCT_CUE]:!1,[h.Eb.CONTACTS_NEW_BADGE]:!1,[h.Eb.TOOLBAR_V3]:!1,[h.Eb.RIGHT_RAIL_CONTACT_CARD]:!1,[h.Eb.RIGHT_RAIL_PHOTO_CARD]:!1,[h.Eb.RIGHT_RAIL_DOCS_CARD]:!1,[h.Eb.RIGHT_RAIL_MESSAGES_CARD]:!1,[h.Kd.AD_BLOCK_FEATURE_CUE_ID]:1,[h.Eb.CONTACTS_PANE_FEATURE]:!1,[h.Eb.CONTACTS_PANE_CUE]:!1,[h.Eb.CONTACTS_SORT]:!1,[h.Eb.DISABLE_DL]:!1,[h.Eb.XOBNI_PREFETCH]:!1,[h.Eb.CALENDAR_RIGHT_RAIL_PANE]:!1,[h.Eb.CALENDAR_RIGHT_RAIL_PANE_CUE]:!1,[h.Eb.SOCIAL_ACCOUNTS]:!1,[h.Eb.USE_LINKEDIN_TEST_SPID]:!1,[h.Kd.LINKEDIN_EXPIRY_NOTIFY_DAYS]:15,[h.Eb.MESSAGE_UNREAD_INDICATOR]:!1,[h.Kd.THROTTLE_API_LIST]:{},[h.Eb.SMARTVIEW_ATTACHMNENTS]:!1,[h.Eb.ADS]:!0,[h.Eb.NO_ADS]:!1,[h.Eb.DO_NOT_SELL_LINK]:!1,[h.Eb.DARLA_PREFETCH]:!0,[h.Eb.DARLA_LOOKAHEAD]:!1,[h.Eb.DARLA_PREFETCH_LAUNCH_SYNCER]:!1,[h.Eb.DARLA_CSC_CLEANUP]:!1,[h.Eb.GEMINI_SPONSORED_VIDEO]:!1,[h.Eb.COM_SCORE_BEACONING]:!1,[h.Eb.EMPTY_FOLDER_VIDEO]:!1,[h.Eb.MESSAGE_READ_AD_ROTATION]:!0,[h.Eb.GEMINI_VIEWABILITY]:!0,[h.Kd.HIDE_AD]:!1,[h.Eb.MAIL_PRO_ELIGIBLE]:!1,[h.Eb.MESSAGE_READ_CONTACT_CARD]:!1,[h.Eb.WIDE_RIGHT_RAIL]:!1,[h.Eb.HIDE_RIGHT_RAIL]:!1,[h.Eb.SMARTVIEW_CATEGORIES_ENABLED]:!1,[h.Eb.PREMIUM_AD_DETECTION]:!1,[h.Eb.GEMINI_CONTEXTUAL_ADS]:!1,[h.Eb.NUKE_DISPLAY_ADS_ON_INACTIVE]:!1,[h.Eb.NO_AD_ROTATION_ON_COMPOSE]:!1,[h.Eb.ROTATE_ADS_ONLINE]:!1,[h.Eb.BOOKING_CARD]:!1,[h.Eb.WIDER_MAIL_ELIGIBLE]:!1,[h.Eb.DARLA_POST_RENDER]:!1,[h.Eb.DARLA_GEMINI_ARBITRATION]:!1,[h.Eb.AMP]:!1,[h.Kd.AMP_EMAIL]:!1,[h.Eb.MAIL_PRO]:!1,[h.Eb.MAIL_PRO_LINK_IN_SETTINGS_MENU]:!1,[h.Eb.WIDER_MAIL_PROMO]:!1,[h.Eb.ADBLOCK_UPSELL]:!1,[h.Eb.REDIRECT_ADBLOCK_USER_TO_NODIN]:!1,[h.Eb.SHOPPING_CART_AD]:!1,[h.Eb.APAC_SHOPPING_CART_AD]:!1,[h.Eb.NO_FORCE_DISPLAY_AD_ROTATION_ON_ROUTE_CHANGE]:!1,[h.Eb.AUTO_FORWARD_EMAIL]:!1,[h.Eb.RIGHT_RAIL_AD_FREE_UPSELL]:!1,[h.Eb.PENCIL_AD]:!1,[h.Eb.SECOND_PENCIL_AD]:!1,[h.Eb.PENCIL_AD_URL_VALIDATION]:!1,[h.Eb.SECOND_PENCIL_FALLBACK_SECTION_ID_ENABLED]:!1,[h.Eb.HOTELS_CARD_PREFILL]:!1,[h.Eb.RELATED_SEARCHES_CARD]:!1,[h.Eb.SUBSCRIPTION_ADS]:!1,[h.Eb.MESSAGE_LIST_AD_CAROUSEL]:!1,[h.Eb.NOBLE_HYBRID_AD]:!1,[h.Eb.PORTRAIT_AD]:!1,[h.Eb.FLASH_SALE_AD]:!1,[h.Eb.FLASH_SALE_AD_IN_SECONDS]:!1,[h.Eb.PLA_SEARCH_ADS]:!1,[h.Kd.PLA_SEARCH_ADS_BUCKET_ID]:"",[h.Kd.PLA_SEARCH_ADS_JS_URL]:"https://s.yimg.com/ds/scripts/pla.v1.2.js",[h.Eb.MESSAGE_READ_AD_ROTATION_V2]:!1,[h.Eb.ROTATE_PENCIL_AD_ON_EXPIRE]:!1,[h.Eb.AOL_VIDEO_PLAYER]:!1,[h.Eb.OATH_VIDEO_PLAYER]:!1,[h.Eb.RIGHT_RAIL_NATIVE_AD]:!1,[h.Eb.SPONSORED_MOMENT]:!1,[h.Eb.VIDEO_SPONSORED_MOMENT]:!1,[h.Eb.NOBLE_WEB_LINK]:!1,[h.Eb.AFFILIATE_PARTNER]:!1,[h.Eb.NODIN_MESSAGE_HEADER]:!1,[h.Kd.ENABLED_AFFILIATE_PARTNERS]:[],[h.Kd.NUMBER_OF_COUPON_ROWS]:0,[h.Kd.SHOW_OUT_N_BACK_AUTO_EXPANSION]:!1,[h.Eb.CONTACT_CARD_TRACKING]:!1,[h.Eb.DEBUG_DARLA]:!1,[h.Eb.ABP_STATIC_ADS]:!1,[h.Eb.RR_AD_BLOCK_DPA_ADS]:!1,[h.Eb.ROTATE_ADS_ON_CHECK_MAIL]:!1,[h.Kd.PARTNER_ATTRIBUTION_URL]:"",[h.Eb.AD_FORMAT_SELECTION]:!1,[h.Eb.MESSAGE_OP_PERF]:!1,[h.Eb.RIGHT_RAIL_UPSELL_VIDEO_AD]:!1,[h.Eb.MSG_READ_PENCIL_AD_SEND_DOMAIN]:!1,[h.Eb.BIZMAIL_USER]:!1,[h.Eb.AUTOPLAY_EMPTY_FOLDER_VIDEO]:!1,[h.Eb.DEALS_SHOPPING_CART_AD]:!1,[h.Eb.NO_IDLE_CHECK_MAIL_AD_ROTATIONS]:!1,[h.Eb.SAME_SEARCH_AD_ON_SECOND_PENCIL]:!1,[h.Eb.SECOND_SEARCH_AD]:!1,[h.Eb.AD_PARTIALLY_ABOVE_FOLD]:!1,[h.Eb.DEAL_EXTENSION]:!1,[h.Eb.SECURITY_SUBSCRIPTIONS_UPSELL]:!1,[h.Eb.SPONSORED_MESSAGE_TRIAGE]:!1,[h.Eb.TALL_PENCIL_AD]:!1,[h.Eb.SUBSCRIPTION_LIST]:!1,[h.Eb.SUBSCRIPTIONS_VIEW_CUE]:!1,[h.Eb.UNIFY_NATIVE_AD_FORMAT]:!1,[h.Eb.EDGE_TO_EDGE_GRAPHICAL_AD]:!1,[h.Kd.EDGE_TO_EDGE_GRAHICAL_DEGISN_VERSION]:"default",[h.Eb.INSTRUMENT_SECOND_SEARCH_AD]:!1,[h.Eb.FIRE_VIEWABILITY_BEACONS_ON_CLICK]:!1,[h.Eb.CROSS_DOMAIN_DPA_ADS]:!1,[h.Eb.PRIVACY_RIGHTS_ICON]:!1,[h.Eb.NO_HIDDEN_CHECK_MAIL_AD_ROTATIONS]:!1,[h.Eb.LOG_CHECK_MAIL_DISPATCH]:!1,[h.Kd.MAILPRO_UPSELL_INSTRUMENTATION_URL]:{},[h.Eb.MEMBERSHIP_REWARDS]:!1,[h.Eb.TMR_ONBOARDING_CUE]:!1,[h.Eb.TMR_ICON_NOTIFICATION]:!1,[h.Kd.TMR_ATOS_TEST_PARAM]:0,[h.Kd.MEMBERSHIP_REWARDS_SETTINGS]:{},[h.Eb.TMR_MOBILE_ONBOARDING_CUE]:!1,[h.Eb.TMR_MOBILE_DAILY_CHECKIN_CUE]:!1,[h.Eb.TMR_MOBILE_IMAPIN_CUE]:!1,[h.Eb.ADD_MAILBOX_OPTION]:!1,[h.Eb.ADD_MAILBOX_POPOVER]:!1,[h.Eb.TMR_ONBOARDING_REMINDER]:!1,[h.Kd.MARKETING_PREFERENCES_SETTING]:void 0,[h.Eb.MAILPRO_FREE_TRIAL]:!1,[h.Eb.MAILPRO_FREE_TRIAL_UPSELLS]:!1,[h.Kd.OBI_AUTH]:{},[h.Kd.OBI_HOSTNAME]:{},[h.Kd.FTWCC_ELIGIBLE_UPSELLS]:[],[h.Kd.PURCHASE_OFFER_TEST_PARAM]:0,[h.Kd.LIST_SUBSCRIPTION_TEST_PARAM]:0,[h.Kd.DAYS_IN_TRIAL_TEST_PARAM]:0,[h.Kd.MOCKED_RECURRING_INTERVAL]:0,[h.Kd.EMPTY_FOLDER_VIDEO_CHANNELS]:{},[h.Kd.TIME_TO_WAIT_SINCE_LAST_AD_CALL]:0,[h.Kd.GEMINI_AD_COUNT]:{pencilAd:1,carouselAd:5},[h.Kd.GEMINI_SECTION_IDS]:{},[h.Kd.GEMINI_CREATIVE_ID]:0,[h.Kd.GEMINI_FORCE_FILTER]:"",[h.Kd.CMP_JS_URL]:"https://consent.cmp.oath.com/version/3.0.3/cmp.js",[h.Kd.COM_SCORE_JS_URL]:"https://s.yimg.com/aaq/vzm/cs_1.1.2.js",[h.Kd.AD_FREE_MAIL_URL]:"",[h.Kd.ABOUT_AD_URL]:"",[h.Eb.SHOW_ABOUT_OUR_ADS_LINK]:!0,[h.Eb.SHOW_ABOUT_YAHOO_MAIL_LINK]:!0,[h.Eb.SHOW_GIVE_FEEDBACK_LINK]:!0,[h.Eb.SHOW_FEEDBACK_PANEL]:!1,[h.Eb.SHOW_OPT_OUT_LINK_MORE_SETTINGS]:!1,[h.Kd.PRIVACY_URL]:"",[h.Kd.TERMS_URL]:"",[h.Kd.ITEM_LIST_PAGE_THRESHOLD]:0,[h.Kd.MESSAGE_READ_AD_ROTATION_INTERVAL]:0,[h.Kd.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL]:0,[h.Kd.WIDER_MAIL_EXTENSION_URL]:{},[h.Kd.MAIL_PRO_MONTHLY_PRICE]:"$3.49",[h.Kd.MAIL_PRO_YEARLY_PRICE]:"$34.99",[h.Kd.GEMINI_VIDEO_AD_ID]:"",[h.Kd.GEMINI_VIDEO_AD_SITE]:"",[h.Kd.GEMINI_VIDEO_AD_EXP_NAME]:"",[h.Kd.GEMINI_VIDEO_AD_EXP_TYPE]:"",[h.Kd.CHROME_EXTENSION_ALLOWLIST]:[],[h.Kd.CHROME_LONGTERM_EXTENSION_LIST]:[],[h.Eb.ABORT_DARLA_IN_PROGRESS]:!1,[h.Kd.RELATED_SEARCHES_CARD_STYLE]:"default",[h.Eb.LREC_MON_AD_ARBITRATION]:!1,[h.Kd.VIDEO_PLAYER_URL]:"https://yep.video.yahoo.com/js/3/videoplayer-min.js?r=nextgen-desktop",[h.Kd.VIDEO_PLAYER_SAPI_COBRAND]:"",[h.Kd.AOL_VIDEO_PLAYER_URL]:"https://cdn.vidible.tv/prod/player/js/latest/iframe-api.min.js",[h.Kd.AOL_VIDEO_PLAYER_IFRAME_SRC]:"https://delivery.vidible.tv/htmlembed/pid=5aaad183c74d475e29adfe4c/5aaacba1841fad0ac9a8566b.html?m.loadingplaceholder=1",[h.Kd.OATH_VIDEO_PLAYER_URL]:"https://yep.video.yahoo.com/oath/js/1/oath-player.js",[h.Kd.SECOND_PENCIL_AD_DEPTH]:10,[h.Kd.PENCIL_AD_EXPIRE_TIME]:7e3,[h.Kd.PREFERRED_AD_FORMAT]:0,[h.Eb.COMMERCIAL_ANALYSIS_OF_CONTENT]:!1,[h.Kd.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION]:30,[h.Kd.ADBLOCK_UPSELL_CUE_INTERVAL]:1728e5,[h.Kd.NEED_TO_KNOW_NEWS_CUE_INTERVAL]:86400,[h.Kd.DELETE_DEBOUNCE_TIME]:500,[h.Eb.NODIN_ES5_SHIM]:!1,[h.Kd.CHECK_MAIL_AD_ROTATION_IDLE_INTERVAL]:18e4,[h.Kd.WEB_SEARCH_URL]:"https://search.yahoo.com/search?p=%QUERY%&fr=uh-mail-web&fr2=p%3Aml%2Cm%3Asb",[h.Kd.DEALS_SHOPPING_CART_AD_VERSION]:"themedButton",[h.Eb.NODIN_MESSAGE_READ_DOMAIN]:!1,[h.Eb.NODIN_MESSAGE_READ_AD_ROTATION]:!1,[h.Kd.MESSAGE_LIST_AD_CAROUSEL_VERSION]:"default",[h.Eb.XOBNI_AUTO_SUGGEST]:!1,[h.Eb.CLASSIC_AUTO_SUGGEST]:!0,[h.Eb.NODIN_AUTOCOMPLETE_ON_XOBNI]:!1,[h.Eb.NODIN_CHECK_MAIL]:!1,[h.Eb.NODIN_FILTERS]:!1,[h.Eb.NODIN_CHECK_MAIL_TOAST]:!1,[h.Eb.LASTPASS_UPSELL]:!1,[h.Kd.LASTPASS_UPSELL_SETTINGS]:{},[h.Eb.LASTPASS_FREETRIAL_UPSELL]:!1,[h.Eb.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE]:!1,[h.Kd.LASTPASS_FREETRIAL_UPSELL_SETTINGS]:{},[h.Eb.SUBSCRIPTION_UPSELLS_ELIGIBLE]:!1,[h.Eb.SUBSCRIPTION_UPSELLS]:!1,[h.Kd.SELECTED_SUBSCRIPTION_UPSELL]:"",[h.Kd.SELECTED_SUBSCRIPTION_VERSION]:"",[h.Kd.SUBSCRIPTION_UPSELL_PRODUCT_CODE]:"",[h.Eb.DISPATCHER_UPSELLS]:!1,[h.Eb.DISPATCHER_UPSELLS_ELIGIBLE]:!1,[h.Kd.DISPATCHER_UPSELL_DATA]:void 0,[h.Eb.YMOBILE_PROMO_UPSELLS]:!1,[h.Kd.YMOBILE_UPSELL_VERSION]:"",[h.Eb.YMOBILE_PROMOS]:!1,[h.Kd.LASTPASS_TOM_VERSION]:"",[h.Eb.FALCON_TOM_SUBSCRIPTIONS_UPSELLS]:!1,[h.Eb.FALCON_TOM_ARBITRATION_ENABLED]:!1,[h.Kd.FALCON_TOM_SUBSCRIPTIONS_PREFETCH_COUNT]:0,[h.Eb.LOG_CLIENT_ERROR]:!1,[h.Kd.DARLA_HOSTNAME]:"fc.yahoo.com",[h.Eb.BREAKING_NEWS]:!1,[h.Eb.BREAKING_NEWS_ENABLED]:!1,[h.Eb.BREAKING_NEWS_TEST_PARAM]:!1,[h.Kd.BREAKING_NEWS_REFRESH_INTERVAL]:6e4,[h.Kd.BREAKING_NEWS_SETTINGS]:!1,[h.Kd.PACKAGE_TRACKING_SETTINGS]:!1,[h.Eb.NEED_TO_KNOW_NEWS_CUE]:!1,[h.Eb.SHOW_NTK_ON_VISIBILITY_CHANGE]:!1,[h.Eb.NTK_CLOSE_ON_EXTERNAL_CLICK]:!1,[h.Eb.HIDE_NTK_FOR_SMALLER_SCREEN]:!1,[h.Eb.HIDE_NTK_FOR_HOMEPAGE_USERS]:!0,[h.Eb.SHOW_FUJI2_NTK]:!1,[h.Eb.SHOW_YBAR_FUJI2_DIALPAD]:!1,[h.Eb.HIDE_YBAR_DOWNLOAD_APP_LINK]:!1,[h.Eb.MULTI_ACCOUNT_SIGN_OUT]:!1,[h.Eb.MARK_AS_READ_DEFER]:!1,[h.Kd.ADVERTISE_WITH_US_LINK]:"https://www.ad.com/?utm_source=yahoo-mail&utm_medium=referral&utm_campaign=ad-feedback",[h.Kd.NUM_MESSAGE_GROUPS_TO_PREFETCH]:10,[h.Kd.NEIGHBOR_PREFETCH_COUNT]:0,documentTitleStandardDuration:3e3,documentTitleNotificationDuration:5e3,[h.Kd.BULK_ACTION_DIALOG_THRESHOLD]:50,[h.Eb.SHOW_RECENT_SUGGESTIONS]:!1,[h.Eb.SHOW_EMAIL_SEARCH_SUGGESTIONS]:!1,[h.Eb.MESSAGE_LIST_CONTEXT_MENU]:!1,[h.Eb.SHOW_EMPTY_SEARCH_SUGGESTIONS]:!1,[h.Eb.FILTER_COMMERCIAL_IMAGES]:!1,[h.Eb.AUTOTAG]:!1,[h.Eb.IFRAME_PRINT]:!1,[h.Eb.EXTERNAL_CSS]:!1,[h.Eb.SWITCH_TO_NORRIN]:!1,[h.Eb.SWITCH_TO_NORRIN_ON_WIN10]:!1,[h.Eb.DOCUMENT_PREVIEW_LIGHT]:!1,[h.Eb.NODIN_JS_ENHANCE]:!1,messageScrollLoadThreshold:10,[h.Kd.PARTNER_BRAND]:"",[h.Kd.LOGO_URL]:"https://s1.yimg.com/rz/d/yahoo_mail_en-US_s_f_w_bestfit_mail.png",[h.Kd.LOGO_SRCSET]:"",secureCryptoMode:0,[h.Eb.DISABLE_UNSUBSCRIBE_FEATURE]:!0,[h.Eb.UNSUBSCRIBE_FROM_MESSAGE]:!1,[h.Eb.COLLAPSED_TRIAGING]:!1,[h.Eb.UNSUBSCRIBE_BADGES]:!1,ybar:!0,[h.Eb.CONTACT_SUMMARY]:!1,[h.Kd.COMPOSE_SAVE_INTERVAL]:2e4,[h.Eb.WEB_FONTS]:!1,[h.Eb.MKTG_BEACON]:!1,[h.Eb.NEWUSER_MKTG_BEACON]:!1,[h.Eb.SMARTVIEW_CATEGORIES_ALL]:!1,[h.Eb.SMARTVIEW_CATEGORIES_PEOPLE]:!1,[h.Eb.SMARTVIEW_CATEGORIES_PEOPLE_V2]:!1,[h.Eb.SMARTVIEW_CATEGORIES_SHOPPING]:!1,udb:!0,theming:!0,[h.Eb.PHOTO_THEMES]:!1,[h.Eb.NORRIN_OPTOUT]:!0,optOutSurvey:!0,[h.Kd.HELP_URL]:"https://help.yahoo.com/kb/index?page=product&y=PROD_MAIL_WEB&locale=en_US",[h.Kd.CORP_MAIL_GMAIL_SETTINGS]:{},asyncTaskPollCount:200,[h.Eb.FETCH_FULL_BODY]:!1,peopleNotifications:!1,[h.Eb.PUSH_NOTIFICATIONS]:!1,[h.Eb.BROWSER_NOTIFICATIONS]:!1,[h.Eb.SW_LOGGER_PARAMS]:!1,dragDropPill:!0,offlineChecking:!0,promptToSync:!0,appRefreshIdleInterval:{emergencyRefresh:30,periodicRefresh:60},[h.Kd.APP_ROOT_PATH]:"/d",previewpanePositionsFromServer:{},[h.Eb.TOOLTIP_EMOJI]:!1,[h.Eb.ATT_PREVIEW_IN_COMPOSE]:!1,[h.Eb.PERSIST_COMPOSE_TEXT_MODE]:!1,pushSubscriptionValidity:7,migrateToTAP:!1,[h.Eb.NOTEPAD_TAB]:!1,newMailVideoId:{onboarding:"ebcb9733-fa01-3cb9-a57d-4254ab9c969a",searchOnboarding:"ad93243f-aae2-32e5-8505-b70ea1b35216",personalizeInbox:"1fae6609-d76d-3b9a-adc6-afe490d2ca10",emailOrganization:"92a2f4f4-00c6-38f5-894d-ebcb34d6b9c9"},selectAll:!1,[h.Eb.LOADING_FALLBACK]:!1,[h.Eb.SHOW_COMMS_PROPERTIES]:!1,[h.Kd.SYNC_TIME]:20,[h.Eb.DISPOSABLE_ADDRESS]:!0,[h.Eb.ADD_SEND_ONLY_ACCOUNTS]:!0,[h.Eb.REPLY_TO_ADDRESS]:!0,[h.Kd.ASYNC_TASK_POLL_INTERVAL]:2e3,[h.Kd.CHECK_MAIL_INTERVAL]:3e4,[h.Kd.MAIL_URL]:"https://mail.yahoo.com",[h.Kd.CALENDAR_URL]:"https://calendar.yahoo.com",[h.Kd.NOTEPAD_URL]:"https://calendar.yahoo.com/?view=notepad",[h.Kd.FEEDBACK_URL]:"https://yahoo.uservoice.com/forums/600772?auth=yahoo",[h.Eb.TUTORIAL]:!0,[h.Kd.BUFFER_SIZE]:35,[h.Kd.PREVIEWABLE_INLINE_ATTACHMENT_SIZE]:51200,[h.Kd.MESSAGE_INITIAL_RENDER_COUNT]:15,[h.Eb.SHOW_TWEET]:!1,[h.Kd.STATIONERY_RESTRICTED_THEMES]:!1,[h.Eb.TIMEZONE_CHECK]:!0,[h.Eb.SILENT_TIMEZONE_CORRECTION]:!0,[h.Eb.CHECK_MAIL_PREFETCH]:!1,[h.Kd.MESSAGE_FETCH_COUNT]:100,[h.Kd.MESSAGE_FETCH_COUNT_INITIAL]:40,[h.Kd.COUPON_CARDS_FETCH_COUNT]:25,[h.Kd.COUPON_RECOMMENDATIONS_FETCH_COUNT]:150,[h.Kd.CARD_GROUPS_FETCH_COUNT]:10,[h.Kd.LINK_ENHANCER_URL_BLOCK_LIST]:[],[h.Eb.RTL]:!1,[h.Eb.IS_RETURNING_USER]:!1,[h.Eb.HAS_MAPPED_THEME]:!1,[h.Eb.ADD_EDIT_FROM_LIST_CARD]:!1,[h.Eb.EXTRACTIONS_FEEDBACK]:!1,[h.Eb.DEALS]:!1,[h.Eb.RECOMMENDED_DEALS]:!1,[h.Eb.DEALS_VIEW_FOR_INTLS]:!1,[h.Eb.RECEIPTS]:!1,[h.Eb.FLIGHT_CARD_EXTRACTIONS]:!1,[h.Eb.TRAVEL_VIEW]:!1,[h.Eb.PRELOAD_EMOJI]:!1,[h.Eb.GIF]:!0,[h.Eb.STATIONERY]:!0,[h.Eb.VACATION_RESPONSE_STATIONERY]:!1,[h.Eb.EXCEPTION_NOTIFICATION]:!1,[h.Kd.NOTIFICATION_TTL]:5e3,[h.Eb.GROCERIES]:!1,[h.Eb.GROCERY_WITH_PRODUCTS]:!1,[h.Eb.UNUSUAL_DISCOUNT]:!1,[h.Kd.COMPOSE_THROTTLE_COUNT]:Number.MAX_VALUE,[h.Eb.SCOUT]:!0,[h.Eb.SCOUT_PREDICATE]:!0,[h.Eb.SCOUT_RECURRING]:!0,[h.Kd.SCOUT_ONBOARDING]:[],[h.Eb.BLOCK_SENDERS]:!1,[h.Eb.FILTER_MESSAGES_LIKE_THIS]:!1,[h.Eb.PKG_TRACKING_TOP_OF_MSG]:!1,[h.Eb.WALMART_CUE]:!1,[h.Eb.GROCERIES_SEARCH_CUE]:!1,[h.Eb.GROCERIES_LOCATIONS_CUE]:!1,[h.Eb.ENABLE_GROCERIES_TOP_OF_MSG]:!1,[h.Eb.ENABLE_STATIC_GROCERIES_TOP_OF_MSG]:!1,[h.Eb.PRODUCT_RECOMMENDATIONS]:!1,[h.Eb.YM6_QRCODE_UPSELL]:!1,[h.Eb.SENDER_DEALS_BACKFILL]:!1,[h.Eb.SHOW_MERCHANT_CARD]:!1,[h.Eb.FETCH_AFFILIATE_RETAILERS]:!1,[h.Eb.SHOW_USER_FOLLOWED_CATEGORIES]:!1,[h.Eb.DEALS_WITH_PRODUCTS]:!1,[h.Eb.MOBILE_MESSAGE_SNIPPETS]:!1,[h.Eb.MOBILE_ONBOARDING_CUE]:!1,[h.Eb.DESIGN_CLASSIFIER]:!1,[h.Eb.CORONAVIRUS_ICON]:!1,[h.Eb.CORONAVIRUS_CUE]:!1,[h.Kd.CORONAVIRUS_URL]:"https://news.yahoo.com/coronavirus",[h.Eb.MOBILE_SEARCH_SUGGESTIONS]:!1,[h.Eb.MOBILE_SIGNATURE]:!1,[h.Eb.MOBILE_THEMING]:!1,[h.Eb.MOBILE_EDIT_RECIPIENTS]:!1,[h.Eb.SHOULD_SW_SUBSCRIBE]:!1,[h.Eb.PUSH_NOTIFICATIONS_CUE_PTR]:!1,[h.Eb.PUSH_NOTIFICATIONS_CUE_LAUNCH]:!1,[h.Eb.MOBILE_PAC_NOTIFICATION_CUE]:!1,[h.Eb.PUSH_NOTIFICATIONS_CUE_COMPOSE]:!1,[h.Kd.PUSH_NOTIFICATIONS_EXPERIMENT]:h.id.DEFAULT,[h.Eb.MOBILE_MESSAGE_READ_NAVIGATION]:!1,[h.Eb.HOMEPAGE_BUTTON]:!0,[h.Eb.COMPOSE_FROM_CUSTOM_FOLDER]:!1,[h.Eb.SIGN_OUT]:!0,[h.Eb.OFFLINE_TOASTS]:!0,[h.Eb.BLOCK_SENDER_CUE]:!1,[h.Eb.LANDSHARK_CUE]:!1,landsharkCreative:!1,showInvisibleLandshark:!1,[h.Eb.CONVERSATIONS_CUE]:!1,[h.Eb.COUPON_LANDSHARK_CUE]:!1,[h.Kd.LANDSHARK_ON_COUPON_MESSAGE_STRINGS]:{cueBody:"Get notified about expiring deals with the Yahoo Mail app.",oneLink:"https://go.onelink.me/107872968?pid=InProduct&c=US_Acquisition_YMktg_expiringdeals1_Experiment_&af_sub1=Acquisition&af_sub2=US_YMktg&af_sub3=&af_sub4=&af_sub5="},[h.Eb.NOBLE_SUPPORTED_BROWSER_VERSION]:!0,[h.Eb.NOBLE_SUPPORTED_OS_VERSION]:!0,[h.Eb.MAX_PREVIEW_LENGTH]:1,[h.Eb.SENDER_ROLLUP]:!1,[h.Eb.SENDER_ROLLUP_FLUSH_CACHE]:!1,[h.Kd.AUTO_OPEN_FIRST_MESSAGE]:!1,[h.Eb.BODY_SCROLLING]:!1,[h.Eb.SMART_APP_BANNERS]:!1,[h.Eb.NON_NATIVE_APP_BANNERS]:!1,[h.Kd.DO_NOT_UPSELL_APP]:!1,[h.Kd.APP_INSTALL_LINK]:"",[h.Eb.APP_INSTALL_CUE_V1]:!1,[h.Eb.APP_INSTALL_CUE_V2]:!1,[h.Eb.NPS_SURVEY]:!1,[h.Eb.NPS_SURVEY_CUE]:!1,[h.Kd.NPS_SURVEY_CONFIG]:{},[h.Kd.STAR_ANIMATION]:{},[h.Kd.GUIDED_STAR_ANIMATION]:{},[h.Kd.HAS_GUIDED_STAR_ANIMATION]:!1,[h.Eb.SHOW_TABS]:!1,[h.Kd.HAS_WIDE_LOGO]:!1,[h.Eb.SHOW_FORWARDING_NOTIFICATION]:!1,[h.Eb.DISPOSABLE_ADDRESS_DELETE_ONLY]:!1,[h.Eb.SHOW_RIGHT_RAIL_HELP_LINKS]:!0,[h.Eb.INLINE_IMAGES_PROXIED]:!1,[h.Eb.CLICK_URL_LOGGING]:!1,[h.Eb.NODIN_BULK_OPERATION]:!1,[h.Eb.NODIN_BULK_MENU]:!1,[h.Kd.LOGIN_NAME]:"",[h.Kd.BASIC_MAIL_FEEDBACK_URL]:"",[h.Kd.ACCOUNT_INFO_URL]:"",[h.Kd.HOME_URL]:"",[h.Kd.BASIC_MAIL_THEME]:"DEFAULT",[h.Kd.HOMEPAGE_URL]:"https://www.yahoo.com",[h.Kd.SIGN_OUT_URL]:"https://login.yahoo.com/config/login?logout=1&.src=ym&.intl=us&.direct=2&.done=https://www.yahoo.com",[h.Kd.V3_LIST_MESSAGE_BUFFER]:100,[h.Kd.V3_OPPOSITE_BUFFER]:20,[h.Kd.V3_LIST_NUM_OF_PLACEHOLDER]:20,[h.Kd.NODIN_ONBOARD]:[],[h.Eb.SHOW_NODIN_ONBOARDING_MESSAGE]:!1,[h.Eb.NODIN_IMAPIN]:!1,[h.Kd.NOTIFICATION_MODE]:"",[h.Kd.NOTIFICATION]:!1,[h.Eb.OPEN_FIRST_MESSAGE]:!1,[h.Eb.ASTRA_YCPI_HOST]:!1,[h.Eb.AD_FEEDBACK_V2]:!1,[h.Eb.OLD_NEW_MAIL]:!1,[h.Kd.INBOX_STYLE]:0,[h.Eb.IS_REINDEXABLE]:!0,[h.Kd.MIGRATION_STATUS]:"",[h.Eb.ENABLE_SETTINGS_MIGRATION]:!1,[h.Eb.AOL_ONBOARDING_CUE_ML]:!1,[h.Eb.AOL_ONBOARDING_CUE_MR]:!1,[h.Eb.AOL_ONBOARDING_CUE_SM]:!1,[h.Eb.AOL_ONBOARDING_CUE_CP]:!1,[h.Eb.LOCKER_FEATURE_CUE]:!1,[h.Kd.LOCKER_ENV]:"production",[h.Kd.LOCKER_SELECTOR]:"ybarAccountMenu",[h.Eb.FIX_IMG_SRC]:!1,[h.Eb.EXTERNAL_INLINE_IMAGE_PREVIEW]:!1,[h.Kd.MAX_NUMBER_OF_MESSAGE_BODIES]:200,[h.Kd.MAX_NUMBER_OF_DOCUMENTS]:50,[h.Kd.ADBLOCK_DELAY_DISMISS_SETTINGS]:{},[h.Kd.ADBLOCK_DELAY_DISMISS_INSTRUMENTATION_URL]:{}},ks={route:function(e={},t){switch(t.type){case v.INITIAL_STATE:case v.LAUNCH_PAGE_REQUESTED:case v.OPEN_PAGE_REQUESTED:default:return t.route&&e===t.route?e:t.route||e}},drawer:(e=!1,t)=>{switch(t.type){case v.DRAWER_OPENED:return!0;case v.DRAWER_CLOSED:return!1;default:return e}},autoOpenSettingsPopover:(e=!1,t)=>{switch(t.type){case v.SETTINGS_POPOVER_AUTOOPEN_CHANGED:return t.status||e;default:return e}},sendingEmailConfirmStatus:(e=!1,t)=>{switch(t.type){case v.CONFIRM_EMAIL_RESEND_REQUESTED:return!0;case v.CONFIRM_EMAIL_RESEND_SUCCEEDED:case v.CONFIRM_EMAIL_RESEND_FAILED:return!1;default:return e}},actionableRightRailContent:(e,t)=>{const s=t.name;switch(e||(e={currentView:null}),t.type){case v.RIGHT_RAIL_COMMS_ICON_CLICKED:if(!cs()(Object.keys(h.pd).filter(e=>null!==e),s))break;return ws({},e,{currentView:e.currentView!==s?s:null});case v.EDIT_CONTACT_FROM_CARD:case v.ADD_TO_CONTACTS:return ws({},e,{currentView:s});case v.OPEN_PAGE_REQUESTED:case v.PREVIEW_MESSAGE_REQUESTED:{const s=t.uiContext,r=(void 0===s?{}:s).mKey,n=t.route,a=(void 0===n?{}:n).name;if(a===h.rd.NEW_DRAFT)return e;if(r){if(-1!==ft.a.COMPOSE_FROM_CONTACTS_PANE.indexOf(r))return e;if(-1!==ft.a.REPLACE_ATTACHMENT_WITH_RIGHT_RAIL.indexOf(r)&&cs()(Object.keys(h.pd),a))return ws({},e,{currentView:a})}return ws({},e,{currentView:null})}}return e},hideRightPaneAds:(e=!1,t)=>{if(X.a[t.type])return!1;switch(t.type){case v.APPLICATION_VISIBILITY_DID_CHANGE:case v.OPEN_PAGE_REQUESTED:return!1;case v.HIDE_RIGHT_PANE_ADS:return!0}return e},[h.Eb.SHOW_RECOMMENDATIONS_MODAL]:(e=!0,t)=>{switch(t.type){case v.COUPON_RECOMMENDATIONS_CLOSED:return!1;default:return e}},[h.Kd.IS_USER_FOLLOWING_CATEGORIES]:(e=!1,t)=>{const s=t.response;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:{var r;const e=null==s||null===(r=s[h.C.GROCERY_RETAILERS])||void 0===r?void 0:r.followedCategoryList;return!(!e||!e.length)}case v.CATEGORY_FOLLOW_SUCCEEDED:return!0;default:return e}},[h.Eb.REPLY_NUDGE_COUNT]:(e=0,t)=>{const s=t.predictionList;switch(t.type){case v.CHECK_REPLY_NUDGE_SUCCEEDED:return e+s.length;default:return e}}};Object.keys(js).forEach(e=>{ks[e]=Hs(e,js[e])});var xs=Object(m.combineReducers)(ks);function Bs(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Vs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Bs(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Bs(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Ws(e,t){return void 0===e[t]?Vs({},e,{[t]:{isShown:!0}}):e[t]&&!e[t].reShowInSession?Vs({},e,{[t]:Object.assign({},e[t],{isShown:!0})}):e}function Ks(e,t){return t===h.Eb.MOBILE_PAC_NOTIFICATION_CUE||t===h.Eb.WEB_PAC_NOTIFICATION_CUE||t===h.Eb.NEED_TO_KNOW_NEWS_CUE?e:Vs({},e,{[t]:Object.assign({},e[t],{isKeySaved:!0})})}var qs=(e={},t)=>{switch(t.type){case v.INITIAL_STATE:{const e=t.nextFeature,s=t.featureCues,r=void 0===s?{}:s;return e?Ws(r,e):r}case v.FEATURE_CLOSED:case v.PAC_CUE_MARK_AS_SHOWN_REQUESTED:case v.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:{const s=t.name,r=t.userResponse;if(s&&(e[s]||void 0===e[s])){return function(e,t,s){return Vs({},e,{[t]:Object.assign({},e[t],{userResponse:s||e[t].userResponse})})}(Ws(e,s),s,r)}return e}case v.FEATURE_CUE_MARK_AS_SHOWN_FAILED:{const s=t.feature;return s&&e[s]&&e[s].reShowInSession?function(e,t){return e[t]&&e[t].reShowInSession?Vs({},e,{[t]:Object.assign({},e[t],{reShowInSession:!1})}):e}(e,s):e}case v.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED:{const s=t.feature;return s&&e[s]&&!e[s].isPersistent?Ks(e,s):e}case v.FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED:case v.FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED:{const s=t.feature;return s&&e[s]?Ks(e,s):e}default:{const s=t.nextFeature;return s?Ws(e,s):e}}};function Ys(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function zs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ys(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ys(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Qs=Object(m.combineReducers)({providerName:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.providerName;default:return e}},providerIataCode:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.providerIataCode;default:return e}},providerUrl:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.providerUrl;default:return e}},departureAirportName:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.departureAirportName;default:return e}},departureAirportDesc:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.departureAirportDesc;default:return e}},departureAirportCode:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.departureAirportCode;default:return e}},departureTime:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.departureTime;default:return e}},departureTerminal:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.departureTerminal;default:return e}},arrivalAirportName:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.arrivalAirportName;default:return e}},arrivalAirportDesc:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.arrivalAirportDesc;default:return e}},arrivalAirportCode:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.arrivalAirportCode;default:return e}},arrivalTime:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.arrivalTime;default:return e}},arrivalTerminal:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.arrivalTerminal;default:return e}},reservationId:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.reservationId;default:return e}},flightNumber:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.flightNumber;default:return e}},passengers:(e=[],t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.passengers;default:return e}},checkInUrl:(e="",t)=>{const s=t.card;switch(t.type){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.checkInUrl;default:return e}}});var Zs=function(e={},t){const s=t.listData,r=t.type;switch(r){case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter(t=>s.schemaCards[t].type===h.Ad.FlightReservation&&!p()(e[t],s.schemaCards[t])).reduce((t,n)=>zs({},t,{[n]:Qs(e[n],{type:r,card:s.schemaCards[n]})}),{});return Object.keys(t).length?zs({},e,{},t):e}default:return e}};var Xs=s(93);function $s(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Js(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$s(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$s(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const er=Object(m.combineReducers)({id:(e="",t)=>{const s=t.folder;switch(t.type){case v.INITIAL_STATE:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.CREATE_FOLDER_SUCCEEDED:return s.id}return e},name:(e="",t)=>{const s=t.folder;switch(t.type){case v.INITIAL_STATE:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:return s.name;case v.CREATE_FOLDER_SUCCEEDED:case v.MOVE_FOLDER_SUCCEEDED:case v.RENAME_FOLDER_SUCCEEDED:return s.name.substr(s.name.lastIndexOf("/")+1)}return e},path:(e="",t)=>{const s=t.folder;switch(t.type){case v.INITIAL_STATE:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:return s&&s.path?s.path:e;case v.CREATE_FOLDER_SUCCEEDED:case v.RENAME_FOLDER_SUCCEEDED:case v.MOVE_FOLDER_SUCCEEDED:return s&&s.name?s.name:e}return e},accountId:(e="",t)=>{const s=t.folder;switch(t.type){case v.INITIAL_STATE:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.CREATE_FOLDER_SUCCEEDED:return s.accountId}return e},types:(e=[],t)=>{const s=t.folder;switch(t.type){case v.INITIAL_STATE:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.CREATE_FOLDER_SUCCEEDED:return p()(e,s.types)?e:s.types}return e},isSystem:(e=!1,t)=>{const s=t.folder;switch(t.type){case v.INITIAL_STATE:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.CREATE_FOLDER_SUCCEEDED:return s.isSystem}return e},total:(e=0,t)=>{const s=t.folder,r=t.isDestinationFolder;switch(t.type){case v.INITIAL_STATE:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.CREATE_FOLDER_SUCCEEDED:return s.total;case v.MOVE_ITEMS_REQUESTED:case v.MOVE_AND_READ_CHANGE_REQUESTED:case v.DELETE_ITEMS_REQUESTED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.V3_MESSAGE_SEND_SUCCEEDED:case v.UPDATE_ITEMS_FAILED:return r?e+1:e-1;case v.V3_MESSAGE_SAVE_SUCCEEDED:return t.draftMessageId?e:e+1}return e},unread:(e=0,t)=>{const s=t.folder,r=t.isDestinationFolder,n=t.flags,a=void 0===n?{}:n;switch(t.type){case v.INITIAL_STATE:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.CREATE_FOLDER_SUCCEEDED:return s.unread;case v.READ_CHANGE_REQUESTED:return a.read?e+1:e-1;case v.RECENT_AND_READ_CHANGE_REQUESTED:return e-1;case v.MOVE_ITEMS_REQUESTED:case v.MOVE_AND_READ_CHANGE_REQUESTED:case v.DELETE_ITEMS_REQUESTED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.V3_MESSAGE_SEND_SUCCEEDED:case v.UPDATE_ITEMS_FAILED:return r?a.read?e:e+1:a.read?e:e-1;default:return e}},highestModSeq:(e=-1,t)=>{const s=t.folder;switch(t.type){case v.INITIAL_STATE:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.CREATE_FOLDER_SUCCEEDED:return s.highestModSeq}return e},uidNext:(e=-1,t)=>{const s=t.folder;switch(t.type){case v.INITIAL_STATE:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.CREATE_FOLDER_SUCCEEDED:return s.uidNext}return e},level:(e=0,t)=>{const s=t.folder,r=t.folderNameMap;switch(t.type){case v.INITIAL_STATE:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:return s.level;case v.MOVE_FOLDER_SUCCEEDED:case v.CREATE_FOLDER_SUCCEEDED:{const e=Object(j.e)(s.path||s.name);return Object(j.p)(s,r,e).length||0}}return e}});var tr=function(e={},t){switch(t.type){case v.INITIAL_STATE:case v.CREATE_FOLDER_SUCCEEDED:case v.RENAME_FOLDER_SUCCEEDED:case v.MOVE_FOLDER_SUCCEEDED:{const s=Object.keys(t.folderMap||{}).map(e=>t.folderMap[e]).filter(t=>!p()(e[t.id],t));return s.length?s.reduce((s,r)=>Js({},s,{[r.id]:er(s[r.id],{type:t.type,folder:r,folderNameMap:e})}),Js({},e)):e}case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:{const s=t.folderMap,r=void 0===s?{}:s,n=Object.keys(r);if(!n.length)return e;const a=n.map(e=>r[e]).filter(t=>!p()(e[t.id],t)),o=Object.keys(e).filter(e=>!r[e]);return a.length||o.length?a.reduce((e,s)=>Js({},e,{[s.id]:er(e[s.id],{type:t.type,folder:s})}),st()(e,o)):e}case v.DELETE_FOLDER_SUCCEEDED:return st()(e,[t.folderId]);case v.MOVE_ITEMS_REQUESTED:case v.MOVE_AND_READ_CHANGE_REQUESTED:case v.DELETE_ITEMS_REQUESTED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.V3_MESSAGE_SEND_SUCCEEDED:case v.READ_CHANGE_REQUESTED:case v.RECENT_AND_READ_CHANGE_REQUESTED:{const s=t.itemsToUpdate,r=(void 0===s?[]:s).filter(e=>e.isAffected);return r.length?r.reduce((e,{flags:s,folder:r,destinationFolder:n})=>Js({},e,{[r.id]:er(e[r.id],{type:t.type,folder:r,flags:Js({},s,{read:"boolean"==typeof t.isRead?t.isRead:s.read})})},n?{[n.id]:er(e[n.id],{type:t.type,folder:r,isDestinationFolder:!0,flags:s})}:{}),Js({},e)):e}case v.UPDATE_ITEMS_FAILED:{const s=t.itemsToDelete,r=(void 0===s?[]:s).filter(e=>e.isAffected);return r.length?r.reduce((e,{flags:s,folder:r,destinationFolder:n})=>Js({},e,{[r.id]:er(e[r.id],{type:t.type,folder:r,flags:Js({},s,{read:"boolean"==typeof t.isRead?t.isRead:s.read})})},n?{[n.id]:er(e[n.id],{type:t.type,folder:r,isDestinationFolder:!0,flags:s})}:{}),Js({},e)):e}case v.V3_MESSAGE_SAVE_SUCCEEDED:{const s=t.draftFolderId;return s?Js({},st()(e,[s]),{[s]:er(e[s],{type:t.type,folder:e[s],folderNameMap:e,draftMessageId:t.draftMessageId})}):e}default:return e}};function sr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function rr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?sr(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sr(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const nr=(e=h.od.DOES_NOT_EXIST,t)=>{switch(t.type){case v.GIF_FETCH_REQUESTED:return h.od.LOADING;case v.GIF_FETCH_SUCCEEDED:return h.od.LOADED;case v.GIF_FETCH_FAILED:return h.od.ERROR;default:return e}};var ar=Object(m.combineReducers)({categories:(e={},t)=>{switch(t.type){case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return t.categories.reduce((e,t)=>rr({},e,{[t.categoryId]:{category:t}}),{});case v.GIF_FETCH_FAILED:case v.GIF_FETCH_REQUESTED:case v.GIF_FETCH_SUCCEEDED:{const s=t.query;return t.preloadItems?rr({},e,{[s]:rr({},e[s],{status:nr(e[s].status,t)})}):e}default:return e}},categoriesStatus:(e=h.od.DOES_NOT_EXIST,t)=>{switch(t.type){case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return h.od.LOADED;case v.GIF_CATEGORIES_CONTENT_FETCH_REQUESTED:return h.od.LOADING;case v.GIF_CATEGORIES_CONTENT_FETCH_FAILED:return h.od.ERROR;default:return e}},categoryIds:(e=[],t)=>{switch(t.type){case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return t.categories.map(e=>e.categoryId);default:return e}}});function or(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var ir=(e={},t)=>{switch(t.type){case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case v.GIF_FETCH_SUCCEEDED:{const s=t.listData.gifItems;return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?or(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):or(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{},void 0===s?{}:s)}default:return e}};var cr=function(e={historyStack:[],activePageIndex:-1},t){switch(t.type){case v.INITIAL_STATE:return{historyStack:[{backIdx:-1,route:t.route}],activePageIndex:0};default:return t.historyState||e}};const lr=(e={})=>({getActivePageIndex:()=>{const t=e.activePageIndex;return void 0===t?-1:t},getHistoryStack:()=>{const t=e.historyStack;return void 0===t?[]:t},getCurrentPage:()=>{const t=e.historyStack,s=void 0===t?[]:t,r=e.activePageIndex;return s.length?s[void 0===r?-1:r]:{}},getPageAtIndex:t=>{const s=e.historyStack,r=void 0===s?[]:s;return r.length&&t<r.length?r[t]:{}}});var dr=s(307),Er=s(164),_r=s(260);function ur(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function pr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ur(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ur(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const mr=(e,t)=>(e=>e.map(e=>pr({},e,e.folderType===h.Mb.DRAFT?{expansionState:h.L.EXPANDED}:{expansionState:h.L.COLLAPSED})))(e).map(e=>e.messageId===t?pr({},e,{expansionState:h.L.EXPANDED}):e),Sr=(e,t)=>{const s=t.getMessageFlags,r=t.isSentFolder,n=e.map(({listId:e=null}={})=>e),a=n.length>0&&n[0]?Object(x.q)(n[0]):null,o=(e=>{const t=e.getHashParams,s=e.getRoute,r=(0,e.getRouteParams)(),n=s(),a=r.attachmentId&&"1"!==n.query.fullscreen,o=t();return a?Object(B.f)(n.params.attachmentId):o.messageId||null})(t);if(o)return mr(e,o);const i=e.filter(e=>e.folderType!==h.Mb.DRAFT).pop(),c=e.filter(e=>e.messageId).some(e=>!s(e.messageId).read),l=e.map(e=>e.folderType===h.Mb.SENT&&a&&r(a)||e.folderType===h.Mb.DRAFT||!s(e.messageId).read||!c&&s(e.messageId).flagged||e.messageId===i.messageId?pr({},e,{expansionState:h.L.EXPANDED}):pr({},e,{expansionState:h.L.COLLAPSED}));return l.map((e,t)=>{if(e.expansionState===h.L.EXPANDED)return e;const s=t+1<l.length?l[t+1]:void 0;return 0===t||s&&s.expansionState===h.L.EXPANDED?e:pr({},e,{expansionState:h.L.STACKED})})},hr=Object(N.h)(h.Bd),Cr=Object(N.h)(h.Cd),gr=[h.Yd.DATE_DESC,h.Yd.DATE_ASC,h.Yd.STARRED,h.Yd.SUBJECT],Or=[h.Yd.DATE_DESC,h.Yd.DATE_ASC,h.Yd.UNREAD,h.Yd.STARRED],Tr=[h.Yd.DATE_DESC,h.Yd.DATE_ASC,h.Yd.UNREAD,h.Yd.STARRED,h.Yd.SENDER,h.Yd.SUBJECT,h.Yd.ATTACHMENT];var Ar=function(e=[],t){switch(t.type){case v.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:return t.contacts}return e};var Ir=Object(m.combineReducers)({type:(e="",t)=>{const s=t.launchError,r=t.mailboxAttributes;switch(t.type){case v.INITIAL_STATE:return s||(r&&!r.success?h.Xb.SETTINGS_FAILED_TO_LOAD:e);case v.LAUNCH_FAILED:case v.SETTINGS_CHANGE_REQUESTED:return"";default:return e}}});function fr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Dr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?fr(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fr(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Rr=(e={},t)=>{switch(t.type){case v.LINK_ENHANCER_FETCH_SUCCEEDED:return Dr({},e,{[t.cardUrl]:t.linkInfo});case v.LINK_ENHANCER_FETCH_FAILED:return Dr({},e,{[t.cardUrl]:null});default:return e}};var br=(e=!1,t)=>{const s=t.listId;switch(t.type){case v.INITIAL_STATE:case v.CHANGE_FOLDER_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.UNDO_MOVE_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_COUPONS_SUCCESS:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.GIF_FETCH_SUCCEEDED:case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case v.OFFERS_LIST_SUCCEEDED:case v.SENDER_ROLLUP_SUCCEEDED:case v.MORE_SENDER_ROLLUP_SUCCEEDED:case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:return void 0!==t.listData.lists[s].hasMoreItems?t.listData.lists[s].hasMoreItems:e;default:return e}};var Nr=(e=[],t)=>{const s=t.listId;switch(t.type){case v.INITIAL_STATE:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.GIF_FETCH_SUCCEEDED:case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.COUPONS_ADD_TAG_DECO_REQUESTED:case v.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_SENDER_ROLLUP_SUCCEEDED:case v.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:case v.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:{const r=t.listData.lists[s].itemIds;return p()(e,r)?e:Object(x.c)(e,r)}case v.DELETE_CONTACT_REQUESTED:case v.COUPONS_REMOVE_TAG_DECO_REQUESTED:{const s=t.itemsToUpdate,r=void 0===s?[]:s,n=t.listToUpdate,a=(void 0===n?{}:n).itemsToUpdate,o=void 0===a?[]:a,i=o.length?o:r.filter(e=>e.isAffected&&Object(x.x)(t.listToUpdate.listId)!==h.bc.ALL_COUPON_CARDS).map(e=>e.id);return i.length?e.filter(e=>-1===i.indexOf(e)):e}case v.CREATE_CONTACT_SUCCEEDED:{const s=t.itemsToUpdate;return[...e,s[0].id]}case v.CONTACT_SAVE_SUCCEEDED:{const s=t.itemsToUpdate,r=void 0===s?[]:s,n=t.listToUpdate,a=void 0===n?{}:n;let o=[...e];return r.forEach(t=>{t.oldListId===a.listId&&(o=e.filter(e=>e!==t.id)),t.listId===a.listId&&(o=[...o,t.id])}),o}case v.FETCH_ALL_CONTACTS_SUCCESS:case v.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case v.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case v.CONTACTS_GROUP_FETCH_SUCCEEDED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.CHANGE_FOLDER_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.UNDO_MOVE_SUCCEEDED:case v.RECEIPTS_LIST_SUCCEEDED:case v.SENDER_ROLLUP_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.CONTACTS_GROUP_DELETE_REQUESTED:case v.CONTACTS_GROUP_DELETE_FAILED:{const s=t.listData,r=t.listId;return Object(x.kb)(e,s,r)}case v.CONTACTS_LIST_FETCH_SUCCEEDED:{const s=t.listData,r=t.listId,n=s.lists[r],a=n.itemIds,o=n.totalHits;return a.length<e.length&&e.length!==o?a:Object(x.kb)(e,s,r)}case v.READ_CHANGE_REQUESTED:case v.RECENT_AND_READ_CHANGE_REQUESTED:{const s=t.listToUpdate,r=t.itemsToUpdate,n=t.isRead;if(!s)return e;const a=s.listId,o=t.isOldNewMailStyle?Object(Xs.c)(r,a,n?"read":"unread"):Object(Xs.a)(r,a,n?[]:["unread"]);return o.length?e.filter(e=>-1===o.indexOf(e)):e}case v.STAR_CHANGE_REQUESTED:{const s=t.listToUpdate,r=t.itemsToUpdate,n=t.isStarred;if(!s)return e;const a=s.listId,o=Object(Xs.a)(r,a,n?["flagged","starred"]:[]);return o.length?e.filter(e=>-1===o.indexOf(e)):e}case v.V3_MESSAGE_SAVE_SUCCEEDED:{const s=t.itemsToUpdate,r=void 0===s?[]:s;return r.length?e.map(e=>{const t=r.find(t=>t.isAffected&&t.id===e);return t?t.newId:e}):e}case v.MOVE_AND_READ_CHANGE_REQUESTED:{const s=t.listToUpdate,r=t.itemsToUpdate,n=void 0===r?[]:r,a=t.isRead,o=t.conversationsMode,i=t.message,c=t.destinationListId;if(!s)return e;const l=s.listId,d=s.folderIds,E=void 0===d?[]:d,_=Object(Xs.b)(n,E),u=Object(Xs.c)(n,l,a?"read":"unread"),p=_.concat(u);let m=p.filter((e,t)=>p.indexOf(e)===t);m=n.reduce((e,{attachmentIds:t=[]})=>e.concat(t),m);const S=m.length?e.filter(e=>-1===m.indexOf(e)):e;if(s.listId===c&&i){const e=o?i.conversationId:i.id;return Object(x.b)(c,S,e)}return S}case v.DELETE_ITEMS_REQUESTED:case v.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case v.MOVE_ITEMS_REQUESTED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.V3_MESSAGE_SEND_SUCCEEDED:case v.SEND_SUCCESS:case v.UPDATE_ITEMS_FAILED:{const s=t.listToUpdate,r=t.itemsToUpdate,n=void 0===r?[]:r,a=t.conversationsMode,o=t.message;if(!s)return e;if(t.triageActionType===h.ye.DELETE_FOLDER_ITEMS&&n[0]){const t=n[0],r=t.listId;return t.isAffected&&r===s.listId?[]:e}const i=s.folderIds,c=void 0===i?[]:i;let l=Object(Xs.b)(n,c);l=n.reduce((e,{attachmentIds:t=[]})=>e.concat(t),l);const d=l.length?e.filter(e=>-1===l.indexOf(e)):e,E=Object(x.y)(t.destinationFolderId);if(s.listId===E&&o){const e=a?o.conversationId:o.id;return Object(x.b)(E,d,e)}return d}case v.OFFERS_LIST_SUCCEEDED:case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:return t.listData.lists[s].itemIds||[];case v.ACTIVATE_OFFER_SUCCEEDED:{const r=t.listData.lists[s].itemIds,n=Object(x.x)(s);return n===h.bc.RECOMMENDED_OFFER_CARDS?(null==r?void 0:r.length)?e.filter(e=>-1===r.indexOf(e)):e:n===h.bc.ACTIVATED_OFFER_CARDS?p()(e,r)?e:Object(x.c)(e,r):e}case v.DELETE_GROCERY_ITEMS_SUCCEEDED:{const r=t.listData.lists[s].itemIds,n=Object(x.x)(s);return n===h.bc.RECOMMENDED_OFFER_CARDS?p()(e,r)?e:Object(x.c)(e,r):n===h.bc.ACTIVATED_OFFER_CARDS&&(null==r?void 0:r.length)?e.filter(e=>-1===r.indexOf(e)):e}case v.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:{const s=t.tempGroupId,r=t.id;return e.map(e=>e===s?r:e)}case v.OPEN_PAGE_REQUESTED:{const s=t.listToUpdate,r=s.itemsToRemove,n=void 0===r?[]:r,a=s.itemsToAdd,o=void 0===a?[]:a;return(null==n?void 0:n.length)||(null==o?void 0:o.length)?e.filter(e=>-1===n.indexOf(e)).concat(o):e}default:return e}};var Mr=(e=null,t)=>{const s=t.listId;switch(t.type){case v.INITIAL_STATE:case v.CHANGE_FOLDER_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.UNDO_MOVE_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_COUPONS_SUCCESS:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.GIF_FETCH_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return void 0!==t.listData.lists[s].lmv3Query?t.listData.lists[s].lmv3Query:e;default:return e}};var yr=(e="",t)=>{const s=t.listId;switch(t.type){case v.INITIAL_STATE:case v.CHANGE_FOLDER_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.UNDO_MOVE_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.GIF_FETCH_SUCCEEDED:case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:return t.listData.lists[s].nextItemsUrl||"";default:return e}};var Lr=(e=0,t)=>{const s=t.listId;switch(t.type){case v.MORE_COUPONS_SUCCESS:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.OFFERS_LIST_SUCCEEDED:case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.GIF_FETCH_SUCCEEDED:case v.SENDER_ROLLUP_SUCCEEDED:case v.MORE_SENDER_ROLLUP_SUCCEEDED:case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:return t.listData.lists[s].offset||e;default:return e}};var Pr=(e=h.od.DOES_NOT_EXIST,t)=>{const s=t.listToUpdate,r=(void 0===s?{}:s).markAsDirty,n=void 0===r||r;switch(t.type){case v.INITIAL_STATE:return-1===[h.rd.FOLDER,h.rd.LIST,h.rd.SEARCH,h.rd.BASE].indexOf(t.route.name)?e:h.od.LOADED;case v.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case v.CONTACTS_GROUP_FETCH_SUCCEEDED:case v.GIF_FETCH_SUCCEEDED:case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case v.CHANGE_FOLDER_SUCCEEDED:case v.SENDER_ROLLUP_SUCCEEDED:case v.MORE_SENDER_ROLLUP_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.COUPONS_LIST_SUCCEEDED:case v.RECEIPTS_LIST_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.MORE_RECEIPTS_SUCCESS:case v.CONTACTS_LIST_FETCH_SUCCEEDED:case v.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case v.OFFERS_LIST_SUCCEEDED:case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:case v.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.FETCH_ALL_CONTACTS_SUCCESS:return h.od.LOADED;case v.GIF_FETCH_REQUESTED:case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED:return h.od.LOADING;case v.CREATE_CONTACT_SUCCEEDED:case v.CONTACT_SAVE_SUCCEEDED:case v.DELETE_CONTACT_REQUESTED:case v.CONTACTS_SORT_ORDER_CHANGED:return n?h.od.DIRTY:e;case v.CONTACTS_GROUP_FETCH_FAILED:case v.COUPONS_LIST_FAILED:case v.RECEIPTS_LIST_FAILED:case v.MORE_RECEIPTS_REQUEST_FAILED:case v.MORE_COUPONS_REQUEST_FAILED:case v.GIF_FETCH_FAILED:case v.CHANGE_FOLDER_FAILED:case v.SEARCH_LIST_ITEMS_FAILED:case v.TRAVEL_LIST_FAILED:case v.CONTACTS_LIST_FETCH_FAILED:case v.IMPORTANT_CONTACTS_FETCH_FAILED:case v.OFFERS_LIST_FAILED:case v.ACTIVATED_OFFERS_LIST_FAILED:case v.SUBSCRIPTION_LIST_FETCH_FAILED:case v.SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED:case v.FETCH_ALL_CONTACTS_FAILED:return h.od.ERROR;case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED:var a;return"EP-5020"===(null==t||null===(a=t.err)||void 0===a?void 0:a.errorCode)?h.od.DIRTY:h.od.ERROR;default:return e}};var vr=(e=[],t)=>{const s=t.listId;switch(t.type){case v.INITIAL_STATE:case v.CHANGE_FOLDER_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.UNDO_MOVE_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_COUPONS_SUCCESS:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.GIF_FETCH_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:{if(void 0===t.listData.lists[s].suggestedWords)return e;const r=t.listData.lists[s].suggestedWords,a=void 0===r?[]:r;return(n()(a,1)[0]||{}).suggested||e}default:return e}};var Fr=(e=null,t)=>{const s=t.listId;switch(t.type){case v.INITIAL_STATE:case v.CHANGE_FOLDER_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.UNDO_MOVE_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_COUPONS_SUCCESS:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.GIF_FETCH_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case v.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case v.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case v.CONTACTS_LIST_FETCH_SUCCEEDED:case v.FETCH_ALL_CONTACTS_SUCCESS:case v.CONTACTS_GROUP_FETCH_SUCCEEDED:case v.CONTACTS_GROUP_DELETE_REQUESTED:case v.CONTACTS_GROUP_DELETE_FAILED:return void 0!==t.listData.lists[s].totalHits?t.listData.lists[s].totalHits:e;case v.DELETE_CONTACT_REQUESTED:{const s=t.itemsToUpdate,r=t.listToUpdate;return e?e-s.filter(e=>e.isAffected&&(e.listId===r.listId||Object(x.x)(r.listId)===h.bc.PRINT_CONTACTS)).length:e}case v.CREATE_CONTACT_SUCCEEDED:return e?e+1:1;case v.CONTACT_SAVE_SUCCEEDED:{const s=t.itemsToUpdate,r=t.listToUpdate;let n=0;return s[0].listId!==s[0].oldListId&&(n=r.listId===s[0].listId?1:r.listId===s[0].oldListId?-1:0),e?e+n:1}default:return e}};function Ur(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function wr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ur(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ur(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Gr=Object(m.combineReducers)({itemIds:Nr,nextItemsUrl:yr,offset:Lr,hasMoreItems:br,status:Pr,lmv3Query:Mr,totalHits:Fr,suggestedWords:vr});var Hr=(e={},t)=>{switch(t.type){case v.INITIAL_STATE:case v.CHANGE_FOLDER_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.UNDO_MOVE_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.GIF_FETCH_SUCCEEDED:case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case v.COUPONS_LIST_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.COUPONS_ADD_TAG_DECO_REQUESTED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.CONTACTS_LIST_FETCH_SUCCEEDED:case v.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case v.CONTACTS_GROUP_FETCH_SUCCEEDED:case v.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case v.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case v.FETCH_ALL_CONTACTS_SUCCESS:case v.OFFERS_LIST_SUCCEEDED:case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:case v.DELETE_GROCERY_ITEMS_SUCCEEDED:case v.CONTACTS_GROUP_DELETE_REQUESTED:case v.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:case v.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:case v.SENDER_ROLLUP_SUCCEEDED:case v.MORE_SENDER_ROLLUP_SUCCEEDED:return wr({},e,{},Object.keys(t.listData.lists||{}).reduce((s,r)=>wr({},s,{[r]:Gr(e[r],wr({},t,{listId:r}))}),{}));case v.GIF_FETCH_FAILED:case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED:case v.COUPONS_LIST_FAILED:case v.MORE_COUPONS_REQUEST_FAILED:case v.RECEIPTS_LIST_FAILED:case v.MORE_RECEIPTS_REQUEST_FAILED:case v.CHANGE_FOLDER_FAILED:case v.CONTACTS_LIST_FETCH_FAILED:case v.FETCH_ALL_CONTACTS_FAILED:case v.CONTACTS_GROUP_DELETE_FAILED:case v.SEARCH_LIST_ITEMS_FAILED:case v.OFFERS_LIST_FAILED:case v.ACTIVATED_OFFERS_LIST_FAILED:{const s=t.listId;return wr({},e,{[s]:Gr(e[s],t)})}case v.DELETE_ITEMS_REQUESTED:case v.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case v.MOVE_ITEMS_REQUESTED:case v.MOVE_AND_READ_CHANGE_REQUESTED:case v.READ_CHANGE_REQUESTED:case v.RECENT_AND_READ_CHANGE_REQUESTED:case v.SEND_SUCCESS:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.STAR_CHANGE_REQUESTED:case v.COUPONS_REMOVE_TAG_DECO_REQUESTED:case v.DELETE_CONTACT_REQUESTED:case v.CREATE_CONTACT_SUCCEEDED:case v.CONTACT_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.V3_MESSAGE_SEND_SUCCEEDED:{const s=t.listsToUpdate,r=void 0===s?[]:s,n=t.itemsToUpdate,a=void 0===n?[]:n,o=t.listsToRemove,i=void 0===o?[]:o,c=t.autoRead;if(!r.length&&!i.length||!a.length||c)return e;let l=wr({},e,{},r.reduce((s,r)=>wr({},s,{[r.listId]:Gr(e[r.listId],wr({},t,{listToUpdate:r,itemsToUpdate:a}))}),{}));for(const e of i)l=st()(l,e);return l}case v.UPDATE_ITEMS_FAILED:{const s=t.listsToUpdate,r=void 0===s?[]:s,n=t.itemsToDelete,a=void 0===n?[]:n,o=t.listsToRemove,i=void 0===o?[]:o;if(!r.length&&!i.length||!a.length)return e;let c=wr({},e,{},r.reduce((s,r)=>wr({},s,{[r.listId]:Gr(e[r.listId],wr({},t,{listToUpdate:r,itemsToUpdate:a}))}),{}));for(const e of i)c=st()(c,e);return c}case v.COUPON_RECOMMENDATIONS_CLOSED:{const s=t.listId,r=void 0===s?"":s;return""===r?e:st()(e,r)}case v.CONTACTS_GROUP_DELETE_SUCCEEDED:{const s=t.groupId;if(!s)return e;const r=Object(x.k)(h.bc.GROUPS,s);return Object(N.g)(e,[r])}case v.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:{const s=t.newListId,r=t.tempListId,n=Object(N.e)(e,r,s),a=Object(x.k)(h.bc.GROUPS);return n[a]=Gr(e[a],wr({},t,{listId:a})),n}case v.CONTACTS_SORT_ORDER_CHANGED:case v.OPEN_PAGE_REQUESTED:{const s=t.listsToUpdate;if(null==s?void 0:s.length){return wr({},e,{},s.reduce((s,r)=>wr({},s,{[r.listId]:Gr(e[r.listId],wr({},t,{listToUpdate:r}))}),{}))}return e}case v.UPDATE_PREFERRED_STORE_SUCCEEDED:{const s=t.retailerId,r=wr({},e);return Object.keys(e).forEach(e=>{Object(x.B)(e)===s&&(r[e].status=h.od.LOADING)}),r}default:return e}};function jr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var kr=Object(m.combineReducers)({locationSuggestions:(e={},t)=>{switch(t.type){case v.LOCATION_SUGGEST_SUCCEEDED:return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?jr(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jr(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{[t.keyword]:t.suggestions});default:return e}},locationFetchStatus:(e={},t)=>{switch(t.type){case v.LOCATION_SUGGEST_REQUESTED:return{[t.keyword]:h.od.LOADING};case v.LOCATION_SUGGEST_SUCCEEDED:return{[t.keyword]:h.od.LOADED};case v.LOCATION_SUGGEST_FAILED:return{[t.keyword]:h.od.ERROR};default:return e}}});var xr=Object(m.combineReducers)({suggestions:function(e={},t){switch(t.type){case v.ALIAS_EMAIL_CREATE_REQUESTED:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:return{};case v.ALIAS_EMAIL_CREATE_FAILED:return t.suggestions?{[t.email]:t.suggestions}:e}return e},status:function(e={},t){switch(t.type){case v.ALIAS_EMAIL_CREATE_REQUESTED:return{[t.email]:h.od.LOADING};case v.ALIAS_EMAIL_CREATE_SUCCEEDED:return{[t.email]:h.od.LOADED};case v.ALIAS_EMAIL_CREATE_FAILED:return{[t.email]:h.od.ERROR}}return e}});function Br(e){return{getSuggestions:t=>e.suggestions[t],getStatus:t=>e.status[t]||h.od.DOES_NOT_EXIST}}var Vr=s(47);function Wr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Kr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Wr(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Wr(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const qr=Object(m.combineReducers)({id:(e=null,t)=>{const s=t.account;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return s.id}return e},email:(e=null,t)=>{const s=t.account,r=t.updatedProperties,n=void 0===r?{}:r;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return-1===[h.n.EXTERNAL,h.n.PHONE].indexOf(s.type)?s.email:"";case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const t=n.email;return void 0===t?e:t}}return e},description:(e=null,t)=>{const s=t.account,r=t.updatedProperties,n=void 0===r?{}:r;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return s.description||"";case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const t=n.description;return void 0===t?e:t}}return e},isPrimary:(e=!1,t)=>{const s=t.account,r=t.updatedProperties,n=void 0===r?{}:r;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return!!s.isPrimary;case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const t=n.isPrimary;return void 0===t?e:t}}return e},isSelected:(e=!1,t)=>{const s=t.account,r=t.updatedProperties,n=void 0===r?{}:r;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return!!s.isSelected;case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const t=n.isSelected;return void 0===t?e:t}}return e},isSending:(e=!1,t)=>{const s=t.account,r=t.isSending,n=t.accountType;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return s.isSending;case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:if(void 0!==r)return Vr.h({type:n})?e:r}return e},signatureActive:(e=!1,t)=>{const s=t.account,r=t.updatedProperties,n=void 0===r?{}:r;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:case v.SIGNATURE_STATUS_CHANGE_REQUESTED:return!!s.signatureActive;case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const t=n.signatureActive;return void 0===t?e:t}}return e},signature:(e="",t)=>{const s=t.account,r=t.updatedProperties,n=void 0===r?{}:r,a=t.updatedAccount;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return s.signature||"";case v.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:return void 0!==n.signature?n.signature:a&&void 0!==a.signature?a.signature:e;case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const t=n.signature;return void 0===t?e:t}}return e},sendingName:(e=null,t)=>{const s=t.account,r=t.updatedProperties,n=void 0===r?{}:r;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return s.sendingName||t.primaryAccountSendingName||"";case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const t=n.sendingName;return void 0===t?e:t}}return e},status:(e=null,t)=>{const s=t.account,r=t.status,n=t.updatedProperties,a=void 0===n?{}:n;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return s.status;case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const t=a.status;return void 0===t?e:t}case v.ACCOUNT_DELETE_REQUESTED:return e===r?e:r}return e},type:(e=null,t)=>{const s=t.account,r=t.updatedProperties,n=void 0===r?{}:r;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return s.type||"";case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const t=n.type;return void 0===t?e:t}}return e},authType:(e=null,t)=>{const s=t.account;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return s.authType||h.k.NONE}return e},partnerCode:(e=null,t)=>{const s=t.account;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return s.partnerCode||""}return e},replyToAddress:(e=null,t)=>{const s=t.account,r=t.updatedProperties,n=void 0===r?{}:r;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return s.replyToAddress||"";case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const t=n.replyToAddress;return void 0===t?e:t}}return e},isActive:(e=!1,t)=>{const s=t.account;switch(t.type){case v.INITIAL_STATE:return s.isPrimary;default:return e}},accountVerified:(e=!1,t)=>{const s=t.account;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return s.accountVerified}return e},isSynced:(e=!0,t)=>{switch(t.type){case v.ACCOUNT_ADD_SUCCEEDED:case v.ACCOUNT_ADD_FINISHED:return!0;case v.ACCOUNT_ADD_FAILED:return!1;default:return e}},subscriptionId:(e=null,t)=>{const s=t.account;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return s.subscriptionId||e;default:return e}},link:(e={},t)=>{const s=t.account,r=t.updatedProperties,n=void 0===r?{}:r;switch(t.type){case v.INITIAL_STATE:case v.ACCOUNT_ADD_SUCCEEDED:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:return s.link||{};case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const t=n.link;return void 0===t?e:t}default:return e}},serverUri:(e="",t)=>{const s=t.account;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return s.serverUri||""}return e},forwardEmail:(e="",t)=>{const s=t.account,r=void 0===s?{}:s,n=t.updatedProperties,a=void 0===n?{}:n,o=a.unsetFields,i=void 0===o?[]:o,c=r.forwardEmail,l=void 0===c?"":c;switch(t.type){case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:if(-1!==i.indexOf("forwardEmail"))return"";break;case v.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:if(a.hasOwnProperty("forwardEmail"))return r.forwardEmail;break;case v.INITIAL_STATE:return l}return e},forwardEmailVerified:(e=!1,t)=>{const s=t.account,r=void 0===s?{}:s,n=t.updatedProperties,a=void 0===n?{}:n,o=a.unsetFields,i=void 0===o?[]:o,c=r.forwardEmailVerified,l=void 0!==c&&c;switch(t.type){case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:if(-1!==i.indexOf("forwardEmail"))return!1;break;case v.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:if(a.hasOwnProperty("forwardEmailVerified"))return r.forwardEmailVerified;break;case v.INITIAL_STATE:return l}return e},createTime:(e="",t)=>{const s=t.account,r=void 0===s?{}:s;switch(t.type){case v.INITIAL_STATE:return r.createTime;case v.ACCOUNT_ADD_SUCCEEDED:return Date.now()/1e3}return e},linkedAccounts:(e=[],t)=>{const s=t.account,r=void 0===s?{}:s;switch(t.type){case v.INITIAL_STATE:case v.ACCOUNT_ADD_SUCCEEDED:return r.linkedAccounts||e}return e},showForwardReviewAlert:(e=!1,t)=>{const s=t.updatedProperties;switch(t.type){case v.REVIEW_FORWARD_EMAIL:return s.showForwardReviewAlert}return e},folderPrefix:(e="",t)=>{const s=t.account;switch(t.type){case v.INITIAL_STATE:case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ACCOUNT_ADD_SUCCEEDED:return!s.isPrimary&&s.folderPrefix?s.folderPrefix:e}return e}});var Yr=(e={},t)=>{switch(t.type){case v.INITIAL_STATE:{const s=t.accounts,r=void 0===s?[]:s;return r.length?r.reduce((e,s)=>(e[s.id]=qr({},Kr({},t,{account:s})),e),{}):e}case v.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:case v.SIGNATURE_STATUS_CHANGE_REQUESTED:case v.ACCOUNT_ADD_SUCCEEDED:case v.ACCOUNT_ADD_FAILED:{const s=t.updatedAccount;return s?Kr({},e,{[s.id]:qr(e[s.id],Kr({},t,{account:s}))}):e}case v.REVIEW_FORWARD_EMAIL:{const s=t.accountId;return t.updatedProperties?Kr({},e,{[s]:qr(e[s],t)}):e}case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const s=t.accountId,r=t.updatedProperties;return r&&r.isSending&&1===Object.keys(r).length?Object.keys(e).reduce((r,n)=>Kr({},r,{[n]:qr(e[n],Kr({},t,{isSending:n===s,accountType:e[n].type}))}),{}):r?Kr({},e,{[s]:qr(e[s],t)}):e}case v.ALIAS_EMAIL_CREATE_SUCCEEDED:{const s=t.newAccount;return s?Kr({},e,{[s.id]:qr(e[s.id],Kr({},t,{account:s}))}):e}case v.ACCOUNT_DELETE_SUCCEEDED:{const s=t.updatedAccount;return s?st()(e,[s.id]):e}case v.ACCOUNT_ADD_FINISHED:return Object.keys(e).reduce((s,r)=>Kr({},s,{[r]:qr(e[r],t)}),{});case v.ACCOUNT_DELETE_REQUESTED:{const s=t.accountId;if(!s)return e;const r=Object.keys(e).map(t=>e[t]).filter(e=>e.type===h.n.ALIAS),n=Kr({},e[s]||r.find(e=>e.id===s),{status:h.m.DELETE_IN_PROGRESS});return n.type===h.n.DEA?st()(e,[n.id]):Kr({},e,{[n.id]:qr(e[n.id],Kr({},t,{account:n,status:h.m.DELETE_IN_PROGRESS}))})}default:return e}};function zr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Qr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?zr(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zr(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Zr=4002,Xr=4003;var $r=Object(m.combineReducers)({id:(e=null,t)=>{switch(t.type){case v.INITIAL_STATE:return t.selectedMailbox.id}return e},allMailboxes:(e=null,t)=>{switch(t.type){case v.INITIAL_STATE:return[t.selectedMailbox]}return e},accounts:Yr,aliasSuggestion:xr,socialAccountsStatus:(e={},t)=>{switch(t.type){case v.CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED:case v.SOCIAL_ACCOUNTS_STATUS_RECEIVED:return Qr({},e,{},t.response);case v.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED:return Qr({},e,{[t.provider]:{status:h.Wd.NOT_CONNECTED}});case v.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED:case v.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED:{const s=t.provider,r=t.enable,n=void 0===r||r,a=h.Z.indexOf(s)>-1;if(!h.Y[s]&&!a)return e;let o=h.Wd.NOT_CONNECTED;return n&&(o=a?h.Wd.QUEUED:h.Wd.CONNECTED),Qr({},e,{[s]:{status:o}})}default:return e}},enhanceContactsPreference:(e=!0,t)=>{switch(t.type){case v.SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED:case v.SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED:return t.enabled;default:return e}},deaBaseName:(e={deaDomain:"",deaPrefix:""},t)=>{switch(t.type){case v.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:{const s=t.features,r=(void 0===s?{}:s)[h.xc.DEA_BASE_NAME];return void 0!==r?r:e}case v.INITIAL_STATE:{const s=t.mailboxAttributes,r=((void 0===s?{}:s).responses||{})[h.xc.DEA_BASE_NAME];return void 0!==r?r:e}case v.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:return{deaPrefix:t.baseName,deaDomain:t.domain};default:return e}},baseNameSuggestions:(e=[],t)=>{switch(t.type){case v.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_DELETE:case v.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED:case v.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:return[];case v.INITIAL_STATE:case v.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED:{const e=t.suggestions;return void 0===e?[]:e}default:return e}},recentlyAddedAccount:(e=null,t)=>{switch(t.type){case v.ACCOUNT_ADD_SUCCEEDED:return t.updatedAccount.id;case v.ACCOUNT_ADD_FINISHED:return null;default:return e}},accountAlerts:(e=[],t)=>{const s=t.accountAlerts,r=void 0===s?[]:s;switch(t.type){case v.INITIAL_STATE:case v.ACCOUNT_REAUTH_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.POST_LAUNCH_SYNC_SUCCEEDED:return r&&r.length>0?r:e;default:return e}},mailboxSize:(e=0,t)=>{switch(t.type){case v.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:{const s=t.features;return(void 0===s?{}:s)[h.xc.MAILBOX_SIZE]||e}case v.INITIAL_STATE:{const s=t.mailboxAttributes;return((void 0===s?{}:s).responses||{})[h.xc.MAILBOX_SIZE]||e}default:return e}}});function Jr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function en(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Jr(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Jr(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const tn=/<img .*\/?>/i,sn=/<a\s.?/im,rn=Object(m.combineReducers)({body:function(e={},t){const s=t.messageId,r=t.v3MessageBodiesMap;switch(t.type){case v.INITIAL_STATE:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return r[s].body||{};default:return e}},status:function(e=h.od.DOES_NOT_EXIST,t){const s=t.errorMessageIds,r=void 0===s?[]:s;switch(t.type){case v.INITIAL_STATE:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return-1===r.indexOf(t.messageId)?h.od.LOADED:h.od.ERROR;case v.PREVIEW_MESSAGE_REQUESTED:case v.MESSAGE_BODIES_REQUESTED:case v.OPEN_PAGE_REQUESTED:return e===h.od.LOADED?h.od.LOADED:h.od.DOES_NOT_EXIST;case v.MESSAGE_BODIES_FAILED:return h.od.ERROR;default:return e}},isSecure:function(e=!1,t){switch(t.type){case v.INITIAL_STATE:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return!1;case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case v.MESSAGE_BODIES_REQUESTED:return!!t.secure;default:return e}},hasFullBody:function(e=!1,t){const s=t.messageId,r=t.full,n=t.v3MessageBodiesMap;switch(t.type){case v.INITIAL_STATE:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return!0;case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case v.MESSAGE_BODIES_REQUESTED:{const e=n[s].body,t=(void 0===e?{}:e).htmlAnnotations;return!r&&t?!t.some(({type:e})=>"quoted"===e):!!r}default:return e}},retryCount:function(e=0,t){switch(t.type){case v.MESSAGE_BODIES_FAILED:return Math.min(h.pc+1,e+1);default:return e}}});var nn=function(e={},t){switch(t.type){case v.INITIAL_STATE:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case v.OPEN_PAGE_REQUESTED:case v.MESSAGE_BODIES_REQUESTED:case v.PREVIEW_MESSAGE_REQUESTED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.MESSAGE_BODIES_FAILED:{var s;const r=Object.keys(t.v3MessageBodiesMap||{});if(!r.length)return e;const n=r.reduce((s,r)=>en({},s,{[r]:rn(e[r],en({},t,{messageId:r}))}),{}),a=(null===(s=t.statesToRemove)||void 0===s?void 0:s.messageBodiesToRemove)||[];return a.length>0?st()(en({},e,{},n),a):en({},e,{},n)}case v.FETCH_RAW_MESSAGE_SUCCEEDED:{const s=t.messageId,r=t.rawMessage;return e[s]&&e[s].body?en({},e,{[s]:en({},e[s],{body:en({},e[s].body,{rawMessage:r})})}):e}case v.SETTINGS_CHANGE_REQUESTED:if(t.name===h.Kd.SHOW_IMAGES){if(!0===t.value){const t=Object.keys(e).reduce((t,s)=>e[s].body.htmlAnnotations.some(({type:e})=>"blocked"===e)?en({},t):en({},t,{[s]:e[s]}),{});return en({},t)}return{}}return e;default:return e}};function an(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function on(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?an(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):an(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function cn(e){return on({flagged:!1,ham:!1,recent:!1,read:!1},e)}function ln(e){const t=e.isRead,s=e.isStarred;switch(e.type){case v.READ_CHANGE_REQUESTED:case v.MOVE_AND_READ_CHANGE_REQUESTED:case v.UNDO_MOVE_AND_READ_REQUESTED:return{read:!t};case v.STAR_CHANGE_REQUESTED:return{flagged:!s};case v.RECENT_AND_READ_CHANGE_REQUESTED:return{recent:!1,read:!0}}return{}}var dn=function(e={},t){const s=t.listData,r=void 0===s?{}:s,n=t.type,a=t.itemsToUpdate,o=t.messageMetadataMap,i=void 0===o?{}:o,c=-1!==[v.V3_MESSAGE_SAVE_SUCCEEDED].indexOf(n),l=-1!==[v.EXTRACT_COUPON_SUCCEEDED].indexOf(n),d=-1!==[v.CHECK_MAIL_RECEIVED_WITH_UPDATES].indexOf(n);switch(n){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!r.messages)return e;const t=Object.keys(r.messages).filter(t=>c||d||l?!p()(e[t],cn(r.messages[t].flags)):!e[t]).reduce((e,t)=>on({},e,{[t]:cn(r.messages[t].flags)}),{});return Object.keys(t).length?on({},e,{},t):e}case v.V3_MESSAGE_SEND_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:{const t=on({},Object.keys(r.messages||[]).reduce((e,t)=>on({},e,{[t]:cn(r.messages[t].flags)}),{}),{},(a||[]).reduce((e,{messageId:t,flags:s})=>on({},e,{[t]:cn(s)}),{}));if(t){const s=Object.keys(t).filter(s=>!p()(e[s],t[s])).reduce((e,s)=>on({},e,{[s]:cn(t[s])}),{});return Object.keys(s).length?on({},e,{},s):e}return e}case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_BODIES_RECEIVED:{const t=Object.keys(i);if(!t.length)return e;const s=t.map(t=>({[t]:e[t]})),n=Object.keys(r.messages||[]).reduce((t,s)=>{const n=r.messages[s].decos;return on({},t,{[s]:n&&n.some(e=>e&&e.id===h.Cc.CRD)?cn(r.messages[s].flags):e[s]})},{});return on({},e,{},Object.assign({},...s,n))}case v.UNDO_MOVE_AND_READ_REQUESTED:case v.MOVE_AND_READ_CHANGE_REQUESTED:case v.RECENT_AND_READ_CHANGE_REQUESTED:case v.READ_CHANGE_REQUESTED:case v.STAR_CHANGE_REQUESTED:{const s=a.filter(e=>e.isAffected).reduce((s,r)=>on({},s,{[r.messageId]:on({},e[r.messageId],{},ln(t))}),{});return Object.keys(s).length?on({},e,{},s):e}case v.MOVE_ITEMS_REQUESTED:{const t=a.filter(e=>e.isAffected).reduce((t,s)=>{const r=on({},e[s.messageId]);return(s.isSpamMove||s.isHamMove)&&(r.spam=s.isSpamMove,r.ham=s.isHamMove),on({},t,{[s.messageId]:r})},{});return Object.keys(t).length?on({},e,{},t):e}default:return e}};function En(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function _n(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?En(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):En(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var un=function(e={},t){const s=t.listData,r=void 0===s?{}:s,n=t.type,a=t.message,o=void 0===a?{}:a,i=t.itemsToUpdate,c=t.messageMetadataMap,l=void 0===c?{}:c,d=-1!==[v.MESSAGE_AUTO_SAVE_SUCCEEDED,v.MESSAGE_SAVE_SUCCEEDED].indexOf(n),E=-1!==[v.CHECK_MAIL_RECEIVED_WITH_UPDATES].indexOf(n),_=-1!==[v.EXTRACT_COUPON_SUCCEEDED].indexOf(n),u=-1!==[v.CHANGE_FOLDER_SUCCEEDED].indexOf(n);switch(n){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.MORE_COUPONS_SUCCESS:case v.COUPONS_LIST_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!r.messages)return e;const t=Object.keys(r.messages).filter(t=>{const s=r.messages[t];return d||E||_?!p()(e[t],s):u?!e[t]||e[t]!==s.folder.id:!e[t]}).reduce((e,t)=>_n({},e,{[t]:r.messages[t].folder.id}),{});return Object.keys(t).length?_n({},e,{},t):e}case v.V3_MESSAGE_SEND_SUCCEEDED:return o.id&&o.folder&&o.folder.id?_n({},e,{[o.id]:o.folder.id}):e;case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_BODIES_RECEIVED:{const t=Object.keys(l);if(!t.length)return e;const s=t.map(t=>({[t]:e[t]})),n=Object.keys(r.messages||[]).reduce((t,s)=>{const n=r.messages[s].decos,a=n&&n.some(e=>e&&e.id===h.Cc.CRD);return t[s]=a?r.messages[s].folder.id:e[s],t},{});return _n({},e,{},Object.assign({},...s,n))}case v.UNDO_MOVE_AND_READ_REQUESTED:case v.UNDO_MOVE_REQUESTED:case v.DELETE_ITEMS_REQUESTED:case v.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case v.MOVE_ITEMS_REQUESTED:case v.MOVE_AND_READ_CHANGE_REQUESTED:{const t=i.filter(e=>e.isAffected),s=t.filter(e=>!e.destinationFolder).map(e=>e.messageId),r=t.reduce((t,s)=>_n({},t,{[s.messageId]:s.destinationFolder?s.destinationFolder.id:e[s.messageId]}),{});return Object.keys(r).length||s.length?st()(_n({},e,{},r),s):e}case v.UPDATE_ITEMS_FAILED:{const s=t.itemsToDelete,r=(void 0===s?[]:s).map(e=>e.messageId);return r.length?st()(e,r):e}default:return e}};const pn=(e,t,s)=>{Object.keys(e).forEach(r=>{const n=e[r].filter(e=>e!==s.messageId);0!==n.length&&(t[r]=n)})},mn=(e,t)=>{const s={};return pn(e,s,t),t.destinationFolder?(-1!==t.destinationFolder.types.indexOf(h.Mb.TRASH)&&(s[h.Dc.TRASH]||(s[h.Dc.TRASH]=[]),s[h.Dc.TRASH].push(t.messageId)),-1!==t.destinationFolder.types.indexOf(h.Mb.BULK)&&(s[h.Dc.BULK]||(s[h.Dc.BULK]=[]),s[h.Dc.BULK].push(t.messageId)),s):s};function Sn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function hn(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Sn(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Sn(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Cn=(e={},t)=>{const s=t.messageGroup,r=void 0===s?{}:s,n=t.itemToUpdate,a=void 0===n?{}:n,o=t.folders,i=t.listId;switch(t.type){case v.INITIAL_STATE:{let e=h.Dc.DEFAULT;const t=Object(x.q)(i),s=o.find(e=>e.folder.id===t),n=s?Object(j.n)(s.folder):"";return n===h.Mb.TRASH?e=h.Dc.TRASH:n===h.Mb.BULK&&(e=h.Dc.BULK),{[e]:r[h.Dc.DEFAULT]}}case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:return p()(r,e)?e:hn({},e,{},r);case v.DELETE_ITEMS_REQUESTED:case v.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case v.UPDATE_ITEMS_FAILED:return a.isAffected?mn(e,a):e;case v.MOVE_ITEMS_REQUESTED:case v.MOVE_AND_READ_CHANGE_REQUESTED:return a.isAffected?((e,t)=>{if(!t.destinationFolder||-1!==t.destinationFolder.types.indexOf(h.Mb.TRASH)||-1!==t.destinationFolder.types.indexOf(h.Mb.BULK))return mn(e,t);if(-1!==t.folder.types.indexOf(h.Mb.TRASH)||-1!==t.folder.types.indexOf(h.Mb.BULK)){const s={};return pn(e,s,t),s[h.Dc.DEFAULT]||(s[h.Dc.DEFAULT]=[]),s[h.Dc.DEFAULT].push(t.messageId),s}return e})(e,a):e;default:return e}};var gn=function(e={},t){const s=t.type,r=t.listData,n=void 0===r?{}:r,a=t.itemsToUpdate,o=t.folders,i=void 0===o?{}:o,c=t.listId;switch(s){case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.INITIAL_STATE:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:{const t=n.groupIdToMessageIdsMap;if(!t)return e;const r=Object.keys(t).filter(s=>!p()(t[s],e[s])).reduce((r,n)=>hn({},r,{[n]:Cn(e[n],{type:s,messageGroup:t[n],folders:i,listId:c})}),{});return Object.keys(r).length?hn({},e,{},r):e}case v.MOVE_ITEMS_REQUESTED:case v.MOVE_AND_READ_CHANGE_REQUESTED:case v.DELETE_ITEMS_REQUESTED:case v.BLOCK_SENDERS_WITH_DELETE_REQUESTED:return a.length?a.reduce((e,t)=>{const r=t.groupId,n=r?Cn(e[r],{type:s,itemToUpdate:t}):{};return Object.keys(n).length?hn({},e,{[r]:n}):st()(e,[r])},hn({},e)):e;case v.UPDATE_ITEMS_FAILED:{const r=t.itemsToDelete,n=void 0===r?[]:r;return n.length?n.reduce((e,t)=>{const r=t.groupId,n=r?Cn(e[r],{type:s,itemToUpdate:t}):{};return Object.keys(n).length?hn({},e,{[r]:n}):st()(e,[r])},hn({},e)):e}default:return e}};const On=Object(S.createSelector)(e=>e,(e={})=>{const t=()=>Object.keys(e).reduce((t,s)=>{const r=e[s]||{};return Object.keys(r).forEach(e=>{const n=r[e]||[];(Array.isArray(n)?n:[]).forEach(e=>t[e]=s)}),t},{}),s=t=>{const s=e[t]||{};return Object.keys(s).reduce((e,t)=>[...e,...s[t]],[])||[]};return hn({},{doesMessageGroupIdExist:t=>!!e[t],getAllMessageIdsFromMessageGroupId:s,doesMessageGroupIdExistInList:(t,s)=>!!e[t]&&!!e[t][s],getMessageIdsFromMessageGroupIdForMessageGroupFolderType:(t,r)=>r?(e[t]||{})[r]||[]:s(t),getMessageIdToGroupIdMap:t,getGroupIdContainingMessageId:e=>t()[e]})});var Tn=s(92);function An(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function In(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?An(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):An(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const fn=Object(m.combineReducers)({replyTo:(e=[],t)=>{const s=t.replyTo;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MORE_RECEIPTS_SUCCESS:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.PARENT_MESSAGE_METADATA_SUCCEEDED:case v.RECEIPTS_LIST_SUCCEEDED:return p()(e,s)?e:s||e;default:return e}},from:(e=[],t)=>{const s=t.message;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_BODIES_RECEIVED:case v.PARENT_MESSAGE_METADATA_SUCCEEDED:return p()(e,s.headers.from)?e:s.headers.from;default:return e}},to:(e=[],t)=>{const s=t.message;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return p()(e,s.headers.to)?e:s.headers.to;default:return e}},cc:(e=[],t)=>{const s=t.message;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return p()(e,s.headers.cc)?e:s.headers.cc;default:return e}},bcc:(e=[],t)=>{const s=t.message;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return p()(e,s.headers.bcc)?e:s.headers.bcc;default:return e}},date:(e=null,t)=>{const s=t.message,r=t.isCard;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.PARENT_MESSAGE_METADATA_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.headers.date?s.headers.date:e;case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return r&&s.headers.date?s.headers.date:e;default:return e}},messageIdRfc822:(e="",t)=>{const s=t.message,r=t.isCard;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.PARENT_MESSAGE_METADATA_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.headers.messageIdRfc822?s.headers.messageIdRfc822:e;case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return r&&s.headers.messageIdRfc822?s.headers.messageIdRfc822:e;default:return e}}}),Dn=Object(m.combineReducers)({messageId:(e="",t)=>{const s=t.message,r=void 0===s?{}:s;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.PARENT_MESSAGE_METADATA_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return r.id||e;default:return e}},csid:(e="",t)=>{const s=t.message,r=t.isCard;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.PARENT_MESSAGE_METADATA_SUCCEEDED:case v.RECEIPTS_LIST_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:return!e&&s.csid?s.csid||"":e;case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return!e&&s.csid&&r?s.csid||"":e;default:return e}},conversationId:(e="",t)=>{const s=t.message,r=t.isCard;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.PARENT_MESSAGE_METADATA_SUCCEEDED:return s.conversationId?s.conversationId:e;case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return r&&s.conversationId?s.conversationId:e;default:return e}},cardConversationId:(e="",t)=>{const s=t.message,r=void 0===s?{}:s;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.PARENT_MESSAGE_METADATA_SUCCEEDED:case v.EXTRACT_COUPON_SUCCEEDED:return r.cardConversationId?r.cardConversationId:e;default:return e}},decos:(e=[],t)=>{const s=t.message,r=void 0===s?{}:s;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.PARENT_MESSAGE_METADATA_SUCCEEDED:case v.RECEIPTS_LIST_SUCCEEDED:return r.decos?r.decos:e;case v.PHISHING_REMOVE_BDM_DECO_REQUESTED:return e.filter(e=>e.id!==h.Cc.BDM);default:return e}},inReplyTo:(e={},t)=>{const s=t.message;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return p()(e,s.replyTo)?e:s.inReplyTo||{};default:return e}},classification:(e="",t)=>{const s=t.message,r=t.isCard;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.PARENT_MESSAGE_METADATA_SUCCEEDED:case v.RECEIPTS_LIST_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return s.classification?s.classification:e;case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return r&&s.classification?s.classification:e;default:return e}},verifiedDomains:(e=[],t)=>{const s=t.message;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:return p()(e,s.verifiedDomains)?e:s.verifiedDomains||[];default:return e}},headers:fn,folderOfDelivery:(e="",t)=>{const s=t.message,r=t.isCard;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.PARENT_MESSAGE_METADATA_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return s.folderOfDelivery?s.folderOfDelivery:e;case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return r&&s.folderOfDelivery?s.folderOfDelivery:e;default:return e}},downloadAllUrl:(e="",t)=>{const s=t.message,r=void 0===s?{}:s;return r.downloadAllUrl&&e!==r.downloadAllUrl?r.downloadAllUrl:e},shouldNudgeToReply:(e=!1,t)=>{switch(t.type){case v.CHECK_REPLY_NUDGE_SUCCEEDED:return!0;default:return e}},spame:(e="",t)=>{const s=t.message,r=void 0===s?{}:s;switch(t.type){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.PARENT_MESSAGE_METADATA_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return r.spame||e;default:return e}},modSeq:(e=null,t)=>{const s=t.message,r=void 0===s?{}:s;return r.modSeq?r.modSeq:e}});var Rn=function(e={},t){const s=t.listData,r=void 0===s?{}:s,n=t.type,a=t.messageMetadataMap,o=void 0===a?{}:a,i=-1!==[v.MESSAGE_AUTO_SAVE_SUCCEEDED,v.MESSAGE_SAVE_SUCCEEDED].indexOf(n),c=-1!==[v.CHECK_MAIL_RECEIVED_WITH_UPDATES].indexOf(n),l=-1!==[v.EXTRACT_COUPON_SUCCEEDED].indexOf(n);switch(n){case v.INITIAL_STATE:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.PARENT_MESSAGE_METADATA_SUCCEEDED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.CHANGE_FOLDER_SUCCEEDED:case v.UNDO_MOVE_SUCCEEDED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.EXTRACT_COUPON_SUCCEEDED:case v.MORE_RECEIPTS_SUCCESS:case v.RECEIPTS_LIST_SUCCEEDED:case v.TRAVEL_LIST_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!r.messages)return e;const s=Object.keys(r.messages).filter(t=>i||c||l?!p()(e[t],r.messages[t]):!e[t]).reduce((s,a)=>In({},s,{[a]:Dn(e[a],In({type:n,message:r.messages[a],draftFolderId:t.draftFolderId,date:t.date,replyTo:o[a]?o[a].headers.replyTo:void 0},n===v.V3_MESSAGE_SAVE_SUCCEEDED?{draftMessage:t.message}:{}))}),{});return Object.keys(s).length?In({},e,{},s):e}case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_BODIES_RECEIVED:{const t=Object.keys(o);if(!t.length)return e;const s=t.map(t=>({[t]:Dn(e[t],{type:n,message:o[t],replyTo:o[t].headers.replyTo})})),a=Object.keys(r.messages||[]).reduce((t,s)=>{const a=r.messages[s].decos,o=a&&a.some(e=>e&&e.id===h.Cc.CRD);return In({},t,{[s]:Dn(e[s],{type:n,message:r.messages[s],replyTo:r.messages[s].headers.replyTo,isCard:o})})},{});return In({},e,{},Object.assign({},...s,a))}case v.CHECK_REPLY_NUDGE_SUCCEEDED:{const s=t.predictionList,r=(void 0===s?[]:s).reduce((t,s)=>{var r;return e[null==s||null===(r=s.message)||void 0===r?void 0:r.id]?In({},t,{[s.message.id]:Dn(e[s.message.id],{type:n})}):t},{});return Object.keys(r).length?In({},e,{},r):e}case v.PHISHING_REMOVE_BDM_DECO_REQUESTED:{const s=Object.keys(e).reduce((s,r)=>(r===t.messageId&&(s[r]=Dn(e[r],In({},t))),s),{});return In({},e,{},s)}default:return e}};const bn=(e={})=>({doesMessageIdExist:t=>!!e[t],getConversationId:t=>e[t].conversationId,getCardConversationId:t=>e[t].cardConversationId,getDecos:t=>e[t]&&e[t].decos,isCoupon:t=>e[t].decos&&e[t].decos.some(e=>e&&e.id===h.Cc.CPN),hasPhishingDeco:t=>t&&e[t].decos&&e[t].decos.some(e=>e&&e.id===h.Cc.BDM),getCsid:t=>e[t].csid,getClassification:t=>e[t].classification,getMessageId:t=>e[t].messageId,__getMessage:t=>e[t],isOfficialDomain:t=>{const s=e[t].verifiedDomains,r=void 0===s?[]:s;return!!r.length&&(Object(Tn.c)(r)||r.some(({domain:e})=>h.Uc.indexOf(e)>=0))},isCertifiedDomain:t=>{const s=e[t].verifiedDomains,r=void 0===s?[]:s;return!!r.length&&r.some(({domain:e})=>h.O.indexOf(e)>=0)},getTimeStamp:t=>e[t].headers.date,getFromAddresses:t=>e[t].headers.from,getToAddresses:t=>e[t].headers.to,getCcAddresses:t=>e[t].headers.cc,getBccAddresses:t=>e[t].headers.bcc,getReplyToAddresses:t=>e[t].headers.replyTo,getDate:t=>e[t].headers.date,getMessageIdRfc822:t=>e[t].headers.messageIdRfc822,getImmutableId:t=>e[t].immutableid,shouldNudgeToReply:t=>!!e[t].shouldNudgeToReply,isMarkedAsSpam:t=>"N"===e[t].spame,getFolderOfDelivery:t=>e[t].folderOfDelivery,findMessageIdsForConversationId:t=>Object.keys(e).filter(s=>e[s].conversationId===t),getParentConversationIdForCardConversationId:t=>{const s=bn(e).getParentMessageIdForCardConversationId(t);return s?e[s].conversationId:""},getParentMessageIdForCardConversationId:t=>Object.keys(e).find(s=>e[s].cardConversationId===t&&e[s].decos.some(({id:e})=>e===h.Cc.EML)),getDownloadAllUrl:t=>e[t]?e[t].downloadAllUrl:"",__get__:t=>e[t],getMessagesCount:()=>Object.keys(e).length,getModSeq:t=>e[t].modSeq});function Nn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Mn(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Nn(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Nn(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var yn=function(e={},t){const s=t.listData,r=void 0===s?{}:s;switch(t.type){case v.INITIAL_STATE:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.UNDO_MOVE_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:case v.CHANGE_FOLDER_SUCCEEDED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:{const t=r.attachmentIdToMessageIdMap,s=void 0===t?{}:t;return Object.keys(s).length?Mn({},e,{},s):e}default:return e}};const Ln=[],Pn=Object(S.createSelector)(e=>e,(e={})=>{const t=Object.keys(e).reduce((t,s)=>{const r=e[s];return Mn({},t,{[r]:(t[r]||[]).concat(s)})},{});return{attachmentsByMessageId:e=>t[e]||Ln,getMessageIdForAttachmentId:t=>e[t]}});function vn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Fn(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?vn(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vn(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Un=Object(m.combineReducers)({activated:(e=!1,t)=>{const s=t.offer,r=(void 0===s?{}:s).activated,n=void 0!==r&&r;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:case v.DELETE_GROCERY_ITEMS_SUCCEEDED:return n;default:return e}},amountUnit:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.amountUnit||e;default:return e}},brandName:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.brandName||e;default:return e}},cardId:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.cardId||e;default:return e}},categories:(e=[],t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.categories||e;default:return e}},changeQuantityStatus:(e="",t)=>{switch(t.type){case v.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:return"LOADED";case v.CHANGE_GROCERY_ITEMS_QUANTITY_REQUESTED:return"LOADING";default:return e}},description:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.description||e;default:return e}},discountType:(e=h.kd.AMOUNT,t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.discountType||e;default:return e}},eligibleUnitText:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.eligibleUnitText||e;default:return e}},expiryTimestamp:(e=0,t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.expiryTimestamp||e;default:return e}},highResImgUrl:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.highResImgUrl||e;default:return e}},imageUrl:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.imageUrl||e;default:return e}},ingredients:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.ingredients||e;default:return e}},maxQuantity:(e=1,t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.maxQuantity||e;default:return e}},offerId:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.offerId;default:return e}},quantity:(e=1,t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:case v.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:return s.quantity||e;case v.DELETE_GROCERY_ITEMS_SUCCEEDED:return 1;default:return e}},scoreValue:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.scoreValue||e;default:return e}},servingSize:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.servingSize||e;default:return e}},shortDescription:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.shortDescription||e;default:return e}},specialFeatures:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.specialFeatures||e;default:return e}},unitPriceDisplay:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.unitPriceDisplay||e;default:return e}},value:(e="",t)=>{const s=t.offer;switch(t.type){case v.OFFERS_LIST_SUCCEEDED:return s.value||e;default:return e}}});var wn=function(e={},{type:t,offers:s,items:r}){switch(t){case v.OFFERS_LIST_SUCCEEDED:{const r=(s||[]).filter(t=>!p()(e[t.offerId],t));return r.length?r.reduce((e,s)=>Fn({},e,{[s.offerId]:Un(e[s.offerId],{type:t,offer:s})}),Fn({},e)):e}case v.ACTIVATE_OFFER_SUCCEEDED:case v.DELETE_GROCERY_ITEMS_SUCCEEDED:{if(!s)return e;const r=s.reduce((s,r)=>Fn({},s,{[r.offerId]:Un(e[r.offerId],{type:t,offer:r})}),{});return Object.keys(r).length?Fn({},e,{},r):e}case v.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:{const r=(s||[]).filter(t=>{var s;return(null===(s=e[t.offerId])||void 0===s?void 0:s.quantity)!==t.quantity});return r.length?r.reduce((s,r)=>Fn({},s,{[r.offerId]:Un(e[r.offerId],{type:t,offer:r})}),Fn({},e)):e}case v.CHANGE_GROCERY_ITEMS_QUANTITY_REQUESTED:return r&&r.length?r.reduce((s,r)=>Fn({},s,{[r.offerId]:Un(e[r.offerId],{type:t,offer:r})}),Fn({},e)):e;default:return e}};var Gn=function(e=!0,t){switch(t.type){case v.ONLINE_STATUS_CHANGED:return t.online}return e};const Hn=e=>e.name===h.rd.FOLDER||e.name===h.rd.CONTACTS||e.name===h.rd.SUBSCRIPTION_LIST||Object(x.Z)(e)||Object(x.S)(e);var jn=function(e=[],t){if(t.route&&t.route.query.fullscreen)return e;switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return[...e,t.route];case v.CLOSE_PAGE_REQUESTED:return e.filter(e=>!Object(V.F)(e,t.route));case v.CLOSE_ALL_PAGES_REQUESTED:return e.filter(e=>!(t.pagesToClose||[]).find(t=>Object(V.F)(e,t)));case v.V3_MESSAGE_SEND_FAILED:{const s=t.pages,r=void 0===s?[]:s;return r.length?r:e}case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:{const s=t.folderMap,r=void 0===s?{}:s;return e.filter(e=>{if(e.name===h.rd.MESSAGE_FROM_FOLDER_LIST){const t=Object(N.b)(e,"params.fid",null);if(t)return r.hasOwnProperty(t)}return!0})}default:{if(t.pages&&t.pages!==e)return t.pages;if(t.route===t.previousRoute)return e;const s=t.tabsToRemove,r=void 0===s?[]:s,n=t.i13nModel;if(-1!==[ae.g.ATTACHMENT_PREVIEW_IMAGE_CLOSE,ae.g.ATTACHMENT_PREVIEW_DOCUMENT_CLOSE].indexOf((void 0===n?{}:n).mKey)&&"1"===t.previousRoute.query.messagePreview){const s=e.filter(e=>!(Object(V.F)(e,t.previousRoute)||t.route.name===h.rd.SEARCH&&Object(V.F)(e,t.route)));return[t.route,...s]}if(Hn(t.route)){const s=e.filter(e=>!Hn(e));return[t.route,...s]}return-1!==e.findIndex(e=>Object(V.F)(e,t.route))?e.map(e=>Object(V.F)(e,t.route)?t.route:e):t.replaceRoute||t.previousRoute.name===t.route.name&&!t.forceNewPage&&!1!==t.replaceRoute?e.map(e=>Object(V.F)(e,t.previousRoute)?t.route:e):r.length>0?[...e.filter(e=>-1===r.findIndex(t=>Object(V.F)(t,e))),t.route]:[...e,t.route]}}};var kn=(e={},t)=>{switch(t.type){case v.READ_CHANGE_REQUESTED:case v.RECENT_AND_READ_CHANGE_REQUESTED:case v.STAR_CHANGE_REQUESTED:case v.MOVE_ITEMS_REQUESTED:case v.UNDO_MOVE_AND_READ_REQUESTED:case v.MOVE_AND_READ_CHANGE_REQUESTED:case v.DELETE_ITEMS_REQUESTED:case v.UNDO_MOVE_REQUESTED:case v.BLOCK_SENDERS_WITH_DELETE_REQUESTED:return t;case v.UPDATE_ITEMS_SUCCEEDED:case v.UPDATE_ITEMS_FAILED:return{};default:return e}};function xn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Bn(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?xn(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xn(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Vn=function(e={},t){switch(t.type){case v.MESSAGE_PRINT_REQUESTED:{const s=Object(B.g)(t)+"-"+t.actionTimestamp;return Bn({},e,{[s]:{printId:s,isPrinted:!1,printType:h.hd.MESSAGE,messageId:t.messageId}})}case v.MESSAGE_PRINT_SUCCEEDED:{const s=t.printId;return Bn({},e,{[s]:Bn({},e[s],{isPrinted:!0})})}case v.MESSAGE_PRINT_CLOSED:case v.MESSAGE_PRINT_CANCELED:return st()(e,t.printId);case v.PRINT_OFFERS_REQUESTED:{const s=t.retailerId+"-"+t.actionTimestamp;return Bn({},e,{[s]:{isPrinted:!1,printId:s,printType:h.hd.OFFERS}})}case v.PRINT_ALL_CONTACTS_REQUESTED:{const s="contactsPrint-"+t.actionTimestamp;return Bn({},e,{[s]:{isPrinted:!1,printId:s,printType:h.hd.CONTACTS}})}case v.FETCH_ALL_CONTACTS_SUCCESS:{const s=t.contacts;if((void 0===s?[]:s).length>0)return e;const r=Object.keys(e).filter(t=>e[t].printType===h.hd.CONTACTS);return st()(e,r)}case v.FETCH_ALL_CONTACTS_FAILED:{const t=Object.keys(e).filter(t=>e[t].printType===h.hd.CONTACTS);return st()(e,t)}}return e};function Wn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Kn(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Wn(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Wn(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const qn=(e,t)=>{const s=e.schemaCards[t],r=s.potentialSavings,n=s.price,a=s.currency,o=s.orderedItems,i=s.sellerName,c=s.broker;let l=e.schemaCards[t].orderDate;if(!l){const s=Object.keys(e.messageIdToSchemaIdsMap).find(s=>e.messageIdToSchemaIdsMap[s].find(e=>e.id===t)),r=e.messages[s].headers&&e.messages[s].headers.date;l=r?new Date(1e3*parseInt(String(r),10)).toISOString():(new Date).getFullYear()+"-01-01T00:00:00Z"}return{potentialSavings:r,price:n,currency:a,orderedItems:o,orderDate:l,sellerName:i,broker:c}};var Yn=s(129),zn=s.n(Yn);var Qn=Object(m.combineReducers)({status:function(e=h.od.DOES_NOT_EXIST,t){switch(t.type){case v.RECENT_SEARCHES_SUCCEEDED:return h.od.LOADED;case v.RECENT_SEARCHES_FAILED:return h.od.ERROR}return e},recentSearches:function(e=[],t){switch(t.type){case v.RECENT_SEARCHES_SUCCEEDED:return t.recentSearches.map(e=>({query:zn()(e.query)}));case v.SEARCH_LIST_ITEMS_RECEIVED:case v.COUPONS_LIST_SUCCEEDED:if(!0===t.addToRecentSearch){const s=Object(x.v)(t.listId);return[{query:s},...e.filter(e=>e.query!==s)]}break;case v.DELETE_RECENT_SEARCH_REQUESTED:return e.filter(e=>e.query!==t.query)}return e}});function Zn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Xn(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Zn(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Zn(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const $n=Object(m.combineReducers)({allStores:(e={},t)=>{const s=t.retailer,r=void 0===s?{}:s,n=r.zipCode,a=r.locations,o=void 0===a?[]:a;switch(t.type){case v.GET_RETAILER_LOCATIONS_SUCCEEDED:return Xn({},e,{[n]:o.map(e=>(delete e.geo,e)).sort((e,t)=>e.distance-t.distance)});default:return e}},brandImage:(e="",t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.brandImage||null;default:return e}},categories:(e=[],t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.categories;default:return e}},displayName:(e="",t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.displayName;default:return e}},emailIds:(e=[],t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.emailIds||[];default:return e}},errorHint:(e="",t)=>{const s=t.retailer;switch(t.type){case v.LINK_RETAILER_FAILED:return s.errorHint;default:return e}},id:(e="",t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.id;default:return e}},index:(e=-1,t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.index;default:return e}},isCategoriesExpanded:(e=!1,t)=>{switch(t.type){case v.TOGGLE_GROCERY_CATEGORIES_EXPANSION:return!e;default:return e}},linkable:(e=null,t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.isLinkable||e;default:return e}},linked:(e=!1,t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:case v.LINK_RETAILER_SUCCEEDED:case v.LINK_RETAILER_REQUESTED:case v.LINK_RETAILER_FAILED:case v.UNLINK_RETAILER_SUCCEEDED:return s.linked;default:return e}},loyaltyCardLength:(e="",t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.loyaltyCardLength||"";default:return e}},loyaltyCardPrefix:(e="",t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.loyaltyCardPrefix||"";default:return e}},loyaltyId:(e="",t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:case v.LINK_RETAILER_SUCCEEDED:return s.loyaltyId||null;case v.UNLINK_RETAILER_SUCCEEDED:return"";default:return e}},numActivatedOffers:(e=null,t)=>{const s=t.numActivatedOffers;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:return s;case v.ACTIVATE_OFFER_SUCCEEDED:return null===e?1:e+1;case v.DELETE_GROCERY_ITEMS_SUCCEEDED:return e>1?e-1:null;default:return e}},preferredStore:(e={},t)=>{var s;const r=t.retailer,n=void 0===r?{}:r;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return(null===(s=n.stores)||void 0===s?void 0:s[0])||{};case v.UPDATE_PREFERRED_STORE_SUCCEEDED:{const e=n.preferredStore,t=void 0===e?{}:e;return delete t.geo,t}default:return e}},proxyType:(e="",t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.proxyType;default:return e}},registrationInfo:(e="",t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.registrationInfo;default:return e}},registrationUrl:(e="",t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.registrationUrl||null;default:return e}},showSelectLocationMenu:(e=!1,t)=>{const s=t.retailer,r=void 0===s?{}:s;switch(t.type){case v.ACTIVATE_OFFER_REQUESTED:{const e=r.contextOfUse;return"groceriesTopOfMsg"===(void 0===e?"":e)}default:return e}},subDomains:(e=[],t)=>{const s=t.retailer;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.subDomains||[];default:return e}},subTotal:(e="",t)=>{const s=t.subTotal;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:case v.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:case v.DELETE_GROCERY_ITEMS_SUCCEEDED:return s||e;default:return e}},numberOfItems:(e=0,t)=>{const s=t.numberOfItems;switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:case v.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:case v.DELETE_GROCERY_ITEMS_SUCCEEDED:return s||e;default:return e}},suggestions:(e=null,t)=>{const s=t.retailer,r=void 0===s?{}:s,n=r.keyword,a=r.suggestions;switch(t.type){case v.GROCERY_SEARCH_ASSIST_SUCCEEDED:return Xn({},e,{[n]:a});default:return e}}});var Jn=Object(m.combineReducers)({retailers:function(e={},{contextOfUse:t="",errorHint:s="",keyword:r="",linked:n=!1,listId:a,locations:o=[],numActivatedOffers:i,preferredStore:c={},response:l,retailerId:d="",retailers:E,suggestions:_=[],type:u,zipCode:m,subTotal:S,numberOfItems:C}){switch(u){case v.ASTRA_BATCH_API_SUCCEEDED:{var g;const t=((null==l||null===(g=l[h.C.GROCERY_RETAILERS])||void 0===g?void 0:g.retailers)||[]).filter(t=>!p()(e[t.id],t));return t.length?t.reduce((e,t,s)=>Xn({},e,{[t.id]:$n(e[t.id],{type:u,retailer:Xn({},t,{index:s})})}),Xn({},e)):e}case v.LINK_RETAILER_SUCCEEDED:case v.UNLINK_RETAILER_SUCCEEDED:{if(!E)return e;const t=E.reduce((t,s)=>Xn({},t,{[s.id]:$n(e[s.id],{type:u,retailer:s})}),{});return Object.keys(t).length?Xn({},e,{},t):e}case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATE_OFFER_SUCCEEDED:case v.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:case v.DELETE_GROCERY_ITEMS_SUCCEEDED:{const t=Object(x.B)(a);if(t){const s={[t]:$n(e[t],{type:u,subTotal:S,numberOfItems:C,numActivatedOffers:i})};return Xn({},e,{},s)}return e}case v.LINK_RETAILER_REQUESTED:case v.LINK_RETAILER_FAILED:{const t={[d]:$n(e[d],{type:u,retailer:{errorHint:s,linked:n}})};return Xn({},e,{},t)}case v.GROCERY_SEARCH_ASSIST_SUCCEEDED:{const t={[d]:$n(e[d],{type:u,retailer:{keyword:r,suggestions:_}})};return Xn({},e,{},t)}case v.GET_RETAILER_LOCATIONS_SUCCEEDED:return Xn({},e,{[d]:$n(e[d],{type:u,retailer:{locations:o,zipCode:m}})});case v.UPDATE_PREFERRED_STORE_SUCCEEDED:return Xn({},e,{[d]:$n(e[d],{type:u,retailer:{preferredStore:c}})});case v.ACTIVATE_OFFER_REQUESTED:return Xn({},e,{[d]:$n(e[d],{type:u,retailer:{contextOfUse:t}})});case v.TOGGLE_GROCERY_CATEGORIES_EXPANSION:return Xn({},e,{[d]:$n(e[d],{type:u})});default:return e}},allCategories:(e={},t)=>{const s=t.response;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:{var r;const t=null==s||null===(r=s[h.C.GROCERY_RETAILERS_CATEGORY])||void 0===r?void 0:r.groceryCategories;return t?Object.assign(e,...t.map(e=>({[e.id]:e}))):e}default:return e}},shoppingCartStatus:(e,t)=>{switch(t.type){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:return h.od.LOADED;case v.REFRESH_SHOPPING_LIST_REQUESTED:return h.od.REFRESHING;default:return h.od.DOES_NOT_EXIST}}});const ea=(e={})=>({getTotalNumberOfRetailers:()=>e.retailers?Object.keys(e.retailers).length:0,getOrderedRetailers:()=>Object(N.h)(e.retailers||{}),getRetailersFromRetailerIds:t=>t.filter(t=>t in(e.retailers||{})).map(t=>e.retailers[t]),isLinkedRetailer:t=>e.retailers&&e.retailers[t]?e.retailers[t].linked:null,isRetailerLinkable:t=>{var s,r;return null!==(null===(s=e.retailers)||void 0===s||null===(r=s[t])||void 0===r?void 0:r.linkable)},getDisplayNameFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].displayName||"",getCategoriesFromRetailerId:t=>{const s=e.allCategories||{};return(e.retailers&&e.retailers[t]&&e.retailers[t].categories||[]).map(e=>s[e["@id"]])},getCategoriesFromRetailerIdV2:t=>e.retailers&&e.retailers[t]&&e.retailers[t].categories||[],getAllGroceryCategories:()=>e.allCategories||{},getProxyTypeFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].proxyType||"",getLoyaltyCardLengthFromRetailerId:t=>e.retailers&&e.retailers[t]?e.retailers[t].loyaltyCardLength:null,getLoyaltyCardPrefixFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].loyaltyCardPrefix||"",getBrandImageFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].brandImage||"",getLoyaltyIdFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].loyaltyId||"",getRegistrationUrlFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].registrationUrl||"",getNumActivatedOffersFromRetailerId:t=>e.retailers&&e.retailers[t]?e.retailers[t].numActivatedOffers:null,getRegistrationInfoFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].registrationInfo||"",getErrorHintFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].errorHint||"",getRetailerIdFromEmail:t=>{if(e.retailers){let s=Object.keys(e.retailers).find(s=>e.retailers[s].emailIds&&e.retailers[s].emailIds.find(e=>e===t));if(!s){const r=t.indexOf("@")>-1?t.split("@")[1]:t;s=Object.keys(e.retailers).find(t=>e.retailers[t].subDomains&&e.retailers[t].subDomains.find(e=>e===r))}return s}return null},isSupportedQuotientRetailer:t=>e.retailers?!!ea(e).getRetailerIdFromEmail(t):null,getNumberOfLinkedRetailers:()=>e.retailers?Object.keys(e.retailers).filter(t=>e.retailers[t].linked).length:0,getSearchAssist:(t,s)=>{var r,n,a;return null===(r=e.retailers)||void 0===r||null===(n=r[t])||void 0===n||null===(a=n.suggestions)||void 0===a?void 0:a[s]},getAllStoresLocations:t=>{var s,r;return(null===(s=e.retailers)||void 0===s||null===(r=s[t])||void 0===r?void 0:r.allStores)||{}},getPreferredStore:t=>{var s,r;return(null===(s=e.retailers)||void 0===s||null===(r=s[t])||void 0===r?void 0:r.preferredStore)||{}},doesPreferredStoreExist:t=>{var s,r;return!Object(N.c)(null===(s=e.retailers)||void 0===s||null===(r=s[t])||void 0===r?void 0:r.preferredStore)},showSelectLocationMenu:t=>{var s,r;return null===(s=e.retailers)||void 0===s||null===(r=s[t])||void 0===r?void 0:r.showSelectLocationMenu},getShoppingCartStatus:()=>e.shoppingCartStatus,getSubTotal:t=>{var s,r;return null===(s=e.retailers)||void 0===s||null===(r=s[t])||void 0===r?void 0:r.subTotal},isCategoriesExpanded:t=>{var s,r;return null===(s=e.retailers)||void 0===s||null===(r=s[t])||void 0===r?void 0:r.isCategoriesExpanded},getNumberOfItems:t=>{var s,r;return null===(s=e.retailers)||void 0===s||null===(r=s[t])||void 0===r?void 0:r.numberOfItems}});var ta=Object(m.combineReducers)({routesConfig:function(e=[],t){switch(t.type){case v.LAUNCH_PAGE_REQUESTED:return t.routesConfig}return e},route:function(e={},t){switch(t.type){case v.INITIAL_STATE:case v.LAUNCH_PAGE_REQUESTED:case v.OPEN_PAGE_REQUESTED:return t.route;default:return t.route&&e===t.route?e:t.route||e}},hashParams:function(e={},t){switch(t.type){case v.LAUNCH_PAGE_REQUESTED:case v.OPEN_PAGE_REQUESTED:return t.hashParams||e}return e},mrdParams:function(e={},t){switch(t.type){case v.INITIAL_STATE:return t.mrdParams||e;case v.LAUNCH_PAGE_REQUESTED:case v.OPEN_PAGE_REQUESTED:return{}}return e},uiContext:function(e={},t){switch(t.type){case v.LAUNCH_PAGE_REQUESTED:case v.OPEN_PAGE_REQUESTED:return t.i13nModel||t.uiContext||e}return e}});function sa(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ra(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?sa(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sa(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var na=(e={isFocused:!1},t)=>{switch(t.type){case v.SEARCH_INPUT_FOCUSED:return ra({},e,{isFocused:!0});case v.SEARCH_INPUT_BLURRED:return ra({},e,{isFocused:!1});default:return e}};const aa=(e={})=>({isSearchInputFocused:()=>e.searchInput.isFocused||!1});function oa(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var ia=function(e={},t){switch(t.type){case v.SUGGESTIONS_RECEIVED:return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?oa(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oa(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{[t.query]:(e[t.query]||[]).concat(t.suggestions)});case v.DELETE_ITEMS_REQUESTED:{const s=t.itemsToUpdate,r={},n=(void 0===s?[]:s).filter(e=>e.isAffected).map(({messageId:e})=>e);return n.length?(Object.keys(e).forEach(t=>{r[t]=(e[t]||[]).filter(e=>{const t=Object(N.b)(e,"entities.emailSuggestion.messageId");return!t||n.indexOf(t)<0})}),r):e}}return e};var ca=Object(m.combineReducers)({settingsApiCallStatus:(e=h.od.LOADING,t)=>{switch(t.type){case v.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:return h.od.LOADED;case v.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:return h.od.ERROR;default:return e}},blockedSendersApiCallStatus:(e=h.od.LOADING,t)=>{switch(t.type){case v.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case v.SETTINGS_BLOCKED_SENDERS_RECEIVED:case v.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:return h.od.LOADED;case v.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case v.SETTINGS_BLOCKED_SENDERS_FETCH_FAILED:case v.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:return h.od.ERROR;default:return e}},filtersAndBlockedSendersApiCallStatus:(e=h.od.LOADING,t)=>{switch(t.type){case v.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case v.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:return h.od.LOADED;case v.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case v.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:return h.od.ERROR;default:return e}},humanReadableConsentUpdated:(e=!1,t)=>{switch(t.type){case v.SETTINGS_CHANGE_SUCCEEDED:if(t.requestActionPayload){if(t.requestActionPayload.name===h.Kd.CONSENT_EVENTS)return!0}return e;default:return e}}});var la=Object(m.combineReducers)({authWindow:(e={},t)=>{switch(t.type){case v.IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED:case v.SOCIAL_ACCOUNTS_CONNECT_REQUESTED:case v.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED:case v.CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED:case v.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED:return{url:t.url,provider:t.provider};case v.SETTINGS_CHANGE_REQUESTED:if(e.provider&&(t.name===h.Kd.THEME||t.name===h.Kd.THEME_MODE))return{url:void 0,provider:void 0};break;case v.OPEN_PAGE_REQUESTED:case v.DELETE_ITEMS_REQUESTED:case v.SOCIAL_ACCOUNTS_CONNECT_FAILED:case v.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED:case v.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED:case v.CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED:case v.CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED:case v.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED:return{url:void 0,provider:void 0}}return e}});var da=s(318);function Ea(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function _a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ea(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ea(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var ua=Object(m.combineReducers)({subjects:function(e={},t){switch(t.type){case v.INITIAL_STATE:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.UNDO_MOVE_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:{const s=Object(N.b)(t,"listData.subjects",{}),r=function(e,t={}){return Object.keys(t).reduce((s,r)=>{const n=Object.keys(t[r])[0],a=Object(x.C)(n);if(!e[r]||e[r][a]!==t[r][n]){const o=Object(Tn.g)(t[r][n]);s[r]=_a({},e[r],{[a]:t[r][n],[x.a]:o})}return s},{})}(e,s);return Object.keys(r).length?_a({},e,{},r):e}default:return e}},snippets:function(e={},t){switch(t.type){case v.INITIAL_STATE:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.UNDO_MOVE_SUCCEEDED:case v.CHECK_MAIL_RECEIVED_WITH_UPDATES:case v.CHANGE_FOLDER_SUCCEEDED:case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case v.SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.MESSAGE_AUTO_SAVE_SUCCEEDED:case v.MESSAGE_SAVE_SUCCEEDED:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case v.V3_MESSAGE_SAVE_SUCCEEDED:{const s=Object(N.b)(t,"listData.snippets",{}),r=function(e,t={}){return Object.keys(t).reduce((s,r)=>{const n=Object.keys(t[r])[0],a=Object(x.C)(n);return e[r]&&e[r][a]===t[r][n]||(s[r]=_a({},e[r],{[a]:t[r][n]})),s},{})}(e,s);return Object.keys(r).length?_a({},e,{},r):e}default:return e}}});var pa=s(161),ma=s.n(pa);var Sa=s(659),ha=s.n(Sa);const Ca=(e=[],t)=>{const s=t.getAction(),r=s.actionTimestamp,n=s.accountId,a=s.updatedProperties,o=s.warnOnClose,i=void 0===o||o;switch(s.type){case v.FETCH_PRIMARY_ACCOUNT:return e.concat((({accountId:e,updatedProperties:t,actionTimestamp:s})=>({type:h.Ce.FETCH_PRIMARY_ACCOUNT,hash:"FETCH_PRIMARY_ACCOUNT_DATA_HASH-"+s,id:e,timestamp:s,userInputtedValues:{accountId:e,updatedProperties:t,requestTimestamp:s}}))({accountId:n,updatedProperties:a,actionTimestamp:r}));case v.ACCOUNT_DETAILS_CHANGE_REQUESTED:return e.concat((({accountId:e,updatedProperties:t,actionTimestamp:s,warnOnClose:r})=>({type:h.Ce.ACCOUNT_TO_UPDATE,hash:"UPDATE_ACCOUNT_UNSYNCED_DATA_HASH-"+s,id:e,timestamp:s,warnOnClose:r,userInputtedValues:{accountId:e,updatedProperties:t,requestTimestamp:s}}))({accountId:n,updatedProperties:a,actionTimestamp:r,warnOnClose:i}));default:return e}},ga=(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:case v.ACCOUNT_DETAILS_CHANGE_FAILED:return e.filter(e=>!(e.userInputtedValues.accountId===s.accountId&&e.userInputtedValues.requestTimestamp<=s.requestTimestamp))}return e};function Oa(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ta(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Oa(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Oa(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Aa({baseName:e,domain:t}){return h.Ce.BASENAME_TO_CREATE+e+t}const Ia=(e=[],{getAction:t})=>{const s=t(),r=s.type,n=s.category,a=s.actionTimestamp;switch(r){case v.CATEGORY_FOLLOW_REQUESTED:case v.CATEGORY_UNFOLLOW_REQUESTED:{const t=r===v.CATEGORY_FOLLOW_REQUESTED?h.Ce.FOLLOW_CATEGORY:h.Ce.UNFOLLOW_CATEGORY;return e.concat({id:t,hash:`${t}-${n.id}`,timestamp:a,type:t,userInputtedValues:{category:n}})}default:return e}},fa=(e,{getAction:t,isFeatureEnabled:s})=>{const r=t(),n=r.category,a=(void 0===n?{}:n).id,o=void 0===a?"":a;switch(r.type){case v.CATEGORY_FOLLOW_SUCCEEDED:case v.CATEGORY_FOLLOW_FAILED:case v.CATEGORY_UNFOLLOW_SUCCEEDED:case v.CATEGORY_UNFOLLOW_FAILED:return[];case v.LAUNCH_COMPLETED:return e.filter(()=>s(h.Eb.DEALS));default:return e.filter(()=>s(h.Eb.DEALS)&&o)}},Da=(e=[],{getAction:t})=>{const s=t(),r=s.actionTimestamp,n=s.cardMid,a=void 0===n?"":n,o=s.mailboxId,i=void 0===o?"":o,c=s.messageDecosPayloads,l=s.listId;switch(s.type){case v.COUPONS_ADD_TAG_DECO_REQUESTED:return e.concat({id:h.Ce.SAVE_COUPONS,hash:a+i,timestamp:r,type:h.Ce.SAVE_COUPONS,userInputtedValues:{clipping:!0,cardMid:a,mailboxId:i,messageDecosPayloads:c,listId:l}});case v.COUPONS_REMOVE_TAG_DECO_REQUESTED:return e.concat({id:h.Ce.UNSAVE_COUPONS,hash:a+i,timestamp:r,type:h.Ce.UNSAVE_COUPONS,userInputtedValues:{clipping:!1,cardMid:a,mailboxId:i,messageDecosPayloads:c,listId:l}});default:return e}},Ra=(e,{getAction:t})=>{switch(t().type){case v.COUPONS_ADD_TAG_DECO_SUCCEEDED:case v.COUPONS_ADD_TAG_DECO_FAILED:case v.COUPONS_REMOVE_TAG_DECO_SUCCEEDED:case v.COUPONS_REMOVE_TAG_DECO_FAILED:return[];default:return e}};function ba(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Na(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ba(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ba(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Ma=(e,t,s=[])=>`${e}-${t}-${s.join("")}`;function ya(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function La(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ya(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ya(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Pa=(e,t)=>{const s=t.listId;return e.concat([{type:h.Ce.CONTACTS_LIST,hash:s,timestamp:t.actionTimestamp,userInputtedValues:{listId:s,count:t.count}}])},va=(e,t,s,r={})=>{const n=(0,t.getContactListSelectors)(),a=n.getSelectedGroup,o=n.getContactsSortOrder,i=r.listFilter||(0,n.getCurrentFilter)(),c=r.selectedGroup||a(i);let l;if(c&&(c+"").includes("temp:"))return e;i!==h.bc.GROUPS||c||(l=!0);const d=Object(x.k)(i,c),E={listId:d,count:void 0!==r.count?r.count:(e=>{switch(e){case h.bc.TOP_CONTACTS:return h.nc;case h.bc.GROUPS:return h.e}return h.ic})(i),sortOrder:r.sortOrder?r.sortOrder:o()};return l&&(E.fetchGroupContactsNext=l),e.concat([{type:h.Ce.CONTACTS_LIST,hash:d,timestamp:s,userInputtedValues:E}])},Fa=e=>e.map(({id:e})=>e).join();function Ua(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function wa({fromEmail:e,syncThrottle:t,action:s}){return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ua(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ua(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({id:e,hash:e,timestamp:s.actionTimestamp,type:h.Ce.IMPORTANT_CONTACTS_FETCH,userInputtedValues:{fromEmail:e,listId:Object(x.t)(e)}},t?{syncThrottle:t}:{})}var Ga=s(365);function Ha(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ja(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ha(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ha(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const ka=(e,t)=>`${e}-${t}`;function xa(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ba(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?xa(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xa(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Va(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Wa(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Va(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Va(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Ka=({listId:e,isStale:t=!1},s)=>{const r=(0,s.getAction)();return{type:h.Ce.LIST_TO_UPDATE,id:e,hash:e,timestamp:r.actionTimestamp,userInputtedValues:{listId:e,isStale:t}}};var qa=s(366);function Ya(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function za(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ya(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ya(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Qa=(e=[],t,s=!1)=>{const r=t.getAction,n=t.isSpamMessage,a=t.isFeatureEnabled,o=t.getMessageBodyRetryCount,i=t.isMobileRoute,c=(0,t.getFeatureCueSelectors)().isShown,l=!a(h.Eb.CONVERSATIONS)||a("fetchFullBody");let d=!a(h.Kd.SHOW_IMAGES);const E=a(h.Eb.INLINE_IMAGES_PROXIED);if(i()){const e=c(h.Eb.MOBILE_PAC_NOTIFICATION_CUE)&&!a(h.Eb.INLINE_IMAGES_PROXIED);d=d&&(!!e||!c(h.Eb.MOBILE_PAC_NOTIFICATION_CUE))}else d=d&&!E;const _=r(),u=_.isFallback,p=void 0!==u&&u,m=_.actionTimestamp,S=_.secure,C=void 0===S||S,g=_.full,O=void 0===g?l:g,T=_.type;let A=null;return s&&(A=T===v.LAUNCH_COMPLETED?h.dd.LAUNCH:T===v.CHECK_MAIL_RECEIVED_WITH_UPDATES?h.dd.CHECK_MAIL:h.dd.NEIGHBOR),e.map(e=>{const t=C&&(n(e)||d),s=o(e);return{type:h.Ce.MESSAGE_ITEM_TO_FETCH,id:e,hash:e+O+t,timestamp:m,userInputtedValues:{messageId:e,secure:t,full:O,isFallback:p,prefetchMode:A,retryCount:s}}})},Za=(e,t)=>{const s=t.getAction,r=t.getCurrentListId,n=t.isFeatureEnabled,a=(0,t.getFoldersSelectors)().isSpamFolder,o=s(),i=o.actionTimestamp,c=o.full,l=o.secure,d=void 0===l||l,E=!n(h.Kd.SHOW_IMAGES)&&!n(h.Eb.INLINE_IMAGES_PROXIED),_=r(),u=Object(x.q)(_),p=void 0!==u&&a(u);return{type:h.Ce.MESSAGE_ITEM_TO_FETCH,id:e,hash:e,timestamp:i,userInputtedValues:{messageGroupId:e,full:c,secure:d&&(p||E)}}},Xa=(e,t,s=!1)=>{const r=t.isDraftMessage,n=t.isSentMessage,a=t.getMessageFlags,o=t.doesMessageBodyExist,i=t.getHashParams,c=t.getCurrentListId,l=t.getStreamsSelectors,d=t.getMessageCsid,E=(0,t.getMessageIdsFromMessageGroupId)(e)||[],_=E.filter(e=>!r(e)),u=_[_.length-1],p=(i()||{}).messageId,m=c(),S=Object(K.b)(m,e),C=l(),g=C.getExpansionStateForStreamItem,O=[];(0,C.doesExpansionStateExist)(S)&&E.forEach(e=>{const t={streamId:S,csid:d(e),listId:Object(x.gb)(m,{listContentType:h.ac.MESSAGE})},s=g(t);s!==h.L.EXPANDED&&s!==h.L.TEMPORARY_EXPANSION||O.push(e)});const T=E.filter(e=>e===p||n(e)||r(e)||e===u||a(e).flagged||!a(e).read||-1!==O.indexOf(e));return(s?T.slice(0,2):T).filter(e=>!o(e))},$a=(e=[],t,s)=>{const r=t.doesMessageGroupIdExist;return e.reduce((e,n)=>{if(r(n)){const r=Xa(n,t,s);return e.concat(Qa(r,t,s)).concat(((e,t)=>{const s=t.getSetting,r=t.getListsSelectors,n=t.doesMessageGroupIdExist,a=t.doesListExist,o=(0,t.getAction)().listId;if(!o||!a(o)||Object(x.w)(o)!==h.ac.MESSAGES)return[];const i=r().getItemIdsSelectors,c=s(h.Kd.NEIGHBOR_PREFETCH_COUNT);if(0===c)return[];const l=i(o).getItemIds(),d=l.indexOf(e);return l.filter(e=>{const t=l.indexOf(e);return t!==d&&t<=d+c&&t>=d-c}).reduce((e,s)=>{if(n(s)){const r=Xa(s,t,!0);return e.concat(Qa(r,t,!0))}return e.concat(Za(s,t))},[])})(n,t))}return e.concat(Za(n,t))},[])};function Ja(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function eo(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ja(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ja(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const to=[v.READ_CHANGE_REQUESTED,v.RECENT_AND_READ_CHANGE_REQUESTED,v.STAR_CHANGE_REQUESTED,v.MOVE_ITEMS_REQUESTED,v.MOVE_AND_READ_CHANGE_REQUESTED,v.DELETE_ITEMS_REQUESTED,v.UNDO_MOVE_REQUESTED,v.UNDO_MOVE_AND_READ_REQUESTED,v.BLOCK_SENDERS_WITH_DELETE_REQUESTED],so=[v.UPDATE_ITEMS_SUCCEEDED,v.UPDATE_ITEMS_FAILED,v.BULK_PROGRESS_INITIATED,v.UNDO_MOVE_SUCCEEDED,v.UNDO_MOVE_FAILED],ro={[v.READ_CHANGE_REQUESTED]:h.Gc.READ,[v.STAR_CHANGE_REQUESTED]:h.Gc.STAR,[v.MOVE_ITEMS_REQUESTED]:h.Gc.MOVE,[v.DELETE_ITEMS_REQUESTED]:h.Gc.MOVE,[v.UNDO_MOVE_REQUESTED]:h.Gc.MOVE,[v.BLOCK_SENDERS_WITH_DELETE_REQUESTED]:h.Gc.MOVE},no={[h.Gc.READ]:"read",[h.Gc.STAR]:"flagged",[h.Gc.SPAM]:"spam",[h.Gc.HAM]:"spam",[h.Gc.ANSWER]:"answered",[h.Gc.FORWARD]:"forwarded",[h.Gc.RECENT]:"recent"},ao=(e,t)=>t.isSpamMove?h.Gc.SPAM:t.isHamMove?h.Gc.HAM:t.permanentDelete?h.Gc.DELETE:ro[e],oo=(e,t)=>e===v.RECENT_AND_READ_CHANGE_REQUESTED?{[h.Gc.READ]:t,[h.Gc.RECENT]:t}:e===v.MOVE_AND_READ_CHANGE_REQUESTED||e===v.UNDO_MOVE_AND_READ_REQUESTED?{[h.Gc.READ]:t,[h.Gc.MOVE]:t}:{[ao(e,t)]:t},io=(e=[],t)=>e.filter(e=>e.isAffected).map(e=>((e,t)=>{const s=(0,t.getAction)(),r=s.actionTimestamp;return{type:h.Ce.MESSAGE_ITEM_TO_UPDATE,id:e.messageId||e.messageQuery,hash:`${e.messageId||e.messageQuery}-${r}`,timestamp:r,warnOnClose:!0,userInputtedValues:oo(s.type,e)}})(e,t)),co=(e,t)=>{const s=e.messageItemsToSync,r=e.itemsToUpdate,n=void 0===r?[]:r,a=e.type,o=[...void 0===s?[]:s,...n].find(e=>e.id===t.id||e.messageId===t.id),i=t.userInputtedValues,c=void 0===i?{}:i;if(((e,{type:t,triageActionType:s,id:r,checkForPermDelete:n})=>(void 0===t||e.type===t)&&((void 0===s||e.triageActionType===s)&&(Object(N.b)(e,"itemsToUpdate.0.messageId")!==r&&Object(N.b)(e,"itemsToUpdate.0.messageQuery")!==r&&!(!n||!Object(N.b)(e,"itemsToUpdate.0.permanentDelete")))))(e,{type:v.DELETE_ITEMS_REQUESTED,triageActionType:h.ye.DELETE_FOLDER_ITEMS,id:t.id,checkForPermDelete:!0}))return((e,t)=>{const s=e.userInputtedValues,r=void 0===s?{}:s;return eo({},e,{userInputtedValues:Object.keys(r).reduce((e,s)=>{const n=r[s];return t(n)?eo({},e,{[s]:n}):e},{})})})(t,e=>Object(N.b)(e,"folder.id")!==Object(N.b)(n[0],"folder.id"));if(!o)return t;switch(a){case v.UPDATE_ITEMS_SUCCEEDED:case v.UPDATE_ITEMS_FAILED:case v.BULK_PROGRESS_INITIATED:case v.UNDO_MOVE_SUCCEEDED:case v.UNDO_MOVE_FAILED:return eo({},t,{userInputtedValues:st()(c,o.updateTypes)})}return t},lo=(e,t)=>{const s=t.getAction,r=t.getRoute,n=(0,t.getFeaturesSelectors)().getSetting("bulkActionDialogThreshold");return((e,t)=>e.type===v.OPEN_PAGE_REQUESTED&&Object(x.z)(t)!==Object(x.z)(e.route))(s(),r())||e.length>=n||e.some(e=>{const t=Object.keys(e.userInputtedValues),s=Object(N.h)(e.userInputtedValues);return t.some(e=>e!==h.Gc.READ)||s.some(e=>!!e.messageQuery)})};function Eo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function _o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Eo(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Eo(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const uo=({accountId:e,updatedSettingAttributes:t,actionTimestamp:s})=>({type:h.Ce.SETTINGS_TO_CHANGE,hash:h.Ce.SETTINGS_TO_CHANGE,timestamp:s,userInputtedValues:{accountId:e,updatedSettingAttributes:t,requestTimestamp:s}}),po=(e,t=!1)=>{const s={type:h.Ce.IMPORT_CONTACTS_PROVIDERS_STATUS,hash:"ALL_ACCOUNTS",timestamp:e,userInputtedValues:{retryCount:6}};return t&&(s.syncThrottle=1200),s},mo=e=>{const t=(0,e.getRoute)(),s=t.params;return t.name===h.rd.SETTINGS&&(void 0===s?{}:s).settingsGroupId===h.Nd.CONTACTS},So=({unsyncedData:e,action:t,enable:s=!0})=>{const r=t.provider;return e.concat({type:h.Ce.SOCIAL_ACCOUNT_IMPORT,hash:r+(s?"_enable":"_disable"),timestamp:t.actionTimestamp,userInputtedValues:{provider:r,spid:h.Vd[r],enable:s}})},ho=({timestamp:e})=>[{type:h.Ce.SOCIAL_ACCOUNT_STATUS,hash:"ALL_PROVIDERS",timestamp:e}],Co=h.ne.DAILY_CHECKIN,go=h.ne.IMAPIN,Oo=h.hc.INVALID,To=h.hc.PRE_SIGNUP_LIGHTBOX,Ao=h.hc.PRE_SIGNUP_LEFT_PANEL_3,Io=h.hc.POST_SIGNUP_THANKYOU_TOAST,fo=h.hc.FREE_TRIAL_EXPIRED_NOTIFICATION,Do=e=>({type:h.Ce.FETCH_CLOUD_STORAGE_PROVIDERS,hash:"CLOUD_STORAGE_ACCOUNTS",timestamp:e}),Ro=[h.Eb.RECOMMENDED_DEALS,h.Eb.GROCERIES,h.Eb.ENABLE_GROCERIES_TOP_OF_MSG,h.Eb.SHOW_USER_FOLLOWED_CATEGORIES,h.Eb.FETCH_AFFILIATE_RETAILERS];var bo=s(308);function No(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var Mo=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?No(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):No(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},{[h.Ce.FETCH_ALL_CONTACTS]:{preparer:(e=[],t)=>{const s=t.getListsSelectors,r=(0,t.getAction)(),n=r.type,a=r.actionTimestamp,o=r.sortOrder,i=Object(x.k)(h.bc.PRINT_CONTACTS),c=s().isListAlreadyLoaded;switch(n){case v.PRINT_ALL_CONTACTS_REQUESTED:if(!c(i))return[{type:h.Ce.FETCH_ALL_CONTACTS,hash:"print_contacts_hash",timestamp:a,userInputtedValues:{listId:i,sortOrder:o}}]}return e},reconciler:(e,t)=>{switch((0,t.getAction)().type){case v.FETCH_ALL_CONTACTS_SUCCESS:case v.FETCH_ALL_CONTACTS_FAILED:return[]}return e}},[h.Ce.CONTACTS_GROUP_CREATE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.CONTACTS_PANE_CREATE_GROUP_REQUESTED:{const t=s.tempListId;return e.concat([{type:h.Ce.CONTACTS_GROUP_CREATE,timestamp:s.actionTimestamp,hash:t,userInputtedValues:{tempGroupId:s.tempGroupId,tempListId:t,name:s.name,endpoints:s.endpoints}}])}}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:case v.CONTACTS_PANE_CREATE_GROUP_FAILED:{const t=s.tempListId;return Object(F.a)(t,"`listId` is a required option"),e.filter(e=>e.hash!==t)}}return e}},[h.Ce.CONTACTS_GROUP_EDIT]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.CONTACTS_PANE_SAVE_GROUP_REQUESTED:{const t=s.actionTimestamp,r=s.listId,n=s.groupId,a=s.newName,o=s.addedEndpoints,i=s.removedEndpoints,c=s.oldGroup;if(!s.doUpdatesExist)break;return e.concat([{type:h.Ce.CONTACTS_GROUP_EDIT,timestamp:t,hash:r,userInputtedValues:{groupId:n,listId:r,newName:a,addedEndpoints:o,removedEndpoints:i,oldGroup:c}}])}}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.CONTACTS_PANE_SAVE_GROUP_SUCCEEDED:case v.CONTACTS_PANE_SAVE_GROUP_FAILED:{const t=s.listId;return Object(F.a)(t,"`listId` is a required option"),e.filter(e=>e.hash!==t)}}return e}},[h.Ce.CONTACTS_LIST]:{preparer:(e=[],t)=>{const s=t.getAction,r=t.getRoute,n=t.isFeatureEnabled,a=t.getSmartViewTypeFromRoute,o=t.getActionableRightRailPane,i=(0,t.getListsSelectors)(),c=i.isListAlreadyLoaded,l=i.doesListExist,d=s(),E=r(),_=d.type,u=d.actionTimestamp,p=o()===h.qd.ContactsPane;switch(_){case v.LAUNCH_COMPLETED:return[h.rd.CONTACTS,h.rd.CONTACT_DETAILS,h.rd.CONTACT_DETAILS_FROM_SEARCH,h.rd.CREATE_CONTACT,h.rd.EDIT_CONTACT,h.rd.EDIT_CONTACT_FROM_SEARCH].indexOf(E.name)>-1?va(e,t,u):e;case v.OPEN_PAGE_REQUESTED:{if(d.name===h.pd.CONTACTS_PANE&&p||E.name===h.rd.CONTACTS)return va(e,t,u);const s=a(E)===h.Ud.COUPONS,r=n(h.Eb.DEALS)&&s,o=r?{listFilter:h.bc.NOT_PEOPLE,count:h.e}:{};if(r&&!l(Object(x.k)(h.bc.NOT_PEOPLE)))return va(e,t,u,o);break}case v.CONTACTS_PANE_GROUP_CHANGED:case v.CONTACTS_PANE_LIST_FILTER_CHANGED:case v.CREATE_CONTACT_SUCCEEDED:case v.CREATE_CONTACT_FAILED:case v.CONTACT_SAVE_SUCCEEDED:case v.CONTACT_SAVE_FAILED:case v.DELETE_CONTACT_FAILED:case v.DELETE_CONTACT_SUCCEEDED:{const s=(0,t.getContactListSelectors)(),r=s.getSelectedGroup,n=(0,s.getCurrentFilter)(),a=r(n),o=Object(x.k)(n,a);return c(o)?e:va(e,t,u)}case v.CONTACTS_GROUP_DELETE_REQUESTED:{const s=d.newGroupId;let r={};if(s)return r={selectedGroup:s,ListFilter:h.bc.GROUPS},va(e,t,u,r);break}case v.CONTACTS_PANE_SEARCHED:return Pa(e,d);case v.EDIT_CONTACT_FROM_CARD:case v.ADD_TO_CONTACTS:case v.RIGHT_RAIL_COMMS_ICON_CLICKED:if(d.name!==h.pd.CONTACTS_PANE||!p)break;return va(e,t,u);case v.CONTACTS_SORT_ORDER_CHANGED:{const s=d.currentListFilter,r={sortOrder:d.sortOrder};if((void 0===s?h.bc.USER_CREATED_CONTACTS:s)===h.bc.GROUPS)break;return va(e,t,u,r)}case v.CONTACTS_PANE_BACK_BUTTON_CLICKED:{const s=d.isCreateView;if(d.discardOptimisticSave)return s?Pa(e,La({},d,{listId:Object(x.k)(h.bc.GROUPS)})):va(e,t,u);break}case v.CONTACTS_LIST_FETCH_SUCCEEDED:{const s=d.fetchGroupContactsNext,r=(0,t.getContactListSelectors)(),n=r.getSelectedGroup,a=(0,r.getCurrentFilter)(),o=n(a);if(!s||a!==h.bc.GROUPS||!o)break;return va(e,t,u)}case v.CONTACT_PICKER_GROUP_CHANGED:case v.CONTACT_PICKER_OPENED:case v.CONTACTS_GROUP_EDIT_EMAIL_SEARCH:return[Object(x.k)(h.bc.GROUPS),Object(x.k)(h.bc.GROUPS,d.value||h.jb,d.query)].reduce((e,t)=>c(t)?e:Pa(e,La({},d,{listId:t})),e)}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.CONTACTS_GROUP_FETCH_SUCCEEDED:case v.CONTACTS_GROUP_FETCH_FAILED:case v.CONTACTS_LIST_FETCH_SUCCEEDED:case v.CONTACTS_LIST_FETCH_FAILED:{const t=s.listId;if(s.unsyncedDataType!==h.Ce.CONTACTS_LIST||!t)break;return e.filter(({userInputtedValues:e})=>e.listId!==t)}}return e}},[h.Ce.CONTACTS_CATEGORY_LIST]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.actionTimestamp;switch(s.type){case v.CATEGORY_LIST_EXPANSION_TOGGLED:{const n=t.getListsSelectors,a=t.getContactListSelectors,o=(0,t.getStreamsSelectors)(),i=o.doesStreamExist,c=o.getExpansionStateForStreamItem,l=n().isListAlreadyLoaded,d=s.categoryListId,E=s.listId;if(!(i(E)&&c({streamId:E,listId:E,csid:d})))return e;if(l(d))return e;const _=Object(x.B)(d),u={listId:E,categoryListId:d,count:h.e,characters:[_],sortOrder:a().getContactsSortOrder()};return e.concat([{type:h.Ce.CONTACTS_CATEGORY_LIST,hash:"CATEGORY_CONTACTS_LIST_"+d+u.count,timestamp:r,userInputtedValues:u}])}}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.CONTACTS_LIST_FETCH_SUCCEEDED:case v.CONTACTS_LIST_FETCH_FAILED:{const t=s.listId,r=s.characters,n=s.count;if(s.unsyncedDataType!==h.Ce.CONTACTS_CATEGORY_LIST)break;return e.filter(e=>{const s=e.userInputtedValues,a=s.characters,o=s.count;return s.listId!==t||!p()(r,a)||o!==n})}}return e}},[h.Ce.CONTACT_DETAILS]:{preparer:(e=[],t)=>{const s=t.getAction,r=t.getRelatedListIdByContactId,n=(0,t.getRoute)(),a=s(),o=a.actionTimestamp;let i;switch(a.type){case v.CONTACTS_PANE_CONTACT_CLICKED:i=r(a.id);break;case v.LAUNCH_COMPLETED:case v.OPEN_PAGE_REQUESTED:n.name!==h.rd.CONTACT_DETAILS&&n.name!==h.rd.CONTACT_DETAILS_FROM_SEARCH&&n.name!==h.rd.EDIT_CONTACT||(i=r(n.params.id))}return i?e.concat([{type:h.Ce.CONTACT_DETAILS,hash:i,timestamp:o,userInputtedValues:{listId:i}}]):e},reconciler:(e,t)=>{const s=(0,t.getAction)(),r=s.listData,n=(void 0===r?{}:r).lists,a=void 0===n?{}:n;switch(s.type){case v.SEARCH_LIST_ITEMS_FAILED:return e.filter(e=>e.userInputtedValues.listId!==s.listId);default:return e.filter(e=>!a[e.userInputtedValues.listId])}}},[h.Ce.CONTACT_SAVE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.oldContact,n=s.newContact,a=s.image,o=s.actionTimestamp,i=s.skipContactDiffCheck;switch(s.type){case v.CONTACT_SAVE_REQUESTED:if(!r.id||!i&&p()(r,n)&&a)break;return e.concat([{type:h.Ce.CONTACT_SAVE,hash:"CONTACT_SAVE_"+r.id,timestamp:o,userInputtedValues:{newContact:n,oldContact:r,skipContactDiffCheck:i}}])}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.CONTACT_SAVE_SUCCEEDED:case v.CONTACT_SAVE_FAILED:return e.filter(e=>e.userInputtedValues.oldContact.id!==s.contact.id)}return e}},[h.Ce.CONTACT_PHOTO_UPLOAD]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.oldContact,n=void 0===r?{}:r,a=s.image,o=s.actionTimestamp;switch(s.type){case v.CONTACT_SAVE_REQUESTED:if(!a||!n.id)break;return e.concat({type:h.Ce.CONTACT_PHOTO_UPLOAD,hash:"CONTACT_PHOTO_UPLOAD_"+n.id,timestamp:o,userInputtedValues:{id:n.id,editToken:n.editToken,image:a}})}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.CONTACT_PHOTO_UPLOAD_SUCCEEDED:case v.CONTACT_PHOTO_UPLOAD_FAILED:return e.filter(e=>e.userInputtedValues.id!==s.contact.id)}return e}},[h.Ce.SOCIAL_ACCOUNT_AUTH_URL]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED:case v.SOCIAL_ACCOUNTS_CONNECT_REQUESTED:return(({provider:e,stateSelectors:t,unsyncedData:s,timestamp:r})=>{const n=t.getSetting;let a=h.Vd[e],o=h.ab[e];return(0,t.isFeatureEnabled)(h.Eb.USE_LINKEDIN_TEST_SPID)&&(a=h.Vd[h.Xd.LinkedInTest],o=null),s.concat({type:h.Ce.SOCIAL_ACCOUNT_AUTH_URL,hash:e,timestamp:r,userInputtedValues:{provider:e,spid:a,appRootPath:n(h.Kd.APP_ROOT_PATH),scope:o}})})({provider:s.provider,stateSelectors:t,unsyncedData:e,timestamp:s.actionTimestamp})}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED:case v.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED:return e.filter(e=>e.userInputtedValues.provider!==s.provider)}return e}},[h.Ce.SOCIAL_ACCOUNT_IMPORT]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED:return So({unsyncedData:e,action:s});case v.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED:case v.DISCONNECT_CONTACTS_PROVIDER_REQUESTED:return So({unsyncedData:e,action:s,enable:!1})}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED:case v.SOCIAL_ACCOUNTS_IMPORT_FAILED:{const t=s.enable,r=void 0===t||t;return e.filter(e=>e.userInputtedValues.provider!==s.provider||e.userInputtedValues.enable!==r)}}return e}},[h.Ce.SOCIAL_ACCOUNT_STATUS]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,r=t.getRoute,n=(0,t.getAction)(),a=n.actionTimestamp,o=n.type;if(!s(h.Eb.SOCIAL_ACCOUNTS))return e;switch(o){case v.LAUNCH_COMPLETED:if(0===e.length)return ho({timestamp:a});break;case v.OPEN_PAGE_REQUESTED:if(0===e.length&&r().name===h.rd.SETTINGS){const s=(0,t.getSocialAccountsStatus)();return Object(N.c)(s)?ho({timestamp:a}):e}}return e},reconciler:(e,t)=>{switch((0,t.getAction)().type){case v.SOCIAL_ACCOUNTS_STATUS_RECEIVED:case v.SOCIAL_ACCOUNT_STATUS_FETCH_FAILED:return[]}return e}},[h.Ce.CONTACT_CREATE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.type,n=s.oldContact,a=void 0===n?{}:n,o=s.newContact,i=s.image,c=s.actionTimestamp;switch(r){case v.CONTACT_SAVE_REQUESTED:if(a.id)break;return e.concat([{type:h.Ce.CONTACT_CREATE,hash:r+c,timestamp:c,userInputtedValues:{newContact:o,image:i,timestamp:c}}])}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.CREATE_CONTACT_FAILED:case v.CREATE_CONTACT_SUCCEEDED:return e.filter(e=>e.userInputtedValues.timestamp!==s.timestamp)}return e}},[h.Ce.CONTACT_DELETE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.DELETE_CONTACT_REQUESTED:{const t=s.actionTimestamp,r=s.listsToUpdate,n=s.itemsToUpdate;return e.concat([{type:h.Ce.CONTACT_DELETE,hash:Fa(n),timestamp:t,userInputtedValues:{listsToUpdate:r,itemsToUpdate:n}}])}}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.DELETE_CONTACT_FAILED:case v.DELETE_CONTACT_SUCCEEDED:{const t=s.itemsToUpdate,r=void 0===t?[]:t;Object(F.a)(r.every(({editToken:e})=>e),"Edit token expected in contact items to update");const n=Fa(r);return e.filter(e=>e.hash!==n)}}return e}},[h.Ce.CONTACT_GROUP_DELETE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.CONTACTS_GROUP_DELETE_REQUESTED:{const t=s.groupId;return e.concat([{type:h.Ce.CONTACT_GROUP_DELETE,hash:t,timestamp:s.actionTimestamp,userInputtedValues:{groupId:t}}])}}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.CONTACTS_GROUP_DELETE_FAILED:case v.CONTACTS_GROUP_DELETE_SUCCEEDED:{const t=s.groupId,r=void 0===t?"":t;return e.filter(e=>e.hash!==r)}}return e}},[h.Ce.IMPORT_CONTACTS_PROVIDERS_STATUS]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.actionTimestamp;switch(s.type){case v.LAUNCH_COMPLETED:case v.OPEN_PAGE_REQUESTED:if(mo(t))return[po(r)];break;case v.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED:if(h.Z.indexOf(s.provider)>-1&&mo(t))return[po(r,!0)]}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED:if(e&&e[0]&&e[0].userInputtedValues&&e[0].userInputtedValues.retryCount>0&&mo(t)){const t=s.response,r=void 0===t?{}:t;if(Object.keys(r).find(e=>r[e].status===h.Wd.QUEUED)){const t=po(s.actionTimestamp,!0);return t.userInputtedValues.retryCount=e[0].userInputtedValues.retryCount-1,t.repeat=!0,t.syncDefer=1e3,[t]}}return[];case v.CONTACTS_PROVIDERS_STATUS_FETCH_FAILED:return[]}return e}},[h.Ce.ENHANCE_CONTACTS_PREFERENCE_FETCH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.actionTimestamp;switch(s.type){case v.LAUNCH_COMPLETED:case v.OPEN_PAGE_REQUESTED:if((e=>{const t=(0,e.getRoute)(),s=t.params;return t.name===h.rd.SETTINGS&&(void 0===s?{}:s).settingsGroupId===h.Nd.CONTACTS})(t))return[{type:h.Ce.ENHANCE_CONTACTS_PREFERENCE_FETCH,timestamp:r,hash:h.Ce.ENHANCE_CONTACTS_PREFERENCE_FETCH,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{switch((0,t.getAction)().type){case v.SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED:case v.SETTINGS_ENHANCE_CONTACTS_FETCH_FAILED:return[]}return e}},[h.Ce.ENHANCE_CONTACTS_PREFERENCE_CHANGE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.actionTimestamp,n=s.enabled;switch(s.type){case v.SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED:return[{type:h.Ce.ENHANCE_CONTACTS_PREFERENCE_CHANGE,timestamp:r,hash:h.Ce.ENHANCE_CONTACTS_PREFERENCE_CHANGE,userInputtedValues:{enabled:n}}]}return e},reconciler:(e,t)=>{switch((0,t.getAction)().type){case v.SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED:case v.SETTINGS_ENHANCE_CONTACTS_CHANGE_FAILED:return[]}return e}}},{},{[h.Ce.MEMBERSHIP_REWARDS_LAUNCH]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,r=(0,t.getAction)(),n=r.type,a=r.actionTimestamp;if(!s(h.Eb.MEMBERSHIP_REWARDS))return e;switch(n){case v.LAUNCH_COMPLETED:case v.OPEN_PAGE_REQUESTED:return[{type:h.Ce.MEMBERSHIP_REWARDS_LAUNCH,hash:"MEMBERSHIP_REWARDS_LAUNCH_HASH",timestamp:a}];default:return e}},reconciler:(e,t)=>{const s=t.getMembershipRewardsSelectors,r=(0,t.getAction)().type;if(s().getAtosInfo().atosStatus)return[];switch(r){case v.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:case v.MEMBERSHIP_REWARDS_LAUNCH_FAILED:return[]}return e}},[h.Ce.TMR_REGISTER_ACTION]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,r=(0,t.getAction)(),n=r.type,a=r.actionTimestamp;if(!s(h.Eb.MEMBERSHIP_REWARDS))return e;switch(n){case v.ACCOUNT_ADD_SUCCEEDED:return[{type:h.Ce.TMR_REGISTER_ACTION,hash:"TMR_REGISTER_ACTION_HASH_"+go,timestamp:a,userInputtedValues:{rewardsActionType:go}}];case v.OPEN_PAGE_REQUESTED:return[{type:h.Ce.TMR_REGISTER_ACTION,hash:"TMR_REGISTER_ACTION_HASH_"+Co,timestamp:a,userInputtedValues:{rewardsActionType:Co}}];default:return e}},reconciler:(e,t)=>{const s=t.getMembershipRewardsSelectors,r=(0,t.getAction)(),n=s(),a=n.getRewardsActionsTimestamp,o=n.getRewardsAction,i=(0,n.isImapInCompleted)(),c=a(Co);switch(r.type){case v.TMR_REGISTER_ACTION_SUCCESS:case v.TMR_REGISTER_ACTION_FAILED:return e.filter(({userInputtedValues:e})=>r.rewardsActionType!==e.rewardsActionType)}return e.filter(({userInputtedValues:e,timestamp:t})=>{switch(e.rewardsActionType){case Co:{const e=o(Co).id,s=!!c&&new Date(c),r=new Date(t);return e&&s&&!Object(H.d)(s,r)}case go:return o(go).id&&!i;default:return!1}})}}},{},{[h.Ce.MARKETING_PREFERENCES_TO_UNSUBSCRIBE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.actionTimestamp,n=s.preferenceCode;switch(s.type){case v.UNSUBSCRIBE_MARKETING_PREFERENCES:return[{type:h.Ce.MARKETING_PREFERENCES_TO_UNSUBSCRIBE,hash:"MARKETING_PREFERENCES_TO_UNSUBSCRIBE_HASH",timestamp:r,userInputtedValues:{preferenceCode:n}}];default:return e}},reconciler:(e,t)=>{switch((0,t.getAction)().type){case v.MARKETING_PREFERENCES_WRITE_SUCCEEDED:case v.MARKETING_PREFERENCES_WRITE_FAILED:return[]}return e}},[h.Ce.DISPATCHER_UPSELLS]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,r=t.getSetting,n=t.getEnvironmentSelectors,a=(0,t.getAction)(),o=a.actionTimestamp,i=a.nextFeature;switch(a.type){case v.LAUNCH_COMPLETED:{if(!s(h.Eb.DISPATCHER_UPSELLS)&&!s(h.Eb.DISPATCHER_UPSELLS_ELIGIBLE)||i&&i!==h.Eb.DISPATCHER_UPSELLS||!Object(bo.b)({stateSelectors:t}))break;if(!(s(h.Eb.DISPATCHER_UPSELLS)||Object(Ns.c)({attribute:r(h.Kd.SCOUT_ONBOARDING),key:h.Eb.DISPATCHER_UPSELLS,recurringInterval:1209600})))break;const e=r(h.Kd.MARKETING_PREFERENCES_SETTING)||{},a=r(h.Kd.SELECTED_SUBSCRIPTION_UPSELL)||"",c=n().getOS(),l=Object.keys(e);return e[vs.e.YMAILPRO]||s(h.Eb.MAIL_PRO_ELIGIBLE)||l.push(vs.e.YMAILPRO),[{type:h.Ce.DISPATCHER_UPSELLS,hash:"ALL_UPSELLS",timestamp:o,userInputtedValues:{optOutCodes:l,selectedOfferId:a,clientos:c}}]}}return e},reconciler:(e,t)=>{switch((0,t.getAction)().type){case v.DISPATCHER_UPSELL_FETCH_SUCCEEDED:case v.DISPATCHER_UPSELL_FETCH_FAILED:return[]}return e}}},{[h.Ce.SUBSCRIPTION_LIST]:{preparer:(e=[],t)=>{const s=t.getRoute,r=t.getSelectedMailboxId,n=t.getEmailOfSelectedAccount,a=(0,t.getAction)(),o=s(),i=Object(x.z)(o);switch(a.type){case v.LAUNCH_COMPLETED:case v.OPEN_PAGE_REQUESTED:{const s=Object(x.F)(i)===h.cc.SUBSCRIPTIONS;if(o.name===h.rd.SUBSCRIPTION_LIST||a.type===v.LAUNCH_COMPLETED&&s&&(o.name===h.rd.LIST||o.name===h.rd.MESSAGE_FROM_LIST)){const s=t.getSelectedAccountId,o=r(),i=s(),c=n();return e.concat([{type:h.Ce.SUBSCRIPTION_LIST,hash:h.Yd.RELEVANCE,timestamp:a.actionTimestamp,userInputtedValues:{mailboxId:o,accountId:i,email:c,sortOrder:h.Yd.RELEVANCE}}])}return e}case v.SUBSCRIPTION_LIST_SORT_ORDER_CHANGED:{const s=t.getSelectedAccountId,o=r(),i=s(),c=n();return e.concat([{type:h.Ce.SUBSCRIPTION_LIST,hash:a.sortOrder,timestamp:a.actionTimestamp,userInputtedValues:{mailboxId:o,accountId:i,email:c,sortOrder:a.sortOrder}}])}default:return e}},reconciler:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:case v.SUBSCRIPTION_LIST_FETCH_FAILED:return e.filter(e=>e.userInputtedValues.sortOrder!==s.sortOrder);default:return e}}},[h.Ce.SUBHUB_RECOMMENDATION_LIST]:{preparer:(e=[],t)=>{const s=t.getSelectedMailboxId,r=t.getEmailOfSelectedAccount,n=t.isFeatureEnabled,a=(0,t.getAction)(),o=a.sortOrder;switch(a.type){case v.LAUNCH_COMPLETED:if(n(h.Eb.SUBHUB_RECOMMENDATIONS)){const n=t.getSelectedAccountId,i=s(),c=n(),l=r(),d=o||h.Yd.RELEVANCE;return e.concat([{type:h.Ce.SUBHUB_RECOMMENDATION_LIST,hash:d,timestamp:a.actionTimestamp,userInputtedValues:{mailboxId:i,accountId:c,email:l,sortOrder:d}}])}return e;default:return e}},reconciler:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:case v.SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED:return e.filter(e=>e.userInputtedValues.sortOrder!==s.sortOrder);default:return e}}},[h.Ce.UNSUBSCRIBE_EMAIL]:{preparer:(e=[],t)=>{const s=t.getSelectedMailboxId,r=t.getMessagesFolderIdSelectors,n=t.getAccountIdByFolderId,a=(0,t.getAction)();switch(a.type){case v.UNSUBSCRIBE_BY_EMAIL_REQUESTED:{const t=a.messageId,o=s(),i=n(r().getFolderId(a.messageId));return e.concat([{hash:t,timestamp:a.actionTimestamp,type:h.Ce.UNSUBSCRIBE_EMAIL,userInputtedValues:{messageId:t,mailboxId:o,accountId:i}}])}default:return e}},reconciler:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.UNSUBSCRIBE_BY_EMAIL_SUCCEEDED:case v.UNSUBSCRIBE_BY_EMAIL_FAILED:return e.filter(e=>e.userInputtedValues.messageId!==s.messageId);default:return e}}},[h.Ce.UNSUBSCRIBE_BRAND]:{preparer:(e=[],t)=>{const s=t.getSelectedMailboxId,r=(0,t.getAction)();switch(r.type){case v.UNSUBSCRIBE_BY_BRAND_REQUESTED:{const t=r.brandId,n=r.brandId.split(":"),a=s();return e.concat([{hash:t,timestamp:r.actionTimestamp,type:h.Ce.UNSUBSCRIBE_BRAND,userInputtedValues:{brandId:t,mailboxId:a,accountId:n[n.length-1]}}])}default:return e}},reconciler:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.UNSUBSCRIBE_BY_BRAND_SUCCEEDED:case v.UNSUBSCRIBE_BY_BRAND_FAILED:return e.filter(e=>e.userInputtedValues.brandId!==s.brandId);default:return e}}},[h.Ce.LAUNCH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.actionTimestamp;switch(s.type){case v.LAUNCH_PAGE_REQUESTED:return[{id:h.Ce.LAUNCH,hash:h.Ce.LAUNCH,timestamp:r,type:h.Ce.LAUNCH,userInputtedValues:s}]}return e},reconciler:(e=[],t)=>{const s=t.getSelectedMailboxId,r=(0,t.getAction)().type;if(s())return[];switch(r){case v.INITIAL_STATE:case v.LAUNCH_COMPLETED:case v.LAUNCH_ERROR:return[]}return e},syncSelector:(e=[],t)=>(0,t.getSelectedMailboxId)()?[]:e},[h.Ce.DOCUMENT_FETCH]:{preparer:(e=[],t)=>{const s=t.getRouteParams,r=(0,t.getAction)();switch(r.type){case v.LAUNCH_COMPLETED:case v.OPEN_PAGE_REQUESTED:case v.DOCUMENT_FETCH_REQUESTED:{const n=(s()||{}).attachmentId,a=Object(Ga.a)(t);return a?e.concat(((e,t,s,r,n)=>{const a=n.getAttachmentTypeByAttachmentId,o=n.getAttachmentSubtypeByAttachmentId,i=n.getDocumentRetryCount,c=n.getDocumentSelectors,l=(0,n.getAction)(),d=i(t,s,r),E=c(),_=[];let u;if(E.isDocumentLoaded(t)){const e=E.getNumberOfPages(t);r=Math.min(e,r)}for(u=s;u<=r;u++){const n=ka(t,u);_.push({id:n,hash:n,timestamp:l.actionTimestamp,type:h.Ce.DOCUMENT_FETCH,userInputtedValues:{attachmentId:e,documentId:t,pageNumber:u,startPage:s,endPage:r,retryCount:d,type:a(e),subtype:o(e)}})}return _})(n,a,r.startPage||1,r.endPage||h.D.PAGES_CHUNK_SIZE,t)):e}}return e},reconciler:(e=[],t)=>{const s=t.isDocumentLoaded,r=t.isDocumentPageLoaded,n=t.getDocumentRetryCount,a=(0,t.getAction)();return e.filter(e=>{const t=e.userInputtedValues,a=t.documentId,o=t.pageNumber;return!(n(a,t.startPage,t.endPage)>h.nb)&&(!s(a)||!r(a,o))}).filter(e=>{const t=e.userInputtedValues,s=t.documentId,r=t.startPage,n=t.endPage;switch(a.type){case v.DOCUMENT_FETCH_SUCCEEDED:case v.DOCUMENT_FETCH_FAILED:return!(s===a.documentId&&r===a.startPage&&n===a.endPage)}return!0})},syncSelector:(e=[])=>{const t=e.sort((e,t)=>e.timestamp-t.timestamp).reduce((e,t)=>{const s=t.userInputtedValues;return ja({},e,{[t.timestamp]:ja({hash:`${s.documentId}-${s.startPage}-${s.endPage}`},t)})},{});return Object(N.h)(t)}},[h.Ce.COMPOSE_SUGGESTIONS_FETCH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.query||"";switch(s.type){case v.CONTACT_SUGGESTIONS_REQUESTED:{const e=Ma(r,s.contextFrom,s.recipientList);return[{id:e,hash:e,timestamp:s.actionTimestamp,type:h.Ce.COMPOSE_SUGGESTIONS_FETCH,syncThrottle:12e4,syncDefer:200,userInputtedValues:s}]}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return e.filter(e=>{switch(s.type){case v.CONTACT_SUGGESTIONS_SUCCEEDED:case v.CONTACT_SUGGESTIONS_FAILED:{const t=Ma(s.query,s.contextFrom,s.recipientList);return e.id!==t}}return!0})}},[h.Ce.SEARCH_SUGGESTIONS_FETCH]:{preparer:(e=[],t)=>{const s=t.getRoute,r=t.getSmartViewTypeFromRoute,n=t.isFeatureEnabled,a=(0,t.getAction)(),o=a.query,i=void 0===o?"":o,c=a.fetchEmailSuggestions,l=void 0!==c&&c,d=n(h.Eb.SHOW_EMPTY_SEARCH_SUGGESTIONS),E=r(s());if(!i&&!d||E===h.Ud.GROCERIES)return e;switch(a.type){case v.SEARCH_INPUT_FOCUSED:case v.SUGGESTIONS_REQUESTED:return[{id:i||h.wb,hash:i||h.wb,timestamp:a.actionTimestamp,type:h.Ce.SEARCH_SUGGESTIONS_FETCH,syncThrottle:12e4,syncDefer:200,userInputtedValues:{query:i,fetchEmailSuggestions:l}}]}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return e.filter(e=>{switch(s.type){case v.SUGGESTIONS_RECEIVED:case v.SUGGESTIONS_FAILED:return e.id!==h.wb&&e.id!==s.query}return!0})}},[h.Ce.IMPORTANT_CONTACTS_FETCH]:{preparer:(e=[],t)=>{const s=t.getSelectedMailboxId,r=t.getAction,n=t.getEmailOfSelectedAccount,a=(0,t.getListsSelectors)().doesListExist;if(!s())return e;const o=r();switch(o.type){case v.SEARCH_INPUT_FOCUSED:{const t=n();return a(Object(x.t)(t))?e:[...e,wa({fromEmail:t,syncThrottle:6e5,action:o})]}case v.OPEN_PAGE_REQUESTED:case v.LAUNCH_COMPLETED:case v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{if(o.type!==v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED&&-1===[h.rd.NEW_DRAFT,h.rd.EDIT_DRAFT].indexOf(o.route.name))break;const t=n();return a(Object(x.t)(t))?e:e.concat(wa({fromEmail:t,action:o}))}case v.DELETE_CONTACT_FAILED:case v.DELETE_CONTACT_SUCCEEDED:{const t=o.listsToUpdate;return(void 0===t?[]:t).reduce((t,{listId:s})=>{if(Object(x.x)(s)!==h.bc.IMPORTANT_CONTACTS)return e;const r=Object(x.v)(s);return e.concat(wa({fromEmail:r,action:o}))},e)}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return e.filter(e=>{switch(s.type){case v.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case v.IMPORTANT_CONTACTS_FETCH_FAILED:return e.userInputtedValues.listId!==s.listId}return!0})}},[h.Ce.VIDEO_CHANNELS_METADATA_FETCH]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,r=(0,t.getAction)();if(!s(h.Eb.EMPTY_FOLDER_VIDEO)||s(h.Eb.AOL_VIDEO_PLAYER))return e;switch(r.type){case v.LAUNCH_COMPLETED:return[{id:h.Ce.VIDEO_CHANNELS_METADATA_FETCH,hash:"VIDEO_CHANNELS_METADATA_FETCH",timestamp:r.actionTimestamp,type:h.Ce.VIDEO_CHANNELS_METADATA_FETCH,userInputtedValues:{}}]}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.VIDEO_CHANNELS_METADATA_RECEIVED:case v.VIDEO_CHANNELS_METADATA_FAILED:return[]}return e}},[h.Ce.VIDEO_CHANNEL_FETCH]:{preparer:(e=[],t)=>{const s=t.getVideoChannelsMetaData,r=(0,t.getAction)(),a=r.actionTimestamp;switch(r.type){case v.VIDEO_CHANNELS_METADATA_RECEIVED:{const t=s(),r=Object.keys(t||{}),o=n()(r,1)[0];return o?[{id:o,hash:o,timestamp:a,type:h.Ce.VIDEO_CHANNEL_FETCH,userInputtedValues:{channelAlias:o}}]:e}case v.EMPTY_FOLDER_VIDEO_FETCH_CHANNEL:return[{id:r.channelAlias,hash:r.channelAlias,timestamp:a,type:h.Ce.VIDEO_CHANNEL_FETCH,userInputtedValues:r}]}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)(),r=s.type;return e.filter(e=>{switch(r){case v.VIDEO_CHANNEL_RECEIVED:case v.VIDEO_CHANNEL_FAILED:return e.id!==s.channel}return!0})}},[h.Ce.COMPOSE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.csid,n=s.listId;switch(s.type){case v.V3_MESSAGE_SEND_REQUESTED:return e.map(e=>Na({},e,{userInputtedValues:Na({},e.userInputtedValues,{},e.id===r&&{listId:n}),hash:e.hash||e.userInputtedValues.lastEditedTimeStamp||e.id,saveDueTimestamp:e.saveDueTimestamp||e.timestamp}));default:return e.map(e=>Na({},e,{hash:e.hash?e.hash:e.userInputtedValues.lastEditedTimeStamp||e.id,saveDueTimestamp:e.saveDueTimestamp?e.saveDueTimestamp:e.timestamp}))}},reconciler:(e,t)=>{const s=t.getAction,r=t.isOnline,a=t.isSendRequested,o=t.isSent,i=t.didAttachmentUploadFail,c=(0,t.getComposeSessionsSelectors)(),l=c.doesComposeSessionExist,d=c.isComposeSessionDirty,E=s(),_=e.filter(e=>{const t=e.userInputtedValues,s=void 0===t?{}:t,r=s.csid;return l(r)&&!o(r)&&(d(s)||a(r))}).reduce((e,t)=>{let s=t.saveDueTimestamp;return[v.V3_MESSAGE_SAVE_FAILED,v.V3_MESSAGE_SEND_FAILED].indexOf(E.type)>-1&&t.userInputtedValues.lastEditedTimeStamp===E.lastEditedTimeStamp&&(s=E.actionTimestamp),Na({},e,{[t.id]:(e[t.id]||[]).concat(Na({},t,{saveDueTimestamp:s}))})},{});if(!r()){const e=Object.keys(_).map(e=>{const t=_[e].sort((e,t)=>t.timestamp-e.timestamp).slice(0,1),s=n()(t,1)[0],r=(s.userInputtedValues.attachmentsInfo||[]).map(e=>e.contentId),a=_[e].reduce((e,t)=>e.concat(t.userInputtedValues.newContentIds||[]),[]).filter(e=>-1!==r.indexOf(e)&&!i(e));return Na({},s,{userInputtedValues:Na({},s.userInputtedValues,{newContentIds:a})})});return[].concat.apply([],e)}const u=Object.keys(_).map(e=>{const t=_[e].sort((e,t)=>t.timestamp-e.timestamp).slice(0,1),s=(n()(t,1)[0].userInputtedValues.attachmentsInfo||[]).map(e=>e.contentId),r=_[e].map(e=>Na({},e,{userInputtedValues:Na({},e.userInputtedValues,{newContentIds:(e.userInputtedValues.newContentIds||[]).filter(e=>-1!==s.indexOf(e)&&!i(e))})})),a=[...r].sort((e,t)=>e.timestamp-t.timestamp).find(e=>(e.userInputtedValues.newContentIds||[]).length);return a?r.filter(e=>e.timestamp>=a.timestamp):r.sort((e,t)=>t.timestamp-e.timestamp).slice(0,1)});return[].concat.apply([],u)},syncSelector:(e,t,s)=>{const r=t.isSendRequested,n=t.isAttachmentUploadPendingForComposeSession,a=t.getSetting,o=(0,t.getAction)(),i=o.type,c=o.forceSync,l=o.i13nModel,d=void 0===l?{}:l,E=a(h.Kd.COMPOSE_SAVE_INTERVAL),_=-1!==[v.OPEN_PAGE_REQUESTED,v.ONLINE_STATUS_CHANGED].indexOf(i)||i===v.SYNC_DATA&&c,u=e=>s-e.saveDueTimestamp>E,p=d.mKey===ae.g.MANUAL_SAVE_DRAFT,m=_;return e.filter(e=>{const s=e.userInputtedValues.newContentIds;return!!(void 0===s?[]:s).length||!n(e.id)&&(t.isSendRequested(e.id)||u(e)||m)}).map(e=>Na({},e,{hash:r(e.id)?e.id:e.hash,userInputtedValues:Na({},e.userInputtedValues,{showNotification:p||!u(e)})}))}},[h.Ce.MESSAGE_ITEM_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction(),r=Object(qa.a)(t),n=r.groupIds,a=r.messageIds,o=r.csid;if(n.length>0){return e.concat($a(n,t,s.type===v.LAUNCH_COMPLETED))}return a.length>0?e.concat(Qa(a,t)):o?e.concat(((e,t)=>{const s=(0,t.getAction)();return{type:h.Ce.MESSAGE_ITEM_TO_FETCH,id:e,hash:e,timestamp:s.actionTimestamp,userInputtedValues:{draftCsid:e,full:!0,secure:!1}}})(o,t)):e},reconciler:(e,t)=>{const s=t.doesMessageBodyHasError,r=t.doesMessageGroupIdExist,n=t.doesMessageBodyExist,a=t.isSecureMessage,o=t.doesMessageFullBodyExist,i=t.getDraftMessageId,c=t.isOnline,l=t.getMessageBodyRetryCount,d=(0,t.getAction)(),E=e;if(!c())return E.map(e=>za({},e,{timestamp:d.actionTimestamp}));const _=E.filter(e=>{if(e.userInputtedValues.messageId){const t=e.userInputtedValues,r=t.messageId,i=t.secure,c=t.full;if((d.messageIds||[]).indexOf(r)>-1){if(d.type===v.PREVIEW_MESSAGE_REQUESTED)return l(r)<=h.pc;if(d.type===v.MESSAGE_BODIES_FAILED)return!1}return!s(r)&&(!(!c&&n(r))&&(!n(r)||!i&&a(r)||!o(r)))}return e.userInputtedValues.messageGroupId?d.type===v.MESSAGE_GROUP_WITH_BODIES_FAILED?e.userInputtedValues.messageGroupId!==d.messageGroupId:!r(e.userInputtedValues.messageGroupId):!e.userInputtedValues.draftCsid||(d.type===v.MESSAGE_GROUP_WITH_BODIES_FAILED?e.userInputtedValues.draftCsid!==d.csid:!i(e.userInputtedValues.draftCsid))}),u={};return _.forEach(e=>{u[e.id]?e.userInputtedValues.full&&(u[e.id]=e):u[e.id]=e}),[...Object(N.h)(u)]},syncSelector:(e,t)=>{const s=t.isFeatureEnabled,r=e,n=r.some(e=>!1==!!e.userInputtedValues.prefetchMode),a=r.reduce((e,t)=>{if(t.userInputtedValues.messageGroupId||t.userInputtedValues.draftCsid)return za({},e,{[t.timestamp]:t});const s=`${t.timestamp}-${t.userInputtedValues.secure}-${t.userInputtedValues.full}`;if(!e[s]){return za({},e,{[s]:{type:h.Ce.MESSAGE_ITEM_TO_FETCH,id:s,hash:s,timestamp:t.timestamp,userInputtedValues:{messageIds:[t.userInputtedValues.messageId],secure:t.userInputtedValues.secure,full:t.userInputtedValues.full,isFallback:t.userInputtedValues.isFallback,prefetchMode:!1===n?t.userInputtedValues.prefetchMode:null,retryCount:t.userInputtedValues.retryCount}}})}return za({},e,{[s]:za({},e[s],{userInputtedValues:za({},e[s].userInputtedValues,{messageIds:e[s].userInputtedValues.messageIds.concat(t.userInputtedValues.messageId)})})})},{});return s(h.Eb.FALCON_TOM_SUBSCRIPTIONS_UPSELLS)&&!Object(N.c)(a)&&Object.keys(a).forEach(e=>{var s,r;const n=a[e],o=((e=[],t,s)=>{const r=s.getMessageIdsFromMessageGroupId,n=s.getListsSelectors,a=s.getGroupIdContainingMessageId,o=s.getSetting,i=s.getFalconTOMSubscriptionSelectors,c=s.isFeatureEnabled,l=e;let d,E,_=[];const u=(0,s.getCurrentListId)(),p=(0,(0,n().getItemIdsSelectors)(u).getItemIds)(),m=o(h.Kd.FALCON_TOM_SUBSCRIPTIONS_PREFETCH_COUNT);l.forEach((e,s)=>{const r=a(e);0===s&&t!==h.dd.LAUNCH&&(d=r,E=e);const n=p.indexOf(r),o=p.filter(e=>{const t=p.indexOf(e);return t!==n&&t<=n+m&&t>=n-m});_=_.concat(o).concat(r)}),_=Array.from(new Set(_));let S=[],C=[],g=!0;return _.forEach(e=>{const t=r(e)[0],s=i().getFalconTOMSubscriptionByGroupId;if(c(h.Eb.FALCON_TOM_ARBITRATION_ENABLED)){const e=Object(U.getHash)(t+h.td),s=parseInt(e,16)/4294967295,r=Object(U.generateRandomInteger)({min:0,max:10,randomSeed:s});g=0===r}!s(e)&&g?S=S.concat(e):C=C.concat(e)}),{ineligibleFalconTOMGroupIds:C,eligibleFalconTOMGroupIds:S,openedGroupId:d,openedMessageId:E}})(null==n||null===(s=n.userInputtedValues)||void 0===s?void 0:s.messageIds,null==n||null===(r=n.userInputtedValues)||void 0===r?void 0:r.prefetchMode,t);n.userInputtedValues=za({},n.userInputtedValues,{ineligibleFalconTOMGroupIds:o.ineligibleFalconTOMGroupIds,eligibleFalconTOMGroupIds:o.eligibleFalconTOMGroupIds,openedGroupId:o.openedGroupId,openedMessageId:o.openedMessageId})}),[].concat.apply([],Object(N.h)(a))}},[h.Ce.LIST_TO_UPDATE]:{preparer:(e=[],t)=>{const s=(0,t.getRoute)(),r=Object(x.z)(s);return!s.name||s.name===h.rd.SUBSCRIPTION_LIST||!Object(x.ab)(r)||r&&Object(x.i)(r)?e:e.concat(Ka({listId:r},t))},reconciler:(e,t)=>{const s=(0,t.getAction)(),r=s.listsToUpdate,n=void 0===r?[]:r,a=s.listData,o=(void 0===a?{}:a).lists,i=void 0===o?{}:o;let c=e;return n.length&&(c=e.map(e=>n.some(t=>t.listId===e.id)?Ka({listId:e.id,isStale:!0},t):e)),Object.keys(i).length&&(c=e.map(e=>i[e.id]?Ka({listId:e.id},t):e)),c},syncSelector:(e,t)=>{const s=t.doesListExist,r=t.getCurrentListId,n=t.getSetting,a=t.isAsyncTaskPending,o=t.getSelectedMailboxId,i=t.getRoute,c=t.getAppName,l=t.getPrescribedNumberOfColumns,d=t.isFeatureEnabled,E=t.getSmartViewTypeFromRoute,_=t.isMessageUpdatePending,u=t.getAccountSelectors,p=(0,t.getAction)(),m=i()||{},S=p.previousRoute,C=void 0===S?{}:S,g=r(),O=u().userHasRegisteredAccount(),T=e.find(e=>e.id===g),A=Object(x.w)(g),I=d(h.Eb.DEALS)&&m.name===h.rd.SEARCH&&E(m)===h.Ud.COUPONS,f=d(h.Eb.DEALS)&&E(m)===h.Ud.COUPONS&&A===h.ac.COUPON_CARDS,D=c()===h.B.MOBILE_APP&&2===l();if(!m.url||!D&&-1!==[h.rd.MESSAGE_FROM_SEARCH_LIST].indexOf(m.name)||!T||!o()||a()||I||f||_()||!O)return[];const R=T.userInputtedValues.isStale&&-1!==[h.rd.LIST,h.rd.FOLDER,h.rd.SEARCH].indexOf(m.name),b=!(m.url!==C.url&&p.type!==v.CHECK_MAIL_FAILED&&(R||!s(g))||p.type===v.LAUNCH_COMPLETED&&!s(g)||p.type===v.UNDO_MOVE_SUCCEEDED||p.forceSync);return[Wa({},T,{userInputtedValues:Wa({},T.userInputtedValues,{loadMoreItems:p.type===v.MORE_ITEMS_REQUESTED,forceSync:p.forceSync,userInitiated:p.userInitiated}),syncThrottle:500,repeat:b,syncDefer:b?n(h.Kd.CHECK_MAIL_INTERVAL):0})]}},[h.Ce.LOCATION_TO_UPDATE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.actionTimestamp,n=s.location;switch(s.type){case v.SETTINGS_LOCATION_CHANGE_REQUESTED:return[{id:h.Ce.LOCATION_TO_UPDATE,hash:h.Ce.LOCATION_TO_UPDATE,timestamp:r,type:h.Ce.LOCATION_TO_UPDATE,userInputtedValues:{location:n}}]}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.SETTINGS_LOCATION_CHANGE_FAILED:case v.SETTINGS_LOCATION_CHANGE_SUCCEEDED:return[]}return e}},[h.Ce.CONVERSATION_MODE_TO_UPDATE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.actionTimestamp,n=s.value;switch(s.type){case v.CONVERSATIONS_CHANGE_REQUESTED:return[{hash:h.Ce.CONVERSATION_MODE_TO_UPDATE,timestamp:r,type:h.Ce.CONVERSATION_MODE_TO_UPDATE,userInputtedValues:{value:n}}]}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.CONVERSATIONS_CHANGE_SUCCEEDED:case v.CONVERSATIONS_CHANGE_FAILED:return[]}return e}},[h.Ce.PARENT_MESSAGE_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const s=t(),r=s.cardConversationId,n=s.actionTimestamp;switch(s.type){case v.PARENT_MESSAGE_METADATA_REQUESTED:return e.concat([{type:h.Ce.PARENT_MESSAGE_TO_FETCH,hash:r,timestamp:n,userInputtedValues:{cardConversationId:r}}]);default:return e}},reconciler:(e,{getAction:t})=>{const s=t(),r=s.cardConversationId,n=void 0===r?"":r;switch(s.type){case v.PARENT_MESSAGE_METADATA_SUCCEEDED:case v.PARENT_MESSAGE_METADATA_FAILED:return[];default:return n?e:[]}}},[h.Ce.COUPONS_TO_FETCH]:{preparer:(e=[],{getAction:t,getRoute:s,isFeatureEnabled:r,getSelectedAccountId:n})=>{const a=t(),o=a.actionTimestamp;switch(a.type){case v.LAUNCH_PAGE_REQUESTED:case v.LAUNCH_ERROR:return e;default:{const t=s(),i=Object(x.z)(t),c=r(h.Eb.DEALS)&&t.name===h.rd.SEARCH,l=Object(x.v)(i),d=Object(x.n)(i),E=n(),_=r(h.Eb.DEALS),u=Object(x.gb)(i,{listContentType:h.ac.COUPON_CARDS,listFilter:h.bc.ALL_COUPON_CARDS,referrer:h.Sd.COUPONS,accountIds:[E]}),p=Object(x.gb)(i,{listContentType:h.ac.COUPON_CARDS,listFilter:h.bc.SAVED_COUPON_CARDS,referrer:h.Sd.COUPONS,accountIds:[E]}),m=[{type:h.Ce.COUPONS_TO_FETCH,hash:`${h.Ce.COUPONS_TO_FETCH}-${u}`,timestamp:o,userInputtedValues:{listId:u,decoId:[h.Cc.CPN],isSearch:c,keyword:l,emailAddress:d,action:a}}];return _&&c||m.push({type:h.Ce.COUPONS_TO_FETCH,hash:`${h.Ce.COUPONS_TO_FETCH}-${p}`,timestamp:o,userInputtedValues:{listId:p,decoId:[h.Cc.CPN,h.Cc.TAG],isSearch:c,keyword:l,emailAddress:d}}),e.concat(m)}}},reconciler:(e=[],{getAction:t,doesListExist:s,isFeatureEnabled:r,doesListHasMoreItems:n,getSmartViewTypeFromRoute:a,getRoute:o})=>{const i=t().type,c=a(o());switch(i){case v.MORE_COUPONS_REQUESTED:return e.filter(({userInputtedValues:{listId:e,action:t,isSearch:a}})=>(r(h.Eb.DEALS)||t||a)&&s(e)&&c===h.Ud.COUPONS&&n(e));case v.COUPONS_LIST_SUCCEEDED:case v.COUPONS_LIST_FAILED:return[];default:return e.filter(({userInputtedValues:{listId:e,isSearch:t}})=>(r(h.Eb.DEALS)||t)&&!s(e)&&(c===h.Ud.COUPONS||c===h.Ud.COUPON_EMAILS)&&Object(x.w)(e)===h.ac.COUPON_CARDS)}}},[h.Ce.GEMINI_AD_ASSET]:{preparer:(e=[],t)=>{const s=t.getAdsSelectors,r=t.getRoute,n=(0,t.getAction)(),a=n.actionTimestamp;if(-1===[v.OPEN_PAGE_REQUESTED,v.LAUNCH_COMPLETED].indexOf(n.type))return e;const o=r();if(o.name!==h.rd.SPONSORED_MESSAGE)return e;const i=((0,s().getGeminiAdDataFromCreativeId)(Object(N.b)(o,"params.creativeId"))||{}).nativeAd,c=void 0===i?{}:i;return c.geminiSponsoredAsset||!c.url?e:e.concat([{type:h.Ce.GEMINI_AD_ASSET,hash:"GEMINI_AD_ASSET_HASH-"+o.params.creativeId,timestamp:a,userInputtedValues:{dataType:h.Ce.GEMINI_AD_ASSET,creativeId:o.params.creativeId,url:c.url}}])},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.GEMINI_SPONSORED_ASSET_RECEIVED:case v.GEMINI_SPONSORED_ASSET_FAILED:return e.filter(({userInputtedValues:e})=>e.creativeId!==s.creativeId);default:return e}}},[h.Ce.RELATED_SEARCHES_TO_FETCH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.actionTimestamp;switch(s.type){case v.OPEN_PAGE_REQUESTED:case v.LAUNCH_COMPLETED:return[{type:h.Ce.RELATED_SEARCHES_TO_FETCH,hash:"RELATED_SEARCHES_UNSYNCED_DATA_HASH",timestamp:r,userInputtedValues:{dataType:h.Ce.RELATED_SEARCHES_TO_FETCH}}];default:return e}},reconciler:(e,t)=>{const s=t.getAction,r=t.isFeatureEnabled,n=(0,(0,t.getAdsSelectors)().getRelatedSearches)(),a=s();if(!r(h.Eb.RELATED_SEARCHES_CARD)||n&&Object.keys(n).length)return[];switch(a.type){case v.RELATED_SEARCHES_FETCH_SUCCEEDED:case v.RELATED_SEARCHES_FETCH_FAILED:return[]}return e}},[h.Ce.MESSAGE_ITEM_TO_UPDATE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();if(!(e=>to.indexOf(e)>=0)(s.type))return e;if(s.type===v.BLOCK_SENDERS_WITH_DELETE_REQUESTED){const r=s.itemsToUpdate.filter(e=>!!e.messageQuery);return e.concat(io(r,t))}return e.concat(io(s.itemsToUpdate,t))},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return Object(N.h)(e.sort((e,t)=>e.timestamp-t.timestamp).reduce((e,t)=>{const s=e[t.id]?eo({},e[t.id].userInputtedValues,{},t.userInputtedValues):t.userInputtedValues;return eo({},e,{[t.id]:eo({},e[t.id]||t,{userInputtedValues:s})})},{})).map(e=>co(s,e)).filter(e=>Object.keys(e.userInputtedValues).length)},syncSelector:(e=[],t)=>{const s=t.getMessageFlags,r=t.getMessageFolderId,n=t.getAccountIdByFolderId,a=t.isFeatureEnabled,o=(0,t.getAction)(),i=o.actionTimestamp,c=o.type,l=o.isRead,d=!a(h.Eb.MARK_AS_READ_DEFER)||lo(e,t)?0:2e3,E=e.map(e=>{const t=Object(N.h)(e.userInputtedValues),a=e.id,o=t[0],i=o&&o.messageQuery,c=i?void 0:a,l=Object.keys(e.userInputtedValues);let d,E,_,u=t.reduce((e,t)=>Math.max(e,t.modSeq),0);if(isNaN(u)&&(u=i?void 0:Date.now()),i)E=o.flags,d=o.destinationFolder,_=void 0;else{const e=r(a);_=e?n(e):void 0,d={id:e},E=s(a)}return eo({id:a,messageId:c,permanentDelete:t.some(e=>e.permanentDelete),updateTypes:l,messageQuery:i,deleteDuplicates:t.some(e=>e.deleteDuplicates),flags:E,folder:d,sourceFolder:o.folder,modSeq:u},_?{accountId:_}:{})}).map(e=>{const t=eo({},e);return e.updateTypes.forEach(e=>{const s=no[e];s&&(t.flags=eo({},t.flags||{},{[s]:!!(t.flags||{})[s]}))}),t});return!E.length||(e=>so.indexOf(e)>=0)(c)?[]:[{type:h.Ce.MESSAGE_ITEM_TO_UPDATE,id:h.Ce.MESSAGE_ITEM_TO_UPDATE,hash:h.Ce.MESSAGE_ITEM_TO_UPDATE,timestamp:i,userInputtedValues:{messageItemsToSync:E,isRead:l},syncDefer:d}]}},[h.Ce.ASYNC_TASK_STATUS]:{preparer:(e=[],t)=>{const s=t.getAction,r=s(),n=r.actionTimestamp;switch(r.type){case v.MOVE_ITEMS_REQUESTED:case v.MOVE_AND_READ_CHANGE_REQUESTED:case v.DELETE_ITEMS_REQUESTED:case v.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case v.READ_CHANGE_REQUESTED:case v.STAR_CHANGE_REQUESTED:{const t=s(),r=t.isAsync;return void 0!==r&&r?[{type:h.Ce.ASYNC_TASK_STATUS,hash:"ASYNC_TASK_STATUS_HASH",timestamp:n,userInputtedValues:{taskId:null,status:h.K.INIT,progress:0,pollCount:0,abort:!1,actionPayload:t}}]:e}case v.BULK_PROGRESS_INITIATED:{const e=s(),t=e.tasks,r=void 0===t?[]:t,a=_t()(e,["tasks"]);return r.map(({id:e,status:t,progress:s,pollCount:r=0})=>({type:h.Ce.ASYNC_TASK_STATUS,hash:e,timestamp:n,userInputtedValues:{taskId:e,status:t,progress:s,pollCount:r,abort:!1,actionPayload:a}}))}case v.BULK_PROGRESS_RECEIVED:{const t=s(),r=t.id,a=t.status,o=t.progress,i=t.pollCount,c=void 0===i?0:i;return e.map(e=>e.userInputtedValues.taskId&&r!==e.userInputtedValues.taskId?e:Ta({},e,{timestamp:n,userInputtedValues:Ta({},e.userInputtedValues,{taskId:r,status:a,progress:o,pollCount:c})}))}case v.BULK_CANCEL_REQUESTED:return e.map(e=>Ta({},e,{timestamp:n,userInputtedValues:Ta({},e.userInputtedValues,{abort:!0})}));default:return e}},reconciler:(e,t)=>{const s=t.isOnline,r=(0,t.getAction)(),n=r.type,a=r.triageActionType;if(!s())return e.length>0?[]:e;switch(n){case v.UPDATE_ITEMS_SUCCEEDED:case v.UPDATE_ITEMS_FAILED:return e.filter(e=>Object(N.b)(e,"userInputtedValues.actionPayload.triageActionType",void 0)!==a);case v.BULK_CANCEL_FAILED:return e.length>0?[]:e;default:return e}},syncSelector:(e=[],t,s)=>{const r=(0,t.getFeaturesSelectors)().getSetting(h.Kd.ASYNC_TASK_POLL_INTERVAL);return e.filter(e=>{const t=e.userInputtedValues;return!!t.abort||!!t.taskId&&!(s-e.timestamp<r)})}},[h.Ce.CONTACT_CARD]:{preparer:(e=[],t)=>{const s=t.doesListExist,r=t.doesMessageGroupIdExist,n=t.getAction,a=t.getListsSelectors,o=t.getMessageIdsFromMessageGroupId,i=t.getMessagesSelectors,c=t.getRouteParams,l=t.getSetting,d=t.isFeatureEnabled,E=t.isMessageRoute,_=t.isMobileRoute,u=t.isNarrowScreen,p=(0,t.getContactListSelectors)().getContactByEmail,m=i(),S=m.doesMessageIdExist,C=m.getFromAddresses,g=n(),O=g.actionTimestamp,T=e=>{const t=[];return null==e||e.forEach(e=>{var s;if(!S(e))return;const r=null===(s=C(e)[0])||void 0===s?void 0:s.email;p(r)||t.includes(r)||t.push(r)}),t},A=()=>{const e=g.streamItem,t=void 0===e?{}:e,s=null==t?void 0:t.id;return s&&o(s)||[]},I=(e,t,s=!1)=>{const r=t.isDraftMessage,n=t.getHashParams,a=t.getCurrentListId,o=t.getStreamsSelectors,i=t.getMessageCsid,c=(0,t.getMessageIdsFromMessageGroupId)(e)||[],l=c.filter(e=>!r(e)),d=l[l.length-1],E=(n()||{}).messageId,_=a(),u=Object(K.b)(_,e),p=o(),m=p.getExpansionStateForStreamItem,S=[];(0,p.doesExpansionStateExist)(u)&&c.forEach(e=>{const t={streamId:u,csid:i(e),listId:Object(x.gb)(_,{listContentType:h.ac.MESSAGE})},s=m(t);s!==h.L.EXPANDED&&s!==h.L.TEMPORARY_EXPANSION||S.push(e)});const C=c.filter(e=>e===E||e===d||-1!==S.indexOf(e));return s?C.slice(0,2):C},f=(e=[],n)=>e.reduce((e,o)=>{if(r(o)){const i=I(o,t,n),c=(e=>{const n=g.listId;if(!n||!s(n)||Object(x.w)(n)!==h.ac.MESSAGES)return[];const o=a().getItemIdsSelectors,i=l(h.Kd.NEIGHBOR_PREFETCH_COUNT);if(0===i)return[];const c=o(n).getItemIds(),d=c.indexOf(e);return c.filter(e=>{const t=c.indexOf(e);return t!==d&&t<=d+i&&t>=d-i}).reduce((e,s)=>{if(r(s))return e.concat(I(s,t,!0))},[])})(o);return e.concat(i).concat(c)}},[]),D=({unsyncedData:e,emails:t,isPrefetch:s})=>t.length?e.concat({type:h.Ce.CONTACT_CARD,hash:t.join(),timestamp:O,userInputtedValues:{emails:t,isPrefetch:s}}):e;switch(g.type){case v.CONTACT_DETAIL_FETCH_REQUESTED:{const t=g.email;return p(t)?e:D({unsyncedData:e,emails:[t],isPrefetch:!1})}case v.LAUNCH_COMPLETED:{const t=g.listId,s=a().getItemIdsSelectors;if(!d(h.Eb.XOBNI_PREFETCH)||!t||Object(x.w)(t)!==h.ac.MESSAGES)return e;return D({unsyncedData:e,emails:T((0,s(t).getItemIds)().slice(0,l(h.Kd.NUM_MESSAGE_GROUPS_TO_PREFETCH)).map(e=>{var t;return null===(t=f([e],!0))||void 0===t?void 0:t[0]})),isPrefetch:!0})}case v.OPEN_PAGE_REQUESTED:if(E()&&d(h.Eb.XOBNI_PREFETCH)){return D({unsyncedData:e,emails:T((()=>{const e=c();return f([e.groupId],!0)})()),isPrefetch:!0})}if(E()&&(u()&&!_()||d(h.Eb.NOBLE_WEB_LINK))){return D({unsyncedData:e,emails:T(A()),isPrefetch:!1})}return e;case v.PREVIEW_MESSAGE_REQUESTED:if(d(h.Eb.XOBNI_PREFETCH)){return D({unsyncedData:e,emails:T(f([g.itemId])),isPrefetch:!0})}if(u()&&!_()){return D({unsyncedData:e,emails:T(A()),isPrefetch:!1})}return e;default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)(),r=e.filter((t,s)=>{const r=t.userInputtedValues.emails;return 1!==r.length||!e.some((e,t)=>e.userInputtedValues.emails.includes(r[0])&&t!==s)});switch(s.type){case v.CONTACT_DETAIL_FETCH_SUCCEEDED:case v.CONTACT_DETAIL_FETCH_FAILED:return r.filter(e=>!p()(s.emails,e.userInputtedValues.emails))}return r}},[h.Ce.COMPONENT_UI_STATE]:{preparer:(e=[])=>e.sort((e,t)=>t.timestamp-e.timestamp).slice(0,10),syncSelector:()=>[]},[h.Ce.ACCOUNT_TO_UPDATE]:{preparer:Ca,reconciler:ga,syncSelector:e=>{const t=ha()(e,e=>e.timestamp);return t?[t]:[]}},[h.Ce.SETTINGS_TO_CHANGE]:{preparer:(e=[],t)=>{const s=t.getAction(),r=s.name,n=s.actionTimestamp,a=s.shownMaxTimes,o=void 0!==a&&a;switch(s.type){case v.PAC_CUE_MARK_AS_SHOWN_REQUESTED:case v.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:return-1===[h.Eb.WEB_PAC_NOTIFICATION_CUE,h.Eb.MOBILE_PAC_NOTIFICATION_CUE].indexOf(r)?e:r!==h.Eb.WEB_PAC_NOTIFICATION_CUE||o?e.concat(uo({actionTimestamp:n,accountId:"none",updatedSettingAttributes:[{name:h.Kd.SHOW_IMAGES,value:!0}]})):e;case v.THEME_MODE_CHANGE_REQUESTED:case v.OPEN_PAGE_REQUESTED:{const t=s.updatedSettingAttributes,r=s.accountId,a=void 0===r?"none":r;return t?e.concat(uo({accountId:a,updatedSettingAttributes:t,actionTimestamp:n})):e}case v.FEATURE_DISABLED:return s.name!==h.Eb.NON_NATIVE_APP_BANNERS?e:e.concat([uo({accountId:t.getSelectedAccountId(),updatedSettingAttributes:[{name:h.Kd.DO_NOT_UPSELL_APP,value:!0}],actionTimestamp:n})]);default:return e}},reconciler:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.SETTINGS_CHANGE_FAILED:case v.SETTINGS_CHANGE_SUCCEEDED:if(s.requestActionPayload){const t=s.requestActionPayload,r=t.requestTimestamp,n=t.accountId;return e.filter(e=>e.userInputtedValues.accountId!==n||r<e.timestamp)}return e}return e},syncSelector:e=>{if(!e.length)return[];e.sort((e,t)=>e.timestamp-t.timestamp);const t=e.reduce((e,t)=>{const s=t.userInputtedValues,r=s.accountId,n=s.updatedSettingAttributes,a=s.requestTimestamp;e[r]||(e[r]={});const o=e[r].userInputtedValues,i=void 0===o?{}:o;return e[r]=_o({},e[r],{type:h.Ce.SETTINGS_TO_CHANGE,hash:h.Ce.SETTINGS_TO_CHANGE+r,timestamp:t.timestamp,userInputtedValues:_o({},i,{updatedSettingAttributes:_o({},i.updatedSettingAttributes||{},{},n.reduce((e,{name:t,value:s})=>(e[t]=s,e),{})),accountId:r,requestTimestamp:a})}),e},{});return Object.keys(t).reduce((e,s)=>{const r=t[s],n=r.userInputtedValues;return n.updatedSettingAttributes=Object.keys(n.updatedSettingAttributes).reduce((e,t)=>[...e,{name:t,value:n.updatedSettingAttributes[t]}],[]),[...e,r]},[])}},[h.Ce.FOLDER]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.type,n=s.folderId,a=s.folderName,o=s.actionTimestamp,i=s.filters,c=s.originalFolderName,l=s.newFolderName,d=s.subfolders;switch(r){case v.RENAME_FOLDER_REQUESTED:case v.MOVE_FOLDER_REQUESTED:case v.DELETE_FOLDER_REQUESTED:return e.concat([{type:h.Ce.FOLDER,hash:n,timestamp:o,userInputtedValues:{folderId:n,folderName:a,filters:i,originalFolderName:c,newFolderName:l,updateType:r,subfolders:d}}]);default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.RENAME_FOLDER_SUCCEEDED:case v.RENAME_FOLDER_FAILED:return e.filter(({userInputtedValues:e})=>e.folderId!==s.folderId||e.updateType!==v.RENAME_FOLDER_REQUESTED);case v.MOVE_FOLDER_SUCCEEDED:case v.MOVE_FOLDER_FAILED:return e.filter(({userInputtedValues:e})=>e.folderId!==s.folderId||e.updateType!==v.MOVE_FOLDER_REQUESTED);case v.DELETE_FOLDER_SUCCEEDED:case v.DELETE_FOLDER_FAILED:return e.filter(({userInputtedValues:e})=>e.folderId!==s.folderId||e.updateType!==v.DELETE_FOLDER_REQUESTED)}return e}},[h.Ce.GEMINI_AD]:{preparer:(e=[],t)=>{const s=t.getAction,r=t.getAdSectionIds,n=t.getCurrentSpaceId,a=t.isFeatureEnabled;if(!a(h.Eb.PENCIL_AD)&&!a(h.Eb.RR_AD_BLOCK_DPA_ADS))return[];const o=s(),i=r(),c=n();return Object(N.c)(i)||!c?e:e.concat(Object.keys(i).map(e=>({type:h.Ce.GEMINI_AD,hash:"GEMINI_AD_HASH-"+i[e],timestamp:o.actionTimestamp,userInputtedValues:{spaceId:c,sectionId:i[e],adPosition:e}})))},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.GEMINI_AD_RECEIVED:case v.GEMINI_AD_FAILED:return e.filter(({userInputtedValues:e})=>-1===Object(N.h)(s.sectionIds).indexOf(e.sectionId));default:return e}},syncSelector:(()=>{let e={},t={},s={};return(r,n,a)=>{if(!r.length||"undefined"==typeof window)return[];const o=n.getAdSectionIds,i=n.getRoute,c=n.getSelectedMailboxId,l=n.getStreamsSelectors,d=n.getSetting,E=n.getCurrentListId,_=n.isFeatureEnabled,u=n.getAdsSelectors,p=n.getReconciledUnysncedDataByHash,m=n.getEnvironmentSelectors,S=n.getSmartViewTypeFromRoute,C=n.getAdListItemsSelectors,g=n.getMailproFreeTrialSelectors,O=(0,n.getAction)(),T=o(),A=i(),I=l(),f=I.doesStreamExist,D=I.getCursorSelectors,R=u(),M=R.getFeedbackStartedSectionIds,y=R.getCachedGeminiAds,L=R.getAdFeedbackStatus,P=-1!==[h.rd.FOLDER,h.rd.SEARCH,h.rd.LIST].indexOf(A.name),F=O.type===v.HIDE_RIGHT_PANE_ADS&&_(h.Eb.RIGHT_RAIL_UPSELL_VIDEO_AD),U=S(A)===h.Ud.COUPONS;let w=!1,G=!1,H=!1;if(O.streamId&&f(O.streamId)&&d(h.Kd.PREVIEW_PANE)!==h.ed.NO&&P){const t=D(O.streamId).getCursorItem();!t||t.id===e.id&&t.listId===e.listId||Object(x.w)(t.listId)!==h.ac.MESSAGES||(e=t,w=!0)}c()&&!Object(V.F)(A,t)&&(G=!0,t=A),Object(N.f)(T,s)||(H=!0,s=T);const j=-1!==[v.PREVIEW_MESSAGE_CLOSED,v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED].indexOf(O.type)||G||H||U&&O.type===v.LAUNCH_COMPLETED,k=Object(X.h)(O),B=w||k||j,W=M().length>0,K=g().getUpsellId(),q=_("drawer")&&!(A.name===h.rd.FOLDER||Object(x.Z)(A));if(U&&-1===[v.OPEN_PAGE_REQUESTED,v.LAUNCH_COMPLETED].indexOf(O.type))return[];if(!F&&(!B||W||q))return[];if(_(h.Eb.MAILPRO_FREE_TRIAL_UPSELLS)&&K===h.hc.PRE_SIGNUP_PENCIL_BANNER)return[];const Y=E(),z=p(Object(x.eb)(Y))||{},Q=Object(N.b)(z,"uiState.scrollTop",0),Z=m().getWindowDimensions().contentAndRightRailHeight,$=b.P+(_(h.Eb.SECOND_PENCIL_AD)?Z:0),J=d(h.Kd.GEMINI_SECTION_IDS),ee=[J[h.Nb.MESSAGE_LIST],J[h.Nb.MESSAGE_LIST_2],J[h.Nb.MESSAGE_LIST_2_FALLBACK],J[h.Nb.MESSAGE_LIST_CAROUSEL]].filter(Boolean),te=d(h.Kd.TIME_TO_WAIT_SINCE_LAST_AD_CALL),se=L()[J[h.Nb.SHOPPING_CART]],re=r.filter(({userInputtedValues:e})=>!_(h.Eb.ROTATE_PENCIL_AD_ON_EXPIRE)||y(e.sectionId).length<=2).filter(({userInputtedValues:e})=>-1!==Object(N.h)(T).indexOf(e.sectionId)).filter(({userInputtedValues:e})=>!(P&&(Object(x.G)(Y)&&!Object(x.Z)(A)||Object(x.U)(Y)||Q>$)&&-1!==ee.indexOf(e.sectionId))).filter(e=>j||a-e.timestamp>te).filter(({userInputtedValues:e})=>!C().isAdMarkedForSkipRotation(e.adPosition)).filter(({userInputtedValues:e})=>!se||e.sectionId!==J[h.Nb.SHOPPING_CART]);return re.length?re.reduce((e,t)=>{const s=t.userInputtedValues,r=t.timestamp,n=s.spaceId,a=s.sectionId,o=s.adPosition;return e[0]?[Ba({},e[0],{userInputtedValues:Ba({},e[0].userInputtedValues,{sectionIds:Ba({},e[0].userInputtedValues.sectionIds,{[o]:a})})})]:[{type:h.Ce.GEMINI_AD,hash:"GEMINI_AD_HASH",timestamp:r,userInputtedValues:{spaceId:n,sectionIds:{[o]:a}}}]},[]):[]}})()},[h.Ce.VACATION_RESPONSE_SETTINGS]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.value,n=s.actionType,a=s.actionTimestamp;switch(s.type){case v.SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED:return[{type:h.Ce.VACATION_RESPONSE_SETTINGS,hash:h.De.SAVE_VACATION_RESPONSE,timestamp:a,warnOnClose:!0,userInputtedValues:{value:r,actionType:n,requestTimestamp:a}}];default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED:case v.SETTINGS_SAVE_VACATION_PREFERENCES_FAILED:return e.filter(e=>e.hash!==h.De.PREVENT_ROUTE_CHANGE&&e.timestamp>s.requestTimestamp);default:return e.filter(e=>e.hash!==h.De.PREVENT_ROUTE_CHANGE)}}},[h.Ce.RAW_MESSAGE]:{syncSelector:(e,t)=>{const s=(0,t.getAction)(),r=s.messageId;return s.type!==v.VIEW_RAW_MESSAGE?[]:[{type:h.Ce.RAW_MESSAGE,hash:r,timestamp:s.actionTimestamp,userInputtedValues:{dataType:h.Ce.RAW_MESSAGE,messageId:r}}]}},[h.Ce.RAW_MESSAGE_TO_FETCH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.messageId;return s.type!==v.FETCH_RAW_MESSAGE?e:e.concat([{type:h.Ce.RAW_MESSAGE_TO_FETCH,hash:h.Ce.RAW_MESSAGE_TO_FETCH+r,timestamp:s.actionTimestamp,userInputtedValues:{dataType:h.Ce.RAW_MESSAGE_TO_FETCH,messageId:r}}])},reconciler:(e,{getAction:t})=>{const s=t(),r=s.messageId;switch(s.type){case v.FETCH_RAW_MESSAGE_SUCCEEDED:case v.FETCH_RAW_MESSAGE_FAILED:return e.filter(e=>e.hash!==h.Ce.RAW_MESSAGE_TO_FETCH+r);default:return e}}},[h.Ce.COUPON_RECOMMENDATIONS_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const s=t(),r=s.actionTimestamp,n=s.messageId,a=void 0===n?"":n;switch(s.type){case v.COUPONS_ADD_TAG_DECO_REQUESTED:return e.concat({type:h.Ce.COUPON_RECOMMENDATIONS_TO_FETCH,hash:"COUPONS_RECOMMENDATIONS_UNSYNCED_DATA_HASH",timestamp:r,userInputtedValues:{cardMessageId:a}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const r=t(),a=r.type,o=r.parentMessageId,i=void 0===o?"":o,c=r.messageId,l=void 0===c?"":c,d=r.recommendations,E=void 0!==d&&d,_=r.listId,u=void 0===_?"":_,p=n()(e,1)[0],m=(void 0===p?{}:p).userInputtedValues,S=(void 0===m?{}:m).cardMessageId,C=void 0===S?"":S,g=Object(x.e)({referrer:h.cc.COUPON_RECOMMENDATIONS,keyword:C});switch(a){case v.COUPONS_LIST_SUCCEEDED:case v.COUPONS_LIST_FAILED:return u===g?[]:e;default:return Object(U.box)(i).checkIfNot(()=>""===l).checkIf(()=>E).checkIf(()=>s(h.Eb.DEALS)).unbox(()=>e,()=>[])}},syncSelector:(e,{getAction:t})=>{switch(t().type){case v.COUPONS_ADD_TAG_DECO_SUCCEEDED:return e;default:return[]}}},[h.Ce.ACCOUNT_TO_REAUTH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.actionTimestamp,n=s.wssid,a=s.accountId,o=s.email,i=s.provider;switch(s.type){case v.ACCOUNT_REAUTH_REQUESTED:return[...e,{type:h.Ce.ACCOUNT_TO_REAUTH,hash:h.Ce.ACCOUNT_TO_REAUTH+a,timestamp:r,userInputtedValues:{wssid:n,accountId:a,email:o,provider:i}}];default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.ACCOUNT_REAUTH_SUCCEEDED:case v.ACCOUNT_REAUTH_FAILED:return e.filter(({userInputtedValues:e})=>e.accountId!==s.accountId)}return e}},[h.Ce.REQUEST_AFFILIATE_OFFERS]:{preparer:(e=[],t)=>{const s=t.getAction,r=t.getGroupId,n=t.getMessageIdsFromMessageGroupId,a=t.getMessagesSelectors,o=t.isFeatureEnabled,i=t.isMessageRoute,c=t.isMobileRoute,l=(0,t.getAffiliateRetailersSelectors)(),d=l.getRetailerIdFromDomain,E=l.getAffiliateOfferFromRetailerId,_=s(),u=o(h.Eb.DEALS_WITH_PRODUCTS),p=e=>{var t;const s=a().getFromAddresses,r=e&&n(e)||[],o=(null===(t=(r.length&&s(r[0])||[])[0])||void 0===t?void 0:t.email)||"";return o?Object(U.getRootDomainFromEmailAddress)(o):""},m=(e,t,s)=>t&&!s?e.concat({id:h.Ce.REQUEST_AFFILIATE_OFFERS,hash:t,timestamp:_.actionTimestamp,type:h.Ce.REQUEST_AFFILIATE_OFFERS,userInputtedValues:{retailerId:t}}):e;switch(_.type){case v.OPEN_PAGE_REQUESTED:{const t=_.streamItem,s=void 0===t?{}:t;if(u&&i()&&!c()){const t=d(p(null==s?void 0:s.id));return m(e,t,E(t))}return e}case v.PREVIEW_MESSAGE_REQUESTED:{const t=_.streamItem,s=void 0===t?{}:t;if(u&&!c()){const t=d(p(null==s?void 0:s.id));return m(e,t,E(t))}return e}case v.ASTRA_BATCH_API_SUCCEEDED:{const t=_.actionTimestamp,s=_.response;if(u&&i()&&s){var S,C;const n=null===(S=s.affiliateRetailers)||void 0===S?void 0:S.retailers,a=p(r()),o=null==n||null===(C=n.find(e=>a===e.domain))||void 0===C?void 0:C.id;if(o)return e.concat({id:h.Ce.REQUEST_AFFILIATE_OFFERS,hash:o,timestamp:t,type:h.Ce.REQUEST_AFFILIATE_OFFERS,userInputtedValues:{retailerId:o}})}return e}case v.AFFILIATE_OFFERS_REQUESTED:{const t=_.retailerId;return e.concat({id:h.Ce.REQUEST_AFFILIATE_OFFERS,hash:t,timestamp:_.actionTimestamp,type:h.Ce.REQUEST_AFFILIATE_OFFERS,userInputtedValues:{retailerId:t}})}default:return e}},reconciler:(e,{getAction:t})=>{switch(t().type){case v.AFFILIATE_OFFERS_FAILED:case v.AFFILIATE_OFFERS_SUCCEEDED:return[];default:return e}}},[h.Ce.RETAILER_LINK]:{preparer:(e=[],{getAction:t})=>{const s=t(),r=s.actionTimestamp,n=s.retailerId,a=s.loyaltyId,o=s.parentName;switch(s.type){case v.LINK_RETAILER_REQUESTED:return e.concat({id:h.Ce.RETAILER_LINK,hash:n,timestamp:r,type:h.Ce.RETAILER_LINK,userInputtedValues:{retailerId:n,loyaltyId:a,parentName:o}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const r=t(),n=r.retailerId,a=r.loyaltyId;switch(r.type){case v.LINK_RETAILER_SUCCEEDED:case v.LINK_RETAILER_FAILED:return[];default:return Object(U.box)(n).checkIfNot(e=>""===e).checkIf(()=>s(h.Eb.GROCERIES)).checkIf(()=>a).checkIfNot(()=>""===a).unbox(()=>e,()=>[])}}},[h.Ce.RETAILER_UNLINK]:{preparer:(e=[],{getAction:t})=>{const s=t(),r=s.actionTimestamp,n=s.retailerId;switch(s.type){case v.UNLINK_RETAILER_REQUESTED:return e.concat({id:h.Ce.RETAILER_UNLINK,hash:n,timestamp:r,type:h.Ce.RETAILER_UNLINK,userInputtedValues:{retailerId:n}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const r=t(),n=r.retailerId;switch(r.type){case v.UNLINK_RETAILER_SUCCEEDED:case v.UNLINK_RETAILER_FAILED:return[];default:return Object(U.box)(n).checkIfNot(e=>""===e).checkIf(()=>s(h.Eb.GROCERIES)).unbox(()=>e,()=>[])}}},[h.Ce.OFFERS]:{preparer:(e=[],{getAction:t,getOffersSelectors:s,getRoute:r,isFeatureEnabled:n})=>{const a=r(),o=t(),i=o.actionTimestamp,c=o.type,l=Object(x.z)(a),d=Object(x.B)(l)||"",E=Object(x.v)(l).trim()||"",_=Object(x.E)(E),u=(0,s().getOfferStreamItems)(l);if((!n(h.Eb.GROCERIES)||Object(x.w)(l)!==h.ac.OFFER_CARDS||!d||_||(null==u?void 0:u.length))&&c!==v.UPDATE_PREFERRED_STORE_SUCCEEDED)return e;switch(c){case v.OPEN_PAGE_REQUESTED:case v.LAUNCH_COMPLETED:case v.LINK_RETAILER_SUCCEEDED:case v.UPDATE_PREFERRED_STORE_SUCCEEDED:return e.concat({id:h.Ce.OFFERS,hash:`${d}_${E}`,timestamp:i,type:h.Ce.OFFERS,userInputtedValues:{listId:l,retailerId:d,search:E}});default:return e}},reconciler:(e,{getAction:t})=>{switch(t().type){case v.OFFERS_LIST_SUCCEEDED:case v.OFFERS_LIST_FAILED:return[];default:return e}}},[h.Ce.ACTIVATE_OFFER]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const r=t(),n=r.contextOfUse,a=r.type,o=r.actionTimestamp,i=r.retailerId,c=r.offer,l=r.position,d=r.parentMessageId,E=r.offerIndex,_=r.score,u=r.search,p=r.fromEmail,m=r.cancelAPICall,S=s(),C=Object(x.z)(S),g=Object(x.gb)(C,{listFilter:h.bc.ACTIVATED_OFFER_CARDS,keyword:""});switch(a){case v.ACTIVATE_OFFER_REQUESTED:return e.concat({id:h.Ce.ACTIVATE_OFFER,hash:`${i}-${c.offerId}`,timestamp:o,type:h.Ce.ACTIVATE_OFFER,userInputtedValues:{contextOfUse:n,listId:g,retailerId:i,offer:c,position:l,parentMessageId:d,offerIndex:E,score:_,search:u,fromEmail:p,cancelAPICall:m}});default:return e}},reconciler:(e,{getAction:t})=>{const s=t(),r=s.retailerId,n=void 0===r?"":r,a=s.offer,o=(void 0===a?{}:a).offerId,i=void 0===o?"":o;switch(s.type){case v.ACTIVATE_OFFER_SUCCEEDED:case v.ACTIVATE_OFFER_FAILED:return[];default:return e.filter(()=>n&&i)}}},[h.Ce.REMOVE_PRODUCTS]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const r=t(),n=r.actionTimestamp,a=r.items,o=void 0===a?[]:a,i=r.retailerId,c=void 0===i?"":i,l=r.type,d=s(),E=Object(x.z)(d),_=Object(x.gb)(E,{listFilter:h.bc.ACTIVATED_OFFER_CARDS,keyword:""});if(!c||!o.length)return e;switch(l){case v.DELETE_GROCERY_ITEMS_REQUESTED:return e.concat({id:h.Ce.REMOVE_PRODUCTS,hash:h.Ce.REMOVE_PRODUCTS,timestamp:n,type:h.Ce.REMOVE_PRODUCTS,userInputtedValues:{listId:_,items:o,retailerId:c}});default:return e}},reconciler:(e,{getAction:t})=>{switch(t().type){case v.DELETE_GROCERY_ITEMS_FAILED:case v.DELETE_GROCERY_ITEMS_SUCCEEDED:return[];default:return e}}},[h.Ce.CHANGE_PRODUCTS_QUANTITY]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const r=t(),n=r.actionTimestamp,a=r.categories,o=r.contextOfUse,i=r.interactionType,c=r.items,l=void 0===c?[]:c,d=r.offerIndex,E=r.retailerId,_=void 0===E?"":E,u=r.retailerName,p=r.score,m=r.type,S=s(),C=Object(x.z)(S),g=Object(x.gb)(C,{listFilter:h.bc.ACTIVATED_OFFER_CARDS,keyword:""});if(!_||!l.length)return e;switch(m){case v.CHANGE_GROCERY_ITEMS_QUANTITY_REQUESTED:return e.concat({id:h.Ce.CHANGE_PRODUCTS_QUANTITY,hash:h.Ce.CHANGE_PRODUCTS_QUANTITY,timestamp:n,type:h.Ce.CHANGE_PRODUCTS_QUANTITY,userInputtedValues:{categories:a,contextOfUse:o,interactionType:i,items:l,listId:g,offerIndex:d,retailerId:_,retailerName:u,score:p}});default:return e}},reconciler:(e,{getAction:t})=>{switch(t().type){case v.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED:case v.CHANGE_GROCERY_ITEMS_QUANTITY_FAILED:return[];default:return e}}},[h.Ce.RETAILER_LOCATIONS]:{preparer:(e=[],{getAction:t})=>{const s=t(),r=s.actionTimestamp,n=s.zipCode,a=void 0===n?"":n,o=s.retailerId,i=void 0===o?"":o;if(!i||!a)return e;switch(s.type){case v.GET_RETAILER_LOCATIONS_REQUESTED:return e.concat({id:h.Ce.RETAILER_LOCATIONS,hash:`${i}-${a}`,timestamp:r,type:h.Ce.RETAILER_LOCATIONS,userInputtedValues:{zipCode:a,retailerId:i}});default:return e}},reconciler:(e,{getAction:t})=>{switch(t().type){case v.GET_RETAILER_LOCATIONS_FAILED:case v.GET_RETAILER_LOCATIONS_SUCCEEDED:return[];default:return e}}},[h.Ce.UPDATE_PREFERRED_STORE]:{preparer:(e=[],{getAction:t})=>{const s=t(),r=s.actionTimestamp,n=s.store,a=void 0===n?[]:n,o=s.retailerId,i=void 0===o?"":o;if(!i||!a.length||!a[0].branchCode)return e;switch(s.type){case v.UPDATE_PREFERRED_STORE_REQUESTED:return e.concat({id:h.Ce.UPDATE_PREFERRED_STORE,hash:`${i}-${a[0].branchCode}`,timestamp:r,type:h.Ce.UPDATE_PREFERRED_STORE,userInputtedValues:{store:a,retailerId:i}});default:return e}},reconciler:(e,{getAction:t})=>{switch(t().type){case v.UPDATE_PREFERRED_STORE_FAILED:case v.UPDATE_PREFERRED_STORE_SUCCEEDED:return[];default:return e}}},[h.Ce.ACTIVATED_OFFERS]:{preparer:(e=[],{getAction:t,getRetailersSelectors:s,getRoute:r,isFeatureEnabled:n})=>{const a=r(),o=t(),i=o.actionTimestamp,c=o.type,l=Object(x.z)(a),d=Object(x.B)(l)||"",E=(0,s().getNumActivatedOffersFromRetailerId)(d),_=Object(x.gb)(l,{listFilter:h.bc.ACTIVATED_OFFER_CARDS,keyword:""});if(!(n(h.Eb.GROCERIES)&&Object(x.w)(l)===h.ac.OFFER_CARDS&&d&&null===E||c===v.UPDATE_PREFERRED_STORE_SUCCEEDED||c===v.REFRESH_SHOPPING_LIST_REQUESTED))return e;switch(c){case v.OPEN_PAGE_REQUESTED:case v.LAUNCH_COMPLETED:case v.LINK_RETAILER_SUCCEEDED:case v.UPDATE_PREFERRED_STORE_SUCCEEDED:case v.REFRESH_SHOPPING_LIST_REQUESTED:return e.concat({id:h.Ce.ACTIVATED_OFFERS,hash:h.Ce.ACTIVATED_OFFERS,timestamp:i,type:h.Ce.ACTIVATED_OFFERS,userInputtedValues:{listId:_,retailerId:d}});default:return e}},reconciler:(e,{getAction:t})=>{const s=t().type;switch(void 0===s?"":s){case v.ACTIVATED_OFFERS_LIST_SUCCEEDED:case v.ACTIVATED_OFFERS_LIST_FAILED:return[];default:return e}}},[h.Ce.GROCERY_SEARCH_ASSIST]:{preparer:(e=[],{getAction:t,getRetailersSelectors:s})=>{const r=t(),n=r.actionTimestamp,a=r.keyword,o=void 0===a?"":a,i=r.retailerId,c=void 0===i?"":i,l=r.type,d=(0,s().getSearchAssist)(c,o);if(!o||!c||d)return e;switch(l){case v.GROCERY_SEARCH_ASSIST_REQUESTED:return e.concat({id:h.Ce.GROCERY_SEARCH_ASSIST,hash:o,timestamp:n,type:h.Ce.GROCERY_SEARCH_ASSIST,syncThrottle:6e4,syncDefer:100,userInputtedValues:{keyword:o,retailerId:c}});default:return e}},reconciler:(e,{getAction:t})=>{switch(t().type){case v.GROCERY_SEARCH_ASSIST_FAILED:case v.GROCERY_SEARCH_ASSIST_SUCCEEDED:return[];default:return e}}},[h.Ce.SAVE_COUPONS]:{preparer:Da,reconciler:Ra},[h.Ce.UNSAVE_COUPONS]:{preparer:Da,reconciler:Ra},[h.Ce.FOLLOW_CATEGORY]:{preparer:Ia,reconciler:fa},[h.Ce.UNFOLLOW_CATEGORY]:{preparer:Ia,reconciler:fa},[h.Ce.NUDGE_TO_REPLY]:{preparer:(e=[],t)=>{const s=t.getCurrentListId,r=t.getListItems,n=t.getMessagesSelectors,a=t.getSelectedAccountId,o=t.getSubjectAndSnippetSelectors,i=t.getAccountSelectors,c=t.getMessageFlags,l=t.doesMessageGroupIdExist,d=t.getMessageIdsFromMessageGroupId,E=t.getAttachmentsByMessageId,_=t.isFeatureEnabled,u=t.getSetting,p=(0,t.getAction)(),m=p.actionTimestamp,S=p.type,C=p.messageGroupList,g=void 0===C?[]:C,O=s(),T=h.kc-u(h.Eb.REPLY_NUDGE_COUNT);if((S===v.LAUNCH_COMPLETED||S===v.MORE_MESSAGES_REQUEST_SUCCESS)&&Object(x.w)(O)===h.ac.MESSAGES&&_(h.Eb.NUDGE_TO_REPLY)&&T>0){const t=[],s=g.length?g:r(O),_=1,u=14,p=n(),S=p.doesMessageIdExist,C=p.getFromAddresses,T=p.getToAddresses,A=p.getDecos,I=o().getSnippet,f=i().getAccountEmailByAccountId(a());return s.forEach(e=>{let s=!1;const r=Object(Tn.a)(e,{listId:O}),n=Math.floor((m-1e3*r.date)/864e5),a=l(e.id)?d(e.id):[],o=a[a.length-1];if(n>=_&&n<=u){const e=()=>(A(o)||[]).some(e=>e&&e.id===h.Cc.PE),r=()=>{const e=E(o);return Object(N.b)(e,"0.subtype","")===h.F.SubTypes.ICS},n=()=>{const e=C(o),t=T(o),s=a.some(e=>c(e).answered),r=c(o).answered,n=t.length>1;return t.some(e=>e.email===f)&&!e.some(e=>e.email===f)&&(n?!s:!r)};if(s=S(o)&&e()&&n()&&!r(),s){const e=I(o,O);""!==e&&t.push({id:o,snippet:e})}}}),t.length?e.concat({id:h.Ce.NUDGE_TO_REPLY,hash:h.Ce.NUDGE_TO_REPLY,timestamp:m,type:h.Ce.NUDGE_TO_REPLY,userInputtedValues:{nudgeToReplySnippetList:t}}):e}return e},reconciler:(e,{getAction:t})=>{switch(t().type){case v.CHECK_REPLY_NUDGE_SUCCEEDED:case v.CHECK_REPLY_NUDGE_FAILED:return[];default:return e}}},[h.Ce.BASENAME_TO_CREATE]:{preparer:(e=[],t)=>{const s=t.getAction(),r=s.actionTimestamp;switch(s.type){case v.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED:{const t=s.domain,n=s.baseName;return[...e,{type:h.Ce.BASENAME_TO_CREATE,hash:Aa({baseName:n,domain:t}),timestamp:r,userInputtedValues:{domain:t,baseName:n}}]}default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)(),r=s.baseName,n=s.domain;switch(s.type){case v.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED:case v.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:case v.DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED:return e.filter(({hash:e})=>e!==Aa({baseName:r,domain:n}))}return e}},[h.Ce.ACCOUNT_DELETE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.accountId;switch(s.type){case v.ACCOUNT_DELETE_REQUESTED:return e.concat(((e,t)=>{const s=(0,t.getAction)();return{type:h.Ce.ACCOUNT_DELETE,hash:e,timestamp:s.actionTimestamp,userInputtedValues:{accountId:e,updateType:s.type}}})(r,t));default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.ACCOUNT_DELETE_FAILED:case v.ACCOUNT_DELETE_SUCCEEDED:return e.filter(({userInputtedValues:e})=>e.updateType!==v.ACCOUNT_DELETE_REQUESTED&&e.accountId!==s.updatedAccount.id)}return e}},[h.Ce.ACCOUNT_ADD]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.newAccount;switch(s.type){case v.ACCOUNT_ADD_REQUESTED:return e.concat(((e,t)=>{const s=t.getAccountSelectors,r=(0,t.getAction)(),n=r.type;return{type:h.Ce.ACCOUNT_ADD,hash:e.email,id:e.email,timestamp:r.actionTimestamp,userInputtedValues:{newAccount:e,emailOrPhoneRegAccount:!s().userHasRegisteredAccount(),updateType:n}}})(r,t));default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.ACCOUNT_ADD_SUCCEEDED:case v.ACCOUNT_ADD_FAILED:return e.filter(({userInputtedValues:e})=>e.updateType!==v.ACCOUNT_ADD_REQUESTED&&e.newAccount.email!==s.newAccount.email)}return e}},[h.Ce.MORE_ITEMS_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.shouldFetchMoreItems,r=(0,t.getAction)(),n=r.type,a=r.actionTimestamp,o=r.currentGroupId,i=r.allItemsSelected,c=r.route,l=Object(x.z)(c);switch(n){case v.OPEN_PAGE_REQUESTED:case v.LAUNCH_COMPLETED:if(Object(x.F)(l)!==h.cc.SUBSCRIPTIONS)return e;break;case v.MORE_ITEMS_REQUESTED:if(o&&!s(l,o))return e;break;default:return e}return[...e,{type:h.Ce.MORE_ITEMS_TO_FETCH,hash:h.Ce.MORE_ITEMS_TO_FETCH+l,timestamp:a,userInputtedValues:{allItemsSelected:i,listId:l}}]},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.MORE_MESSAGES_REQUEST_SUCCESS:case v.MORE_MESSAGES_REQUEST_FAILED:case v.MORE_SEARCH_LIST_ITEMS_RECEIVED:case v.MORE_SEARCH_LIST_ITEMS_FAILED:case v.MORE_TRAVEL_ITEMS_SUCCEEDED:case v.MORE_TRAVEL_ITEMS_FAILED:return e.filter(e=>e.hash!==h.Ce.MORE_ITEMS_TO_FETCH+s.listId)}return e},syncSelector:(e,t)=>{const s=t.isAsyncTaskPending,r=t.getPendingUpdate,n=(0,t.getAction)();return s()||r().type&&n.type!==v.SUBSCRIPTION_LIST_FETCH_SUCCEEDED?[]:e}},[h.Ce.MORE_SENDER_ROLLUP_TO_FETCH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.listId,n=s.actionTimestamp;switch(s.type){case v.MORE_SENDER_ROLLUP_REQUESTED:return e.concat([{type:h.Ce.MORE_SENDER_ROLLUP_TO_FETCH,hash:"MORE_SENDER_ROLLUP_TO_FETCH"+r,timestamp:n,userInputtedValues:{listId:r}}]);default:return e}},reconciler:(e,{getAction:t})=>{const s=t(),r=s.listId;switch(s.type){case v.MORE_SENDER_ROLLUP_SUCCEEDED:case v.MORE_SENDER_ROLLUP_FAILED:return e.filter(e=>e.hash!==h.Ce.MORE_SENDER_ROLLUP_TO_FETCH+r)}return e}},[h.Ce.GIFS_TO_FETCH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.GIF_FETCH_REQUESTED:{const r=s.query,n=s.listId,a=s.fetchMoreItems,o=(0,t.getListsSelectors)(),i=o.getItemIdsSelectors,c=o.hasMoreItems,l=s.listId;if((0,o.doesListExist)(n)){const t=i(n).getItemIds().length;if(!c(n)&&t)return e;if(t&&!a)return e}return[...e,{id:l,hash:l,timestamp:s.actionTimestamp,type:h.Ce.GIFS_TO_FETCH,userInputtedValues:{query:r,listId:n,fetchMoreItems:a,id:l}}]}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return e.filter(e=>{switch(s.type){case v.GIF_FETCH_SUCCEEDED:case v.GIF_FETCH_FAILED:return e.id!==s.id}return!0})}},[h.Ce.GIF_CATEGORY_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction,r=(0,t.getGifCategoriesSelectors)().isCategoryListLoaded,n=s();switch(n.type){case v.GIF_CATEGORIES_CONTENT_FETCH_REQUESTED:return r()?[]:[{id:h.Ce.GIF_CATEGORY_TO_FETCH,hash:h.Ce.GIF_CATEGORY_TO_FETCH,timestamp:n.actionTimestamp,type:h.Ce.GIF_CATEGORY_TO_FETCH}]}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case v.GIF_CATEGORIES_CONTENT_FETCH_FAILED:return[]}return e}},[h.Ce.ALIAS_EMAIL_TO_CREATE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.ALIAS_EMAIL_CREATE_REQUESTED:return[{hash:h.Ce.ALIAS_EMAIL_TO_CREATE,timestamp:s.actionTimestamp,type:h.Ce.ALIAS_EMAIL_TO_CREATE,userInputtedValues:{email:s.email}}]}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.ALIAS_EMAIL_CREATE_SUCCEEDED:case v.ALIAS_EMAIL_CREATE_FAILED:return[]}return e}},[h.Ce.CONFIRM_EMAIL_TO_RESEND]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.CONFIRM_EMAIL_RESEND_REQUESTED:{const t=s.account.email;return[...e,{hash:t,id:t,timestamp:s.actionTimestamp,type:h.Ce.CONFIRM_EMAIL_TO_RESEND,userInputtedValues:{account:s.account}}]}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.CONFIRM_EMAIL_RESEND_SUCCEEDED:case v.CONFIRM_EMAIL_RESEND_FAILED:return e.filter(e=>e.id!==s.email)}return e}},[h.Ce.BLOCKED_SENDERS_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getSettingsSelectors().getBlockedSendersApiCallStatus,r=t.getAction(),n=t.getEnvironmentSelectors().getAppName,a=r.actionTimestamp;switch(r.type){case v.OPEN_PAGE_REQUESTED:case v.LAUNCH_COMPLETED:{const r=t.getRouteName();return n()!==h.B.MOBILE_APP||r!==h.rd.MESSAGE_FROM_FOLDER_LIST&&r!==h.rd.MESSAGE_FROM_SEARCH_LIST&&r!==h.rd.MESSAGE_FROM_LIST||s()===h.od.LOADED?e:e.concat([{id:h.Ce.BLOCKED_SENDERS_TO_FETCH,hash:h.Ce.BLOCKED_SENDERS_TO_FETCH,type:h.Ce.BLOCKED_SENDERS_TO_FETCH,timestamp:a}])}case v.SETTINGS_BLOCKED_SENDERS_REQUESTED:return e.concat([{id:h.Ce.BLOCKED_SENDERS_TO_FETCH,hash:h.Ce.BLOCKED_SENDERS_TO_FETCH,type:h.Ce.BLOCKED_SENDERS_TO_FETCH,timestamp:a}])}return e},reconciler:(e=[],t)=>{switch(t.getAction().type){case v.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case v.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case v.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:case v.SETTINGS_BLOCKED_SENDERS_RECEIVED:case v.SETTINGS_BLOCKED_SENDERS_FETCH_FAILED:case v.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:return[]}return e}},[h.Ce.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction(),r=s.actionTimestamp;switch(s.type){case v.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_REQUESTED:return e.concat([{id:h.Ce.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH,hash:h.Ce.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH,type:h.Ce.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH,timestamp:r}])}return e},reconciler:(e=[],t)=>{switch(t.getAction().type){case v.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case v.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case v.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:case v.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:return[]}return e}},[h.Ce.COMPOSE_ATTRIBUTES_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction,r=t.doesCurrentRouteContainDraft,n=t.getSelectedMailboxId,a=t.isMobileRoute,o=(0,(0,t.getComposeAttributesSelectors)().getComposeAttributesStatus)();if(!n()||o!==h.od.LOADING||a())return[];const i=s();switch(i.type){case v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return[{hash:h.Ce.COMPOSE_ATTRIBUTES_TO_FETCH,timestamp:i.actionTimestamp,type:h.Ce.COMPOSE_ATTRIBUTES_TO_FETCH,userInputtedValues:{}}];case v.WINDOW_RESIZING:case v.WINDOW_RESIZED:return e;default:if(r())return[{hash:h.Ce.COMPOSE_ATTRIBUTES_TO_FETCH,timestamp:i.actionTimestamp,type:h.Ce.COMPOSE_ATTRIBUTES_TO_FETCH,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{switch((0,t.getAction)().type){case v.COMPOSE_ATTRIBUTES_RECEIVED:case v.COMPOSE_ATTRIBUTES_FETCH_FAILED:return[]}return e}},[h.Ce.POST_LUNCH_TO_SYNC]:{reconciler:(e,t)=>{switch((0,t.getAction)().type){case v.POST_LAUNCH_SYNC_SUCCEEDED:case v.POST_LAUNCH_SYNC_FAILED:return[]}return e},syncSelector:(e=[],t)=>{const s=t.getAction;if(!(0,t.getSelectedMailboxId)())return[];switch(s().type){case v.LAUNCH_PAGE_REQUESTED:case v.INITIAL_STATE:case v.LAUNCH_ERROR:return[]}return e}},[h.Ce.TOP_RETAILERS_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const s=t(),r=s.actionTimestamp;switch(s.type){case v.OPEN_PAGE_REQUESTED:case v.LAUNCH_COMPLETED:return[{type:h.Ce.TOP_RETAILERS_TO_FETCH,hash:"TOP_RETAILERS_UNSYNCED_DATA_HASH",timestamp:r}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:r,getSmartViewTypeFromRoute:n,getDealsViewSelectors:a})=>{const o=t().type,i=n(s())===h.Ud.COUPONS,c=r(h.Eb.DEALS)&&i,l=a().getTopRetailers();if(!c||l)return[];switch(o){case v.TOP_RETAILERS_REQUEST_SUCCEEDED:case v.TOP_RETAILERS_REQUEST_FAILED:return[]}return e}},[h.Ce.TOP_DEAL_CATEGORIES_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const s=t(),r=s.actionTimestamp;switch(s.type){case v.OPEN_PAGE_REQUESTED:case v.LAUNCH_COMPLETED:return[{type:h.Ce.TOP_DEAL_CATEGORIES_TO_FETCH,hash:"TOP_DEAL_CATEGORIES_UNSYNCED_DATA_HASH",timestamp:r}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:r,getSmartViewTypeFromRoute:n,getDealsViewSelectors:a})=>{const o=t().type,i=n(s())===h.Ud.COUPONS,c=r(h.Eb.DEALS)&&i,l=a().getTopDealCategories();if(!c||l)return[];switch(o){case v.TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED:case v.TOP_DEAL_CATEGORIES_REQUEST_FAILED:return[]}return e}},[h.Ce.RECENT_SEARCH_DELETE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),r=s.query,n=s.actionTimestamp;switch(s.type){case v.DELETE_RECENT_SEARCH_REQUESTED:return e.concat({id:r,hash:r,userInputtedValues:{query:r},timestamp:n,type:h.Ce.RECENT_SEARCH_DELETE,syncThrottle:12e4,syncDefer:200})}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return e.filter(e=>{switch(s.type){case v.DELETE_RECENT_SEARCH_SUCCEEDED:case v.DELETE_RECENT_SEARCH_FAILED:return e.id!==s.query}return!0})}},[h.Ce.SYNC_NOW]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,r=t.getSelectedAccountId,n=t.getAccountById,a=(0,t.getAction)();if(!s(h.Eb.SYNC_NOW))return e;switch(a.type){case v.SYNC_DATA:if(a.forceSync&&a.userInitiated){const t=n(r());return!t||t.isPrimary?e:[{id:h.Ce.SYNC_NOW,hash:h.Ce.SYNC_NOW,timestamp:a.actionTimestamp,type:h.Ce.SYNC_NOW,syncThrottle:12e4}]}return e;case v.ACCOUNT_ADD_SUCCEEDED:{const t=a.newAccount;return(null==t?void 0:t.type)===h.n.IMAPIN?[{id:h.Ce.SYNC_NOW,hash:h.Ce.SYNC_NOW,timestamp:a.actionTimestamp,type:h.Ce.SYNC_NOW,syncThrottle:12e4,userInputtedValues:{accountId:t.id}}]:e}}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.SYNC_NOW_SUCCEEDED:case v.SYNC_NOW_FAILED:return[]}return e}},[h.Ce.RECENT_SEARCHES_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,r=t.getRecentSearchesSelectors,n=(0,t.getAction)(),a=r().getRecentSearchesCallStatus;if(!s(h.Eb.SHOW_RECENT_SUGGESTIONS)||a()!==h.od.DOES_NOT_EXIST)return e;switch(n.type){case v.RECENT_SEARCHES_REQUESTED:case v.SEARCH_INPUT_FOCUSED:return[{id:h.Ce.RECENT_SEARCHES_TO_FETCH,hash:h.Ce.RECENT_SEARCHES_TO_FETCH,timestamp:n.actionTimestamp,type:h.Ce.RECENT_SEARCHES_TO_FETCH}]}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.RECENT_SEARCHES_SUCCEEDED:case v.RECENT_SEARCHES_FAILED:return[]}return e}},[h.Ce.LINK_ENHANCER_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction;if(!(0,t.getSetting)(h.Kd.LINK_ENHANCR))return e;const r=s();switch(r.type){case v.LINK_ENHANCER_FETCH_REQUESTED:{const s=r.cardUrl,n=s;return void 0!==(0,(0,t.getLinkEnhancerSelectors)().getEnhancedLinks)()[s]?e:[...e,{id:n,hash:n,timestamp:r.actionTimestamp,type:h.Ce.LINK_ENHANCER_TO_FETCH,userInputtedValues:{cardUrl:s,id:n}}]}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return e.filter(e=>{switch(s.type){case v.LINK_ENHANCER_FETCH_SUCCEEDED:case v.LINK_ENHANCER_FETCH_FAILED:return e.id!==s.id}return!0})}},[h.Ce.FETCH_PRIMARY_ACCOUNT]:{preparer:Ca,reconciler:ga},[h.Ce.UPDATE_PAC_CUE]:{preparer:(e=[],t)=>{const s=t.getSetting,r=(0,t.getAction)(),n=s(h.Kd.SCOUT_ONBOARDING),a=Object(Ns.b)(n,h.Eb.WEB_PAC_NOTIFICATION_CUE);switch(r.type){case v.PAC_CUE_MARK_AS_SHOWN_REQUESTED:{const t=r.name,s=r.userResponse;return s<=a?e:[{hash:h.Ce.UPDATE_PAC_CUE,timestamp:r.actionTimestamp,type:h.Ce.UPDATE_PAC_CUE,userInputtedValues:{name:t,userResponse:s}}]}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return[v.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED,v.FEATURE_CUE_MARK_AS_SHOWN_FAILED].indexOf(s.type)>-1&&s.feature===h.Eb.WEB_PAC_NOTIFICATION_CUE?e.filter(e=>{switch(s.type){case v.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED:return e.userInputtedValues.userResponse>Object(Ns.b)(s.value,h.Eb.WEB_PAC_NOTIFICATION_CUE);case v.FEATURE_CUE_MARK_AS_SHOWN_FAILED:return!1}return!0}):e}},[h.Ce.RSVP_FETCH]:{preparer:(e=[],t)=>{const s=t.getCalendarSelectors,r=t.doesMessageBodyExist,n=(0,t.getAction)(),a=n.type,o=n.messageId,i=n.actionTimestamp,c=s().getInviteStatus;switch(a){case v.GET_INVITE_INFO_REQUESTED:return!o||r(o)||"READY"===c(o)?e:e.concat([{type:h.Ce.RSVP_FETCH,timestamp:i,hash:o,userInputtedValues:{messageId:o}}]);default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.INVITEINFO_FETCH_SUCCEEDED:case v.INVITEINFO_FETCH_FAILED:return e.filter(({userInputtedValues:e})=>!(s.messageIds||[]).includes(e.messageId));default:return e}}},[h.Ce.BREAKING_NEWS]:{preparer:(e=[],{getAction:t})=>{const s=t(),r=s.actionTimestamp;switch(s.type){case v.LAUNCH_COMPLETED:case v.BREAKING_NEWS_REFRESH:case v.OPEN_PAGE_REQUESTED:return[{type:h.Ce.BREAKING_NEWS,hash:"BREAKING_NEWS_HASH",timestamp:r}]}return e},reconciler:(e,t)=>{const s=t.isFeatureEnabled,r=t.getSetting,n=t.getBreakingNewsSelectors,a=t.isAppVisible,o=t.getApplicationLastVisibleTimeStamp,i=(0,t.getAction)(),c=i.type,l=i.actionTimestamp,d=s(h.Eb.BREAKING_NEWS_ENABLED),E=s(h.Eb.NEED_TO_KNOW_NEWS_CUE),_=n().getNewsRefreshTimestamp(),u=r(h.Kd.BREAKING_NEWS_REFRESH_INTERVAL),p=n().getNewsArticle();if(!d||E)return[];switch(c){case v.BREAKING_NEWS_SUCCESS:case v.BREAKING_NEWS_FAILED:return[];case v.BREAKING_NEWS_REFRESH:{const e=a()?null:o();if(e&&l>e+18e5&&!p.title)return[]}}return e.filter(e=>e.timestamp-_>u)}},[h.Ce.NEED_TO_KNOW_NEWS]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,r=(0,t.getAction)(),n=r.type,a=r.actionTimestamp,o=n===v.APPLICATION_VISIBILITY_DID_CHANGE&&r.isVisible;return s(h.Eb.NEED_TO_KNOW_NEWS_CUE)&&(n===v.LAUNCH_COMPLETED||o&&s(h.Eb.SHOW_NTK_ON_VISIBILITY_CHANGE))?e.concat({id:h.Ce.NEED_TO_KNOW_NEWS,hash:h.Ce.NEED_TO_KNOW_NEWS,timestamp:a,type:h.Ce.NEED_TO_KNOW_NEWS}):e},reconciler:(e,{getAction:t})=>{switch(t().type){case v.NEED_TO_KNOW_NEWS_SUCCEEDED:case v.NEED_TO_KNOW_NEWS_FAILED:return[];default:return e}}},[h.Ce.CLOUD_STORAGE_ACCOUNT_AUTH_URL]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED:return(({provider:e,unsyncedData:t,timestamp:s})=>t.concat({type:h.Ce.CLOUD_STORAGE_ACCOUNT_AUTH_URL,hash:h.Ce.CLOUD_STORAGE_ACCOUNT_AUTH_URL,timestamp:s,userInputtedValues:{provider:e}}))({provider:s.provider,unsyncedData:e,timestamp:s.actionTimestamp})}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED:case v.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED:return e.filter(e=>e.userInputtedValues.provider!==s.provider)}return e}},[h.Ce.CLOUD_STORAGE_ITEMS_TO_FETCH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED:{const r=s.query,n=s.listId,a=s.fetchMoreItems,o=s.source,i=s.path,c=(0,t.getListsSelectors)(),l=c.getItemIdsSelectors,d=c.hasMoreItems,E=s.listId;if((0,c.doesListExist)(n)){const t=l(n).getItemIds().length;if(!d(n)&&t)return e;if(t&&!a)return e}return[...e,{id:E,hash:E,timestamp:s.actionTimestamp,type:h.Ce.CLOUD_STORAGE_ITEMS_TO_FETCH,userInputtedValues:{query:r,listId:n,fetchMoreItems:a,id:E,source:o,path:i}}]}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED:return e.filter(e=>e.id!==s.id)}return e}},[h.Ce.FETCH_CLOUD_STORAGE_PROVIDERS]:{preparer:(e=[],t)=>{const s=t.getAction,r=t.getContentProviders;if(!(0,t.isFeatureEnabled)(h.Eb.CLOUD_STORAGE))return e;const n=s(),a=n.actionTimestamp,o=n.type,i=r().isContentProvidersLoaded;switch(o){case v.LAUNCH_COMPLETED:case v.OPEN_PAGE_REQUESTED:if(!i()&&(e=>{const t=(0,e.getRoute)(),s=t.name,r=t.params;return s===h.rd.SETTINGS&&(void 0===r?{}:r).settingsGroupId===h.Nd.WRITING_EMAIL||s===h.rd.NEW_DRAFT||s===h.rd.EDIT_DRAFT})(t))return Do(a);break;case v.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:if(!i())return Do(a);break;case v.CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED:case v.CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED:return Do(a)}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED:case v.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED:return[]}return e}},[h.Ce.UNLINK_CLOUD_STORAGE_ACCOUNT]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.CLOUD_STORAGE_ACCOUNT_DISCONNECT_REQUESTED:return(({provider:e,unlink:t,unsyncedData:s,timestamp:r})=>s.concat({type:h.Ce.UNLINK_CLOUD_STORAGE_ACCOUNT,hash:h.Ce.UNLINK_CLOUD_STORAGE_ACCOUNT,timestamp:r,userInputtedValues:{provider:e,unlink:t}}))({provider:s.provider,unlink:s.unlink,unsyncedData:e,timestamp:s.actionTimestamp})}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED:case v.CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED:return e.filter(e=>e.userInputtedValues.provider!==s.provider)}return e}},[h.Ce.CLOUD_STORAGE_ITEM_SHAREABLE_LINK]:{preparer:(e=[],t)=>{const s=t.getCloudStorageAccountSelectors,r=(0,t.getAction)();switch(r.type){case v.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED:{const t=r.itemId,n=r.provider,a=r.actionTimestamp;return(0,s().getShareableLinkByItemId)(t)?e:[...e,{type:h.Ce.CLOUD_STORAGE_ITEM_SHAREABLE_LINK,hash:h.Ce.CLOUD_STORAGE_ITEM_SHAREABLE_LINK+t,timestamp:a,userInputtedValues:{itemId:t,provider:n}}]}}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:case v.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED:return e.filter(e=>e.userInputtedValues.itemId!==s.itemId)}return e}},[h.Ce.PHISHING_REMOVE_BDM_DECO]:{preparer:(e=[],{getAction:t})=>{const s=t(),r=s.actionTimestamp,n=s.mailboxId,a=s.messageId;switch(s.type){case v.PHISHING_REMOVE_BDM_DECO_REQUESTED:return e.concat({type:h.Ce.PHISHING_REMOVE_BDM_DECO,hash:`${n}_${a}`,timestamp:r,userInputtedValues:{mailboxId:n,messageId:a}});default:return e}},reconciler:(e,{getAction:t})=>{const s=t(),r=s.messageId;switch(s.type){case v.PHISHING_REMOVE_BDM_DECO_SUCCEEDED:case v.PHISHING_REMOVE_BDM_DECO_FAILED:return e.filter(e=>e.userInputtedValues.messageId!==r);default:return e}}},[h.Ce.ASTRA_BATCH_REQUEST]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s,getSelectedMailboxId:r})=>{const n=t(),a=n.type,o=n.actionTimestamp,i=Ro.filter(e=>s(e));if(!i.length)return e;switch(a){case v.LAUNCH_COMPLETED:return e.concat({id:h.Ce.ASTRA_BATCH_REQUEST,hash:h.Ce.ASTRA_BATCH_REQUEST,timestamp:o,type:h.Ce.ASTRA_BATCH_REQUEST,userInputtedValues:{batchEnabledFeatures:i,mailboxId:r()}});default:return e}},reconciler:(e,{getAction:t})=>{switch(t().type){case v.ASTRA_BATCH_API_SUCCEEDED:case v.ASTRA_BATCH_API_FAILED:return[];default:return e}}},[h.Ce.PURCHASE_MAILPRO_FREE_TRIAL]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,r=(0,t.getAction)(),n=r.type,a=r.actionTimestamp;if(!s(h.Eb.MAILPRO_FREE_TRIAL))return[];switch(n){case v.PURCHASE_MAILPRO_FREE_TRIAL:return[{type:h.Ce.PURCHASE_MAILPRO_FREE_TRIAL,hash:"PURCHASE_MAILPRO_FREE_TRIAL_HASH",timestamp:a}];default:return e}},reconciler:(e,{getAction:t})=>{switch(t().type){case v.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:case v.PURCHASE_MAILPRO_FREE_TRIAL_FAILED:return[]}return e}},[h.Ce.LIST_MAILPRO_SUBSCRIPTIONS]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,r=t.getFeatureCueSelectors,n=t.getMailproFreeTrialSelectors,a=(0,t.getAction)(),o=a.type,i=a.actionTimestamp,c=r().getUserResponse(h.Eb.MAILPRO_FREE_TRIAL_UPSELLS),l=parseInt(c,10)||0,d=n().getSubscriptionStatus(),E=s(h.Eb.ADS),_=E&&l>=To&&l<Ao||E&&l>=Io&&l<fo||!E&&l>=Oo&&l<fo;if(!s(h.Eb.MAILPRO_FREE_TRIAL)||!_||d!==h.gc.NOT_APPLICABLE)return[];switch(o){case v.LAUNCH_COMPLETED:return[{type:h.Ce.LIST_MAILPRO_SUBSCRIPTIONS,hash:"LIST_MAILPRO_SUBSCRIPTIONS_HASH",timestamp:i}];default:return e}},reconciler:(e,{getAction:t})=>{switch(t().type){case v.LIST_MAILPRO_SUBSCRIPTIONS_SUCCESS:case v.LIST_MAILPRO_SUBSCRIPTIONS_FAILED:return[]}return e}}}),yo=s(384);function Lo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var Po=(e=[],t)=>t.unsyncedData&&!p()(t.unsyncedData,e)?t.unsyncedData:e;const vo=(e,t,s,r)=>{const n=t.reduce((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Lo(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Lo(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{[t.type]:(e[t.type]||[]).concat(t)}),{}),a=_()(Object.keys(h.Ce).concat(t.map(e=>e.type)));return[].concat.apply([],a.map(t=>Mo[t]&&"function"==typeof Mo[t][e]?Mo[t][e](n[t]||[],s,r):n[t]||[]))},Fo=(e,t={})=>vo("reconciler",e,t).concat(((e,t={})=>{const s=(0,t.getAction)();return s.type!==v.SYNC_DATA&&yo.a[s.type]?[{id:`V2-${s.type}-${s.actionTimestamp}`,hash:`V2-${s.type}-${s.actionTimestamp}`,type:s.type,isAutoGenerated:!0,timestamp:s.actionTimestamp,userInputtedValues:s}]:[]})(0,t));function Uo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var wo=Object(m.combineReducers)({currentChannel:(e="",t)=>{switch(t.type){case v.CHANNEL_CHANGED:case v.VIDEO_CHANNEL_RECEIVED:return t.channel}return e},showVideoPlayer:(e=!0,t)=>{switch(t.type){case v.VIDEO_PLAYER_CLOSED:return!1;case v.VIDEO_PLAYER_OPENED:return!0}return e},channelData:(e={},t)=>{switch(t.type){case v.VIDEO_CHANNELS_METADATA_RECEIVED:return t.payload;case v.VIDEO_CHANNEL_RECEIVED:{const s=t.channel;return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Uo(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Uo(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{[s]:t.payload[s]})}}return e},isPaused:(e=!1,t)=>{switch(t.type){case v.VIDEO_PLAYER_PAUSED:return!0;case v.VIDEO_PLAYER_PLAYED:return!1}return e}});var Go=function(e={},t){switch(t.type){case v.SETTINGS_ADD_FILTER_REQUESTED:return{messageId:t.messageId,listId:t.listId};case v.OPEN_PAGE_REQUESTED:{const e=(t.route.params||{}).settingsGroupId;if((void 0===e?"":e)!==h.Nd.FILTERS)return{}}}return e};function Ho(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var jo=(e={},t)=>{switch(t.type){case v.REPLY_SUGGESTIONS_RECEIVED:{const s=t.replySuggestionResponse;return s?function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ho(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ho(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{},s):e}default:return e}};var ko=Object(m.combineReducers)({atosInfo:(e={},t)=>{switch(t.type){case v.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:return Object(N.b)(t,"data.atos",{})}return e},rewardsActions:(e={},t)=>{switch(t.type){case v.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:{const e={};return Object(N.b)(t,"data.rewardsActions",[]).forEach(t=>{e[t.tag]={id:t.id,title:t.title}}),e}}return e},rewardsActionsTimestamp:(e={},t)=>{switch(t.type){case v.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:{const e={};return Object(N.b)(t,"data.lastRegisteredActions",[]).forEach(s=>{e[s.rewardsActionType]=t.actionTimestamp}),e}case v.TMR_REGISTER_ACTION_SUCCESS:return e[t.rewardsActionType]=t.actionTimestamp,e}return e},mailChallenges:(e={},t)=>{switch(t.type){case v.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:{const e={};return Object(N.b)(t,"data.mailChallenges",[]).forEach(t=>{e[t.tag]=t}),e}}return e},mailChallengesProgress:(e={},t)=>{switch(t.type){case v.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:{const e={};return Object(N.b)(t,"data.mailChallengesProgress",[]).forEach(t=>{e[t.tag]={recurringProgresses:t.recurringProgresses,repeatedTimes:t.repeatedTimes}}),e}case v.TMR_REGISTER_ACTION_SUCCESS:return(t.data.completedChallengesProgress||[]).forEach(t=>{e[t.tag]={recurringProgresses:t.recurringProgresses,repeatedTimes:t.repeatedTimes}}),e}return e},lastCompletedChallenges:(e={},t)=>{switch(t.type){case v.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:{const e={};return Object(N.b)(t,"data.lastRegisteredActions",[]).forEach(t=>{const s=t.completedChallenges,r=void 0===s?[]:s;r.length&&r.forEach(t=>{e[t.tag]={pointsReceived:t.points,bonusChallengeCompleted:t.bonusChallengeCompleted,showSpin:!0}})}),e}case v.TMR_REGISTER_ACTION_SUCCESS:{const e={},s=t.data.completedChallenges,r=void 0===s?[]:s;return r.length&&r.forEach(t=>{e[t.tag]={pointsReceived:t.points,bonusChallengeCompleted:t.bonusChallengeCompleted,showSpin:!0}}),e}case v.TMR_SPIN_COMPLETED:return Object(N.b)(e,h.pe.DAILY_CHECKIN+".showSpin")&&(e[h.pe.DAILY_CHECKIN].showSpin=!1),e}return e},superAppChallenges:(e=[],t)=>{switch(t.type){case v.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:return Object(N.b)(t,"data.superAppChallenges",[])}return e},pointsBalance:(e=0,t)=>{switch(t.type){case v.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:case v.TMR_REGISTER_ACTION_SUCCESS:return Object(N.b)(t,"data.pointsBalance")||e}return e},redeemItems:(e=[],t)=>{switch(t.type){case v.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:return Object(N.b)(t,"data.redeemItems",[])}return e},selectedTab:(e="",t)=>{switch(t.type){case v.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:{const e=Object(N.b)(t,"data.mailChallenges",[]);let s=h.qe.TASKS;return e.forEach(e=>{e.tag===h.pe.DAILY_CHECKIN&&(s=h.qe.CHECKIN)}),s}case v.TMR_TAB_CHANGE:return t.tab;case v.RIGHT_RAIL_COMMS_ICON_CLICKED:return t.tab||e;case v.OPEN_PAGE_REQUESTED:return t.route.params.tab||e;case v.FEATURE_TRY_NOW_REQUESTED:switch(t.name){case h.Eb.TMR_MOBILE_DAILY_CHECKIN_CUE:return h.qe.CHECKIN;case h.Eb.TMR_MOBILE_IMAPIN_CUE:return h.qe.REWARDS;default:return e}}return e}});function xo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var Bo=Object(m.combineReducers)({newsArticle:(e={},t)=>{switch(t.type){case v.BREAKING_NEWS_SUCCESS:return t.news&&t.news.id&&e.id!==t.news.id?function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?xo(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xo(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t.news,{isRead:!1}):e;case v.BREAKING_NEWS_CLICKED:case v.OPEN_PAGE_REQUESTED:if(void 0!==e.isRead){const s=Object.assign({},e,{isRead:!0}),r=t.route;return t.type===v.OPEN_PAGE_REQUESTED&&r.name!==h.rd.MESSAGE_FROM_FOLDER_LIST&&r.name!==h.rd.MESSAGE_FROM_SEARCH_LIST?e:s}return e;case v.BREAKING_NEWS_DISMISSED:case v.BREAKING_NEWS_FAILED:return{}}return e},isDismissed:(e=!1,t)=>{switch(t.type){case v.BREAKING_NEWS_DISMISSED:return!0}return e},newsRefreshTimestamp:(e=0,t)=>{switch(t.type){case v.BREAKING_NEWS_SUCCESS:case v.BREAKING_NEWS_FAILED:return t.actionTimestamp}return e}});var Vo=s(150);const Wo=h.ec.DOES_NOT_EXIST,Ko=h.ec.SUCCESS,qo=h.ec.FAILED,Yo=h.gc.NOT_APPLICABLE,zo=h.gc.SUBSCRIBED;var Qo=Object(m.combineReducers)({purchaseFreeTrialStatus:(e=Wo,t)=>{switch(t.type){case v.PURCHASE_MAILPRO_FREE_TRIAL:return Wo;case v.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:return Ko;case v.PURCHASE_MAILPRO_FREE_TRIAL_FAILED:return qo}return e},trialStartDate:(e=0,t)=>{switch(t.type){case v.LIST_MAILPRO_SUBSCRIPTIONS_SUCCESS:var s;var r;if((null===(s=t.data)||void 0===s?void 0:s.inFreeTrial)||!1)return null===(r=t.data)||void 0===r?void 0:r.trialStartDate}return e},upsellId:(e=0,t)=>{switch(t.type){case v.LAUNCH_COMPLETED:case v.LIST_MAILPRO_SUBSCRIPTIONS_SUCCESS:return t.mailproFreeTrialUpsellId||e}return e},subscriptionStatus:(e=Yo,t)=>{switch(t.type){case v.LAUNCH_COMPLETED:case v.LIST_MAILPRO_SUBSCRIPTIONS_SUCCESS:return t.subscriptionStatus||e;case v.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:return zo}return e}});function Zo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Xo(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Zo(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Zo(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const $o=Object(m.combineReducers)({isRead:(e=!1,t)=>{switch(t.type){case v.READ_CHANGE_REQUESTED:return!t.isRead;case v.OPEN_PAGE_REQUESTED:if(t.route.name===h.rd.SPONSORED_MESSAGE)return!0;break;case v.GEMINI_AD_RECEIVED:return!1}return e},isSelected:(e=!1,t)=>{switch(t.type){case v.TOGGLE_PENCIL_AD_SELECTION:return!e;case v.ALL_STREAM_ITEMS_SELECTED:return!0;case v.DELETE_ITEMS_REQUESTED:case v.MOVE_ITEMS_REQUESTED:case v.READ_CHANGE_REQUESTED:case v.DELETE_PENCIL_AD:case v.STREAM_ITEMS_SELECTION_CLEARED:case v.SEARCH_INPUT_FOCUSED:case v.STAR_CHANGE_REQUESTED:return!1}return e},isDeleted:(e=!1,t)=>{switch(t.type){case v.DELETE_PENCIL_AD:return!0;case v.DELETE_ITEMS_REQUESTED:case v.MOVE_ITEMS_REQUESTED:if(t.isSelected)return!0;break;case v.GEMINI_AD_RECEIVED:return!1}return e},rotateAd:(e=1,t)=>{switch(t.type){case v.READ_CHANGE_REQUESTED:return t.isRead?1:0;case v.OPEN_PAGE_REQUESTED:if(t.route.name===h.rd.SPONSORED_MESSAGE){if(1===e)return 0;if(e<=0)return++e}else if(t.previousRoute.name!==h.rd.SPONSORED_MESSAGE&&e<=0)return++e;break;case v.DELETE_PENCIL_AD:return 0;case v.DELETE_ITEMS_REQUESTED:case v.MOVE_ITEMS_REQUESTED:if(t.isSelected)return 0;if(e<=0)return++e;break;default:if(Object(X.h)(t)&&e<=0)return++e}return e}});var Jo=(e={},t)=>{if(!Object.keys(e).length&&t.type===v.GEMINI_AD_RECEIVED&&t.sponsoredMessageTriage)return[h.Nb.MESSAGE_LIST,h.Nb.MESSAGE_LIST_2].forEach(s=>{e[s]=$o(e[s],t)}),e;if(Object.keys(e).length)switch(t.type){case v.TOGGLE_PENCIL_AD_SELECTION:case v.DELETE_PENCIL_AD:return Xo({},e,{[t.adPosition]:$o(e[t.adPosition],t)});case v.ALL_STREAM_ITEMS_SELECTED:case v.STREAM_ITEMS_SELECTION_CLEARED:case v.STAR_CHANGE_REQUESTED:case v.SEARCH_INPUT_FOCUSED:if(t.type!==v.SEARCH_INPUT_FOCUSED||t.clearSelection){const s={};return Object.keys(e).forEach(r=>{s[r]=$o(e[r],t)}),s}break;case v.READ_CHANGE_REQUESTED:{const s=Xo({},e);return Object.keys(e).forEach(r=>{e[r].isSelected&&(s[r]=$o(e[r],t))}),s}case v.MOVE_ITEMS_REQUESTED:case v.DELETE_ITEMS_REQUESTED:if("DELETE_SELECTED_ITEMS"===t.triageActionType||"MOVE_SELECTED_ITEMS"===t.triageActionType){const s={};return Object.keys(e).forEach(r=>{s[r]=$o(e[r],Xo({},t,{isSelected:e[r].isSelected}))}),s}break;case v.OPEN_PAGE_REQUESTED:if(t.route.name===h.rd.SPONSORED_MESSAGE)return Xo({},e,{[t.adPosition]:$o(e[t.adPosition],t)});if(t.previousRoute.name!==h.rd.SPONSORED_MESSAGE){const s={};return Object.keys(e).forEach(r=>{s[r]=$o(e[r],t)}),s}break;case v.GEMINI_AD_RECEIVED:{const s=Xo({},e);return Object.keys(e).forEach(r=>{t.sectionIds&&Object.keys(t.sectionIds).indexOf(r)>-1&&(s[r]=$o(e[r],t))}),s}default:if(Object(X.h)(t)){const s={};return Object.keys(e).forEach(r=>{s[r]=$o(e[r],t)}),s}}return e};function ei(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ti(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ei(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ei(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var si=(e={},t)=>{switch(t.type){case v.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:{const s=t.listData.cloudStorageItems;return ti({},e,{},void 0===s?{}:s)}case v.CLOUD_STORAGE_ITEM_PERMISSION_UPDATED:{const s=t.itemId;return ti({},e,{[""+s]:ti({},e[s],{permission:t.permission})})}case v.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:{const s=t.itemId;return ti({},e,{[""+s]:ti({},e[s],{permission:h.T.PUBLIC})})}default:return e}};function ri(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var ni=(e={},t)=>{const s=t.itemId,r=t.shareableLink;switch(t.type){case v.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ri(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ri(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{[""+s]:{shareableLink:r}});default:return e}};var ai=(e,t)=>{const s=t.itemId;switch(t.type){case v.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED:case v.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:return s;case v.CLOUD_STORAGE_ITEM_LINK_ADDED:case v.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED:default:return""}},oi=Object(m.combineReducers)({cloudStorageItems:si,shareableLinks:ni,recentItemId:ai});function ii(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ci(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ii(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ii(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var li=Object(m.combineReducers)({falconTOMSubscriptions:(e={},t)=>{const s=t.responseList,r=t.groupIds;switch(t.type){case v.FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED:{const t={};return(r||[]).forEach(e=>{t[""+e]=s[e]||{}}),ci({},e,{},t)}default:return e}},falconTOMSubscriptionsApiCallStatus:(e={},t)=>{switch(t.type){case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const s={};return(t.ineligibleFalconTOMGroupIds||[]).forEach(e=>{s[""+e]=h.Bb.CANCELLED}),ci({},e,{},s)}case v.FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED:case v.FALCON_TOM_SUBSCRIPTIONS_FETCH_FAILED:{const s={};return(t.groupIds||[]).forEach(e=>{s[""+e]=h.Bb.LOADED}),ci({},e,{},s)}default:return e}}});const di=Object(m.combineReducers)({articleId:(e="",t)=>{const s=t.article;switch(t.type){case v.NEED_TO_KNOW_NEWS_SUCCEEDED:return s.articleId;default:return e}},articleTitle:(e="",t)=>{const s=t.article;switch(t.type){case v.NEED_TO_KNOW_NEWS_SUCCEEDED:return s.articleTitle||"";default:return e}}});var Ei=function(e={},t){const s=t.needToKnowNews,r=void 0===s?{}:s,n=r.articles,a=void 0===n?[]:n,o=r.coverImage,i=void 0===o?"":o,c=r.homepageUrl,l=void 0===c?"":c,d=t.type;switch(d){case v.NEED_TO_KNOW_NEWS_SUCCEEDED:{if(!a||!a.length)return e;const t=a.reduce((t,s)=>s.articleId?[...t,di(e[s.articleId],{type:d,article:s})]:[...t],[]);return t.length?{articles:t,coverImage:i,homepageUrl:l}:e}default:return e}};function _i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ui(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_i(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const pi=Object(m.combineReducers)({emailId:(e=[],t)=>{const s=t.groceriesData;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.emailId;default:return e}},id:(e="",t)=>{const s=t.groceriesData;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.id;default:return e}},coupons:(e=[],t)=>{const s=t.groceriesData;switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return s.groceries;case v.ACTIVATE_OFFER_SUCCEEDED:case v.DELETE_GROCERY_ITEMS_SUCCEEDED:for(let t=0;t<e.length;t+=1)e[t].offerId===s.offerId&&(e[t].activated=s.activated);return e;default:return e}}});function mi(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const Si=Object(m.combineReducers)({from:(e=[],t)=>{const s=t.sender;switch(t.type){case v.SENDER_ROLLUP_SUCCEEDED:case v.MORE_SENDER_ROLLUP_SUCCEEDED:return(s.messages||[]).reduce((e,{headers:{from:t=[]}})=>(t.length&&!e.find(({email:e})=>e===t[0].email)&&e.push(t[0]),e),[]);default:return e}},messages:(e=[],t)=>{const s=t.sender;switch(t.type){case v.SENDER_ROLLUP_SUCCEEDED:case v.MORE_SENDER_ROLLUP_SUCCEEDED:return[...e,...s.messages.map(e=>e.id)];default:return e}},subjects:(e=[],t)=>{const s=t.sender;switch(t.type){case v.SENDER_ROLLUP_SUCCEEDED:case v.MORE_SENDER_ROLLUP_SUCCEEDED:return(s.messages||[]).reduce((e,{headers:{subject:t=""}})=>(t.length&&e.push(t),e),[]);default:return e}},timestamp:(e="",t)=>{const s=t.sender;switch(t.type){case v.SENDER_ROLLUP_SUCCEEDED:case v.MORE_SENDER_ROLLUP_SUCCEEDED:return s.timestamp;default:return e}},type:(e="",t)=>{const s=t.sender;switch(t.type){case v.SENDER_ROLLUP_SUCCEEDED:case v.MORE_SENDER_ROLLUP_SUCCEEDED:return Object(U.isValidEmail)(s.id)?h.Id.SENDER:h.Id.CONV;default:return e}},unreadCount:(e="",t)=>{const s=t.sender;switch(t.type){case v.SENDER_ROLLUP_SUCCEEDED:case v.MORE_SENDER_ROLLUP_SUCCEEDED:return s.unread;default:return e}},totalCount:(e="",t)=>{const s=t.sender;switch(t.type){case v.SENDER_ROLLUP_SUCCEEDED:case v.MORE_SENDER_ROLLUP_SUCCEEDED:return s.total;default:return e}}});var hi=function(e={},t){switch(t.type){case v.SENDER_ROLLUP_SUCCEEDED:case v.MORE_SENDER_ROLLUP_SUCCEEDED:{const s=t.senderRollup,r=void 0===s?[]:s,n=t.listId,a=Object(x.q)(n);return Object.assign({},e,{[a]:Object.assign({},e[a]||{},r.reduce((s,r)=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?mi(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mi(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},s,{[r.id]:Si(e[r.id],{type:t.type,sender:r})}),{}))})}}return e};function Ci(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function gi(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ci(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ci(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Oi=Object(m.combineReducers)({affiliateOffers:(e=null,t)=>{switch(t.type){case v.AFFILIATE_OFFERS_SUCCEEDED:return t.affiliateOffers||[];default:return e}},domain:(e="",t)=>{switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return t.domain||"";default:return e}},facebookUrl:(e="",t)=>{switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return t.facebookUrl||"";default:return e}},featured:(e=!1,t)=>{switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return t.featured||!1;default:return e}},followed:(e=!1,t)=>{switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return t.followed||!1;default:return e}},id:(e="",t)=>{switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return t.id||"";default:return e}},logo:(e="",t)=>{switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return t.logo||"";default:return e}},name:(e="",t)=>{switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return t.name||"";default:return e}},twitterUrl:(e="",t)=>{switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return t.twitterUrl||"";default:return e}},website:(e="",t)=>{switch(t.type){case v.ASTRA_BATCH_API_SUCCEEDED:return t.website||"";default:return e}}});function Ti(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ai(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ti(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ti(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ii=function(e={},t){const s=t.cardGroupList,r=void 0===s?[]:s,n=t.response,a=void 0===n?{}:n,o=t.type,i=Object(N.b)(a,"RECOMMENDATION_CARDS.ALL_DEAL_RECOMMENDATION_CARDS.items",[]);switch(o){case v.MESSAGE_BODIES_RECEIVED:{if(!i.length)return e;const t=i.reduce((e,t)=>Ai({},e,{},t.messages.reduce((e,t)=>Ai({},e,{},(t.schemaCards||[]).reduce((e,t={})=>Ai({},e,{[t.id]:Ai({},t)}),{})),{})),{});return Ai({},e,{},t)}case v.POST_LAUNCH_SYNC_SUCCEEDED:{if(!r.length)return e;const t=r.reduce((e,t)=>Ai({},e,{},t.messages.reduce((e,t)=>Ai({},e,{},(t.schemaCards||[]).reduce((e,t={})=>{if(t.type===h.Ad.Recommendation)return Ai({},e,{[t.id]:Ai({},t)})},{})),{})),{});return Ai({},e,{},t)}default:return e}};var fi=Object(m.combineReducers)({messageBodies:(e=[],t)=>{var s;const r=(null===(s=t.recentlyUsedState)||void 0===s?void 0:s.messageBodies)||[];return 0===r.length?e:r},documents:(e=[],t)=>{switch(t.type){case v.LAUNCH_COMPLETED:case v.OPEN_PAGE_REQUESTED:case v.DOCUMENT_FETCH_REQUESTED:case v.DOCUMENT_FETCH_SUCCEEDED:case v.DOCUMENT_FETCH_FAILED:{var s;const r=(null===(s=t.recentlyUsedState)||void 0===s?void 0:s.documents)||[];return 0===r.length?e:r}}return e}});var Di=s(36);function Ri(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function bi(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ri(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ri(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Ni(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Mi(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ni(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ni(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const yi=[h.rd.SUBSCRIPTION_LIST,h.rd.REWARDS],Li=h.vb.Status,Pi=e=>e.url,vi=e=>e.params,Fi=e=>-1!==e.url.indexOf("/search/"),Ui=e=>"/m/"===e.url.substr(0,3),wi=e=>-1!==e.url.indexOf("/edit/"),Gi=e=>-1!==e.url.indexOf("/compose/"),Hi=e=>e.name===h.rd.FOLDER,ji=e=>(Object(F.a)(e&&void 0!==e.url,"isMessageRoute: route.url does not exist",e||{url:"undefined"}),-1!==e.url.indexOf("/messages/")),ki=({list:e,timePredicates:t,sortOrder:s=h.Yd.DATE_ASC})=>{const r=[h.Yd.DATE_DESC,h.Yd.DATE_ASC].indexOf(s)>=0;if(!(e.length>=4&&r))return e;const n=Object(Er.d)(e,t),a=n.list;return n.isGroupedList?Object(Er.a)(a):a},xi={action:{reducer:(e={},t)=>t,selector:(e={})=>e},unsyncedData:{reducer:Po,selector:(e=[])=>({getUnsyncedData:()=>e,getReconciledUnsyncedData:t=>{if(!(0,t.getAction)().route)return e;const s=((e,t={})=>ma()(vo("preparer",e,t).filter(e=>Boolean(e.hash)),"hash"))(e,t);return Fo(s,t)},getUnsyncedDataToSync:(e,t)=>((e,t,s)=>vo("syncSelector",e,t,s))(e.getReconciledUnsyncedData(),e,t)})},launchError:{reducer:Ir,selector:(e={})=>({getLaunchErrorType:()=>e.type})},composeSessions:{reducer:it,selector:(e={})=>{const t={doesComposeSessionExist:t=>!!e[t],getComposeFieldToFocus:t=>(e[t]||{}).composeFieldToFocus,doComposeFromRouteQueryParams:t=>e[t].doComposeFromRouteQueryParams,doComposeFromMailToLink:t=>Boolean(e[t].mailToLink),getMailToLink:t=>e[t].mailToLink,getStationeryTheme:t=>e[t].stationeryTheme,getUndoStack:t=>e[t].composeUndoStack,getRedoStack:t=>e[t].composeRedoStack,getUiState:t=>e[t].composeUiState,wasAutotagDropdownClosed:t=>e[t].isAutotagDisabled,wasRelatedContactsClosed:t=>e[t].isRelatedContactsDismissed,getReplyingToMessageId:e=>{const s=t.getInReplyAllToMessageId,r=t.getInForwardToMessageId;return(0,t.getInReplyToMessageId)(e)||s(e)||r(e)},getAttachmentProgress:t=>e[t].attachmentProgress,findReplyForwardCsidsOfMessage:s=>Object.keys(e).filter(e=>t.getReplyingToMessageId(e)===s),findDraftMessageCsid:s=>Object.keys(e).find(e=>t.getDraftMessageId(e)===s),getDraftMessageId:t=>(Object(F.a)(e[t],"getDraftMessageId csid does not exist",{csid:t}),e[t].draftMessageId),getForwardCreativeId:t=>e[t].forwardCreativeId,getForwardAttachmentIds:t=>e[t].forwardAttachmentIds,getInReplyToMessageId:t=>e[t].inReplyToMessageId,getInReplyAllToMessageId:t=>e[t].inReplyAllToMessageId,getInForwardToMessageId:t=>e[t].inForwardToMessageId,isReplyMessage:t=>Boolean(e[t].inReplyToMessageId),isReplyAllMessage:t=>Boolean(e[t].inReplyAllToMessageId),isForwardMessage:t=>Boolean(e[t].inForwardToMessageId),isSendRequested:t=>e[t].sendStatus===et.g.SENDING,isSendFailed:t=>e[t].sendStatus===et.g.SEND_FAILED,isSent:t=>(Object(F.a)(e[t],"isSent csid does not exist",{csid:t||"undefined"}),e[t].sendStatus===et.g.SENT),getLastSaveTimeStamp:t=>e[t].lastSaveTimeStamp,isQuotedTextExpanded:t=>Boolean(e[t].isQuotedTextExpanded),getFatalErrorCount:t=>e[t].fatalErrorCount,isComposeSessionDirty:({csid:t,lastEditedTimeStamp:s})=>Boolean(s)&&(!e[t]||!e[t].lastSaveTimeStamp||e[t].lastSaveTimeStamp!==s),getLastOpenTimeStamp:t=>e[t].lastOpenTimeStamp,getLastAutotagQuery:t=>e[t].lastAutotagQuery,getSelectedReplySuggestion:t=>e[t].selectedReplySuggestion,getComposeParams:t=>e[t].composeParams,getComposeHeaderFocus:t=>e[t].composeHeaderInputFocus};return t}},attachments:{reducer:ve,selector:(e={})=>({doesAttachmentExistById:t=>!!e[t],getAttachmentById:t=>e[t],getContentIdByAttachmentId:t=>e[t].contentId,getConversationIdByAttachmentId:t=>e[t].conversationId,getAttachmentExtentionByAttachmentId:t=>{const s=(e[t]&&e[t].filename||"").split(".");return Array.isArray(s)&&s.length>=2?s.pop():"unknown"},getMimetypeByAttachmentId:t=>`${e[t].type}/${e[t].subtype}`,getAttachmentTypeByAttachmentId:t=>e[t].type,getAttachmentSubtypeByAttachmentId:t=>e[t].subtype,getSizeByAttachmentId:t=>e[t].size,isInlineAttachmentById:t=>e[t].disposition===Pe.INLINE,isNonInlineAttachmentById:t=>e[t].disposition!==Pe.INLINE,getConversationId:t=>e[t].conversationId,getTimeStamp:t=>e[t].creationDate,getMessageReferenceByContentId:t=>{const s=Object(N.h)(e).find(e=>e.contentId===t);if(s&&s.id){const e=s.partId;return{id:s.id.split(":").slice(0,-1).join(":"),pid:e}}},getDownloadUrlByContentId:t=>{const s=Object(N.h)(e).find(e=>e.contentId===t);return s?s.downloadUrl:null},getByContentId:t=>Object(N.h)(e).find(e=>e.contentId===t),hasError:t=>{const s=Object(N.h)(e).find(e=>e.contentId===t);return!(!s||s.id)},isUploaded:t=>{const s=Object(N.h)(e).find(e=>e.contentId===t);return!(!s||!s.id)},getThumbnailUrl:t=>{const s=Object(N.h)(e).find(e=>e.contentId===t);return Object(G.l)(s.thumbnailUrl,150)},getDocumentIdByAttachmentId:t=>e[t].documentId,getAttachmentIdByDocumentId:t=>{const s=Object(N.h)(e).find(e=>e.documentId===t);return s?s.id:null}})},inlineImagesAttachments:{reducer:Fe.a,selector:Fe.c},lists:{reducer:Hr,selector:(e={})=>{const t={doesListExist:s=>Boolean(e[s]&&t.getListStatus(s)!==h.od.DOES_NOT_EXIST),getListIdsByContentType:t=>Object.keys(e).filter(e=>Object(x.w)(e)===t),getListIdsByListFilter:t=>Object.keys(e).filter(e=>Object(x.x)(e)===t),getItemIdsSelectors:t=>((e=[])=>({doesItemIdExist:t=>!!e.find(e=>e===t),getItemIdByIndex:t=>e[t],getItemIdIndex:t=>e.indexOf(t),getItemIds:()=>e}))(e[t]?e[t].itemIds:[]),__getListIds__:()=>Object.keys(e),getListNextItemsUrl:t=>e[t].nextItemsUrl,getListOffset:t=>e[t].offset,hasMoreItems:t=>e[t].hasMoreItems,getListStatus:t=>e[t].status,getLmv3Query:t=>e[t].lmv3Query,getSuggestedWords:t=>e[t].suggestedWords,getTotalHits:t=>e[t].totalHits,doesListItemExist:(e,s)=>t.doesListExist(e)&&t.getItemIdsSelectors(e).doesItemIdExist(s),getListItemIdIndex:(e,s)=>t.doesListExist(e)&&t.getItemIdsSelectors(e).getItemIdIndex(s),getItemIdByIndex:(e,s)=>t.getItemIdsSelectors(e).getItemIdByIndex(s),getItemIds:e=>t.getItemIdsSelectors(e).getItemIds(),getFirstItemIdOfList:e=>t.getItemIdsSelectors(e).getItemIds()[0],getPreviousListItemId:(e,s)=>{const r=t.getListItemIdIndex(e,s)-1;if(!(r<0))return t.getItemIdByIndex(e,r)},getImportantContactIds:()=>{const s=Object(x.t)("");return t.doesListExist(s)?e[s].itemIds:[]},getImportantContactEmailsByContextEmail:s=>{const r=Object(x.t)(s);return t.doesListExist(r)?e[r].itemIds:[]},getNextListItemId:(e,s)=>{const r=t.getListItemIdIndex(e,s)+1;if(!(r>t.getItemIds(e).length))return t.getItemIdByIndex(e,r)},isListAlreadyLoaded:e=>t.doesListExist(e)&&t.getListStatus(e)===h.od.LOADED&&t.getItemIds(e).length===t.getTotalHits(e)&&!t.hasMoreItems(e),isListEmpty:e=>t.doesListExist(e)&&0===t.getItemIds(e).length,isListExpanded:t=>!!e[t]&&e[t].expanded};return t}},streams:{reducer:da.a,selector:da.c},documents:{reducer:Jt,selector:e=>({getState:t=>e[t]?e[t].status:h.od.DOES_NOT_EXIST,getDocument:t=>e[t],getError:t=>{const s=!!e[t].retryCount&&Object(N.h)(e[t].retryCount).some(e=>e>h.nb),r=e[t].error;return r&&r.isRetryable?Qt({},r,{isRetryable:!s&&r.isRetryable}):r},getNumberOfPages:t=>e[t].numPages,getRetryCount:(t,s,r)=>e[t]?e[t].retryCount[Xt(s,r)]:0,isDocumentLoaded:t=>!(!e[t]||e[t].status!==h.od.LOADED),isPageLoaded:(t,s)=>!(!e[t].pages[s]||e[t].pages[s].status!==h.od.LOADED),getDocumentsCount:()=>Object.keys(e).length})},subjectsAndSnippets:{reducer:ua,selector:e=>({getSubject:(t,s)=>{const r=Object(x.C)(s);return e.subjects[t][r]||e.subjects[t][x.a]},getSnippet:(t,s)=>{const r=Object(x.C)(s);return e.snippets[t][r]||e.snippets[t][x.a]}})},folders:{reducer:tr,selector:(e={})=>{const t=t=>!!e[t].types.find(e=>h.ie.hasOwnProperty(e)),s=t=>{Object(F.a)(e[t],"getPrimaryFolderTypeByFolderId folderId does not exist",{folderId:t||"undefined"});return(e[t].types||[]).find(e=>h.gd.hasOwnProperty(e))},r={doesFolderIdExist:t=>!!e[t],getFolderIdsByName:t=>Object.keys(e).reduce((s,r)=>e[r].name===t?s.concat(r):s,[]),getFolderIds:()=>Object.keys(e),getFolderName:t=>e[t].name,getFolderNameLocalizer:t=>{const r=s(t),n=e[t].name;return e=>Object(j.m)(e,r)||n},shouldUpdateFolders:t=>{const s=Object.keys(Object(j.f)(t));return Object.keys(e).length!==s.length||s.some(e=>!r.doesFolderIdExist(e))},getFolderTotal:t=>e[t].total,getFolderHighestModSeq:t=>e[t].highestModSeq,getFolderLevelByFolderId:t=>e[t].level,getFolderUnreadCount:t=>e[t].unread,getFolderTypes:t=>e[t].types,getFolderUidNext:t=>e[t].uidNext,getFolderPath:t=>e[t].path,isPermDeleteFolderType:e=>{const t=s(e);return-1!==[h.Mb.TRASH,h.Mb.DRAFT,h.Mb.BULK].indexOf(t)},getFolderIdsByNameAndAccountId:(t,s)=>Object.keys(e).reduce((r,n)=>e[n].name===t&&e[n].accountId===s?r.concat(n):r,[]),getFolderDisplayTypeByFolderId:t=>{const r=e[t].types,n=s(t);return n===h.Mb.ARCHIVE&&r.indexOf(h.Mb.EXTERNAL_ALL)>-1?h.Kb.ALL_MAIL:n},getPrimaryFolderTypeByFolderId:s,isSystemFolder:t,isSpamFolder:e=>r.doesFolderIdExist(e)&&r.getPrimaryFolderTypeByFolderId(e)===h.Mb.BULK,getAccountIdByFolderId:t=>(Object(F.a)(e[t],"getAccountIdByFolderId folderId does not exist",{folderId:t||"undefined"}),e[t].accountId),getFolderIdsFromFolderType:(t,s)=>Object.keys(e).reduce((r,n)=>-1!==e[n].types.indexOf(t)&&e[n].accountId===s?r.concat(n):r,[]),getAllInboxes:()=>Object.keys(e).reduce((t,s)=>-1!==e[s].types.indexOf(h.Mb.INBOX)?t.concat(s):t,[]).map(t=>e[t]),getFolderIdsByAccountId:t=>Object.keys(e).filter((function(s){return e[s].accountId===t})),isDraftFolder:e=>r.doesFolderIdExist(e)&&r.getPrimaryFolderTypeByFolderId(e)===h.Mb.DRAFT,isSentFolder:e=>r.doesFolderIdExist(e)&&r.getPrimaryFolderTypeByFolderId(e)===h.Mb.SENT,isTrashFolder:e=>r.doesFolderIdExist(e)&&r.getPrimaryFolderTypeByFolderId(e)===h.Mb.TRASH,getParentFolderId:t=>{const s=e[t].path,r=e[t].name,n=e[t].accountId,a=Object.keys(e).find(t=>e[t].accountId===n&&e[t].path+"/"+r===s);return a||""},getCustomFolderIds:t=>Object.keys(e).map(t=>e[t]).filter(e=>e.accountId===t&&e.types.indexOf(h.Mb.USER)>=0&&e.types.indexOf(h.Mb.INVISIBLE)<0).sort(Xs.e).map(e=>e.id),getUserCardFolderIds:t=>{let s;for(s in e){const r=e[s];if(r.accountId===t&&r.types.indexOf(h.Mb.USER)>=0&&r.types.indexOf(h.Mb.CARD)>=0&&r.types.indexOf(h.Mb.INVISIBLE)>=0)return s}return-1},getSystemFolderList:n=>Object.keys(e).filter(s=>e[s].accountId===n&&t(s)).map(e=>({id:e,type:s(e),kind:"folder",name:r.getFolderName(e),level:0})).sort((e,t)=>j.a[e.type]-j.a[t.type]),getCustomFolderList:t=>Object.keys(e).map(t=>e[t]).filter(e=>e.accountId===t&&(e.types.indexOf(h.Mb.USER)>=0||r.hasChildren(e.id))&&-1===e.types.indexOf(h.Mb.INVISIBLE)).sort(Xs.e).map(e=>({id:e.id,type:s(e.id),kind:"folder",name:e.name,level:e.level})),hasChildren:t=>{const s=e[t].path+"/",r=e[t].accountId;let n=!1;return Object.keys(e).some(t=>{const a=e[t].accountId;0===e[t].path.indexOf(s)&&r===a&&(n=!0)}),n},getSubfolders:e=>{const t=r.getFolderPath(e)+"/",s=r.getAccountIdByFolderId(e);return r.getFolderIdsByAccountId(s).filter(s=>0===r.getFolderPath(s).indexOf(t)&&s!==e).map(e=>({id:e,name:r.getFolderPath(e)}))},getMessageGroupFolderType:e=>r.isTrashFolder(e)?h.Dc.TRASH:r.isSpamFolder(e)?h.Dc.BULK:h.Dc.DEFAULT,__get__:t=>e[t],__getFolderIds__:()=>Object.keys(e)};return Js({},r)}},mailboxes:{reducer:$r,selector:(e={})=>{const t={getAllMailboxes:()=>e.allMailboxes,getSelectedMailboxId:()=>e.id,getAccountsSelectors:()=>((e={})=>{const t=Object.keys(e),s={getAccountById:t=>e[t],getPrimaryAccount:()=>t.map(t=>e[t]).find(({isPrimary:e})=>!!e),getPrimaryAccountType:()=>(s.getPrimaryAccount()||{}).type,getPrimaryAccountSendingName:()=>(s.getPrimaryAccount()||{}).sendingName||"",getPrimaryAccountId:()=>t.find(t=>e[t].isPrimary),isPrimaryAccountDisabled:()=>s.getPrimaryAccount().status===h.m.DISABLED,userHasRegisteredAccount:()=>{const s=t.find(t=>{const s=e[t],r=s.type;return s.isPrimary&&s.status===h.m.DISABLED&&(r===h.n.EXTERNAL||r===h.n.PHONE)}),r=t.find(t=>{const s=e[t],r=s.status;return Vr.h({type:s.type})&&(r===h.m.ENABLED||r===h.m.PENDING)});return!s||!!r},getAllAccounts:({includeDisabled:s=!1}={})=>t.map(t=>e[t]).filter(({status:e})=>s||e!==h.m.DISABLED).sort(Vr.j),getSelectedAccountId:()=>t.find(t=>e[t].isSelected),getSendingAccountId:()=>t.find(t=>e[t].isSending),hasIMAPinAccounts:()=>t.filter(t=>Vr.h(e[t])).length>0,isMyEmailAddress:t=>Object(N.h)(e).some(e=>e.email===t),getRootAccounts:()=>t.map(t=>e[t]).filter(e=>h.nd.indexOf(e.type)>-1),hasMultipleRootAccounts:()=>s.getRootAccounts().length>1,getSendAccountsByAccountId:e=>{const t=s.getAccountById(e);if(!t.isPrimary)return[t];const r=s.getAllAccounts().filter(e=>-1===h.nd.indexOf(e.type)||e.type===h.n.BIZMAIL&&!e.isPrimary);return[t].concat(r)},isSignatureActive:t=>Boolean(e[t].signatureActive),getSignatureByAccountId:t=>e[t]&&e[t].signatureActive?e[t].signature:"",isPrimaryAccountEmail:e=>{const t=s.getAccountIdByAccountEmail(e);return h.nd.indexOf(s.getAccountTypeByAccountId(t))>-1},getSignatureByAccountEmail:e=>s.isPrimaryAccountEmail(e)?s.getSignatureByAccountId(s.getAccountIdByAccountEmail(e)):s.getSignatureByAccountId(s.getSelectedAccountId()),getAccountDescriptionByAccountId:e=>s.getAccountById(e).description,getAccountTypeByAccountId:e=>s.getAccountById(e).type,getAccountEmailByAccountId:e=>s.getAccountById(e).email,getAccountNameByAccountId:e=>s.getAccountById(e).sendingName,getAccountProvider:t=>Vr.d(e[t]),isSelectedAccountId:e=>s.getAccountById(e).isSelected,getMyAddresses:()=>Object.keys(e).map(t=>e[t].email),hasAccountWithEmail:t=>Object(N.h)(e).some(e=>e.type!==h.n.POPIN&&e.email===t),getAccountIdByAccountEmail:t=>Object(N.h)(e).find(e=>e.email===t).id,getAliasAccounts:()=>Object.keys(e).map(t=>e[t]).filter(e=>e.type===h.n.ALIAS),getAccountIds:()=>Object.keys(e),doesSelectedAccountExist:()=>Boolean(s.getSelectedAccountId()),getProviderFromAccount:t=>Vr.d(e[t]),getAccountsWithMailboxes:()=>Object.keys(e).filter(t=>e[t].isPrimary||Vr.h(e[t])),getAvailableAccounts:()=>s.getAccountsWithMailboxes().filter(e=>s.getAccountById(e).status!==h.m.DELETE_IN_PROGRESS),getImapInAccounts:()=>Object.keys(e).filter(t=>Vr.h(e[t])),getAccountSubscriptionIds:()=>Object.keys(e).map(t=>e[t]).map(e=>e.subscriptionId),getFolderPrefixByAccountId:t=>e[t].folderPrefix||"",isBasicAuthAccountId:e=>{const t=s.getAccountById(e);return t.type===h.n.IMAPIN&&t.authType===h.k.PLAIN},getMailboxAccounts:()=>s.getAllAccounts().filter(e=>Vr.h(e)||e.isPrimary)};return s})(e.accounts),getAliasSuggestions:Br(e.aliasSuggestion).getSuggestions,getAliasSuggestionStatus:Br(e.aliasSuggestion).getStatus,getSocialAccountsStatus:()=>e.socialAccountsStatus,getEnhanceContactsPreference:()=>e.enhanceContactsPreference,getDeaBaseName:()=>e.deaBaseName,getBaseNameSuggestions:()=>e.baseNameSuggestions,getRecentlyAddedAccount:()=>e.recentlyAddedAccount?e.accounts[e.recentlyAddedAccount]:null,isAccountExpired:s=>{const r=t.getAccountsSelectors().getAccountById(s);return!(!r||!Object(Vr.h)(r))&&!!e.accountAlerts.find(e=>e.accountId===s&&-1!==[Zr,Xr].indexOf(e.state)&&1===e.type)},getAlertIdByAccountId:t=>(e.accountAlerts.find(e=>e.accountId===t)||{}).id,getExpiredAccounts:()=>t.getAccountsSelectors().getAllAccounts().filter(e=>t.isAccountExpired(e.id)),getMailboxSize:()=>e.mailboxSize};return t}},ads:{reducer:Me,selector:e=>t=>({getAdRotationId:()=>e.adRotationId,getGeminiAds:t=>e.geminiAds[t],hasAnyGeminiAd:()=>Object.keys(e.geminiAds).length,getGeminiAdData:e=>J(0,t,e),getGeminiAdDataInArray:e=>ee(0,t,e),getAllGeminiError:()=>e.geminiError,getGeminiError:t=>e.geminiError[t],getNativeAdData:e=>J(0,t,e).nativeAd,getPencilAdData:s=>((e,t,s="")=>{const r=t.getRoute,n=t.isFeatureEnabled,a=(0,t.getSetting)(h.Kd.GEMINI_SECTION_IDS),o=r(),i=Object(x.z)(o),c=J(0,t,s).pencilAd,l=e.searchAds[i];return s===a[h.Nb.MESSAGE_LIST_2]?o.name===h.rd.SEARCH?l&&n(h.Eb.SECOND_SEARCH_AD)?n(h.Eb.SAME_SEARCH_AD_ON_SECOND_PENCIL)?l[0]?l[0].pencilAd:De.pencilAd:l[1]?l[1].pencilAd:De.pencilAd:De.pencilAd:c:l&&l[0]?l[0].pencilAd:c})(e,t,s),getAdFeedbackStatus:()=>e.adFeedback,getFeedbackStartedSectionIds:()=>Object.keys(e.adFeedback).filter(t=>e.adFeedback[t]===pe),getAdFeedbackBeacon:e=>Object(N.b)(J(0,t,e),"pencilAd.adFeedbackBeacon"),getAdFeedbackConfig:e=>Object(N.b)(J(0,t,e),"adFeedbackConfig"),getMessageReadAdRotationTimestamp:()=>e.messageReadAdRotation.timestamp,getMessageReadAdRotationTimestampV2:()=>e.messageReadAdRotation.timestampV2,getMessageReadAdRotationActive:()=>e.messageReadAdRotation.active,getDarlaAdData:()=>e.darla,getGeminiCategories:()=>e.geminiCategories,getSponsoredAd:t=>e.sponsoredAds[t],getSearchAdData:t=>e.searchAds[t]?e.searchAds[t].pencilAd:null,getPlaAdData:t=>{const s={ads:[],instrumentation:{}};return t?Object(N.b)(e,"searchPlaAds."+t,s):s},getRelatedSearches:()=>e.relatedSearches,getGeminiAdDataFromCreativeId:s=>{let r;return Object.keys(e.geminiAds).find(e=>(r=J(0,t,e),r.creativeId===s))?r:null},isAdBlocked:()=>e.isAdBlocked,getNativeAdFormType:e=>{var s;const r=J(0,t,e),n=(null==r||null===(s=r.nativeAd)||void 0===s?void 0:s.embeddedLandingUrls)||{};return(Object(N.h)(n).find(e=>"fsubmit"===e.label)||{}).type||null},getCachedGeminiAds:e=>$(0,t,e),getSponsoredMomentData:()=>((e,t)=>{const s=te(0,t);return s?s.pencilAd:null})(0,t),getVideoSponsoredMomentData:()=>((e,t)=>{if(!t.isFeatureEnabled(h.Eb.VIDEO_SPONSORED_MOMENT))return null;const s=te(0,t);return s?s.videoAd:null})(0,t),isSponsoredMomentClosed:()=>e.isSponsoredMomentClosed,getDPAAds:()=>((e,t)=>{const s=t.getSetting,r=t.isFeatureEnabled;let n=s(h.Kd.GEMINI_SECTION_IDS)[h.Nb.SHOPPING_CART];r(h.Eb.CROSS_DOMAIN_DPA_ADS)&&(n=s(h.Kd.GEMINI_SECTION_IDS)[h.Nb.CROSS_DOMAIN_DPA_ADS]);const a=ee(0,t,n);return(r(h.Eb.SHOPPING_CART_AD)||r(h.Eb.CROSS_DOMAIN_DPA_ADS))&&!r(h.Eb.LASTPASS_UPSELL)&&a.length?a:[]})(0,t),getRRadBlockDPAad:()=>((e,t)=>{const s=t.isFeatureEnabled,r=(0,t.getSetting)(h.Kd.GEMINI_SECTION_IDS)[h.Nb.RR_AD_BLOCK_DPA_ADS],n=J(0,t,r);return s(h.Eb.RR_AD_BLOCK_DPA_ADS)&&n.creativeId?n.pencilAd:null})(0,t),getGeminiAdTimestamp:e=>((e,t,s)=>($(0,t,s)[0]||{}).timestamp||De.timestamp)(0,t,e),getCheckMailAdRotationIdleTimestamp:()=>e.checkMailAdRotationIdleTimestamp,isABPDetected:()=>e.isABPDetected,hasSponsoredMessageOnMessageList:()=>e.hasSponsoredMessageOnMessageList,hasGeminiBeenBlocked:()=>Object.keys(e.geminiError).some(t=>{var s,r;const n=(null===(s=e.geminiError[t])||void 0===s||null===(r=s.data)||void 0===r?void 0:r.errorCode)||"";return-1!==fe.indexOf(n)}),getAdblockDelayDismissQualifiedActionCount:()=>e.adblockDelayDismissQualifiedActionCount,getPortraitAd:(t,s)=>{let r={};return(e.geminiAds[s]||[]).forEach(e=>{t===e.ads[0].creativeId&&(r=e.ads[0])}),r.pencilAd}})},printItems:{reducer:Vn,selector:(e={})=>({getItemToPrint:()=>{const t=Object.keys(e).filter(t=>!e[t].isPrinted)[0];return t?e[t]:{}}})},messageBodies:{reducer:nn,selector:(e={})=>({get:t=>e[t].body,getState:t=>e[t]?e[t].status:h.od.DOES_NOT_EXIST,doesMessageBodyExist:t=>!!e[t]&&-1===[h.od.DOES_NOT_EXIST,h.od.ERROR].indexOf(e[t].status),hasFullBody:t=>e[t]&&e[t].hasFullBody,hasError:t=>e[t]&&e[t].status===h.od.ERROR,hasInlineImage:t=>{const s=e[t];if(!s)return!1;const r=s.body,n=r.html,a=void 0===n?"":n,o=r.htmlAnnotations;return(void 0===o?[]:o).some(({type:e})=>"blocked"===e)||tn.test(a)},hasAnchorLinks:t=>{const s=e[t];if(!s)return!1;const r=s.body.html;return sn.test(void 0===r?"":r)},isSecureMessage:t=>{const s=e[t];if(!s)return!1;const r=s.body.htmlAnnotations,n=s.isSecure;return s.hasFullBody?(void 0===r?[]:r).some(({type:e})=>"blocked"===e):n},getMessageBodiesCount:()=>Object.keys(e).length,getRetryCount:t=>e[t]?e[t].retryCount:0})},messageGroups:{reducer:gn,selector:On},cardGroups:{reducer:Be,selector:(e={})=>t=>({doesCardGroupIdExist:t=>!!e[t],getMessageIdsFromCardGroupId:t=>Array.isArray(e[t])?e[t]:e[t]&&e[t].DEFAULT,getMostRecentEmailId:s=>{const r=(0,t.getMessagesSelectors)(),n=r.getDecos,a=r.getTimeStamp,o=e[s].filter(e=>n(e).some(e=>e.id===h.Cc.EML));return o.length>1&&o.sort((e,t)=>a(t)-a(e)),o[0]},getCardConversationIds:()=>Object.keys(e)})},cardMessageToSchemas:{reducer:qe,selector:(e={})=>({getSchemas:t=>e[t]})},flights:{reducer:Zs,selector:(e={})=>({getFlightCard:t=>e[t],getCardDate:t=>Date.parse(e[t].departureTime),isEligibleCardForFilter:(t,s,r)=>{const n=Date.parse(e[t].departureTime);switch(s){case h.bc.TRAVEL_VIEW_UPCOMING:return n>=r;case h.bc.TRAVEL_VIEW_PAST:return n<r}return!0}})},deals:{reducer:Wt,selector:Kt},groceries:{reducer:Jn,selector:ea},groceriesTopOfMsg:{reducer:function(e={},{type:t,offers:s,retailerId:r="",response:n}){switch(t){case v.ASTRA_BATCH_API_SUCCEEDED:{var a;const s=(null==n||null===(a=n[h.C.GROCERIES_TOP_OF_MSG])||void 0===a?void 0:a.groceriesData)||[];return s.length?s.reduce((e,s)=>ui({},e,{[s.id]:pi(e[s.id],{type:t,groceriesData:s})}),ui({},e)):e}case v.ACTIVATE_OFFER_SUCCEEDED:case v.DELETE_GROCERY_ITEMS_SUCCEEDED:{if(!s)return e;const n=s.reduce((s,n)=>ui({},s,{[r]:pi(e[r],{type:t,groceriesData:n})}),{});return Object.keys(n).length?ui({},e,{},n):e}default:return e}},selector:(e={})=>({doesRetailerExist:t=>-1!==Object.keys(e).indexOf(t),groceryOffer:(t,s)=>{var r,n;return null===(r=e[t])||void 0===r||null===(n=r.coupons)||void 0===n?void 0:n.find(e=>e.offerId===s)},getCoupons:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.coupons}})},offers:{reducer:wn,selector:(e={})=>({doesOfferExist:t=>!!e[t],getOffer:t=>e[t],isOfferActivated:t=>e[t]&&e[t].activated,getOffers:t=>t.map(t=>e[t])})},activatedOffers:{reducer:Z,selector:(e={})=>({getActivatedOffer:t=>e[t]||{},doesOfferExistInActivatedStore:t=>!!e[t]})},categoryFollowing:{reducer:$e,selector:(e={})=>({isCategoryFollowed:t=>e.categories&&e.categories[t]&&e.categories[t].following,isCategoryLastError:t=>e.categories&&e.categories[t]&&e.categories[t].error,isCategoryListLoaded:()=>e.isCategoryListLoaded})},needToKnowNews:{reducer:Ei,selector:(e={})=>({getHomePageUrl:()=>e.homepageUrl||"",getCoverImageUrl:()=>e.coverImage||"",getNewsArticles:()=>e.articles||[]})},affiliateRetailers:{reducer:(e={},{type:t,response:s,affiliateOffers:r,retailerId:n,clicked:a,isVisible:o,actionTimestamp:i,applicationLastVisibleTimeStamp:c})=>{switch(t){case v.ASTRA_BATCH_API_SUCCEEDED:var l;return((null==s||null===(l=s[h.C.AFFILIATE_RETAILERS])||void 0===l?void 0:l.retailers)||[]).reduce((e,s)=>gi({},e,{[s.id]:Oi(e[s.id],gi({type:t},s))}),gi({},e));case v.AFFILIATE_OFFERS_SUCCEEDED:return n&&r?gi({},e,{[n]:Oi(e[n],{type:t,affiliateOffers:r})}):e;case v.INBOX_COMMERCE_FEATURE_CLICKED:return gi({},e,{inboxCommerceFeatureClicked:a,autoExpansion:!1});case v.MESSAGE_BODY_LINK_CLICKED:return gi({},e,{inboxCommerceFeatureClicked:!0});case v.OPEN_PAGE_REQUESTED:return gi({},e,{inboxCommerceFeatureClicked:!1});case v.APPLICATION_VISIBILITY_DID_CHANGE:{let t=!1;if(o){const s=i-c;return t=s>5e3&&s<18e5,gi({},e,t?{autoExpansion:t}:{autoExpansion:t,inboxCommerceFeatureClicked:!1})}return e}default:return e}},selector:(e={})=>({getAffiliateOfferFromRetailerId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.affiliateOffers},getDomainFromRetailerId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.domain},getFacebookUrlFromRetailerId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.facebookUrl},isRetailerFeatured:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.featured},isRetailerFollowed:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.followed},getLogoFromRetailerId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.logo},getNameFromRetailerId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.name},getTwitterUrlFromRetailerId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.twitterUrl},getWebsiteFromRetailerId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.website},getRetailerIdFromDomain:t=>{for(const s of Object.keys(e))if(e[s].domain===t)return s;return""},shouldAutoExpand:()=>e.autoExpansion&&e.inboxCommerceFeatureClicked})},receipts:{reducer:function(e={},t){const s=t.listData,r=void 0===s?{}:s;switch(t.type){case v.MORE_RECEIPTS_SUCCESS:case v.MESSAGE_BODIES_RECEIVED:case v.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case v.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case v.RECEIPTS_LIST_SUCCEEDED:case v.INITIAL_STATE:{if(!r.schemaCards)return e;const t=Object.keys(r.schemaCards).filter(t=>r.schemaCards[t].type===h.Ad.Order&&!p()(e[t],qn(r,t))).reduce((e,t)=>Kn({},e,{[t]:qn(r,t)}),{});return Object.keys(t).length?Kn({},e,{},t):e}default:return e}},selector:(e={})=>({getReceipt:t=>e[t],getPrice:t=>e[t].price,getPotentialSavings:t=>e[t].potentialSavings,getFirstItemName:t=>e[t].orderedItems.length?e[t].orderedItems[0].name:0,getOrderDate:t=>e[t].orderDate,getNumItems:t=>e[t].orderedItems.length,getCurrency:t=>e[t].currency||"",getSellerName:t=>e[t].sellerName,getTotalPotentialSaving:(t=0)=>Object.keys(e).filter(s=>t<=Date.parse(e[s].orderDate)).map(t=>Math.floor(100*e[t].potentialSavings)).reduce((e,t)=>e+t,0)/100,getNumPurchases:(t=0)=>Object.keys(e).filter(s=>t<=Date.parse(e[s].orderDate)).length,getTotalSpentWithEligibleSaving:(t=0)=>Object.keys(e).filter(s=>0!==e[s].potentialSavings&&t<=Date.parse(e[s].orderDate)).map(t=>Math.floor(100*e[t].price)).reduce((e,t)=>e+t,0)/100})},contentProviders:{reducer:kt,selector:(e={})=>({doesContentProviderExist:t=>void 0!==e[t],isContentProviderConnected:t=>e[t].isConnected,getContentProvidersStatus:()=>Object.keys(e).reduce((t,s)=>(t[s]={status:e[s].isConnected?h.Wd.CONNECTED:h.Wd.NOT_CONNECTED},t),{}),isContentProvidersLoaded:()=>!Object(N.c)(e)})},router:{reducer:ta,selector:(e={})=>({getRoutesConfig:()=>e.routesConfig,getRoute:()=>e.route,getHashParams:()=>e.hashParams,getRouteUIContext:()=>e.uiContext,getMrdParams:()=>e.mrdParams})},pages:{reducer:jn,selector:(e=[])=>({doesPageExist:t=>-1!==e.findIndex(e=>Object(V.F)(e,t)),getPages:()=>e,getFolderPageRoute:()=>e.find(e=>e.name===h.rd.FOLDER||Object(x.S)(e)),getSettingsPageRoute:()=>e.find(e=>e.name===h.rd.SETTINGS)})},history:{reducer:cr,selector:lr},messages:{reducer:Rn,selector:bn},messagesFlags:{reducer:dn,selector:(e={})=>({getFlags:t=>e[t],isMessageReadByContext:(t,s)=>{const r=Object(x.K)(s);return r===h.Ud.OLDMAIL||(r===h.Ud.NEWMAIL?!e[t].recent:e[t].read)}})},messagesFolderId:{reducer:un,selector:(e={})=>({getFolderId:t=>e[t],doesMessageIdHasFolderId:t=>!!e[t]})},videoPlayers:{reducer:wo,selector:e=>({getCurrentChannel:()=>e.currentChannel,getShowVideoPlayer:()=>e.showVideoPlayer,getChannelMetaData:()=>e.channelData,getIsPaused:()=>e.isPaused})},messageToAttachments:{reducer:yn,selector:Pn},features:{reducer:xs,selector:(e={})=>t=>{const s=t.getEnvironmentSelectors,r=(r,a)=>{if(s().getIsInternalIP()&&Object(ts.c)()&&window.__DEBUG_MAIL__&&window.__DEBUG_MAIL__[r])return window.__DEBUG_MAIL__[r];switch(r){case h.Eb.MESSAGE_READ_CONTACT_CARD:return hs(e[r],t);case h.Eb.PLA_SEARCH_ADS:return((e,t)=>{const s=(0,t.getRoute)(),r=Object(x.z)(s),n=s.name===h.rd.SEARCH,a=n&&!!Object(x.n)(r);return e&&n&&Ss(!0,t,!0)&&!a&&!Object(x.Y)(r)&&Object(x.w)(r)===h.ac.MESSAGES})(e[r],t);case h.Eb.BOOKING_CARD:return fs(e[r],t);case h.Eb.WIDE_RIGHT_RAIL:return((e,t)=>{const s=t.getEnvironmentSelectors,r=(0,t.getQueryParams)(),n=s().getIsInternalIP(),a=Rs.start,o=Rs.end,i=e[h.Eb.WIDE_RIGHT_RAIL],c=Date.now();return n&&r.wideRightRail?"true"===r.wideRightRail:!!(i&&a&&o)&&(a<=c&&c<o)})(e,t);case h.Eb.NUKE_DISPLAY_ADS_ON_INACTIVE:return((e,t)=>e[h.Eb.NUKE_DISPLAY_ADS_ON_INACTIVE]&&!(0,t.isAppVisible)())(e,t);case h.Eb.HIDE_RIGHT_RAIL:return((e,t)=>e||(0,t.isFeatureEnabled)(h.Eb.IS_WIDER_MAIL_EXTN_ENABLED))(e.hideRightPaneAds,t);case h.Eb.RIGHT_RAIL_CONTACT_CARD:case h.Eb.RIGHT_RAIL_PHOTO_CARD:case h.Eb.RIGHT_RAIL_DOCS_CARD:case h.Eb.RIGHT_RAIL_MESSAGES_CARD:return((e,t,s)=>{const r=t.isFeatureEnabled,n=(0,t.getRoute)(),a=Object(x.z)(n),o=Object(x.w)(a),i=n.name===h.rd.SEARCH,c=r(h.Eb.DEALS)&&[h.ac.COUPON_CARDS,h.ac.OFFER_CARDS].includes(o),l=i&&!!Object(x.n)(a)&&!c;if(!Ss(!0,t,!0))return!1;switch(s){case h.Eb.RIGHT_RAIL_CONTACT_CARD:return l;case h.Eb.RIGHT_RAIL_PHOTO_CARD:return o!==h.ac.IMAGES&&l;case h.Eb.RIGHT_RAIL_DOCS_CARD:return o!==h.ac.DOCUMENTS&&l;case h.Eb.RIGHT_RAIL_MESSAGES_CARD:return o!==h.ac.MESSAGES&&l;default:return!1}})(0,t,r);case h.Eb.NON_NATIVE_APP_BANNERS:return!!e[r]&&!e[h.Kd.DO_NOT_UPSELL_APP];case h.Eb.RIGHT_RAIL_AD_FREE_UPSELL_CUE:return e[r]&&!e[h.Eb.IS_WIDER_MAIL_EXTN_ENABLED]&&(e[h.Eb.MAIL_PRO_ELIGIBLE]||e[h.Eb.WIDER_MAIL_ELIGIBLE]||e[h.Eb.RIGHT_RAIL_UPSELL_VIDEO_AD]);case h.Eb.SHOPPING_CART_AD:return((e,t)=>{const s=t.hasMatchingDomainInMessageGroup,r=t.getCurrentListId,n=t.getGroupId,a=t.getMessagesSelectors,o=t.getRelevantMessageIdFromMessageGroupId,i=(0,t.isFeatureEnabled)(h.Eb.APAC_SHOPPING_CART_AD)?h.g:h.Od,c=a().getDecos,l=n(),d=o(l,r());if(!l||!d)return!1;const E=(c(d)||[]).some(({id:e})=>e===h.qb[h.Ud.PEOPLE]);return e&&s(i)&&!E})(e[r],t);case h.Eb.HOTELS_CARD_PREFILL:return Ds(e[r],t);case h.Eb.RELATED_SEARCHES_CARD:return((e,t)=>{const s=t.getAdsSelectors,r=t.getParticipantInFocus,n=(0,t.getFeaturesSelectors)().isEnabled,a=hs(e,t),o=n(h.Eb.BOOKING_CARD);if(!a||o)return!1;const i=(0,s().getRelatedSearches)(),c=(r()||{}).email;return!!Object(gs.a)(i,c)||!Object.keys(i).length})(e[r],t);case h.Eb.RIGHT_RAIL_NATIVE_AD:return((e,t)=>{const s=t.getRouteName;return Ss(e,t,!0)&&s()===h.rd.SPONSORED_MESSAGE})(e[r],t);case h.Eb.SUBSCRIPTION_ADS:return hs(e[r],t)&&t.hasMatchingDomainInMessageGroup(h.be);case h.Eb.SMARTVIEW_CATEGORIES_ENABLED:return e[h.Eb.SMARTVIEW_CATEGORIES_ALL]||e[h.Eb.SMARTVIEW_CATEGORIES_PEOPLE]||e[h.Eb.SMARTVIEW_CATEGORIES_PEOPLE_V2]||e[h.Eb.SMARTVIEW_CATEGORIES_SHOPPING];case h.Eb.SHOW_TABS:return e[h.Kd.MAIL_TABS];case h.Kd.MAIL_TABS:return e[r]||t.hasFailedComposeSend();case h.Kd.HAS_GUIDED_STAR_ANIMATION:return _s(t);case h.Kd.HAS_DEALS_STAR_ANIMATION:return us(t);case h.Kd.SNIPPETS:return e[r];case h.Kd.PREVIEW_PANE:return Cs(e[r],t);case h.Kd.LIST_ITEM_HEIGHT:return Es(e,t,a);case h.Kd.THEME_MODE:return As(e,t)?ls.i.LIGHT:e[r];case h.Kd.THEME:return As(e,t)?ls.j.DEFAULT:e[r];case h.Kd.NOTIFICATION_MODE:return((e,t)=>{const s=t.isFeatureEnabled,r=s(h.Eb.PUSH_NOTIFICATIONS),n=s("browserNotifications");return r&&Object(ps.a)()?h.Nc.PUSH:n?h.Nc.BROWSER:null})(0,t);case h.Kd.SYSTEM_TABS:return Ts(e[r],t);case h.Kd.NOTIFICATION:return ms(t);case h.Kd.COUPON_CARDS_FETCH_COUNT:return((e,t)=>{const s=t.getRoute,r=t.isFeatureEnabled,n=t.getSmartViewTypeFromRoute,a=(0,t.getCouponsSelectors)().getExtractedDeals,o=s();return r(h.Eb.DEALS)&&[h.Ud.COUPONS,h.Ud.GROCERIES,h.Ud.COUPON_EMAILS].includes(n(o))&&Object.keys(a()).length<100?100:e})(e[r],t);case h.Kd.PREFERRED_AD_FORMAT:return(e=>{let t=M.UNSET;for(const s in y)y[s]===e&&(t=s);return t})(e[r]);case h.Eb.MAIL_PRO_LINK_IN_SETTINGS_MENU:return(e=>{if(!e||!Object(ts.c)()||!window.AppBootstrapData)return!1;const t=(window.AppBootstrapData.mailboxAttributes["web.clientVersionHistory"]||{}).value,s=(void 0===t?"":t).split("|").filter(e=>!!e),r=Date.now();if(1===s.length)return!0;const a=s.reduce((e,t="")=>{const s=t.split(","),a=n()(s,2);if("6"===a[0]){let t=1e3*parseInt(a[1],10);return t>r&&(t/=1e3),Math.max(e,t)}return e},0);return 0!==a&&r-a>60*h.rc})(e[r]);case h.Eb.WIDER_MAIL_PROMO:return((e,t)=>{if(!e||!Object(ts.c)())return!1;const s=t.isFeatureEnabled,r=s(h.Eb.MAIL_PRO),n=s(h.Eb.HIDE_RIGHT_RAIL),a=s(h.Eb.IS_WIDER_MAIL_EXTN_ENABLED);return!r&&!n&&!a})(e[r],t);case h.Kd.ACTION_AFTER_MSG_MOVE:return bs(e,t);case h.Eb.INLINE_IMAGES_PROXIED:return((e,t)=>{const s=t.getSetting;if((0,t.isMobileRoute)())return e;const r=s(h.Kd.SCOUT_ONBOARDING)||[],n=Object(Ns.e)(r);return e&&n})(e[r],t);case h.Eb.LASTPASS_UPSELL:case h.Eb.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE:return((e,t,s)=>{const r=t.doesMessageGroupIdExist,n=t.getMessageSubject,a=t.getMessageIdsFromMessageGroupId,o=t.getMessageListItems,i=t.getGroupId,c=(0,t.getRoute)(),l=Object(x.z)(c);switch(s){case h.Eb.LASTPASS_UPSELL:{const t=i(),s=r(t)&&a(t)[0],o=s&&n(s,l),c=o&&Ls(o);return e&&c}case h.Eb.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE:{const t=o(l).some(e=>{const t=r(e.id)&&a(e.id)[0];if(!t||c.name!==h.rd.FOLDER)return!1;const s=n(t,l);return s&&Ls(s)});return e&&t}default:return!1}})(e[r],t,r);case h.Eb.LASTPASS_FREETRIAL_UPSELL:return e[r]&&e[h.Eb.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE];case h.Eb.BREAKING_NEWS_ENABLED:return((e,t)=>{const s=t.getSetting,r=t.isFolderRoute,n=t.getBreakingNewsSelectors,a=t.getCurrentListId,o=(0,t.getRoute)(),i=n().getIsBreakingNewsDismissed(),c=s(h.Kd.BREAKING_NEWS_SETTINGS),l=e&&c&&!i,d=a(),E=o.name===h.rd.SEARCH&&(Object(x.Z)(o)||!Object(x.Y)(d)),_=r(),u=s(h.Kd.PREVIEW_PANE)===h.ed.RIGHT;return l&&(_||E)&&!u})(e[h.Eb.BREAKING_NEWS],t);case h.Kd.HUMAN_READABLE_CONSENT:{const t=e[h.Kd.CONSENT_EVENTS];return!!(Array.isArray(t)&&t.indexOf("humanReadableConsentEvents")>-1)}case h.Eb.ABP_STATIC_ADS:case h.Eb.RR_AD_BLOCK_DPA_ADS:return e[r]&&t.getAdsSelectors().isABPDetected();case h.Eb.PENCIL_AD:case h.Eb.SECOND_PENCIL_AD:case h.Eb.SAME_SEARCH_AD_ON_SECOND_PENCIL:case h.Eb.SECOND_SEARCH_AD:case h.Eb.ROTATE_ADS_ONLINE:case h.Eb.ROTATE_ADS_ON_CHECK_MAIL:case h.Eb.ADBLOCK_UPSELL_CUE:case h.Eb.ADBLOCK_UPSELL:return e[r]&&!t.isFeatureEnabled(h.Eb.ABP_STATIC_ADS)&&!t.isFeatureEnabled(h.Eb.RR_AD_BLOCK_DPA_ADS);case h.Eb.MEMBERSHIP_REWARDS:case h.Eb.PORTRAIT_AD:{const n=s().getWindowDimensions(),a=n.screenHeight,o=n.clientWidth,i=t.isMobileRoute()&&a>=f&&o>=I;return e[r]&&!(i&&2===t.getPrescribedNumberOfColumns())}case h.Eb.CROSS_DOMAIN_DPA_ADS:return((e,t)=>{const s=t.isFeatureEnabled,r=(0,(0,t.getCouponsSelectors)().getCouponCategoriesForMessageGroup)();return e&&!s(h.Eb.SHOPPING_CART_AD)&&!!r.length})(e[r],t);case h.Eb.AD_PARTIALLY_ABOVE_FOLD:{const n=s().getWindowDimensions(),a=n.screenHeight,o=n.clientWidth,i=t.isMobileRoute()&&a>=f&&o>=I&&1===t.getPrescribedNumberOfColumns();return e[r]&&!i}case h.Kd.YMOBILE_UPSELL_VERSION:return e[r]||Object(Fs.a)(t);case h.Kd.SUBSCRIPTION_UPSELL_PRODUCT_CODE:{const e=t.getEnvironmentSelectors,s=t.isFeatureEnabled,r=t.getSetting;let n=r(h.Kd.SELECTED_SUBSCRIPTION_UPSELL),a=r(h.Kd.SELECTED_SUBSCRIPTION_VERSION)||vs.d;if(n)return{productCode:n,version:a};const o=e().getOS(),i=r(h.Kd.MARKETING_PREFERENCES_SETTING);if(!i)return{productCode:n,version:a};const c=vs.a.filter(e=>{if(i[e])return!1;switch(e){case vs.e.SYSTEM_MECHANIC:return o===h.Sc.WINDOWS;case vs.e.YMAILPRO:return s(h.Eb.MAIL_PRO_ELIGIBLE);default:return!0}});if(!c.length)return{productCode:n,version:a};const l=Object(U.generateRandomInteger)({min:1,max:2*c.length,randomSeed:vs.c});return a=vs.h[l%2],n=c[Math.floor(l/2)],{productCode:n,version:a}}default:return e[r]}};return{isEnabled:t=>{const s=r(t),n=e.route,a=(void 0===n?{}:n).name;return Object(ds.b)(e,t,a),void 0!==s?!!s:s},getSetting:(t,s)=>{const n=e.route,a=(void 0===n?{}:n).name;return Object(ds.a)(e,t,a),r(t,s)},getDefaultSetting:t=>{const s=e.route,r=(void 0===s?{}:s).name;return Object(ds.a)(e,t,r),e[t]}}}},featureCues:{reducer:qs,selector:e=>({isShown:t=>e[t]&&e[t].isShown,shownFeatures:()=>Object.keys(e||{}).filter(t=>e[t].isShown),isPersistent:t=>e[t]&&e[t].isPersistent,isKeySaved:t=>e[t]&&e[t].isKeySaved,getSubkey:t=>e[t]&&e[t].subkey,getUserResponse:t=>e[t]&&e[t].userResponse,isReshowInSessionEnabled:t=>e[t]&&e[t].reShowInSession})},gifItems:{reducer:ir,selector:(e={})=>({getGifItems:()=>e})},gifCategories:{reducer:ar,selector:(e={})=>({isGifCategoryQuery:t=>e.categories.hasOwnProperty(t),getGifCategoryTopItemsStatus:t=>e.categories[t].status,getGifCategoryTopItemsUrl:t=>e.categories[t].category.topItemsUrl,getGifCategoriesList:()=>e.categoryIds.map(t=>e.categories[t].category),isCategoryListLoaded:()=>e.categoriesStatus===h.od.LOADED})},contacts:{reducer:Ht,selector:e=>({getContacts:()=>e.byId,doesContactExist:({id:t})=>!!e.byId[t],getContactById:t=>e.byId[t],getContactIdByEmail:t=>e.idByEmail[t],getContactByEmail:t=>{const s=e.idByEmail[t];return s?e.byId[s]:e.addressBook[t]||null},getCurrentFilter:()=>e.selectedPaneFilter,getCurrentPaneView:()=>e.contactsPaneView,getCurrentPaneListId:()=>Object(x.k)(e.selectedPaneFilter,e.selectedUserGroup[e.selectedPaneFilter]||""),isEditable:t=>{const s=e.byId[t]||{},r=s.isEditable;return!!s.editToken&&(void 0!==r&&r)},isDeletable:t=>{const s=e.byId[t]||{};return!!s.editToken&&s.isInUserContactList},getAllGroupsData:()=>e.groupsById||{},getSelectedGroup:t=>e.selectedUserGroup[t],getGroupName:t=>((e.groupsById||{})[t]||{name:""}).name,getAllGroupNames:()=>Object.keys(e.groupsById).reduce((t,s)=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Gt(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Gt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{[e.groupsById[s].name.toLowerCase()]:++t[e.groupsById[s].name.toLowerCase()]||1}),{}),isUserAddedContact:t=>!!e.byId[t]&&e.byId[t].isInUserContactList,getContactsSortOrder:()=>e.sortBy,getContactBlockList:()=>e.contactBlockList})},socialAccounts:{reducer:la,selector:e=>({showAuthWindow:()=>!!e.authWindow.provider,getAuthWindowData:()=>e.authWindow})},downloads:{reducer:es,selector:e=>({getDownloads:()=>e})},online:{reducer:Gn,selector:e=>({isOnline:()=>e})},searchSuggestions:{reducer:ia,selector:function(e={}){return{getSuggestions:t=>e[t]}}},searchInput:{reducer:na,selector:aa},calendar:{reducer:He,selector:(e={})=>({getInviteUid:t=>e[t]&&e[t].uid,getInviteStatus:t=>e[t]&&e[t].status,getInviteInfo:t=>e[t]})},environment:{reducer:os,selector:(e={})=>({getAppName:()=>e.appName,getAppId:()=>e.appId,getIsInternalIP:()=>e.isInternalIP,isAppVisible:()=>e.applicationVisibility,getApplicationLastVisibleTimeStamp:()=>e.applicationLastVisibleTimeStamp,getBuildRefreshStatus:()=>e.buildRefreshStatus,getTimeZoneName:()=>e.timeZoneName,getBrowser:()=>e.browser||{},getPageDirection:()=>e.pageDirection,getTimezoneUpdatingStatus:()=>e.timezoneUpdating,getWindowDimensions:()=>e.windowDimensions||{},getLoggerParams:()=>e.loggerParams,getUserSegmentData:()=>e.userSegmentData,getDoNotSellUrl:()=>e.doNotSellUrl,getDoNotSellLabel:()=>e.doNotSellLabel,getInactiveSinceDate:()=>function(e={}){const t=Object(N.h)(e).filter(e=>e.segment_inactivesince&&ss.test(e.segment_inactivesince));return t.length?Object(N.h)(t).map(e=>e.segment_inactivesince.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3")).reduce((e,t)=>new Date(e)-new Date(t)<0?t:e):"1995-03-01"}(e.userSegmentData),getEndpoint:t=>e.endpoints[t],getPartner:()=>e.partner,getOS:()=>e.os})},composeSuggestions:{reducer:dt,selector:function(e={}){return{getSuggestions:t=>(e.composeSuggestionsFromImportantContacts[t]||[]).concat(e.composeSuggestions[t]||[]).reduce((e,t)=>e.map[t.email]?(e.map[t.email].filteredResults=t.filteredResults,e):(e.result=[...e.result,t],e.map[t.email]=t,e),{map:{},result:[]}).result}}},locationSuggestions:{reducer:kr,selector:(e={})=>({getLocationSuggestionsMap:()=>e.locationSuggestions,getLocationSuggestions:t=>e.locationSuggestions[t]||[],getLocationSuggestionStatus:t=>e.locationFetchStatus[t]||h.od.DOES_NOT_EXIST})},settings:{reducer:ca,selector:(e={})=>({getSettingsApiCallStatus:()=>e.settingsApiCallStatus,getBlockedSendersApiCallStatus:()=>e.blockedSendersApiCallStatus,getFiltersAndBlockedSendersApiCallStatus:()=>e.filtersAndBlockedSendersApiCallStatus,isHumanReadableConsentUpdated:()=>e.humanReadableConsentUpdated})},importantContacts:{reducer:Ar,selector:function(e={}){return{getImportantContacts:()=>e}}},recentSearches:{reducer:Qn,selector:function(e={}){return{getRecentSearches:()=>e.recentSearches,getRecentSearchesCallStatus:()=>e.status}}},breakingNews:{reducer:Bo,selector:function(e={}){return{getNewsArticle:()=>e.newsArticle,getIsBreakingNewsDismissed:()=>e.isDismissed,getNewsRefreshTimestamp:()=>e.newsRefreshTimestamp}}},pendingUpdate:{reducer:kn,selector:(e={})=>({getPendingUpdate:()=>e})},designClassifier:{reducer:Yt,selector:(e={isDetailPaneExpanded:!1})=>({isDetailPaneExpanded:()=>e.isDetailPaneExpanded})},composeAttributesStatus:{reducer:Je,selector:(e={})=>({getComposeAttributesStatus:()=>e.composeAttributesStatus})},dealsView:{reducer:qt,selector:e=>({getTopRetailers:()=>e.topRetailers,getTopDealCategories:()=>e.topDealCategories,getDealsViewListExpansion:()=>!!e.dealsViewExpansion})},linkEnhancer:{reducer:Rr,selector:(e={})=>({getEnhancedLinks:()=>e})},addFilter:{reducer:Go,selector:(e={})=>({getAddFilter:()=>e})},replySuggestions:{reducer:jo,selector:(e={})=>({getSuggestions:t=>e[t]})},adListItems:{reducer:Jo,selector:(e={})=>({getAdItems:()=>Object.keys(e),getSelectedPencilAds:()=>Object.keys(e).filter(t=>e[t].isSelected),hasSelectedPencilAds:()=>{let t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].isSelected)return!0;return!1},isAdSelected:t=>!!e[t]&&e[t].isSelected,isAdMarkedAsRead:t=>!!e[t]&&e[t].isRead,isAdDeleted:t=>!!e[t]&&e[t].isDeleted,isAdMarkedForSkipRotation:t=>!!e[t]&&e[t].rotateAd<1})},cloudStorageAccounts:{reducer:oi,selector:(e={})=>({getCloudStorageItems:()=>e.cloudStorageItems,getShareableLinkByItemId:t=>e.shareableLinks[t],getShareableLinkForRecentItem:()=>{if(e.shareableLinks[e.recentItemId]){return e.shareableLinks[e.recentItemId].shareableLink}}})},membershipRewards:{reducer:ko,selector:(e={})=>({getAtosStatus:()=>Object(N.b)(e,"atosInfo.atosStatus",""),getAtosInfo:()=>e.atosInfo,getRewardsAction:t=>e.rewardsActions[t]||{},getRewardsActionsTimestamp:t=>e.rewardsActionsTimestamp[t],getLastCompletedChallenges:t=>e.lastCompletedChallenges[t]||{},getChallengeDefns:t=>e.mailChallenges[t]||{},getChallengeProgress:t=>e.mailChallengesProgress[t]||{},getSuperAppChallenges:()=>e.superAppChallenges,getPointsBalance:()=>e.pointsBalance,getRedeemItems:()=>e.redeemItems,isImapInCompleted:()=>Object(N.b)(e,`mailChallengesProgress.${h.pe.IMAPIN}.repeatedTimes`)>0,getSelectedTab:()=>e.selectedTab,pointsReceivedOnTaskCompletion:t=>e.lastCompletedChallenges[t]&&e.lastCompletedChallenges[t].pointsReceived,isBonusReceivedOnTaskCompletion:t=>e.lastCompletedChallenges[t]&&e.lastCompletedChallenges[t].bonusChallengeCompleted,isBonusChallengeActive:t=>e.mailChallenges[t]&&e.mailChallenges[t].bonusChallenges.length>0,getDailyCheckinBonusType:()=>{var t;return null===(t=e.mailChallenges[h.pe.DAILY_CHECKIN])||void 0===t?void 0:t.bonusType},getDailyCheckinMilestoneList:()=>{var t;return null===(t=e.mailChallenges[h.pe.DAILY_CHECKIN])||void 0===t?void 0:t.milestoneList}})},senderRollup:{reducer:hi,selector:function(e={}){return{getSenderRollupById:(t,s)=>e[t]&&e[t][s]}}},productRecommandations:{reducer:Ii,selector:(e={})=>({getRecommendationsFromConversationId:t=>Object.keys(e).reduce((s,r)=>(e[r].cardConversationId===t&&(e[r].schemaId=r,s.push(e[r])),s),[]),getRecommendationsFromAddress:t=>e[t].from})},mailproFreeTrial:{reducer:Qo,selector:(e={})=>t=>({getDaysLeftInTrial:()=>{let t=0;return e.trialStartDate>0&&(t=Object(Vo.differenceInDays)((new Date).getTime(),e.trialStartDate)+1),h.fc-t},getUpsellId:()=>e.upsellId,getSubscriptionStatus:()=>e.subscriptionStatus,getPurchaseFreeTrialStatus:()=>e.purchaseFreeTrialStatus,isPurchaseFreeTrialInProgress:()=>(0,t.getUnsyncedDataToSync)(Date.now()).some(e=>e.type===h.Ce.PURCHASE_MAILPRO_FREE_TRIAL&&"PURCHASE_MAILPRO_FREE_TRIAL_HASH"===e.hash),isPurchaseFreeTrialFailed:()=>!!e.purchaseFreeTrialStatus&&e.purchaseFreeTrialStatus===qo})},recentlyUsedState:{reducer:fi,selector:e=>({getRecentlyUsedMessageBodiesIds:()=>e.messageBodies,getRecentlyUsedDocumentsIds:()=>e.documents})},packageTracking:{reducer:(e={},t)=>{switch(t.type){case v.MESSAGE_BODIES_RECEIVED:var s,r,n;return bi({},e,{},null===(s=t.response)||void 0===s||null===(r=s.PKG_TRACKING_CARD)||void 0===r||null===(n=r.ALL_PKG_TRACKING_CARD)||void 0===n?void 0:n.items.reduce((e,t)=>bi({},e,{},t.messages.reduce((e,t)=>bi({},e,{},(t.schemaCards||[]).reduce((e,t)=>bi({},e,{[t.cardConversationId]:bi({},t)}),{})),{})),{}));case v.POST_LAUNCH_SYNC_SUCCEEDED:var a;return bi({},e,{},null===(a=t.cardGroupList)||void 0===a?void 0:a.reduce((e,t)=>bi({},e,{},t.messages.reduce((e,t)=>bi({},e,{},(t.schemaCards||[]).reduce((e={},t)=>{if("ParcelDelivery"===t.type)return bi({},e,{[t.cardConversationId]:bi({},t)})},{})),{})),{}));default:return e}},selector:e=>({getPackageTrackingCardFromConversationId:t=>e[t]})},falconTOMSubscriptions:{reducer:li,selector:(e={})=>({getFalconTOMSubscriptionByGroupId:t=>e.falconTOMSubscriptions[t],getFalconTOMSubscriptionsApiCallStatus:t=>e.falconTOMSubscriptionsApiCallStatus[t]})}},Bi=(e=>Object(m.combineReducers)(Object.keys(e).reduce((t,s)=>g({},t,{[s]:e[s].reducer}),{})))(xi);t.default=Bi;const Vi=(e=>Object.keys(e).reduce((t,s)=>g({},t,{[s]:Object(S.createSelector)(e=>e[s],t=>e[s].selector(t))}),{}))(xi),Wi=((e={})=>(t,s,r,n)=>a=>{const o=s(),i=((t,s)=>(e[t]||(e[t]=Object(S.createSelector)(s,()=>({}))),e[t]))(t,r)(a);return i[o]||(i[o]=n(...r.map(e=>e(a)))),i[o]})({}),Ki=e=>{let t=T;return e<I?t=O:e>=D&&(t=A),t},qi=(e,t)=>e>t?h.Vc.LANDSCAPE:h.Vc.PORTRAIT,Yi=Object(S.createSelector)(e=>e,e=>{const t=Vi,s={getDesignClassifierDimensions:()=>{const e=s.getEnvironmentSelectors().getWindowDimensions(),t=e.clientWidth,r=e.clientHeight,n=e.screenWidth,a=e.screenHeight,o=s.getRouterSelectors().getRoute(),i=o&&o.name,c=t&&a?((e,t,s,r)=>{let n=r;return e>t&&s<r&&(n=s),n<f||e<I?1:2})(t,r,n,a):1;return{clientWidth:t,clientHeight:r,orientation:qi(t,r),columns:c,messageListWidth:c>1&&!yi.includes(i)?Ki(t):O,sidebarWidth:c>1||i===h.rd.SUBSCRIPTION_LIST?Ki(t):O,isDetailPaneExpanded:s.isDetailPaneExpanded()}},shouldShowTwoColumnInRoute:()=>{const e=s.getRoute(),t=e&&e.name;return!t||!yi.includes(t)},isDetailPaneExpanded:()=>t.designClassifier(e).isDetailPaneExpanded(),getOrientation:()=>s.getDesignClassifierDimensions().orientation,getPrescribedNumberOfColumns:()=>s.getDesignClassifierDimensions().columns,getPrescribedMessageListWidth:()=>s.getDesignClassifierDimensions().messageListWidth,getPrescribedSidebarWidth:()=>s.getDesignClassifierDimensions().sidebarWidth,getAction:()=>t.action(e),getActionTimeStamp:()=>s.getAction().actionTimestamp,isWindowResizingDone:()=>s.getAction().type===v.WINDOW_RESIZING,getFeaturesSelectors:()=>t.features(e)(s),getSenderRollupSelectors:()=>t.senderRollup(e),isFeatureEnabled:e=>Wi("isFeatureEnabled",()=>e,[e=>e],()=>s.getFeaturesSelectors().isEnabled(e))(s),getSetting:e=>Wi("getSetting",()=>e,[e=>e],()=>s.getFeaturesSelectors().getSetting(e))(s),getDefaultSetting:e=>s.getFeaturesSelectors().getDefaultSetting(e),getAdsSelectors:()=>t.ads(e)(s),getPrintItemsSelectors:()=>t.printItems(e),getAddFilterSelectors:()=>t.addFilter(e),getReplySuggestionSelectors:()=>t.replySuggestions(e),getItemToPrint:()=>s.getPrintItemsSelectors().getItemToPrint(),getUnsyncedDataSelectors:()=>t.unsyncedData(e),getReconciledUnsyncedData:()=>Wi("getReconciledUnsyncedData",()=>"RECONCILE_UNSYNCED_DATA_CACHE",[e=>e],()=>s.getUnsyncedDataSelectors().getReconciledUnsyncedData(s))(s),getUnsyncedDataToSync:(e=Date.now())=>s.getUnsyncedDataSelectors().getUnsyncedDataToSync(s,e),getReconciledUnysncedDataByHash:e=>s.getReconciledUnsyncedData().find(t=>t.hash===e),getRequestHashForUnsyncedDataItem:e=>`${e.type}-${e.hash}`,getUnsyncedDataToSyncByRequestHash:(e,t)=>{const r=s.getRequestHashForUnsyncedDataItem;return(0,s.getUnsyncedDataToSync)(t).find(t=>r(t)===e)},getOnlineSelectors:()=>t.online(e),isOnline:()=>s.getOnlineSelectors().isOnline(),getContentProviders:()=>t.contentProviders(e),getListsSelectors:()=>t.lists(e),doesListExist:e=>s.getListsSelectors().doesListExist(e),doesListHasMoreItems:e=>s.getListsSelectors().hasMoreItems(e),getListStatus:e=>s.getListsSelectors().getListStatus(e),doesListItemExist:(e,t)=>s.getListsSelectors().doesListItemExist(e,t),getListItemIdIndex:(e,t)=>s.getListsSelectors().getListItemIdIndex(e,t),shouldFetchMoreItems:(e,t)=>{const r=s.getFeaturesSelectors,n=s.getListItemIds,a=s.doesListHasMoreItems,o=(0,s.getListsSelectors)(),i=o.getListItemIdIndex,c=o.doesListExist,l=r().getSetting("messageScrollLoadThreshold"),d=i(e,t),E=c(e)?n(e):[];return c(e)&&a(e)&&E.length-d<=l},getPreviousListItemId:(e,t)=>s.getListsSelectors().getPreviousListItemId(e,t),getNextListItemId:(e,t)=>s.getListsSelectors().getNextListItemId(e,t),isListEmpty:e=>s.getListsSelectors().isListEmpty(e),isListStale:e=>s.getReconciledUnsyncedData().some(t=>t.type===h.Ce.LIST_TO_UPDATE&&t.userInputtedValues.listId===e&&t.userInputtedValues.isStale),getListLmv3Query:e=>s.getListsSelectors().getLmv3Query(e),getListSuggestedWords:e=>s.getListsSelectors().getSuggestedWords(e),getAllItemsCountForListId:e=>{const t=s.doesListExist,r=s.getListLmv3Query,n=s.doesFolderIdExist,a=s.getFolderTotal,o=(0,s.getListsSelectors)().getTotalHits,i=Object(x.q)(e);return t(e)&&r(e)?o(e):i&&n(i)&&a(i)||null},getStreamsSelectors:()=>t.streams(e),getFoldersSelectors:()=>t.folders(e),getMessageGroupsSelectors:()=>t.messageGroups(e),getCardGroupsSelectors:()=>t.cardGroups(e)(s),getCardMessageToSchemasSelectors:()=>t.cardMessageToSchemas(e),getFlightsSelectors:()=>t.flights(e),getItemIdsSelectors:e=>s.getListsSelectors().getItemIdsSelectors(e),getListItemIds:e=>s.getItemIdsSelectors(e).getItemIds(),getPeopleListItems:e=>s.getListItemIds(e).map(s.getContactListSelectors().getContactById),getMessageTimestamp:e=>s.getMessagesSelectors().getTimeStamp(e),getMessageListItems:e=>{const t=s.getSetting,r=Object(x.w)(e),n=t(h.Kd.LIST_ITEM_HEIGHT,{contentType:r});return Wi("getMessageListItems",()=>`${e}-${n}`,[e=>e.getListsSelectors(),e=>e.getMessagesSelectors(),e=>e.getFoldersSelectors(),e=>e.getMessageGroupsSelectors()],()=>{const t=s.getMessageIdsFromMessageGroupId,a=s.getFoldersSelectors,o=s.getMessagesSelectors,i=s.getListsSelectors,c=s.getMessageFolderId,l=(0,s.getCardGroupsSelectors)().getMessageIdsFromCardGroupId,d=a().getPrimaryFolderTypeByFolderId,E=o().getTimeStamp,_=(0,i().getItemIdsSelectors)(e).getItemIds,u=Object(x.q)(e);return _().reduce((s,a)=>{const o=r===h.ac.TRAVEL_CARDS?l(a):t(a,e),i=[],_=[];o.forEach(e=>{d(c(e))!==h.Mb.DRAFT?i.push(e):_.push(e)});let p=u&&d(u)===h.Mb.DRAFT?_:i;0===p.length&&(p=o);const m=p[p.length-1],S=0===i.length?o[0]:i[0],C=[...p].reverse().find(e=>c(e)===u)||m;return void 0===C?s:[...s,{id:a,listId:e,firstMessageId:S,relevantMessageId:C,recentMessageId:m,listItemHeight:n,timestamp:1e3*E(C)}]},[])})(s)},getSystemFolderListWithSmartView:t=>Wi("getSystemFolderListWithSmartView",()=>t,[e=>e],()=>{const r=s.isOldNewMailInboxStyle(),n=s.getFoldersSelectors(),a=n.isSystemFolder,o=n.getPrimaryFolderTypeByFolderId,i=n.getFolderName,c=e.folders,l=Object.keys(c).filter(e=>{const s=c[e].accountId===t,n=a(e),i=o(e);return s&&n&&!(r&&i===h.Mb.INBOX)}).map(e=>({id:e,type:o(e),kind:"folder",name:i(e),level:0})),d=Object.keys(j.d).filter(e=>r?e!==h.Ud.UNREAD:e!==h.Ud.OLDMAIL&&e!==h.Ud.NEWMAIL).map(e=>({id:e,type:e,kind:"smartview",name:e,level:0}));return l.concat(d).sort((e,t)=>j.a[e.type]-j.a[t.type])})(s),getCustomFolderList:e=>Wi("getCustomFolderList",()=>e,[e=>e.getFoldersSelectors()],t=>t.getCustomFolderList(e))(s),getAttachmentListItems:e=>{const t=s.getAttachmentsSelectors,r=s.getListsSelectors,n=s.isFeatureEnabled,a=s.getMessageIdForAttachmentId,o=(0,s.getFeaturesSelectors)().getSetting,i=t(),c=i.getTimeStamp,l=i.getAttachmentById,d=(0,r().getItemIdsSelectors)(e).getItemIds,E=Object(x.w)(e),_=o(h.Kd.LIST_ITEM_HEIGHT,{contentType:E}),u=n(h.Eb.CONVERSATIONS);return d().map(t=>{const s=l(t),r=a(t);let n=!0;return(E===h.ac.IMAGES&&s.isExternal||E===h.ac.DOCUMENTS&&!Object(G.m)(s))&&(n=!1),{id:t,listId:e,listItemHeight:_,timestamp:c(t),messageId:r,messageGroupId:u?s.conversationId:r,previewable:n,downloadUrl:s.downloadUrl}})},getMessageListItemsSinceTimestamp:(e,t)=>Object(x.w)(e)!==h.ac.MESSAGES?[]:s.getMessageListItems(e).filter(e=>e.timestamp>=t),getRefundSelectors:()=>({getRefundCardsForCardConversationId:e=>{const t=s.getCardMessageToSchemasSelectors,r=s.getReceiptSelectors,n=(0,(0,s.getCardGroupsSelectors)().getMessageIdsFromCardGroupId)(e)||[],a=t().getSchemas;return n.map(e=>{const t=(a(e)||[]).filter(({type:e})=>e===h.Ad.Order);return t.length?{cmid:e,price:r().getPrice(t[0].id),potentialSavings:r().getPotentialSavings(t[0].id),itemName:r().getFirstItemName(t[0].id),orderDate:r().getOrderDate(t[0].id),currency:r().getCurrency(t[0].id)}:{}})}}),getReceiptSelectors:()=>t.receipts(e),getPlaAdsSelectors:()=>({getPlaAdDataForCurrentRoute:()=>{const e=s.getAdsSelectors,t=(0,s.getRoute)(),r=Object(x.z)(t);return e().getPlaAdData(r)}}),getMembershipRewardsSelectors:()=>t.membershipRewards(e),getMailproFreeTrialSelectors:()=>t.mailproFreeTrial(e)(s),getCardConversationIdByMessageId:e=>s.getMessagesSelectors().getCardConversationId(e),getRetailersSelectors:()=>Mi({getRetailerStreamItems:e=>{const t=s.getListsSelectors().getItemIdsSelectors(e).getItemIds();return(0,s.getRetailersSelectors().getRetailersFromRetailerIds)(t)}},t.groceries(e)),getGroceriesTopOfMsgSelectors:()=>t.groceriesTopOfMsg(e),getAffiliateRetailersSelectors:()=>t.affiliateRetailers(e),getProductRecommendationsSelectors:()=>t.productRecommandations(e),getPackageTrackingSelectors:()=>t.packageTracking(e),getOffersSelectors:()=>Mi({getOfferItemFromOfferId:e=>{const t=s.getOffersSelectors(),r=t.getOffer;if((0,t.doesOfferExist)(e)){const t=r(e),s=t.amountUnit,n=t.brandName,a=t.cardId,o=t.categories,i=t.changeQuantityStatus,c=t.description,l=t.discountType,E=t.imageUrl,_=t.maxQuantity,u=t.quantity,p=t.scoreValue,m=t.unitPriceDisplay,S=t.value,C=Math.floor((t.expiryTimestamp-(new Date).getTime())/h.rc);let g="";if(s&&"0"!==S)if(l===h.kd.AMOUNT){g=`${d()(s)}${S}`}else l===h.kd.PERCENT?g=S+"%":l===h.kd.GETXFREE&&(g=`Get ${S} free`);return{brandName:n,cardId:a,categories:o,changeQuantityStatus:i,dateDiff:C,description:c,discountType:l,imageUrl:E,maxQuantity:_,offerId:e,offerValue:g,quantity:u,scoreValue:p,unitPriceDisplay:m}}return{}},getOfferStreamItems:e=>{const t=s.getListsSelectors().getItemIdsSelectors(e).getItemIds(),r=s.getOffersSelectors().getOfferItemFromOfferId;return t.map(e=>r(e))},getFilteredOffers:(e=[],t="")=>{if(!e.length||""===t)return e;if(t.includes(V.a)&&Object(x.Q)(t)){const s=Object(x.j)(t);return e.filter(e=>e.categories.find(e=>e===s))}const s=new RegExp("\\b"+Object(q.a)(t),"i");return e.filter(e=>e.brandName&&null!==e.brandName.match(s)||e.description&&null!==e.description.match(s))}},t.offers(e)),getActivatedOffersSelectors:()=>Mi({getActivatedOfferItemFromOfferId:e=>{const t=(0,s.getActivatedOffersSelectors().getActivatedOffer)(e),r=t.amountUnit,n=t.brandName,a=t.categories,o=t.description,i=t.discountType,c=t.imageUrl,l=t.maxQuantity,E=t.quantity,_=t.status,u=t.value,p=Math.floor((t.expiryTimestamp-(new Date).getTime())/h.rc);let m="";if(r&&"0"!==u)if(i===h.kd.AMOUNT){m=`${d()(r)}${u}`}else i===h.kd.PERCENT?m=u+"%":i===h.kd.GETXFREE&&(m=`Get ${u} free`);return{brandName:n,categories:a,dateDiff:p,description:o,discountType:i,imageUrl:c,maxQuantity:l,offerId:e,offerValue:m,quantity:E,status:_}},getActivatedOfferStreamItems:e=>{const t=s.getListsSelectors().getItemIdsSelectors(e).getItemIds(),r=s.getActivatedOffersSelectors().getActivatedOfferItemFromOfferId;return t&&t.map(e=>r(e))}},t.activatedOffers(e)),getCategoryFollowingSelectors:()=>t.categoryFollowing(e),getNeedToKnowNewsSelectors:()=>t.needToKnowNews(e),getRootCouponSelectors:()=>t.deals(e),getCouponsSelectors:()=>Mi({getCouponExpirationTime:(s,r=new Date)=>{const n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds())),a=t.deals(e).getValidThroughDate(s),o=t.deals(e).isInferredDate(s),i=new Date(a);return i.setUTCHours(23),i.setUTCMinutes(59),i.setUTCSeconds(59),{date:i.getDate(),month:i.getMonth(),dateDiff:Math.floor((i.getTime()-n.getTime())/864e5),timestamp:i.getTime(),isInferred:o}},getCouponCardsForCardConversationId:(r,n=new Date)=>{const a=s.getMessagesSelectors(),o=a.getParentMessageIdForCardConversationId,i=a.getParentConversationIdForCardConversationId,c=s.getCategoryFollowingSelectors,l=(0,s.isFeatureEnabled)(h.Eb.CONVERSATIONS)?i:o,d=s.getCouponsSelectors(),E=d.doesDealExist,_=d.getCouponExpirationTime,u=d.getImageHeight,p=d.getImageUrl,m=d.getImageWidth,S=d.getRetailer,C=c().isCategoryFollowed;return(s.getCardGroupsSelectors().getMessageIdsFromCardGroupId(r)||[]).filter(e=>E(e)).map(s=>{const a=l(r),i=Kt(e.deals).getFromAddress(s),c=i.name,d=i.email,E=Kt(e.deals).getCouponCategory(s)||[],h=p(s)||"",C=u(s),g=m(s),O=S(s);return{parentMessageGroupId:a,parentMessageId:o(r),cmid:s,categories:E,clipped:Kt(e.deals).isClipped(s),unusualDiscount:Kt(e.deals).getUnusualDiscount(s),description:Kt(e.deals).getDescription(s),email:d,domain:c,expirationTime:_(s,n),dealLink:t.deals(e).getDealLink(s),imageHeight:C,imageUrl:h,imageWidth:g,retailer:O}}).filter(e=>e&&(e.expirationTime.isInferred||e.expirationTime.dateDiff>=0)&&e.email&&e.domain&&e.description).sort((e,t)=>{let s=t.categories.filter(e=>C(e.id)).length-e.categories.filter(e=>C(e.id)).length;return 0===s&&e.unusualDiscount!==t.unusualDiscount&&("Great Savings"===t.unusualDiscount?s=1:"Great Savings"===e.unusualDiscount&&(s=-1)),0===s&&e.clipped!==t.clipped&&(s=t.clipped?1:-1),0===s&&(s=e.expirationTime.timestamp-t.expirationTime.timestamp),s})},getCouponCardStreamItems:e=>Wi("getCouponCardStreamItems",()=>e,[e=>e.getRootCouponSelectors(),e=>e.getMessagesSelectors()],()=>{const t=s.isFeatureEnabled,r=s.getMessagesSelectors,n=s.getListsSelectors,a=(0,s.getCouponsSelectors)(),o=a.doesDealExist,i=a.getCouponExpirationTime,c=a.getDealLink,l=a.getDescription,d=a.getFromAddress,E=a.isClipped,_=a.getCardConversationId,u=a.getImageUrl,p=r(),m=p.getParentMessageIdForCardConversationId,S=p.getParentConversationIdForCardConversationId,C=t(h.Eb.CONVERSATIONS)?S:m,g=t(h.Eb.AFFILIATE_PARTNER);return n().getItemIdsSelectors(e).getItemIds().filter(e=>o(e)).reduce((t,s)=>{const r=d(s),n=r.name,a=void 0===n?"":n,o=r.email,p=void 0===o?"":o,m=E(s),S=l(s),h=i(s),O=h.dateDiff,T=h.isInferred,A=h.timestamp,I=c(s),f=_(s),D=C(f),R=u(s);return(T||O>=0)&&t.push({id:e+s,timestamp:A,fromEmail:p,fromName:a,clipped:m,description:S,daysUntilExpiry:O,isInferredDate:T,cardMid:s,cardConversationId:f,listId:e,dealLink:I,isAffiliatePartnerEnabled:g,imageUrl:R,groupId:D}),t},[])})(s),getNumberOfUnexpiredCoupons:(e,t)=>{const r=s.getMessagesSelectors().getCardConversationId,n=s.getCouponsSelectors().getCouponCardsForCardConversationId;return Object(m.compose)(e=>e.length,e=>n(e,t),r)(e)},isSingleCouponParentMessageId:(e,t=new Date)=>!!e&&1===s.getCouponsSelectors().getNumberOfUnexpiredCoupons(e,t),getCouponRecommendations:(e="")=>{const t=s.getListsSelectors,r=t().doesListExist,n=Object(x.e)({referrer:h.cc.COUPON_RECOMMENDATIONS,keyword:e});if(!r(n))return[];return(0,t().getItemIdsSelectors)(n).getItemIds()||[]},getCouponCategoriesForMessageGroup:(t="")=>{const r=s.getGroupId,n=s.doesMessageGroupIdExist,a=s.getCardConversationIdsFromMessageGroupId,o=s.getCardGroupsSelectors,i=s.getCategoryFollowingSelectors,c=(0,s.getCardMessageToSchemasSelectors)().getSchemas,l=o().getMessageIdsFromCardGroupId,d=i().isCategoryFollowed,E=[];let _={};if(""===t&&(t=r()),!t||!n(t))return E;const u=a(t),p=l(u.length&&u[0])||[];if(!p.length)return E;p.forEach(t=>{const s=(c(t)||[]).filter(({type:e})=>e===h.Ad.Coupon);let r=[];s.length&&(r=Kt(e.deals).getCouponCategory(s[0].id)),r&&r.length&&(_=r.reduce((e,t)=>Mi({},e,{[t.id]:t}),_))});const m=Object(N.h)(_);return m.length>1&&m.sort((e,t)=>(d(t.id)?1:0)-(d(e.id)?1:0)||t.level-e.level),m},emailHasCoupons:()=>{const e=s.getRoute,t=s.isFeatureEnabled,r=s.__patchV2MessageGroupItemId__,n=s.doesMessageGroupIdExist,a=(0,s.getGroupId)(),o=Object(x.z)(e());if(!a||!n(a,o))return!1;const i=r(a,o);return t(h.Eb.DEALS)&&i.messages[0].decos.some(e=>e&&"CPN"===e.id)},getCouponCardFromCardMessageId:(t,r)=>{const n=(0,s.getCouponsSelectors)(),a=n.getCouponExpirationTime,o=n.getImageUrl;if(!t||!(0,n.doesDealExist)(t))return{};const i=Kt(e.deals).getCouponCategory(t)||[],c=o(t)||"",l=Kt(e.deals).getFromAddress(t),d=l.name,E=l.email;return{cmid:t,clipped:Kt(e.deals).isClipped(t),description:Kt(e.deals).getDescription(t),email:E,domain:d,categories:i,expirationTime:a(t,r),dealLink:Kt(e.deals).getDealLink(t),unusualDiscount:Kt(e.deals).getUnusualDiscount(t),imageUrl:c}}},t.deals(e)),getComposeSessionsSelectors:()=>t.composeSessions(e),getAttachmentsSelectors:()=>t.attachments(e),getInlineImagesAttachmentsSelectors:()=>t.inlineImagesAttachments(e),getMessageToAttachmentsSelectors:()=>t.messageToAttachments(e),getSubjectsAndSnippetsSelectors:()=>t.subjectsAndSnippets(e),getMessagesSelectors:()=>t.messages(e),getMessagesFlagSelectors:()=>t.messagesFlags(e),getMessagesFolderIdSelectors:()=>t.messagesFolderId(e),getMessageBodiesSelectors:()=>t.messageBodies(e),getSearchSuggestionSelectors:()=>t.searchSuggestions(e),getDocumentSelectors:()=>t.documents(e),isDocumentLoaded:e=>s.getDocumentSelectors().isDocumentLoaded(e),isDocumentPageLoaded:(e,t)=>s.getDocumentSelectors().isPageLoaded(e,t),getDocumentRetryCount:(e,t,r)=>s.getDocumentSelectors().getRetryCount(e,t,r),getRouterSelectors:()=>t.router(e),getPagesSelectors:()=>t.pages(e),getSmartViewPages:()=>{const e=s.getSelectedAccountIdByRoute(s.getRoute());return(s.getSetting(h.Kd.SYSTEM_TABS)||[]).filter(e=>!!e.status).map(t=>{const r=s.getSmartViewPageByType(t.name);return r?t.name===h.Ud.COUPONS&&r.name===h.rd.SEARCH?r:s.normalizeRoute(Object(V.t)(Object(x.z)(r),{accountIds:e})):s.normalizeRoute(Object(V.x)(t.name,{accountIds:e,excludefolders:s.isFeatureEnabled(h.Eb.CONVERSATIONS)?[h.Mb.TRASH,h.Mb.BULK]:[h.Mb.TRASH,h.Mb.BULK,h.Mb.DRAFT,h.Mb.SENT]}))})},getSmartViewTypeFromListId:e=>{const t=Object(x.F)(e);return Object.keys(h.Sd).find(e=>h.Sd[e]===t)},getSmartViewTypeFromRoute:e=>e.name===h.rd.TUTORIAL?h.Ud.TUTORIAL:s.getSmartViewTypeFromListId(Object(x.z)(e)),getDefaultFolderRoute:(e="",t=h.Yd.DATE_DESC)=>{const r=s.getFolderIdsByFolderTypeForAccount,n=s.getSelectedAccountIdByRoute,a=s.isOldNewMailInboxStyle,o=s.getAccountIdByFolderId,i=s.getRouterSelectors,c=s.getRoutesInfo,l=(0,s.getAccountSelectors)(),d=l.getAccountById,E=l.getSelectedAccountId,_=i().getRoute(),u=Object(V.B)(_);let p,m;if(e)p=e,m=o(p);else{const e=n(_);m=d(e)?e:E(),p=r(h.Mb.INBOX,m)[0]}const S=a()?Object(V.x)(h.Ud.NEWMAIL,{accountIds:[m],folders:[p]}):Object(V.k)(p,t);return Object(V.D)(c(),S,u)},getFolderRouteForFolderId:(e="1",t=h.Yd.DATE_DESC)=>{const r=s.getDefaultFolderRoute;return(0,s.getPrimaryFolderTypeByFolderId)(e)===h.Mb.INBOX?r(e,t):Object(V.k)(e,t)},isShoppingSmartViewEnabled:()=>{const e=s.isFeatureEnabled;return e(h.Eb.SMARTVIEW_CATEGORIES_SHOPPING)||e(h.Eb.SMARTVIEW_CATEGORIES_ALL)},getSmartViewPosition:e=>e===h.Ud.COUPONS?(0,s.isShoppingSmartViewEnabled)()?h.Td.TAB_BAR:h.Td.SIDE_BAR:h.Zb.indexOf(e)>-1?h.Td.SIDE_BAR:h.se.indexOf(e)>-1?h.Td.TAB_BAR:void 0,getMaxTabCounts:()=>(0,s.getSetting)(h.Kd.MAIL_TABS)?h.mc:h.lc,isDraftGroup:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return t&&t.some(e=>s.doesMessageIdHasFolderId(e)&&s.isDraftMessage(e))},doesGroupHasStaleMessageId:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return t&&t.some(e=>!s.doesMessageIdHasFolderId(e))},getTabPages:()=>Wi("getTabPages",()=>"tabs",[e=>e.getRoute(),e=>e.getSelectedAccountIdByRoute(e.getRoute()),e=>e.getPagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.isFeatureEnabled(h.Eb.SHOW_TABS),e=>e.isFeatureEnabled(h.Eb.SMARTVIEW_CATEGORIES_ENABLED),e=>e.getSetting(h.Kd.SYSTEM_TABS)],()=>{const e=s.isFeatureEnabled,t=s.getSmartViewPages,r=s.getDefaultFolderRoute,n=s.doesRouteContainFailure,a=s.getSmartViewPosition,i=s.getSmartViewTypeFromRoute,c=s.getSelectedAccountIdByRoute,l=s.getRoute,d=s.normalizeRoute;let E=(0,s.getPages)();const _=e(h.Eb.SHOW_TABS),u=e(h.Eb.SMARTVIEW_CATEGORIES_ENABLED),p=c(l());if(u){const e=t()||[],s=E.reduce((e,t)=>{const s=Object(x.W)(t)&&!Object(x.Z)(t)?i(t):null;return s&&s!==h.Ud.TUTORIAL?a(s)===h.Td.SIDE_BAR&&e.push(s===h.Ud.COUPONS&&t.name===h.rd.SEARCH?t:d(Object(V.t)(Object(x.z)(t),{accountIds:p}))):e.push(t),e},[]),c=o()(s),l=c[0],_=c.slice(1),u=_.findIndex(e=>Object(x.Z)(e));if(u>-1)E=[..._.splice(u,1),...e,...Object(V.E)(_,n)];else{const t=r();E=l?Hi(l)||Object(x.Z)(l)||Object(x.S)(l)?[l,...e,...Object(V.E)(_,n)]:[t,...e,...Object(V.E)([l,..._],n)]:[t,...e,...Object(V.E)(_,n)]}}return _||(E=E.filter(e=>u&&(Hi(e)||e.name===h.rd.TUTORIAL||Object(x.W)(e)&&i(e)||Object(x.Z)(e))||n(e))),E})(s),getPages:()=>s.getPagesSelectors().getPages().filter(e=>Object(V.F)(s.reconcileRoute(e),e)),doesRouteContainFailure:e=>Wi("doesRouteContainFailure",()=>e,[e=>e.getPages(),e=>e.getMessagesSelectors(),e=>e.getComposeSessionsSelectors()],()=>{const t=s.isFeatureEnabled,r=s.getMessageGroupStreamItems,n=s.doesMessageGroupIdExist,a=(0,s.getComposeSessionsSelectors)(),o=a.isSendFailed,i=a.doesComposeSessionExist,c=t(h.Eb.CONVERSATIONS)&&ji(e)||wi(e)||Gi(e),l=e=>e&&i(e)&&o(e);if(c){const t=e.params,s=t.csid,a=t.groupId,o=Object(x.z)(e);return a&&n(a,o)?r({id:a,listId:o}).some(({csid:e})=>l(e)):l(s)}return!1})(s),doesPageExist:e=>s.getPagesSelectors().doesPageExist(e),getSmartViewPageByType:e=>s.getPagesSelectors().getPages().find(t=>Object(x.W)(t)&&s.getSmartViewTypeFromRoute(t)===e),getSettingsPageRoute:()=>s.getPagesSelectors().getSettingsPageRoute(),getFolderPageRoute:()=>s.getPagesSelectors().getFolderPageRoute(),getSortOrderForFolderRoute:()=>{const e=s.getFolderPageRoute();return e?Object(x.L)(Object(x.z)(e)):h.Yd.DATE_DESC},getRoutesInfo:()=>Object(V.C)({appName:s.getAppName(),routesConfig:s.getRouterSelectors().getRoutesConfig()}),getPreviousRoute:()=>s.getRouterSelectors().getRoute(),getRoute:()=>s.reconcileRoute(s.getRouterSelectors().getRoute()),isAttPreviewFromCompose:(e,t)=>{if(!t)return!1;const r=s.getMessageCsid,n=s.doesComposeSessionExist,a=s.doesMessageIdExist,o=(0,s.getFoldersSelectors)().getPrimaryFolderTypeByFolderId,i=Object(x.q)(e);if(!i||o(i)!==h.Mb.DRAFT)return!1;const c=Object(B.f)(t);if(!c||!a(c))return!1;return!!n(r(c))},reconcileRoute:(e,t=!1)=>{if(e){const r=(0,s.getReconciledValidPage)(e,t);return r?r.route:e}return e},getReconciledValidPage:(e,t=!1)=>{const r=s.getReconciledPage;let n,a=r(e,t);for(;a&&Object.keys(a).length&&!p()(n,a);)n=a,a=r(n.route,t);return n},getReconciledPage:(t,r=!1)=>Wi("getReconciledPage",()=>`${t.url}-${r}`,[e=>e],()=>{const n=s.getFolderPageRoute,a=s.getAction,o=s.isValidListMessageGroup,i=s.getRoutesInfo,c=s.getSetting,l=s.isListEmpty,d=s.doesListExist,E=s.doesFolderIdExist,_=s.doesMessageGroupIdExist,u=s.getSelectedAccountIdByRoute,p=s.getFolderIdsByFolderTypeForAccount,m=s.getPrescribedNumberOfColumns,S=s.getSelectedMailboxId,C=s.hasSelectedStreamItems,g=s.doesComposeSessionExist,O=s.isSent,T=s.doesPageExist,A=s.doesStreamExist,I=s.isMessageGroupLoading,f=s.isSpamFolder,D=s.isSendRequested,R=s.getSmartViewPageByType,b=s.getSmartViewTypeFromListId,N=s.isAttPreviewFromCompose,M=s.createPageForRoute,y=s.getFallbackPageForRoute,L=s.getContactListSelectors,P=s.getAccountIdByFolderId,F=s.getAdListItemsSelectors,U=s.getListItemIds,w=s.getDefaultFolderRoute,G=s.getFolderRouteForFolderId,H=s.getPrimaryFolderTypeByFolderId,j=s.isOldNewMailInboxStyle,k=s.getAdsSelectors,B=(0,s.getAccountSelectors)(),W=B.getAccountById,q=B.getSelectedAccountId,Y=lr(e.history),z=Y.getCurrentPage,Q=Y.getPageAtIndex,Z=Object(V.B)(t),X=a(),$=n();if(S()&&(X.type!==v.OPEN_PAGE_REQUESTED||!Object(V.F)(X.route,t))){if(X.type===v.SEARCH_LIST_ITEMS_RECEIVED&&X.navigateFromToAll){return M(Object(V.D)(i(),Object(V.t)(Object(x.gb)(X.listId,{listFilter:h.bc.ALL})),Z),0)}if(X.type===v.CONTACT_EDIT_CANCELLED||X.type===v.CONTACT_SAVE_REQUESTED){let e;if(t.name===h.rd.EDIT_CONTACT_FROM_SEARCH?e=Object(V.D)(i(),Object(V.h)(Object(x.z)(t),t.params.id),Z):t.name===h.rd.EDIT_CONTACT?e=Object(V.D)(i(),Object(V.g)(t.params),Z):t.name===h.rd.CREATE_CONTACT&&(e=Object(V.D)(i(),Object(V.i)(t.params),Z)),e)return M(e)}if(X.type===v.DELETE_CONTACT_REQUESTED){let e;if(t.name===h.rd.CONTACT_DETAILS?e=Object(V.D)(i(),Object(V.i)(),Z):t.name===h.rd.CONTACT_DETAILS_FROM_SEARCH&&(e=Object(V.D)(i(),Object(V.t)(Object(x.z)(t)),Z)),e)return M(e)}if(X.type===v.FEATURE_TRY_NOW_REQUESTED&&(X.name===h.Eb.TMR_MOBILE_DAILY_CHECKIN_CUE||X.name===h.Eb.TMR_MOBILE_IMAPIN_CUE)&&Ui(Object(V.D)(i(),t,Z)))return M(Object(V.D)(i(),Object(V.s)(),Z));if(X.type===v.ACCOUNT_ADD_SUCCEEDED&&Ui(Object(V.D)(i(),t,Z)))return M(Object(V.D)(i(),Object(V.b)(),Z));if(!r&&-1!==[v.CLOSE_PAGE_REQUESTED,v.CLOSE_ALL_PAGES_REQUESTED].indexOf(X.type)&&!T(t)){const e=Object(x.z)(t);if(X.type!==v.CLOSE_ALL_PAGES_REQUESTED&&-1!==[h.rd.MESSAGE_FROM_SEARCH_LIST,h.rd.MESSAGE_FROM_LIST].indexOf(t.name)){if(Object(x.P)(e)){const t=b(e);if(t){const e=R(t);if(e)return M(e)}}return M(Object(V.D)(i(),Object(V.t)(e),Z))}let s=Object(x.q)(e);const r=Object(x.L)(e),n=vi(t).serializedListId;if(!s&&n&&(s=Object(x.q)(Object(x.A)(n))),!s){if($)return M($);s=p(h.Mb.INBOX,u(t))[0]}return M(Object(V.D)(i(),G(s,r),Z))}switch(t.name){case h.rd.MESSAGE_FROM_LIST:case h.rd.MESSAGE_FROM_SEARCH_LIST:case h.rd.MESSAGE_FROM_FOLDER_LIST:{const e=Object(x.z)(t),s=Object(x.q)(e),r=vi(t),n=r.groupId,a=r.attachmentId,u=Object(K.a)([e]),p=A(u)&&C(u)||F().hasSelectedPencilAds(),S=2===m();if(a&&"1"===t.query.fullscreen)return;if(p&&S&&Ui(t)&&ji(t))return M(Object(V.D)(i(),Object(V.n)(Object(x.z)(t),{},{accountId:q()}),Z));if(s&&!E(s))return M(Object(V.D)(i(),w(),Z));const g=s?P(s):void 0;if(g&&!W(g))return M(Object(V.D)(i(),w(),Z));if(!_(n,e)&&!I(n)||d(e)&&Object(x.w)(e)===h.ac.MESSAGES&&!o(e,n)&&!N(e,a)){const t=c(h.Kd.ACTION_AFTER_MSG_MOVE),r=X.streamItems,a=(void 0===r?[]:r).filter(e=>Object(x.w)(e.listId)===h.ac.MESSAGES);let o;o=a[0]&&a[0].listId===e?a.map(e=>e.id):U(e);const E=o.findIndex(e=>e===n),_=!!s&&f(s);if(t===h.o.GO_BACK_TO_FOLDER||d(e)&&l(e)||_||-1===E)return M(Object(V.D)(i(),Object(V.n)(e,{},{accountId:q()}),Z));let u;switch(parseInt(t,10)){case h.o.SHOW_NEXT_MESSAGE:u=o[E+1]||o[E-1]||void 0;break;case h.o.SHOW_PREVIOUS_MESSAGE:u=o[E-1]||o[E+1]||void 0}return u?M(Object(V.D)(i(),Object(V.p)(e,u),Z),0):M(Object(V.D)(i(),Object(V.n)(e,{},{accountId:q()}),Z))}const O=!!s&&H(s)===h.Mb.INBOX,T=j();if(O){if(T&&t.name===h.rd.MESSAGE_FROM_FOLDER_LIST)return M(Object(V.D)(i(),{name:h.rd.MESSAGE_FROM_LIST,params:Object.assign({serializedListId:Object(x.ib)(e),groupId:n})},Z));if(!T&&t.name===h.rd.MESSAGE_FROM_LIST&&Object(x.T)(e))return M(Object(V.D)(i(),{name:h.rd.MESSAGE_FROM_FOLDER_LIST,params:Object.assign({fid:s,groupId:n,attachmentId:a})},Z))}break}case h.rd.EDIT_FOLDER:case h.rd.FOLDER:case h.rd.LIST:{const e=Object(x.z)(t),s=Object(x.q)(e);if(!s)break;if(!E(s))return M(Object(V.D)(i(),w(),Z));if(!W(P(s)))return M(Object(V.D)(i(),w(),Z));const r=H(s)===h.Mb.INBOX,n=j();if(r&&(n&&(t.name===h.rd.FOLDER||t.name===h.rd.BASE)||!n&&(Object(x.S)(t)||t.name===h.rd.BASE)))return M(Object(V.D)(i(),w(),Z));break}case h.rd.EDIT_DRAFT:case h.rd.NEW_DRAFT:{const e=vi(t),s=e.serializedListId,r=e.csid,n=t.referrerRoute;if(!g(r)||O(r)||D(r)){let e;if(Ui(t)){const e=z(),t=e.route,s=e.backIdx,r=void 0===s?-1:s;return-1!==r?Q(r):y(t)}if(s&&(e=Object(x.q)(Object(x.A)(s))),!e){if(n&&(n.name===h.rd.MESSAGE_FROM_SEARCH_LIST||n.name===h.rd.SEARCH))return M(Object(V.D)(i(),Object(V.t)(Object(x.z)(n)),Z));if($)return M($);e=p(h.Mb.INBOX,u(t))[0]}return M(Object(V.D)(i(),G(e),Z))}return}case h.rd.CONTACT_DETAILS:case h.rd.EDIT_CONTACT:{const e=!X.unsyncedData||X.unsyncedData.find(e=>e.type===h.Ce.CONTACTS_LIST);if(!(-1!==[v.INITIAL_STATE,v.LAUNCH_COMPLETED].indexOf(X.type))&&!e&&!L().doesContactExist(t.params))return M(Object(V.D)(i(),Object(V.i)(t.params),Z));break}case h.rd.CONTACT_DETAILS_FROM_SEARCH:case h.rd.EDIT_CONTACT_FROM_SEARCH:{const e=Object(x.z)(t),s=!X.unsyncedData||X.unsyncedData.find(e=>e.type===h.Ce.CONTACTS_LIST);if(!(-1!==[v.INITIAL_STATE,v.LAUNCH_COMPLETED].indexOf(X.type))&&!s&&!L().doesContactExist(t.params))return M(Object(V.D)(i(),Object(V.t)(e),Z));break}case h.rd.SPONSORED_MESSAGE:{const e=decodeURIComponent(t.params.creativeId);if(!(0,k().getSponsoredAd)(e))return M(Object(V.D)(i(),w(),Z));break}case h.rd.PORTRAIT_AD:if(!(0,k().getGeminiAdDataFromCreativeId)(decodeURIComponent(t.params.creativeId)))return M($||Object(V.D)(i(),w(),Z));break}}})(s),getHistoryPageIndex:()=>lr(e.history).getActivePageIndex(),getHistoryStack:()=>lr(e.history).getHistoryStack(),getCurrentPage:()=>{const e=(0,s.getCurrentHistoryState)(),t=e.historyStack;return t.length?t[e.activePageIndex]:{}},getPageAtIndex:e=>{const t=(0,s.getCurrentHistoryState)().historyStack;return t.length&&e<t.length?t[e]:{}},getPreviousPage:()=>{const e=s.getFallbackPageForRoute,t=(0,s.getCurrentHistoryState)(),r=t.historyStack,n=r.length?r[t.activePageIndex]:{},a=n.route,o=n.backIdx,i=void 0===o?-1:o;return-1!==i?r[i]:e(void 0===a?{}:a)},getLastPageWithRoute:(e,t,r)=>{const n=s.getRoutesInfo;if(t<0||t>=e.length)return k.a.error("pageindex_out_of_bounds",{pageIndex:t,historyStack:e,route:r}),{route:Object(V.D)(n(),r,Object(V.B)(r)),backIdx:-1};let a=e&&e.length?e[t].backIdx:-1;for(;a>=0;){const t=e[a];if(!t)break;if(Object(V.F)(r,t.route))return t;a=t.backIdx}return{route:Object(V.D)(n(),r,Object(V.B)(r)),backIdx:-1}},createPageForRoute:(e,t=-1,r={})=>{const n=s.getHistoryPageIndex,a=s.getLastPageWithRoute,o=s.getRoutesInfo;let i=r.historyStack,c=void 0===i?[]:i,l=r.activePageIndex,d=void 0===l?-1:l;return(!c.length||d<0)&&(c=(0,s.getHistoryStack)(),d=n()),t<0?a(c,d,e):0===t?{route:Object(V.D)(o(),e,Object(V.B)(e)),backIdx:c.length?c[d].backIdx:-1}:{route:Object(V.D)(o(),e,Object(V.B)(e)),backIdx:d}},getFallbackPageForRoute:e=>{const t=s.doesComposeSessionExist,r=s.getDraftMessageId,n=s.getReplyingToMessageId,a=s.getMessageFolderId,o=s.getRoutesInfo,i=s.getSelectedAccountId,c=s.getDefaultFolderRoute,l=s.getFolderRouteForFolderId;let d;const E=2===(0,s.getPrescribedNumberOfColumns)();switch(e.name){case h.rd.MESSAGE_FROM_SEARCH_LIST:d=Object(V.t)(Object(x.z)(e));break;case h.rd.MESSAGE_FROM_FOLDER_LIST:d=Object(V.l)(Object(x.z)(e));break;case h.rd.NEW_DRAFT:case h.rd.EDIT_DRAFT:{let s=null,o="";const i=e.params&&e.params.csid;if(!i)break;if(t(i)&&(s=r(i)?r(i):n(i)),s&&(o=a(s)),!o)break;d={name:h.rd.FOLDER,params:{fid:o}};break}case h.rd.CONTACT_DETAILS:d=Object(V.i)(e.params);break;case h.rd.CONTACT_DETAILS_FROM_SEARCH:d=Object(V.t)(Object(x.z)(e));break;case h.rd.SPONSORED_MESSAGE:d=Object(V.l)(Object(x.z)(e));break;case h.rd.THEME_CHOOSER:case h.rd.SIGNATURES_FROM_SETTINGS:case h.rd.ACCOUNT_LIST_FROM_SETTINGS:case h.rd.BLOCKED_SENDERS:case h.rd.MESSAGE_PREVIEW:d=Object(V.w)();break;case h.rd.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:d=Object(V.b)();break;case h.rd.ADD_ACCOUNT_PROVIDER:d=Object(V.c)();break;case h.rd.LIST:{const t=Object(x.z)(e);Object(x.F)(t)===h.cc.SUBSCRIPTIONS&&(d=Object(V.A)(i()));break}case h.rd.MESSAGE_FROM_LIST:{const t=Object(x.z)(e);if(E&&Object(x.F)(t)===h.cc.SUBSCRIPTIONS){const e=Object(x.g)(t);d=Object(V.A)(Array.isArray(e)?e[0]:e)}else d=Object(V.n)(t);break}}return d?d.name===h.rd.FOLDER?{route:Object(V.D)(o(),l(d.params.fid),Object(V.B)(e)),backIdx:-1}:{route:Object(V.D)(o(),d,Object(V.B)(e)),backIdx:-1}:{route:Object(V.D)(o(),c(),Object(V.B)(e)),backIdx:-1}},getCurrentHistoryState:()=>{const e=s.getHistoryPageIndex,t=s.getAction,r=s.getRouterSelectors,n=s.getReconciledValidPage;let a=(0,s.getHistoryStack)();const o=e(),i=t(),c=i.popstate,l=i.nextPage,d=i.type,E=i.startOverStack,_=r().getRoute(),u=n(l?l.route:_);let p=u||(l||void 0);switch(d){case v.OPEN_PAGE_REQUESTED:return void 0!==c?p&&Object.keys(p).length?{historyStack:E?[p]:[...a.slice(0,c),p,...a.slice(c+1)],activePageIndex:c}:{historyStack:E?[{route:_,backIdx:-1}]:a,activePageIndex:c}:(o!==a.length-1&&(a=[...a.slice(0,o+1)]),p||(p={route:_,backIdx:o}),{activePageIndex:o+1,historyStack:[...a,p]});case v.LAUNCH_COMPLETED:case v.INITIAL_STATE:return p||(p={route:_,backIdx:-1}),{activePageIndex:0,historyStack:[p]};default:return p&&Object.keys(p).length?(o!==a.length-1&&(a=[...a.slice(0,o+1)]),{activePageIndex:o+1,historyStack:[...a,p]}):{historyStack:a,activePageIndex:o}}},normalizeRoute:e=>Object(V.D)(s.getRoutesInfo(),e,Object(V.B)(s.getRoute())),getHashParams:()=>s.getRouterSelectors().getHashParams(),getRouteUIContext:()=>s.getRouterSelectors().getRouteUIContext(),getMrdParams:()=>s.getRouterSelectors().getMrdParams(),getRouteName:()=>(e=>e.name)(s.getRoute()),getRouteUrl:()=>Pi(s.getRoute()),getRouteParams:()=>vi(s.getRoute()),getQueryParams:()=>(e=>e.query||{})(s.getRoute()),isMobileRoute:()=>Ui(s.getRoute()),isOriginSearchRoute:()=>Fi(s.getRoute()),isMessageRoute:()=>ji(s.getRoute()),isAttachmentRoute:()=>(e=>e.params&&e.params.attachmentId)(s.getRoute()),isGroceriesOffersRoute:()=>(e=>Object(x.fb)(Object(x.z)(e),{listContentType:h.ac.OFFER_CARDS,listFilter:h.bc.RECOMMENDED_OFFER_CARDS}))(s.getRoute()),isDraftRoute:()=>wi(s.getRoute()),isComposeRoute:()=>Gi(s.getRoute()),isFolderRoute:()=>Hi(s.getRoute()),isValidListMessageGroup:(e,t)=>{const r=s.doesListItemExist,n=s.getMessageFolderId,a=s.getMessageIdsFromMessageGroupId;if(!((0,s.isOldNewMailInboxStyle)()&&Object(x.T)(e)||Object(x.db)(e)))return r(e,t);const o=Object(x.q)(e),i=a(t,e);return!(i.length<1)&&(!o||i.some(e=>n(e)===o))},getAccountSelectors:t.mailboxes(e).getAccountsSelectors,getVideoPlayerSelectors:()=>t.videoPlayers(e),getContactListSelectors:()=>t.contacts(e),getRelatedListIdByContactId:s=>{const r=t.contacts(e).getContactById(s)||{},n=r.name,a=r.emails,o=void 0===a?[]:a;return Object(x.d)({listContentType:h.ac.PEOPLE,referrer:h.cc.CONTACT_DETAILS,name:n,emailAddresses:o,contactIds:[s]})},getSocialAccountSelectors:()=>t.socialAccounts(e),getCloudStorageAccountSelectors:()=>t.cloudStorageAccounts(e),getFalconTOMSubscriptionSelectors:()=>t.falconTOMSubscriptions(e),getFeatureCueSelectors:()=>t.featureCues(e),getSubjectAndSnippetSelectors:()=>t.subjectsAndSnippets(e),getGifItemsSelectors:()=>t.gifItems(e),getGifCategoriesSelectors:()=>t.gifCategories(e),getLinkEnhancerSelectors:()=>t.linkEnhancer(e),getDownloadsSelectors:()=>t.downloads(e),isQuotedTextExpanded:t.composeSessions(e).isQuotedTextExpanded,getComposeUndoStack:t.composeSessions(e).getUndoStack,getComposeRedoStack:t.composeSessions(e).getRedoStack,getComposeUiState:t.composeSessions(e).getUiState,getMessageFolderId:t.messagesFolderId(e).getFolderId,doesMessageIdHasFolderId:t.messagesFolderId(e).doesMessageIdHasFolderId,getFolderHighestModSeq:e=>s.doesFolderIdExist(e)?s.getFoldersSelectors().getFolderHighestModSeq(e):0,doesFolderIdExist:e=>s.getFoldersSelectors().doesFolderIdExist(e),getFolderName:e=>s.getFoldersSelectors().getFolderName(e),getFolderDisplayTypeByFolderId:e=>s.getFoldersSelectors().getFolderDisplayTypeByFolderId(e),getFolderIdsByName:t.folders(e).getFolderIdsByName,getFolderIdsByNameForSelectAccountId:e=>s.getFoldersSelectors().getFolderIdsByNameAndAccountId(e,s.getSelectedAccountId()),getFolderTotal:t.folders(e).getFolderTotal,getPrimaryFolderTypeByFolderId:t.folders(e).getPrimaryFolderTypeByFolderId,isPermDeleteFolderType:t.folders(e).isPermDeleteFolderType,getFolderFullName:r=>{const n=s.getAccountIdByFolderId(r),a=s.getAccountById(n),o=t.folders(e).getFolderPath(r),i=s.getAccountSelectors().getFolderPrefixByAccountId(n);return!a.isPrimary&&i.length>0?o.substr(o.indexOf("/")+1):o},isOldNewMailInboxStyle:()=>{const e=s.getSetting;return(0,s.isFeatureEnabled)(h.Eb.OLD_NEW_MAIL)&&!!e(h.Kd.INBOX_STYLE)},getStaleFolderIds:e=>{const t=Object(j.f)(e);return Object.keys(t).filter(e=>{const r=t[e],n=s.getFolderHighestModSeq(e);return n&&n!==r.highestModSeq})},shouldUpdateFolders:s=>t.folders(e).shouldUpdateFolders(s),isSpamFolder:s=>t.folders(e).isSpamFolder(s),isSpamMessage:e=>Object(m.compose)(s.isSpamFolder,s.getMessageFolderId)(e),isTrashFolder:s=>t.folders(e).isTrashFolder(s),isTrashMessage:e=>Object(m.compose)(s.isTrashFolder,s.getMessageFolderId)(e),isDraftFolder:s=>t.folders(e).isDraftFolder(s),isDraftMessage:e=>Object(m.compose)(s.isDraftFolder,s.getMessageFolderId)(e),isSentFolder:s=>t.folders(e).isSentFolder(s),isSentMessage:e=>Object(m.compose)(s.isSentFolder,s.getMessageFolderId)(e),getParticipant:e=>{const t=s.getMessagesSelectors(),r=t.doesMessageIdExist,a=t.getFromAddresses,o=[e].filter(e=>{if(!r(e))return!1;const t=a(e);return t.length>0&&(t[0].email||t[0].name)}).map(e=>{const t=a(e),r=s.getMessageFlags(e);return{email:t[0].email,name:t[0].name,recent:!r.read}});return n()(o,1)[0]},getRecipients:e=>{const t=s.getMessagesSelectors().getToAddresses(e),r=s.getMessageFlags(e);return t.filter(e=>e.email||e.name).reduce((e,t)=>e.concat({email:t.email,name:t.name,recent:!r.read}),[])},getMessageFromAddress:t.messages(e).getFromAddresses,getMessageToAddress:t.messages(e).getToAddresses,getMessageCcAddress:t.messages(e).getCcAddresses,getMessageBccAddress:t.messages(e).getBccAddresses,getReplyToAddress:t.messages(e).getReplyToAddresses,getMessageDate:t.messages(e).getDate,getMessageFlags:t.messagesFlags(e).getFlags,getMessageSubject:t.subjectsAndSnippets(e).getSubject,getMessageSnippet:t.subjectsAndSnippets(e).getSnippet,getMessageTimeStamp:e=>s.getMessagesSelectors().getTimeStamp(e),getAccountIdByFolderId:s=>t.folders(e).getAccountIdByFolderId(s),doesMessageBodyExist:e=>s.getMessageBodiesSelectors().doesMessageBodyExist(e),isSecureMessage:e=>s.getMessageBodiesSelectors().isSecureMessage(e),doesMessageFullBodyExist:e=>s.getMessageBodiesSelectors().hasFullBody(e),doesMessageBodyHasError:e=>s.getMessageBodiesSelectors().hasError(e),getMessageBody:e=>s.getMessageBodiesSelectors().get(e),getMessageBodyState:e=>s.getMessageBodiesSelectors().getState(e),getMessageBodyRetryCount:e=>s.getMessageBodiesSelectors().getRetryCount(e),getAccountSignaturebyAccountId:s=>t.mailboxes(e).getAccountsSelectors().getSignatureByAccountId(s),getAccountSignaturebyFolderId:e=>s.getAccountSignaturebyAccountId(s.getAccountIdByFolderId(e)),getSignatureByAccountEmail:e=>s.getAccountSelectors().getSignatureByAccountEmail(e),doesMessageIdExist:e=>s.getMessagesSelectors().doesMessageIdExist(e),getMessageCsid:e=>s.getMessagesSelectors().getCsid(e),getMessageModSeq:e=>s.getMessagesSelectors().getModSeq(e),doesMessageGroupIdExist:(e,t)=>{const r=s.getFoldersSelectors().getMessageGroupFolderType,n=t||Object(x.z)(s.getRoute()),a=r(Object(x.q)(n)||"");return s.getMessageGroupsSelectors().doesMessageGroupIdExistInList(e,a)},getMessageIdsFromMessageGroupId:(e,t)=>{const r=s.getFoldersSelectors().getMessageGroupFolderType,n=t||Object(x.z)(s.getRoute()),a=r(Object(x.q)(n)||"");return s.getMessageGroupsSelectors().getMessageIdsFromMessageGroupIdForMessageGroupFolderType(e,a)},getExpansionStateForStreamItem:e=>s.getStreamsSelectors().getExpansionStateForStreamItem(e),getMessageGroupStreamItemsWithExpansionStates:e=>{const t=Sr(s.getMessageGroupStreamItems(e),s),r=e.id,n=e.listId,a=Object(K.b)(n,r);return s.doesStreamExist(a)?t.map(e=>Mi({},e,{expansionState:s.getExpansionStateForStreamItem(e)||e.expansionState})):t},getDefaultTemporaryExpansionStatesForMessageGroupStreamItems:e=>Sr(s.getMessageGroupStreamItems(e),s).filter(e=>e.expansionState===h.L.EXPANDED).map(e=>Mi({},e,{expansionState:h.L.TEMPORARY_EXPANSION})),isAllCardsExpanded:(e,t)=>(0,s.getMessageGroupStreamItemsWithExpansionStates)({id:t,listId:e}).every(({expansionState:e})=>e===h.L.EXPANDED),getCardConversationIdsFromMessageGroupId:e=>{const t=(s.isFeatureEnabled(h.Eb.CONVERSATIONS)?s.getMessagesSelectors().findMessageIdsForConversationId(e):[e]).filter(s.getMessagesSelectors().doesMessageIdExist).map(s.getMessagesSelectors().getCardConversationId).filter(e=>!!e);return _()(t)},getGroupIdStateHash:e=>Object(U.getHash)(e,s.getMessageIdsFromMessageGroupId(e)),getRelevantMessageIdFromMessageGroupId:(e,t)=>{const r=s.getMessageIdsFromMessageGroupId(e,t)||[],n=Object(x.q)(t),a=r[r.length-1];return[...r].find(e=>s.getMessageFolderId(e)===n)||a},getAccountIdFromMessageGroupId:(e,t)=>{const r=s.getAccountIdByFolderId,n=s.getMessageFolderId,a=(0,s.getRelevantMessageIdFromMessageGroupId)(e,t),o=n(a);Object(F.a)(o,"getAccountIdFromMessageGroupId: folderId is undefined",{messageGroupId:e||"undefined",listId:t||"undefined",relevantMessageId:a||"undefined",folderId:o||"undefined"});return r(o)},getSubjectFromMessageGroupId:(e,t)=>{const r=s.getRelevantMessageIdFromMessageGroupId(e,t);return s.getSubjectAndSnippetSelectors().getSubject(r,t)},getGroupIdContainingMessageId:e=>s.getMessageGroupsSelectors().getGroupIdContainingMessageId(e),getGroupIdContainingAttachmentId:e=>{const t=s.isFeatureEnabled(h.Eb.CONVERSATIONS),r=s.getMessageIdForAttachmentId(e);return t?s.doesMessageIdExist(r)?s.getGroupIdContainingMessageId(r):s.getConversationIdByAttachmentId(e):r},getAttachmentIdsByGroupId:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return _()(t.reduce((e,t)=>e.concat(s.getAttachmentIdsByMessageId(t)),[]))},getAttachmentIdIndexInMessage:(e,t)=>s.getAttachmentIdsByMessageId(t).indexOf(e),getAttachmentIdIndexInMessageGroup:(e,t)=>s.getAttachmentIdsByGroupId(t).indexOf(e),getPreviousAttachmentIdForMessageGroup:(e,t)=>{const r=s.getAttachmentIdsByGroupId(t),n=s.getAttachmentIdIndexInMessageGroup(e,t)-1;if(!(n<0))return r[n]},getNextAttachmentIdForMessageGroup:(e,t)=>{const r=s.getAttachmentIdsByGroupId(t),n=s.getAttachmentIdIndexInMessageGroup(e,t)+1;if(!(n>=r.length))return r[n]},getAttachmentIdsForMessage:e=>{const t=s.getInlineImagesAttachmentsSelectors,r=s.getAttachmentIdsByMessageId,n=s.isNonInlineAttachmentById,a=(0,s.isFeatureEnabled)(h.Eb.EXTERNAL_INLINE_IMAGE_PREVIEW);let o=r(e)||[];if(a){o=(t().getInlineImagesIdsByMessageId(e)||[]).concat(o.filter(n))}return o},getPreviousAttachmentIdForMessage:(e,t)=>{const r=s.getAttachmentIdsForMessage(t),n=r.indexOf(e)-1;if(!(n<0))return r[n]},getNextAttachmentIdForMessage:(e,t)=>{const r=s.getAttachmentIdsForMessage(t),n=r.indexOf(e)+1;if(!(n>=r.length))return r[n]},isSingleDraftGroup:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return 1===t.length&&s.isDraftMessage(t[0])},getCsidForSingleDraftGroup:e=>{if(!s.isSingleDraftGroup(e))return;const t=s.getMessageIdsFromMessageGroupId(e),r=n()(t,1);return s.getMessageCsid(r[0])},__patchV2AttachmentId__:(e,t)=>{const r=s.doesMessageIdExist,n=s.getAttachmentById,a=s.getMessageSubject,o=(0,s.getMessageIdForAttachmentId)(e);return{partialMessage:{subject:r(o)?a(o,t):void 0},attachment:n(e)}},__patchV2MessageGroupItemId__:(e,t)=>s.__patchV2MessageGroupItem__({id:e},t),__patchV2MessageId__:(e,t)=>Wi("__patchV2MessageId__",()=>`${e}-${t}`,[e=>e.getMessagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.getMessagesFlagSelectors(),e=>e.getFoldersSelectors(),e=>e.getMessageToAttachmentsSelectors(),e=>e.getAttachmentsSelectors(),e=>e.getSubjectsAndSnippetsSelectors()],()=>{const r=s.getFoldersSelectors,n=s.getAttachmentIdsByMessageId,a=s.getAttachmentById,o=s.getMessageSubject,i=s.getMessageSnippet,c=s.getMessageFlags,l=s.getMessageFolderId,d=(0,s.getMessagesSelectors)().__get__,E=r().__get__,_=d(e),u=n(e).map(a).filter(Boolean),p=l(e),m=c(e);return Mi({},_,{id:e,attachments:u,attachmentCount:u.length,folder:E(p),snippet:i(e,t),headers:Mi({},_.headers,{subject:o(e,t)}),flags:m,folderId:p})})(s),__patchV2MessageGroupItem__:(e={},t)=>e.id?Wi("__patchV2MessageGroupItem__",()=>`${e.id}-${t}`,[e=>e.getMessageGroupsSelectors(),e=>e.getMessagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.getMessagesFlagSelectors()],()=>{const r=(0,s.getMessageIdsFromMessageGroupId)(e.id,t);e.messages=r.map(e=>s.__patchV2MessageId__(e,t));return s.isSingleDraftGroup(e.id)&&(e.messages[0].csid=s.getCsidForSingleDraftGroup(e.id)),e})(s):e,getMessageGroupParticipantsInfo:(e,t)=>Wi("getMessageGroupParticipantsInfo",()=>`${e}-${t}`,[e=>e.getMessageGroupsSelectors(),e=>e.getMessagesSelectors(),e=>e.getMailboxesSelectors(),e=>e.getFoldersSelectors()],()=>{const r=s.getMessageIdsFromMessageGroupId,n=s.getAccountSelectors,a=s.getFoldersSelectors,o=s.getParticipant,i=s.getRecipients,c=Object(x.q)(t),l=c?a().getPrimaryFolderTypeByFolderId(c):void 0,d=r(e,t),E=d.reduce((e,t)=>e.concat(i(t)),[]),_=d.reduce((e,t)=>{const s=o(t)||{},r=s.name,n=s.email;return e.concat({name:void 0===r?"":r,email:void 0===n?"":n})},[]),u=n().getMyAddresses().reduce((e,t)=>(e[t]=!0,e),{});return{senders:l===h.Mb.SENT||l===h.Mb.DRAFT?Object(B.m)({recipients:E,participants:_,myAddresses:u}):_,myAddresses:u}})(s),getNumberOfSelectedItemsInList:e=>{const t=s.doesListExist,r=s.getListItemIds,n=s.doesStreamExist,a=s.getSelectedStreamItems,o=s.getAdListItemsSelectors,i=s.getAllItemsCountForListId,c=(0,s.isFeatureEnabled)("selectAll"),l=Object(K.a)([e]),d=t(e)?r(e):[],E=n(l)?a(l):[],_=d.length>0&&d.length===E.length,u=o().getSelectedPencilAds(),p=e?i(e):0;return(c&&_&&p>0?p:E.length)+u.length},shouldMailCountBeShownInRoute:t=>{const s=Yi(e),r=s.getListsSelectors,n=s.getMessageGroupStreamItemsWithExpansionStates,a=s.getNumberOfSelectedItemsInList,o=(0,s.getMessageGroupsSelectors)().doesMessageGroupIdExist,i=r().getFirstItemIdOfList;if(!Object(x.jb)(t))return!0;const c=Object(x.z)(t),l=i(c),d={id:l,listId:c},E=o(l)?n(d):[];return a(c)>0||!E.length},autoDisplayFirstMessageInRoute:t=>{const s=Yi(e),r=s.getSetting,n=s.isFeatureEnabled,a=s.shouldMailCountBeShownInRoute,o=s.getPrescribedNumberOfColumns,i=(0,s.getFoldersSelectors)(),c=i.getFolderTypes,l=i.doesFolderIdExist,d=Object(x.z)(t),E=Object(x.q)(d),_=l(E)&&-1!==c(E).indexOf(h.Mb.DRAFT),u=n(h.Eb.OPEN_FIRST_MESSAGE),p=!!r(h.Kd.AUTO_OPEN_FIRST_MESSAGE);return 2===o()&&u&&p&&!_&&!a(t)},getMessageGroupStreamItems:e=>{const t=e.id,r=e.listId,n=s.getMessageCsid,a=s.getComposeSessionsSelectors,o=s.getMessageIdsFromMessageGroupId,i=s.isDraftMessage,c=s.getFoldersSelectors,l=s.doesComposeSessionExist,d=s.isSent,E=s.getMessageTimestamp,_=s.getMessageFolderId,u=(0,s.isFeatureEnabled)(h.Eb.CONVERSATIONS),p=c().getPrimaryFolderTypeByFolderId,m=a(),S=m.findReplyForwardCsidsOfMessage,C=m.getDraftMessageId,g=o(t,r),O=g.filter(e=>i(e)),T=Object(x.gb)(r,{listContentType:h.ac.MESSAGE}),A=Object(K.b)(r,t);if(!u)return g.map(e=>({streamId:A,listId:T,csid:n(e),messageId:e,folderType:p(_(e))}));const I=g.map(e=>({messageId:e,timestamp:E(e)})).sort((e,t)=>e.timestamp-t.timestamp).filter(({messageId:e})=>!i(e)).reduce((e,{messageId:t})=>{const s=p(_(t)),r=n(t),a=S(t).filter(e=>!d(e)).reduce((e,t)=>{const s=C(t);return!s||i(s)?e.concat({streamId:A,listId:T,csid:t,messageId:s,folderType:h.Mb.DRAFT}):e},[]);return e.concat({streamId:A,listId:T,csid:r,messageId:t,folderType:s}).concat(a)},[]),f=O.filter(e=>!I.some(t=>t.messageId===e)).map(e=>{let t;const s=n(e);return t=l(s)?d(s)?h.Mb.SENT:h.Mb.DRAFT:p(_(e)),{streamId:A,listId:T,csid:s,messageId:e,folderType:t}});return I.concat(f)},getSelectedMessageIdsFromStreamId:e=>{const t=s.getSelectedStreamItems,r=s.getMessageIdsFromMessageGroupId;return(0,s.doesStreamExist)(e)?t(e).reduce((e,{id:t})=>e.concat(r(t)),[]):[]},isListRefreshing:(e,t=Date.now())=>s.getUnsyncedDataToSync(t).some(t=>t.type===h.Ce.LIST_TO_UPDATE&&t.id===e&&0===t.syncDefer),getDraftErrors:L.hasInvalidComposeField.bind(L),isSendRequested:t.composeSessions(e).isSendRequested,isSent:t.composeSessions(e).isSent,isComposeSaveDue:({csid:e,lastEditedTimeStamp:t,newContentIds:r=[],removedContentIds:n=[],composeSaveInterval:a})=>{if(!s.isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}))return!1;a=a||s.getFeaturesSelectors().getSetting(h.Kd.COMPOSE_SAVE_INTERVAL);const o=s.getComposeSessionsSelectors().getLastSaveTimeStamp(e);return r.length>0||n.length||s.getActionTimeStamp()-o>a&&!(()=>s.getReconciledUnsyncedData().some(t=>t.type===h.Ce.COMPOSE&&t.id===e))()},getNewMailViewListIdForAccount:e=>{const t=(0,s.getDefaultFolderIdForAccount)(e);return Object(x.J)({type:h.Ud.NEWMAIL,filter:h.bc.NEWMAIL,folderId:t,accountId:e})},isMessageGroupRequested:e=>s.getReconciledUnsyncedData().some(t=>t.type===h.Ce.MESSAGE_ITEM_TO_FETCH&&t.userInputtedValues.messageGroupId===e),isMessageGroupLoading:e=>s.getUnsyncedDataSelectors().getUnsyncedData().some(t=>t.type===h.Ce.MESSAGE_ITEM_TO_FETCH&&t.id===e),isSaving:({csid:e},t=Date.now())=>s.getUnsyncedDataToSync(t).some(t=>t.type===h.Ce.COMPOSE&&t.id===e),isGeminiAdLoading:e=>s.getUnsyncedDataToSync().some(t=>t.type===h.Ce.GEMINI_AD&&Object(N.h)(t.userInputtedValues.sectionIds).some(t=>t===e)),getLastEditedTimestampForCompose:e=>{const t=s.findUnsyncedDataByCsid(e);if(t)return t.lastEditedTimeStamp},isFreshCompose:e=>{const t=s.findUnsyncedDataByCsid(e);return t?!t.lastEditedTimeStamp:!s.getDraftMessageId(e)},isMessageUpdatePending:()=>Wi("isMessageUpdatePending",()=>"isMessageUpdatePending",[e=>e.getReconciledUnsyncedData()],()=>s.getReconciledUnsyncedData().some(e=>e.type===h.Ce.MESSAGE_ITEM_TO_UPDATE))(s),isAsyncTaskPending:()=>Wi("isAsyncTaskPending",()=>"isAsyncTaskPending",[e=>e.getReconciledUnsyncedData()],()=>s.getReconciledUnsyncedData().some(e=>e.type===h.Ce.ASYNC_TASK_STATUS))(s),getAsyncTask:()=>s.getReconciledUnsyncedData().find(e=>e.type===h.Ce.ASYNC_TASK_STATUS).userInputtedValues,isComposeSessionDirty:({csid:e,lastEditedTimeStamp:t})=>s.getComposeSessionsSelectors().isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}),getLastSaveTimeStampForDraft:e=>s.getComposeSessionsSelectors().getLastSaveTimeStamp(e),getDraftStatus:({csid:r,lastEditedTimeStamp:n})=>{const a=s.getLastSaveTimeStampForDraft(r);return s.isSaving({csid:r})||t.composeSessions(e).getFatalErrorCount(r)?Li.SAVING:n===a?Li.SAVED:void 0},canSendDraft:({csid:e,lastEditedTimeStamp:t,attachmentsInfo:r=[]})=>{const n=s.getDraftMessageId(e),a=s.getMessagesSelectors(),o=a.isMarkedAsSpam;if(!n||!t||(0,a.doesMessageIdExist)(n)&&o(n)||s.getComposeSessionsSelectors().isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}))return!1;const i=s.getAttachmentIdsByMessageId(n).map(s.getContentIdByAttachmentId),c=Object(N.h)(r).some(e=>-1===i.indexOf(e.contentId));return!r.length||!c},findReplyForwardCsidsOfMessage:e=>s.getComposeSessionsSelectors().findReplyForwardCsidsOfMessage(e),doesComposeSessionExist:e=>s.getComposeSessionsSelectors().doesComposeSessionExist(e),getComposeFieldToFocus:e=>s.getComposeSessionsSelectors().getComposeFieldToFocus(e),showUnsyncedDataWarning:()=>s.getReconciledUnsyncedData().some(e=>e.type===h.Ce.COMPOSE&&s.doesComposeSessionExist(e.id)&&(s.isSendRequested(e.id)||e.userInputtedValues.lastEditedTimeStamp&&s.getLastSaveTimeStampForDraft(e.id)!==e.userInputtedValues.lastEditedTimeStamp)||e.warnOnClose),findUnsyncedDataByCsid:e=>Wi("findUnsyncedDataByCsid",()=>e,[e=>e.getReconciledUnsyncedData()],()=>{const t=s.getReconciledUnsyncedData().find(t=>t.type===h.Ce.COMPOSE&&t.id===e);if(t)return t.userInputtedValues})(s),getDraftCardMessage:e=>Wi("getDraftCardMessage",()=>e,[t=>(t.findUnsyncedDataByCsid(e)||{}).lastEditedTimeStamp],()=>{const t=s.findUnsyncedDataByCsid,r=s.getDraftFolderIdByAccountEmail,n=(0,s.getFoldersSelectors)().getFolderTypes,a=t(e),o=a.from,i=a.to,c=a.cc,l=a.bcc,d=a.subject,E=a.lastEditedTimeStamp,_=a.attachmentsInfo,u=r(o.email),p=Math.floor((E||Date.now())/1e3);return{message:{flags:{read:!0,flagged:!1},folder:{id:u,types:n(u)},headers:{from:[o],to:i,cc:c,bcc:l,subject:d,date:p},attachments:_}}})(s),isAttachmentUploadPendingForComposeSession:e=>{const t=s.getAttachmentByContentId;return(0,s.getReconciledUnsyncedData)().filter(({type:t,id:s,userInputtedValues:{newContentIds:r=[]}={}})=>t===h.Ce.COMPOSE&&s===e&&r.length).reduce((e,{userInputtedValues:{newContentIds:t=[]}})=>e.concat(...t),[]).some(e=>!t(e))},doComposeFromRouteQueryParams:e=>s.getComposeSessionsSelectors().doComposeFromRouteQueryParams(e),doComposeFromMailToLink:e=>s.getComposeSessionsSelectors().doComposeFromMailToLink(e),getComposeMailToLink:e=>s.getComposeSessionsSelectors().getMailToLink(e),getComposeParams:e=>s.getComposeSessionsSelectors().getComposeParams(e),getComposeHeaderFocus:e=>s.getComposeSessionsSelectors().getComposeHeaderFocus(e),getStationeryTheme:e=>s.getComposeSessionsSelectors().getStationeryTheme(e),findDraftMessageCsid:e=>s.getComposeSessionsSelectors().findDraftMessageCsid(e),getDraftMessageId:e=>s.getComposeSessionsSelectors().getDraftMessageId(e),getForwardCreativeId:e=>s.getComposeSessionsSelectors().getForwardCreativeId(e),getInForwardToMessageId:e=>s.getComposeSessionsSelectors().getInForwardToMessageId(e),getForwardAttachmentIds:e=>s.getComposeSessionsSelectors().getForwardAttachmentIds(e),isReplyMessage:e=>s.getComposeSessionsSelectors().isReplyMessage(e),isReplyAllMessage:e=>s.getComposeSessionsSelectors().isReplyAllMessage(e),isForwardMessage:e=>s.getComposeSessionsSelectors().isForwardMessage(e),getReplyingToMessageId:e=>s.getComposeSessionsSelectors().getReplyingToMessageId(e),isReplyOrReplyAll:e=>s.isReplyMessage(e)||s.isReplyAllMessage(e),getAttachmentsByMessageId:e=>(s.getAttachmentIdsByMessageId(e)||[]).map(s.getAttachmentById),getAttachmentCountByMessageId:e=>(s.getAttachmentIdsByMessageId(e)||[]).length,hasNonInlineAttachmentsByMessageId:e=>(s.getAttachmentIdsByMessageId(e)||[]).some(s.isNonInlineAttachmentById),hasFailedComposeSend:()=>{const e=s.getReconciledUnsyncedData,t=(0,s.getComposeSessionsSelectors)().isSendFailed;return e().some(({type:e,id:s})=>e===h.Ce.COMPOSE&&t(s))},getSelectedMailboxId:t.mailboxes(e).getSelectedMailboxId,getMailboxSize:t.mailboxes(e).getMailboxSize,getCurrentListId:()=>Object(x.z)(s.getRoute()),getFolderIdsFromListId:s=>{const r=Object(x.r)(s),n=r.folderIds,a=void 0===n?[]:n,o=r.folderNames,i=void 0===o?[]:o,c=t.folders(e),l=c.getFolderIdsByName,d=c.doesFolderIdExist;return i.reduce((e,t)=>e.concat(l(t)),[]).concat(a).filter(d)},isSearchInputFocused:()=>aa(e).isSearchInputFocused(),getSearchSuggestions:t.searchSuggestions(e).getSuggestions,getComposeSuggestions:s=>{const r=t.contacts(e).getContactBlockList(),n=t.composeSuggestions(e).getSuggestions(s)||[];return r.length?n.filter(e=>!r.find(t=>t.email===e.email)):n},getComposeSuggestionsFromImportantsByQuery:({query:e,contextEmail:t})=>{e=e.trim().toLocaleLowerCase();return(0,s.getImportantContacts)(t).filter(({email:t,contact:{name:s}={}})=>s&&s.toLocaleLowerCase().split(" ").find(t=>0===t.indexOf(e))||t.slice(0,t.indexOf("@")).toLocaleLowerCase().split(".").find(t=>0===t.indexOf(e))).map(({email:e,contact:{name:t,id:s}={}})=>({name:t,email:e,id:s})).slice(0,h.jc)},getImportantContacts:e=>{const t=s.getContactListSelectors,r=(0,s.getListsSelectors)().getImportantContactEmailsByContextEmail,n=t(),a=n.getContactIdByEmail,o=n.getContactById;return r(e).map(e=>{const t=a(e);return{email:e,contact:o(t)}})},getCurrentGroupId:()=>s.getRoute().params.groupId,getFolderIdsForSelectedAccount:e=>s.getFolderIdsByFolderTypeForAccount(e,s.getSelectedAccountId()),getDefaultFolderIdForSelectedAccount:()=>s.getFolderIdsForSelectedAccount(h.Mb.INBOX)[0],getDefaultFolderIdForAccount:e=>s.getFolderIdsByFolderTypeForAccount(h.Mb.INBOX,e)[0],getFolderIdsByFolderTypeForAccount:(s,r)=>t.folders(e).getFolderIdsFromFolderType(s,r),getAccountById:s=>t.mailboxes(e).getAccountsSelectors().getAccountById(s),getSendAccountsByAccountId:s=>t.mailboxes(e).getAccountsSelectors().getSendAccountsByAccountId(s),getProviderFromAccount:s=>t.mailboxes(e).getAccountsSelectors().getProviderFromAccount(s),getAccountDescriptionByAccountId:s=>t.mailboxes(e).getAccountsSelectors().getAccountDescriptionByAccountId(s),getSelectedAccountId:()=>{const e=s.getAccountSelectors(),t=e.getAccountById,r=e.getPrimaryAccountId,n=s.getSelectedAccountIdByRoute(s.getRoute());return t(n)?n:r()},getPrimaryAccountId:()=>s.getAccountSelectors().getPrimaryAccountId(),getSendingAccountId:()=>t.mailboxes(e).getAccountsSelectors().getSendingAccountId(),getSelectedAccountIdByRoute:e=>{const t=Object(x.z)(e),r=t?Object(x.g)(t):[];if(1===r.length)return r[0];let n=Object(x.q)(t);const a=void 0!==e.params?e.params.csid:void 0,o=s.getDraftMessageId,i=s.getReplyingToMessageId,c=s.getMessageFolderId,l=s.doesFolderIdExist,d=s.getAccountIdByFolderId,E=s.getFolderPageRoute,_=s.getCursorItem,u=s.doesStreamExist,p=s.doesMessageGroupIdExist,m=s.getMainStreamListIds,S=s.getAccountIdFromMessageGroupId,C=s.getDefaultSetting;if(!n&&a&&(0,s.doesComposeSessionExist)(a)){const e=o(a)||i(a);n=e?c(e):void 0}if(Pi(e)&&ji(e)&&p(e.params.groupId,t))return S(e.params.groupId,t);if(Pi(e)&&Fi(e)&&C(h.Kd.PREVIEW_PANE)!==h.ed.NO){const s=m(e),r=Object(K.a)(s),a=u(r)?_(r):void 0;if(a){if(a.id&&"MESSAGES"===Object(x.w)(a.listId)&&p(a.id,t))return S(a.id,t);if(a.csid){const e=o(a.csid)||i(a.csid);n=e?c(e):void 0}}}if(n&&l(n))return d(n);if(!n){const e=E();if(e){const t=Object(x.z)(e);return d(Object(x.q)(t))}}const g=e.query?e.query.accountIds:void 0;return g||s.getAccountSelectors().getSelectedAccountId()},doesSelectedAccountExist:()=>s.getAccountSelectors().doesSelectedAccountExist(),getAccountNameByAccountId:e=>s.getAccountSelectors().getAccountNameByAccountId(e),hasAccountWithEmail:t.mailboxes(e).getAccountsSelectors().hasAccountWithEmail,getAccountIdByAccountEmail:s=>t.mailboxes(e).getAccountsSelectors().getAccountIdByAccountEmail(s),getEmailOfSelectedAccount:()=>t.mailboxes(e).getAccountsSelectors().getAccountEmailByAccountId(s.getSelectedAccountId()),isFolderExpanded:e=>-1!==s.getSetting(h.Kd.EXPANDED_FOLDERS).indexOf(e),getAttachmentById:e=>s.getAttachmentsSelectors().getAttachmentById(e),getContentIdByAttachmentId:e=>s.getAttachmentsSelectors().getContentIdByAttachmentId(e),getConversationIdByAttachmentId:e=>s.getAttachmentsSelectors().getConversationIdByAttachmentId(e),getMimetypeByAttachmentId:e=>s.getAttachmentsSelectors().getMimetypeByAttachmentId(e),getAttachmentExtentionByAttachmentId:e=>s.getAttachmentsSelectors().getAttachmentExtentionByAttachmentId(e),getAttachmentTypeByAttachmentId:e=>s.getAttachmentsSelectors().getAttachmentTypeByAttachmentId(e),getAttachmentSubtypeByAttachmentId:e=>s.getAttachmentsSelectors().getAttachmentSubtypeByAttachmentId(e),getSizeByAttachmentId:e=>s.getAttachmentsSelectors().getSizeByAttachmentId(e),doesAttachmentExistById:e=>s.getAttachmentsSelectors().doesAttachmentExistById(e),getDocumentIdByAttachmentId:e=>s.getAttachmentsSelectors().getDocumentIdByAttachmentId(e),getAttachmentIdByDocumentId:e=>s.getAttachmentsSelectors().getAttachmentIdByDocumentId(e),getAttachmentMessageReferenceByContentId:e=>s.getAttachmentsSelectors().getMessageReferenceByContentId(e),getAttachmentByContentId:e=>s.getAttachmentsSelectors().getByContentId(e),isInlineAttachmentById:e=>s.getAttachmentsSelectors().isInlineAttachmentById(e),isNonInlineAttachmentById:e=>s.getAttachmentsSelectors().isNonInlineAttachmentById(e),didAttachmentUploadFail:e=>s.getAttachmentsSelectors().hasError(e),getAttachmentIdsByMessageId:t.messageToAttachments(e).attachmentsByMessageId,getAttachmentDownloadAllUrlByMessageId:e=>s.getMessagesSelectors().getDownloadAllUrl(e),getMessageIdForAttachmentId:t.messageToAttachments(e).getMessageIdForAttachmentId,getAliasSuggestions:t.mailboxes(e).getAliasSuggestions,getAliasSuggestionStatus:t.mailboxes(e).getAliasSuggestionStatus,getSocialAccountsStatus:t.mailboxes(e).getSocialAccountsStatus,getAllAccounts:t.mailboxes(e).getAccountsSelectors().getAllAccounts,getPrimaryAccount:t.mailboxes(e).getAccountsSelectors().getPrimaryAccount,getAccountsForSearch:()=>Wi("getAccountsForSearch",()=>"accounts",[e=>e.getMailboxesSelectors()],e=>e.getAccountsSelectors().getAllAccounts().filter(e=>e.status===h.m.ENABLED&&e.accountVerified&&e.type&&h.Ed.indexOf(e.type)>-1))(s),getExpiredAccounts:()=>Wi("getExpiredAccounts",()=>"accounts",[e=>e.getMailboxesSelectors()],e=>e.getExpiredAccounts())(s),getAlertIdByAccountId:t.mailboxes(e).getAlertIdByAccountId,getRootAccounts:()=>Wi("getRootAccounts",()=>"accounts",[e=>e.getMailboxesSelectors()],e=>e.getAccountsSelectors().getRootAccounts())(s),getRootAccountsWithDefaultFolder:()=>Wi("getRootAccountsWithDefaultFolder",()=>"accounts",[e=>e.getMailboxesSelectors(),e=>e.getFoldersSelectors()],(e,t)=>{const s=e.getAccountsSelectors().getRootAccounts(),r=t.doesFolderIdExist,n=t.getFolderUnreadCount,a=t.getFolderIdsFromFolderType;return s.map(e=>{const t=a(h.Mb.INBOX,e.id)[0];return Mi({},e,{defaultFolder:{id:t,unread:r(t)?n(t):0}})})})(s),getFoldersForMoveMenu:()=>Wi("getFoldersForMoveMenu",()=>"folders",[e=>e.getRoute(),e=>e.getSelectedAccountIdByRoute(e.getRoute()),e=>e.getFoldersSelectors()],(e,t,s)=>{const r=s.getCustomFolderList,n=s.getSystemFolderList,a=Object(x.z)(e),o=Object(x.q)(a),i=o?[o]:[];function c(e,{assignShortcuts:t=!1,disabledFolderIds:s=[]}){const r=[];if(e.forEach(e=>{const t=e.type,n=Mi({},e,{disabled:-1!==s.indexOf(e.id)});t===h.Mb.INBOX&&(n.shortcut=0),r.push(n)}),t){let e=0;for(let t=0;e<9&&r[t];t++)r[t].type!==h.Mb.INBOX&&(r[t].shortcut=++e)}return r}const l=r(t),d=n(t).filter(({type:e})=>-1===[h.Mb.DRAFT,h.Mb.SENT].indexOf(e));return{customFolders:c(l,{assignShortcuts:!0,disabledFolderIds:i}),systemFolders:c(d,{disabledFolderIds:i})}})(s),getAliasAccounts:t.mailboxes(e).getAccountsSelectors().getAliasAccounts,hasMultipleRootAccounts:t.mailboxes(e).getAccountsSelectors().hasMultipleRootAccounts,isMyEmailAddress:t.mailboxes(e).getAccountsSelectors().isMyEmailAddress,isSelectedAccount:r=>{const n=s.getSelectedAccountId;return r===(0,t.mailboxes(e).getAccountsSelectors().getAccountEmailByAccountId)(n())},getMyAddresses:()=>s.getAccountSelectors().getMyAddresses(),isUserOwnEmailMessage:e=>{const t=s.getMessagesSelectors().getFromAddresses(e),r=n()(t,1)[0],a=(void 0===r?{}:r).email;return s.isMyEmailAddress(void 0===a?"":a)},__patchV2MyAddresses__:()=>s.getMyAddresses().reduce((e,t)=>Mi({},e,{[t]:!0}),{}),getMailboxesSelectors:()=>t.mailboxes(e),getSettingsSelectors:()=>t.settings(e),getComposeAttributesSelectors:()=>t.composeAttributesStatus(e),getDraftFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(h.Mb.DRAFT,s)[0],getSelectedAccountIdByAccountEmail:e=>{let t;return t=s.getAccountSelectors().isPrimaryAccountEmail(e)?s.getAccountIdByAccountEmail(e):s.getSelectedAccountId(),t},getDraftFolderIdForPrimaryAccount:()=>{const e=s.getAccountSelectors();return s.getDraftFolderIdByAccountId((0,e.getPrimaryAccountId)())},getDraftFolderIdByAccountEmail:e=>s.getDraftFolderIdByAccountId(s.getSelectedAccountIdByAccountEmail(e)),getSendFolderIdForPrimaryAccount:()=>{const e=s.getAccountSelectors();return s.getSendFolderIdByAccountId((0,e.getPrimaryAccountId)())},getSendFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(h.Mb.SENT,s)[0],getInboxFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(h.Mb.INBOX,s)[0],getSendFolderIdByAccountEmail:e=>s.getSendFolderIdByAccountId(s.getSelectedAccountIdByAccountEmail(e)),__isPermDeleteMessage:e=>(0,s.isPermDeleteFolderType)((0,s.getMessageFolderId)(e)),__getLastNonDraftMessageIdByGroupId:e=>{const t=(0,s.getMessageIdsFromMessageGroupId)(e).filter(e=>!s.isDraftMessage(e));return t[t.length-1]},__getMessage:e=>s.getMessagesSelectors().__getMessage(e),__getMessageWithFlagsAndFolderId:e=>{const t=s.getMessageFlags,r=s.getMessageFolderId;return Mi({},(0,s.getMessagesSelectors)().__getMessage(e),{flags:t(e),folderId:r(e)})},__getOriginalMessageGroupSender:e=>{let t;if(s.doesMessageGroupIdExist(e)){const r=s.getMessageIdsFromMessageGroupId(e),a=n()(r,1),o=s.getMessageFromAddress(a[0]);t=n()(o,1)[0]}return t},__getFolderIdMapFromFolderType(e,t){const r=s.getMessageFolderId,a=s.getAccountIdByFolderId,o=s.getFolderIdsByFolderTypeForAccount,i={};return e.forEach(e=>{const s=o(t,(e=>a(r(e)))(e)),c=n()(s,1)[0];i.hasOwnProperty(c)||(i[c]=[]),i[c].push(e)}),i},getCalendarSelectors:()=>t.calendar(e),getAdListItemsSelectors:()=>t.adListItems(e),getEnvironmentSelectors:()=>t.environment(e),getWindowDimensions:()=>s.getEnvironmentSelectors().getWindowDimensions(),getMainContentWidth:()=>{const e=s.getRightRailPanes,t=(0,s.isNarrowScreen)()?b.yb:b.zb,r=e().length?Number(t.substring(0,t.length-2)):52;return s.getWindowDimensions().contentAndRightRailWidth-r},getAppName:()=>s.getEnvironmentSelectors().getAppName(),isBrowserSupportedByNoble:()=>{const e=s.getFeaturesSelectors().isEnabled,t=e(h.Eb.NOBLE_SUPPORTED_BROWSER_VERSION),r=e(h.Eb.NOBLE_SUPPORTED_OS_VERSION);return t&&r},isAppVisible:()=>s.getEnvironmentSelectors().isAppVisible(),getApplicationLastVisibleTimeStamp:()=>s.getEnvironmentSelectors().getApplicationLastVisibleTimeStamp(),getBuildRefreshStatus:()=>s.getEnvironmentSelectors().getBuildRefreshStatus(),getTimeZoneName:()=>s.getEnvironmentSelectors().getTimeZoneName(),getIsInternalIP:()=>Wi("getIsInternalIP",()=>"getIsInternalIP",[e=>e.getEnvironmentSelectors()],()=>s.getEnvironmentSelectors().getIsInternalIP())(s),isNarrowScreen:()=>Wi("isNarrowScreen",()=>"isNarrowScreen",[e=>e],()=>(e=>{const t=e.getWindowDimensions,s=e.getSmartViewTypeFromRoute,r=e.getRoute,n=e.isFeatureEnabled,a=(0,e.getSetting)(h.Kd.PREVIEW_PANE)===h.ed.RIGHT,o=t(),i=s(r())===h.Ud.COUPONS,c=n(h.Eb.DEALS);let l=Object(N.b)(o,"innerWidth",0);return!l&&Object(ts.c)()&&window.innerWidth&&(l=window.innerWidth),!!l&&((!a&&l<b.eb||a&&l<b.Nb)&&!(c&&i))})(s))(s),isMessageDeliveredToSpamFolder:r=>{const n=s.getMessagesSelectors().getFolderOfDelivery(r);return!(!n||!s.doesFolderIdExist(n))&&t.folders(e).isSpamFolder(n)},shouldShowSpamAttachmentWarning:e=>!s.isSpamMessage(e)&&s.isMessageDeliveredToSpamFolder(e),getLaunchError:t.launchError(e).getLaunchErrorType,getLocationSuggestionSelectors:()=>t.locationSuggestions(e),getTravelCardListItems:(e,t,r)=>function(e,t,s,r){const n=[],a=e.getMessagesSelectors,o=e.getFlightsSelectors,i=e.getCardGroupsSelectors,c=e.getCardMessageToSchemasSelectors,l=(0,e.getListsSelectors)().getItemIdsSelectors(t).getItemIds,d=a().getConversationId,E=i(),_=E.getMessageIdsFromCardGroupId,u=E.getMostRecentEmailId,p=c().getSchemas,m=Object(x.x)(t),S=Object(x.L)(t);switch(l().forEach(e=>{const a=_(e),i=u(e),c=s?d(i):i;a.forEach(s=>{p(s).forEach(({id:s,type:a})=>{if(a===h.Ad.FlightReservation){const i=o(),l=i.isEligibleCardForFilter,d=(0,i.getCardDate)(s);l(s,m,r)&&n.push({id:s,type:a,listId:t,cardConversationId:e,groupId:c,cardDate:d,timestamp:d})}})})}),S){case h.Yd.CARD_DATE_ASC:n.sort((e,t)=>e.cardDate-t.cardDate);break;case h.Yd.CARD_DATE_DESC:n.sort((e,t)=>t.cardDate-e.cardDate)}return n}(s,e,t,r),getReceiptCardListItems:(e,t)=>function(e,t,s){const r=[],n=e.getCardMessageToSchemasSelectors,a=e.getListsSelectors,o=e.getReceiptSelectors,i=(0,e.getMessagesSelectors)(),c=i.getCardConversationId,l=i.getParentMessageIdForCardConversationId,d=i.getParentConversationIdForCardConversationId,E=n().getSchemas,_=a().getItemIdsSelectors,u=o(),p=u.getPrice,m=u.getFirstItemName,S=u.getOrderDate,C=u.getNumItems,g=u.getCurrency,O=_(t).getItemIds(),T=Object(x.L)(t);switch(O.forEach(e=>{const n=E(e).filter(e=>e.type===h.Ad.Order);if(1===n.length){const a=c(e),o=n[0].id,i=p(o),E=m(o),_=S(o),u=C(o),O=g(o),T=d(a),A=l(a);r.push({id:o,type:h.Ad.Order,listId:t,schemaId:o,cardMid:e,price:i,itemName:E,numItems:u,currency:O,orderDate:_,conversationId:T,messageId:A,hasConv:s,timestamp:new Date(_).getTime()})}}),T){case h.Yd.DATE_ASC:r.sort((e,t)=>e.timestamp-t.timestamp);break;case h.Yd.DATE_DESC:r.sort((e,t)=>t.timestamp-e.timestamp)}return r}(s,e,t),getSenderRollupItems:(e,t)=>function(e,t){const s=e.getListsSelectors,r=e.getAccountSelectors,n=(0,e.getSenderRollupSelectors)().getSenderRollupById,a=s().getItemIdsSelectors(t).getItemIds,o=Object(x.q)(t),i=a(),c=r().getMyAddresses().reduce((e,t)=>(e[t]=!0,e),{});return i.reduce((e,s)=>{const r=n(o,s);if(r){const n=r.messages,a=r.timestamp,o=r.type,i=r.unreadCount,l=r.from,d=r.subjects,E=r.totalCount;n&&n.length&&e.push({id:s,listId:t,subject:d[0],senders:l,myAddresses:c,type:o,timestamp:1e3*a,unreadCount:i,totalCount:E})}return e},[])}(s,e),getCurrentSpaceId:()=>Object(_r.b)(e).spaceId,getAvailableSortOrders:()=>{const e=s.getFoldersSelectors,t=s.getRoute,r=s.isFeatureEnabled,n=(0,s.getCurrentListId)(),a=Object(x.q)(n),o=a?e().getPrimaryFolderTypeByFolderId(a):void 0,i=r(h.Eb.CONVERSATIONS),c=r(h.Eb.SENDER_ROLLUP);return((e,t,s,r,n=!1)=>{const a=r?Object(x.w)(r):h.ac.MESSAGES;switch(e.name){case h.rd.SEARCH:return a===h.ac.IMAGES||a===h.ac.DOCUMENTS?Cr:hr;default:return t===h.Mb.DRAFT?gr:s?n?[...Or,h.Yd.SENDER]:Or:Tr}})(t(),o,i,n,c)},shouldEnableGroupActions:e=>{const t=s.getCursorItem,r=s.doesStreamExist,n=s.hasSelectedStreamItems,a=s.getAdListItemsSelectors,o=r(e)?t(e):void 0,i=r(e)&&n(e)||a().hasSelectedPencilAds();return!(!o||i)},shouldEnableTriageActions:e=>{const t=s.getCursorItem,r=s.doesStreamExist,n=s.getSelectedStreamItems,a=r(e)?t(e):void 0,o=r(e)?n(e):[];return!!(a||o.length>0)},canShowToolbarItem:e=>{const t=s.isAllCardsExpanded,r=s.getMessageIdsFromMessageGroupId,n=s.shouldEnableGroupActions,a=s.doesStreamExist,o=s.getCursorItem,i=s.getFoldersSelectors,c=s.getCurrentListId,l=(0,s.getSetting)(h.Kd.PREVIEW_PANE),d=a(e)?o(e):void 0,E=d?d.id:void 0,_=!!d&&t(d.listId,E),u=r(E),p=Object(x.q)(c());return((e,t,s,r,n)=>a=>{let o;const i=Boolean(e),c=e===h.Mb.TRASH,l=e===h.Mb.ARCHIVE,d=e===h.Mb.BULK,E=e===h.Mb.DRAFT,_=s!==h.ed.NO&&t&&n.length>1;switch(a){case"archive":o=!i||!l&&!d&&!c;break;case"restore":o=l||d||c;break;case"spam":o=!d;break;case"ham":o=d;break;case"raf":o=s!==h.ed.NO&&(!i||!d&&!E);break;case"expandAll":o=_&&!1===r;break;case"collapseAll":o=_&&!0===r;break;default:o=!0}return o})(p?i().getPrimaryFolderTypeByFolderId(p):void 0,n(e),l,_,u)},canEnableToolbarItem:e=>{const t=s.shouldEnableTriageActions,r=s.getFoldersSelectors,n=s.getCurrentListId,a=s.getSelectedAccountId,o=s.getSelectedStreamItems,i=s.doesStreamExist,c=s.getAccountIdFromMessageGroupId,l=s.getMessageIdsFromMessageGroupId,d=s.getMessageFolderId,E=s.isDraftFolder,u=s.isSentFolder,p=s.getCursorItem,m=(0,s.shouldEnableGroupActions)(e),S=t(e),C=Object(x.q)(n()),g=C?r().getPrimaryFolderTypeByFolderId(C):void 0,O=i(e),T=O?o(e):[],A=O?p(e):{},I=T.map(({id:e})=>e),f=a(),D=I.map(e=>c(e,n()));let R=!1,b=!1;if(0===I.length&&A||1===I.length){const e=l(0===I.length?A.id:I[0]);if(1===e.length){const t=d(e[0]);R=E(t),b=u(t)}}return((e,t,s,r,n,a,o)=>i=>{let c;const l=e===h.Mb.DRAFT,d=e===h.Mb.SENT,E=e===h.Mb.BULK;let u=(n=_()(n)).length<=1;switch(1===n.length&&(u=u&&n[0]===r),i){case"archive":c=!l&&t&&!a;break;case"move":c=!l&&t&&u&&!a;break;case"spam":c=!l&&!d&&t&&!a&&!o;break;case"ham":c=E&&t&&!a;break;case"raf":c=s;break;case"more":default:c=t}return c})(g,S,m,f,D,R,b)},doesComposeHaveFatalError:r=>t.composeSessions(e).getFatalErrorCount(r)>=s.getSetting(h.Kd.COMPOSE_THROTTLE_COUNT),isLoadingGeminiAsset:e=>s.getReconciledUnsyncedData().some(t=>t.type===h.Ce.GEMINI_AD_ASSET&&t.userInputtedValues.creativeId===e),getStreamItemInFocus:()=>{const e=s.doesStreamExist,t=s.getCursorItem,r=s.doesMessageGroupIdExist,n=s.getRoute,a=s.getMessageGroupStreamItemsWithExpansionStates,o=s.getGroupId,i=(0,s.getComposeSessionsSelectors)().doesComposeSessionExist,c=n(),l=Object(x.z)(c),d=o(),E=d&&r(d,l)?Object(K.b)(l,d):void 0;let _=e(E)?t(E):void 0;if(!_||Object(x.w)(_.listId)===h.ac.COMPOSE&&!i(_.id)){const e=Object(x.gb)(l,{listContentType:h.ac.MESSAGE}),t=d&&r(d,l)?a({id:d,listId:e}):[];_=t.filter(e=>e.expansionState===h.L.EXPANDED).slice(-1)[0]||t.slice(-1)[0]}return _},getGroupIdInPreviewPane:()=>{const e=s.doesStreamExist,t=s.getCursorItem,r=s.doesMessageGroupIdExist,n=s.getSelectedStreamItems,a=(0,s.getMainStreamListIds)((0,s.getRoute)()),o=Object(K.a)(a),i=e(o)?n(o).length:0,c=e(o)?t(o):void 0;return 0===i&&c&&r(c.id)?c.id:null},getGroupId:()=>{const e=s.getGroupIdInPreviewPane,t=s.getSetting,r=vi((0,s.getRoute)())||{};return t(h.Kd.PREVIEW_PANE)===h.ed.NO||r.groupId?r.groupId:e()},getMainStreamListIds:e=>{const t=[Object(x.z)(e)];return Ui(e),t},getMainStreamItems:t=>{let r=[];const n=s.getListsSelectors,a=s.getTravelCardListItems,o=s.getReceiptCardListItems,i=s.getEnvironmentSelectors,c=s.getMessageListItems,l=s.getAttachmentListItems,d=s.isFeatureEnabled,E=s.doesListExist,_=s.getMainStreamListIds,u=s.getMainContentWidth,p=s.getFeaturesSelectors,m=s.getSenderRollupItems,S=Object(x.z)(t);if(!E(S))return r;const C=p().getSetting,g=n(),O=g.hasMoreItems,T=g.getListStatus,A=i().getTimeZoneName,I=d(h.Eb.CONVERSATIONS),f=Object(x.w)(S),D=_(t),R=Object(Er.c)({timezone:A(),now:Object(H.i)()});switch(f){case h.ac.TRAVEL_CARDS:{const e=Date.now(),t=Object(Er.c)({timezone:A(),now:Object(H.i)(),hasFutureTime:!0}),s=Object(x.x)(S),n=s===h.bc.TRAVEL_VIEW_UPCOMING?t:R,o=a(S,I,e);if(r=ki({list:o,timePredicates:n}),s===h.bc.TRAVEL_VIEW_UPCOMING&&0===r.length)return r;break}case h.ac.COUPON_CARDS:{const t=D.filter(e=>E(e)).reduce((e,t)=>e===h.od.LOADING||e===h.od.ERROR?e:T(t),h.od.DOES_NOT_EXIST);r=Object(dr.c)(e,D,t);break}case h.ac.REFUND_CARDS:{const e=o(S,I);r=ki({list:e,timePredicates:R}),r.length&&(r[r.length-1].isLastItemInGroup=!0);break}case h.ac.MESSAGES:{const e=Object(x.L)(S),t=c(S);r=ki({list:t,timePredicates:R,sortOrder:e});break}case h.ac.SENDERS:r=m(S);break;case h.ac.IMAGES:{const e=Object(x.L)(S),t=l(S),s=t.length>=4&&-1!==[h.Yd.DATE_DESC,h.Yd.DATE_ASC].indexOf(e),n=u(),a=C(h.Kd.LIST_ITEM_HEIGHT,{contentType:f}),o=Math.floor(n/a);if(s){const e=Object(Er.d)(t,R),s=e.list;r=e.isGroupedList?[...Object(Er.b)(s,o)]:Object(Er.e)(t,o,"unknown","none")}else 0!==t.length&&(r=Object(Er.e)(t,o,"unknown","none"));break}case h.ac.DOCUMENTS:{const e=Object(x.L)(S),t=l(S);r=ki({list:t,timePredicates:R,sortOrder:e});break}}return D.some(e=>E(e)&&O(e))&&(r=[...r,{id:h.ac.LOAD_MORE,listId:Object(x.f)({listContentType:h.ac.LOAD_MORE})}]),r},getListItemsWithAds:(e,t)=>{const r=s.doesListExist,n=s.getSetting,a=s.isFeatureEnabled,o=s.getEnvironmentSelectors,i=s.getAdsSelectors,c=Object(x.z)(e),l=e.name===h.rd.SEARCH,d=a(h.Eb.PENCIL_AD),E=i(),_=E.isAdBlocked,u=E.isABPDetected;if(!r(c)||0===t.length||!d||_()||u())return t;const p=Object(x.w)(c);let m=t;if(p===h.ac.MESSAGES){const e=n(h.Kd.LIST_ITEM_HEIGHT,{contentType:p}),r=n(h.Kd.GEMINI_SECTION_IDS),i=ne(s,e,r[h.Nb.MESSAGE_LIST]),c=(0,o().getWindowDimensions)(),d=c.innerHeight-c.ybarHeight-b.bb,E=((e,t,s)=>{if(t!==h.ac.MESSAGES)return!1;const r=e.getAdsSelectors,n=e.isFeatureEnabled,a=e.getMailproFreeTrialSelectors,o=(0,e.getSetting)(h.Kd.GEMINI_SECTION_IDS),i=r(),c=i.getPencilAdData,l=(0,i.getAdFeedbackStatus)(),d=a().getUpsellId();return n(h.Eb.SECOND_PENCIL_AD)&&c(o[h.Nb.MESSAGE_LIST_2]).clickUrl&&(!s||n(h.Eb.SECOND_SEARCH_AD))&&l[o[h.Nb.MESSAGE_LIST_2]]!==h.p.ENDED&&(d!==h.hc.PRE_SIGNUP_PENCIL_BANNER||d===h.hc.PRE_SIGNUP_PENCIL_BANNER&&s)})(s,p,l)&&d>0,_=a(h.Eb.SECOND_SEARCH_AD);if(m=t[0].listId&&Object(x.w)(t[0].listId)===h.ac.TIMECHUNK?[t[0],i,...t.slice(1)]:[i,...t],E){let t=0,n=0;const o=ne(s,e,r[h.Nb.MESSAGE_LIST_2]);for(let e=0;e<m.length;e++){if(t>d&&n>=10){m.splice(e,0,o);break}if(l&&_&&e===m.length-1&&!a(h.Eb.SAME_SEARCH_AD_ON_SECOND_PENCIL)){m.push(o);break}n+=m[e].relevantMessageId?1:0,t+=Object(x.w)(m[e].listId)===h.ac.TIMECHUNK?b.L:m[e].listItemHeight}}}return m},getSubscriptionListItems:e=>{const t=s.isFeatureEnabled,r=(0,s.getListsSelectors)(),n=r.getItemIdsSelectors;return(0,r.doesListExist)(e)&&t(h.Eb.SUBSCRIPTION_LIST)?n(e).getItemIds():[]},sortContactAlphabetically:(e,t)=>{const r=e.itemType,n=t.itemType,a=(void 0===r?{}:r).id||e.id,o=(void 0===n?{}:n).id||t.id,i=(0,s.getContactListSelectors)(),c=i.getContactById,l=i.getContactsSortOrder,d=c(a)||{},E=c(o)||{},_=l(),u=Object(U.getComparableValue)(_,d),p=Object(U.getComparableValue)(_,E);return u<p?-1:u>p?1:0},getContactListItems:e=>{const t=s.getStreamsSelectors,r=s.sortContactAlphabetically,n=(0,s.getListsSelectors)(),a=n.getItemIdsSelectors,o=n.getTotalHits;if(!(0,n.doesListExist)(e))return[];const i=Object(x.x)(e);if(i===h.bc.GROUPS){return a(e).getItemIds().map(t=>({id:Object(mt.c)(t),itemType:t,listId:e,type:h.ac.CONTACTS})).sort(r)}const c=t(),l=c.doesStreamExist,d=c.getExpansionStateForStreamItem,E=a(e).getItemIds().filter(e=>a(e).getItemIds().length>0),_=E.length>1,u=l(e),p=i===h.bc.USER_CREATED_CONTACTS;return Object(w.c)(E.map(t=>{const s=_?[{id:t+"separator",listId:t,type:h.ac.CONTACTS_SEPARATOR}]:[],n=a(t).getItemIds().map(e=>({id:e,listId:t,type:h.ac.CONTACTS})),i=o(t);let c=n;if(p&&i>h.ic){c=[...n.slice(0,h.ic),{id:t+"loader",listId:t,type:h.ac.EXPAND_COLLAPSE_CONTACTS}];if(u&&!!d({streamId:e,listId:e,csid:t})){const e=i-n.length,s=e>0&&Object(w.e)(e)||[];c=[...c,...n.slice(h.ic).sort(r),...s.map(e=>({id:t+"loading"+e,listId:t,type:h.ac.LOADING_INDICATOR}))]}}return[...s,...c]}))},getCustomContactGroups:()=>{const e=s.getItemIdsSelectors,t=s.doesListExist,r=Object(x.k)(h.bc.GROUPS);return t(r)?e(r).getItemIds():[]},doesStreamExist:e=>s.getStreamsSelectors().doesStreamExist(e),getStreamSelectionType:e=>s.getStreamsSelectors().getSelectionType(e),getCursor:e=>(0,s.getStreamsSelectors().getCursorSelectors)(e).getCursor(),getCursorItem:e=>(0,s.getStreamsSelectors().getCursorSelectors)(e).getCursorItem(),hasSelectedStreamItems:e=>{const t=s.getStreamsSelectors().getSelectedItemsSelectors;return s.getStreamSelectionType(e)!==h.Hd.NONE||t(e).hasSelectedItems()},getSelectedStreamItems:e=>(0,s.getStreamsSelectors().getSelectedItemsSelectors)(e).getSelectedItems().filter(({id:e,listId:t})=>!!s.doesListItemExist(t,e)),isStreamItemSelected:(e,t)=>{const r=s.getStreamsSelectors().getSelectedItemsSelectors,n=s.getRoute();return(!Ui(n)||!ji(n))&&r(e).isItemSelected(t)},isMoveAllowed:(e,t)=>{const r=s.getAccountIdsOfSelectedItems,n=s.getMessageGroupStreamItems,a=s.getCurrentListId,o=(0,s.getFoldersSelectors)().getPrimaryFolderTypeByFolderId;if(t){const e=n(t);return!(!function(e){return e.every(e=>e.folderType===h.Mb.BULK)}(e)&&function(e){return e.every(e=>e.folderType===h.Mb.DRAFT)}(e))}const i=a(),c=r(e,i),l=Object(x.q)(i),d=l?o(l):null,E=Boolean(d);return 1===c.length&&!(E&&d===h.Mb.DRAFT)},getParticipantInFocus:()=>{const e=s.doesMessageGroupIdExist,t=s.getMessageIdsFromMessageGroupId,r=s.getStreamItemInFocus,n=s.getParticipant,a=s.getGroupId,o=(0,s.getMessagesSelectors)().doesMessageIdExist,i=r()||{},c=i.id||i.messageId,l=a();if(i&&o(c))return n(c);const d=e(l)?t(l):[],E=d[d.length-1];return o(E)?n(E):null},getImportantContactsSelectors:()=>t.importantContacts(e),getComposeSuggestionSelectors:()=>t.composeSuggestions(e),getRecentSearchesSelectors:()=>t.recentSearches(e),getBreakingNewsSelectors:()=>t.breakingNews(e),getSenderEmailIdsFromMessageGroup:e=>{const t={},r=s.getMyAddresses();return e.forEach(e=>{s.doesMessageGroupIdExist(e)&&s.getMessageIdsFromMessageGroupId(e).forEach(e=>{const n=s.getMessageFromAddress(e)[0];n&&n.email&&-1===r.indexOf(n.email)&&(t[n.email]=!0)})}),Object.keys(t)},getAdSectionIds:()=>{const e=s.getRoute,t=s.isFeatureEnabled,r=s.getSetting,n=s.getAction,a=s.getPrescribedNumberOfColumns,o=s.isMobileRoute,i=s.getSmartViewTypeFromRoute,c=(0,s.getAdsSelectors)(),l=c.getSponsoredMomentData,d=c.hasSponsoredMessageOnMessageList,E=n().type,_=e(),u=r(h.Kd.GEMINI_SECTION_IDS),p=r(h.Kd.PREFERRED_AD_FORMAT),m=o(_),S=2===a(),C=t(h.Eb.SPONSORED_MOMENT)&&l()&&p!==M.PENCIL_AD,g=i(_)===h.Ud.COUPONS,O=[],T=d();switch(E){case v.HIDE_RIGHT_PANE_ADS:if(t(h.Eb.RIGHT_RAIL_UPSELL_VIDEO_AD))return{[h.Nb.RIGHT_RAIL_UPSELL]:u[h.Nb.RIGHT_RAIL_UPSELL]}}if(g&&t(h.Eb.DEALS_SHOPPING_CART_AD)&&t(h.Eb.DEALS))return{[h.Nb.DEALS_SHOPPING_CART]:u[h.Nb.DEALS_SHOPPING_CART]};if(t(h.Eb.RR_AD_BLOCK_DPA_ADS))return{[h.Nb.RR_AD_BLOCK_DPA_ADS]:u[h.Nb.RR_AD_BLOCK_DPA_ADS]};switch(_.name){case h.rd.BASE:case h.rd.FOLDER:case h.rd.LIST:case h.rd.SEARCH:if(_.name===h.rd.LIST&&(!o(_)||Object(x.w)(Object(x.z)(_))!==h.ac.MESSAGES))break;if(C)O.push(h.Nb.MESSAGE_LIST_SM);else{if(t(h.Eb.NOBLE_HYBRID_AD))return T===h.Zd.SUCCESS||T===h.Zd.PENDING?{[h.Nb.MESSAGE_LIST]:u[h.Nb.MESSAGE_LIST],[h.Nb.MESSAGE_LIST_SPONSORED_MESSAGE]:u[h.Nb.MESSAGE_LIST_SPONSORED_MESSAGE],[h.Nb.MESSAGE_LIST_2]:u[h.Nb.MESSAGE_LIST_2]}:{[h.Nb.MESSAGE_LIST_CAROUSEL]:u[h.Nb.MESSAGE_LIST_CAROUSEL]};O.push(h.Nb.MESSAGE_LIST),t(h.Eb.MESSAGE_LIST_AD_CAROUSEL)||t(h.Eb.PORTRAIT_AD)?O.push(h.Nb.MESSAGE_LIST_CAROUSEL):t(h.Eb.SECOND_PENCIL_AD)&&(O.push(h.Nb.MESSAGE_LIST_2),u[h.Nb.MESSAGE_LIST_2_FALLBACK]&&O.push(h.Nb.MESSAGE_LIST_2_FALLBACK))}t(h.Eb.SHOPPING_CART_AD)?O.push(h.Nb.SHOPPING_CART):t(h.Eb.CROSS_DOMAIN_DPA_ADS)&&O.push(h.Nb.CROSS_DOMAIN_DPA_ADS);break;case h.rd.MESSAGE_FROM_FOLDER_LIST:case h.rd.MESSAGE_FROM_SEARCH_LIST:case h.rd.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST:case h.rd.MESSAGE_FROM_LIST:if(m&&S)if(C)O.push(h.Nb.MESSAGE_LIST_SM);else{if(t(h.Eb.NOBLE_HYBRID_AD))return T===h.Zd.SUCCESS||T===h.Zd.PENDING?{[h.Nb.MESSAGE_LIST]:u[h.Nb.MESSAGE_LIST],[h.Nb.MESSAGE_LIST_SPONSORED_MESSAGE]:u[h.Nb.MESSAGE_LIST_SPONSORED_MESSAGE],[h.Nb.MESSAGE_LIST_2]:u[h.Nb.MESSAGE_LIST_2],[h.Nb.MESSAGE_READ]:u[h.Nb.MESSAGE_READ]}:{[h.Nb.MESSAGE_LIST_CAROUSEL]:u[h.Nb.MESSAGE_LIST_CAROUSEL],[h.Nb.MESSAGE_READ]:u[h.Nb.MESSAGE_READ]};t(h.Eb.AD_PARTIALLY_ABOVE_FOLD)||O.push(h.Nb.MESSAGE_LIST),t(h.Eb.MESSAGE_LIST_AD_CAROUSEL)?O.push(h.Nb.MESSAGE_LIST_CAROUSEL):t(h.Eb.SECOND_PENCIL_AD)&&O.push(h.Nb.MESSAGE_LIST_2),O.push(h.Nb.MESSAGE_READ)}else t(h.Eb.SHOPPING_CART_AD)?O.push(h.Nb.SHOPPING_CART):t(h.Eb.CROSS_DOMAIN_DPA_ADS)&&O.push(h.Nb.CROSS_DOMAIN_DPA_ADS),C||O.push(h.Nb.MESSAGE_READ),t(h.Eb.SUBSCRIPTION_ADS)&&O.push(h.Nb.SUBSCRIPTION)}return O.reduce((e,t)=>(u[t]&&(e[t]=u[t]),e),{})},isPeopleMessage:(e,t)=>{const r=s.getMessagesSelectors,n=s.getRelevantMessageIdFromMessageGroupId;if(!(0,s.isPeopleSmartViewEnabled)())return!1;return!!(0,r().getDecos)(n(e,t)).find(({id:e})=>e===h.qb[h.Ud.PEOPLE])},isPeopleSmartViewEnabled(){const e=s.isFeatureEnabled,t=h.Eb.SMARTVIEW_CATEGORIES_PEOPLE,r=h.Eb.SMARTVIEW_CATEGORIES_PEOPLE_V2;return e(h.Eb.SMARTVIEW_CATEGORIES_ALL)||e(t)||e(r)},isMessageReadAdRotationActive:()=>{const e=s.getStreamItemInFocus,t=s.getEnvironmentSelectors,r=s.getRoute,n=s.doesStreamExist,a=s.getCursorItem,o=(0,s.getFeaturesSelectors)(),i=o.isEnabled,c=o.getSetting,l=t().isAppVisible(),d=i(h.Eb.MESSAGE_READ_AD_ROTATION),E=i(h.Eb.HIDE_RIGHT_RAIL),_=c(h.Kd.PREVIEW_PANE)!==h.ed.NO,u=r(),p=Object(x.z)(u),m=e(),S=!(!m||!m.listId)&&Object(x.w)(m.listId)===h.ac.MESSAGE;let C=u.name===h.rd.MESSAGE_FROM_SEARCH_LIST||u.name===h.rd.MESSAGE_FROM_FOLDER_LIST;if(_){const e=Object(K.a)([p]);C=!!(n(e)?a(e):null)}return d&&!E&&l&&C&&S},isComposeFocused:()=>{const e=s.getRouteName,t=(0,s.getStreamItemInFocus)()||{},r=t.folderType,n=t.listId,a=e();return a===h.rd.NEW_DRAFT||a===h.rd.EDIT_DRAFT||r===h.Mb.DRAFT||n&&Object(x.w)(n)===h.ac.COMPOSE},getVideoChannelsMetaData:()=>(0,s.getVideoPlayerSelectors)().getChannelMetaData(),getAutotagSuggestions(e){const t=s.getComposeSessionsSelectors().getLastAutotagQuery(e);return s.getComposeSuggestions(t).slice(0,3)},couldShowEmptyFolderVideo(){const e=s.getMainStreamListIds,t=s.listExistsAndIsEmpty,r=(0,s.getRoute)();return!e(r).some(e=>!(Object(x.w)(e)===h.ac.MESSAGES&&t(e)&&(r.name===h.rd.FOLDER||Object(x.Y)(e)&&!Object(W.f)(e)&&r.name!==h.rd.MESSAGE_FROM_SEARCH_LIST)&&!Object(x.X)(r)&&!Object(W.e)(e)&&Object(x.F)(e)!==h.cc.SUBSCRIPTIONS))},listExistsAndIsEmpty(e){const t=s.isListEmpty,r=s.doesListHasMoreItems;return(0,s.doesListExist)(e)&&t(e)&&!r(e)},hasMatchingDomainInMessageGroup:e=>(0,s.getSenderEmailIdsFromMessageGroup)([(0,s.getGroupId)()]).some(t=>!!e[Object(U.getRootDomainFromEmailAddress)(t)]),getActionableRightRailPane:()=>{const e=s.isFeatureEnabled,t=(0,s.getSetting)(h.Kd.ACTIONABLE_RIGHT_RAIL_CONTENT);switch(t&&t.currentView){case h.pd.CONTACTS_PANE:return e(h.Eb.CONTACTS_PANE_FEATURE)?h.qd.ContactsPane:null;case h.pd.MEMBERSHIP_REWARDS:return h.qd.MembershipRewards;case h.pd.CALENDAR_PANE:return h.qd.CalendarPane;default:return null}},getContextualRightRailPanes:()=>{const e=s.doesMessageGroupIdExist,t=s.isFeatureEnabled,r=s.isAttachmentRoute,n=s.isGroceriesOffersRoute,a=s.getContactListSelectors,o=s.getCurrentListId,i=s.getMessagesSelectors,c=s.getMessageIdsFromMessageGroupId,l=s.getGroupId,d=s.getSmartViewTypeFromRoute,E=s.getSubjectAndSnippetSelectors,_=s.getRoute,u=s.getPlaAdsSelectors,p=(0,s.isRRUpsellVideoAdTimestampValid)(),m=_(),S=l(),C=o(),g=E().getSubject;let O,T=[];const A=t(h.Eb.PLA_SEARCH_ADS)&&u().getPlaAdDataForCurrentRoute().ads.length>0;S&&e(S)&&(T=c(S));const I=i(),f=I.getDecos,D=I.getFromAddresses;let R=!1;if(T.length>0&&(0,I.doesMessageIdExist)(T[0])){var b;const e=f(T[0]),s=null===(b=D(T[0])[0])||void 0===b?void 0:b.email,r=(0,a().getContactByEmail)(s);R=t(h.Eb.XOBNI_PREFETCH)?null==r?void 0:r.isBusiness:!Object(Di.l)(e,h.Cc.PE)&&Object(Di.l)(e,[h.Cc.CPN,h.Cc.CRR,h.Cc.EVR,h.Cc.FDR,h.Cc.FLR,h.Cc.INV,h.Cc.LDG,h.Cc.ORD,h.Cc.PCS,h.Cc.PKG,h.Cc.SH,h.Cc.TNR,h.Cc.TR,h.Cc.TRR,h.Cc.TXR]);const n=g(T[0],C);O=/^Fw:.*$/.test(n)}if(r())return[h.qd.AttachmentUi];if(n())return[h.qd.RightPaneGroceriesList];if(t(h.Eb.HIDE_RIGHT_RAIL))return[];const N=[];if(m.name===h.rd.LIST&&Object(x.F)(Object(x.z)(m))===h.cc.SUBSCRIPTIONS&&N.push(h.qd.SubscriptionCard),!(N.indexOf(h.qd.SubscriptionCard)<0)||p&&m.name!==h.rd.SEARCH||!t(h.Eb.RIGHT_RAIL_CONTACT_CARD)&&!t(h.Eb.MESSAGE_READ_CONTACT_CARD)||t(h.Eb.SHOW_MERCHANT_CARD)&&R&&!O||N.push(h.qd.ContactCard),t(h.Eb.RIGHT_RAIL_MESSAGES_CARD)&&N.push(h.qd.MessageBrief),t(h.Eb.RIGHT_RAIL_PHOTO_CARD)&&N.push(h.qd.PhotoBrief),t(h.Eb.RIGHT_RAIL_DOCS_CARD)&&N.push(h.qd.DocumentBrief),t(h.Eb.DEALS)&&d(m)===h.Ud.COUPONS&&(N.push(h.qd.SavedDeals),N.push(h.qd.RetailerFilter)),t(h.Eb.DEALS_VIEW_FOR_INTLS)&&d(m)===h.Ud.COUPON_EMAILS&&N.push(h.qd.SavedDeals),!p){t(h.Eb.SUBSCRIPTION_ADS)&&N.push(h.qd.SubscriptionAds),t(h.Eb.RIGHT_RAIL_NATIVE_AD)&&N.push(h.qd.RightRailNativeAd),t(h.Eb.RELATED_SEARCHES_CARD)&&N.push(h.qd.RelatedSearchesCard),t(h.Eb.BOOKING_CARD)&&N.push(h.qd.TravelCardsGroup),A&&N.push(h.qd.PlaAds),t(h.Eb.SUBHUB_RECOMMENDATIONS)&&N.push(h.qd.SubhubRecommendations);t(h.Eb.ADS)&&!r()&&!t(h.Eb.RIGHT_RAIL_NATIVE_AD)&&!t(h.Eb.HIDE_RIGHT_RAIL)&&!t(h.Eb.RIGHT_RAIL_CONTACT_CARD)&&!t(h.Eb.RIGHT_RAIL_PHOTO_CARD)&&!t(h.Eb.RIGHT_RAIL_DOCS_CARD)&&!A&&!t(h.Eb.SUBHUB_RECOMMENDATIONS)&&d(m)!==h.Ud.COUPONS&&N.push(h.qd.RightPaneAds)}return N},getRightRailPanes:()=>{const e=s.getContextualRightRailPanes,t=(0,s.getActionableRightRailPane)();return t?[t]:e()},getPendingUpdate:()=>t.pendingUpdate(e).getPendingUpdate(),getDealsViewSelectors:()=>t.dealsView(e),getAccountIdsByFolderId:e=>e&&(0,s.doesFolderIdExist)(e)?Wi("getAccountIdsByFolderId",()=>e,[e=>e.getFoldersSelectors()],()=>{const t=s.getFoldersSelectors().getAccountIdByFolderId(e);return t?[t]:[""]})(s):[],getAccountIdsOfSelectedItems:(e,t)=>{const r=s.getSelectedStreamItems,n=s.getAccountIdFromMessageGroupId,a=[];if(!(0,s.doesStreamExist)(e))return a;return r(e).map(({id:e})=>e).reduce((e,s)=>(e.push(n(s,t)),e),a),_()(a)},getSelectedItems:e=>Wi("getSelectedItems",()=>e,[e=>e.getStreamsSelectors()],()=>{const t=s.getSelectedStreamItems;if(!(0,s.doesStreamExist)(e))return{};return t(e).reduce((e,{id:t})=>Mi({},e,{[t]:!0}),{})})(s),getListItems:e=>(0,s.doesListExist)(e)?Wi("getListItems",()=>e,[e=>e.getListsSelectors()],()=>{const t=s.getListItemIds,r=s.__patchV2MessageGroupItemId__,n=s.__patchV2AttachmentId__,a=Object(x.w)(e);return t(e).map(t=>{switch(a){case h.ac.MESSAGES:return r(t,e);case h.ac.DOCUMENTS:case h.ac.IMAGES:return n(t,e)}}).filter(e=>!e.messages||e.messages.length>0)})(s):[],getMessageGroupRoutes:e=>(0,s.doesListExist)(e)?Wi("getMessageGroupRoutes",()=>e,[e=>e.getListsSelectors(),e=>e.isFeatureEnabled(h.Eb.CONVERSATIONS)],()=>{const t=s.getListItems,r=(0,s.isFeatureEnabled)(h.Eb.CONVERSATIONS),n=Object(x.w)(e),a=t(e),o={};return a.forEach(t=>{const s=Object(V.q)({item:t,listId:e,isConversationMode:r});s&&(n===h.ac.MESSAGES?o[t.id]=s:o[t.attachment.id]=s)}),o})(s):{},getAllDraftsInRoute(e){const t=s.isDraftMessage,r=s.doesRouteContainDraft,n=s.doesMessageGroupIdExist,a=s.getMessageGroupStreamItems,o=(0,s.isFeatureEnabled)(h.Eb.CONVERSATIONS);if(Gi(e)||wi(e))return[e.params.csid];if(o&&ji(e)&&r(e)){const s=e.params.groupId,r=Object(x.z)(e);if(s&&n(s,r))return a({id:s,listId:r}).filter(({messageId:e})=>t(e)).map(({csid:e})=>e)}return[]},doesRouteContainDraft(e){const t=s.doesMessageGroupIdExist,r=s.getMainStreamListIds,n=s.doesStreamExist,a=s.getCursorItem,o=s.isDraftGroup,i=(0,s.getSetting)(h.Kd.PREVIEW_PANE)===h.ed.NO;if(Gi(e)||wi(e))return!0;if(i){if(ji(e)){const s=e.params.groupId;if(t(s)&&o(s))return!0}}else{const s=r(e),i=Object(K.a)(s);if(i&&n(i)){const e=a(i);if(e&&e.id){const s=e.id;if(t(s)&&o(s))return!0}}}return!1},doesCurrentRouteContainDraft:()=>(0,s.doesRouteContainDraft)((0,s.getRoute)()),getFormattedTopRetailers:()=>{const e=s.getContactListSelectors,t=(0,s.getDealsViewSelectors)().getTopRetailers()||[],r=e().getContactByEmail,n={};return t.map(({email:e,nameFromEmail:t})=>{const s=r(e);return{email:e,name:s?s.name:t}}).filter(({name:e})=>!n[e]&&(n[e]=!0)).sort((e,t)=>e.name.toLowerCase()===t.name.toLowerCase()?0:e.name.toLowerCase()<t.name.toLowerCase()?-1:1)},canDisplayBlockSenderMenuItemForMessageId:t=>{const s=Yi(e),r=s.getFoldersSelectors,n=s.getMessageFolderId,a=s.getMessagesSelectors,o=s.getParticipant,i=s.getAccountSelectors;if(!(0,s.getFeaturesSelectors)().isEnabled(h.Eb.BLOCK_SENDERS))return!1;const c=o(t);return!(!c||!Object(U.isValidEmail)(c.email)||a().isOfficialDomain(t)||r().getFolderTypes(n(t)).indexOf(h.Mb.SENT)>-1)&&-1===i().getMyAddresses().indexOf(c.email)},isRRUpsellVideoAdTimestampValid(){const e=s.getSetting,t=(0,s.isFeatureEnabled)(h.Eb.RIGHT_RAIL_UPSELL_VIDEO_AD),r=60*e(h.Kd.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION)*1e3;if(t&&Object(U.isLocalStorageAvailable)()){const e=window.localStorage.getItem(P.b);return e&&Date.now()-e<r}},getAllowedFolderNamesForMessageFilters:()=>{const e=s.getFolderFullName,t=s.getPrimaryAccountId,r=(0,s.getFoldersSelectors)(),n=r.getCustomFolderList,a=r.getSystemFolderList,o=t();return[...a(o),...n(o)].filter(({type:e})=>-1===[h.Mb.DRAFT,h.Mb.SENT,h.Mb.BULK].indexOf(e)).map(({id:t})=>e(t))},shouldNavigateSearchFromToAll:e=>{const t=s.isListEmpty,r=s.doesListExist,n=Object(x.z)(e);return n&&r(n)&&!Object(x.F)(n)&&Object(x.x)(n)===h.bc.FROM&&t(n)},getRecentlyUsedStateSelectors:()=>t.recentlyUsedState(e)};return s})},function(e,t,s){"use strict";s.d(t,"G",(function(){return o})),s.d(t,"o",(function(){return i})),s.d(t,"Jb",(function(){return l})),s.d(t,"q",(function(){return d})),s.d(t,"v",(function(){return _})),s.d(t,"Mb",(function(){return u})),s.d(t,"p",(function(){return p})),s.d(t,"J",(function(){return m})),s.d(t,"A",(function(){return h})),s.d(t,"Ib",(function(){return O})),s.d(t,"F",(function(){return A})),s.d(t,"z",(function(){return I})),s.d(t,"y",(function(){return f})),s.d(t,"H",(function(){return D})),s.d(t,"I",(function(){return R})),s.d(t,"K",(function(){return b})),s.d(t,"tb",(function(){return N})),s.d(t,"vb",(function(){return M})),s.d(t,"ub",(function(){return y})),s.d(t,"r",(function(){return P})),s.d(t,"N",(function(){return v})),s.d(t,"n",(function(){return F})),s.d(t,"m",(function(){return U})),s.d(t,"E",(function(){return w})),s.d(t,"D",(function(){return G})),s.d(t,"C",(function(){return H})),s.d(t,"B",(function(){return j})),s.d(t,"l",(function(){return k})),s.d(t,"k",(function(){return x})),s.d(t,"j",(function(){return B})),s.d(t,"i",(function(){return V})),s.d(t,"e",(function(){return W})),s.d(t,"d",(function(){return K})),s.d(t,"f",(function(){return q})),s.d(t,"g",(function(){return Y})),s.d(t,"h",(function(){return z})),s.d(t,"M",(function(){return Q})),s.d(t,"Db",(function(){return X})),s.d(t,"bb",(function(){return $})),s.d(t,"Y",(function(){return J})),s.d(t,"ab",(function(){return ee})),s.d(t,"Z",(function(){return te})),s.d(t,"S",(function(){return se})),s.d(t,"U",(function(){return re})),s.d(t,"T",(function(){return ne})),s.d(t,"V",(function(){return ae})),s.d(t,"X",(function(){return oe})),s.d(t,"W",(function(){return ie})),s.d(t,"R",(function(){return ce})),s.d(t,"P",(function(){return le})),s.d(t,"O",(function(){return de})),s.d(t,"Q",(function(){return Ee})),s.d(t,"cb",(function(){return _e})),s.d(t,"db",(function(){return ue})),s.d(t,"Kb",(function(){return pe})),s.d(t,"ob",(function(){return me})),s.d(t,"pb",(function(){return Se})),s.d(t,"nb",(function(){return he})),s.d(t,"kb",(function(){return Ce})),s.d(t,"lb",(function(){return ge})),s.d(t,"mb",(function(){return Oe})),s.d(t,"qb",(function(){return Te})),s.d(t,"rb",(function(){return Ae})),s.d(t,"sb",(function(){return Ie})),s.d(t,"jb",(function(){return fe})),s.d(t,"L",(function(){return De})),s.d(t,"hb",(function(){return Re})),s.d(t,"ib",(function(){return be})),s.d(t,"gb",(function(){return Ne})),s.d(t,"x",(function(){return Me})),s.d(t,"Cb",(function(){return ye})),s.d(t,"t",(function(){return Le})),s.d(t,"s",(function(){return Pe})),s.d(t,"fb",(function(){return ve})),s.d(t,"Lb",(function(){return Fe})),s.d(t,"Pb",(function(){return Ue})),s.d(t,"Hb",(function(){return we})),s.d(t,"Eb",(function(){return Ge})),s.d(t,"Fb",(function(){return He})),s.d(t,"Gb",(function(){return je})),s.d(t,"c",(function(){return ke})),s.d(t,"eb",(function(){return xe})),s.d(t,"Nb",(function(){return Be})),s.d(t,"wb",(function(){return Ve})),s.d(t,"a",(function(){return We})),s.d(t,"b",(function(){return Ke})),s.d(t,"zb",(function(){return qe})),s.d(t,"yb",(function(){return Ye})),s.d(t,"w",(function(){return ze})),s.d(t,"u",(function(){return Qe})),s.d(t,"xb",(function(){return Ze})),s.d(t,"Bb",(function(){return Xe})),s.d(t,"Ab",(function(){return $e})),s.d(t,"Sb",(function(){return Je})),s.d(t,"Qb",(function(){return et})),s.d(t,"Rb",(function(){return tt})),s.d(t,"Ob",(function(){return st}));var r=s(52),n=s.n(r);var a=s(23);const o=4,i=n.a.ycolorBlue10a,c=n.a.ycolorBlue10a,l="transparent",d=n.a.ycolorBlue10a,E=n.a.ycolorSalmon3b,_=(Object(a.a)(E,.1),"#12a9ff"),u="#fff",p=n.a.ycolorGrayA,m="#5b636a",S=n.a.ycolorGrayD,h=n.a.ycolorGrayE,C=n.a.ycolorPurple14a,g=n.a.ycolorGrayF,O=n.a.ycolorGrayG,T=n.a.ycolorOrange4a,A=n.a.ycolorGrayH,I=n.a.ycolorGrayI,f="rgba(255, 255, 255, .6)",D="#7282fb",R="#7934f7",b=(Object(a.a)("#FFFFFF",.5),Object(a.a)("#FFFFFF",.3),"rgba(24,143,255, 0.08)"),N=n.a.ycolorBlue10a,M=u,y=n.a.ycolorGrayG,L=n.a.ycolorBlue10b,P="bold",v=500,F='YahooSans, "Helvetica Neue", "Segoe UI", Helvetica, Arial, sans-serif',U="13px",w="11px",G="13px",H="15px",j="17px",k=20,x=32,B=96,V=28,W=40,K=24,q=42,Y=44,z=60,Q={NORMAL:p,FIRST_LEVEL_GRAY:h,FIRST_LEVEL_ORANGE:T,NORMAL_LESS_DIM:"rgba(38, 40, 42, 0.8)",IMPROVED_GRAY_DARK:m,INVERTED:u,INVERTED_MORE_DIM:"rgba(255, 255, 255, 0.3)",INVERTED_DIM:"rgba(255, 255, 255, 0.5)",INVERTED_LESS_DIM:"rgba(255, 255, 255, 0.8)",SELECTED:c,PRIMARY_HOVER:L,SELECTED_DARK_THEME_MODE:_,DISABLED:g,STARRED:n.a.ycolorOrange4a,STARRED_DARK:n.a.ycolorYellow5c,SMARTVIEW_DARK:"rgba(255, 255, 255, .6)",LESS_IMPORTANT:S,SECOND_LEVEL_GRAY:g,THIRD_LEVEL_GRAY:O,FAINT:n.a.ycolorGrayH,COOL_FAINT:n.a.ycolorGrayFg,ADVISORY:n.a.ycolorYellow5c,WARNING:n.a.ycolorPink1a,HEADING:"#775eec",HOVER_BGCOLOR:"rgba(24, 143, 255, 0.08)",ICON_HOVER_BGCOLOR:"rgba(24, 143, 255, 0.15)",ACTIVE_BGCOLOR:"rgba(185, 189, 197, 0.3)",YBADGE:n.a.ycolorPurple14c,YBANG:n.a.ycolorPurple14b,GREEN:n.a.ycolorGreen6b,PURPLE:C,TOUCH_PRIMARY:n.a.ycolorBlue10a,Attachments:{MEDIA:n.a.ycolorFuchsia18a,CAL:n.a.ycolorFuchsia18a,EXCEL:n.a.ycolorGreen6b,DOC:n.a.ycolorBlue10b,SLIDE:n.a.ycolorOrange4c,PDF:n.a.ycolorOrange4c,GENERIC:n.a.ycolorBlue10a,COMPRESSED:n.a.ycolorTurquoise8b},SmartViews:{PEOPLE:n.a.ycolorYellow5c,SHOPPING:"#EF5483"},SocialIcons:{FACEBOOK:"#3B5998",LINKEDIN:"#0077B5",TWITTER:"#1DA1F2"}},Z=6,X={LOW:`0 0 ${3}px rgba(0, 0, 0, .3)`,MED:`0 0 ${Z}px rgba(0, 0, 0, .3)`,HIGH:`0 0 ${10}px rgba(0, 0, 0, .3)`,BLACK_MED:`0 0 ${Z}px rgb(0, 0, 0)`},$=13*o,J=8*o,ee=6*o,te=11*o,se=14*o,re=12*o,ne=15*o,ae=18*o,oe=16*o,ie=20*o,ce=12*o,le=18*o,de=3.25*le,Ee=2*(12*o),_e=15*o,ue=20*o,pe=34*o,me=32,Se=30,he=180,Ce=180,ge=32,Oe=45,Te=285,Ae=490,Ie=180,fe=180,De=8*o,Re=150,be=Re+8,Ne=92,Me=16*o,ye=18.75*o,Le=34*o,Pe=44.5*o,ve=n.a,Fe={APP_HEADER_MAIL_APPS:0,APP_HEADER_ACCOUNT_MENU:0,APP_HEADER_SEARCHBOX:10,FOLDER_LIST:20,MESSAGE_LIST_TOOLBAR:30,MESSAGE_LIST_MAIN:40,MESSAGE_GROUP_HEADER:50,SEGMENTED_CONTROL_FILTERS:60,ATTACHMENT_PREVIEW:70,ATTACHMENT_PREVIEW_TOOLBAR:80,COMMS_PROPERTIES_BAR:90,FOLDER_SELECTION_MENU:100},Ue={CURSOR:11e3,MODAL:1e4,POPOVER:{LOW:100,MEDIUM:500,HIGH:900},OVERLAY:9e3,NOTIFICATION:9100,NOTIFICATION_FROM_MODAL:10100,PERSISTENT_NOTIFICATION:90,TIMECHUNK:10},we=108,Ge=144,He=28,je=250,ke=1280,xe=1360,Be=1600,Ve={S:"88px",L:"160px"},We=192,Ke=332,qe="332px",Ye=We+"px",ze=29*o,Qe=9*o,Ze=9*o,Xe=11*o,$e="#2A211E",Je={display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",bottom:4*o+"px",right:0,height:8*o+"px",width:8*o+"px",marginRight:"16px",backgroundColor:Object(a.a)("#000",.7),borderRadius:"2px",cursor:"pointer",zIndex:2},et={display:"inline-block",width:"24px",height:"24px",fill:Q.NORMAL,"pointer-events":"none",flexShrink:0,WebkitTapHighlightColor:l},tt={display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},st=21*o},,,function(e,t,s){"use strict";s.d(t,"a",(function(){return M})),s.d(t,"C",(function(){return L})),s.d(t,"D",(function(){return v})),s.d(t,"F",(function(){return F})),s.d(t,"z",(function(){return U})),s.d(t,"t",(function(){return G})),s.d(t,"l",(function(){return H})),s.d(t,"n",(function(){return j})),s.d(t,"p",(function(){return k})),s.d(t,"o",(function(){return x})),s.d(t,"r",(function(){return B})),s.d(t,"j",(function(){return V})),s.d(t,"q",(function(){return W})),s.d(t,"d",(function(){return K})),s.d(t,"e",(function(){return q})),s.d(t,"u",(function(){return Y})),s.d(t,"A",(function(){return z})),s.d(t,"x",(function(){return Q})),s.d(t,"m",(function(){return Z})),s.d(t,"k",(function(){return X})),s.d(t,"v",(function(){return $})),s.d(t,"y",(function(){return J})),s.d(t,"w",(function(){return ee})),s.d(t,"i",(function(){return te})),s.d(t,"s",(function(){return se})),s.d(t,"g",(function(){return re})),s.d(t,"h",(function(){return ne})),s.d(t,"b",(function(){return ae})),s.d(t,"c",(function(){return oe})),s.d(t,"f",(function(){return ie})),s.d(t,"B",(function(){return ce})),s.d(t,"E",(function(){return le}));var r=s(33),n=s.n(r),a=s(3),o=s.n(a),i=s(30),c=s.n(i),l=s(298),d=s.n(l),E=s(238),_=s.n(E),u=s(60),p=s.n(u),m=s(305),S=s.n(m),h=s(53),C=s.n(h),g=s(191),O=s(19),T=s(0),A=s(224),I=s(8),f=s(66),D=s(92),R=s(76);function b(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function N(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const M="!";function y(e){const t=[],s=S()(e,t);return{match:e=>{const r=s.exec(e);if(!r)return null;const n=r.slice(1);return t.reduce((e,t,s)=>n[s]?N({},e,{[t.name]:decodeURIComponent(n[s])}):e,{})},stringify:S.a.compile(e)}}const L=d()(({routesConfig:e})=>e.map(e=>{const t=e.path;return Object(O.a)(!!e.name&&!!t,"config.routes should be in this format [{route.name: routePattern}] => "+JSON.stringify(e)),N({},e,{pattern:y(t)})}),({appName:e})=>e);function P(e,t={}){const s=Object(g.parse)(e),r=s.pathname,n=s.query,a=N({},t,{},n?C.a.parse(n):void 0),o=C.a.stringify(a);return o?r+"?"+o:r}function v(e,t,s){const r=N({},s,{},t.query),n=e.find(e=>e.name===t.name);if(!n)return{name:T.rd.NOT_FOUND,params:{},query:{},url:""};const a=n.pattern.stringify(t.params||{},{pretty:!0});return N({},t,{params:t.params||{},query:r,url:P(a,r)||""})}const F=(e,t)=>e===t||(null==e?void 0:e.name)===(null==t?void 0:t.name)&&c()(null==e?void 0:e.params,null==t?void 0:t.params)&&c()(null==e?void 0:e.query,null==t?void 0:t.query);function U({brandId:e,accountId:t,listIds:s,fromNames:r,fromEmails:n}){const a=Object(R.b)(T.Ud.SUBSCRIPTION_DETAIL,{brandId:e,accountIds:[t],listIds:p()(s),fromNames:p()(r),emailAddresses:p()(n),excludefolders:[T.Mb.TRASH,T.Mb.BULK]}),o=Object(I.ib)(Object(I.d)(a));return{name:T.rd.LIST,params:{serializedListId:o},query:{}}}const w=e=>({name:T.rd.LIST,params:{serializedListId:Object(I.ib)(e)},query:{}});function G(e,t={}){const s=Object(I.gb)(e,t);if(Object(I.R)(s)||Object(I.H)(s))return w(s);const r=Object(I.ib)(s);return r?{name:T.rd.SEARCH,params:{query:r},query:{}}:null}function H(e,t={}){const s=Object(I.gb)(e,t),r=Object(I.hb)(s);return r?{name:T.rd.FOLDER,params:{fid:r},query:{}}:null}function j(e,t={}){return Object(I.F)(e)===T.cc.SUBSCRIPTIONS?w(e):Object(I.V)(e)?G(e,t):H(e,t)}function k(e,t,s={}){return Object(I.R)(e)||Object(I.H)(e)||Object(I.F)(e)===T.cc.SUBSCRIPTIONS?{name:T.rd.MESSAGE_FROM_LIST,params:Object.assign({serializedListId:Object(I.ib)(e),groupId:t}),query:s}:Object(I.V)(e)?{name:T.rd.MESSAGE_FROM_SEARCH_LIST,params:Object.assign({query:Object(I.ib)(e),groupId:t}),query:s}:{name:T.rd.MESSAGE_FROM_FOLDER_LIST,params:Object.assign({fid:Object(I.hb)(e),groupId:t}),query:s}}function x({attachment:e,listId:t,isConversationMode:s}){const r=s?e.conversationId:e.id&&Object(f.f)(e.id);return r?{name:T.rd.MESSAGE_FROM_SEARCH_LIST,params:{groupId:r,query:Object(I.ib)(t)},query:{}}:null}function B({groupId:e,listId:t}){return e?{name:T.rd.MESSAGE_FROM_SEARCH_LIST,params:{groupId:e,query:Object(I.ib)(t)},query:{}}:null}function V(e,t,s={}){return{name:T.rd.EDIT_DRAFT,params:{csid:t,serializedListId:Object(I.hb)(e)},query:s}}function W({item:e,listId:t,isConversationMode:s}){if(Object(I.w)(t)===T.ac.MESSAGES){if(Array.isArray(e.messages)&&1===e.messages.length&&Object(D.d)(e))return V(t,e.messages[0].csid);const r=Object(I.V)(t),n=Object(I.hb)(t),a=e.messages&&e.messages[0],o=r&&s?null==a?void 0:a.conversationId:e.id;return o&&n?k(t,o):null}return x({attachment:e.attachment,listId:t,isConversationMode:s})}function K(e,t,s,r={},n){const a=Object(I.hb)(e);if(Object(I.V)(e))return{name:T.rd.MESSAGE_FROM_SEARCH_LIST,params:Object.assign({query:a,groupId:t,attachmentId:s}),query:r};const o={fid:a,groupId:t,attachmentId:s};return n&&(o.csid=n),{name:T.rd.MESSAGE_FROM_FOLDER_LIST,params:o,query:r}}function q(e,t,s={}){return N({},e,{params:N({},e.params,{attachmentId:t}),query:N({},e.query,{},s)})}function Y(e){return G(Object(I.d)(e))}function z(e){const t=Object(I.d)({accountIds:[e]}),s=Object(I.ib)(t);return{name:T.rd.SUBSCRIPTION_LIST,params:{query:s},query:{}}}function Q(e,t={}){if(e===T.Ud.TUTORIAL)return function(){return{name:T.rd.TUTORIAL,params:{},query:{}}}();if(e===T.Ud.SUBSCRIPTIONS){const e=t.accountIds,s=Array.isArray(e)?e[0]:e;return s?z(s):null}return Y(Object(R.b)(e,t))}function Z(e,t){const s={listContentType:T.ac.OFFER_CARDS,referrer:T.cc[T.Ud.GROCERIES],listFilter:T.bc.RECOMMENDED_OFFER_CARDS,name:e,keyword:t},r=Object(I.gb)(Object(I.d)(s));return w(r)}const X=(e,t)=>H(Object(I.y)(e,t)),$=(e,t)=>H(Object(I.y)(e,t),{listContentType:T.ac.SENDERS}),J=(e,t)=>({name:T.rd.SPONSORED_MESSAGE,params:{fid:Object(I.hb)(e),creativeId:t},query:{}});function ee(e={},t){return{name:T.rd.SETTINGS,params:e,query:t||{}}}function te(e={}){return{name:T.rd.CONTACTS,params:{},query:e}}function se(e={}){return{name:T.rd.REWARDS,params:e,query:{}}}function re(e={}){return{name:T.rd.CONTACT_DETAILS,params:e,query:{}}}function ne(e,t){return{name:T.rd.CONTACT_DETAILS_FROM_SEARCH,params:{query:Object(I.ib)(e),id:t},query:{}}}function ae(e={}){return{name:T.rd.ACCOUNT_LIST_FROM_SETTINGS,params:e,query:{}}}function oe(e={}){return{name:T.rd.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST,params:e,query:{}}}function ie(e,t={},s){return N({name:T.rd.NEW_DRAFT,params:{csid:e},query:t},s?{referrerRoute:s}:void 0)}function ce(e,t){const s=!t||t!==T.B.BASIC_MAIL_APP&&t!==T.B.BASIC_MOBILE_APP?T.Ab:A.a;return Object.keys(e.query||{}).filter(e=>-1===s.indexOf(e)).reduce((t,s)=>N({},t,{[s]:e.query[s]}),{})}function le(e=[],t=(()=>!0)){const s=_()(e,e=>t(e)),r=n()(s,2);return[...r[0],...r[1]]}},function(e,t,s){"use strict";s.d(t,"c",(function(){return r})),s.d(t,"f",(function(){return n})),s.d(t,"b",(function(){return a})),s.d(t,"i",(function(){return o})),s.d(t,"h",(function(){return i})),s.d(t,"g",(function(){return c})),s.d(t,"d",(function(){return l})),s.d(t,"a",(function(){return d})),s.d(t,"e",(function(){return E}));const r={S:6,M:12,L:24},n=.95;let a,o,i,c,l;!function(e){e.S="S",e.M="M",e.L="L"}(a||(a={})),function(e){e.MOUNT="MOUNT",e.HOVER="HOVER",e.CLICK="CLICK",e.RIGHTCLICK="RIGHTCLICK",e.ASYMMETRIC="ASYMMETRIC"}(o||(o={})),function(e){e.UP="UP",e.DOWN="DOWN",e.START="START",e.END="END",e.ANY="ANY"}(i||(i={})),function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL"}(c||(c={})),function(e){e.DEFAULT="DEFAULT",e.DARK="DARK",e.GRADIENT="GRADIENT",e.LIGHTGRAY="LIGHTGRAY",e.OVERLAY="OVERLAY",e.NEON_BLUE="NEON_BLUE"}(l||(l={}));let d,E;!function(e){e.CENTER="CENTER",e.START="START",e.END="END",e.ANY="ANY"}(d||(d={})),function(e){e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MOBILE_DEFAULT="MOBILE_DEFAULT"}(E||(E={}))},function(e,t,s){"use strict";s.r(t),s.d(t,"NOOP",(function(){return O})),s.d(t,"generateUID",(function(){return I})),s.d(t,"generateRandomInteger",(function(){return f})),s.d(t,"generateRandomStringWithLength",(function(){return D})),s.d(t,"destructEmailAddressParts",(function(){return R})),s.d(t,"validateLocalPart",(function(){return b})),s.d(t,"validateDomainPart",(function(){return N})),s.d(t,"isValidEmail",(function(){return M})),s.d(t,"isVerizonMediaEmail",(function(){return y})),s.d(t,"isValidFolderName",(function(){return L})),s.d(t,"isValidFolderPrefix",(function(){return P})),s.d(t,"getInteractionFromEvent",(function(){return v})),s.d(t,"getAppContainerId",(function(){return F})),s.d(t,"transformSimpleBody",(function(){return U})),s.d(t,"getHash",(function(){return G})),s.d(t,"nothing",(function(){return H})),s.d(t,"isInvalid",(function(){return j})),s.d(t,"box",(function(){return B})),s.d(t,"getQueryParamByName",(function(){return V})),s.d(t,"getRootDomainFromEmailAddress",(function(){return W})),s.d(t,"compareObjectsWithKeys",(function(){return K})),s.d(t,"isLocalStorageAvailable",(function(){return q})),s.d(t,"composeContactsInfo",(function(){return Y})),s.d(t,"getComparableValue",(function(){return z})),s.d(t,"getDisplayName",(function(){return Q})),s.d(t,"getAppInfoFromUrl",(function(){return Z})),s.d(t,"sanitizeData",(function(){return X}));var r=s(0),n=s(5),a=s(19),o=s(9),i=s(53),c=s.n(i),l=s(30),d=s.n(l),E=s(654),_=s.n(E),u=s(48),p=s(223),m=s(193),S=s(129),h=s.n(S),C=s(214),g=s(155);const O=()=>{},T=/^[^\\\/%]+$/,A=[r.rd.NEW_DRAFT,r.rd.EDIT_DRAFT,r.rd.FOLDER,r.rd.SEARCH,r.rd.MESSAGE_FROM_FOLDER_LIST,r.rd.MESSAGE_FROM_SEARCH_LIST,r.rd.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST];function I(){var e=(Date.now()+Math.floor(1e9*Math.random())).toString();return e.substr(e.length-10)}function f({min:e=0,max:t=0,randomSeed:s=Math.random()}){return Math.floor(s*(t-e)+e)}function D({min:e=0,max:t=0}){const s=f({min:e,max:t}),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let e=0;e<s;e++)n+=r.charAt(Math.floor(Math.random()*r.length));return n}const R=p.a,b=p.e,N=p.d,M=p.b,y=p.c;function L(e){return void 0!==e&&T.test(e.trim())}function P(e){if(!e)return""===e;return _()(e.split("/")).every(e=>L(e))}function v(e){return Object(a.a)(e,"event object is required"),e.key===r.Wb.ENTER?n.e.nav:"keydown"===e.type?n.e.shortcut:n.e.click}function F(e){return Object(o.b)(e||{},"container.id","app-container")}function U(e){const t=e.htmlAnnotations.map(e=>(e.divIds||(e.divIds=e.divids,delete e.divids),e)),s=e.amp,r={html:e.html,htmlAnnotations:t};return s&&(r.amp=s),r}function w(e){let t,s,r,n,a=new Array(256),o=0,i=-1;const c=e.length;for(n=0;256!==n;++n)t=n,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,a[n]=t;for(a="undefined"!=typeof Int32Array?new Int32Array(a):a,o=0;o<c;)t=e.charCodeAt(o++),t<128?i=i>>>8^a[255&(i^t)]:t<2048?(i=i>>>8^a[255&(i^(192|t>>6&31))],i=i>>>8^a[255&(i^(128|63&t))]):t>=55296&&t<53248?(t=64+(1023&t),r=1023&e.charCodeAt(o++),i=i>>>8^a[255&(i^(240|t>>8&7))],i=i>>>8^a[255&(i^(128|t>>2&63))],i=i>>>8^a[255&(i^(128|r>>6&15|3&t))],i=i>>>8^a[255&(i^(128|63&r))]):(i=i>>>8^a[255&(i^(224|t>>12&15))],i=i>>>8^a[255&(i^(128|t>>6&63))],i=i>>>8^a[255&(i^(128|63&t))]);return s=-1^i,s=new Uint32Array([s])[0].toString(16),s}function G(){let e="";for(let t=0;t<arguments.length;t++)e+=JSON.stringify(arguments[t]);return w(e)}const H=Object.freeze({isNotNothing:()=>!1,isNothing:()=>!0,chain:()=>H,checkIf:()=>H,checkIfNot:()=>H,unbox:(e,t=(()=>O))=>t(),debug:()=>(console.log("Box:[NOTHING]"),H)});function j(e){return null==e||"number"==typeof e&&isNaN(e)||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length||e===H}function k(e){return!1===e||j(e)}const x=e=>e;function B(e){return j(e)?H:{checkIf:(t,s=x)=>k(t(e))?H:B(s(e)),checkIfNot:(t,s=x)=>k(t(e))?B(s(e)):H,isNotNothing:()=>!0,isNothing:()=>!1,chain:t=>B(t(e)),unbox:(t=(()=>e))=>t(e),debug:(t=x)=>(console.log("Box:[",JSON.stringify(t(e),null,2),"]"),B(e))}}function V(e,t){return c.a.parse(e)[t]||null}function W(e){if(!e)return null;const t=R(e).domainPart;let s=t.split(".").slice(-2).join(".");return-1!==["co.uk","co.in","com.hk","com.tw"].indexOf(s)&&(s=t.split(".").slice(-3).join(".")),s}function K(e,t,s=[]){if(!s.length)return d()(e,t);for(const r of s)if(!d()(e[r],t[r]))return!1;return!0}function q(){try{const e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function Y(e){const t=e.doesComposeSessionExist,s=e.getComposeHeaderFocus,n=e.getMainStreamListIds,a=e.getCursorItem,o=e.doesStreamExist,i=e.getMessageGroupStreamItems,c=e.getStreamItemInFocus,l=(0,e.getRoute)();let d=l.params.csid;const E=l.name;if(!d){const e=Object(u.a)(n(l)),t=o(e)?a(e):void 0;if(t){const e=c();if(e){const s=i(t).find(t=>t.folderType===r.Mb.DRAFT&&(t.csid===e.csid||t.csid===e.id));d=s?s.csid:void 0}}}const _=t(d);return{csid:d,isCompose:A.includes(E)&&_,inputFocus:_?s(d):{}}}function z(e,t){const s=t.firstName,n=t.middleName,a=t.lastName,o=t.name,i=t.emails,c=void 0===i?[]:i;return e===r.cb.FIRST_NAME?s&&s.toUpperCase()||n&&n.toUpperCase()||a&&a.toUpperCase()||o&&o.toUpperCase()||c[0]&&c[0].toUpperCase()||void 0:a&&a.toUpperCase()||s&&s.toUpperCase()||n&&n.toUpperCase()||o&&o.toUpperCase()||c[0]&&c[0].toUpperCase()||void 0}function Q({firstName:e="",middleName:t="",lastName:s="",name:n=""},a){return a!==r.cb.FIRST_NAME&&(e||t||s)?s?t||e?`${`${s}, ${e}`.trim()} ${t}`.trim():s:`${e} ${t}`.trim():n}function Z(e,t){const s=Object(m.a)(t&&t.name);let n=s.NORRIN_APP_ID,a=r.B.MAIL_APP;return 0===e.indexOf(r.uc+"/test/")?(n=s.NOBLE_APP_ID,a=r.B.MOBILE_APP+"_TEST"):0===e.indexOf(r.uc+"/")?(n=s.NOBLE_APP_ID,a=r.B.MOBILE_APP):0===e.indexOf(r.mb+"/test/")?a=r.B.MAIL_APP+"_TEST":0===e.indexOf(r.mb)?a=r.B.MAIL_APP:0===e.indexOf(r.H+"/test/")?(n=s.BASIC_MOBILE_APP_ID,a=r.B.BASIC_MOBILE_APP+"_TEST"):0===e.indexOf(r.H)?(n=s.BASIC_MOBILE_APP_ID,a=r.B.BASIC_MOBILE_APP):0===e.indexOf(r.G+"/test/")?(n=s.BASIC_MAIL_APP_ID,a=r.B.BASIC_MAIL_APP+"_TEST"):0===e.indexOf(r.G)&&(n=s.BASIC_MAIL_APP_ID,a=r.B.BASIC_MAIL_APP),{appId:n,appName:a}}const X=e=>Object(C.b)(Object(g.purifyToHTML)(h()(e||"")))},function(e,t,s){"use strict";s.d(t,"a",(function(){return C}));var r=s(27),n=s.n(r),a=s(34),o=s.n(a),i=s(3),c=s.n(i),l=(s(7),s(1)),d=s.n(l),E=s(663),_=s.n(E),u=s(12),p=s.n(u),m=s(4);s(9);const S={ADD:d.a.createElement("path",{d:"M13.75 9.25h-3v-3c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3h-3c-.414 0-.75.336-.75.75s.336.75.75.75h3v3c0 .414.336.75.75.75s.75-.336.75-.75v-3h3c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),ADDATTACHMENT:d.a.createElement("path",{d:"M13.334 9.166h-2.5v-2.5c0-.46-.374-.834-.834-.834s-.834.374-.834.834v2.5h-2.5c-.46 0-.834.374-.834.834 0 .46.374.834.834.834h2.5v2.5c0 .46.372.834.834.834s.834-.372.834-.834v-2.5h2.5c.46 0 .834-.372.834-.834s-.374-.834-.834-.834zM10 .834C4.938.834.834 4.938.834 10S4.938 19.166 10 19.166s9.166-4.104 9.166-9.166S15.062.834 10 .834zM10 17.5c-4.143 0-7.5-3.358-7.5-7.5 0-4.143 3.357-7.5 7.5-7.5s7.5 3.357 7.5 7.5c0 4.142-3.357 7.5-7.5 7.5z"}),ALIGN_CENTER:d.a.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM6 7c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1H6zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM14 15H6c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),ALIGN_LEFT:d.a.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM4 9h8c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM12 15H4c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),AOL_OFFICIAL:d.a.createElement("path",{d:"M18.2 13.7C16.8 16.8 13.7 19 10 19s-6.9-2.2-8.3-5.6h.8l.4-1h2.4l.4 1h2l-2.8-7H3.4L1.2 12c-.1-.7-.2-1.4-.2-2 0-5 4-9 9-9s9 4 9 9c0 .6-.1 1.2-.2 1.8-.2-.2-.5-.3-.7-.3-.6 0-1.1.5-1.1 1.1s.5 1.1 1.2 1.1c-.1 0-.1 0 0 0zm-3.6-.2h1.6V6.3h-1.6v7.2zM10.7 8c-2 0-2.8 1.6-2.8 2.8s.9 2.8 2.8 2.8 2.8-1.6 2.8-2.8c0-1.3-1-2.8-2.8-2.8zm0 4.1c-.7 0-1.3-.6-1.3-1.4 0-.8.6-1.4 1.3-1.4s1.3.7 1.3 1.4c0 .9-.6 1.4-1.3 1.4zM3.3 11l.8-2.4.8 2.4H3.3z"}),APP_HIDDEN:d.a.createElement("path",{d:"M15.9 6.2c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1C6.2 2.9 5.3 2 4.1 2 2.9 2 2 2.9 2 4.1c0 1.2.9 2.1 2.1 2.1zm11.8 5.9c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1C2.9 7.9 2 8.8 2 10c0 1.2.9 2.1 2.1 2.1zM15.9 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zM10 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1z"}),ARCHIVE:d.a.createElement("path",{d:"M17.25 7H11.767v.75c0 .966-.784 1.75-1.75 1.75s-1.75-.784-1.75-1.75V7H2.75c-.414 0-.75.336-.75.75v8.5c0 .414.336.75.75.75h14.5c.414 0 .75-.336.75-.75v-8.5c0-.414-.336-.75-.75-.75zM3 5h14c.552 0 1-.448 1-1s-.448-1-1-1H3c-.552 0-1 .448-1 1s.448 1 1 1z"}),ARROW_RIGHT_DOC:d.a.createElement("path",{d:"M7.252 17.785L14.72 10 7.25 2.214c-.285-.287-.748-.287-1.035 0-.287.285-.287.75 0 1.035l6.34 6.75-6.34 6.75c-.286.285-.286.748 0 1.035.287.287.75.287 1.037 0"}),ARROW_UP:d.a.createElement("path",{d:"M14.8 8.5l-5-5-5 5c-.3.3-.3.8 0 1.1s.8.3 1.1 0L9 6.4v9.4c0 .4.3.8.8.8s.8-.3.8-.8V6.4l3.2 3.2c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.8 0-1.1z"}),ATTACH:d.a.createElement("path",{d:"M16.7 16.5c-1.7 1.7-4.4 1.7-6.1 0l-3.9-3.9c-1-1-1.1-2.7 0-3.9 1.1-1.1 2.8-1.1 3.9 0l3.6 3.6c.3.3.3.8 0 1.1s-.8.3-1.1 0L9.6 9.9c-.5-.5-1.2-.5-1.7 0s-.5 1.2 0 1.7l4.1 4.1s1.8 1.5 3.6-.3c1.1-1.1 1.1-2.8 0-3.9L8.4 4.4c-1.1-1.1-2.8-1.1-3.9 0-2.1 2.1.4 4.1.4 4.1.3.3.3.8 0 1.1s-.8.3-1.1 0c0 0-3.8-2.9-.3-6.4 1.7-1.7 4.4-1.7 6.1 0l7.2 7.2c1.6 1.7 1.6 4.5-.1 6.1"}),ATTACHMENT:d.a.createElement("path",{d:"M15.6 14.4c-1.3 1.3-3.3 1.3-4.6 0l-2.9-2.9c-.8-.8-.8-2.1 0-2.9.8-.8 2.1-.8 2.9 0l2.7 2.7c.2.2.2.6 0 .8s-.6.2-.8 0l-2.7-2.7c-.3-.3-.9-.3-1.2 0s-.3.9 0 1.2l3.1 3.1s1.4 1.1 2.7-.2c.8-.8.8-2.1 0-2.9L9.3 5.3c-.8-.8-2.1-.8-2.9 0-1.6 1.6.2 3.1.2 3.1.2.2.2.6 0 .8s-.6.2-.8 0c0 0-2.8-2.2-.2-4.8 1.3-1.3 3.3-1.3 4.6 0l5.4 5.4c1.2 1.3 1.2 3.3 0 4.6"}),ATTACH_CAL:d.a.createElement("path",{d:"M16.36 4H14V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H7V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H3.64c-.35 0-.64.28-.64.64v10.73c0 .35.29.63.64.63h12.73c.35 0 .63-.28.63-.64V4.64c-.01-.36-.28-.64-.64-.64zM16 15H4v-5h12v5zm0-6H4V5h2v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h6v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h2v4z"}),ATTACH_DOC:d.a.createElement("path",{d:"M4.5 17V3h7v3.45c0 .3.25.55.55.55h3.45v10h-11zM16.34 6.19s-3.26-3.22-3.88-3.84c-.16-.14-.32-.33-.6-.35H4.23c-.4 0-.73.33-.73.73v14.55c0 .4.33.73.73.73h11.55c.4 0 .72-.33.72-.73V6.62c-.01-.2-.08-.34-.16-.43z"}),ATTACH_DOC_48:d.a.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.297 0H3.644c-.503 0-.91.408-.91.91v18.22c0 .502.41.912.91.912h12.754c.5 0 .91-.41.91-.91V4.98c0-.247-.094-.424-.202-.534zm-.708 14.683H3.644V.91h8.2v3.873c0 .376.306.683.682.683h3.872V19.13zM11.834 7.302l-5.48.99v7.514l5.48.99v-1.31h2.26c.277 0 .5-.178.5-.455s-.223-.454-.5-.454h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.456-.5-.456h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.455-.5-.455h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.455-.5-.455h-2.26V7.302zm-1.672 6.36c-.194.1-.485-.003-.715.012-.154-.745-.334-1.485-.473-2.234-.136.727-.312 1.448-.468 2.17-.223-.01-.447-.025-.672-.04-.192-.99-.42-1.973-.6-2.966.2-.01.4-.017.598-.024.12.717.256 1.43.36 2.15l.494-2.21c.22-.012.442-.02.662-.032.155.76.313 1.518.48 2.275.132-.782.277-1.56.417-2.34.233-.008.465-.02.696-.034-.26 1.09-.49 2.19-.778 3.273z"}),ATTACH_GDOCS_48:d.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM5.46 9.09v6.365c0 .502.407.91.91.91h7.272c.502 0 .91-.408.91-.91V9.09c0-.5-.408-.908-.91-.908H6.37c-.503 0-.91.407-.91.91zm4.856 5.455H6.983c-.277 0-.5-.178-.5-.454s.223-.454.5-.454h3.333c.276 0 .5.18.5.455s-.224.455-.5.455zm2.727-1.818h-6.06c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h6.06c.276 0 .5.18.5.455s-.224.454-.5.454zM6.976 10h6.06c.276 0 .5.178.5.455 0 .276-.224.454-.5.454h-6.06c-.277 0-.5-.18-.5-.455 0-.277.223-.455.5-.455z"}),ATTACH_GENERIC_48:d.a.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.297 0H3.644c-.503 0-.91.408-.91.91v18.22c0 .502.41.912.91.912h12.754c.5 0 .91-.41.91-.91V4.98c0-.247-.094-.424-.202-.534zM3.644 19.13V.91h8.2v3.873c0 .376.306.683.682.683h3.872V19.13H3.644z"}),ATTACH_GSHEETS_48:d.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM5.46 9.09v6.365c0 .502.407.91.91.91h7.272c.502 0 .91-.408.91-.91V9.09c0-.5-.408-.908-.91-.908H6.37c-.503 0-.91.407-.91.91zm2.128 5.455h-.605c-.277 0-.5-.178-.5-.454s.223-.454.5-.454h.605c.277 0 .5.18.5.455s-.223.455-.5.455zm5.455 0H9.71c-.277 0-.5-.178-.5-.454s.223-.454.5-.454h3.333c.276 0 .5.18.5.455s-.224.455-.5.455zm0-1.818H9.71c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h3.333c.276 0 .5.18.5.455 0 .276-.224.454-.5.454zM9.703 10h3.333c.276 0 .5.178.5.455 0 .276-.224.454-.5.454H9.703c-.277 0-.5-.18-.5-.455s.223-.455.5-.455zm-2.115 2.727h-.605c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h.605c.277 0 .5.18.5.455s-.223.454-.5.454zM6.976 10h.606c.276 0 .5.178.5.455 0 .276-.224.454-.5.454h-.606c-.277 0-.5-.18-.5-.455 0-.277.223-.455.5-.455z"}),ATTACH_GSLIDES_48:d.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM5.46 9.09v6.365c0 .502.407.91.91.91h7.272c.502 0 .91-.408.91-.91V9.09c0-.5-.408-.908-.91-.908H6.37c-.503 0-.91.407-.91.91zm8.182 4.092H6.37v-4.09h7.272v4.09z"}),ATTACH_ICS_48:d.a.createElement("path",{d:"M19.09 2.73H15V1.365c0-.228-.227-.455-.455-.455-.227 0-.454.228-.454.456V2.73H5.91V1.365c0-.228-.228-.455-.455-.455C5.227.91 5 1.14 5 1.367V2.73H.91c-.5 0-.91.408-.91.908v14.546c0 .5.41.91.91.91h18.18c.5 0 .91-.41.91-.91V3.638c0-.5-.41-.91-.91-.91zm0 15.454H.91V3.638H5v.91c0 .227.227.454.455.454.227 0 .454-.227.454-.455v-.91h8.18v.91c0 .228.228.455.455.455.228 0 .455-.227.455-.455v-.91h4.09v14.547zM8.218 10.962l-.447-.076L9.48 9.25c.27-.257.396-.41.396-.702 0-.337-.29-.458-.56-.458H5.873c-.237 0-.438.2-.438.44 0 .236.2.437.438.437H8.59l-1.757 1.77c-.223.222-.27.35-.27.477 0 .238.203.44.44.44h.242c1.01 0 1.61.42 1.61 1.124 0 .66-.503 1.106-1.226 1.106-.58 0-1.067-.184-1.532-.58-.116-.097-.218-.138-.347-.138-.276 0-.518.243-.518.52 0 .143.078.28.16.362l.024.02c.59.506 1.308.752 2.194.752 1.385 0 2.315-.838 2.315-2.084 0-.992-.574-1.582-1.707-1.774zM14.036 7.99c-.2 0-.4.044-.686.122l-.995.29c-.217.064-.35.236-.35.45 0 .232.208.437.448.437.048 0 .135-.015.217-.035l.827-.244v5.212c0 .298.242.54.54.54s.54-.242.54-.54V8.53c0-.3-.243-.54-.54-.54z"}),ATTACH_IMAGE:d.a.createElement("path",{d:"M16.36 4H3.64c-.35 0-.64.28-.64.64v10.73c0 .34.29.63.64.63h12.73c.35 0 .63-.29.63-.64V4.64c-.01-.36-.28-.64-.64-.64zM16 5v8.5l-4-5-2.95 3.64L7 9.5l-3 3.2V5h12zM6.77 15H4v-.91L7 11l1.44 1.89L6.77 15zM8 15l4-5 4 5H8z"}),ATTACH_IMAGE_48:d.a.createElement("path",{d:"M19.09 1.82H.91c-.5 0-.91.4-.91.91v14.55c0 .5.41.91.91.91h18.18c.5 0 .91-.41.91-.91V2.73c0-.51-.4-.91-.91-.91zM.91 17.27v-1.02l4.55-5.54L8.2 14l-2.74 3.28-4.55-.01zm5.68 0L12.73 10l6.36 7.27H6.59zm12.5-1.36l-6.36-7.27-3.94 4.65-3.34-4-4.54 5.53V2.73h18.18v13.18z"}),ATTACH_MOVIE_48:d.a.createElement("path",{d:"M7.918 12.67c.06 0 .1-.02.17-.06l4.03-2.345c.125-.072.178-.167.178-.26s-.064-.19-.188-.262L8.062 7.398c-.07-.04-.082-.06-.142-.06-.15 0-.193.117-.193.32V12.35c0 .202.044.32.19.32zM19.09 1.822H.91c-.503 0-.91.407-.91.91v14.545c0 .502.407.91.91.91h18.18c.503 0 .91-.408.91-.91V2.73c0-.5-.407-.908-.91-.908zm0 15.455H.91V2.73h18.18v14.547z"}),ATTACH_PDF_48:d.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM11.59 12.67c-.058-.065-.118-.133-.178-.203-.405-.468-.772-.973-1.08-1.478.17-.79.26-1.518.27-2.066l.002-.103c.015-.622.04-1.666-.863-1.856-.278-.058-.556-.002-.78.16-.242.173-.408.453-.443.75-.11.92.332 2.123.978 3.243-.17.71-.41 1.45-.71 2.123-.667.256-1.33.608-1.954 1.077-1.09.787-.984 1.37-.823 1.647.147.253.44.393.76.393.155 0 .32-.033.475-.104.887-.405 1.59-1.313 2.116-2.388.653-.22 1.304-.344 1.915-.393.582.585 1.385 1.225 2.123 1.245.712.02 1.072-.373 1.12-.77.052-.42-.254-.952-1.045-1.126-.532-.115-1.176-.178-1.88-.15zm-4.674 2.868c-.09.042-.17.04-.215.028.03-.09.167-.308.597-.617.277-.21.562-.392.85-.552-.356.52-.768.93-1.23 1.14zm2.38-7.57c.008-.064.05-.155.12-.206.034-.024.068-.035.108-.035.017 0 .036.002.055.006.243.05.252.535.24 1.07l-.003.106c-.006.277-.033.6-.082.954-.33-.74-.495-1.417-.438-1.897zm.465 4.963c.115-.3.218-.608.308-.914.182.26.372.51.562.742-.285.042-.576.1-.87.173zm3.543.658c.336.074.437.23.435.263-.007.016-.09.096-.32.082h-.002c-.213-.006-.547-.14-.972-.466.31.023.6.066.86.122z"}),ATTACH_PPT_48:d.a.createElement("path",{d:"M8.767 11.032v.934c.228.018.45.06.59-.175.104-.177.095-.502-.026-.64-.156-.176-.36-.15-.563-.118zM11.82 10.818h-.006V7.285l-5.467.99v7.498l5.467.99v-2.218h2.264c.246 0 .454-.203.454-.454 0-.252-.203-.454-.454-.454h-2.264v-1.294h.005c.245.366.664.608 1.14.608.676 0 1.238-.487 1.35-1.13h-1.577v-1.584c-.38.062-.705.278-.912.582zm-1.76.99c-.087.37-.327.63-.705.722-.188.046-.39.037-.604.055v1.055H8.18v-3.187c.442 0 .88-.012 1.32.01.115.004.248.09.333.177.327.335.327.752.23 1.167zM13.188 10.235v1.13h1.123c-.092-.578-.545-1.033-1.122-1.13zM17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09z"}),ATTACH_SOUND_48:d.a.createElement("path",{d:"M19.09 1.822H.91c-.503 0-.91.407-.91.91v14.545c0 .502.407.91.91.91h18.18c.503 0 .91-.408.91-.91V2.73c0-.5-.407-.908-.91-.908zm0 15.455H.91V2.73h18.18v14.547zM11.818 11.81c.25 0 .455-.202.455-.452V7.746c0-.25-.204-.45-.455-.45s-.454.2-.454.45v3.612c0 .25.203.452.454.452zM13.636 11.353c.25 0 .455-.202.455-.45V9.546c0-.25-.203-.45-.454-.45s-.454.2-.454.45v1.355c0 .25.203.45.454.45zM8.182 14.067c.25 0 .454-.202.454-.45V6.39c0-.25-.203-.452-.454-.452-.25 0-.455.202-.455.452v7.224c0 .25.204.45.455.45zM10 13.165c.25 0 .455-.202.455-.452V9.1c0-.248-.204-.45-.455-.45s-.455.202-.455.45v3.613c0 .25.204.452.455.452zM6.364 12.274c.25 0 .454-.204.454-.455V8.636c0-.25-.203-.454-.454-.454-.25 0-.455.203-.455.454v3.182c0 .25.203.454.454.454z"}),ATTACH_XLS_48:d.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM12.18 9.545c0-.228-.157-.383-.366-.432V7.286l-5.467.99v7.497l5.467.99v-1.33c.21-.05.365-.205.365-.433s-.157-.383-.366-.432v-.954c.21-.05.365-.204.365-.432s-.157-.383-.366-.432v-.954c.21-.05.365-.204.365-.432 0-.23-.157-.383-.366-.433V9.98c.21-.05.365-.204.365-.433zm-2.587 4.222c-.19-.463-.425-.91-.562-1.394-.152.45-.37.876-.547 1.317-.247-.003-.494-.013-.74-.023.29-.558.57-1.12.867-1.675-.253-.572-.532-1.132-.793-1.7.248-.015.496-.03.744-.042.17.433.353.862.49 1.307.15-.472.372-.916.563-1.372.254-.017.51-.033.766-.045-.302.607-.604 1.214-.91 1.818.31.622.626 1.238.937 1.86-.27-.016-.542-.032-.814-.05zM13.233 13.636h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.18-.5.455s.223.454.5.454zM13.233 15.455h.837c.276 0 .5-.18.5-.455s-.224-.455-.5-.455h-.837c-.277 0-.5.18-.5.455s.223.455.5.455zM13.233 11.818h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.178-.5.454s.223.454.5.454zM13.233 10h.837c.276 0 .5-.178.5-.455 0-.276-.224-.454-.5-.454h-.837c-.277 0-.5.18-.5.455s.223.455.5.455z"}),ATTACH_ZIP_48:d.a.createElement("path",{d:"M4.272 15.458h-.365c-.15 0-.27.137-.27.287v.364c0 .15.12.257.27.257h.365c.15 0 .273-.107.273-.258v-.365c0-.15-.122-.287-.273-.287zM3.907 14.55h.365c.15 0 .273-.11.273-.26v-.363c0-.15-.122-.287-.273-.287h-.365c-.15 0-.27.136-.27.287v.364c0 .15.12.26.27.26zM5.18 14.55h-.36c-.152 0-.275.12-.275.272v.364c0 .15.123.272.274.272h.36c.152 0 .275-.122.275-.272v-.364c0-.15-.123-.273-.274-.273zM5.18 12.73h-.36c-.152 0-.275.123-.275.274v.364c0 .15.123.272.274.272h.36c.152 0 .275-.122.275-.272v-.364c0-.15-.123-.273-.274-.273zM3.907 12.73h.365c.15 0 .273-.107.273-.257v-.364c0-.152-.122-.288-.273-.288h-.365c-.15 0-.27.136-.27.287v.363c0 .15.12.258.27.258zM5.196 8.64H3.91c-.15 0-.274.122-.274.273v1.713c0 .158.13.287.287.287h.622v.65c0 .15.123.26.273.26h.366c.15 0 .27-.11.27-.26V8.9c0-.144-.115-.26-.258-.26zM19.09 4.55h-8.808L9.176 2.215c-.11-.222-.296-.394-.54-.394H.86c-.478.028-.857.42-.857.904v.454H0v14.097c0 .502.407.91.91.91h18.18c.5 0 .91-.41.91-.91V5.457c0-.5-.407-.908-.91-.908zm0 12.727H5.456v-.637c0-.15-.123-.273-.274-.273h-.36c-.152 0-.275.123-.275.273v.637H.91V2.73H8.41l1.12 2.467c.073.16.234.26.41.26h9.15v11.82z"}),ATTENTION:d.a.createElement("path",{d:"M10.727 10.727c0 .4-.326.727-.727.727-.402 0-.727-.326-.727-.727V6.364c0-.4.325-.727.727-.727.4 0 .727.326.727.727v4.363zM10 14.364c-.402 0-.727-.326-.727-.727s.325-.727.727-.727c.4 0 .727.326.727.727s-.326.727-.727.727zM10 2c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8z"}),BELL:d.a.createElement("path",{d:"M18.132 15.148c.126.16.202.36.202.58 0 .518-.42.94-.94.94-.026 0-.052-.004-.077-.005H2.684c-.025.002-.05.004-.077.004-.52 0-.94-.42-.94-.94 0-.218.076-.42.202-.58h-.002s.095-.13.314-.3c.062-.05.564-.468.97-1.2.077-.143.31-.647.347-.75.1-.275.17-.61.276-1.09.255-1.65.24-3.997.24-3.997-.003-.054-.004-.107-.004-.16 0-2.875 2.03-5.273 4.738-5.85v-.134c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25V1.8c2.707.576 4.74 2.975 4.74 5.85 0 .054 0 .107-.002.16 0 0-.018 2.348.237 3.996.108.48.177.815.278 1.092.037.102.27.607.348.75.406.732.908 1.15.97 1.2.217.17.312.3.312.3zM10 19.583c-1.15 0-2.083-.933-2.083-2.083h4.167c0 1.15-.933 2.083-2.084 2.083z"}),BOLD:d.a.createElement("path",{d:"M15.2 8.9c.3-.6.4-1.2.4-1.8 0-2.2-1.8-4-4-4H5.1C4.5 3 4 3.5 4 4.1v11.8c0 .6.5 1.1 1.1 1.1h7.1c2.6 0 4.6-2.1 4.6-4.6 0-1.4-.6-2.7-1.6-3.5zM14 12.7c0 .9-.7 1.6-1.6 1.6H6.8v-3.1h5.7c.8-.1 1.5.6 1.5 1.5zM6.8 8.3V5.8h4.8c.7 0 1.3.6 1.3 1.3s-.6 1.3-1.3 1.3H6.8v-.1z"}),CALENDAR:d.a.createElement("path",{d:"M18 3.496h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1v11.5c0 .64.367 1 1 1h16c.633 0 1-.36 1-1v-11.5c0-.64-.367-1-1-1zm-7.95 8.276v.002c0 1.296-.944 2.247-2.475 2.247-.982 0-1.717-.304-2.277-.784-.137-.12-.254-.325-.254-.54 0-.393.332-.727.725-.727.216 0 .36.088.48.186.393.334.806.51 1.344.51.57 0 .972-.324.972-.834v-.02c0-.56-.5-.873-1.344-.873h-.236c-.353 0-.647-.295-.647-.647 0-.208.087-.384.323-.62L7.998 8.33h-2.11c-.353 0-.65-.295-.65-.65 0-.35.297-.647.65-.647h3.346c.44 0 .765.255.765.668 0 .374-.176.58-.453.845L8.203 9.83c.932.157 1.846.647 1.846 1.923v.02zm4.205 2.19c-.412 0-.746-.334-.746-.746v-4.75l-.532.137c-.078.02-.186.04-.265.04-.352 0-.656-.294-.656-.647 0-.305.195-.56.498-.648l.973-.284c.284-.08.5-.128.707-.128h.02c.41 0 .745.333.745.745v5.536c0 .412-.333.746-.745.746z"}),CALENDAR_EMPTY:d.a.createElement("path",{d:"M18 3.496h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1v11.5c0 .64.367 1 1 1h16c.633 0 1-.36 1-1v-11.5c0-.64-.367-1-1-1z"}),CALENDAR_SETTINGS:d.a.createElement("path",{d:"M19 7V4.496c0-.64-.367-1-1-1h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1V7h18zM1 8.5v7.496c0 .64.367 1 1 1h16c.633 0 1-.36 1-1V8.5H1z"}),CAL_ACCEPT:d.a.createElement("path",{d:"M14.1 7.3c.3.3.3.8 0 1.1l-5 5c-.3.3-.8.3-1.1 0l-2.2-2.1c-.3-.3-.3-.8 0-1.1s.8-.3 1.1 0l1.6 1.6L13 7.3c.4-.3.8-.3 1.1 0zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_DECLINE:d.a.createElement("path",{d:"M11.1 10l2.3 2.4c.3.3.3.8 0 1.1s-.8.3-1.1 0L10 11.1l-2.4 2.4c-.3.3-.8.3-1.1 0-.3-.3-.3-.8 0-1.1L8.9 10 6.6 7.6c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0L10 8.9l2.3-2.3c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1L11.1 10zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_MAYBE:d.a.createElement("path",{d:"M10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 13c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm.8-4.1v.4c0 .4-.3.7-.7.7s-.7-.3-.7-.7v-1c0-.4.3-.7.7-.7.8 0 1.5-.7 1.5-1.5s-.7-1.5-1.5-1.5-1.7.7-1.6 1.6c0 .5-.3.8-.7.8-.5 0-.8-.3-.8-.8C6.9 6.5 8.4 5 10 5s3 1.3 3 3c0 1.4-1 2.6-2.2 2.9z"}),CHECKBOX_OFF:d.a.createElement("path",{d:"M14.5 17h-9C4.1 17 3 15.9 3 14.5v-9C3 4.1 4.1 3 5.5 3h9C15.9 3 17 4.1 17 5.5v9c0 1.4-1.1 2.5-2.5 2.5zm-9-13C4.7 4 4 4.7 4 5.5v9c0 .8.7 1.5 1.5 1.5h9c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5h-9z"}),CHECKBOX_ON:d.a.createElement("path",{d:"M14.5 3h-9C4.122 3 3 4.122 3 5.5v9C3 15.878 4.122 17 5.5 17h9c1.378 0 2.5-1.122 2.5-2.5v-9C17 4.122 15.878 3 14.5 3zm-.208 4.713L8.5 13.5l-2.792-2.624c-.277-.277-.277-.727 0-1.004.278-.278.727-.278 1.005 0L8.5 11.5l4.786-4.792c.278-.277.728-.277 1.006 0 .277.278.277.727 0 1.005z"}),CHECKMARK:d.a.createElement("path",{d:"M7.2 14.1l-3.5-3.5c-.3-.3-.3-.7 0-1s.8-.3 1 0l3 2.9 7.4-7.3c.3-.3.8-.3 1 0 .3.3.3.7 0 1L8.2 14c-.2.3-.7.3-1 .1z"}),CHEVRON_UP:d.a.createElement("path",{d:"M13.5 12.75c-.192 0-.384-.073-.53-.22L10 9.56l-2.97 2.97c-.293.293-.767.293-1.06 0s-.293-.767 0-1.06L10 7.44l4.03 4.03c.293.293.293.767 0 1.06-.146.147-.338.22-.53.22z"}),CIRCLE:d.a.createElement("circle",{cx:"10",cy:"10",r:"4"}),CLEAR:d.a.createElement("path",{d:"M10 2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm3.445 10.68c.21.21.21.554 0 .765-.21.211-.554.211-.765 0L10 10.765l-2.68 2.68c-.21.211-.554.211-.765 0-.21-.21-.21-.554 0-.765L9.235 10l-2.68-2.68c-.21-.21-.21-.554 0-.765.21-.211.554-.211.766 0L10 9.235l2.68-2.68c.21-.21.554-.21.765 0 .21.212.21.554 0 .766L10.765 10l2.68 2.68z"}),CLOCK:d.a.createElement("path",{d:"M11.974 12.7c-.275.277-.723.277-.998 0L9.58 11.307c-.18-.133-.308-.337-.308-.58V7.09c0-.402.325-.727.728-.727.403 0 .728.325.728.727v3.366l1.247 1.247c.276.276.276.72 0 .997zM10 2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8z"}),CLOCK_OUTLINE:d.a.createElement("path",{d:"M10 16.5c3.6 0 6.5-2.9 6.5-6.5S13.6 3.5 10 3.5 3.5 6.4 3.5 10s2.9 6.5 6.5 6.5zm0 1.5c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8zM12.3 11.8c.3.2.4.7.1 1-.2.3-.7.4-1 .1L9 11.1V6.5c0-.4.3-.7.7-.7s.7.3.7.7v3.9l1.9 1.4z"}),CLOSE:d.a.createElement("path",{d:"M10 9l5.1-5.1c.3-.3.7-.3 1 0 .3.3.3.7 0 1L11 10l5.1 5.1c.3.3.3.7 0 1-.3.3-.7.3-1 0L10 11l-5.1 5.1c-.3.3-.7.3-1 0-.3-.3-.3-.7 0-1L9 10 3.9 4.9c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9z"}),CLOSE_MINI:d.a.createElement("path",{d:"M12.8 13.8L10 11l-2.8 2.8c-.3.3-.7.3-1 0s-.3-.7 0-1L9 10 6.2 7.2c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9l2.8-2.8c.3-.3.7-.3 1 0s.3.7 0 1L11 10l2.8 2.8c.3.3.3.7 0 1s-.7.3-1 0z"}),COLLAPSE_LIST:d.a.createElement("path",{d:"M12 2.5H8c-.2 0-.3.2-.1.4L10 5l2.1-2.1c.2-.2.1-.4-.1-.4zm-4 15h4c.2 0 .3-.2.1-.4L10 15l-2.1 2.1c-.2.2-.1.4.1.4zm8.5-6.5h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1s-.4-1-1-1zm-13-2h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),COMPOSE:d.a.createElement("path",{d:"M8.79 15.834c-.09.09-.21.152-.333.167-.055.016-3.957 0-3.957 0-.3.006-.505-.242-.5-.54v-3.856c0-.148.06-.29.164-.397l4.174-4.17 4.624 4.625-4.172 4.172zm4.96-4.96L9.128 6.25l2.078-2.075c.214-.215.576-.24.783-.032l3.864 3.88c.174.175.228.525-.022.775l-2.08 2.077z"}),COMPOSE_EMOJI:d.a.createElement("path",{d:"M10 1.6c-4.7 0-8.5 3.8-8.5 8.5s3.8 8.5 8.5 8.5 8.5-3.8 8.5-8.5-3.8-8.5-8.5-8.5zm0 15.3c-3.8 0-6.9-3.1-6.9-6.9S6.2 3.2 10 3.2s6.9 3.1 6.9 6.9-3 6.8-6.9 6.8zm-2.5-9c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.6-1.2-1.2.5-1.2 1.2-1.2zm5.3 0c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.5-1.2-1.2.6-1.2 1.2-1.2zm.74 4.66c-.48 1.06-2.03 2.04-3.41 2.04s-2.93-.97-3.41-2.04c-.47-1.06.79-.96.79-.96h5.24c.01 0 1.27-.1.79.96z"}),CONTACT_CARD:d.a.createElement("path",{d:"M17.3 3H2.7c-.4 0-.7.3-.7.7v12.6c0 .4.3.7.7.7h14.6c.4 0 .7-.3.7-.7V3.7c0-.4-.3-.7-.7-.7zM5.5 7.7c.2-.7.8-1.3 1.6-1.5 1.5-.3 2.9 1 2.5 2.5-.2.8-.8 1.4-1.6 1.6-1.5.3-2.8-1-2.5-2.6zm5.1 6.8h-6c-.6 0-.9-.6-.6-1.1.7-1 2.1-1.7 3.6-1.7s2.9.7 3.6 1.7c.3.4-.1 1.1-.6 1.1zm5.2-1.3H14c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h1.8c.4 0 .7.3.7.7s-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7z"}),CONTACTCARD_OUTLINE:d.a.createElement("path",{d:"M15 12.5h-.83c-.46 0-.83.37-.83.83s.37.83.83.83H15c.46 0 .83-.37.83-.83s-.37-.83-.83-.83zm-1.67-1.67H15c.46 0 .83-.37.83-.83s-.37-.83-.83-.83h-1.67c-.46 0-.83.37-.83.83 0 .46.37.83.83.83zm0-3.33H15c.46 0 .83-.37.83-.83s-.37-.84-.83-.84h-1.67c-.46 0-.83.37-.83.83s.37.84.83.84zm4.17 8.33h-4.17c-.54-1.9-2.35-3.33-5.46-3.33s-4.83 1.43-5.37 3.33V4.17h15v11.66zm-13.08 0c.57-.97 1.45-1.67 3.45-1.67s2.96.7 3.54 1.67H4.42zM18.33 2.5H1.67c-.46 0-.83.37-.83.83v13.33c0 .46.37.83.83.83h16.67c.46 0 .83-.37.83-.83V3.33c0-.46-.38-.83-.84-.83zm-10.41 5c.69 0 1.25.56 1.25 1.25S8.61 10 7.92 10s-1.25-.56-1.25-1.25.56-1.25 1.25-1.25zm0 4.17c1.61 0 2.92-1.31 2.92-2.92S9.53 5.83 7.92 5.83C6.31 5.83 5 7.14 5 8.75s1.31 2.92 2.92 2.92z"}),CONTRACT:d.a.createElement("path",{d:"M11 4.1v4.3c0 .3.3.6.6.6H16c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM9 16v-4.3c0-.4-.3-.7-.6-.7H3.9c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3L8 16.5c.1.2.3.2.4.2.3 0 .5-.2.6-.5V16z"}),DEALS:d.a.createElement("path",{d:"M16.823 9.802l-6.49-6.608C10.213 3.07 10.045 3 9.87 3H3.657c-.358 0-.648.29-.648.648v6.215c0 .175.068.34.192.463l6.603 6.488c.126.123.29.186.454.186.165 0 .33-.064.458-.19l6.1-6.094c.252-.252.254-.66.005-.914zM6.896 8.126c-.706 0-1.278-.568-1.278-1.268 0-.7.572-1.268 1.278-1.268.705 0 1.277.568 1.277 1.268 0 .7-.572 1.268-1.277 1.268z"}),DELETE:d.a.createElement("path",{d:"M3.994 17.21c0 .41.335.79.745.79h10.52c.41 0 .734-.387.734-.797V7h-12v10.21zm7.256-6.946c0-.415.336-.75.75-.75.416 0 .752.335.752.75v4.49c0 .414-.336.75-.75.75-.416 0-.752-.336-.752-.75v-4.49zm-4 0c0-.415.336-.75.75-.75.416 0 .752.335.752.75v4.49c0 .414-.336.75-.75.75-.416 0-.752-.336-.752-.75v-4.49zM17 3h-4.26v-.076c0-.51-.336-.924-.76-.924H8.007c-.425 0-.773.414-.773.924V3H3c-.552 0-1 .447-1 1s.448 1 1 1h14c.552 0 1-.448 1-1s-.448-1-1-1z"}),DEVICE_PHONE:d.a.createElement("path",{d:"M14.7 1H5.8c-.4 0-.8.4-.8.8v16.4c0 .5.3.8.8.8h8.9c.4 0 .8-.4.8-.8V1.8c0-.4-.3-.8-.8-.8zm-4.4 16.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm3.7-4.3H6.5V2.5H14v10.9z"}),CAR:d.a.createElement("path",{d:"M17.868 7.572l-1.325-3.61C15.89 2.184 14.183 1 12.27 1H7.73C5.817 1 4.11 2.184 3.456 3.962l-1.325 3.61C.876 8.162 0 9.458 0 10.972v4.356C0 16.362.814 17.2 1.818 17.2v.45c0 .745.61 1.35 1.364 1.35s1.364-.605 1.364-1.35v-.45h10.91v.45c0 .745.61 1.35 1.363 1.35.752 0 1.363-.605 1.363-1.35v-.45c1.005 0 1.818-.838 1.818-1.872v-4.356c0-1.514-.876-2.81-2.132-3.4zM5.166 4.578C5.556 3.515 6.586 2.8 7.73 2.8h4.54c1.144 0 2.174.715 2.564 1.778l.973 2.722H4.193l.973-2.722zM3.636 13.6c-1.005 0-1.818-.806-1.818-1.8S2.632 10 3.636 10s1.818.806 1.818 1.8-.813 1.8-1.818 1.8zm12.728 0c-1.004 0-1.818-.806-1.818-1.8s.814-1.8 1.818-1.8c1.005 0 1.818.806 1.818 1.8s-.814 1.8-1.818 1.8z"}),DOCUMENTS_S:d.a.createElement("path",{d:"M10.97 2.994H5.11c-.335 0-.61.275-.61.61V16.39c0 .337.275.612.61.612h9.778c.337 0 .612-.275.612-.612V7.525c0-.163-.064-.318-.18-.432l-3.92-3.92c-.114-.115-.27-.18-.43-.18zm-.006 4.534V4.473l3.055 3.055h-3.056z"}),DOWNLOAD:d.a.createElement("path",{d:"M16.8 13.5c-.4 0-.8.3-.8.8v1.2H4v-1.3c0-.4-.3-.7-.7-.7s-.8.3-.8.8v2c0 .4.3.7.8.7H17c.4 0 .5-.3.5-.7v-2c0-.5-.3-.8-.7-.8zM9.5 13.1c.3.2.7.2.9 0l3.9-3.6c.3-.3.3-.7 0-1-.1-.1-.3-.2-.5-.2l-2.3.5V3.1c0-.3-.3-.6-.6-.6H9.1c-.3 0-.6.3-.6.6v5.7l-2.3-.5c-.2 0-.3 0-.5.2-.3.3-.3.7 0 1l3.8 3.6z"}),DRAFTS:d.a.createElement("path",{d:"M13.083 8.52H7.06c-.416 0-.753-.337-.753-.753s.337-.753.753-.753h6.023c.415 0 .752.337.752.753s-.337.753-.752.753zm-.037 2.99h-5.99c-.414 0-.75-.336-.75-.75s.336-.748.75-.748h5.99c.414 0 .75.334.75.748s-.336.75-.75.75zm2.767-9.498H4.258c-.397 0-.722.332-.722.74v14.26c0 .572.634.917 1.114.607l1.678-1.24 1.388 1.208c.253.195.603.2.862.015l1.457-1.22 1.458 1.22c.26.186.61.18.862-.015l1.387-1.208 1.68 1.24c.48.31 1.114-.035 1.114-.608V2.752c0-.408-.326-.74-.723-.74z"}),EMOJI_FOOD_AND_DRINK:d.a.createElement("path",{d:"M18.3 14.1c0-.6-.5-1.1-1.1-1.1H17c.7 0 1.2-.7 1-1.4-.6-2-2.3-3.4-4.5-3.4H10l.4-3.2H8.9l.7-2.3 2.2.8c.1 0 .2 0 .2-.1l.2-.7c0-.1 0-.2-.1-.2l-2.6-.8c-.3-.1-.6.1-.7.4l-.9 3.1H1.7l1.6 13.2H16.2c.8 0 1.6-.7 1.6-1.6v-.9c0-.2-.1-.5-.2-.7.3-.2.7-.6.7-1.1zm-15.6-8h6.7l-.2 2.2h-.3c-2.1 0-3.9 1.4-4.5 3.4-.2.7.3 1.4 1 1.4h-.1c-.6 0-1.1.5-1.1 1.1 0 .5.3.9.8 1-.2.2-.2.5-.2.7v.9c0 .2.1.4.2.6h-.9L2.7 6.1zm14 10.6c0 .3-.2.5-.5.5H6.3c-.3 0-.5-.2-.5-.5v-.9c0-.1.1-.2.2-.2h10.7c.1 0 .2.1.2.2v.9h-.2zm-5.4-1.5L5.8 13h10.9l-5.4 2.2zm5.1-3.1H6.1c-.4 0-.7-.5-.5-.8.6-1.2 1.9-2 3.3-2h4.7c1.4 0 2.6.8 3.3 2 .1.3-.1.8-.5.8z"}),ENTER:d.a.createElement("path",{d:"M8 6.8c.3-.3.8-.3 1.1 0s.3.8 0 1.1L6.9 10h7.6V4.8c0-.4.3-.8.8-.8.4 0 .7.3.7.8v6c0 .5-.4.8-.7.8H6.9l2.2 2.2c.1.1.2.3.2.5s-.1.4-.2.5c-.3.3-.8.3-1.1 0l-4-4 4-4z"}),EXCLAMATION:d.a.createElement("path",{d:"M9 11V6c0-.553.448-1 1-1s1 .447 1 1v5c0 .552-.448 1-1 1s-1-.448-1-1zm1 4c-.552 0-1-.448-1-1s.448-1 1-1 1 .448 1 1-.448 1-1 1m0-12c-3.858 0-7 3.14-7 7s3.142 7 7 7c3.86 0 7-3.14 7-7s-3.14-7-7-7m0 16c-4.962 0-9-4.038-9-9s4.038-9 9-9c4.96 0 9 4.038 9 9s-4.04 9-9 9"}),EXCLAMATION_ALT:d.a.createElement("path",{d:"M2.097 15.85c-.285.517.09 1.15.68 1.15h14.446c.59 0 .964-.633.68-1.15L10.68 2.66c-.295-.537-1.065-.537-1.36 0L2.098 15.85zm8.68-4.282c0 .428-.348.776-.777.776s-.776-.348-.776-.776V8.464c0-.428.347-.776.776-.776s.777.348.777.776v3.104zM10 15.448c-.43 0-.776-.35-.776-.777s.347-.775.776-.775c.43 0 .777.348.777.776s-.348.777-.777.777z"}),EXPAND:d.a.createElement("path",{d:"M2 13.1v4.3c0 .3.3.6.6.6H7c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM18 6.9V2.6c0-.3-.3-.6-.6-.6H13c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3 1 1.6c.1.2.3.2.4.2.3 0 .5-.2.6-.5v-.3z"}),EXPAND_LIST:d.a.createElement("path",{d:"M8 8h4c.2 0 .3-.2.1-.4L10 5.5 7.9 7.6c-.2.2-.1.4.1.4zm4 4H8c-.2 0-.3.2-.1.4l2.1 2.1 2.1-2.1c.2-.2.1-.4-.1-.4zm4.5 3h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1 0-.5-.4-1-1-1zM3.5 5h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),FEEDBACK:d.a.createElement("path",{d:"M4.91 7.79c-.8.29-1.8.43-3 .42-.51 0-.91.55-.91.88v9.07c0 .54.36.83.91.84h13.51c.93-.14 1.78-.63 1.78-1.76 0-.32-.26-.71-.77-1.15 1-.25 1.5-.7 1.5-1.37 0-.46-.29-.84-.89-1.1 1-.39 1.51-.93 1.51-1.6 0-.42-.27-.79-.8-1.11.84-.33 1.25-.82 1.25-1.47 0-1.17-1.19-2.1-2.57-2.1h-4.6l.1-.3c.32-.97.42-2.2.25-3.5-.18-1.37-.62-2.32-1.77-2.51-1.14-.17-1.93.49-1.97 1.47v.35c-.01 2.54-2.33 4.51-3.53 4.94z"}),FOLDER:d.a.createElement("path",{d:"M2.5 15.8c0 .4.3.7.7.7h13.6c.4 0 .7-.3.7-.7V10h-15v5.8zM16.8 5h-6.3l-.8-1.6C9.6 3.2 9.3 3 9 3H3.2c-.4 0-.7.3-.7.7v4.8h15V5.7c0-.4-.3-.7-.7-.7z"}),FORWARD:d.a.createElement("path",{d:"M10.442 16.956c-.515.385-1.238.01-1.238-.62V14h-6.94c-.427 0-.764-.372-.764-.8V7.794c0-.427.337-.793.764-.793h6.94V4.695c0-.705.767-.97 1.238-.62l7.74 5.81c.363.272.456.894 0 1.237l-7.74 5.834z"}),GETAWAYFILL:d.a.createElement("path",{d:"M17.1 16.2c.4-.3 1-.8 2-.8V17c-.5 0-.6.2-1 .5-.3.3-1 .8-2 .8-.9 0-1.5-.5-1.9-.8s-.6-.5-1-.5c-.5 0-.7.2-1 .5-.5.3-1 .8-2.1.8-1.16 0-1.75-.5-2.14-.8-.34-.3-.53-.5-1-.5s-.65.2-1 .5c-.42.3-.99.8-2.05.8-1.07 0-1.64-.5-2.06-.8-.34-.3-.53-.5-1-.5v-1.6c1.06 0 1.63.5 2.06.8.34.3.53.4 1 .4s.65-.1 1-.4c.42-.3.99-.8 2.05-.8 1.07 0 1.64.5 2.06.8.33.3.5.4.98.4.5 0 .6-.1 1-.4.5-.3 1-.8 2.1-.8 1 0 1.5.5 2 .8.4.3.5.4 1 .4s.7-.1 1-.4zM5.91 7.75c-1.37-.4-2.34-1.91-2.44-2.09-.23-.37-.14-.84.21-1.1 2.15-1.6 4.84-2.22 7.52-1.75v-.45c.2-.44.6-.71 1-.59.5.12.8.58.6 1.02l-.1.45c2.5.89 4.4 2.75 5.4 5.21.3.4.2.9-.2 1-.3.1-1.3.75-2.4.75-.4 0-.5 0-.9-.1-.7-.25-1.4-.95-1.8-1.45-.4.2-1 .3-1.6.3L9.69 14.5c-.1.4-.42.6-.84.6h-.16c-.48-.1-.74-.6-.62-1.1l1.45-5.45c-.5-.3-.92-.7-1.18-1.1-.62.3-1.56.5-2.43.3z"}),GIF_BOX:d.a.createElement("path",{d:"M18.787 3.226C18.69 3.128 18.497 3 18.3 3H1.768C1.34 3 1 3.396 1 3.813v13.405c0 .49.378.782.767.782H18.3c.487 0 .7-.235.7-.783V3.715c0-.196-.115-.39-.213-.49zM17.5 16.5h-15v-12h15v12zM13 11h2.5v-1H13V9h3V8h-4v5h1zM10.002 8H11v5h-.998zM6.488 13.067c.434 0 .8-.085 1.097-.255.173-.097.368-.265.585-.503l.113.69H9v-2.753H7v.836h1.03c-.055.328-.204.594-.445.797-.24.203-.55.304-.928.304-.385 0-.73-.128-1.03-.384-.303-.256-.454-.692-.454-1.308 0-.612.14-1.07.42-1.374s.633-.458 1.067-.458c.227 0 .432.037.618.112.33.136.56.386.646.728H9c-.06-.482-.29-.896-.704-1.218-.416-.323-.966-.485-1.65-.485-.79 0-1.425.245-1.905.734-.48.49-.74 1.14-.74 1.95 0 .803.258 1.435.734 1.897.455.46 1.04.69 1.754.69z"}),GUEST_LIST:d.a.createElement("g",null,d.a.createElement("path",{d:"M6.3 10.4c-2.982 0-5.4 1.405-5.4 3.137v1.387c0 .43.347.776.776.776h9.248c.43 0 .776-.347.776-.776v-1.388c0-1.73-2.418-3.136-5.4-3.136zM13.8 10.4c-.725 0-1.413.086-2.045.236.91.784 1.445 1.783 1.445 2.9V15.7h5.224c.43 0 .776-.347.776-.776v-1.388c0-1.73-2.418-3.136-5.4-3.136z"}),d.a.createElement("circle",{cx:"13.8",cy:"6.4",r:"2.7"}),d.a.createElement("circle",{cx:"6.3",cy:"6.4",r:"2.7"})),HOME:d.a.createElement("path",{d:"M17.8 9.4l-7.2-7.2c-.2-.1-.4-.2-.6-.2s-.4.1-.5.2L2.2 9.4c-.3.3-.3.8 0 1.1s.8.3 1.1 0l.2-.2v6.9c0 .4.3.7.7.7h3.6V15c0-1.2 1-2.2 2.2-2.2 1.2 0 2.2 1 2.2 2.2v2.9h3.3c.4 0 1-.3 1-.7v-6.9l.2.2c.3.3.8.3 1.1 0 .3-.3.3-.8 0-1.1z"}),INBOX:d.a.createElement("path",{d:"M10 10l9-3.5V4c0-.65-.366-1-1-1H2c-.633 0-1 .35-1 1v2.5l9 3.5zm.76 1.195c-.42.165-1.102.164-1.52 0L5.12 9.598 1 8v8c0 .65.367 1 1 1h16c.633 0 1-.35 1-1V8l-8.24 3.195z"}),INDENT:d.a.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM4.6 7.8c-.4.4-.4 1 0 1.4l.8.8H2.6c-.6 0-1 .4-1 1s.4 1 1 1h2.8l-.8.8c-.4.4-.4 1 0 1.4s1 .4 1.4 0L9.2 11 6 7.8c-.4-.4-1-.4-1.4 0z"}),INFO:d.a.createElement("path",{d:"M10 7.1c-.4 0-.8-.3-.8-.8.1-.3.4-.7.8-.7s.8.3.8.8c0 .4-.4.7-.8.7zm.7 5.8c0 .4-.3.7-.7.7s-.7-.3-.7-.7V9.3c0-.4.3-.7.7-.7s.7.3.7.7v3.6zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),INPUT_ARROW_DOWN:d.a.createElement("path",{id:"Path-1009",d:"M5.5 7.5h9l-4.5 5z"}),ITALIC:d.a.createElement("path",{d:"M15.8 3H7.5c-.5 0-.9.4-.9.9s.4.9.9.9h3l-4 9.5h-3c-.5 0-.9.4-.9.9s.4.9.9.9h8.3c.5 0 .9-.4.9-.9s-.4-.9-.9-.9H8.3l4-9.5h3.4c.5 0 .9-.4.9-.9s-.3-.9-.8-.9z"}),LINK:d.a.createElement("path",{d:"M8.247 12H3.542c-.482 0-.934-.216-1.275-.592-.34-.376-.463-.876-.463-1.408 0-1.098.745-2 1.74-2h4.703c.498 0 .902-.437.902-.987S8.744 6 8.246 6H3.542C1.554 6 0 7.804 0 10c0 1.064.31 2.065.992 2.817C1.672 13.57 2.58 14 3.542 14h4.704c.498 0 .902-.463.902-1.013 0-.55-.403-.987-.9-.987zM18.944 7.183C18.262 6.43 17.356 6 16.394 6h-4.705c-.5 0-.903.463-.903 1.013 0 .55.36.987.858.987h4.748c.482 0 .934.216 1.275.592.34.376.528.876.528 1.408 0 .532-.187 1.032-.528 1.408-.34.376-.794.592-1.275.592H11.69c-.5 0-.903.437-.903.987 0 .275.1.524.264.704.164.18.39.293.64.293l4.703.017c.963 0 1.87-.43 2.55-1.183C19.626 12.064 20 11.064 20 10c0-1.064-.375-2.064-1.056-2.817zM6.684 10.005c0 .273.097.52.255.7s.374.295.615.295h4.89c.482 0 .872-.45.872-.996 0-.547-.39-1.005-.87-1.004H7.554c-.48 0-.87.458-.87 1.005z"}),LIST_ORDERED:d.a.createElement("path",{d:"M7 5h10c.552 0 1-.448 1-1s-.448-1-1-1H7c-.552 0-1 .448-1 1s.448 1 1 1zM17 9H7c-.552 0-1 .448-1 1s.448 1 1 1h10c.552 0 1-.448 1-1s-.448-1-1-1zM17 15H7c-.552 0-1 .448-1 1s.448 1 1 1h10c.552 0 1-.448 1-1s-.448-1-1-1zM4.297 15.865v-.01c.187-.052.328-.15.422-.293.093-.143.14-.308.14-.495 0-.173-.04-.325-.12-.457-.082-.132-.187-.244-.314-.336-.13-.092-.273-.16-.435-.206-.16-.045-.32-.068-.482-.068-.207 0-.395.032-.564.096-.17.064-.313.155-.434.272-.12.117-.215.258-.282.422-.068.162-.105.343-.113.54h.777c-.003-.197.048-.36.153-.49s.262-.197.468-.197c.15 0 .283.044.398.133.116.088.172.214.172.38 0 .108-.028.196-.083.263-.057.065-.127.116-.212.15-.086.035-.18.057-.28.065-.1.006-.193.006-.282 0v.548c.1 0 .204.003.312.01.112.005.21.025.303.06.093.034.17.09.228.167.06.077.09.19.09.336 0 .187-.064.335-.19.443-.127.107-.28.16-.467.16-.117 0-.22-.02-.306-.06-.086-.04-.158-.094-.215-.16-.06-.07-.102-.15-.134-.244-.03-.093-.047-.19-.05-.294h-.778c-.003.224.03.422.1.594.072.172.172.32.302.438.132.12.29.21.475.272.186.063.392.094.618.094.197 0 .386-.028.564-.082.18-.056.34-.136.477-.242.14-.108.25-.24.33-.398.083-.157.126-.337.126-.538 0-.22-.064-.41-.19-.567-.127-.158-.3-.26-.523-.308zM3.44 10.964c.133-.1.27-.196.413-.283s.28-.176.42-.266c.14-.09.266-.19.374-.3.11-.11.2-.235.267-.377.067-.142.1-.312.1-.51 0-.19-.038-.363-.114-.517-.078-.152-.18-.28-.31-.385-.13-.106-.28-.186-.452-.24-.17-.057-.35-.085-.54-.085-.247 0-.465.04-.657.12-.19.08-.347.192-.474.337-.126.143-.22.312-.282.504-.064.193-.09.4-.083.627h.803c0-.107.01-.212.033-.32.02-.104.056-.202.11-.29.05-.088.117-.158.202-.212.085-.055.188-.083.31-.083.18 0 .33.055.445.16.117.108.173.255.173.446 0 .12-.028.226-.086.32-.056.094-.127.177-.21.252s-.18.14-.28.204c-.104.062-.2.122-.29.183-.177.115-.344.23-.504.342-.16.11-.3.232-.415.365-.118.133-.21.282-.28.45-.07.17-.102.367-.102.595h3.03v-.683H3.084c.103-.135.222-.252.355-.353zM3.118 6h.903V2H3.3c-.022.152-.075.28-.156.382-.08.103-.18.185-.297.25-.116.062-.246.105-.393.13-.146.025-.298.036-.454.032v.61h1.118V6z"}),LIST_ORDERED_FLIPPED:d.a.createElement("path",{d:"M13 3H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM13 9H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM13 15H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM17.26 15.86v-.01c.19-.05.33-.15.42-.29.09-.14.14-.31.14-.49 0-.17-.04-.33-.12-.46-.08-.13-.19-.24-.31-.34-.13-.09-.27-.16-.44-.21-.16-.04-.32-.06-.48-.06-.21 0-.4.03-.56.1-.17.06-.31.16-.43.27-.12.12-.22.26-.28.42-.07.16-.11.34-.11.54h.78c0-.2.05-.36.15-.49s.26-.2.47-.2c.15 0 .28.04.4.13s.17.21.17.38c0 .11-.03.2-.08.26-.06.07-.13.12-.21.15-.09.03-.18.06-.28.06-.1.01-.19.01-.28 0v.55c.1 0 .2 0 .31.01.11.01.21.03.3.06s.17.09.23.17c.06.08.09.19.09.34 0 .19-.06.34-.19.44-.13.11-.28.16-.47.16-.12 0-.22-.02-.31-.06-.09-.04-.16-.1-.22-.16-.06-.07-.1-.15-.13-.24s-.05-.19-.05-.29h-.78c0 .22.03.42.1.59.07.17.17.32.3.44.13.12.29.21.47.27.19.06.39.09.62.09.2 0 .39-.03.56-.08.18-.06.34-.14.48-.24.14-.11.25-.24.33-.4.08-.16.13-.34.13-.54 0-.22-.06-.41-.19-.57-.13-.14-.31-.25-.53-.3zM16.05 11.32c.1-.13.22-.25.35-.35.13-.1.27-.2.41-.28s.28-.18.42-.27c.14-.09.27-.19.37-.3.11-.11.2-.24.27-.38s.1-.31.1-.51c0-.19-.04-.36-.11-.52-.08-.15-.18-.28-.31-.39-.13-.11-.28-.19-.45-.24-.17-.05-.35-.08-.54-.08-.25 0-.47.04-.66.12-.19.08-.35.19-.48.34-.13.14-.22.31-.28.5-.06.19-.09.4-.08.63h.8c0-.11.01-.21.03-.32.02-.11.06-.2.11-.29.05-.09.12-.16.2-.21.09-.05.19-.08.31-.08.18 0 .33.05.45.16s.17.25.17.45c0 .12-.03.23-.09.32-.04.08-.11.17-.2.24s-.18.14-.28.2c-.1.06-.2.12-.29.18-.18.12-.34.23-.5.34-.16.11-.3.23-.41.37-.12.13-.21.28-.28.45-.07.17-.1.37-.1.59H18v-.68h-1.95zM16.08 6h.9V2h-.72c-.02.15-.08.28-.16.38-.08.1-.18.19-.3.25s-.25.11-.39.13c-.15.02-.3.04-.45.03v.61h1.12V6z"}),LIST_UNORDERED:d.a.createElement("path",{d:"M3 15c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm14 2H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1z"}),LOCATION_MARKER:d.a.createElement("path",{d:"M10 10.004c-1.183 0-2.07-.883-2.07-2.06s.887-2.06 2.07-2.06 2.07.883 2.07 2.06-.985 2.06-2.07 2.06m0-9.006C6.155.998 3 4.18 3 8c0 3.232 4.732 8.87 6.21 10.633.494.49.987.49 1.48 0C12.17 16.968 17 11.33 17 8c0-3.82-3.155-6.996-7-6.996"}),MESSENGER:d.a.createElement("path",{d:"M10 2c-4.42 0-8 3.58-8 8 0 4.417 3.58 8 8 8 4.417 0 7.998-3.583 7.998-8 0-4.42-3.58-8-7.998-8zm2.264 4.563c.51 0 .922.413.922.922 0 .51-.413.922-.922.922-.51 0-.922-.413-.922-.922 0-.51.413-.922.922-.922zm-4.553 0c.51 0 .923.424.923.948s-.413.948-.922.948c-.508 0-.92-.424-.92-.948s.412-.947.92-.947zm5.954 7.386c-.816.715-2.664 1.064-3.653 1.05-1.01.014-2.836-.335-3.652-1.05-1.24-1.09-1.376-2.95-1.376-3.363H15.04c0 .413-.135 2.273-1.376 3.362z"}),MINUS:d.a.createElement("path",{d:"M13.75 9.25h-7.5c-.414 0-.75.336-.75.75s.336.75.75.75h7.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),MIXED_CHECKBOX:d.a.createElement("g",null,d.a.createElement("path",{fill:"#188FFF",d:"M7 11h6c.552 0 1-.448 1-1 0-.553-.448-1-1-1H7c-.552 0-1 .447-1 1 0 .552.448 1 1 1z"}),d.a.createElement("path",{d:"M14.5 17h-9C4.122 17 3 15.878 3 14.5v-9C3 4.122 4.122 3 5.5 3h9C15.878 3 17 4.122 17 5.5v9c0 1.378-1.122 2.5-2.5 2.5zm-9-13C4.673 4 4 4.673 4 5.5v9c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-9z"})),MORE:d.a.createElement("g",null,d.a.createElement("circle",{cx:"3",cy:"10",r:"2"}),d.a.createElement("circle",{cx:"10",cy:"10",r:"2"}),d.a.createElement("circle",{cx:"17",cy:"10",r:"2"})),MOVE_TO_FOLDER:d.a.createElement("path",{d:"M17.25 5h-6.77l-.715-1.563C9.643 3.171 9.375 3 9.083 3H2.75c-.414 0-.75.336-.75.75v12.5c0 .414.336.75.75.75h6.5v-6.19l-1.72 1.72c-.293.293-.767.293-1.06 0s-.293-.767 0-1.06L10 7.94l3.53 3.53c.293.293.293.767 0 1.06-.146.147-.338.22-.53.22s-.384-.073-.53-.22l-1.72-1.72V17h6.5c.414 0 .75-.336.75-.75V5.75c0-.414-.336-.75-.75-.75z"}),NEWS:d.a.createElement("path",{d:"M8.5 9.8c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-.7c-.4 0-.7.3-.7.7s.3.7.7.7h.7zm6.6 0c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-3.6c-.4 0-.7.3-.7.7s.3.7.7.7h3.6zm0 2.9c.4 0 .7-.3.7-.7s-.3-.7-.7-.7H7.8c-.4 0-.7.3-.7.7s.3.7.7.7h7.3zM4.9 8.4H3.5v5.9c0 .4.3.7.7.7s.7-.3.7-.7V8.4zm10.2 8.1H4c-1.2 0-2-1-2-2.2V7.6c0-.4.3-.7.7-.7h2.2V4.7c0-.4.3-.7.7-.7h11.6c.5 0 .8.3.8.7v8.9c0 1.6-1.3 2.9-2.9 2.9z"}),NOTEPAD:d.a.createElement("path",{d:"M13 14.73V18l4-4h-3.11c-.66 0-.89.063-.89.73zM16 2H4c-.667 0-1 .333-1 1v14c0 .626.305.946.892.985.053.01.096.015.108.015h7.51v-4.23c.018-.832.438-1.25 1.266-1.256H17V3c-.007-.667-.34-1-1-1zM9 14H6.89c-.43 0-.78-.335-.78-.75s.35-.75.78-.75H9c.43 0 .778.335.778.75S9.428 14 9 14zm4.11-3.5H6.89c-.43 0-.78-.335-.78-.75S6.46 9 6.89 9h6.22c.43-.01.78.335.78.75s-.35.75-.78.75zm0-3.5H6.89c-.43 0-.78-.335-.78-.75s.35-.75.78-.75h6.22c.43 0 .78.335.78.75s-.35.75-.78.75z"}),NO_INTERNET:d.a.createElement("g",null,d.a.createElement("ellipse",{cx:"10",cy:"14.852",rx:"1.5",ry:"1.469"}),d.a.createElement("path",{d:"M19.268 7.865c-.31-.313-.635-.61-.967-.884C15.97 5.06 13.02 4 9.996 4S4.018 5.06 1.687 6.983c-.323.268-.637.552-.933.848-.34.34-.34.892 0 1.233.34.34.892.34 1.232 0 .258-.26.528-.505.81-.738C4.815 6.66 7.37 5.74 9.995 5.74c2.62 0 5.177.918 7.197 2.585.29.238.57.495.84.765.17.172.393.258.617.258.22 0 .443-.084.613-.252.34-.338.344-.888.005-1.23zM11 11.41V7.832c0-.507-.45-.917-1-.917-.553 0-1 .41-1 .917v3.577c0 .505.45.916 1 .916s1-.41 1-.916zM7.057 8.843c-.844.288-1.646.7-2.384 1.23-.394.284-.77.602-1.113.945-.34.34-.34.89-.002 1.23.17.172.393.257.616.257.222 0 .444-.085.615-.254.278-.278.58-.534.9-.763.445-.322.926-.573 1.424-.782.104-.044.17-.143.17-.255V9.01c.002-.12-.116-.205-.227-.167zM15.348 10.072c-.715-.515-1.49-.917-2.305-1.202-.146-.05-.3.063-.3.218v1.365c0 .112.066.21.17.254.495.208.974.46 1.42.778.315.228.62.486.9.766.34.34.893.34 1.232-.003s.337-.892-.004-1.232c-.348-.344-.722-.662-1.112-.943z"})),NONE_BELL:d.a.createElement("path",{d:"M16.065 13.117c-.28-.85-.43-1.745-.43-2.654v-2.77c0-2.626-1.69-4.918-4.062-5.708-.185-.06-.374-.108-.566-.15v-.17c0-.69-.56-1.25-1.25-1.25s-1.25.558-1.25 1.25v.17c-.192.042-.382.09-.567.15-.712.238-1.36.612-1.922 1.087l10.045 10.045h.002zM9.758 19.583c1.035 0 1.875-.84 1.875-1.875h-3.75c0 1.035.84 1.875 1.875 1.875zM18.504 17.914h.003L2.674 2.085c-.325-.326-.854-.326-1.18 0-.324.324-.324.85 0 1.178l2.653 2.652c-.174.565-.27 1.162-.27 1.78v2.77c0 1.764-.55 3.48-1.57 4.91-.3.468-.565.69-.654.92-.08.21.05.576.35.576v.004h13.103l2.22 2.22c.163.163.376.244.59.244.21 0 .425-.08.588-.244.325-.326.325-.853 0-1.18z"}),ORB:d.a.createElement("path",{d:"M.76 14.462c.505 1.253 1.21 2.29 2.115 3.11.903.818 1.966 1.424 3.182 1.82 1.22.392 2.538.59 3.96.59 1.4 0 2.708-.2 3.924-.59.49-.16 1.852-.62 3.185-1.82.906-.817 1.61-1.856 2.116-3.11.507-1.255.76-2.742.76-4.462 0-1.72-.253-3.208-.76-4.462-.505-1.255-1.21-2.29-2.115-3.108-.904-.82-1.964-1.426-3.184-1.82C12.726.216 11.417.02 10.02.02c-1.423 0-2.74.196-3.96.59-.396.127-1.83.62-3.183 1.82-.912.81-1.61 1.854-2.116 3.108C.252 6.793 0 8.278 0 10c0 1.72.253 3.207.76 4.462z"}),OUTDENT:d.a.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM8.2 10H5.5l.8-.8c.4-.4.4-1 0-1.4s-1-.4-1.4 0L1.6 11l3.2 3.2c.4.4 1 .4 1.4 0s.4-1 0-1.4l-.7-.8h2.8c.6 0 1-.4 1-1-.1-.6-.5-1-1.1-1z"}),PEOPLE:d.a.createElement("path",{d:"M5.5 10.6c1.64 0 3.078.828 3.863 2.062.36.564-.03 1.317-.684 1.317H2.32c-.652 0-1.042-.754-.683-1.318.785-1.234 2.222-2.06 3.863-2.06zm8.5 2.025c1.64 0 3.078.827 3.863 2.06.36.565-.03 1.318-.684 1.318h-6.36c-.652 0-1.042-.753-.683-1.317.785-1.234 2.222-2.06 3.863-2.06zM5.5 9C4.12 9 3 7.88 3 6.5S4.12 4 5.5 4 8 5.12 8 6.5 6.88 9 5.5 9zm8.5 2c-1.38 0-2.5-1.12-2.5-2.5S12.62 6 14 6s2.5 1.12 2.5 2.5S15.38 11 14 11z"}),POP_OUT:d.a.createElement("path",{d:"M15.4 16.4H3.6V4.6H11V3H2.8c-.4 0-.8.4-.8.8v13.4c0 .4.4.8.8.8h13.4c.5 0 .8-.4.8-.8V9.5h-1.6v6.9zM17.3 2h-4.2c-.2 0-.4.3-.4.6s.2.4.2.4l1.6 1-3.2 3.2c-.2.2-.2.5 0 .7l1 1c.2.2.5.2.7 0l3.2-3.2 1 1.6s.1.2.4.2.5-.3.5-.6V2.7c-.1-.4-.3-.7-.8-.7z"}),PRINTER:d.a.createElement("path",{d:"M13.8 13.5H6.2c-.4 0-.7.3-.7.7v2.6c0 .4.3.7.7.7h7.6c.4 0 .7-.3.7-.7v-2.6c0-.4-.3-.7-.7-.7zM15.5 3.2c0-.4-.3-.7-.7-.7H5.2c-.4 0-.7.3-.7.7v3.3h11V3.2zM17.3 8H2.7c-.4 0-.7.3-.7.7v6.6c0 .4.3.7.7.7h.6c.4 0 .7-.3.7-.7v-2.6c0-.4.3-.7.7-.7h10.6c.4 0 .7.3.7.7v2.6c0 .4.3.7.6.7h.7c.4 0 .7-.3.7-.7V8.7c0-.4-.3-.7-.7-.7zM15 11c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"}),READ:d.a.createElement("path",{d:"M10 2c-4.41 0-8 3.58-8 8s3.59 8 8 8 8-3.58 8-8-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.46 6-6 6"}),REFRESH:d.a.createElement("path",{d:"M16 10.3c0-1.4-.5-2.7-1.3-3.7l-1.1 1.1c.5.7.9 1.7.9 2.7 0 2.5-2 4.5-4.4 4.5H9l1-.8c.3-.3.4-.8.1-1.1-.3-.4-.9-.4-1.2-.1L6.5 15c-.3.3-.3.8 0 1.1l2.4 2.2c.3.3.9.3 1.2-.1.3-.3.2-.8-.1-1.1l-1-.8h1c3.3 0 6-2.7 6-6zM5.5 10.3c0-2.5 2-4.5 4.5-4.5h1.1l-1 .8c-.3.3-.3.8-.1 1.1.3.4.9.4 1.2.1l2.4-2.2c.3-.3.3-.8 0-1.1l-2.4-2.2c-.3-.3-.9-.3-1.2.1-.3.3-.2.8.1 1.1l1 .8H10c-3.3 0-6 2.7-6 6 0 1.4.5 2.6 1.2 3.7l1.1-1.1c-.5-.8-.8-1.7-.8-2.6z"}),REPLY:d.a.createElement("path",{d:"M8.71 15.946c.503.432 1.28.075 1.28-.587v-2.622c5.05 0 6.858 3.584 7.02 4.204.352.797 1.535.594 1.48-.262-.42-6.662-3.91-10.728-8.5-10.728V3.534c0-.662-.775-1.02-1.277-.588l-6.95 6.02c-.364.312-.36.875.01 1.18l6.938 5.8z"}),REPLY_ALL:d.a.createElement("path",{d:"M2.044 9.406l5.86-5.045c.324-.32.324-.838 0-1.16-.326-.32-.854-.32-1.18 0L.245 8.78c-.325.32-.325.84 0 1.16l6.507 6.42c.326.32.854.32 1.18 0 .325-.32.325-.84 0-1.16L2.043 9.407zM12.725 6.617V3.89c0-1.06-1.123-1.108-1.576-.694L4.804 9.14c-.348.32-.345.83.014 1.145l6.388 6.1c.63.525 1.526.162 1.526-.562l-.01-2.85c3.417 0 5.686 3.154 5.708 3.2.22.314.47.432.704.432.463 0 .864-.463.864-.772 0-7.27-4.44-9.216-7.275-9.216z"}),RESTORE_TO_INBOX:d.a.createElement("path",{d:"M18 4.174V3.78c0-.414-.325-.75-.727-.75H2.727c-.402 0-.727.336-.727.75v.394l8 3.782 8-3.782zM8.267 13.468l6.194-4.955c.403-.3 1.058-.073 1.058.528v1.968H18V5.824L10 9.53 2 5.826v8.456c0 .416.325.75.728.75h6.17l-.63-.506c-.39-.292-.31-.823 0-1.056zM19.678 12.51h-5.64v-.984c0-.3-.328-.414-.53-.264l-3.095 2.476c-.154.116-.194.382 0 .528l3.096 2.487c.218.164.527.004.527-.264v-.997h5.64c.183 0 .327-.16.327-.34v-2.306c0-.182-.144-.338-.326-.338z"}),RICHTEXT_OFF:d.a.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792c-.115.538.232 1.07.77 1.186.538.114 1.072-.233 1.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm3.854 12.147c.195.195.195.513 0 .707s-.512.195-.707 0l-1.897-1.897-1.897 1.897c-.195.195-.513.195-.707 0-.195-.194-.195-.512 0-.707l1.897-1.897-1.897-1.897c-.195-.195-.195-.513 0-.707s.512-.195.707 0l1.897 1.897 1.897-1.897c.195-.195.513-.195.707 0s.195.512 0 .707l-1.897 1.897 1.897 1.897z"}),RICHTEXT_ON:d.a.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792c-.115.538.232 1.07.77 1.186.538.114 1.072-.233 1.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm5 9.5c0 .275-.225.5-.5.5H15v2.5c0 .275-.225.5-.5.5s-.5-.225-.5-.5V13h-2.5c-.275 0-.5-.225-.5-.5s.225-.5.5-.5H14V9.5c0-.275.225-.5.5-.5s.5.225.5.5V12h2.5c.275 0 .5.225.5.5z"}),SCISSORS:d.a.createElement("path",{d:"M12.5 7.4l4.8-4.7c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L11 6l1.5 1.4zM7.9 6c.4-.6.6-1.3.6-2 0-2.2-1.8-4-4-4s-4 1.8-4 4 1.8 4 4 4c.7 0 1.4-.2 2-.6L8.1 9l-1.6 1.6c-.6-.4-1.3-.6-2-.6-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4c0-.7-.2-1.4-.6-2l1.6-1.6 6.3 6.3c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4L7.9 6zM2.5 4c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm2 12c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),SEARCH:d.a.createElement("path",{d:"M17.5 16.5l-4.8-4.8c.8-1 1.3-2.3 1.3-3.7 0-3.3-2.7-6-6-6S2 4.7 2 8s2.7 6 6 6c1.4 0 2.7-.5 3.7-1.3l4.8 4.8c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.7 0-1zm-9.5-4c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"}),SEARCH_MAIL:d.a.createElement("path",{d:"M17.81 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04-1.68 0-3.03 1.36-3.03 3.04s1.36 3.04 3.04 3.04c.61 0 1.18-.18 1.65-.49l1.59 1.59c.25.25.65.25.9 0 .25-.24.25-.65 0-.9zM13.68 15c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76S14.65 15 13.68 15zM16 4.5V4c0-.6-.37-1-.99-1h-12C2.41 3 2 3.41 2 4v.5S8.99 7 9 7l7-2.5zM13.67 8.95c.86 0 1.66.26 2.33.7V6L9 8.5C8.99 8.5 2 6 2 6c-.01-.01 0 6.75 0 6.75 0 .6.39 1.25 1 1.25h6.46c-.04-.25-.08-.5-.08-.76.01-2.37 1.92-4.29 4.29-4.29z"}),SEARCH_MINI:d.a.createElement("path",{d:"M15.26 14.108l-2.467-2.466c.513-.737.818-1.63.818-2.596 0-2.515-2.04-4.555-4.555-4.555C6.54 4.49 4.5 6.53 4.5 9.047s2.04 4.556 4.555 4.556c.957 0 1.843-.298 2.576-.802l2.47 2.468c.16.16.37.24.58.24s.42-.08.58-.24c.32-.32.32-.84 0-1.16zm-6.205-2c-1.69 0-3.06-1.37-3.06-3.062 0-1.69 1.37-3.06 3.06-3.06s3.062 1.37 3.062 3.06-1.372 3.062-3.062 3.062z"}),SEARCH_WEB:d.a.createElement("path",{d:"M9.3 16.44c-.95-.46-1.74-1.83-2.14-3.66h1.48c.05-.49.19-.96.38-1.39H6.94c-.05-.45-.07-.91-.07-1.39s.03-.94.07-1.39H9.3v2.25c.36-.58.83-1.08 1.39-1.45v-.8h5.77c.09.44.14.89.15 1.36v.51c0 .38.31.7.7.7.38 0 .7-.31.7-.7v-.51c-.02-4.58-3.88-8.25-8.53-7.95-3.92.25-7.12 3.38-7.45 7.28-.38 4.5 2.95 8.3 7.27 8.67.08.01.2.01.32.02.24.01.46-.11.59-.31.2-.33.08-.77-.28-.93l-.63-.31zm6.69-9.22h-1.76c-.24-1.18-.64-2.22-1.14-3.06 1.27.67 2.29 1.75 2.9 3.06zM10.7 3.56c.95.46 1.74 1.83 2.14 3.66H10.7V3.56zm-1.4 0v3.66H7.16c.41-1.83 1.19-3.21 2.14-3.66zm-2.39.6c-.51.84-.9 1.88-1.14 3.06H4.01c.61-1.31 1.63-2.39 2.9-3.06zM3.39 10c0-.48.05-.94.15-1.39h2.01c-.04.45-.07.91-.07 1.39 0 .48.03.94.07 1.39H3.54c-.1-.45-.15-.91-.15-1.39zm.62 2.78h1.76c.24 1.17.63 2.22 1.14 3.06-1.27-.67-2.29-1.75-2.9-3.06zM17 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04-1.68 0-3.03 1.36-3.03 3.04s1.36 3.04 3.04 3.04c.61 0 1.18-.18 1.65-.49l1.59 1.59c.25.25.65.25.9 0 .24-.25.24-.65 0-.9m-4.14-1.48c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76-.79 1.76-1.76 1.76"}),SELECTED:d.a.createElement("path",{d:"M10.83 16.338c-.49.385-1.184.385-1.676 0L0 9.4v9.585C0 19.585.43 20 1.077 20h17.846c.63 0 1.077-.415 1.077-1.015v-9.6l-9.17 6.953zM.37 8.985l9.168 6.8c.246.185.585.185.83 0l9.263-6.8c.186-.138.186-.415 0-.554L10.71.23c-.415-.307-1-.307-1.415 0L.37 8.43c-.185.14-.185.416 0 .555z"}),SENT:d.a.createElement("path",{d:"M17.6 9.3L3 2.8c-.5-.2-1.1.2-1 .7l1.4 5L9.2 10l-5.8 1.5L2 16.3c-.2.6.4 1.1 1 .9l14.5-6.5c.6-.3.6-1.1.1-1.4z"}),SETTINGS:d.a.createElement("path",{d:"M10.025 13.157c-1.747 0-3.167-1.416-3.167-3.157s1.42-3.157 3.167-3.157c1.746 0 3.167 1.416 3.168 3.157 0 1.74-1.422 3.157-3.168 3.157m8.66-4.62c-.023-.005-.084-.02-1.344-.22l-1.018-.17c-.03-.004-.056-.026-.065-.056l-.005-.018-.008-.018-.038-.093c-.09-.215-.302-.732-.405-.973l-.006-.016-.01-.015c-.013-.027-.012-.06.007-.086l1.374-1.91c.132-.182.12-.43-.032-.603-.027-.028-.505-.505-1.43-1.425-.09-.09-.21-.14-.34-.14-.1 0-.196.03-.278.09l-1.92 1.37c-.012.01-.03.015-.048.015-.023-.003-.03-.005-.037-.01l-.02-.008-.018-.01-1.065-.44c-.088-.036-.092-.057-.095-.078l-.384-2.32c-.036-.234-.28-.402-.476-.402H9.027c-.24 0-.44.172-.477.408l-.38 2.307c-.004.01-.015.036-.045.063-.14.065-.794.33-1.08.447l-.036.015-.022.008-.02.01c-.01.006-.023.01-.036.01-.01 0-.03-.003-.046-.016l-.1-.072C4.98 2.888 4.957 2.874 4.935 2.862c-.07-.042-.154-.064-.24-.064-.06 0-.215.012-.335.123l.002.002c-.046.043-.17.166-.58.573l-.846.844-.01.01-.012.012c-.136.16-.158.372-.055.557v-.003c.082.14.354.515 1.4 1.955.017.023.02.057.005.084l-.01.016-.006.017-.043.097c-.134.317-.254.6-.404.974l-.006.016-.005.015c-.01.03-.035.054-.066.06L1.4 8.53c-.232.036-.403.237-.403.476v1.988c0 .237.177.44.412.476l2.316.38c.03.006.057.03.066.058l.004.014.005.014c.17.43.293.74.453 1.086l.005.01.005.01c.015.028.012.063-.007.09l-1.373 1.907-.077.167c-.038.16.007.335.13.456l.09.087 1.32 1.316c.09.09.21.14.34.14.103 0 .202-.03.285-.092l1.89-1.35c.03-.015.052-.023.066-.023.01 0 .036.003.086.02l.05.022c.373.16.642.276 1.02.42l.013.006.013.004c.03.01.052.035.058.065l.384 2.318c.028.21.252.405.478.405h1.994c.24 0 .44-.172.477-.408l.378-2.286c.02-.06.047-.094.214-.153.353-.14.62-.246.962-.4.03-.01.056-.015.07-.015.007 0 .022 0 .053.018l1.902 1.358.015.012.02.01c.076.047.162.07.25.07.114 0 .223-.04.314-.117l.012-.012.012-.012.705-.703c.56-.563.703-.708.753-.77.055-.074.13-.22.07-.413-.004-.017-.01-.034-.02-.055l-.01-.025H17.2c-.057-.108-.198-.3-.547-.773l-.86-1.197c-.018-.026-.02-.06-.006-.087l.01-.017.006-.018.434-1.047c.047-.085.066-.1.108-.113 2.255-.362 2.333-.387 2.367-.397l.012-.004.012-.005c.208-.078.317-.285.317-.448V9.006c.002-.22-.146-.41-.37-.468"}),SHARE_SOCIAL:d.a.createElement("path",{d:"M13.2 12.1c-.6 0-1.2.2-1.7.6l-2.3-1.6c.1-.3.2-.7.2-1.1s-.1-.7-.2-1.1l2.3-1.6c.5.3 1.1.6 1.7.6 1.6 0 2.9-1.3 2.9-2.9s-1.3-3-2.9-3-2.9 1.3-2.9 2.9c0 .4.1.7.2 1.1L8.2 7.6c-.5-.3-1.1-.5-1.8-.5-1.6 0-2.9 1.3-2.9 2.9s1.3 2.9 2.9 2.9c.6 0 1.2-.2 1.7-.6l2.3 1.6c-.1.3-.2.7-.2 1.1 0 1.6 1.3 2.9 2.9 2.9S16 16.6 16 15s-1.2-2.9-2.8-2.9z"}),SHOPPING:d.a.createElement("path",{d:"M16.8 7h-3.4v-.7C13.4 4.5 11.9 3 10 3S6.6 4.5 6.6 6.3V7H3.2c-.5 0-.8.4-.7.8l1.9 8.7c.1.3.4.5.7.5H15c.3 0 .6-.2.7-.5l1.8-8.7c0-.1 0-.8-.7-.8zM12 7H8v-.7c0-1.1.9-2 2-2s2 .9 2 2V7z"}),SPAM:d.a.createElement("path",{d:"M12.84 11.7c.314.314.314.825 0 1.14-.316.316-.827.316-1.142 0l-1.7-1.7-1.697 1.7c-.314.316-.825.316-1.14 0-.315-.314-.315-.826 0-1.14l1.7-1.7-1.724-1.724c-.316-.315-.316-.826 0-1.14.316-.316.826-.316 1.14 0l1.725 1.723 1.725-1.725c.315-.315.826-.315 1.14 0s.316.826 0 1.14L11.142 10l1.7 1.7zm4.18-7.027c-1.296-.09-3.867-.6-6.512-2.977-.145-.13-.327-.196-.51-.196-.18 0-.363.065-.507.196C6.847 4.074 4.276 4.583 2.98 4.673c-.41.03-.706.38-.707.79 0 9.375 6.28 12.534 7.462 12.987.087.034.18.05.27.05.09 0 .18-.016.265-.047 1.182-.438 7.46-3.578 7.46-12.99 0-.412-.295-.762-.706-.79z"}),SPONSORED:d.a.createElement("path",{d:"M5.4 4.3c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm-.5 9.8l-.5.5c-.3.3-.3.7 0 1s.7.3 1 0l.5-.5c.3-.3.3-.7 0-1s-.8-.3-1 0zm10.2 0c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm0-8.2l.5-.5c.3-.3.3-.7 0-1s-.7-.3-1 0l-.5.5c-.3.3-.3.7 0 1 .3.3.8.3 1 0zm2.2 3.4h-.7c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.3-.7-.7-.7zM8.5 7.8h3.6c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-1.5c0-.4-.3-.7-.7-.7s-.6.3-.6.7H8.2c-1 0-1.8.8-1.8 1.8v.7c0 1 .8 1.8 1.8 1.8h2.5c.4 0 .7.3.7.7s-.3.7-.7.7H7.1c-.4 0-.7.3-.7.7s.3.7.7.7h2.2c0 .4.3.7.7.7s.7-.3.7-.7h.4c1 0 1.8-.8 1.8-1.8V11c0-1-1-1.8-2.2-1.8H8.5c-.4 0-.7-.3-.7-.7s.3-.7.7-.7zM10 4.2c.4 0 .7-.3.7-.7v-.8c0-.4-.3-.7-.7-.7s-.7.3-.7.7v.7c0 .5.3.8.7.8zM3.5 9.3h-.8c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.2-.7-.6-.7zm6.5 6.5c-.4 0-.7.3-.7.7v.7c0 .4.3.7.7.7s.7-.3.7-.7v-.7c0-.4-.3-.7-.7-.7z"}),STAR:d.a.createElement("path",{d:"M15.718 8.35c-.066-.205-.256-.35-.47-.35h-3.656l-1.13-3.475c-.066-.203-.256-.34-.47-.34s-.403.137-.47.34L8.393 8H4.736c-.214 0-.403.145-.47.35-.066.203.007.426.18.552l2.958 2.152-1.13 3.482c-.066.204.006.427.18.553.173.125.407.125.58 0l2.958-2.153 2.958 2.152c.087.062.19.094.29.094s.205-.032.29-.095c.174-.127.247-.35.18-.554l-1.13-3.482 2.96-2.152c.172-.126.244-.35.178-.553z"}),STATIONERY:d.a.createElement("path",{d:"M17.007 3H16V.78c0-.562-.43-.922-.96-.78L2 3v14c0 .548.45 1 1 1h14.007c.548 0 .993-.45.993-1V4c0-.548-.445-1-.993-1zM14.5 1.5V3H8l6.5-1.5zm2 15h-13v-12h13v12zM10 14.5l3.397-3.426c.804-.814.804-2.14 0-2.954-.395-.4-.922-.62-1.482-.62-.594 0-1.112.154-1.915 1.058C9.187 7.643 8.67 7.5 8.086 7.5c-.56 0-1.087.22-1.482.62-.805.814-.805 2.14 0 2.955L10 14.5z"}),STRIKETHROUGH:d.a.createElement("path",{d:"M8.5 7.5c-.3-.3-.8-.7-.8-1.7 0-1.2.9-2.3 2.8-2.3 1.5 0 2.3 1.1 2.7 2.1.2.4.7.7 1.3.4.5-.2.5-.8.3-1.1-.6-1.2-1.3-2.9-4.3-2.9C7.4 2 6 3.9 6 5.8c0 .9.2 1.2.5 1.7h2zM16.2 9H3.8c-.5 0-.8.3-.8.7s.3.8.8.8H10c2 .4 2.9 1.3 2.9 2.8 0 1.6-1 2.7-2.9 2.7s-2.6-.9-3-2c-.1-.4-.6-.8-1.1-.6-.3.1-.7.5-.6 1 .4 1.4 1.7 3.1 4.7 3.1s4.5-1.9 4.5-4.3c0-1.3-.4-2-1-2.7h2.7c.4 0 .8-.4.8-.8s-.3-.7-.8-.7z"}),TAB_IMAGES:d.a.createElement("path",{d:"M3.46 14.636l3.633-5.814 1.38 2.206-1.26 1.824c-.226.33-.11.76.26.96.334.18.75.104.996-.15l3.71-5.568 4.36 6.54H3.46v.002zM17.272 3H2.728C2.326 3 2 3.326 2 3.727v12.356c0 .4.326.726.728.726h14.546c.4 0 .727-.326.727-.727V3.727c0-.4-.326-.727-.727-.727z"}),TEXT:d.a.createElement("path",{d:"M11.1 17c.5 0 .7-.2.8-.6l1.1-2.8h4.2l1.1 2.8c.2.5.6.6 1.1.5.4-.1.6-.7.4-1L16 6.1c-.2-.3-.5-.6-.9-.6s-.7.3-.9.6l-3.1 8L7 3.7c-.2-.4-.5-.7-1-.7-.6 0-.9.4-1.1.8l-4.7 12s-.3.8.4 1.1c.4.2.9 0 1.1-.5L3 12.9h5.9l1.4 3.5s.2.6.8.6zm-7.6-5.4L6 5.2l2.5 6.4h-5zm10 .8L15.2 8l1.7 4.4h-3.4z"}),TEXT_COLOR:d.a.createElement("g",null,d.a.createElement("circle",{fill:"#30D3B6",cx:"5.5",cy:"14",r:"4"}),d.a.createElement("circle",{fill:"#FFD333",cx:"9.5",cy:"6",r:"4"}),d.a.createElement("circle",{fill:"#FF333A",cx:"14.5",cy:"14",r:"4"}),d.a.createElement("path",{d:"M15.9 4"})),TRAVEL:d.a.createElement("path",{d:"M6 7.59c-.1-.1-.06-.1-.3-.1H2.464c-.1 0-.293-.024-.393.076-.114.115-.06.213.04.424L4.2 11.8c.082.124.2.2.3.2h4.6l-2.33 2.333c-.24.226-.24.46-.16.54.1.1.133.13.29.13H11c.1 0 .096-.005.2-.1l3-2.903h2.088c.9 0 2.182-.36 2.182-1.8 0-1.176-1.182-1.7-2.182-1.7H6.7M9.712 8h3.7L10.6 5.1c-.1-.1-.2-.1-.3-.1H7.7c-.2 0-.294.07-.34.18-.04.232.036.295.14.42L9.712 8z"}),TRUSTED:d.a.createElement("path",{d:"M17 4.7c-1.3-.1-3.9-.6-6.5-3-.1-.1-.3-.2-.5-.2s-.4.1-.5.2C6.8 4.1 4.3 4.6 3 4.7c-.4 0-.7.4-.7.8 0 9.4 6.3 12.5 7.5 13h.6c1.2-.4 7.5-3.6 7.5-13-.2-.4-.5-.8-.9-.8zm-2.4 2.6c.3.3.3.8 0 1.1l-5 5c-.3.3-.8.3-1.1 0l-2.2-2.1c-.3-.3-.3-.8 0-1.1s.8-.3 1.1 0L9 11.8l4.5-4.5c.4-.3.9-.3 1.1 0z"}),TUMBLR:d.a.createElement("path",{d:"M11.84 17.95h-.12c-3.76 0-4.58-2.77-4.58-4.38V9.08H5.65c-.17 0-.31-.14-.31-.31V6.65c0-.22.14-.42.35-.5 1.93-.68 2.54-2.37 2.63-3.65.02-.33.2-.5.5-.5h2.21c.17 0 .31.14.31.31V5.9h2.59c.17 0 .31.14.31.31v2.54c0 .17-.14.31-.31.31h-2.6v4.15c0 1.04.69 1.33 1.11 1.33.41-.01.81-.13 1.01-.21.15-.06.28-.1.4-.07.11.03.18.1.23.25l.69 2c.06.16.1.33-.01.46-.55.57-1.8.96-2.92.98z"}),VIDEO_CALL:d.a.createElement("path",{d:"M18.4 5.1c-.1 0-.3 0-.4.1l-2.3 1.5V5.2c0-.9-.7-1.5-1.5-1.5H2.3c-.9 0-1.5.7-1.5 1.5v9.5c0 .9.7 1.5 1.5 1.5h11.8c.9 0 1.5-.7 1.5-1.5v-1.5l2.3 1.5c.1.1.3.1.4.1.5 0 .9-.4.9-.9V6c.1-.5-.3-.9-.8-.9z"}),YBANG:d.a.createElement("g",null,d.a.createElement("circle",{cx:"10",cy:"10",r:"7"}),d.a.createElement("path",{fill:"#FFF",d:"M7.115 7.813L8.27 10.62l1.165-2.807h1.877l-2.86 6.562H6.56l.774-1.738-2.15-4.825h1.93zm4.586 2.57c.674 0 1.173.484 1.173 1.09 0 .616-.52 1.128-1.213 1.128-.673 0-1.173-.492-1.173-1.09 0-.605.52-1.126 1.214-1.126zM15.2 5.667l-1.917 4.3h-2.14l1.917-4.3h2.14z"})),TAP_TO_TOP:d.a.createElement("path",{d:"M14.4 9.7L11 6.4V19H9V6.4L5.6 9.8c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L10 3l5.7 5.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.3 0M3.3 1h13.4c.7 0 1.3.4 1.3 1 0 .5-.6 1-1.3 1H3.3C2.6 3 2 2.5 2 2c0-.6.6-1 1.3-1"}),SIDEBAR:d.a.createElement("path",{d:"M17.2 6H2.8C2.358 6 2 5.552 2 5s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1zm0 5H2.8c-.442 0-.8-.448-.8-1s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1zm0 5H2.8c-.442 0-.8-.448-.8-1s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1z"}),BIG_STAR:d.a.createElement("path",{d:"M18.38 6.917h-5.83l-1.8-5.54c-.106-.324-.41-.544-.75-.544s-.643.22-.748.543L7.45 6.916H1.62c-.34 0-.642.22-.747.544-.106.324.01.68.286.88l4.715 3.423-1.802 5.54c-.105.324.01.68.287.88.276.2.65.2.926 0L10 14.758l4.716 3.422c.138.1.3.15.463.15.16 0 .324-.05.462-.15.276-.2.392-.555.286-.88l-1.8-5.54 4.715-3.422c.276-.2.392-.556.286-.88-.107-.324-.41-.543-.75-.543z"}),SOLID_CIRCLE:d.a.createElement("path",{d:"M10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8"}),HOTELS:d.a.createElement("path",{d:"M18.182 8.364h-9.32l-1.7-2.956c-.148-.252-.416-.406-.707-.406h-3.82v-2.47c0-.452-.366-.818-.817-.818S1 2.08 1 2.65V17.38c0 .332.367.7.818.7s.818-.368.818-.82v-1.635h14.727v1.636c0 .45.367.817.818.817s.82-.366.82-.818V9.18c0-.452-.367-.818-.818-.818zM5.985 6.638l.954 1.726H2.635V6.638h3.35zM2.635 10H5.91v3.987H2.635V10zm4.91 0h9.818v3.987H7.545V10z"}),TICKETS:d.a.createElement("path",{d:"M16.667 1.022H12.5v.833c0 .06-.01.198-.04.384-.053.313-.147.625-.29.91-.383.768-1.04 1.205-2.17 1.205S8.213 3.918 7.83 3.15c-.143-.285-.237-.597-.29-.91-.03-.186-.04-.324-.04-.385v-.833H3.333c-.457 0-.833.38-.833.846V18.19c0 .486.403.828.837.828.15 0 .307-.04.45-.134l1.935-1.418 1.603 1.383c.15.114.33.17.51.17.17 0 .338-.05.484-.153L10 17.47l1.682 1.398c.145.102.315.154.485.154.18 0 .36-.057.51-.172l1.6-1.383 1.937 1.418c.144.092.3.133.45.133.434 0 .836-.342.836-.827V1.87c0-.465-.375-.846-.833-.846zm-.834 15.53l-.568-.415-1.075-.788-1.008.87-1.025.885-1.087-.904-1.07-.89-1.07.892-1.087.904-1.027-.886-1.01-.87-1.074.788-.565.412V2.675H5.92v.012l.004.012c.08.37.207.78.414 1.195C6.995 5.21 8.214 6.022 10 6.022s3.005-.813 3.662-2.127c.21-.42.34-.833.417-1.21.002-.012 0 .004 0 .004v-.014h1.753v13.876zM13.333 11.35H6.667c-.46 0-.833.37-.833.828 0 .456.372.827.833.827h6.665c.46 0 .833-.37.833-.827 0-.457-.37-.827-.832-.827zM13.33 8H6.664c-.46 0-.833.37-.833.827 0 .456.373.827.834.827h6.665c.46 0 .832-.37.832-.827 0-.458-.37-.827-.832-.827z"}),THEATERS:d.a.createElement("path",{d:"M18.695 4.19c.222.18.334.462.298.746l-.827 6.617c-.03 2.732-2.262 4.946-5 4.946-.025 0-.05-.004-.075-.004-.396 2.362-2.45 4.17-4.924 4.17-2.738 0-4.97-2.214-5-4.946L2.34 9.103c-.036-.284.078-.565.298-.747.222-.182.524-.235.792-.147.023.007 2.195.718 4.417.783L7.34 4.937c-.036-.284.078-.566.298-.748.222-.183.524-.236.792-.147.024.008 2.408.79 4.737.79s4.712-.78 4.737-.79c.267-.09.57-.036.79.146zM8.167 19c1.66 0 3.028-1.222 3.28-2.81-1.894-.7-3.256-2.508-3.28-4.636l-.112-.892c-1.475-.013-2.922-.285-3.906-.523l.677 5.424c.004.034.007.07.007.103C4.834 17.505 6.328 19 8.167 19zm-.833-5.833c0 .46-.374.833-.834.833-.46 0-.833-.373-.833-.833s.373-.834.833-.834c.46 0 .834.374.834.834zm.833 4.166H6.5c0-.914.753-1.667 1.667-1.667s1.667.752 1.667 1.667H8.167zm8.34-5.936l.677-5.425c-1.007.245-2.503.528-4.017.528-1.513 0-3.01-.283-4.017-.528l.368 2.95.206 1.647.103.827c.004.034.007.07.007.103 0 1.287.742 2.394 1.812 2.95.157.08.32.146.49.203.087.03.173.06.265.083.07.017.14.028.21.042.183.03.367.056.557.056 1.838 0 3.333-1.495 3.333-3.333 0-.034.003-.07.007-.103zm-3.34.103h1.667c0 .914-.753 1.667-1.667 1.667S11.5 12.414 11.5 11.5h1.667zM12.334 9c0 .46-.373.833-.833.833s-.833-.373-.833-.833.373-.833.833-.833.834.373.834.833zm3.333 0c0 .46-.373.833-.833.833S14 9.46 14 9s.373-.833.833-.833.834.373.834.833z"}),CONCERTS:d.a.createElement("path",{d:"M18.62 1.368c-.505-.506-1.325-.506-1.832 0l-.717.718c-.262.262-.38.61-.37.953l-4.86 4.856-.12-2.453c-.02-.424-.333-.776-.75-.846-.414-.064-.83.16-.987.555L7.32 9.312 1.55 11.744c-.38.16-.602.555-.542.962.06.408.39.722.798.765l4.13.434.458 4.3c.043.405.355.732.758.794.047.007.092.01.137.01.355 0 .683-.208.828-.54l2.316-5.308 2.14-.77c.39-.14.635-.527.593-.94-.042-.41-.36-.74-.77-.8l-1.434-.205-.005-.12 6.03-6.03c.33 0 .66-.127.913-.38l.72-.717c.506-.506.506-1.326 0-1.832"}),SPORTS:d.a.createElement("path",{d:"M19.045 5.638c-.374-1.283-2.008-1.185-2.392-.1l-.216.613c-.192.463-.562.474-.89.474-.17 0-.333-.05-.472-.15-.506-.352-1.535-1.118-1.985-1.454-.144-.107-.317-.164-.497-.164h-1.555c-.16 0-.32.038-.45.132-1.076.78-3.58 2.628-7.74 3.41C1.746 8.606 1 9.786 1 11.018c0 1.11.686 2.655 1.805 2.655H3.5v.417c0 .46.375.834.833.834.46 0 .834-.375.834-.834v-.416h1.666v.416c0 .46.375.834.834.834.458 0 .833-.375.833-.834v-.416h1.667v.416c0 .46.375.834.833.834.458 0 .833-.375.833-.834v-.416H16v.416c0 .46.375.834.833.834.46 0 .834-.375.834-.834v-.416h.2c1.944 0 1.415-6.822 1.178-8.036zM3.415 9.994c.792-.28 1.078-.376 2.006-.666l2.68 2.68H3.78c-1.234 0-1.554-1.564-.364-2.014zm7.042 2.013l-3.3-3.3c.436-.176.845-.355 1.226-.535l3.835 3.835h-1.76zm6.9 0h-2.782L9.937 7.37c.605-.345 1.07-.647 1.366-.847h1.014c.555.413 1.357 1.007 1.803 1.32.42.292.913.448 1.427.448.846 0 1.574-.308 2.066-.853.124 1.48.066 3.664-.257 4.57z"}),FACEBOOK:d.a.createElement("path",{d:"M17.117 2H2.883C2.395 2 2 2.395 2 2.883v14.234c0 .488.395.883.883.883h7.663v-6.196H8.46V9.39h2.086V7.607c0-2.067 1.262-3.192 3.106-3.192.883 0 1.642.066 1.863.095v2.16l-1.28.002c-1.002 0-1.196.476-1.196 1.176V9.39h2.39l-.31 2.415h-2.08V18h4.076c.49 0 .884-.395.884-.883V2.883c0-.488-.395-.883-.883-.883z"}),FLICKR:d.a.createElement("g",null,d.a.createElement("circle",{cx:"5.2",cy:"10",r:"4",fill:"#1d75cf"}),d.a.createElement("circle",{cx:"14.8",cy:"10",r:"4",fill:"#fe0084"})),FLICKR_MONOCHROME:d.a.createElement("g",null,d.a.createElement("circle",{cx:"5.2",cy:"10",r:"4"}),d.a.createElement("circle",{cx:"14.8",cy:"10",r:"4"})),TWITTER:d.a.createElement("path",{d:"M18 4.5c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.8 0-3.3 1.5-3.3 3.3 0 .3 0 .5.1.7-2.7-.1-5.1-1.4-6.7-3.4-.3.5-.4 1-.4 1.6 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4 0 1.6 1.1 2.9 2.6 3.2-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.2 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H2c1.5 1 3.2 1.6 5 1.6 6 0 9.3-5 9.3-9.3v-.4c.7-.5 1.3-1.1 1.7-1.8z"}),LINKEDIN:d.a.createElement("path",{d:"M15.242 15.097h-2.104v-3.405c0-.902-.163-1.44-.914-1.44-.54 0-.946.293-1.215.576v4.27H8.904V8.835h2.104v.836c.365-.396.996-.887 1.878-.887 1.477 0 2.354.952 2.354 2.907v3.405zM6.338 7.935c-.67 0-1.214-.544-1.214-1.214 0-.67.544-1.215 1.214-1.215.672 0 1.215.544 1.215 1.216 0 .67-.543 1.215-1.215 1.215zm1.066 7.162H5.3v-6.26h2.104v6.26zM17.922 2.53c-.053-.12-.117-.217-.195-.295-.078-.078-.17-.137-.273-.176-.105-.04-.222-.06-.35-.06H2.896c-.13 0-.248.02-.35.06-.104.038-.196.097-.274.175-.078.078-.144.176-.195.294-.053.116-.078.227-.078.33v14.28c0 .104.025.215.078.332.05.118.117.215.195.294.078.078.17.137.273.176.104.04.22.058.35.058h14.207c.13 0 .246-.02.35-.058.104-.04.196-.098.274-.176.078-.08.142-.176.195-.294.052-.117.078-.228.078-.332V2.86c0-.103-.026-.214-.078-.33z"}),BASKET:d.a.createElement("path",{d:"M12.51 13.71v-1.636c0-.452.368-.818.82-.818.45 0 .817.367.817.818v1.636c0 .452-.367.818-.818.818-.453 0-.82-.366-.82-.818zm-3.283 0v-1.636c0-.452.367-.818.818-.818.452 0 .82.367.82.818v1.636c0 .452-.368.818-.82.818-.45 0-.818-.366-.818-.818zm-3.272-.014V12.06c0-.452.367-.818.818-.818.452 0 .818.367.818.818v1.636c0 .452-.366.818-.817.818-.452 0-.818-.367-.818-.818zM18.18 8.002h-2.834l-3.03-4.545c-.25-.375-.758-.477-1.134-.227-.376.25-.478.76-.227 1.135l2.424 3.637H6.62l2.423-3.637c.252-.376.15-.884-.226-1.135-.376-.25-.884-.148-1.135.227l-3.03 4.545H1.82c-.45 0-.818.366-.818.818s.367.818.818.818h.21l1.928 6.426c.29.965 1.35 1.936 2.36 1.936h7.37c1.008 0 2.07-.97 2.36-1.936l1.927-6.426h.21c.45 0 .817-.367.817-.818s-.367-.818-.818-.818z"}),CAMERA_FILL:d.a.createElement("path",{d:"M7.59 10.744c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5-2.5 1.12-2.5 2.5zm-1.666 0c0-2.3 1.865-4.167 4.167-4.167s4.168 1.865 4.168 4.167c0 2.3-1.865 4.167-4.167 4.167s-4.166-1.865-4.166-4.166zm.832-6.667v-.833c0-.46-.373-.833-.833-.833h-2.5c-.46 0-.833.374-.833.834v.833h-.833c-.46 0-.833.373-.833.833v11.667c0 .46.373.833.833.833h16.687c.46 0 .812-.373.812-.833V4.91c0-.46-.352-.833-.812-.833H6.756z"}),TAG_FILL:d.a.createElement("path",{d:"M5.9 7.5c-.9 0-1.7-.7-1.7-1.6S5 4.2 5.9 4.2s1.7.8 1.7 1.7-.8 1.6-1.7 1.6zm13 2.2L10.4 1c-.1-.1-.4-.2-.6-.2H1.7c-.5 0-.8.4-.8.8v8.1c0 .2.1.4.3.6l8.6 8.5c.2.2.4.2.6.2.2 0 .4-.1.6-.2l8-8c.2-.2.2-.7-.1-1.1z"}),CARD:d.a.createElement("path",{d:"M18.597 3.035H1.335c-.476 0-.864.386-.864.86V7.5h18.99V3.896c0-.475-.387-.86-.863-.86zm-15.13 9.33H9.3c.46 0 .835.374.835.834s-.374.833-.834.833H3.468c-.46 0-.834-.374-.834-.834s.374-.835.834-.835zM.47 16.135c0 .475.388.86.865.86h17.262c.476 0 .864-.385.864-.86V8.5H.47v7.635z"}),CLIPCOUPON:d.a.createElement("path",{d:"M4.3 14.3c-.9 0-1.7.8-1.7 1.7 0 .9.8 1.7 1.7 1.7 1 0 1.7-.8 1.7-1.7 0-.9-.8-1.7-1.7-1.7zM12.7 14.3c-.9 0-1.7.7-1.7 1.7s.7 1.7 1.7 1.7 1.7-.7 1.7-1.7-.8-1.7-1.7-1.7zM14.3 13.1c-.5-.3-1.1-.4-1.7-.4-.6 0-1.2.2-1.7.5L3.3 5.4c-.3-.3-.9-.3-1.2 0s-.3.9 0 1.2l5.2 5.2L6 13.2c-1.6-.9-3.6-.4-4.6 1.2S1 18 2.6 18.9c1.6.9 3.6.4 4.6-1.2.3-.5.5-1.1.5-1.7 0-.6-.2-1.2-.5-1.7L8.5 13l1.3 1.3c-.9 1.6-.4 3.6 1.2 4.5 1.6.9 3.6.4 4.5-1.2.9-1.5.4-3.6-1.2-4.5zM6 16c0 .9-.7 1.7-1.7 1.7-.9 0-1.7-.7-1.7-1.7 0-.9.7-1.7 1.7-1.7.9 0 1.7.8 1.7 1.7zm6.7 1.7c-.9 0-1.7-.7-1.7-1.7s.7-1.7 1.7-1.7 1.7.7 1.7 1.7-.8 1.7-1.7 1.7zM18.5 1H7.7c-.5 0-.9.4-.9.8v5h1.7V2.7h9.2v7.5h-4.2v1.7h5c.5 0 .8-.4.8-.8V1.8c0-.4-.3-.8-.8-.8zM14.9 5.4c-.3-.3-.9-.3-1.2 0l-4 4.1 1.2 1.2 4-4c.3-.4.3-1 0-1.3z"}),CART:d.a.createElement("path",{d:"M6.677 16.28c0 .693-.56 1.254-1.253 1.254-.692 0-1.253-.562-1.253-1.253 0-.69.562-1.252 1.254-1.252.693 0 1.253.56 1.253 1.253zm6.685-.022c0 .692-.56 1.253-1.253 1.253-.693 0-1.253-.56-1.253-1.252 0-.69.56-1.253 1.252-1.253s1.253.562 1.252 1.253zM18.332 2.5h-2.808c-.397 0-.738.278-.818.667l-.55 2.667H1.67c-.563 0-.963.543-.8 1.08l2.033 6.672c.108.352.432.592.8.592h9.77c.397 0 .738-.28.818-.668l1.124-5.506.783-3.834h2.133c.462 0 .836-.373.836-.835s-.374-.835-.836-.835zM12.79 12.507H4.32L2.797 7.504H13.81l-.023.113-.012.063-.985 4.827z"}),DESKTOP_ATTACHMENT:d.a.createElement("path",{d:"M17.4 14.5H2.6V4.6h3.5v5.5c0 .2.1.5.2.8.3.8 1.1 1.3 2.2 1.3h.1c1.1 0 1.8-.5 2.2-1.3.1-.2.2-.5.2-.8V7c0-.2 0-.5-.2-.7-.2-.4-.7-.7-1.2-.7h-.1.1-.2c-.7 0-1.1.2-1.2.7-.2.2-.3.4-.3.6v2.9c0 .2.2.5.5.5.2 0 .5-.2.5-.5V6.9c0-.1 0-.2.1-.2.1-.2.2-.2.5-.2.2 0 .4.1.5.2v3.1c0 .2 0 .5-.2.7-.2.5-.6.7-1.3.7h-.1c-.7 0-1.1-.2-1.3-.7-.1-.3-.1-.6-.1-.8V4.6h10.4v9.9zM7.1 3v-.2s.1-.4.2-.6c.2-.4.7-.7 1.2-.7h.1C9.7 1.4 10 2 10 3H7.1zm11.1 0H11C11 1.4 10.3.5 8.6.5h-.1c-1 0-1.7.5-2.1 1.3-.3.4-.3.9-.3 1.2H1.8c-.5 0-.8.3-.8.8v11.5c0 .5.3.8.8.8h6.6l-.8 1.6H5.1c-.5 0-.8.3-.8.8s.3.8.8.8H15c.5 0 .8-.3.8-.8s-.3-.8-.8-.8h-2.5l-.8-1.6h6.6c.5 0 .8-.3.8-.8V3.8c-.1-.5-.4-.8-.9-.8z"}),PREVIEW:d.a.createElement("path",{d:"M10 14.9c-5.1 0-7.9-3.6-7.9-3.6-.7-.7-.7-1.9 0-2.6 0 0 2.8-3.6 7.9-3.6s7.9 3.6 7.9 3.6c.7.7.7 1.9 0 2.6 0 0-2.8 3.6-7.9 3.6zm0-1.8c1.7 0 3.1-1.4 3.1-3.1 0-1.7-1.4-3.1-3.1-3.1-1.7 0-3.1 1.4-3.1 3.1 0 1.7 1.4 3.1 3.1 3.1zm0-1.5c-.9 0-1.7-.7-1.7-1.6 0-.9.7-1.7 1.6-1.7h.1c.9 0 1.6.8 1.6 1.7 0 .9-.7 1.6-1.6 1.6z"}),DRIVE:d.a.createElement("path",{d:"M6.7 2.8L1 12.8l2.8 5 5.7-10zM6.7 2.8zM7.6 12.8l-2.9 5H16l3-5.1zM18.5 12.1l-5.7-9.9H7.2l5.5 9.9z"}),DROPBOX:d.a.createElement("path",{d:"M10 11.3L4.6 8 .9 11l5.4 3.4 3.7-3.1 3.7 3.1 5.4-3.4-3.7-3zM10 12l-3.7 3.1-1.6-1v1.1l5.3 3.2 5.4-3.2v-1.1l-1.6 1zM19.1 5zM10 4.7L6.3 1.6.9 5l3.7 3zM19.1 5l-5.4-3.4L10 4.7 15.4 8z"}),SUBSCRIPTIONS:d.a.createElement("path",{d:"M.5 13.2V6.6L4 8v6.1H1.4c-.5 0-.9-.4-.9-.9zm13.8-9.5V5H4.8c-.5 0-.8.4-.8.9v.4L.5 4.9V3.7c0-.5.4-.9.9-.9h12.1c.4.1.8.5.8.9zm-2.5 9.5c.4.2 1.1.2 1.6 0l6.1-2.5v5.6c0 .5-.4.9-.9.9H6.5c-.5 0-.9-.4-.9-.9v-5.6zm6.8-6.4c.5 0 .9.4.9.9V9l-6.9 2.9-6.9-3V7.6c0-.5.4-.9.9-.9h12z"}),NO_ADS:d.a.createElement("path",{d:"M10 2.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zM10 16c-3.31 0-6-2.69-6-6 0-1.38.48-2.66 1.27-3.67l1.28 1.28h-.33l-1.47 4.18v.05h1.02l.25-.8h1.47l.25.8h1.2v-.05l-.96-2.75 1.03 1.03c0 .05-.02.08-.02.14 0 1.13.54 1.7 1.32 1.7.17 0 .32-.03.45-.09l2.91 2.91C12.66 15.52 11.38 16 10 16zm-2.75-5.74h-.98l.49-1.56.49 1.56zm3.93-.14l-.82-.82c.08-.05.18-.09.29-.09.23 0 .38.07.53.2v.71zm3.55 3.55l-1.92-1.92c.26.09.57.15 1 .15.84 0 1.36-.42 1.36-1.14 0-.61-.32-.83-1-1l-.29-.06c-.22-.05-.31-.12-.31-.27 0-.16.1-.25.41-.25.37 0 .71.08.95.17l.04-.02v-.74c-.26-.08-.59-.14-1.01-.14-.8 0-1.29.43-1.29 1.08 0 .58.35.88.88 1.01l.29.07c.29.07.38.12.38.28 0 .17-.15.28-.47.28-.37 0-.75-.1-1.03-.26l-.04.02v.68l-.45-.45V7.33l-1.05.17v1.31c-.19-.22-.45-.35-.82-.35-.24 0-.46.08-.65.19L6.33 5.27C7.34 4.48 8.62 4 10 4c3.31 0 6 2.69 6 6 0 1.38-.48 2.66-1.27 3.67z"}),NUMBER_ONE:d.a.createElement("path",{d:"M15.33 3H4.67C4.3 3 4 3.31 4 3.69v12.63c0 .4.32.68.67.68.12 0 .25-.03.36-.11l1.55-1.16 1.28 1.13c.12.09.26.14.41.14.14 0 .27-.04.39-.12L10 15.73l1.35 1.14c.11.09.25.13.38.13.14 0 .29-.05.41-.14l1.28-1.13 1.55 1.16c.12.07.24.11.36.11.35 0 .67-.28.67-.67V3.69c0-.38-.3-.69-.67-.69zm-.66 12l-1.31-.98-1.63 1.44L10 13.99l-1.73 1.47-1.63-1.44-1.31.98V4.33h9.33V15zM7.32 9.63h-.53v-.86h.64l.08-.61h-.54V7.3h.65l.11-.86h.71l-.11.86h.5l.11-.86h.71l-.1.86h.52v.86h-.64l-.07.61h.53v.86h-.64l-.12.95h-.72l.12-.95h-.52l-.13.95H7.2l.12-.95zm1.32-.86l.08-.61h-.51l-.08.61h.51zM11.48 7.86l-1.08.67-.06-.02V7.3l1.46-.9h1.16v5.64h-1.49V7.86z"}),STOPWATCH_DASHES:d.a.createElement("path",{d:"M12 12.25c-.19 0-.38-.07-.53-.22l-1.5-1.5c-.29-.29-.29-.77 0-1.06s.77-.29 1.06 0l1.5 1.5c.29.29.29.77 0 1.06-.15.15-.34.22-.53.22zM14.75 4.5h-5.5c-.41 0-.75-.34-.75-.75S8.84 3 9.25 3h5.5c.41 0 .75.34.75.75s-.34.75-.75.75zM8.75 9.5h-5c-.41 0-.75-.34-.75-.75S3.34 8 3.75 8h5c.41 0 .75.34.75.75s-.34.75-.75.75zM4.75 12h-3c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h3c.41 0 .75.34.75.75s-.34.75-.75.75zM7.75 14.5h-4.5c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h4.5c.41 0 .75.34.75.75s-.34.75-.75.75zM16.74 7.82l.79-.79c.29-.29.29-.77 0-1.06s-.77-.29-1.06 0l-.79.79C14.66 5.97 13.39 5.5 12 5.5c-1.77 0-3.36.78-4.46 2h2.44c.61-.31 1.29-.5 2.02-.5 2.48 0 4.5 2.02 4.5 4.5S14.48 16 12 16c-1.06 0-2.02-.38-2.79-1H7.13c1.09 1.51 2.86 2.5 4.87 2.5 3.31 0 6-2.69 6-6 0-1.39-.47-2.66-1.26-3.68zM7.62 12.5c-.07-.32-.12-.66-.12-1 0-.53.11-1.03.28-1.5H6.2c-.13.48-.2.98-.2 1.5 0 .34.04.67.09 1h1.53z"}),GIFT:d.a.createElement("path",{d:"M17 6h-2.45c.19-.11.38-.23.53-.39 1.05-1.05 1.05-2.76 0-3.82-.52-.53-1.21-.79-1.9-.79s-1.38.26-1.91.79c-.8.8-1.16 1.81-1.27 3.21-.11-1.4-.48-2.41-1.28-3.21C8.19 1.26 7.5 1 6.81 1s-1.38.26-1.91.79c-1.05 1.05-1.05 2.76 0 3.82.16.16.34.28.53.39H3c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1h5.5V6.5h3V10H17c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1zM8.19 4.97c-.94 0-1.86-.05-2.23-.42-.23-.23-.35-.53-.35-.85s.12-.62.35-.85c.23-.23.53-.35.85-.35s.62.12.85.35c.34.34.7.86.82 2.12h-.29zm5.84-.42c-.37.37-1.29.42-2.23.42h-.28c.12-1.26.48-1.77.82-2.11.23-.23.53-.35.85-.35s.62.12.85.35.35.53.35.85-.14.61-.36.84zM3 18c0 .55.49 1 1.1 1h4.4v-7.5H3V18zM11.5 19h4.58c.51 0 .92-.45.92-1v-6.5h-5.5V19z"}),INFINITY:d.a.createElement("path",{d:"M14.24 6.23c-1.44 0-2.56.82-3.56 1.87.23.26.88 1.02.98 1.14.81-.86 1.63-1.51 2.58-1.51 1.25 0 2.27 1.02 2.27 2.27s-1.02 2.27-2.27 2.27c-1.36 0-2.47-1.34-3.65-2.75C9.23 7.9 7.83 6.23 5.77 6.23 3.69 6.23 2 7.92 2 10s1.69 3.77 3.77 3.77c1.45 0 2.56-.83 3.56-1.87-.23-.26-.88-1.02-.99-1.14-.81.87-1.64 1.51-2.58 1.51-1.25 0-2.27-1.02-2.27-2.27s1.02-2.27 2.27-2.27c1.36 0 2.47 1.34 3.65 2.75 1.35 1.62 2.74 3.29 4.81 3.29 2.08 0 3.77-1.69 3.77-3.77s-1.67-3.77-3.75-3.77z"}),MEDICAL_KIT:d.a.createElement("path",{d:"M11 13v2c0 .552-.448 1-1 1-.553 0-1-.448-1-1v-2H7c-.553 0-1-.448-1-1 0-.553.447-1 1-1h2V9c0-.553.447-1 1-1 .552 0 1 .447 1 1v2h2c.552 0 1 .447 1 1 0 .552-.448 1-1 1h-2zM7 4h6v2H7V4zm10 2h-2V3c0-.553-.448-1-1-1H6c-.553 0-1 .447-1 1v3C3.343 6 2 7.343 2 9v8c0 .552.447 1 1 1h14c.552 0 1-.448 1-1V9c0-1.657-1.344-3-3-3h2z"}),ADD_CONTACT:d.a.createElement("path",{d:"M15.21 6.875c0 1.496-1.212 2.71-2.71 2.71-1.495 0-2.71-1.214-2.71-2.71s1.215-2.71 2.71-2.71c1.496 0 2.71 1.214 2.71 2.71zm1.847 5.474c-.11-.105-.216-.21-.345-.305-.992-.74-2.51-1.21-4.212-1.21s-3.22.47-4.21 1.21c-.13.095-.237.2-.347.304-.534.503-.86 1.095-.86 1.74v1.328c0 .458.376.834.835.834h9.166c.46 0 .834-.376.834-.834v-1.33c0-.643-.324-1.235-.86-1.74zM7.5 8.437H6.25v-1.25c0-.46-.372-.834-.834-.834s-.834.372-.834.834v1.25h-1.3v.01c-.436.03-.782.382-.782.823s.346.795.78.824v.01h1.302v1.303h.01c.03.434.382.78.824.78s.794-.345.823-.78h.01v-1.302H7.5c.46 0 .834-.372.834-.834S7.96 8.44 7.5 8.44z"}),MONOCHROME_MIXED_CHECKBOX:d.a.createElement("path",{d:"M7 11h6c.552 0 1-.448 1-1 0-.553-.448-1-1-1H7c-.552 0-1 .447-1 1 0 .552.448 1 1 1zM14.5 17h-9C4.122 17 3 15.878 3 14.5v-9C3 4.122 4.122 3 5.5 3h9C15.878 3 17 4.122 17 5.5v9c0 1.378-1.122 2.5-2.5 2.5zm-9-13C4.673 4 4 4.673 4 5.5v9c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-9z"}),NOTSPAM:d.a.createElement("path",{d:"M17.023 4.67v.002c-1.3-.09-3.87-.6-6.515-2.978-.143-.13-.326-.194-.507-.194-.182 0-.364.065-.508.195-2.644 2.38-5.216 2.89-6.513 2.978-.412.03-.707.38-.708.792C2.272 14.84 8.55 18 9.732 18.45c.087.035.18.05.272.05.09 0 .177-.014.264-.047 1.18-.437 7.46-3.578 7.46-12.99 0-.413-.294-.76-.705-.792zM10 13.864c-2.135 0-3.864-1.73-3.864-3.863S7.866 6.137 10 6.137 13.86 7.867 13.86 10s-1.73 3.863-3.863 3.863zM7.37 10c0 1.45 1.18 2.627 2.63 2.627.5 0 .962-.147 1.36-.39l-3.597-3.6c-.245.4-.392.863-.392 1.363zM9.998 7.372c-.5 0-.962.148-1.36.392l3.597 3.597c.243-.397.39-.86.39-1.36 0-1.45-1.178-2.628-2.627-2.628z"}),BLOCK_PEOPLE:d.a.createElement("path",{d:"M12.6 10c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM12.6 11c-4.4 0-6.4 2.5-6.4 4.3V18h13v-2.7c-.1-2.1-2.1-4.3-6.6-4.3zm4.6 5H8v-.7c0-.6 1.1-2.3 4.5-2.3 3 0 4.6 1.2 4.6 2.3v.7zM6.1 10.2L5 9.1 6.1 8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L3.6 7.7 2.5 6.6c-.4-.3-1-.3-1.4 0-.3.4-.3 1 0 1.4l1.1 1.1-1.1 1.1c-.3.4-.3 1 0 1.4.4.4 1 .4 1.4 0l1.1-1.1 1.1 1.1c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4z"}),BLOCK_PEOPLE_FILL:d.a.createElement("path",{d:"M16.1 6c0 1.8-1.5 3.2-3.2 3.2-1.8 0-3.2-1.5-3.2-3.2s1.5-3.2 3.2-3.2c1.8-.1 3.2 1.4 3.2 3.2zm2.3 6.6c.6.6 1 1.3 1 2.1v1.6c0 .5-.4 1-1 1h-11c-.6 0-1-.5-1-1v-1.6c0-.8.4-1.5 1-2.1l.4-.4c1.2-.9 3-1.5 5.1-1.5s3.9.6 5.1 1.5l.4.4zM4.8 8.9L5.9 10c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0l-1.1-1.1-1.1 1.1c-.4.3-1 .3-1.4 0s-.4-1 0-1.4L2 8.9.9 7.8c-.3-.4-.3-1 0-1.4s1-.4 1.4 0l1.1 1.1 1.1-1.1c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L4.8 8.9z"}),PHONE:d.a.createElement("path",{d:"M18.8 16.5c.3-.4.3-.9-.1-1.2L14.2 12c-.2-.2-.5-.2-.8-.1l-3.1 1c-.6-.5-1.2-1-1.8-1.6-.4-.5-1-1.1-1.5-1.7l1-3.1c.2-.3.1-.5 0-.8L4.7 1.3c-.3-.4-.8-.4-1.2-.1L1.6 3.1C-.1 4.7 2 9.5 6.3 13.7c4.2 4.2 9 6.4 10.6 4.7l1.9-1.9z"}),COMMENT_FILL:d.a.createElement("path",{d:"M4.4 1.1h11.2c1.8 0 3.3 1.5 3.3 3.2v8.1c0 1.8-1.5 3.2-3.3 3.2H5.8l-3.4 3c-.2.1-.4.2-.6.2-.1 0-.2 0-.3-.1-.3-.1-.5-.4-.5-.7V4.3c.1-1.8 1.6-3.2 3.4-3.2zm9.7 4.8H6c-.4 0-.8.4-.8.8s.3.9.8.9h8.1c.4 0 .8-.4.8-.8s-.4-.9-.8-.9zM6 9.2c-.4 0-.8.4-.8.8s.4.8.8.8h8.1c.4 0 .8-.4.8-.8s-.4-.8-.8-.8H6z"}),CONVERSATIONS_FILL:d.a.createElement("path",{d:"M14.8 9.2V4.4c0-1.8-1.4-3.2-3.2-3.2H4.5c-1.8 0-3.2 1.4-3.2 3.2v9.3c0 .4.2.7.5.9.1 0 .2.1.4.1s.4-.1.6-.2l2.3-2.2h6.5c1.8.1 3.2-1.4 3.2-3.1zM5.3 4.4h5.6c.4 0 .8.4.8.8s-.4.8-.9.8H5.3c-.5 0-.8-.4-.8-.8s.3-.8.8-.8zm5.5 4.8H5.3c-.4 0-.8-.4-.8-.8s.4-.8.8-.8h5.6c.4 0 .8.4.8.8-.1.4-.4.8-.9.8zM16.4 5.3v3.9c0 2.6-2.1 4.8-4.8 4.8H5.7l-.3.2c.4 1.2 1.6 2.1 3 2.1h6.5l2.3 2.2c.2.2.4.2.6.2.2 0 .3-.1.4-.1.3-.2.5-.5.5-.9V8.4c.1-1.5-1-2.7-2.3-3.1z"}),UNSUBSCRIBE:d.a.createElement("path",{d:"M18.2 9.8c-.8-.3-1.5-.5-2.4-.5-3.2 0-5.8 2.5-6.1 5.5H2.3c-.5 0-1-.4-1-1V5.5l8.2 3.8.3.1.4-.1 8.1-3.5zm0-6.1L9.8 7.2 1.3 3.3v-.5c0-.6.4-1 1-1h15c.6 0 1 .4 1 1zm-4.1 8.7l1.8 1.9 1.8-1.9c.4-.4.9-.4 1.2 0 .4.4.4.9 0 1.2l-1.8 1.9 1.8 1.8c.4.4.4.9 0 1.2-.4.4-.9.4-1.2 0L16 16.8l-1.8 1.8c-.4.4-.9.4-1.2 0-.4-.4-.4-.9 0-1.2l1.8-1.8-1.8-1.9c-.4-.4-.4-.9 0-1.2.2-.4.8-.4 1.1-.1z"}),BLOCK:d.a.createElement("path",{d:"M2.5 10c0-1.8.6-3.4 1.6-4.7l10.5 10.5c-1.3 1-2.9 1.6-4.7 1.6-4 .1-7.4-3.3-7.4-7.4m15 0c0 1.8-.6 3.4-1.7 4.7L5.3 4.2c1.3-1 2.9-1.7 4.7-1.7 4.1 0 7.5 3.4 7.5 7.5M10 .8C4.9.8.8 4.9.8 10s4.1 9.2 9.2 9.2 9.2-4.1 9.2-9.2S15.1.8 10 .8"}),TAB_MESSAGES:d.a.createElement("path",{d:"M17.273 4H2.727C2.325 4 2 4.335 2 4.75v1.393l8 3.782 8-3.782V4.75c0-.415-.325-.75-.727-.75zM10 11.5L2 7.794v7.456c0 .415.325.75.728.75h14.545c.4 0 .727-.335.727-.75V7.793L10 11.5z"}),FLAG:d.a.createElement("g",null,d.a.createElement("path",{d:"M16.8 4h-4.3v-.7c0-.5-.4-.8-.8-.8H7.3c-.5 0-.8.4-.8.8v7.3c0 .5.4.8.8.8H10v1.2c0 .5.4.8.8.8h5.9c.5 0 .8-.4.8-.8V4.8c0-.4-.3-.8-.7-.8"}),d.a.createElement("path",{d:"M4.3 19c-.4 0-.8-.3-.8-.8V1.7c0-.4.3-.7.7-.7.5 0 .8.3.8.7v16.5c0 .5-.3.8-.7.8z"})),SORT:d.a.createElement("path",{d:"M9.2 3.6c0-.4.4-.8.8-.8h8.2c.5 0 .8.4.8.8s-.4.8-.8.8H10c-.5 0-.8-.4-.8-.8m-8 9.7c.3-.3.8-.3 1.2 0l1.9 1.8V2h1.6v13.1l1.9-1.8c.3-.3.8-.3 1.2 0 .2.1.2.3.2.5s-.1.4-.2.5L5.1 18l-3.9-3.6c-.3-.3-.3-.8 0-1.1M14.1 10c0 .4-.4.8-.8.8H10c-.5 0-.8-.4-.8-.8s.4-.8.8-.8h3.3c.4 0 .8.4.8.8m2.4-3.2c0 .4-.4.8-.8.8H10c-.5 0-.8-.4-.8-.8s.3-.8.8-.8h5.7c.5 0 .8.4.8.8"}),PRO:d.a.createElement("path",{d:"M5.14 17.1c-.24.24-.24.64 0 .88s.64.24.88 0l.44-.44c.24-.24.24-.64 0-.88s-.64-.24-.88 0l-.44.44zM9.38 18.75v.62c0 .35.27.63.62.63s.62-.28.62-.62v-.62c0-.34-.28-.62-.62-.62s-.62.27-.62.61zM14.42 16.66c-.24-.24-.64-.24-.88 0s-.24.64 0 .88l.44.44c.24.24.64.24.88 0s.24-.64 0-.88l-.44-.44zM10 8.71c.45 0 .63.16.63.54 0 .36-.16.56-.62.56h-.32v-1.1H10zm-4.53.03c.36 0 .58.16.58.58 0 .43-.17.61-.57.61h-.32V8.74h.31zm9.6-.04c.54 0 .82.5.82 1.3s-.27 1.33-.82 1.33c-.55 0-.82-.53-.82-1.33s.29-1.3.82-1.3zm-4.88-1.1H8.04v4.84h1.65v-1.58h.38l.69 1.58h1.68v-.08l-.89-1.92c.42-.25.64-.68.64-1.26-.01-.97-.64-1.58-2-1.58zm-4.7 0H3.51v4.84h1.65V11h.36c1.26 0 2.05-.51 2.05-1.66 0-1.23-.81-1.74-2.08-1.74zm9.58-.1c-1.56 0-2.51 1.06-2.51 2.5s.95 2.54 2.51 2.54c1.57 0 2.51-1.1 2.51-2.54s-.94-2.5-2.51-2.5zM15 5c2.76 0 5 2.24 5 5s-2.24 5-5 5H5c-2.76 0-5-2.24-5-5s2.24-5 5-5h10zM6.02 2.01c-.24-.24-.64-.24-.88 0s-.24.64 0 .88l.44.44c.24.24.64.24.88 0s.24-.64 0-.88l-.44-.44zM10.62 1.25V.62c0-.34-.27-.62-.62-.62s-.62.28-.62.62v.62c0 .35.28.62.62.62s.62-.26.62-.61zM14.86 2.9c.24-.24.24-.64 0-.88s-.64-.24-.88 0l-.44.44c-.24.24-.24.64 0 .88s.64.24.88 0l.44-.44z"}),ANNOUNCEMENT:d.a.createElement("path",{d:"M14.22 2.04L5 5.11H.83c-.45 0-.83.47-.83 1.04v6.26c0 .57.37 1.04.83 1.04H2.5v.83c0 2.3 1.87 4.17 4.17 4.17 1.93 0 3.56-1.32 4.03-3.1l3.52 1.17c.43.14.78-.11.78-.57V2.61c0-.46-.35-.71-.78-.57zM2.5 11.75v-5h1.67v5H2.5zm4.17 5.03c-1.46 0-2.5-1.25-2.5-2.5v-.83H5l4.1 1.37c-.24 1.04-1.18 1.96-2.43 1.96zM16.88 12.31c.23-.4.74-.54 1.14-.31l1.44.83c.4.23.53.74.3 1.14-.23.4-.74.54-1.14.31l-1.44-.83c-.4-.23-.54-.74-.3-1.14zM19.17 8.45c.46 0 .83.37.83.83s-.37.83-.83.83H17.5c-.46 0-.83-.37-.83-.83s.37-.83.83-.83h1.67zM18.62 4.28c.4-.23.91-.09 1.14.31.23.4.09.91-.31 1.14l-1.44.83c-.4.23-.91.09-1.14-.3-.23-.4-.09-.91.3-1.14l1.45-.84z"}),KEEP_NEW:d.a.createElement("path",{d:"M11.2 12.2L20 8.5v7.7c0 .4-.4.8-.8.8H3.3c-.4 0-.8-.3-.8-.8V8.5l8.7 3.7zM2.5 6C1.1 6 0 4.9 0 3.5S1.1 1 2.5 1 5 2.1 5 3.5 3.9 6 2.5 6zm16.7-2.3H6.5C6.4 5.5 5.1 7 3.4 7.4l7.8 3.4L20 7V4.5c0-.4-.4-.8-.8-.8z"}),OPEN_ENVELOPE:d.a.createElement("path",{d:"M19 9v8.5c0 .55-.45 1-1 1H1.99c-.55 0-.99-.44-.99-.99V9l9 5 9-5zm-9 3.5l-9-5 8.35-5.77c.37-.3.9-.3 1.28 0L19 7.5l-9 5z"})};class h extends d.a.Component{shouldComponentUpdate(e){return e.ariaLabel!==this.props.ariaLabel||e.colorState!==this.props.colorState||e.size!==this.props.size||e.rotate!==this.props.rotate||e.kind!==this.props.kind}render(){const e=this.props,t=e.colorState,s=e.forwardedRef,r=e.size,a=e.rotate,i=e.allowPointerEvents,c=e.ariaLabel,l=e.kind,E=e.flipRTL,u=o()(e,["colorState","forwardedRef","size","rotate","allowPointerEvents","ariaLabel","kind","flipRTL"]),m=p()(_.a,{colorState:t,size:r,rotate:a,allowPointerEvents:i,flipRTL:E});let h=m.icon;return E&&(h+=" "+m.rtlRawScaleX),d.a.createElement("svg",n()({ref:s,"aria-label":c,viewBox:"0 0 20 20",className:h},u),S[l])}}c()(h,"defaultProps",{colorState:m.ColorStates.NORMAL,size:m.Sizes.S}),t.b=h;const C=S},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(34),o=s.n(a),i=s(3),c=s.n(i),l=s(7),d=s.n(l),E=s(1),_=s.n(E),u=s(664),p=s.n(u),m=s(12),S=s.n(m),h=s(25),C=(s(9),s(102)),g=s.n(C);function O(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const T=h.a.THEMED_LIKE_COMPOSE_BUTTON,A=h.a.PRIMARY,I=[A,h.a.SECONDARY,h.a.DANGER,T],f=[T];class D extends _.a.Component{constructor(...e){super(...e),c()(this,"keyboardClick",e=>{/^( |Enter)$/.test(e.key)&&(e.preventDefault(),e.stopPropagation(),this.props.onClick(e))})}componentWillMount(){if(f.indexOf(this.props.kind)>=0&&!this.context.getTheme)throw new Error("context.getTheme() is required for theme related button kind")}render(){const e=this.props,t=e.kind,s=e.disabled,r=e.paddingLess,a=e.marginLess,i=e.onClick,l=e.children,d=e.isOnDarkBackground,E=e.overridingClass,u=e.tabIndex,m=e.buttonRef,h=o()(e,["kind","disabled","paddingLess","marginLess","onClick","children","isOnDarkBackground","overridingClass","tabIndex","buttonRef"]),C=S()(p.a,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?O(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({decorated:I.indexOf(t)>=0,kind:t,disabled:s,paddingLess:r,marginLess:a,isOnDarkBackground:d,primaryHover:`${t===A}_${s}`},t===T?{[`${T}_${this.context.getTheme()}`]:!0}:{}));return _.a.createElement("button",n()({tabIndex:u,disabled:Boolean(s),className:E?g()(C.button,E):C.button,onKeyDown:i&&this.keyboardClick,onClick:i,type:"button",ref:m},h),l)}}c()(D,"contextTypes",{getTheme:d.a.func}),c()(D,"defaultProps",{kind:h.a.PRIMARY,disabled:!1,paddingLess:!1,marginLess:!1,isOnDarkBackground:!1,tabIndex:-1}),t.a=D},function(e,t,s){"use strict";t.a=function(e,t,s={}){if(!e){const e=new Error(t);e.name="Invariant";throw!s||0===Object.keys(s).length||(e.data=s),e}return e}},function(e,t,s){"use strict";s.d(t,"c",(function(){return E})),s.d(t,"e",(function(){return _})),s.d(t,"d",(function(){return u})),s.d(t,"f",(function(){return p})),s.d(t,"g",(function(){return m})),s.d(t,"b",(function(){return S})),s.d(t,"j",(function(){return h})),s.d(t,"i",(function(){return C})),s.d(t,"h",(function(){return g})),s.d(t,"a",(function(){return O})),s.d(t,"k",(function(){return T}));var r=s(3),n=s.n(r),a=s(0),o=s(9),i=s(191),c=s(53),l=s.n(c);function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function E(){return"undefined"!=typeof window}function _(e){if(E())return new Promise(t=>{const s=new Image;s.src=e,s.onload=()=>{t()}})}function u(e,t={}){if(!e)return e;const s=Object(i.parse)(e),r=s.protocol,a=s.host,o=s.pathname,c=s.hash,E=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},l.a.parse(s.query),{},t),_=l.a.stringify(E);let u="";return r&&(u=r+"//"),a&&(u+=a),o&&(u+=o),_&&(u=u+"?"+_),c&&(u+=c),u}function p(e){const t=e||{},s=t.partner,r=t.reason,n=t.isMobile,o=window.location.port;let i=window.location.protocol+"//"+window.location.hostname;o&&(i+=":"+o),i+=(void 0!==n&&n?a.uc:a.Ie)+"?reason="+(void 0===r?"unkown":r),"ycorp"===(void 0===s?"":s)&&(i+="&.partner=ycorp"),window.location.replace(i)}function m(e){const t=window.location.href,s=Object(i.parse)(t),r=(1*l.a.parse(s.query).counter||0)+1,n=u(t,{reason:e,counter:r});r<10&&(window.location.href=n)}function S(e){try{return new Intl.DateTimeFormat("en",{timeZone:e}),!0}catch(e){return!1}}function h(){return E()&&"function"==typeof Object(o.b)(window,"DataTransfer.prototype.setDragImage")}function C(e){if(!E())return;const t=Object(o.b)(window,"AppBootstrapData.browserName");t&&t.toLowerCase().indexOf("safari")>=0||(e.style.position="fixed",e.style.top="-1000px",e.style.left="-1000px")}function g(e,t){return h()&&(t||((t=document.createElement("img")).src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",document.body.appendChild(t)),e.setDragImage(t,0,0)),t}function O(e){e&&document.body.removeChild(e)}function T(){try{return JSON.parse.apply(JSON,arguments)}catch(e){return null}}},function(e,t,s){"use strict";s.r(t);s(7);var r=s(1),n=s.n(r),a=s(17),o=s(18),i=s(665),c=s.n(i),l=s(12),d=s.n(l),E=s(102),_=s.n(E);const u=/^(kind|colorState|size|rotate)$/,p=/^(?:(?:disabled|paddingLess|role|title)$|data-|aria-|on)/,m=n.a.forwardRef((e,t)=>{const s={},r=d()(c.a,{size:e.size,paddingLess:e.paddingLess,isOnDarkBackground:e.isOnDarkBackground,isCompact:e.isCompact,disabled:e.disabled}),i={"data-test-id":e["data-test-id"]||"icon-btn-"+e.kind.toLowerCase(),"data-iskeynav":e["data-iskeynav"],tabIndex:e.tabIndex,id:e.id,className:r.button,buttonRef:t};return Object.keys(e).forEach(t=>{u.test(t)?s[t]=e[t]:p.test(t)?i[t]=e[t]:"className"===t&&(i[t]=_()(i.className,e[t]))}),n.a.createElement(o.a,i,n.a.createElement("span",{className:r.content},n.a.createElement(a.b,s),e.children?n.a.createElement("span",{className:r.label},e.children):null))});m.displayName="ForwardRef<FujiIconButton>",m.defaultProps={isOnDarkBackground:!1},t.default=m},function(e,t,s){"use strict";s.d(t,"f",(function(){return p})),s.d(t,"k",(function(){return m})),s.d(t,"d",(function(){return S})),s.d(t,"j",(function(){return h})),s.d(t,"c",(function(){return C})),s.d(t,"g",(function(){return g})),s.d(t,"e",(function(){return O})),s.d(t,"a",(function(){return T})),s.d(t,"h",(function(){return A})),s.d(t,"b",(function(){return I})),s.d(t,"m",(function(){return f})),s.d(t,"p",(function(){return D})),s.d(t,"n",(function(){return R})),s.d(t,"o",(function(){return b})),s.d(t,"l",(function(){return N}));var r=s(3),n=s.n(r),a=s(11),o=s(9),i=s(23),c=s(0);function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}s.d(t,"i",(function(){return c.ve}));const E={NIGHT_LANDSCAPE:{IMAGE:"/img/night_landscape.jpg",BG_BACKGROUND_COLOR:"#1d1f39",BACKGROUND_COLOR:"#1d1f39",BACKGROUND_SIZE:"100% auto",BACKGROUND_REPEAT:"no-repeat",MAX_BACKGROUND_SIZE:"100% auto",GRADIENT_COLOR_1:"#8DA4EC",GRADIENT_COLOR_2:"#8DA4EC",GRADIENT_COLOR_3:"#8DA4EC",HIGHLIGHT:"#8DA4EC",COMPOSE_BUTTON_COLOR:"#8DA4EC",SEGMENT_BORDER_COLOR:Object(i.a)("#8DA4EC",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#8DA4EC",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#8DA4EC",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#8DA4EC",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#8DA4EC",.16),FOLDER_ACTIVED_BORDER:"2px solid #8DA4EC",ITEM_SELECTED_BGCOLOR:Object(i.a)("#8DA4EC",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#8DA4EC",.16),OPACITY_MASK_COLOR:"#111222",PREVIEWR_TOOLBAR_COLOR:Object(i.a)("#111222",.3),CLIP_BUTTON_COLOR:"#8DA4EC"},ROADTRIP:{IMAGE:"/img/roadtrip.jpg",BACKGROUND_REPEAT_IMAGE:"/img/roadtrip_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"349px auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#be8f85",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#d9aa76",GRADIENT_COLOR_2:"#d9aa76",GRADIENT_COLOR_3:"#d9aa76",HIGHLIGHT:"#d9aa76",COMPOSE_BUTTON_COLOR:"#d9aa76",SEGMENT_BORDER_COLOR:Object(i.a)("#d9aa76",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#d9aa76",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#d9aa76",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#d9aa76",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#d9aa76",.16),FOLDER_ACTIVED_BORDER:"2px solid #d9aa76",ITEM_SELECTED_BGCOLOR:Object(i.a)("#d9aa76",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#d9aa76",.16),OPACITY_MASK_COLOR:a.Ab,PREVIEWR_TOOLBAR_COLOR:Object(i.a)(a.Ab,.3),CLIP_BUTTON_COLOR:"#d9aa76"},SUNSET_AUSSIE:{IMAGE:"/img/sunset_aussie.jpg",BACKGROUND_REPEAT_IMAGE:"/img/sunset_aussie_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#5B3B3E",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#ef8f4e",GRADIENT_COLOR_2:"#ef8f4e",GRADIENT_COLOR_3:"#ef8f4e",HIGHLIGHT:"#ef8f4e",COMPOSE_BUTTON_COLOR:"#ef8f4e",SEGMENT_BORDER_COLOR:Object(i.a)("#ef8f4e",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#ef8f4e",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#ef8f4e",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#ef8f4e",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#ef8f4e",.16),FOLDER_ACTIVED_BORDER:"2px solid #ef8f4e",ITEM_SELECTED_BGCOLOR:Object(i.a)("#ef8f4e",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#ef8f4e",.16),OPACITY_MASK_COLOR:"#352431",PREVIEWR_TOOLBAR_COLOR:Object(i.a)("#352431",.3),CLIP_BUTTON_COLOR:"#ef8f4e"},LIGHTHOUSE:{IMAGE:"/img/lighthouse.jpg",BACKGROUND_REPEAT_IMAGE:"/img/lighthouse_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"263.5px auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#03383E",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#85CBAC",GRADIENT_COLOR_2:"#85CBAC",GRADIENT_COLOR_3:"#85CBAC",HIGHLIGHT:"#85CBAC",COMPOSE_BUTTON_COLOR:"#85CBAC",SEGMENT_BORDER_COLOR:Object(i.a)("#85CBAC",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#85CBAC",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#85CBAC",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#85CBAC",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#85CBAC",.16),FOLDER_ACTIVED_BORDER:"2px solid #85CBAC",ITEM_SELECTED_BGCOLOR:Object(i.a)("#85CBAC",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#85CBAC",.16),OPACITY_MASK_COLOR:"#072328",PREVIEWR_TOOLBAR_COLOR:Object(i.a)("#072328",.3),CLIP_BUTTON_COLOR:"#85CBAC"}},_={DEFAULT:{BROWSER_URLBAR_COLOR:"#ffffff",GRADIENT_COLOR_1:a.H,GRADIENT_COLOR_2:a.H,GRADIENT_COLOR_3:a.I,HIGHLIGHT:"#4faaff",COMPOSE_BUTTON_COLOR:a.tb,SEGMENT_BORDER_COLOR:Object(i.a)("#4faaff",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#4faaff",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#4faaff",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)(a.tb,.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)(a.tb,.16),FOLDER_ACTIVED_BORDER:"2px solid "+a.tb,ITEM_SELECTED_BGCOLOR:Object(i.a)("#188fff",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#188fff",.16),PREVIEWR_TOOLBAR_COLOR:a.I,CLIP_BUTTON_COLOR:a.tb},SUNRISE:{BROWSER_URLBAR_COLOR:"#e07400",GRADIENT_COLOR_1:"#f3b049",GRADIENT_COLOR_2:"#ea7d56",GRADIENT_COLOR_3:"#d4207d",HIGHLIGHT:"#ef8f4e",COMPOSE_BUTTON_COLOR:"#ef8f4e",SEGMENT_BORDER_COLOR:Object(i.a)("#ef8f4e",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#ef8f4e",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#ef8f4e",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#ef8f4e",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#ef8f4e",.16),FOLDER_ACTIVED_BORDER:"2px solid #ef8f4e",ITEM_SELECTED_BGCOLOR:Object(i.a)("#ef8f4e",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#ef8f4e",.16),PREVIEWR_TOOLBAR_COLOR:"#d4207d",CLIP_BUTTON_COLOR:"#ef8f4e"},AQUA_GREEN:{BROWSER_URLBAR_COLOR:"#008f88",GRADIENT_COLOR_1:"#a0b952",GRADIENT_COLOR_2:"#4fa46d",GRADIENT_COLOR_3:"#008f88",HIGHLIGHT:"#7aaf60",COMPOSE_BUTTON_COLOR:"#7aaf60",SEGMENT_BORDER_COLOR:Object(i.a)("#7aaf60",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#7aaf60",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#7aaf60",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#7aaf60",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#7aaf60",.16),FOLDER_ACTIVED_BORDER:"2px solid #7aaf60",ITEM_SELECTED_BGCOLOR:Object(i.a)("#7aaf60",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#7aaf60",.16),PREVIEWR_TOOLBAR_COLOR:"#008f88",CLIP_BUTTON_COLOR:"#7aaf60"},AQUA_BLUE:{BROWSER_URLBAR_COLOR:"#0034a3",GRADIENT_COLOR_1:"#26b0b1",GRADIENT_COLOR_2:"#1373aa",GRADIENT_COLOR_3:"#0034a3",HIGHLIGHT:"#1d92ae",COMPOSE_BUTTON_COLOR:"#1d92ae",SEGMENT_BORDER_COLOR:Object(i.a)("#1d92ae",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#1d92ae",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#1d92ae",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#1d92ae",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#1d92ae",.16),FOLDER_ACTIVED_BORDER:"2px solid #1d92ae",ITEM_SELECTED_BGCOLOR:Object(i.a)("#1d92ae",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#1d92ae",.16),PREVIEWR_TOOLBAR_COLOR:"#0034a3",CLIP_BUTTON_COLOR:"#1d92ae"},DEEP_PURPLE:{BROWSER_URLBAR_COLOR:"#200f35",GRADIENT_COLOR_1:"#8d7da2",GRADIENT_COLOR_2:"#59496e",GRADIENT_COLOR_3:"#200f35",HIGHLIGHT:"#b08ae4",COMPOSE_BUTTON_COLOR:"#b08ae4",SEGMENT_BORDER_COLOR:Object(i.a)("#b08ae4",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#b08ae4",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#b08ae4",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#b08ae4",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#b08ae4",.16),FOLDER_ACTIVED_BORDER:"2px solid #b08ae4",ITEM_SELECTED_BGCOLOR:Object(i.a)("#b08ae4",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#b08ae4",.16),PREVIEWR_TOOLBAR_COLOR:"#200f35",CLIP_BUTTON_COLOR:"#b08ae4"},BLUE_NIGHT:{BROWSER_URLBAR_COLOR:"#1c3e5c",GRADIENT_COLOR_1:"#1c3e5c",GRADIENT_COLOR_2:"#1c3e5c",GRADIENT_COLOR_3:"#1c3e5c",HIGHLIGHT:"#4faaff",COMPOSE_BUTTON_COLOR:"#4faaff",SEGMENT_BORDER_COLOR:Object(i.a)("#4faaff",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#4faaff",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#4faaff",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#4faaff",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#4faaff",.16),FOLDER_ACTIVED_BORDER:"2px solid #4faaff",ITEM_SELECTED_BGCOLOR:Object(i.a)("#4faaff",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#4faaff",.16),PREVIEWR_TOOLBAR_COLOR:"#1c3e5c",CLIP_BUTTON_COLOR:"#4faaff"},DARK_GREY:{BROWSER_URLBAR_COLOR:"#373A43",GRADIENT_COLOR_1:"#5C6070",GRADIENT_COLOR_2:"#5C6070",GRADIENT_COLOR_3:"#373A43",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#5C6070",SEGMENT_BORDER_COLOR:Object(i.a)("#5C6070",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#5C6070",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#5C6070",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#5C6070",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#5C6070",.16),FOLDER_ACTIVED_BORDER:"2px solid #5C6070",ITEM_SELECTED_BGCOLOR:Object(i.a)("#5C6070",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#5C6070",.16),CLIP_BUTTON_COLOR:"#5C6070"}};let u={DEFAULT:d({},_.DARK_GREY,{GRADIENT_COLOR_1:Object(i.a)("#FFFFFF",.5),GRADIENT_COLOR_2:Object(i.a)("#FFFFFF",.5),GRADIENT_COLOR_3:Object(i.a)("#FFFFFF",.3),SIDEBAR_COLOR:"#333",BACKGROUND_COLOR:"#000"})};u=Object.keys(u).reduce((function(e,t){return e[`${c.he.AOL}_${t}`]=u[t],e}),{});const p={ATT:{BROWSER_URLBAR_COLOR:"#009fdb",GRADIENT_COLOR_1:"#009fdb",GRADIENT_COLOR_2:"#009fdb",GRADIENT_COLOR_3:"#009fdb",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#009fdb",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(i.a)("#009fdb",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#009fdb",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#009fdb",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#009fdb",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#009fdb",.16),FOLDER_ACTIVED_BORDER:"2px solid #009fdb",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:"2px solid "+Object(i.a)("#FFFFFF",.32),ITEM_SELECTED_BGCOLOR:Object(i.a)("#009fdb",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#009fdb",.16),CLIP_BUTTON_COLOR:"#009fdb"},FRONTIER:{BROWSER_URLBAR_COLOR:"#931F27",GRADIENT_COLOR_1:"#BD2832",GRADIENT_COLOR_2:"#BD2832",GRADIENT_COLOR_3:"#931F27",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#BD2832",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(i.a)("#BD2832",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#BD2832",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#BD2832",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#BD2832",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#BD2832",.16),FOLDER_ACTIVED_BORDER:"2px solid #BD2832",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:"2px solid "+Object(i.a)("#FFFFFF",.32),ITEM_SELECTED_BGCOLOR:Object(i.a)("#BD2832",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#BD2832",.16),CLIP_BUTTON_COLOR:"#BD2832"},ROGERS:d({},_.DARK_GREY,{BROWSER_URLBAR_COLOR:"#373A43",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.32),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:"2px solid "+Object(i.a)("#FFFFFF",.32)}),BT:{BROWSER_URLBAR_COLOR:"#6400AA",GRADIENT_COLOR_1:"#6400AA",GRADIENT_COLOR_2:"#6400AA",GRADIENT_COLOR_3:"#6400AA",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#6400AA",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(i.a)("#6400AA",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#6400AA",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#6400AA",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#6400AA",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#6400AA",.16),FOLDER_ACTIVED_BORDER:"2px solid #6400AA",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:"2px solid "+Object(i.a)("#FFFFFF",.32),ITEM_SELECTED_BGCOLOR:Object(i.a)("#6400AA",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#6400AA",.16),CLIP_BUTTON_COLOR:"#6400AA"},SKY:{BROWSER_URLBAR_COLOR:"#0051B7",GRADIENT_COLOR_1:"#0051B7",GRADIENT_COLOR_2:"#0051B7",GRADIENT_COLOR_3:"#0051B7",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#0051B7",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(i.a)("#0051B7",.64),SEGMENT_BACKGROUND_COLOR:Object(i.a)("#0051B7",.32),SEGMENT_HOVER_COLOR:Object(i.a)("#0051B7",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(i.a)("#0051B7",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(i.a)("#0051B7",.16),FOLDER_ACTIVED_BORDER:"2px solid #0051B7",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(i.a)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:"2px solid "+Object(i.a)("#FFFFFF",.32),ITEM_SELECTED_BGCOLOR:Object(i.a)("#0051B7",.32),ITEM_HOVERED_BGCOLOR:Object(i.a)("#0051B7",.16),CLIP_BUTTON_COLOR:"#0051B7"}},m=d({},p,{},_,{},E),S=d({},_,{},p,{},u,{DEFAULT:d({},_.DEFAULT,{BROWSER_URLBAR_COLOR:"#755BF9",GRADIENT_COLOR_1:"#7282fb",GRADIENT_COLOR_2:"#755BF9",GRADIENT_COLOR_3:"#7934f7"}),PURPLE:d({},_.DEFAULT,{BROWSER_URLBAR_COLOR:"#755BF9",GRADIENT_COLOR_1:"#7282fb",GRADIENT_COLOR_2:"#755BF9",GRADIENT_COLOR_3:"#7934f7"})}),h=Object(o.d)(m),C=Object(o.d)(S),g=Object(o.d)(E),O=Object(o.d)(p),T=Object(o.d)(u),A={[c.ve.LIGHT]:{PRIMARY_BLUE:a.q,LIST_ITEM_SEPARATOR_COLOR:a.fb.ycolorGrayH,HOVER_BLUE:a.fb.ycolorBlue10b,SUBSCRIPTION_BUTTON:a.fb.ycolorGrayI},[c.ve.MEDIUM]:{PRIMARY_BLUE:a.q,LIST_ITEM_SEPARATOR_COLOR:a.fb.ycolorGrayH,HOVER_BLUE:a.fb.ycolorBlue10b,SUBSCRIPTION_BUTTON:a.fb.ycolorGrayI},[c.ve.DARK]:{PRIMARY_BLUE:a.v,LIST_ITEM_SEPARATOR_COLOR:"rgba(255, 255, 255, 0.1)",HOVER_BLUE:a.v,SUBSCRIPTION_BUTTON:"rgba(0, 0, 0, 0.25)"}},I={[c.ve.LIGHT]:{PRIMARY_BLUE:a.q,HOVER_BLUE:a.fb.ycolorBlue10b,BOTTOM_TOOLBAR_BACKGROUND:"white",PRIMARY_TEXT:a.fb.ycolorGrayA,LIST_BACKGROUND:"white",SUBSCRIPTION_BUTTON:a.fb.ycolorGrayI},[c.ve.DARK]:{PRIMARY_BLUE:a.v,HOVER_BLUE:a.v,BOTTOM_TOOLBAR_BACKGROUND:a.fb.ycolorGrayC,PRIMARY_TEXT:"white",LIST_BACKGROUND:a.fb.ycolorGrayB,SUBSCRIPTION_BUTTON:"rgba(0, 0, 0, 0.25)"}},f=(e,t)=>{const s=e||h.DEFAULT;return s.IMAGE?`url(${t(s.IMAGE)})`:`linear-gradient(45deg,\n        ${s.GRADIENT_COLOR_1},\n        ${s.GRADIENT_COLOR_2},\n        ${s.GRADIENT_COLOR_3})`},D=e=>!!g[e],R=({context:e,includeMedium:t=!1})=>{const s=e.getThemeMode();return t&&s===c.ve.MEDIUM||s===c.ve.DARK},b=e=>!!O[e],N=(e,t=!1)=>{const s=R({context:e,includeMedium:t}),r=D(e.getTheme());return{darkModeNonPhotoTheme:!r&&s,["darkModePhotoTheme_"+e.getTheme()]:r&&s}}},function(e,t,s){"use strict";function r(e,t){var s=0,r=[0,0,0,t];if(4!==e.length&&7!==e.length)throw new Error('The hex string has have length of 4 or 7 including the "#". We got: '+e);for(4===e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),s=0;s<3;s++)r[s]=parseInt(e.slice(2*s+1,2*s+3),16);return"rgba("+r.join(", ")+")"}s.d(t,"a",(function(){return r}))},function(e,t,s){"use strict";s.d(t,"a",(function(){return g})),s.d(t,"b",(function(){return i}));var r=s(7),n=s.n(r),a=s(1),o=s.n(a);var i=class extends o.a.Component{render(){return null}},c=s(43),l=s.n(c),d=s(68),E=s(13),_=s(10);class u extends a.Component{constructor(e){super(e);const t=this.props._moduleResolver(),r=!!s.m[t],n=this._interopRequireDefault(r?s(t):null);this.state={LoadedComponent:n,loaded:r,failed:!1}}_updateLoadedState(e){const t=this.props,s=t.onModuleLoadFailure,r=t.bundleName,n=d.a.feature("lazy_component",{bundleName:void 0===r?"lazy_group_1":r});e.then(e=>{this._isMounted&&(n.logSuccessAndLatency(),this.setState({loaded:!0,failed:!1,LoadedComponent:e.default?e.default:e}))}).catch(e=>{n.logFailure(),s&&s(e),this.setState({loaded:!0,failed:!0})})}componentWillReceiveProps(e){this.state.failed&&(this.props.isOffline&&!e.isOffline)&&this.load()}componentDidMount(){if(this._isMounted=!0,!this.state.loaded)if(this.props.defer){const e=()=>{window.requestIdleCallback?window.requestIdleCallback(()=>this.load()):setTimeout(()=>this.load())};"complete"===document.readyState?e():window.addEventListener("load",e)}else this.load()}componentDidUpdate(e,t){if(t.loaded!==this.state.loaded&&this.state.loaded){const e=this.props.onModuleLoadSuccess;e&&e()}}componentWillUnmount(){this._isMounted=!1}load(){this._updateLoadedState(this.props._moduleLoader())}_interopRequireDefault(e){return e&&e.__esModule?e.default:e}render(){const e=a.Children.toArray(this.props.children);if(!this.state.loaded)return C(e.find(p));if(this.state.failed){let t=null;return this.props.isOffline&&(t=e.find(S)),C(t||e.find(m))}const t=this.state.LoadedComponent,s=l()(this.props,["import","defer","onModuleLoadFailure","onModuleLoadSuccess","_moduleLoader","_moduleResolver","isOffline","bundleName","children"]);return o.a.createElement(t,s,e.filter(h))}}function p(e){return e.props.loading}function m(e){return e.props.failed}function S(e){return e.props.offline}function h(e){return e.type!==i}function C(e){return e&&e.props.children?a.Children.only(e.props.children):null}var g=Object(E.connect)(e=>({isOffline:!(0,Object(_.selectors)(e).isOnline)()}))(u),O=s(3),T=s.n(O),A=s(18),I=s(25);class f extends o.a.Component{constructor(...e){super(...e),T()(this,"handleClick",e=>{e.preventDefault(),this.context.retry()})}render(){return o.a.createElement(A.a,{kind:I.a.CHROMELESS,onClick:this.handleClick},this.props.children)}}T()(f,"contextTypes",{retry:n.a.func})},function(e,t,s){"use strict";let r;s.d(t,"a",(function(){return r})),function(e){e.PLAIN="PLAIN",e.PRIMARY="PRIMARY",e.SECONDARY="SECONDARY",e.CHROMELESS="CHROMELESS",e.ICON="ICON",e.ICON_HIGHLIGHTED="ICON_HIGHLIGHTED",e.MENUITEM="MENUITEM",e.MENUITEM_PARENT_TEXT_COLOR="MENUITEM_PARENT_TEXT_COLOR",e.DANGER="DANGER",e.SECONDARY_BORDERLESS="SECONDARY_BORDERLESS",e.TEXT="TEXT",e.CUE="CUE",e.THEMED_LIKE_COMPOSE_BUTTON="THEMED_LIKE_COMPOSE_BUTTON",e.PILL="PILL"}(r||(r={}))},function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var r=s(3),n=s.n(r),a=s(120),o=s.n(a),i=s(583),c=s.n(i),l=s(68),d=s(9),E=s(16),_=s(20);const u=Object(d.d)(["RETRIED","SUCCESS","FAIL"]);var p=s(40),m=s(35);const S=/<!-- status code : (\d{3}) -->\n<!-- ([\s\S]*?) -->\n<!-- host machine: ([\s\S]*?) -->/,h={400:"BAD_REQUEST",404:"NOT_FOUND",413:"PAYLOAD_TOO_LARGE",500:"INTERNAL_SERVER_ERROR",502:"BAD_GATEWAY",503:"SERVICE_UNAVAILABLE",504:"GATEWAY_TIMEOUT"};function C(e){if(e&&200!==e.status){const t=e.text,s=void 0===t?"":t,r=e.status,n=e.body;let a="NOT_OK_STATUS";r>=400&&(S.test(s)?a="YCPI":function(e){return!!h[e]}(r)&&(a=h[r]));return new p.a("HttpTransport.NotOkStatusCode","",{responseText:s,body:n,errorCode:a,statusCode:r})}}function g(e,t,s){let r=void 0;return r||(r=function(e){if(e&&e.crossDomain){const t=e.message,s=e.status,r=!Object(_.c)()||navigator.onLine;return new p.a("HttpTransport.OutboundError",t,{errorCode:"OUTBOUND",statusCode:s,isOnline:r})}}(e)),r||(r=function(e){if(e&&"ENOTFOUND"===e.code)return new p.a("HttpTransport.ServerNotFound",e.message,{errorCode:e.code})}(e)),r||(r=function(e){if(e&&"ECONNREFUSED"===e.code)return new p.a("HttpTransport.ConnectionRefused",e.message,{errorCode:e.code})}(e)),r||(r=function(e){if(e&&"ECONNRESET"===e.code)return new p.a("HttpTransport.ConnectionReset",e.message,{errorCode:e.code})}(e)),r||(r=function(e){if(e&&"ECONNABORTED"===e.code)return new p.a("HttpTransport.ConnectionTimedOut",e.message,{errorCode:e.code})}(e)),r||(r=function(e){if(e&&(e.parse||"SyntaxError"===e.name))return new p.a("HttpTransport.ParseError",e.message,{statusCode:e.statusCode,errorCode:"SyntaxError"===e.name?"SyntaxError":"ParseError",responseText:e.rawResponse})}(e)),r||(r=function(e){const t=e&&e.status;if(e&&403===t){let s;const r=e.type||"";try{s="text/html"===r&&e.text?JSON.parse(e.text)||{}:e.body||{}}catch(e){s={}}if((s.name||"")===m.c)return new p.a(m.c,"",{data:s.data||"",errorCode:"CRUMB",statusCode:t})}}(t)),r||(r=C(t)),r||(r=function(e,t){const s=t&&t.get("Accept")||"",r=e&&e.type||"";if(s&&r&&r.toLowerCase().indexOf(s.toLowerCase())<0)return new p.a("HttpTransport.ContentTypeError",`request:${s}-response:${r}`,{errorCode:"CONTENT_TYPE_MISSMATCH",statusCode:e?e.status:0,html:e?e.text:"",headers:e?e.header:{}})}(t,s)),r||(r=function(e,t){if(e||!t)return new p.a("GenericError",e&&`${e.name}: ${e.message}`||"")}(e,t)),r}var O=s(660),T=s(0);const A=[T.Sb.GET,T.Sb.HEAD];function I(e){if(!function(e){return!!T.Sb[e]}(e=e.toUpperCase()))throw new TypeError(`Expected ${e} to be one of HttpMethods`);return e}class f extends class{send(e){return new Promise((t,s)=>{const r=this._getRequest(e);r.end((e,n)=>{const a=g(e,n,r);if(a)return s(a);t(this._mapResponse(n))})})}_getRequest({method:e,url:t,body:s,withCredentials:r,headers:n,fields:a,attachments:o,parser:i,timeout:d=3e4,httpRetry:p=0,shouldRetry:m=(()=>!1),apiName:S="",tls:h={},uploadProgressCallback:C}){const g=I(e),O=c.a[this._getSuperagentMethodName(g)](t);return this._setBody(O,g,s),r&&O.withCredentials(),this._setHeaders(O,n),this._setFields(O,a),this._setAttachments(O,o),this._setParser(O,i),this._setRetry(O,p,m),this._setUploadProgressCallback(O,C),this._setTLS(O,h),d&&O.timeout(d),S&&O.use(function(e){return function(t){return t._originalEnd=t._end,t._originalShouldRetry=t._shouldRetry,t._end=()=>{const e=t._retries;return e>0&&(t.url=Object(_.d)(t.url,{retries:e})),t._originalEnd()},t._shouldRetry=(s,r)=>{const n=t._originalShouldRetry(s,r),a=t._retries,o=r&&r.status||"N/A",i=Object(E.getQueryParamByName)(t.url,"ymreqid")||"";let c=s&&s.code||(200!==o?"NOT_OK_STATUS":"N/A");if(s&&s.crossDomain&&(c="OUTBOUND"),1===a&&n&&(l.a.error("superagent_retry",{apiName:e,ymreqid:i,errorCode:c,statusCode:o,state:u.RETRIED}),t.retryErrorCode=c,t.retryStatusCode=o),2===a){const r=t.retryErrorCode,n=void 0===r?"":r,a=t.retryStatusCode,d=void 0===a?"":a;l.a.error("superagent_retry",s||200!==o?{apiName:e,ymreqid:i,errorCode:c,statusCode:o,retryErrorCode:n,retryStatusCode:d,state:u.FAIL}:{apiName:e,ymreqid:i,retryErrorCode:n,retryStatusCode:d,state:u.SUCCESS})}return n},t}}(S)),O}_getSuperagentMethodName(e){switch(e){case T.Sb.GET:return"get";case T.Sb.DELETE:return"del";case T.Sb.HEAD:return"head";case T.Sb.PATCH:return"patch";case T.Sb.POST:return"post";case T.Sb.PUT:return"put"}}_mapResponse(e){return{body:e.body,text:e.text,status:e.status,headers:e.header}}_setBody(e,t,s){~A.indexOf(t)?e.query(s||{}):e.send(s)}_setHeaders(e,t){t&&Object.keys(t).forEach(s=>{e.unset(s),e.set(s,t[s])})}_setFields(e,t){t&&Object.keys(t).forEach(s=>{e.field(s,t[s])})}_setAttachments(e,t){t&&Object.keys(t).forEach(s=>{const r=Object(O.a)(t[s].name);e.attach(s,t[s],`=?UTF-8?b?${r}?=`)})}_setParser(e,t){t&&e.parse((e,s)=>{e.text="",e.on("data",t=>{e.text+=t}),e.on("end",()=>{t(e.text,s)})})}_setRetry(e,t,s){e.retry(t,s)}_setUploadProgressCallback(e,t){t&&e.on("progress",t)}_setTLS(e,t){t.key&&e.key(t.key),t.cert&&e.cert(t.cert),t.ca&&e.ca(t.ca)}}{createStream(e){const t=this._getRequest(e),s=o()();let r=!1;if("undefined"!=typeof window&&window.AppBootstrapData){const e=window.AppBootstrapData,t=e.browserVersion;r="Edge"===e.browserName&&15===parseInt(t,10)}return t.on("progress",e=>{r||(e.currentTarget||(r=!0),s.emit("data",e.currentTarget?e.currentTarget.responseText:""))}),t.end((e,n)=>{const a=g(e,n,t);a?setImmediate(()=>{s.emit("error",a)}):setImmediate(()=>{r&&s.emit("data",n.text),s.emit("end")})}),s}}var D=s(19),R=s(398);const b=T.Sb,N=new(s.n(R).a);t.b=class{constructor(e,t,s={}){n()(this,"adapter",new f),n()(this,"withCredentials",!1),n()(this,"_method",void 0),n()(this,"_timeout",void 0),n()(this,"_url",void 0),n()(this,"_headers",void 0),n()(this,"_fields",void 0),n()(this,"_attachments",void 0),n()(this,"_body",void 0),n()(this,"_httpRetry",void 0),n()(this,"_shouldRetry",void 0),n()(this,"_apiName",void 0),n()(this,"_uploadProgressCallback",void 0),n()(this,"_tls",void 0),n()(this,"_parser",void 0);const r=s.uploadProgressCallback,a=s.timeout,o=void 0===a?3e4:a,i=s.httpRetry,c=void 0===i?0:i,l=s.shouldRetry,d=void 0===l?()=>!1:l,E=s.apiName,_=void 0===E?"":E,u=s.tls,p=void 0===u?{}:u;this._method=e.toUpperCase(),Object(D.a)(this._method in T.Sb,"Invalid HTTP method. Valid options are: "+Object.keys(T.Sb)),this._timeout=o,this._url=t,this._headers={},this._fields={},this._attachments={},this._httpRetry=c,this._shouldRetry=d,this._apiName=_,this._uploadProgressCallback=r,this._tls=p}setHeader(e,t){return this._headers[e]=t,this}setCookieHeader(e){Object(D.a)("string"==typeof e&&e.length>0,"Cookie should not be empty"),this.setHeader("Cookie",e)}setField(e,t){return this._fields[e]=t,this}setAttachment(e,t){return this._attachments[e]=t,this}setParser(e){return this._parser=e,this}setRetry(e){return this._httpRetry=e,this}send(e){e&&(this._body=e);const t=this.adapter.send({withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,timeout:this._timeout,httpRetry:this._httpRetry,shouldRetry:this._shouldRetry,apiName:this._apiName,uploadProgressCallback:this._uploadProgressCallback,tls:this._tls});return t.then(()=>{N.emit("success")},e=>{e.url=this._url,N.emit("error",e)}),t}createStream(e){e&&(this._body=e);const t=this.adapter.createStream({withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,timeout:this._timeout});return t.on("error",e=>N.emit("error",e)),t}static on(e,t){N.on(e,t)}static off(e,t){N.off(e,t)}static emit(e,t){N.emit(e,t)}}},,,function(e,t,s){"use strict";s.r(t),s.d(t,"Fonts",(function(){return a})),s.d(t,"FontSizes",(function(){return o})),s.d(t,"NO_STATIONERY",(function(){return i})),s.d(t,"STATIONERY_MIN_WIDTH",(function(){return c})),s.d(t,"ToolbarActions",(function(){return l})),s.d(t,"FocusableRefs",(function(){return d})),s.d(t,"KeyCodes",(function(){return E})),s.d(t,"RTEKeyModifier",(function(){return _})),s.d(t,"EditorTypes",(function(){return u})),s.d(t,"ToolbarTypes",(function(){return p})),s.d(t,"PreviewTypes",(function(){return m})),s.d(t,"TOOLBAR_HEIGHT",(function(){return S})),s.d(t,"HORIZONTAL_PADDING",(function(){return h})),s.d(t,"FORMAT_DATE_OPTION",(function(){return C})),s.d(t,"IMAGE_OVERLAY_INITIAL_LEFT",(function(){return g})),s.d(t,"CURRENT_IMAGE_SIZE_STATUS",(function(){return O})),s.d(t,"RTEHoverOverlayTypes",(function(){return T})),s.d(t,"INLINE_IMAGE_PLUGIN_CLASSES",(function(){return A})),s.d(t,"INLINE_IMAGE_PLUGIN_SIZE",(function(){return I})),s.d(t,"HYPERLINK_PLUGIN_IGNORE_CLASS",(function(){return f})),s.d(t,"COMPOSE_MIN_WIDTH",(function(){return D})),s.d(t,"OutlookSupportHTMLAttributes",(function(){return R})),s.d(t,"OutlookSupportHTMLHeadContent",(function(){return b})),s.d(t,"EDITOR_EVENTS",(function(){return N})),s.d(t,"DELETE_CONTACT",(function(){return M})),s.d(t,"INLINE_IMAGE_SELECTOR",(function(){return y})),s.d(t,"STATIONERY_BODY_SELECTOR",(function(){return L})),s.d(t,"LINK_EHANCER_CARD_SELECTOR",(function(){return P})),s.d(t,"HIDE_SELECTION_CLASS",(function(){return v})),s.d(t,"IMAGE_STATUS",(function(){return F}));var r=s(9),n=s(81);const a=n.e,o=n.d,i="no_stationery",c=480,l={FILE_SELECT:"fileselect",FILE_SELECT_BTN_CLICKED:"fileselectbtnclicked",SEND:"send",DELETE_DRAFT:"delete_draft",UPDATE_STATIONERY:"update_stationery",CREATE_LINK:"createlink",PLAIN_TEXT:"plaintext",RICH_TEXT:"richtext",INSERT_ORDERED_LIST:"insertorderedlist",FONT_NAME:"fontname",FONT_SIZE:"fontsize"},d=n.a,E={SEMICOLON:59,FF_SEMICOLON:186,FF_COMMA:188,COMMA:44,BREAK:13,SPACE:32,TAB:9},_={NO_MODIFIER:1,ALT:1,SHIFT:2,SPECIAL:4,NONSPECIAL:8},u=Object(r.d)(["MESSAGE","COMPOSE","VACATION_RESPONSE_SETTINGS"]),p=Object(r.d)(["MESSAGE","COMPOSE","VACATION_RESPONSE_SETTINGS"]),m=Object(r.d)(["MESSAGE","VACATION_RESPONSE"]),S=70,h=72,C={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"},g="-5000px",O=Object(r.d)(["LARGE","SMALL"]),T=Object(r.d)(["IMAGE","LINK_ENHANCER_CARD"]),A={GIF_WRAPPER_CLASS:"yahoo-gif-wrapper",INLINE_IMAGE_CLASS:"yahoo-inline-image",IMAGE_OVERLAY_CLASS:"yahoo-inline-img-overlay",ONLINE_GIF_CLASS:"yahoo-online-gif",EMOJI_WRAPPER_CLASS:"yahoo-emoji-wrapper",IGNORE_CLASS:"yahoo-ignore-inline-image"},I={IMAGE_SMALL_WIDTH:400,IMAGE_BIG_WIDTH:800,TINY_IMAGE_WIDTH:100,IMAGE_BIG_PERCENTAGE:"100%",IMAGE_SMALL_PERCENTAGE:"50%"},f="yahoo-ignore-hyperlink",D=670,R=['xmlns="http://www.w3.org/1999/xhtml"','xmlns:v="urn:schemas-microsoft-com:vml"','xmlns:o="urn:schemas-microsoft-com:office:office"'].join(" "),b="\x3c!--[if gte mso 9]><xml><o:OfficeDocumentSettings><o:AllowPNG/><o:PixelsPerInch>96</o:PixelsPerInch></o:OfficeDocumentSettings></xml><![endif]--\x3e",N=Object(r.d)(["emoji_inserted","gif_inserted","gif_removed","gif_resized","inline_attachment_inserted","inline_image_removed","inline_image_resized","inline_to_non_inline_attachment","stationery_cleared","default_stationery_cleared","link_enhancer_card_removed","link_enhancer_card_size_changed","link_enhancer_card_added","link_enhancer_card_moved","plaintext_paste_event"]),M="delete-contact",y=`img[class*="${A.INLINE_IMAGE_CLASS}"]:not([class*="${A.ONLINE_GIF_CLASS}"]):not([class*="${A.IGNORE_CLASS}"])`,L='[id$="middleBody"]',P='div[class*="yahoo-link-enhancr-card"]',v="hide-selection",F={loading:"yahoo-loading"}},,,function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(34),o=s.n(a),i=s(3),c=s.n(i),l=(s(7),s(1)),d=s.n(l),E=s(709),_=s.n(E),u=s(12),p=s.n(u),m=s(112);s(9);class S extends d.a.Component{render(){const e=this.props,t=e.name,s=e.kind,r=e.ariaLabel,a=e.dir,i=e.title,c=o()(e,["name","kind","ariaLabel","dir","title"]),l=p()(_.a,{kind:s}),E=this.props.children||this.props.text;return d.a.createElement("li",n()({name:t,title:i,"data-test-id":t,className:l.listItem,"aria-label":r,role:"menuitem",dir:a},c),E)}}c()(S,"defaultProps",{kind:m.a.DEFAULT}),t.a=S},,,function(e,t,s){"use strict";s.d(t,"s",(function(){return n})),s.d(t,"b",(function(){return a})),s.d(t,"c",(function(){return o})),s.d(t,"d",(function(){return i})),s.d(t,"e",(function(){return c})),s.d(t,"m",(function(){return l})),s.d(t,"l",(function(){return d})),s.d(t,"p",(function(){return E})),s.d(t,"o",(function(){return _})),s.d(t,"n",(function(){return u})),s.d(t,"i",(function(){return p})),s.d(t,"j",(function(){return m})),s.d(t,"k",(function(){return S})),s.d(t,"a",(function(){return h})),s.d(t,"r",(function(){return C})),s.d(t,"g",(function(){return g})),s.d(t,"v",(function(){return O})),s.d(t,"h",(function(){return T})),s.d(t,"q",(function(){return A})),s.d(t,"f",(function(){return I})),s.d(t,"t",(function(){return f})),s.d(t,"u",(function(){return D}));var r=s(9);const n=0,a="Authentication.InvalidCredentials",o="Authentication.InvalidCrumb",i="Authentication.MissingCrumb",c="Authentication.WssidReissue",l="LaunchError.LaunchApiFailed",d="LaunchError.AbusiveUser",E="LaunchError.WrongMailboxState",_="LaunchError.PageNotFound",u="LaunchError.ActiveMailboxNotFound",p="Empty response returned from JEDI",m="The response returned from JEDI contains errors",S="Unhandled partial failure",h="Account is not supported",C="Multiple mailboxes found",g="One or more batch requests failed",O="Update request failed",T="Compose request failed",A="Message read request failed",I=Object(r.d)(["MISSING_YT_COOKIE","COOKIE_CHECK_SIGNATURE","COOKIE_CHECK_TIME_STAMP","INVALID_COOKIE_SCOPE","REMOVED_YT_COOKIE","DIFFERENT_USER","MISSING_OTH_COOKIE"]),f={[h]:"unsupported_acct",[C]:"multi_mboxes"},D=["EC-4001-SetMailboxAttribute","EP-5000"]},function(e,t,s){"use strict";s.d(t,"c",(function(){return o})),s.d(t,"e",(function(){return i})),s.d(t,"d",(function(){return d})),s.d(t,"b",(function(){return E})),s.d(t,"f",(function(){return u})),s.d(t,"h",(function(){return p})),s.d(t,"g",(function(){return m})),s.d(t,"j",(function(){return S})),s.d(t,"l",(function(){return h})),s.d(t,"a",(function(){return O})),s.d(t,"k",(function(){return T})),s.d(t,"i",(function(){return A}));var r=s(0),n=s(20),a=s(304);const o=encodeURIComponent(":"),i=encodeURIComponent(" "),c=encodeURIComponent("("),l=encodeURIComponent(")"),d=encodeURIComponent("["),E=encodeURIComponent("]"),_=/(?:^|[\s(])folderid:(\d+)/i,u=["SYNC","INVISIBLE"];function p(e){let t="";switch(e){case r.bc.PEOPLE:t+=`${i}is${o}personal`;break;case r.bc.SHOPPING:t+=`${i}is${o}shopping`;break;case r.bc.TRAVEL:t+=`${i}is${o}travel`;break;case r.bc.TRAVEL_VIEW_UPCOMING:case r.bc.TRAVEL_VIEW_PAST:t+=`${i}decoId${o}FLR`;break;case r.bc.SAVED_COUPON_CARDS:t+=`${i}decoId${o}${c}CPN${i}TAG${l}`;break;case r.bc.ALL_COUPON_CARDS:t+=`${i}decoId${o}${c}CPN${l}`;break;case r.bc.ALL_REFUND_CARDS:t+=`${i}decoId${o}${c}ORD${l}`;break;case r.bc.FINANCE:t+=`${i}is${o}financial`;break;case r.bc.SOCIAL:t+=`${i}is${o}social`;break;case r.bc.OLDMAIL:t+=`${i}is${o}read`;break;case r.bc.NEWMAIL:t+=`${i}is${o}unread`}return t}function m(e){return(_.exec(e&&e.base||"")||[])[1]||"1"}function S(e){const t=Number(function(e,t,s){if(!e[t])return"";const r=e[t].split(" ").map(e=>e.split(":")).filter(([e])=>e===s);return 0===r.length?"":r[0][1]||""}(e,"options","count"));return isNaN(t)?0:t}function h(e,t,s){return Array.isArray(t)?Array.prototype[s?"every":"some"].call(t,t=>h(e,t)):e&&e.some(e=>e&&e.id&&e.id===t)}class C{constructor(e,t,s){this.promise=e,this.counter=t||1,this.time=Date.now()+(s||0),e.then(e=>(this.time=Date.now(),e))}increaseCount(){this.counter+=1}age(){return Date.now()-this.time}isActive(e){return this.age()<e}getExponentialDelayTime(){return Math.min(100+Math.pow(2,this.counter),2147483647)}getExponentialDelayedPromise(){return new Promise((e,t)=>{this.promise.then(t=>{setTimeout(()=>{e(t)},this.getExponentialDelayTime())},e=>{setTimeout(()=>{e.errorCode="DEBOUNCED",t(e)},this.getExponentialDelayTime())})}).then(e=>(this.time=Date.now(),e),e=>{throw this.time=Date.now(),e})}}class g{constructor({TTL:e=0,logTTL:t=r.le,activate:s=!1}){this.TTL=e,this.logTTL=Math.max(t,e),this.active=s,this.recentCallMap={}}cleanUpExpiredEntries(){const e=Date.now(),t={};Object.keys(this.recentCallMap).filter(t=>e-this.recentCallMap[t].time<this.logTTL).forEach(e=>t[e]=this.recentCallMap[e]),this.recentCallMap=t}execute(e){const t=Date.now(),s=e.hash,r=e.log,n=void 0===r?()=>{}:r;this.cleanUpExpiredEntries();const a=this.recentCallMap[s],o=this.active&&a&&a.isActive(this.TTL);return a&&(a.increaseCount(),n({duration:a.age(),counter:a.counter,active:o})),o?(a.time=t,a.getExponentialDelayedPromise()):(this.recentCallMap[s]=new C(e.execute(),a&&a.counter,this.TTL),this.recentCallMap[s].promise)}}class O{constructor(e){this.map={},this.defaultTTL=200,this.active=!(!e||!Object.keys(e).length),this.TTLList=e,this.active&&(this.defaultTTL=e.default||200)}get(e){if(!Object(n.c)())return{execute:e=>e.execute()};const t=this.TTLList.hasOwnProperty(e)?this.TTLList[e]:this.defaultTTL;return this.map[t]||(this.map[t]=new g({TTL:t,activate:this.active})),this.map[t]}}function T(e){return e&&e.find(e=>e.isSelected)||{}}function A(e,t){return e.indexOf("internal")>-1&&!Object(a.a)(t)?"http":"https"}},function(e,t,s){"use strict";var r=s(6);t.a=Object(r.defineMessages)({error_title:{id:"compose.error_title",defaultMessage:"Error"},bigAttachment:{id:"compose.too_big_attachment",defaultMessage:"The file exceeds the {maxFileSize}MB attachment limit. Large attachment support coming soon!"},bigAttachmentSupport:{id:"compose.too_big_attachment_support",defaultMessage:"The file(s) you are trying to attach exceed the {maxFileSize}MB attachment size limit. You can upload files to Dropbox or Google Drive, connect your cloud service to Mail, and then add those files to emails you send."},compose_view:{id:"compose.view_aria_label",defaultMessage:"Compose view"},message_body:{id:"compose.message_body",defaultMessage:"Message body"},quoted_draft:{id:"quoted_draft",defaultMessage:"On {date}, {quotedName} &lt;{quotedAddress}&gt; wrote:"},forwarded_message:{id:"forwarded_message",defaultMessage:"Forwarded Message"},quoted_message_from:{id:"quoted_message_from",defaultMessage:"<b>From:</b> {from}"},quoted_message_to:{id:"quoted_message_to",defaultMessage:"<b>To:</b> {to}"},quoted_message_cc:{id:"quoted_message_cc",defaultMessage:"<b>Cc:</b> {cc}"},quoted_message_subject:{id:"quoted_message_subject",defaultMessage:"<b>Subject:</b> {subject}"},quoted_message_sentdate:{id:"quoted_message_sentdate",defaultMessage:"<b>Sent:</b> {sentDate}"},beingUploadedAlert:{id:"being_uploaded_alert",defaultMessage:"Attachment is still being uploaded. Wait and send?"},beingUploadedAlertOK:{id:"compose.beingUploadedAlert.ok",defaultMessage:"OK"},beingUploadedAlertSendWithout:{id:"compose.beingUploadedAlert.send_without",defaultMessage:"Send Without"},emptySubjectAlert:{id:"empty_subject_alert",defaultMessage:"Do you want to send the message without any subject?"},emptySubjectAlertSend:{id:"compose.emptySubjectAlert.send",defaultMessage:"Send"},emptySubjectAlertCancel:{id:"compose.emptySubjectAlert.cancel",defaultMessage:"Cancel"},includeOriginalAttachmentsAlert:{id:"include_original_attachments_alert",defaultMessage:"Include original attachments?"},includeOriginalAttachmentsAlertMsg:{id:"include_original_attachments_alert_msg",defaultMessage:"You added new recipients to your reply. Do you want to include attachments from the original message?"},includeOriginalAttachmentsAlertYes:{id:"compose.includeOriginalAttachmentsAlert.yes",defaultMessage:"Yes"},includeOriginalAttachmentsAlertNo:{id:"compose.includeOriginalAttachmentsAlert.no",defaultMessage:"No"},switch_to_plain_text_warning_title:{id:"compose.switch_to_plain_text_warning_title",defaultMessage:"Switch to Plain Text"},switch_to_plain_text_message:{id:"compose.switch_to_plain_text_message",defaultMessage:"Converting your message to plain text will remove all formatting and inline images. Continue?"},switch_to_plain_text_warning:{id:"compose.switch_to_plain_text_warning",defaultMessage:"Converting your message to plain text will lose all formatting and remove inserted items. Continue?"},switch_to_plain_text_warning_ok:{id:"compose.switch_to_plain_text_warning_ok",defaultMessage:"OK"},switch_to_plain_text_warning_cancel:{id:"compose.switch_to_plain_text_warning_cancel",defaultMessage:"Cancel"},font_family_label_modern:{id:"compose.font_family_label_modern",defaultMessage:"Modern"},font_family_label_modernwide:{id:"compose.font_family_label_modernwide",defaultMessage:"Modern Wide"},font_family_label_classic:{id:"compose.font_family_label_classic",defaultMessage:"Classic"},font_family_label_classicwide:{id:"compose.font_family_label_classicwide",defaultMessage:"Classic Wide"},unsupportedFileType:{id:"compose.unsupportedFileType",defaultMessage:"One or more of the file types you have attached is not supported. Please remove the unsupported file(s)."},plaintext_icon_label:{id:"compose.plaintext_icon_label",defaultMessage:"Switch to plain text mode"},plaintext:{id:"compose.plaintext",defaultMessage:"Switch to plain text mode"},plaintext_text_label:{id:"compose.plaintext_text_label",defaultMessage:"Plain Text"},leftAlign:{id:"compose.left_align_icon",defaultMessage:"Left align"},rightAlign:{id:"compose.right_align_icon",defaultMessage:"Right align"},centerAlign:{id:"compose.center_align_icon",defaultMessage:"Center align"},bulletedList:{id:"compose.bulleted_list_icon",defaultMessage:"Bulleted List"},numberedList:{id:"compose.numbered_list_icon",defaultMessage:"Numbered list"},increaseIndent:{id:"compose.increase_indent_icon",defaultMessage:"Increase indent"},decreaseIndent:{id:"compose.decrease_indent_icon",defaultMessage:"Decrease indent"},strikeThrough:{id:"compose.strikethrough_icon",defaultMessage:"Strikethrough"},bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},color:{id:"compose.color",defaultMessage:"Color"}})},,,function(e,t,s){"use strict";var r=s(50),n=s(9),a=s(652),o=s.n(a),i=s(35);function c(e,t,s){var r,a,o,l,d;if(!e)throw new Error("name is a required argument for MailError");"string"!=typeof t&&(s=t,t=null),Error.apply(this),Error.captureStackTrace&&Error.captureStackTrace(this,c);const E=Object(n.b)(c.MANIFEST,e);if(!E)throw new Error("Error name ["+e+"] is not in the list of available errors. see ./manifest.js");t=t||E.description,E.requiredData&&E.requiredData.forEach(t=>{if(!s||!s.hasOwnProperty(t))throw new Error("property ["+t+"] is required for ["+e+"] error. Got: "+JSON.stringify(s))}),this.token="MAIL-ERROR",this.name=e,this.message=t,this.data=s||{},this.isRetryable=!1,this.statusCode=Object(n.b)(this,"data.statusCode",null),this.errorCode=(null===(r=this.data.body)||void 0===r||null===(a=r.error)||void 0===a?void 0:a.code)||(null===(o=this.data.body)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.errorCode)||(null===(d=this.data.body)||void 0===d?void 0:d.errorCode)||this.data.errorCode||null,this.code=E.code||i.s}c.MANIFEST=o.a,c.VALIDATE_SUCCESS=123456,(c.prototype=Object.create(Error.prototype)).getDataByName=function(e,t=null){return Object(n.b)(this.data,e,t)},c.prototype.setDataByName=function(e,t){this.data[e]=t},c.errorify=e=>{let t;return e instanceof c?e:(e instanceof r.a?(t=new c("ApiError",e.message,e.failureMap),t.stack=e.stack,t.statusCode=e.statusCode,t.errorCode=e.errorCode,t.extraStatusCode=e.extraStatusCode,t.extraErrorCode=e.extraErrorCode,t.isRetryable=e.isRetryable,Object.assign(t.data,{info:e.errorInfo})):e&&"DecoderError"===e.kind?(t=new c("DecoderError",e.message),t.at=e.at):e instanceof Error?(t=new c("GenericError",[e.name,e.message].join(": ")),t.stack=e.stack):t=new c("UnknownError","Error: "+JSON.stringify(e),{errorCode:"UNKNOWN"}),t)},c.prototype.serialize=function(){return JSON.stringify(this.toJSON())},c.prototype.toJSON=function(){return{name:this.name,message:this.message,code:this.code,data:this.data,token:"MAIL-ERROR"}},c.jsonToError=function(e){return Object.assign(new Error,{stack:void 0},e)},t.a=c},function(e,t,s){"use strict";s.d(t,"c",(function(){return _})),s.d(t,"d",(function(){return p})),s.d(t,"b",(function(){return S})),s.d(t,"a",(function(){return h})),s.d(t,"m",(function(){return g})),s.d(t,"j",(function(){return O})),s.d(t,"i",(function(){return T})),s.d(t,"o",(function(){return A})),s.d(t,"n",(function(){return I})),s.d(t,"g",(function(){return f})),s.d(t,"l",(function(){return D})),s.d(t,"p",(function(){return R})),s.d(t,"e",(function(){return b})),s.d(t,"q",(function(){return N})),s.d(t,"k",(function(){return M})),s.d(t,"f",(function(){return y})),s.d(t,"h",(function(){return L}));var r=s(3),n=s.n(r),a=s(0),o=s(9),i=s(19),c=s(488),l=s.n(c),d=s(6);s(8);function E(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const _="/ \\ %",u=Object(o.d)([a.Ud.PHOTOS,a.Ud.DOCUMENTS,a.Ud.ATTACHMENTS,a.Ud.SUBSCRIPTIONS,a.Ud.COUPONS,a.Ud.COUPON_EMAILS,a.Ud.RECEIPTS,a.Ud.GROCERIES,a.Ud.TRAVEL,a.Ud.TUTORIAL]),p=Object(o.d)([a.Ud.UNREAD,a.Ud.STARRED,a.Ud.OLDMAIL,a.Ud.NEWMAIL]),m=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?E(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):E(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},a.gd,{},Object(o.d)([a.Ud.UNREAD,a.Ud.STARRED])),S={[a.Mb.INBOX]:"inbx",[a.Mb.SENT]:"sent",[a.Mb.DRAFT]:"drft",[a.Mb.TRASH]:"trsh",[a.Mb.BULK]:"spm",[a.Mb.ARCHIVE]:"archve",[a.Mb.USER]:"usrFldr",[a.Mb.CHATS]:"cht",SEARCH_KEYWORD:"keywSrp",SEARCH_PEOPLE:"cntctSrp",SEARCH_SMARTVIEW:"smrtSrp",SUBSCRIPTION_DETAIL:"subhubDetail"},h={[a.Mb.INBOX]:0,[a.Ud.NEWMAIL]:1,[a.Ud.OLDMAIL]:2,[a.Ud.UNREAD]:3,[a.Ud.STARRED]:4,[a.Mb.DRAFT]:5,[a.Mb.SENT]:6,[a.Mb.ARCHIVE]:7,[a.Mb.BULK]:8,[a.Mb.TRASH]:9},C=Object(d.defineMessages)({folder_inbox:{id:"folder_inbox",defaultMessage:"Inbox"},folder_draft:{id:"folder_draft",defaultMessage:"Drafts"},folder_sent:{id:"folder_sent",defaultMessage:"Sent"},folder_trash:{id:"folder_trash",defaultMessage:"Trash"},folder_bulk:{id:"folder_bulk",defaultMessage:"Spam"},folder_archive:{id:"folder_archive",defaultMessage:"Archive"},folder_all_mail:{id:"folder_all_mail",defaultMessage:"All Mail"}});function g(e,t=""){const s=C["folder_"+t.toLowerCase()];return s?e(s):null}function O(e){let t;switch(e.type){case a.Mb.SENT:case a.Mb.BULK:case a.Mb.ARCHIVE:case a.Mb.TRASH:return 0;case a.Mb.DRAFT:return e.total;default:return t=e.unread<0?0:e.unread,t}}function T(e){switch(e){case a.Mb.INBOX:return[a.Lb.MARK_READ,a.Lb.ARCHIVE];case a.Mb.DRAFT:case a.Mb.SENT:case a.Mb.ARCHIVE:return[a.Lb.MARK_READ];case a.Mb.BULK:case a.Mb.TRASH:return[a.Lb.DELETE];default:return[a.Lb.MARK_READ,a.Lb.ARCHIVE,a.Lb.DELETE,a.Lb.SEPARATOR,a.Lb.MOVE_FOLDER,a.Lb.RENAME_FOLDER,a.Lb.DELETE_FOLDER,a.Lb.CREATE_FOLDER]}}function A(){return Object.keys(u).map(e=>function(e){return{folder:{name:e,id:e,types:[e],isSmartView:!0,isSystem:!1,unread:0,total:0},children:[]}}(e))}function I(e){return e.types.find(e=>m.hasOwnProperty(e))}function f(e,t){const s=e.find(e=>!0===e.isSelected);return t.find(e=>I(e.folder)===a.Mb.INBOX&&e.folder.accountId===s.id).folder}function D(e,t,s=!1){const r=b(e.name);let n="",a="";const o=[];let i=!1;return"1"===e.accountId||s||e.name.match(/\//)&&(n=r.shift(),n+=r.shift()),r.forEach(s=>{n+=s,i?i=!1:(a+=s,t.hasOwnProperty(n)&&t[n].accountId===e.accountId&&(o.push(a),a="",i=!0))}),o}function R(e,t,s,r=""){let n=r,a="";const o=[];let i=!1;return s.forEach(s=>{if(n+=s,i)i=!1;else{a+=s;Object.keys(t).some(s=>t[s].path===n&&t[s].accountId===e.accountId)&&(o.push(a),a="",i=!0)}}),o}function b(e){let t,s,r="";const n=[];for(t=0;t<e.length;t++)s=e.charAt(t),"/"===s?(""!==r&&n.push(r),n.push("/"),r=""):r+=s;return""!==r&&n.push(r),n}function N(e,t,s,r){const n=l()(t);if(Object(i.a)(s.length>0,"folderPathParts must be populated for insert into folder tree to work."),r===s.length-1)n.name=s[r],e.push({folder:Object.assign({},n,{level:r}),children:[]});else{const t=s[r];e.forEach(e=>{e.folder.name===t&&e.folder.accountId===n.accountId&&N(e.children,n,s,r+1)})}}function M(e,t,s){const r=[];return!t.isPrimary&&t.folderPrefix.length>0&&r.push(t.folderPrefix),s&&r.push(s),r.push(e),r.join("/")}function y(e){const t={};for(let s=0;s<e.length;s++){const r=e[s],n=r.folder;t[n.id]=n,r.children.length>0&&Object.assign(t,y(r.children))}return t}const L=e=>e>a.oc?a.wc:""+e},function(e,t,s){"use strict";s.d(t,"a",(function(){return y}));var r=s(27),n=s.n(r),a=s(3),o=s.n(a),i=(s(7),s(1)),c=s.n(i),l=s(28),d=s(667),E=s.n(d),_=s(668),u=s.n(_),p=s(669),m=s.n(p),S=s(670),h=s.n(S),C=s(12),g=s.n(C),O=s(144),T=s(15);var A=s(11),I=(s(9),s(10)),f=s(13),D=s(43),R=s.n(D),b=s(176),N=s(111),M=s.n(N);class y extends c.a.Component{constructor(e){var t;super(e),o()(this,"state",{isVisible:!1,arrowDirection:this.props.permittedArrowDirections[0],popoverPositionStyle:(null===(t=this.props.popoverAnchor)||void 0===t?void 0:t.current)&&"fixed"===getComputedStyle(this.props.popoverAnchor.current).getPropertyValue("position")?"fixed":"absolute"}),o()(this,"handleKeyDown",e=>{switch(e.key){case"Escape":return e.preventDefault(),e.stopPropagation(),void this.hide();default:return}}),o()(this,"handleClick",()=>{!this.props.persistent&&this.props.hideOnContentClick&&this.hide()}),o()(this,"getArrowClassNames",e=>{let t=m.a;return this.props.arrowSize===T.b.S?t=u.a:this.props.arrowSize===T.b.L&&(t=h.a),g()(t,{arrowDirectionDown:e===T.h.DOWN,arrowDirectionLeft:e===T.h.START,arrowDirectionRight:e===T.h.END,bg:this.props.bg,zAltitude:this.props.zAltitude,align:this.props.align,highlight:this.props.highlight,collapseArrowWrapper:this.props.collapseArrowWrapper})}),o()(this,"updatePosition",()=>{const e=this.props,t=e.overflowScroll,s=e.popoverAnchor,r=e.align,n=e.offset,a=e.arrowSize,o=e.isArrowVisible,i=e.permittedArrowDirections,c=e.customPositioning,d=e.useMenuPositioning,E=e.fullWidthPositioning,_=e.isTwoColumnLayout,u=e.isRTL,p=e.collapseArrowWrapper,m=e.contentComfortThreshold,S=s&&s.hasOwnProperty("current")?s.current:s;if(!S)return;const h=function(e,t,s,r,n,a,o,i=!1,c=T.f){let l=t.getBoundingClientRect();const d=T.c[r],E=Math.sqrt(2*Math.pow(d,2)),_=i?0:Math.sqrt(Math.pow(d,2)-Math.pow(E/2,2)),u=e.ownerDocument.documentElement.offsetHeight,p=e.ownerDocument.documentElement.offsetWidth,m=e.getBoundingClientRect(),S=e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollLeft:e.ownerDocument.body.scrollLeft,h=e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollTop:e.ownerDocument.body.scrollTop,C={top:m.top+h,right:m.right+S,bottom:m.bottom+h,left:m.left+S,height:m.height,width:m.width},g=-(C.width/2+l.width/2),O=C.height/2-l.height/2,A={below:u-C.bottom-C.height/2,above:C.top,left:C.left,right:p-C.right};let I=s;const f=(e,t)=>e<0&&T.a.START||t<0&&T.a.END||T.a.CENTER;if(s===T.a.ANY&&(e=>[T.h.UP,T.h.DOWN].some(t=>e.includes(t)))(a)){I=f(A.left+C.width/2-l.width/2,A.right+C.width/2-l.width/2)}else if(s===T.a.ANY&&(e=>[T.h.START,T.h.END].some(t=>e.includes(t)))(a)){I=f(A.above+C.height/2-l.height/2,A.below+C.height/2-l.height/2)}const D={},R=Math.floor(Math.max(A.above,A.below)-u*(1-c)),b=Math.floor(Math.max(A.left,A.right)-p*(1-c));let N,M;if(l.height+_>R&&(N=R-_),l.width+_>b&&(M=b-_),N||M){const e=N||l.height,t=M||l.width;l=Object.assign({},l,{height:e,bottom:l.top+e,width:t,right:l.left+t}),D.overflow="auto",N&&(D.maxHeight=N+"px"),M&&(D.maxWidth=M+"px")}const y=A.below*c-l.height>=0,L=A.above*c-l.height>=0,P=A.left*c-l.width>=0,v=A.right*c-l.width>=0;a[0]===T.h.ANY&&(a=[T.h.UP,T.h.DOWN,T.h.START,T.h.END]);const F=function(){const e={};let t,s=!1;for(let s=0;s<=a.length;s++){if(t=a[s],t===T.h.UP&&y){e.top=C.bottom+_+"px",e.left=C.right+g+"px";break}if(t===T.h.DOWN&&L){e.top=C.top-(l.height+_)+"px",e.left=C.right+g+"px";break}if(t===T.h.START&&v||t===T.h.END&&v&&o){e.top=C.top+O+"px",e.left=o?C.right+(C.width+_)+"px":C.right+_+"px";break}if(t===T.h.END&&P||t===T.h.START&&P&&o){e.top=C.top+O+"px",e.left=o?C.left-l.width-_+"px":C.left-(l.width+_)+"px";break}}return t===T.h.UP||t===T.h.DOWN?I===T.a.START?o?l.width?e.left=C.right-l.width+n+"px":s=!0:e.left=C.left-n+"px":I===T.a.END&&(o?e.left=C.left-n+"px":l.width?e.left=C.right-l.width+n+"px":s=!0):t!==T.h.START&&t!==T.h.END||(I===T.a.START?e.top=C.top-n+"px":I===T.a.END&&(e.top=C.bottom-l.height+n+"px")),{positioningStyles:e,arrowDirection:t,canNotPosition:s}}();return{canNotPosition:F.canNotPosition,positioningStyles:F.positioningStyles,innerContentScrollingStyles:D,arrowDirection:F.arrowDirection,adjustedAlign:I}}(Object(l.findDOMNode)(S),Object(l.findDOMNode)(this.refs.popoverContent),r,a,n,i,u,p,m),C=h.arrowDirection,g=h.adjustedAlign;if(h.canNotPosition)return;let O=h.positioningStyles,I=h.innerContentScrollingStyles;if(c&&(O=null),d){const e=Object(b.a)(Object(l.findDOMNode)(S),Object(l.findDOMNode)(this.refs.popoverContent),u);for(const t in e)e[t]=e[t]+"px";O=e}E&&!_&&(O.left=2*A.G+"px",O.width=`calc(100% - ${4*A.G}px)`),t||(I=null),o&&Object.assign(this.refs.popoverArrow.style,this.getArrowStyle(g)),"fixed"===this.state.popoverPositionStyle&&(O.position="fixed"),C!==this.state.arrowDirection?this.setState({arrowDirection:C},()=>{Object.assign(this.refs.popoverContent.style,O),Object.assign(this.refs.popoverInnerContent.style,I)}):(Object.assign(this.refs.popoverContent.style,O),Object.assign(this.refs.popoverInnerContent.style,I))}),o()(this,"handleWindowMouseDown",e=>{const t=this.props,s=t.popoverAnchor,r=t.triggerOn,n=s&&s.hasOwnProperty("current")?s.current:s;if(!n)return;const a=Object(l.findDOMNode)(this.refs.popoverContent),o=Object(l.findDOMNode)(n),i=!a.contains(e.target)&&a!==e.target,c=o.contains(e.target)||o===e.target;!i||[T.i.CLICK,T.i.ASYMMETRIC].indexOf(r)>-1&&c||this.props.onHide()}),o()(this,"hide",()=>{const e=this.props;this.setState({isVisible:!e.hideOnContentClick},e.onHide)}),o()(this,"getArrowStyle",e=>{const t=this.props,s=t.offset,r=t.arrowSize,n=t.popoverAnchor,a=t.isRTL,o=n&&n.hasOwnProperty("current")?n.current:n;if(!o)return{};const i=Object(l.findDOMNode)(o).getBoundingClientRect(),c=this.state.arrowDirection;let d,E="",_=s-T.c[r],u="center",p="none";return e===T.a.END?u="flex-end":e===T.a.START&&(u="flex-start"),c!==T.h.DOWN&&c!==T.h.END||(E="rotate(180deg)",p=""+E,e===T.a.END?u="flex-start":e===T.a.START&&(u="flex-end")),e===T.a.CENTER?{justifyContent:u,transform:p}:(c===T.h.START||c===T.h.END?(d=T.g.VERTICAL,_+=i.height/2):(d=T.g.HORIZONTAL,_+=i.width/2,(e===T.a.END&&!a||a&&e===T.a.START)&&(_*=-1)),{transform:d===T.g.HORIZONTAL?`translateX(${_}px) ${E}`:`translateY(${_}px) ${E}`,justifyContent:u})}),this.scrollDebounce=M()(this.handleScroll.bind(this),100)}handleScroll(){this.state.isVisible&&this.refs.popoverContent&&"fixed"!==this.state.popoverPositionStyle&&this.updatePosition()}componentDidMount(){this.updatePosition(),this.props.onShow(),window.addEventListener("scroll",this.scrollDebounce,!0),setImmediate(()=>this.setState({isVisible:!0},()=>{!this.props.persistent&&this.props.outerClickFallthrough&&window.addEventListener("mousedown",this.handleWindowMouseDown,!1)}))}componentWillUnmount(){clearTimeout(this.positionTimeout),window.removeEventListener("scroll",this.scrollDebounce,!0),window.removeEventListener("mousedown",this.handleWindowMouseDown,!1)}componentDidUpdate(){this.positionTimeout=setTimeout(()=>{this.refs.popoverContent&&this.updatePosition()},0)}render(){const e=this.state.isVisible?"visible":"hidden",t=this.getArrowClassNames(this.state.arrowDirection),s=g()(E.a,{bg:this.props.bg,zAltitude:this.props.zAltitude,animate:this.props.animate,highlight:this.props.highlight,borderRadius:this.props.borderRadius,ignorePointerEvents:this.props.ignorePointerEvents});return c.a.createElement(O.a,{rootId:this.props.layerRootId},this.props.outerClickFallthrough?null:c.a.createElement("div",{"data-test-id":"popover-overlay",className:s.overlay,onClick:()=>this.props.persistent?null:this.props.onHide()}),c.a.createElement("div",n()({"data-test-id":"popover-content",className:s.popover,onClick:this.handleClick,onKeyDown:this.handleKeyDown},R()(this.props,["contentComfortThreshold","outerClickFallthrough","triggerOn","permittedArrowDirections","zAltitude","onShow","boundingBox","align","arrowSize","bg","onHide","overflowScroll","persistent","isArrowVisible","customPositioning","useMenuPositioning","fullWidthPositioning","animate","ignorePointerEvents","popoverAnchor","highlight","hideOnContentClick","borderRadius","isTwoColumnLayout","isRTL","dispatch","collapseArrowWrapper","layerRootId"]),{style:{visibility:e},ref:"popoverContent"}),c.a.createElement("div",{className:s.popoverContent,ref:"popoverInnerContent"},"function"==typeof this.props.children?this.props.children(this.updatePosition):this.props.children),c.a.createElement("div",{className:t.pointerWrapper,ref:"popoverArrow"},this.props.isArrowVisible?c.a.createElement("div",{"data-test-id":"popover-content-arrow",className:t.pointer}):null)))}}o()(y,"displayName","PopoverContent"),o()(y,"defaultProps",{outerClickFallthrough:!0,permittedArrowDirections:[T.h.ANY],boundingBox:void 0,ignorePointerEvents:!1,triggerOn:T.i.MOUNT,align:T.a.CENTER,arrowSize:T.b.M,offset:0,bg:T.d.DEFAULT,zAltitude:A.Pb.POPOVER.LOW,onHide:()=>{},onShow:()=>{},overflowScroll:!0,persistent:!1,isArrowVisible:!0,customPositioning:!1,useMenuPositioning:!1,animate:!1,highlight:!1,hideOnContentClick:!0,borderRadius:T.e.LOW,collapseArrowWrapper:!1,layerRootId:"app",contentComfortThreshold:T.f});const L=Object(f.connect)(e=>{const t=Object(I.selectors)(e),s=t.getPrescribedNumberOfColumns,r=(0,t.getEnvironmentSelectors)();return{isTwoColumnLayout:2===s(),isRTL:"rtl"===r.getPageDirection()}})(y);t.b=L},,function(e,t,s){"use strict";s.d(t,"j",(function(){return C})),s.d(t,"f",(function(){return g})),s.d(t,"i",(function(){return O})),s.d(t,"h",(function(){return T})),s.d(t,"k",(function(){return A})),s.d(t,"l",(function(){return I})),s.d(t,"m",(function(){return f})),s.d(t,"g",(function(){return D})),s.d(t,"c",(function(){return R})),s.d(t,"b",(function(){return b})),s.d(t,"r",(function(){return N})),s.d(t,"q",(function(){return M})),s.d(t,"p",(function(){return y})),s.d(t,"o",(function(){return L})),s.d(t,"a",(function(){return P})),s.d(t,"n",(function(){return v})),s.d(t,"e",(function(){return F})),s.d(t,"d",(function(){return U})),s.d(t,"s",(function(){return w}));var r=s(33),n=s.n(r),a=s(34),o=s.n(a),i=s(3),c=s.n(i),l=s(2),d=s(10),E=s(14),_=s(0),u=s(16),p=s(8),m=s(162);function S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?S(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const C=e=>h({type:l.OPEN_PAGE_REQUESTED},e),g=(e={})=>(t,s)=>{const r=Object(d.selectors)(s());let n;e.replaceInStack&&(n=(0,r.createPageForRoute)(e.route,0,(0,r.getCurrentHistoryState)())),t(C(h({},e,{nextPage:n})))},O=e=>h({},C({route:Object(E.x)(_.Ud.PEOPLE,{accountIds:e.accountId})}),{updatedSettingAttributes:e.updatedSettingAttributes,accountId:e.accountId}),T=(e={})=>{let t=e.csid,s=void 0===t?Object(u.generateUID)():t,r=o()(e,["csid"]);return C(h({},r,{route:Object(E.f)(s)}))},A=e=>(t,s)=>{const r=e.route,n=(0,Object(d.selectors)(s()).shouldNavigateSearchFromToAll)(r)?Object(E.t)(Object(p.gb)(Object(p.z)(r),{listFilter:_.bc.ALL})):r;t(C(h({},e,{route:n})))},I=e=>t=>{const s=e.listId,r=Object(p.q)(s),n=Object(E.n)(Object(p.f)({folders:[r],listContentType:_.ac.SENDERS,sortOrder:_.Yd.SENDER}));t(C({route:n}))},f=({streamId:e,i13nModel:t})=>(s,r)=>{const n=Object(d.selectors)(r()),a=n.getCursorItem,o=(0,n.doesStreamExist)(e)?a(e):void 0;if(!o)return;const i=o.listId,c=o.id,l=Object(p.w)(i);if(l===_.ac.MESSAGES)s(C({route:Object(E.p)(i,c),i13nModel:t,streamItem:o}));else if(l===_.ac.IMAGES||l===_.ac.DOCUMENTS){const e=o.messageId,r=o.downloadUrl;return o.previewable?s(C({route:Object(E.d)(i,e,c,{fullscreen:"1"}),itemId:c,i13nModel:t,streamItem:o})):(window.open(r,"_blank"),s(Object(m.d)({streamItem:o,i13nModel:t})))}},D=e=>(t,s)=>{const r=Object(d.selectors)(s());t(C({route:(0,r.getDefaultFolderRoute)(e.inboxFolderId)}))},R=(e={})=>(t,s)=>{const r=Object(d.selectors)(s());t(h({type:l.CLOSE_PAGE_REQUESTED},e,{route:e.route||(0,r.getRoute)()}))},b=(e={})=>t=>{t(h({type:l.CLOSE_ALL_PAGES_REQUESTED},e))},N=e=>h({type:l.SYNC_DATA},e),M=e=>h({type:l.SYNC_NOW_SUCCEEDED},e),y=e=>h({type:l.SYNC_NOW_FAILED},e),L=e=>h({type:l.SHOW_APP_RELOAD},e),P=e=>h({type:l.CANCEL_APP_RELOAD},e),v=e=>h({type:l.CONFIRM_APP_RELOAD},e),F=e=>h({type:l.HEADER_NAVIGATION_SELECTED},e),U=e=>h({type:l.PREVIEW_MESSAGE_CLOSED},e),w=e=>(t,s)=>{const r=e.messageGroupIds,a=e.i13nModel,o=n()(r,1)[0],i=(0,Object(d.selectors)(s()).__getLastNonDraftMessageIdByGroupId)(o);t({type:l.VIEW_RAW_MESSAGE,i13nModel:a,messageId:i})}},function(e,t,s){"use strict";s.d(t,"a",(function(){return te}));var r=s(3),n=s.n(r),a=s(34),o=s.n(a),i=s(33),c=s.n(i),l=s(16),d=s(55),E=s(47),_=s(8),u=s(66),p=s(0),m=s(5),S=s(9),h=s(217),C=s(10),g=s(169);function O(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function T(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?O(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function A(e){const t=e.messageIds,s=e.itemsToUpdate;let r=[];return s&&(r=s.map(e=>e.messageId)),t&&t.length?t:r}function I({itemsToUpdate:e},t,s=""){var r,n;const a=(0,Object(C.selectors)(t).getFoldersSelectors)(),o=a.getFolderName,i=s||(null==e||null===(r=e[0])||void 0===r||null===(n=r.folder)||void 0===n?void 0:n.id)||"";return(0,a.doesFolderIdExist)(i)?o(i):null}function f({listId:e},t){const s=(0,Object(C.selectors)(t).getListsSelectors)(),r=s.getItemIdsSelectors;return{numMsg:(0,s.doesListExist)(e)?r(e).getItemIds().length:0}}function D(e,t){const s=Object(C.selectors)(t),r=s.doesMessageIdExist,n=s.getCardConversationIdByMessageId,a=A(e)||[],o=a.slice(0,20);return{msgId:o.join(","),ccid:o.map(e=>r(e)?n(e):"null").join(","),numMsg:a.length}}function R(e,t){const s=e.destinationFolderId,r=e.destinationFolderType,n=A(e)||[];return{fldr:I(e,t),destFldr:I(e,t,s)||r||"",msgId:n.slice(0,20).join(","),numMsg:n.length}}function b(e,t){const s=A(e)||[];return{fldr:I(e,t),msgId:s.slice(0,20).join(","),numMsg:s.length}}function N(e){return{msgId:e.messageId||""}}function M(e,t){const s=e.message,r=void 0===s?{}:s,n=r.messageId,a=r.folderId;return{msgId:void 0===n?"":n,fldr:I(e,t,void 0===a?"":a)}}function y(e,t){const s=e.itemsToUpdate,r=e.messageId,n=Object(C.selectors)(t);if(r)return{msgId:r,fldr:I(e,t,(0,n.getMessageFolderId)(r))};if(!s||!s.length)return{};const a=A(e)||[],o=s[0].id||"",i=s[0].listId||"",c=i&&Object(_.P)(i),l=s.length>1&&s.some(e=>e.id!==o),d=a.length;return c&&l?{msgId:a.slice(0,20).join(","),numMsg:d}:{msgId:a.slice(0,20).join(","),fldr:I(e,t),numMsg:d}}function L({itemsToUpdate:e}){return{numMsg:e.filter(e=>e.isAffected).length}}function P(e){const t=e.attachment;if(!t)return{};const s=t.type,r=t.subtype,n=t.size,a=t.id,o=t.virus;return{fileType:Object(d.d)(s,r),fileSize:n,msgId:a&&Object(u.f)(a),attId:a||"",mFlType:s,mFlSubType:r,vScan:"N"!==o}}function v(e,t){const s=e.route,r=e.streamItem,n=e.i13nModel,a=(void 0===n?{}:n).actionData,o=void 0===a?{}:a,i=Object(C.selectors)(t),c=i.__getLastNonDraftMessageIdByGroupId,d=i.getImportantContactsSelectors,E=i.doesMessageGroupIdExist,_=i.getGroupIdContainingMessageId,u=i.getMessageIdsFromMessageGroupId,p=i.getMessageGroupParticipantsInfo,m=i.getMessageFromAddress,h=i.getListItemIdIndex,g=i.getMessageFolderId,O=i.getCardConversationIdByMessageId,T=i.getContactListSelectors,A=(0,i.getMessagesSelectors)(),f=A.getDecos,D=A.doesMessageIdExist;let R,b,N,M;if(!r)return N=Object(S.b)(e,"hashParams.messageId"),N?Object.assign(o,{msgId:N,fldr:I(e,t,g(N)),ccid:D(N)?O(N):null}):o;R=r.listId,M=r.id,E(M)?(b=M,N=N||c(b)):(N=M,b=_(N));const y=(0,d().getImportantContacts)()||[],L=u(b),P=p(b,R).senders,v=void 0===P?[]:P;N=N||L[L.length-1];const F=D(N)?m(N):[],U=F.length>0?F[0]:{},w=U.email,G=Object(l.isValidEmail)(U.email)?Object(l.destructEmailAddressParts)(U.email).domainPart:"NODOMAIN.COM",H=[],j=D(N)?f(N):[],k=(0,T().getContactByEmail)(w);return j.forEach(e=>H.push(e.id)),Object.assign({},o,{query:s?s.params.query||s.params.fid:"",mid:b,msgId:N,fldr:I(e,t,g(N)),ccid:D(N)?O(N):null,sdrDomain:G,mailDecos:H,numRcpt:v.length,numMsg:L.length,importntCntct:y.some(e=>-1!==e.emails.indexOf(U.email)),itemIdx:h(R,b),isKnownEntity:null==k?void 0:k.isBusiness})}function F(e,t){const s=e.message,r=e.messageId,n=Object(C.selectors)(t),a=n.isFeatureEnabled,o=n.getMessagesSelectors,i=Object(S.b)(e,"i13nModel.actionData",{});var c,l,d,E;if(s)return T({},i,{msgId:s.id,mHref:a(p.Eb.CLICK_URL_LOGGING)?i.mHref:null,url:i.mHref||"",sndr:(null==s||null===(c=s.headers)||void 0===c||null===(l=c.from)||void 0===l||null===(d=l[0])||void 0===d?void 0:d.email)||"",fldr:I(e,t,null===(E=s.folder)||void 0===E?void 0:E.id)});if(r){var _;const s=o(),n=s.getFolderOfDelivery,c=(0,s.getFromAddresses)(r),l=n(r);return T({},i,{msgId:r,mHref:a(p.Eb.CLICK_URL_LOGGING)?i.mHref:null,url:i.mHref||"",sndr:(null==c||null===(_=c[0])||void 0===_?void 0:_.email)||"",fldr:I(e,t,l)})}return i}function U(e){const t=e.listId||Object(_.z)(e.route),s=Object(_.ib)(t),r=Object(_.v)(t),n=Object(_.n)(t),a=Object(_.U)(t);let o="kwrd";if(!a)switch(e.i13nModel.mKey){case m.g.SEARCH_BUTTON:o="kwrd";break;case m.g.SEARCH_RECENT_SUGGEST:o="recentSearch";break;case m.g.SEARCH_KWRD_SUGGEST:o="suggestedSearch";break;default:o="kwrd"}return Object.assign({srchQry:s,srchType:a?"cntct":o,query:a?n:r},Object(S.b)(e,"i13nModel.actionData",{}))}function w(e){const t=e.value,s={[p.ed.NO]:"none",[p.ed.RIGHT]:"vrtcl",[p.ed.BOTTOM]:"hrztl"};if(s[t])return{setTo:s[t]}}function G(e){const t=e.value,s={[p.Ec.SLIM]:"slm",[p.Ec.NORMAL]:"rglr",[p.Ec.RELAXED]:"rlxd"};if(s[t])return{setTo:s[t]}}function H(e){return{setTo:e.value?"true":"false"}}function j({messageId:e,i13nModel:{mKey:t="",sec:s="",actionData:r={}}={},recommendations:n=!1}={},a){if(e){const o=Object(C.selectors)(a),i=o.getCouponsSelectors,l=(0,o.getMessagesSelectors)().getParentMessageIdForCardConversationId,d=i(),E=d.isSingleCouponParentMessageId,_=d.getCardConversationId,u=d.getUnusualDiscount,p=d.getFromAddress;if(!(0,d.doesDealExist)(e))return{};const S=_(e),h=u(e),g=n?l(S):"",O=p(e).email,A=void 0===O?"":O,I=n&&t===m.g.COUPON_CLIPPED&&s===m.i.MSG_BODY&&E(g);if(h){const t=A.split("@");return T({ccid:S,sndr:c()(t,2)[1],cardMid:e,parentMid:g},r)}return T({},r,{ccid:S,fromEmail:A,cardMid:e,parentMid:g,recommendationsEligible:I})}return{}}function k(e){const t=[],s=[];return e.files.forEach(e=>{const r=e.type.split("/");let n;n=r.length>1?Object(d.d)(r[0],r[1]):Object(d.d)(e.type,e.subtype),t.push(n),s.push(e.size)}),{attmTypes:t,attmSizes:s}}function x(e,t){const s=Object(C.selectors)(t),r=s.doesMessageGroupIdExist,n=s.getMessageIdsFromMessageGroupId,a=(0,s.getMessagesSelectors)(),o=a.getDecos;if(!e||!e.streamItem)return{};const i=e.streamItem.groupId;if(!(0,a.doesMessageIdExist)(i)&&!r(i))return{};const c=r(i)?n(i):[i],l={},d=[];c.forEach(e=>{o(e).forEach(e=>l[e.id]=e.id)});for(const e in l)d.push(l[e]);return{mailDecos:d}}function B(e,t){const s=Object(C.selectors)(t).isFeatureEnabled,r=Object(S.b)(e,"i13nModel.actionData",{});return s(p.Eb.CLICK_URL_LOGGING)?r:T({},r,{mHref:null})}function V(e,t){const s=Object(S.b)(e,"i13nModel.actionData",{}),r=(0,Object(C.selectors)(t).getListsSelectors)();return T({},s,{listId:e.listId,isExpanding:(0,r.isListExpanded)(e.listId)})}function W(e,t){const s=Object(C.selectors)(t),r=s.getRoute,n=(0,s.getListsSelectors)(),a=n.getItemIdsSelectors,o=n.doesListExist,i=e.listId||Object(_.z)(r()),c=Object(_.w)(i),l={};if(i&&Object(_.P)(i)){const e=Object(_.ib)(i);Object.assign(l,{srchQry:e,srchType:Object(_.U)(i)?"cntct":"kwrd"})}if(!i||!o(i))return l;const d=(a(i).getItemIds()||[]).slice(0,10);let E;switch(c){case p.ac.MESSAGES:E=(function({messageGroupIds:e=[]},t){const s=Object(C.selectors)(t),r=s.doesMessageGroupIdExist,n=s.getMessageIdsFromMessageGroupId;return e.reduce((e,t)=>e.concat(r(t)?n(t):[]),[])}({messageGroupIds:d},t)||[]).slice(0,20).join(",");break;case p.ac.ATTACHMENTS:case p.ac.DOCUMENTS:case p.ac.IMAGES:E=d.map(u.f).slice(0,20).join(",");break;case p.ac.COUPON_CARDS:{const e=Object(C.selectors)(t),s=e.getCouponsSelectors,r=e.getCardMessageToSchemasSelectors,n=(0,e.getMessagesSelectors)().getParentMessageIdForCardConversationId,a=s().getCardConversationId,o=r().getSchemas;E=d.map(e=>{var t;const s=o(e).filter(e=>e.type===p.Ad.Coupon),r=(null==s||null===(t=s[0])||void 0===t?void 0:t.id)||"",i=r&&a(r)||"";return i&&n(i)||""}).filter(Boolean).slice(0,20).join(",");break}}return E&&Object.assign(l,{msgId:E}),l}function K(e,t){var s;const r=e.messageId,n=e.brandId,a=void 0===n?"":n,o=Object(g.selectors)(t[g.key]),i=o.getSortOrder,c=o.getCurrentListFilter,l=o.getBrandName,d=o.getBrandSubscriptions;if(r)return{msgId:r};if(!(0,o.doesBrandExist)(a))return{};const E=d(a);return{brandName:l(a),srtyBy:c()&&i(c())||null,tab:"active"===(null===(s=E[0])||void 0===s?void 0:s.status)?"Active":"Unsubscribe",subId:E.map(e=>e.subid).join(",")}}var q={[m.a.SEARCH_SUGGESTION]:function(e,t){const s=e.query,r=e.suggestions,n=Object(C.selectors)(t),a=n.getRecentSearchesSelectors,o=n.isFeatureEnabled,i=n.getEnvironmentSelectors,c=(0,(0,n.getImportantContactsSelectors)().getImportantContacts)(),l=(0,a().getRecentSearches)(),d=Object(h.d)(r,c,l,s,i().getPartner(),o(p.Eb.SHOW_RECENT_SUGGESTIONS),o(p.Eb.SHOW_EMPTY_SEARCH_SUGGESTIONS)).reduce((e,t)=>(t.hasOwnProperty("type")&&(e[t.type]?e[t.type]++:e[t.type]=1),e),{});return{query:s,people:d[p.ge.PERSON]||0,keyword:d[p.ge.KEYWORD]||0,recent:0}},[m.a.SEARCH_ZERO_RESULTS]:U,[m.g.MSG_SMART_REPLY]:function(e,t){const s=Object(C.selectors)(t),r=s.getMessageIdsFromMessageGroupId;if(!(0,s.doesMessageGroupIdExist)(e.messageGroupId))return{};const n=r(e.messageGroupId)||[];return{numMsg:n.length,msgId:e.messageId||(n&&n.length?n[n.length-1]:"")}},[m.g.TOOLBAR_SELECTALL_MSG]:f,[m.g.TOOLBAR_SELECT_NONE]:f,[m.g.TOOLBAR_BULK_CONTEXT_ALL]:f,[m.g.TOOLBAR_BULK_CONTEXT_NONE]:f,[m.g.TOOLBAR_BULK_CONTEXT_READ]:f,[m.g.TOOLBAR_BULK_CONTEXT_UNREAD]:f,[m.g.TOOLBAR_BULK_CONTEXT_STARRED]:f,[m.g.TOOLBAR_BULK_CONTEXT_UNSTARRED]:f,[m.g.UNDO_DELETE_ACTION]:L,[m.g.UNDO_ARCHIVE_ACTION]:L,[m.g.UNDO_MOVE_ACTION]:L,[m.g.SEARCH_BUTTON]:U,[m.g.ADVANCED_SEARCH_BUTTON]:U,[m.g.CONTACT_SEARCH]:U,[m.g.SUBJECT_SEARCH]:U,[m.g.SEARCH_PEOPLE_SUGGEST]:U,[m.g.SEARCH_KWRD_SUGGEST]:U,[m.g.SEARCH_RECENT_SUGGEST]:U,[m.g.SETTINGS_POPUP_PREVIEW_PANE]:w,[m.g.SETTINGS_PREVIEW_PANE]:w,[m.g.SETTINGS_POPUP_MSG_LIST_DENSITY]:G,[m.g.SETTINGS_MSG_LIST_DENSITY]:G,[m.g.SETTINGS_POPUP_TAB_SETTING]:H,[m.g.SETTINGS_TAB_SETTING]:H,[m.g.SETTINGS_POPUP_SNIPPET]:H,[m.g.SETTINGS_SNIPPET]:H,[m.g.SETTINGS_BLOCK_IMAGES]:H,[m.g.SETTINGS_NOTIFICATIONS]:H,[m.g.SETTINGS_CONVERSATION]:H,[m.g.SETTINGS_AUTOMATIC_REPLY]:function({value:e}){return{setTo:e.enabled?"true":"false"}},[m.g.BLOCK_SENDERS_SUBMIT]:function(e){const t=e.deleteItemsFromSenders;return{deleteItemsFromSenders:t?t.length:0}},[m.g.SEND]:function(e,t){const s=e.to,r=void 0===s?[]:s,n=e.cc,a=void 0===n?[]:n,o=e.bcc,i=void 0===o?[]:o,c=e.csid,l=e.attachmentsInfo,d=void 0===l?[]:l,E=e.containsStationery,_=Object(C.selectors)(t),u=_.isReplyMessage,p=_.isReplyAllMessage,m=_.isForwardMessage,S=(0,_.getInForwardToMessageId)(c);return{sttnry:E,to:r?r.length:0,cc:a?a.length:0,bcc:i?i.length:0,mid:S||"",compType:u(c)||p(c)||m(c)?"inline":"comp",numAttchmts:d.length,sizeAttchmts:d.reduce((e,{size:t})=>e+t,0)}},[m.g.COMPOSE_ADD_ATTACHMENT]:k,[m.g.COMPOSE_DRAG_ATTACHMENT]:k,[m.g.UNUSUAL_DISCOUNT_COUPON_CLIPPED]:j,[m.g.COUPON_CLIPPED]:j,[m.g.COUPON_UNCLIPPED]:j,[m.g.AUTHORIZE_IMAP_ACCOUNT]:function(e){const t=e.email;return{prvdr:e.provider||Object(E.e)(t)}},[m.g.COUPON_OPENED]:x,[m.g.RECEIPT_OPENED]:x,[m.g.TRAVEL_READ_MSG]:x,[m.g.LINK_ENHANCER_MOVE_LINK_INLINE]:B,[m.g.LINK_ENHANCER_ADD_LINK]:B,[m.g.LINK_ENHANCER_RESIZE_LINK]:B,[m.g.LINK_ENHANCER_REMOVE_LINK]:B,[m.g.LINK_ENHANCER_MOVE_LINK_BOTTOM]:B,[m.g.LINK_ENHANCER_SHARE_LINK]:B,[m.g.TOGGLE_LIST_VISIBILITY]:V,[m.g.DELETE_DRAFT]:D,[m.g.TOOLBAR_DELETE]:D,[m.g.MSG_LIST_DEL]:D,[m.g.MSG_DELETE]:D,[m.g.TOOLBAR_MOVE]:R,[m.g.DRAG_DROP_MOVE]:R,[m.g.TOOLBAR_ARCHIVE]:b,[m.g.MSG_LIST_ARCHIVE]:b,[m.g.MSG_ARCHIVE]:b,[m.g.TOOLBAR_FORWARD]:N,[m.g.MSG_FORWARD]:N,[m.g.QUICK_FORWARD]:N,[m.g.TOOLBAR_REPLY]:M,[m.g.QUICK_REPLY]:M,[m.g.MSG_REPLY]:M,[m.g.TOOLBAR_REPLYALL]:M,[m.g.QUICK_REPLYALL]:M,[m.g.MSG_REPLY_ALL]:M,[m.g.OPEN_LINK]:F,[m.g.LINK_ENHANCER_OPEN_LINK]:F,[m.g.TOGGLE_LIST_VISIBILITY]:V,[m.g.UNREAD_SMARTVIEW]:W,[m.g.STARRED_SMARTVIEW]:W,[m.g.PHOTO_SMARTVIEW]:W,[m.g.DOCUMENT_SMARTVIEW]:W,[m.g.COUPONS_SMARTVIEW]:W,[m.g.ATTACHMENTS_SMARTVIEW]:W,[m.g.INBOX_FOLDER]:W,[m.g.DRAFT_FOLDER]:W,[m.g.SENT_FOLDER]:W,[m.g.ARCHIVE_FOLDER]:W,[m.g.BULK_FOLDER]:W,[m.g.TRASH_FOLDER]:W,[m.g.USER_FOLDER]:W,[m.g.ATTACHMENT_VIEW_DOCUMENTS]:W,[m.g.ATTACHMENT_VIEW_IMAGES]:W,[m.g.ATTACHMENT_VIEW_MESSAGES]:W,[m.g.TOOLBAR_MARK_READ]:y,[m.g.MARK_MSG_READ]:y,[m.g.MSG_GRP_HDR_MARK_READ]:y,[m.g.MSG_HDR_MARK_READ]:y,[m.g.TOOLBAR_MARK_UNREAD]:y,[m.g.MARK_MSG_UNREAD]:y,[m.g.MSG_HDR_MARK_UNREAD]:y,[m.g.MSG_GRP_HDR_MARK_UNREAD]:y,[m.g.TOOLBAR_MARK_STARRED]:y,[m.g.MARK_MSG_STARRED]:y,[m.g.MSG_HDR_MARK_STAR]:y,[m.g.MSG_GRP_HDR_MARK_STAR]:y,[m.g.TOOLBAR_MARK_UNSTARRED]:y,[m.g.MSG_HDR_MARK_UNSTAR]:y,[m.g.MSG_GRP_HDR_MARK_UNSTAR]:y,[m.g.MARK_MSG_UNSTARRED]:y,[m.g.TOOLBAR_SPAM]:y,[m.g.PHISHING_BANNER_SPAM]:y,[m.g.TOOLBAR_NOT_SPAM]:y,[m.g.PHISHING_BANNER_NOT_SPAM]:y,[m.g.OPEN_MSG]:v,[m.g.RIGHT_RAIL_MSG_OPEN]:v,[m.g.DOC_READ_MSG]:v,[m.g.PHOTO_READ_MSG]:v,[m.g.ATTACHMENT_LIGHTBOX_DOCUMENT_MSG]:v,[m.g.ATTACHMENT_LIGHTBOX_IMAGE_MSG]:v,[m.g.PHOTO_DELETE_PREVIEW_READ_MSG]:v,[m.g.DOC_DELETE_PREVIEW_READ_MSG]:v,[m.g.TRAVEL_READ_MSG]:v,[m.g.SEND_MSG]:function(e){const t=e.message;return{msgId:(null==t?void 0:t.id)||""}},[m.g.ADD_FOLDER]:function(e){return{newFldr:e.folderName||""}},[m.g.FOLDER_CONTEXTMENU_DELETE]:function(e){return{fldr:e.folderName||""}},[m.g.FOLDER_CONTEXTMENU_RENAME]:function(e){return{fldr:e.originalFolderName||"",newFldr:e.newFolderName||""}},[m.g.PHOTO_DOWNLOAD]:P,[m.g.DOWNLOAD_ATTACHMENT]:P,[m.g.ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD]:P,[m.g.ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD]:P,[m.g.ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD]:P,[m.g.ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD]:P,[m.g.INLINE_IMAGE_DOWNLOAD]:P,[m.g.DOWNLOAD_ATTACHMENT_ALL]:function({attachments:e=[]}){return e.map(({id:e,type:t,subtype:s,size:r,virus:n})=>({fileType:Object(d.d)(t,s),fileSize:r,msgId:e&&Object(u.f)(e),attId:e||"",mFlType:t,mFlSubType:s,vScan:"N"!==n}))},[m.g.MSG_HDR_PRINT]:P,[m.g.TOOLBAR_UNSUBSCRIBE]:K,[m.g.UNSUB_CONFIRM]:K},Y=s(70),z=s.n(Y).a.create("norrin/i13n_client"),Q=s(54),Z=s(128),X=s(19);function $(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function J(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const ee={init(e){if("undefined"==typeof window)return;const t=window,s=t.rapidInstance;t.Y=t.YAHOO||{},t.Y.i13n=t.Y.i13n||{};const r=Object.assign({},e.rapid);if(r&&(r.pageview_on_init=!1),t.Y.i13n.Rapid){if(!s)try{t.rapidInstance=new t.Y.i13n.Rapid(r)}catch(e){const t=new Z.a(e);Q.a.error("Rapid init error",{rapidConfig:r,name:e.name||"",message:e.message||"",stack:t.toString()})}}else Q.a.error("Rapid is not loaded");return t.rapidInstance},getRapidInstance:()=>"undefined"!=typeof window&&void 0!==window.rapidInstance&&window.rapidInstance,sendI13nModel(e,t=null,s=!1){const r=Object.assign({},e.i13nModel),n=q[r.mKey];if(t){const e=Object(C.selectors)(t).getSelectedAccountId;r.accountId=(void 0===e?()=>{}:e)(),r.usergenef=1,r.flowSource=function({mKeyGroup:e=""}={}){const t=[m.h.replyMsg,m.h.replyAllMsg,m.h.forwardMsg,m.h.smartReply,m.h.composeMsg,m.h.send,m.h.sendMsg];return e&&-1!==t.indexOf(e)?m.d.COMPOSE_FLOW:null}(r),r.listName=function(e){const t=Object(C.selectors)(e),s=t.doesFolderIdExist,r=t.getFolderDisplayTypeByFolderId,n=t.getSmartViewTypeFromListId,a=(0,t.getRoute)(),o=a&&Object(_.z)(a),i=o&&Object(_.w)(o),c=o&&(i===p.ac.SUBSCRIPTIONS||Object(_.P)(o));let l=null;if(c){let e=n(o);i===p.ac.SUBSCRIPTIONS&&(e=p.Ud.SUBSCRIPTIONS),l=m.f[e]}else{const e=o&&Object(_.q)(o),t=e&&s(s)&&r(e);l=m.f[t]}-1===Object.values(m.f).indexOf(l)&&(l=null);return l}(t)}"function"==typeof n&&(r.actionData=Object.assign({},r.actionData,n.call(this,e,t))),s&&r.mKeyGroup!==m.h.search&&r.sec!==m.i.FEATURE_CUE&&(r.mKey="SRP_"+r.mKey),function({mKey:e,sec:t,mKeyGroup:s,actionData:r={},interactionType:n=m.e.click,flowSource:a=null,accountId:i=null,usergenef:c=null,listName:l=null}={}){if(!t||!e)return;m.e[n]||(n=m.e.click);const d=r.mHref,E=o()(r,["mHref"]),_={mKey:e,mHref:d?d.slice(0,290):null,intrctn:n,coreActn:s||null,actnData:Object(S.c)(E)?null:JSON.stringify(E),flowSrc:a,accountId:i,usergenef:c,list_name:l},u=z.feature(p.z.RapidClient,Object.assign({},{sec:t},_)),h=ee.getRapidInstance();h?(u.logSuccess(),h.beaconClick(t,null,0,_)):u.logFailure()}(r)},sendBeaconEvent(e,t){const s=e.i13nModel,r=q[s.eventName];"function"==typeof r&&(s.pageParams=r.call(this,e,t),s.pageParams.etrg=s.etrg),function({eventName:e,pageParams:t,outcome:s}){const r=z.feature(p.z.RapidClient,{eventName:e,outcome:s}),n=ee.getRapidInstance();n?(r.logSuccess(),n.beaconEvent(e,t,s)):r.logFailure()}(s)}};t.b=ee;function te(e){return Object(X.a)(e,"the section id doesn't exist"),function(t){Object(X.a)(t,"expected a payload containg at least a mKey");const s=t.mKey,r=t.event,n=o()(t,["mKey","event"]);return Object(X.a)(s,"mKey can't be undefined. Check typo or define it in constants"),{i13nModel:J({},n,{mKey:s,sec:e,interactionType:r?Object(l.getInteractionFromEvent)(r):m.e.click})}}}},function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return n}));const r={BACKSPACE:8,BRACKETLEFT:91,BRACKETRIGHT:93,BREAK:13,HASHTAG:35,COMMA:44,DELETE:46,DOWN:40,ENTER:13,EQUAL:187,ESCAPE:27,FF_COMMA:188,FF_SEMICOLON:186,KEYE:101,KEYK:107,KEYL:108,KEYV:118,LEFT:37,MINUS:189,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SEMICOLON:59,SLASH:47,SPACE:32,TAB:9,UP:38},n={KEYA:"a",KEYD:"d",KEYE:"e",KEYF:"f",KEYK:"k",KEYL:"l",KEYR:"r",KEYV:"v",KEYP:"p",PERIOD:"."}},function(e,t,s){"use strict";s.d(t,"j",(function(){return d})),s.d(t,"i",(function(){return _})),s.d(t,"d",(function(){return u})),s.d(t,"e",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"f",(function(){return S})),s.d(t,"a",(function(){return h})),s.d(t,"b",(function(){return C})),s.d(t,"g",(function(){return g})),s.d(t,"h",(function(){return O}));var r=s(3),n=s.n(r),a=s(33),o=s.n(a),i=s(0),c=s(16);function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function d(e,t){if(t.isPrimary!==e.isPrimary)return t.isPrimary-e.isPrimary;if(t.type===i.n.DEA&&e.type!==i.n.DEA)return-1;if(t.type===i.n.DEA&&e.type===i.n.DEA){const s=e.email.toLowerCase()||"",r=t.email.toLowerCase()||"";return s.localeCompare(r)}return t.type!==i.n.DEA&&e.type===i.n.DEA?1:e.id-t.id}function E(e){const t=e.toLowerCase().split("@"),s=o()(t,2),r=s[1];let n=s[0];if(function e(t){if(!t)return!1;if(i.Wc[t])return!0;const s=t.indexOf(".");return!(s<0)&&e(t.substr(s+1))}(r))n=e;else{if(!function(e){if(!e)return!1;const t=e.split(".");return t[0]===i.xb.YAHOO&&(!(t.length>3)&&(t.length>2&&i.Fe[t[2]]?!!i.me[t[1]]:2===t.length&&!(!i.me[t[1]]&&!i.Fe[t[1]])))}(r))return!1;"yahoo.cn"===r&&(n=e)}return!(n.length<4||n.length>32)&&!!n}function _({domainCheck:e},t){let s=!1;if(e&&e.length>0){const r="(@"+e.join(".com$|@")+".com$)";if(s=new RegExp(r,"i").test(t),!s){const r="(@"+e.join("|@")+")\\.";s=new RegExp(r,"i").test(t)}}return s}function u(e){return e&&e.email?p(e.email)||function(e){return Object.keys(i.Ub||{}).find(t=>!!e.serverUri&&e.serverUri.indexOf(i.Ub[t].serverUri)>-1)}(e):null}function p(e){if(!e)return null;let t=function(e){return e?Object(c.isVerizonMediaEmail)(e)?i.xb.VERIZON_MEDIA:E(e)?i.xb.YAHOO:null:null}(e);return t||(t=i.zd.find(t=>_({domainCheck:i.Ub[t].domainHints||i.Ub[t].domainCheck},e))),t}function m(e){const t=[i.n.SENDAS,i.n.POPIN,i.n.IMAPIN,i.n.EXCHANGEIN,i.n.BIZMAIL];return e.filter(e=>{const s=e.type;return e.isPrimary||s===i.n.ALIAS||s===i.n.DEA||"ENABLED"===e.status&&e.accountVerified&&t.indexOf(s)>-1})}function S(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function h({status:e,type:t,createTime:s,syncTime:r=20}){const n=Date.now(),a=t===i.n.EXCHANGEIN?10:r;return!!(e===i.m.ENABLED&&O({type:t})&&n/1e3-s<60*a)}function C(e,t){return void 0!==e.find(e=>e.type!==i.n.POPIN&&e.email===t)}function g({email:e,provider:t,type:s,sendingName:r="",description:a="",wssid:o="",crumb:c="",linkedAccounts:d}){let E={email:e,type:s,sendingName:r,description:a};const _={};if(o&&(_.wssid=o),c&&(_.crumb=c),O(E)){E=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},E,{serverUri:i.Ub[t].serverUri,status:"ENABLED",authType:"OAUTH2",email:e,replyToAddress:e})}else s===i.n.SENDAS&&d.length>0&&Object.assign(E,{linkedAccounts:d});return{newAccount:E,config:_}}function O({type:e}){return-1!==[i.n.IMAPIN,i.n.EXCHANGEIN].indexOf(e)}},function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return n}));const r=(e=[])=>e.sort().join(""),n=(e,t)=>`${e}:${t}`},function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var r=s(692),n=s(693);const a=/^\s*\//,o=/\/\s*$/;const i=function(e){if(!e||"object"!=typeof e)throw new TypeError(e+" is not an object");return function(t){return e[t]?r.a.replace(o,"")+"/"+e[t].replace(a,""):t}}(n)},function(e,t,s){"use strict";var r=s(19),n=s(9),a=s(35);function o(e,t,s=!0,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,o):this.stack=(new Error).stack,Object(r.a)(t&&"object"==typeof t,"Expected failureMap to be an object."),Object.keys(t).forEach(e=>{const s=t[e];Object(r.a)(s&&"object"==typeof s,`Invalid map passed to ApiError: ${e} had a value of ${s}`)}),this.token="API-ERROR",this.name=this.constructor.name,this.message=e,this.failureMap=t,this.extraStatusCode=this.getExtraStatusCode(),this.extraErrorCode=this.getExtraErrorCode(),this.statusCode=this.getStatusCode(),this.errorCode=this.getErrorCode(),this.errorInfo=n,this.isRetryable=!!s&&this.getRetryable()}(o.prototype=Object.create(Error.prototype)).constructor=o,o.prototype.getStatusCode=function(){const e=String(this.extraStatusCode).split(",")[0].split(":")[1]||a.s;return Number(e)},o.prototype.getErrorCode=function(){return this.message===a.i?"EMPTY_RESPONSE":String(this.extraErrorCode).split(",")[0].split(":")[1]||a.s},o.prototype.getExtraStatusCode=function(){const e=[];return Object.keys(this.failureMap).forEach(t=>{e.push(`${t}:${this.failureMap[t].httpCode||a.s}`)}),e.join(",")||a.s},o.prototype.getExtraErrorCode=function(){const e=[];return Object.keys(this.failureMap).forEach(t=>{const s=this.failureMap[t],r=Object(n.b)(s,"response.error.code",a.s);e.push(`${t}:${r}`)}),e.join(",")||a.s},o.prototype.getRetryable=function(){return this.message===a.i||Object.keys(this.failureMap).every(e=>{const t=this.failureMap[e];if(429===t.httpCode)return!1;if(!t.response||!t.response.error)return!0;const s=t.response.error.code||"",r=s.split("-")[0],n=(t.response.id||"").split("_")[0],o=[n,s,`${s}-${n}`];for(const e of o)if(-1!==a.u.indexOf(e))return!0;return"EC"!==r&&"EP"!==r&&"EB-6000"!==s&&"EB-6003"!==s})},t.a=o},function(e,t,s){"use strict";s.r(t),s.d(t,"string",(function(){return i})),s.d(t,"number",(function(){return c})),s.d(t,"bool",(function(){return l})),s.d(t,"array",(function(){return d})),s.d(t,"object",(function(){return E})),s.d(t,"any",(function(){return _})),s.d(t,"shape",(function(){return u})),s.d(t,"oneOf",(function(){return p})),s.d(t,"arrayOf",(function(){return S})),s.d(t,"TimezoneType",(function(){return C})),s.d(t,"AddressType",(function(){return g})),s.d(t,"AttachmentType",(function(){return O})),s.d(t,"FlagsType2",(function(){return T})),s.d(t,"FolderType",(function(){return A})),s.d(t,"FolderNodeType",(function(){return I})),s.d(t,"FolderNodeListType",(function(){return f})),s.d(t,"AccountsType",(function(){return D})),s.d(t,"SuggestionsByHeaderType",(function(){return R})),s.d(t,"FolderType2",(function(){return b})),s.d(t,"GroupedFoldersType",(function(){return N})),s.d(t,"HtmlAnnotationType",(function(){return M})),s.d(t,"BodyType",(function(){return y})),s.d(t,"RouteType",(function(){return L})),s.d(t,"PageType",(function(){return P})),s.d(t,"HeadersType",(function(){return v})),s.d(t,"MessageType",(function(){return F})),s.d(t,"NodinMessageType",(function(){return U})),s.d(t,"MessageGroupType",(function(){return w})),s.d(t,"ImageType",(function(){return G})),s.d(t,"SenderType",(function(){return H})),s.d(t,"MailboxType",(function(){return j})),s.d(t,"AccountType",(function(){return k})),s.d(t,"SpaceIdType",(function(){return x})),s.d(t,"SectionIdType",(function(){return B})),s.d(t,"PeopleSuggestionType",(function(){return V})),s.d(t,"PencilAdType",(function(){return W})),s.d(t,"NativeAdType",(function(){return K})),s.d(t,"AdType",(function(){return q})),s.d(t,"DarlaAdResultType",(function(){return Y})),s.d(t,"DarlaAdCallResultType",(function(){return z})),s.d(t,"DocumentPageType",(function(){return Q})),s.d(t,"DocumentType",(function(){return Z})),s.d(t,"FilterFolderActionTypes",(function(){return X})),s.d(t,"FilterActionType",(function(){return $})),s.d(t,"FilterCriterionType",(function(){return J})),s.d(t,"FilterType",(function(){return ee})),s.d(t,"DomainSpecificResponseType",(function(){return te})),s.d(t,"VacationResponseType",(function(){return se})),s.d(t,"LoaderType",(function(){return re})),s.d(t,"LocaleShape",(function(){return ne})),s.d(t,"NotificationDescriptor",(function(){return ae})),s.d(t,"AttachmentErrorType",(function(){return oe})),s.d(t,"BrowserNotificationType",(function(){return ie})),s.d(t,"BulkTask",(function(){return ce})),s.d(t,"ToolbarActionsType",(function(){return le})),s.d(t,"CredstoreClientType",(function(){return de})),s.d(t,"LocationType",(function(){return Ee})),s.d(t,"StringType",(function(){return _e})),s.d(t,"TweetType",(function(){return ue})),s.d(t,"PlayerConfigType",(function(){return pe})),s.d(t,"LinkEnhancerClientType",(function(){return me})),s.d(t,"CloudStorageClientType",(function(){return Se})),s.d(t,"LinkEnhancerDomainStylesType",(function(){return he})),s.d(t,"EmojiType",(function(){return Ce})),s.d(t,"ContactType",(function(){return ge})),s.d(t,"XobniPhoneType",(function(){return Oe})),s.d(t,"XobniAddressType",(function(){return Te})),s.d(t,"XobniContact",(function(){return Ae})),s.d(t,"ContactListItemType",(function(){return Ie})),s.d(t,"BootcampApiQueryParams",(function(){return fe})),s.d(t,"ScrollToTopElementConfigDescriptor",(function(){return De})),s.d(t,"CloudStorageItem",(function(){return Re})),s.d(t,"CloudStorageItemRow",(function(){return be})),s.d(t,"FalconTOMSubscriptionItemStringsObject",(function(){return Ne})),s.d(t,"FalconTOMSubscriptionItemType",(function(){return Me}));var r=s(7),n=s.n(r),a=s(0),o=s(9);const i=n.a.string,c=n.a.number,l=n.a.bool,d=n.a.array,E=n.a.object,_=n.a.any,u=n.a.shape,p=n.a.oneOf,m=n.a.oneOfType,S=n.a.arrayOf,h=n.a.func,C=u({name:i.isRequired,lastObservedTimezone:u({client:i,server:i}),location:u({city:i,state:i,country:i}),geoLocation:u({city:i,state:i,country:i}),longName:i,formattedOffset:i,currentOffset:c}),g=u({name:i,email:i}),O=u({virus:i,filename:i,size:c,partId:i,mimeType:i,type:p(Object(o.h)(a.F.Types)),messageReference:u({mid:i,pid:i}),disposition:i,downloadUrl:i,thumbnailUrl:i,contentId:i,dataId:i}),T=u({isSpam:l,isRead:l,isFlagged:l}),A=u({id:i.isRequired,name:i.isRequired,isSystem:l.isRequired,types:S(i).isRequired}),I=u({folder:A.isRequired,children:S(E).isRequired}),f=S(I),D=u({default:d.isRequired}),R=u({to:d,cc:d,bcc:d}),b=u({id:i.isRequired,accountId:i.isRequired,name:i.isRequired,isSystem:l,types:S(i).isRequired,total:c,unread:c}),N=u({systemFolders:d.isRequired,customFolders:d.isRequired}),M=u({divIds:S(i).isRequired,classId:i}),y=u({html:i,text:i,htmlAnnotations:S(M),attachments:S(O),bidi:S(i)}),L=u({name:i.isRequired,params:E,query:E}),P=u({route:L.isRequired,metadata:E}),v=u({subject:i,cc:S(g).isRequired,bcc:S(g).isRequired,to:S(g).isRequired,from:S(g).isRequired,date:i.isRequired}),F=u({id:i.isRequired,folder:b.isRequired,flags:u({flagged:l,read:l}).isRequired,headers:v.isRequired,snippet:i.isRequired,attachments:S(O).isRequired,body:y,verifiedDomains:n.a.array.isRequired,composeProps:n.a.object}),U=u({messageId:i.isRequired,flags:u({flagged:l,read:l}).isRequired,headers:E.isRequired,snippet:i.isRequired,subject:i.isRequired,attachments:S(O).isRequired,downloadAllUrl:i.isRequired}),w=u({id:i.isRequired,messages:S(F).isRequired}),G=u({url:i,width:c,height:c}),H=u({name:i,email:i.isRequired,recent:l}),j=u({id:i,email:i,isPrimary:l.isRequired,state:p(Object(o.h)(a.yc)).isRequired,type:p(Object(o.h)(a.zc)).isRequired}),k=u({id:i,isPrimary:l.isRequired,email:i,accountVerified:l.isRequired,sendingName:i,status:p(Object(o.h)(a.m)).isRequired,type:p(Object(o.h)(a.n)).isRequired,serverUri:i,signature:i,signatureActive:l,secondaryAccounts:d,replyToAddress:i}),x=m([c,i]),B=m([c,E]),V=u({type:n.a.oneOf(Object(o.h)(a.ge)),serviceId:n.a.string,name:n.a.string,emailIds:n.a.arrayOf(n.a.string)}),W=u({adHeadline:i.isRequired,adSummary:i.isRequired,adImg:i.isRequired,adSource:i.isRequired,clickUrl:i.isRequired,type:i.isRequired,creativeId:i,beacon:i,impressionTrackingUrls:d}),K=u({contentType:i.isRequired,url:i.isRequired,usageType:i.isRequired}),q=u({creativeId:i.isRequired,pencilAd:W,nativeAd:K}),Y=u({position:i.isRequired,bookId:c.isRequired}),z=u({spaceId:i.isRequired,positions:S(Y).isRequired}),Q=u({content:E,state:p(Object(o.h)(a.od))}),Z=u({pages:Q.isRequired,numPages:c.isRequired,height:c.isRequired,width:c.isRequired,exceptions:E.isRequired,sheets:E.isRequired}),X=u({folderActionValueBean:u({folder:u({name:i.isRequired})}).isRequired}),$=u({type:p(Object(o.h)(a.Gb)),value:X}),J=u({field:m([p(Object(o.h)(a.Hb)),n.a.string]),operator:p(Object(o.h)(a.Jb)),matchCase:l,value:i.isRequired}),ee=u({index:c.isRequired,name:i.isRequired,matchType:p(Object(o.h)(a.Ib)),actions:S($).isRequired,criterions:S(J).isRequired}),te=u({domains:S(i).isRequired,domainMessageBody:i.isRequired}),se=u({enabled:l.isRequired,startDate:c,endDate:c,messageBody:i,domainSpecificResponse:te}),re=u({loadModule:h.isRequired}),ne=u({firstDay:c,name:i}),ae=u({requireInteraction:l,sticky:l,modal:l,icon:i,type:p(Object(o.h)(a.Qc))}),oe=u({code:c,isRetryable:l}),ie=u({title:i.isRequired,options:u({body:i.isRequired,icon:i.isRequired,lang:i.isRequired,tag:i.isRequired,timestamp:c.isRequired}).isRequired,onClick:h}),ce=u({id:i,status:p(Object(o.h)(a.K)).isRequired,progress:c.isRequired,expires:c}),le=u({spam:l,ham:l,move:l,archive:l,restore:l,delete:l,permDelete:l,raf:l}),de=u({getAuthorizationURL:h}),Ee=u({city:i,state:i,country:i,timezone:u({name:i.isRequired,longName:i,currentOffset:i,offsetPositive:l}).isRequired}),_e=u({id:i,defaultMessage:i,description:i}),ue=u({id:c.isRequired,name:i.isRequired,text:i.isRequired,imgUrl:i.isRequired,handle:i.isRequired,creationTime:n.a.instanceOf(Date).isRequired}),pe=u({playlist:E.isRequired}),me=u({get:h}),Se=u({getFilePermissions:h}),he=u({domainLogo:i.isRequired,domainColor:i.isRequired}),Ce=u({unicode:i.isRequired,unicode_alt:i.isRequired,code_decimal:i.isRequired,name:i.isRequired,shortname:i.isRequired,category:i.isRequired,emoji_order:i.isRequired,aliases:d.isRequired,aliases_ascii:d.isRequired,keywords:d.isRequired}),ge=u({id:i,name:i,email:i,iataCode:i}),Oe={number:i.isRequired,type:i},Te={type:i,addrFields:u({street:i,city:i,country:i,state:i,zipcode:i})},Ae=u({id:i.isRequired,xobniId:i,categories:d,emails:S(i).isRequired,name:i,phonesWithType:S(u(Oe)),position:i,company:i,flickr:i,facebook:i,twitter:i,linkedIn:i,notes:i,addressesWithType:S(u(Te))}),Ie=u({id:i,name:i,position:i,company:i,editToken:i,isBusiness:l,phonesWithType:S(u(Oe)),emails:S(i),emailType:E,backyard:i,flickr:i,facebook:i,twitter:i,linkedIn:i,website:i,relationshipHistory:E,notes:i,birthday:i,anniversary:i,addressesWithType:S(u(Te)),hiddenEndpoint:i}),fe=u({name:n.a.string,keyword:n.a.string,emailAddresses:n.a.arrayOf(n.a.string),accountIds:n.a.arrayOf(n.a.string),folders:n.a.arrayOf(n.a.string),listFilter:n.a.string}),De=u({scrollThresholdPercentage:c,render:h}),Re=u({creationDate:c,downloadLink:i,id:i,itemType:i,lastUpdateTime:c,mimeType:i,name:i,online:l,ownerId:i,ownerNames:d,path:i,shareableThumbnailLink:i,sharedWith:d,size:c,source:i,tags:E,thumbnail:i}),be=u({id:i,item:Re}),Ne=u({heading:i,body:i,ctaText:i}),Me=u({strings:Ne,falconTOMImageUrl:i,impressionTracker:i,impressionBeacon:i,redirectUrl:i,version:i,groupId:i})},,,function(e,t,s){"use strict";var r=s(70);t.a=s.n(r).a.create("norrin/info")},function(e,t,s){"use strict";s.d(t,"i",(function(){return O})),s.d(t,"j",(function(){return T})),s.d(t,"c",(function(){return A})),s.d(t,"a",(function(){return f})),s.d(t,"b",(function(){return D})),s.d(t,"f",(function(){return R})),s.d(t,"q",(function(){return b})),s.d(t,"e",(function(){return N})),s.d(t,"h",(function(){return M})),s.d(t,"g",(function(){return y})),s.d(t,"d",(function(){return L})),s.d(t,"s",(function(){return P})),s.d(t,"k",(function(){return v})),s.d(t,"m",(function(){return F})),s.d(t,"o",(function(){return U})),s.d(t,"n",(function(){return w})),s.d(t,"l",(function(){return G})),s.d(t,"r",(function(){return H})),s.d(t,"p",(function(){return j}));var r=s(3),n=s.n(r),a=s(33),o=s.n(a),i=s(0),c=s(19),l=s(60),d=s.n(l),E=s(4);function _(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const p=i.F.Types,m=i.F.SubTypes,S=i.F.Dispositions,h=i.F.SimplifiedTypes,C=/\?(size|h|w)=([^&]*)/g,g=/&(size|h|w)=([^&]*)/g,O=e=>{const t=e.match(i.F.KnownDocTypes)||[],s=o()(t,2)[1];return(void 0===s?"":s).substring(0,3).toLowerCase()},T=e=>{const t=e.split("/");return{type:t[0],subtype:t[1]}},A=(()=>{function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return"<"+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()+"@yahoo.com>"}})();const I=(e,t=S.ATTACHMENT)=>u({},function(e,t=A()){const s=e.type.split("/"),r=o()(s,2),n=r[0],a=r[1];return{downloadUrl:e.downloadLink||URL.createObjectURL(e),filename:e.name,mimeType:e.type,size:e.size,type:n,subtype:a,contentId:t,dataId:t,isFromDataURI:!!e.isFromDataURI}}(e),{disposition:t}),f=e=>I(e,S.INLINE),D=e=>I(e,S.ATTACHMENT);function R(e,t=!1){return e.filter(({type:e,disposition:s})=>e===p.MESSAGE||s===S.ATTACHMENT||t&&s===S.INLINE)}function b(e){return e.filter(({type:e,subtype:t,disposition:s})=>!(e===p.MESSAGE&&t===m.RFC822&&s===S.INLINE))}function N(e,t){const s={};if(!e)return[];const r=e.filter(e=>!e);return r.length?(Object(c.a)(r,"Invalid attachment information: "+JSON.stringify(r)),[]):e.filter(Boolean).filter(({type:e,disposition:r,size:n,filename:a})=>{if(!n)return!1;const o=((a||"")+(n||0)).replace(/\s\s+/g," ");return!s[o]&&(s[o]=!0)&&(r!==S.INLINE||e!==p.IMAGE||n>=t)})}function M(e){return e.filter(Boolean).filter(({type:e,subtype:t})=>L(e,t)===h.CAL)}function y(e=[]){const t=e.filter(Boolean).map(e=>{switch(L(e.type,e.subtype)){case h.CAL:return E.Kinds.ATTACH_CAL;case h.IMAGE:return E.Kinds.ATTACH_IMAGE;case h.DOC:case h.PDF:case h.XLS:case h.PPT:case h.CSV:case h.TEXT:return E.Kinds.ATTACH_DOC;default:return E.Kinds.ATTACHMENT}});return 1===d()(t).length?t[0]:E.Kinds.ATTACHMENT}function L(e,t){switch(e){case p.IMAGE:switch(t){case m.TIFF:return h.TIFF;default:return h.IMAGE}case p.AUDIO:return h.AUDIO;case p.VIDEO:return h.VIDEO;case p.APPLICATION:switch(t){case m.ACROBAT:case m.PDF:case m.VND_PDF:case m.X_PDF:return h.PDF;case m.GZIP:case m.TAR:case m.X_COMPRESSED:case m.X_ZIP:case m.ZIP:return h.COMPRESSED;case m.EXCEL:case m.MSEXCEL:case m.X_EXCEL:case m.X_MS_EXCEL:case m.XLS_M:case m.X_XLS:case m.XLS:case m.XLS_M_TEMPLATE:case m.XLS_TEMPLATE:case m.XLSX:return h.XLS;case m.DOC:case m.DOCX:case m.DOT:case m.FRAMEMAKER:case m.MS_WORD:case m.MSTNEF:case m.RICHTEXT:case m.SC2:case m.VND_MS_WORD:case m.VND_MSWORD:case m.WINWORD:case m.WORD:case m.X_DOT:case m.X_FM:case m.X_FRAMEMAKER:case m.X_MAKER:case m.X_MS_WORD:case m.X_MSW6:case m.X_RTF:case m.X_SOFFICE:case m.ZZ_DOT:return h.DOC;case m.PPT:case m.PPTX:case m.PPTX_SLIDESHOW:case m.PPTX_TEMPLATE:return h.PPT;case m.ICS:return h.CAL;case m.FOLDER:return h.FOLDER;case m.GDOCX:return h.GDOCS;case m.GXLS:return h.GSHEETS;case m.GPPT:return h.GSLIDES;default:return h.APPLICATION}case p.TEXT:switch(t){case m.CALENDAR:return h.CAL;case m.CSV:return h.CSV;default:return h.TEXT}default:return h.FILE}}function P({id:e},t=[],s=!0){return t.map(t=>{const r=s?{dataId:t.dataId?t.dataId:A(),contentId:t.contentId?t.contentId:A()}:{};return u({messageReference:{id:e,pid:t.partId}},t,{},r)})}function v(e,t,s){Object(c.a)(e<=t,"You cannot have a page number greater than the last page of the document.");const r=e-(e%s||s)+1;let n=r+(s-1);return n>t&&(n=t),{startPage:r,endPage:n}}function F(e){if(!e)return!1;const t=e.type,s=e.subtype,r=e.size,n=e.isExternal,a=e.filename,o=`${t}/${s}`,c=L(t,s)===h.IMAGE,l=i.D.previewableMimeTypes.indexOf(o)>-1,d=s===m.OCTET_STREAM&&i.F.KnownDocTypes.test(a);return!n&&r>0&&(l||c||d)}function U(e,t){return!!(e&&e.id&&t&&F(e))}function w(e){if(!e||!e.id)return!1;const t=e.downloadUrl;return!(t&&t.indexOf("blob:")>=0)&&!!t}function G(e,t){return e?(e=e.replace(C,"?").replace(g,""))+"&size="+t+"w&w="+t+"&h="+t:""}function H(e){return e?e=e.replace(C,"?").replace(g,""):""}function j(e){if(!e)return!0;const t=e.split(".");if(t.length>1){const e=t.pop();if(i.Be[e])return!1}return!0}},function(e,t,s){"use strict";s.d(t,"f",(function(){return n})),s.d(t,"h",(function(){return a})),s.d(t,"i",(function(){return o})),s.d(t,"c",(function(){return i})),s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return l})),s.d(t,"g",(function(){return d})),s.d(t,"j",(function(){return E})),s.d(t,"d",(function(){return _})),s.d(t,"e",(function(){return u}));var r=s(9);const n="Boundary_721950_932302703_1435368466480",a=6e4,o=1e3,i=20,c="BROWSER_TO_BOOTCAMP_STRATEGY",l="BROWSER_TO_NODE_STRATEGY",d="NODE_TO_BOOTCAMP_STRATEGY",E=(Object(r.d)(["searchTenorGifs","searchGifs","getGifCategories","localStores"]),{mx:["es-MX"],ar:["es-AR"],cl:["es-CL"],co:["es-CO"],pe:["es-PE"],ve:["es-VE"],br:["pt-BR"],es:["es-ES"],it:["it-IT"],nl:["nl-NL"],dk:["da-DK"],fi:["fi-FI"],no:["nb-NO"],se:["sv-SE"],tw:["zh-TW"],hk:["zh-HK"],sg:["en-SG"],id:["en-ID"],my:["en-MY"],ph:["en-PH"],th:["th-TH"],vn:["vi-VN"],us:["en-US","es-US"],ca:["en-CA","fr-CA"],in:["en-IN"],uk:["en-GB"],ie:["en-IE"],fr:["fr-FR"],de:["de-DE"],at:["de-AT"],ch:["fr-CH","de-CH","it-CH"],au:["en-AU"],nz:["en-NZ"]}),_={AUDIO:"AUDIO",PDF:"PDF",PRESENTATION:"PRESENTATION",SPREADSHEET:"SPREADSHEET",WORD_DOCUMENT:"WORD_DOCUMENT",VIDEO:"VIDEO"},u={[_.AUDIO]:"audio",[_.PDF]:"application/pdf",[_.PRESENTATION]:["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12","application/vnd.google-apps.presentation"].join(","),[_.SPREADSHEET]:["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12","application/vnd.google-apps.spreadsheet"].join(","),[_.WORD_DOCUMENT]:["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.google-apps.document"].join(","),[_.VIDEO]:"video"}},function(e,t,s){"use strict";s.d(t,"s",(function(){return r})),s.d(t,"e",(function(){return n})),s.d(t,"r",(function(){return a})),s.d(t,"n",(function(){return o})),s.d(t,"f",(function(){return i})),s.d(t,"g",(function(){return c})),s.d(t,"q",(function(){return l})),s.d(t,"j",(function(){return d})),s.d(t,"i",(function(){return E})),s.d(t,"b",(function(){return _})),s.d(t,"p",(function(){return u})),s.d(t,"o",(function(){return p})),s.d(t,"m",(function(){return m})),s.d(t,"c",(function(){return S})),s.d(t,"k",(function(){return h})),s.d(t,"l",(function(){return C})),s.d(t,"a",(function(){return g})),s.d(t,"h",(function(){return O})),s.d(t,"d",(function(){return T}));const r={HtmlPrimary:"HTML_PRIMARY",VideoPreview:"VIDEO_PREVIEW",VideoPrimary:"VIDEO_PRIMARY",NativeAdType:"NativeAdType",VideoAdType:"VideoAdType",PencilAdType:"PencilAdType",SearchAdType:"SearchAdType",PortraitAdType:"PortraitAdType",FlashSaleAdType:"FlashSaleAdType",ShoppingCartAdType:"ShoppingCartAdType",ImagePortrait:"IMAGE_PORTRAIT"},n="http://n.gemini.yahoo.com:4080",a="/ssi",o=5443516,i=5582415,c=5600859,l=5559660,d="secOrigImagePortrait",E="secHqImage",_="secLargeImage",u=5545469,p=5554834,m=5545468,S=5661812,h=5545467,C=5602797,g="ADEXTENSIONTYPE_CALL",O={bucket:"bk",apiVersion:"ve",size:"sz",sectionId:"se",creativeCode:"cc",contentType:"ct",adCount:"tk",propertyName:"ui",siteLanguage:"sl",countryCode:"co",requestId:"ri",publisherInfo:"pb",contentInHttps:"hs",forceFilter:"ff",format:"format",nonRevenue:"nr",adCategories:"ac",referer:"pu",domain:"dm",categories:"ic"},T={5564286:2,5564699:18,[S]:5,5564699:5}},function(e,t,s){"use strict";s.d(t,"a",(function(){return l})),s.d(t,"b",(function(){return d}));var r=s(1),n=s.n(r),a=s(674),o=s.n(a),i=s(12),c=s.n(i);let l;function d({size:e,inverted:t,flex:s}){const r=c()(o.a,{size:e,inverted:!!t,flex:!!s});return n.a.createElement("div",{className:r.wrapper},n.a.createElement("div",{className:r.container,"data-test-id":"loading_indicator"},n.a.createElement("svg",{className:r.spinner,viewBox:"0 0 24 24",width:"24",height:"24"},n.a.createElement("path",{className:r.arc,d:"M12,22C6.477,22,2,17.523,2,12S6.477,2,12,2"}),n.a.createElement("path",{className:r.arc,d:"M12,2c5.523,0,10,4.477,10,10s-4.477,10-10,10"}))))}!function(e){e.S="S",e.M="M"}(l||(l={})),d.defaultProps={size:l.M}},function(e,t,s){"use strict";s.d(t,"s",(function(){return c})),s.d(t,"q",(function(){return l})),s.d(t,"r",(function(){return d})),s.d(t,"C",(function(){return E})),s.d(t,"A",(function(){return _})),s.d(t,"B",(function(){return u})),s.d(t,"y",(function(){return p})),s.d(t,"x",(function(){return m})),s.d(t,"c",(function(){return S})),s.d(t,"a",(function(){return h})),s.d(t,"b",(function(){return C})),s.d(t,"h",(function(){return g})),s.d(t,"i",(function(){return O})),s.d(t,"g",(function(){return T})),s.d(t,"e",(function(){return A})),s.d(t,"f",(function(){return I})),s.d(t,"d",(function(){return f})),s.d(t,"u",(function(){return D})),s.d(t,"w",(function(){return R})),s.d(t,"v",(function(){return b})),s.d(t,"k",(function(){return N})),s.d(t,"l",(function(){return M})),s.d(t,"j",(function(){return y})),s.d(t,"E",(function(){return L})),s.d(t,"F",(function(){return P})),s.d(t,"D",(function(){return v})),s.d(t,"t",(function(){return F})),s.d(t,"p",(function(){return U})),s.d(t,"n",(function(){return w})),s.d(t,"o",(function(){return G})),s.d(t,"m",(function(){return H})),s.d(t,"z",(function(){return j}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=({retailers:e,i13nModel:t})=>({type:a.LINK_RETAILER_SUCCEEDED,retailers:e,i13nModel:t}),l=(e,t,s,r)=>({type:a.LINK_RETAILER_FAILED,retailerId:e,error:t,errorHint:s,i13nModel:r}),d=({retailerId:e="",loyaltyId:t="",linked:s=null,parentName:r=""}={})=>({type:a.LINK_RETAILER_REQUESTED,retailerId:e,loyaltyId:t,linked:s,parentName:r}),E=({retailers:e})=>({type:a.UNLINK_RETAILER_SUCCEEDED,retailers:e}),_=(e,t)=>({type:a.UNLINK_RETAILER_FAILED,retailerId:e,error:t}),u=({retailerId:e=""}={})=>({type:a.UNLINK_RETAILER_REQUESTED,retailerId:e}),p=({listId:e="",offers:t=[],search:s=""})=>({type:a.OFFERS_LIST_SUCCEEDED,listId:e,offers:t,search:s}),m=(e,t)=>({type:a.OFFERS_LIST_FAILED,listId:e,error:t}),S=(e=[],t={},s="",r="",n={})=>{var o;return{type:a.ACTIVATE_OFFER_SUCCEEDED,subTotal:Number(null===(o=t.subTotal)||void 0===o?void 0:o.value).toFixed(2),numberOfItems:t.numberOfItems,listId:s,offers:e,retailerId:r,i13nModel:n}},h=e=>({type:a.ACTIVATE_OFFER_FAILED,error:e}),C=({contextOfUse:e="",retailerId:t="",offer:s={},position:r=-1,parentMessageId:n="",offerIndex:o=-1,score:i="",search:c="",fromEmail:l="",cancelAPICall:d=!1}={})=>({contextOfUse:e,type:a.ACTIVATE_OFFER_REQUESTED,retailerId:t,offer:s,position:r,parentMessageId:n,offerIndex:o,score:i,search:c,fromEmail:l,cancelAPICall:d}),g=({items:e=[],retailerId:t=""}={})=>({items:e,retailerId:t,type:a.DELETE_GROCERY_ITEMS_REQUESTED}),O=(e=[],t="",s=0,r="",n="")=>({type:a.DELETE_GROCERY_ITEMS_SUCCEEDED,subTotal:t,numberOfItems:s,listId:r,offers:e,retailerId:n}),T=e=>({type:a.DELETE_GROCERY_ITEMS_FAILED,error:e}),A=e=>i({type:a.CHANGE_GROCERY_ITEMS_QUANTITY_REQUESTED},e),I=({i13nModel:e,listId:t="",offers:s=[],retailerId:r="",subTotal:n="",numberOfItems:o=0}={})=>({i13nModel:e,listId:t,offers:s,retailerId:r,subTotal:n,numberOfItems:o,type:a.CHANGE_GROCERY_ITEMS_QUANTITY_SUCCEEDED}),f=e=>({type:a.CHANGE_GROCERY_ITEMS_QUANTITY_FAILED,error:e}),D=()=>({type:a.REFRESH_SHOPPING_LIST_REQUESTED}),R=({listId:e="",subTotal:t="",numberOfItems:s=0,offers:r=[],numActivatedOffers:n=0})=>({type:a.ACTIVATED_OFFERS_LIST_SUCCEEDED,listId:e,subTotal:t,numberOfItems:s,offers:r,numActivatedOffers:n}),b=(e,t)=>({type:a.ACTIVATED_OFFERS_LIST_FAILED,listId:e,error:t}),N=({zipCode:e="",retailerId:t=""})=>({zipCode:e,retailerId:t,type:a.GET_RETAILER_LOCATIONS_REQUESTED}),M=({locations:e=[],retailerId:t,zipCode:s})=>({locations:e,retailerId:t,zipCode:s,type:a.GET_RETAILER_LOCATIONS_SUCCEEDED}),y=e=>({error:e,type:a.GET_RETAILER_LOCATIONS_FAILED}),L=({retailerId:e,location:t})=>{var s,r;return{retailerId:e,store:[{branchCode:null==t?void 0:t.branchCode,address:{postalCode:null==t||null===(s=t.address)||void 0===s||null===(r=s.postalCode)||void 0===r?void 0:r.substr(0,5),"@type":"PostalAddress"},followed:"true","@type":"Store"}],type:a.UPDATE_PREFERRED_STORE_REQUESTED}},P=({preferredStore:e,retailerId:t})=>({preferredStore:null==e?void 0:e[0],retailerId:t,type:a.UPDATE_PREFERRED_STORE_SUCCEEDED}),v=e=>({error:e,type:a.UPDATE_PREFERRED_STORE_FAILED}),F=({retailerId:e=""}={})=>({type:a.PRINT_OFFERS_REQUESTED,retailerId:e}),U=(e={})=>i({type:a.LINK_MODAL_OPENED},e),w=(e="",t="")=>({type:a.GROCERY_SEARCH_ASSIST_REQUESTED,keyword:e,retailerId:t}),G=({keyword:e="",retailerId:t="",suggestions:s=[]})=>({type:a.GROCERY_SEARCH_ASSIST_SUCCEEDED,keyword:e,retailerId:t,suggestions:s}),H=e=>({type:a.GROCERY_SEARCH_ASSIST_FAILED,error:e}),j=e=>({type:a.TOGGLE_GROCERY_CATEGORIES_EXPANSION,retailerId:e})},,function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a);class i extends o.a.Component{render(){const e=o.a.Children.only(this.props.children);return o.a.cloneElement(e,{onClick:this.props.onClick,onContextMenu:this.props.onContextMenu,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut})}}n()(i,"displayName","PopoverAnchor"),t.a=i},function(e,t,s){"use strict";s.d(t,"a",(function(){return T})),s.d(t,"b",(function(){return A}));var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(12),c=s.n(i),l=s(1),d=s.n(l),E=s(11),_=(s(9),s(0)),u=s(300),p=s(13),m=s(10),S=s(17),h=s(4),C=s(741),g=s.n(C);const O="https://s.yimg.com/dh/ap/social/profile/profile_a64.png",T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAACGElEQVRYw83WWXPaMBSG4fz/XyUdSba8yLKN3WwlNyFt4ialKc3SFKwCLZhYR8QeJzO81995xgzLcEQGdkRGnwY0WgLlyYDKgwCK4wEV7wEMfhc+ECh0kqTFm0BeOoqJryJBuB/qwrXJ9wAZnZplL98vTwREhRvICjQljs22b5Ljs8wFjIR/+tQApj6HrBcgdW1ed86dwMguJY+tezOHBBm6gCA3VkXgANLcjlc28EUgwxQHNJnbwCPJOgPKN0hU44DOrOIQA0DZS+0AAhRIcCBJrSKJP4G9THAg9jAAWzoAgb2EmkkcULqdIi/YE9wTjUwxIGLYvflDko6AIjUGPDieIE6s6E8MqLi9jHFAXGBA4eFApKwCuHq2XsAlRZYRDigfTttAxgLVHVAhtL6PT/huBYQxFr96DXzm6Cx0Ar5s/aAFbiBCo3e7wIThqz2AUDv3C+G7gSBEC+BrA4xZ6Fg5AekB/bG5vybgyT6A5EDV+ObXBpjdjBUFLnFABq0Eo+Xtov1BWtyWlIn2VlqAFOBN5ujX2cwnHgi5F5CchlVtnNVVSLlsAb7c5DOip+aNpnr5l6M52QUETWemQ7N8+RQ7gOf/i0FlOnbH2f8jrwE4fzCd+x2wNuCRe9OjZxBbQHirmDa9Ktn6TDTAWT/grAG4WAV9AVif8YMAGF8FQvVKwPqMbQEGPWMNMKiDAGBQ7wHQQR0EMLC/CsyEDBnhc8AAAAAASUVORK5CYII=",A={C:{imageSize:E.i,requestSize:50},S:{imageSize:E.l,requestSize:50},M:{imageSize:E.k,requestSize:80},MEDIUM_PLUS:{imageSize:E.e,requestSize:80},L:{imageSize:E.j,requestSize:180},UNIFY_DESIGN_S:{imageSize:E.d,requestSize:50},UNIFY_DESIGN_M:{imageSize:E.k,requestSize:80},UNIFY_DESIGN_L:{imageSize:E.g,requestSize:80},UNIFY_DESIGN_SECOND_AD_L:{imageSize:E.f,requestSize:80},NOBLE_S:{imageSize:E.d,requestSize:50},NOBLE_L:{imageSize:E.e,requestSize:50},NOBLE_XL:{imageSize:E.h,requestSize:50}};class I extends d.a.Component{constructor(e){super(e),n()(this,"state",{badgeLoaded:!1,imageLoaded:!1,srcUrl:""}),n()(this,"psuedoImage",null),n()(this,"mounted",!1),n()(this,"getSrcUrlWithAppId",()=>this.props.fallbackUrl===this.state.srcUrl?this.state.srcUrl:this.state.srcUrl+"&appId="+this.context.appId),n()(this,"loadXHRImage",()=>{const e=this.props.contact,t=new XMLHttpRequest,s=Object(u.b)(e,1,this.context.appId);t.open("GET",s,!0),t.withCredentials=!0,t.onloadend=()=>{if(t.status>=400)return;const e="linkedin"===t.getResponseHeader("x-image-source");this.setLinkedInBadgeStatus(e)},t.send()}),n()(this,"loadPseudoImage",()=>{this.psuedoImage||(this.psuedoImage=new Image,this.psuedoImage.onerror=this.onError,this.psuedoImage.onload=this.onLoad),this.psuedoImage.src=this.getSrcUrlWithAppId()}),n()(this,"createImageLoader",()=>{const e=this.props.showLinkedInBadge;this.loadPseudoImage(),e&&this.loadXHRImage()}),n()(this,"setLinkedInBadgeStatus",(e=!1)=>{this.mounted&&this.state.badgeLoaded!==e&&this.setState({badgeLoaded:e})}),n()(this,"onLoad",()=>{this.mounted&&!this.state.imageLoaded&&this.setState({imageLoaded:!0})}),n()(this,"onError",()=>{this.mounted&&this.state.imageLoaded&&this.setState({imageLoaded:!1})}),this.imageRef=d.a.createRef()}static getDerivedStateFromProps(e,t){return e.useFallbackImage||e.srcUrl===t.srcUrl?null:{imageLoaded:!1,srcUrl:e.srcUrl}}componentDidUpdate(e){this.props.useFallbackImage||this.props.srcUrl===e.srcUrl||this.createImageLoader()}componentDidMount(){this.mounted=!0,this.props.useFallbackImage||this.createImageLoader()}componentWillUnmount(){this.mounted=!1}render(){const e=this.state,t=e.imageLoaded,s=this.props,r=s.size.imageSize,n=s.useFallbackImage,a=s.isDarkMode,o=s.customFallbackImageData,i=s.showLinkedInBadge&&t&&e.badgeLoaded,l=c()(g.a,{darkMode:a,iconSizeBig:r>E.e}),_=d.a.createElement("img",{className:l.avatarImg,ref:this.imageRef,width:r,height:r,src:t&&!n?this.getSrcUrlWithAppId():o});if(!i)return _;return d.a.createElement("div",{className:l.container},_,d.a.createElement("span",{className:l.icon},d.a.createElement(S.b,{size:r>E.e?h.Sizes.XS:h.Sizes.XXXS,kind:h.Kinds.LINKEDIN,colorState:a?h.ColorStates.WHITE:h.ColorStates.LINKEDIN_ENABLED})))}}n()(I,"contextTypes",{appId:o.a.string}),n()(I,"defaultProps",{size:A.M,useFallbackImage:!1,customFallbackImageData:T,contact:{},fallbackUrl:O,srcUrl:"",isDarkMode:!1,showLinkedInBadge:!1});t.c=Object(p.connect)((e,{contact:t={},size:s=A.M,fallbackUrl:r=O,useFallbackImage:n})=>{if(n)return{};let a;const o=Object(m.selectors)(e),i=o.getMailboxesSelectors,c=o.getEnvironmentSelectors,l=(0,o.getContactListSelectors)(),d=(((0,i().getSocialAccountsStatus)()||{})[_.Xd.LinkedIn]||{}).status,p=(d===_.Wd.CONNECTED||d===_.Wd.EXPIRED)&&s.imageSize>=E.k;t.id?a=l.getContactById(t.id):t.email&&(a=l.getContactByEmail(t.email)),a=a||{},a.id&&(t.id=t.id||a.id),a.photoTimestamp&&(t.photoTimestamp=a.photoTimestamp);const S=c().getAppId()||null;return{showLinkedInBadge:p,srcUrl:Object(u.a)(t,s.requestSize,r,S)}})(I)},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(28),d=s(12),E=s.n(d),_=(s(124),s(9),s(671)),u=s.n(_),p=s(117),m=s(46);const S=()=>{},h=["escape","left","right","up","down","tab"];class C extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{cursorIndex:-1}),n()(this,"handleKeyDown",e=>{const t=e.which||e.keyCode,s=this.props.listNavigationOnInputEnabled;if(!(e.target&&e.target.type&&"text"===e.target.type)||s&&(!s||t!==m.b.LEFT&&t!==m.b.RIGHT))switch(t){case m.b.LEFT:case m.b.UP:e.preventDefault(),e.stopPropagation(),this.navigate(-1);break;case m.b.RIGHT:case m.b.DOWN:e.preventDefault(),e.stopPropagation(),this.navigate(1);break;case m.b.TAB:return void this.setState({cursorIndex:-1});case m.b.ESCAPE:return e.preventDefault(),e.stopPropagation(),void this.escape();default:return}}),n()(this,"handleBlur",()=>{const e=Object(l.findDOMNode)(this);setImmediate(()=>{this._isMounted&&!e.contains(document.activeElement)&&this.props.onHide()})})}componentDidMount(){this._isMounted=!0,this.props.focusOnMount&&setTimeout(()=>this.list&&this.list.focus(),0),this.mousetrap=this.context.bindShortcut(h,this.handleKeyDown,this.list),this.props.onShow()}componentWillUnmount(){this._isMounted=!1,this.context.unbindShortcut(h,this.mousetrap)}resetCursorIndex(){this.setState({cursorIndex:-1})}escape(){Object(l.findDOMNode)(this).focus(),Object(l.findDOMNode)(this).blur(),this.setState({cursorIndex:-1}),this.props.onEscape()}navigate(e){const t=Math.min,s=Math.max,r=Object(l.findDOMNode)(this),n=r.getElementsByTagName("li"),a=n.length-1;let o;this.props.circularNavigation?(o=this.state.cursorIndex+e,o>a?o=0:o<0&&(o=a)):o=t(s(this.state.cursorIndex+e,0),a);const i=n[o];if(r.querySelector("button:not([disabled])")||r.querySelector("a")||r.querySelector('[role="checkbox"]')){const t=i.querySelector("button:not([disabled])")||i.querySelector("a")||i.querySelector('[role="checkbox"]');t?(this.setState({cursorIndex:o}),this.props.selectItemInsteadOfFocus?this.props.selectItemInsteadOfFocus(t):t.focus()):this.setState({cursorIndex:o},(function(){this.navigate(e)}))}}getRole(){switch(this.props.kind){case p.a.MENU:return"menu";case p.a.TOOLBAR:return"menubar";default:return"list"}}render(){const e=this.getRole(),t=E()(u.a,{layout:this.props.layout,kind:this.props.kind,disabled:this.props.disabled,isRestrictedHeight:this.props.isRestrictedHeight});return c.a.createElement("ul",{"data-test-id":this.props["data-test-id"]||"navigable-list",ref:e=>this.list=e,tabIndex:this.props.tabIndex,role:e,onBlur:this.handleBlur,className:t.list},this.props.children)}}n()(C,"contextTypes",{bindShortcut:o.a.func,unbindShortcut:o.a.func}),n()(C,"defaultProps",{disabled:!1,tabIndex:-1,circularNavigation:!0,focusOnMount:!1,onShow:S,onHide:S,onEscape:S,isRestrictedHeight:!1,listNavigationOnInputEnabled:!1}),t.a=C},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(3),o=s.n(a),i=s(1),c=s.n(i),l=s(15);s(19),s(61);t.a=class extends c.a.Component{constructor(...e){super(...e),o()(this,"state",{visiblePopoverTypes:[l.i.MOUNT]}),o()(this,"toggle",e=>{this.state.visiblePopoverTypes.indexOf(e)>-1?this.hide(e):this.show(e)}),o()(this,"show",e=>{const t=this.state.visiblePopoverTypes;t.indexOf(e)>-1||(t.push(e),this.setState({visiblePopoverTypes:t}))}),o()(this,"hide",(e,t)=>{const s=this.state.visiblePopoverTypes,r=s.indexOf(e);if(!t){const s=c.a.Children.toArray(this.props.children).filter(({props:t})=>t.triggerOn&&t.onHide&&t.triggerOn===e).map(({props:e})=>e.onHide);t=()=>s.forEach(e=>e())}-1!==r&&(s.splice(r,1),this.setState({visiblePopoverTypes:s},t))}),o()(this,"showContextualPopovers",e=>{c.a.Children.toArray(this.props.children).some(e=>e.props.triggerOn===l.i.RIGHTCLICK)&&(e.preventDefault(),this.show(l.i.RIGHTCLICK))}),o()(this,"toggleClickPopovers",()=>{this.toggle(l.i.CLICK)}),o()(this,"showHoverPopovers",()=>{this.show(l.i.HOVER)}),o()(this,"hideHoverPopovers",()=>{this.hide(l.i.HOVER)})}componentDidMount(){setImmediate(()=>this.forceUpdate())}render(){const e=c.a.Children.toArray(this.props.children),t=e.shift(),s=c.a.cloneElement(t,{ref:"popoverAnchor",onClick:e=>{this.toggleClickPopovers(e),t.props.onClick&&t.props.onClick(e)},onContextMenu:this.showContextualPopovers,onMouseOver:this.showHoverPopovers,onMouseOut:this.hideHoverPopovers});let r=[];return this.refs.popoverAnchor&&(r=e.filter(e=>this.state.visiblePopoverTypes.indexOf(e.props.triggerOn)>-1).map(e=>c.a.cloneElement(e,{onHide:this.hide.bind(this,e.props.triggerOn,e.props.onHide),popoverAnchor:this.refs.popoverAnchor}))),c.a.createElement("div",n()({},this.props,{"data-test-id":"popover-container"}),s,r)}}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(103),o=s(40),i=s(19),c=s(20),l=s(119),d=s(35);function E(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}class _{constructor(e){n()(this,"crumbValue",void 0),n()(this,"loggerName",void 0),n()(this,"loggerParams",void 0),n()(this,"endpoints",void 0),n()(this,"isOnline",void 0),n()(this,"getMailboxParams",void 0),n()(this,"wssidValue",void 0),Object(i.a)(!!e.loggerName,"loggerName is missing");const t=e.loggerParams,s=void 0===t?{}:t,r=e.crumb,a=e.wssid,o=e.isOnline,c=void 0===o?()=>!0:o,l=e.endpoints,d=void 0===l?{}:l;this.loggerName=e.loggerName,this.loggerParams=s,this.endpoints=d,r&&(this.crumbValue=r),a&&(this.wssid=a),this.isOnline=c,this.getMailboxParams=()=>({})}get crumb(){return this.crumbValue||""}set crumb(e){e&&(this.crumbValue=e)}get wssid(){return Object(c.c)()?_.wssid||"":this.wssidValue||""}set wssid(e){e&&(Object(c.c)()?_.wssid=e:this.wssidValue=e)}setRequestBlocked(e=!1){Object(c.c)()&&(_.requestBlocked=e)}isRequestBlocked(e=!0){return!!Object(c.c)()&&(e&&_.requestBlocked)}getRequestBlockedPromise(){return Promise.reject(new o.a("BaseClient.RequestBlocked","",{errorCode:"REQUEST_BLOCKED",statusCode:0}))}logRequest(e,t,s="",r=0){this._logRequest(e,t,s,r).catch(()=>{})}_logRequest(e,t,s,r=0){const i=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?E(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):E(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({isOnline:this.isOnline()},this.loggerParams,{},t),c=s||this.loggerName,_=a.a.feature(c,i);return e.then(e=>{if(!e)throw new o.a("BaseClient.EmptyResponse");if(_.logSuccessAndLatency(),function(e){return!!e&&e.error instanceof Error}(e)&&(e.error.message===d.v||e.error.message===d.h||e.error.message===d.q))throw e.error}).catch(e=>{e=this.handleCommonError(e);this.isRetryableError&&this.isRetryableError(e,r,i.apiName)||(e.data&&!1===e.data.isOnline&&(i.isOnline=!1),l.apiErrorLogger(a.a,c,i,e))})}handleYdodError(e){if(429===e.statusCode)return this.setRequestBlocked(!0),e}handleCommonError(e){let t=null;return e=o.a.errorify(e),this.handleAuthError&&(t=this.handleAuthError(e)),t||(t=this.handleYdodError(e)),this.handleWssidReissueError&&!t&&(t=this.handleWssidReissueError(e)),t||e}setMailboxParams(e){this.getMailboxParams=e}shouldRetry(e,t){return!(!t||408!==t.status)||(!e||"ECONNRESET"!==e.code)&&void 0}}n()(_,"wssid",""),n()(_,"crumb",""),n()(_,"requestBlocked",!1),t.a=_},function(e,t,s){"use strict";s.d(t,"g",(function(){return E})),s.d(t,"i",(function(){return _})),s.d(t,"l",(function(){return u})),s.d(t,"k",(function(){return p})),s.d(t,"j",(function(){return m})),s.d(t,"a",(function(){return S})),s.d(t,"e",(function(){return h})),s.d(t,"f",(function(){return C})),s.d(t,"d",(function(){return g})),s.d(t,"h",(function(){return O})),s.d(t,"n",(function(){return T})),s.d(t,"c",(function(){return I})),s.d(t,"b",(function(){return f})),s.d(t,"m",(function(){return D}));var r=s(33),n=s.n(r),a=s(19),o=s(0),i=s(16),c=s(41),l=s(9),d=s(306);function E({messageGroupId:e,mId:t}){return t?e+"-"+t:e}function _(e){return Object(c.n)(e.folder)===o.Mb.DRAFT}function u(e){return Object(c.n)(e.folder)===o.Mb.TRASH}function p(e){return Object(c.n)(e.folder)===o.Mb.BULK}function m(e){return t=>t.folder.id===e}function S(e){return e.length>27?e.split("_").pop().replace(/\+/g,"-").replace(/\//g,"_"):e}function h({partId:e,contentId:t},s){return Object(a.a)(s,"#generateAttachmentId must receive a messageId"),`${s}:${e||t}`}function C(e=""){if(e.includes("inlineImage"))return Object(d.b)(e);const t=e.split(":");return n()(t,1)[0]}function g(e,t){return e.filter(({folder:e})=>t(Object(c.n)(e)))}function O({decos:e}){return!(!e||!Array.isArray(e))&&e.findIndex(e=>{if("CRD"===e.id)return!0})>-1}function T(e,t=[]){return e.schemaOrg.forEach(s=>{const r=s.schema||s,n=r["@type"];switch(n){case o.Ad.ReservationPackage:r.subReservation&&(e.schemaOrg=r.subReservation,T(e,t));break;case o.Ad.FlightReservation:{if(!r.reservationFor)break;const e=r.reservationId,s=void 0===e?"":e,a=r.reservationFor;let i=r.underName,c=void 0===i?[]:i,d=r.potentialAction,E=void 0===d?[]:d;const _=a.departureAirport,u=a.departureTime,p=a.departureTerminal,m=void 0===p?"":p,S=a.arrivalAirport,h=a.arrivalTerminal,C=void 0===h?"":h,g=a.flightNumber,O=void 0===g?"":g,T=a.arrivalTime,A=void 0===T?"":T;if(!(_&&S&&u&&r["@id"]))break;let I="";Array.isArray(E)||(E=[E]),Array.isArray(c)||(c=[c]),E.some(e=>{if(e["@type"]===o.Ad.CheckInAction&&e.url)return I=Object(l.b)(e,"url.@value")||Object(l.b)(e,"url",""),!0}),t.push({id:r["@id"],type:n,providerName:Object(l.b)(a,"provider.name",""),providerIataCode:Object(l.b)(a,"provider.iataCode",""),providerUrl:Object(l.b)(a,"provider.url",""),departureAirportName:Object(l.b)(_,"name",""),departureAirportDesc:Object(l.b)(_,"description",""),departureAirportCode:Object(l.b)(_,"iataCode",""),departureTime:u,departureTerminal:m,arrivalAirportName:Object(l.b)(S,"name",""),arrivalAirportDesc:Object(l.b)(S,"description",""),arrivalAirportCode:Object(l.b)(S,"iataCode",""),arrivalTime:A,arrivalTerminal:C,flightNumber:O,reservationId:s,passengers:c.map(e=>e.name),checkInUrl:I});break}case o.Ad.Recommendation:{const s=r.recommendedItem||[],a=e.cardConversationId||"",o=Object(l.b)(e,"headers.from",[]);s.forEach(s=>{var r,c,l,d,E,_;const u=s.name||"",p=s["@id"]||"";t.push({cardConversationId:a,cmid:(e.id||"")+Object(i.generateRandomStringWithLength)({min:5,max:5}),dealLink:(null===(r=s.url)||void 0===r?void 0:r["@value"])||s.url||"",description:u,from:o[0]||{},id:p,imageUrl:(null===(c=s.image)||void 0===c?void 0:c["@value"])||s.image||"",price:(null===(l=s.offers)||void 0===l||null===(d=l.price)||void 0===d?void 0:d["@value"])||(null===(E=s.offers)||void 0===E?void 0:E.price)||"",amountUnit:null===(_=s.offers)||void 0===_?void 0:_.priceCurrency,type:n})});break}case o.Ad.ParcelDelivery:{var a,c,d,E,_,u;const s=(null==r||null===(a=r.partOfOrder)||void 0===a||null===(c=a[0])||void 0===c?void 0:c.orderNumber)||"",o=(null==r||null===(d=r.itemShipped)||void 0===d||null===(E=d[0])||void 0===E?void 0:E.name)||"",i=(null==r?void 0:r.deliveryStatus)||[],l=(null==r||null===(_=r.partOfOrder)||void 0===_||null===(u=_[0])||void 0===u?void 0:u.inferredOrderDate)||"";let m="";(r.expectedArrivalUntil||r.expectedArrivalFrom)&&(m=(null==r?void 0:r.expectedArrivalUntil)||(null==r?void 0:r.expectedArrivalFrom)||"");let S="";if(i.length>1){var p;const e=i.length;S=null==i||null===(p=i[e-1])||void 0===p?void 0:p.description}t.push({cardConversationId:(null==e?void 0:e.cardConversationId)||"",id:(null==r?void 0:r["@id"])||"",orderNumber:s,trackingNumber:(null==r?void 0:r.trackingNumber)||"",name:o,type:n,trackingUrl:(null==r?void 0:r.trackingUrl)||"",expectedArrival:m,deliveryStatusToShow:S,orderDate:l});break}case o.Ad.Coupon:{var m,S,h,C;const s=e.id,a=Object(l.b)(r,"validThrough",""),i=Object(l.b)(r,"description",""),c=Object(l.b)(e,"headers.from",[]),d=Object(l.b)(e,"cardConversationId",""),E=Object(l.b)(e,"decos",[]).some(e=>e&&e.id===o.Cc.TAG),_=Object(l.b)(r,"category",[]),u=Object(l.b)(r,"valueReference",[]),p=0!==u.length?Object(l.b)(u[0],"propertyID",""):"",g=Object(l.b)(r,"image.url",null),O=(null==r||null===(m=r.image)||void 0===m||null===(S=m.height)||void 0===S?void 0:S.value)||null,T=(null==r||null===(h=r.image)||void 0===h||null===(C=h.width)||void 0===C?void 0:C.value)||null;if(!s||!i||!c.length||!a&&!p)break;const A=_.filter(e=>e["@id"]&&e.name&&"GPT"===e.taxonomy&&["haifaproduct","GPT_ASPEN_LIB"].includes(e.method)).map(e=>{var t,s;const r=(null===(t=e.name)||void 0===t?void 0:t.split(">"))||[],n=(null===(s=e.hierarchy)||void 0===s?void 0:s.split("."))||[],a=[];for(let t=0;t<r.length;t++)a.push({id:n[t]||e["@id"],name:r[t],level:t+1,isLeafNode:t===r.length-1});return a}).reduce((e,t)=>{for(const s of t)e.some(e=>e.id===s.id)||e.push(s);return e},[]),I=Object(l.b)(_.find(e=>"Great Savings"===e.name),"name","");t.push({id:s,type:n,validThrough:a,isInferredDate:"Inferred"===p,description:i,dealLink:Object(l.b)(r,"url.value",r.url||""),clipped:E,from:c[0],cardConversationId:d,unusualDiscount:I,couponCategories:A,retailer:Object(l.b)(r,"broker.name",""),imageUrl:g,imageHeight:O,imageWidth:T});break}case o.Ad.Order:{const s=r.acceptedOffer,a=void 0===s?{}:s,o=r.orderedItem,i=void 0===o?[]:o,c=r.potentialSaving,d=void 0===c?{}:c,E=r.orderDate,_=r.seller,u=r.inferredOrderDate,p=r.broker,m=void 0===p?{}:p;if(!i.length||!r["@id"])break;i.forEach(e=>{e.category=Array.isArray(e.category)?e.category:[]});const S=Object(l.b)(a,"price",null);t.push({id:e.immutableid,type:n,price:null!==S?Number(Number(S).toFixed(2)):null,currency:Object(l.b)(a,"priceCurrency",""),potentialSavings:Number(Number(Object(l.b)(d,"price",0)).toFixed(2)),orderedItems:i,orderDate:E||u,sellerName:_?Object(l.b)(_,"name",""):"",broker:m});break}}}),t}function A(e){return`${e.email}@${e.name}`}function I(e){const t=e.length;if(t<=1)return e;const s=e[0],r={[A(s)]:s,[A(e[t-1])]:e[t-1]},n=[s];return e.slice(1,t-1).forEach(e=>{const t=A(e),n=r[t];(n!==s&&!n||!n.recent&&e.recent)&&(r[t]=e)}),e.slice(1,t-1).forEach(e=>{const t=A(e);r[t]===e&&n.push(e)}),n.push(e[t-1]),n.every(({email:e,recent:t,name:r})=>s.email===e&&s.recent===t&&s.name===r)?[s]:n}function f(e){if(1===e.length)return[0];const t=[0,e.length-1];let s=2;for(let r=1;r<e.length-1;r++){e[r].recent?(t.splice(s,0,r),s++):t.push(r)}return t}function D({recipients:e,participants:t,myAddresses:s}){let r=function(...e){const t={},s=[];let r=0;return e.forEach(e=>{e.forEach(e=>{const n=t[e.email];void 0===n?(t[e.email]=r,s[r]=Object.assign({},e),r++):s[n].recent=s[n].recent||e.recent})}),s}(e,t);if(r.length){const e=r.filter(e=>!s[e.email]);e.length&&(r=e)}return r}},function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return i}));var r=s(9),n=s(11);const a=Object(r.d)(["MESSAGE_VIEW","LIST","LIST_WITH_PREVIEW_RIGHT","LIST_WITH_PREVIEW_BOTTOM"]),o=13*n.G,i={HAS_GROUP_SELECTION:{[a.LIST]:!0,[a.LIST_WITH_PREVIEW_RIGHT]:!0,[a.LIST_WITH_PREVIEW_BOTTOM]:!0},HAS_SORT:{[a.LIST]:!0,[a.LIST_WITH_PREVIEW_RIGHT]:!0,[a.LIST_WITH_PREVIEW_BOTTOM]:!0},HAS_CLOSE:{[a.LIST_WITH_PREVIEW_RIGHT]:!0,[a.MESSAGE_VIEW]:!0},HAS_SINGLE_GROUP_ACTIONS:{[a.LIST_WITH_PREVIEW_RIGHT]:!0,[a.LIST_WITH_PREVIEW_BOTTOM]:!0,[a.MESSAGE_VIEW]:!0},HAS_EXPAND_COLLAPSE:{[a.LIST_WITH_PREVIEW_RIGHT]:!0,[a.LIST_WITH_PREVIEW_BOTTOM]:!0,[a.MESSAGE_VIEW]:!0},HAS_PREVIOUS_NEXT:{[a.MESSAGE_VIEW]:!0}};t.c=a},function(e,t,s){"use strict";var r=s(70);t.a=s.n(r).a.create("norrin/app")},function(e,t,s){"use strict";s.d(t,"b",(function(){return _})),s.d(t,"e",(function(){return u})),s.d(t,"d",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"k",(function(){return S})),s.d(t,"m",(function(){return h})),s.d(t,"l",(function(){return C})),s.d(t,"g",(function(){return g})),s.d(t,"i",(function(){return O})),s.d(t,"h",(function(){return T})),s.d(t,"n",(function(){return A})),s.d(t,"f",(function(){return I})),s.d(t,"a",(function(){return f})),s.d(t,"j",(function(){return D}));var r=s(3),n=s.n(r),a=s(34),o=s.n(a),i=s(2),c=s(10),l=s(0);function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const _=e=>{let t=e.name,s=e.value,r=o()(e,["name","value"]);return(e,n)=>{const a=Object(c.selectors)(n());return t===l.Kd.NOTIFICATION&&(0,a.isMobileRoute)()?(t=l.Kd.MOBILE_NOTIFICATION,s=Boolean(s)):t===l.Kd.NOTIFICATION&&(t=l.Kd.DESKTOP_NOTIFICATION,s=s?1:0),e(E({},r,{name:t,value:s,type:i.SETTINGS_CHANGE_REQUESTED}))}},u=({i13nModel:e})=>(t,s)=>{const r=((0,Object(c.selectors)(s()).getSetting)(l.Kd.PREVIEW_PANE)+1)%Object.keys(l.ed).length;return t({name:l.Kd.PREVIEW_PANE,value:r,i13nModel:e,type:i.SETTINGS_CHANGE_REQUESTED})},p=e=>E({type:i.SETTINGS_CHANGE_SUCCEEDED},e),m=e=>E({type:i.SETTINGS_CHANGE_FAILED},e),S=e=>E({},e,{type:i.ACCOUNT_DETAILS_CHANGE_REQUESTED}),h=e=>E({},e,{type:i.ACCOUNT_DETAILS_CHANGE_SUCCEEDED}),C=e=>E({},e,{type:i.ACCOUNT_DETAILS_CHANGE_FAILED}),g=e=>E({},e,{type:i.SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED}),O=e=>E({},e,{type:i.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED}),T=e=>E({},e,{type:i.SETTINGS_SAVE_VACATION_PREFERENCES_FAILED}),A=e=>E({},e,{type:i.THEME_MODE_CHANGE_REQUESTED}),I=e=>{const t=e.filters,s=o()(e,["filters"]);return E({type:i.SETTINGS_SAVE_FILTERS_REQUESTED,name:l.Kd.MESSAGE_FILTERS,value:t},s,{runV3:!0})},f=e=>E({},e,{type:i.SETTINGS_ADD_FILTER_REQUESTED}),D=e=>E({type:i.REVIEW_FORWARD_EMAIL},e)},,function(e,t,s){"use strict";var r=s(6);t.a=Object(r.defineMessages)({move_msgs:{id:"move_msgs",defaultMessage:"Move the selected {conversations, select, true {conversations} false {messages}} to another folder"},mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as spam"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as not spam"},confirm_delete_title:{id:"message_list.confirm_delete_title",defaultMessage:"Delete message"},confirm_delete_messages:{id:"message_list.confirm_delete_messages",defaultMessage:"Are you sure you want to move {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} to Trash?"},confirm_permanently_delete_messages:{id:"message_list.confirm_permanently_delete_messages",defaultMessage:"Are you sure you want to permanently delete {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}"},confirm_move_title:{id:"message_list.confirm_move_title",defaultMessage:"Move messages"},confirm_move_messages:{id:"message_list.confirm_move_messages",defaultMessage:"Are you sure you want to move {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},confirm_spam_title:{id:"message_list.confirm_spam_title",defaultMessage:"Spam messages"},confirm_spam_messages:{id:"message_list.confirm_spam_messages",defaultMessage:"Are you sure you want to mark {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} as spam?"},confirm_ham_title:{id:"message_list.confirm_ham_title",defaultMessage:"Mark as not spam"},confirm_ham_messages:{id:"message_list.confirm_ham_messages",defaultMessage:"Are you sure you want to mark {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} as not spam?"},confirm_archive_title:{id:"message_list.confirm_archive_title",defaultMessage:"Archive message"},confirm_archive_messages:{id:"message_list.confirm_archive_messages",defaultMessage:"Are you sure you want to archive {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},confirm_restore_title:{id:"message_list.confirm_restore_title",defaultMessage:"Archive message"},confirm_restore_messages:{id:"message_list.confirm_restore_messages",defaultMessage:"Are you sure you want to restore {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},sort_menu:{id:"sort_menu",defaultMessage:"Sort"},sort_by_date_desc:{id:"sort_by_date_desc",defaultMessage:"Date: Newest on top"},sort_by_date_asc:{id:"sort_by_date_asc",defaultMessage:"Date: Oldest on top"},sort_by_unread:{id:"sort_by_unread",defaultMessage:"Unread"},sort_by_flagged:{id:"sort_by_flagged",defaultMessage:"Starred"},sort_by_sender:{id:"sort_by_sender",defaultMessage:"Sender"},sort_by_recipient:{id:"sort_by_recipient",defaultMessage:"Recipient"},sort_by_subject:{id:"sort_by_subject",defaultMessage:"Subject"},sort_by_asc:{id:"sort_by_asc",defaultMessage:"Date: Oldest on top"},sort_by_desc:{id:"sort_by_desc",defaultMessage:"Date: Newest on top"},sort_by_relevance:{id:"sort_by_relevance",defaultMessage:"Relevance"},sort_by_attachment:{id:"sort_by_attachment",defaultMessage:"Attachments"},list_filter_from:{id:"list_filter_from",defaultMessage:"From"},list_filter_to:{id:"list_filter_to",defaultMessage:"To"},list_filter_all:{id:"list_filter_all",defaultMessage:"All"},delete_msg_group:{id:"delete_msg_group",defaultMessage:"Delete all these messages"},move_msg_group:{id:"move_msg_group",defaultMessage:"Move these messages to another folder"},close:{id:"close",defaultMessage:"Close"},message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},previous:{id:"button.previous",defaultMessage:"Previous {conversations, select, true {conversation} false {message}} [  Left ]"},next:{id:"button.next",defaultMessage:"Next {conversations, select, true {conversation} false {message}} [  Right ]"},expand_list:{id:"expand_list",defaultMessage:"Expand message cards"},collapse_list:{id:"collapse_list",defaultMessage:"Collapse message cards"},list_is_expanded:{id:"list_is_expanded",defaultMessage:"Conversation is expanded"},list_is_collapsed:{id:"list_is_collapsed",defaultMessage:"Conversation is collapsed"},photos_from_email:{id:"photos_from_email_label",defaultMessage:"Photos from email"},photos:{id:"photos_label",defaultMessage:"Photos"},documents:{id:"document_label",defaultMessage:"Documents from email"},disable_move_msgs_across_accunts:{id:"disable_move_msgs_across_accounts",defaultMessage:"Messages can't be moved across mailboxes."},disable_move_msgs_default:{id:"disable_move_msgs_default",defaultMessage:"Messages can't be moved."}})},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(133),o=s.n(a);t.a=class{constructor(e,t,s,r,a){if(n()(this,"state",void 0),n()(this,"_seq",0),!e)throw new TypeError("guidMd5 is required argument");this.state={guiMd5Section:o.a.toNBits(o.a.hexToBin(e),64),clientIdSection:o.a.toNBits(t.toString(2),8),sessionSection:o.a.toNBits(s.toString(2),16),versionSection:o.a.toNBits(1..toString(2),8),randomClientSection:o.a.toNBits((r||Math.floor(256*Math.random())).toString(2),8),debugSection:o.a.toNBits((a||0).toString(2),8)},this._seq=0}generate(){const e=o.a.toNBits(this._getNextSeq().toString(2),16),t=[this.state.guiMd5Section,this.state.clientIdSection,this.state.sessionSection,e,this.state.versionSection,this.state.randomClientSection,this.state.debugSection].join("");return this._formatBinary(t)}_formatBinary(e){const t=o.a.binToHex(e);let s=0;return[8,4,4,4,12].map((function(e){const r=t.substr(s,e);return s+=e,r})).join("-")}_getNextSeq(){return this._seq>65535&&(this._seq=0),this._seq++}static getSeq(e){const t=e.substr(26,4);return parseInt(t,16)}}},function(e,t,s){"use strict";s.d(t,"m",(function(){return d})),s.d(t,"y",(function(){return E})),s.d(t,"z",(function(){return _})),s.d(t,"c",(function(){return u})),s.d(t,"d",(function(){return p})),s.d(t,"l",(function(){return m})),s.d(t,"e",(function(){return S})),s.d(t,"b",(function(){return h})),s.d(t,"k",(function(){return C})),s.d(t,"n",(function(){return g})),s.d(t,"o",(function(){return O})),s.d(t,"g",(function(){return T})),s.d(t,"q",(function(){return A})),s.d(t,"p",(function(){return I})),s.d(t,"i",(function(){return f})),s.d(t,"h",(function(){return D})),s.d(t,"u",(function(){return R})),s.d(t,"w",(function(){return b})),s.d(t,"v",(function(){return N})),s.d(t,"j",(function(){return M})),s.d(t,"A",(function(){return y})),s.d(t,"f",(function(){return L})),s.d(t,"t",(function(){return P})),s.d(t,"s",(function(){return v})),s.d(t,"r",(function(){return F})),s.d(t,"a",(function(){return U})),s.d(t,"x",(function(){return w}));var r=s(3),n=s.n(r),a=s(2),o=s(0),i=s(5);s(69);function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const d=e=>l({type:a.PENCIL_AD_CLICKED},e),E=e=>l({type:a.AD_FEEDBACK_STARTED},e),_=e=>l({type:a.AD_FEEDBACK_SUBMITTED},e),u=e=>l({type:a.AD_FEEDBACK_CLOSED},e),p=e=>l({type:e.error?a.DARLA_ADS_FAILED:a.DARLA_ADS_RECEIVED},e),m=()=>({type:a.MESSAGE_READ_AD_ROTATION_TIMER}),S=()=>({type:a.FEATURE_DISABLED,name:o.Eb.IS_WIDER_MAIL_EXTN_ENABLED}),h=e=>l({type:a.AD_ROTATION_SKIPPED},e),C=e=>l({type:a.LEGACY_WIDERMAIL_EXTN_DETECTED,name:o.Eb.IS_WIDER_MAIL_EXTN_ENABLED},e),g=e=>l({type:a.PREMIUM_AD_STARTED},e),O=e=>l({type:a.PREMIUM_AD_STOPPED},e),T=({sectionIds:e})=>({type:a.GEMINI_AD_REQUESTED,sectionIds:e}),A=({geminiAd:e,sectionIds:t,sponsoredMessageTriage:s=!1,i13nModel:r={}})=>({type:a.GEMINI_AD_RECEIVED,geminiAd:e,sectionIds:t,i13nModel:r,sponsoredMessageTriage:s}),I=({error:e,sectionIds:t,i13nModel:s})=>({type:a.GEMINI_AD_FAILED,error:e,sectionIds:t,i13nModel:s}),f=({creativeId:e,asset:t})=>({type:a.GEMINI_SPONSORED_ASSET_RECEIVED,creativeId:e,asset:t}),D=({creativeId:e,error:t,url:s})=>({type:a.GEMINI_SPONSORED_ASSET_FAILED,creativeId:e,error:t,url:s}),R=({subject:e,asset:t})=>({type:a.SPONSORED_SAVE_TO_INBOX_REQUESTED,subject:e,asset:t}),b=({message:e,simpleBody:t})=>({type:a.SPONSORED_SAVE_TO_INBOX_SUCCEEDED,message:e,simpleBody:t}),N=()=>({type:a.SPONSORED_SAVE_TO_INBOX_FAILED}),M=()=>({type:a.HIDE_RIGHT_PANE_ADS,i13nModel:{mKey:i.g.HIDE_RIGHT_RAIL_AD,sec:i.i.RIGHT_RAIL}}),y=({i13nModel:e})=>({type:a.UNUSUAL_DISCOUNT_VIGLINK_CLICKED,i13nModel:e}),L=()=>({type:a.FLASH_SALE_AD_ENDED}),P=({i13nModel:e})=>({type:a.RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED,i13nModel:e}),v=({i13nModel:e})=>({type:a.RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED,i13nModel:e}),F=({i13nModel:e})=>({type:a.RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED,i13nModel:e}),U=e=>l({type:a.AD_FEEDBACK_CLICKED},e),w=({i13nModel:e})=>({type:a.SEARCH_AD_RENDERED,i13nModel:e})},function(e,t,s){"use strict";s.d(t,"d",(function(){return n})),s.d(t,"e",(function(){return a})),s.d(t,"c",(function(){return o})),s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return c})),s.d(t,"i",(function(){return d})),s.d(t,"j",(function(){return E})),s.d(t,"h",(function(){return _})),s.d(t,"g",(function(){return u})),s.d(t,"f",(function(){return p}));var r=s(19);const n="sw-data-v3",a="/tapRegistrationId",o="/SUBSCRIPTION_TIMESTAMP",i="/SUBSCRIPTION_IDS",c="/MIGRATE_TO_TAP",l={stateStorage:n};function d(e){if("undefined"!=typeof Storage&&"string"==typeof e)try{return localStorage.getItem(e)}catch(e){}}function E(e,t){if("undefined"!=typeof Storage){Object(r.a)("string"==typeof e,"key is not a string");try{localStorage.setItem(e,t)}catch(e){}}}function _(e,t){return caches.open(e).then(e=>e.match(t)).then(e=>e?e.clone().json():null)}function u(e,t){return caches.open(e).then(e=>e.delete(t))}async function p(){const e=Object.values(l),t=(await caches.keys()).filter(t=>!e.includes(t)),s=await Promise.all(t.map(e=>caches.delete(e))),r=t.filter((e,t)=>!!s[t]),n=t.filter((e,t)=>!s[t]);return{found:r.join(","),notFound:n.join(",")}}},function(e,t,s){"use strict";s.d(t,"b",(function(){return c})),s.d(t,"a",(function(){return l}));var r=s(3),n=s.n(r);function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const i={};function c(e={},t,s){var r=e.appName,n=e[t],a=Date.now(),c=i[t];return e.collectConfigAccess&&(i[t]=o({name:t,boolean:n,firstTime:c?c.firstTime:a,lastTime:a},r&&{appName:r},{},s&&{note:s})),void 0===n?null:n}function l(e={},t,s){var r=e.appName,n=e[t],a=Date.now(),c=i[t];return e.collectConfigAccess&&(i[t]=o({name:t,setting:n,firstTime:c?c.firstTime:a,lastTime:a},r&&{appName:r},{},s&&{note:s})),void 0===n?null:n}},function(e,t,s){"use strict";s.d(t,"c",(function(){return i})),s.d(t,"b",(function(){return c})),s.d(t,"f",(function(){return l})),s.d(t,"d",(function(){return d})),s.d(t,"e",(function(){return E})),s.d(t,"a",(function(){return _}));var r=s(34),n=s.n(r),a=s(0),o=s(8);function i(e){return e&&e.types?e.types[0]:""}function c(e,t={}){let s={};switch(e){case a.Ud.UNREAD:s={keyword:a.Rd.UNREAD,excludefolders:[a.Mb.ARCHIVE],referrer:a.cc[a.Ud.UNREAD]};break;case a.Ud.STARRED:s={keyword:a.Rd.STARRED,referrer:a.cc[a.Ud.STARRED]};break;case a.Ud.PHOTOS:s={listContentType:a.ac.IMAGES,referrer:a.cc[a.Ud.PHOTOS],listFilter:a.bc.ALL_PHOTOS};break;case a.Ud.DOCUMENTS:s={listContentType:a.ac.DOCUMENTS,referrer:a.cc[a.Ud.DOCUMENTS]};break;case a.Ud.COUPONS:s={listContentType:a.ac.COUPON_CARDS,referrer:a.cc[a.Ud.COUPONS],listFilter:a.bc.ALL_COUPON_CARDS};break;case a.Ud.GROCERIES:s={listContentType:a.ac.OFFER_CARDS,referrer:a.cc[a.Ud.GROCERIES],listFilter:a.bc.RECOMMENDED_OFFER_CARDS,name:t.name,keyword:t.keyword||""};break;case a.Ud.RECEIPTS:s={listContentType:a.ac.REFUND_CARDS,referrer:a.cc[a.Ud.RECEIPTS],listFilter:a.bc.ALL_REFUND_CARDS};break;case a.Ud.TRAVEL:s={excludefolders:[a.Mb.TRASH,a.Mb.BULK],listContentType:a.ac.TRAVEL_CARDS,sortOrder:a.Yd.CARD_DATE_ASC,listFilter:a.bc.TRAVEL_VIEW_UPCOMING,referrer:a.cc[a.Ud.TRAVEL]};break;case a.Ud.TRAVEL_PAST:s={excludefolders:[a.Mb.TRASH,a.Mb.BULK],listContentType:a.ac.TRAVEL_CARDS,sortOrder:a.Yd.CARD_DATE_DESC,listFilter:a.bc.TRAVEL_VIEW_PAST,referrer:a.cc[a.Ud.TRAVEL]};break;case a.Ud.TRAVEL_EMAILS:s={keyword:a.Rd.TRAVEL,listContentType:a.ac.MESSAGES,sortOrder:a.Yd.DATE_DESC,referrer:a.cc[a.Ud.TRAVEL]};break;case a.Ud.PEOPLE:s={listFilter:a.bc.PEOPLE,excludefolders:[a.Mb.TRASH,a.Mb.BULK],referrer:a.cc[a.Ud.PEOPLE]};break;case a.Ud.SHOPPING_EMAILS:s={listFilter:a.bc.SHOPPING,excludefolders:[a.Mb.TRASH,a.Mb.BULK],referrer:a.cc[a.Ud.COUPONS]};break;case a.Ud.SUBSCRIPTIONS:s={};break;case a.Ud.SUBSCRIPTION_DETAIL:s={excludefolders:[],referrer:a.cc.SUBSCRIPTIONS};break;case a.Ud.ATTACHMENTS:s={listContentType:a.ac.DOCUMENTS,referrer:a.cc[a.Ud.ATTACHMENTS]};break;case a.Ud.OLDMAIL:s={listFilter:a.bc.OLDMAIL,referrer:a.cc[a.Ud.OLDMAIL]};break;case a.Ud.NEWMAIL:s={listFilter:a.bc.NEWMAIL,referrer:a.cc[a.Ud.NEWMAIL]};break;case a.Ud.SENDER_ROLLUP:s={referrer:a.cc[a.Ud.SENDER_ROLLUP]};break;case a.Ud.COUPON_EMAILS:s={listFilter:a.bc.SHOPPING,excludefolders:[a.Mb.TRASH,a.Mb.BULK],referrer:a.cc[a.Ud.COUPON_EMAILS]}}e===a.Ud.GROCERIES&&t.accountIds&&(t.accountIds=[]);const r=t,o=r.excludefolders;return t=n()(r,["excludefolders"]),s.excludefolders&&o&&(s.excludefolders=o),e!==a.Ud.OLDMAIL&&e!==a.Ud.NEWMAIL&&e!==a.Ud.SENDER_ROLLUP&&delete t.folders,Object.assign(s,t)}function l(e){const t=Object(o.w)(e),s=Object(o.F)(e);return Object(o.P)(e)&&t===a.ac.MESSAGES&&s===a.Sd[a.Ud.TRAVEL]}function d(e){const t=Object(o.F)(e);return Object(o.P)(e)&&t===a.Sd[a.Ud.ATTACHMENTS]}function E(e){const t=Object(o.F)(e);return Object(o.P)(e)&&t===a.Sd[a.Ud.SENDER_ROLLUP]}function _(e){const t=e.split(":");if(2!==t.length)return null;const s=function(e){return Object.keys(a.qb).find(t=>a.qb[t]===e)||null}(t[0]);return s&&a.se.indexOf(s)>-1?{name:s,status:parseInt(t[1],10)||0}:null}},function(e,t,s){"use strict";s.r(t),s.d(t,"makeArray",(function(){return u})),s.d(t,"hasInvalidComposeField",(function(){return p})),s.d(t,"hasInvalidComposeHeader",(function(){return m})),s.d(t,"hasInvalidComposeFields",(function(){return S})),s.d(t,"hasTooFewComposeFields",(function(){return h})),s.d(t,"hasTooManyComposeFields",(function(){return C})),s.d(t,"getInvalidEmails",(function(){return g})),s.d(t,"_getAccountFieldFromSelection",(function(){return O})),s.d(t,"getFromAddress",(function(){return T})),s.d(t,"getFromAddressForReplyForward",(function(){return A})),s.d(t,"getSixDigitHexColor",(function(){return I})),s.d(t,"getInitialFocusRef",(function(){return f})),s.d(t,"addressHTMLString",(function(){return D})),s.d(t,"getCaretCoordinates",(function(){return R})),s.d(t,"getFontSizeStyle",(function(){return b})),s.d(t,"getLocalizedFontFamilyName",(function(){return N})),s.d(t,"isJSONString",(function(){return M})),s.d(t,"buildRecipients",(function(){return y})),s.d(t,"getAttachmentDisposition",(function(){return L})),s.d(t,"extractPidFromString",(function(){return P})),s.d(t,"getFileFromDataURI",(function(){return v}));var r=s(33),n=s.n(r),a=s(16),o=s(47),i=s(29),c=s(2),l=s(55),d=s(0),E=s(81),_=s(37);function u(e){return""===e||null==e?[]:Array.isArray(e)?e.slice(0):[e]}function p(e){const t=e.to,s=e.cc,r=e.bcc,n=g(t,s,r)||[];return n.length?{name:c.COMPOSE_ADDRESSING_FAILED,params:{invalidAddresses:n}}:t&&t.length||s&&s.length||r&&r.length?t.length+s.length+r.length>E.f?{name:c.COMPOSE_RECIPIENT_LIMIT_EXCEEDED}:null:{name:c.COMPOSE_NO_ADDRESS_DETECTED}}function m(e){return S(e)||h(e)||C(e)}function S(e){const t=e.to,s=e.cc,r=e.bcc,n=g(void 0===t?[]:t,void 0===s?[]:s,void 0===r?[]:r)||[];return n.length?{name:c.COMPOSE_ADDRESSING_FAILED,params:{invalidAddresses:n}}:null}function h(e){const t=e.to,s=e.cc,r=e.bcc;return(void 0===t?[]:t).length+(void 0===s?[]:s).length+(void 0===r?[]:r).length<=0?{name:c.COMPOSE_NO_ADDRESS_DETECTED}:null}function C(e){const t=e.to,s=e.cc,r=e.bcc;return(void 0===t?[]:t).length+(void 0===s?[]:s).length+(void 0===r?[]:r).length>E.f?{name:c.COMPOSE_RECIPIENT_LIMIT_EXCEEDED}:null}function g(){let e=[];return Array.prototype.slice.call(arguments).forEach((function(t){e=e.concat(t)})),e.map(({email:e})=>e).filter(e=>!Object(a.isValidEmail)(e))}function O(e,t){let s;const r=Object(o.c)(e);return t&&(s=r.find(({email:e})=>e===t)),s||(s=r.find(({isSending:e})=>!!e)),s||(s=r[0]||e[0]),s}function T(e,t){return O(e,t)}function A(e,t={}){const s=Object(o.c)(e);let r;return["to","cc","bcc"].forEach(e=>{r||(e=new Set(t[e].map(({email:e})=>e)),r=s.find(({email:t})=>e.has(t)))}),r||s.find(({isSending:e})=>!!e)||s.find(({isPrimary:e})=>!!e)||s[0]}function I(e){let t,s;if("number"==typeof e){for(e=e.toString(16);e.length<6;)e="0"+e;e="#"+(e=e.substr(4,2)+e.substr(2,2)+e.substr(0,2))}return"string"==typeof e&&(e.indexOf("rgb")>-1&&(t=e.split("(")[1].split(")")[0],t=t.split(","),s=t.map((function(e){return 1===(e=parseInt(e,10).toString(16)).length?"0"+e:e})),e="#"+s.join("")),4===e.length)?e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:e}function f({focusSubject:e,initialTo:t=[],initialSubject:s=""}){let r=i.FocusableRefs.EDITOR;return e?r=i.FocusableRefs.SUBJECT:0===t.length?r=i.FocusableRefs.TO:0===s.length&&(r=i.FocusableRefs.SUBJECT),r}function D({name:e,email:t}){return e||(e=`"${t}"`),`${e} &lt;${t}&gt;`}function R(e){const t=window.getSelection(),s=e.getBoundingClientRect();let r=0,n=0;if(t&&t.rangeCount){const e=t.getRangeAt(0).cloneRange();if(e.getClientRects){e.collapse(!0);const t=e.getClientRects();if(t.length>0){const e=t[0];r=e.left-s.left,n=e.top-s.top}}if(0===r&&0===n){const t=document.createElement("span");if(t.getClientRects){t.appendChild(document.createTextNode("")),e.insertNode(t);const a=t.getClientRects(),o=t.parentNode;if(a.length>0){const e=a[0];r=e.left-s.left,n=e.top-s.top}o.removeChild(t),o.normalize()}}}return{x:r,y:n}}function b(e){const t=Math.min(Number(e),7),s=E.d.find(e=>e.fontSize===t);return s?s.value:E.c.MEDIUM}function N(e,t=""){const s=_.a["font_family_label_"+t.toLowerCase()];return s?e(s):null}function M(e){try{return JSON.parse(e),!0}catch(e){return!1}}function y(e){return e.reduce((e,t=[])=>e.concat(t.map(({email:e})=>e)),[]).filter(e=>Object(a.isValidEmail)(e))}function L(e){const t=e.type.split("/");let s;return s=t.length>1?Object(l.d)(t[0],t[1]):Object(l.d)(e.type,e.subtype),s===d.F.SimplifiedTypes.IMAGE?d.F.Dispositions.INLINE:d.F.Dispositions.ATTACHMENT}function P(e){const t=/https:\/\/.*?mail.(yahoo|aol).com.*?(?:\?|&)pid=([0-9]*)/i;if(t.test(e)){const s=t.exec(e);return n()(s,3)[2]}return""}function v(e){const t=e.match(/^(data):(.+)?;(.+?),/);if(!t||!window.atob)return null;const s=e.split(",")[1];let r;r="base64"===t[3]?atob(s):window.unescape(s);const n=r.length,a=t[2],o=new Uint8Array(n);for(let e=0;e<n;e++)o[e]=r.charCodeAt(e);const i=new Blob([o],{type:a});return i.name="dataURI-"+Date.now(),i.lastModifiedDate=new Date,i.isFromDataURI=!0,i}},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(9);const n=Object(r.d)(["TopLeft","TopCenter","TopRight","CenterLeft","CenterCenter","CenterRight","BottomLeft","BottomCenter","BottomRight"])},function(e,t,s){"use strict";var r=s(6);t.a=Object(r.defineMessages)({all_mail_title:{id:"advanced_search.all_mail_title",defaultMessage:"All mail"},unknown_folder_title:{id:"advanced_search.unknown_folder_title",defaultMessage:"Unknown Folder"},system_folder_label:{id:"advanced_search.system_folder_label",defaultMessage:"Select this system folder for searching"},custom_folder_label:{id:"advanced_search.custom_folder_label",defaultMessage:"Select this custom folder for searching"},yahoo_account_description:{id:"advanced_search.yahoo_brand_name",defaultMessage:"Yahoo"},gmail_account_description:{id:"advanced_search.gmail_brand_name",defaultMessage:"Gmail"},aol_account_description:{id:"advanced_search.aol_brand_name",defaultMessage:"Aol"},outlook_account_description:{id:"advanced_search.outlook_brand_name",defaultMessage:"Outlook"},unknown_account_description:{id:"advanced_search.unknown_account_description",defaultMessage:"Unknown"}})},function(e,t,s){"use strict";s.d(t,"s",(function(){return c})),s.d(t,"n",(function(){return l})),s.d(t,"e",(function(){return d})),s.d(t,"f",(function(){return E})),s.d(t,"d",(function(){return _})),s.d(t,"p",(function(){return u})),s.d(t,"o",(function(){return p})),s.d(t,"r",(function(){return m})),s.d(t,"q",(function(){return S})),s.d(t,"b",(function(){return h})),s.d(t,"c",(function(){return C})),s.d(t,"i",(function(){return g})),s.d(t,"j",(function(){return O})),s.d(t,"l",(function(){return T})),s.d(t,"k",(function(){return A})),s.d(t,"h",(function(){return I})),s.d(t,"g",(function(){return f})),s.d(t,"a",(function(){return D})),s.d(t,"m",(function(){return R}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>i({type:a.IMPORTANT_CONTACTS_FETCH_SUCCEEDED},e),l=e=>i({type:a.IMPORTANT_CONTACTS_FETCH_FAILED},e),d=e=>i({type:a.CONTACT_DETAIL_FETCH_REQUESTED},e),E=e=>i({type:a.CONTACT_DETAIL_FETCH_SUCCEEDED},e),_=e=>i({type:a.CONTACT_DETAIL_FETCH_FAILED},e),u=e=>i({type:a.CONTACTS_GROUP_FETCH_SUCCEEDED},e),p=e=>i({type:a.CONTACTS_GROUP_FETCH_FAILED},e),m=e=>i({type:a.CONTACTS_LIST_FETCH_SUCCEEDED},e),S=e=>i({type:a.CONTACTS_LIST_FETCH_FAILED},e),h=e=>i({type:a.DELETE_CONTACT_SUCCEEDED},e),C=e=>i({type:a.DELETE_CONTACT_FAILED},e),g=e=>i({type:a.CONTACTS_GROUP_DELETE_SUCCEEDED},e),O=e=>i({type:a.CONTACTS_GROUP_DELETE_FAILED},e),T=e=>i({type:a.CONTACTS_PANE_SAVE_GROUP_SUCCEEDED},e),A=e=>i({type:a.CONTACTS_PANE_SAVE_GROUP_FAILED},e),I=e=>i({type:a.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED},e),f=e=>i({type:a.CONTACTS_PANE_CREATE_GROUP_FAILED},e),D=e=>i({type:a.ADD_TO_CONTACTS},e);function R(e){return i({type:a.EDIT_CONTACT_FROM_CARD},e)}},function(e,t,s){"use strict";s.d(t,"e",(function(){return n})),s.d(t,"d",(function(){return a})),s.d(t,"b",(function(){return o})),s.d(t,"c",(function(){return i})),s.d(t,"f",(function(){return c})),s.d(t,"a",(function(){return l})),s.d(t,"g",(function(){return d}));var r=s(9);const n=[{name:"modern",label:"Modern",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},{name:"modernwide",label:"Modern Wide",fontFamily:"verdana, helvetica, sans-serif"},{name:"classic",label:"Classic",fontFamily:'"times new roman", "new york", times, serif'},{name:"classicwide",label:"Classic Wide",fontFamily:'"bookman old style", "new york", times, serif'},{name:"courier",label:"Courier New",fontFamily:'"courier new", courier, monaco, monospace, sans-serif'},{name:"garamond",label:"Garamond",fontFamily:'garamond, "new york", times, serif'},{name:"lucida",label:"Lucida Console",fontFamily:'"lucida console", sans-serif'}],a=[{name:"tiny",fontSize:1,value:"10px"},{name:"small",fontSize:2,value:"13px"},{name:"medium",fontSize:3,value:"16px"},{name:"large",fontSize:5,value:"24px"},{name:"xlarge",fontSize:6,value:"32px"},{name:"huge",fontSize:7,value:"48px"}],o={10:"1",13:"2",16:"3",24:"5",32:"6",48:"7"},i={TINY:"10px",SMALL:"13px",MEDIUM:"16px",LARGE:"24px",XLARGE:"32px",HUGE:"48px"},c=300,l={EDITOR:"editor",FROM:"from",TO:"to",SUBJECT:"subject",CC:"cc",BCC:"bcc"},d=Object(r.d)(["SENDING","SENT","SEND_FAILED"])},function(e,t,s){"use strict";s.d(t,"H",(function(){return c})),s.d(t,"I",(function(){return l})),s.d(t,"B",(function(){return d})),s.d(t,"C",(function(){return E})),s.d(t,"M",(function(){return _})),s.d(t,"O",(function(){return u})),s.d(t,"N",(function(){return p})),s.d(t,"J",(function(){return m})),s.d(t,"L",(function(){return S})),s.d(t,"K",(function(){return h})),s.d(t,"h",(function(){return C})),s.d(t,"j",(function(){return g})),s.d(t,"i",(function(){return O})),s.d(t,"D",(function(){return T})),s.d(t,"F",(function(){return A})),s.d(t,"E",(function(){return I})),s.d(t,"k",(function(){return f})),s.d(t,"m",(function(){return D})),s.d(t,"l",(function(){return R})),s.d(t,"b",(function(){return b})),s.d(t,"g",(function(){return N})),s.d(t,"z",(function(){return M})),s.d(t,"y",(function(){return y})),s.d(t,"A",(function(){return L})),s.d(t,"a",(function(){return P})),s.d(t,"c",(function(){return v})),s.d(t,"r",(function(){return F})),s.d(t,"s",(function(){return U})),s.d(t,"w",(function(){return w})),s.d(t,"v",(function(){return G})),s.d(t,"u",(function(){return H})),s.d(t,"x",(function(){return j})),s.d(t,"t",(function(){return k})),s.d(t,"p",(function(){return x})),s.d(t,"q",(function(){return B})),s.d(t,"G",(function(){return V})),s.d(t,"o",(function(){return W})),s.d(t,"n",(function(){return K})),s.d(t,"e",(function(){return q})),s.d(t,"f",(function(){return Y})),s.d(t,"d",(function(){return z}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>i({type:a.SETTINGS_MENU_REQUESTED},e),l=e=>i({type:a.SETTINGS_POPOVER_AUTOOPEN_CHANGED},e),d=e=>i({type:a.OPT_OUT_OF_NORRIN},e),E=e=>i({type:a.OPT_OUT_CANCEL_FEEDBACK},e),_=e=>i({type:a.SETTINGS_LOCATION_CHANGE_REQUESTED},e),u=e=>i({type:a.SETTINGS_LOCATION_CHANGE_SUCCEEDED},e),p=e=>i({type:a.SETTINGS_LOCATION_CHANGE_FAILED},e),m=e=>i({type:a.CONVERSATIONS_CHANGE_REQUESTED},e),S=e=>i({type:a.CONVERSATIONS_CHANGE_SUCCEEDED},e),h=e=>i({type:a.CONVERSATIONS_CHANGE_FAILED},e),C=e=>i({type:a.ALIAS_EMAIL_CREATE_REQUESTED},e),g=e=>i({type:a.ALIAS_EMAIL_CREATE_SUCCEEDED},e),O=e=>i({type:a.ALIAS_EMAIL_CREATE_FAILED},e),T=e=>i({type:a.CONFIRM_EMAIL_RESEND_REQUESTED},e),A=e=>i({type:a.CONFIRM_EMAIL_RESEND_SUCCEEDED},e),I=e=>i({type:a.CONFIRM_EMAIL_RESEND_FAILED},e),f=e=>i({type:a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED},e),D=e=>i({type:a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED},e),R=e=>i({type:a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED},e),b=e=>i({type:a.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED},e),N=e=>i({type:a.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_DELETE},e),M=e=>i({type:a.ACCOUNT_ADD_FINISHED},e),y=e=>i({type:a.ACCOUNT_ADD_ERROR},e),L=e=>i({type:a.ACCOUNT_ADD_WIZARD_OPENED},e),P=e=>i({type:a.ACCOUNT_ADD_SELECT_PROVIDER},e),v=e=>i({type:a.ACCOUNT_SETTINGS_CANCEL},e),F=e=>i({type:a.FEEDBACK_SUBMITTED},e),U=e=>i({type:a.ABOUT_OUR_ADS_PAGE_REQUESTED},e),w=e=>i({type:a.PRIVACY_TERMS_PAGE_REQUESTED},e),G=e=>i({type:a.HELP_PAGE_REQUESTED},e),H=e=>i({type:a.ADFREE_MAIL_PAGE_REQUESTED},e),j=e=>i({type:a.NAVIGATE_TO_WIDER_PROMO},e),k=e=>i({type:a.ABOUT_YAHOO_MAIL_PAGE_REQUESTED},e),x=e=>i({type:a.SETTINGS_BLOCKED_SENDERS_REQUESTED},e),B=e=>i({type:a.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_REQUESTED},e),V=({i13nModel:e={}})=>({type:a.SECURITY_SUBSCRIPTIONS_UPSELL_CLICKED,i13nModel:e}),W=e=>i({type:a.SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED},e),K=e=>i({type:a.SETTINGS_ENHANCE_CONTACTS_FETCH_FAILED},e),q=e=>i({type:a.SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED},e),Y=e=>i({type:a.SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED},e),z=e=>i({type:a.SETTINGS_ENHANCE_CONTACTS_CHANGE_FAILED},e)},function(e,t,s){"use strict";s.d(t,"f",(function(){return _})),s.d(t,"c",(function(){return u})),s.d(t,"b",(function(){return p})),s.d(t,"a",(function(){return m})),s.d(t,"h",(function(){return S})),s.d(t,"g",(function(){return h})),s.d(t,"d",(function(){return C})),s.d(t,"e",(function(){return g}));var r=s(53),n=s.n(r),a=s(0),o=s(5),i=s(2),c=s(9),l=s(223);const d=["atwMN","atwKV","atwCrPr"],E={[`${a.t.IMPACT_RADIUS}+${a.N.YAHOO}+en-US`]:"subId1=mail&subId2=1",[`${a.t.IMPACT_RADIUS}+${a.N.YAHOO}+intl`]:"subId1=mail&subId2=2",[`${a.t.IMPACT_RADIUS}+${a.bd.ATT}+en-US`]:"subId1=mail&subId2=3",[`${a.t.IMPACT_RADIUS}+${a.bd.ATT}+intl`]:"subId1=mail&subId2=4",[`${a.t.AWIN}+${a.N.YAHOO}+en-US`]:"&clickref=1",[`${a.t.AWIN}+${a.N.YAHOO}+intl`]:"&clickref=2",[`${a.t.AWIN}+${a.bd.ATT}+en-US`]:"&clickref=3",[`${a.t.AWIN}+${a.bd.ATT}+intl`]:"&clickref=4",[`${a.t.PRICE_GRABBER}+${a.N.YAHOO}+en-US`]:"&af_placement_id=1&af_campaign_id=yahoo_mail&af_rid=card_interact",[`${a.t.PRICE_GRABBER}+${a.N.YAHOO}+intl`]:"&af_placement_id=2&af_campaign_id=yahoo_mail&af_rid=card_interact",[`${a.t.PRICE_GRABBER}+${a.bd.ATT}+en-US`]:"&af_placement_id=3&af_campaign_id=yahoo_mail&af_rid=card_interact",[`${a.t.PRICE_GRABBER}+${a.bd.ATT}+intl`]:"&af_placement_id=4&af_campaign_id=yahoo_mail&af_rid=card_interact",[`${a.t.SKIM_LINK}+${a.N.YAHOO}+en-US`]:"&xcust=1",[`${a.t.SKIM_LINK}+${a.N.YAHOO}+intl`]:"&xcust=2",[`${a.t.SKIM_LINK}+${a.bd.ATT}+en-US`]:"&xcust=3",[`${a.t.SKIM_LINK}+${a.bd.ATT}+intl`]:"&xcust=4",[`${a.t.VIG_LINK}+${a.N.YAHOO}+en-US`]:a.He,[`${a.t.VIG_LINK}+${a.N.YAHOO}+intl`]:a.Ge,[`${a.t.VIG_LINK}+${a.bd.ATT}+en-US`]:a.i,[`${a.t.VIG_LINK}+${a.bd.ATT}+intl`]:a.h};function _(e,t){switch(t){case a.rd.FOLDER:return e.launchFolder;case a.rd.NEW_DRAFT:case a.rd.EDIT_DRAFT:return e.launchCompose;case a.rd.MESSAGE_FROM_FOLDER_LIST:return e.launchMessage;default:return e.root}}const u=({affiliateService:e="viglink",awinMerchantId:t="",impactRadiusWrappingUrl:s="",url:r,userTracker:n=""})=>{if(!r)return r;switch(e){case a.t.IMPACT_RADIUS:{const e=s.indexOf("?")>-1?"&":"?";return`${s}${e}${n}&u=${encodeURIComponent(r)}`}case a.t.AWIN:return`https://www.awin1.com/cread.php?awinmid=${t}&awinaffid=${a.j}${n}&p=${encodeURIComponent(r)}`;case a.t.PRICE_GRABBER:return`http://link.sylikes.com/?publisherId=${a.Xc}&url=${encodeURIComponent(r)}${n}`;case a.t.SKIM_LINK:return`https://go.skimresources.com?id=${a.ud}&url=${encodeURIComponent(r)}&sref=inbox-shopping${n}`;default:return`https://redirect.viglink.com?u=${encodeURIComponent(r)}&key=${n}`}},p=({affiliateLink:e,domainMap:t,email:s,features:r,locale:n,partner:o})=>{var i,c;const d=((e,t,s)=>{if(!e)return-1!==s.indexOf(a.t.VIG_LINK)?{affiliatePartnerName:a.t.VIG_LINK,domain:""}:{};let r,n=Object(l.a)(t).domainPart;const o=n.split(".");for(let t=o.length-2;t>=0;t--){var i;if("co"!==o[t]&&"com"!==o[t]&&(n=o[t]+".com",null==e||null===(i=e.affiliateDomains)||void 0===i?void 0:i[n])){r=e.affiliateDomains[n];break}}return-1!==s.indexOf(a.t.AWIN)&&6===r?{affiliatePartnerName:a.t.AWIN,domain:n}:-1!==s.indexOf(a.t.PRICE_GRABBER)&&1===r?{affiliatePartnerName:a.t.PRICE_GRABBER,domain:n}:-1!==s.indexOf(a.t.SKIM_LINK)&&2===r?{affiliatePartnerName:a.t.SKIM_LINK,domain:n}:-1!==s.indexOf(a.t.IMPACT_RADIUS)&&5===r?{affiliatePartnerName:a.t.IMPACT_RADIUS,domain:n}:-1!==s.indexOf(a.t.VIG_LINK)?{affiliatePartnerName:a.t.VIG_LINK,domain:n}:{affiliatePartnerName:"",domain:""}})(t,s.toLowerCase(),r),_=d.affiliatePartnerName,p=d.domain,m=((e,t,s)=>{const r=s?"att":"yahoo";return E["en-US"===t?`${e}+${r}+en-US`:`${e}+${r}+intl`]})(_,n,o),S=(null==t||null===(i=t.impactRadiusUrls)||void 0===i?void 0:i[p])||"",h=(null==t||null===(c=t.awinMerchantIds)||void 0===c?void 0:c[p])||"";return{affiliatePartnerName:_,affiliatePartnerUrl:u({affiliateService:_,awinMerchantId:h,impactRadiusWrappingUrl:S,url:e,userTracker:m})}},m=Object(c.d)([i.WINDOW_RESIZED,i.AD_FEEDBACK_CLOSED,i.MESSAGE_CARD_EXPANSION_CHANGED,i.PREVIEW_MESSAGE_REQUESTED,i.ITEM_LIST_PAGE_SCROLLED,i.DELETE_ITEMS_REQUESTED,i.SEND,i.RESPOND_TO_INVITE,i.V3_MESSAGE_SEND_REQUESTED,i.SEARCH_LIST_ITEMS_REQUESTED,i.SEARCH_LIST_ITEMS_BLOCK_RECEIVED,i.MESSAGE_READ_AD_ROTATION_TIMER,i.ADFREE_UPSELL_CANCEL,i.SETTINGS_MENU_CLOSED,i.CONFIRM_DELETE_DIALOG_CLOSED,i.MOVE_ITEMS_REQUESTED,i.LAUNCH_COMPLETED,i.ROTATE_AD_ON_LIST_SCROLL,i.FLASH_SALE_AD_ENDED]),S=e=>{switch(e.type){case i.APPLICATION_VISIBILITY_DID_CHANGE:return e.isVisible;case i.RIGHT_RAIL_COMMS_ICON_CLICKED:return e.isPaneVisible;case i.OPEN_PAGE_REQUESTED:return e.route.name!==a.rd.SPONSORED_MESSAGE||e.route.name!==a.rd.PORTRAIT_AD;case i.STREAM_CURSOR_MOVED:return e.previewPane!==a.ed.NO;case i.ONLINE_STATUS_CHANGED:return e.online&&e.rotateAdsOnline;case i.SYNC_DATA:return e.forceSync&&Object(c.b)(e,"i13nModel.mKey",null)===o.g.PULL_TO_REFRESH;case i.CHECK_MAIL_RECEIVED_WITH_UPDATES:case i.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES:return e.rotateAds;case i.MESSAGE_READ_AD_ROTATION_TIMER:return!1;default:return!!m[e.type]}},h=e=>{let t="";return"nz"===e?t="https://secure-nz.imrworldwide.com/cgi-bin/m?ci=nz-yahoo&rnd=${rand}&cg=0&si=${curPage}&rp=${prevPage}&cc=1":"au"===e&&(t="https://secure-au.imrworldwide.com/cgi-bin/m?ci=yahoo-au&rnd=${rand}&cg=0&si=${curPage}&rp=${prevPage}&cc=1"),t},C=(e,t)=>{const s={};return t.query&&Object.keys(t.query).forEach(e=>{-1!==d.indexOf(e)&&(s[e]=t.query[e])}),Object.keys(s).length?`https://${e}?${n.a.stringify(s)}`:"https://"+e},g=(e={},t=[],s={})=>{const r=e.darlaGeminiArbitration,n=s.hostname;let a=[];return void 0!==r&&r&&(a=a.concat((e=>{const t=["geminifed=1"];return"e2e.fc.yahoo.com"===e&&t.push("devtemplate=1"),t})(void 0===n?"":n))),t.length&&a.push((e=>"y-bucket="+e.join(","))(t)),a.join(" ")}},function(e,t,s){"use strict";s.d(t,"m",(function(){return m})),s.d(t,"c",(function(){return S})),s.d(t,"e",(function(){return h})),s.d(t,"d",(function(){return C})),s.d(t,"i",(function(){return g})),s.d(t,"h",(function(){return O})),s.d(t,"k",(function(){return T})),s.d(t,"j",(function(){return A})),s.d(t,"b",(function(){return I})),s.d(t,"a",(function(){return f})),s.d(t,"o",(function(){return D})),s.d(t,"q",(function(){return R})),s.d(t,"p",(function(){return b})),s.d(t,"s",(function(){return N})),s.d(t,"t",(function(){return M})),s.d(t,"n",(function(){return y})),s.d(t,"r",(function(){return L})),s.d(t,"l",(function(){return P})),s.d(t,"g",(function(){return v})),s.d(t,"f",(function(){return F}));var r=s(3),n=s.n(r),a=s(2),o=s(10),i=s(0),c=s(16),l=s(5),d=s(44),E=s(368),_=s(8);function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function p(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const m=e=>p({type:a.PREVIEW_MESSAGE_REQUESTED},e),S=e=>p({type:a.FETCH_RAW_MESSAGE},e),h=e=>p({type:a.FETCH_RAW_MESSAGE_SUCCEEDED},e),C=e=>p({type:a.FETCH_RAW_MESSAGE_FAILED},e);function g(e){return p({type:a.MESSAGE_BODIES_RECEIVED},e)}function O(e){return p({type:a.MESSAGE_BODIES_FAILED},e)}function T(e){return p({type:a.MESSAGE_GROUP_WITH_BODIES_RECEIVED},e)}function A(e){return p({type:a.MESSAGE_GROUP_WITH_BODIES_FAILED},e)}const I=e=>t=>{const s=e.itemsToUpdate,r=s.length?s[s.length-1]:void 0;return t(p({},e,{streamItem:{listId:r.listId,id:r.messageId},type:a.MESSAGE_CARD_EXPANSION_CHANGED}))},f=e=>(t,s)=>{const r=e.listId,n=e.streamId,i=e.messageGroupId,c=e.expansionState,l=Object(o.selectors)(s()),d=l.getMessageGroupStreamItems,E=l.getCursorItem,_=(0,l.doesStreamExist)(n)?E(n):void 0,u=i?{id:i,listId:r}:_;if(!u)return;return t({itemsToUpdate:d(u).map(e=>p({},e,{expansionState:c})),type:a.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED})},D=e=>p({type:a.MESSAGE_PRINT_CANCELED},e),R=e=>p({type:a.MESSAGE_PRINT_SUCCEEDED},e),b=e=>p({type:a.MESSAGE_PRINT_CLOSED},e),N=({i13nModel:e,streamId:t,composeMode:s,listId:r,triggeredFromContextMenu:n=!1,streamItem:l})=>(d,E)=>{const _=Object(o.selectors)(E()),u=_.__getLastNonDraftMessageIdByGroupId,p=_.__getMessageWithFlagsAndFolderId,m=_.doesMessageBodyExist,S=_.findReplyForwardCsidsOfMessage,h=_.getMessageBodiesSelectors,C=_.getDraftMessageId,g=_.isSent,O=_.isFeatureEnabled,T=_.getCursorItem,A=(0,_.doesStreamExist)(t)?T(t):void 0,I=l||A;if(!I)return;const f=u(I.id),D=p(f),R=O(i.Eb.CONVERSATIONS),b=(S(f)||[]).filter(e=>!C(e)&&!g(e)),N=b.length?b[0]:Object(c.generateUID)(),M=h().get;return d({type:a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,i13nModel:e,csid:N,listId:r,composeMode:s,messageGroupId:I.id,conversationsMode:R,streamId:t,groupId:I.id,messageId:f,triggeredFromContextMenu:n,secure:!1,full:!0,message:Object.assign({},D,{id:f,body:m(f)?M(f):void 0})})},M=({i13nModel:e,streamId:t,composeMode:s,listId:r,messageGroupId:n,messageId:l})=>(d,E)=>{const _=Object(o.selectors)(E()),u=_.doesMessageBodyExist,p=_.findReplyForwardCsidsOfMessage,m=_.getMessageBodiesSelectors,S=_.getDraftMessageId,h=_.isSent,C=_.isFeatureEnabled,g=(0,_.__getMessageWithFlagsAndFolderId)(l),O=C(i.Eb.CONVERSATIONS),T=(p(l)||[]).filter(e=>!S(e)&&!h(e)),A=T.length?T[0]:Object(c.generateUID)(),I=m().get;return d({type:a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,i13nModel:e,csid:A,listId:r,composeMode:s,messageGroupId:n,conversationsMode:O,streamId:t,groupId:n,messageId:l,secure:!1,full:!0,message:Object.assign({},g,{id:l,body:u(l)?I(l):void 0})})},y=({i13nModel:e,messageGroupId:t,message:s})=>(r,n)=>{const c=Object(o.selectors)(n()),l=c.getMessageBodiesSelectors,d=c.isFeatureEnabled,E=(0,c.getCurrentListId)(),_=l().isSecureMessage,u=d(i.Kd.SHOW_IMAGES),p=s.id||s.messageId;return r({type:a.MESSAGE_PRINT_REQUESTED,i13nModel:e,messageGroupId:t,mId:p,listId:E,messageId:p,full:!0,secure:_(p)&&u})},L=({streamId:e,listId:t,groupId:s,i13nModel:r})=>(n,c)=>{const l=Object(o.selectors)(c()),d=l.doesStreamExist,E=l.getSelectedStreamItems,_=l.getCursorItem,u=l.getMessageBodiesSelectors,p=l.isFeatureEnabled,m=l.__getLastNonDraftMessageIdByGroupId,S=d(e)?E(e):[],h=d(e)?_(e):void 0;let C;if(s)C=s;else if(S.length>0)C=S[0].id;else{if(!h)return;C=h.id}const g=u().isSecureMessage,O=p(i.Kd.SHOW_IMAGES),T=m(C);return n({type:a.MESSAGE_PRINT_REQUESTED,i13nModel:r,messageGroupId:C,mId:T,listId:t,messageId:T,full:!0,secure:g(T)&&O})},P=({listId:e,streamId:t,messageRoute:s,groupId:r,senders:n,i13nModel:a})=>(c,_)=>{const u=Object(o.selectors)(_()),S=u.isFeatureEnabled,h=(0,u.getSetting)(i.Kd.PREVIEW_PANE),C=S(i.Eb.GEMINI_CONTEXTUAL_ADS),g=p({mKey:l.g.OPEN_MSG,sec:l.i.MSG_LIST_MSG,mKeyGroup:l.h.openMsg},a);return c(h===i.ed.NO?Object(d.j)({route:s,streamItem:{listId:e,id:r},i13nModel:p({},g)}):m({listId:e,itemId:r,streamId:t,streamItem:{listId:e,id:r},i13nModel:p({},g),geminiCategories:C?Object(E.a)(n):null}))},v=({linkTarget:e,messageId:t,message:s})=>{const r=e.getAttribute("href");let n=e.innerText||"";for(let t=0;t<e.childElementCount;t++)if("IMG"===e.children[t].tagName&&e.children[t].alt){n=e.children[t].alt;break}if(n=n.trim().slice(0,256),e.hasAttribute("class")&&-1!==e.getAttribute("class").indexOf("yahoo-enhancr-cardlink")){const o=e.parentNode&&e.parentNode.hasAttribute("data-size")?e.parentNode.getAttribute("data-size").toUpperCase():"";return{type:a.LINK_ENHANCER_OPEN_LINK,message:s,messageId:t,i13nModel:{mKey:l.g.LINK_ENHANCER_OPEN_LINK,sec:l.i.MSG_BODY,mKeyGroup:l.h.clickMsgLink,actionData:{mHref:r,size:o,linkText:n}}}}return{type:a.MESSAGE_BODY_LINK_CLICKED,message:s,messageId:t,i13nModel:{mKey:l.g.OPEN_LINK,sec:l.i.MSG_BODY,mKeyGroup:l.h.clickMsgLink,actionData:{mHref:r,linkText:n}}}},F=({listId:e,card:t})=>{const s=t.messageId,r=t.csid,n=t.streamId,o=t.folderType,c=Object(_.gb)(e,{listContentType:o===i.Mb.DRAFT?i.ac.COMPOSE:i.ac.MESSAGE});return{type:a.MESSAGE_CARD_FOCUSED,streamId:n,streamItem:{id:s||r,listId:c},card:t}}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(6),c=s(210);const l=Object(i.defineMessages)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptLabel:{id:"confirm.accept",defaultMessage:"OK"},defaultCancelLabel:{id:"confirm.cancel",defaultMessage:"Cancel"}});class d extends o.a.Component{render(){const e=this.props,t=e.onAbort,s=e.wideContainer;return o.a.createElement(c.a,{primaryButtonLabel:e.acceptLabel,secondaryButtonLabel:e.cancelLabel,hideIcon:e.hideIcon,title:e.title,customTitle:e.customTitle,showCustomTitle:e.showCustomTitle,message:e.message,onPrimaryButtonClick:e.onConfirm,onSecondaryButtonClick:t,onClose:t,onOuterClick:e.onOuterClick,wideContainer:void 0!==s&&s,disablePrimaryButton:e.disablePrimaryButton},this.props.children)}}n()(d,"contextTypes",{intl:i.intlShape.isRequired}),n()(d,"defaultProps",{acceptLabel:l.defaultAcceptLabel,cancelLabel:l.defaultCancelLabel,showCustomTitle:!1,hideIcon:!1,disablePrimaryButton:!1}),t.a=d},function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return n})),s.d(t,"g",(function(){return a})),s.d(t,"f",(function(){return o})),s.d(t,"e",(function(){return i})),s.d(t,"d",(function(){return c})),s.d(t,"c",(function(){return l}));const r="INDENTATION_NORMAL",n="INDENTATION_NONE",a="TOPFOLDER_WITH_ICON",o="TOPFOLDER_WITHOUT_ICON",i="SUBFOLDER_WITH_ICON",c="SUBFOLDER_WITHOUT_ICON",l="PLACE_AT_TOP_LEVEL"},function(e,t,s){"use strict";s.d(t,"h",(function(){return r})),s.d(t,"i",(function(){return n})),s.d(t,"a",(function(){return a})),s.d(t,"d",(function(){return o})),s.d(t,"e",(function(){return i})),s.d(t,"c",(function(){return c})),s.d(t,"b",(function(){return l})),s.d(t,"f",(function(){return d})),s.d(t,"n",(function(){return E})),s.d(t,"k",(function(){return _})),s.d(t,"j",(function(){return u})),s.d(t,"m",(function(){return p})),s.d(t,"l",(function(){return m})),s.d(t,"g",(function(){return S}));const r="&id=",n="&partner=",a="&actp=productlink",o="https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL_WEB&locale=",i="https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL&locale=",c="https://help.yahoo.com/kb/index?page=product&y=PROD_MAIL_WEB&locale=",l="/articles/",d="https://help.aol.com/products/aol-mail",E={"de-DE":"de_DE","de-AT":"de_AT","en-AU":"en_AU","en-CA":"en_CA","en-GB":"en_GB","en-IN":"en_IN","en-JO":"en_JO","en-MY":"en_MY","en-NZ":"en_NZ","en-PH":"en_PH","en-SG":"en_SG","en-US":"en_US","en-ZA":"en_ZA","es-AR":"es_ES","es-CL":"es_ES","es-CO":"es_ES","es-ES":"es_ES","es-MX":"es_ES","es-PE":"es_ES","es-US":"es_US","es-VE":"es_ES","fr-FR":"fr_FR","fr-BE":"fr_BE","fr-CA":"fr_CA","id-ID":"id_ID","it-IT":"it_IT","pt-BR":"pt_BR","vi-VN":"vi_VN","zh-Hant-TW":"zh_TW","zh-Hant-HK":"zh_HK"},_={"en-US":"https://help.aol.com","en-GB":"https://help.aol.com","de-DE":"https://hilfe.aol.de","fr-FR":"https://assistance.aol.fr"},u={"en-US":d,"en-GB":d,"de-DE":"https://hilfe.aol.de/products/aol-mail","fr-FR":"https://assistance.aol.fr/products/aol-mail-et-calendrier"},p={SLN22036:"SLN28884",SLN4992:"SLN28885",SLN26611:"SLN28838",SLN28055:"SLN28824",SLN28056:"SLN28813",SLN5283:"SLN28886",SLN28068:"SLN28808",SLN28071:"SLN28825",SLN6265:"SLN28887",SLN26757:"SLN28888",SLN25582:"SLN28889",SLN8271:"SLN28890",SLN29133:"SLN29134"},m={SLN22036:{"en-US":"change-your-reply-to-address-in-new-aol-mail"},SLN4992:{"en-US":"add-or-update-aol-account-recovery-information"},SLN15953:{"en-US":"send-messages-from-or-delete-an-extra-email-address"},SLN2059:{"en-US":"account-management-managing-your-aol-username"},SLN26611:{"en-US":"turn-desktop-notifications-on-or-off-for-new-aol-mail"},SLN28055:{"en-US":"manage-conversations-in-new-aol-mail"},SLN28056:{"en-US":"aol-mail-spam-and-privacy"},SLN5283:{"en-US":"can-i-access-aol-mail-from-another-computer"},SLN28071:{"en-US":"use-filters-to-sort-and-organize-messages-in-new-aol-mail"},SLN6265:{"en-US":"email-incorrectly-delivered-to-the-trash-folder"},SLN26757:{"en-US":"reauthorize-linkedin-connection-in-new-aol-mail"},SLN25582:{"en-US":"manage-contact-cards-and-social-networks-in-new-aol-mail"}},S={VIEWMAIL:"/img/viewing_email.png",NOTIFICATIONS:"/img/notification.gif",VACATION_RESPONSE:"/img/vacation_response.png",FILTER:"/img/filters.png",SOCIAL:"/img/social_accounts.png",ACCOUNTS:"/img/accounts.png",CATEGORIZATION:"/img/categorization.png"}},function(e,t,s){"use strict";s.d(t,"n",(function(){return I})),s.d(t,"o",(function(){return f})),s.d(t,"a",(function(){return D})),s.d(t,"b",(function(){return R})),s.d(t,"s",(function(){return b})),s.d(t,"t",(function(){return N})),s.d(t,"e",(function(){return M})),s.d(t,"c",(function(){return y})),s.d(t,"j",(function(){return L})),s.d(t,"g",(function(){return P})),s.d(t,"k",(function(){return v})),s.d(t,"h",(function(){return F})),s.d(t,"i",(function(){return U})),s.d(t,"m",(function(){return w})),s.d(t,"f",(function(){return G})),s.d(t,"l",(function(){return H})),s.d(t,"q",(function(){return B})),s.d(t,"v",(function(){return V})),s.d(t,"r",(function(){return W})),s.d(t,"d",(function(){return K})),s.d(t,"u",(function(){return q})),s.d(t,"p",(function(){return Y}));var r=s(3),n=s.n(r),a=s(2),o=s(0),i=s(41),c=s(8),l=s(66),d=s(16),E=s(10),_=s(48);function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function p(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function m(e,t){const s=(0,Object(E.selectors)(e.store.getState()).getFeaturesSelectors)();return t.length>=s.getSetting("bulkActionDialogThreshold")}function S(e,{sourceListId:t,fromMessageGroupView:s,destinationFolderId:r,messageIds:n,messageGroupIds:i,nextGroupId:c,streamId:l,streamItem:d,i13nModel:_}){const u=i.length,S=m(e,i),h=(0,Object(E.selectors)(e.store.getState()).getFeaturesSelectors)().isEnabled(o.Eb.CONVERSATIONS);if(0===(n=T(e,t,r,n,s)).length)return;const C={triageActionType:o.ye.MOVE_SELECTED_ITEMS,count:u,conversations:h};e.dispatch(a.MOVE_ITEMS_REQUESTED,{messageIds:n,destinationFolderId:r,isAsync:S,count:u,folderId:r,conversations:h,nextGroupId:c,listId:t,streamId:l,streamItem:d,i13nModel:_,triageActionType:o.ye.MOVE_SELECTED_ITEMS,isV2Action:!0,fromMessageGroupView:s,checkForDuplicates:i.length<=o.kb,successAction:p({type:a.UPDATE_ITEMS_SUCCEEDED},{triageActionType:o.ye.MOVE_SELECTED_ITEMS,count:u,conversations:h,folderId:r}),failureAction:p({type:a.UPDATE_ITEMS_FAILED},C)})}function h(e,{messageIds:t,sourceListId:s,fromMessageGroupView:r,destinationFolderType:n,flags:a,isAsync:o,checkForDuplicates:i}){const c=(0,Object(E.selectors)(e.store.getState()).__getFolderIdMapFromFolderType)(t,n);return Object.keys(c).map(t=>{let n=c[t];return n=T(e,s,t,n,r),Object.assign({destinationFolderId:t,messageIds:n,checkForDuplicates:i,isAsync:o},a&&{flags:a})})}function C(e,{sourceListId:t,streamId:s,streamItem:r,i13nModel:n,fromMessageGroupView:i,destinationFolderType:c,messageIds:l,messageGroupIds:d,flags:_,triageActionType:u,checkForDuplicates:p}){const S=m(e,d),C=h(e,{sourceListId:t,destinationFolderType:c,messageIds:l,messageGroupIds:d,fromMessageGroupView:i,flags:_,isAsync:S,checkForDuplicates:p});if(0===(l=C.reduce((function(e,t){return e.concat(t.messageIds)}),[])).length)return;const g=d.length,O=(0,Object(E.selectors)(e.store.getState()).getFeaturesSelectors)().isEnabled(o.Eb.CONVERSATIONS);e.dispatch(a.MOVE_ITEMS_REQUESTED,{messageIds:l,destinationFolderType:c,isAsync:S,i13nModel:n,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,triageActionType:u,count:g,conversations:O},failureAction:{type:a.UPDATE_ITEMS_FAILED,triageActionType:u,count:g,conversations:O},count:g,conversations:O,listId:t,fromMessageGroupView:i,triageActionType:u,streamId:s,streamItem:r,checkForDuplicates:C.some(e=>e.checkForDuplicates),isV2Action:!0})}function g(e,t){return t&&t===o.Mb.SENT||!t?e:function(e){return Object(l.d)(e,e=>e!==o.Mb.SENT)}(e)}const O=[{moveFrom:o.Mb.DRAFT,allow:!1},{moveTo:o.Mb.DRAFT,allow:!1},{moveTo:o.Mb.SENT,allow:!1}];function T(e,t=null,s,r,n){const a=Object(E.selectors)(e.store.getState()).__patchV2MessageId__,d=Object(E.selectors)(e.store.getState()),_=d.getFeaturesSelectors,u=d.doesFolderIdExist,p=d.getPrimaryFolderTypeByFolderId,m=p(s);let S=r.map(e=>a(e,t));const h=Object(c.q)(t),C=h&&u(h)&&p(h)||null,T=_().isEnabled(o.Eb.CONVERSATIONS);return n?m!==o.Mb.TRASH&&(S=g(S,C)):(S=function(e,t,s){if(t&&s){const s={[o.Mb.TRASH]:!0,[o.Mb.BULK]:!0};return s[t]?Object(l.d)(e,e=>e===t):Object(l.d)(e,e=>!s[e])}return e}(S,C,T),S=g(S,C)),function(e,t){return e.filter(e=>{const s=Object(i.n)(e.folder);let r=!0;return O.some(e=>{let n=!1;return(e.hasOwnProperty("moveFrom")&&e.moveFrom===s||e.hasOwnProperty("moveTo")&&e.moveTo===t)&&(r=e.allow,n=!0),n}),r})}(S,m).map(({id:e})=>e)}function A(e,{messageIds:t,flags:s,itemId:r,streamId:n,streamItem:a,route:o,isRead:i,isStarred:c,i13nModel:l,persistStreamItemExpansionStates:d,triageActionType:_},{pendingActionType:u}){const p=Object(E.selectors)(e.store.getState()),m=p.getCurrentListId,S=p.doesMessageGroupIdExist,h=o?(0,p.getMainStreamItems)(o):void 0,C=m();S(r)&&e.dispatch(u,{i13nModel:l,isV2Action:!0,messageIds:t,itemId:r,listId:C,streamId:n,streamItem:a,streamItems:h,flags:s,isRead:i,isStarred:c,persistStreamItemExpansionStates:d,triageActionType:_})}function I(e,{listId:t,destinationFolderId:s,messageIds:r,messageGroupIds:n,streamId:a,streamItem:o,i13nModel:i}){return S(e,{sourceListId:t,destinationFolderId:s,messageIds:r,messageGroupIds:n,streamId:a,streamItem:o,i13nModel:i})}function f(e,{listId:t,destinationFolderId:s,messageIds:r,messageGroupIds:n,streamId:a,streamItem:o,i13nModel:i}){return S(e,{sourceListId:t,fromMessageGroupView:!0,destinationFolderId:s,messageIds:r,messageGroupIds:n,streamId:a,streamItem:o,i13nModel:i})}function D(e,{listId:t,messageIds:s,messageGroupIds:r,streamId:n,streamItem:a,i13nModel:i}){return C(e,{destinationFolderType:o.Mb.ARCHIVE,sourceListId:t,messageIds:s,messageGroupIds:r,streamId:n,streamItem:a,i13nModel:i,triageActionType:o.ye.ARCHIVE_SELECTED_ITEMS})}function R(e,{listId:t,messageIds:s,messageGroupIds:r,streamId:n,streamItem:a,i13nModel:i}){return C(e,{fromMessageGroupView:!0,destinationFolderType:o.Mb.ARCHIVE,messageIds:s,messageGroupIds:r,sourceListId:t,streamId:n,streamItem:a,i13nModel:i,triageActionType:o.ye.ARCHIVE_SELECTED_ITEMS})}function b(e,{listId:t,messageIds:s,messageGroupIds:r,streamId:n,streamItem:a,i13nModel:i}){return C(e,{destinationFolderType:o.Mb.INBOX,sourceListId:t,messageIds:s,messageGroupIds:r,streamId:n,streamItem:a,i13nModel:i,triageActionType:o.ye.RESTORE_SELECTED_ITEMS})}function N(e,{listId:t,messageIds:s,messageGroupIds:r,streamId:n,streamItem:a,i13nModel:i}){return C(e,{destinationFolderType:o.Mb.INBOX,fromMessageGroupView:!0,messageIds:s,messageGroupIds:r,sourceListId:t,streamId:n,streamItem:a,i13nModel:i,triageActionType:o.ye.RESTORE_SELECTED_ITEMS})}function M(e,t){const s=t.messageGroupIds,r=t.permanent,n=t.listId,i=t.fromMessageGroupView,c=t.conversationsFlagFromAction,l=void 0===c||c,d=Object(E.selectors)(e.store.getState()),_=d.__patchV2MessageId__,u=d.getRoute,S=d.isPermDeleteFolderType,C=(0,d.getFeaturesSelectors)().isEnabled(o.Eb.CONVERSATIONS)&&l,g=m(e,s),O=s.length<=o.kb;let T,A=t.messageIds;if(u().name===o.rd.SEARCH){let t=null,r=null;const a=A.map(e=>_(e)).filter(({folder:e})=>S(e.id)).map(({id:e})=>e),c=A.map(e=>_(e)).filter(({folder:e})=>!S(e.id)).map(({id:e})=>e);c.length&&(t=h(e,{destinationFolderType:o.Mb.TRASH,sourceListId:n,fromMessageGroupView:i,messageIds:c,messageGroupIds:s,checkForDuplicates:O,isAsync:g})),a.length&&(r={messageIds:a,checkForDuplicates:O,isAsync:g}),T={trashPayload:t,deletePayload:r}}else r?T={messageIds:A,checkForDuplicates:O,isAsync:g}:(T=h(e,{destinationFolderType:o.Mb.TRASH,sourceListId:n,fromMessageGroupView:i,messageIds:A,messageGroupIds:s,checkForDuplicates:O,isAsync:g}),A=T.reduce((e,{messageIds:t})=>e.concat(t),[]));const I=s.length;if(0===A.length)return;const f={triageActionType:o.ye.DELETE_SELECTED_ITEMS,count:I,conversations:C};e.dispatch(a.DELETE_ITEMS_REQUESTED,Object.assign({},t,{isV2Action:!0,triageActionType:o.ye.DELETE_SELECTED_ITEMS,messageIds:A,successAction:p({type:a.UPDATE_ITEMS_SUCCEEDED},{triageActionType:o.ye.DELETE_SELECTED_ITEMS,count:I,conversations:C,permanent:r}),failureAction:p({type:a.UPDATE_ITEMS_FAILED},f),count:I,conversations:C,checkForDuplicates:O,isAsync:g}))}function y(e,{listId:t,messageIds:s,messageGroupIds:r,permanent:n,streamId:a,streamItem:i,i13nModel:c,conversationsFlagFromAction:l}){return M(e,{i13nModel:c,listId:t,streamId:a,streamItem:i,destinationFolderType:o.Mb.TRASH,messageIds:s,fromMessageGroupView:!0,messageGroupIds:r,permanent:n,conversationsFlagFromAction:l})}function L(e,{listId:t,messageIds:s,messageGroupIds:r,streamId:n,streamItem:a,i13nModel:i}){return C(e,{destinationFolderType:o.Mb.BULK,messageIds:s,messageGroupIds:r,sourceListId:t,flags:{spam:!0},streamId:n,streamItem:a,i13nModel:i,triageActionType:o.ye.SPAM_SELECTED_ITEMS,checkForDuplicates:r.length<=o.kb})}function P(e,{listId:t,messageIds:s,messageGroupIds:r,streamId:n,streamItem:a,i13nModel:i}){return C(e,{destinationFolderType:o.Mb.INBOX,messageIds:s,messageGroupIds:r,sourceListId:t,flags:{ham:!0},streamId:n,streamItem:a,i13nModel:i,triageActionType:o.ye.NOT_SPAM_SELECTED_ITEMS,checkForDuplicates:r.length<=o.kb})}function v(e,{listId:t,messageIds:s,messageGroupIds:r,streamId:n,streamItem:a,i13nModel:i}){return C(e,{destinationFolderType:o.Mb.BULK,fromMessageGroupView:!0,messageIds:s,messageGroupIds:r,sourceListId:t,flags:{spam:!0,read:!0},streamId:n,streamItem:a,i13nModel:i,triageActionType:o.ye.SPAM_SELECTED_ITEMS,checkForDuplicates:r.length<=o.kb})}function F(e,{listId:t,messageIds:s,messageGroupIds:r,streamId:n,streamItem:a,i13nModel:i}){return C(e,{destinationFolderType:o.Mb.INBOX,fromMessageGroupView:!0,messageIds:s,messageGroupIds:r,sourceListId:t,flags:{ham:!0},streamId:n,streamItem:a,i13nModel:i,triageActionType:o.ye.NOT_SPAM_SELECTED_ITEMS,checkForDuplicates:r.length<=o.kb})}function U(e,{messageIds:t,itemId:s,streamId:r,streamItem:n,route:i,i13nModel:c,persistStreamItemExpansionStates:l}){return A(e,{i13nModel:c,messageIds:t,itemId:s,isRead:!1,flags:{read:!0},streamId:r,streamItem:n,route:i,persistStreamItemExpansionStates:l,triageActionType:o.ye.READ_CHANGE_SELECTED_ITEMS},{pendingActionType:a.READ_CHANGE_REQUESTED})}function w(e,{messageIds:t,itemId:s,streamId:r,streamItem:n,i13nModel:i}){return A(e,{i13nModel:i,messageIds:t,itemId:s,isRead:!0,flags:{read:!1},streamId:r,streamItem:n,triageActionType:o.ye.READ_CHANGE_SELECTED_ITEMS},{pendingActionType:a.READ_CHANGE_REQUESTED})}function G(e,{messageIds:t,itemId:s,streamId:r,streamItem:n,i13nModel:i}){return A(e,{i13nModel:i,messageIds:t,itemId:s,isStarred:!1,flags:{flagged:!0},streamId:r,streamItem:n,triageActionType:o.ye.STAR_CHANGE_SELECTED_ITEMS},{pendingActionType:a.STAR_CHANGE_REQUESTED})}function H(e,{messageIds:t,itemId:s,streamId:r,streamItem:n,i13nModel:i}){return A(e,{i13nModel:i,messageIds:t,itemId:s,isStarred:!0,flags:{flagged:!1},streamId:r,streamItem:n,triageActionType:o.ye.STAR_CHANGE_SELECTED_ITEMS},{pendingActionType:a.STAR_CHANGE_REQUESTED})}const j=o.U.Modes;function k(e,t,s,r,n,o=!1){return e.dispatch(a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,p({i13nModel:n,composeMode:r,triggeredFromContextMenu:o},x(e,t,s)))}function x(e,t,s){const r=s.id||s.messageId,n=Object(E.selectors)(e.store.getState()),a=n.doesMessageBodyExist,i=n.findReplyForwardCsidsOfMessage,c=n.getDraftMessageId,l=n.isSent,u=(0,n.getCurrentListId)(),p=Object(_.a)([u]),m=(0,Object(E.selectors)(e.store.getState()).getFeaturesSelectors)().isEnabled(o.Eb.CONVERSATIONS),S=(i(r)||[]).filter(e=>!c(e)&&!l(e)),h=S.length?S[0]:Object(d.generateUID)(),C=(0,Object(E.selectors)(e.store.getState()).getMessageBodiesSelectors)().get;return{csid:h,listId:u,messageGroupId:t,conversationsMode:m,groupId:t,streamId:p,messageId:r,secure:!1,full:!0,message:Object.assign({},s,{id:r,body:a(r)?C(r):void 0})}}function B(e,{messageGroupId:t,message:s,i13nModel:r,triggeredFromContextMenu:n=!1}){return k(e,t,s,j.REPLY,r,n)}function V(e,{messageGroupId:t,message:s,selectedReplySuggestion:r,i13nModel:n,triggeredFromContextMenu:o=!1}){return function(e,t,s,r,n,o,i=!1){return e.dispatch(a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,p({selectedReplySuggestion:r,i13nModel:o,composeMode:n,triggeredFromContextMenu:i},x(e,t,s)))}(e,t,s,r,j.REPLY_ALL,n,o)}function W(e,{messageGroupId:t,message:s,i13nModel:r,triggeredFromContextMenu:n=!1}){return k(e,t,s,j.REPLY_ALL,r,n)}function K(e,{messageGroupId:t,message:s,i13nModel:r,triggeredFromContextMenu:n=!1}){return k(e,t,s,j.FORWARD,r,n)}function q(e,{messageGroupId:t,message:s,composeMode:r,i13nModel:n}){return k(e,t,s,r,n)}function Y(e,{messageId:t}){const s=Object(E.selectors)(e.store.getState()),r=s.getSelectedMailboxId,n=s.getEnvironmentSelectors,a=e.mailAPIClient,i=a.wssid,c=a.appId,l=a.ymreqidGenerator.generate(),d=r(),_=n().getEndpoint(o.yb.JWS_HOST);window.open(`https://${_}/ws/v3/mailboxes/@.id==${d}/messages/@.id==${t}/content/rawplaintext?appId=${c}&ymreqid=${l}&wssid=${i}`,"_blank")}},function(e,t,s){"use strict";s.d(t,"a",(function(){return m})),s.d(t,"e",(function(){return I})),s.d(t,"r",(function(){return f})),s.d(t,"q",(function(){return D})),s.d(t,"h",(function(){return R})),s.d(t,"i",(function(){return b})),s.d(t,"c",(function(){return N})),s.d(t,"k",(function(){return M})),s.d(t,"o",(function(){return y})),s.d(t,"d",(function(){return L})),s.d(t,"s",(function(){return P})),s.d(t,"t",(function(){return v})),s.d(t,"b",(function(){return F})),s.d(t,"u",(function(){return w})),s.d(t,"f",(function(){return G})),s.d(t,"g",(function(){return H})),s.d(t,"j",(function(){return k})),s.d(t,"p",(function(){return x})),s.d(t,"n",(function(){return B})),s.d(t,"l",(function(){return V})),s.d(t,"m",(function(){return W}));var r=s(34),n=s.n(r),a=s(3),o=s.n(a),i=(s(350),s(199)),c=s(235),l=s.n(c),d=s(54),E=s(20),_=s(458),u=s.n(_);function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const m=86400,S=/[^0-9/\ :.-]/g,h=/[\/\s:.-]/;let C;const g=e=>d.a.error("debug_datetime_polyfill",function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e)),O=u()(e=>g(e)),T=u()(e=>g(e)),A=(()=>{try{return new Intl.DateTimeFormat("en",{timeZone:"GMT"}),!0}catch(e){return!1}})();function I(e,t,s){try{if(C)return C(t,s).format(e);const r=s.timeZone,a=n()(s,["timeZone","timeZoneName"]);return(()=>!(Object(E.c)()&&!A))()||(e=>Intl._DateTimeFormatTimeZone&&Intl._timeZoneData&&Intl._timeZoneData.get(e)?(T({status:"loaded",timeZone:e}),!0):(O({status:"loading",timeZone:e}),!1))(r)?(C=Object(i.a)(Intl.DateTimeFormat),C(t,s).format(e)):new Intl.DateTimeFormat(t,a).format(e)}catch(r){const n=s.timeZone,a=void 0===n?"unknown":n;throw r.data={timeZone:a,locale:t,date:e&&e.getTime()||"undefined",hasPolyfill:!!Intl._DateTimeFormatTimeZone,hasTimeZoneData:!(!Intl._timeZoneData||!Intl._timeZoneData.get(a))},r}}const f=function(e,t){const s=new l.a({max:t});return function(t,r){t instanceof Date||(t=new Date(t));const n=t.getTime()+"-"+r;let a=s.get(n);return void 0===a&&(a=e(t,r),s.set(n,a)),a}}((function(e,t){const s=I(e,"en-US",{timeZone:t,hour12:!1,hourCycle:"h23",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).replace(S,"").split(h),r=parseInt(s[2],10);return(Date.UTC(r,s[0]-1,s[1],(s[3]||0)%24,s[4]||0,s[5]||0)-new Date(e).setMilliseconds(0))/6e4}),1e3);function D({timezone:e,offset:t=0}){const s=Date.now();void 0!==e&&(t=f(s,e));const r=new Date(s+6e4*t),n=r.getUTCDate(),a=r.getUTCMonth(),o=r.getUTCFullYear(),i=Date.UTC(o,a,n);return void 0!==e?i-6e4*(t=f(i,e)):i}function R({timezone:e,time:t}){const s=new Date(t).getTime(),r=t=>6e4*f(t,e),n=e=>e-r(e),a=new Date((e=>e+r(e))(s)),o=a.getUTCDay(),i=a.getUTCDate(),c=a.getUTCMonth(),l=a.getUTCFullYear();return{weekday:o,date:i,month:c,year:l,startOfPastHour:e=>n(Date.UTC(l,c,i,-1*e)),startOfPastDay:e=>n(Date.UTC(l,c,i,-24*e)),startOfMonth:e=>n(Date.UTC(l,e,1)),startOfYear:e=>n(Date.UTC(e,0,1))}}function b(){return new Date}function N(e){return e?new Date(1e3*e):b()}function M(e){return y(e)+(m-1)}function y(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor(+t/1e3)}function L(e,t){return!(!v(e)||!v(t))&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}function P(e){if(!(e instanceof Date))throw new Error("Expected date to be an instance of Date");return L(new Date,e)}function v(e){return function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)&&!isNaN(e.getTime())}function F(e){if(!v(e))throw new Error("Expected date to be an instance of Date");return new Date(e.valueOf())}function U(e){const t=F(e);return t.setDate(t.getDate()-t.getDay()),t}function w(e){const t=e.getDay();return 0===t||6===t}function G(e){const t=U(e),s=[t];for(let e=1;e<=6;e++){const r=F(t);r.setDate(r.getDate()+e),s.push(r)}return s}function H(e){const t=F(e);t.setDate(1);const s=t.getMonth(),r=F(U(t)),n=[F(r)];for(r.setDate(r.getDate()+7);r.getMonth()===s;)n.push(F(r)),r.setDate(r.getDate()+7);return n}const j=1e3*m;function k(e,t){const s=new Date(t).getTime()-new Date(e).getTime();return Math.ceil(s/j)}function x(e){return y(e)-m}function B(e,t=0){const s=new Date(e);return s.setDate(s.getDate()+t),s}function V(e){const t=e=>e<10?"0"+e:e;return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}`}function W(e){return"zh-Hant-HK"===e||"ko-KR"===e?"numeric":"short"}},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(34),o=s.n(a),i=s(3),c=s.n(i),l=(s(7),s(1)),d=s.n(l),E=s(21),_=(s(4),s(9),s(102)),u=s.n(_),p=s(675),m=s.n(p),S=s(12);const h=s.n(S)()(m.a);t.a=class extends d.a.Component{constructor(...e){super(...e),c()(this,"state",{hovered:!1}),c()(this,"handleHover",e=>{this.setState({hovered:e})})}render(){const e=this.props,t=e.colorStates,s=o()(e,["colorStates"]),r=!this.props.disabled&&this.state.hovered?t.hovered:t.normal;return d.a.createElement(E.default,n()({title:""},s,{className:u()(this.props.className||"",h.button),onMouseOver:this.handleHover.bind(this,!0),onMouseOut:this.handleHover.bind(this,!1),colorState:r}))}}},function(e,t,s){"use strict";s.d(t,"d",(function(){return l})),s.d(t,"a",(function(){return d})),s.d(t,"f",(function(){return E})),s.d(t,"c",(function(){return _})),s.d(t,"b",(function(){return u})),s.d(t,"e",(function(){return m}));const r=/'/g,n=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA872]|\uD802[\uDEC0-\uDEC4\uDECD\uDED3-\uDEDC\uDEDE-\uDEE0\uDEEB-\uDEEE\uDF80\uDF82\uDF86-\uDF88\uDF8A\uDF8B\uDF8D\uDF90\uDFAD\uDFAE]/,a=/[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u08A0-\u08AC\u08AE-\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA871]|\uD802[\uDEC0-\uDEC5\uDEC7\uDEC9\uDECA\uDECE-\uDED6\uDED8-\uDEE1\uDEE4\uDEEB-\uDEEF\uDF80-\uDF91\uDFA9-\uDFAE]/;function o(e){return e.charCodeAt(0)>=1568}function i(e){return(e=e.slice(-1))&&o(e)&&n.test(e)}function c(e){return(e=e[0])&&o(e)&&a.test(e)}function l(e="",t=""){let s=((e="",t="")=>{const s=d(t);return e.search(new RegExp(`(^${s}| +${s})`,"i"))})(e,t);if(s>0&&s++,s>=0){const r=s+t.length;return function(e,t=""){return e.forEach((e,s,r)=>{0!==s&&c(e)&&i(r[s-1])&&(r[s-1]=r[s-1]+t,r[s]=t+r[s]),r[s+1]&&i(e)&&c(r[s+1])&&(r[s+1]=t+r[s+1],r[s]=r[s]+t)}),e}([e.substring(0,s),e.substring(s,r),e.substring(r)])}return[e]}function d(e=""){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function E(e,t,s){var r="";return s=void 0!==s?s:"...",r=e=e||"",e.length>(t=t||0)&&(r=e.substr(0,t-s.length)+s),r}function _(e=""){return e.replace(r,'"')}function u(e){return!e||!e.trim().length}const p=/(^[\u200C\s]*|[\u200C\s]*$)/g;function m(e){return"string"!=typeof e?e:e.replace(p,"")}},function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"c",(function(){return c})),s.d(t,"d",(function(){return E})),s.d(t,"f",(function(){return _})),s.d(t,"e",(function(){return u})),s.d(t,"g",(function(){return p})),s.d(t,"a",(function(){return h}));var r=s(66),n=s(8),a=s(0);s(60);function o(e){return e.filter(e=>{var t,s;return(null==e||null===(t=e.headers)||void 0===t||null===(s=t.from)||void 0===s?void 0:s.length)&&(e.headers.from[0].email||e.headers.from[0].name)}).map(e=>{var t;return{email:e.headers.from[0].email,name:e.headers.from[0].name,recent:!(null===(t=e.flags)||void 0===t?void 0:t.read)}})}function i(e){return e.messages.some(e=>e.attachments&&e.attachments.length)}function c(e=[]){return e.map(e=>e.domain).join("").toLowerCase().indexOf("yahoo")>=0}function l(e){return e.messages.some(e=>c(e.verifiedDomains))}function d(e){return e.messages.some(r.i)}function E(e){return e.messages.every(r.i)}function _(e){return e.messages.every(r.l)}function u(e){return e.messages.every(r.k)}function p(e=""){return e.replace(/\^_(.+?)\^_/g,"$1")}function m(e){const t=e.messages;for(let e=t.length-1;e>=0;e--){if(t[e].folder.types[0]!==a.Mb.TRASH)return t[e].folder}return t[t.length-1].folder}function S(e,t={}){const s=t.listId;let a;s&&(a=Object(n.q)(s));return(function(e,t){return function(e,t){const s=e.messages;let r;for(let e=s.length-1;e>=0;e--)if(t(s[e])){r=s[e];break}return r}(e,Object(r.j)(t))}(e,a)||e.messages[e.messages.length-1]).headers.date}function h(e,t={}){const s=function(e){const t=e.messages;let s=!0,r=!1,n=!1,a=!1;for(let e=0;e<t.length;e++){const o=t[e];o.flags.read||(s=!1),o.flags.flagged&&(r=!0),o.flags.answered&&(n=!0,a=!1),o.flags.forwarded&&(a=!0,n=!1)}return{read:s,flagged:r,answered:n,forwarded:a}}(e),r=o(e.messages),n=function(e){return e.reduce((e,t)=>t.headers.to.filter(e=>e.email||e.name).reduce((e,s)=>(e.push({email:s.email,name:s.name,recent:!t.flags.read}),e),e),[])}(e.messages),a=e.messages[0].headers.subject,c=e.messages[e.messages.length-1].snippet;return{flags:s,participants:r,recipients:n,subjectWithMatchDelimiter:a,snippetWithMatchDelimiter:c,subject:p(a),snippet:p(c),date:S(e,t),messageCount:e.messages.length,hasAttachment:i(e),hasVerifiedMessage:l(e),hasDraft:d(e),folder:m(e)}}},function(e,t,s){"use strict";s.d(t,"b",(function(){return _})),s.d(t,"c",(function(){return u})),s.d(t,"a",(function(){return p})),s.d(t,"e",(function(){return m})),s.d(t,"d",(function(){return S}));var r=s(3),n=s.n(r),a=s(8),o=s(0),i=s(60),c=s.n(i);function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const E=(e=[])=>e.reduce((e,t)=>{if(Object(a.w)(t.listId)!==o.ac.MESSAGES||void 0===t.folder)return e;const s=t.groupId,r=t.folder,n=t.destinationFolder,i=void 0===n?{}:n,l=t.flags,E=void 0===l?[]:l,_=t.isAffected,u=e[s]||{},p=u.originalFolderIds,m=void 0===p?[]:p,S=u.folderIds,h=void 0===S?[]:S,C=u.folderTypes,g=void 0===C?[]:C,O=u.flags,T=void 0===O?[]:O;let A,I;return _?(A=i.id?[i.id]:[],I=i.types?[].concat(i.types):[]):(A=[r.id],I=[].concat(r.types)),d({},e,{[s]:{flags:_?T:T.concat(E),originalFolderIds:c()(m.concat(r.id)),folderIds:c()(h.concat(A)),folderTypes:c()(g.concat(I))}})},{}),_=(e=[],t=[])=>{const s=E(e);return Object.keys(s).filter(e=>{const r=s[e],n=r.folderIds,a=r.folderTypes,i=void 0===a?[]:a;if(t.length)return!(void 0===n?[]:n).some(e=>-1!==t.indexOf(e));return!i.some(e=>-1===[o.Mb.TRASH,o.Mb.BULK].indexOf(e))})},u=(e=[],t,s)=>{const r=((e=[])=>e.reduce((e,t)=>{const s=t.groupId,r=t.flags,n=void 0===r?[]:r,a=t.folder,o=t.destinationFolder,i=void 0===o?{}:o,l=e[s]||{},E=l.originalFolderIds,_=void 0===E?[]:E,u=l.folderIds,p=void 0===u?[]:u,m=l.folderTypes,S=void 0===m?[]:m,h=l.flags,C=void 0===h?[]:h;let g,O;return t.isAffected?(g=i.id?[i.id]:[],O=i.types?[].concat(i.types):[]):(g=[a.id],O=[].concat(a.types)),d({},e,{[s]:{flags:C.concat(n),originalFolderIds:c()(_.concat(a.id)),folderIds:c()(p.concat(g)),folderTypes:c()(S.concat(O))}})},{}))(e),n=Object(a.x)(t);return n===o.bc.NEWMAIL&&"unread"===s?Object.keys(r).filter(e=>{const t=r[e].flags;return(void 0===t?[]:t).some(e=>!e.read)}):n===o.bc.OLDMAIL&&"read"===s?Object.keys(r).filter(e=>{const t=r[e].flags;return(void 0===t?[]:t).some(e=>e.read)}):[]},p=(e=[],t,s=[])=>{const r=E(e);return Object.keys(r).filter(e=>{const n=r[e].flags,o=void 0===n?[]:n;return s.some(e=>Object(a.bb)(t,e))&&o.every(e=>e.read)})},m=(e,t)=>{const s=e.path.toLocaleLowerCase(),r=t.path.toLocaleLowerCase(),n=s.split("/"),a=r.split("/"),o=e.path.split("/"),i=t.path.split("/");let c=0,l=0;for(;c<n.length&&l<a.length;){const e=n[c],t=a[l],s=o[c],r=i[l];if(e!==t)return e.localeCompare(t);if(s!==r)return s.localeCompare(r);c++,l++}const d=s.localeCompare(r);return d||(s.localeCompare(r)||s.length-r.length)},S=(e,t,s)=>{const r=Math.floor(s/t),n=[];let a=0,o=0;return e.forEach(e=>{n[a]||(n[a]=[]),n[a].push(e),o++,o%r==0&&(a++,o=0)}),n}},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));const r=/^(?:https?|ftp|mailto):(?:\/\/)?/i;function n(e){let t=!1;if(!r.test(e))return t;const s=window.open();if(s){s.opener=null;try{s.location=e,t=!0}catch(e){}}return t}},function(e,t,s){"use strict";s.d(t,"b",(function(){return u})),s.d(t,"a",(function(){return p}));var r=s(33),n=s.n(r),a=s(3),o=s.n(a),i=(s(7),s(1)),c=s.n(i),l=s(42),d=s(15),E=(s(61),s(9)),_=s(11);const u={MOUNT:1,CLICK:2,HOVER:4,HOVER_DELAYED:8},p={HOVER_OUT_ANCHOR:1,HOVER_OUT:2,CLICK:4,DRAG_START:8};class m extends c.a.Component{constructor(...e){super(...e),o()(this,"state",{popoverShown:!1}),o()(this,"hideOnScroll",()=>{this.state.popoverShown&&this.handlePopoverHide()}),o()(this,"handleClick",()=>{const e=this.state.popoverShown,t=this.props;e||(t.triggerOn&u.CLICK)!==u.CLICK?e&&(t.triggerOff&p.CLICK)===p.CLICK&&this.setState({popoverShown:!1}):this.setState({popoverShown:!0})}),o()(this,"handleDragStart",()=>{this.state.popoverShown&&(this.props.triggerOff&p.DRAG_START)===p.DRAG_START&&this.setState({popoverShown:!1})}),o()(this,"handleMouseOver",()=>{clearImmediate(this._hideTimeout);const e=this.props,t=e.triggerOn,s=e.triggerDelayTime;(t&u.HOVER)===u.HOVER?this.setState({popoverShown:!0}):(t&u.HOVER_DELAYED)===u.HOVER_DELAYED&&(this._shownTimeout=setTimeout(()=>{this.setState({popoverShown:!0})},s))}),o()(this,"handleMouseOut",e=>{const t=this.state.popoverShown,s=this.props.triggerOff;clearTimeout(this._shownTimeout),t&&(this.refs.anchor!==e.target&&!this.refs.anchor.contains(e.target)||(s&p.HOVER_OUT_ANCHOR)!==p.HOVER_OUT_ANCHOR?(s&p.HOVER_OUT)===p.HOVER_OUT&&(this._hideTimeout=setImmediate(()=>{this.setState({popoverShown:!1})})):this.setState({popoverShown:!1}))}),o()(this,"handlePopoverHide",()=>{clearTimeout(this._shownTimeout),this.setState({popoverShown:!1})})}componentWillUnmount(){clearTimeout(this._shownTimeout),clearImmediate(this._hideTimeout);const e=this.props.scrollContainer;if(e)if(e.current){const t=Object(E.b)(e,"current.removeEventListener");"function"==typeof t&&t("scroll",this.hideOnScroll,!1)}else e.removeEventListener&&e.removeEventListener("scroll",this.hideOnScroll,!1)}componentDidMount(){const e=this.props,t=e.scrollContainer;e.disabled||(e.triggerOn&u.MOUNT==u.MOUNT?setImmediate(()=>this.setState({popoverShown:!0})):setImmediate(()=>this.forceUpdate()),t&&(t.current?t.current.addEventListener("scroll",this.hideOnScroll,!1):t.addEventListener("scroll",this.hideOnScroll,!1)))}componentDidUpdate(e,t){this.state.popoverShown!==t.popoverShown&&(this.state.popoverShown?this.props.onShown():this.props.onHide())}render(){const e=this.props,t=e.align,s=e.arrowSize,r=e.disabled,a=e.isArrowVisible,o=e.offset,i=e.permittedArrowDirections,E=e.persistent,_=e.zAltitude,u=e.collapseArrowWrapper,p=e.contentComfortThreshold,m=c.a.Children.toArray(this.props.children),S=n()(m,2),h=S[1],C=!r&&this.state.popoverShown;return c.a.createElement("span",null,c.a.cloneElement(S[0],r?{ref:"anchor"}:{onClick:this.handleClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onDragStart:this.handleDragStart,ref:"anchor"}),C&&this.refs.anchor?c.a.createElement(l.b,{popoverAnchor:this.refs.anchor,arrowSize:s,align:t,offset:o,permittedArrowDirections:i,zAltitude:_,onMouseOver:e=>{this.handleMouseOver(e),this.props.onContentMouseOver(e)},onMouseOut:e=>{this.handleMouseOut(e),this.props.onContentMouseOut(e)},onHide:this.handlePopoverHide,persistent:E,isArrowVisible:a,collapseArrowWrapper:u,overflowScroll:!0,contentComfortThreshold:p,triggerOn:d.i.ASYMMETRIC},h||this.props.children[1]):null)}}o()(m,"defaultProps",{disabled:!1,stopClickPropagation:!1,onShown:()=>{},onHide:()=>{},onContentMouseOver:()=>{},onContentMouseOut:()=>{},persistent:!1,zAltitude:_.Pb.POPOVER.MEDIUM,isArrowVisible:!0,collapseArrowWrapper:!1,contentComfortThreshold:d.f}),t.c=m},function(e,t,s){"use strict";s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return d})),s.d(t,"c",(function(){return E})),s.d(t,"e",(function(){return _})),s.d(t,"d",(function(){return p}));var r=s(1),n=s.n(r),a=(s(0),s(9));Object(a.d)(["TIMECHUNK"]);const o=Object(a.d)(["LEFT","CENTER","RIGHT","NONE"]),i=/^\^_+|\^_+$/g;function c(e,t){let s=-1;if(t&&e){const t=e.indexOf("^_");if(-1!==t){s=t/e.length}}return s>.66?o.RIGHT:s>.33?o.CENTER:s>=0?o.LEFT:o.NONE}function l(e){return e.split(/(\^_[^^]*?\^_)/g)}function d(e=null,t,s){return e&&t?function(e,t){return l(e).map((function(e){return 0===e.indexOf("^_")?n.a.createElement("span",{key:e,className:t,"data-test-id":"highlight"},e.replace(i,"")):e}))}(e,s):e}function E(e,t,s){if(e&&t&&s){return d(u(t,e,!1,"^_"),!0,s)}return e}function _(e=null){if(e){return l(e).map((function(e){return 0===e.indexOf("^_")?e.replace(i,""):e})).join("")}return e}function u(e,t,s,r){const n=(e=e.trim()).length;let a=t;if(0===n)return t;s||(a=a.toLowerCase(),e=e.toLowerCase());const o=a.indexOf(e,0);return o>-1&&(t=t.slice(0,o)+r+t.slice(o,o+n)+r+t.slice(o+n)),t}function p(e,t,s,r){if(!e)return s;return d(u(t,s,!1,"^_"),!0,r)}},function(e,t,s){"use strict";s.d(t,"m",(function(){return l})),s.d(t,"l",(function(){return d})),s.d(t,"n",(function(){return E})),s.d(t,"o",(function(){return _})),s.d(t,"p",(function(){return u})),s.d(t,"d",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"h",(function(){return S})),s.d(t,"g",(function(){return h})),s.d(t,"j",(function(){return C})),s.d(t,"i",(function(){return g})),s.d(t,"a",(function(){return O})),s.d(t,"k",(function(){return T})),s.d(t,"b",(function(){return A})),s.d(t,"f",(function(){return I})),s.d(t,"e",(function(){return f}));var r=s(3),n=s.n(r),a=s(2),o=s(0);function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const l=e=>c({},e,{type:Object.keys(o.X).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED:a.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED}),d=e=>c({},e,{type:Object.keys(o.X).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED:a.SOCIAL_ACCOUNTS_CONNECT_FAILED}),E=e=>c({},e,{type:a.SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED}),_=e=>c({},e,{type:a.SOCIAL_ACCOUNTS_DISCONNECT_FAILED}),u=e=>c({},e,{type:a.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED}),p=e=>c({},e,{type:Object.keys(o.X).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED:a.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED}),m=e=>c({},e,{type:Object.keys(o.X).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED:a.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED}),S=e=>c({},e,{type:a.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED}),h=e=>c({},e,{type:a.SOCIAL_ACCOUNTS_IMPORT_FAILED}),C=e=>c({},e,{type:a.SOCIAL_ACCOUNTS_STATUS_RECEIVED}),g=e=>c({},e,{type:a.SOCIAL_ACCOUNT_STATUS_FETCH_FAILED}),O=e=>c({},e,{type:Object.keys(o.X).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED:a.SOCIAL_ACCOUNTS_CONNECT_REQUESTED}),T=e=>c({},e,{type:a.IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED}),A=e=>c({},e,{type:a.DISCONNECT_CONTACTS_PROVIDER_REQUESTED}),I=e=>c({},e,{type:a.CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED}),f=e=>c({},e,{type:a.CONTACTS_PROVIDERS_STATUS_FETCH_FAILED})},function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"c",(function(){return a})),s.d(t,"b",(function(){return o}));var r=s(54);function n(e,t=!0){try{return function(e,t=!0){if(!e||!/^https?:\/\//.test(e))return"";const s=new Image;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+encodeURIComponent((new Date).getTime())),e=e.replace("[timestamp]",(new Date).getTime()),s.src=e,s.src}(e,t)}catch(t){return r.a.error("sendBeacon_exception",{url:e}),""}}function a(e){if(!e||!/^https?:\/\//.test(e))return"";const t=document.createElement("iframe");t.src=e,t.width="1px",t.height="1px",t.style.display="none",document.body.appendChild(t)}function o(e){if(!e||!/^https?:\/\//.test(e))return"";const t=document.createElement("iframe");t.src=e,t.width="0",t.height="0",t.referrerPolicy="origin",t.style.display="none",t.style.visibility="hidden",document.body.appendChild(t),t.onload=()=>t.parentNode.removeChild(t)}},function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return c}));var r=s(5),n=s(0),a=s(9);const o={[n.bc.TOP_CONTACTS]:r.i.TOP_CONTACTS_TAB,[n.bc.USER_CREATED_CONTACTS]:r.i.USER_CREATED_CONTACTS_TAB,[n.bc.PEOPLE]:r.i.PEOPLE_CONTACTS_TAB,[n.bc.NOT_PEOPLE]:r.i.BUSINESS_CONTACTS_TAB,[n.bc.WITH_KEYWORD]:r.i.CONTACTS_PANE_SEARCH,[n.bc.RELATED]:r.i.RELATED_CONTACTS,[n.bc.GROUPS]:r.i.GROUPS_CONTACTS_TAB},i={ID:"ID",EMAIL:"EMAIL",PHONE:"PHONE",ADDRESS:"ADDRESS",HIDDEN:"HIDDEN"},c=({value:e,type:t,id:s})=>(t===i.ADDRESS?Object(a.h)(e||{}).join("-"):e)+"_"+s},function(e,t,s){"use strict";var r=s(13),n=s(174),a=s(10),o=s(0);t.a=Object(r.connect)((function(e,{folderId:t,isCountVisible:s}){const r=(0,Object(a.selectors)(e).getFoldersSelectors)(),n=r.getFolderName(t),i=r.getFolderDisplayTypeByFolderId(t);let c;return s&&(c=i===o.ie.DRAFT?r.getFolderTotal(t):r.getFolderUnreadCount(t)),{name:n,folderDisplayType:i,count:c}}))(n.a)},function(e,t,s){"use strict";s.d(t,"c",(function(){return w})),s.d(t,"b",(function(){return G})),s.d(t,"a",(function(){return H})),s.d(t,"m",(function(){return j})),s.d(t,"e",(function(){return B})),s.d(t,"d",(function(){return V})),s.d(t,"f",(function(){return W})),s.d(t,"p",(function(){return Y})),s.d(t,"g",(function(){return z})),s.d(t,"h",(function(){return Q})),s.d(t,"l",(function(){return Z})),s.d(t,"o",(function(){return ee})),s.d(t,"k",(function(){return te})),s.d(t,"j",(function(){return se})),s.d(t,"i",(function(){return re})),s.d(t,"n",(function(){return ne}));var r=s(34),n=s.n(r),a=s(33),o=s.n(a),i=s(3),c=s.n(i),l=s(9),d=s(0),E=s(30),_=s.n(E),u=s(202),p=s(16),m=s(99);function S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?S(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const C=/^smtp:(\S+)/,g=/^adr:/,O=/^tel:(.*)/,T=e=>e.match(C)[1],A=e=>{const t=[],s={};return e.filter(({ep:e})=>C.test(e)).forEach(({ep:e,type:r})=>{const n=T(e);t.push(n),s[n]=r&&u.e[r.toUpperCase()]?r:u.d.EMAIL}),{emails:t,emailType:s}},I=/^(?:https?|ftp):(?:\/\/)?/i,f={FACEBOOK:"facebook",TWITTER:"twitter",LINKEDIN:"linkedin"},D=h({NAME:"name",POSITION:"position",COMPANY:"company"},f,{WEBSITE:"website",BIRTHDAY:"birthday",ANNIVERSARY:"anniversary",NOTES:"notes",NICKNAME:"nickname",FIRSTNAME:"first_name",MIDDLENAME:"middle_name",LASTNAME:"last_name"}),R={[D.FIRSTNAME]:"firstName",[D.MIDDLENAME]:"middleName",[D.LASTNAME]:"lastName"},b=e=>e?!(e=e.trim())||I.test(e)?e:"http://"+e:e,N=e=>"ke"===e||"user"===e||"yahoo"===e,M=e=>{const t=e.replace("adr:","").split(";"),s={street:t[3],city:t[4],state:t[5],zipcode:t[6],country:t[7]};return Object.keys(s).find(e=>!!s[e])||(s.street=t[8]),s},y=e=>{const t=[];return e.filter(({ep:e})=>g.test(e)).forEach(({ep:e,type:s})=>{const r=M(e);t.push({addrFields:r,type:s&&u.b[s.toUpperCase()]?s:"Address"})}),{addressesWithType:t}},L=(e,t)=>t||e.match(O)[1],P=e=>{const t=[];return e.forEach(({ep:e,type:s,display:r})=>{if(!O.test(e))return;const n=L(e,r).trim();n&&t.push({number:n,original_ep:e,type:s&&u.j[s.toUpperCase()]?s:"Phone"})}),{phonesWithType:t}},v=e=>{const t=e.split("-");for(let e=0;e<t.length;e++)1===t[e].length&&(t[e]="0"+t[e]);return t.join("-")},F=({emails:e,xobniId:t=""})=>({xobniId:t,emails:e,name:"",phonesWithType:[],id:""}),U=e=>{const t=e||{},s=t.name,r=void 0===s?{}:s,n=t.role,a=void 0===n?{}:n,o=t.attributes,i=void 0===o?[]:o,c=t.endpoints,l=void 0===c?[]:c;return h({name:r.name||"",firstName:r.first_name||"",middleName:r.middle_name||"",lastName:r.last_name||"",position:a.position,company:a.company,editToken:t.edit_token,isBusiness:t.is_known_entity,isInUserContactList:t.is_user_curated},((e=[])=>({nickname:(e.find(({key:e})=>e===D.NICKNAME)||{}).value}))(i),{},P(l),{},A(l),{},(({attributes:e=[]})=>{const t={};return Object.keys(f).forEach(s=>{s=f[s];const r=e.find(({source:e,key:t})=>"link"===t&&e===s||N(e)&&t===(e=>e+"_url")(s))||{},n=b(r.value);t[s]=n}),t.backyard=(e.find(({key:e,source:t})=>"user_id"===e&&"corpdir"===t)||{}).value,t})({attributes:i}),{},((e=[])=>({website:b((e.find(({key:e,source:t})=>e===D.WEBSITE&&N(t))||{}).value)}))(i),{},(e=>e.reduce((e,{key:t,value:s})=>{switch(t){case D.NOTES:e[t]=s;break;case D.BIRTHDAY:case D.ANNIVERSARY:e[t]=v(s)}return e},{}))(i),{},y(l))},w=({Contacts:e})=>e.map(e=>{const t=e.Id,s=e["First Name"],r=e["Middle Name"],n=e["Last Name"],a=e.Employer,o=e["Job title"],i=e.Birthday,c=e.Anniversary,l=e.Notes,d=e.Website,E=e.Emails,_=e.Phones,p=e.Addresses,m=(({firstName:e,middleName:t,lastName:s})=>`${`${e} ${t}`.trim()} ${s}`.trim())({firstName:s,middleName:r,lastName:n}),S=[],h={},C=[],g=[];return E&&E.forEach(e=>{S.push(e.Id),h[e.Id]=e.Type&&u.e[e.Type.toUpperCase()]?e.Type:"Email"}),_&&_.forEach(e=>{C.push({number:e.Id,original_ep:"tel:"+e.Id,type:e.Type&&u.j[e.Type.toUpperCase()]?e.Type:"Phone"})}),p&&p.forEach(e=>{g.push({addrFields:M("adr:"+e.Id),type:e.Type&&u.b[e.Type.toUpperCase()]?e.Type:"Address"})}),{id:t,name:m,firstName:s,middleName:r,lastName:n,company:a,position:o,birthday:i,anniversary:c,notes:l,website:d,emails:S,emailType:h,phonesWithType:C,addressesWithType:g,isInUserContactList:!0}});function G({emails:e,contacts_info:t,contacts_by_ep:s,relationshipHistory:r}){return Object(l.c)(t)||Object(l.c)(s)?F({emails:e}):e.map(e=>{const n=o()(s["smtp:"+e],1)[0];if(Object(l.c)(t[n]))return F({emails:[e],xobniId:n});const a=U(t[n]);return h({xobniId:n,id:a.emails[0],relationshipHistory:r},a)})}const H=e=>h({id:(e||{}).id},U(e));function j(e){return[{category:"top",remainingCount:0,contacts:(e["contacts-with-ranks"]||[]).map(({endpoints:e=[],name:t={},id:s,edit_token:r})=>h({id:s,editToken:r},A(e),{name:t.name,isBusiness:!1}))}]}const k=({type:e,value:t})=>{switch(e){case m.b.EMAIL:return"smtp:"+t;case m.b.PHONE:return"tel:"+t;case m.b.ADDRESS:return"adr:"+$(t);default:return t}},x=(e=[])=>e.map(e=>({ep:k(e),name:e.name})),B=({newName:e,addedEndpoints:t=[],removedEndpoints:s=[]})=>{const r={};return e&&(r.new_name=e),t.length&&(r.added_endpoints=x(t)),s.length&&(r.removed_endpoints=s.map(e=>k(e))),r},V=({name:e,endpoints:t=[]})=>({name:e,endpoints:x(t)}),W=({response:e={}})=>{const t=[],s=[];if(e){const r=e.all_groups;(void 0===r?[]:r).forEach(({id:e,name:r})=>{t.push(r),s.push(e)})}return{groups:t,groupIds:s}},K=[{type:m.b.EMAIL,validator:C,mapper:T},{type:m.b.PHONE,validator:O,mapper:L},{type:m.b.ADDRESS,validator:g,mapper:M},{type:m.b.HIDDEN,validator:/^hidden:(\S+)/,mapper:e=>e}],q=(e=[],t)=>{let s=t.name,r=t.ep,a=t.contact_id,o=n()(t,["name","ep","contact_id"]);const i=o.first_name,c=void 0===i?"":i,l=o.middle_name,d=void 0===l?"":l,E=o.last_name,_=void 0===E?"":E,u=Object.keys(o).length>0?{firstName:c,middleName:d,lastName:_}:{},m=h({name:s,id:a||Object(p.generateUID)(),isInUserContactList:!0},u),S=K.find(({validator:e})=>e.test(r));return S?(m.value=S.mapper(r),m.type=S.type,e.concat(m)):e},Y=({response:e={}})=>{const t=e.r;return{contacts:(void 0===t?[]:t).reduce((e,{e:t,n:s,c:r})=>q(e,{name:s,contact_id:r,ep:t}),[])}},z=({response:e={}})=>{const t=e.endpoints;return{id:e.id,groupName:e.name,contacts:(void 0===t?[]:t).reduce(q,[])}};function Q({response:e,count:t}){const s=e.available_groups,r=e.available_group_ids;return{groups:void 0===s?[]:s,groupIds:void 0===r?[]:r,contacts:t?(e.contact_rank_list||[]).map(({category:e,remaining_count:t,contacts:s=[]})=>({category:e.toUpperCase(),remainingCount:t,contacts:s.map(e=>{let t=e.endpoints,s=void 0===t?[]:t,r=e.id,a=e.name,o=e.edit_token,i=n()(e,["endpoints","id","name","edit_token"]);return h({id:r,editToken:o},A(s),{},P(s),{},y(s),{name:a,isInUserContactList:!0,firstName:i.first_name,middleName:i.middle_name,lastName:i.last_name})})})):void 0}}function Z(e){return[{category:"search",remainingCount:0,contacts:e.map(({i:e,n:t,e:s,a_e:r})=>({id:e,name:t,emails:(s?[s]:[]).concat(r)}))}]}function X(e,t={}){const s=[],r=e.emailsWithType,n=e.phonesWithType,a=void 0===n?[]:n,o=e.addressesWithType,i=void 0===o?[]:o,c=t.emailsWithType,l=t.phonesWithType,d=t.addressesWithType;return(void 0===r?[]:r).forEach(e=>{c&&c.find(t=>t.value===e.value&&t.type===e.type)||s.push({ep:"smtp:"+e.value,type:e.type})}),a.forEach(e=>{l&&l.find(t=>t.number===e.number&&t.type===e.type)||s.push({ep:e.original_ep||"tel:"+e.number,type:e.type})}),i.forEach(e=>{d&&d.find(t=>_()(t.addrFields,e.addrFields)&&t.type===e.type)||s.push({ep:"adr:"+$(e.addrFields),type:e.type})}),s}function $(e){return";;;"+Object(l.h)(e).join(";")+";"}function J(e,t){const s={},r=!t;return Object.keys(D).forEach(n=>{const a=n=D[n];e[n]=e[n]||e[R[n]]||"",n===D.WEBSITE&&(e[n]=b(e[n])),r?e[n]&&(s[a]=e[n]):(t[n]=t[n]||t[R[n]]||"",t[n]!==e[n]&&(s[a]=e[n]))}),s}function ee(e){const t=e.emailsWithType,s=e.phonesWithType,r=void 0===s?[]:s,n=e.addressesWithType,a=void 0===n?[]:n;return h({},e,{emailsWithType:(void 0===t?[]:t).filter(e=>""!==e.value),phonesWithType:r.filter(e=>""!==e.number),addressesWithType:a.filter(e=>!function(e){return 0===Object(l.h)(e).filter(e=>e).length}(e.addrFields))})}function te(e,t){const s=J(t,e);return{source:e.editToken,changes:h({},s,{removed_endpoints:X(e,t),added_endpoints:X(t,e)})}}function se({contact:e,image:t}){const s=J(e=ee(e));return t&&(s.image=t),{source_contacts:[h({},s,{endpoints:X(e)})]}}function re({response:e={}}){const t=e.preferences,s=void 0===t?{}:t,r={};return d.Z.forEach(e=>{let t=s["import_time_"+e];const n=s["sync_"+e];switch(t&&(t*=1e3),(s["import_status_"+e]||{}).status){case"DONE":r[e]={status:n?d.Wd.CONNECTED:d.Wd.EXPIRED,lastImportedTime:t};break;case"FAIL":r[e]={status:d.Wd.FAILED,lastImportedTime:t};break;case"QUEUED":r[e]={status:d.Wd.QUEUED,lastImportedTime:t};break;default:r[e]={status:d.Wd.NOT_CONNECTED,lastImportedTime:t}}}),r}function ne({results:e={}}){return Object.keys(d.Y).reduce((t,s)=>{const r=e[d.Vd[s]];return t[s]=r?{status:r.is_expired?d.Wd.EXPIRED:d.Wd.CONNECTED,connectedTimestamp:r.issued_ts,expiredTimestamp:r.expired_ts}:{status:d.Wd.NOT_CONNECTED},t},{})}},,function(e,t,s){"use strict";var r=s(70);t.a=s.n(r).a.create("norrin/base_client")},function(e,t,s){"use strict";s.d(t,"b",(function(){return l})),s.d(t,"d",(function(){return d})),s.d(t,"r",(function(){return E})),s.d(t,"e",(function(){return _})),s.d(t,"l",(function(){return u})),s.d(t,"m",(function(){return p})),s.d(t,"k",(function(){return m})),s.d(t,"o",(function(){return S})),s.d(t,"j",(function(){return h})),s.d(t,"p",(function(){return C})),s.d(t,"n",(function(){return g})),s.d(t,"q",(function(){return O})),s.d(t,"h",(function(){return T})),s.d(t,"g",(function(){return A})),s.d(t,"c",(function(){return I})),s.d(t,"f",(function(){return f})),s.d(t,"i",(function(){return D})),s.d(t,"a",(function(){return R}));var r=s(3),n=s.n(r),a=s(2),o=s(5);function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function l(e){return c({},e,{type:a.ADD_COMPOSE_HEADER})}function d(e){return c({},e,{type:a.CLEAR_FORWARDED_ATTACHMENT_IDS})}function E(e){return c({},e,{type:a.UPDATE_COMPOSE_HEADER_FOCUS})}function _(e){return c({},e,{type:a.DELETE_COMPOSE_HEADER})}function u(e){return c({},e,{type:a.V3_MESSAGE_SAVE_REQUESTED})}function p(e){return c({},e,{type:a.V3_MESSAGE_SAVE_SUCCEEDED})}function m(e){return c({},e,{type:a.V3_MESSAGE_SAVE_FAILED})}function S(e){return c({},e,{type:a.V3_MESSAGE_SEND_REQUESTED})}function h(e){return c({},e,{type:a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED,i13nModel:{mKey:o.g.SEND_MSG,sec:o.i.COMPOSE_MSG,mKeyGroup:o.h.sendMsg,interactionType:o.e.click}})}function C(e){return c({},e,{type:a.V3_MESSAGE_SEND_SUCCEEDED,i13nModel:{mKey:o.g.SEND_MSG,sec:o.i.COMPOSE_MSG,mKeyGroup:o.h.sendMsg,interactionType:o.e.click}})}function g(e){return c({},e,{type:a.V3_MESSAGE_SEND_FAILED})}function O(e){return c({},e,{type:a.RTE_MORE_MENU_SHOWN})}function T(e){return c({},e,{type:a.HANDLE_RTE_TOOLBAR_ACTIONS})}function A(e){return c({},e,{type:a.QUOTED_TEXT_EXPANDED})}function I(e){return c({},e,{type:a.CONTACT_ADDED})}function f(e){return c({},e,{type:a.CONTACT_DRAG_DROP})}function D(e){return c({},e,{type:a.UPLOAD_PROGRESS_RECEIVED})}function R(){return{type:a.ADD_BIG_ATTACHMENT,i13nModel:{sec:o.i.COMPOSE_TOOLBAR,mKey:o.g.COMPOSE_ADD_BIG_ATTACHMENT}}}},function(e,t,s){"use strict";s.d(t,"c",(function(){return S})),s.d(t,"q",(function(){return h})),s.d(t,"a",(function(){return C})),s.d(t,"o",(function(){return g})),s.d(t,"b",(function(){return O})),s.d(t,"p",(function(){return T})),s.d(t,"f",(function(){return A})),s.d(t,"e",(function(){return I})),s.d(t,"d",(function(){return f})),s.d(t,"k",(function(){return D})),s.d(t,"j",(function(){return R})),s.d(t,"m",(function(){return b})),s.d(t,"n",(function(){return N})),s.d(t,"l",(function(){return M})),s.d(t,"i",(function(){return y})),s.d(t,"g",(function(){return L})),s.d(t,"h",(function(){return P}));var r=s(3),n=s.n(r),a=s(34),o=s.n(a),i=s(0),c=s(2),l=s(8),d=s(10);function E(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?E(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):E(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const u=(e=!0)=>t=>{let s=t.cardMid,r=o()(t,["cardMid"]);return(t,n)=>{const a=Object(d.selectors)(n()),o=a.isFeatureEnabled,E=(0,a.getSelectedAccountId)(),u=o(i.Eb.DEALS_VIEW_FOR_INTLS)?[i.Mb.TRASH,i.Mb.BULK]:[],p=Object(l.gb)("{}",{listContentType:i.ac.COUPON_CARDS,listFilter:e?i.bc.SAVED_COUPON_CARDS:i.bc.ALL_COUPON_CARDS,accountIds:[E],excludefolders:u,referrer:i.cc[i.Ud.COUPONS]});t(_({type:e?c.COUPONS_ADD_TAG_DECO_REQUESTED:c.COUPONS_REMOVE_TAG_DECO_REQUESTED,listId:p,streamId:p,messageDecosPayloads:[{messageId:s}],messageId:s,schemaCard:{id:s,type:i.Ad.Coupon,clipped:e},accountId:E,cardMid:s},r))}},p=e=>t=>_({type:e},t),m=e=>t=>({type:e,error:t}),S=(e={})=>p(c.COUPONS_ADD_TAG_DECO_SUCCEEDED)(e),h=(e={})=>p(c.COUPONS_REMOVE_TAG_DECO_SUCCEEDED)(e),C=e=>m(c.COUPONS_ADD_TAG_DECO_FAILED)(e),g=e=>m(c.COUPONS_REMOVE_TAG_DECO_FAILED)(e),O=(e={})=>u(!0)(e),T=(e={})=>u(!1)(e),A=()=>({type:c.VIGLINK_CLICKED}),I=()=>({type:c.COUPON_RECOMMENDATIONS_OPENED}),f=(e="")=>({type:c.COUPON_RECOMMENDATIONS_CLOSED,listId:Object(l.e)({referrer:i.cc.COUPON_RECOMMENDATIONS,keyword:e})}),D=(e={})=>p(c.EXTRACT_COUPON_SUCCEEDED)(e),R=e=>m(c.EXTRACT_COUPON_FAILED)(e),b=e=>({type:c.PARENT_MESSAGE_METADATA_REQUESTED,cardConversationId:e}),N=e=>_({},e,{type:c.PARENT_MESSAGE_METADATA_SUCCEEDED}),M=e=>({error:e,type:c.PARENT_MESSAGE_METADATA_FAILED}),y=(e={})=>_({type:c.DEALS_VIEW_EXPANSION_TOGGLED},e),L=({i13nModel:e})=>({type:c.DEALS_SHOPPING_CART_AD_CLICKED,i13nModel:e}),P=({i13nModel:e})=>({type:c.DEALS_SHOPPING_CART_AD_RENDERED,i13nModel:e})},function(e,t,s){"use strict";s.d(t,"n",(function(){return l})),s.d(t,"o",(function(){return d})),s.d(t,"a",(function(){return E})),s.d(t,"b",(function(){return _})),s.d(t,"r",(function(){return u})),s.d(t,"s",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"d",(function(){return S})),s.d(t,"j",(function(){return h})),s.d(t,"g",(function(){return C})),s.d(t,"k",(function(){return g})),s.d(t,"h",(function(){return O})),s.d(t,"i",(function(){return T})),s.d(t,"m",(function(){return A})),s.d(t,"f",(function(){return I})),s.d(t,"l",(function(){return f})),s.d(t,"t",(function(){return D})),s.d(t,"q",(function(){return R})),s.d(t,"p",(function(){return b})),s.d(t,"e",(function(){return N}));var r=s(33),n=s.n(r),a=s(88),o=s(0),i=(s(2),s(8),s(10));function c(e,t,s=(()=>!0)){const r=Object(i.selectors)(e.store.getState()),n=r.getMessageIdsFromMessageGroupId,a=r.__getMessageWithFlagsAndFolderId,o=t.map(e=>n(e).filter(e=>{const t=a(e);return s(t)}));return[].concat(...o)}function l(e,{destinationFolderId:t,listId:s,messageGroupIds:r,streamId:n,streamItem:o,i13nModel:i}){a.n(e,{destinationFolderId:t,listId:s,streamId:n,streamItem:o,messageIds:c(e,r),messageGroupIds:r,i13nModel:i})}function d(e,{destinationFolderId:t,listId:s,messageGroupIds:r,streamId:n,streamItem:o,i13nModel:i}){a.o(e,{listId:s,streamId:n,streamItem:o,destinationFolderId:t,messageIds:c(e,r),messageGroupIds:r,i13nModel:i})}function E(e,{listId:t,messageGroupIds:s,streamId:r,streamItem:n,i13nModel:o}){a.a(e,{listId:t,streamId:r,streamItem:n,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function _(e,{messageGroupIds:t,listId:s,streamId:r,streamItem:n,i13nModel:o}){a.b(e,{messageIds:c(e,t),messageGroupIds:t,listId:s,streamId:r,streamItem:n,i13nModel:o})}function u(e,{listId:t,messageGroupIds:s,streamId:r,streamItem:n,i13nModel:o}){a.s(e,{listId:t,streamId:r,streamItem:n,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function p(e,{listId:t,messageGroupIds:s,streamId:r,streamItem:n,i13nModel:o}){a.t(e,{listId:t,streamId:r,streamItem:n,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function m(e,{listId:t,messageGroupIds:s,permanent:r,streamId:n,streamItem:l,i13nModel:d,batchRemoveItems:E,batchDelete:_}){let u=c(e,s);if(0!==u.length){if(r){const t=Object(i.selectors)(e.store.getState()).__isPermDeleteMessage;u=u.filter(e=>t(e))}return a.e(e,{listId:t,streamId:n,streamItem:l,isV2Action:!0,destinationFolderType:o.Mb.TRASH,messageIds:u,messageGroupIds:s,permanent:r,i13nModel:d,batchRemoveItems:E,batchDelete:_})}}function S(e,{listId:t,permanent:s,messageGroupIds:r,streamId:n,streamItem:o,i13nModel:l}){const d=Object(i.selectors)(e.store.getState()).doesMessageGroupIdExist,E=r.filter(e=>d(e));0!==E.length&&a.c(e,{messageGroupIds:E,messageIds:c(e,E),permanent:s,listId:t,streamId:n,streamItem:o,i13nModel:l})}function h(e,{listId:t,messageGroupIds:s,streamId:r,streamItem:n,i13nModel:o}){a.j(e,{listId:t,streamId:r,streamItem:n,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function C(e,{listId:t,messageGroupIds:s,streamId:r,streamItem:n,i13nModel:o}){a.g(e,{listId:t,streamId:r,streamItem:n,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function g(e,{listId:t,messageGroupIds:s,streamId:r,streamItem:n,i13nModel:o}){a.k(e,{listId:t,streamId:r,streamItem:n,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function O(e,{listId:t,messageGroupIds:s,streamId:r,streamItem:n,i13nModel:o}){a.h(e,{listId:t,streamId:r,streamItem:n,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function T(e,{messageGroupIds:t,streamId:s,streamItem:r,i13nModel:n}){a.i(e,{itemId:t[0],messageIds:c(e,t,e=>!e.flags.read),streamId:s,streamItem:r,i13nModel:n})}function A(e,{messageGroupIds:t,streamId:s,streamItem:r,i13nModel:n}){a.m(e,{itemId:t[0],messageIds:c(e,t,e=>e.flags.read),streamId:s,streamItem:r,i13nModel:n})}function I(e,{messageGroupIds:t,streamId:s,streamItem:r,i13nModel:n}){a.f(e,{itemId:t[0],messageIds:c(e,t,e=>!e.flags.flagged),streamId:s,streamItem:r,i13nModel:n})}function f(e,{messageGroupIds:t,streamId:s,streamItem:r,i13nModel:n}){a.l(e,{itemId:t[0],messageIds:c(e,t,e=>e.flags.flagged),streamId:s,streamItem:r,i13nModel:n})}function D(e,{messageGroupIds:t,i13nModel:s}){const r=n()(t,1)[0],o=(0,Object(i.selectors)(e.store.getState()).__getLastNonDraftMessageIdByGroupId)(r);a.p(e,{messageId:o,i13nModel:s})}function R(e,{messageGroupId:t,i13nModel:s,triggeredFromContextMenu:r=!1}){const n=Object(i.selectors)(e.store.getState()),o=(0,n.__getMessageWithFlagsAndFolderId)((0,n.__getLastNonDraftMessageIdByGroupId)(t));a.q(e,{messageGroupId:t,message:o,i13nModel:s,triggeredFromContextMenu:r})}function b(e,{messageGroupId:t,i13nModel:s,triggeredFromContextMenu:r=!1}){const n=Object(i.selectors)(e.store.getState()),o=(0,n.__getMessageWithFlagsAndFolderId)((0,n.__getLastNonDraftMessageIdByGroupId)(t));a.r(e,{messageGroupId:t,message:o,i13nModel:s,triggeredFromContextMenu:r})}function N(e,{messageGroupId:t,i13nModel:s,triggeredFromContextMenu:r=!1}){const n=Object(i.selectors)(e.store.getState()),o=(0,n.__getMessageWithFlagsAndFolderId)((0,n.__getLastNonDraftMessageIdByGroupId)(t));a.d(e,{messageGroupId:t,message:o,i13nModel:s,triggeredFromContextMenu:r})}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(144),d=s(12),E=s.n(d),_=s(690),u=s.n(_),p=s(478);s(9);class m extends c.a.Component{constructor(...e){super(...e),n()(this,"forceFocus",()=>{this.refs.content&&this.refs.content.focus()}),n()(this,"handleBlurCapture",e=>{this.refs.content.contains(e.relatedTarget||e.nativeEvent.explicitOriginalTarget||e.nativeEvent.srcElement)||setTimeout(this.forceFocus,0)}),n()(this,"handleKeyDown",e=>{const t=this.props,s=t.onKeyDown,r=t.onClose;e.stopPropagation(),"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),r(e)):s&&s(e)}),n()(this,"handleOuterPartClick",e=>{if(e.stopPropagation(),this.props.onOuterClick)return this.props.onOuterClick(e);this.props.onClose(e)})}componentDidMount(){this.forceFocus(),window.addEventListener("focus",this.forceFocus),this.refs.content&&(this.mousetrap=this.context.bindShortcut(["esc"],this.handleKeyDown,this.refs.content))}componentWillUnmount(){window.removeEventListener("focus",this.forceFocus),this.mousetrap&&this.context.unbindShortcut(["esc"],this.mousetrap)}render(){const e=this.props,t=e.children,s=e.kind,r=e.ariaLabelledBy,n=e.ariaDescribedBy,a=e.hideShadow,o=e.layerRootId,i=E()(u.a,{kind:s,hideShadow:a});return c.a.createElement(l.a,{rootId:o},c.a.createElement("div",{onClick:this.handleOuterPartClick,className:i.grayOverlay,"data-test-id":"modal-outer",id:"modal-outer",role:r||n?"alertdialog":null,"aria-labelledby":r,"aria-describedby":n},c.a.createElement("div",{"data-test-id":"modal-content",className:i.container,ref:"content",onBlurCapture:this.handleBlurCapture,onKeyDown:this.handleKeyDown,onClick:S,tabIndex:0,role:r||n?"document":null},t)))}}function S(e){e.stopPropagation()}n()(m,"contextTypes",{bindShortcut:o.a.func,unbindShortcut:o.a.func}),n()(m,"defaultProps",{hideShadow:!1,kind:p.a.DARK,ariaLabelledBy:null,ariaDescribedBy:null,layerRootId:"app"}),t.a=m},function(e,t,s){"use strict";s.d(t,"a",(function(){return l})),s.d(t,"h",(function(){return d})),s.d(t,"g",(function(){return E})),s.d(t,"d",(function(){return _})),s.d(t,"c",(function(){return u})),s.d(t,"b",(function(){return p})),s.d(t,"f",(function(){return m})),s.d(t,"e",(function(){return S}));var r=s(3),n=s.n(r),a=s(2),o=s(0);function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const l=e=>c({type:"click"===e.userAction?a.FEATURE_TRY_NOW_REQUESTED:a.FEATURE_CLOSED},e),d=e=>c({type:a.PAC_CUE_MARK_AS_SHOWN_REQUESTED},e),E=e=>c({type:a.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED},e),_=e=>c({type:a.FEATURE_CUE_NOTIFICATION_CLOSED},e),u=e=>c("click"===e.userAction?{type:a.FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED,name:o.Kd.SCOUT_ONBOARDING}:{type:a.FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED,name:o.Kd.SCOUT_ONBOARDING},e),p=({userAction:e,error:t})=>"click"===e?{type:a.FEATURE_CUE_MARK_AS_SUCCESS_FAILED,error:t}:{type:a.FEATURE_CUE_MARK_AS_CLOSE_FAILED,error:t},m=e=>c({type:a.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED,name:o.Kd.SCOUT_ONBOARDING},e),S=e=>({type:a.FEATURE_CUE_MARK_AS_SHOWN_FAILED,error:e.error,feature:e.feature})},function(e,t,s){"use strict";s.d(t,"f",(function(){return c})),s.d(t,"h",(function(){return l})),s.d(t,"g",(function(){return d})),s.d(t,"o",(function(){return E})),s.d(t,"n",(function(){return _})),s.d(t,"j",(function(){return u})),s.d(t,"a",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"b",(function(){return S})),s.d(t,"k",(function(){return h})),s.d(t,"m",(function(){return C})),s.d(t,"l",(function(){return g})),s.d(t,"e",(function(){return O})),s.d(t,"d",(function(){return T})),s.d(t,"i",(function(){return A}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function c(e){return i({type:a.ACCOUNT_DELETE_REQUESTED},e)}function l(e){return i({type:a.ACCOUNT_DELETE_SUCCEEDED},e)}function d(e){return i({type:a.ACCOUNT_DELETE_FAILED},e)}function E(e){return i({type:a.ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED},e)}function _(e){return i({type:a.ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED},e)}function u(e){return i({type:a.EMAIL_PROVIDER_SELECTED},e)}function p(e){return i({type:a.ACCOUNT_ADD_REQUESTED},e)}function m(e){return i({type:a.ACCOUNT_ADD_SUCCEEDED},e)}function S(e){return i({type:a.ACCOUNT_ADD_FAILED},e)}const h=e=>i({type:a.ACCOUNT_REAUTH_REQUESTED},e),C=e=>i({type:a.ACCOUNT_REAUTH_SUCCEEDED},e),g=e=>i({type:a.ACCOUNT_REAUTH_FAILED},e);function O(e){return i({},e,{type:a.ACCOUNT_DELETE_CONFIRMED})}function T(e){return i({type:a.ACCOUNT_ADD_AUTHORIZED},e)}function A(e){return i({type:a.FETCH_PRIMARY_ACCOUNT},e)}},function(e,t,s){"use strict";var r=s(6);t.a=Object(r.defineMessages)({UNREAD:{id:"smart_view_unread_tooltip",defaultMessage:"Unread - Click to see unread mails"},smart_view_selected_UNREAD:{id:"smart_view_selected_unread_tooltip",defaultMessage:"Unread, selected - Showing unread mails"},STARRED:{id:"smart_view_starred_tooltip",defaultMessage:"Starred - Click to see starred mails"},smart_view_selected_STARRED:{id:"smart_view_selected_starred_tooltip",defaultMessage:"Starred, selected - Showing starred mails"},DOCUMENTS:{id:"smart_view_document_tooltip",defaultMessage:"Documents - Click to see all documents"},smart_view_selected_DOCUMENTS:{id:"smart_view_selected_document_tooltip",defaultMessage:"Documents, selected - Showing all documents"},PHOTOS:{id:"smart_view_photos_tooltip",defaultMessage:"Photos - Click to see all Photos"},smart_view_selected_PHOTOS:{id:"smart_view_selected_photos_tooltip",defaultMessage:"Photos, selected - Showing all Photos"},TUTORIAL:{id:"smart_view_tutorial_tooltip",defaultMessage:"Tutorials - Click to see all tutorial videos"},COUPONS:{id:"smart_view_coupons_tooltip",defaultMessage:"Deals - Click to see all deals"},COUPON_EMAILS:{id:"smart_view_coupon_emails_tooltip",defaultMessage:"Deals - Click to see all deals"},GROCERIES:{id:"smart_view_groceries_tooltip",defaultMessage:"Groceries - Click to see all grocery stores where you can save"},RECEIPTS:{id:"smart_view_receipts_tooltip",defaultMessage:"Receipts - Click to see all receipts"},SUBSCRIPTIONS:{id:"smart_view_subscriptions_tooltip",defaultMessage:"Subscriptions - Click to see all subscriptions"},smart_view_selected_TUTORIAL:{id:"smart_view_selected_tutorial_tooltip",defaultMessage:"Tutorial, selected - Showing the tutorial video"},TRAVEL:{id:"smart_view_travel_tooltip",defaultMessage:"Travel - Click to see your travel details"},ATTACHMENTS:{id:"smart_view_attachments_tooltip",defaultMessage:"Attachments - Click to see your attachments"},smart_view_UNREAD:{id:"smart_view_unread",defaultMessage:"Unread"},smart_view_STARRED:{id:"smart_view_starred",defaultMessage:"Starred"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},smart_view_DOCUMENTS:{id:"smart_view_document",defaultMessage:"Documents"},smart_view_PHOTOS:{id:"photos_label",defaultMessage:"Photos"},smart_view_TUTORIAL:{id:"smart_view_tutorial",defaultMessage:"Tutorials"},smart_view_COUPONS:{id:"smart_view_coupons",defaultMessage:"Deals"},smart_view_COUPON_EMAILS:{id:"smart_view_coupon_emails",defaultMessage:"Deals"},smart_view_selected_COUPONS:{id:"smart_view_selected_coupons_tooltip",defaultMessage:"Deals, selected - Showing your deals"},smart_view_selected_COUPON_EMAILS:{id:"smart_view_selected_coupon_emails_tooltip",defaultMessage:"Deals, selected - Showing your deals"},smart_view_GROCERIES:{id:"smart_view_groceries",defaultMessage:"Groceries"},smart_view_selected_GROCERIES:{id:"smart_view_selected_groceries_tooltip",defaultMessage:"Groceries, selected - Showing your grocery stores"},smart_view_TRAVEL:{id:"smart_view_travel",defaultMessage:"Travel"},smart_view_selected_TRAVEL:{id:"smart_view_selected_travel_tooltip",defaultMessage:"Travel, selected - Showing all flights"},smart_view_RECEIPTS:{id:"smart_view_receipts",defaultMessage:"Receipts"},smart_view_selected_RECEIPTS:{id:"smart_view_selected_receipts_tooltip",defaultMessage:"Receipts, selected - Showing your receipts"},smart_view_SUBSCRIPTIONS:{id:"smart_view_subscriptions",defaultMessage:"Subscriptions"},smart_view_selected_SUBSCRIPTIONS:{id:"smart_view_selected_subscriptions_tooltip",defaultMessage:"Subscriptions, selected - Showing your subscriptions"},smart_view_ATTACHMENTS:{id:"smart_view_attachments",defaultMessage:"Attachments"},smart_view_selected_ATTACHMENTS:{id:"smart_view_selected_attachments_tooltip",defaultMessage:"Attachments, selected - Showing your attachments"},smart_view_ALL:{id:"category.all_header",defaultMessage:"All"},smart_view_PEOPLE:{id:"category.people_header",defaultMessage:"People"},smart_view_PEOPLE_HINT:{id:"category.people_hint",defaultMessage:"Messages from real people, not businesses or promotions"},smart_view_PEOPLE_SHORT_HINT:{id:"category.people_short_hint",defaultMessage:"Turn on <strong>People View</strong> to see messages from people in one place."},smart_view_SHOPPING:{id:"category.shopping_header",defaultMessage:"Shopping"},smart_view_SHOPPING_HINT:{id:"category.shopping_hint",defaultMessage:"Subscriptions, coupons, deals and order confirmations"},smart_view_SHOPPING_SHORT_HINT:{id:"category.shopping_short_hint",defaultMessage:"Subscriptions, coupons, deals and orders"},smart_view_SOCIAL:{id:"category.social_header",defaultMessage:"Social"},smart_view_SOCIAL_HINT:{id:"category.social_hint",defaultMessage:"Updates from social networks like Facebook, LinkedIn and others"},smart_view_SOCIAL_SHORT_HINT:{id:"category.social_short_hint",defaultMessage:"Updates from social networks"},smart_view_FINANCE:{id:"category.finance_header",defaultMessage:"Finance"},smart_view_FINANCE_HINT:{id:"category.finance_hint",defaultMessage:"Banks, credit card and transaction notifications"},smart_view_FINANCE_SHORT_HINT:{id:"category.finance_short_hint",defaultMessage:"Banks, credit card and transaction notifications"},smart_view_TRAVEL_HINT:{id:"category.travel_hint",defaultMessage:"Flights, hotel reservations and travel confirmations"},smart_view_TRAVEL_SHORT_HINT:{id:"category.travel_short_hint",defaultMessage:"Messages about flights, hotel reservations"},moveCategoryUp:{id:"move_category_up",defaultMessage:"Move view up"},moveCategoryDown:{id:"move_category_down",defaultMessage:"Move view down"},categorization_header:{id:"categorization_header",defaultMessage:"Inbox views"},categorization_hint:{id:"categorization_hint",defaultMessage:"Automatically group messages by views for easier organization"},categorization_onboarding:{id:"categorization_onboarding",defaultMessage:"Automatically group messages by category for easier organization"}})},,function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(9);const n=Object(r.d)(["DEFAULT","GRID","WRAP_CONTENT"])},function(e,t,s){"use strict";s.d(t,"i",(function(){return p})),s.d(t,"b",(function(){return m})),s.d(t,"a",(function(){return S})),s.d(t,"j",(function(){return h})),s.d(t,"f",(function(){return C})),s.d(t,"d",(function(){return g})),s.d(t,"e",(function(){return O})),s.d(t,"h",(function(){return T})),s.d(t,"c",(function(){return A})),s.d(t,"g",(function(){return I}));var r=s(3),n=s.n(r),a=s(2),o=s(0),i=s(8),c=s(139),l=s(10);function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function _(e,t){return(0,Object(l.selectors)(e.store.getState()).getFolderIdsForSelectedAccount)(t)[0]}function u(e,t,s){const r=Object(l.selectors)(e.store.getState()),n=r.getListLmv3Query,o=r.doesListExist,d=(0,r.getSelectedAccountId)(),_=t.listId,u=t.destinationFolderId,p=t.allItemsCount,m=t.flags,S=t.triageActionType,h=Object(i.q)(_),C=o(_)?n(_):void 0,g=C?JSON.parse(C):void 0;let O=g?g.base:null;if(!O&&h&&(O=Object(c.e)({folderId:h})),!O)return;g&&g.token&&(O+=" querytoken:"+g.token);const T=-1!==[a.DELETE_ITEMS_REQUESTED,a.READ_CHANGE_REQUESTED].indexOf(s)?h:u;e.dispatch(s,E({},t,{accountId:d,folderId:T,isAsync:!0,conversations:!1,count:p,allSelected:!0,isV2Action:!0,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,triageActionType:S,folderId:T,conversations:!1},failureAction:{type:a.UPDATE_ITEMS_FAILED,triageActionType:S,folderId:T}}));const A=E({folderId:h,query:O,isAsync:!0,isConversation:!1},u&&{destinationFolderId:u},{},m&&{flags:m});return e.mailAPIClient.request(t.permanent?"folderList.delete":"folderList.update",[A]).then(({task:t})=>e.dispatch(a.BULK_PROGRESS_RECEIVED,t)).catch(s=>e.dispatch(a.UPDATE_ITEMS_FAILED,{conversations:!1,count:p,allSelected:!0,destinationFolderType:t.destinationFolderType,triageActionType:S,error:s}))}function p(e,t){return u(e,E({},t,{triageActionType:o.ye.MOVE_ALL_ITEMS,flags:null}),a.MOVE_ITEMS_REQUESTED)}function m(e,t){return u(e,E({},t,{flags:null,destinationFolderType:o.Mb.TRASH,destinationFolderId:_(e,o.Mb.TRASH),triageActionType:o.ye.DELETE_ALL_ITEMS}),a.DELETE_ITEMS_REQUESTED)}function S(e,t){return u(e,E({},t,{flags:null,destinationFolderType:o.Mb.ARCHIVE,destinationFolderId:_(e,o.Mb.ARCHIVE),triageActionType:o.ye.ARCHIVE_ALL_ITEMS}),a.MOVE_ITEMS_REQUESTED)}function h(e,t){return u(e,E({},t,{flags:null,destinationFolderType:o.Mb.INBOX,destinationFolderId:_(e,o.Mb.INBOX),triageActionType:o.ye.RESTORE_ALL_ITEMS}),a.MOVE_ITEMS_REQUESTED)}function C(e,t){return u(e,E({},t,{flags:{spam:!0},destinationFolderType:o.Mb.BULK,destinationFolderId:_(e,o.Mb.BULK),triageActionType:o.ye.SPAM_ALL_ITEMS}),a.MOVE_ITEMS_REQUESTED)}function g(e,t){return u(e,E({},t,{flags:{ham:!0},destinationFolderType:o.Mb.INBOX,destinationFolderId:_(e,o.Mb.INBOX),triageActionType:o.ye.NOT_SPAM_ALL_ITEMS}),a.MOVE_ITEMS_REQUESTED)}function O(e,t){return u(e,E({},t,{isRead:!1,flags:{read:!0},triageActionType:o.ye.READ_CHANGE_ALL_ITEMS}),a.READ_CHANGE_REQUESTED)}function T(e,t){return u(e,E({},t,{isRead:!0,flags:{read:!1},triageActionType:o.ye.READ_CHANGE_ALL_ITEMS}),a.READ_CHANGE_REQUESTED)}function A(e,t){return u(e,E({},t,{isStarred:!1,flags:{flagged:!0},triageActionType:o.ye.STAR_CHANGE_ALL_ITEMS}),a.STAR_CHANGE_REQUESTED)}function I(e,t){return u(e,E({},t,{isStarred:!0,flags:{flagged:!1},triageActionType:o.ye.STAR_CHANGE_ALL_ITEMS}),a.STAR_CHANGE_REQUESTED)}},function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"e",(function(){return a})),s.d(t,"a",(function(){return o})),s.d(t,"f",(function(){return i})),s.d(t,"c",(function(){return c})),s.d(t,"d",(function(){return l}));var r=s(19);function n(e,t){for(let s=e.length;s;s--)if(t(e[s-1]))return s-1;return-1}function a(e,t=0){Object(r.a)("number"==typeof e&&parseInt(Number(e),10)===e&&e>=0,"`range` should be a non-negative integer");const s=Array(e);for(;e--;)s[e]=e+t;return s}function o(e,...t){return e.concat(t)}function i(e,t,s=1){return-1===t?e:e.slice(0,t).concat(e.slice(t+s))}const c=e=>Array.prototype.concat.apply([],e),l=(e,t)=>e.reduce(([e,s],r)=>t(r)?[[...e,r],s]:[e,[...s,r]],[[],[]])},function(e,t,s){"use strict";s.d(t,"b",(function(){return l})),s.d(t,"a",(function(){return d})),s.d(t,"c",(function(){return E})),s.d(t,"d",(function(){return _})),s.d(t,"e",(function(){return u}));var r=s(0),n=s(3),a=s.n(n);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>e&&e.length?e.reduce((e,t)=>{const s=t.split(",");return i({},e,{[s[0]]:[s[1],s[2]]})},{}):{},l=(e=[],t)=>{const s=c(e);if(s[t]){const e=s[t][0]?1:0;return+(s[t][1]||0)||e}return 0},d=(e=[],t)=>{const s=c(e);return s[t]&&s[t][0]||0},E=({attribute:e=[],key:t,recurringInterval:s=0})=>{const r=d(e,t),n=Math.floor(Date.now()/1e3)-parseInt(r,10);return n>0&&n>s},_=e=>l(e,r.Eb.MOBILE_PAC_NOTIFICATION_CUE)<r.tc,u=e=>l(e,r.Eb.WEB_PAC_NOTIFICATION_CUE)<r.Ee},function(e,t,s){"use strict";s.d(t,"d",(function(){return _})),s.d(t,"e",(function(){return u})),s.d(t,"a",(function(){return p})),s.d(t,"f",(function(){return m})),s.d(t,"c",(function(){return S})),s.d(t,"b",(function(){return h}));var r=s(3),n=s.n(r),a=s(2),o=s(0),i=s(10),c=s(8),l=s(48);function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const _=e=>(t,s)=>{if(e.streamId)return t(E({type:a.MOVE_ITEMS_REQUESTED,streamId:e.streamId},e));const r=Object(i.selectors)(s()),n=r.getRouteParams,d=r.doesStreamExist,_=r.getCursorItem,u=r.getFeaturesSelectors,p=(0,r.getRoute)(),m=n(),S=Object(c.z)(p),h=Object(l.a)([S]),C={listId:S,id:((d(h)?_(h):{})||{}).id||m.groupId};return!(0,u().isEnabled)(o.Eb.CONVERSATIONS)&&e.messageIds&&(C.id=e.messageIds[0]),t(E({type:a.MOVE_ITEMS_REQUESTED,streamId:h,streamItem:C},e))},u=e=>_(E({},e,{destinationFolderType:o.Mb.INBOX})),p=e=>_(E({},e,{destinationFolderType:o.Mb.ARCHIVE})),m=e=>_(E({},e,{destinationFolderType:o.Mb.BULK})),S=e=>E({},e,{type:a.ITEMS_DRAG_STARTED}),h=e=>E({},e,{type:a.CONFIRM_DELETE_DIALOG_CLOSED})},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(9);const n=Object(r.d)(["DEFAULT","MENU","TOOLBAR"])},,function(e,t,s){"use strict";s.r(t),s.d(t,"getTAE",(function(){return E})),s.d(t,"logRapidTAE",(function(){return _})),s.d(t,"apiErrorLogger",(function(){return u})),s.d(t,"apiPassiveErrorLogger",(function(){return p}));var r=s(19),n=s(0),a=s(40),o=s(45),i=s(20),c=s(9);const l=Object(c.d)([n.z.BootcampClient,n.z.CloudStorageClient,n.z.AstraClient,n.z.MailAPIClient,n.z.UDBClient,n.z.EpochCalendarClient]),d=Object(c.d)([n.z.CredstoreClient,n.z.LinkEnhancerClient,n.z.XobniClient,n.z.NeedToKnowNewsClient]);function E(e,t,s){const r=s.apiName,a=s.statusCode,o=s.errorCode,c=s.alertTAE;return!1===(void 0===c||c)?100:function({apiName:e,isOnline:t,alertTAE:s=!0},r,a){if(!1===s)return!1;if(!Object(i.c)())return!0;if(!t)return!1;if(["CRUMB","AUTH","EC-4012","EC-4023"].indexOf(r)>-1)return!1;if("EC-4008"===r&&a!==n.z.AstraClient)return!1;if(["REQUEST_BLOCKED","DEBOUNCED","ES-2001"].indexOf(r)>-1)return!1;if(d[a])return!1;if(a===n.z.AstraClient&&"EC-4003"===r)return!1;switch(e){case"checkMail":case"messages.autosave":case"messages.autoSaveV3":case"messages.prefetchGetBodies":case"messages.prefetchGetBodiesFull":case"messages.prefetchGetExtractedBodies":case"messages.prefetchGetExtractedBodiesFull":case"getContentProviders":case"getCouponRecommendations":case"searchSuggestions":case"recentSearches":case"requestNeedToKnowNews":case"mailbox.syncNow":return!1}return!0}(s,o,e)?function(e,t){return 429===e||"EC-4017"===t||"EC-4018"===t}(a,o)?19:r&&function(e){return 0===e.indexOf("launch.")}(r)?15:function(e,t="",s){return!([400,500].indexOf(s)>-1)&&(0===e.indexOf("HttpTransport.")&&!t||["ECONNABORTED","ECONNREFUSED","ECONNRESET","ENOTFOUND","OUTBOUND","REQUEST_QUEUE_TIMEOUT","REQUEST_QUEUE_REJECTED","YCPI"].indexOf(t)>-1)}(t.name,o,a)?18:function(e){return e===n.z.UDBClient}(e)?1:function(e,t){return e===n.z.BootcampClient||e===n.z.CloudStorageClient||["search_list.get","search_list.update"].indexOf(t)>-1}(e,r)?function(e,t){return"getShareableLink"===e&&409===t}(r,a)||function(e,t){return"cloudStorageItems"===e&&"EP-5020"===t}(r,o)?100:20:function(e){return["messages.getBodies","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messageGroups.getList","message_view.get","message_view.update"].indexOf(e)>-1}(r)?4:function(e){return["messages.saveV3","messages.saveWithAttachment","messages.saveAndSend","messages.saveAndSendWithAttachment","messageGroups.saveAndSend","messageGroups.saveAndSendWithAttachment","messageGroups.saveRawMessage","messageGroups.send","compose.open","compose.replyFwd","compose.attach","compose.save","compose.send"].indexOf(e)>-1}(r)?13:function(e){return"document.fetch"===e}(r)?22:function(e,t=""){return e===n.z.AstraClient&&t.indexOf("AstraApiClient.")>-1}(e,t.name)?23:function(e){return e===n.z.EpochCalendarClient}(e)?25:function(e){let t;switch(e){case"ET-5003":t=1;break;case"ET-5004":t=4;break;case"ET-5005":case"ET-5008":case"ET-5009":case"ET-5010":case"ET-5011":t=2;break;default:t=14}return t}(o):100}function _(e,t,s){if(Object(i.c)()){const r=t||s||"",n=o.b.getRapidInstance();n&&n.beaconEvent(0,{etrg:"error",taeCode:e,errCode:r},"norrin_tae")}}function u(e,t,s,n){Object(r.a)(s.apiName,"logData.apiName must be present");const a={},o=n.statusCode,i=void 0===o?null:o,c=n.errorCode,u=void 0===c?null:c,p=n.at;if(null!==i&&(a.statusCode=i),null!==u&&(a.errorCode=u),p&&(a.at=p),l[t]||d[t]){const e=n.extraStatusCode,r=void 0===e?null:e,o=n.extraErrorCode,c=void 0===o?null:o;r&&(a.extraStatusCode=r),c&&(a.extraErrorCode=c);const l=E(t,n,Object.assign({},s,a));a.tae=l,_(l,u,i)}e.feature(t,Object.assign({},s,a)).logFailure(n)}function p({logger:e,apiName:t,message:s,loggerName:r=n.z.MailAPIClient,statusCode:o=0,errorCode:i="",extraStatusCode:c="",extraErrorCode:l="",ymreqid:d=""}){const E={apiName:t,alertTAE:!1,statusCode:o,errorCode:i,extraStatusCode:c,extraErrorCode:l,ymreqid:d};u(e,r,E,a.a.jsonToError({name:t,message:s,data:E,statusCode:o,errorCode:i,extraStatusCode:c,extraErrorCode:l}))}},,function(e,t,s){"use strict";s.d(t,"c",(function(){return d})),s.d(t,"e",(function(){return E})),s.d(t,"i",(function(){return _})),s.d(t,"b",(function(){return u})),s.d(t,"d",(function(){return p})),s.d(t,"h",(function(){return m})),s.d(t,"g",(function(){return S})),s.d(t,"f",(function(){return h}));var r=s(3),n=s.n(r),a=s(2),o=s(8),i=s(0);function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const d=e=>l({type:a.MORE_MESSAGES_REQUEST_SUCCESS},e),E=e=>l({type:a.MORE_RECEIPTS_SUCCESS},e),_=e=>l({type:a.MORE_TRAVEL_ITEMS_SUCCEEDED},e),u=e=>l({type:a.MORE_MESSAGES_REQUEST_FAILED},e),p=e=>l({type:a.MORE_RECEIPTS_REQUEST_FAILED},e),m=e=>l({type:a.MORE_TRAVEL_ITEMS_FAILED},e),S=e=>l({type:a.MORE_SEARCH_LIST_ITEMS_RECEIVED},e),h=e=>l({type:a.MORE_SEARCH_LIST_ITEMS_FAILED},e);t.a=e=>{switch(Object(o.w)(e.listId)){case i.ac.SENDERS:return l({type:a.MORE_SENDER_ROLLUP_REQUESTED},e);case i.ac.COUPON_CARDS:return l({type:a.MORE_COUPONS_REQUESTED},e);case i.ac.REFUND_CARDS:return l({type:a.MORE_RECEIPTS_REQUESTED},e);default:return l({type:a.MORE_ITEMS_REQUESTED},e)}}},function(e,t,s){"use strict";var r=s(474);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(s(878));t.default={CREATE_SINGLE_NEW_EVENT_SUCCEEDED:n.CREATE_SINGLE_NEW_EVENT_SUCCEEDED,CREATE_SINGLE_NEW_EVENT_FAILED:n.CREATE_SINGLE_NEW_EVENT_FAILED,CREATE_RECURR_NEW_EVENTS_SUCCEEDED:n.CREATE_RECURR_NEW_EVENTS_SUCCEEDED,CREATE_RECURR_NEW_EVENTS_FAILED:n.CREATE_RECURR_NEW_EVENTS_FAILED,DELETE_SINGLE_EVENT_SUCCEEDED:n.DELETE_SINGLE_EVENT_SUCCEEDED,DELETE_SINGLE_EVENT_FAILED:n.DELETE_SINGLE_EVENT_FAILED,DELETE_RECURR_EVENTS_SUCCEDDED:n.DELETE_RECURR_EVENTS_SUCCEDDED,DELETE_RECURR_EVENTS_FAILED:n.DELETE_RECURR_EVENTS_FAILED,EDIT_RECURR_EVENTS_SUCCEEDED:n.EDIT_RECURR_EVENTS_SUCCEEDED,EDIT_RECURR_EVENTS_FAILED:n.EDIT_RECURR_EVENTS_FAILED,EDIT_SINGLE_EVENT_SUCCEEDED:n.EDIT_SINGLE_EVENT_SUCCEEDED,EDIT_SINGLE_EVENT_FAILED:n.EDIT_SINGLE_EVENT_FAILED,RSVP_REPLY_SINGLE_EVENT_SUCCEEDED:n.RSVP_REPLY_SINGLE_EVENT_SUCCEEDED,RSVP_REPLY_SINGLE_EVENT_FAILED:n.RSVP_REPLY_SINGLE_EVENT_FAILED,RSVP_REPLY_RECURR_EVENT_SUCCEEDED:n.RSVP_REPLY_RECURR_EVENT_SUCCEEDED,RSVP_REPLY_RECURR_EVENT_FAILED:n.RSVP_REPLY_RECURR_EVENT_FAILED,EPOCH_OPEN_COMPOSE_VIEW:n.EPOCH_OPEN_COMPOSE_VIEW}},function(e,t,s){"use strict";s.d(t,"G",(function(){return h})),s.d(t,"w",(function(){return C})),s.d(t,"b",(function(){return g})),s.d(t,"c",(function(){return O})),s.d(t,"F",(function(){return T})),s.d(t,"u",(function(){return A})),s.d(t,"x",(function(){return I})),s.d(t,"m",(function(){return f})),s.d(t,"E",(function(){return D})),s.d(t,"D",(function(){return R})),s.d(t,"C",(function(){return b})),s.d(t,"n",(function(){return N})),s.d(t,"a",(function(){return M})),s.d(t,"z",(function(){return y})),s.d(t,"d",(function(){return L})),s.d(t,"l",(function(){return P})),s.d(t,"y",(function(){return v})),s.d(t,"p",(function(){return F})),s.d(t,"B",(function(){return U})),s.d(t,"q",(function(){return w})),s.d(t,"t",(function(){return G})),s.d(t,"v",(function(){return H})),s.d(t,"s",(function(){return j})),s.d(t,"r",(function(){return k})),s.d(t,"f",(function(){return x})),s.d(t,"g",(function(){return B})),s.d(t,"e",(function(){return V})),s.d(t,"i",(function(){return W})),s.d(t,"h",(function(){return K})),s.d(t,"k",(function(){return q})),s.d(t,"j",(function(){return Y})),s.d(t,"o",(function(){return z})),s.d(t,"A",(function(){return Q}));var r=s(34),n=s.n(r),a=s(3),o=s.n(a),i=s(0),c=s(2),l=s(8),d=s(14),E=s(5),_=s(44),u=s(16),p=s(99);function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function S(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const h=e=>S({},e,{type:c.RIGHT_RAIL_COMMS_ICON_CLICKED,name:i.pd.CONTACTS_PANE}),C=e=>S({},e,{name:i.pd.CONTACTS_PANE}),g=e=>{let t=e.listFilter;return S({},n()(e,["listFilter"]),{listFilter:t,type:c.CONTACTS_PANE_LIST_FILTER_CHANGED})},O=e=>S({},e,{type:c.CONTACTS_SORT_ORDER_CHANGED}),T=e=>S({},e,{type:c.CATEGORY_LIST_EXPANSION_TOGGLED}),A=({event:e,payload:t,listId:s,i13nSection:r})=>{const n=Object(l.x)(s);return(e=>S({},e,{type:c.CONTACTS_PANE_CONTACT_CLICKED}))(S({},t,{i13nModel:{mKey:E.g.OPEN_CONTACT,sec:r||p.a[n]||E.i.CONTACTS_PANE,interactionType:Object(u.getInteractionFromEvent)(e)}}))},I=e=>S({},e,{type:c.CONTACTS_PANE_SAVE_GROUP_REQUESTED}),f=e=>S({},e,{type:c.CONTACTS_PANE_CREATE_GROUP_REQUESTED}),D=e=>S({},e,{type:c.CONTACTS_PANE_BACK_BUTTON_CLICKED}),R=e=>S({},e,{type:c.CONTACTS_PANE_EDIT_BUTTON_CLICKED}),b=e=>S({},e,{type:c.CONTACTS_PANE_CREATE_GROUP_BUTTON_CLICKED}),N=(e={})=>{let t=e.streamItems,s=void 0===t?[]:t,r=e.streamItem;return S({},n()(e,["streamItems","streamItem"]),{streamItem:r,streamItems:s,type:c.DELETE_CONTACT_REQUESTED})},M=e=>S({},e,{type:c.CONTACT_EDIT_CANCELLED}),y=e=>{let t=e.keyword;return S({},n()(e,["keyword"]),{keyword:t,listId:Object(l.m)(t),type:c.CONTACTS_PANE_SEARCHED})},L=e=>S({},e,{type:c.CONTACT_SEARCH_CLOSED}),P=e=>S({type:c.CONTACT_CREATE_CLICKED},e),v=(e={})=>{const t=e.smtp,s=e.name,r=e.sectionValue;return Object(_.k)({route:Object(d.u)({emailAddresses:t,name:s||t}),i13nModel:{interactionType:E.e.click,mKey:E.g.CONTACT_SEARCH,sec:r||E.i.RIGHT_RAIL,mKeyGroup:E.h.search}})},F=e=>S({},e,{type:c.CONTACTS_PANE_EDIT_GROUP}),U=e=>S({},e,{type:c.CONTACTS_PANE_GROUP_CHANGED}),w=e=>S({},e,{type:c.EXPORT_ALL_CONTACTS_REQUESTED}),G=e=>Object(_.j)(S({route:Object(d.w)({settingsGroupId:i.Nd.CONTACTS})},e)),H=e=>S({},e,{type:c.PRINT_ALL_CONTACTS_REQUESTED}),j=e=>S({},e,{type:c.FETCH_ALL_CONTACTS_SUCCESS}),k=e=>S({},e,{type:c.FETCH_ALL_CONTACTS_FAILED}),x=e=>S({type:c.CONTACT_SAVE_REQUESTED},e),B=e=>S({type:c.CONTACT_SAVE_SUCCEEDED},e),V=e=>S({type:c.CONTACT_SAVE_FAILED},e),W=e=>S({type:c.CONTACT_PHOTO_UPLOAD_SUCCEEDED},e),K=e=>S({type:c.CONTACT_PHOTO_UPLOAD_FAILED},e),q=e=>S({type:c.CREATE_CONTACT_SUCCEEDED},e),Y=e=>S({type:c.CREATE_CONTACT_FAILED},e),z=e=>S({type:c.CONTACTS_GROUP_DELETE_REQUESTED},e),Q=e=>S({type:c.CONTACTS_GROUP_EDIT_EMAIL_SEARCH},e)},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(9);const n=Object(r.d)(["HORIZONTAL","VERTICAL","GRID"])},function(e,t,s){"use strict";s.d(t,"a",(function(){return C}));var r=s(33),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(28),d=s.n(l),E=s(6),_=s(148),u=s(51),p=s(268);let m,S;class h extends c.a.Component{render(){return null}}function C(e,t){if(m)return;m=document.createElement("div"),S=document.getElementById("app"),S.appendChild(m);const s=c.a.createElement(h,{context:t},e),r=Object(p.a)(function(e){class t extends c.a.Component{constructor(t){super(t),this.unmountModal.bind(this),this.children=e.props.children}getChildContext(){return{intl:e.props.context.intl,store:e.props.context.store,config:e.props.context.config,navigateTo:e.props.context.navigateTo,timezone:e.props.context.timezone,getStore:e.props.context.getStore,executeAction:e.props.context.executeAction,getTheme:e.props.context.getTheme,getCss:e.props.context.getCss,getThemeMode:e.props.context.getThemeMode,appId:e.props.context.appId}}componentWillUnmount(){S&&S.removeChild(m),m=null}unmountModal(){d.a.unmountComponentAtNode(m)}render(){const t=c.a.Children.toArray(this.children),s=n()(t,1),r=this.children.props;return c.a.createElement(E.IntlProvider,window.AppIntl,c.a.createElement(_.FluxibleComponent,{context:e.props.context},c.a.cloneElement(s[0],{onPrimaryButtonClick:e=>{this.unmountModal(),r.onPrimaryButtonClick(e)},onSecondaryButtonClick:e=>{this.unmountModal(),r.onSecondaryButtonClick(e)},onClose:e=>{this.unmountModal(),r.onClose&&r.onClose(e)},onAccept:()=>{this.unmountModal(),r.onAccept()}})))}}return t.childContextTypes={intl:E.intlShape,store:o.a.object,config:o.a.object,navigateTo:o.a.func,timezone:u.TimezoneType,getStore:o.a.func,executeAction:o.a.func,getTheme:o.a.func,getCss:o.a.func,getThemeMode:o.a.func,appId:o.a.string},t}(s));d.a.render(c.a.createElement(r,null),m)}},function(e,t,s){"use strict";s.d(t,"a",(function(){return E})),s.d(t,"b",(function(){return _}));var r=s(27),n=s.n(r),a=s(34),o=s.n(a),i=s(1),c=s.n(i),l=s(12),d=s.n(l);let E,_;!function(e){e.PRIMARY="PRIMARY",e.PRIMARY_INVERTED="PRIMARY_INVERTED",e.SECONDARY="SECONDARY",e.TEXT="TEXT",e.TEXT_NEGATIVE="TEXT_NEGATIVE",e.TEXT_ON_DARK_BACKGROUND="TEXT_ON_DARK_BACKGROUND",e.CHIT="CHIT",e.SUBSCRIPTIONS="SUBSCRIPTIONS"}(E||(E={})),function(e){e.R="regular",e.S="small",e.XS="extrasmall"}(_||(_={}));var u=s(313),p=s(717),m=s.n(p);const S=Object(i.forwardRef)((e,t)=>{let s=e.kind,r=void 0===s?E.PRIMARY:s,a=e.size,l=void 0===a?_.R:a,p=e.flex,S=void 0!==p&&p,h=e.dimmed,C=void 0!==h&&h,g=e.disabled,O=void 0!==g&&g,T=e.onClick,A=e.children,I=o()(e,["kind","size","flex","dimmed","disabled","onClick","children"]),f=r;C!==O&&(f=r+(O?"-disabled":"-dimmed"));const D=Object(i.useContext)(u.a).partner,R=d()(m.a,{kind:f,flex:S,size:l,sizeKind:l+r,partner:D});return c.a.createElement("button",n()({ref:t,className:R.button,disabled:O,onClick:T},I),A)});S.displayName="ForwardRef<FujiButton>";t.c=S},,function(e,t,s){"use strict";s.d(t,"a",(function(){return E}));var r=s(33),n=s.n(r);const a=/^\s*at .*(\S+\:\d+|\(native\))/m,o=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,i=/[\(\)]/g,c=/^\s+/,l=/'/g,d=/\((.+):(\d+):(\d+)\)/;class E{constructor(e){this.error=e||null}toString(){try{let e=this.parse().join("\n");return e.length>1e4&&(e=e.substr(0,1e4)+"..."),e}catch(e){return e.message||"Error in parsing an Error object"}}parse(){const e=this.error;if(null===e)throw new Error("Error is null or undefined");if(e.stack&&e.stack.match(a))return this.parseChromeOrIE();if(e.stack)return this.parseFFOrSafari();throw new Error("Cannot parse an Error object")}parseChromeOrIE(){return this.error.stack.split("\n").map(e=>e=(e=e.replace(c," ")).replace(l,'"'))}parseFFOrSafari(){const e=this.error.stack.split("\n").filter(e=>""!==e).map(e=>{if(-1===e.indexOf("@")&&-1===e.indexOf(":"))e=" at "+e;else{const t=e.split("@"),s=this.extractLocation(t.pop()),r=t.join("@")||void 0,a=n()(s,3);e=` at ${r} (${a[0]}:${a[1]}:${a[2]})`}return e});return[`${this.error.name}:${this.error.message}`.replace(l,'"')].concat(e)}extractLocation(e){if(-1===e.indexOf(":"))return[e];const t=o.exec(e.replace(i,""));return[t[1],t[2]||void 0,t[3]||void 0]}getFirstStackInfo(){const e={source:"",lineno:0,colno:0};try{const t=this.parse();if(t&&t[1]&&t[1].match(d)){const s=t[1].match(d),r=n()(s,4),a=r[1],o=r[2],i=void 0===o?0:o,c=r[3],l=void 0===c?0:c;e.source=void 0===a?"":a,e.lineno=parseInt(i,10),e.colno=parseInt(l,10)}}catch(t){return e}return e}}},,function(e,t,s){"use strict";s.d(t,"c",(function(){return E})),s.d(t,"a",(function(){return _})),s.d(t,"b",(function(){return u}));var r=s(34),n=s.n(r),a=s(3),o=s.n(a),i=s(2),c=s(36);s(0);function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const E=e=>d({type:i.LAUNCH_PAGE_REQUESTED},e),_=e=>{let t=e.initialMailboxAttributes,s=void 0===t?{}:t,r=e.mailboxAttributes,a=void 0===r?{}:r,o=n()(e,["initialMailboxAttributes","mailboxAttributes"]);o.mailboxes&&(o.selectedMailbox=Object(c.k)(o.mailboxes));const l=a.responses,E=a.success,_={responses:Object.assign(void 0===l?{}:l,s),success:E};return d({type:i.INITIAL_STATE,mailboxAttributes:_},o)},u=({error:e})=>({type:i.LAUNCH_ERROR,error:e})},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(34),o=s.n(a),i=(s(7),s(1)),c=s.n(i),l=s(22),d=s(796),E=s.n(d),_=s(18),u=s(11),p=s(12),m=s.n(p);const S=Object(i.forwardRef)((e,t)=>{const s=e.children,r=e.onClick,a=e.isSelected,i=void 0!==a&&a,d=e.title,p=e.maxWidth,S=e.isOnRightRail,h=e.themeMode,C=o()(e,["children","onClick","isSelected","title","maxWidth","isOnRightRail","themeMode"]),g={},O=m()(E.a,{isSelected:!!i,showWhiteLabels:S&&h===l.i.MEDIUM||h===l.i.DARK,showEllipsis:!!p});return C["data-test-id"]&&(g["data-test-id"]=C["data-test-id"]),p&&(g.style={maxWidth:p}),c.a.createElement("li",{className:O.segment,role:"presentation",ref:t},c.a.createElement(_.a,n()({},g,{"data-iskeynav":!0,tabIndex:u.Lb.SEGMENTED_CONTROL_FILTERS,className:O.button,role:"tab","aria-selected":i,onClick:r,title:d}),c.a.createElement("span",{className:O.buttonText,"aria-hidden":!0},d),s))});S.defaultProps={isOnRightRail:!1},t.a=S},function(e,t,s){"use strict";s.d(t,"b",(function(){return S})),s.d(t,"a",(function(){return C}));var r=s(27),n=s.n(r),a=s(3),o=s.n(a),i=s(7),c=s.n(i),l=s(1),d=s.n(l),E=s(28),_=s(6),u=s(46),p=s(9);const m=Object(_.defineMessages)({focus_group_aria_label:{id:"focus_group_aria_label",defaultMessage:"Keyboard navigation group. Use arrow keys to navigate, or tab to the next group."}}),S=Object(p.d)(["HORIZONTAL","VERTICAL"]),h=["escape","left","meta+left","right","meta+right","up","meta+up","down","meta+down",",","."];class C extends d.a.Component{constructor(...e){super(...e),o()(this,"handleClick",e=>{const t=this.getNavigableElements();let s=e.target;for(;s!==e.currentTarget&&!s.getAttribute("data-iskeynav");)if(s=s.parentElement,!s)return;t.indexOf(s)>-1&&-1===s.tabIndex&&this.applyFocusTo(s)}),o()(this,"handleKeyDown",e=>{if(!e.target.isContentEditable&&!(this.props.skipKeydownOnFormElement&&-1!==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)||this.props.excludeKeyCodes.indexOf(e.key)>=0||this.props.excludeKeyCodes.indexOf(e.which)>=0)){switch(e.key){case"Escape":document.activeElement.blur()}if(this.props.axis===S.HORIZONTAL)switch(e.key){case"ArrowLeft":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowRight":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToEnd():this.navigate(1)}else switch(e.key){case"ArrowUp":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToEnd():this.navigate(1)}switch(e.which){case u.b.COMMA:case u.b.FF_COMMA:e.preventDefault(),e.stopPropagation(),this.navigate(-1);break;case u.b.PERIOD:e.preventDefault(),e.stopPropagation(),this.navigate(1);break;default:return}}}),o()(this,"jumpToTop",()=>{this.jump()}),o()(this,"jumpToEnd",()=>{this.jump(!0)}),o()(this,"jump",e=>{const t=this.getNavigableElements();let s,r=0,n=1,a=t.length-1;for(e&&(r=a,n=-1,a=0),s=t[r];this.isNotFocusable(s)&&r!==a;)r+=n,s=t[r];this.applyFocusTo(s)}),o()(this,"isNotFocusable",e=>!(e&&e.offsetHeight&&!e.disabled)),o()(this,"getNavigableElements",()=>{const e=Object(E.findDOMNode)(this);return Array.prototype.slice.call(e.querySelectorAll("[data-iskeynav]"))}),o()(this,"navigate",e=>{const t=this.getNavigableElements(),s=Math.min,r=Math.max,n=t.length-1,a=t.indexOf(document.activeElement);let o,i;if(t.length){for(this.props.circularNavigation?(o=a+e,o>n?o=0:o<0&&(o=n)):o=s(r(a+e,0),n),i=t[o];i&&this.isNotFocusable(i);)o+=e,i=t[o];i&&this.applyFocusTo(i)}}),o()(this,"resetTabIndex",()=>{const e=Object(E.findDOMNode)(this).querySelectorAll('[tabindex="'+this.props.groupTabIndex+'"]');for(let t=0;t<e.length;++t)e[t].tabIndex=-1}),o()(this,"applyFocusTo",e=>{this.resetTabIndex(),e.tabIndex=this.props.groupTabIndex,e.focus()})}componentDidMount(){const e=Object(E.findDOMNode)(this),t=this.getNavigableElements();t.length&&!e.querySelector(`[tabindex="${this.props.groupTabIndex}"]`)&&(t[0].tabIndex=this.props.groupTabIndex),this.mousetrap=this.context.bindShortcut(h,this.handleKeyDown,e)}componentWillUnmount(){this.context.unbindShortcut(h,this.mousetrap)}render(){const e=this.context.intl.formatMessage,t=Object.assign({},this.props);return delete t.axis,delete t.circularNavigation,delete t.groupTabIndex,delete t.groupTabIndex,delete t.excludeKeyCodes,delete t.skipKeydownOnFormElement,d.a.createElement("div",n()({"data-test-id":"focus-group",ref:e=>this.focusGroup=e,onKeyDown:this.handleKeyDown,onClick:this.handleClick,"aria-label":e(m.focus_group_aria_label)},t),this.props.children)}}o()(C,"contextTypes",{intl:_.intlShape.isRequired,bindShortcut:c.a.func,unbindShortcut:c.a.func}),o()(C,"defaultProps",{axis:S.VERTICAL,circularNavigation:!0,groupTabIndex:0,skipKeydownOnFormElement:!0,excludeKeyCodes:[]})},function(e,t){const s=1,r=1024,n=1048576,a=1073741824,o={[s]:"B",[r]:"kB",[n]:"MB",[a]:"GB"};e.exports={toNBits:(e,t)=>e.length>t?e.substr(0,t):e.length<t?new Array(t-e.length+1).join("0")+e:e,binToHex(e){var t,s,r=e.length,n="";for(t=0;t<r;t+=4)s=e.substr(t,4),s=s+=new Array(4-s.length+1).join("0"),n+=parseInt(s,2).toString(16);return n},hexToBin(e){var t,s,r=e.length,n="";for(t=0;t<r;t++)s=parseInt(e[t],16).toString(2),n+=s=new Array(4-s.length+1).join("0")+s;return n},prettyPrintBytes(e,t=0){if("number"!=typeof e||e<=0)return"";const i=[a,n,r,s].find(t=>e>=t),c=Math.pow(10,t);return`${Math.round(e/i*c)/c}${o[i]}`}}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(12),c=s.n(i),l=s(770),d=s.n(l),E=s(9);const _=Object(E.d)(["LI","SPAN"]),u=c()(d.a);class p extends o.a.Component{shouldComponentUpdate(){return!1}render(){return o.a.createElement(this.props.tagName===_.LI?"li":"span",{className:u.flexSpacer})}}n()(p,"defaultProps",{kind:_.SPAN});t.a=p},,function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return a}));var r=s(9);const n=Object(r.d)(["EMPTY_FOLDER","SELECTED_MESSAGES","ATTACHMENT_PREVIEW_ERROR","PLAY_VIDEO","GEAR_ICON","DOCUMENTS_ICON"]),a=138},function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return n})),s.d(t,"a",(function(){return a}));const r={SKY:{yaftName:"norrin_ad_sky",darla:{pos:"SKY",clean:"boxSKY",dest:"tgtSKY",w:160,h:620,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},LREC:{yaftName:"norrin_ad_lrec",darla:{pos:"LREC",dest:"tgtLREC",clean:"slot_LREC",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},LREC4:{yaftName:"norrin_ad_lrec4",darla:{pos:"LREC4",dest:"tgtLREC4",clean:"slot_LREC4",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},MON:{yaftName:"norrin_ad_mon",darla:{pos:"MON",dest:"tgtMON",clean:"slot_MON",w:300,h:600,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},UBASKY:{yaftName:"norrin_ad_ubasky",darla:{pos:"UBASKY",clean:"boxUBASKY",dest:"tgtUBASKY",w:160,h:620,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},UBAMON:{yaftName:"norrin_ad_ubamon",darla:{pos:"UBAMON",dest:"tgtUBAMON",clean:"slot_UBAMON",w:300,h:600,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},UBALREC:{yaftName:"norrin_ad_ubalrec",darla:{pos:"UBALREC",dest:"tgtUBALREC",clean:"slot_UBALREC",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}}},n={lang:"en-US",k2Rate:100,k2E2ERate:5,k2ViewRate:100,positions:Object.keys(r).reduce((e,t)=>(e[t]=r[t].darla,e),{}),auto_render:!0,focusProtection:!0,renderTimeout:6e4},a={POSITIVE:"POSITIVE",NEGATIVE:"NEGATIVE"}},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(34),o=s.n(a),i=s(3),c=s.n(i),l=(s(7),s(1)),d=s.n(l),E=s(18),_=s(25);class u extends d.a.Component{render(){const e=this.props,t=e.hasText,s=e.isActive,r=e.children,a=o()(e,["hasText","isActive","children"]),i=s?_.a.ICON_HIGHLIGHTED:_.a.ICON;return d.a.createElement(E.a,n()({},a,{"aria-controls":"react-menu-component","aria-haspopup":!0,kind:t?_.a.CHROMELESS:i}),r)}}c()(u,"defaultProps",{hasText:!1,isActive:!1}),t.a=u},function(e,t,s){"use strict";s.d(t,"e",(function(){return l})),s.d(t,"b",(function(){return d})),s.d(t,"f",(function(){return E})),s.d(t,"a",(function(){return _})),s.d(t,"c",(function(){return u})),s.d(t,"g",(function(){return p})),s.d(t,"h",(function(){return m})),s.d(t,"d",(function(){return S}));s(3);var r=s(2),n=s(8),a=s(14),o=s(0),i=s(10);function c(e,t){return t>=(0,Object(i.selectors)(e.store.getState()).getFeaturesSelectors)().getSetting("bulkActionDialogThreshold")}function l({folderId:e,filterUnread:t=!1}){let s=`folderId:${e} count:10000`;return t&&(s+=" is:unread"),s}function d(e,{accountId:t,folderName:s,alertFromModalDialog:n=!1,i13nModel:a={}}){return e.dispatch(r.CREATE_FOLDER_REQUESTED,{accountId:t,folderName:s,i13nModel:a}),e.mailAPIClient.request("folders.create",{folderName:s,accountId:t}).then(t=>{e.dispatch(r.CREATE_FOLDER_SUCCEEDED,{folder:t.folder,alertFromModalDialog:n})}).catch(t=>{e.dispatch(r.CREATE_FOLDER_FAILED,{folderName:s,alertFromModalDialog:n,error:t})})}function E(e,{streamId:t,listId:s,folderId:n,unreadCount:a,i13nModel:i}){const l=Math.min(a,1e4),d=c(e,l);e.dispatch(r.READ_CHANGE_REQUESTED,{folderId:n,listId:s,isAsync:d,count:l,isRead:!1,flags:{read:!0},allSelected:!0,streamId:t,triageActionType:o.ye.READ_CHANGE_FOLDER_ITEMS,isV2Action:!0,successAction:{type:r.UPDATE_ITEMS_SUCCEEDED,triageActionType:o.ye.READ_CHANGE_FOLDER_ITEMS,folderId:n},failureAction:{type:r.UPDATE_ITEMS_FAILED,triageActionType:o.ye.READ_CHANGE_FOLDER_ITEMS,folderId:n},i13nModel:i})}function _(e,{folderId:t,total:s,streamId:a,i13nModel:i}){const l=Object(n.y)(t),d=o.Mb.ARCHIVE,E=Math.min(s,1e4),_=c(e,E);e.dispatch(r.MOVE_ITEMS_REQUESTED,{streamId:a,listId:l,folderId:t,destinationFolderType:d,isAsync:_,count:E,allSelected:!0,triageActionType:o.ye.ARCHIVE_FOLDER_ITEMS,isV2Action:!0,successAction:{type:r.UPDATE_ITEMS_SUCCEEDED,triageActionType:o.ye.ARCHIVE_FOLDER_ITEMS,folderId:t},failureAction:{type:r.UPDATE_ITEMS_FAILED,triageActionType:o.ye.ARCHIVE_FOLDER_ITEMS,folderId:t},i13nModel:i})}function u(e,{folderId:t,total:s,streamId:l,i13nModel:d}){const E=Object(i.selectors)(e.store.getState()),_=E.isPermDeleteFolderType,u=E.getMainStreamItems,p=E.normalizeRoute,m=Object(n.y)(t),S=_(t),h=Math.min(s,1e4),C=c(e,h),g=p(Object(a.k)(t));e.dispatch(r.DELETE_ITEMS_REQUESTED,{streamId:l,listId:m,folderId:t,destinationFolderType:o.Mb.TRASH,permanent:S,isAsync:C,count:h,conversations:!1,allSelected:!0,triageActionType:o.ye.DELETE_FOLDER_ITEMS,streamItems:u(g),isV2Action:!0,successAction:{type:r.UPDATE_ITEMS_SUCCEEDED,triageActionType:o.ye.DELETE_FOLDER_ITEMS,folderId:t},failureAction:{type:r.UPDATE_ITEMS_FAILED,triageActionType:o.ye.DELETE_FOLDER_ITEMS,folderId:t},i13nModel:d})}function p(e,{i13nModel:t}){e.dispatch(r.FOLDER_CONTEXT_MENU_REQUESTED,{i13nModel:t})}function m(e,{i13nModel:t}){e.dispatch(r.EXPAND_ACCOUNT_LIST,{i13nModel:t})}function S(e,{folderId:t,i13nModel:s}){e.dispatch(r.DELETE_NON_EMPTY_FOLDER_REQUESTED,{folderId:t,i13nModel:s})}},function(e,t,s){"use strict";s.d(t,"i",(function(){return c})),s.d(t,"k",(function(){return l})),s.d(t,"h",(function(){return d})),s.d(t,"j",(function(){return E})),s.d(t,"f",(function(){return _})),s.d(t,"c",(function(){return u})),s.d(t,"a",(function(){return p})),s.d(t,"g",(function(){return m})),s.d(t,"e",(function(){return S})),s.d(t,"d",(function(){return h})),s.d(t,"b",(function(){return C}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>i({},e,{type:a.COUPONS_ADD_TAG_DECO_SUCCEEDED}),l=e=>i({},e,{type:a.COUPONS_REMOVE_TAG_DECO_SUCCEEDED}),d=e=>({type:a.COUPONS_ADD_TAG_DECO_FAILED,error:e}),E=e=>({type:a.COUPONS_REMOVE_TAG_DECO_FAILED,error:e}),_=e=>i({type:a.CATEGORY_FOLLOW_REQUESTED},e),u=(e=[])=>({type:a.CATEGORY_FOLLOW_SUCCEEDED,followedCategoryList:e}),p=(e=[],t)=>({type:a.CATEGORY_FOLLOW_FAILED,followedCategoryList:e,error:t}),m=e=>i({type:a.CATEGORY_UNFOLLOW_REQUESTED},e),S=(e=[])=>({type:a.CATEGORY_UNFOLLOW_SUCCEEDED,followedCategoryList:e}),h=(e=[],t)=>({type:a.CATEGORY_UNFOLLOW_FAILED,followedCategoryList:e,error:t}),C=()=>({type:a.CATEGORY_FOLLOW_FAILURE_RESET})},function(e,t,s){"use strict";s.d(t,"b",(function(){return E})),s.d(t,"a",(function(){return _})),s.d(t,"i",(function(){return u})),s.d(t,"k",(function(){return p})),s.d(t,"j",(function(){return m})),s.d(t,"f",(function(){return S})),s.d(t,"h",(function(){return h})),s.d(t,"g",(function(){return C})),s.d(t,"c",(function(){return g})),s.d(t,"e",(function(){return O})),s.d(t,"d",(function(){return T}));var r=s(3),n=s.n(r),a=s(2),o=s(10),i=s(0),c=s(91);function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const E=({folder:e})=>({folder:e,type:a.CREATE_FOLDER_SUCCEEDED}),_=({error:e,folderName:t})=>({folderName:t,error:e,type:a.CREATE_FOLDER_FAILED}),u=({folderId:e,folderName:t,i13nModel:s={}})=>(r,n)=>{const l=Object(o.selectors)(n()),d=l.getFeaturesSelectors,E=l.getFolderFullName,_=(0,l.getFolderName)(e),u=t.substr(t.lastIndexOf("/")+1),p=E(e),m=p.replace(RegExp(Object(c.a)(_)+"$"),u),S=d().getSetting(i.Kd.MESSAGE_FILTERS).map(e=>A(e,p,m));return r({folderId:e,folderName:t,i13nModel:s,originalFolderName:_,newFolderName:u,filters:S,type:a.RENAME_FOLDER_REQUESTED,name:i.Kd.MESSAGE_FILTERS,value:S})},p=({newFolderName:e,folderId:t,originalFolderName:s,folder:r,subfolders:n=[]})=>({newFolderName:e,folderId:t,originalFolderName:s,folder:r,subfolders:n,type:a.RENAME_FOLDER_SUCCEEDED}),m=({folderId:e,newFolderName:t,originalFolderName:s,filters:r,error:n})=>({folderId:e,newFolderName:t,originalFolderName:s,filters:r,error:n,type:a.RENAME_FOLDER_FAILED}),S=({folderId:e,folderName:t,i13nModel:s={}})=>(r,n)=>{const l=Object(o.selectors)(n()),d=l.getFeaturesSelectors,E=l.getFolderFullName,_=(0,l.getFolderName)(e),u=t.substr(t.lastIndexOf("/")+1),p=E(e),m=p.replace(RegExp(Object(c.a)(_)+"$"),u),S=d().getSetting(i.Kd.MESSAGE_FILTERS).map(e=>A(e,p,m));return r({folderId:e,folderName:t,i13nModel:s,originalFolderName:_,filters:S,type:a.MOVE_FOLDER_REQUESTED,name:i.Kd.MESSAGE_FILTERS,value:S})},h=({folderId:e,originalFolderName:t,folder:s,subfolders:r=[]})=>({folderId:e,originalFolderName:t,folder:s,subfolders:r,type:a.MOVE_FOLDER_SUCCEEDED}),C=({folderId:e,originalFolderName:t,filters:s,error:r})=>({folderId:e,originalFolderName:t,filters:s,error:r,type:a.MOVE_FOLDER_FAILED}),g=({folderId:e,folderName:t,i13nModel:s={}})=>({folderId:e,folderName:t,i13nModel:s,type:a.DELETE_FOLDER_REQUESTED}),O=({folderId:e,folderName:t,i13nModel:s})=>({folderId:e,folderName:t,i13nModel:s,type:a.DELETE_FOLDER_SUCCEEDED}),T=({folderId:e,folderName:t,error:s})=>({folderId:e,folderName:t,error:s,type:a.DELETE_FOLDER_FAILED});function A(e,t,s){return d({},e,{actions:e.actions.map(e=>{if(e.value.folderActionValueBean.folder.name!==t)return e;const r=d({},e);return r.value.folderActionValueBean.folder.name=s,r})})}},,function(e,t,s){"use strict";s.d(t,"e",(function(){return c})),s.d(t,"b",(function(){return l})),s.d(t,"g",(function(){return d})),s.d(t,"c",(function(){return E})),s.d(t,"h",(function(){return _})),s.d(t,"d",(function(){return u})),s.d(t,"f",(function(){return p})),s.d(t,"a",(function(){return m}));var r=s(9),n=s(7),a=s.n(n),o=s(0),i=s(16);let c;!function(e){e.NORTON="ypnt",e.LASTPASS="yplp",e.YMAILPRO="ypmp",e.SYSTEM_MECHANIC="ypsm"}(c||(c={}));const l="all";let d;!function(e){e.T2="T2",e.T1="T1"}(d||(d={}));const E=o.td/65535,_=Object(r.h)(d),u=_[Object(i.generateRandomInteger)({min:0,max:_.length,randomSeed:E})],p={[`${c.NORTON}_${d.T1}`]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23644564.271554624;dc_trk_aid=461535665;dc_trk_cid=127172993;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.271554624;dc_trk_aid=461535665;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"},[`${c.NORTON}_${d.T2}`]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23644564.271192208;dc_trk_aid=461535665;dc_trk_cid=127172993;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.271192208;dc_trk_aid=461535665;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"},[`${c.LASTPASS}_${d.T1}`]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23644564.271192205;dc_trk_aid=460393808;dc_trk_cid=127172993;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.271192205;dc_trk_aid=460393808;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"},[`${c.LASTPASS}_${d.T2}`]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23644564.271190114;dc_trk_aid=460393808;dc_trk_cid=127172993;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.271190114;dc_trk_aid=460393808;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"},[`${c.SYSTEM_MECHANIC}_${d.T1}`]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23644564.271179488;dc_trk_aid=460391435;dc_trk_cid=127172993;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.271179488;dc_trk_aid=460391435;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"},[`${c.SYSTEM_MECHANIC}_${d.T2}`]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23644564.271554627;dc_trk_aid=460391435;dc_trk_cid=127172993;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.271554627;dc_trk_aid=460391435;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"},[`${c.YMAILPRO}_${d.T1}`]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23967599.270780499;dc_trk_aid=465330143;dc_trk_cid=130623920;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23967599.270780499;dc_trk_aid=465330143;dc_trk_cid=130623920;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"},[`${c.YMAILPRO}_${d.T2}`]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23967599.270780496;dc_trk_aid=465330143;dc_trk_cid=130623920;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23967599.270780496;dc_trk_aid=465330143;dc_trk_cid=130623920;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"}},m=[c.NORTON,c.LASTPASS,c.SYSTEM_MECHANIC];a.a.oneOf(m),a.a.oneOf(_)},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(28),c=s.n(i),l=s(20);class d extends o.a.Component{constructor(...e){super(...e),n()(this,"onEventHandler",e=>{e.stopPropagation()})}render(){if(!Object(l.c)())return null;const e=this.props,t=e.position,s=e.left,r=e.top,n=e.visibility;let a=Object.assign({position:t,left:s,top:r,visibility:n},e.styles);return t&&s&&r&&n||(a=null),this.rootNode&&document.body.contains(this.rootNode)||(this.rootNode=document.getElementById(this.props.rootId)),this.rootNode&&document.body.contains(this.rootNode)?c.a.createPortal(o.a.createElement("div",{style:a,onClick:this.onEventHandler,onKeyUp:this.onEventHandler,onKeyPress:this.onEventHandler,onMouseOver:this.onEventHandler,onMouseUp:this.onEventHandler,onBlur:this.onEventHandler},this.props.children),this.rootNode):null}}n()(d,"defaultProps",{rootId:"app"}),t.a=d},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(3),o=s.n(a),i=(s(7),s(1)),c=s.n(i),l=s(13),d=s(10),E=s(28),_=s.n(E),u=s(176),p=s(144),m=(s(124),s(9),s(63)),S=s(117),h=s(12),C=s.n(h),g=s(736),O=s.n(g),T=s(111),A=s.n(T);const I=()=>{},f=["click","focus","resize"],D=["resize"];class R extends c.a.Component{constructor(e){super(e),o()(this,"state",{show:!1,dimensionStyles:{}}),o()(this,"handleHide",e=>{const t=_.a.findDOMNode(this.refs.menu),s=_.a.findDOMNode(this.props.actionNode);let r;"focus"===e.type&&t&&t.scrollHeight>t.clientHeight&&(r=document.querySelectorAll(":hover"),r=r[r.length-1],t.contains(r))||!t||e.target instanceof Node&&(t.contains(e.target)||s.contains(e.target))||(this.setState({show:!1}),this.props.onHideMenu())}),o()(this,"handleEscape",()=>{this.setState({show:!1}),this.props.onHideMenu(),_.a.findDOMNode(this.props.actionNode).focus()}),o()(this,"handleKeyDown",e=>{switch(e.key){case"Escape":e.preventDefault(),e.stopPropagation(),this.handleEscape();break;default:return void e.stopPropagation()}}),this.scrollDebounce=A()(this.handleScroll.bind(this),100)}handleScroll(){this.state.show&&this.refs.menu&&this.setState({dimensionStyles:Object(u.a)(_.a.findDOMNode(this.props.actionNode),_.a.findDOMNode(this.refs.menu),this.props.isRTL)})}componentDidMount(){this.refs.menu&&(this.setState({show:!0,dimensionStyles:Object(u.a)(_.a.findDOMNode(this.props.actionNode),_.a.findDOMNode(this.refs.menu),this.props.isRTL)},(function(){_.a.findDOMNode(this.refs.navigableList).focus()})),window.addEventListener("scroll",this.scrollDebounce,!0),(this.props.persistOnClick?D:f).forEach(e=>{window.addEventListener(e,this.handleHide,!0)}))}componentWillReceiveProps(e){e.disabled&&this.setState({show:!1},this.props.onHideMenu)}componentWillUnmount(){window.removeEventListener("scroll",this.scrollDebounce,!0),f.forEach(e=>{window.removeEventListener(e,this.handleHide,!0)})}render(){if(!this.props.children)return null;const e=C()(O.a),t=Object.assign({position:"absolute",visibility:this.state.show?"visible":"hidden"},this.state.dimensionStyles);return c.a.createElement(p.a,null,c.a.createElement("div",{onKeyDown:this.handleKeyDown,className:e.menu,onClick:this.props.persistOnClick?this.props.focusBackEditor:this.handleEscape,ref:"menu",style:t,"data-test-id":"menu"},c.a.createElement(m.a,n()({ref:"navigableList",kind:S.a.MENU,layout:this.props.menuLayout,onHide:this.handleHide,onEscape:this.handleEscape},this.props),this.props.children)))}}o()(R,"defaultProps",{onHide:I,persistOnClick:!1,focusBackEditor:I,disabled:!1});t.a=Object(l.connect)(e=>({isRTL:"rtl"===(0,Object(d.selectors)(e).getEnvironmentSelectors)().getPageDirection()}))(R)},function(e,t,s){"use strict";s.d(t,"g",(function(){return d})),s.d(t,"f",(function(){return E})),s.d(t,"e",(function(){return _})),s.d(t,"m",(function(){return u})),s.d(t,"n",(function(){return p})),s.d(t,"o",(function(){return m})),s.d(t,"i",(function(){return S})),s.d(t,"h",(function(){return h})),s.d(t,"l",(function(){return C})),s.d(t,"k",(function(){return g})),s.d(t,"j",(function(){return O})),s.d(t,"b",(function(){return T})),s.d(t,"a",(function(){return A})),s.d(t,"c",(function(){return I})),s.d(t,"d",(function(){return f})),s.d(t,"p",(function(){return D}));var r=s(3),n=s.n(r),a=s(2),o=s(0),i=s(5);function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const d=(e,t)=>l({},e,{type:a.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED,listId:e.altListId,response:{[o.ac.CLOUD_STORAGE_ITEMS]:{[o.bc.CLOUD_STORAGE_ITEMS]:t}}}),E=(e,t)=>l({},e,{type:a.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED,listId:e.altListId,err:t}),_=e=>l({},e,{type:a.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED}),u=e=>l({},e,{type:a.CLOUD_STORAGE_ACCOUNT_DISCONNECT_REQUESTED}),p=e=>l({},e,{type:a.CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED}),m=e=>l({},e,{type:a.CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED}),S=(e={})=>{const t=e.contentProviders&&Object.keys(e.contentProviders).filter(t=>t!==o.eb.YMAIL&&e.contentProviders[t]&&e.contentProviders[t].isConnected);return l({},e,{type:a.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED,i13nModel:(null==t?void 0:t.length)?{mKey:i.g.CONNECTED_PROVIDERS,sec:i.i.CONTENT_PROVIDERS,actionData:{providers:t}}:{}})},h=e=>l({},e,{type:a.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED}),C=e=>l({},e,{type:a.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED}),g=e=>l({},e,{type:a.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED}),O=e=>l({},e,{type:a.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED}),T=e=>l({},e,{type:a.CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_DIALOG_CLICKED}),A=e=>l({},e,{type:a.ATTACH_FILES_MENU_ITEM_CLICKED}),I=e=>l({},e,{type:a.CLOUD_STORAGE_ITEM_LINK_ADDED}),f=e=>l({},e,{type:a.CLOUD_STORAGE_ITEM_PREVIEW_CLICKED}),D=e=>l({},e,{type:a.CLOUD_STORAGE_ITEM_PERMISSION_UPDATED})},,,function(e,t,s){"use strict";s.r(t),s.d(t,"deleteContactSuggestionRequested",(function(){return c})),s.d(t,"deleteContactSuggestionFailed",(function(){return l})),s.d(t,"deleteContactSuggestionSucceeded",(function(){return d})),s.d(t,"contactSuggestionRequested",(function(){return E})),s.d(t,"contactSuggestionSucceeded",(function(){return _})),s.d(t,"contactSuggestionFailed",(function(){return u})),s.d(t,"closeAutotagForCurrentSession",(function(){return p})),s.d(t,"closeRelatedContactsForCurrentSession",(function(){return m}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>i({type:a.DELETE_CONTACT_SUGGESTIONS_REQUESTED},e),l=e=>i({type:a.DELETE_CONTACT_SUGGESTIONS_FAILED},e),d=e=>i({type:a.DELETE_CONTACT_SUGGESTIONS_SUCCEEDED},e),E=e=>i({type:a.CONTACT_SUGGESTIONS_REQUESTED},e),_=e=>i({type:a.CONTACT_SUGGESTIONS_SUCCEEDED},e),u=e=>i({type:a.CONTACT_SUGGESTIONS_FAILED},e),p=e=>i({type:a.AUTOTAG_DROPDOWN_CLOSED},e),m=e=>i({type:a.RELATED_CONTACTS_CLOSED},e)},,function(e,t,s){"use strict";s.d(t,"a",(function(){return c})),s.d(t,"c",(function(){return l})),s.d(t,"b",(function(){return d})),s.d(t,"d",(function(){return E})),s.d(t,"h",(function(){return _})),s.d(t,"g",(function(){return u})),s.d(t,"i",(function(){return p})),s.d(t,"e",(function(){return m})),s.d(t,"f",(function(){return S}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function c(e){return i({type:a.LINK_ENHANCER_FETCH_REQUESTED},e)}function l(e){return i({type:a.LINK_ENHANCER_FETCH_SUCCEEDED},e)}function d(e){return i({type:a.LINK_ENHANCER_FETCH_FAILED},e)}function E(e){return i({type:a.LINK_ENHANCER_ADD_LINK},e)}function _(e){return i({type:a.LINK_ENHANCER_RESIZE_LINK},e)}function u(e){return i({type:a.LINK_ENHANCER_REMOVE_LINK},e)}function p(e){return i({type:a.LINK_ENHANCER_SHARE_LINK},e)}function m(e){return i({type:a.LINK_ENHANCER_MOVE_LINK_BOTTOM},e)}function S(e){return i({type:a.LINK_ENHANCER_MOVE_LINK_INLINE},e)}},,,,,function(e,t,s){"use strict";s.d(t,"e",(function(){return n})),s.d(t,"d",(function(){return a})),s.d(t,"g",(function(){return o})),s.d(t,"a",(function(){return i})),s.d(t,"i",(function(){return c})),s.d(t,"h",(function(){return l})),s.d(t,"f",(function(){return d})),s.d(t,"c",(function(){return E})),s.d(t,"b",(function(){return _}));s(11);var r=s(9);const n=15,a=25,o=185,i=52,c=15,l=32,d=Object(r.d)(["SWITCH","CHECKBOX"]),E="optedOut",_="optedIn"},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(18),c=s(107),l=s(758),d=s.n(l),E=s(12),_=s.n(E),u=s(11),p=s(17),m=s(21),S=s(6),h=s(4);const C=_()(d.a),g={margin:`14px ${u.G}px ${5*u.G}px 0`,border:0,padding:`0 ${7*u.G}px`},O=Object(S.defineMessages)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptText:{id:"alert.ok",defaultMessage:"OK"}}),T=()=>{};class A extends o.a.Component{constructor(...e){super(...e),n()(this,"state",{shown:!0}),n()(this,"handleKeyDown",e=>{("Enter"===e.key||"Escape"===e.key&&!this.props.onClose)&&(e.preventDefault(),e.stopPropagation(),this.props.onAccept())}),n()(this,"handleAccept",e=>{e.stopPropagation(),this.props.onAccept()}),n()(this,"handleClose",e=>{e.stopPropagation(),this.props.onClose()})}render(){const e=this.context.intl.formatMessage,t="string"==typeof this.props.acceptText?this.props.acceptText:e(this.props.acceptText);let s;return s=this.props.hideClose?null:o.a.createElement("div",{className:C.close},o.a.createElement(m.default,{onClick:this.props.onClose?this.handleClose:this.handleAccept,kind:h.Kinds.CLOSE,size:h.Sizes.XS,title:e(O.close),"aria-label":e(O.close),"data-test-id":"alert-button-close"})),o.a.createElement(c.a,{onKeyDown:this.handleKeyDown,onClose:this.props.onClose?this.props.onClose:T},o.a.createElement("div",{className:C.container,"data-test-id":"alert-dialog",role:"alertdialog"},o.a.createElement("div",{className:C.icon},o.a.createElement(p.b,{kind:h.Kinds.EXCLAMATION_ALT,size:h.Sizes.L,colorState:h.ColorStates.WARNING_GRAD_RED})),o.a.createElement("header",{className:C.header},this.props.title?o.a.createElement("h3",{className:C.title,"data-test-id":"alert-title"},this.props.title):null,s),o.a.createElement("section",{className:C.message,"data-test-id":"alert-message"},this.props.message),o.a.createElement("footer",{className:C.controls},o.a.createElement(i.a,{onClick:this.handleAccept,style:g,"data-test-id":"alert-button-ok"},t))))}}n()(A,"contextTypes",{intl:S.intlShape.isRequired}),n()(A,"defaultProps",{acceptText:O.defaultAcceptText}),t.a=A},function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return i})),s.d(t,"c",(function(){return c})),s.d(t,"d",(function(){return l}));var r=s(1),n=s.n(r),a=s(6);const o=",",i="+",c={reply:{key:"R",description:n.a.createElement("strong",null,n.a.createElement(a.FormattedMessage,{id:"shortcut.reply",defaultMessage:"Reply"}))},replyAll:{key:"A",description:n.a.createElement("strong",null,n.a.createElement(a.FormattedMessage,{id:"shortcut.reply_all",defaultMessage:"Reply All"}))},forward:{key:"F",description:n.a.createElement("strong",null,n.a.createElement(a.FormattedMessage,{id:"shortcut.forward",defaultMessage:"Forward"}))},print:{key:"P",description:n.a.createElement("strong",null,n.a.createElement(a.FormattedMessage,{id:"shortcut.print",defaultMessage:"Print"}))}},l=["r","a","f","p"]},function(e,t,s){"use strict";var r=s(6),n=s(29),a=s(11),o=s(194),i=s(30),c=s.n(i);const l=()=>{},d=Object(r.defineMessages)({inlineImageAltText:{id:"compose.inline_image",defaultMessage:"Inline image"},emojiAltText:{id:"compose.emoji_image",defaultMessage:"Emoji"},gifPickerAttribution:{id:"compose.gif_picker_attr",defaultMessage:"Via {htmlImage}"}}),E=n.INLINE_IMAGE_PLUGIN_SIZE.IMAGE_BIG_WIDTH,_=n.INLINE_IMAGE_PLUGIN_CLASSES.INLINE_IMAGE_CLASS,u=n.INLINE_IMAGE_PLUGIN_CLASSES.EMOJI_WRAPPER_CLASS,p=n.INLINE_IMAGE_PLUGIN_CLASSES.ONLINE_GIF_CLASS,m=n.INLINE_IMAGE_PLUGIN_CLASSES.GIF_WRAPPER_CLASS;function S(e,t,s=l){try{const r=window.getSelection();e.restoreCaret(),r&&!e.element.contains(r.anchorNode)&&e.focus(),e.pushButton("insertHTML",t),e.saveUndo(),s()}catch(e){console.error(e)}}t.a={findGifWrapper(e){for(;e&&-1===e.className.indexOf(m);)e=e.parentNode;return e},insertEmoji(e,t,s){const r=new Image;r.alt=r.title=t(d.emojiAltText),r.classList.add(u),r.height=s.height,r.src=s.downloadLink,r.style.padding="0px 2px",r.style.verticalAlign="middle",r.width=s.width,S(e,r.outerHTML,()=>{e.contentChanged({type:"emoji_inserted",eventData:{emoji:s}})})},insertGif(e,t,s){const r=new Image;r.alt=r.title=s.altText,r.src=s.downloadLink,r.className=_+" "+p,r.setAttribute("data-id",Date.now()),r.draggable=!1,S(e,function(e,t,{onlineContentLink:s}){const r=e(d.gifPickerAttribution,{htmlImage:'<img src="https://s.yimg.com/nq/gif-providers/1/gif-providers/tenor.png"/>'});let n={"font-size":a.E,color:"#979ba7","margin-top":"8px","font-family":"Arial"};return n=Object.keys(n).map(e=>e+":"+n[e]).join(";"),`<div><br></div><div class="${m}" contentEditable="false">\n               <a rel="noreferrer"\n                   target="_blank"\n                   href="${s}"\n                   style="cursor:pointer;text-decoration: none;color:transparent"\n               >${t.outerHTML}\n                   <div style="${n}" class="rte-gif-attribution">${r}</div>\n               </a></div><div><br></div>`}(t,r,s),()=>{e.contentChanged({type:"gif_inserted",eventData:{gif:s}}),e.scrollCaretIntoView()})},getOffsetFromEditorContainer(e,t){const s={top:0,left:0};for(;t&&t!==e.element.parentNode&&t!==document.body;)s.top+=t.offsetTop,s.left+=t.offsetLeft,t=t.offsetParent;return s},insertLink(e,t){S(e,`<div class='pasted-link'><a href="${t}">${t}</a></div>`,()=>e.scrollCaretIntoView())},insertInlineAttachment(e,t,s){const r=s.contentId,n=new Image;n.setAttribute("data-id",r),n.alt=n.title=t(d.inlineImageAltText),n.src=s.downloadUrl,n.classList.add(_),n.style.maxWidth=E+"px",n.draggable=!1,S(e,n.outerHTML+"<br/>",()=>e.scrollCaretIntoView())},isGif:e=>e.className.indexOf(m)>-1||e.className.indexOf(p)>-1,putCursorBefore(e){const t=window.getSelection(),s=document.createRange();s.setStartBefore(e),s.collapse(!0),t.removeAllRanges(),t.addRange(s)},removeInlineImage(e,t,s=l){let r=n.EDITOR_EVENTS.inline_image_removed;this.isGif(t)&&(t=this.findGifWrapper(t.parentNode),r=n.EDITOR_EVENTS.gif_removed),t.parentNode.removeChild(t),e.contentChanged({type:r}),s()},fixOverlayPosition({hoveredElement:e,overlay:t,scrollableContainer:s,editor:r}){if(e&&t&&s){const n=s.scrollTop,a=this.getOffsetFromEditorContainer(r,e);let o=Math.min(e.clientWidth,s&&s.clientWidth||Number.MAX_VALUE);a.left+o>r.element.clientWidth&&(o=r.element.clientWidth-a.left);let i=e.clientHeight;if(a.top<n){const e=a.top;a.top=n,i-=s.scrollTop-e}Object.assign(t.style,{left:a.left+"px",top:a.top+"px",width:o+"px",height:i+"px",position:"absolute"})}},getNodeFromPath(e,t){if(!e)return null;for(e.normalize();t.length&&e&&e.hasChildNodes();)e=e.childNodes[t.pop()];return e},getBoundingClientRectTextNode(e){const t=document.createRange();t.selectNode(e);const s=t.getBoundingClientRect();return{x:s.x,y:s.y}},getPathToNode(e,t,s){if(!e)return null;e.normalize();const r=[];if(t&&!s){const s=this.getBoundingClientRectTextNode(t),r={x:s.x,y:s.y},n=Object(o.formatPlaintextForDisplay)(Object(o.convertToPlainText)(e));e.innerHTML=n;const a=(e,t)=>c()(this.getBoundingClientRectTextNode(e),t),i=Array.from(e.childNodes).findIndex(e=>t.textContent===e.textContent&&a(e,r));return i>-1?[i]:[]}for(;t&&t!==e;){const e=t.parentNode;if(!e||!e.hasChildNodes())break;{const s=Array.from(e.childNodes).indexOf(t);r.push(s),t=e}}return r},getSelectionRange(){if("function"==typeof window.getSelection){const e=window.getSelection();if(e&&e.rangeCount>0)return e.getRangeAt(0)}return null},isValidStartOffsetForNode(e,t){switch(e.nodeType){case Node.TEXT_NODE:return t<=e.length;case Node.ELEMENT_NODE:return t<=e.childNodes.length;default:return!1}}}},,,function(e,t,s){"use strict";s.d(t,"d",(function(){return c})),s.d(t,"b",(function(){return l})),s.d(t,"c",(function(){return d})),s.d(t,"e",(function(){return E})),s.d(t,"a",(function(){return _}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function c({i13nModel:e}){return{type:a.ATTACHMENT_OPENED,i13nModel:e}}function l({attachment:e,i13nModel:t}){return{attachment:e,type:a.ATTACHMENT_DOWNLOADED,download:{downloadId:e.id,downloadUrl:e.downloadUrl,filename:e.filename,fileCount:1},i13nModel:t}}const d=e=>i({type:a.FORWARD_ATTACHMENTS},e),E=({downloadUrl:e})=>({type:a.ATTACHMENT_PREVIEW_FAILED,downloadUrl:e}),_=e=>i({type:a.INLINE_IMAGES_TO_ATTACHMENT},e)},function(e,t,s){"use strict";s.d(t,"a",(function(){return l})),s.d(t,"c",(function(){return d})),s.d(t,"b",(function(){return E}));var r=s(3),n=s.n(r),a=s(2),o=s(0);function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const l=e=>c({},e,{destinationFolderType:o.Mb.TRASH,type:a.DELETE_ITEMS_REQUESTED}),d=e=>c({type:a.DELETE_PREVIEW_REQUESTED},e),E=e=>c({type:a.DELETE_PREVIEW_CLOSED},e)},function(e,t,s){"use strict";s.d(t,"c",(function(){return u})),s.d(t,"d",(function(){return p})),s.d(t,"e",(function(){return m})),s.d(t,"b",(function(){return S})),s.d(t,"a",(function(){return h})),s.d(t,"f",(function(){return C}));var r=s(33),n=s.n(r),a=s(0),o=s(89),i=s(128),c=s(54),l=s(8);const d=e=>!(e.length<2)&&e[0].timestamp<e[e.length-1].timestamp,E=({now:e,timezone:t})=>{const s=a.we.Types,r=(e,t)=>((e,t,s)=>({type:e,value:t,timestamp:s}))(e,t,t),n=Object(o.h)({time:e,timezone:t}),i=n.year,c=n.startOfYear,l=[];for(let e=0;e<20;e++)l.push(r(s.YEAR,c(i+e)));return l.sort((e,t)=>t.timestamp-e.timestamp)},_=({now:e,timezone:t})=>{const s=a.we.Types,r=(e,t,s)=>({type:e,value:t,timestamp:s}),n=(e,t)=>r(e,t,t),i=Object(o.h)({time:e,timezone:t}),c=i.weekday,l=i.month,d=i.year,E=i.startOfPastDay,_=i.startOfMonth,u=i.startOfYear,p=[r(s.TODAY,0,(0,i.startOfPastHour)(0)),r(s.YESTERDAY,0,E(1)),r(s.THIS_WEEK,0,E(c)),r(s.LAST_WEEK,0,E(7+c)),r(s.THIS_MONTH,l,_(l))];for(let e=2;e<c+1;e++)p.push(r(s.DAY,c-e,E(e)));for(let e=0;e<6&&!(l-e-1<0);e++)p.push(r(s.MONTH,l-e-1,_(l-e-1)));p.push(n(s.THIS_YEAR,u(d)));for(let e=0;e<d-1970&&!(d-e-1<0);e++)p.push(n(s.YEAR,u(d-e-1)));return(e=>{if(0===e.length)return[];const t=a.we.PriorityMap,s=e.length-1,r=e[s];let n=[r],o=t[r.type];for(let r=s-1;r>=0;r--)t[e[r].type]<=o&&(n=[e[r]].concat(n)),o=Math.min(o,t[e[r].type]);return n})(p.sort((e,t)=>t.timestamp-e.timestamp))},u=({now:e,timezone:t,hasFutureTime:s=!1})=>{const r=s?E:_;try{return r({now:e,timezone:t}).map(e=>({listId:Object(l.f)({listContentType:a.ac.TIMECHUNK}),type:e.type,value:e.value,predicate:t=>t.timestamp>e.timestamp}))}catch(e){const t=new i.a(e),s=e.data,r=void 0===s?{}:s,n=e.name,a=e.message,o=Object.assign({name:void 0===n?"":n,message:void 0===a?"":a,stack:t.toString()},r);return c.a.error("Timechunk error V3",o),[]}},p=(e=[],t=[],s=d)=>{let r=[...e],a=0;const o={isGroupedList:!1,list:e};if(0===t.length)return o;const i=s(e);i&&r.reverse();const c=t.reduce((e,{type:t,value:s,listId:o,predicate:c})=>{let l=[];var d=((e,t)=>{const s=[],r=[],n=e.length;for(let a=0;a<n;a++)t(e[a])?s.push(e[a]):r.push(e[a]);return[s,r]})(r,c),E=n()(d,2);return l=E[0],r=E[1],a=l.length,a?e.concat({type:t,value:s,ts:new Date(s),listId:o,items:i?l.reverse():l}):e},[]);return i&&c.reverse(),c.length?{isGroupedList:!0,list:c}:o},m=(e,t,s,r)=>{const n=[];let a=[];if((!t||t<1)&&(t=1),e.forEach(e=>{a.length>=t&&(n.push({id:[e.listId,a[0].id,s,r,n.length].join("-"),items:a,listId:e.listId,listItemHeight:e.listItemHeight}),a=[]),a.push(e)}),a.length>0){const e=a[0];n.push({id:[e.listId,e.id,s,r,n.length].join("-"),items:a,listId:e.listId,listItemHeight:e.listItemHeight})}return n},S=(e=[],t)=>e.reduce((e,{items:s,listId:r,type:n,value:a})=>e.concat({id:[r,n,a].join("-"),type:n,value:a,listId:r}).concat(m(s,t,n,a)),[]),h=(e=[])=>e.reduce((e,{items:t,listId:s,type:r,value:n})=>e.concat({id:[s,r,n].join("-"),type:r,value:n,listId:s}).concat(t),[]),C=(e,t=a.Hd.ALL,s)=>{const r=e.id,n=e.listId;if(Object(l.w)(n)!==a.ac.MESSAGES)return!1;const o=s.getMessageIdsFromMessageGroupId(r);switch(t){case a.Hd.READ:return!o.some(e=>!s.getMessageFlags(e).read);case a.Hd.STARRED:return o.some(e=>s.getMessageFlags(e).flagged);case a.Hd.UNREAD:return o.some(e=>!s.getMessageFlags(e).read);case a.Hd.UNSTARRED:return!o.some(e=>s.getMessageFlags(e).flagged);case a.Hd.ALL:return!0;default:return!1}}},function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var r=s(27),n=s.n(r),a=s(3),o=s.n(a),i=(s(7),s(1)),c=s.n(i),l=s(21),d=s(4),E=s(6),_=s(9);const u=Object(E.defineMessages)({checked:{id:"atom.checkbox_checked",defaultMessage:"Checkbox, checked"},notChecked:{id:"atom.checkbox_not_checked",defaultMessage:"Checkbox, not checked"},partialChecked:{id:"atom.checkbox_partial_checked",defaultMessage:"Checkbox, partially checked"}}),p=Object(_.d)(["NONE","ALL","PARTIAL"]);class m extends c.a.Component{render(){const e=this.props,t=e.highContrast,s=e.size,r=e.isMonochrome;let a,o,i,E,_;switch(e.isInverted?(E=t?d.ColorStates.INVERTED_LESS_DIM:d.ColorStates.INVERTED_DIM,_=d.ColorStates.INVERTED):(E=t?d.ColorStates.NORMAL:d.ColorStates.COOL_FAINT,_=d.ColorStates.SELECTED),e.type){case p.ALL:a=d.Kinds.CHECKBOX_ON,o=_,i=u.checked;break;case p.PARTIAL:a=r?d.Kinds.MONOCHROME_MIXED_CHECKBOX:d.Kinds.MIXED_CHECKBOX,o=E,i=u.partialChecked;break;case p.NONE:default:a=d.Kinds.CHECKBOX_OFF,o=E,i=u.notChecked}return c.a.createElement(l.default,n()({"data-test-id":"checkbox"},this.props,{"data-iskeynav":!0,size:s,kind:a,colorState:o,title:this.context.intl.formatMessage(i)}))}}o()(m,"defaultProps",{highContrast:!1,isInverted:!1,size:d.Sizes.XS,isMonochrome:!1,tabIndex:-1}),o()(m,"contextTypes",{intl:E.intlShape.isRequired}),t.b=m},function(e,t,s){"use strict";s.d(t,"b",(function(){return l})),s.d(t,"a",(function(){return d}));var r=s(3),n=s.n(r),a=s(2),o=s(0);function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const l=e=>c({},e,e.triageActionType===o.ye.UNDO_MOVE?{type:a.UNDO_MOVE_SUCCEEDED}:{type:a.UPDATE_ITEMS_SUCCEEDED}),d=e=>c({},e,e.triageActionType===o.ye.UNDO_MOVE?{type:a.UNDO_MOVE_FAILED}:{type:a.UPDATE_ITEMS_FAILED})},,function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(34),o=s.n(a),i=s(3),c=s.n(i),l=(s(7),s(1)),d=s.n(l),E=s(728),_=s.n(E),u=s(12),p=s.n(u),m=s(102),S=s.n(m),h=s(127),C=s(21),g=s(4),O=s(6);const T=Object(O.defineMessages)({clearButton:{id:"input_clear",defaultMessage:"Clear"}});class A extends d.a.Component{constructor(...e){super(...e),c()(this,"state",{value:this.props.value}),c()(this,"focus",()=>{this.bidiInput.focus()}),c()(this,"handleChange",e=>{const t=this.state.value;e.persist(),e.target.value!==t&&this.setState({value:e.target.value},()=>{this.props.onChange(e)})})}componentWillReceiveProps(e){this.state.value!==e.value&&this.setState({value:e.value})}componentDidMount(){this.props.focusOnMount&&setTimeout(()=>this.bidiInput&&this.bidiInput.focus(),0)}render(){const e=this.props,t=e.className,s=e.containerClassName,r=e.clearButtonContainerClassName,a=e.isClearable,i=e.onClear,c=e.clearIconColorState,l=o()(e,["className","containerClassName","clearButtonContainerClassName","isClearable","onClear","clearIconColorState","focusOnMount"]),E=this.state.value,u=Boolean(a&&E),m=Object(h.getTextDirection)(E),O=p()(_.a,{showClear:u});return d.a.createElement("div",{className:S()(O.inputContainer,s)},d.a.createElement("input",n()({},l,{value:E,className:S()(O.input,t,O.rtlRemoveInput,O.rtlRawInput),ref:e=>this.bidiInput=e,onChange:this.handleChange},m&&{dir:m})),u&&d.a.createElement("span",{className:S()(O.clearButtonContainer,r)},d.a.createElement(C.default,{kind:g.Kinds.CLEAR,size:g.Sizes.XXS,colorState:c,title:this.context.intl.formatMessage(T.clearButton),className:O.clearButton,onClick:i,"data-test-id":"clear-button"})))}}c()(A,"contextTypes",{intl:O.intlShape}),c()(A,"defaultProps",{value:"",onChange(){},isClearable:!1,onClear(){},containerClassName:"",focusOnMount:!1,clearIconColorState:g.ColorStates.FAINT}),t.a=A},function(e,t,s){"use strict";s.r(t),s.d(t,"selectors",(function(){return O})),s.d(t,"key",(function(){return T}));var r=s(31),n=s(0),a=s(3),o=s.n(a),i=s(2);function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d=Object(r.combineReducers)({brands:(e={},t)=>{switch(t.type){case i.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:return l({},e,{},t.response.subscription.email.brand.reduce((e,s)=>(e[((e,t)=>`${t}:${e}`)(t.accountId,s.name)]={name:s.name,subscriptions:s.subscriptions.map(e=>e.recoid)},e),{}));default:return e}},recommendationsById:(e={},t)=>{switch(t.type){case i.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:return l({},e,{},t.response.subscription.email.brand.reduce((e,t)=>(t.subscriptions.forEach(s=>{e[s.recoid]=l({name:t.name},s)}),e),{}));default:return e}}});function E(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?E(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):E(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const u={name:"",unsubRequestTs:0,frequency:{ftype:n.ce.WEEKLY,fval:0},lastOpened:-1,score:0,subscriptions:[]},p=(e=u,t)=>{switch(t.type){case i.UNSUBSCRIBE_BY_BRAND_FAILED:case i.UNSUBSCRIBE_BY_BRAND_REQUESTED:return _({},e,{subscriptions:e.subscriptions.map(e=>_({},e,{status:t.type===i.UNSUBSCRIBE_BY_BRAND_FAILED?n.de.ACTIVE:n.de.PENDINGUNSUB}))});case i.UNSUBSCRIBE_BY_BRAND_SUCCEEDED:return _({},e,{subscriptions:t.subscriptions});default:return e}};var m=(e={},t)=>{switch(t.type){case i.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:{const s={};return t.response.subscription.email.brand.forEach(e=>{const r=((e,t)=>e+":"+t)(e.name,t.accountId),n=e.unsubRequestTs;s[r]=_({},u,{name:e.name,unsubRequestTs:isNaN(n)?0:n,frequency:e.frequency,lastOpened:e.lastOpened,score:e.score,subscriptions:e.subscriptions})}),_({},e,{},s)}case i.UNSUBSCRIBE_BY_BRAND_REQUESTED:case i.UNSUBSCRIBE_BY_BRAND_FAILED:case i.UNSUBSCRIBE_BY_BRAND_SUCCEEDED:{const s=t.brandId;return _({},e,{[s]:p(e[s],t)})}default:return e}};var S=(e=n.bc.ACTIVE,t)=>{switch(t.type){case i.SUBSCRIPTION_LIST_FILTER_CHANGED:return t.listFilter;default:return e}};function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var C=(e={[n.bc.ACTIVE]:n.Yd.RELEVANCE,[n.bc.PAST]:n.Yd.RELEVANCE},t)=>{switch(t.type){case i.SUBSCRIPTION_LIST_SORT_ORDER_CHANGED:return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{[t.listFilter]:t.sortOrder});case i.OPEN_PAGE_REQUESTED:return{[n.bc.ACTIVE]:n.Yd.RELEVANCE,[n.bc.PAST]:n.Yd.RELEVANCE};default:return e}};t.default=Object(r.combineReducers)({subscriptions:m,currentFilter:S,sortOrder:C,recommendations:d});const g=e=>e.subscriptions.reduce((e,t)=>t.status===n.de.FAILED?e+1:e,0),O=e=>({getBrandInfo:t=>e.subscriptions[t],getSortOrder:t=>e.sortOrder[t],getCurrentListFilter:()=>e.currentFilter,getSubscriptionFailureCount:()=>{let t,s=0;for(t in e.subscriptions)e.subscriptions.hasOwnProperty(t)&&(s+=g(e.subscriptions[t]));return s},doesBrandExist:t=>!!e.subscriptions[t],getBrandFrequency:t=>e.subscriptions[t]?e.subscriptions[t].frequency:void 0,getBrandName:t=>e.subscriptions[t]?e.subscriptions[t].name:void 0,getBrandSubscriptions:t=>e.subscriptions[t]?e.subscriptions[t].subscriptions:void 0,getFromEmailsForBrand:t=>{const s=(e.subscriptions[t]||{}).subscriptions;return(void 0===s?[]:s).reduce((e,{listId:t,fromEmail:s})=>(!t&&s&&e.push(s),e),[])},getListIdsForBrand:t=>{const s=(e.subscriptions[t]||{}).subscriptions;return(void 0===s?[]:s).reduce((e,{listId:t})=>(t&&e.push(t),e),[])},getFromNamesForBrand:t=>{const s=(e.subscriptions[t]||{}).subscriptions;return(void 0===s?[]:s).reduce((e,{listId:t,fromName:s})=>(!t&&s&&e.push(s),e),[])},getRecommendationIds:()=>Object.values(e.recommendations.brands).reduce((e,t)=>(t.subscriptions[0]&&e.push(t.subscriptions[0]),e),[]),getRecommendationById:t=>e.recommendations.recommendationsById[t],getRecommendationsInfo:()=>Object.values(e.recommendations.recommendationsById).reduce((e,t)=>(e.push({recoId:t.recoid,logInfo:t.meta}),e),[])}),T="subscriptionList"},function(e,t,s){"use strict";s(7);var r=s(1),n=s.n(r),a=s(6),o=s(89);function i(e,t){return new Date(t).getUTCFullYear()===e.getUTCFullYear()}class c extends n.a.Component{shouldComponentUpdate(e){const t=this.props;return e.date.getTime()!==t.date.getTime()||e.timezone!==t.timezone||e.long!==t.long}render(){const e=this.props,t=e.date,s=e.long,r=e.timezone,c=void 0===r?"UTC":r,l=e.weekday,d=this.context.intl,E=d.locale;let _;try{_=Object(o.q)({timezone:c})}catch(e){return function(e,t,s){return n.a.createElement(a.FormattedDate,e?{value:t,timeZone:s,minute:"numeric",hour:"numeric",hour12:"true",month:"short",day:"numeric"}:{value:t,timeZone:s,day:"numeric",month:"numeric",year:"numeric"})}(s,t,c)}return s?function(e,t,s,r,c,l){const d={timeZone:s,day:"numeric",month:Object(o.m)(c),weekday:l};return i(e,t)||(d.year="numeric"),n.a.createElement(a.FormattedMessage,{id:"date_at_time",defaultMessage:"\n                {date} at {time}\n            ",values:{date:r.formatDate(e,d),time:r.formatTime(e,{timeZone:s,hour:"numeric",minute:"numeric"})}})}(t,_,c,d,E,l||void 0):function(e,t,s,r){return function(e,t){return e.getTime()>=t}(e,t)?n.a.createElement(a.FormattedTime,{value:e,timeZone:s,hour:"numeric",minute:"2-digit"}):i(e,t)?n.a.createElement(a.FormattedDate,{value:e,timeZone:s,day:"numeric",month:Object(o.m)(r)}):n.a.createElement(a.FormattedDate,{value:e,timeZone:s,day:"numeric",month:"numeric",year:"numeric"})}(t,_,c,E)}}c.contextTypes={intl:a.intlShape};var l=c,d=s(10),E=s(13);t.a=Object(E.connect)(e=>({timezone:(0,(0,Object(d.selectors)(e).getEnvironmentSelectors)().getTimeZoneName)()}))(class extends n.a.Component{render(){return n.a.createElement(l,this.props)}})},function(e,t,s){"use strict";s.d(t,"b",(function(){return E})),s.d(t,"a",(function(){return _}));var r=s(1),n=s.n(r),a=s(6),o=s(158),i=s(19);const c={};let l=0;function d(e,t,s){const r={};if(Object.keys(s).forEach(e=>{r[e]=++l}),!0===e)return r;let i=c[t.id];return i||(c[t.id]=i={group:t,keys:[]}),Object.keys(s).forEach(e=>{const t=s[e],c=t.key,l=t.description,d=function(e,t){for(let s=0;s<e.length;s++){const r=e[s],o=r.description;if(o===t)return r;if(n.a.isValidElement(o)&&o.type!==a.FormattedMessage||n.a.isValidElement(t)&&t.type!==a.FormattedMessage)continue;if((n.a.isValidElement(o)?o.props.id:o.id)===(n.a.isValidElement(t)?t.props.id:t.id))return r}}(i.keys,l);if(d)d.key.indexOf(c)<0&&(d.key+=o.b+c);else{const t={id:r[e],key:c,description:l};-1===i.keys.indexOf(t)&&i.keys.push(t)}}),r}function E({invisible:e,group:t,keys:s}){!function(e,t,s){Object(i.a)(e||"object"==typeof t&&"string"==typeof t.description.id,"The 'group' has to be an object returned by React Intl's defineMessages. Currently we got "+t),Object.keys(s).forEach(t=>{const r=s[t];Object(i.a)(e||n.a.isValidElement(r.description)||"object"==typeof r.description&&"string"==typeof r.description.id,"The 'message' has to be an object returned by React Intl's defineMessages\n            or has to be an instance of a React element (FormattedMessage). Currently, the key is "+t)})}(e,t,s);return function(e,t){const s={};return Object.keys(e).forEach(r=>{const n=e[r].key,a=t[r];s[r]=e=>({id:a,key:n,callback:e})}),s}(s,d(e,t,s))}function _(){return c}},,function(e,t,s){"use strict";s.d(t,"c",(function(){return E})),s.d(t,"a",(function(){return _})),s.d(t,"d",(function(){return u})),s.d(t,"b",(function(){return p})),s.d(t,"e",(function(){return m})),s.d(t,"f",(function(){return S}));var r=s(2),n=s(20),a=s(10),o=s(0),i=s(109),c=s(208),l=s.n(c);let d=5;function E(e){const t=Object(a.selectors)(e.store.getState()),s=t.getCurrentListId,i=(0,t.isFeatureEnabled)(o.Eb.SILENT_TIMEZONE_CORRECTION),c=l.a.determine(),d=c&&c.name(),E=i&&Object(n.b)(d)?d:null;e.dispatch(r.LAUNCH_COMPLETED,{listId:s(),clientInferredTimezone:E})}function _(e){e.dispatch(r.APP_LOAD_COMPLETED)}function u(e,{isVisible:t}){const s=e.heartbeatAPIClient.emergencyRefresh,n=Object(a.selectors)(e.store.getState()),c=n.isAppVisible,l=n.getApplicationLastVisibleTimeStamp,E=n.getPrimaryAccount,_=n.getRoute,u=(0,n.getFeaturesSelectors)().getSetting("appRefreshIdleInterval"),p=c(),m=E(),S=_();t!==p&&(t&&S.name===o.rd.SETTINGS&&m.forwardEmail&&!m.forwardEmailVerified&&d>0&&(e.store.dispatch(i.i({accountId:m.id,updatedProperties:{forwardEmailVerified:m.forwardEmailVerified}})),d--),e.dispatch(r.APPLICATION_VISIBILITY_DID_CHANGE,{isVisible:t,emergencyRefresh:s,appRefreshIdleInterval:u,applicationLastVisibleTimeStamp:l()}))}function p(e){e.dispatch(r.SETTINGS_MENU_CLOSED)}function m(e,{i13nModel:t}){e.dispatch(r.OPEN_TABS_MENU,{i13nModel:t})}function S(e,t){e.dispatch(r.SYNC_DATA,t)}},function(e,t,s){"use strict";s(7);var r=s(1),n=s.n(r),a=s(6),o=s(12),i=s.n(o),c=(s(0),s(9),s(41)),l=s(681),d=s.n(l),E=s(127);const _=Object(a.defineMessages)({ariaLabel:{id:"folder_label_with_count",defaultMessage:"{folderName}, {count, plural, =0 {} other {# unread}}"}});function u({folderDisplayType:e="",name:t,prefix:s="",count:r=0,isCenterJustified:a=!1},{intl:o}){const l=i()(d.a,{isCenterJustified:a}),u=s+(Object(c.m)(o.formatMessage,e)||t),p=o.formatMessage(_.ariaLabel,{folderName:u,count:r}),m="rtl"===Object(E.getTextDirection)(u)?l.rtlIgnoreDirRTL:l.rtlIgnoreDirLTR;let S;return r&&(S=` (${o.formatNumber(r)})`),n.a.createElement("span",{className:S?l.container:"","aria-live":!0,role:"heading","aria-label":p},n.a.createElement("span",{className:m+" "+(S?l.label:""),"aria-hidden":!0,"data-test-folder-name":t},u),S?n.a.createElement("span",{className:l.count,"aria-hidden":!0},S):null)}u.contextTypes={intl:a.intlShape.isRequired},t.a=u},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(33),o=s.n(a),i=s(34),c=s.n(i),l=s(3),d=s.n(l),E=(s(7),s(1)),_=s.n(E),u=s(28),p=s.n(u),m=(s(90),s(138),s(145),s(12)),S=s.n(m),h=s(737),C=s.n(h);const g=()=>{};class O extends _.a.Component{constructor(...e){super(...e),d()(this,"state",{isMenuVisible:!1}),d()(this,"toggleMenu",()=>{this.state.isMenuVisible?this.hideMenu():this.showMenu()}),d()(this,"showMenu",()=>{this.setState({isMenuVisible:!0}),this.props.onMenuShow()}),d()(this,"hideMenu",()=>{this.setState({isMenuVisible:!1}),this.props.onMenuHide()}),d()(this,"handleMenuButtonKeyDown",e=>{switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),this.toggleMenu();break;case"Escape":e.preventDefault(),this.hideMenu(),this.blurMenuButton()}}),d()(this,"blurMenuButton",()=>{p.a.findDOMNode(this.refs.button).blur()})}componentDidUpdate(e,t){this.props.afterMenuHide&&!this.state.isMenuVisible&&t.isMenuVisible&&this.props.afterMenuHide()}componentDidMount(){this.props.parentMenu&&this.setState({isMenuVisible:!0})}render(){const e=this.props,t=e.onFocus,s=e.onBlur,r=e.children,a=e.showMenuActiveState,i=e.parentMenu,l=c()(e,["onFocus","onBlur","onMenuShow","onMenuHide","afterMenuHide","children","showMenuActiveState","parentMenu"]),d=_.a.Children.toArray(r),E=o()(d,2),u=E[0],p=E[1],m=this.state.isMenuVisible,h=S()(C.a,{active:m&&a});let g=null;u&&(g=_.a.cloneElement(u,{ref:"button","aria-expanded":m,onClick:this.toggleMenu,onKeyDown:this.handleMenuButtonKeyDown,onFocus:t,onBlur:s,isActive:m}));let O=null;return i&&p?O=_.a.cloneElement(p,{ref:"submenu",actionNode:i.refs.button,onHideMenu:this.hideMenu}):m&&p&&(O=_.a.cloneElement(p,{ref:"menu",actionNode:this.refs.button,onHideMenu:this.hideMenu})),_.a.createElement("div",n()({},l,{className:h.buttonContainer}),g,O)}}d()(O,"defaultProps",{onMenuShow:g,onMenuHide:g,onFocus:g,onBlur:g,showMenuActiveState:!1}),t.a=O},function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));s(239);function r(e,t,s){let r=t.getBoundingClientRect();const n=e.ownerDocument.documentElement.offsetHeight,a=e.ownerDocument.documentElement.offsetWidth,o=e.getBoundingClientRect(),i=e.ownerDocument,c=i.scrollingElement,l=i.body,d=c?c.scrollLeft:l.scrollLeft,E=c?c.scrollTop:l.scrollTop,_=o.top+E,u=o.right+d,p=o.bottom+E,m=o.left+d,S=-o.width,h=8,C={below:n-p-h,above:_-h,left:m-S,right:a-u-S},g={},O=Math.floor(.9*Math.max(C.above,C.below)),T=Math.floor(.9*Math.max(C.left,C.right));if(r.height>O&&(g.maxHeight=O),r.width>T&&(g.maxWidth=T),g.maxHeight||g.maxWidth){g.overflow="auto";const e=g.maxHeight||r.height,t=g.maxWidth||r.width;r=Object.assign({},r,{height:e,width:t,bottom:r.top+e,right:r.left+t})}const A=.9*C.below-r.height>=0,I=.9*C.above-r.height>=0,f=.9*C.left-r.width>=0,D=.9*C.right-r.width>=0;return s&&D?g.left=m-r.width-S:D?g.left=u+S:f&&(g.left=m-r.width-S),A?g.top=p+h:I&&(g.top=_-r.height-h),g}},function(e,t,s){"use strict";s.d(t,"b",(function(){return _})),s.d(t,"c",(function(){return u})),s.d(t,"d",(function(){return p})),s.d(t,"a",(function(){return m}));var r=s(33),n=s.n(r),a=s(29),o=s(0),i=s(155),c=s(77),l=s(194);const d=/messages\/@.id==(.*?)\/.*?content\/parts\/@.id==(.*?)\//i,E=/^https/i;function _(e){const t=e.querySelectorAll('[class*="yahoo-style-wrap"]');return 0===t.length?null:t[0]}function u(e){if(!e)return!1;const t=e.getAttribute("class");return t&&-1!==t.indexOf("yiv")}function p(e,t){const s=t.getAttachmentsSelectors,r=(0,t.getFeaturesSelectors)().getSetting,l=Object(i.getInertElement)(e),p=function(e){return!!e.querySelector(a.LINK_EHANCER_CARD_SELECTOR)}(l),m=_(l),S=u(m);!function(e,t){const s=t.getDownloadUrlByContentId,r=t.doesAttachmentExistById,o=t.getContentIdByAttachmentId;[].forEach.call(e.querySelectorAll(a.INLINE_IMAGE_SELECTOR),e=>{let t=e.getAttribute("data-id");const a=e.getAttribute("src");if(!t){if(!a||!d.test(a))return;{const e=d.exec(a),s=n()(e,3),i=s[1]+":"+s[2];if(!r(i))return;t=o(i)}}let i=s(t);!i&&E.test(a)&&(i=a),e.setAttribute("src",i||"cid://"+t.slice(1,-1)),e.removeAttribute("data-id"),e.setAttribute("data-id",t)})}(l,s()),function(e){const t=e.querySelector(a.STATIONERY_BODY_SELECTOR);t&&t.removeAttribute("contenteditable")}(l),function(e){[].forEach.call(e.querySelectorAll("font"),e=>{!(e.style&&e.style.backgroundColor)&&(e.parentNode&&"SPAN"===e.parentNode.nodeName)&&(e.style.backgroundColor="inherit")})}(l);let h="";return m&&!S?(!function(e,t){const s=(0,t.getFeaturesSelectors)().getSetting;e.style.fontFamily||(e.style.fontFamily=s(o.Kd.COMPOSE_FONT_FAMILY).replace(/"/g,"")),e.style.fontSize||(e.style.fontSize=Object(c.getFontSizeStyle)(s(o.Kd.COMPOSE_FONT_SIZE)))}(m,t),h=l.innerHTML.replace(/&quot;/g,"")):h=l.innerHTML?'<div class="yahoo-style-wrap" style="font-family:'+r(o.Kd.COMPOSE_FONT_FAMILY).replace(/"/g,"")+";font-size:"+Object(c.getFontSizeStyle)(r(o.Kd.COMPOSE_FONT_SIZE))+';">'+l.innerHTML+"</div>":"<div><br /></div>",`<html${p?" "+a.OutlookSupportHTMLAttributes:""}><head>${p?a.OutlookSupportHTMLHeadContent:""}</head><body>`+h+"</body></html>"}function m(e){return Object(l.convertToPlainText)(Object(i.getInertElement)(e))}},function(e,t,s){"use strict";s.d(t,"b",(function(){return c})),s.d(t,"a",(function(){return l})),s.d(t,"c",(function(){return d})),s.d(t,"d",(function(){return E}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>i({type:a.SEARCH_INPUT_FOCUSED},e),l=e=>i({type:a.SEARCH_LIST_ITEMS_FAILED},e),d=e=>i({type:a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED},e),E=e=>i({type:a.SEARCH_LIST_ITEMS_RECEIVED},e)},function(e,t,s){"use strict";var r=s(70);t.a=s.n(r).a.create("norrin/bootcamp_client")},function(e,t,s){"use strict";s.d(t,"c",(function(){return r})),s.d(t,"f",(function(){return n})),s.d(t,"e",(function(){return a})),s.d(t,"d",(function(){return o})),s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return c}));const r=Math.floor(65535*Math.random()),n=28,a="https://data.mail.yahoo.com/xobni",o="https://data.mail.aol.com/xobni",i="AolMail",c="YMailNoble"},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(20);function n(){return Object(r.c)()&&!!window.navigator.serviceWorker&&!!window.PushManager&&!!ServiceWorkerRegistration.prototype.showNotification}},function(e,t,s){"use strict";s.d(t,"h",(function(){return o})),s.d(t,"i",(function(){return i})),s.d(t,"g",(function(){return l})),s.d(t,"d",(function(){return d})),s.d(t,"b",(function(){return E})),s.d(t,"e",(function(){return _})),s.d(t,"a",(function(){return u})),s.d(t,"c",(function(){return p})),s.d(t,"f",(function(){return m}));var r=s(6),n=s(87);const a=Object(r.defineMessages)({helpGroupAndDelete:{id:"view_mail_help_group_and_delete",defaultMessage:"Group and delete emails by conversations"},helpUnsubscribe:{id:"view_mail_help_unsubscribe",defaultMessage:"Unsubscribe from email lists"},helpAccessFromOtherComputer:{id:"view_mail_help_access_from_other_computer",defaultMessage:"Can I access {mailBrandNameString} from another computer?"},helpAdditionalSecurityFeatures:{id:"additional_security_features",defaultMessage:"Additional security features in Yahoo Mail"},helpToggleNotification:{id:"notification_help_toggle_notification",defaultMessage:"Turn Desktop notifications on or off for {mailBrandNameString}"},helpCreateVacationResponse:{id:"vacation_response_create_vacation_response",defaultMessage:"Create a vacation response"},helpSortOrganizeEmail:{id:"filters_help_sort_organize_email",defaultMessage:"Use filters to sort and organize incoming email"},helpWronglyFiltered:{id:"filters_help_wrongly_filtered",defaultMessage:"An email was wrongly filtered as spam"},helpTrashFolder:{id:"filters_trash_folder",defaultMessage:"Email incorrectly delivered to the Trash folder"},helpReauthorize:{id:"social_accounts_help_reauthorize",defaultMessage:"Reauthorize LinkedIn connection in {mailBrandNameString}"},helpContactCard:{id:"social_accounts_help_contact_cards",defaultMessage:"Contact cards in {mailBrandNameString}"},helpChangeReplyAddress:{id:"accounts_change_reploy_address",defaultMessage:"Change your reply-to address in {mailBrandNameString}"},helpChangeAcName:{id:"accounts_change_account_name",defaultMessage:"Change your account name and nickname on Yahoo"},helpCreateUseDelExtra:{id:"accounts_create_use_del_extra_email",defaultMessage:"Create, use, and delete an extra email address"},helpCreateDiffID:{id:"accounts_create_diff_id",defaultMessage:"Create a different Yahoo ID or email address"},helpNoAdsHeader:{id:"mail_pro_info_no_more_ads_header",defaultMessage:"No more ads"},helpNoAdsHint:{id:"mail_pro_info_no_more_ads_hint",defaultMessage:"See your emails without any ads across all devices for this account"},helpEmailSupportHeader:{id:"mail_pro_email_support_header",defaultMessage:"Always-on email support"},helpEmailSupportHint:{id:"mail_pro_email_support_hint",defaultMessage:"Email your questions and comments anytime and get a prompt response from our customer service"}}),o=e=>function(t,s=""){if(-1!==(e=>{switch(e){case"att":case"sky":case"frontier":case"rogers":return["SLN4992","SLN15953","SLN2059"];default:return[]}})(s).indexOf(e))return null;if("aol"===s){const s=n.k[t],r=n.l[e]&&n.l[e][t];return s&&r?s+n.b+r:n.f}return n.d+(n.n[t]||"en_ZZ")+n.h+("att"===s&&n.m[e]?n.m[e]:e)+(!s||"ycorp"===s&&"verizon"===s?"":n.i+s+n.a)},i=e=>function(t,s=""){return"aol"===s?n.j[t]||n.f:n.e+(n.n[t]||"en_ZZ")+n.h+e+n.a},c={viewMail:[{text:a.helpGroupAndDelete,link:o("SLN28055")},{text:a.helpUnsubscribe,link:o("SLN28056")},{text:a.helpAccessFromOtherComputer,link:o("SLN5283")}],notifications:[{text:a.helpToggleNotification,link:o("SLN26611")}],vacationResponse:[{text:a.helpCreateVacationResponse,link:o("SLN28068")}],filter:[{text:a.helpSortOrganizeEmail,link:o("SLN28071")},{text:a.helpWronglyFiltered,link:o("SLN28056")},{text:a.helpTrashFolder,link:o("SLN6265")}],social:[{text:a.helpReauthorize,link:o("SLN26757")},{text:a.helpContactCard,link:o("SLN25582")}],accounts:[{text:a.helpChangeReplyAddress,link:o("SLN22036")},{text:a.helpChangeAcName,link:o("SLN4992")},{text:a.helpCreateUseDelExtra,link:o("SLN15953")},{text:a.helpCreateDiffID,link:o("SLN2059")}],mailPro:[{img:"/img/mail_pro_nomoreads.png",header:a.helpNoAdsHeader,hint:a.helpNoAdsHint},{img:"/img/mail_pro_support.png",header:a.helpEmailSupportHeader,hint:a.helpEmailSupportHint}],unblock:{link:o("SLN28635")}},l=c.viewMail,d=c.notifications,E=c.filter,_=c.social,u=c.accounts,p=c.mailPro,m=c.unblock},,,,function(e,t,s){"use strict";s.d(t,"c",(function(){return a})),s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return i}));var r=s(6);const n=Object(r.defineMessages)({general:{id:"shortcut_group.general",defaultMessage:"General"},selection:{id:"shortcut_group.selection",defaultMessage:"Checking/Unchecking"},action:{id:"shortcut_group.actions",defaultMessage:"Actions"},attachmentPreview:{id:"shortcut_group.attachmentPreview",defaultMessage:"Attachment Preview"}}),a={priority:0,id:"general",description:n.general},o={priority:2,id:"action",description:n.action},i={priority:3,id:"attachmentPreview",description:n.attachmentPreview}},,function(e,t,s){"use strict";s(7);var r=s(1),n=s.n(r),a=s(750),o=s.n(a),i=s(12),c=s.n(i),l=s(17),d=s(4),E=s(0),_=s(13),u=s(10);const p=e=>{e.stopPropagation()};function m({isAffiliatePartnerEnabled:e,isOnDarkBackground:t,noVigLinkCheck:s,redirectUrl:r,size:a,showSponsoredLogo:i}){const E=c()(o.a,{isOnDarkBackground:t});return i?n.a.createElement("span",{className:E.sponsoredIconContainer},n.a.createElement(l.b,{kind:d.Kinds.SPONSORED,size:d.Sizes.XXS,colorState:d.ColorStates.INHERITED})):s||e?n.a.createElement("a",{rel:"noreferrer",href:r,target:"_blank",className:E.infoIconContainer,onClick:p},n.a.createElement(l.b,{kind:d.Kinds.INFO,size:a,colorState:d.ColorStates.INHERITED})):null}m.defaultProps={isOnDarkBackground:!1,noVigLinkCheck:!1,size:d.Sizes.S},t.a=Object(_.connect)(e=>{const t=Object(u.selectors)(e),s=t.isFeatureEnabled;return{redirectUrl:(0,t.getSetting)(E.Kd.PARTNER_ATTRIBUTION_URL),isAffiliatePartnerEnabled:s(E.Eb.AFFILIATE_PARTNER),showSponsoredLogo:s(E.Eb.SHOW_SPONSORED_LOGO)}})(m)},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(49);function n(e,t){e.target.onerror=null,e.target.src=Object(r.a)(t)}},function(e,t,s){"use strict";s.d(t,"a",(function(){return C}));var r=s(3),n=s.n(r),a=s(67),o=s(0),i=s(106),c=s(2),l=s(10);const d={archiveMessageGroups:i.a,restoreMessageGroups:i.r,deleteMessageGroups:i.c,moveMessageGroups:i.n,markMessageGroupsAsSpam:i.j,markMessageGroupsAsNotSpam:i.g,markMessageGroupsAsRead:i.i,markMessageGroupsAsUnread:i.m,markMessageGroupsAsFlagged:i.f,markMessageGroupsAsUnflagged:i.l,toggleSelection:function(e,{listId:t,messageGroupIds:s,streamId:r,streamItem:n,i13nModel:a}){e.dispatch(c.STREAM_ITEM_TOGGLED,{i13nModel:a,isV2Action:!0,listId:t,streamId:r,streamItem:n,messageGroupIds:s})},contextMenu:function(e,{listId:t,messageGroupIds:s,streamId:r,streamItem:n,i13nModel:a}){e.dispatch(c.STREAM_CONTEXT_MENU,{i13nModel:a,isV2Action:!0,listId:t,streamId:r,streamItem:n,messageGroupIds:s})},contextMenuShown:function(e,{i13nModel:t}){e.dispatch(c.STREAM_CONTEXT_MENU_SHOWN,{i13nModel:t})},toggleMultipleSelection:function(e,{listId:t,multipleStreamItems:s,streamId:r,streamItem:n,i13nModel:a}){e.dispatch(c.STREAM_ITEMS_MULTIPLE_TOGGLE,{i13nModel:a,isV2Action:!0,listId:t,streamId:r,streamItem:n,multipleStreamItems:s})},selectAll:function(e,{listId:t,streamId:s,i13nModel:r}){e.dispatch(c.ALL_STREAM_ITEMS_SELECTED,{i13nModel:r,isV2Action:!0,listId:t,streamId:s})},selectRange:function(e,{listId:t,targetGroupId:s,streamId:r,streamItem:n,i13nModel:a}){e.dispatch(c.STREAM_ITEMS_RANGE_SELECTED,{i13nModel:a,isV2Action:!0,listId:t,targetGroupId:s,streamId:r,streamItem:n})},selectNone:function(e,{listId:t,streamId:s,i13nModel:r}){e.dispatch(c.STREAM_ITEMS_SELECTION_CLEARED,{i13nModel:r,isV2Action:!0,listId:t,streamId:s})},selectRead:function(e,{listId:t,streamId:s,selectionType:r,i13nModel:n}){e.dispatch(c.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:r})},selectUnread:function(e,{listId:t,streamId:s,selectionType:r,i13nModel:n}){e.dispatch(c.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:r})},selectStarred:function(e,{listId:t,streamId:s,selectionType:r,i13nModel:n}){e.dispatch(c.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:r})},selectUnstarred:function(e,{listId:t,streamId:s,selectionType:r,i13nModel:n}){e.dispatch(c.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:r})},moveCursor:function(e,{listId:t,movement:s,unit:r,i13nModel:n,streamId:a}){const i=(0,Object(l.selectors)(e.store.getState()).getFeaturesSelectors)().getSetting(o.Kd.PREVIEW_PANE);e.dispatch(c.STREAM_CURSOR_MOVED,{isV2Action:!0,listId:t,streamId:a,movement:s,unit:r,i13nModel:n,previewPane:i})},selectMove:function(e,{listId:t,movement:s,streamId:r,i13nModel:n}){e.dispatch(c.STREAM_SELECT_CURSOR_MOVED,{i13nModel:n,isV2Action:!0,listId:t,movement:s,streamId:r})},itemDragStart:function(e,{listId:t,messageGroupIds:s,streamId:r,streamItem:n}){e.dispatch(c.ITEMS_DRAG_STARTED,{streamId:r,streamItem:n,listId:t,messageGroupIds:s})}};var E=s(113);function _(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const p={toolbarMenuShown:(e,{i13nModel:t})=>{e.dispatch(c.MESSAGE_LIST_TOOLBAR_MENU_SHOWN,{i13nModel:t})}},m={archive:d.archiveMessageGroups,restore:d.restoreMessageGroups,delete:d.deleteMessageGroups,markAsSpam:d.markMessageGroupsAsSpam,markAsNotSpam:d.markMessageGroupsAsNotSpam,move:d.moveMessageGroups,[o.Hd.ALL]:d.selectAll,[o.Hd.NONE]:d.selectNone,[o.Hd.READ]:d.selectRead,[o.Hd.UNREAD]:d.selectUnread,[o.Hd.STARRED]:d.selectStarred,[o.Hd.UNSTARRED]:d.selectUnstarred},S={reply:i.q,replyAll:i.p,forward:i.e},h={[a.c.LIST]:Object.assign({},p,m),[a.c.LIST_WITH_PREVIEW_RIGHT]:Object.assign({},p,S,m),[a.c.LIST_WITH_PREVIEW_BOTTOM]:Object.assign({},p,S,m),[a.c.MESSAGE_VIEW]:Object.assign({},p,S,{archive:i.b,restore:i.s,delete:i.d,markAsSpam:i.k,markAsNotSpam:i.h,move:i.o})},C={[a.c.LIST]:u({},h[a.c.LIST],{delete:E.b,move:E.i,archive:E.a,restore:E.j,markAsSpam:E.f,markAsNotSpam:E.d}),[a.c.LIST_WITH_PREVIEW_RIGHT]:u({},h[a.c.LIST_WITH_PREVIEW_RIGHT],{delete:E.b,move:E.i,archive:E.a,restore:E.j,markAsSpam:E.f,markAsNotSpam:E.d}),[a.c.LIST_WITH_PREVIEW_BOTTOM]:u({},h[a.c.LIST_WITH_PREVIEW_BOTTOM],{delete:E.b,move:E.i,archive:E.a,restore:E.j,markAsSpam:E.f,markAsNotSpam:E.d}),[a.c.MESSAGE_VIEW]:h[a.c.MESSAGE_VIEW]};t.b=h},,function(e,t,s){"use strict";s.d(t,"d",(function(){return _})),s.d(t,"c",(function(){return u})),s.d(t,"e",(function(){return p})),s.d(t,"b",(function(){return m}));s(34);var r=s(3),n=s.n(r),a=s(13),o=s(73),i=s(10),c=s(0),l=(s(83),s(105));function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const _=e=>{const t=Object(i.selectors)(e).getSetting,s=t(c.Kd.ABOUT_AD_URL);return{adVersion:t(c.Kd.DEALS_SHOPPING_CART_AD_VERSION),aboutAdsUrl:s}},u=e=>({onAdClicked:t=>e(Object(l.g)(t)),onAdRendered:t=>e(Object(l.h)(t))}),p=e=>{const t=Object(i.selectors)(e),s=t.getEnvironmentSelectors,r=t.getMainContentWidth,n=t.isFeatureEnabled,a=(0,t.getSetting)(c.Kd.ENABLED_AFFILIATE_PARTNERS),o=s(),l=o.getLoggerParams,d=o.getPartner;return{affiliateFeatures:a,isAffiliatePartnerEnabled:n(c.Eb.AFFILIATE_PARTNER),locale:l().locale,mainContentWidth:r(),partner:d()}},m=(e,{onCouponClick:t})=>({clip:({mailboxId:t,cardMid:s,i13nModel:r={},recommendations:n=!1})=>e(Object(l.b)({mailboxId:t,cardMid:s,i13nModel:r,recommendations:n})),unclip:({mailboxId:t,cardMid:s,i13nModel:r={},recommendations:n=!1})=>e(Object(l.p)({mailboxId:t,cardMid:s,i13nModel:r,recommendations:n})),getParentGroupId:t=>e(Object(l.m)(t)),onCouponClick:t,couponRecommendationsOpened:({i13nModel:t,sectionId:s="",spaceId:r=0})=>e(E({},Object(l.e)(),{i13nModel:t,sectionId:s,spaceId:r})),couponRecommendationsClosed:({i13nModel:t,cardMid:s=""})=>e(E({},Object(l.d)(s),{i13nModel:t})),couponRecommendationsViglinkClicked:t=>e(E({},Object(l.f)(),{},t)),unusualDiscountViglinkClicked:t=>e(Object(o.A)(t))});t.a=Object(a.connect)((e,{cardMid:t=""})=>{const s=Object(i.selectors)(e),r=s.getEnvironmentSelectors,n=s.isFeatureEnabled,a=s.getSetting,o=(0,s.getCouponsSelectors)(),l=o.getCouponExpirationTime,d=o.getDealLink,E=o.getUnusualDiscount,_=o.getDescription,u=o.getFromAddress,p=o.isClipped,m=n(c.Eb.AFFILIATE_PARTNER),S=u(t),h=S.name,C=void 0===h?"":h,g=S.email,O=void 0===g?"":g,T=p(t),A=E(t),I=_(t),f=l(t,new Date),D=f.dateDiff,R=f.isInferred,b=d(t),N=a(c.Kd.ENABLED_AFFILIATE_PARTNERS),M=r(),y=M.getPartner;return{affiliateFeatures:N,cardMid:t,clipped:T,daysUntilExpiry:D,dealLink:b,description:I,fromEmail:O,fromName:C,isAffiliatePartnerEnabled:m,isInferredDate:R,locale:(0,M.getLoggerParams)().locale,partner:y(),unusualDiscount:A}},m)},function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return c}));var r=s(0),n=s(304);const a={[r.N.YAHOO]:{ALPHA_HOST:"https://alpha-mg.mail.yahoo.com",BETA_HOST:"https://beta-mg.mail.yahoo.com",CANARY_HOST:"https://canary-mg.mail.yahoo.com",GLOBAL_HOST:"https://mail.yahoo.com",GLOBAL_NORRIN_HOST:"https://mail.yahoo.com/d",GLOBAL_NOBLE_HOST:"https://mail.yahoo.com/m/",GLOBAL_NODIN_HOST:"https://mail.yahoo.com/b/",GLOBAL_NOBLE_BASIC_HOST:"https://mail.yahoo.com/mb/",CREDSTORE_HOST:"https://api.credstore.yahoo.com",JWS_HOST:"apis.mail.yahoo.com",INTERNAL_JWS_HOST:Object(n.a)("YMailNorrinLaunch")?"internal.apis.mail.yahoo.com:4443":"internal.apis.mail.yahoo.com",BOOTCAMP_HOST:"https://data.mail.yahoo.com",GUCE_CONSENT_HOST:"guce.yahoo.com",INTERNAL_BOOTCAMP_HOST:"https://internal-bootcamp.psearch.yahoo.com/"},[r.N.AOL]:{ALPHA_HOST:"https://alpha-mg.mail.aol.com",BETA_HOST:"https://beta-mg.mail.aol.com",CANARY_HOST:"https://canary-mg.mail.aol.com",GLOBAL_HOST:"https://mail.aol.com",GLOBAL_NORRIN_HOST:"https://mail.aol.com/d",GLOBAL_NOBLE_HOST:"https://mail.aol.com/m/",GLOBAL_NODIN_HOST:"https://mail.aol.com/b/",GLOBAL_NOBLE_BASIC_HOST:"https://mail.aol.com/mb/",CREDSTORE_HOST:"https://api.credstore.yahoo.com",JWS_HOST:"apis.mail.aol.com",INTERNAL_JWS_HOST:Object(n.a)("AolMailNorrinLaunch")?"internal.apis.mail.aol.com:4443":"internal.apis.mail.aol.com",BOOTCAMP_HOST:"https://data.mail.aol.com",GUCE_CONSENT_HOST:"guce.aol.com",INTERNAL_BOOTCAMP_HOST:"https://internal-bootcamp.psearch.aol.com/"}},o={[r.N.YAHOO]:{NORRIN_APP_ID:"YMailNorrin",NORRIN_LAUNCH_APP_ID:"YMailNorrinLaunch",NOBLE_APP_ID:"YMailNoble",BASIC_MAIL_APP_ID:"YMailNodin",BASIC_MOBILE_APP_ID:"YMailMini"},[r.N.AOL]:{NORRIN_APP_ID:"AolMailNorrin",NORRIN_LAUNCH_APP_ID:"AolMailNorrinLaunch",NOBLE_APP_ID:"AolMailNoble",BASIC_MAIL_APP_ID:"AolMailNodin",BASIC_MOBILE_APP_ID:"AolMailMini"}},i=e=>a[e]||a[r.N.YAHOO],c=e=>o[e]||o[r.N.YAHOO]},,function(e,t,s){"use strict";var r=s(7),n=s.n(r),a=s(1),o=s.n(a),i=s(17),c=s(4),l=s(710),d=s.n(l),E=s(22);const _=({applyTheme:e},t)=>{const s=t.getCss(d.a,{darkVariations:e&&Object(E.n)({context:t,includeMedium:!0})});return o.a.createElement("div",{className:s.container},o.a.createElement("span",{className:s.orb,"aria-hidden":!0},o.a.createElement(i.b,{kind:c.Kinds.ORB,colorState:c.ColorStates.INHERITED,size:c.Sizes.M})),o.a.createElement("span",{className:s.content,"aria-hidden":!0},o.a.createElement("span",{className:s.name}),o.a.createElement("span",{className:s.emails})))};_.contextTypes={getCss:n.a.func,getThemeMode:n.a.func},t.a=_},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(6),c=s(19),l=s(145),d=s(138),E=s(175),_=s(77),u=s(738),p=s.n(u),m=s(265),S=s.n(m),h=s(12),C=s.n(h),g=s(17),O=s(4),T=s(21),A=s(18),I=s(63),f=s(32),D=s(112),R=s(124);const b=C()(p.a),N=C()(S.a),M=Object(i.defineMessages)({foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}});class y extends o.a.Component{constructor(...e){super(...e),n()(this,"handleBackButton",e=>{e.stopPropagation(),this.props.goToMainMenu()}),n()(this,"onColorChange",(e,t)=>{e(t)})}render(){const e=this.context.intl.formatMessage,t=e(M.foreground_color_text_label),s=this.props,r=s.onFGColorChange,n=s.onBGColorChange,a=s.swatchColors,c=s.selectedFGColor,u=s.selectedBGColor,p=e(M.background_color_text_label),m=Object(_.getSixDigitHexColor)(c),S=Object(_.getSixDigitHexColor)(u),h=a.map(e=>{const t="#"+e;return o.a.createElement(P,{key:"fc-"+e,name:"fc-"+e,color:t,selected:m===t,onClick:this.onColorChange.bind(this,r,t),isDark:L(e)})}),C=a.map(e=>{const t="#"+e;return o.a.createElement(P,{key:"bc-"+e,name:"bc-"+e,color:t,selected:S===t,onClick:this.onColorChange.bind(this,n,t),isDark:L(e)})});return o.a.createElement(E.a,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu},this.props.parentMenu?o.a.createElement(d.a,{style:{display:"none"}}):o.a.createElement(d.a,{"data-test-id":"icon-btn-text_color",title:t,"aria-label":t},o.a.createElement(g.b,{kind:O.Kinds.TEXT_COLOR,size:O.Sizes.XS,colorState:O.ColorStates.NORMAL})),o.a.createElement(l.a,{menuLayout:R.a.VERTICAL,"data-test-id":"color-picker"},this.props.parentMenu?o.a.createElement(T.default,{title:e(M.back_button_text_label),kind:O.Kinds.ARROW_UP,size:O.Sizes.XS,rotate:O.Rotate.D270,colorState:O.ColorStates.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_color_back"},o.a.createElement("span",{className:N.backButtonLabel},o.a.createElement(i.FormattedMessage,M.back_button_text_label))):"",o.a.createElement("div",{className:this.props.parentMenu?b.subColorMenu:b.colorMenu},o.a.createElement(I.a,{layout:R.a.HORIZONTAL},o.a.createElement("li",{className:b.swatchItem},o.a.createElement("div",{className:b.swatchTitleBase},o.a.createElement(i.FormattedMessage,M.foreground_color_text_label)),o.a.createElement("div",{className:b.swatchContent},o.a.createElement(I.a,{layout:R.a.GRID},h))),o.a.createElement("li",{className:b.swatchItem},o.a.createElement("div",{className:b.swatchTitleBase},o.a.createElement(i.FormattedMessage,M.background_color_text_label)),o.a.createElement("div",{className:b.swatchContent},o.a.createElement(I.a,{layout:R.a.GRID,title:p},C)))))))}}function L(e){Object(c.a)(6===e.length,"Expect input to be 6 digit hex color");const t=parseInt(e.slice(0,2),16)/255,s=parseInt(e.slice(2,4),16)/255,r=parseInt(e.slice(4,6),16)/255;return(Math.max(t,s,r)+Math.min(t,s,r))/2<.55}function P({color:e,selected:t,name:s,isDark:r,onClick:n}){return o.a.createElement(f.a,{name:s,kind:D.a.GRID},o.a.createElement("div",{className:b.colorElement},o.a.createElement(A.a,{title:e,className:b.color,style:{backgroundColor:e,boxShadow:"#ffffff"===e?"inset 0 0 0 1px #e2e2e6":null},onClick:n},t&&o.a.createElement(g.b,{kind:O.Kinds.CHECKMARK,size:O.Sizes.XXS,colorState:r?O.ColorStates.INVERTED:O.ColorStates.NORMAL}))))}n()(y,"contextTypes",{intl:i.intlShape.isRequired}),n()(y,"DEFAULTS",{FG_COLOR:"#000000",BG_COLOR:"#ffffff"}),n()(y,"defaultProps",{swatchColors:["000000","808080","ffffff","9d1811","cd232c","d36a53","a46016","dd902f","e4ac64","ac9e19","fdef2b","fdf869","5b8828","8fca40","add773","4c76a2","70aced","7dbef1","440062","652191","845aa7","9c005c","cb008e","d264aa"],parentMenu:null}),t.a=y},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(65),o=s(72),i=s(9),c=s(20),l=s(19),d=s(75),E=s(26),_=s(40),u=s(35);function p(e,t){let s=null;return s||(s=function(e,t){if(0===t.indexOf("launch.")){const s=e.statusCode,r=e.extraStatusCode,n=e.extraErrorCode;let a=15;return 429===s&&(a=19),new _.a(u.m,e.message,{apiName:t,code:a,errorCode:e.errorCode,statusCode:s,extraErrorCode:void 0===n?"":n,extraStatusCode:void 0===r?"":r})}return null}(e,t)),s||e}var m=s(50),S=s(0),h=s(53),C=s.n(h),g=s(103),O=s(16),T=s(36),A=s(47),I=s(262);function f(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const D=["EC-4001","EC-4002","EC-4004","EC-4020"],R=[{errorCode:"EC-4007",methodName:"messages.UnifiedUpdate"}];class b{constructor({endpoints:e}){Object(l.a)(e,"endpoints is missing in BatchRequest"),Object(l.a)(e.INTERNAL_JWS_HOST,"INTERNAL_JWS_HOST is missing in endpoints"),this.endpoints=e}request(e,t,s,r,n){if(!n[e])throw new Error(`Invalid method '${e}'.\n                List of available methods: ${JSON.stringify(Object.keys(n))}`);const a=n[e];if(s&&!s.timeout&&this._isGSBMethod(e)&&(s.timeout=6e4),!a.getBatchPayload)throw new TypeError("Method "+e+" does not implement the required function `getBatchPayload`");const o=a.getBatchPayload(t,s);if(null==o||0===Object.keys(o).length||0===o.requests.length)return Promise.reject(new _.a("MailApiClient.EmptyRequestPayload",Object.assign({methodName:e,ymreqid:s.ymreqid,errorCode:"EMPTY_REQUEST"},t)));const i=Object.assign({},o,{responseType:"json"});s.hash=Object(O.getHash)(i,s.wssid,s.retryCount,this._getHeaders(s,a,t));const c=this._getEndpoint(e,s);return s.apiDebounceManager.get(e).execute({execute:()=>this._request(e,c,i,s,r,a,t),hash:s.hash,log:({duration:t,counter:r,active:n})=>{g.a.error("mail_api_client_debounced",{apiName:e,hash:s.hash||"",ymreqid:s.ymreqid||"",appId:s.appId||"",useHostname:s.useHostname||!1,duration:t,counter:r,active:n})}})}_getHeaders(e,t,s){return Object.assign({},this._getCustomHeaders(t,s),e.headers)}_request(e,t,s,r,a,o,c){const l=this._getHeaders(r,o,c),d=r.appId,E=void 0===d?"":d,_=r.ymreqid,S=void 0===_?"":_,h=r.debugRequestPayload,C=void 0!==h&&h;return this._sendRequest(e,t,s,r,a,l).then(l=>{let d,_;const p=Object(i.b)(l,"body.result.responses",[]);if(!p.length){const e=Object(i.b)(l,"text","Not Available"),t=Object(i.b)(l,"headers","Not Available"),s=Object.assign(e?{}:{headers:t},{responseText:e});d=new m.a(u.i,{},!0,s)}else _=this._generateSuccessAndFailureResponses(p),d=this._getError(o,_,c,e);if(d){const n=r.retryCount,i=void 0===n?0:n,l=d.statusCode,_=d.errorCode,p=d.extraStatusCode,m=d.extraErrorCode,h=d.isRetryable,C=void 0!==h&&h;if(r.isComposite&&C&&i<1)return r.retryCount=i+1,this._request(e,t,s,r,a,o,c);if(d.message!==u.k)throw d;g.a.error("mail_api_unhandled_error",{apiName:e,appId:E,ymreqid:S,statusCode:l,errorCode:_,extraStatusCode:p,extraErrorCode:m})}return o.transformResponses(_,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?f(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):f(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},r,{},c),s)}).catch(t=>{const r=t.errorCode,n=void 0===r?"":r,a=t.name,o=void 0===a?"":a;if(C&&(D.indexOf(n)>-1||R.find(t=>t.errorCode===n&&t.methodName===e)||"TypeError"===o)){let t;try{t=JSON.stringify(s)}catch(e){t=e.message}g.a.error("debug_request_payload",{apiName:e,appId:E,ymreqid:S,errorCode:n,requestPayload:t})}throw t=p(t,e)||t})}_generateSuccessAndFailureResponses(e){const t={successMap:{},failureMap:{}};return e.forEach(e=>{e.httpCode<400?t.successMap[e.id]=e:t.failureMap[e.id]=e}),t}_getError(e,t,s,r){const n=t.successMap,a=t.failureMap,o=Object.keys(a).length,c=s.externalAndPhoneRegTrapPage;if(-1!==r.indexOf("launch.")&&n.GetMailboxes){const e=Object(i.b)(n.GetMailboxes,"response.result.mailboxes",[]);if(e.length>1){return new m.a(u.r,{GetMailboxes:{id:"GetMailboxes",response:e}},!1)}}if(c&&n.GetAccounts){const e=Object(i.b)(n.GetAccounts,"response.result.accounts",[]),t=e.find(e=>e.isPrimary&&(e.type===S.n.EXTERNAL||e.type===S.n.PHONE));if(t&&c){if(!e.find(e=>{const t=e.status;return Object(A.h)(e)&&(t===S.m.ENABLED||t===S.m.PENDING)}))return new _.a(u.n,{accountType:t.type},!1)}}if(e.getBatchError){const n=e.getBatchError(t,s);return"mailbox.syncNow"===r?n:!n&&o?new m.a(u.k,a):n}return o?new m.a(u.j,a):null}_getCustomHeaders(e,t){let s=null;return e.getHeaders&&(s=e.getHeaders(t)),s}_setCustomHeaders(e,t){t&&Object.keys(t).forEach(s=>{e.setHeader(s,t[s])})}_isGSBMethod(e){return/^messages\.[a-z]+(Bodies|BodiesFull)$/i.test(e)}_sendRequest(e,t,s,r,n,a){const o=new b.Transport("post",t,{timeout:r.timeout,httpRetry:r.httpRetry,shouldRetry:r.shouldRetry,apiName:e,uploadProgressCallback:r.uploadProgressCallback,tls:r.tls?r.tls:{}});return r.cookie&&o.setCookieHeader(r.cookie),r.jwtTokenHeader&&o.setHeader("Athenz-Authorization",r.jwtTokenHeader),o.setHeader("Accept","application/json"),this._setCustomHeaders(o,a),o.setField("batchJson",JSON.stringify(s)),n&&n.forEach(e=>{o.setAttachment(encodeURIComponent(e.name),e)}),o.send()}_getEndpoint(e,t){const s=t.appId,r=void 0===s?"":s,n=t.wssid,a=void 0===n?"":n,o=t.ymreqid,i=void 0===o?"":o,c=t.useHostname,d=void 0!==c&&c,E=t.hash,_=void 0===E?"":E,u=t.retryCount,p=void 0===u?0:u,m=Object(I.a)()?this.endpoints.JWS_HOST:this.endpoints.INTERNAL_JWS_HOST,S=Object(T.i)(m,r),h=d?`${S}://${m}`:"";Object(l.a)(a,"wssid is required for making request to JEDI"),Object(l.a)(i,"ymreqid is required for making request to JEDI");const g=Object.assign({name:e,hash:_,appId:r,ymreqid:i,wssid:a},p>0?{retryCount:p}:{});return h+"/ws/v3/batch?"+C.a.stringify(g)}}n()(b,"Transport",E.b);var N=b;const M=S.Ie+"/mail_api/",y=(e,t,s,r,n,a)=>{const o=new E.b("post",M+e+"?crumb="+r+"&ymreqid="+s+"&wssid="+n,{httpRetry:a});return o.setHeader("Accept","application/json"),o.send({params:t,ymreqid:s}).then(e=>e.body)};var L=s(41);function P(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var v=s(60),F=s.n(v),U=s(30),w=s.n(U);const G={[S.xc.DELIVERY_BLOCKED_SENDERS]:"senders",[S.xc.SCOUT_ONBOARDING]:"value",[S.xc.NODIN_ONBOARD]:"value"};var H=s(312),j=(e,t,s={},r,n,a)=>`${Object(T.i)(e,r)}://${e}/ws/v3/mailboxes/@.id==${t}/attributes/@.select==q?q=${Object(i.h)(s).map(e=>encodeURIComponent("attrid:"+e)).join("+")}&appid=${r}&wssid=${n}&ymreqid=${a}`,k=e=>{const t=e.attributes;return(void 0===t?[]:t).reduce((e,t)=>{const s=function(e){return{response:{result:e}}}(t),r=H.a.transformResponse(s);return Object.assign(e,r)},{})};function x(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function B(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?x(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):x(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class V extends N{request(e,{mailboxId:t,filter:s,count:r,offset:n,sortOrder:a=S.Yd.CARD_DATE_DESC,accountId:o},i,c,l){return super.request("refundCards.getList",{mailboxId:t,filter:s,count:r,offset:n,sortOrder:a,accountId:o},i,c,l).then(e=>{const s=[],r=[];return e.cardGroupList.forEach(e=>{e.messages.forEach(e=>{-1===r.indexOf(e.cardConversationId)&&r.push(e.cardConversationId)})}),r.length>0?(i.ymreqid=i.ymreqidGenerator.generate(),s.push(super.request("messages.getExtractions",{mailboxId:t,cardConversationIds:r},i,c,l))):s.push(Promise.resolve({result:{extractedMessagesList:[]}})),Promise.all(s).then(([t])=>{const s=t.result.extractedMessagesList.filter(e=>e&&e.decos&&e.decos.some(e=>e&&e.id&&e.id===S.Cc.EML)),r=s.map(e=>e.cardConversationId),n=e.cardGroupList.filter(e=>e.messages.every(e=>-1!==r.indexOf(e.cardConversationId))),a=s.reduce((e,t)=>B({},e,{[t.id]:B({},t)}),{});return B({},{messageGroupsResponses:{cardGroupList:n,hasMoreItems:e.hasMoreItems,offset:e.offset}},{parentMessagesMap:a})})})}}var W=s(224),K=s(193);function q(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Y(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?q(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):q(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class z extends a.a{constructor({appName:e=S.B.MAIL_APP,appId:t=S.Me,userNamespace:s=S.N.YAHOO,guidHash:r,wssid:n,crumb:a,cookie:i,loggerParams:E,httpRetry:_,requestQueue:u,isOnline:p,throttleAPIList:m,batchMethods:h,headers:C={},jwsYHeaders:g={},endpoints:O={},executeRequestsSequentially:A=Object(c.c)(),config:I={}},f){if(super({loggerName:S.z.MailAPIClient,loggerParams:Object(c.c)()?{}:E,crumb:a,wssid:n,isOnline:p,endpoints:O}),"string"==typeof f&&!z.STRATEGIES[f])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(z.STRATEGIES)));Object(l.a)(O.INTERNAL_JWS_HOST,"INTERNAL_JWS_HOST is missing in endpoints"),this.batchMethods=h,this.appName=e,this.appId=t,this.userNamespace=s,this.cookie=i,this.headers=Object.assign({},C,g),this.httpRetry=_,this.strategy=f||this._getDefaultStrategy(),this._validateStrategy(this.strategy),A&&(Object(l.a)(u,"if you are executing requests sequentially, you must pass a request queue."),this.executeRequestsSequentially=!0,this.requestQueue=u),r&&(this.ymreqidGenerator=new o.a(r,S.Ke,S.td)),this.apiDebounceManager=new T.a(m||{}),this.debugRequestPayload=Object(d.b)(I,"debugRequestPayload")}static getBatchRequest(e,t){return new(z.BATCH_REQUESTS[e]||z.BATCH_REQUESTS.Batch)({endpoints:t})}_getDefaultStrategy(){return Object(c.c)()?z.STRATEGIES.BROWSER_TO_JEDI:z.STRATEGIES.NODE_TO_JEDI}_validateStrategy(e){if(Object(c.c)()&&e===z.STRATEGIES.NODE_TO_JEDI)throw new Error(z.STRATEGIES.NODE_TO_JEDI+" strategy can not be used in the browser");if(!Object(c.c)()&&[z.STRATEGIES.BROWSER_TO_NODE_TO_JEDI,z.STRATEGIES.BROWSER_TO_JEDI].indexOf(e)>-1)throw new Error(z.STRATEGIES.BROWSER_TO_NODE_TO_JEDI+" or "+z.STRATEGIES.BROWSER_TO_JEDI+" strategies can not be used on the server")}_getRequest(e,t,s,r){if(s.useHostname=s.strategy===z.STRATEGIES.NODE_TO_JEDI,s.strategy===z.STRATEGIES.BROWSER_TO_NODE_TO_JEDI)return Object(l.a)(!r,"We cannot proxy a request with files."),y.bind(null,e,t,s.ymreqid,this.crumb,this.wssid,s.httpRetry);const n=z.getBatchRequest(e,this.endpoints);return n.request.bind(n,e,t,s,r,this.batchMethods)}request(e="",t={},s={},r){if(!s.ymreqid&&!this.ymreqidGenerator)throw new Error("`ymreqid` is missing. You should either specify `ymreqid` in `requestConfig` object when making a request or initialize MailAPIClient with `guidHash`, so that it can generate a new one");const n=this.strategy===z.STRATEGIES.NODE_TO_JEDI&&s.ymreqid?s.ymreqid:this.ymreqidGenerator.generate(),a=s.retryCount,o=void 0===a?0:a,i=s.retryErrorCode,l=void 0===i?"":i,d=s.retryStatusCode,E=void 0===d?"":d,_=s.retryYmreqid,u=void 0===_?"":_,p=s.uploadProgressCallback,m={useHostname:null,ymreqid:n,cookie:this.cookie,retryCount:o};s.crumb&&(this.crumb=s.crumb),s.wssid&&(this.wssid=s.wssid);const S=Object(K.a)(this.userNamespace);this.appId!==S.NORRIN_APP_ID||Object(c.c)()||s.appId||(s.appId=S.NORRIN_LAUNCH_APP_ID),m.appName=s.appName||this.appName,m.appId=s.appId||this.appId,m.userNamespace=this.userNamespace,m.ymreqid=n,m.wssid=s.wssid||this.wssid,m.strategy=s.strategy||this.strategy,m.noRetry=s.noRetry,m.timeout=s.timeout,m.headers=s.headers||this.headers,m.uploadProgressCallback=p,m.httpRetry=this.httpRetry,m.shouldRetry=this.shouldRetry,m.loggerParams=this.loggerParams,m.apiDebounceManager=this.apiDebounceManager,m.debugRequestPayload=this.debugRequestPayload,m.tls=void 0,m.jwtTokenHeader=void 0,m.ymreqidGenerator=this.ymreqidGenerator,this._validateStrategy(m.strategy);const h=this.getMailboxParams(),C=Array.isArray(t)?t.map(e=>Y({},e,{},h)):Y({},t,{},this.getMailboxParams()),g=this._getRequest(e,C,m,r),O={apiName:e,ymreqid:n,retryCount:o};let T;return t.prefetchMode&&(O.prefetchMode=t.prefetchMode),"document.fetch"===e&&(O.documentId=t.documentId||"",O.mimeType=t.mimeType||"",O.size=t.size||"",O.ext=t.extension||"",O.page=`${t.startPage}-${t.endPage}`,O.pageRetryCount=t.retryCount,O.isFirstReq=0===t.retryCount&&1===t.startPage),1===o&&Object.assign(O,{retryErrorCode:l,retryStatusCode:E,retryYmreqid:u}),T=this.isRequestBlocked("checkMail"!==e)?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(g,e):g(),this.logRequest(T,O,null,o),T.then(e=>(this.setRequestBlocked(!1),e),a=>{if(a=this.handleCommonError(a),this.isRetryableError(a,o,e)){const i=a.errorCode,c=void 0===i?"":i,l=a.statusCode,d=Object.assign({},s,{retryCount:o+1,retryYmreqid:n||"",retryErrorCode:c,retryStatusCode:void 0===l?"":l});return-1!==c.indexOf("DOC-814")?function(e){return new Promise(t=>setTimeout(t,e))}(2e3).then(()=>this.request(e,t,d,r)):this.request(e,t,d,r)}throw a})}handleAuthError(e){const t=e.statusCode;if(401===t){const s=Object(i.b)(e,"data.body.error.code","");return new _.a(u.b,{statusCode:t,errorCode:s,body:e.getDataByName("body",""),refresh:!0})}return null}handleWssidReissueError(e){const t=e.statusCode;let s=e.errorCode;if(400===t&&(s=s||Object(i.b)(e,"data.body.error.code",""),"EC-4003"===s)){const r=Object(i.b)(e,"data.body.error.details.wssid","");if(r)return this.wssid=r,new _.a(u.e,{statusCode:t,errorCode:s,wssid:r})}return null}isRetryableError(e,t,s){if((this.appName===S.B.BASIC_MAIL_APP||this.appName===S.B.BASIC_MOBILE_APP)&&-1===Object.keys(W.b).indexOf(s))return!1;if(t<1){const t=e.isRetryable,s=void 0!==t&&t,r=e.name,n=void 0===r?"":r,a=e.errorCode,o=e.statusCode,i=void 0===o?0:o;if(n===u.e)return!0;if("HttpTransport.NotOkStatusCode"===n&&(i>=500&&501!==i||408===i))return!0;if(["ECONNABORTED","OUTBOUND"].indexOf(void 0===a?"":a)>-1)return!0;if(s)return!0}return!1}shouldRetry(e,t){if(t&&t.status&&(t.status>=500||408===t.status))return!1;if(e){if(e.timeout&&"ECONNABORTED"===e.code)return!1;if(e.crossDomain)return!1}return super.shouldRetry(e,t)}}z.STRATEGIES=Object(i.d)(["NODE_TO_JEDI","BROWSER_TO_NODE_TO_JEDI","BROWSER_TO_JEDI"]),z.BATCH_REQUESTS={Batch:N,checkMail:class extends N{request(e,{accountId:t,mailboxId:s,folderId:r,sortOrder:a,filter:o,count:i,offset:c,conversationsMode:l,highestModSeq:d,resetUnseenCount:E,alertStoreHighestModSeq:_,excludeFolderTypes:u,shouldSelectAll:p},m={},h,C){return m.isComposite=!0,super.request("mailbox.sync",{mailboxId:s},m,h,C).then(e=>{const g=Object(L.f)(e.folders),O=g[r],T=!(O&&void 0!==d&&O.highestModSeq===d),A=[],I=Object.keys(g).find(e=>-1!==g[e].types.indexOf(S.Mb.ALERTSTORE)),f=(g[I]||"").highestModSeq,D=!(!_||!f||_===f);return T||D?(T?(m.ymreqid=m.ymreqidGenerator.generate(),A.push(super.request("messageGroups.getList",{mailboxId:s,folderId:r,sortOrder:a,filter:o,count:i,offset:c,conversationsMode:l,excludeFolderTypes:u,shouldSelectAll:p},m,h,C))):A.push(Promise.resolve()),A.push(D?super.request("account.getAlerts",{mailboxId:s},m,h,C):Promise.resolve([])),E&&A.push(super.request("unseenCount.reset",{mailboxId:s,accountId:t},m,h,C)),Promise.all(A).then(([t,s])=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?P(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):P(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{},t,{accountAlerts:s}))):e})}},saveArrayAttributes:class extends N{request(e,{mailboxId:t,attribute:s,items:r,overWrite:n=!1,dedupFn:a=null},o={},c,l){o.isComposite=!0;const d=e=>super.request("settings.saveWebMailboxAttributes",{mailboxId:t,attributes:[{id:s,value:e}]},o,c,l);return Array.isArray(r)?Object(i.h)(S.xc).indexOf(s)<0?Promise.reject("attribute must be defined first."):n?d(r).then(()=>r):(()=>super.request("mailbox.getAttributes",{mailboxId:t,attributes:{[s]:s}},o,c,l).then(({responses:e})=>{const t=e[s][G[s]||s];return Array.isArray(t)?t:Promise.reject("current list is not an array")}))().then(e=>{let t;return t="function"==typeof a?a(e.concat(r)):F()(e.concat(r)),w()(e.sort(),t.sort())?Promise.resolve():(o.ymreqid=o.ymreqidGenerator.generate(),d(t).then(()=>t))}):Promise.reject("provided list must be an array")}},getReceipts:V,getMoreReceipts:V,listMailboxAttributes:class{constructor({endpoints:e}){Object(l.a)(e.INTERNAL_JWS_HOST,"INTERNAL_JWS_HOST is missing in endpoints"),this.endpoints=e}request(e,t,s){const r=t.attributes,n=t.mailboxId,a=s.appId,o=s.wssid,c=s.timeout,l=s.cookie,d=s.ymreqid,_=Object(I.a)()?this.endpoints.JWS_HOST:this.endpoints.INTERNAL_JWS_HOST,u=j(_,n,r,a,o,d),p=new E.b("get",u,{timeout:c,tls:void 0});return p.setCookieHeader(l),p.setHeader("Accept","application/json"),p.send().then(e=>{const t=Object(i.b)(e,"body.result",{});return{mailboxAttributes:k(t)}})}}};t.a=z},function(e,t,s){"use strict";s.d(t,"d",(function(){return c})),s.d(t,"e",(function(){return l})),s.d(t,"c",(function(){return d})),s.d(t,"f",(function(){return E})),s.d(t,"b",(function(){return _})),s.d(t,"a",(function(){return u}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=(e={})=>i({type:a.RECENT_SEARCHES_REQUESTED},e),l=e=>i({type:a.RECENT_SEARCHES_SUCCEEDED},e),d=()=>({type:a.RECENT_SEARCHES_FAILED}),E=e=>i({type:a.DELETE_RECENT_SEARCH_REQUESTED},e),_=e=>i({type:a.DELETE_RECENT_SEARCH_SUCCEEDED},e),u=e=>i({type:a.DELETE_RECENT_SEARCH_FAILED},e)},,function(e,t,s){"use strict";(function(e){s.d(t,"a",(function(){return O}));var r=s(3),n=s.n(r),a=s(33),o=s.n(a),i=s(129),c=s.n(i),l=s(43),d=s.n(l),E=s(66),_=s(0),u=s(101),p=s(57),m=s(9);function S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?S(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function C(e){const t=e=>({email:e.id,name:e.name});return e.map(e=>{const s=Number(e.creationDate)/1e3,r={id:e.mid,folder:{id:e.folderNumber.toString()},conversationId:e.conversationId,flags:{flagged:e.isFlagged,read:e.isRead},cardConversationId:e.cardConversationId||"",decos:e.decos||[],headers:{subject:e.subject||"",cc:e.ccList?e.ccList.map(t):[],bcc:e.bccList?e.bccList.map(t):[],to:e.toList?e.toList.map(t):[],from:e.fromList?e.fromList.map(t):[],date:s},snippet:e.snippet||"",attachments:g(e.attachments.map(t=>Object.assign({},t,{mid:e.mid,creationDate:e.creationDate,csid:e.csid}))).map(e=>e.attachment),verifiedDomains:e.verifiedDomains||[]};return e.csid&&(r.csid=e.csid),r})}function g(e){return e.map(e=>{const t=e.mimeType.split("/"),s=o()(t,2),r=s[0],n=s[1],a=e.partId,i=void 0===a?e.id:a,c=e.conversationId,l=e.csid,d=e.source,u=_.F.Dispositions,p=e.mid?Object(E.a)(e.mid):void 0;return{attachment:{id:p?Object(E.e)({partId:i},p,!1):e.id,virus:"N",filename:e.name,size:e.size,partId:i,type:r,subtype:n,conversationId:c,source:d,csid:l,disposition:e.disposition||u.ATTACHMENT,downloadUrl:e.online?e.onlineContentLink:e.downloadLink,thumbnailUrl:e.thumbnail,isExternal:e.online||!1,creationDate:e.creationDate,documentId:e.documentId},message:{id:p,subject:e.subject}}})}const O={[_.ac.MESSAGES]:function(e,t){return e.map(e=>{const t=e.itemType;return"THREAD"===t?{id:e.conversationId,messages:C(e.messages.reverse())}:"MESSAGE"===t?{id:e.mid,messages:C([e])}:void 0})},[_.ac.DOCUMENTS]:g,[_.ac.IMAGES]:g,[_.ac.PEOPLE]:function(e){return e.filter(e=>!!e.payload).map(e=>{var t;const s=e.payload,r=s.id,n={[r]:s},a=_.ac.PEOPLE,o={["smtp:"+a]:[r]},i=e.relationshipHistory;return{contactDetails:(null===(t=Object(u.b)({emails:[a],contacts_info:n,contacts_by_ep:o,relationshipHistory:i}))||void 0===t?void 0:t[0])||{}}})},[_.ac.ADS]:function(t){return t&&t.length>0?t.reduce(({PLAADS:t=[],ADS:s=[]},r)=>{const n=JSON.parse(new e(r.ads,"base64").toString("utf8"));let a=[],o={},i=[];if("AL"===r.itemType){Object(m.b)(n,"response.search.moduleGroups",[]).forEach(({name:e,modules:t=[]})=>{"adNorth"!==e&&"adSouth"!==e&&"adEast"!==e||t.forEach(e=>{i=i.concat(Object(m.b)(e,"data.list",[]))})})}else if("PLA"===r.itemType){const e=Object(m.b)(n,"response.search.results",{});Object.keys(e).forEach(t=>{if("ads.pla"===t){if(a=a.concat(e[t].data||[]),a.length){var s;const r=(null===(s=e[t])||void 0===s?void 0:s.instrumentation)||{},n=r.ClientID,a=r.ImpressionGUID,i=r.SearchID;o={clientId:void 0===n?"":n,impressionGuid:void 0===a?"":a,searchId:void 0===i?"":i}}}else"ads.north"!==t&&"ads.south"!==t&&"ads.east"!==t||(i=i.concat(e[t].data||[]))})}return{PLAADS:{ads:[...t,...a.map(e=>function(e){var t,s,r,n,a,o,i,l,d;return{title:c()(e.title.replace(/<[^>]+>/g,""))||"",url:e.url||"",abstract:c()(e.abstract)||"",thumbnailUrl:e.thumbnailUrl||"",sellerName:e.sellername||"",originalPrice:e.originalprice||"",eliteBadge:e.eliteBadge?{domain:(null===(t=e.eliteBadge)||void 0===t?void 0:t.domain)||"",rating:(null===(s=e.eliteBadge)||void 0===s?void 0:s.rating)||"",numberOfRatings:(null==e||null===(r=e.eliteBadge)||void 0===r?void 0:r.numberOfRatings)||""}:null,merchantPromotion:e.merchantPromotion?{displayedText:(null==e||null===(n=e.merchantPromotion)||void 0===n?void 0:n.displayedText)||"",promotionalText:(null==e||null===(a=e.merchantPromotion)||void 0===a?void 0:a.promotionalText)||"",daysFromExpiration:(null==e||null===(o=e.merchantPromotion)||void 0===o?void 0:o.daysFromExpiration)||"",url:(null==e||null===(i=e.merchantPromotion)||void 0===i?void 0:i.url)||""}:null,priceDropAlert:e.priceDropAlert?{displayedText:(null==e||null===(l=e.priceDropAlert)||void 0===l?void 0:l.displayedText)||"",longText:(null==e||null===(d=e.priceDropAlert)||void 0===d?void 0:d.longText)||""}:null,productRating:e.productRating&&{rating:e.productRating&&e.productRating.rating||"",numberOfReviews:e.productRating&&e.productRating.numberOfReviews||""},ns:e.appNs||"",k:e.k||"",impressionId:e.ImpressionId||""}}(e))],instrumentation:o},ADS:[...s,...i.map(e=>function(e){return{creativeId:"",pencilAd:{adHeadline:c()(e.title)||"",adSummary:c()(e.abstract)||"",adImg:e.iconUrl||"",adSource:e.displayDomain||e.displayUrl||"",clickUrl:e.url||"",beacon:"",impressionTrackingUrls:[],type:p.s.SearchAdType,adFeedbackBeacon:"",rating:Object(m.b)(e,"merchantRating.rating",null)}}}(e))]}},{}):[]},[_.ac.GIFS]:function(e){return(e||[]).map(e=>{const t=e.feedbackUrl,s=e.h1_title;return{downloadLink:e.downloadLink,height:e.height,width:e.width,id:e.id,online:e.online,onlineContentLink:e.onlineContentLink,ownerId:e.ownerId,source:e.source,thumbnail:e.thumbnail,thumbnailHeight:e.thumbnailHeight,thumbnailWidth:e.thumbnailWidth,thumbnails:e.thumbnails,feedbackUrl:void 0===t?"":t,altText:void 0===s?"":s}})},[_.ac.COUPON_CARDS]:function(e=[]){return e.map(({immutableId:e,messageMetadata:t})=>({id:e,messages:[h({},d()(h({},t,{schemaCards:Object(E.n)(t)}),["schemaOrg"]),{id:e})]}))},[_.ac.CLOUD_STORAGE_ITEMS]:function(e){return(e||[]).map(e=>{const t=e.thumbnail;return h({},e,{previewLink:e.previewLink,thumbnail:"dropbox"===e.source&&t&&!t.includes("data.mail.yahoo.com")?void 0:t})})}}}).call(this,s(429).Buffer)},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F en_0 H_74JI p_R",searchButton:"en_0 I_2sqbOJ u_b k_w ck_dRA bl_dRA J_x W_7GHz H_74JI ab_C gl_C M_0 D_F cZ1RN91d_n A_6EqO y_Z2hYGcu b_0 C_52qC r_P I4_2sqbPK ir3_1JO2M7 it3_dRA",searchInputContainer:"D_F W_6D6F s_3z5BY cj_dRA bk_dRA k_w b_0 I_52qC p_R",searchInput:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk y_Z2hYGcu I_T p_R Z_N",searchHint:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk y_Z2hYGcu I_T C_Z1AHs3T p_a q_T L_0 Z_0",suggestionDropdown:"y_Z2hYGcu W_Z2mrcQq Z_fcS I_52qC k_w ha_n L_0 T_750t M_0 P_Z2rzFgL b_Z14vXdP e_dRA j_Zm8rYD p_a o_A",suggestionWebOption:"P_fQq0A k_w W_6D6F D_F ab_C H_73HH r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionWebIcon:"X_eTB N_eTB E_fq7",suggestionWebLabel:"J_x G_e o_h",suggestionWebQuery:"C_Z281SGl",suggestionDetails:"C_ZxFlP3 Q_fq7",pills:"ab_C W_1BJksS",pillsContainer:"eo_x el_EZ",typeaheadInputContainer:"p_R",typeaheadAriaStatus:"L_Z1yJMeR p_a",couponIndicator:"D_F C_Z2aVTcY q_2iedUU e_dRA H_6NIX ab_C P_SkAgv A_6EWk J_x Q_6Eb4",headerLabel:"D_F P_sUAQ8 k_w H_6VdP y_Z2hYGcu u_e69 C_Z1VRpVF A_6EqO Y_fq7 z_Z28pSMW"},groceriesSingleStore:{categoriesTitle:"C_Z1Xxgu0 u_b U_eo6",categoryRow:"D_F ek_EZ U_fq7",category:"ab_C b_2oUWqe r_P D_F ek_BB A_6DUj H_3n2AO gl_CI E_eo6 W_7Ig6 I4_1I4yPF",categoryLogo:"H_72FG Y_6Fd5 W_72FG",categoryName:"Y_eo6",categoryCount:"H_6FIA Y_fam",searchResultsTitle:"C_Z1Xxgu0 u_e69 U_eo6",recentSearch:"D_F ab_C H_74JI r_P I4_2iedUU",searchIcon:"E_6Fd5",suggestionDropdown:"P_LyXYU"},ybarFujiTheme:{searchButton:"ck_eo6 bl_eo6",searchInputContainer:"cj_eo6 bk_eo6",suggestionDropdown:"e_eo6"},showPeopleSuggestion:{suggestionWebOptionBorder:"M_Z2rzCvT z_Z14vXdP"},hasPill:{searchInput:"P_fq7",searchHint:"P_fq7",pillsContainer:"Q_6Eb4",searchInputContainer:"X_6DEy"},hasContactPill:{searchInput:"P_ZzrjY8"},firstEntry:{headerLabel:"Y_0 z_n"},spacedPill:{couponIndicator:"Q_fq7"}},_key:"Z2sebMk"}},function(e,t,s){"use strict";s.d(t,"m",(function(){return c})),s.d(t,"j",(function(){return l})),s.d(t,"e",(function(){return d})),s.d(t,"b",(function(){return E})),s.d(t,"a",(function(){return _})),s.d(t,"i",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"h",(function(){return S})),s.d(t,"d",(function(){return h})),s.d(t,"g",(function(){return C})),s.d(t,"f",(function(){return g})),s.d(t,"k",(function(){return O})),s.d(t,"l",(function(){return T}));var r=s(3),n=s.n(r),a=s(6);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=Object(a.defineMessages)({addADate:{id:"contact_details.addADate",defaultMessage:"Add a date"},addAddress:{id:"contact_details.addAddress",defaultMessage:"Add address"},addEmail:{id:"contact_details.addEmail",defaultMessage:"Add email"},addPhone:{id:"contact_details.addPhone",defaultMessage:"Add phone"},address:{id:"contact_details.address",defaultMessage:"Address"},anniversary:{id:"contact_details.anniversary",defaultMessage:"Anniversary"},birthday:{id:"contact_details.birthday",defaultMessage:"Birthday"},cancelBtn:{id:"contact_details.cancelBtn",defaultMessage:"Cancel"},city:{id:"contact_details.city",defaultMessage:"City"},company:{id:"additional_contact_info.company",defaultMessage:"Employer"},contactDetails:{id:"contact_details.contactDetails",defaultMessage:"Contact details"},country:{id:"contact_details.country",defaultMessage:"Country"},create:{id:"contact_details.create",defaultMessage:"Create"},delete:{id:"contact_details.delete",defaultMessage:"Contact edit delete field"},edit:{id:"contact_details.edit",defaultMessage:"Edit"},email:{id:"contact_details.email",defaultMessage:"Email"},facebook:{id:"contact_details.facebook",defaultMessage:"Facebook"},fax:{id:"contact_details.fax",defaultMessage:"Fax"},home:{id:"contact_details.home",defaultMessage:"Home"},homeAddress:{id:"contact_details.homeAddress",defaultMessage:"Home Address"},homeEmail:{id:"contact_details.homeEmail",defaultMessage:"Home email"},homeFax:{id:"contact_details.homeFax",defaultMessage:"Home Fax"},homePhone:{id:"contact_details.homePhone",defaultMessage:"Home Phone"},linkedin:{id:"contact_details.linkedin",defaultMessage:"LinkedIn"},main:{id:"contact_details.main",defaultMessage:"Main"},mainPhone:{id:"contact_details.mainPhone",defaultMessage:"Main Phone"},maxLengthError:{id:"contact_details.maxLengthError",defaultMessage:"Maximum allowed number of characters is 4095"},mobile:{id:"contact_details.mobile",defaultMessage:"Mobile"},mobilePhone:{id:"contact_details.mobilePhone",defaultMessage:"Mobile Phone"},firstName:{id:"contact_details.firstName",defaultMessage:"First Name"},middleName:{id:"contact_details.middleName",defaultMessage:"Middle Name"},lastName:{id:"contact_details.lastName",defaultMessage:"Last Name"},nickname:{id:"contact_details.nickname",defaultMessage:"Nickname"},notes:{id:"contact_details.notes",defaultMessage:"Notes"},other:{id:"contact_details.other",defaultMessage:"Other"},otherPhone:{id:"contact_details.otherPhone",defaultMessage:"Other Phone"},pager:{id:"contact_details.pager",defaultMessage:"Pager"},personalDetails:{id:"contact_details.personal_details",defaultMessage:"Personal details"},phone:{id:"contact_details.phone",defaultMessage:"Phone"},position:{id:"contact_details.job_title",defaultMessage:"Job title"},removeEmail:{id:"contact_details.remove_email_btn",defaultMessage:"Remove email"},removePhone:{id:"contact_details.remove_phone_btn",defaultMessage:"Remove phone"},removeAddress:{id:"contact_details.remove_address_btn",defaultMessage:"Remove address"},saveBtn:{id:"contact_details.saveBtn",defaultMessage:"Save"},state:{id:"contact_details.state",defaultMessage:"State or Province"},street:{id:"contact_details.street",defaultMessage:"Street"},twitter:{id:"contact_details.twitter",defaultMessage:"Twitter"},website:{id:"contact_details.website",defaultMessage:"Website"},work:{id:"contact_details.work",defaultMessage:"Work"},workAddress:{id:"contact_details.workAddress",defaultMessage:"Work Address"},workDetails:{id:"contact_details.workDetails",defaultMessage:"Work details"},workEmail:{id:"contact_details.workEmail",defaultMessage:"Work email"},workFax:{id:"contact_details.workFax",defaultMessage:"Work Fax"},workPhone:{id:"contact_details.workPhone",defaultMessage:"Work Phone"},RequiredNameFieldError:{id:"contact_details.RequiredNameFieldError",defaultMessage:"At least one name is required"},emailIInvalidError:{id:"contact_details.emailIInvalidError",defaultMessage:"Invalid email"},phoneInvalidError:{id:"contact_details.phoneInvalidError",defaultMessage:"Invalid phone number"},invalidDateError:{id:"contact_details.invalidDateError",defaultMessage:"Invalid date"},zipcode:{id:"contact_details.zipcode",defaultMessage:"Postal code"}}),l={HOME:{label:c.home,ariaLabel:c.homePhone},WORK:{label:c.work,ariaLabel:c.workPhone},PHONE:{label:c.phone,ariaLabel:c.phone},MOBILE:{label:c.mobile,ariaLabel:c.mobilePhone},FAX:{label:c.fax,ariaLabel:c.fax},OTHER:{label:c.other,ariaLabel:c.otherPhone},MAIN:{label:c.main,ariaLabel:c.mainPhone},PAGER:{label:c.pager,ariaLabel:c.pager},"WORK FAX":{label:c.workFax,ariaLabel:c.workFax},"HOME FAX":{label:c.homeFax,ariaLabel:c.homeFax}},d={HOME:{label:c.home,ariaLabel:c.homeEmail},WORK:{label:c.work,ariaLabel:c.workEmail},EMAIL:{label:c.email,ariaLabel:c.email}},E={HOME:{label:c.home,ariaLabel:c.homeAddress},WORK:{label:c.work,ariaLabel:c.workAddress},ADDRESS:{label:c.address,ariaLabel:c.address}},_={STREET:"street",CITY:"city",STATE:"state",ZIPCODE:"zipcode",COUNTRY:"country"},u={COMPANY:{label:c.company,attribute:"company"},WEBSITE:{label:c.website,attribute:"website"},BIRTHDAY:{label:c.birthday,attribute:"birthday"},ANNIVERSARY:{label:c.anniversary,attribute:"anniversary"},NOTES:{label:c.notes,attribute:"notes"}},p=[u.COMPANY,u.BIRTHDAY,u.ANNIVERSARY,u.WEBSITE,u.NOTES],m=[u.COMPANY,u.BIRTHDAY,u.ANNIVERSARY,u.NOTES],S=i({},{FACEBOOK:"facebook",TWITTER:"twitter",LINKEDIN:"linkedin"},{POSITION:"position",COMPANY:"company",WEBSITE:"website",BIRTHDAY:"birthday",ANNIVERSARY:"anniversary",NOTES:"notes"}),h=i({},S,{NAME:"name",FIRSTNAME:"firstName",MIDDLENAME:"middleName",LASTNAME:"lastName",NICKNAME:"nickname",EMAIL:"email",PHONE:"phone",ADDRESS:"address"}),C=2,g=1,O=({typesList:e,customType:t,defaultType:s,type:r,formatMessage:n})=>{let a=e[s.toUpperCase()],o=r,i=r;if(r){const s=e[r.toUpperCase()];a=s||t}return a&&(i=n(a.ariaLabel),o=n(a.label)),{ariaLabel:i,label:o}},T=4095},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(28),c=s.n(i),l=s(12),d=s.n(l),E=s(849),_=s.n(E),u=s(144),p=s(33),m=s.n(p),S=s(78);function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const C=()=>{},g=d()(_.a);class O extends o.a.Component{constructor(...e){super(...e),n()(this,"state",{overlayDimensionStyles:null}),n()(this,"handleShimClick",e=>{e.stopPropagation(),this.props.onClick({overlayClicked:!1})}),n()(this,"handleOverlayClick",e=>{e.stopPropagation(),this.props.onClick({overlayClicked:!0})}),n()(this,"renderOverlayContent",e=>o.a.createElement("div",{"data-test-id":"overlay-boundingbox",ref:"boundingBox",style:e,className:g.overlay,onClick:this.handleOverlayClick},this.props.children)),n()(this,"renderOverlay",e=>this.props.useShim?o.a.createElement("div",{className:g.shim,onClick:this.handleShimClick,"data-test-id":"overlay-shim"},this.renderOverlayContent(e)):this.renderOverlayContent(e))}componentDidMount(){if(!this.refs.boundingBox)return;const e=this.props,t=e.alignmentPoints,s=e.alignTo,r=e.onShow;let n=this.state.overlayDimensionStyles;if(s){n=function(e,t,s){const r=m()(s,2),n=r[1];var a=0,o=0,i=0,c=0;switch(r[0]){case S.a.BottomRight:i=-t.width,c=-t.height;break;case S.a.TopLeft:i=0,c=0;break;case S.a.TopRight:i=-t.width,c=0;break;case S.a.BottomLeft:i=0,c=-t.height;break;case S.a.CenterRight:i=-t.width,c=-t.height/2;break;case S.a.CenterLeft:i=0,c=-t.height/2;break;case S.a.TopCenter:i=-t.width/2,c=0;break;case S.a.BottomCenter:i=-t.width/2,c=-t.height;break;default:i=0,c=0}switch(n){case S.a.BottomRight:a=e.left+e.width,o=e.top+e.height;break;case S.a.TopLeft:a=e.left,o=e.top;break;case S.a.TopRight:a=e.left+e.width,o=e.top;break;case S.a.BottomLeft:a=e.left,o=e.top+e.height;break;case S.a.CenterRight:a=e.left+e.width,o=e.top+e.height/2;break;case S.a.CenterLeft:a=e.left,o=e.top+e.height/2;break;case S.a.TopCenter:a=e.left+e.width/2,o=e.top;break;case S.a.BottomCenter:a=e.left+e.width/2,o=e.top+e.height;break;default:a=e.left,o=e.top}return{left:a+i+window.pageXOffset,top:o+c+window.pageYOffset}}(c.a.findDOMNode(s).getBoundingClientRect(),c.a.findDOMNode(this.refs.boundingBox).getBoundingClientRect(),t),this.setState({overlayDimensionStyles:n},r),window.addEventListener("keydown",this.props.onKeyDown)}}componentWillUnmount(){window.removeEventListener("keydown",this.props.onKeyDown)}render(){const e=this.props,t=e.left,s=e.top,r=e.customInlineStyles;let a=null,i=null,c=null;const l=this.state.overlayDimensionStyles;return null!==t&&null!==s?(i=t,c=s):l?(i=l.left,c=l.top):e.alignTo&&(i=-1e4,c=-1e4),null!==i&&null!==c&&(i+=e.offsetLeft,c+=e.offsetTop,r.height&&(r.height=`calc(100% - ${c}px)`),a=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({left:i,top:c,position:"absolute"},r)),o.a.createElement(u.a,null,this.renderOverlay(a))}}n()(O,"defaultProps",{alignmentPoints:[S.a.TopLeft,S.a.TopLeft],offsetTop:0,offsetLeft:0,left:null,top:null,onShow:C,onClick:C,onKeyDown:C,useShim:!1,customInlineStyles:{}});t.a=O},function(e,t,s){"use strict";var r=s(6);t.a=Object(r.defineMessages)({mailBrandName:{id:"mail.yahoo_mail_brand_name",defaultMessage:"Yahoo Mail"},brandName:{id:"yahoo_brand_name",defaultMessage:"Yahoo"}})},,function(e,t,s){"use strict";s.d(t,"a",(function(){return _}));var r=s(27),n=s.n(r),a=s(3),o=s.n(a),i=s(1),c=s.n(i),l=s(26),d=s(0);let E=null;function _(e){class t extends c.a.Component{constructor(...e){super(...e),o()(this,"fetchJSON",e=>new l.b("GET",e).setHeader("Accept","application/json").send().then(e=>e.body))}componentDidMount(){E||(E="Loading...",this.fetchJSON(d.d).then(({affiliateDomains:e={},impactRadiusUrls:t={},awinMerchantIds:s={}})=>E={affiliateDomains:e,impactRadiusUrls:t,awinMerchantIds:s}))}render(){return c.a.createElement(e,null!==E&&"object"==typeof E?n()({},this.props,{domainMap:E}):this.props)}}return o()(t,"displayName",`WithDomainContext<${e.displayName||e.name||"Component"}>`),t}},,,function(e,t,s){"use strict";s.d(t,"c",(function(){return c})),s.d(t,"d",(function(){return l})),s.d(t,"a",(function(){return d})),s.d(t,"b",(function(){return E}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>({type:a.AFFILIATE_OFFERS_FAILED,error:e}),l=e=>i({type:a.AFFILIATE_OFFERS_SUCCEEDED},e),d=e=>({type:a.AFFILIATE_OFFERS_REQUESTED,retailerId:e}),E=e=>i({type:a.INBOX_COMMERCE_FEATURE_CLICKED},e)},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(18),c=s(107),l=s(17),d=s(21),E=s(25),_=s(4),u=s(723),p=s.n(u),m=s(12),S=s.n(m),h=s(11),C=s(6);const g=Object(C.defineMessages)({close:{id:"dualActionDialog.close",defaultMessage:"Close"}}),O={margin:`${4*h.G}px ${h.G}px ${5*h.G}px 0`};class T extends o.a.Component{constructor(...e){super(...e),n()(this,"handlePrimaryButtonClick",e=>{e.stopPropagation(),this.props.onPrimaryButtonClick(e)}),n()(this,"handleSecondaryButtonClick",e=>{e.stopPropagation(),this.props.onSecondaryButtonClick(e)}),n()(this,"handleClose",e=>{e.stopPropagation(),this.props.onClose(e)}),n()(this,"handleKeyDown",e=>(e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),void this.props.onPrimaryButtonClick(e)):"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),void this.props.onClose(e)):void 0))}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.title,r=t.hideIcon,n=t.showCustomTitle,a=t.customTitle,u=t.onOuterClick,m=t.primaryButtonLabel,h=t.secondaryButtonLabel,C=t.wideContainer,T=void 0!==C&&C,A=t.disablePrimaryButton;let I=this.props.message;const f="string"==typeof m?m:e(m),D="string"==typeof h?h:e(h),R=S()(p.a,{hideIcon:r,wideContainer:T});return I||(I=this.props.children),o.a.createElement(c.a,{onClose:this.handleClose,onKeyDown:this.handleKeyDown,onOuterClick:u},o.a.createElement("div",{className:R.container,"data-test-id":"dual-action-dialog"},r?null:o.a.createElement("div",{className:R.icon},o.a.createElement(l.b,{kind:_.Kinds.EXCLAMATION_ALT,size:_.Sizes.L,colorState:_.ColorStates.WARNING_GRAD_RED})),o.a.createElement("div",{className:R.header},n?a:o.a.createElement("div",{className:R.title,"data-test-id":"title"},s),o.a.createElement("div",{className:R.close},o.a.createElement(d.default,{onClick:this.handleClose,kind:_.Kinds.CLOSE,size:_.Sizes.XS,title:e(g.close),"aria-label":e(g.close),"data-test-id":"close-btn"}))),o.a.createElement("div",{className:R.message,"data-test-id":"message"},I),o.a.createElement("div",{className:R.controls},o.a.createElement(i.a,{onClick:this.handlePrimaryButtonClick,style:O,"data-test-id":"primary-btn",disabled:A},f),o.a.createElement(i.a,{onClick:this.handleSecondaryButtonClick,kind:E.a.SECONDARY,style:O,"data-test-id":"secondary-btn"},D))))}}n()(T,"contextTypes",{intl:C.intlShape.isRequired}),n()(T,"defaultProps",{primaryButtonLabel:g.defaultprimaryButtonLabel,secondaryActionLabel:g.defaultsecondaryActionLabel,hideIcon:!1,disablePrimaryButton:!1}),t.a=T},function(e,t,s){"use strict";e.exports={className:{default:{pills:"k_w D_F ab_C W_6D6F p_R",pillsContainer:"hd_n em_N eo_HB el_Z12c0F D_F M_0 P_3HLUz ir_0 o_A K_3qWeB",pillsContainerChild:"em_N o_h s_3nx4N",pillOuter:"D_F ac_C",textContainer:"E_6LEV o_h",contactIcon:"o_q",name:"C_Z281SGl o_h G_e J_x Q_fq7 E_fq7",email:"C_Z1VRpVF o_h G_e J_x Q_fq7 E_fq7",remove:"o_h G_e J_x Q_fq7 E_fq7 p_a R_0 W_6LEV H_6LEV r_P",highlight:"u_eBE",typeahead:"M_0 p_R H_6NIX",typeaheadInput:"Z_N ir_0 j_n y_Z2hYGcu q_52qC k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO D_X p_a L_0 B_0",typeaheadInputHint:"Z_0 y_Z2hYGcu q_52qC k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO D_X p_a L_0 B_0",typeaheadAriaStatus:"L_Z1yJMeR p_a",typeaheadDropDown:"Z_f8a I_52qC k_w ha_n M_0 P_3HLUz b_Z14vXdP e_dRA j_ZqTdtW p_a o_A K_3vFsb W_3vVYr L_A T_6D6F",typeaheadOptionContainer:"D_F ab_C P_ZGAgNS k_w H_74JI r_P q4_1I4yPF cZ1WADfW_1I4z5p",relatedContactsContainer:"M_fq7 D_F gl_FM",relatedContacts:"M_2gqwFT",relatedContactsClose:"P_eo6 r_P"},autotag:{typeaheadDropDown:"a_3rJgR",relatedContacts:"A_6EqO C_Z1VRpVF u_e69 Q_6Eb4"},showCcBcc:{pillsContainer:"K_FB7P8"},editList:{typeaheadDropDown:"W_3s2lE"}},_key:"Z10Iodu"}},function(e,t,s){"use strict";s.r(t),s.d(t,"DELAY_FOR_CONTACT_CARD",(function(){return h}));var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(95),c=s(15),l=s(16),d=s(743),E=s.n(d),_=s(12),u=s.n(_),p=s(501),m=s(11),S=s(127);const h=300,C=u()(E.a);class g extends o.a.Component{constructor(...e){super(...e),n()(this,"popoverDidAppear",()=>{this._popover&&this.props.popoverDidAppear(this._popover)}),n()(this,"setPopoverRef",e=>{this._popover=e}),n()(this,"rerenderIfPopoverNotEnabled",()=>{this.tooSoonToRender&&this.forceUpdate()}),n()(this,"tooSoonToRenderPopover",()=>{const e=this.props.createdTime;return this.tooSoonToRender=e&&Date.now()-e<1e3,this.tooSoonToRender})}render(){const e=this.props,t=e.email,s=e.isCompose,r=e.isDisabled,n=e.name,a=e.popoverZIndex,d="ltr"===Object(S.getTextDirection)(n+" "+t)?C.rtlIgnoreDirLTR:C.rtlIgnoreDirRTL;return this.tooSoonToRenderPopover()||s&&!Object(l.isValidEmail)(t)?o.a.createElement("span",{className:C.anchor,onMouseEnter:this.rerenderIfPopoverNotEnabled,onMouseLeave:this.rerenderIfPopoverNotEnabled,"data-test-id":"email-pill-without-popover"},this.props.children):o.a.createElement(i.c,{arrowSize:c.b.M,permittedArrowDirections:[c.h.ANY],triggerOn:i.b.HOVER_DELAYED,triggerDelayTime:h,triggerOff:i.a.HOVER_OUT|i.a.DRAG_START|i.a.CLICK,disabled:r,zAltitude:a,onShown:this.popoverDidAppear,ref:this.setPopoverRef},o.a.createElement("span",{"data-test-id":"email-pill",className:C.anchor+" "+d},this.props.children),e=>o.a.createElement(p.a,{key:t,email:t,isCompose:s,withBackground:!1,name:n,onUpdateFinished:e}))}}n()(g,"defaultProps",{isDisabled:!1,popoverZIndex:m.Pb.POPOVER.HIGH,popoverDidAppear:()=>{}}),t.default=g},function(e,t,s){"use strict";var r=s(1),n=s.n(r),a=s(13),o=s(795),i=s.n(o),c=s(0),l=s(12),d=s.n(l),E=s(10);t.a=Object(a.connect)(e=>({themeMode:Object(E.selectors)(e).getSetting(c.Kd.THEME_MODE)}))(({children:e,themeMode:t})=>{const s=d()(i.a,{themeMode:t});return n.a.createElement("ul",{className:s.container,role:"tablist","data-test-id":"segmented-control"},r.Children.toArray(e).map(e=>"object"==typeof e&&null!==e?Object(r.cloneElement)(e,{themeMode:t}):null).filter(Boolean))})},function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return i}));const r=/</g,n=/"/g;function a(e,t,s){return void 0===e?"undefined":null===e?"null":e.toString().replace(t,s)}function o(e){return a(e,r,"&lt;")}function i(e){return a(e,n,"&quot;")}},function(e,t,s){"use strict";e.exports={className:{default:{properties:"D_F W_A",property:"D_F U_0 r_P M_Z1kd4S1 q_n b_n P_0 C_52qC cdPFi_Z1TsNWR cdPFi4_Z2aVTcY ir3_1JO2M7",selectedProperty:"D_F U_0 r_P M_Z1kd4S1 q_n b_n P_0 C_52qC cdPFi_Z2aVTcY",calendarIcon:"p_R C_q H_qc",calendarIconButton:"b_n P_0 p_R C_q H_qc r_P I_T",calendarDateText:"p_a A_pG C_q u_e69 T_e5X L_e5X h_16Wm1O",icon:"W_6LEV H_6LEV cdPFi_q"},verticalLayout:{properties:"ek_BB Y_6EGz",property:"E_0 U_6EGz"},"themeMode-MEDIUM":{property:"cdPFi_2sqbRh C_Z281SGl cdPFi4_52qC ir3_Z1FS2Mn",selectedProperty:"cdPFi_52qC C_Z281SGl"},"themeMode-DARK":{property:"cdPFi_2sqbRh C_Z281SGl cdPFi4_52qC ir3_Z1FS2Mn",selectedProperty:"cdPFi_52qC C_Z281SGl"},"themeCombo-LIGHT_ATT":{selectedProperty:"cdPFi_2lcdKJ"},"themeCombo-LIGHT_FRONTIER":{selectedProperty:"cdPFi_Z1VoWer"},"themeCombo-LIGHT_ROGERS":{selectedProperty:"cdPFi_Z1KxAI3"},"themeCombo-LIGHT_BT":{selectedProperty:"cdPFi_2oLgFe"},"themeCombo-LIGHT_SKY":{selectedProperty:"cdPFi_1EhNce"},"themeCombo-LIGHT_SUNRISE":{selectedProperty:"cdPFi_Z1dbuzs"},"themeCombo-LIGHT_AQUA_GREEN":{selectedProperty:"cdPFi_Z2q5fnY"},"themeCombo-LIGHT_AQUA_BLUE":{selectedProperty:"cdPFi_3AoN2"},"themeCombo-LIGHT_DEEP_PURPLE":{selectedProperty:"cdPFi_U7vu"},"themeCombo-LIGHT_BLUE_NIGHT":{selectedProperty:"cdPFi_ZqdWbg"},"themeCombo-LIGHT_DARK_GREY":{selectedProperty:"cdPFi_Z1KxAI3"},"themeCombo-LIGHT_NIGHT_LANDSCAPE":{selectedProperty:"cdPFi_2siI7q"},"themeCombo-LIGHT_ROADTRIP":{selectedProperty:"cdPFi_MHjSW"},"themeCombo-LIGHT_SUNSET_AUSSIE":{selectedProperty:"cdPFi_Z1dbuzs"},"themeCombo-LIGHT_LIGHTHOUSE":{selectedProperty:"cdPFi_Z23EoD8"}},_key:"1mmEy9"}},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(3),o=s.n(a),i=s(7),c=s.n(i),l=s(1),d=s.n(l),E=s(13),_=s(6),u=(s(51),s(170)),p=s(21),m=s(134),S=s(62),h=s(212);const C=s(1),g=s(1185),O=s(12),T=Object(_.defineMessages)({and_x_more_recipients:{id:"address.field.and_x_more_recipients",defaultMessage:"and {numNonVisibleAddresses} more..."},hide_recipients:{id:"address.field.hide_recipients",defaultMessage:"Hide"}});class A extends C.Component{constructor(...e){super(...e),o()(this,"state",{opened:!1}),o()(this,"handleToggle",e=>{e.preventDefault(),e.stopPropagation(),this.setState({opened:!this.state.opened})})}render(){const e=O(g),t=this.props,s=t.addresses,r=t.popoverZIndex,n=this.context.intl.formatMessage,a=this.state.opened?s.length:5;var o=[C.createElement("span",{key:"label-"+this.props.label,className:e.label},this.props.label)];if(s.slice(0,a).forEach(({name:t,email:s},n,a)=>{o.push(C.createElement(h.default,{key:s,isCompose:!1,email:s,name:t,popoverZIndex:r},C.createElement("span",{className:e.email,key:n,title:s,"data-test-id":"message-to"},t||s))),n<a.length-1&&o.push(C.createElement("span",{key:n+"-sep",className:e.separator},","))}),s.length>a){o.push(C.createElement("button",{key:"and-more","data-test-id":"and-more",onClick:this.handleToggle,className:e.button},n(T.and_x_more_recipients,{numNonVisibleAddresses:s.length-5})))}else this.state.opened&&o.push(C.createElement("button",{key:"and-more-hide","data-test-id":"and-more-hide",onClick:this.handleToggle,className:e.button},n(T.hide_recipients)));return C.createElement("div",{className:e.container},o)}}o()(A,"contextTypes",{intl:_.intlShape});var I=A,f=s(96),D=s(12),R=s.n(D),b=s(392),N=s.n(b),M=s(10),y=s(0),L=s(11),P=s(49),v=s(20),F=s(83),U=s(5),w=s(9),G=s(16),H=s(4),j=s(48),k=s(24),x=s(239),B=s(45),V=s(206),W=s(494),K=s(209);const q=()=>{},Y=Object(_.defineMessages)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},message_to:{id:"message_to",defaultMessage:"To:"},message_cc:{id:"message_cc",defaultMessage:"Cc:"},message_bcc:{id:"message_bcc",defaultMessage:"Bcc:"},message_header_count_label:{id:"message_header_count_label",defaultMessage:"Message {idx} of {totalMessages}"},message_header_label:{id:"message_header_label",defaultMessage:"Message"},message_has_attachment:{id:"message_has_attachment",defaultMessage:"Message has {attachmentCount, plural, =1 {an attachment} other {attachments}}"},header_print_message:{id:"header_print_message",defaultMessage:"Print"},sponsoredByViglinkMessageRead:{id:"viglink.sponsored_by_viglink_message_read",defaultMessage:"Sponsored link by Viglink"}});class z extends d.a.Component{constructor(e){super(e),o()(this,"handleStarClick",e=>{e.stopPropagation();const t={interactionType:Object(G.getInteractionFromEvent)(e)};this.props.onToggleStar({i13nModel:t})}),o()(this,"handlePrintClick",e=>{e.stopPropagation(),this.props.onPrint(e)}),o()(this,"handleAttachmentClick",e=>{this.props.expanded&&(e.stopPropagation(),this.props.onAttachmentClick(e))}),o()(this,"handleReadClick",e=>{e.stopPropagation();const t={interactionType:Object(G.getInteractionFromEvent)(e)};this.props.onToggleRead({i13nModel:t})}),o()(this,"handleKeyDown",e=>{switch(e.key){case"Enter":e.preventDefault(),e.stopPropagation(),this.props.onToggleExpand();break;default:return}}),o()(this,"renderPrintButton",()=>{const e=this.context.intl.formatMessage,t=R()(N.a);return this.props.expanded&&this.props.onPrint?d.a.createElement("div",{className:t.print},d.a.createElement(p.default,{kind:H.Kinds.PRINTER,size:H.Sizes.XS,title:e(Y.header_print_message),ariaLabel:e(Y.header_print_message),colorState:H.ColorStates.INHERITED,onClick:this.handlePrintClick,paddingLess:!0})):null}),o()(this,"renderAttachmentIcon",()=>{const e=this.context.intl.formatMessage,t=this.props,s=t.expanded,r=t.message.attachments,n=void 0===r?[]:r,a=R()(N.a,{expanded:s}),o=n.filter(({disposition:e})=>e!==y.F.Dispositions.INLINE).length;return o>0?d.a.createElement("div",{className:a.attachment},d.a.createElement(p.default,{kind:H.Kinds.ATTACHMENT,size:H.Sizes.XS,title:e(Y.message_has_attachment,{attachmentCount:o}),ariaLabel:e(Y.message_has_attachment,{attachmentCount:o}),onClick:this.handleAttachmentClick,paddingLess:!0,colorState:H.ColorStates.DISABLED})):null}),o()(this,"handleToggleExpand",e=>{this.addressInfoContainer.contains(e.target)?(e.preventDefault(),e.stopPropagation(),this.props.expanded||this.props.onToggleExpand()):this.props.onToggleExpand()}),o()(this,"burstOnClick",(e,t)=>{this.handleStarClick(e),!t&&this.props.starAnimation.timeout>0?(this.setState({shouldBurst:!0}),this.timeout=setTimeout(()=>{this.setState({shouldBurst:!1})},this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout))}),o()(this,"_affiliateI13nModel",(e,t,s)=>{const r=this.props,n=r.message,a=r.inboxCommerceFeatureClicked,o=n.headers.from,i=void 0===o?[]:o,c={xpname:y.u.MESSAGE_HEADER,msgId:n.id||"",sndr:i[0]&&i[0].email,brandurl:r.contactLink,affiliatePartner:t,featurefamily:y.Cb.IC};e===U.g.CARD_INTERACT&&(c.interactiontype=U.e.click,c.interacteditem=s,a({clicked:!0})),B.b.sendI13nModel({i13nModel:{mKey:e,sec:U.i.MSG_BODY,actionData:c}})}),o()(this,"handleFromFieldDoubleClick",e=>{e.preventDefault(),window.clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null}),o()(this,"handleFromFieldClick",(e,t,s)=>{const r=this.props,n=r.isAffiliatePartnerEnabled,a=r.contactLink;Object(x.a)(this.fromFieldRef)||(e.preventDefault(),null===this.doubleClickTimeout&&(this.doubleClickTimeout=window.setTimeout(()=>{this.doubleClickTimeout=null,n&&this._affiliateI13nModel(U.g.CARD_INTERACT,t,"name"),window.open(n?s:a,"_blank","noreferrer")},250)))}),this.fromFieldRef=d.a.createRef(),this.burstURL=Object(P.a)(e.starAnimation.lightGifURL),Object(v.e)(this.burstURL),this.state={shouldBurst:!1,flagged:e.message.flags.flagged},this.doubleClickTimeout=null}componentDidMount(){this.props.isAffiliatePartnerEnabled&&this._affiliateI13nModel(U.g.CARD_VIEW)}componentDidUpdate(e){!e.contact&&this.props.isAffiliatePartnerEnabled&&this._affiliateI13nModel(U.g.CARD_VIEW)}componentWillReceiveProps(e){const t=this.state;this.state.flagged!==e.message.flags.flagged&&this.setState({flagged:!this.state.flagged}),!t.flagged&&e.message.flags.flagged&&this.props.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout(()=>{this.setState({shouldBurst:!1})},e.starAnimation.timeout))}render(){const e=this.context.intl.formatMessage,t=this.props,r=t.affiliateFeatures,a=t.contact,o=t.contactLink,i=t.conversations,c=t.domainMap,l=t.expandable,E=t.expanded,_=t.idx,C=t.isAffiliatePartnerEnabled,g=t.isOnModal,O=t.isPhishingMessage,T=t.multipleCardsInGroup,A=t.message,D=t.onToggleRead,b=t.onToggleStar,M=t.readRef,y=t.starRef,P=t.totalMessages,v=t.locale,w=t.partner,G=A.headers,j=G.from,x=G.to,B=G.cc,V=G.bcc,K=G.date,z=A.flags,Q=z.flagged,Z=z.read,X=Object(f.a)(A.snippet,!0),$=R()(N.a,{expanded:E,expandable:l,flagged:Q,highlightPosition:X,isEnhancedMessageIcon:!E}),J=i?Y.message_header_count_label:Y.message_header_label,ee=new Date(1e3*K),te=g?L.Pb.MODAL:L.Pb.POPOVER.MEDIUM,se=H.ColorStates.INHERITED,re=o&&a&&a.isBusiness,ne=C?Object(F.b)({affiliateLink:o,domainMap:c,email:j[0]&&j[0].email,features:r,locale:v,partner:w}):{affiliatePartnerName:"",affiliatePartnerUrl:""},ae=ne.affiliatePartnerName,oe=ne.affiliatePartnerUrl,ie=C?{href:oe||o,target:"_blank",rel:"noreferrer",onClick:()=>this._affiliateI13nModel(U.g.CARD_INTERACT,ae,"logo")}:null,ce=E?S.b.MEDIUM_PLUS:S.b.M,le=O&&!T;return d.a.createElement("header",{className:$.header,onClick:l?this.handleToggleExpand:null,onKeyDown:l?this.handleKeyDown:null,"aria-label":e(J,{idx:_+1,totalMessages:P})},d.a.createElement("span",{className:$.avatar},le?d.a.createElement(W.a,{src:"/img/suspicious.svg",width:ce.imageSize,height:ce.imageSize,"data-test-id":"suspicious-avatar"}):d.a.createElement("a",n()({},ie,{"data-test-id":"sender-logo"}),d.a.createElement(S.c,{contact:{email:j[0]&&j[0].email},size:ce}))),D?d.a.createElement("div",{className:$.readUnread,ref:M},d.a.createElement(p.default,{"data-test-id":"icon-btn-read",title:e(Y[Z?"mark_as_unread":"mark_as_read"]),"aria-label":e(Y[Z?"message_is_read":"message_is_not_read"]),"aria-pressed":!Z,kind:H.Kinds.CIRCLE,colorState:Z?H.ColorStates.FAINT:H.ColorStates.SELECTED,size:H.Sizes.XS,onClick:this.handleReadClick,paddingLess:!0})):null,d.a.createElement("div",{className:$.flexVertical,ref:e=>this.addressInfoContainer=e,"data-test-id":"address-info"},d.a.createElement("div",{className:$.fromRow,onClick:re?e=>this.handleFromFieldClick(e,ae,oe):q,onDoubleClick:re?this.handleFromFieldDoubleClick:q,ref:this.fromFieldRef},d.a.createElement("span",{"data-test-id":"message-from",className:$.fromField},j[0]?d.a.createElement(h.default,{isCompose:!1,email:j[0].email,name:j[0].name,popoverZIndex:te},j[0]&&j[0].name?d.a.createElement("span",null,j[0].name,E&&d.a.createElement("span",{className:$.fromEmail},"<",j[0].email,">")):j[0].email):null),d.a.createElement(k.a,{defer:!0,import:"./unsubscribe_button",message:A,cardExpanded:E,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1268))},_moduleResolver:function(){return 1268}})),!E&&d.a.createElement("div",{className:$.snippetContainer,"data-test-id":"snippet"},d.a.createElement("div",{className:$.snippet},Object(f.b)(A.snippet,!0,$.highlightedTerm))),!E&&d.a.createElement(m.a,null),E&&x.length>0&&d.a.createElement(I,{label:e(Y.message_to),addresses:x,popoverZIndex:te}),E&&B.length>0&&d.a.createElement(I,{label:e(Y.message_cc),addresses:B,popoverZIndex:te}),E&&V.length>0&&d.a.createElement(I,{label:e(Y.message_bcc),addresses:V,popoverZIndex:te})),E&&d.a.createElement(m.a,null),this.renderPrintButton(),this.renderAttachmentIcon(),d.a.createElement("div",{className:$.date,"data-test-id":"message-date"},d.a.createElement(u.a,{date:ee,long:!0,weekday:"short"})),b?d.a.createElement("div",{className:$.star,ref:y},this.state.shouldBurst?d.a.createElement("img",{title:e(Y[Q?"mark_as_unstarred":"mark_as_starred"]),"data-test-id":"icon-btn-star","aria-pressed":Q,src:this.burstURL,style:{height:"24px",width:"24px"}}):d.a.createElement(p.default,{title:e(Y[Q?"mark_as_unstarred":"mark_as_starred"]),"aria-label":e(Y[Q?"message_is_starred":"message_is_not_starred"]),"aria-pressed":Q,kind:H.Kinds.STAR,size:H.Sizes.S,colorState:Q?H.ColorStates.STARRED:se,onClick:e=>{this.burstOnClick(e,Q)},paddingLess:!0})):null)}}o()(z,"contextTypes",{config:c.a.object.isRequired,intl:_.intlShape.isRequired});t.a=Object(V.a)(Object(E.connect)((e,t)=>{const s=Object(M.selectors)(e),r=s.getRoute,n=s.getEnvironmentSelectors,a=s.__patchV2MessageId__,o=s.getMainStreamListIds,i=s.getMessagesSelectors,c=s.getMessageIdsFromMessageGroupId,l=s.isFeatureEnabled,d=s.getSetting,E=(0,s.getContactListSelectors)().getContactByEmail,_=n(),u=_.getLoggerParams,p=_.getPartner,m=t.listId,S=t.message,h=t.groupId,C=S.id,g=Object(w.b)(t,"message.headers.from.0.email",""),O=i().hasPhishingDeco,T=d(y.Kd.STAR_ANIMATION),A=E(g)||void 0,I=A&&A.website,f=d(y.Kd.ENABLED_AFFILIATE_PARTNERS),D=c(h).length>1;return C?{affiliateFeatures:f,contact:A,contactLink:I,isPhishingMessage:O(C),multipleCardsInGroup:D,isAffiliatePartnerEnabled:A&&A.isBusiness&&A.website&&l(y.Eb.AFFILIATE_PARTNER),message:a(C,m),locale:u().locale,partner:p(),starAnimation:T,streamId:Object(j.a)(o(r()))}:{message:S,starAnimation:T}},e=>({inboxCommerceFeatureClicked:t=>e(Object(K.b)(t))}))(z))},function(e,t,s){"use strict";s.d(t,"b",(function(){return c})),s.d(t,"a",(function(){return l})),s.d(t,"c",(function(){return E})),s.d(t,"d",(function(){return u}));var r=s(0),n=s(91),a=s(129),o=s.n(a);function i(e=[]){const t=[];return e.forEach(e=>{Object.keys(e.entities).forEach(s=>{const n=e.entities[s];t.push(Object.assign({},n,e.intent===r.fe.ALL?{name:o()(n.name)}:null))})}),t}function c(e=[]){return i(e.filter(e=>e.intent===r.fe.PEOPLE).filter(e=>{const t=e.entities;return Object.keys(t).forEach(e=>{const s=t[e];s.type!==r.ge.PERSON||s.emailIds&&0!==s.emailIds.length||delete t[e]}),Boolean(Object.keys(t).length)}))}function l(e){return i(e.filter(e=>e.intent===r.fe.ALL).filter(e=>{const t=e.entities;let s=!1;return Object.keys(t).forEach(e=>{const n=t[e];n.type===r.ge.EMAIL&&n.name&&(s=!0)}),s}))}function d(e=[],t,s){const a=new RegExp("(^|\\s)"+Object(n.a)(t),"gi");return e.filter(e=>{const s=e.name,r=e.backyard,n=e.emails,o=(void 0===s?"":s)+" "+(void 0===r?"":r)+" "+(void 0===n?[]:n).join(" ");return t&&-1!==o.search(a)}).map(e=>function(e,t){return{emailIds:e.emails,imageUrl:t.toUpperCase()===r.he.AOL?`https://proddata.xobni.aol.com/v4/contacts/${e.xobniId}/photo`:`https://proddata.xobni.yahoo.com/v4/contacts/${e.xobniId}/photo`,name:e.name,serviceId:e.xobniId,sourceService:"XOBNI",type:r.ge.PERSON}}(e,s)).filter((e,t,s)=>s.findIndex(t=>t.serviceId===e.serviceId)===t)}function E(e){const t=[];return e.forEach(e=>{e.emailIds.forEach(s=>{const r=JSON.parse(JSON.stringify(e));r.emailIds=[s],t.push(r)})}),t}function _(e,t=!1){return{type:r.ge.HEADER,headerType:r.ee[e],firstEntry:t}}function u(e=[],t=[],s=[],n="",a=""){const o=""===n.trim(),E=c(e),u=function(e){return i(e.filter(e=>e.intent===r.fe.ALL).filter(e=>{const t=e.entities;let s=!1;return Object.keys(t).forEach(e=>{const n=t[e];n.type===r.ge.KEYWORD&&n.name&&(s=!0)}),s}))}(e).slice(0,4),p=d(t,n,a),m=l(e),S=function(e,t=""){const s=[];return e.forEach(e=>{e.query&&-1!==e.query.indexOf(t)&&s.push({type:r.ge.RECENT,name:e.query})}),s}(s,n),h=function(e=[],t=[]){const s=e.map(e=>{const s=t.find(t=>t.serviceId===e.serviceId);return void 0!==s?s:e}),r=t.filter(e=>!s.find(t=>t.serviceId===e.serviceId));return[].concat(s,r)}(p,E);let C;const g=[],O=[],T=[];if(C=o?S.length?S:u:u.length?u:S,C.length){const e=0===E.length;g.push(_(C[0].type===r.ge.KEYWORD?r.ge.KEYWORD:r.ge.RECENT,e))}h.length&&O.push(_(r.ge.PERSON,!0));const A=2+Math.max(0,2-C.length),I=2+Math.max(0,2-h.length);if(m.length){T.push(_(r.ge.EMAIL,0===m.length))}return[].concat(O,h.slice(0,A),g,C.slice(0,I),T,m.slice(0,3))}},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(5);const n={COMPOSE_FROM_CONTACTS_PANE:[r.g.CONTACT_ITEM_EMAIL_CLICKED,r.g.CONTACT_DETAILS_EMAIL_CLICKED],REPLACE_ATTACHMENT_WITH_RIGHT_RAIL:[r.g.CONTACTS_PANE_ICON_ON],EDIT_FORM:[r.g.CONTACT_CARD_EDIT_CONTACT,r.g.OPEN_EDIT_CONTACT]}},function(e,t,s){"use strict";s.d(t,"b",(function(){return p})),s.d(t,"c",(function(){return m}));var r=s(3),n=s.n(r),a=s(2),o=s(0),i=s(19),c=s(30),l=s.n(c),d=s(43),E=s.n(d);function _(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function p(e,t,s=[]){let r=e.index,n=void 0===r?-1:r;return t===o.fb.UP?n--:t===o.fb.DOWN?n++:t===o.fb.FIRST?n=0:t===o.fb.LAST?n=s.length-1:Object(i.a)(!t,"Movement not supported yet"),n<0?n=0:n>=s.length&&(n=s.length-1),{index:n,streamItem:s[n]}}t.a=(e={},t)=>{const s=t.streamItem,r=t.streamItems,n=void 0===r?[]:r,o=t.selectionPayload,i=void 0===o?{}:o;switch(t.type){case a.STREAM_ITEM_TOGGLED:case a.STREAM_CONTEXT_MENU:case a.ITEMS_DRAG_STARTED:case a.STREAM_ITEMS_RANGE_SELECTED:case a.PREVIEW_MESSAGE_REQUESTED:{const t=n.findIndex(e=>l()(e,s)),r={streamItem:s,index:t};return l()(e,r)?e:r}case a.OPEN_PAGE_REQUESTED:{const t=n.findIndex(e=>l()(e,s));if(!s||-1===t)return{};const r={streamItem:s,index:t};return l()(e,r)?e:r}case a.PREVIEW_MESSAGE_CLOSED:return e.streamItem?E()(e,"streamItem"):e;case a.STREAM_SELECT_CURSOR_MOVED:case a.STREAM_CURSOR_MOVED:{const s=p(e,t.movement,n);return l()(e,s)?e:s}case a.READ_CHANGE_REQUESTED:case a.STAR_CHANGE_REQUESTED:case a.RECENT_AND_READ_CHANGE_REQUESTED:case a.DELETE_ITEMS_REQUESTED:case a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case a.MOVE_ITEMS_REQUESTED:case a.MOVE_AND_READ_CHANGE_REQUESTED:case a.SEND_SUCCESS:case a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case a.V3_MESSAGE_SEND_SUCCEEDED:case a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case a.CHANGE_FOLDER_SUCCEEDED:case a.SEARCH_LIST_ITEMS_RECEIVED:case a.UNDO_MOVE_SUCCEEDED:case a.MORE_MESSAGES_REQUEST_SUCCESS:case a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case a.GIF_FETCH_SUCCEEDED:case a.MORE_COUPONS_SUCCESS:case a.MORE_RECEIPTS_SUCCESS:case a.RECEIPTS_LIST_SUCCEEDED:case a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case a.COUPONS_LIST_SUCCEEDED:case a.EXTRACT_COUPON_SUCCEEDED:case a.TRAVEL_LIST_SUCCEEDED:case a.COUPONS_ADD_TAG_DECO_REQUESTED:case a.MORE_TRAVEL_ITEMS_SUCCEEDED:case a.UPDATE_ITEMS_FAILED:{const s=t.oldMessageStreamItems,r=void 0===s?[]:s,n=t.newMessageStreamItems,a=void 0===n?[]:n;if(!a.length)return{};if(!Object.keys(e).length)return e;const o=r[e.index]||{},i=a.findIndex(e=>e.id===o.id&&e.listId===o.listId);if(-1!==i){const t=e.index===i&&l()(e.streamItem,o)?e:{streamItem:o,index:i};return e.streamItem?t:E()(t,"streamItem")}const c=r.slice(e.index+1).find(e=>a.some(t=>e.id===t.id&&e.listId===t.listId))||a[a.length-1]||{},d={streamItem:c,index:a.findIndex(e=>e.id===c.id&&e.listId===c.listId)};return e.streamItem?d:E()(d,"streamItem")}case a.MESSAGE_GROUP_OPENED:case a.MESSAGE_CARD_EXPANSION_CHANGED:case a.MESSAGE_CARD_FOCUSED:return u({},e,{streamItem:t.streamItem});case a.V3_MESSAGE_SAVE_SUCCEEDED:case a.MESSAGE_SAVE_SUCCEEDED:case a.MESSAGE_AUTO_SAVE_SUCCEEDED:{const s=t.streamItem,r=t.previousStreamItem;return s&&r&&(i.oldCursor&&l()(i.oldCursor.streamItem,r))?u({},e,{streamItem:s}):e}default:return e}};const m=(e={})=>({getCursor:()=>e,getCursorItem:()=>e.streamItem})},function(e,t,s){"use strict";s.d(t,"c",(function(){return c})),s.d(t,"d",(function(){return l})),s.d(t,"b",(function(){return d})),s.d(t,"a",(function(){return E}));var r=s(3),n=s.n(r),a=s(2),o=s(0);function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const c=({tasks:e,messageItemsToSync:t,actionPayload:s})=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({type:a.BULK_PROGRESS_INITIATED,tasks:e,messageItemsToSync:t},s),l=({id:e,status:t,progress:s,pollCount:r})=>({type:a.BULK_PROGRESS_RECEIVED,id:e,status:t,progress:s,pollCount:r}),d=({taskId:e})=>({type:a.BULK_CANCEL_REQUESTED,taskId:e,status:o.K.ABORTING}),E=({taskId:e,progress:t,triageActionType:s,folderId:r,count:n,conversations:i})=>({type:a.BULK_CANCEL_FAILED,triageActionType:s,folderId:r,count:n,conversations:i,taskId:e,progress:t,status:o.K.ABORT_FAILED})},function(e,t,s){"use strict";s.d(t,"a",(function(){return S}));var r=s(68),n=s(91),a=s(9),o=s(2),i=s(0),c=s(10),l=s(128);let d,E=0;const _=Object(a.d)(["INTERNAL","EXTERNAL"]),u=Object(a.d)(["ERROR_IS_NULL","PLUGIN","ACCESS_DENIED","REMOTE_SERVER","MAIL_APP_CORS","MAIL_APP_VENDOR_CORS","MAIL_APP_LAZY_GROUP1_CORS","PERMISSION_DENIED","REDUX_DISPATCH","RENDER_APP","RESIZE_OBSERVER","RUM","YAFT_CORS","DARLA"]),p={};function m(e){return-1===e.indexOf("yahoo.com")&&-1===e.indexOf("aol.com")&&-1===e.indexOf("oath.com")&&-1===e.indexOf("Oath")&&-1===e.indexOf("yimg.com")&&-1===e.indexOf("CMP 2")&&-1===e.indexOf("window.ymailManifest")&&-1===e.indexOf("_mod_ybar")&&-1===e.indexOf("window.DARLA_CONFIG")&&-1===e.indexOf("root.AppBootstrapData")&&-1===e.indexOf("window.babelHelpers")&&0!==e.indexOf("{}")}function S(e="",t="",s="",a="",S){const h=function(e){const t=Object(n.c)(e.message),s=e.error,r=`${t} ${e.filename}:${e.lineno}:${e.colno}`,a=s?Object(n.c)(s.message):"",o=s?`${s.name}:${a}`:"",i=new l.a(s).toString(),c=s&&s.data||{},_={startTime:Date.now(),error:r,errorMessage:o,stack:i,message:t,data:c};return d!==r&&(E=0),E++,d=r,E%1e3==0&&(_.jseOverLimit=E),E<=1e3?{logData:_,stackString:i}:{logData:null,stackString:null}}({message:e,filename:t,lineno:s,colno:a,error:S}),C=h.logData,g=h.stackString;if(C&&(C.type=function(e,t,s,r,a="",o=null){const i=o?o.message:"",c=o?o.name:"",l=Object(n.c)(e);return 0===l.indexOf("Access is denied")?u.ACCESS_DENIED:0===i.indexOf("The remote server machine does not exist")?u.REMOTE_SERVER:"Permission denied"===i?u.PERMISSION_DENIED:"REDUX_DISPATCH"===c?u.REDUX_DISPATCH:0===l.indexOf("Rendering App error")?u.RENDER_APP:0===l.indexOf("ResizeObserver")?u.RESIZE_OBSERVER:0===l.indexOf("RUM error")?u.RUM:-1!==t.indexOf("s.yimg.com/rq/darla")||-1!==a.indexOf("s.yimg.com/rq/darla")?u.DARLA:-1!==t.indexOf(".kaspersky-labs.com")||-1!==l.indexOf("KasperskyLab is not defined")||-1!==a.indexOf("hostingcloud.science")||-1!==a.indexOf("zennolab://chromium")||-1!==l.indexOf('Cannot set property "install" of undefined')||-1!==l.indexOf("chrome is not defined")||"null is not an object (evaluating 'x.length')"===i&&184===r||"$ is not defined"===i||"Cannot redefine property: googletag"===i||"s2s is not defined"===i?u.PLUGIN:o?c||"":u.ERROR_IS_NULL}(e,t,0,a,g,S),C.source=function(e,t="",s=""){return t===u.PLUGIN||t===u.DARLA||t===u.RESIZE_OBSERVER||-1!==e.indexOf("fc.yahoo.com")||-1===e.indexOf(".yahoo.com")&&-1===e.indexOf(".aol.com")&&-1===e.indexOf(".yimg.com")||-1!==s.indexOf("consent.cmp.oath.com")?_.EXTERNAL:_.INTERNAL}(t,C.type,g),C.isFirstJSE=!p[C.type],C.externalScripts=function(){try{let e=null;const t=[],s=document.getElementsByTagName("script");for(let r=0;r<s.length;r++)e=s[r],e.src&&m(e.src)?t.push(e.src):e.innerHTML&&m(e.innerHTML)&&t.push(e.innerHTML.substring(0,200));return t.join("|")}catch(e){return"error"}}(),p[C.type]=!0,r.a.error("generic_error",C),C.source===_.INTERNAL&&C.type!==u.REDUX_DISPATCH&&C.type!==u.RUM)){!function(e){try{const t=window.context.getActionContext(),s=Object(c.selectors)(window.context.store.getState()),r=(0,s.getFeaturesSelectors)();r.isEnabled(i.Eb.EXCEPTION_NOTIFICATION)&&t.dispatch(o.EXCEPTION_OCCURRED,{splunkUrl:e})}catch(e){}}(function(e){const t=[];for(const s in e)t.push(`${s}="'${e[s]}'"`);return i.xd+"?q=search"+encodeURIComponent(" index=idx_norrin sourcetype=yapache_error "+t.join(" "))}({platform:"browser",message:"generic_error",data_errorMessage:C.errorMessage}))}}},,function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"e",(function(){return c})),s.d(t,"d",(function(){return l})),s.d(t,"b",(function(){return d})),s.d(t,"c",(function(){return E}));const r=/^(\\.|[A-Za-z0-9!#%&`_=\/$'*+?^{}|~.-])+$/,n=/^"(\\"|[^"])+"$/,a=/^[A-Za-z0-9\-]+$/,o=["sgproxy_test_10@localhost","sgproxy_test_20@localhost"];function i(e){const t=e.lastIndexOf("@");return{localPart:e.substr(0,t),domainPart:e.substr(t+1)}}function c(e){return!(!r.test(e)&&!n.test(e))}function l(e){const t=e.split("."),s=t.length;if(s<2)return!1;for(let e=0;e<s;e++)if(!a.test(t[e]))return!1;return!0}function d(e){if(!e)return!1;if(-1!==o.indexOf(e))return!0;const t=i(e),s=t.domainPart;return!!c(t.localPart)&&!!l(s)}function E(e){if(!d(e))return!1;const t=i(e).domainPart;return t&&"verizonmedia.com"===t.toLowerCase()}},function(e,t,s){"use strict";s.d(t,"c",(function(){return i})),s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return l}));var r=s(3),n=s.n(r),a=s(9);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}s(0),Object(a.d)(["ADD_BASENAME","ADD_DEA","EDIT_DEA","ADD_SENDAS","EDIT_SENDAS","ADD_IMAPIN","EDIT_ACCOUNT","EDIT_DEFAULT_SENDING"]);const i={ACCOUNT_IDS:"accountIds",ACTION:"action",CATEGORY_ID:"categoryId",CONFIRM_ACTION:"confirmAction",EDIT_ACCOUNT:"editAccount",EDIT_MODE:"editMode",FID:"fid",FOLDER_TYPE:"folderType",OFFSET:"offset",PAGE:"page",SHOW_ALL:"showAll",SHOW_IMAGES:"showImages",SORT_ORDER:"sortOrder",UNBLOCK_NOW:"unblockNow",DOMAIN:"domain",TASK_ID:"taskId",ORIGIN_FOLDER_ID:"originFolderId",BULK_ACTION:"bulkAction",SENT_MID:"sentMid",UPDATE_COUNT:"updateCount",FILTER_INDEX:"filterIndex",ORIGINAL_SEARCH_QUERY_KEYWORD:"originalSearchQueryKeyword",ORIGINAL_SEARCH_QUERY_ACCOUNT_IDS:"originalSearchQueryAccountIds"},c=["to_list","cc_list","bcc_list","editMode","editAccount","sortOrder","action","offset","mrdparam","toB","showImages","expandSenders","unblockNow","fid","confirmAction","categoryId","mailboxId","domain","originFolderId","taskId","bulkAction","clickSrc",i.SENT_MID,"alertCode",i.FILTER_INDEX,i.ORIGINAL_SEARCH_QUERY_KEYWORD,i.ORIGINAL_SEARCH_QUERY_ACCOUNT_IDS,i.UPDATE_COUNT],l=(Object(a.d)(["Error","Warning","Information"]),Object(a.d)(["replied","forwarded"]),Object(a.d)(["MESSAGE_LIST_ACCESS_FAILED","MESSAGE_VIEW_ACCESS_FAILED","SEARCH_LIST_ACCESS_FAILED","COMPOSE_ACCESS_FAILED","FOLDERS_LIST_ACCESS_FAILED","SETTINGS_ACCESS_FAILED","CONTACTS_ACCESS_FAILED"]),Object(a.d)(["UNREAD","READ","READ_DARK","STAR","UNSTAR","UNSTAR_DARK","ATTACHMENT_DARK","SPAM_DARK","SPAM_BLUE","TRASH_DARK","TRASH_BLUE","TRASH_MINI_MEDIUM","TRASH_MINI_RED","EDIT","EDIT_BLUE","CLOSE_MINI","CLOSE","CLOSE_MINI_BLUE","CLOSE_BLUE","CHEVRON_RIGHT","CHEVRON_DOUBLE_RIGHT","CHEVRON_RIGHT_BLUE","CHEVRON_DOUBLE_RIGHT_BLUE","CHEVRON_RIGHT_DARK","CHEVRON_DOUBLE_RIGHT_DARK","CHEVRON_LEFT","CHEVRON_DOUBLE_LEFT","CHEVRON_LEFT_BLUE","CHEVRON_DOUBLE_LEFT_BLUE","CHEVRON_LEFT_DARK","CHEVRON_DOUBLE_LEFT_DARK","ARROW_LEFT_DARK","ARROW_RIGHT_DARK","ARROW_LEFT_BLUE","ARROW_RIGHT_BLUE","REPLY","REPLY_ALL","FORWARD","REPLY_BLUE","REPLY_ALL_BLUE","FORWARD_BLUE","REPLY_RTL","REPLY_ALL_RTL","FORWARD_RTL","REPLY_BLUE_RTL","REPLY_ALL_BLUE_RTL","FORWARD_BLUE_RTL","PRINT","PRINT_BLUE","CHEVRON_UP_DARK","CHEVRON_DOWN_DARK","CHEVRON_UP_BLUE","CHEVRON_DOWN_BLUE","CHEVRON_UP","CHEVRON_DOWN","REPLIED","FORWARDED","SEARCH","CLOSE_WHITE","ERROR","SUCCESS","MAIL","YBANG","ARROW_UP","ARROW_DOWN","AOL","ADS","TRUSTED"]),Object(a.d)(["asc","desc"]),Object(a.d)(["first","last","email"]),Object(a.d)(["PENDING","COMPLETED","FAILED","ABORTED"]),{"message_list.get":"message_list.get","search_list.get":"search_list.get","message_view.get":"message_view.get","folder_list.get":"folder_list.get","skeleton.get":"skeleton.get","settings.get":"settings.get"});!function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}}({},l,{"message_list.toggleFolders":"message_list.toggleFolders","message_list.update":"message_list.update","message_list.moveto":"message_list.moveto","message_list.delete":"message_list.delete","message_list.emptyFolder":"message_list.emptyFolder","message_list.updateReadAll":"message_list.updateReadAll","message_list.updateFlagAll":"message_list.updateFlagAll","message_list.updateSpamAll":"message_list.updateSpamAll","message_list.moveAllToFolder":"message_list.moveAllToFolder","message_list.deleteAll":"message_list.deleteAll","message_list.archiveAll":"message_list.archiveAll","search_list.toggleFolders":"search_list.toggleFolders","search_list.update":"search_list.update","message_view.update":"message_view.update","message_view.toggleFolders":"message_view.toggleFolders","folder_list.rename":"folder_list.rename","folder_list.add":"folder_list.add","folder_list.delete":"folder_list.delete","compose.open":"compose.open","compose.replyFwd":"compose.replyFwd","compose.toggleFolders":"compose.toggleFolders","compose.attach":"compose.attach","compose.send":"compose.send","compose.save":"compose.save","settings.setBaseNameJWS":"settings.setBaseNameJWS","settings.deleteAccount":"settings.deleteAccount","settings.updateAccount":"settings.updateAccount","settings.addAccount":"settings.addAccount","settings.resendConfirmEmail":"settings.resendConfirmEmail","settings.saveWebMailboxAttributes":"settings.saveWebMailboxAttributes","task.status":"task.status","mailbox.getAttributes":"mailbox.getAttributes","attributes.get":"attributes.get","accounts.add":"accounts.add","accounts.delete":"accounts.delete"})},function(e,t,s){"use strict";s.d(t,"f",(function(){return l})),s.d(t,"e",(function(){return d})),s.d(t,"d",(function(){return E})),s.d(t,"c",(function(){return _})),s.d(t,"a",(function(){return u})),s.d(t,"b",(function(){return p}));var r=s(3),n=s.n(r),a=s(2),o=s(0);function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function l({altListId:e,query:t,id:s},r){return{type:a.GIF_FETCH_SUCCEEDED,listId:e,response:{[o.ac.GIFS]:{[o.bc.GIFS]:r}},query:t,id:s}}function d({altListId:e,query:t,id:s},r){return{type:a.GIF_FETCH_FAILED,err:r,listId:e,query:t,id:s}}function E(e){return c({},e,{type:a.GIF_FETCH_REQUESTED})}function _(e){return c({},e,{type:a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED})}function u(e){return c({},e,{type:a.GIF_CATEGORIES_CONTENT_FETCH_FAILED})}function p(e){return c({},e,{type:a.GIF_CATEGORIES_CONTENT_FETCH_REQUESTED})}},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(32),c=s(18),l=s(25);t.a=class extends o.a.Component{render(){return o.a.createElement(i.a,null,o.a.createElement(c.a,n()({kind:l.a.MENUITEM},this.props),this.props.children))}}},,,,,,,,function(e,t,s){"use strict";s.r(t),s.d(t,"strings",(function(){return R}));var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(28),d=s.n(l),E=s(6),_=s(90),u=s(17),p=s(62),m=s(16),S=(s(9),s(11),s(20)),h=s(12),C=s.n(h),g=s(742),O=s.n(g),T=s(4);const A=C()(O.a);var I=class extends c.a.Component{render(){return c.a.createElement("div",{id:"drag-icon-div","data-test-id":"drag-image",className:A.dragIcon,style:{left:this.props.x,top:this.props.y}},c.a.createElement(_.a,{title:"drag-icon",kind:this.props.iconKind,size:T.Sizes.XS,colorStates:{normal:T.ColorStates.SELECTED,hovered:T.ColorStates.SELECTED}}),c.a.createElement("div",{className:A.counter},this.props.count))}},f=s(391),D=s.n(f);const R=Object(E.defineMessages)({remove_contact:{id:"compose.remove_contact",defaultMessage:"Remove"}});class b extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{hovered:!1,isDragHovered:!1,dragSide:"",isSelfDrag:!1}),n()(this,"handleDragEnter",()=>{this.setState({isDragHovered:!0})}),n()(this,"handleDragOnPill",(e,t)=>{this.setState({dragSide:t})}),n()(this,"handleDragLeave",()=>{this.setState({dragSide:""}),this.state.isDragHovered&&this.setState({isDragHovered:!1})}),n()(this,"shouldHandleDrop",e=>e===this.refs.leftDragNode||e===this.refs.rightDragNode),n()(this,"handleDragOver",e=>{this.shouldHandleDrop(e.target)&&e.preventDefault()}),n()(this,"handleDragEnd",()=>{this.removeDragImage(),this.props.handleDragState(!1),this.setState({isDragHovered:!1,isSelfDrag:!1})}),n()(this,"renderDragImage",(e,t)=>{const s=e.cloneNode(!0),r=C()(D.a,{isDragImg:!0}),n=C()(D.a),a=s.getElementsByClassName("pill-close")[0],o=e.clientHeight,i=e.clientWidth;if(this.imgContainer.id="drag-img",this.imgContainer.style.height=o+"px",this.imgContainer.style.maxWidth=i+10+"px",this.imgContainer.style.opacity=1,Object(S.i)(this.imgContainer),s.classList.remove.apply(s.classList,n.pillContent.split(" ")),s.classList.add.apply(s.classList,r.pillContent.split(" ")),a&&s.removeChild(a),this.imgContainer.appendChild(s),t>1){const e=document.createElement("div");e.style.position="absolute",d.a.render(c.a.createElement(I,{count:t,x:i-40,y:-14,iconKind:T.Kinds.CONTACT_CARD}),e),this.imgContainer.appendChild(e)}return this.imgContainer}),n()(this,"removeDragImage",()=>{if(this.imgContainer&&this.imgContainer.parentNode){const e=document.getElementById("icon-div");e&&e.parentNode&&(d.a.unmountComponentAtNode(e),e.parentNode.removeChild(e)),this.imgContainer.parentNode.removeChild(this.imgContainer)}this.imgContainer=null}),n()(this,"handleDragStart",e=>{const t=e.target,s=this,r=this.props.selectedPills,n={email:this.props.contactEmail,name:this.props.value,id:this.props.contactId};let a=r.length;const o=r.findIndex(({name:e,email:t})=>n.name===e&&n.email===t);this.imgContainer||(this.imgContainer=document.createElement("div"),document.body.appendChild(this.imgContainer)),e.dataTransfer.setData("text/pills",JSON.stringify({contact:n,dragFromField:this.props.inputField})),e.dataTransfer.effectAllowed="move",Object(S.j)()&&(a>0&&-1===o&&(a+=1),e.dataTransfer.setDragImage(this.renderDragImage(t,a),0,0)),setTimeout((function(){s.props.handleDragState(!0),s.setState({isSelfDrag:!0})}))}),n()(this,"handleDrop",(e,t)=>{this.shouldHandleDrop(e.target)&&(this.removeDragImage(),this.setState({dragSide:"",isDragHovered:!1}),this.props.handleDrop(e,t,this.props.contactId))}),n()(this,"handleOnKeyDown",e=>{e.stopPropagation()}),n()(this,"handleHover",e=>{this.setState({hovered:e})}),n()(this,"renderPillImage",e=>{const t=this.props,s=t.isFolderPill,r=t.contactEmail,n=t.contactId,a=t.pillFujiKind,o=t.pillFujiSize,i=t.pillFujiColorState,l=Object(m.isValidEmail)(r);return s?c.a.createElement("div",{"data-test-id":"pill-folder",className:e.pillDiv},c.a.createElement(u.b,{kind:a,colorState:i,size:o})):l?c.a.createElement("div",{"data-test-id":"pill-avatar",className:e.avatar},c.a.createElement(p.c,{contact:{id:n,email:r},size:p.b.S})):null}),n()(this,"renderDraggedPill",(e,t)=>e?c.a.createElement("div",{className:t.dragHoverContent,"data-test-id":"drag-hover-content"},c.a.createElement("div",{ref:"leftDragNode",className:t.dragHoverLeft,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:e=>this.handleDragOnPill(e,"left"),onDrop:e=>this.handleDrop(e,"left")}),c.a.createElement("div",{ref:"rightDragNode",className:t.dragHoverRight,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:e=>this.handleDragOnPill(e,"right"),onDrop:e=>this.handleDrop(e,"right")})):null),n()(this,"renderRemovePill",(e,t,s)=>(this.props.isSelected||e)&&this.props.onPillRemove?c.a.createElement("div",{className:"pill-close "+t.pillRemove},c.a.createElement(_.a,{kind:T.Kinds.CLOSE_MINI,size:T.Sizes.XXS,colorStates:s?{normal:T.ColorStates.DISABLED,hovered:T.ColorStates.SELECTED}:{normal:T.ColorStates.DISABLED,hovered:T.ColorStates.WARNING},onClick:this.props.onPillRemove,style:{padding:0},title:this.context.intl.formatMessage(R.remove_contact)})):null),n()(this,"handleChange",e=>{this.props.onPillUpdate(e.target.value)}),n()(this,"handleKeyDown",e=>{this.setState({inputWidth:8*e.target.value.length,inputValue:e.target.value}),e.stopPropagation()})}componentDidMount(){this.props.isEditing&&this.editInputPill&&this.editInputPill.focus()}componentDidUpdate(){this.props.isEditing&&this.editInputPill&&this.editInputPill.focus()}componentWillReceiveProps(e){if(this.props.title!==e.title){this.setState({inputValue:e.title,inputWidth:e.title&&e.title.length?8*(e.title.length+1):300})}}render(){const e=this.state,t=e.hovered,s=e.isDragHovered,r=e.dragSide,n=e.isSelfDrag,a=this.props,o=a.useEllipsis,i=a.isSelected,l=a.maxWidth,d=a.isDark,E=a.isFolderPill,_=a.isDragged,u=a.isEditing,p=Object(m.isValidEmail)(this.props.contactEmail),S=!p,h=C()(D.a,{isHovered:t,hasError:S,isSelected:i,useEllipsis:o,isDark:d,isFolderPill:E,dragSide:r,isDragged:n||_});let g;o&&l&&(g={maxWidth:l});const O=this.props.title;if(u){return c.a.createElement("div",{className:"pill-container "+h.pillContainer,onBlur:this.handleChange},c.a.createElement("input",{ref:e=>{this.editInputPill=e},"data-test-id":"edit-pill-input",className:h.editInput,type:"text",defaultValue:this.state.inputValue||this.props.title,onKeyDown:this.handleKeyDown,style:{width:(this.state.inputWidth||"300")+"px"}}))}return c.a.createElement("div",{className:"pill-container "+h.pillContainer},c.a.createElement("div",{"data-test-id":"pill",title:O,"aria-label":this.props.value,className:"pill-content "+h.pillContent,onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),onClick:this.props.onPillClick,onDoubleClick:this.props.onPillEdit,draggable:this.props.isCompose,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter},this.renderPillImage(h),c.a.createElement("div",{"data-test-id":"pill-text",className:h.pillText,style:g},this.props.value),this.renderRemovePill(t,h,p)),this.renderDraggedPill(s,h))}}n()(b,"contextTypes",{intl:E.intlShape.isRequired,config:o.a.object}),n()(b,"defaultProps",{onPillClick:()=>{},useEllipsis:!1,isDark:!1,isFolderPill:!1,isDragged:!1,selectedPills:[],isEditing:!1});t.default=b},,function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"c",(function(){return c})),s.d(t,"b",(function(){return l}));var r=s(68);const n={start:0,end:0},a="yahoo_quoted";function o(e){if(0===e.length)return!1;return 0!==e[0].divIds.length}function i(e,{divIds:t=[]}){const s=[];let a=n;return t.forEach(t=>{let o=n;try{o=function(e,{divId:t}){let s,r;const a=new RegExp("<div[^>]+id=[\"'][a-zA-Z0-9-_]*"+t+"[a-zA-Z0-9-_]*[\"'][^>]*>","gm").exec(e);if(!a)return n;const o=e.slice(a.index),i=/<div|<\/div>/gi;for(s=0;s>0||!r||"</div>"!==r[0];){const e=i.exec(o);if(!e){r=[""],r.index=o.length;break}r=e,"<div"===r[0]?s++:s--}return{imbalancedBy:s,start:a.index,end:a.index+r.index+r[0].length}}(e.slice(a.end),{divId:t})}catch(e){r.a.error("Mismatched HTML tags",{divId:t,error:e})}o!==n&&(o.start+=a.end,o.end+=a.end,s.push(o),a=o)}),s}function c(e="",t=[]){if(!o(t))return{nonQuote:e,quote:""};const s=i(e,{divIds:t[0].divIds});let r="",a="",c=n;for(let t=0;t<s.length;t++){const n=s[t],o=n.start,i=n.end,l=n.imbalancedBy;r+=e.slice(t>0?c.end:0,o),a+=e.slice(o,i),l>0&&(a+=new Array(l).fill("</div>").join("")),c=s[t]}return r+=e.slice(c.end),{quote:a,nonQuote:r}}function l(e="",t=[],s=!1){if(!o(t))return{messageAbove:e,messageBelow:"",expandable:!1};const r=i(e,{divIds:t[0].divIds});let a=n,c=!1;const l=[],d=[];for(let t=0;t<r.length;t++){const n=r[t],o=n.start,i=n.end,c=n.imbalancedBy;if((0===t?l:d).push(e.slice(a.end,o)),s){let t=e.slice(o,i);c>0&&(t+=new Array(c).fill("</div>").join("")),d.push(`<div class="qtd-body">${t}</div>`)}a=r[t]}return 0===r.length?l.push(e):(d.push(e.slice(a.end)),c=!0),{messageAbove:l.join(""),messageBelow:d.join(""),expandable:c}}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i);class l extends c.a.Component{componentDidMount(){this.context.store&&this.context.store.registerUnsyncedDataHandler&&(this.unsyncedDataHandler=this.context.store.registerUnsyncedDataHandler(this.props.getUnsyncedData))}componentWillUnmount(){this.unsyncedDataHandler&&this.unsyncedDataHandler.remove()}render(){return this.props.children||null}}n()(l,"contextTypes",{store:o.a.object}),t.a=l},,function(e,t,s){"use strict";s.d(t,"c",(function(){return r})),s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return a}));function r(e){const t=e?e.ownerDocument:document,s=t.defaultView||t.parentWindow,r=t.compatMode;let n=t.documentElement,a=s.innerHeight,o=s.innerWidth;return r&&("CSS1Compat"!==r&&(n=t.body),a=n.clientHeight,o=n.clientWidth),{height:a,width:o}}function n(e){const t=e.querySelectorAll("a");Array.prototype.forEach.call(t,e=>{e.removeAttribute("href"),e.classList.add("removed-link")})}function a(e={}){if(!window)throw new Error("Could not find browser window");return window.getSelection()&&window.getSelection().toString()&&e.current&&e.current.contains(window.getSelection().anchorNode)}},,,function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(136);s(9);const c="data:image/svg+xml;base64,",l={[i.a.EMPTY_FOLDER]:c+"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNjAgMTYwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxNjAgMTYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJpbGx1c3RyYXRpb25zIj4NCgk8cG9seWdvbiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgcG9pbnRzPSI5MS45MjIsMzkuMjY4IDEyMS4wMjUsMzkuMjY4IDEyMS41MjcsMjkgMTE0LDI5DQoJCTExNCwzNi43MDEgOTEuOTIyLDM2LjcwMSAJIi8+DQoJPGNpcmNsZSBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgY3g9IjkxLjkyMiIgY3k9IjE5Ljk0IiByPSIyLjQxNiIvPg0KCTxjaXJjbGUgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNFMEU0RTkiIGN4PSIxMjAuMzE4IiBjeT0iMTkuOTQiIHI9IjIuNDE2Ii8+DQoJPHBhdGggZmlsbD0iI0UwRTRFOSIgZD0iTTEyOS45NDUsMTAuNjE4Yy0xLjYyNi0xLjMwMi0zLjM2OS0yLjE5LTUuMTE2LTIuNzQyQzEyMy43NjMsNy41NCwxMjIuMDIzLDcsMTIwLjI3LDdTNTYuMjkzLDcsNTYuMjkzLDcNCgkJYy0xMS42NzUsMC0yMS4xMzYsOS40NjQtMjEuMTM2LDIxLjE0djM1LjA5NGwtOS4yNjUsMTEuNDYybC0wLjA3NywwLjEwNGMtMS4zMzUsMS45NzktMi4xNTksNC4xMDktMi41MjEsNi4yNThsLTAuMTA3LTAuMDQ0DQoJCWMtMC4xNTksMC4zODctMC4zODEsMS4wNDctMC41OTgsMS45MzFjLTAuOTE1LDMuNzIyLTAuODU5LDcuNzIyLDAuODQ3LDExLjUxOGMwLjk2LDIuMTM3LDIuNDEsNC4wOCw0LjM5Miw1Ljc3OA0KCQljOS4yMTYsNy44OTgsMjYuMjg4LDMuOTc2LDM1Ljk3OC04LjA1YzEuMzcxLTEuNzAxLDIuODMyLTMuNTUxLDQuMzcxLTUuNTMyYzAuNTUzLTAuNzExLDEuMTE0LTEuNDM4LDEuNjg0LTIuMTc5DQoJCWMzLjI4Ny00LjI3NCw2LjcxNi04Ljg1MiwxMC4wODUtMTMuNDNjMS4wNzItMS40NTYsMi4wNjItMi44MTIsMi45NjMtNC4wNWMwLjkyNy0wLjMzNCwxLjc1My0wLjg3NSwyLjQyMi0xLjU3Mmg1LjU3NQ0KCQlsLTAuMzY1LDczLjE3NmwtMC43NDMtMC44OTNsLTEuMjMyLTEuNDgybC0xLjEzNCwxLjU1OWwtNy42NTEsMTAuNTE3Yy0wLjQ4NywwLjY3LTAuMzM5LDEuNjA4LDAuMzMxLDIuMDk1DQoJCWMwLjY3LDAuNDg3LDEuNjA4LDAuMzM5LDIuMDk1LTAuMzMxbDYuNTE3LTguOTU5bDcuNTEyLDkuMDM1bDEuMjgxLDEuNTQxbDEuMTE3LTEuNjY0bDUuMzAzLTcuODk4bDQuMjIzLDYuMzg2bDEuMTkyLDEuODAzDQoJCWwxLjI3Mi0xLjc0OGw2LjQzOC04Ljg1bDYuNDM4LDguODVsMS4wMTMsMS4zOTJsMS4yNC0xLjE5NGw0LjUwMi00LjMzMmw0LjQzNCwzLjY1N2MwLjYzOSwwLjUyNywxLjU4NCwwLjQzNiwyLjExMi0wLjIwMw0KCQlzMC40MzYtMS41ODQtMC4yMDMtMi4xMTJsLTUuNDY1LTQuNTA4bC0xLjAzMS0wLjg1MWwtMC45NjMsMC45MjdsLTQuMjI1LDQuMDY1bC02LjYzOC05LjEyNWwtMS4yMTMtMS42NjdsLTEuMjEzLDEuNjY3DQoJCWwtMi4yNzMsMy4xMjVWNjUuNDI5aDIyLjE2N2gxLjV2LTEuNXYtMi42MzF2LTcuMjZjMC0xMC40ODMsMC0xMC40ODMsMC0yNC41OTlDMTM3LjI0MiwyMC40MTksMTM0LjUyNCwxNC4yODUsMTI5Ljk0NSwxMC42MTh6DQoJCSBNMzguMTU4LDI4LjE0YzAtMTAuMDE5LDguMTE4LTE4LjE0LDE4LjEzNi0xOC4xNGMxMC4wMiwwLDE4LjEzNiw4LjExNSwxOC4xMzYsMTguMTR2MzQuMTI1aC0zLjE3SDM4LjE1OFYyOC4xNHogTTI4LjI4MSw3Ni41MTQNCgkJbDguOTYtMTEuMDg0aDM1LjU5MUw1OC40MSw4NC45MjJjLTcuNzg0LDkuNDQ2LTE4Ljg5MywxMy4yODQtMjUuNjY2LDkuNDg4bC0wLjIxNS0wLjEyQzI2LjAxMyw5MC42MzcsMjQuMTI0LDgyLjcxNSwyOC4yODEsNzYuNTE0DQoJCXogTTc3LjUyOCw2OS4yNzRjLTMuMzU3LDQuNTYyLTYuNzc0LDkuMTIzLTEwLjA0NiwxMy4zNzljLTAuNTY3LDAuNzM3LTEuMTI1LDEuNDYtMS42NzUsMi4xNjcNCgkJYy0xLjUyOSwxLjk2OC0yLjk3OSwzLjgwNC00LjMzOCw1LjQ5Yy04LjcyNCwxMC44MjctMjMuOTE1LDE0LjMxNy0zMS42OSw3LjY1NGMtMS42NDUtMS40MS0yLjgyOC0yLjk5NS0zLjYwNy00LjczDQoJCWMtMC4xODMtMC40MDYtMC4zMzktMC44MTctMC40NzctMS4yMzFjMS4zMjIsMS45NDMsMy4xMTMsMy42NCw1LjM2OCw0LjkwNGwwLjIxNSwwLjEyYzguMjI5LDQuNjEyLDIwLjgzNCwwLjI1NywyOS40OTctMTAuMjU5DQoJCUw3Ni40MDgsNjUuNjRjMC43NDQsMC43MDYsMS42NTksMS4yMzEsMi42NzcsMS41MUM3OC41ODYsNjcuODMyLDc4LjA3NCw2OC41MzEsNzcuNTI4LDY5LjI3NHogTTgwLjc2Miw2NC4zODINCgkJYy0xLjg0MSwwLTMuMzMzLTEuNDkyLTMuMzMzLTMuMzMyczEuNDkyLTMuMzMyLDMuMzMzLTMuMzMyYzEuODQxLDAsMy4zMzMsMS40OTIsMy4zMzMsMy4zMzJTODIuNjAzLDY0LjM4Miw4MC43NjIsNjQuMzgyeg0KCQkgTTk3LjI1OSwxNDYuNjg4bC0zLjczOC00LjQ5NmwwLjM4Mi03Ni43NjNoOC41ODh2NzMuNDY3TDk3LjI1OSwxNDYuNjg4eiBNMTA5LjQ2OSwxNDUuMDU1bC0zLjk3Ny02LjAxNFY2NS40NTZoNS4wODR2NzguMDc4DQoJCUwxMDkuNDY5LDE0NS4wNTV6IE0xMzQuMjQyLDU0LjAzOHY3LjI2djEuMTMxSDg2Ljk0YzAuMDk5LTAuNDQ1LDAuMTU1LTAuOTA1LDAuMTU1LTEuMzhjMC0zLjQ5Ny0yLjgzNi02LjMzMi02LjMzMy02LjMzMg0KCQljLTEuMjI1LDAtMi4zNjQsMC4zNTMtMy4zMzMsMC45NTVWMjguMTRjMC03LjcyMS00LjE0Ni0xNC40NTEtMTAuMzItMTguMTQxYzE4LjAzMi0wLjAwMSw1Mi4zNTMtMC4wMDMsNTMuMDUyLTAuMDAzDQoJCWMwLjk1LDAsMy4yNzcsMC41ODgsMy43NjUsMC43NDJjMS40MSwwLjQ0NSwyLjgyMywxLjE2NSw0LjE0NCwyLjIyMmMzLjgzOSwzLjA3NSw2LjE3Miw4LjMzOSw2LjE3MiwxNi40NzkNCgkJQzEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNTQuMDM4eiIvPg0KPC9nPg0KPC9zdmc+DQo=",[i.a.SELECTED_MESSAGES]:c+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJNQUlMX3g1Rl9TRUxFQ1RFRCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IgoJIHk9IjBweCIgdmlld0JveD0iNjEgLTYxIDEzOCAxMzgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgNjEgLTYxIDEzOCAxMzg7ZmlsbDojRTBFNEU5IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggZD0iTTEyNC41LDQ5LjJMNjUsNC4xdjYyLjNjMCwzLjksMi44LDYuNiw3LDYuNmgxMTZjNC4xLDAsNy0yLjcsNy02LjZWNGwtNTkuNiw0NS4yQzEzMi4yLDUxLjcsMTI3LjcsNTEuNywxMjQuNSw0OS4yeiIvPgo8cGF0aCBkPSJNMTI3LDQ1LjZjMS42LDEuMiwzLjgsMS4yLDUuNCwwbDYwLjItNDQuMmMxLjItMC45LDEuMi0yLjcsMC0zLjZsLTU4LTUzLjNjLTIuNy0yLTYuNS0yLTkuMiwwbC01OCw1My4zCgljLTEuMiwwLjktMS4yLDIuNywwLDMuNkwxMjcsNDUuNnoiLz4KPC9zdmc+",[i.a.ATTACHMENT_PREVIEW_ERROR]:c+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4IDQ4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0OCA0ODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPiA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPiAuc3Qwe2ZpbGw6I0UwRTRFOTt9IDwvc3R5bGU+IDxnPiA8cmVjdCB4PSIxNiIgeT0iMjEiIGNsYXNzPSJzdDAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4gPHJlY3QgeD0iMTYuMDAwNDMiIHk9IjMxLjk5NTg1IiBjbGFzcz0ic3QwIiB3aWR0aD0iMTYiIGhlaWdodD0iMi4wMDgzIi8+IDxyZWN0IHg9IjMwIiB5PSIyMSIgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPiA8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzkuNTU1MDUsMTEuNzY0MzRjLTAuMDAwMzctMC4wMDAxOC03LjE4NjUyLTcuMDg5NTQtOC45MDY4LTguNzg2OCBDMzAuMjMxMDIsMi41NjU4NiwyOS43OTEzMiwyLjA2MzE3LDI4Ljk5OTY5LDJIOS44Nzg5MUM4Ljg0MTE5LDIsOCwyLjg0MTE5LDgsMy44Nzg5MVY0NGMwLDEuMDk5OTgsMC45MDAwMiwyLDIsMmgyOCBjMS4wOTk5OCwwLDItMC45MDAwMiwyLTJWMTIuOTM4MTdDNDAsMTIuMzk1OTQsMzkuNzkxODEsMTIuMDA2MDQsMzkuNTU1MDUsMTEuNzY0MzR6IE0zOCw0NEgxMFY0aDE4djguNSBjMCwwLjgyNTAxLDAuNjc0OTksMS41LDEuNSwxLjVIMzhWNDR6Ii8+IDwvZz4gPC9zdmc+",[i.a.PLAY_VIDEO]:c+"PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgeDE9IjIuMDY2JSIgeTE9Ijk2Ljc1MSUiIHgyPSI5NS42NTklIiB5Mj0iMi45NjklIiBpZD0iYSI+PHN0b3Agc3RvcC1jb2xvcj0iIzZEMDBGNiIgb2Zmc2V0PSIwJSIvPjxzdG9wIHN0b3AtY29sb3I9IiMwMDNBQkMiIG9mZnNldD0iMTAwJSIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEyLjY3NiA3Ny4zNzZjMy45ODMgMy42MDggOC42NjcgNi4yOCAxNC4wMjcgOC4wMTdDMzIuMDc4IDg3LjEyNSAzNy44OSA4OCA0NC4xNjMgODhjNi4xNjQgMCAxMS45MzQtLjg3NSAxNy4yOTYtMi42MDcgMi4xNTQtLjY5NCA0LjE4Ni0xLjU0NyA2LjExNi0yLjU0MyAyLjg4NC0xLjQ5IDUuNTMtMy4zMTIgNy45MTYtNS40NzQgMy45OS0zLjYwNyA3LjA5Ny04LjE4MyA5LjMzLTEzLjcwN0M4Ny4wNSA1OC4xMzYgODguMTY4IDUxLjU4IDg4LjE2OCA0NGMwLTcuNTg2LTEuMTE4LTE0LjE0LTMuMzQ2LTE5LjY3LTIuMjMzLTUuNTMtNS4zNC0xMC4xLTkuMzMtMTMuNzA1LTMuOTg1LTMuNjE3LTguNjYtNi4yODUtMTQuMDMzLTguMDJDNTYuMDk2Ljg3IDUwLjMyNiAwIDQ0LjE2MiAwYy02LjI3MyAwLTEyLjA4NS44NjgtMTcuNDYgMi42MDYtMS43NDMuNTYtMy40MTIgMS4yMzYtNS4wMSAyLjAwNS0zLjMyIDEuNTgzLTYuMzMgMy41NzgtOS4wMTcgNi4wMTVDOC42ODggMTQuMjMgNS41NzggMTguOCAzLjM0NiAyNC4zMyAxLjExNiAyOS44NiAwIDM2LjQxNCAwIDQ0YzAgNy41ODIgMS4xMTcgMTQuMTM3IDMuMzQ2IDE5LjY3IDIuMjMyIDUuNTIzIDUuMzQyIDEwLjEgOS4zMyAxMy43MDZ6IiBmaWxsLW9wYWNpdHk9Ii42NSIgZmlsbD0idXJsKCNhKSIvPjxwYXRoIGQ9Ik0zNi43MyA1OWgtLjA2NmMtLjkyIDAtMS42NjQtLjc0Mi0xLjY2NC0xLjY1NlYzMC42NTZjMC0uOTE1Ljc0LTEuNjU2IDEuNjY0LTEuNjU2LjAzIDAgLjA2IDAgLjA5LjAwMi4zOC0uMDczLjc4OC0uMDE0IDEuMTUyLjE5NmwyMi42MjIgMTMuMDZjLjc5OC40NiAxLjA3NSAxLjQ3NC42MTMgMi4yNzYtLjAyMy4wNC0uMDQ4LjA4LS4wNzUuMTE4LS4xMzcuMjctLjM1LjUwMy0uNjMuNjdsLTIyLjQ0IDEzLjQ4NGMtLjM5NS4yNC0uODUuMjk1LTEuMjY1LjE5M3oiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+"};class d extends o.a.Component{render(){return o.a.createElement("img",{src:l[this.props.kind],width:this.props.width,height:this.props.height,alt:this.props.altText,"data-test-id":"svg-image"})}}n()(d,"defaultProps",{width:48,height:48,altText:""}),t.a=d},,,,,,,function(e,t,s){"use strict";var r=s(33),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(91);const c=({haystack:e,needle:t,formatter:s,containerClassNames:r})=>{const a=Object(i.d)(e,t),c=n()(a,3),l=c[1],d=c[2];return l?o.a.createElement("span",{className:r+" notranslate"},c[0],s(l),d):o.a.createElement("span",{className:r},e)};c.defaultProps={formatter:e=>e,haystack:"",needle:""},t.a=c},,,function(e,t,s){"use strict";s(7);var r=s(1),n=s.n(r),a=s(17),o=s(4),i=s(55),c=s(0),l=s(11),d=s(12),E=s.n(d),_=s(766),u=s.n(_);const p=c.F.SimplifiedTypes,m=E()(u.a),S={[p.IMAGE]:o.Kinds.ATTACH_IMAGE_48,[p.VIDEO]:o.Kinds.ATTACH_MOVIE_48,[p.FILE]:o.Kinds.ATTACH_GENERIC_48,[p.AUDIO]:o.Kinds.ATTACH_SOUND_48,[p.COMPRESSED]:o.Kinds.ATTACH_ZIP_48,[p.PDF]:o.Kinds.ATTACH_PDF_48,[p.GDOCS]:o.Kinds.ATTACH_GDOCS_48,[p.GSHEETS]:o.Kinds.ATTACH_GSHEETS_48,[p.GSLIDES]:o.Kinds.ATTACH_GSLIDES_48,[p.XLS]:o.Kinds.ATTACH_XLS_48,[p.PPT]:o.Kinds.ATTACH_PPT_48,[p.DOC]:o.Kinds.ATTACH_DOC_48,[p.CAL]:o.Kinds.ATTACH_ICS_48,[p.FOLDER]:o.Kinds.FOLDER},h={[p.IMAGE]:o.ColorStates.ATTACH_MEDIA,[p.VIDEO]:o.ColorStates.ATTACH_MEDIA,[p.AUDIO]:o.ColorStates.ATTACH_MEDIA,[p.PDF]:o.ColorStates.ATTACH_PDF,[p.GDOCS]:o.ColorStates.ATTACH_DOC,[p.GSHEETS]:o.ColorStates.ATTACH_EXCEL,[p.GSLIDES]:o.ColorStates.ATTACH_SLIDE,[p.XLS]:o.ColorStates.ATTACH_EXCEL,[p.PPT]:o.ColorStates.ATTACH_SLIDE,[p.DOC]:o.ColorStates.ATTACH_DOC,[p.CAL]:o.ColorStates.ATTACH_CAL,[p.COMPRESSED]:o.ColorStates.ATTACH_COMPRESSED,[p.FOLDER]:o.ColorStates.FOLDER},C={[o.ColorStates.ATTACH_MEDIA]:`url(#${o.ColorStates.ATTACH_MEDIA}) ${l.fb.ycolorPurple14a}`,[o.ColorStates.ATTACH_CAL]:`url(#${o.ColorStates.ATTACH_MEDIA}) ${l.fb.ycolorPurple14a}`,[o.ColorStates.ATTACH_EXCEL]:`url(#${o.ColorStates.ATTACH_EXCEL}) ${l.fb.ycolorTurquoise8a}`,[o.ColorStates.ATTACH_DOC]:`url(#${o.ColorStates.ATTACH_DOC}) ${l.fb.ycolorBlue10b}`,[o.ColorStates.ATTACH_SLIDE]:`url(#${o.ColorStates.ATTACH_SLIDE}) ${l.fb.ycolorPink1a}`,[o.ColorStates.ATTACH_PDF]:`url(#${o.ColorStates.ATTACH_SLIDE}) ${l.fb.ycolorPink1a}`,[o.ColorStates.ATTACH_GENERIC]:`url(#${o.ColorStates.ATTACH_GENERIC}) ${l.fb.ycolorBlue10a}`,[o.ColorStates.ATTACH_COMPRESSED]:`url(#${o.ColorStates.ATTACH_GENERIC}) ${l.fb.ycolorBlue10a}`,[o.ColorStates.FOLDER]:`url(#${o.ColorStates.FOLDER}) ${l.fb.ycolorGrayFg}`};t.a=function({disabled:e,type:t,subtype:s,isInverted:r,fallbackText:c,filename:d="",isThumbnail:E=!1}){const _=Object(i.i)(d),u=Object(i.d)(t,s),p=_&&h[_]||h[u]||o.ColorStates.ATTACH_GENERIC,g=r?l.y:C[p];return n.a.createElement("svg",{style:{fill:e?l.Ib:g},viewBox:"0 0 20 20",className:E?m.thumbnailIcon:m.attachmentIcon},a.a[_&&S[_]||S[u]||o.Kinds.ATTACH_GENERIC_48],c&&n.a.createElement("desc",null,n.a.createElement("p",{className:m.fallback},c)))}},function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return i})),s.d(t,"c",(function(){return c}));var r=s(2),n=s(0);let a=0;const o=()=>{++a},i=()=>a,c=e=>e.type===r.OPEN_PAGE_REQUESTED&&(e.route.name===n.rd.MESSAGE_FROM_SEARCH_LIST||e.route.name===n.rd.MESSAGE_FROM_FOLDER_LIST||e.route.name===n.rd.NEW_DRAFT)},,function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(13),c=s(98),l=s(9),d=s(0),E=s(10);const _={},u={};class p extends a.Component{constructor(...e){super(...e),n()(this,"handleAdClick",()=>{this.props.fireViewabilityBeaconsOnClick&&(this.fireAndUpdateBeacon("impression","impressionBeaconTimer",!0),this.fireAndUpdateBeacon("impression3P","impression3PBeaconTimer",!0),this.fireAndUpdateBeacon("partial","",!0))})}componentDidMount(){_[this.props.sectionId]=_[this.props.sectionId]||[],this.handleNewAd()}componentWillUnmount(){this.viewabilityObserver&&(this.viewabilityObserver.unobserve(this.targetNode),this.viewabilityObserver.disconnect()),this.viewabilityObserver=null,clearTimeout(this.impressionBeaconTimer),this.impressionBeaconTimer=null,clearTimeout(this.impression3PBeaconTimer),this.impression3PBeaconTimer=null}componentDidUpdate(e){this.props.adTimestamp===e.adTimestamp&&this.props.rootMargin===e.rootMargin||this.handleNewAd()}createObserver(e){if(void 0!==window.IntersectionObserver){const t=this.props,s={root:t.rootNode,rootMargin:t.rootMargin,threshold:[.1,e/100,.95]};this.impressionBeaconThreshold=e,this.viewabilityObserver=this.viewabilityObserver?this.viewabilityObserver.disconnect():null,this.viewabilityObserver=new IntersectionObserver(e=>{e.forEach(e=>{this.handleVisibilityChange(100*e.intersectionRatio)})},s),this.viewabilityObserver.observe(this.targetNode)}}allImpressionBeaconsFired(){const e=this.props,t=e.sectionId,s=e.pencilAdData,r=s.actionUrls,n=void 0===r?{}:r,a=s.carouselAssets,o=void 0===a?[]:a;return _[t].indexOf(s.beacon)>-1&&(!Object(l.b)(n,"IMPR_INTERNAL.0",null)||!o.length||_[t].indexOf(n.IMPR_INTERNAL[0])>-1)}fireImpressionBeacon(e){const t=this.props.pencilAdData,s=t.beacon,r=t.rules.viewabilityDefStatic,n="number"==typeof Object(l.b)(r,"d",null)?1e3*r.d:null;if(s&&!this.allImpressionBeaconsFired()&&null!==n)if(e>=this.impressionBeaconThreshold&&!this.impressionBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"impression","impressionBeaconTimer");this.impressionBeaconTimer=setTimeout(e,n)}else e<this.impressionBeaconThreshold&&(clearTimeout(this.impressionBeaconTimer),this.impressionBeaconTimer=null)}fireImpression3PBeacon(e){const t=this.props,s=t.sectionId,r=t.pencilAdData.actionUrls,n=void 0===r?{}:r,a=Object(l.b)(n,"STATIC_VIEW_3P.0",null),o=_[s].indexOf(a)>-1;if(a&&!o&&null!==this.impression3PVisTimeRemaining)if(e>95&&!this.impression3PBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"impression3P","impression3PBeaconTimer");this.impression3PBeaconVisTime=Date.now(),this.impression3PVisTimeRemaining<=0?e():this.impression3PBeaconTimer=setTimeout(e,this.impression3PVisTimeRemaining)}else e<100&&this.impression3PBeaconTimer&&(this.impression3PVisTimeRemaining-=Date.now()-this.impression3PBeaconVisTime,clearTimeout(this.impression3PBeaconTimer),this.impression3PBeaconTimer=null)}firePartialBeacon(e){const t=this.props,s=t.sectionId,r=t.pencilAdData.actionUrls,n=void 0===r?{}:r,a=Object(l.b)(n,"PARTIAL_VIEW.0",null),o=_[s].indexOf(a)>-1;e>0&&!o&&a&&this.fireAndUpdateBeacon("partial")}handleVisibilityChange(e){const t=Object(l.b)(this.props.pencilAdData,"rules",{});Object.keys(t).length&&(this.fireImpressionBeacon(e),this.fireImpression3PBeacon(e),this.firePartialBeacon(e))}fireAndUpdateBeacon(e,t="",s=!1){const r=this.props,n=r.pencilAdData,a=r.isAppVisible,o=r.isCurrentAdPosition,i=r.sectionId;if(this[t]=null,a&&o||s){const t=n.actionUrls,s=n.beacon,r=n.impressionTrackingUrls,a=void 0===r?[]:r,o=n.carouselAssets,d=void 0===o?[]:o,E=[];"impression"===e?(-1===_[i].indexOf(s)&&(Object(c.a)(s,!1),E.push(s)),a.forEach(e=>{e&&-1===_[i].indexOf(e)&&(Object(c.a)(e,!1),E.push(e))}),Object(l.b)(t,"IMPR_INTERNAL.0",null)&&d.length&&-1===_[i].indexOf(t.IMPR_INTERNAL[0])&&(Object(c.a)(t.IMPR_INTERNAL[0],!1),E.push(t.IMPR_INTERNAL[0]))):"impression3P"===e&&Object(l.b)(t,"STATIC_VIEW_3P.0",null)?(Object(c.a)(t.STATIC_VIEW_3P[0],!1),E.push(t.STATIC_VIEW_3P[0])):"partial"===e&&Object(l.b)(t,"PARTIAL_VIEW.0",null)&&(Object(c.a)(t.PARTIAL_VIEW[0],!1),E.push(t.PARTIAL_VIEW[0])),_[i]=_[i].concat(E)}}handleNewAd(){const e=this.props,t=e.adTimestamp,s=e.sectionId;if(e.geminiViewability&&this.targetNode&&e.isCurrentAdPosition){const r=e.pencilAdData.rules;if(u[s]!==t&&(u[s]=t,_[s]=[]),r&&Object.keys(r).length){const e=r.viewabilityDefStatic,t=r.viewabilityDefStatic3P,s=void 0===t?[]:t;this.createObserver((void 0===e?{}:e).p),this.impression3PVisTimeRemaining="number"==typeof Object(l.b)(s,"0.d",null)?1e3*s[0].d:null}}}render(){return o.a.createElement("div",{ref:e=>this.targetNode=e,style:this.props.styles,className:this.props.className,onClick:this.handleAdClick},this.props.children)}}p.defaultProps={rootNode:null,rootMargin:"0px",styles:{}};t.a=Object(i.connect)((e,t)=>{const s=Object(E.selectors)(e),r=s.isFeatureEnabled,n=s.getEnvironmentSelectors,a=s.getAdSectionIds,o=(0,(0,s.getAdsSelectors)().getGeminiAdTimestamp)(t.sectionId),i=n().isAppVisible,c=a(),_=Object(l.h)(c).some(e=>e===t.sectionId);return{isAppVisible:i(),geminiViewability:r(d.Eb.GEMINI_VIEWABILITY),isCurrentAdPosition:_,adTimestamp:o,fireViewabilityBeaconsOnClick:r(d.Eb.FIRE_VIEWABILITY_BEACONS_ON_CLICK)}})(p)},function(e,t,s){"use strict";e.exports={className:{default:{leftRightPadding:"jb_0 X_6MGW N_6Fd5",phishingBanner:"W_CD M_b1s39",blockedImageBanner:"X_6MGW",bodyContainer:"P_wpofO mq_AS",sponsoredMessageContainer:"I_52qC",flexVertical:"D_F ek_BB",emptyBody:"A_6FsP P_CT2KF D_F ek_EZ gl_C ab_C",emptyBodyRetry:"r_P C_Z2aVTcY",emptyBodyMessage:"em_0 Q_fq7 E_fq7",button:"A_6DUj C_Z1VRpVF Q_36Jhx",textContainer:"J_EN",messageViewBody:"I_52qC D_FY W_6D6F"},printView:{bodyContainer:"P_0 iy_q",leftRightPadding:"jb_0 X_6MGW N_6MGW"}},_key:"1N04nF"}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(13),d=s(73),E=s(27),_=s.n(E),u=s(21),p=s(94),m=s(4),S=s(6),h=s(18),C=s(716),g=s.n(C),O=s(22),T=s(0),A=s(126),I=s(98),f=s(58),D=s(17),R=s(5),b=s(45);const N=T.gc.NOT_APPLICABLE,M=T.gc.NOT_SUBSCRIBED,y=T.gc.EXPIRED,L=Object(S.defineMessages)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},close_ad_thank_you:{id:"ad.close_thank_you",defaultMessage:"close"},upgrade_now_btn_label:{id:"ad.upgrade_now_btn_label",defaultMessage:"Upgrade now"},upsell_message_caption:{id:"ad.upsell_message_caption",defaultMessage:"Want an ad-free inbox? Upgrade to {YahooMailProBrand}."},upsell_message_trail_plan_caption:{id:"ad.upsell_message_trail_plan_caption",defaultMessage:"Want an ad-free inbox? Try {YahooMailProBrand} for free!"},upsell_message_trial_plan_caption_short:{id:"ad.upsell_message_trial_plan_caption_short",defaultMessage:"Try {YahooMailProBrand} for free!"},thank_you_message_caption:{id:"ad.thank_you_message_caption",defaultMessage:"We'll review your feedback and make changes as needed."},thank_you:{id:"ad.thank_you_message",defaultMessage:"Thank you for your feedback."},thanks:{id:"ad.feedback.thanks",defaultMessage:"Thanks!"},ad_is_hidden:{id:"ad.feedback.ad_is_hidden",defaultMessage:"This ad has been hidden."},additional_feedback:{id:"additional_feedback",defaultMessage:"You can give additional feedback to improve your future experience."},give_feedback:{id:"give_feedback_link",defaultMessage:"Give feedback"}});class P extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{renderPurchaseFreeTrialError:!1,purchaseFreeTrialStatus:""}),n()(this,"openPaymentPage",()=>{this.props.mailProEligible&&Object(p.a)(this.props.adFreeMailUrl)}),n()(this,"handleClick",()=>{this.props.purchaseMailproFreeTrial({i13nModel:{mKey:R.g.PURCHASE_FREE_TRIAL_FROM_AD_FEEDBACK,sec:R.i.MAILPRO_FREE_TRIAL,interactionType:R.e.click}})})}static getDerivedStateFromProps(e,t){return e.purchaseFreeTrialStatus!==t.purchaseFreeTrialStatus?t.purchaseFreeTrialStatus&&"FAILED"===e.purchaseFreeTrialStatus?{renderPurchaseFreeTrialError:!0,purchaseFreeTrialStatus:e.purchaseFreeTrialStatus}:{renderPurchaseFreeTrialError:!1,purchaseFreeTrialStatus:e.purchaseFreeTrialStatus}:null}componentDidMount(){const e=this.props,t=e.mailProUpsellImpressionURL;e.isAdFeedbackV2&&e.adFeedbackStatus===T.p.SUBMITTED&&Object(I.a)(t,!1)}navigateToMailPro(e,t){b.b.sendI13nModel({i13nModel:{mKey:t,sec:R.i.MAILPRO_FREE_TRIAL,interactionType:R.e.click}}),Object(p.a)(e)}renderRightRailDPAThankYou(e){const t=this.context.intl.formatMessage,s=this.props.mailProEligible;return c.a.createElement("div",{className:e.thankYouContainer,"data-test-id":"feedback_thank_you"},c.a.createElement("div",{className:e.rrTextContainer},c.a.createElement("div",{className:e.rrHeader},c.a.createElement("span",{className:e.rrThankYou},t(L.thank_you))),c.a.createElement("div",{className:e.rrCaption,title:t(L.thank_you_message_caption)},t(L.thank_you_message_caption)),c.a.createElement("div",{className:e.rrUpsell},s?t(L.upsell_message_caption,{YahooMailProBrand:t(L.yahoo_mail_pro_branding)}):""),s?c.a.createElement(h.a,{onClick:this.openPaymentPage,className:e.rrUpgradeNow,title:t(L.upgrade_now_btn_label),"data-test-id":"upgrade-now"},t(L.upgrade_now_btn_label)):c.a.createElement(h.a,{onClick:this.props.onAdFeedbackClose,className:e.rrUpgradeNow,title:t(L.close_ad_thank_you)},t(L.close_ad_thank_you))))}renderAdFeedbackV2({classNames:e,upsellString:t}){const s=this.props,r=s.adFeedbackStatus,n=s.isRightRailDPAad,a=s.isCompactLayout,o=s.mailProEligible,i=s.onStartAdFeedback,l=s.mailProUpsellClickURL,d=s.mailProFreeTrialEnabled,E=s.mailProFreeTrialSubscriptionStatus,p=s.purchaseFreeTrialInProgress,h=this.context.intl.formatMessage,C=this.state.renderPurchaseFreeTrialError,g=c.a.createElement(u.default,{kind:m.Kinds.CLOSE,size:m.Sizes.XXS,colorState:m.ColorStates.DISABLED,onClick:this.props.onAdFeedbackClose,title:h(L.close_ad_thank_you)});if(r===T.p.DELETED)return c.a.createElement("div",{className:e.thankYouContainer,"data-test-id":"feedback_thank_you"},c.a.createElement("div",{className:e.msgContent},c.a.createElement("div",{className:e.textContainer},c.a.createElement("span",{className:e.msgHeader},c.a.createElement(S.FormattedMessage,L.ad_is_hidden),""),!a&&!n&&c.a.createElement(S.FormattedMessage,L.additional_feedback)),c.a.createElement(A.c,{style:{lineHeight:"normal"},kind:A.a.TEXT,size:A.b.XS,onClick:i,"data-test-id":"give-feedback"},c.a.createElement(S.FormattedMessage,L.give_feedback))),g);if(r===T.p.LIKED)return c.a.createElement("div",{className:e.likedContainer,"data-test-id":"feedback_thank_you"},c.a.createElement("div",{className:e.thankYouContainer},c.a.createElement("div",{className:e.textContainer},c.a.createElement("span",{className:e.msgHeader},c.a.createElement(S.FormattedMessage,L.thank_you))),g));if(n)return this.renderRightRailDPAThankYou(e);return c.a.createElement("div",{className:e.thankYouContainer,"data-test-id":"feedback_thank_you"},c.a.createElement("div",{className:e.msgContent},c.a.createElement("div",{className:e.textContainer},c.a.createElement("span",{className:e.msgHeader},c.a.createElement(S.FormattedMessage,a||n?L.thanks:L.thank_you),""),o&&E!==y&&c.a.createElement(S.FormattedMessage,_()({},t,{values:{YahooMailProBrand:h(L.yahoo_mail_pro_branding)}}))),o&&!a&&this.renderCTA({classNames:e,mailProUpsellClickURL:l,mailProFreeTrialEnabled:d,mailProFreeTrialSubscriptionStatus:E,purchaseFreeTrialInProgress:p,renderPurchaseFreeTrialError:C})),c.a.createElement("span",{className:e.compactCTA},o&&a&&this.renderCTA({classNames:e,mailProUpsellClickURL:l,mailProFreeTrialEnabled:d,mailProFreeTrialSubscriptionStatus:E,purchaseFreeTrialInProgress:p,renderPurchaseFreeTrialError:C}),g))}renderCTA({classNames:e,mailProUpsellClickURL:t,mailProFreeTrialEnabled:s,mailProFreeTrialSubscriptionStatus:r,purchaseFreeTrialInProgress:n,renderPurchaseFreeTrialError:a}){if(s)switch(r){case M:return n?c.a.createElement("span",{className:e.loadingSpinner},c.a.createElement(f.b,{size:f.a.S})):a?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:e.exclamation},c.a.createElement(D.b,{kind:m.Kinds.EXCLAMATION_ALT,size:m.Sizes.XXS,colorState:m.ColorStates.WARNING_GRAD_RED})),c.a.createElement(S.FormattedMessage,{id:"error_text",defaultMessage:"Error!"}),c.a.createElement(A.c,{style:{lineHeight:"normal"},kind:A.a.TEXT,size:A.b.XS,onClick:this.handleClick},c.a.createElement(S.FormattedMessage,{id:"launch.error.try.again",defaultMessage:"Try again"}))):c.a.createElement(A.c,{style:{lineHeight:"normal"},kind:A.a.TEXT,size:A.b.XS,onClick:this.handleClick},c.a.createElement(S.FormattedMessage,{id:"mailpro_free_trial_cta_remove_ads",defaultMessage:"Remove ads"}));case N:case y:return c.a.createElement(A.c,{style:{lineHeight:"normal"},kind:A.a.TEXT,size:A.b.XS,onClick:()=>this.navigateToMailPro(t,R.g.GET_MAILPRO_CLICK_FROM_AD_FEEDBACK)},c.a.createElement(S.FormattedMessage,{id:"get_mail_pro",defaultMessage:"Get {mailProBrandingString}",values:{mailProBrandingString:c.a.createElement(S.FormattedMessage,{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"})}}))}return c.a.createElement(A.c,{style:{lineHeight:"normal"},kind:A.a.TEXT,size:A.b.XS,onClick:()=>this.navigateToMailPro(t,R.g.NAVIGATE_TO_MAIL_PRO_FROM_ADFEEDBACK)},c.a.createElement(S.FormattedMessage,L.upgrade_now_btn_label))}render(){const e=this.props,t=e.isCompactLayout,s=e.mailProEligible,r=e.isRightRailDPAad,n=e.isRRCompactSize,a=e.adFeedbackOnLightBackground,o=e.isAdFeedbackV2,i=this.context.intl.formatMessage,l=(this.context.getThemeMode()===O.i.DARK||r&&this.context.getThemeMode()===O.i.MEDIUM)&&!a,d=this.context.getCss(g.a,{isCompactLayout:t,isRRCompactSize:n,isAdFeedbackV2:o,isAdFeedbackV2Compact:o&&t,isRightRailDPAad:r,isDarkBackground:l}),E=t?L.upsell_message_trial_plan_caption_short:L.upsell_message_trail_plan_caption;return o?this.renderAdFeedbackV2({classNames:d,upsellString:E}):r?this.renderRightRailDPAThankYou(d):c.a.createElement("div",{className:d.thankYouContainer,"data-test-id":"feedback_thank_you"},c.a.createElement("div",{className:d.textContainer,onClick:this.openPaymentPage},c.a.createElement("div",{className:d.header},c.a.createElement("span",{className:d.thankYou},i(L.thank_you)),t?null:c.a.createElement("span",null,""),s?i(E,{YahooMailProBrand:i(L.yahoo_mail_pro_branding)}):null),s?null:c.a.createElement("div",{className:d.caption,title:i(L.thank_you_message_caption)},i(L.thank_you_message_caption))),s?c.a.createElement(h.a,{onClick:this.openPaymentPage,className:d.upgradeNow,title:i(L.upgrade_now_btn_label),"data-test-id":"upgrade-now"},i(L.upgrade_now_btn_label)):null,c.a.createElement("div",{className:d.close,"data-test-id":"close"},c.a.createElement(u.default,{kind:m.Kinds.CLOSE,size:m.Sizes.XXS,colorState:m.ColorStates.DISABLED,onClick:this.props.onAdFeedbackClose,title:i(L.close_ad_thank_you)})))}}n()(P,"contextTypes",{intl:S.intlShape.isRequired,getCss:o.a.func.isRequired,getThemeMode:o.a.func});var v=P,F=s(464),U=s.n(F);const w=Object(S.defineMessages)({ad_offensive:{id:"ad.offensive",defaultMessage:"It's offensive"},ad_notRelevant:{id:"ad.notRelevant",defaultMessage:"It's not relevant"},ad_keepSeeing:{id:"ad.keepSeeing",defaultMessage:"I keep seeing this"},ad_somethingElse:{id:"ad.somethingElse",defaultMessage:"Something else:"},close_ad_feedback:{id:"ad.close_feedback",defaultMessage:"close"},ad_done:{id:"ad.feedback_done",defaultMessage:"Done"},ad_form_question:{id:"ad.form_question",defaultMessage:"Before you close this ad, would you tell us why you didn't like it?"}});class G extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{active:""}),n()(this,"getChoice",()=>this.state.active),n()(this,"onChange",e=>{this.setState({active:e})}),n()(this,"onAdFeedbackSubmit",e=>{e.preventDefault();const t=this.props.isAdFeedbackV2;if(t)return this.props.submitAdFeedback({reason:this.getChoice(),comment:this.state.active===T.c?this.refs.input.value:"",sectionId:this.props.sectionId,isAdFeedbackV2:t});this.props.submitAdFeedback({reason:this.getChoice(),comment:this.state.active===T.Fb.SOMETHING_ELSE?this.refs.input.value:"",sectionId:this.props.sectionId})}),n()(this,"renderRadio",e=>{const t=e===T.Fb.SOMETHING_ELSE,s=this.props,r=s.isCompactLayout,n=s.isRightRailDPAad,a=s.adFeedbackOnLightBackground,o=this.state.active===T.Fb.SOMETHING_ELSE,i=(this.context.getThemeMode()===O.i.DARK||n&&this.context.getThemeMode()===O.i.MEDIUM)&&!a,l=this.context.getCss(U.a,{freeTextFocused:o,isCompactLayout:r,isDarkBackground:i});return c.a.createElement("div",{className:n?l.rrOptionContainer:l.optionContainer},c.a.createElement("input",{className:l.radio,type:"radio",name:"adFeedbackRadio",onChange:this.onChange.bind(this,e),checked:t?o:null}),c.a.createElement("span",{className:n?l.rrText:l.text},c.a.createElement(S.FormattedMessage,w["ad_"+e])),t&&!n?c.a.createElement("input",{className:l.freeText,onFocus:this.onChange.bind(this,T.Fb.SOMETHING_ELSE),ref:"input",onKeyDown:e=>e.stopPropagation()}):null)})}renderAdFeedbackV2(e){const t=this.context.intl.formatMessage,s=(this.props.adFeedbackConfig.neg_options||[]).map(({id:t,value:s})=>c.a.createElement("div",{key:t,className:e.option},c.a.createElement("input",{className:e.radio,type:"radio",name:"adFeedbackRadio",checked:this.state.active===t,onChange:()=>this.onChange(t)}),c.a.createElement("span",{className:e.text},s),T.c===t&&c.a.createElement("input",{className:e.freeText,onFocus:()=>this.onChange(t),ref:"input",onKeyDown:e=>e.stopPropagation()})));return c.a.createElement("form",{className:e.container,"data-test-id":"feedback-list-item"},c.a.createElement("div",{className:e.header},c.a.createElement("span",{className:e.title,title:t(w.ad_form_question)},t(w.ad_form_question)),c.a.createElement("span",{className:e.close,"data-test-id":"feedback-close"},c.a.createElement(u.default,{kind:m.Kinds.CLOSE,size:m.Sizes.XXS,colorState:m.ColorStates.DISABLED,onClick:this.props.onAdFeedbackClose,title:t(w.close_ad_feedback)}))),c.a.createElement("div",{className:e.optionsContainer},c.a.createElement("div",{className:e.optionsWrapper},s),c.a.createElement("div",{className:e.buttonGroup},c.a.createElement(h.a,{"data-test-id":"feedback-done",onClick:this.onAdFeedbackSubmit,title:t(w.ad_done),marginLess:!0},c.a.createElement(S.FormattedMessage,w.ad_done)))))}render(){const e=this.props,t=e.isCompactLayout,s=e.isRightRailDPAad,r=e.isRRCompactSize,n=e.adFeedbackOnLightBackground,a=e.isAdFeedbackV2,o=e.adFeedbackConfig,i=this.context.intl.formatMessage,l=(this.context.getThemeMode()===O.i.DARK||s&&this.context.getThemeMode()===O.i.MEDIUM)&&!n,d=this.context.getCss(U.a,{isAdFeedbackV2:a,isCompactLayout:t,isRRCompactSize:r,isDarkBackground:l});return s?c.a.createElement("form",{className:d.rrContainer,"data-test-id":"feedback-list-item"},c.a.createElement("div",{className:d.rrTextContainer},c.a.createElement("div",{className:d.rrHeader},i(w.ad_form_question)),c.a.createElement("div",{className:d.rrColumns},c.a.createElement("div",{className:d.rrColumn},this.renderRadio(T.Fb.OFFENSIVE),this.renderRadio(T.Fb.NOT_RELEVANT)),c.a.createElement("div",{className:d.rrColumn},this.renderRadio(T.Fb.KEEP_SEEING),this.renderRadio(T.Fb.SOMETHING_ELSE))),c.a.createElement("textarea",{className:d.rrFreeText,onFocus:this.onChange.bind(this,T.Fb.SOMETHING_ELSE),ref:"input",onKeyDown:e=>e.stopPropagation()})),c.a.createElement("div",{className:d.rrButtonGroup},c.a.createElement(h.a,{"data-test-id":"feedback-done",onClick:this.onAdFeedbackSubmit,title:i(w.ad_done),overridingClass:d.rrDoneButton},c.a.createElement(S.FormattedMessage,w.ad_done)),c.a.createElement(h.a,{"data-test-id":"feedback-close",onClick:this.props.onAdFeedbackClose,title:i(w.close_ad_feedback),marginLess:!0,overridingClass:d.rrCloseButton},c.a.createElement(S.FormattedMessage,w.close_ad_feedback)))):a&&o?this.renderAdFeedbackV2(d):c.a.createElement("form",{className:d.container,"data-test-id":"feedback-list-item"},c.a.createElement("div",{className:d.header},c.a.createElement("span",{className:d.title,title:i(w.ad_form_question)},i(w.ad_form_question)),c.a.createElement("span",{className:d.close,"data-test-id":"feedback-close"},c.a.createElement(u.default,{kind:m.Kinds.CLOSE,size:m.Sizes.XXS,colorState:m.ColorStates.DISABLED,onClick:this.props.onAdFeedbackClose,title:i(w.close_ad_feedback)}))),c.a.createElement("div",{className:d.columns},c.a.createElement("div",{className:d.column},this.renderRadio(T.Fb.OFFENSIVE),this.renderRadio(T.Fb.NOT_RELEVANT)),c.a.createElement("div",{className:d.column},this.renderRadio(T.Fb.KEEP_SEEING),this.renderRadio(T.Fb.SOMETHING_ELSE)),c.a.createElement("div",{className:d.buttonGroup},c.a.createElement(h.a,{"data-test-id":"feedback-done",onClick:this.onAdFeedbackSubmit,title:i(w.ad_done),marginLess:!0},c.a.createElement(S.FormattedMessage,w.ad_done)))))}}n()(G,"contextTypes",{intl:S.intlShape.isRequired,getCss:o.a.func.isRequired,getThemeMode:o.a.func}),n()(G,"defaultProps",{adFeedbackOnLightBackground:!1});var H=G,j=s(10),k=s(321);function x(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function B(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?x(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):x(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class V extends c.a.Component{constructor(...e){super(...e),n()(this,"onAdFeedbackClose",(e,t)=>{const s=this.props,r=s.sectionId,n=s.closeAdFeedback;e.preventDefault(),n({i13nModel:{mKey:R.g.AD_FEEDBACK_CLOSE,sec:R.i.AD_FEEDBACK,actionData:{sectionId:r,feedbackSubmitted:t}},sectionId:r})}),n()(this,"onAdFeedbackRequest",()=>{const e=this.props,t=e.sectionId;(0,e.startAdFeedback)({i13nModel:{mKey:R.g.AD_FEEDBACK_OPENED,sec:R.i.AD_FEEDBACK,interactionType:R.e.click,actionData:{sectionId:t}},sectionId:t,isAdFeedbackV2:e.isAdFeedbackV2})}),n()(this,"onAdFeedbackSubmit",e=>{const t=this.props,s=t.sectionId;(0,t.submitAdFeedback)(B({i13nModel:{mKey:R.g.AD_FEEDBACK_SUBMIT,sec:R.i.AD_FEEDBACK,actionData:B({sectionId:s},e)},sectionId:s},e))})}render(){const e=this.props,t=e.isAdFeedbackV2,s=e.adFeedbackConfig;return e.showThankYou?c.a.createElement(v,{onAdFeedbackClose:e=>this.onAdFeedbackClose(e,!0),isCompactLayout:this.props.isCompactLayout,mailProEligible:this.props.mailProEligible,isRightRailDPAad:this.props.isRightRailDPAad,isRRCompactSize:this.props.isRRCompactSize,adFeedbackOnLightBackground:this.props.adFeedbackOnLightBackground,isAdFeedbackV2:t,adFeedbackStatus:e.feedbackStatus,onStartAdFeedback:this.onAdFeedbackRequest,mailProUpsellImpressionURL:e.mailProUpsellImpressionURL,mailProUpsellClickURL:e.mailProUpsellClickURL,mailProFreeTrialEnabled:e.mailProFreeTrialEnabled,mailProFreeTrialSubscriptionStatus:e.mailProFreeTrialSubscriptionStatus,purchaseFreeTrialInProgress:e.purchaseFreeTrialInProgress,purchaseFreeTrialStatus:e.purchaseFreeTrialStatus,purchaseMailproFreeTrial:e.purchaseMailproFreeTrial,adFreeMailUrl:e.adFreeMailUrl}):c.a.createElement(H,{onAdFeedbackClose:e=>this.onAdFeedbackClose(e,!1),submitAdFeedback:this.onAdFeedbackSubmit,isCompactLayout:this.props.isCompactLayout,sectionId:this.props.sectionId,isRightRailDPAad:this.props.isRightRailDPAad,isRRCompactSize:this.props.isRRCompactSize,adFeedbackOnLightBackground:this.props.adFeedbackOnLightBackground,isAdFeedbackV2:t,adFeedbackConfig:s})}}n()(V,"contextTypes",{executeAction:o.a.func,store:o.a.object}),n()(V,"defaultProps",{adFeedbackOnLightBackground:!1});t.a=Object(l.connect)((e,t)=>{const s=Object(j.selectors)(e),r=s.getFeaturesSelectors,n=s.getSetting,a=s.getMailproFreeTrialSelectors,o=t.sectionId,i=(0,s.getAdsSelectors)(),c=i.getAdFeedbackBeacon,l=i.getAdFeedbackStatus,d=i.getAdFeedbackConfig,E=r().isEnabled,_=c(t.sectionId),u=l(),p=[T.p.SUBMITTED,T.p.DELETED,T.p.LIKED].includes(u[o]),m=n(T.Kd.PREVIEW_PANE)===T.ed.RIGHT,S=n(T.Kd.MAILPRO_UPSELL_INSTRUMENTATION_URL),h=S.pencilAdFeedbackImpressionURL,C=S.pencilAdFeedbackClickURL,g=a(),O=g.getSubscriptionStatus,A=g.isPurchaseFreeTrialInProgress,I=g.getPurchaseFreeTrialStatus,f=E(T.Eb.MAILPRO_FREE_TRIAL),D=O(),R=A(),b=I();return{showThankYou:p,isCompactLayout:m,adFeedbackBeacon:_,mailProEligible:E(T.Eb.MAIL_PRO_ELIGIBLE),isAdFeedbackV2:E(T.Eb.AD_FEEDBACK_V2),feedbackStatus:u[o],adFeedbackConfig:d(o),mailProUpsellImpressionURL:h,mailProUpsellClickURL:C,mailProFreeTrialEnabled:f,mailProFreeTrialSubscriptionStatus:D,purchaseFreeTrialInProgress:R,purchaseFreeTrialStatus:b,adFreeMailUrl:n(T.Kd.AD_FREE_MAIL_URL)}},e=>({closeAdFeedback:t=>e(Object(d.c)(t)),submitAdFeedback:t=>e(Object(d.z)(t)),startAdFeedback:t=>e(Object(d.y)(t)),purchaseMailproFreeTrial:t=>e(Object(k.a)(t))}))(V)},,,function(e,t,s){"use strict";s.d(t,"b",(function(){return F})),s.d(t,"a",(function(){return w}));var r=s(3),n=s.n(r),a=s(0),o=s(8),i=s(41),c=s(9),l=s(20),d=s(10),E=s(2),_=s(47),u=s(16),p=s(76),m=s(14);function S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?S(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const C="cmps",g="cmpsThrd",O="msgRd",T="msgLst",A="contacts",I="sttgs",f="sttgs_per",D="trvLst",R="tutrl",b="subhub",N="rewards",M={[a.Nd.PERSONALIZE_INBOX]:f,[a.Nd.ACCOUNTS]:"sttgs_accnt",[a.Nd.NOTIFICATIONS]:"sttgs_not",[a.Nd.WRITING_EMAIL]:"sttgs_write",[a.Nd.VIEWING_EMAIL]:"sttgs_view",[a.Nd.AUTOMATIC_REPLY]:"sttgs_rply",[a.Nd.FILTERS]:"sttgs_fltr",[a.Nd.SECURITY_AND_PRIVACY]:"sttgs_sec",[a.Nd.ENCRYPTION]:"sttgs_crypt",[a.Nd.CONTACTS]:"sttgs_cntct",[a.Nd.MAIL_PRO]:"sttgs_mpro"},y=(e,t)=>{let s;const r=e.getSelectedAccountId,n=e.getFeaturesSelectors,o=(0,e.getAccountSelectors)(),i=o.getAccountById,d=o.getImapInAccounts,E=o.getPrimaryAccount,p=o.userHasRegisteredAccount,m=n(),S=m.getSetting,h=m.isEnabled,C=h(a.Kd.MAIL_TABS),g=S(a.Kd.PREVIEW_PANE),O=S(a.Kd.THEME),T=S(a.Kd.LOGIN_NAME),A=S(a.Kd.THEME_MODE),I=E()||{},f=r(),D=p()?i(f)||{}:I,R=d().length,b=Object(_.d)(D),N=Object(u.destructEmailAddressParts)(D.email||T||"").domainPart,M=D.type===a.n.FREE?"PRIMARY":D.type,y=h(a.Eb.SHOULD_SW_SUBSCRIBE),L=Object(l.c)()?Object(c.b)(window,"AppBootstrapData.guid"):null,P=Object(l.c)()?Object(c.b)(window,"AppBootstrapData.shardId"):null;switch(I.type){case a.n.PHONE:s="phReg";break;case a.n.EXTERNAL:s="usReg";break;default:s=""}return{_GUID:L,tabs:C,prvwpan:g,vwCntxt:t,acctDomain:N,acctType:M,accountId:f,impn:R,theme:`${O}-${A}`,prvdr:b,regType:s,authType:D.authType,pshNtfctnsSbscrbd:y,shardId:P}},L=(e,t)=>{const s=Object(o.z)(e),r=Object(o.w)(s),n=Object(o.x)(s),i=Object(o.Y)(s),c=Object(o.U)(s),l=Object(p.f)(s),d=Object(o.F)(s);if(e.name===a.rd.MESSAGE_FROM_SEARCH_LIST||e.name===a.rd.MESSAGE_FROM_LIST)return t.messageViewTabPane;if(i){if(d===a.cc.SUBSCRIPTIONS)return t.subscriptions;switch(r){case a.ac.IMAGES:return t.photosSmartviewSearch;case a.ac.DOCUMENTS:return t.documentsSmartviewSearch;case a.ac.COUPON_CARDS:return t.couponsSmartview;case a.ac.OFFER_CARDS:return t.groceriesSmartview;case a.ac.TRAVEL_CARDS:return n===a.bc.TRAVEL_VIEW_UPCOMING?t.travelUpcoming:t.travelPast;default:return l?t.travelEmails:t.messageSmartviewSearch}}return c?t.searchPeople:t.searchKeyword},P=e=>{const t=Object(o.z)(e);return Object(o.F)(t)===a.cc.SUBSCRIPTIONS?i.b.SUBSCRIPTION_DETAIL:Object(o.U)(t)?i.b.SEARCH_PEOPLE:Object(o.Y)(t)?i.b.SEARCH_SMARTVIEW:i.b.SEARCH_KEYWORD},v=e=>{const t=Object(o.z)(e);return Object(o.w)(t)===a.ac.TRAVEL_CARDS?D:T},F=(e,t=!1)=>{const s=Object(d.selectors)(e),r=s.getRoute,n=s.getSetting,l=s.getFoldersSelectors,_=(0,s.getAction)(),u=r(),p=Object(o.z)(u),m=n(a.Kd.SPACE_IDS),S=l(),h=S.getPrimaryFolderTypeByFolderId,D=S.doesFolderIdExist,y=Object(o.q)(p),F=D(y)?h(y):a.Mb.INBOX;let U;switch(u.name){case a.rd.SEARCH:U={spaceId:L(u,m),activeViewType:T,activeFolderType:P(u)};break;case a.rd.MESSAGE_FROM_SEARCH_LIST:case a.rd.MESSAGE_FROM_LIST:U={spaceId:L(u,m),activeViewType:O,activeFolderType:P(u)};break;case a.rd.LIST:U={spaceId:L(u,m),activeViewType:v(u),activeFolderType:P(u)};break;case a.rd.BASE:case a.rd.EDIT_FOLDER:case a.rd.FOLDER:{const e={[a.Mb.INBOX]:m.folderViewInbox,[a.Mb.DRAFT]:m.folderViewDrafts,[a.Mb.SENT]:m.folderViewSent,[a.Mb.ARCHIVE]:m.folderViewArchive,[a.Mb.TRASH]:m.folderViewTrash,[a.Mb.BULK]:m.folderViewSpam,[a.Mb.USER]:m.folderViewCustom};U={spaceId:t?m.launchFolder:e[F]||m.folderViewCustom,activeViewType:T,activeFolderType:i.b[F]||i.b.USER};break}case a.rd.NEW_DRAFT:case a.rd.EDIT_DRAFT:U={spaceId:t?m.launchCompose:m.composeNew,activeViewType:C,activeFolderType:i.b[F]||i.b.USER};break;case a.rd.MESSAGE_FROM_FOLDER_LIST:{const e=u.params&&u.params.attachmentId?m.attachment:m.messageViewTabPane;U={spaceId:t?m.launchMessage:e,activeViewType:O,activeFolderType:i.b[F]||i.b.USER};break}case a.rd.TUTORIAL:U={spaceId:m.tutorial,activeViewType:R,activeFolderType:i.b.INBOX};break;case a.rd.SETTINGS:U={spaceId:m.settings,activeViewType:M[Object(c.b)(u,"params.settingsGroupId")]||f,activeFolderType:i.b.INBOX};break;case a.rd.SIGNATURES_FROM_SETTINGS:case a.rd.THEME_CHOOSER:case a.rd.ACCOUNT_LIST_FROM_SETTINGS:case a.rd.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:case a.rd.ADD_ACCOUNT_PROVIDER:case a.rd.BLOCKED_SENDERS:case a.rd.MESSAGE_PREVIEW:U={spaceId:m.settings,activeViewType:I,activeFolderType:""};break;case a.rd.CONTACTS:case a.rd.CONTACT_DETAILS:case a.rd.CONTACT_DETAILS_FROM_SEARCH:case a.rd.EDIT_CONTACT:case a.rd.EDIT_CONTACT_FROM_SEARCH:case a.rd.CREATE_CONTACT:U={spaceId:m.contacts,activeFolderType:"",activeViewType:A};break;case a.rd.SUBSCRIPTION_LIST:U={spaceId:m.subscriptions,activeFolderType:"",activeViewType:b};break;case a.rd.SPONSORED_MESSAGE:case a.rd.PORTRAIT_AD:U={spaceId:m.root,activeFolderType:"",activeViewType:""};break;case a.rd.REWARDS:U={spaceId:m.rewards,activeFolderType:"",activeViewType:N}}switch(n(a.Kd.PREVIEW_PANE)===a.ed.NO||u.name!==a.rd.FOLDER&&u.name!==a.rd.SEARCH&&u.name!==a.rd.LIST||Object(o.w)(p)!==a.ac.MESSAGES||Object(o.Y)(p)||(U.activeViewType=T,U.spaceId=m.messageViewReadingPane),_.type){case E.PREVIEW_MESSAGE_CLOSED:U.activeViewType=T;break;case E.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:U.activeViewType=g}return U&&!U.spaceId&&(U.spaceId=m.root),U},U=({activeViewType:e,activeFolderType:t},s)=>s?e:`${e}_${t||i.b.INBOX}`,w=()=>{let e={},t={},s=0;return(r,{browserLoggerParams:n})=>{const i=Object(d.selectors)(r),c=i.getRoute,l=i.getAction,_=i.doesStreamExist,u=i.getCursorItem,p=i.getSetting,S=i.getSelectedMailboxId,C=i.getMainStreamListIds,g=i.listExistsAndIsEmpty,O=i.autoDisplayFirstMessageInRoute,T=i.isMobileRoute,A=c(),I=l(),f=!C(c()).some(e=>{const t=Object(o.w)(e);return t!==a.ac.MESSAGES&&t!==a.ac.TRAVEL_CARDS||!g(e)}),D=Object(m.F)(A,t),R=-1!==[E.INITIAL_STATE,E.ITEM_LIST_PAGE_SCROLLED,E.PREVIEW_MESSAGE_CLOSED,E.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED].indexOf(I.type),b=T()&&O(A)&&-1!==[E.DELETE_ITEMS_REQUESTED,E.MOVE_ITEMS_REQUESTED,E.UNDO_MOVE_REQUESTED].indexOf(I.type);let N,M;if(D&&f||(s=0),I.streamId&&_(I.streamId)&&p(a.Kd.PREVIEW_PANE)!==a.ed.NO&&(A.name===a.rd.FOLDER||A.name===a.rd.SEARCH||A.name===a.rd.LIST)){const t=u(I.streamId);!t||t.id===e.id&&t.listId===e.listId||Object(o.w)(t.listId)!==a.ac.MESSAGES?t||(e={}):(e=t,N=F(r))}else if(S()&&!D){const e=!t.name;t=A,s=f?I.actionTimestamp:s,N=F(r,e)}else R||b?N=F(r):D&&f&&!s?(N=F(r),s=I.actionTimestamp):I.type===E.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED&&I.name===a.Eb.LANDSHARK_CUE?N={spaceId:a.Vb}:I.type===E.FEATURE_CLOSED&&I.name===a.Eb.LANDSHARK_CUE&&"download_button"!==I.i13nModel.mKey&&(N=F(r));if(A.name===a.rd.SEARCH){const e=Object(o.z)(A);M=Object(o.U)(e)?Object(o.n)(e):Object(o.v)(e)}return N?h({},N,{pageParams:Object.assign({},h({},void 0!==M?{query:M}:{}),y(i,U(N,A.name===a.rd.SETTINGS)),n)}):{}}}},function(e,t,s){"use strict";s.d(t,"e",(function(){return c})),s.d(t,"f",(function(){return l})),s.d(t,"d",(function(){return d})),s.d(t,"b",(function(){return E})),s.d(t,"c",(function(){return _})),s.d(t,"a",(function(){return u}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>i({},e,{type:a.UNSUBSCRIBE_BY_EMAIL_REQUESTED}),l=e=>i({},e,{type:a.UNSUBSCRIBE_BY_EMAIL_SUCCEEDED}),d=e=>i({},e,{type:a.UNSUBSCRIBE_BY_EMAIL_FAILED}),E=e=>i({},e,{type:a.UNSUBSCRIBE_BY_BRAND_REQUESTED}),_=e=>i({},e,{type:a.UNSUBSCRIBE_BY_BRAND_SUCCEEDED}),u=e=>i({},e,{type:a.UNSUBSCRIBE_BY_BRAND_FAILED})},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(271);function n(){return function(){return"devbox"===r.a}()||function(){return"openhouse"===r.a}()}},function(e,t,s){"use strict";e.exports={className:{default:{icon:"C_52qC en_0 P_3gJOe ac_FT ab_C D_F gl_C ba_6Eor",container:"k_w p_R a_3PmnJ D_F b_tw30f e_eo6",innerContainer:"D_F ab_CH ac_CH gl_C q_52qC j_1zwO34 o_h cZW7ROP_A e_dRA",content:"em_N D_F P_Z2baRGn A_6EWk i_6Mbr C_Z281SGl o_h r_BN",close:"P_C04i4 ac_CI",link:"C_Z2aVTcY",actionLink:"C_Z2aVTcY A_6EWk"},"type-NORMAL":{icon:"I_1mrWUc aw_buWz3",container:"b4_Zn2bY2"},"type-PENDING":{icon:"I_1mrWUc aw_buWz3",container:"b4_Zn2bY2"},"type-ADVISORY":{icon:"I_Z1Bab0a aw_Z1vTr7U",container:"b4_Z1Kch8e"},"type-WARNING":{icon:"I_Z9gXar aw_TD3i8",container:"b4_Zij4iv"},"type-FOWARDING_WARNING":{icon:"I_Z9gXar aw_TD3i8",content:"i_6FIA A_6EqO P_Z23bkIA",container:"b_0 E_6Fd5"}},_key:"gQ6G9"}},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(3),o=s.n(a),i=s(7),c=s.n(i),l=s(1),d=s.n(l),E=s(6),_=s(727),u=s.n(_),p=s(12),m=s.n(p),S=s(21),h=s(86),C=s(4),g=s(11),O=s(22),T=s(9),A=s(16),I=s(168),f=s(64),D=s(61),R=s(42),b=s(15),N=s(10),M=s(13),y=s(41);const L=27,P=13,v=9,F=Object(T.d)(["InvalidFolderName","DuplicateFolderName"]),U=Object(E.defineMessages)({folder_dismiss_input:{id:"folder_dismiss_input",defaultMessage:"Dismiss input"},folder_submit_input:{id:"folder_submit_input",defaultMessage:"Submit input"},folder_invalid_chars:{id:"folder_invalid_chars",defaultMessage:"Folder names may not contain {invalid_chars}"},duplicate_foldername:{id:"duplicate_foldername",defaultMessage:"A folder named {folder_name} already exists. Please choose a different name."}});class w extends d.a.Component{constructor(...e){super(...e),o()(this,"state",{folderName:this.props.initialFolderName||"",folderError:null}),o()(this,"handleKeyDown",e=>{e.keyCode===L&&this.props.onDismiss(),e.keyCode!==P&&e.keyCode!==v||this.performFolderOperation(e)}),o()(this,"handleChange",e=>{const t=e.target.value;let s=null;t&&!Object(A.isValidFolderName)(t)&&(s=F.InvalidFolderName),this.setState({folderName:t,folderError:s})}),o()(this,"handleBlur",e=>{if(e.relatedTarget&&e.relatedTarget.parentNode!==this.containerNode)return""===this.state.folderName.trim()?this.props.onDismiss():void this.performFolderOperation(e)}),o()(this,"performFolderOperation",e=>{const t=this.props,s=t.initialFolderName,r=t.isFolderNameExistInParentFolder,n=t.parentFolderId,a=this.state.folderName.trim();let o=this.state.folderError;if(a!==s&&r(a,n)&&(o=F.DuplicateFolderName,this.setState({folderError:o})),a&&null===o){const t={interactionType:Object(A.getInteractionFromEvent)(e)};this.props.onInputSubmit({folderName:a,i13nModel:t})}}),o()(this,"focusInput",e=>{e&&e.focus()}),o()(this,"getFolderError",()=>{const e=this.state,t=e.folderName,s=e.folderError;return null===s?null:s===F.InvalidFolderName?d.a.createElement(E.FormattedMessage,n()({},U.folder_invalid_chars,{values:{invalid_chars:y.c}})):s===F.DuplicateFolderName?d.a.createElement(E.FormattedMessage,n()({},U.duplicate_foldername,{values:{folder_name:d.a.createElement("b",null,t)}})):void 0})}render(){const e=this.context.intl.formatMessage,t=this.context.getThemeMode,s=this.props,r=s.onDismiss,n=s.whiteBackground,a=null===this.state.folderError,o=m()(u.a,{invalidFolderName:!a,validFolderName:a,indentation:this.props.indentation}),i=t()===O.i.LIGHT||n?C.ColorStates.NORMAL:C.ColorStates.INVERTED,c=e(U.folder_submit_input),l=e(U.folder_dismiss_input);return d.a.createElement("div",{className:o.container,ref:e=>this.containerNode=e},d.a.createElement(S.default,{onClick:r,kind:C.Kinds.CLOSE_MINI,size:C.Sizes.XS,colorState:i,"aria-label":l,title:l,"data-test-id":"icon-btn-close",className:o.closeButton,paddingLess:!0}),d.a.createElement(f.a,{className:o.popoverContainer},d.a.createElement(D.a,null,d.a.createElement("div",{className:o.inputSubmitContainer},d.a.createElement("div",{className:o.inputContainer},d.a.createElement(I.a,{className:o.input,type:"text",ref:this.focusInput,value:this.state.folderName,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,placeholder:this.props.placeholder,"aria-label":this.props.ariaLabel})),d.a.createElement(S.default,{onClick:this.performFolderOperation,kind:C.Kinds.ENTER,colorState:C.ColorStates.INVERTED,size:C.Sizes.XXS,className:o.okIcon,title:c,"aria-label":c}))),this.state.folderName&&!a?d.a.createElement(R.b,{triggerOn:b.i.MOUNT,permittedArrowDirections:[b.h.UP,b.h.DOWN],zAltitude:g.Pb.MODAL},d.a.createElement("div",{className:o.popover},this.getFolderError())):null))}}o()(w,"defaultProps",{indentation:h.a,parentFolderId:"",whiteBackground:!1}),o()(w,"contextTypes",{intl:E.intlShape.isRequired,getThemeMode:c.a.func});t.a=Object(M.connect)(e=>{const t=Object(N.selectors)(e),s=t.getFolderIdsByNameForSelectAccountId,r=(0,t.getFoldersSelectors)(),n=r.getFolderName,a=r.getFolderPath;return{isFolderNameExistInParentFolder:(e,t)=>s(e).some(s=>t?a(s)===`${a(t)}/${e}`:n(s)===e)}})(w)},function(e,t,s){"use strict";e.exports={className:{default:{rightAlignIcon:"D_X H_6LEV P_eo6 O_cMu h_2gl0WC",menuIcon:"D_X H_6LEV P_eo6 O_cMu",button:"s_6D6F q_T b_0 P_0 r_P O_cMu I4_2ieea9 e4_dRA O4_N",menuLabel:"A_6EqO C_Z281SGl Q_fq7",menuItem:"D_F N_fq7 ab_C",menuListItem:"Y_eTB H_6NIX",menuContainer:"D_F ek_EZ M_1ghjXT",spaceBetween:"W_fq7",sectionDivider:"D_B z_Z163u0T Y_6DEy U_eo6 E_69H5",backButtonLabel:"A_6DUj C_Z1TsNWR",rtlRawScaleX:"rtlR_h_2gl0WC",rtlRawHidden:"rtlR_v_h rtlR_D_ATgVd",rtlRemoveHidden:"rtlRM_v_h rtlRM_D_ATgVd"}},_key:"Rwhnz"}},function(e,t,s){"use strict";s.r(t),s.d(t,"preparePillContact",(function(){return i})),s.d(t,"createAddress",(function(){return c}));var r=s(33),n=s.n(r);const a=/^(['"]?)(.*?)\1\s*<(\S+@\S+\.\w+)>\s*$/,o=/(<[^<>]+@[^<>]+\.[^<>]+>)|(\([^\(\)]+@[^\(\)]+\.[^\(\)]+\))|(\[[^\[\]]+@[^\[\]]+\.[^\[\]]+\])/;function i({name:e="",email:t="",isEditing:s=!1,createdTime:r}){const o=t.match(a)||[],i=n()(o,4),c=i[2],l=void 0===c?e:c,d=i[3],E=void 0===d?t:d;let _;return _=l&&E?l===E?`<${E}>`:`${l} <${E}>`:l||E,{name:l||E,email:E,title:_,isEditing:s,createdTime:r}}function c(e){if(o.test(e)){let t,s=e.match(o),r=n()(s,1)[0];const a=e.replace(r,"").trim();return r=r.substring(1,r.length-1),t=a&&r?`${a} <${r}>`:a||r,{email:r,name:a,title:t}}return{email:e,name:e}}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(6),d=(s(51),s(55)),E=s(378),_=s(322),u=s(12),p=s.n(u),m=s(467),S=s.n(m),h=s(5),C=s(17),g=s(4),O=s(157),T=s(21),A=s(13),I=s(10),f=s(0),D=s(89),R=s(94);const b=p()(S.a),N=Object(l.defineMessages)({title:{id:"learnmore.title",defaultMessage:"Attachments cannot be downloaded"},content:{id:"learnmore.content",defaultMessage:"Attachments in emails marked as Spam may contain harmful content.            To download attachments in this email, please move the email out of the Spam folder."},warningIcon:{id:"learnmore.warning",defaultMessage:"Warning"},harmfulAttachment:{id:"attachment.harmfulContent",defaultMessage:"This email was moved from Spam folder. Attachments may contain harmful content."},unsupportedFileType:{id:"attachment.unsupportedFileType",defaultMessage:"One or more of the file types you have attached is not supported. Please remove the unsupported file(s)."}});class M extends c.a.Component{constructor(e){super(e),n()(this,"onItemRemove",e=>{this.props.readOnly||this.props.onAttachmentRemove(e)}),n()(this,"_handleDownloadAllClick",(e,t)=>{e.stopPropagation(),e.preventDefault();const s=this.getDownloadAllFilename(),r=this.props.message;this.props.handleDownloadAll({attachments:t,downloadId:r.id,downloadUrl:r.downloadAllUrl,filename:s,i13nModel:{mKey:h.g.DOWNLOAD_ATTACHMENT_ALL,sec:h.i.MSG_READ_ATTACHMENT,mKeyGroup:h.h.dwnldAttmnt}})}),n()(this,"getDownloadAllFilename",()=>`Attachments_${this.state.combinedZipFilename}.zip`),n()(this,"_renderWarningMsg",()=>{const e=this.context.intl.formatMessage,t=this.state.learnMoreShown;return c.a.createElement("div",{className:b.spamDownloadWarning},c.a.createElement(T.default,{colorState:g.ColorStates.WARNING,className:b.attentionIcon,kind:g.Kinds.ATTENTION,size:g.Sizes.XXS,title:e(N.warningIcon)}),c.a.createElement(l.FormattedMessage,{id:"attachment.dl.warning",defaultMessage:"Attachments cannot be downloaded.","data-test-id":"dl-warning"}),c.a.createElement("button",{className:b.learnMore,onClick:()=>this.setState({learnMoreShown:!0}),"data-test-id":"learn-more"},c.a.createElement(l.FormattedMessage,{id:"attachment.learnmore",defaultMessage:"Learn more"})),t?c.a.createElement(O.a,{title:e(N.title),message:e(N.content),onAccept:()=>this.setState({learnMoreShown:!1})}):null)}),n()(this,"renderSpamAttachmentWarning",e=>{if(this.props.shouldShowSpamAttachmentWarning(e))return c.a.createElement("div",{className:b.spamAttachmentWarning},c.a.createElement(T.default,{colorState:g.ColorStates.WARNING,className:b.attentionIcon,kind:g.Kinds.EXCLAMATION_ALT,size:g.Sizes.XXS,title:this.context.intl.formatMessage(N.harmfulAttachment)}),c.a.createElement(l.FormattedMessage,N.harmfulAttachment))}),n()(this,"renderUnsupportedAttachmentWarning",()=>{if(Object(d.f)(this.getAttachments(),this.props.allowInline).filter(e=>!Object(d.p)(e.filename)).length){const e=this.context.intl,t=e.locale,s=(0,e.formatMessage)(N.unsupportedFileType);return c.a.createElement("div",{className:b.attachmentWarning},c.a.createElement(T.default,{colorState:g.ColorStates.WARNING,className:b.attentionIcon,kind:g.Kinds.ATTENTION,size:g.Sizes.XXS,title:s}),s,c.a.createElement("button",{className:b.attachmentWarningLearnMore,onClick:()=>Object(R.a)(Object(f.Oe)(t))},c.a.createElement(l.FormattedMessage,{id:"alert.learn_more_url",defaultMessage:"Learn more"})))}}),n()(this,"getAttachments",()=>{const e=this.props,t=e.getAttachments,s=e.attachments;return t().length?t():s||[]});const t=e.message;this.state={combinedZipFilename:t?y(t.headers.subject):"",learnMoreShown:!1}}render(){const e=this.props,t=e.readOnly,s=e.allowDownload,r=e.mayContainVirus,n=e.onAttachmentPreview,a=e.message,o=e.isCompact,i=e.allowInline,_=p()(S.a,{isCompact:o,allowInline:i}),u=this.props.cepForward?Object(d.q)(Object(d.f)(this.getAttachments())):Object(d.f)(this.getAttachments(),i),m=u.length;return m?c.a.createElement("div",{className:_.tray},a&&a.downloadAllUrl&&s&&m>1?c.a.createElement("a",{className:_.downloadAllLink,href:a.downloadAllUrl,"data-test-id":"download-all-attachments",onClick:e=>this._handleDownloadAllClick(e,u)},c.a.createElement("span",{className:_.downloadAllIcon},c.a.createElement(C.b,{kind:g.Kinds.DOWNLOAD,size:g.Sizes.XS,colorState:g.ColorStates.SELECTED})),c.a.createElement(l.FormattedMessage,{id:"attachment_tray.downloadAll",defaultMessage:"Download all attachments as a zip file"})):null,r?this._renderWarningMsg():null,a&&a.id?this.renderSpamAttachmentWarning(a.id):null,this.renderUnsupportedAttachmentWarning(),c.a.createElement("ul",{className:_.ul},u.map((e,a)=>c.a.createElement("li",{key:a,className:_.item,"data-test-id":"attachment-tray-list-item"},c.a.createElement(E.a,{attachment:e,readOnly:t,allowDownload:s,mayContainVirus:r,onRemove:this.onItemRemove.bind(null,e),onClick:n.bind(null,e.id),isPreviewEnabled:s,onSendAsInlineImage:this.props.onSendAsInlineImage,richTextMode:this.props.richTextMode,isCompact:o,csid:this.props.csid}))))):null}}n()(M,"contextTypes",{executeAction:o.a.func,config:o.a.object,intl:l.intlShape.isRequired}),n()(M,"defaultProps",{onAttachmentRemove:()=>{},onAttachmentPreview:()=>{},richTextMode:!0,getAttachments:()=>[],attachments:[],cepForward:!1,allowInline:!1});function y(e=""){if(!e||!/[a-z0-9]/i.test(e))return Object(D.l)(new Date).replace(/-/g,"");return e.replace(/ /g,"_").replace(/\W/g,"").replace(/_+$/,"").replace(/^_+/,"").substring(0,20)}t.a=Object(A.connect)(e=>({cepForward:(0,Object(I.selectors)(e).getFeaturesSelectors)().isEnabled(f.Eb.CEP_FORWARD)}),e=>({handleDownloadAll({attachments:t,downloadId:s,downloadUrl:r,filename:n,i13nModel:a}){e(Object(_.a)({attachments:t,downloadId:s,downloadUrl:r,filename:n,i13nModel:a}))}}),null,{areOwnPropsEqual:()=>!1})(M)},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(241),d=s.n(l);t.a=e=>{var t,s;return s=t=class extends c.a.Component{getChildContext(){return{bindShortcut:(e,t,s)=>(s?d()(s):d.a).bind(e,t),unbindShortcut:(e,t=d.a)=>{if(!(t===d.a||t instanceof d.a))throw new TypeError("#context.unbindShortCut takes mousetrap as optional 2nd argument");t.unbind(e)}}}render(){return c.a.createElement(e,this.props)}},n()(t,"displayName","ReactKeyProvider"),n()(t,"childContextTypes",{bindShortcut:o.a.func,unbindShortcut:o.a.func}),s}},function(e,t,s){"use strict";e.exports={className:{default:{row:"D_F H_d4J P_3Y3Gk k_w",container:"W_Z2wlC3b D_F o_h ab_C P_0 e_eo6 q_ZnkeaL bm_n C_Z281SGl k_w q4_1I4z5p Q_3nVE4",image:"W_3mS2U H_3mS2U im_BH eh_1AmJOD",content:"F_N D_F o_h P_6Eb4 ek_BB gl_C",fromName:"cZ1zaJgg_B o_h J_x G_e A_6EGz i_6LUG u_b",description:"cZ1zaJgg_B o_h J_x G_e A_6EGz i_6FsP M_Z26RiTK",adActivity:"M_ZuD6o1 A_6EGz C_Z1VRpVF a_3nVBr o_h J_x",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_0 C_Z2drWk6 cdPFi_Z2drWk6",adContainer:"W_6D6F D_F o_h ab_C P_0 e_eo6 q_ZnkeaL bm_n C_Z281SGl k_w q4_1I4z5p",viewabilityTracker:"W_Z2wlC3b",cta:"v_h I_ZamTeg C_52qC P_eo6 u_b e_dRA K_6FIA o_h a_eE1",imageContainer:"W_3mS2U H_3mS2U ba_BH ay_C",ctaBackground:"W_6D6F H_6D6F D_F ab_C gl_C",fromNameContainer:"D_F gl_FM"},isWideView:{container:"W_1FMBJO",viewabilityTracker:"W_1FMBJO"},isCompactView:{container:"W_6D6F",viewabilityTracker:"W_6D6F"},themedAdActivity:{adActivity:"b_n H_6NIX M_ZuD6o1 u_b e_6LEV q_Z1XPDyi C_52qC t_C i_6NIX ac_CI W_6D6F"},ctaOnImg:{ctaBackground:"I4_sgPuT"},"themeMode-DARK":{container:"q_1YEmYj C_ZpQYvz q4_ZFyHXD",adContainer:"q_1YEmYj C_ZpQYvz q4_ZFyHXD",expiration:"C_2sqbQg",adActivity:"C_2sqbQg"},marginLess:{container:"Q_0"}},_key:"Z1gVg0O"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"ab_C k_w D_F ek_EZ H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_52qC",leftHalfContainer:"D_F gl_FM",rightHalfContainer:"D_F em_N",leftGrid:"D_F ab_C",mainActionControls:"D_F em_N gl_C",selectionControlsWrapper:"D_F Q_6EGz",singleGroupActionList:"hd_n D_F ab_C M_0 P_0 r_n cZW7ROP_n",singleGroupActions:"D_F",singleGroupItem:"D_F M_3gIMd cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",disabledItem:"O_6uB4",usabiltyOptions:"D_F t_r",closeWrapper:"O_6uB4 cdPFi4_Z2aVTcY",listFilterViewMenu:"D_F en_0",listFilterMenu:"D_F ab_C y_Z2hYGcu X_6FIA A_6EqO lo_AT cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",popoverListWrapper:"P_3Y3Gk",viewMenu:"jb_eo6 M_bKltR",expandCollapse:"M_0 cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",actionListDefault:"hd_n D_F ab_C M_0 P_0 r_n cZW7ROP_n",actionListActive:"hd_n D_F ab_C r_BN cZW7ROP_A",toolbarItem:"M_1MYwXA cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",toolbarItemWithLabel:"M_1MYwXA",toolbarItemDisabled:"M_1MYwXA cdPFi_Z1RVMOO C_Z1RVMOO r_n O_6uB4 cZW7ROP_n",hiddenItem:"W_6NIX H_6NYI v_h"},"previewpane-1":{cboxWrapper:"ej_d70",viewMenu:"t_r ej_d70 E_0 jb_0",singleGroupActions:"Q_fq7",mainActionControls:"em_N",sortMenuContainer:"N_6MGW"},"previewpane-2":{container:"gl_FM",viewMenu:"Q_fq7"},groupActionsActive:{singleGroupActionList:"hd_n D_F ab_C r_BN cZW7ROP_A",closeWrapper:"O_N"},"themeMode-DARK":{container:"I_T m_ZYfFSw C_52qC cdPFi_52qC",toolbarItem:"M_1MYwXA cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",toolbarItemDisabled:"M_1MYwXA cdPFi_ZpQYvz C_ZpQYvz O_6uB4 r_n cZW7ROP_n",listFilterMenu:"C_ZpQYvz cdPFi_ZpQYvz C4_52qC cdPFi4_52qC",singleGroupItem:"cdPFi_ZpQYvz cdPFi4_52qC",closeWrapper:"cdPFi_ZpQYvz cdPFi4_52qC",expandCollapse:"M_0 cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC"},previewpaneInPixels:{leftHalfContainer:"a_ZEtPz3"}},_key:"Z18YWdS"}},function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));const r=(()=>"devbox")()},function(e,t,s){"use strict";s.d(t,"c",(function(){return c})),s.d(t,"b",(function(){return l})),s.d(t,"a",(function(){return d})),s.d(t,"e",(function(){return E})),s.d(t,"d",(function(){return _})),s.d(t,"g",(function(){return u})),s.d(t,"f",(function(){return p}));var r=s(3),n=s.n(r),a=s(5),o=s(2);function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function c({messageId:e,params:t}){return{type:o.GET_INVITE_INFO_REQUESTED,messageId:e,params:t,i13nModel:{mKey:a.g.RSVP_LOADED,sec:a.i.RSVP_CARD,actionData:{msgID:e}}}}function l({messageIds:e,inviteInfoGroup:t}){return{type:o.INVITEINFO_FETCH_SUCCEEDED,messageIds:e,inviteInfoGroup:t}}function d({messageIds:e,errors:t}){return{type:o.INVITEINFO_FETCH_FAILED,messageIds:e,errors:t}}function E(e){return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({type:o.RESPOND_TO_INVITE},e,{i13nModel:{mKey:a.g.RSVP_CALENDAR_RESPONSE,sec:a.i.RSVP_CARD,actionData:{msgID:e.messageId,response:e.response}}})}function _({messageId:e}){return{type:o.RSVP_NAVIGATE_TO_CALENDAR,i13nModel:{mKey:a.g.RSVP_NAVIGATE_TO_CALENDAR,sec:a.i.RSVP_CARD,actionData:{msgID:e}}}}function u({uid:e,response:t,messageId:s}){return{type:o.RESPOND_TO_INVITE_SUCCEEDED,messageId:s,uid:e,response:t}}function p({uid:e,response:t,messageId:s}){return{type:o.RESPOND_TO_INVITE_FAILED,messageId:s,uid:e,response:t}}},function(e,t,s){"use strict";s.d(t,"a",(function(){return l})),s.d(t,"d",(function(){return d})),s.d(t,"b",(function(){return E})),s.d(t,"c",(function(){return _}));var r=s(3),n=s.n(r),a=s(2),o=s(10);function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const l=e=>c({type:a.PHISHING_BANNER_MOUNTED},e),d=e=>c({type:a.PHISHING_REMOVE_BDM_DECO_SUCCEEDED},e),E=e=>c({type:a.PHISHING_REMOVE_BDM_DECO_FAILED},e),_=e=>(t,s)=>{const r=Object(o.selectors)(s());return t(c({type:a.PHISHING_REMOVE_BDM_DECO_REQUESTED,mailboxId:(0,r.getSelectedMailboxId)()},e))}},,function(e,t,s){"use strict";e.exports={className:{default:{dialog:"W_3AgV8 I_52qC D_F ek_BB e_eTB ab_C jb_6Eb4",close:"ac_CH M_C04i4",imgContainer:"D_F ab_C U_6Eb4",logo:"H_7jIs W_7jIs e_e5X",subtitleContainer:"D_F ek_BB ab_C",subtitle:"A_6FsP u_e69 U_6UbO",stepContainer:"D_F ab_C",step:"D_F ek_BB ab_C gl_C t_C W_3mT4V",stepTitle:"D_F gl_CI",stepNumber:"ab_C I_Z1YRXYn e_e5X C_52qC D_F H_6Mbr gl_C E_fq7 t_C W_6Mbr",stepText:"A_6Eb4 i_6CAX M_Z1ptmNy W_7HtP H_73cc",inputFieldContainer:"D_F m_2fAfSG jb_eo6 H_6UX5 W_3vqtr",inputField:"q_T H_6NIX A_6MGW jw_n b_n a_3z5BY X_fq7 ir3_n",digits:"H_6UX5 W_6UHk je_eTB X_6DEy A_6EqO C_Z1VRpVF",checkmark:"H_6UX5 W_6UHk je_eTB X_6DEy",policy:"A_6DUj C_Z1VRpVF H_6Urz W_3vqtr je_6Eb4",error:"A_6DUj M_Y4lw4 C_ZnTFMv H_6FIA W_3vqtr",headerText:"H_6FsP A_6EGz u_e69 jb_fq7 N_3nGCH",test:"W_3vqtr H_7jsH",noError:"v_h A_6DUj M_Y4lw4 H_6FIA W_3vqtr",registrationInfo:"v_h A_6DUj M_Z14OrCK C_Z1VRpVF H_7iGr",errorInfo:"A_6DUj C_Z1VRpVF H_73Xs W_3vqtr",overlayContainer:"W_0",overlay:"W_7jIs H_7jIs h_ZE41ng q_Z1WGv5u O_6uA1 e_e5X"},isPhone:{checkmark:"X_6TFj",digits:"X_6TFj"}},_key:"Zgif8n"}},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(34),o=s.n(a),i=s(3),c=s.n(i),l=(s(7),s(1)),d=s.n(l),E=s(168),_=s(782),u=s.n(_),p=s(12),m=s.n(p),S=s(102),h=s.n(S),C=s(482),g=(s(9),s(17));class O extends d.a.Component{constructor(...e){super(...e),c()(this,"handleChange",e=>{const t=this.props.onChange;t&&t(e.target.value)}),c()(this,"handleFocus",e=>{const t=this.props.onFocus;t&&t(e.target.value)}),c()(this,"handleBlur",e=>{const t=this.props.onBlur;t&&t(e.target.value)}),c()(this,"handleClear",()=>{const e=this.props.onChange;e&&e("")})}render(){const e=this.props,t=e.hint,s=e.error,r=e.kind,a=e.fujiIconProps,i=e.className,c=o()(e,["hint","error","kind","fujiIconProps","className"]),l=Boolean(t),_=Boolean(s),p=Boolean(a),S=m()(u.a,{kind:r});return d.a.createElement("div",{className:S.inputContainer},d.a.createElement(E.a,n()({},c,{className:h()(S.inputField,i),onFocus:this.handleFocus,onChange:this.handleChange,onClear:this.handleClear,onBlur:this.handleBlur})),p&&d.a.createElement("div",{className:S.inputIcon},d.a.createElement(g.b,a)),l&&!_&&d.a.createElement("div",{className:S.hint},t),_&&d.a.createElement("span",{"data-test-id":"input-error",className:S.error},s))}}c()(O,"defaultProps",{hint:"",error:"",focusOnMount:!1,kind:C.a.DEFAULT,className:""}),t.a=O},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(30),c=s.n(i),l=s(12),d=s.n(l),E=s(787),_=s.n(E),u=s(102),p=s.n(u);const m=()=>{},S=d()(_.a),h="UP",C="DOWN";let g=800;class O extends o.a.Component{constructor(e,t){super(e,t),n()(this,"computeItemHeightsAndOffsets",e=>{const t=e.items,s=e.getItemHeight;this.itemHeights=[],this.itemOffsets=[],this.totalItemsHeight=0;for(let e=0;e<t.length;e++)this.itemHeights[e]=s(t[e],e),this.itemOffsets[e]=this.totalItemsHeight,this.totalItemsHeight+=this.itemHeights[e]}),n()(this,"computeClassNames",e=>{const t=e.scrollerClassName,s=e.listClassName;this.scrollerClassName=p()(S.scroller,t),this.listClassName=p()(S.list,s)}),n()(this,"scrollPercent",()=>{const e=this.state.scrollTop,t=this.totalItemsHeight;return e<0||t<=0?0:Math.floor(e/t*100)}),n()(this,"scrollToItemStart",()=>{const e=this.props,t=e.items,s=e.itemStart,r=e.getItemHeight;if(!s)return;const n=t.findIndex(e=>e.id===s.id),a=t.slice(0,n).reduce((e,t,s)=>e+r(t,s),0);this.scroller.scrollTop=a}),n()(this,"scrollStateRAFHandler",()=>{this.raf=null,this.updateScrollState()}),n()(this,"scrollLoadMoreRAFHandler",()=>{this.loading=(0,this.props.loadMoreItems)()}),n()(this,"handleScroll",()=>{const e=this.props,t=e.onScrollTop,s=e.onScrollBottom,r=this.scroller,n=r.scrollTop,a=r.scrollHeight;n<0||(this.isScrolling=!0,this.raf&&window.cancelAnimationFrame(this.raf),this.raf=window.requestAnimationFrame(this.scrollStateRAFHandler),0===n&&t(),n+this.state.clientHeight>=a&&s(),!this.loading&&n+this.state.clientHeight>.8*a&&window.requestAnimationFrame(this.scrollLoadMoreRAFHandler))}),n()(this,"updateScrollState",()=>{const e=this.scroller.scrollTop;this.updateScrollDirection(e),this.setState({scrollTop:e},()=>this.scrollNotify())}),n()(this,"updateScrollDirection",e=>{this.scrollDirection=0===e?C:e>=this.totalItemsHeight-this.state.clientHeight&&!this.loading?h:e>this.state.scrollTop?C:h}),n()(this,"scrollNotify",()=>{const e=this.props,t=e.items,s=e.onScroll,r=this.getViewportItemIndexRange(),n=r.itemStartIndex,a=r.itemEndIndex;s({scrollTop:this.state.scrollTop,itemStart:t[n],itemEnd:t[a],itemStartIndex:n,itemEndIndex:a,getScrollPercent:this.scrollPercent}),this.isScrolling=!1}),n()(this,"loadMoreOnScrollBottom",()=>{if(!this.loading&&this.props.loadMoreItems){this.scroller.scrollHeight>this.state.clientHeight||(this.loading=this.props.loadMoreItems())}}),n()(this,"isListScrolling",()=>this.isScrolling),n()(this,"setTopPlaceHolderHolder",e=>{this.topHolder=e}),n()(this,"setBottomPlaceHolderHolder",e=>{this.bottomHolder=e}),n()(this,"getViewportItemIndexRange",()=>{const e=this.state,t=e.scrollTop,s=e.clientHeight;let r=-1,n=-1;r=function(e,t){let s=-1,r=0,n=e.length-1;for(;r<=n;){s=r+Math.round((n-r)/2);const a=t(e[s],s);if(a<0)n=s-1;else{if(!(a>0))return s;r=s+1}}return-1}(this.itemOffsets,(e,s)=>t<e?-1:t<e+this.itemHeights[s]?0:1),r=Math.max(r,0);const a=t+s,o=this.itemOffsets.length-1;for(n=r;n<o&&this.itemOffsets[n]+this.itemHeights[n]<a;)n+=1;return{itemStartIndex:r,itemEndIndex:n}}),n()(this,"getRenderedItemIndexRange",(e,t)=>{if(this.isFirstMounted)return{itemStartIndexWithBuffer:e,itemEndIndexWithBuffer:t};const s=this.props,r=s.items,n=s.bufferSize,a=s.oppositeBufferSize,o=this.scrollDirection===C?n-a:a;return{itemStartIndexWithBuffer:Math.max(e-(this.scrollDirection===h?n-a:a),0),itemEndIndexWithBuffer:Math.min(t+o,r.length-1)}}),n()(this,"getPlaceholderHeights",(e,t)=>{const s=t+1;return{placeholderTopHeight:this.itemOffsets[e],placeholderBottomHeight:s<this.props.items.length?this.totalItemsHeight-this.itemOffsets[s]:0}}),n()(this,"computeRenderParameters",()=>{const e=this.getViewportItemIndexRange(),t=e.itemStartIndex,s=e.itemEndIndex,r=this.getRenderedItemIndexRange(t,s),n=r.itemStartIndexWithBuffer,a=r.itemEndIndexWithBuffer,o=this.getPlaceholderHeights(n,a),i=o.placeholderTopHeight,c=o.placeholderBottomHeight;this.itemStartIndex=t,this.itemEndIndex=s,this.itemStartIndexWithBuffer=n,this.itemEndIndexWithBuffer=a,this.placeholderTopHeight=i,this.placeholderBottomHeight=c,this.renderedOffsetTop=this.itemOffsets[this.itemStartIndex],this.renderedOffsetBottom=this.itemOffsets[this.itemEndIndex]}),this.itemStartIndex=0,this.itemEndIndex=e.items.length,this.itemStartIndexWithBuffer=0,this.itemEndIndexWithBuffer=e.items.length,this.renderedOffsetTop=0,this.renderedOffsetBottom=0,this.placeholderTopHeight=0,this.placeholderBottomHeight=0,this.scrollDirection=C,this.totalItemsHeight=0,this.itemHeights=[],this.itemOffsets=[],this.cachedReactElements={},this.computeItemHeightsAndOffsets(e),this.computeClassNames(e),this.isScrolling=!1,this.areItemsEqual=!0,this.isFirstMounted=!0,g=e.clientHeight?e.clientHeight:g,this.state={scrollTop:e.scrollTop||0,clientHeight:g},this.scrollerRef=o.a.createRef()}UNSAFE_componentWillReceiveProps(e){this.areItemsEqual=c()(this.props.items,e.items),this.loading=this.loading&&this.areItemsEqual,this.areItemsEqual||(this.computeItemHeightsAndOffsets(e),this.computeClassNames(e),this.cachedReactElements={}),void 0!==e.scrollTop&&e.scrollTop!==this.scroller.scrollTop&&this.setState({scrollTop:e.scrollTop},()=>{this.scroller.scrollTop=e.scrollTop}),e.recalculateClientHeight&&(g=this.scroller.clientHeight,this.state.clientHeight!==g&&this.setState({clientHeight:g}))}shouldComponentUpdate(e,t){let s=!1;return t.scrollTop<this.renderedOffsetTop||t.scrollTop+t.clientHeight>this.renderedOffsetBottom||this.state.clientHeight!==t.clientHeight?s=!0:this.areItemsEqual||(s=!0),s}componentDidMount(){this.scroller=this.scrollerRef.current,this.scroller.clientHeight!==g?(g=this.scroller.clientHeight,this.setState({clientHeight:g},()=>this.loadMoreOnScrollBottom())):(this.loadMoreOnScrollBottom(),this.raf&&window.cancelAnimationFrame(this.raf),this.raf=window.requestAnimationFrame(()=>{this.forceUpdate(),this.raf=null})),void 0!==this.props.scrollTop?this.scroller.scrollTop=this.props.scrollTop:this.scrollToItemStart(),this.isFirstMounted=!1,this.props.onRenderCompleted({itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex,itemStartIndexWithBuffer:this.itemStartIndexWithBuffer,itemEndIndexWithBuffer:this.itemEndIndexWithBuffer,itemOffsets:this.itemOffsets})}componentDidUpdate(){if(!this.areItemsEqual){const e=this.scroller,t=e.scrollHeight;g=e.clientHeight,g!==this.state.clientHeight&&this.setState({clientHeight:g}),this.loading||t-this.state.scrollTop!==g||window.requestAnimationFrame(this.scrollLoadMoreRAFHandler)}this.areItemsEqual=!0,this.props.onRenderCompleted({itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex,itemStartIndexWithBuffer:this.itemStartIndexWithBuffer,itemEndIndexWithBuffer:this.itemEndIndexWithBuffer,itemOffsets:this.itemOffsets})}componentWillUnmount(){this.raf&&window.cancelAnimationFrame(this.raf)}render(){const e=this.props,t=e.items,s=e.styles,r=e.itemStyle,n=e.formatPlaceHolder,a=e.numOfPlaceHolder,i=[];if(this.computeRenderParameters(),n&&a){let e=0;for(let t=Math.max(1,this.itemStartIndexWithBuffer-a);t<this.itemStartIndexWithBuffer;t++,e++){const s=Object.assign({},{top:this.itemOffsets[t]+"px"},r);i.push(o.a.createElement("li",{key:"top"+e,className:S.item,style:s},n()))}}for(let e=this.itemStartIndexWithBuffer;e<=this.itemEndIndexWithBuffer;e++){const s=t[e],n=Object.assign({},{top:this.itemOffsets[e]+"px"},r);this.props.enableReactElementCache?(this.cachedReactElements[s.id]||(this.cachedReactElements[s.id]=o.a.createElement("li",{key:s.id,className:S.item,style:n},this.props.formatItem(s,{isScrolling:this.isListScrolling,itemIndex:e,itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex},this.scrollerRef))),i.push(this.cachedReactElements[s.id])):i.push(o.a.createElement("li",{key:s.id,className:S.item,style:n},this.props.formatItem(s,{isScrolling:this.isListScrolling,itemIndex:e,itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex},this.scrollerRef)))}if(n&&a){let e=0;for(let s=this.itemEndIndexWithBuffer+1;s<Math.min(t.length,this.itemEndIndexWithBuffer+a+1);s++,e++){const t=Object.assign({},{top:this.itemOffsets[s]+"px"},r);i.push(o.a.createElement("li",{key:"bottom"+e,className:S.item,style:t},n()))}}return o.a.createElement("div",{ref:this.scrollerRef,className:this.scrollerClassName,style:s,onScroll:this.handleScroll,"data-test-id":"virtual-list"},o.a.createElement("ul",{key:"itemsContainer",className:this.listClassName,style:{height:this.totalItemsHeight+"px"}},i))}}n()(O,"defaultProps",{items:[],bufferSize:0,loadMoreItems:m,onScroll:m,onScrollTop:m,onScrollBottom:m,onRenderCompleted:m,styles:{},scrollTop:void 0,scrollerClassName:"",listClassName:"",numOfPlaceHolder:0,recalculateClientHeight:!1,oppositeBufferSize:0,enableReactElementCache:!1,itemStyle:{}});t.a=O},function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));s(7);var r=s(1),n=s.n(r),a=s(6),o=s(0),i=s(89);class c extends n.a.Component{render(){const e=this.props,t=e.daysUntilExpiry,s=e.type;if(s===o.ac.OFFER_CARDS||t>1&&t<=6){const e=Object(i.n)(Object(i.i)(),t),r=n.a.createElement(a.FormattedDate,{value:e,weekday:"long"}),c=n.a.createElement(a.FormattedDate,{value:e,year:"numeric",month:"2-digit",day:"2-digit"});return n.a.createElement(a.FormattedMessage,{id:"expires_on_a_date",defaultMessage:"Expires on {expireMsg}",values:{expireMsg:s===o.ac.OFFER_CARDS?c:r}})}return n.a.createElement(a.FormattedMessage,{id:"expires_in_n_days",defaultMessage:"Expires {daysUntilExpiry, plural, =0 {today} =1 {tomorrow} other {in # days}}",values:{daysUntilExpiry:t}})}}},,,,,,,,,,,,,,,,function(e,t,s){"use strict";t.a={loadScript:function(e){return new Promise((t,s)=>{const r=document.createElement("script"),n=document.getElementsByTagName("head")[0];r.readyState?r.onreadystatechange=()=>{"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,t())}:(r.onload=()=>t(),r.onerror=()=>s(new Error("Failed to load script from "+e))),r.type="text/javascript",r.setAttribute("data-origin","norrin"),r.setAttribute("data-inserted-time",Date.now()),r.src=e,n.appendChild(r),setTimeout(()=>n.removeChild(r),1e3)})}}},,,,,function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"c",(function(){return a})),s.d(t,"a",(function(){return o}));var r=s(9);const n={ENABLED:"enabled",SELECTED:"selected",ADDING:"adding",END_DATE:"endDate",START_DATE:"startDate",MSG_BODY:"messageBody",DOMAIN_ONE:"domainOne",DOMAIN_TWO:"domainTwo",DOMAIN_MSG_BODY:"domainMessageBody",DOMAIN_ENABLED:"domainResponseEnabled"},a=Object(r.d)(["PREVIEW","EDITOR"]),o=Object(r.d)(["SAVE","SWITCH_ON","SWITCH_OFF","DELETE"])},function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return c}));var r=s(3),n=s.n(r),a=s(0);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e,t,s,r=a.Me){return l(e,t,s,r)}function c(e,t,s=a.Me){return l(e,t,null,s)}function l(e,t,s,r=a.Me,i=!0){const c=e||{},l=c.id,d=c.email,E=c.iataCode,_=c.photoTimestamp,u=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({spsize:t+"X"+t},s&&{fallback_url:s},{alphatar_photo:i},_&&{timestamp:_},{},r&&{appId:r});let p;if(E)p=`/v4/tags/iata/${E}/photo`;else if(l&&l!==d)p="/v4/contacts/"+l+"/photo",u.badge=!1;else{if(!d)return s;p="/v4/endpoints/smtp:"+d+"/photo",u.format="image"}return Object(a.Pe)(r)+p+"?"+Object.keys(u).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(u[e])).join("&")}},function(e,t,s){"use strict";s.d(t,"a",(function(){return p})),s.d(t,"b",(function(){return C})),s.d(t,"d",(function(){return g})),s.d(t,"c",(function(){return O}));var r=s(33),n=s.n(r),a=s(1),o=s.n(a),i=s(28),c=s.n(i),l=s(19),d=s(21),E=s(4),_=s(54),u=s(191);function p(e,t=[]){Object(l.a)("function"==typeof e.querySelectorAll,"#fixImageSrc: Expect container to be a html element"),[].forEach.call(e.querySelectorAll('img[src^="cid://"], img[src^="blob:"]'),e=>{const s=e.src&&e.src.startsWith("cid://"),r="<"+e.src.slice("cid://".length)+">",n=t.find(t=>t.contentId===(s?r:e.getAttribute("data-id")));n&&(e.src=n.downloadUrl,e.setAttribute("data-id",n.dataId||e.dataset.id))})}const m=/(relative|absolute)/i,S=/messages\/@\.id==(.*)\/content\/parts\/@\.id==([0-9.]*)\//i;function h(e,t,s,r,n,a,i){const l=document.createElement("div"),u=document.createElement("span"),p=s.getBoundingClientRect(),S=p.width,h=s.naturalWidth,C=s.naturalHeight;if(!((void 0===h?S:h)<250||(void 0===C?p.height:C)<100)){u.classList.add("img-dl-btn"),l.classList.add("img-preview-wrapper"),s.parentNode.insertBefore(l,s),s.parentNode.removeChild(s),s.classList.add("preview"),i&&s.setAttribute("data-attachment-id",r),l.appendChild(s),l.appendChild(u),s.addEventListener("mouseenter",t=>{if(u.contains(t.relatedTarget))return;let s=t.target&&t.target.parentNode;for(;s&&s!==e&&!m.test(s.style.position);)s=s.parentNode;const r=t.target.getBoundingClientRect(),n=s.getBoundingClientRect(),a=r.left-n.left+r.width-40;u.style.top=r.top-n.top+r.height-40+"px",u.style.left=a+"px",u.style.opacity=.8}),s.addEventListener("mouseleave",e=>{u.contains(e.relatedTarget)||(u.style.opacity=1e-4)});try{if(r&&r.includes("inlineImage"))return;c.a.unstable_renderSubtreeIntoContainer(t,o.a.createElement(d.default,{title:a,kind:E.Kinds.DOWNLOAD,colorState:E.ColorStates.WHITE,onClick:()=>n(r),size:S<=100?E.Sizes.XXS:E.Sizes.XS}),u)}catch(e){_.a.error("inline_image_download_btn",e)}}}const C=e=>{const t=e&&e.match(S)||[],s=n()(t,3),r=s[1],a=s[2];return r&&a?`${r}:${a}`:null};function g(e){const t=e&&e.src||"",s=Object(u.parse)(t),r=s.protocol,n=s.host,a=s.pathname,o=s.query,i=s.hash;if(n&&a&&n.indexOf("dl-mail.ymail.com")>-1&&a.indexOf("/raw")>-1){const t=i?"#"+i:"",s=a.split("/").map((e,t)=>2===t?"v3":10===t?"refresh":e).join("/");e.src=`${r}//apis.mail.yahoo.com${s}?${o}${t}`}}function O({element:e,component:t,onDownload:s,downloadTitle:r,shouldFixSrcURL:n=!1,logVisibilityStat:a=(()=>{}),msgId:o,externalInlineImagePreviewEnabled:i}){const c=function(e,t,s){if(s){const s=e.querySelectorAll("img");return Array.from(s).filter(t=>function(e,t){let s=e;for(;s&&s!==t;){if("A"===s.nodeName&&s.hasAttribute("href"))return!1;s=s.parentNode}return!0}(t,e)).map((e,s)=>{const r=C(e&&e.src);return{image:e,attachmentId:r||`inlineImage-${t}:${s}`,partId:""+s}})}const r=e.querySelectorAll('img[src*="/content/parts/@.id=="]:not([class*=preview])');return Array.from(r).map(e=>{const t=C(e&&e.src);if(t)return{image:e,attachmentId:t}}).filter(Boolean)}(e,o,i),l=function(e,t,s){let r;void 0!==window.IntersectionObserver&&(r=new IntersectionObserver(s=>{let n,a;const o=s[0],i=o.boundingClientRect,c=void 0===i?{}:i,l=o.intersectionRatio,d=document.querySelector('[data-test-id="message-group-view-scroller"]');d&&(n=d.getBoundingClientRect().height,a=Math.round(n/d.scrollHeight*100)),t({msgGroupHeight:n,msgGroupVisibility:a,msgCardVisibility:Math.round(100*l),msgCardHeight:Math.round(c.height||0)}),r.unobserve(e),r.disconnect()}));function n(){r&&r.observe(e)}return(e=[])=>{if(!e.length)return n(),e;const t=e.length;let r=e.filter(({image:{complete:e,naturalWidth:t}})=>e&&t).length,a=e.filter(({image:{complete:e,naturalWidth:t}})=>e&&!t).length;const o=(e,r)=>{t===e+r&&(_.a.error("total_inline_images_in_msg",{msgId:s,failed:r,loaded:e}),n())};return o(r,a),e.filter(({image:e})=>!e.complete).forEach(({image:e})=>{e.addEventListener("load",()=>o(++r,a)),e.addEventListener("error",()=>o(r,++a))}),e}}(e,a,o),d=[l,T],E=function({element:e,component:t,onDownload:s,downloadTitle:r,externalInlineImagePreviewEnabled:n}){return(a=[])=>(a.forEach(({attachmentId:a,image:o})=>{o.complete&&o.naturalWidth?h(e,t,o,a,s,r,n):o.addEventListener("load",()=>h(e,t,o,a,s,r,n))}),a)}({element:e,component:t,onDownload:s,downloadTitle:r,externalInlineImagePreviewEnabled:i});if(d.push(E),n){d.push(e=>(e.forEach(({image:e})=>g(e)),e))}return c.length?function(){const e=Array.prototype.slice.call(arguments);return e.reduce((function(e,t){return function(){return e(t.apply(this,arguments))}}))}(...d)(c):l()}function T(e=[]){return e.forEach(({attachmentId:e,image:t})=>{const s=()=>_.a.error("inline_image_load_failure",{attachmentId:e,src:t.src});t.complete&&0===t.naturalWidth?s():t.addEventListener("error",s)}),e}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB p_a Z_0 L_0 R_0 T_0 B_0 cZ1RN91d_GG I_ZnwrMC",rsvpContainer:"P_6Fd5 I_52qC m_Z12nDQf",cardsContainer:"hd_n M_0 X_0",composeCard:"D_F ek_BB gl_C d_3vFsb b_Z14vXdP e_dRA I_52qC",messageCard:"m_Z12nDQf D_F ek_BB ir_0",stack:"I_52qC t_C r_P D_F ab_C P_1EuKY1 H_6TFj p_R ir3_1JO2M7 it3_689y",stackLine:"H_dBP em_N z_Z14vXdP",stackLabel:"em_0 M_1Eu7Y9 C_Z1Xxgu0",scrollView:"iz_A I_52qC em_0 Z_0",empty:"I_52qC W_6D6F t_C A_6FsP P_Z17Hvh7",emptyRetry:"S_U r_P",sponsoredMessageButton:"q_Z2aVTcY e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2hYGcu A_6EqO u_e69 b_0 C_52qC D_X i_6VdP t_C I4_Z29WjXl ir3_1JO2M7 it3_dRA",videoAdThumbnail:"W_6D6F",sponsoredVideoBodyContainer:"P_1e3YGS S_n C_Z281SGl",sponsoredMessageSource:"M_1IaimO A_6EWk u_b",sponsoredMessageDescription:"M_1IaimO A_6EqO",senders:"D_I"},conseqCompose:{composeCard:"cn_ZvFCRQ"},active:{composeCard:"b_2w4l8N j_ZlOSbd"},isDraftError:{composeCard:"d_3mS2U P_aFwN2"},"themeMode-DARK":{container:"I_T"}},_key:"YgWCP"}},function(e,t,s){"use strict";s.d(t,"e",(function(){return o})),s.d(t,"c",(function(){return i})),s.d(t,"b",(function(){return c})),s.d(t,"a",(function(){return l})),s.d(t,"d",(function(){return d}));var r=s(2),n=s(69),a=s(0);function o({i13nModel:e}){return{type:r.ADBLOCK_UPSELL_OPTION_CLICKED,i13nModel:e}}function i({i13nModel:e}){return{type:r.ADBLOCK_DETECTED,i13nModel:e}}function c({i13nModel:e}){return{type:r.ADBLOCK_BEACON_FAILED,i13nModel:e}}function l({i13nModel:e}){return{type:r.ABP_DETECTED,i13nModel:e}}const d=({uiId:e,i13nModel:t={}})=>s=>s(Object(n.b)({name:a.Kd.AD_BLOCK_FEATURE_CUE_ID,value:e,runV3:!0,i13nModel:t}))},function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var r=s(235),n=s.n(r),a=(s(655),s(271)),o=s(20),i=(s(54),s(0));new n.a({max:5,maxAge:36e5}),new n.a({max:5,maxAge:36e5});function c(e){return!(Object(o.c)()||e.indexOf(i.f)>-1||"pullrequest"===a.a||"devbox"===a.a)}},,function(e,t,s){"use strict";s.d(t,"b",(function(){return c})),s.d(t,"c",(function(){return l}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=function(e){var t,s,r;return(null===(t=e.match(/inlineImage-.*:/))||void 0===t||null===(s=t[0])||void 0===s||null===(r=s.slice(0,-1))||void 0===r?void 0:r.replace("inlineImage-",""))||""};t.a=(e={},t)=>{switch(t.type){case a.INLINE_IMAGES_TO_ATTACHMENT:{const s=t.msgId,r=t.attachments,n=e[s],a=(void 0===r?[]:r).reduce((e,t)=>i({},e,n&&n[t.id]?{[t.id]:n[t.id]}:{[t.id]:t}),{});return i({},e,{[s]:i({},e[s],{},a)})}case a.ATTACHMENT_ZOOMED:{const s=t.id,r=t.newZoomLevel,n=c(s);if(!n||!e[n]||!e[n][s])return e;const a=e[n][s];return i({},e,{[n]:i({},e[n],{[s]:i({},a,{previewerUiState:i({},a.previewerUiState,{zoomLevel:r})})})})}}return e};const l=(e={})=>({getInlineImagesIdsByMessageId:t=>Object.values(e[t]||[]).sort((e,t)=>parseInt(e.partId,10)<parseInt(t.partId,10)?-1:1).map(({id:e})=>e),getInlineImageByAttachmentId:t=>{const s=c(t),r=e[s];return r&&r[t]?r[t]:null}})},function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return c})),s.d(t,"c",(function(){return l}));var r=s(10),n=s(8),a=s(0),o=s(93);const i=1e3,c=650;function l(e,t,s){const l=Object(r.selectors)(e),d=l.getCouponsSelectors,E=l.getDealsViewSelectors,_=l.getListsSelectors,u=l.getAdsSelectors,p=l.getAdSectionIds,m=(0,l.getMainContentWidth)(),S=d(),h=S.getCouponCardStreamItems,C=S.getRecommendedDeals,g=E().getDealsViewListExpansion,O=_().doesListExist,T=(0,u().getGeminiAdDataInArray)(p()[a.Nb.DEALS_SHOPPING_CART]);let A=2;if(m>i?A=3:m<c&&(A=1),s!==a.od.DOES_NOT_EXIST){var I,f;const e=t.filter(e=>Object(n.w)(e)===a.ac.COUPON_CARDS&&O(e)).map(e=>[...h(e)]),s=C(),r=T.reduce((e,t,s)=>{const r=4*s;return r<e.length&&e.splice(r,0,t),e},[...s]),i=Object(o.d)(r,m/A,m),c=i.slice(0,3),l=g()?i:c,d=!!l.length;d&&e.unshift((l||[]).map(e=>{var t,s;return{listId:Object(n.e)({referrer:a.cc.RECOMMENDED_DEALS}),id:(null===(t=e[0])||void 0===t?void 0:t.cmid)||(null===(s=e[0])||void 0===s?void 0:s.creativeId),itemRow:e}})),e.forEach(e=>{const t=e.length-1;e[t]&&(e[t].isLastItemInGroup=!0)});let E=0;return(null===(I=e[d?0:-1])||void 0===I?void 0:I.length)&&e[d?0:-1].unshift({listId:Object(n.gb)(t[0],{listContentType:a.ac.RECOMMENDED_DEALS_HEADER}),id:E++}),(null===(f=e[d?1:0])||void 0===f?void 0:f.length)&&e[d?1:0].unshift({listId:Object(n.gb)(t[0],{listContentType:a.ac.COUPON_SEPARATOR}),id:E++}),e.reduce((e,t)=>e.concat(t),[])}return[]}},function(e,t,s){"use strict";s.d(t,"b",(function(){return l})),s.d(t,"a",(function(){return d}));var r=s(10),n=s(0),a=s(143),o=s(8),i=s(339),c=s(54);const l=({state:e,stateSelectors:t})=>{const s=e?Object(r.selectors)(e):t,i=(0,s.getSetting)(n.Kd.MARKETING_PREFERENCES_SETTING);if(i&&i[a.b])return!1;const c=s.getRoute,l=s.getAccountIdByFolderId,d=s.getInboxFolderIdByAccountId,E=(0,s.getWindowDimensions)(),_=E.innerWidth,u=E.innerHeight,p=c();if(_<800||u<625||p.name!==n.rd.FOLDER)return!1;const m=Object(o.z)(p),S=Object(o.q)(m);return d(l(S))===S},d=({state:e,action:t})=>{const s=t.mailoverlay,r=!!s,n=l({state:e}),a=r&&i.a.find(e=>e===s.template);return c.a.error("enableDispatcherSubscriptionUpsellsLog",{mailoverlayExists:r,enableUpsell:n,template:a}),!!a&&n}},function(e,t,s){"use strict";s.d(t,"f",(function(){return c})),s.d(t,"g",(function(){return l})),s.d(t,"e",(function(){return d})),s.d(t,"d",(function(){return E})),s.d(t,"c",(function(){return _})),s.d(t,"b",(function(){return u})),s.d(t,"i",(function(){return p})),s.d(t,"h",(function(){return m})),s.d(t,"a",(function(){return S}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=()=>({type:a.VIDEO_PLAYER_CLOSED}),l=()=>({type:a.VIDEO_PLAYER_OPENED}),d=({payload:e})=>({type:a.VIDEO_CHANNELS_METADATA_RECEIVED,payload:e}),E=({error:e})=>({type:a.VIDEO_CHANNELS_METADATA_FAILED,error:e}),_=e=>i({type:a.VIDEO_CHANNEL_RECEIVED},e),u=e=>i({type:a.VIDEO_CHANNEL_FAILED},e),p=()=>({type:a.VIDEO_PLAYER_PLAYED}),m=()=>({type:a.VIDEO_PLAYER_PAUSED}),S=e=>i({type:a.EMPTY_FOLDER_VIDEO_FETCH_CHANNEL},e)},function(e,t,s){"use strict";s.d(t,"a",(function(){return l})),s.d(t,"c",(function(){return d})),s.d(t,"b",(function(){return E}));var r=s(3),n=s.n(r),a=s(2),o=s(5);function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const l=e=>c({type:a.SUGGESTIONS_REQUESTED},e,{i13nModel:{isBeaconEvent:!0,eventName:o.a.SEARCH_SUGGESTION,etrg:"change",outcome:"search_suggestion_dropdown"}}),d=e=>c({type:a.SUGGESTIONS_RECEIVED},e),E=e=>c({type:a.SUGGESTIONS_FAILED},e)},function(e,t,s){"use strict";s.d(t,"e",(function(){return c})),s.d(t,"d",(function(){return l})),s.d(t,"c",(function(){return d})),s.d(t,"b",(function(){return E})),s.d(t,"f",(function(){return _})),s.d(t,"a",(function(){return u}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>i({type:a.SUBSCRIPTION_LIST_FETCH_SUCCEEDED},e),l=e=>i({type:a.SUBSCRIPTION_LIST_FETCH_FAILED},e),d=e=>i({type:a.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED},e),E=e=>i({type:a.SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED},e),_=e=>i({},e,{type:a.SUBSCRIPTION_LIST_FILTER_CHANGED}),u=e=>i({},e,{type:a.SUBSCRIPTION_LIST_SORT_ORDER_CHANGED})},function(e,t,s){"use strict";var r=s(0),n=s(81),a=s(9),o=s(19),i=s(22);const c=Object(a.d)(Object(a.h)(r.xc));t.a={getBlockPayload:(e,t)=>{Object(o.a)(c.hasOwnProperty(t.attributeId),"Unknown mailbox attribute: "+t.attributeId);return{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/attributes/@.id==${t.attributeId}`,method:"GET"}},transformResponse:e=>{const t=e.response.result,s=t.id,o=t.value,c={};if(c[s]=Object.keys(r.Ac).some(e=>r.xc[e]===s)?{value:o[s],testAndSet:o.testAndSet}:o,s===r.xc.LEGAL_JURISDICTION&&(c[s].value=c[s].tags?c[s].tags:[]),s===r.xc.CONSENT_EVENTS){const e=[];Object.keys(c[s]).forEach(t=>{"optedIn"===Object(a.b)(c[s],t+".status","")&&e.push(t)}),c[s]={value:e}}if(s===r.xc.CP_SUBSCRIPTIONS){var l;const e=(null===(l=c[s])||void 0===l?void 0:l.subscriptions)||[];c[s]={value:e}}return s===r.xc.COMPOSE_FONT_SIZE&&"16"===c[s].value&&(c[s].value=n.b[16]),s===r.xc.COMPOSE_FONT_FAMILY&&"Helvetica Neue"===c[s].value&&(c[s].value=r.sb.FAMILY),s===r.xc.THEME&&"purple"===c[s].value&&(c[s].value=i.j.DEFAULT),s===r.xc.THEME_MODE&&"light"===c[s].value&&(c[s].value=i.i.LIGHT),c}}},function(e,t,s){"use strict";var r=s(1);t.a=Object(r.createContext)({partner:""})},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F",clippedContainer:"K_q o_h a_3rBgu",label:"D_F ab_C y_Z2hYGcu A_6EqO P_eo6",itemLabel:"em_N P_0 o_h G_e",labelText:"X_eo6",customGroup:"K_3rehn iz_A iy_h P_cFf",systemGroup:"hd_n P_cFf M_0 m_Z14vXdP",lastGroup:"hd_n P_cFf M_0 m_0",popoverContainer:"D_F",popoverContent:"P_Z1gGUOP",shortcut:"ab_CH Q_fq7 Z_0",fullLabel:"D_F W_6D6F",anchorButton:"a_3rtg7",noResultContainer:"D_F ab_C C_Z1Xxgu0 i_6VdP k_w",inputContainer:"D_F ab_C k_w X_6EGz N_6Fd5 W_3rBgu",inputField:"em_N cn_0 W_6D6F H_6VdP N_0 X_0 A_6EqO C_Z281SGl ir3_0",highlightedListItem:"I_1I4z5p O_N I4_1I4z5p",listItem:"I_52qC",createFolderAction:"hd_n P_cFf M_0 m_0 z_Z14vXdP je_eo6"}},_key:"TITBU"}},function(e,t,s){"use strict";s.d(t,"b",(function(){return c})),s.d(t,"c",(function(){return l})),s.d(t,"a",(function(){return d})),s.d(t,"d",(function(){return E}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>i({type:a.BREAKING_NEWS_DISMISSED},e),l=e=>i({type:a.BREAKING_NEWS_REFRESH},e),d=e=>i({type:a.BREAKING_NEWS_CLICKED},e),E=e=>i({type:a.BREAKING_NEWS_RENDERED},e)},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(6),d=s(13),E=s(135),_=s(59),u=s(4),p=s(21),m=s(10),S=s(847),h=s.n(S);const C=Object(l.defineMessages)({enter_zip_code:{id:"select_locations_menu.enter_zip_code",defaultMessage:"Enter your zip code"},error:{id:"select_locations_menu.error",defaultMessage:"Unable to find any available {retailerName} store in zip code {zipCode}."},nearby:{id:"select_locations_menu.nearby",defaultMessage:"Nearby pickup stores"},select_store:{id:"select_locations_menu.select_store",defaultMessage:"Select {retailerName} store"},select_store_body:{id:"select_locations_menu.select_store_body",defaultMessage:"Price and availability depend on location. Enter your zip code and select your nearby pickup-eligible store to add items to cart."}});class g extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{zipCode:this.props.currentZipCode||"",isValid:!1}),n()(this,"handleInputChange",e=>{const t=e.target.value;this.setState({zipCode:t,isValid:5===t.length})}),n()(this,"handleKeyDown",e=>{const t=this.props,s=t.allLocations,r=t.getRetailerLocations,n=t.retailerId,a=t.updateCurrentZipCode,o=this.state,i=o.zipCode,c=o.isValid;"Enter"===Object(E.getEventKey)(e)&&c&&((null==s?void 0:s[i])?this.setState({zipCode:i}):r({zipCode:i,retailerId:n}),a(i))}),n()(this,"handleKeyPress",e=>{const t=String.fromCharCode(e.keyCode||e.which);/\D+/.test(t)&&e.preventDefault()}),n()(this,"getRetailerLocations",()=>{const e=this.props,t=e.allLocations,s=e.getRetailerLocations,r=e.retailerId,n=e.updateCurrentZipCode,a=this.state.zipCode;(null==t?void 0:t[a])?this.setState({zipCode:a}):s({zipCode:a,retailerId:r}),n(a)}),n()(this,"_renderMenuBody",(e,t,s)=>{const r=this.props,n=r.retailerName,a=r.selectStoreLocation,o=this.state.zipCode,i=this.context.intl.formatMessage,l=t.map((t,s)=>{const r=t||{},n=r.name,o=r.distance,i=t.address||{},l=i.addressLocality,d=i.postalCode,E=i.streetAddress,_=l&&d?`${l}, ${l} ${d.slice(0,5)}`:"";return c.a.createElement("div",{key:n,className:e.addressContainer,"data-test-id":"retailer-store-menu-item",onClick:()=>a(t)},c.a.createElement("div",{className:e.indexNumber},s+1),c.a.createElement("div",{className:e.address},!!n&&c.a.createElement("div",{className:e.addressTitle},n),!!E&&c.a.createElement("div",{className:e.addressBody},E),!!_&&c.a.createElement("div",{className:e.addressLocality},_)),c.a.createElement("div",{className:e.distance},Math.round(100*o)/100+" mi"))});return t.length?c.a.createElement("div",{className:e.menuContainer},c.a.createElement("div",{className:e.nearby},i(C.nearby)),l):s?c.a.createElement("div",{className:e.errorHint},c.a.createElement("span",null,i(C.error,{retailerName:n,zipCode:o}))):c.a.createElement("div",{className:e.emptyContainer},c.a.createElement("div",{className:e.emptyTitle},i(C.select_store,{retailerName:n})),c.a.createElement("div",{className:e.emptybody},i(C.select_store_body)))})}render(){var e;const t=this.props.allLocations,s=this.state,r=s.zipCode,n=s.isValid,a=this.context.intl.formatMessage,o=(null==t?void 0:t[r])||[],i=0===(null==t||null===(e=t[r])||void 0===e?void 0:e.length),l=this.context.getCss(h.a,{isValid:n,noLocations:i});return c.a.createElement("div",{className:l.container},c.a.createElement("div",{className:l.inputContainer},c.a.createElement("input",{"data-test-id":"zipcode-input",className:l.zipCodeInput,maxLength:"5",onChange:e=>this.handleInputChange(e),onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,placeholder:a(C.enter_zip_code),type:"text",value:r}),c.a.createElement("span",{className:l.enter},c.a.createElement(p.default,{"data-test-id":"zipcode-submit-icon",title:"submit",colorState:u.ColorStates.WHITE,disabled:!n||i,kind:u.Kinds.ENTER,onClick:this.getRetailerLocations,size:u.Sizes.XS}))),this._renderMenuBody(l,o,i))}}n()(g,"defaultProps",{selectStoreLocation:()=>{},updateCurrentZipCode:()=>{}}),n()(g,"contextTypes",{getCss:o.a.func,intl:l.intlShape.isRequired});t.a=Object(d.connect)((e,{retailerId:t=""})=>({allLocations:(0,(0,Object(m.selectors)(e).getRetailersSelectors)().getAllStoresLocations)(t)}),e=>({getRetailerLocations:t=>e(Object(_.k)(t))}))(g)},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F a_3He0m ek_BB",textInput:"A_6EqO M_27m5tQ p_R",titleLabel:"A_6EWk M_1Wjk7b u_dPo",label:"u_b A_6EqO M_3gIgH i_6Mbr",hintTop:"A_6DUj M_1IaimO C_Z281SGl",oAuthHint:"A_6EqO Y_6LEV U_6NIX i_6LEV C_Z281SGl",hint:"C_Z1TsNWR A_6DUj U_6Fd5",link:"C_Z2aVTcY Q_dRA u_e69 r_P",iconsWrapper:"D_F ab_C gl_CI H_6TFj M_1S6wUp",backButton:"P_1EudUu H_6TFj i_N",primaryButton:"H_6TFj M_1MYy0B s_7yHc P_1EudUu i_N",cancelButton:"H_6TFj i_N",errorWrapper:"A_6EqO i_6LEV C_ZkiIcp D_F ab_CI",errorIcon:"E_fq7 D_F",errorHeader:"M_0 i_6LEV",errorInvalidReason:"C_ZkiIcp D_B A_6DUj M_fq7",tryAgain:"D_B C_Z2aVTcY u_e69 r_P",typeaheadInputContainer:"W_6D6F p_R",typeaheadInput:"A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T z_0 x_0 n_0 bm_FJ bn_dBP bj_Z1TsNWR J_x ir_0 G_e bj3_Z2aVTcY",typeaheadInputHint:"A_6EqO W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T",clearIconContainer:"p_a T_eTB R_0 P_3gJOe Z_N"},inNewUserTasksCue:{container:"ab_C a_3z5BY M_Z180kBu",label:"je_Q i_6TFj A_6FsP",typeaheadInputContainer:"A_6FsP",typeaheadInput:"A_6FsP i_6TFj bm_n",typeaheadInputHint:"A_6FsP i_6TFj",textInput:"M_Z1TfvOq j_Z21UVYX e_eDQ W_3z5BY H_73HH",clearIconContainer:"T_6Eb4",hintTop:"M_sKHxR",hint:"Y_fq7 U_dm5",iconsWrapper:"M_1KmyGx",titleLabel:"M_1IaimO",oAuthHint:"W_3w4tj",oAuthLink:"A_6EqO U_6Fd5 i_6LEV C_Z281SGl"}},_key:"Z20ETjp"}},function(e,t,s){"use strict";s.d(t,"b",(function(){return y})),s.d(t,"c",(function(){return w}));var r=s(3),n=s.n(r),a=s(31),o=s(2),i=s(93),c=s(219),l=s(33),d=s.n(l),E=s(43),_=s.n(E),u=s(30),p=s.n(u);function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function S(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const h=Object.prototype.hasOwnProperty,C=(e={},t=[])=>t.reduce((e,{listId:t,id:s})=>S({},e,{[t]:S({},e[t]||{},{[s]:!0})}),S({},e)),g=(e={},t=[])=>t.reduce((e,{listId:t,id:s})=>S({},e,{[t]:_()(e[t]||{},s)}),S({},e)),O=e=>e.reduce((e,{listId:t,id:s})=>S({},e,{[t]:S({},e[t]||{},{[s]:!0})}),{});var T=function(e={},t){const s=t.streamItem,r=void 0===s?{}:s,n=t.selectionPayload,a=void 0===n?{}:n,i=t.streamItems,l=void 0===i?[]:i,E=a.oldCursor,_=a.oldSelectedItems,u=void 0===_?[]:_;switch(t.type){case o.ALL_STREAM_ITEMS_SELECTED:case o.STREAM_ITEMS_SELECTION_CHANGED:{const e=t.selectedItems;return C({},void 0===e?[]:e)}case o.STREAM_CONTEXT_MENU:return u.some(e=>p()(e,r))?e:C(S({},g(O(u),[...u])),[r]);case o.STREAM_ITEM_TOGGLED:case o.ITEMS_DRAG_STARTED:return r.id?u.some(e=>p()(e,r))?g(O(u),[r]):C(O(u),[r]):e;case o.STREAM_ITEMS_MULTIPLE_TOGGLE:return r.id&&t.multipleStreamItems?u.some(e=>p()(e,r))?g(O(u),[r]):C(O(u),t.multipleStreamItems):e;case o.STREAM_ITEMS_RANGE_SELECTED:{if(!r.id)return e;if(!E)return C(O(u),[r]);const t=l.findIndex(e=>p()(e,r)),s=[E.index,t].sort((e,t)=>e-t),n=d()(s,2),a=n[0],o=n[1];return C(O(u),l.slice(a,o+1))}case o.STREAM_SELECT_CURSOR_MOVED:{const s=t.movement,r=Object(c.b)(E||{},s,l);if(!u.some(e=>p()(e,r.streamItem))){const e=[r.streamItem];return E&&E.streamItem&&e.push(E.streamItem),C(O(u),e)}return E&&E.streamItem?g(O(u),[E.streamItem]):e}case o.MORE_SEARCH_LIST_ITEMS_RECEIVED:case o.MORE_MESSAGES_REQUEST_SUCCESS:{const s=t.listData,r=t.allItemsSelected,n=t.listId,a=(void 0===s?{}:s).groupIdToMessageIdsMap,o=Object.keys(void 0===a?{}:a),i=o.map(e=>({listId:n,id:e}));return r&&0!==o.length?C(e,i):e}case o.STREAM_CURSOR_MOVED:case o.STREAM_ITEMS_SELECTION_CLEARED:case o.DELETE_ITEMS_REQUESTED:case o.BLOCK_SENDERS_REQUESTED:case o.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case o.MOVE_ITEMS_REQUESTED:case o.MOVE_AND_READ_CHANGE_REQUESTED:case o.RECENT_AND_READ_CHANGE_REQUESTED:case o.SEND_SUCCESS:case o.PREVIEW_MESSAGE_CLOSED:case o.V3_MESSAGE_SEND_SUCCEEDED:case o.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case o.PREVIEW_MESSAGE_REQUESTED:case o.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case o.UPDATE_ITEMS_FAILED:return Object.keys(e).length?{}:e;case o.OPEN_PAGE_REQUESTED:case o.SEARCH_INPUT_FOCUSED:{const s=t.clearSelection;return void 0!==s&&s&&Object.keys(e).length?{}:e}default:return t.clearSelection&&Object.keys(e).length?{}:e}};var A=s(0);var I=(e=A.Hd.NONE,t)=>{switch(t.type){case o.ALL_STREAM_ITEMS_SELECTED:return A.Hd.ALL;case o.STREAM_ITEMS_SELECTION_CHANGED:return t.selectionType;case o.STREAM_ITEMS_SELECTION_CLEARED:case o.STREAM_ITEM_TOGGLED:case o.ITEMS_DRAG_STARTED:case o.STREAM_ITEMS_RANGE_SELECTED:case o.STREAM_SELECT_CURSOR_MOVED:case o.STREAM_CURSOR_MOVED:case o.DELETE_ITEMS_REQUESTED:case o.BLOCK_SENDERS_REQUESTED:case o.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case o.MOVE_ITEMS_REQUESTED:case o.MOVE_AND_READ_CHANGE_REQUESTED:case o.SEND_SUCCESS:case o.V3_MESSAGE_SEND_SUCCEEDED:case o.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case o.PREVIEW_MESSAGE_REQUESTED:case o.PREVIEW_MESSAGE_CLOSED:return A.Hd.NONE;case o.OPEN_PAGE_REQUESTED:case o.SEARCH_INPUT_FOCUSED:{const s=t.clearSelection;return void 0!==s&&s?A.Hd.NONE:e}default:return e}};var f=s(8),D=s(5);var R=s(48);function b(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function N(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const M=(e=[],t=(()=>{}))=>{const s=((e=[])=>e.reduce((e,t)=>N({},e,{[t.listId]:(e[t.listId]||[]).concat(t.id)}),{}))(e),r=Object.keys(s).reduce((e,r)=>{const n=t(r)||[];return e[r]=n.length?s[r].filter(e=>-1===n.indexOf(e)):s[r],e},{});return e.filter(({id:e,listId:t})=>-1!==(r[t]||[]).indexOf(e))},y=e=>{const t=[];return e.forEach(e=>{const s=Object(f.w)(e.listId);if(s===A.ac.MESSAGES)t.push({id:e.id,listId:e.listId});else if(s===A.ac.IMAGES){e.items.forEach(e=>{t.push({id:e.id,listId:e.listId,messageId:e.messageGroupId,previewable:e.previewable,downloadUrl:e.downloadUrl})})}else s===A.ac.DOCUMENTS&&t.push({id:e.id,listId:e.listId,messageId:e.messageGroupId,previewable:e.previewable,downloadUrl:e.downloadUrl})}),t},L=e=>`${e.listId}-${e.csid}`,P=(e={},t)=>{const s=t.itemToUpdate;switch(t.type){case o.CONTACTS_LIST_FETCH_SUCCEEDED:{if(!s)return e;const r=s.category,n=s.contacts,a=void 0===n?[]:n,o=s.remainingCount,i=void 0===o?0:o,c=t.listId,l=Object(f.gb)(c,{name:r}),d=L({csid:l,listId:c});return a.length+i>A.ic?e:_()(e,d)}case o.CATEGORY_LIST_EXPANSION_TOGGLED:{const s=L({csid:t.categoryListId,listId:t.listId});return e[s]?_()(e,s):N({},e,{[s]:!0})}case o.CONTACT_SAVE_SUCCEEDED:{const s=t.streamId,r=t.streamItem,n=L({csid:r.listId,listId:s}),a=L({csid:r.oldListId,listId:s}),o=e[n]?_()(e,n):e;return o[a]?_()(o,a):o}case o.CONTACTS_SORT_ORDER_CHANGED:case o.DELETE_CONTACT_FAILED:return{};case o.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:case o.MESSAGE_CARD_EXPANSION_CHANGED:case o.STAR_CHANGE_REQUESTED:case o.RECENT_AND_READ_CHANGE_REQUESTED:case o.READ_CHANGE_REQUESTED:{if(!s)return e;const t=L({csid:s.csid,listId:s.listId});return N({},e,{[t]:s.expansionState})}case o.CLOSE_PAGE_REQUESTED:return e;case o.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case o.V3_MESSAGE_SEND_SUCCEEDED:{const s=t.listId,r=t.shouldCreateExpansionState,n=t.csid;if(!(void 0!==r&&r))return e;const a=L({csid:t.inReplyToMessageCsid,listId:Object(f.gb)(s,{listContentType:A.ac.MESSAGE})}),o=L({csid:n,listId:Object(f.gb)(s,{listContentType:A.ac.MESSAGE})}),i=N({},e);return i[a]||(i[a]=A.L.TEMPORARY_EXPANSION),i[o]||(i[o]=A.L.TEMPORARY_EXPANSION),i}case o.PREVIEW_MESSAGE_REQUESTED:case o.STREAM_CURSOR_MOVED:case o.STREAM_SELECT_CURSOR_MOVED:case o.OPEN_PAGE_REQUESTED:case o.STREAM_ITEM_TOGGLED:case o.STREAM_CONTEXT_MENU:case o.STREAM_ITEMS_MULTIPLE_TOGGLE:case o.STREAM_ITEMS_RANGE_SELECTED:{const s=Object.keys(e).filter(t=>e[t]!==A.L.TEMPORARY_EXPANSION&&e[t]!==A.L.TEMPORARY_COLLAPSE).reduce((t,s)=>N({},t,{[s]:e[s]}),{});return t.temporaryExpansionState?t.temporaryExpansionState.reduce((e,t)=>N({},e,{[L({csid:t.csid,listId:t.listId})]:t.expansionState}),s):s}default:return e}},v=Object(a.combineReducers)({cursor:c.a,selectedItems:T,selectionType:I,expansionState:P}),F=(e,t={})=>e.persistStreamItemExpansionStates?e.persistStreamItemExpansionStates.reduce((t,s)=>N({},t,{[s.streamId]:v(t[s.streamId],N({},e,{itemToUpdate:s}))}),N({},t)):t,U=(e,t)=>{const s=t.type,r=t.streamItem,n=void 0===r?{}:r;return Object.keys(e).filter(Boolean).reduce((r,a)=>{let i=e[a].expansionState;return[o.PREVIEW_MESSAGE_REQUESTED,o.OPEN_PAGE_REQUESTED].includes(s)&&Object(R.b)(n.listId,n.id)===a||(i=P(e[a].expansionState,t)),N({},r,{[a]:N({},e[a],{expansionState:i})})},{})};t.a=(e={},t)=>{switch(t.type){case o.CONTACTS_LIST_FETCH_SUCCEEDED:{const s=t.listId,r=t.contacts,n=void 0===r?[]:r,a=Object(f.x)(s);return n.length&&a!==A.bc.TOP_CONTACTS?n.reduce((e,r)=>N({},e,{[s]:v(e[s],N({},t,{itemToUpdate:r,listId:s}))}),N({},e)):e}case o.CATEGORY_LIST_EXPANSION_TOGGLED:{const s=t.listId;return N({},e,{[s]:v(e[s],t)})}case o.CONTACTS_SORT_ORDER_CHANGED:{const s=Object(f.k)(A.bc.USER_CREATED_CONTACTS);return N({},e,{[s]:v(e[s],t)})}case o.CREATE_CONTACT_SUCCEEDED:case o.CONTACT_SAVE_SUCCEEDED:{const s=t.streamId;return N({},e,{[s]:v(e[s],t)})}case o.DELETE_CONTACT_FAILED:case o.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:case o.MESSAGE_CARD_EXPANSION_CHANGED:return t.itemsToUpdate.reduce((e,s)=>N({},e,{[s.streamId]:v(e[s.streamId],N({},t,{itemToUpdate:s}))}),N({},e));case o.ALL_STREAM_ITEMS_SELECTED:case o.STREAM_ITEMS_SELECTION_CHANGED:case o.STREAM_ITEMS_SELECTION_CLEARED:case o.MESSAGE_GROUP_OPENED:case o.MESSAGE_CARD_FOCUSED:{const s=t.streamId;return s?N({},e,{[s]:v(e[s],t)}):e}case o.PREVIEW_MESSAGE_CLOSED:{const s=t.streamId,r=t.expansionStatesToRemove,n=void 0===r?[]:r,a=s?N({},e,{[s]:v(e[s],t)}):e;return n.reduce((e,t)=>N({},e,{[t]:N({},e[t],{expansionState:{}})}),a)}case o.MORE_SEARCH_LIST_ITEMS_RECEIVED:case o.MORE_MESSAGES_REQUEST_SUCCESS:{const s=t.listId,r=t.streamItems,n=void 0===r?[]:r,a=t.listData,o=t.streamId||Object(R.a)([s]),i=y(n);return o?N({},e,{[o]:v(e[o],N({},t,{oldMessageStreamItems:i,newMessageStreamItems:i.concat(Object.keys(a.lists||[]).reduce((e,t)=>(a.lists[t].itemIds.forEach(s=>{e.push({id:s,listId:t})}),e),[]))}))}):e}case o.SEARCH_INPUT_FOCUSED:{const s=t.streamId,r=t.clearSelection,n=void 0!==r&&r;return s&&n?N({},e,{[s]:v(e[s],t)}):e}case o.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{const s=t.triggeredFromContextMenu,r=t.streamId;return void 0!==s&&s&&r?N({},e,{[r]:v(e[r],t)}):e}case o.ITEMS_DRAG_STARTED:{const s=t.streamId,r=t.streamItems,n=void 0===r?[]:r,a=t.streamItem,o=void 0===a?{}:a,i=t.selectionPayload,c=(void 0===i?{}:i).oldSelectedItems;return(void 0===c?[]:c).find(e=>p()(e,o))?e:s?N({},e,{[s]:v(e[s],N({},t,{streamItems:y(n)}))}):e}case o.OPEN_PAGE_REQUESTED:{const n=[D.g.OPEN_MSG,D.g.DOC_READ_MSG,D.g.PHOTO_READ_MSG],a=[D.g.PHOTO_OPEN,D.g.DOC_OPEN],o=((e={})=>e.i13nModel||e.uiContext||{})(t)||{};if(-1===[...n,...a].indexOf(o.mKey))return e;const i=t.streamId,c=t.streamItems,l=void 0===c?[]:c,d=t.temporaryExpansionState,E=void 0===d?[]:d;if(!i){if(E.length>0){var s;const r=E[0].streamId;return N({},e,{[r]:N({},e[r],{expansionState:P((null===(s=e[r])||void 0===s?void 0:s.expansionState)||{},t)})})}return e}let _=N({},e,{[i]:v(e[i],N({},t,{streamItems:y(l),temporaryExpansionState:null}))});if(_=U(_,N({},t,{temporaryExpansionState:null})),E.length>0){var r;const e=E[0].streamId;return N({},_,{[e]:N({},_[e],{expansionState:P((null===(r=_[e])||void 0===r?void 0:r.expansionState)||{},t)})})}return _}case o.PREVIEW_MESSAGE_REQUESTED:case o.STREAM_ITEM_TOGGLED:case o.STREAM_CONTEXT_MENU:case o.STREAM_ITEMS_MULTIPLE_TOGGLE:case o.STREAM_ITEMS_RANGE_SELECTED:case o.STREAM_SELECT_CURSOR_MOVED:case o.STREAM_CURSOR_MOVED:{const s=t.streamId,r=t.streamItems,a=t.temporaryExpansionState,o=void 0===a?[]:a;if(!s)return e;let i=N({},e,{[s]:v(e[s],N({},t,{streamItems:y(void 0===r?[]:r),temporaryExpansionState:null}))});if(i=U(i,N({},t,{temporaryExpansionState:null})),o.length>0){var n;const e=o[0].streamId;return N({},i,{[e]:N({},i[e],{expansionState:P((null===(n=i[e])||void 0===n?void 0:n.expansionState)||{},t)})})}return i}case o.V3_MESSAGE_SAVE_SUCCEEDED:case o.MESSAGE_SAVE_SUCCEEDED:case o.MESSAGE_AUTO_SAVE_SUCCEEDED:{const s=t.streamId;return s&&e[s]?N({},e,{[s]:v(e[s],t)}):e}case o.RECENT_AND_READ_CHANGE_REQUESTED:case o.READ_CHANGE_REQUESTED:{const s=t.isRead,r=t.streamId,n=t.itemsToUpdate,a=void 0===n?[]:n,o=t.streamItems,c=t.isOldNewMailStyle;if(!a.length)return e;const l=y(void 0===o?[]:o),d=e=>c?Object(i.c)(a,e,s?"read":"unread"):Object(i.a)(a,e,s?[]:["unread"]),E=N({},e,{[r]:v(e[r],N({},t,{oldMessageStreamItems:l,newMessageStreamItems:M(l,e=>d(e))}))});return F(t,E)}case o.STAR_CHANGE_REQUESTED:{const s=t.isStarred,r=t.streamId,n=t.itemsToUpdate,a=void 0===n?[]:n,o=t.streamItems;if(!a.length)return e;const c=y(void 0===o?[]:o),l=N({},e,{[r]:v(e[r],N({},t,{oldMessageStreamItems:c,newMessageStreamItems:M(c,e=>Object(i.a)(a,e,s?["flagged","starred"]:[]))}))});return F(t,l)}case o.MOVE_AND_READ_CHANGE_REQUESTED:{const s=t.isRead,r=t.streamId,n=t.itemsToUpdate,a=void 0===n?[]:n,o=t.streamItems,c=t.listsToUpdate,l=void 0===c?[]:c;if(!a.length)return e;const d=y(void 0===o?[]:o);return N({},e,{[r]:v(e[r],N({},t,{oldMessageStreamItems:d,newMessageStreamItems:M(d,e=>{const t=l.find(t=>t.listId===e)||{},r=Object(i.b)(a,t.folderIds),n=Object(i.c)(a,e,s?"read":"unread"),o=r.concat(n);return o.filter((e,t)=>o.indexOf(e)===t)})}))})}case o.DELETE_ITEMS_REQUESTED:case o.BLOCK_SENDERS_REQUESTED:case o.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case o.MOVE_ITEMS_REQUESTED:case o.SEND_SUCCESS:case o.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case o.V3_MESSAGE_SEND_SUCCEEDED:{const s=t.streamId,r=t.streamItem,n=t.listId,a=t.conversationsMode,o=t.itemsToUpdate,c=void 0===o?[]:o,l=t.streamItems,d=t.listsToUpdate,E=void 0===d?[]:d,_=t.inReplyToMessageCsid;if(!c.length)return e;const u=y(void 0===l?[]:l),p=a&&_?Object(R.b)(n,r.id):null;return N({},e,{},p?{[p]:v(e[p],N({},t,{shouldCreateExpansionState:!0}))}:null,{[s]:v(e[s],N({},t,{oldMessageStreamItems:u,newMessageStreamItems:M(u,e=>{const t=E.find(t=>t.listId===e)||{};return Object(i.b)(c,t.folderIds)})}))})}case o.UPDATE_ITEMS_FAILED:{const s=t.streamId,r=t.itemsToDelete,n=void 0===r?[]:r,a=t.streamItems,o=t.listsToUpdate,c=void 0===o?[]:o;if(0===n.length)return e;const l=y(void 0===a?[]:a);return N({},e,{[s]:v(e[s],N({},t,{oldMessageStreamItems:l,newMessageStreamItems:M(l,e=>{const t=c.find(t=>t.listId===e)||{};return Object(i.b)(n,t.folderIds)})}))})}case o.CHECK_MAIL_RECEIVED_WITH_UPDATES:case o.CHANGE_FOLDER_SUCCEEDED:{const s=t.streamId,r=t.listData,n=t.streamItems,a=void 0===n?[]:n;return r.lists?N({},e,{[s]:v(e[s],N({},t,{oldMessageStreamItems:y(a),newMessageStreamItems:Object.keys(r.lists||[]).reduce((e,t)=>(r.lists[t].itemIds.forEach(s=>{e.push({id:s,listId:t})}),e),[])}))}):e}case o.CLOSE_PAGE_REQUESTED:{const s=t.streamId,r=t.route,n=t.shouldPersistStream,a=void 0!==n&&n;return s&&(r&&!a)?_()(e,[s]):e}default:return e}};const w=(e={})=>({doesStreamExist:t=>!!e[t],getSelectedItemsSelectors:t=>((e={})=>({getSelectedItems:()=>Object.keys(e).reduce((t,s)=>t.concat(Object.keys(e[s]).map(e=>({id:e,listId:s}))),[]),isItemSelected:t=>e[t.listId]&&e[t.listId][t.id],hasSelectedItems:()=>{let t,s;for(s in e)if(h.call(e,s))for(t in e[s])if(h.call(e[s],t))return!0;return!1}}))(e[t].selectedItems),getCursorSelectors:t=>Object(c.c)(e[t].cursor),getSelectionType:t=>((e=A.Hd.NONE)=>({getSelectionType:()=>e}))(e[t].selectionType).getSelectionType(),getExpansionStateForStreamItem:t=>e[t.streamId].expansionState[L(t)],doesExpansionStateExist:t=>e[t]&&e[t].expansionState&&Object.keys(e[t].expansionState).length>0})},function(e,t,s){"use strict";s.d(t,"a",(function(){return m}));var r=s(3),n=s.n(r),a=s(43),o=s.n(a),i=s(7),c=s.n(i),l=s(1),d=s.n(l),E=s(13),_=s(108),u=s(5);function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function m(e,t,s=!0){const r=e.displayName||e.name;function a(){d.a.Component.apply(this,arguments)}Object.assign(a.prototype,d.a.Component.prototype),a.displayName="featureCueConnector("+r+")",a.contextTypes=t,a.propTypes={cueName:c.a.string.isRequired,onShow:c.a.func,close:c.a.bool,onClick:c.a.func,closeFeatureCue:c.a.func,markFeatureAsShown:c.a.func,computeActionData:c.a.func,computeUserResponse:c.a.func},a.defaultProps={onShow:()=>{},onClick:()=>{},computeActionData:()=>({}),computeUserResponse:()=>""},Object.assign(a.prototype,{componentDidMount(){const e=this.props,t=e.cueName,s=e.computeUserResponse,r=e.markFeatureAsShown,n=e.onShow,a={sec:u.i.FEATURE_CUE,mKey:"cue_"+t+"_invoke"};a.actionData=(0,e.computeActionData)(a.mKey);const o=s(),i={name:t,i13nModel:a};o&&(i.userResponse=o),setImmediate(()=>{r(i),n()})},handleCloseFeatureCue(e,t){const s=Object.assign({sec:u.i.FEATURE_CUE,mKey:`cue_${this.props.cueName}_${e}`},t.i13nModel),r=t.userResponse,n={name:this.props.cueName,i13nModel:s,userAction:e};r&&(n.userResponse=r),this.props.closeFeatureCue(n)},componentWillReceiveProps(e){e.close&&this.handleCloseFeatureCue("close",{i13nModel:{mKey:"cue_"+this.props.cueName+"_success",interactionType:u.e.click}})},render(){const t=e.prototype&&e.prototype.isReactComponent?{ref:"wrappedElement"}:null,s=o()(this.props,["onShow","onClose"]);return d.a.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},s,{},t,{onClose:this.handleCloseFeatureCue.bind(this,"close"),persistent:!0,onSuccess:this.handleCloseFeatureCue.bind(this,"click")}))}});return s?Object(E.connect)(null,e=>({closeFeatureCue:t=>e(Object(_.a)(t)),markFeatureAsShown:t=>e(Object(_.g)(t))}),null,{withRef:!0})(a):a}},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(165),c=(s(9),s(4));function l(e){const t=e.isChecked,s=e.size;return o.a.createElement(i.b,n()({},e,{type:t?i.a.ALL:i.a.NONE,size:s}))}l.defaultProps={size:c.Sizes.XS},t.a=o.a.memo(l)},function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const i=e=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({type:a.PURCHASE_MAILPRO_FREE_TRIAL},e)},function(e,t,s){"use strict";s.d(t,"f",(function(){return E})),s.d(t,"e",(function(){return _})),s.d(t,"c",(function(){return u})),s.d(t,"b",(function(){return p})),s.d(t,"a",(function(){return m})),s.d(t,"d",(function(){return S}));var r=s(3),n=s.n(r),a=s(2),o=s(0),i=s(55),c=s(10);function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function E(e){return d({},e,{type:a.ATTACHMENT_ZOOMED})}function _(e,{i13nModel:t}){e.dispatch(a.ATTACHMENT_OPENED,{i13nModel:t})}function u(e,{documentId:t,pageNumber:s=1}){const r=(0,Object(c.selectors)(e.store.getState()).getDocumentSelectors)().getNumberOfPages(t)||o.D.PAGES_CHUNK_SIZE,n=Object(i.k)(s,r,o.D.PAGES_CHUNK_SIZE);e.dispatch(a.DOCUMENT_FETCH_REQUESTED,{documentId:t,startPage:n.startPage,endPage:n.endPage})}function p({attachment:e,i13nModel:t}){return{attachment:e,type:a.ATTACHMENT_DOWNLOADED,download:{downloadId:e.id,downloadUrl:e.downloadUrl,filename:e.filename,fileCount:1},i13nModel:t}}function m({attachments:e,downloadUrl:t,downloadId:s,filename:r,i13nModel:n}){return{attachments:e,type:a.ALL_ATTACHMENTS_DOWNLOADED,download:{downloadId:s,downloadUrl:t,filename:r,fileCount:e.length},i13nModel:n}}const S=e=>d({type:a.FORWARD_ATTACHMENTS},e)},function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=(s(9),s(62));class c extends o.a.Component{constructor(){super(),n()(this,"recreateOrb",()=>{this.imageRef.current&&(this.imageRef.current.removeAttribute("clip-path","url(#clip-orb)"),this.imageRef.current.setAttribute("clip-path","url(#clip-orb)"))}),this.imageRef=o.a.createRef()}componentDidMount(){this.props.unifyNativeAdFormat||window.requestAnimationFrame(this.recreateOrb)}render(){const e=this.props,t=e.imageSrc,s=e.unifyNativeAdFormat,r=e.size.imageSize;return s&&e.doNotScaleUpImages?o.a.createElement("img",{src:t||i.a,style:{maxWidth:r,maxHeight:r}}):o.a.createElement("svg",{width:r,height:r,viewBox:"0 0 20 20"},o.a.createElement("image",{ref:this.imageRef,xlinkHref:t||i.a,width:"20",height:"20",clipPath:s?"":"url(#clip-orb)"}))}}n()(c,"defaultProps",{doNotScaleUpImages:!1,size:i.b.M,imageSrc:"",unifyNativeAdFormat:!1})},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(34),o=s.n(a),i=s(1),c=s.n(i),l=(s(7),s(13)),d=s(6),E=s(10),_=s(0),u=s(90),p=s(4),m=s(15),S=s(11),h=s(8),C=s(801),g=s.n(C),O=s(12),T=s.n(O),A=s(95),I=s(17),f=s(16),D=s(14);const R=Object(d.defineMessages)({forward:{id:"photo.item.forward",defaultMessage:"Forward"},newDraft:{id:"fwdBtn.txt.new_draft",defaultMessage:"New Draft"},newSubject:{id:"fwdBtn.txt.new_subject",defaultMessage:"New Subject"}}),b=({name:e})=>[_.rd.NEW_DRAFT,_.rd.EDIT_DRAFT,_.rd.MESSAGE_FROM_FOLDER_LIST].indexOf(e)>-1,N=T()(g.a),M=(e,t)=>{const s=e.draftRoutes,r=e.onForward,a=e.colorStates,i=e.onHide,l=o()(e,["draftRoutes","onForward","colorStates","onHide"]),d=t.intl.formatMessage,E=s.length,_=(e,t)=>{if(e.preventDefault(),t)return r(t);const s=Object(f.generateUID)();r(s,Object(D.f)(s))},h=E?{}:{onClick:_},C=c.a.createElement(u.a,n()({kind:p.Kinds.FORWARD,size:p.Sizes.XS,colorStates:a,title:d(R.forward)},l,h));return E?c.a.createElement(A.c,{align:m.a.START,onHide:i,triggerOn:A.b.CLICK,zAltitude:S.Pb.CURSOR,triggerOff:A.a.HOVER_OUT|A.a.CLICK,permittedArrowDirections:[m.h.ANY]},c.a.createElement("div",{"data-test-id":"forward-attachment-btn"},C),c.a.createElement("ul",{className:N.menuContainer,"data-test-id":"forward-attachment-menu"},s.map(({csid:e,title:t,disabled:s})=>{const r=c.a.createElement(c.a.Fragment,null,c.a.createElement(I.b,{size:p.Sizes.XS,kind:p.Kinds.COMPOSE,colorState:s?p.ColorStates.DISABLED:p.ColorStates.INHERITED}),c.a.createElement("span",{className:N.menuText},t||d(R.newSubject)));return c.a.createElement("li",{key:e,className:N.menu},c.a.createElement("a",s?{title:t,className:N.disabledMenuItem}:{onClick:t=>_(t,e),title:t,className:N.menuItem},r))}),c.a.createElement("li",{className:N.separator}),c.a.createElement("li",{key:"new_draft",className:N.menu},c.a.createElement("a",{onClick:_,className:N.menuItem},c.a.createElement(I.b,{kind:p.Kinds.ADD,colorState:p.ColorStates.INHERITED,size:p.Sizes.XS}),c.a.createElement("span",{className:N.menuText},d(R.newDraft)))))):C};M.defaultProps={draftRoutes:[],colorStates:{hovered:p.ColorStates.INVERTED,normal:p.ColorStates.INVERTED_LESS_DIM},onHide:()=>{}},M.contextTypes={intl:d.intlShape};t.a=Object(l.connect)(e=>{const t=Object(E.selectors)(e),s=t.getTabPages,r=t.getMessageSubject,n=t.getDraftMessageId,a=t.getReplyingToMessageId,o=t.getAllDraftsInRoute,i=t.getSelectedAccountIdByRoute,c=[],l=(0,t.getSelectedAccountId)();return s().filter(b).forEach(e=>{const t=Object(h.z)(e),s=o(e),d=i(e);s.forEach(e=>{let s;const o=n(e)||a(e);o&&(s=r(o,t)),c.push({csid:e,title:s,disabled:d!==l})})}),{draftRoutes:c}})(M)},,,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"c",(function(){return o})),s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return c}));var r=s(7),n=s.n(r),a=s(9);let o,i;!function(e){e.MODAL="Modal",e.OVERLAY="Overlay"}(o||(o={})),function(e){e.BIG_PURPLE_HEADER="bigPurpleHeader",e.SMALL_PURPLE_HEADER="smallPurpleHeader",e.BACKGROUND_IMAGE="backgroundImage",e.SIDE_HEADER="sideHeader",e.FALLBACK="fallback"}(i||(i={}));const c=Object(a.h)(i);n.a.shape({oneX:n.a.string.isRequired,twoX:n.a.string,width:n.a.number,height:n.a.number}),n.a.oneOf(Object(a.h)(o)),n.a.oneOf(c)},,,,,,function(e,t,s){"use strict";s.r(t);var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(12),c=s.n(i),l=s(6),d=s(62),E=s(17),_=s(4),u=s(211),p=s.n(u),m=s(29);const S=Object(l.defineMessages)({from_group:{id:"compose.from_group",defaultMessage:"{contactCount, plural, one {# contact} other {# contacts}}"},remove_contact:{id:"compose.btn_remove_contact",defaultMessage:"Remove"}});class h extends o.a.Component{constructor(...e){super(...e),n()(this,"state",{hovered:!1,xButtonHovered:!1}),n()(this,"getDefaultprops",()=>({isSelected:!1,allowContactRemoval:!0})),n()(this,"handleMouseOver",()=>{this.setState({hovered:!0})}),n()(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),n()(this,"renderHighlight",({string:e="",highlightedTextClassName:t,highlightRange:s=[]})=>{const r=[];let n=0;return s.sort((e,t)=>e.s===t.s?e.l-t.l:e.s-t.s),s.forEach(({s:s,l:a},i,c)=>{const l=s+a;r.push(e.slice(n,s)),r.push(o.a.createElement("span",{className:t,"data-test-id":"result-match",key:e+i},e.slice(s,l))),n=l,i===c.length-1&&r.push(e.slice(n))}),o.a.createElement("span",null,r.length?r.map(e=>e):e)}),n()(this,"handleXButtonHover",e=>{this.setState({xButtonHovered:e})})}render(){const e=c()(p.a),t=this.context.intl.formatMessage,s=this.state.xButtonHovered?_.ColorStates.NORMAL:_.ColorStates.DISABLED,r=this.props,n=r.option,a=r.allowContactRemoval,i=void 0===a||a,l=this.state.hovered;return o.a.createElement("div",{className:e.typeaheadOptionContainer,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"suggest-contact-item-container"},o.a.createElement("span",{className:e.contactIcon},o.a.createElement(d.c,{contact:{id:n.id},size:d.b.M})),o.a.createElement("div",{className:e.textContainer},o.a.createElement("div",{className:e.name,"data-test-id":"result-name"},this.renderHighlight({string:n.name,highlightedTextClassName:e.highlight,highlightRange:n.filteredResults&&n.filteredResults.fullName})),o.a.createElement("div",{className:e.email,"data-test-id":"result-email"},n.list?t(S.from_group,{contactCount:n.list.length}):this.renderHighlight({string:n.email,highlightedTextClassName:e.highlight,highlightRange:n.filteredResults&&n.filteredResults.email}))),l&&i?o.a.createElement("span",{className:e.remove,onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1),"data-test-id":"contact-remove-button-wrapper","data-action":m.DELETE_CONTACT},o.a.createElement(E.b,{"data-iskeynav":!0,"data-test-id":"contact-remove-button",kind:_.Kinds.CLOSE,size:_.Sizes.XXS,disabled:l,title:t(S.remove_contact),colorState:s})):null)}}n()(h,"contextTypes",{intl:l.intlShape.isRequired}),t.default=h},,,,,,,,,function(e,t,s){"use strict";s.d(t,"a",(function(){return E})),s.d(t,"b",(function(){return _}));var r=s(208),n=s.n(r),a=s(2),o=s(0),i=s(10),c=s(369),l=s(20),d=s(54);function E(e,{serverInferredTimezone:t,lastObservedTimezone:s}){const r=Object(i.selectors)(e.store.getState()),E=r.getSelectedAccountId,_=(0,(0,r.getFeaturesSelectors)().isEnabled)(o.Eb.SILENT_TIMEZONE_CORRECTION),u=n.a.determine(),p=u&&u.name(),m=E();let S=null;const h=_&&!Object(l.b)(p);if(Object(l.c)()){const e=new c.a({window:window});S=e.getClientTimeZone(),e.determineClientTimeZone()}d.a.error("clientInferredTimezone==>",{clientInferredTimezone:p}),function(e,t,s){t&&t.server===s.server&&t.client===s.client||e.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:o.xc.LAST_OBSERVED_TIMEZONE,value:`${s.client||""}|${s.server||""}`}]})}(e,s,{client:p,server:t}),s&&p!==S&&p!==s.client&&p!==t&&(h?Object(l.g)("timezone-mismatch"):_||e.dispatch(a.TIMEZONE_CHANGE_DETECTED,{accountId:m}))}function _(e){e.dispatch(a.PREFERRED_TIMEZONE_CHANGE_REJECTED)}},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(34),o=s.n(a),i=s(7),c=s.n(i),l=s(1),d=s.n(l),E=s(697),_=s.n(E),u=s(12),p=s.n(u),m=s(9),S=s(0);c.a.oneOf(Object(m.h)(S.xb));t.a=e=>{let t=e.provider,s=o()(e,["provider"]);const r=p()(_.a,{provider:t});return d.a.createElement("div",n()({title:t,className:r.container},s))}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(13),c=s(6),l=s(64),d=s(61),E=s(42),_=s(15),u=s(21),p=s(17),m=s(63),S=s(11),h=s(32),C=s(18),g=s(25),O=s(4),T=s(12),A=s.n(T),I=s(715),f=s.n(I),D=s(94),R=s(0),b=s(10),N=s(73),M=s(5),y=s(137),L=s(44),P=s(14);const v=Object(c.defineMessages)({chevron_title:{id:"ad_feedback.chevron_title",defaultMessage:"Ad Feedback"},why_this_ad:{id:"why_this_ad",defaultMessage:"Why this ad?"},like_this_ad:{id:"ad.feedback.like_this_ad",defaultMessage:"Like this ad"},dislike_this_ad:{id:"ad.feedback.dislike_this_ad",defaultMessage:"Dislike this ad"},start_ad_feedback_form:{id:"start_ad_feedback_form",defaultMessage:"I don't like this ad"},advertise_with_us:{id:"advertise_with_us",defaultMessage:"Advertise with us"},go_ad_free:{id:"ad_upsell_label",defaultMessage:"Go ad-free"},mailpro_free_trial_cta_remove_ads:{id:"mailpro_free_trial_cta_remove_ads",defaultMessage:"Remove ads"},get_mail_pro:{id:"get_mail_pro",defaultMessage:"Get {mailProBrandingString}"},yahoo_mail_pro_upsell_branding:{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"}});class F extends o.a.Component{constructor(...e){super(...e),n()(this,"onChevronClicked",e=>{e.preventDefault(),e.stopPropagation()}),n()(this,"onAdPolicyLinkClick",e=>{e.preventDefault(),this.props.adFeedbackClick({i13nModel:{mKey:M.g.AD_POLICY_LINK_CLICKED,sec:M.i.AD_FEEDBACK,interactionType:M.e.click,actionData:{sectionId:this.props.sectionId}}}),Object(D.a)(this.props.aboutAdsUrl)}),n()(this,"onAdvertiseWithUsLinkClick",e=>{e.preventDefault(),this.props.adFeedbackClick({i13nModel:{mKey:M.g.ADVERTISE_WITH_US_LINK_CLICKED,sec:M.i.AD_FEEDBACK,interactionType:M.e.click,actionData:{sectionId:this.props.sectionId}}}),Object(D.a)(this.props.advertiseWithUsLink)}),n()(this,"onGoAdFreeLink",e=>{e.preventDefault(),this.props.adFeedbackClick({i13nModel:{mKey:M.g.GO_AD_FREE_LINK_CLICKED,sec:M.i.AD_FEEDBACK,interactionType:M.e.click,actionData:{sectionId:this.props.sectionId}}}),Object(D.a)(this.props.goAdFreeLink)}),n()(this,"goToMailProTabInSettings",()=>{this.props.navigateToRoute({route:Object(P.w)({settingsGroupId:R.Nd.MAIL_PRO}),i13nModel:{mKey:M.g.NAVIGATE_TO_MAIL_PRO_TAB_FROM_ADFEEDBACK,sec:M.i.MAILPRO_FREE_TRIAL,interactionType:M.e.click}})}),n()(this,"onLikeAd",e=>{e.preventDefault(),this.props.adFeedbackClick({i13nModel:{mKey:M.g.AD_FEEDBACK_POSITIVE,sec:M.i.AD_FEEDBACK,interactionType:M.e.click,actionData:{sectionId:this.props.sectionId}},feedbackType:y.a.POSITIVE,sectionId:this.props.sectionId,isAdFeedbackV2:!0})}),n()(this,"onDislikeAd",e=>{e.preventDefault(),this.props.adFeedbackClick({i13nModel:{mKey:M.g.AD_FEEDBACK_NEGATIVE,sec:M.i.AD_FEEDBACK,interactionType:M.e.click,actionData:{sectionId:this.props.sectionId}},feedbackType:y.a.NEGATIVE,sectionId:this.props.sectionId,isAdFeedbackV2:!0})}),n()(this,"onAdFeedbackRequest",e=>{const t=this.props,s=t.sectionId,r=t.startAdFeedback;e.preventDefault(),r({i13nModel:{mKey:M.g.AD_FEEDBACK_OPENED,sec:M.i.AD_FEEDBACK,interactionType:M.e.click,actionData:{sectionId:s}},sectionId:s})}),n()(this,"renderAdFeedbackChoices",e=>{const t=this.context.intl.formatMessage,s=this.props,r=s.isRightRailDPAad,n=s.advertiseWithUsEnabled,a=s.isAdFeedbackV2,i=s.mailProEligible,c=s.mailProFreeTrialEnabled;let l=[];return c&&l.push(s.mailProFreeTrialSubscriptionStatus===R.gc.NOT_SUBSCRIBED?{option:"mailpro_free_trial_cta_remove_ads",iconType:O.Kinds.PRO,show:!0,testId:"remove-ads-option",onClick:this.goToMailProTabInSettings}:{option:"get_mail_pro",subStrings:{mailProBrandingString:t(v.yahoo_mail_pro_upsell_branding)},iconType:O.Kinds.PRO,show:!0,testId:"get-mail-pro-option",onClick:this.onGoAdFreeLink}),l=[...l,{option:"why_this_ad",onClick:this.onAdPolicyLinkClick,iconType:O.Kinds.SPONSORED,iconSize:!a&&O.Sizes.M,className:!a&&"sponsor",show:!0,testId:"why-this-ad-option"},{option:"like_this_ad",iconType:O.Kinds.FEEDBACK,show:a,onClick:this.onLikeAd,testId:"like-this-ad-option"},{option:a?"dislike_this_ad":"start_ad_feedback_form",onClick:a?this.onDislikeAd:this.onAdFeedbackRequest,testId:"feedback-menu-start",iconType:O.Kinds.FEEDBACK,iconSize:!a&&O.Sizes.XS,iconRotate:O.Rotate.D180,className:!a&&"feedback",show:!0},{option:"advertise_with_us",onClick:this.onAdvertiseWithUsLinkClick,iconType:O.Kinds.ANNOUNCEMENT,className:!a&&"callout",show:n||a,testId:"advertise-with-us-option"},{option:"go_ad_free",iconType:O.Kinds.PRO,show:a&&i&&!c,onClick:this.onGoAdFreeLink}],l.filter(e=>e.show).map(s=>o.a.createElement(h.a,{key:s.option},o.a.createElement(C.a,{onClick:s.onClick,kind:g.a.MENUITEM,"data-test-id":s.testId,overridingClass:e[a?"adFeedbackItem":"adFeedbackItem_"+s.className]},r||a?o.a.createElement("span",{className:e.iconContainer},o.a.createElement(p.b,{kind:s.iconType,size:s.iconSize||(a?O.Sizes.XS:O.Sizes.S),rotate:s.iconRotate||O.Rotate.D0,colorState:O.ColorStates.INHERITED})):null,o.a.createElement("div",{className:e[a?"adFeedbackText":"adFeedbackText_"+s.className]},s.subStrings?t(v[s.option],s.subStrings):t(v[s.option])))))})}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.kind,r=t.size,n=t.isCompactLayout,a=t.hideFeedbackChevron,i=t.isRightRailDPAad,c=t.isRRCompactSize,p=t.marginLess,h=t.offset,C=t.isAdFeedbackV2,g=A()(f.a,{isCompactLayout:n,hideFeedbackChevron:a,isRightRailDPAad:i,isCompactRightRailDPAad:i&&c,marginLess:p,isAdFeedbackV2:C});return o.a.createElement("div",{onClick:this.onChevronClicked,"data-test-id":"feedback-menu"},o.a.createElement(l.a,null,o.a.createElement(d.a,null,o.a.createElement("span",{className:g.chevronDown},o.a.createElement(u.default,{kind:s,size:r,rotate:O.Rotate.D180,colorState:i?O.ColorStates.FIRST_LEVEL_GRAY:O.ColorStates.INHERITED,title:e(v.chevron_title),tabIndex:-1,paddingLess:!0}))),o.a.createElement(E.b,{triggerOn:_.i.CLICK,permittedArrowDirections:[_.h.UP,_.h.DOWN],offset:h,zAltitude:S.Pb.POPOVER.HIGH,align:_.a.END,isArrowVisible:!i},o.a.createElement("div",{className:g.adFeedbackContainer},o.a.createElement(m.a,{focusOnMount:!0},this.renderAdFeedbackChoices(g))))))}}n()(F,"contextTypes",{intl:c.intlShape.isRequired}),n()(F,"defaultProps",{size:O.Sizes.XXS,kind:O.Kinds.CHEVRON_UP,advertiseWithUsEnabled:!1,isCompactLayout:!1,marginLess:!1,offset:16});t.a=Object(i.connect)(e=>{const t=Object(b.selectors)(e),s=t.getSetting,r=t.isFeatureEnabled,n=t.getMailproFreeTrialSelectors;return{aboutAdsUrl:s(R.Kd.ABOUT_AD_URL),advertiseWithUsLink:s(R.Kd.ADVERTISE_WITH_US_LINK),goAdFreeLink:s(R.Kd.AD_FREE_MAIL_URL),isAdFeedbackV2:r(R.Eb.AD_FEEDBACK_V2),mailProEligible:r(R.Eb.MAIL_PRO_ELIGIBLE),mailProFreeTrialEnabled:r(R.Eb.MAILPRO_FREE_TRIAL),mailProFreeTrialSubscriptionStatus:n().getSubscriptionStatus()}},e=>({startAdFeedback:t=>e(Object(N.y)(t)),adFeedbackClick:t=>e(Object(N.a)(t)),navigateToRoute:t=>e(Object(L.j)(t))}))(F)},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(34),o=s.n(a),i=(s(7),s(1)),c=s.n(i),l=s(6),d=s(4),E=s(21),_=s(781),u=s.n(_),p=s(12);const m=s.n(p)()(u.a),S=Object(l.defineMessages)({search_back:{id:"back_to_list_btn_title",defaultMessage:"Back"}}),h=(e,{intl:{formatMessage:t}})=>{let s=e.showText,r=void 0===s||s,a=e.onClick,i=o()(e,["showText","onClick"]);const l=t(S.search_back);return c.a.createElement(E.default,n()({"data-iskeynav":!0,"data-test-id":"toolbar-back-to-list","aria-label":l,title:l,kind:d.Kinds.ARROW_UP,size:d.Sizes.XS,rotate:d.Rotate.D270,onClick:a,colorState:d.ColorStates.INHERITED,className:m.backToListButton},i),r&&l)};h.contextTypes={intl:l.intlShape.isRequired},t.a=h},function(e,t,s){"use strict";e.exports={className:{default:{container:"ab_C k_w D_F H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_52qC",cboxWrapper:"D_F",usabiltyOptions:"D_F t_r",selectionControlsWrapper:"D_F Q_6EGz",viewMenu:"E_eo6 en_0",listFilterViewMenu:"E_eo6 en_0 D_F",mainActionControls:"D_F em_N gl_C",singleGroupActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",triageActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",closeWrapper:"O_6uB4 cdPFi4_Z2aVTcY",hamSpam:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",archiveRestore:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",deletePerm:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",move:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",more:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarForward:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarSave:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",expandCollapse:"M_0 cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",bottomLine:"M_0 P_0 cn_0 D_n",sortByMenu:"D_F ab_C y_Z2hYGcu X_eo6 A_6EqO cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",nextPrev:"cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",nextPrevDisabled:"cdPFi_sgPuo r_BN cZW7ROP_n",sortByMenuItemIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",sortByMenuItemLabel:"X_6Eb4",popoverListWrapper:"P_3Y3Gk",singleGroupActions:"D_F",singleGroupItem:"D_F M_3gIMd cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",listFilterMenu:"D_F ab_C y_Z2hYGcu X_6FIA A_6EqO lo_AT cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",nextPrevContainer:"D_F P_3gIMd",listHeading:"A_6FsP",rtlRawScaleX:"rtlR_h_2gl0WC",tabs:"P_ZuD6o1 M_1EueWv m_Z14vXdP"},"themeMode-DARK":{container:"I_T m_ZYfFSw C_52qC cdPFi_52qC",singleGroupItem:"cdPFi_ZpQYvz cdPFi4_52qC",hamSpam:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",archiveRestore:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",deletePerm:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",move:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",more:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarForward:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarSave:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarClose:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",expandCollapse:"M_0 cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sortByMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",listFilterMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",nextPrev:"cdPFi_ZpQYvz cdPFi4_52qC",nextPrevDisabled:"cdPFi_ZpQYvz O_cMr r_BN cZW7ROP_n",closeWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"},fullMessageView:{container:"gl_FM"},closeWrapperMargin:{closeWrapper:"Q_fq7"},listWithVerticalPreview:{cboxWrapper:"ip_N ej_d70",viewMenu:"ip_O t_r ej_d70 E_0",singleGroupActions:"ip_P Q_fq7",mainActionControls:"em_N ip_Q",usabiltyOptions:"ip_R",sortMenuContainer:"N_6MGW"},listWithNonVerticalPreview:{container:"gl_FM",viewMenu:"Q_fq7 H_6D6F"},verticalSelectionControlView:{listFilterViewMenu:"p_CS T_6Fd5",listFilterMenu:"X_fq7"},hamSpamDisabled:{hamSpam:"r_n O_6uB4 cZW7ROP_n"},archiveRestoreDisabled:{archiveRestore:"r_n O_6uB4 cZW7ROP_n"},moveDisabled:{move:"r_n O_6uB4 cZW7ROP_n"},deletePermDisabled:{deletePerm:"r_n O_6uB4 cZW7ROP_n"},sponsoredVideoMessage:{sponsoredToolBarForward:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarSave:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY"},groupActionsActive:{singleGroupActionList:"O_N r_BN cZW7ROP_A"},triageActionsActive:{triageActionList:"O_N r_BN cZW7ROP_A",closeWrapper:"O_N"},selectionControlDisabled:{selectionControlsWrapper:"hd_n D_F ab_C M_Z1feokn P_0 O_6uB4 r_n cZW7ROP_n"},showTriageActionsLabels:{hamSpam:"M_1MYwXA",archiveRestore:"M_1MYwXA",deletePerm:"M_1MYwXA",move:"M_1MYwXA",more:"M_1MYwXA"},previewpaneInPixels:{cboxWrapper:"a_ZTjccc",viewMenu:"a_ZTjccc"}},_key:"2v7KjH"}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(12),d=s.n(l),E=s(6),_=s(13),u=s(15),p=s(24),m=s(42),S=s(11),h=s(59),C=s(316),g=s(78),O=s(4),T=s(17),A=s(21),I=s(203),f=s(0),D=s(45),R=s(5),b=s(189),N=s(8),M=s(14),y=s(10),L=s(278),P=s(382),v=s(96),F=s(471),U=s.n(F),w=s(58);const G=Object(E.defineMessages)({save_value:{id:"offer_list_item.save_value",defaultMessage:"Save {value}"},coupon:{id:"offer_list_item.coupon",defaultMessage:"Coupon"},buy_online:{id:"offer_list_item.buy_online",defaultMessage:"Buy online"},weight:{id:"offer_list_item.weight",defaultMessage:"Final cost by weight"},add_item:{id:"offer_list_item.add_item",defaultMessage:"Add item"}}),H="decrement",j="increment",k="viewdetails";class x extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{clipCouponFromBody:!1,currentZipCode:"",offerCardState:!1,showQuotientModal:!1,showLocationsMenu:!1,showSelectLocationsCue:!1}),n()(this,"_i13nModel",()=>{const e=this.props,t=e.contextOfUse;let s=f.Qb.GROCERY_RECO;t===f.Pb.GROCERY_CATEGORY_SEARCH?s=f.Qb.GROCERY_CATEGORY_RESULTS:t===f.Pb.GROCERY_STORE_SEARCH&&(s=f.Qb.GROCERY_SRP),D.b.sendI13nModel({i13nModel:{mKey:R.g.CARD_INTERACT,sec:R.i.QUOTIENT,interactionType:R.e.click,actionData:{catetgoryid:e.categories,featurefamily:f.Cb.IC,interactiontype:k,offerid:e.offerId,oos:0,position:e.offerIndex,retailername:e.retailerName,score:e.score,xpname:s}}})}),n()(this,"toggleOfferCardState",()=>{const e=this.props,t=e.offerId,s=e.retailerId;e.isGroceryWithProduct?e.doesPreferredStoreExist?(this._i13nModel(),this.context.navigateTo({route:Object(M.m)(s,"id!"+t)})):this.setState({showLocationsMenu:!0}):this.setState({offerCardState:!this.state.offerCardState})}),n()(this,"handleQuotientModalClose",()=>{const e=this.props,t=e.clipOffer,s=e.contextOfUse,r=e.linked,n=e.offer,a=e.offerIndex,o=e.position,i=e.retailerId,c=e.fromEmail,l=e.search,d=e.parentMessageId;this.setState({showQuotientModal:!1}),r&&t({contextOfUse:s,retailerId:i,offer:n,offerIndex:a,position:o,parentMessageId:d,search:l,fromEmail:c})}),n()(this,"handleSelectLocationsMenuPaneClick",({overlayClicked:e})=>{e||this.setState({showLocationsMenu:!1})}),n()(this,"renderQuotientModal",e=>c.a.createElement(P.a,{"data-test-id":"quotient-modal",retailerId:e,onSuccess:this.handleQuotientModalClose,onClose:this.handleQuotientModalClose,parentMessageId:this.props.parentMessageId,fromEmail:this.props.fromEmail,contextOfUse:this.state.clipCouponFromBody?"groceriesTopOfMsgBody":this.props.contextOfUse,parentName:"groceriesTopOfMsg"===this.props.contextOfUse?"groceriesTopOfMsg":"grocerystorelist"})),n()(this,"selectStoreLocation",e=>{const t=this.props,s=t.clipOffer,r=t.contextOfUse,n=t.fromEmail,a=t.offer,o=t.offerIndex,i=t.parentMessageId,c=t.position,l=t.retailerId,d=t.search;(0,t.updatePreferredStore)({location:e,retailerId:l}),this.setState({showLocationsMenu:!1}),s({contextOfUse:r,fromEmail:n,offer:a,offerIndex:o,parentMessageId:i,position:c,retailerId:l,search:d})}),n()(this,"updateCurrentZipCode",e=>{this.setState({currentZipCode:e})}),n()(this,"handleLocationsCuePrimaryClick",()=>{const e=this.props,t=e.clipOffer,s=e.contextOfUse,r=e.fromEmail,n=e.offer,a=e.offerIndex,o=e.parentMessageId,i=e.position,c=e.retailerId,l=e.score,d=e.search;this.setState({showSelectLocationsCue:!1}),t({contextOfUse:s,fromEmail:r,offer:n,offerIndex:a,parentMessageId:o,position:i,retailerId:c,score:l,search:d})}),n()(this,"handleLocationsCueSecondaryClick",()=>{this.setState({showLocationsMenu:!this.state.showLocationsMenu,showSelectLocationsCue:!1})}),n()(this,"updateContent",e=>{e&&e.updatePosition()}),n()(this,"renderSelectLocationsCue",()=>{const e=this.props,t=e.groceriesChangeStoreRef;return t&&this.state.showSelectLocationsCue&&e.doesPreferredStoreExist?c.a.createElement(m.a,{align:u.a.ANY,bg:u.d.DEFAULT,borderRadius:u.e.LOW,hideOnContentClick:!1,permittedArrowDirections:[u.h.UP],popoverAnchor:t.current,triggerOn:u.i.MOUNT,ref:e=>{this.popoverContent=e},zAltitude:S.Pb.POPOVER.HIGH},c.a.createElement(p.a,{import:"../../atoms/caret_menu/select_locations_cue",onClose:this.handleLocationsCueSecondaryClick,onClick:this.handleLocationsCuePrimaryClick,onShow:()=>this.updateContent(this.popoverContent),_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,883))},_moduleResolver:function(){return 883}})):null}),n()(this,"renderSelectLocationMenu",()=>{const e=this.props;return c.a.createElement(I.a,{key:"store-locations-pane",alignTo:e.groceriesStoreSummaryRef.current,alignmentPoints:[g.a.TopLeft,g.a.BottomLeft],useShim:!0,onClick:this.handleSelectLocationsMenuPaneClick},c.a.createElement(C.a,{currentZipCode:this.state.currentZipCode,retailerId:e.retailerId,retailerName:e.retailerName,selectStoreLocation:this.selectStoreLocation,updateCurrentZipCode:this.updateCurrentZipCode}))}),n()(this,"handleOfferActivate",e=>{e.stopPropagation();const t=this.props,s=t.clipOffer,r=t.contextOfUse,n=t.doesPreferredStoreExist,a=t.fromEmail,o=t.isGroceryWithProduct,i=t.linked,c=t.offer,l=t.offerIndex,d=t.parentMessageId,E=t.position,_=t.retailerId,u=t.score,p=t.search,m=t.showGroceriesLocationsCue;this.setState({clipCouponFromBody:!1}),i||o?o&&!n?this.setState({showLocationsMenu:!0}):(o&&m&&this.setState({showSelectLocationsCue:!0}),s({contextOfUse:r,fromEmail:a,offer:c,offerIndex:l,parentMessageId:d,position:E,retailerId:_,score:u,search:p,cancelAPICall:o&&m})):this.setState({showQuotientModal:!0})}),n()(this,"updateShoppingCartFrmTom",e=>{e.stopPropagation();const t=this.props,s=t.primaryAccountId,r=t.retailerId;(0,t.clipOffer)({contextOfUse:t.contextOfUse,retailerId:r,offer:t.offer,offerIndex:t.offerIndex,position:t.position,parentMessageId:t.parentMessageId,search:t.search,fromEmail:t.fromEmail}),this.context.navigateTo({route:Object(M.x)(f.Ud.GROCERIES,{accountIds:s,name:r})})}),n()(this,"handleImageError",e=>Object(b.a)(e,f.jd)),n()(this,"_renderAddedIcon",e=>c.a.createElement("div",{className:e.addedIcon},"LOADING"===this.props.changeQuantityStatus?c.a.createElement(w.b,null):c.a.createElement(T.b,{kind:O.Kinds.CHECKMARK,size:O.Sizes.S,colorState:O.ColorStates.SECOND_LEVEL_GRAY}))),n()(this,"_renderClipButton",()=>c.a.createElement(A.default,{"data-test-id":"clip-fuji-button",colorState:O.ColorStates.GRAD_BLUE,kind:O.Kinds.ADDATTACHMENT,onClick:this.handleOfferActivate,size:O.Sizes.S,title:"Clip offer"})),n()(this,"_renderCartButton",(e,t,s,r)=>c.a.createElement("div",{className:r.walmartCart},c.a.createElement(A.default,{ariaLabel:this.context.intl.formatMessage(G.add_item),colorState:O.ColorStates.INHERITED,"data-test-id":"add-to-shopping-list",kind:O.Kinds.CART,onClick:!e&&s&&"groceriesTopOfMsg"===t?this.updateShoppingCartFrmTom:this.handleOfferActivate,paddingLess:!0,size:O.Sizes.S,title:this.context.intl.formatMessage(G.add_item)}))),n()(this,"_renderButton",(e,t,s)=>{const r=this.props,n=r.contextOfUse,a=r.isGroceryWithProduct,o=r.doesPreferredStoreExist;if(e===f.bc.RECOMMENDED_OFFER_CARDS||"singleStoreSearchAssist"===n||"groceriesTopOfMsg"===n)return t?this._renderAddedIcon(s):a?this._renderCartButton(o,n,a,s):this._renderClipButton()}),n()(this,"handleChangeProductsQuantity",(e,t)=>{e.stopPropagation();const s=this.props,r=s.deleteProducts,n=s.quantity,a=s.retailerId;if(t&&n===s.maxQuantity)return;const o={offerId:s.offerId,quantity:n+(t?1:-1)};return o.quantity?(0,s.changeProductsQuantity)({categories:s.categories,contextOfUse:s.contextOfUse,interactionType:t?j:H,items:[o],offerIndex:s.offerIndex,retailerId:a,retailerName:s.retailerName,score:s.score}):r({retailerId:a,items:[o]})}),n()(this,"topOfMsgOfferActivate",()=>{const e=this.props,t=e.isActivatedOffer,s=e.isGroceryWithProduct,r=d()(U.a);if(t)return this._renderAddedIcon(r);if(!s){this.setState({clipCouponFromBody:!0});const e=this.props,t=e.clipOffer,s=e.retailerId,r=e.offer,n=e.offerIndex,a=e.position,o=e.search,i=e.parentMessageId,c=e.fromEmail;e.linked?t({contextOfUse:"groceriesTopOfMsgBody",retailerId:s,offer:r,offerIndex:n,position:a,parentMessageId:i,search:o,fromEmail:c}):this.setState({showQuotientModal:!0})}})}_renderChangeQuantity(e){const t=this.props,s=t.maxQuantity,r=t.quantity;return c.a.createElement("div",{className:e.numberContainer},c.a.createElement("div",{className:e.change,"data-test-id":"minus",onClick:e=>this.handleChangeProductsQuantity(e,!1)},c.a.createElement(T.b,{colorState:O.ColorStates.SELECTED,kind:O.Kinds.MINUS,size:O.Sizes.S})),c.a.createElement("label",{htmlFor:"quantity"},r),c.a.createElement("div",{className:e.change,"data-test-id":"add",onClick:e=>this.handleChangeProductsQuantity(e,!0)},c.a.createElement(T.b,{colorState:r===s?O.ColorStates.SECOND_LEVEL_GRAY:O.ColorStates.SELECTED,kind:O.Kinds.ADD,size:O.Sizes.S})))}render(){const e=this.props,t=e.brandName,s=e.contextOfUse,r=e.dateDiff,n=void 0===r?"":r,a=e.discountType,o=e.imageUrl,i=e.isActivatedOffer,l=e.isFullWidth,E=e.isGroceryWithProduct,_=e.listContentType,u=e.listFilter,p=e.offerDescription,m=e.offerValue,S=e.retailerId,h=e.search,C=e.showGroceriesLocationsCue,g=e.unitPriceDisplay,A=e.offer.eligibleUnitText,I=this.context.intl.formatMessage,D=d()(U.a,{isGroceryWithProduct:E,isFullWidth:l,expandedCardState:this.state.offerCardState,redExpires:n<=1,contextOfUse:s});return c.a.createElement("div",{"data-test-id":"offer-list-item",className:"groceriesTopOfMsg"===s?D.containerTom:D.container,onClick:"groceriesTopOfMsg"===s?this.topOfMsgOfferActivate:this.toggleOfferCardState},c.a.createElement("div",{className:D.svgStyle},c.a.createElement("img",{className:D.icon,src:o,onError:this.handleImageError}),c.a.createElement("div",{className:D.overlayContainer},c.a.createElement("div",{className:D.overlay}))),c.a.createElement("div",{className:D.cardDetails},E?c.a.createElement("div",{className:D.cardTitle},p):c.a.createElement("div",{className:D.saveContainer},c.a.createElement("div",{className:D.save},a===f.kd.GETXFREE?m:I(G.save_value,{value:m})),c.a.createElement(T.b,{kind:O.Kinds.CIRCLE,size:O.Sizes.XXXS,colorState:O.ColorStates.FIRST_LEVEL_GRAY}),c.a.createElement("div",{className:D.coupon},I(G.coupon))),E?c.a.createElement("div",null,c.a.createElement("div",{className:D.saveContainer},c.a.createElement("div",{className:D.save},m,"Each"===A&&c.a.createElement("span",null," ea")),g&&c.a.createElement("div",{className:D.coupon},"",g)),("Each_Weight"===A||"Weight"===A)&&c.a.createElement("div",{className:D.coupon},I(G.weight)),"groceriesTopOfMsg"!==s&&i&&this._renderChangeQuantity(D)):c.a.createElement("div",null,c.a.createElement("div",{className:D.cardTitle},Object(v.c)(t,h,D.highlightedTerm)),c.a.createElement("div",{className:D.cardDescription},Object(v.c)(p,h,D.highlightedTerm)),c.a.createElement("div",{className:D.expires},c.a.createElement(L.a,{type:_,daysUntilExpiry:n})))),this._renderButton(u,i,D),this.state.showQuotientModal?this.renderQuotientModal(S):null,this.state.showLocationsMenu&&this.renderSelectLocationMenu(),C&&this.renderSelectLocationsCue())}}n()(x,"contextTypes",{intl:E.intlShape.isRequired,navigateTo:o.a.func}),n()(x,"defaultProps",{offerIndex:-1,isFullWidth:!1,parentMessageId:"",fromEmail:""});t.a=Object(_.connect)((e,t)=>{const s=Object(y.selectors)(e),r=s.getRoute,n=s.getRetailersSelectors,a=s.getGroceriesTopOfMsgSelectors,o=s.isFeatureEnabled,i=s.getPrimaryAccountId,c=(0,s.getOffersSelectors)(),l=c.getOffer,d=c.isOfferActivated,E=n(),_=E.doesPreferredStoreExist,u=E.getDisplayNameFromRetailerId,p=E.isLinkedRetailer,m=E.getPreferredStore,S=E.isRetailerLinkable,h=a().groceryOffer,C=o(f.Eb.ENABLE_GROCERIES_TOP_OF_MSG),g=t.offerId,O=r(),T=Object(N.z)(O),A=Object(N.w)(T),I=Object(N.x)(T),D=t.retailerId||Object(N.B)(T)||"",R=u(D),b=p(D),M=i(),L=o(f.Eb.GROCERY_WITH_PRODUCTS)&&!S(D),P=C&&t.retailerId?h(D,g).activated:d(g),v=C&&t.retailerId?h(D,g):l(g),F=m(D).followTypes,U=(void 0===F?[]:F).includes("inferred");return{isActivatedOffer:P,linked:b,listContentType:A,listFilter:I,doesPreferredStoreExist:_(D),offer:v,retailerId:D,retailerName:R,primaryAccountId:M,isGroceryWithProduct:L,showGroceriesLocationsCue:o(f.Eb.GROCERIES_LOCATIONS_CUE)&&U}},e=>({changeProductsQuantity:t=>e(Object(h.e)(t)),clipOffer:t=>e(Object(h.b)(t)),deleteProducts:t=>e(Object(h.h)(t)),updatePreferredStore:t=>e(Object(h.E)(t))}))(x)},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(34),o=s.n(a),i=s(3),c=s.n(i),l=s(7),d=s.n(l),E=s(1),_=s.n(E),u=s(6),p=s(13),m=s(18),S=s(0),h=s(32),C=s(17),g=s(21),O=s(4),T=s(175),A=s(138),I=s(145),f=s(124),D=s(12),R=s.n(D),b=s(762),N=s.n(b),M=s(37);const y=R()(N.a);class L extends _.a.Component{constructor(...e){super(...e),c()(this,"_getColorState",e=>e?O.ColorStates.PRIMARY_HOVER:O.ColorStates.INHERITED)}render(){const e=this.props,t=e.tooltip,s=e.onChange,r=e.showPlainTextToggle,n=e.strikeThrough,a=e.justifyleft,o=e.justifycenter,i=e.justifyright,c=e.insertorderedlist,l=e.insertunorderedlist,d=e.disabled,E=this.context.intl.formatMessage;return _.a.createElement(T.a,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1},_.a.createElement(A.a,{"aria-label":t,"data-test-id":"icon-btn-more_tools",title:t},_.a.createElement(C.b,{kind:O.Kinds.MORE,size:O.Sizes.XS,colorState:O.ColorStates.INHERITED})),_.a.createElement(I.a,{persistOnClick:!0,disabled:d,focusBackEditor:this.props.focusBackEditor,menuLayout:f.a.HORIZONTAL,"data-test-id":"more-tools"},_.a.createElement("span",{className:y.sectionDivider}),_.a.createElement("span",{className:y.rtlIgnoreDir},_.a.createElement(h.a,{key:"align-l",name:"align-l"},_.a.createElement("span",{className:y.icon},_.a.createElement(g.default,{"aria-label":E(M.a.leftAlign),title:E(M.a.leftAlign),kind:O.Kinds.ALIGN_LEFT,size:O.Sizes.XS,onClick:s.bind(null,"left"),colorState:this._getColorState(a)}))),_.a.createElement(h.a,{key:"align-c",name:"align-c"},_.a.createElement("span",{className:y.icon},_.a.createElement(g.default,{"aria-label":E(M.a.centerAlign),title:E(M.a.centerAlign),kind:O.Kinds.ALIGN_CENTER,size:O.Sizes.XS,onClick:s.bind(null,"center"),colorState:this._getColorState(o)}))),_.a.createElement(h.a,{key:"align-r",name:"align-r"},_.a.createElement("span",{className:y.icon},_.a.createElement(g.default,{className:y.rightAlignIcon,"aria-label":E(M.a.rightAlign),title:E(M.a.rightAlign),kind:O.Kinds.ALIGN_LEFT,rotate:O.Rotate.D0,size:O.Sizes.XS,onClick:s.bind(null,"right"),colorState:this._getColorState(i)})))),_.a.createElement("span",{className:y.sectionDivider}),_.a.createElement(h.a,{key:"bullet",name:"bullet"},_.a.createElement("span",{className:y.icon},_.a.createElement(g.default,{className:y.rtlRawScaleX,"aria-label":E(M.a.bulletedList),title:E(M.a.bulletedList),kind:O.Kinds.LIST_UNORDERED,size:O.Sizes.XS,onClick:s.bind(null,"bullet"),colorState:this._getColorState(l)}))),_.a.createElement(h.a,{key:"number",name:"number"},_.a.createElement("span",{className:y.icon},_.a.createElement(g.default,{className:y.rtlRawHidden,"aria-label":E(M.a.numberedList),title:E(M.a.numberedList),kind:O.Kinds.LIST_ORDERED,size:O.Sizes.XS,onClick:s.bind(null,"number"),colorState:this._getColorState(c)}),_.a.createElement(g.default,{className:y.rtlRemoveHidden,"aria-label":E(M.a.numberedList),title:E(M.a.numberedList),kind:O.Kinds.LIST_ORDERED_FLIPPED,size:O.Sizes.XS,onClick:s.bind(null,"number"),colorState:this._getColorState(c)}))),_.a.createElement("span",{className:y.sectionDivider}),_.a.createElement(h.a,{name:"indent",key:"indent"},_.a.createElement("span",{className:y.icon},_.a.createElement(g.default,{className:y.rtlRawScaleX,"aria-label":E(M.a.increaseIndent),title:E(M.a.increaseIndent),kind:O.Kinds.INDENT,size:O.Sizes.XS,onClick:s.bind(null,"indent")}))),_.a.createElement(h.a,{name:"outdent",key:"outdent"},_.a.createElement("span",{className:y.icon},_.a.createElement(g.default,{className:y.rtlRawScaleX,"aria-label":E(M.a.decreaseIndent),title:E(M.a.decreaseIndent),kind:O.Kinds.OUTDENT,size:O.Sizes.XS,onClick:s.bind(null,"outdent")}))),_.a.createElement("span",{className:y.sectionDivider}),_.a.createElement(h.a,{name:"strikethrough",key:"strikethrough"},_.a.createElement("span",{className:y.icon},_.a.createElement(g.default,{"aria-label":E(M.a.strikeThrough),title:E(M.a.strikeThrough),kind:O.Kinds.STRIKETHROUGH,size:O.Sizes.XS,onClick:s.bind(null,"strikeThrough"),colorState:this._getColorState(n)}))),r?_.a.createElement(h.a,{name:"turn-off-richtext",key:"turn-off-richtext"},_.a.createElement("span",{className:y.icon},_.a.createElement(g.default,{"data-test-id":"richtext-off",onClick:s.bind(null,"plaintext"),title:E(M.a.plaintext),"aria-label":E(M.a.plaintext_icon_label),kind:O.Kinds.RICHTEXT_OFF,size:O.Sizes.XS})),_.a.createElement("span",{className:y.sectionDivider})):null))}}c()(L,"contextTypes",{intl:u.intlShape.isRequired}),c()(L,"defaultProps",{onMenuShow:()=>{}});var P=L,v=s(112),F=s(25),U=s(763),w=s.n(U);var G=function({kind:e,text:t,onClick:s,selected:r}){const n=R()(w.a,{kind:e,selected:r});return _.a.createElement(h.a,{key:e,kind:v.a.WRAP_CONTENT,name:e,text:t},_.a.createElement(m.a,{kind:F.a.MENUITEM,onClick:s},_.a.createElement("div",{className:n.menuItem},_.a.createElement("span",{className:n.checkmarkWrapper},r&&_.a.createElement(C.b,{kind:O.Kinds.CHECKMARK,size:O.Sizes.XS})),t)))},H=s(29),j=s(63),k=s(265),x=s.n(k),B=s(77);const V=R()(x.a),W=Object(u.defineMessages)({font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},font_size_label_tiny:{id:"compose.font_size_label_tiny",defaultMessage:"Tiny"},font_size_label_small:{id:"compose.font_size_label_small",defaultMessage:"Small"},font_size_label_medium:{id:"compose.font_size_label_medium",defaultMessage:"Medium"},font_size_label_large:{id:"compose.font_size_label_large",defaultMessage:"Large"},font_size_label_xlarge:{id:"compose.font_size_label_xlarge",defaultMessage:"X-Large"},font_size_label_huge:{id:"compose.font_size_label_huge",defaultMessage:"Huge"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}});class K extends _.a.Component{constructor(...e){super(...e),c()(this,"state",{selectedFontSizeInMenu:this.props.selectedFontSize}),c()(this,"handleBackButton",e=>{e.stopPropagation(),this.props.goToMainMenu()}),c()(this,"setSelectedFontSizeInMenu",e=>{this.setState({selectedFontSizeInMenu:e||this.props.selectedFontSize})}),c()(this,"handleMenuFocus",()=>{const e=document.queryCommandValue("fontSize");this.setSelectedFontSizeInMenu(e)})}render(){const e=this.context.intl.formatMessage,t={[H.FontSizes[0].name]:e(W.font_size_label_tiny),[H.FontSizes[1].name]:e(W.font_size_label_small),[H.FontSizes[2].name]:e(W.font_size_label_medium),[H.FontSizes[3].name]:e(W.font_size_label_large),[H.FontSizes[4].name]:e(W.font_size_label_xlarge),[H.FontSizes[5].name]:e(W.font_size_label_huge)},s=parseInt(this.state.selectedFontSizeInMenu,10),r=this.props.selectedFontFamily,n=H.FontSizes.map(({name:e,fontSize:r})=>_.a.createElement(G,{key:e,kind:e,text:t[e]||"",onClick:this.props.onFontSizeChange.bind(null,r),selected:r===s})),a=H.Fonts.map(({name:t,label:s,fontFamily:n})=>{const a=n.replace(/['," ]/g,"").toLowerCase()===(r&&r.replace(/['," ]/g,"").toLowerCase()||"");return _.a.createElement(G,{key:t,kind:t,text:Object(B.getLocalizedFontFamilyName)(e,t)||s,onClick:this.props.onFontFamilyChange.bind(null,n),selected:a})});return _.a.createElement(T.a,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu,onFocus:this.handleMenuFocus},this.props.parentMenu?_.a.createElement(A.a,{style:{display:"none"}}):_.a.createElement(A.a,{"aria-label":e(W.font_name_size),"data-test-id":"icon-btn-text",title:e(W.font_name_size)},_.a.createElement(C.b,{kind:O.Kinds.TEXT,size:O.Sizes.XS,colorState:O.ColorStates.NORMAL})),_.a.createElement(I.a,{style:this.props.parentMenu?{marginLeft:"8px",marginTop:"4px"}:{},menuLayout:f.a.VERTICAL,"data-test-id":"font-picker"},this.props.parentMenu?_.a.createElement(g.default,{title:e(W.back_button_text_label),kind:O.Kinds.ARROW_UP,size:O.Sizes.XS,rotate:O.Rotate.D270,colorState:O.ColorStates.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_back"},_.a.createElement("span",{className:V.backButtonLabel},_.a.createElement(u.FormattedMessage,W.back_button_text_label))):"",_.a.createElement(j.a,{layout:f.a.HORIZONTAL},_.a.createElement(h.a,{key:"font-families"},_.a.createElement(j.a,null,a)),_.a.createElement(h.a,{key:"font-sizes"},_.a.createElement(j.a,null,n)))))}}c()(K,"contextTypes",{intl:u.intlShape.isRequired}),c()(K,"defaultProps",{parentMenu:null});var q=K,Y=s(196);const z=R()(x.a);class Q extends _.a.Component{constructor(...e){super(...e),c()(this,"state",{showMainMenu:!0,showColorMenu:!1,showFontMenu:!1}),c()(this,"onClickColor",e=>{this.setState({showMainMenu:!1,showColorMenu:!0,showFontMenu:!1}),e.stopPropagation()}),c()(this,"onClickFont",e=>{this.setState({showMainMenu:!1,showColorMenu:!1,showFontMenu:!0}),e.stopPropagation()}),c()(this,"onShowMenu",()=>{this.props.onMenuShow(),this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})}),c()(this,"focusBackEditor",()=>{this.setState({showColorMenu:!1,showFontMenu:!1}),this.refs.expandedmoretoolsmenu.hideMenu(),this.props.focusBackEditor()}),c()(this,"goToMainMenu",()=>{this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})}),c()(this,"_getColorState",e=>e?O.ColorStates.PRIMARY_HOVER:O.ColorStates.INHERITED)}render(){const e=this.props,t=e.tooltip,s=e.onChange,r=e.isBold,n=e.isItalic,a=e.showPlainTextToggle,o=e.strikeThrough,i=e.justifyleft,c=e.justifycenter,l=e.justifyright,d=e.insertorderedlist,E=e.insertunorderedlist,p=this.context.intl.formatMessage;return _.a.createElement("div",null,_.a.createElement(T.a,{ref:"expandedmoretoolsmenu",afterMenuHide:this.focusBackEditor,showMenuActiveState:!1,onMenuShow:this.onShowMenu},_.a.createElement(A.a,{"aria-label":t,"data-test-id":"icon-btn-expanded_more_tools",title:t},_.a.createElement(C.b,{kind:O.Kinds.MORE,size:O.Sizes.XS,colorState:O.ColorStates.INHERITED})),this.state.showMainMenu?_.a.createElement(I.a,{menuLayout:f.a.VERTICAL,"data-test-id":"expanded-more-tools-menu"},_.a.createElement("div",{className:z.menuContainer},_.a.createElement("div",null,_.a.createElement(h.a,{key:"link",name:"link",className:z.menuListItem,ariaLabel:p(M.a.link_icon_label),onClick:this.props.onAddLink},_.a.createElement(m.a,{className:z.button,title:p(M.a.link),"data-test-id":"icon-btn-link"},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.menuIcon},_.a.createElement(C.b,{kind:O.Kinds.LINK,size:O.Sizes.XS})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.link))))),_.a.createElement(h.a,{key:"font",name:"font",className:z.menuListItem,ariaLabel:p(M.a.font_name_size),onClick:this.onClickFont,"data-test-id":"icon-btn-font"},_.a.createElement(m.a,{className:z.button,title:p(M.a.font_name_size),"data-test-id":"icon-btn-text_expanded"},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.menuIcon},_.a.createElement(C.b,{kind:O.Kinds.TEXT,size:O.Sizes.XS,colorState:O.ColorStates.NORMAL})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.font_name_size))))),_.a.createElement(h.a,{key:"color",name:"color",className:z.menuListItem,ariaLabel:p(M.a.color),onClick:this.onClickColor,"data-test-id":"icon-btn-color"},_.a.createElement(m.a,{className:z.button,title:p(M.a.color),"data-test-id":"icon-btn-text_color_expanded"},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.menuIcon},_.a.createElement(C.b,{kind:O.Kinds.TEXT_COLOR,size:O.Sizes.XS,colorState:O.ColorStates.NORMAL})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.color))))),a?_.a.createElement(h.a,{key:"turn-off-richtext",name:"turn-off-richtext",className:z.menuListItem,ariaLabel:p(M.a.plaintext_icon_label),onClick:s.bind(null,"plaintext")},_.a.createElement(m.a,{className:z.button,title:p(M.a.plaintext),"data-test-id":"richtext-off"},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.menuIcon},_.a.createElement(C.b,{kind:O.Kinds.RICHTEXT_OFF,size:O.Sizes.XS})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.plaintext_text_label))))):_.a.createElement(h.a,{className:z.menuListItem}),_.a.createElement("span",{className:z.sectionDivider}),_.a.createElement(h.a,{key:"align-l",name:"align-l",className:z.menuListItem,ariaLabel:p(M.a.leftAlign),onClick:s.bind(null,"left")},_.a.createElement(m.a,{className:z.button,title:p(M.a.leftAlign)},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.menuIcon},_.a.createElement(C.b,{kind:O.Kinds.ALIGN_LEFT,size:O.Sizes.XS,colorState:this._getColorState(i)})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.leftAlign))))),_.a.createElement(h.a,{key:"align-c",name:"align-c",className:z.menuListItem,ariaLabel:p(M.a.centerAlign),onClick:s.bind(null,"center")},_.a.createElement(m.a,{className:z.button,title:p(M.a.centerAlign)},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.menuIcon},_.a.createElement(C.b,{kind:O.Kinds.ALIGN_CENTER,size:O.Sizes.XS,colorState:this._getColorState(c)})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.centerAlign))))),_.a.createElement(h.a,{key:"align-r",name:"align-r",className:z.menuListItem,ariaLabel:p(M.a.rightAlign),onClick:s.bind(null,"right")},_.a.createElement(m.a,{className:z.button,title:p(M.a.rightAlign)},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.rightAlignIcon},_.a.createElement(C.b,{kind:O.Kinds.ALIGN_LEFT,size:O.Sizes.XS,colorState:this._getColorState(l)})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.rightAlign))))),_.a.createElement(h.a,{name:"indent",key:"indent",className:z.menuListItem,ariaLabel:p(M.a.increaseIndent),onClick:s.bind(null,"indent")},_.a.createElement(m.a,{className:z.button,title:p(M.a.increaseIndent)},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.menuIcon+" "+z.rtlRawScaleX},_.a.createElement(C.b,{kind:O.Kinds.INDENT,size:O.Sizes.XS})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.increaseIndent)))))),_.a.createElement("div",{className:z.spaceBetween}),_.a.createElement("div",null,_.a.createElement(h.a,{key:"bold",name:"bold",className:z.menuListItem,ariaLabel:p(M.a.bold_icon_label),onClick:this.props.onClickBold},_.a.createElement(m.a,{className:z.button,title:p(M.a.bold),"data-test-id":"icon-btn-bold"},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.menuIcon},_.a.createElement(C.b,{kind:O.Kinds.BOLD,size:O.Sizes.XS,colorState:this._getColorState(r)})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.bold))))),_.a.createElement(h.a,{key:"italic",name:"italic",className:z.menuListItem,ariaLabel:p(M.a.italic_icon_label),onClick:this.props.onClickItalic},_.a.createElement(m.a,{className:z.button,title:p(M.a.italic),"data-test-id":"icon-btn-italic"},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.menuIcon},_.a.createElement(C.b,{kind:O.Kinds.ITALIC,size:O.Sizes.XS,colorState:this._getColorState(n)})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.italic))))),_.a.createElement(h.a,{key:"strikethrough",name:"strikethrough",className:z.menuListItem,ariaLabel:p(M.a.strikeThrough),onClick:s.bind(null,"strikeThrough")},_.a.createElement(m.a,{className:z.button,title:p(M.a.strikeThrough),"data-test-id":"icon-btn-strikethrough"},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.menuIcon},_.a.createElement(C.b,{kind:O.Kinds.STRIKETHROUGH,size:O.Sizes.XS,colorState:this._getColorState(o)})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.strikeThrough))))),_.a.createElement(h.a,{className:z.menuListItem}),_.a.createElement("span",{className:z.sectionDivider}),_.a.createElement(h.a,{key:"bullet",name:"bullet",className:z.menuListItem,ariaLabel:p(M.a.bulletedList),onClick:s.bind(null,"bullet")},_.a.createElement(m.a,{className:z.button,title:p(M.a.bulletedList)},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.menuIcon+" "+z.rtlRawScaleX},_.a.createElement(C.b,{kind:O.Kinds.LIST_UNORDERED,size:O.Sizes.XS,colorState:this._getColorState(E)})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.bulletedList))))),_.a.createElement(h.a,{key:"number",name:"number",className:z.menuListItem,ariaLabel:p(M.a.numberedList),onClick:s.bind(null,"number")},_.a.createElement(m.a,{className:z.button,title:p(M.a.numberedList)},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.menuIcon+" "+z.rtlRawHidden},_.a.createElement(C.b,{kind:O.Kinds.LIST_ORDERED,size:O.Sizes.XS,colorState:this._getColorState(d)})),_.a.createElement("span",{className:z.menuIcon+" "+z.rtlRemoveHidden},_.a.createElement(C.b,{kind:O.Kinds.LIST_ORDERED_FLIPPED,size:O.Sizes.XS})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.numberedList))))),_.a.createElement(h.a,{key:"outdent",name:"outdent",className:z.menuListItem,ariaLabel:p(M.a.decreaseIndent),onClick:s.bind(null,"outdent")},_.a.createElement(m.a,{className:z.button,title:p(M.a.decreaseIndent)},_.a.createElement("div",{className:z.menuItem},_.a.createElement("span",{className:z.menuIcon+" "+z.rtlRawScaleX},_.a.createElement(C.b,{kind:O.Kinds.OUTDENT,size:O.Sizes.XS})),_.a.createElement("span",{className:z.menuLabel},_.a.createElement(u.FormattedMessage,M.a.decreaseIndent)))))))):_.a.createElement(I.a,{style:{display:"none"}})),this.state.showColorMenu?_.a.createElement("span",null,_.a.createElement(Y.a,{selectedFGColor:this.props.foreColor,selectedBGColor:this.props.backgroundColor,onFGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"forecolor"),onBGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"backcolor"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):"",this.state.showFontMenu?_.a.createElement("span",null,_.a.createElement(q,{selectedFontSize:this.props.fontSize,selectedFontFamily:this.props.fontFamily,onFontSizeChange:this.props.onChooseFont.bind(this.props.toolbar,"fontsize"),onFontFamilyChange:this.props.onChooseFont.bind(this.props.toolbar,"fontname"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):"")}}c()(Q,"contextTypes",{intl:u.intlShape.isRequired});var Z=Q,X=s(28),$=s.n(X);var J=class extends _.a.Component{render(){return _.a.createElement("input",{role:"button",className:this.props.className,type:"file",ref:"input",value:"",title:this.props.ariaLabel,"aria-label":this.props.ariaLabel,multiple:this.props.multiple,onChange:this.props.onChange})}},ee=s(64),te=s(61),se=s(42),re=s(15),ne=s(11),ae=s(764),oe=s.n(ae),ie=s(10),ce=s(97),le=s(146),de=s(16),Ee=s(5),_e=s(24),ue=s(111),pe=s.n(ue);function me(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Se(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?me(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):me(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const he=()=>{},Ce=Object(u.defineMessages)({attachFile:{id:"compose.attach_file",defaultMessage:"Attach files"},close:{id:"compose.close_button_label",defaultMessage:"Close"}});class ge extends _.a.Component{constructor(e,t){super(e,t),c()(this,"state",{showMainPopover:!0,showGDrivePopover:!1,showDropboxPopover:!1,showRecentFilesInMail:!1,searchBoxValue:"",path:{ymail:"/",gdrive:"/",dropbox:"/"},folderTreeState:{ymail:[],gdrive:[{id:"allFiles",name:"All Files",path:"/"}],dropbox:[{id:"allFiles",name:"All Files",path:"/"}]}}),c()(this,"_getInitialState",()=>({showMainPopover:!0,showGDrivePopover:!1,showDropboxPopover:!1,showRecentFilesInMail:!1,searchBoxValue:"",path:{ymail:"/",gdrive:"/",dropbox:"/"},folderTreeState:{ymail:[],gdrive:[{id:"allFiles",name:"All Files",path:"/"}],dropbox:[{id:"allFiles",name:"All Files",path:"/"}]}})),c()(this,"onPopoverContentHide",()=>{this.setState({showMainPopover:!0,showGDrivePopover:!1,showDropboxPopover:!1,showRecentFilesInMail:!1,searchBoxValue:""})}),c()(this,"handleOpenPopover",e=>{e===S.eb.GDRIVE?this.handleAttachFromGDrive():e===S.eb.DROPBOX&&this.handleAttachFromDropbox(),this._attachPopoverContainer.show(re.i.CLICK)}),c()(this,"handleClosePopover",()=>{this._attachPopoverContainer.hide(re.i.CLICK)}),c()(this,"handleChange",e=>{const t=Array.prototype.slice.call(e.target.files);this.props.onFileSelect({data:t})}),c()(this,"handleLoadItems",(e="",t="/",s="",r=!1,n=!1)=>{this.props.fetchCloudStorageItems({source:e,query:s,path:t,fetchMoreItems:r,i13nModel:{mKey:n?Ee.g.CLOUD_STORAGE_FOLDER_ITEMS_FETCHED:Ee.g.CLOUD_STORAGE_ITEMS_FETCHED,sec:Ee.i.COMPOSE_ATTACH_FILES_MENU,interactionType:Ee.e.click,actionData:{source:e,query:s,fetchMoreItems:r}}})}),c()(this,"handleAttachFromComputer",()=>{$.a.findDOMNode(this.inputFileBtn).click(),this.props.onFileSelectBtnClicked(),this.props.onAttachFilesMenuItemClick({i13nModel:{mKey:Ee.g.ATTACH_FILES_FROM_COMPUTER,sec:Ee.i.COMPOSE_ATTACH_FILES_MENU,interactionType:Ee.e.click}})}),c()(this,"handleAttachFromGDrive",()=>{this.setState({showMainPopover:!1,showGDrivePopover:!0}),this.props.onAttachFilesMenuItemClick({i13nModel:{mKey:Ee.g.ATTACH_FILES_FROM_GDRIVE,sec:Ee.i.COMPOSE_ATTACH_FILES_MENU,interactionType:Ee.e.click}})}),c()(this,"handleAttachFromDropbox",()=>{this.setState({showMainPopover:!1,showDropboxPopover:!0}),this.props.onAttachFilesMenuItemClick({i13nModel:{mKey:Ee.g.ATTACH_FILES_FROM_DROPBOX,sec:Ee.i.COMPOSE_ATTACH_FILES_MENU,interactionType:Ee.e.click}})}),c()(this,"handleAttachFromRecentEmails",()=>{this.setState({showMainPopover:!1,showRecentFilesInMail:!0}),this.props.onAttachFilesMenuItemClick({i13nModel:{mKey:Ee.g.ATTACH_FILES_FROM_RECENT_FILES,sec:Ee.i.COMPOSE_ATTACH_FILES_MENU,interactionType:Ee.e.click}})}),c()(this,"handleGDriveConnect",e=>{this.props.onConnect({url:"",provider:S.eb.GDRIVE,i13nModel:{mKey:Ee.g.CLOUD_STORAGE_GDRIVE_CONNECT_CLICKED,sec:Ee.i.COMPOSE_ATTACH_FILES_MENU,interactionType:Object(de.getInteractionFromEvent)(e)}})}),c()(this,"handleDropboxConnect",e=>{this.props.onConnect({url:"",provider:S.eb.DROPBOX,i13nModel:{mKey:Ee.g.CLOUD_STORAGE_DROPBOX_CONNECT_CLICKED,sec:Ee.i.COMPOSE_ATTACH_FILES_MENU,interactionType:Object(de.getInteractionFromEvent)(e)}})}),c()(this,"handlePathChange",(e,t,s)=>{const r=this.state.path;r[e]=t,this.setState({path:Se({},r)},()=>{this.handleLoadItems(e,t,s,!1,!0)})}),c()(this,"searchCloudStorageItems",(e,t)=>{this.props.fetchCloudStorageItems(t),this.setState({query:e})}),c()(this,"handleSearchChange",(e,t)=>{const s=t||"",r=e,n=this.state.path[e];this.setState({searchBoxValue:s},()=>this.debouncedSearch(s,{source:e,query:s,path:n,fromSearchBox:!0,i13nModel:{mKey:Ee.g.CLOUD_STORAGE_ITEMS_SEARCHED,sec:Ee.i.COMPOSE_ATTACH_FILES_MENU,interactionType:Ee.e.keydown,actionData:{source:r,query:s,fromSearchBox:!0}}}))}),c()(this,"renderConnectMenu",(e,t)=>_.a.createElement(_e.a,{import:"../attach_files_menu/connect_cloud_storage_account",provider:e,onConnectHandler:t,handleClose:this.handleClosePopover,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1310))},_moduleResolver:function(){return 1310}})),c()(this,"renderResultsMenu",(e,t=he)=>_.a.createElement(_e.a,{import:"../attach_files_menu/cloud_storage_items",provider:e,fetchCloudStorageItems:this.props.fetchCloudStorageItems,searchBoxValue:this.state.searchBoxValue,handleSearchChange:this.handleSearchChange.bind(this,e),handlePathChange:this.handlePathChange,query:this.state.searchBoxValue,path:this.state.path[e],handleClose:this.handleClosePopover,insertLink:this.props.insertLink,handleLoadMoreItemsOnScroll:this.handleLoadItems,handleAttachmentFromRecentFiles:this.props.handleAttachmentFromRecentFiles,previewAttachment:this.props.previewAttachment,folderTreeArray:this.state.folderTreeState[e],saveFolderState:this.saveFolderState.bind(this),savePathState:this.savePathState.bind(this),reconnectHandler:t,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1324))},_moduleResolver:function(){return 1324}})),c()(this,"renderAttachFilesMenu",e=>{const t=this.context.intl.formatMessage,r=this.props,n=r.gDriveConnected,a=r.dropboxConnected,o=this.state,i=o.showMainPopover,c=o.showGDrivePopover,l=o.showDropboxPopover,d=o.showRecentFilesInMail,E=c||l||d;return _.a.createElement(ee.a,{className:e.popoverContainer,ref:e=>this._attachPopoverContainer=e},_.a.createElement(te.a,null,_.a.createElement("div",null,_.a.createElement(g.default,{"data-iskeynav":!0,"aria-label":t(Ce.attachFile),title:t(Ce.attachFile),kind:O.Kinds.ATTACH,size:O.Sizes.XS,colorState:O.ColorStates.NORMAL}),_.a.createElement(J,{ref:e=>this.inputFileBtn=e,className:e.input,multiple:!0,onChange:this.handleChange,ariaLabel:t(Ce.attachFile)}))),i?_.a.createElement(se.b,{triggerOn:re.i.CLICK,permittedArrowDirections:[re.h.DOWN],useMenuPositioning:!0,zAltitude:ne.Pb.POPOVER.HIGH,isArrowVisible:!1,align:re.a.START},_.a.createElement(_e.a,{import:"../attach_files_menu/index",handleEscape:this.handleClosePopover,handleAttachFromGDrive:this.handleAttachFromGDrive,handleAttachFromDropbox:this.handleAttachFromDropbox,handleAttachFromRecentEmails:this.handleAttachFromRecentEmails,handleAttachFromComputer:this.handleAttachFromComputer,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1311))},_moduleResolver:function(){return 1311}})):null,E?_.a.createElement(se.b,{triggerOn:re.i.CLICK,permittedArrowDirections:[re.h.DOWN],zAltitude:ne.Pb.POPOVER.HIGH,isArrowVisible:!1,align:re.a.START,onHide:this.onPopoverContentHide,hideOnContentClick:!1,outerClickFallthrough:!1,useMenuPositioning:!0},c&&!n?this.renderConnectMenu(S.eb.GDRIVE,this.handleGDriveConnect):null,c&&n?this.renderResultsMenu(S.eb.GDRIVE,this.handleGDriveConnect):null,l&&!a?this.renderConnectMenu(S.eb.DROPBOX,this.handleDropboxConnect):null,l&&a?this.renderResultsMenu(S.eb.DROPBOX,this.handleDropboxConnect):null,d?this.renderResultsMenu(S.eb.YMAIL):null):null)}),this.state=this._getInitialState()}componentDidMount(){this.debouncedSearch=pe()(this.searchCloudStorageItems,250)}saveFolderState(e,t){const s=this.state.folderTreeState;s[t]=e,this.setState({folderTreeState:Se({},s)})}savePathState(e,t){const s=this.state.path;s[t]=e,this.setState({path:Se({},s)})}render(){const e=this.context.intl.formatMessage,t=R()(oe.a,{pointerEventsDisabled:this.props.cloudStorageEnabled});return this.props.cloudStorageEnabled?this.renderAttachFilesMenu(t):_.a.createElement("div",{className:t.container,onClick:this.handleAttachFromComputer,"data-test-id":"attach-from-computer-btn"},_.a.createElement(C.b,{kind:O.Kinds.ATTACH,colorState:O.ColorStates.NORMAL,size:O.Sizes.XS}),_.a.createElement(J,{ref:e=>this.inputFileBtn=e,className:t.input,multiple:!0,onChange:this.handleChange,ariaLabel:e(Ce.attachFile)}))}}c()(ge,"contextTypes",{intl:u.intlShape.isRequired});var Oe=Object(p.connect)(e=>{const t=Object(ie.selectors)(e),s=t.getFeaturesSelectors,r=(0,t.getContentProviders)(),n=r.doesContentProviderExist,a=r.isContentProviderConnected;return{cloudStorageEnabled:s().isEnabled(S.Eb.CLOUD_STORAGE),gDriveConnected:n(S.eb.GDRIVE)&&a(S.eb.GDRIVE),dropboxConnected:n(S.eb.DROPBOX)&&a(S.eb.DROPBOX)}},e=>({onAttachFilesMenuItemClick:t=>e(Object(le.a)(t)),onConnect:t=>e(Object(ce.a)(t)),fetchCloudStorageItems:t=>e(Object(le.e)(Se({},t,{query:t.query.toLocaleLowerCase().trim(),path:t.path})))}),null,{withRef:!0})(ge),Te=s(377),Ae=s(225),Ie=s(45);const fe=Object(u.defineMessages)({gifPicker:{id:"gif.gifpicker.title",defaultMessage:"Insert animated GIFs"}});class De extends _.a.Component{constructor(e,t){super(e,t),c()(this,"_getDefaultCategory",()=>{const e=this.props.gifCategories;return e.length?e[0]:{}}),c()(this,"_getInitialState",()=>{const e=this._getDefaultCategory(),t=e.queryString,s=e.categoryId;return{query:void 0===t?"":t,searchBoxValue:"",selectedCategory:void 0===s?"":s,menuOpen:!1}}),c()(this,"handleGifClick",e=>{this.props.onGifClick(e),this.toggleMenu()}),c()(this,"fetchGIF",e=>{this.props.gifCategories.length&&this.props.fetchGIF(e)}),c()(this,"onCategoryClick",(e,t=!0)=>{this.fetchGIF({query:e.queryString,fromCategory:t,i13nModel:{mKey:Ee.g.GIF_CATEGORY,sec:Ee.i.COMPOSE_TOOLBAR,interactionType:Ee.e.click}}),this.setState({query:e.queryString,selectedCategory:e.categoryId,searchBoxValue:""})}),c()(this,"toggleMenu",e=>{e&&(e.stopPropagation(),e.preventDefault());const t=this.state.menuOpen;t?(this._gifPopoverContainer.hide(re.i.MOUNT),this.setState(this._getInitialState(),()=>this.props.focusBackEditor())):(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this._gifPopoverContainer.show(re.i.MOUNT),this.setState({menuOpen:!t}),Ie.b.sendI13nModel({i13nModel:{mKey:Ee.g.GIF_OPEN,sec:Ee.i.COMPOSE_MSG,interactionType:Ee.e.click}}))}),c()(this,"handleSearchChange",e=>{clearTimeout(this._timer);const t=this._getDefaultCategory(),s=t.queryString,r=t.categoryId,n=void 0===r?"":r;let a=void 0===s?"":s;e?(this.setState({searchBoxValue:e,selectedCategory:""}),a=e):this.setState({searchBoxValue:"",selectedCategory:n}),this._timer=setTimeout(function(e){this.fetchGIF({query:e,fromSearchBox:!0,i13nModel:{mKey:Ee.g.GIF_SEARCH,sec:Ee.i.COMPOSE_TOOLBAR,interactionType:Ee.e.keydown}}),this.setState({query:e})}.bind(this,a),500)}),c()(this,"onPopoverContentHide",()=>{this.setState(this._getInitialState())}),c()(this,"renderGifPopup",()=>_.a.createElement(se.b,{permittedArrowDirections:[re.h.DOWN],triggerOn:re.i.MOUNT,customPositioning:!0,"data-test-id":"gif-pop-up",onHide:this.onPopoverContentHide},_.a.createElement(_e.a,{import:"./atoms/gif_pop_up",fetchGIF:this.fetchGIF,fetchGifCategories:this.props.fetchGifCategories,gifCategories:this.props.gifCategories,handleGifClick:this.handleGifClick,handleSearchChange:this.handleSearchChange,left:this.toolbarBoundingRect.left,right:this.toolbarBoundingRect.right,bottom:document.documentElement.clientHeight-this.toolbarBoundingRect.top,onCategoryClick:this.onCategoryClick,searchBoxValue:this.state.searchBoxValue,selectedCategory:this.state.selectedCategory,query:this.state.query,toggleMenu:this.toggleMenu,width:this.toolbarBoundingRect.width,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1325))},_moduleResolver:function(){return 1325}}))),this._timer=null,this.state=this._getInitialState(),this.scrollDebounce=pe()(this.handleScroll.bind(this),100)}handleScroll(){this.state.menuOpen&&(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this.forceUpdate())}componentWillReceiveProps(e){if(!this.props.gifCategories.length&&e.gifCategories.length){const t=e.gifCategories[0],s=t.queryString,r=t.categoryId;this.setState({query:void 0===s?"":s,selectedCategory:void 0===r?"":r})}}componentDidMount(){this.props.showGIFPicker&&setTimeout(()=>{this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this.setState({menuOpen:!0})},1e3),window.addEventListener("scroll",this.scrollDebounce,!0)}componentWillUnmount(){window.removeEventListener("scroll",this.scrollDebounce,!0)}render(){const e=this.state.menuOpen,t=this.context.intl.formatMessage;return _.a.createElement("div",{"data-test-id":"gif-button",onClick:this.toggleMenu},_.a.createElement(ee.a,{ref:e=>this._gifPopoverContainer=e},_.a.createElement(te.a,{"data-test-id":"gif-picker-anchor"},_.a.createElement(m.a,{title:t(fe.gifPicker),"aria-label":t(fe.gifPicker),kind:e?F.a.ICON_HIGHLIGHTED:F.a.ICON},_.a.createElement(C.b,{kind:O.Kinds.GIF_BOX,size:O.Sizes.XS,colorState:O.ColorStates.NORMAL}))),e?this.renderGifPopup():null))}}c()(De,"defaultProps",{onGifClick:()=>{},showGIFPicker:!1}),c()(De,"contextTypes",{executeAction:d.a.func,intl:u.intlShape.isRequired});var Re=De;function be(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var Ne=Object(p.connect)(e=>{const t=(0,Object(ie.selectors)(e).getGifCategoriesSelectors)(),s=t.getGifCategoriesList;return{gifCategories:(0,t.isCategoryListLoaded)()?s():[]}},(function(e){return{fetchGIF(t){e(Object(Ae.d)(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?be(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):be(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{query:t.query.toLocaleLowerCase().trim()})))},fetchGifCategories(){e(Object(Ae.b)())}}}))(Re),Me=s(601),ye=s(58),Le=s(481),Pe=s.n(Le);const ve=R()(Pe.a),Fe=Object(u.defineMessages)({emojiPicker:{id:"emoji.emojipicker.title",defaultMessage:"Insert emojis"}});class Ue extends _.a.Component{constructor(e){super(e),c()(this,"togglePopover",()=>{const e=this.state.popoverOpen;this.state.popoverOpen&&this.props.focusBackEditor(),this.setState({popoverOpen:!e})}),c()(this,"onPopoverContentHide",()=>{this.setState({popoverOpen:!1},()=>this.props.focusBackEditor())}),c()(this,"closePicker",()=>{this.refs.emojiPopoverContainer.hide(re.i.CLICK);const e={mKey:Ee.g.EMOJI_CLOSE,sec:Ee.i.COMPOSE_MSG,interactionType:Ee.e.click};this.setState({popoverOpen:!1}),this.props.focusBackEditor(),this.context.executeAction(Me.b,{i13nModel:e})}),c()(this,"renderEmojiCue",()=>_.a.createElement(se.b,{align:re.a.CENTER,triggerOn:re.i.MOUNT,zAltitude:ne.Pb.POPOVER.HIGH,persistent:!0},_.a.createElement(_e.a,{import:"../compose/atoms/emoji_cue",cueName:S.Eb.EMOJI_CUE,onTryNow:()=>{this.refs.emojiPopoverContainer.hide(re.i.MOUNT),this.refs.emojiPopoverContainer.show(re.i.CLICK)},onMayBeLater:()=>{},_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1353))},_moduleResolver:function(){return 1353}}))),c()(this,"renderEmojiPopup",()=>_.a.createElement(se.b,{permittedArrowDirections:[re.h.DOWN],triggerOn:re.i.CLICK,"data-test-id":"emoji-pop-up",onShow:()=>{this.props.showEmojiCue&&this.refs.emojiPopoverContainer.hide(re.i.MOUNT)},onHide:this.onPopoverContentHide,align:re.a.START,className:ve.emojiPopUp},_.a.createElement(_e.a,{import:"./emoji_popup",bundleName:"lazy_group2",onEmojiClick:this.props.onEmojiClick,closePicker:this.closePicker,"data-test-id":"emoji-lazy-component",tooltipEmoji:this.props.tooltipEmoji,_moduleLoader:function(){return Promise.all([s.e(0),s.e(5)]).then(s.bind(null,1334))},_moduleResolver:function(){return 1334}},_.a.createElement(_e.b,{loading:!0},_.a.createElement("div",{className:ve.lazyStyle},_.a.createElement(ye.b,null)))))),this.timer=null,this.state={popoverOpen:!1}}componentWillUnmount(){clearTimeout(this.timer)}render(){const e=this.context.intl.formatMessage,t=this.state.popoverOpen;return _.a.createElement("div",{onClick:this.togglePopover},_.a.createElement(ee.a,{ref:"emojiPopoverContainer"},_.a.createElement(te.a,{"data-test-id":"emoji-picker-anchor"},_.a.createElement(m.a,{"data-test-id":"emoji-picker-button",title:e(Fe.emojiPicker),"aria-label":e(Fe.emojiPicker),kind:t?F.a.ICON_HIGHLIGHTED:F.a.ICON},_.a.createElement(C.b,{kind:O.Kinds.COMPOSE_EMOJI,size:O.Sizes.XS,colorState:O.ColorStates.NORMAL}))),this.props.showEmojiCue?this.renderEmojiCue():null,this.renderEmojiPopup()))}}c()(Ue,"contextTypes",{executeAction:d.a.func.isRequired,intl:u.intlShape.isRequired});var we=Ue,Ge=s(765),He=s.n(Ge);s(9);function je(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ke(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?je(s,!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):je(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const xe=S.vb.Status,Be={bullet:"insertunorderedlist",number:"insertorderedlist",left:"justifyleft",center:"justifycenter",right:"justifyright"},Ve=Object(u.defineMessages)({bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},select_more_tools:{id:"compose.select_more_tools",defaultMessage:"More options"},delete_draft:{id:"compose.delete_draft",defaultMessage:"Delete this draft"},send_button_title:{id:"compose.send_button_title",defaultMessage:"Send this email"}});class We extends _.a.Component{constructor(...e){super(...e),c()(this,"state",{bold:!1}),c()(this,"_getToolbarStyle",()=>{const e={};return this.props.fixed&&this.props.width&&(e.maxWidth=this.props.width-H.HORIZONTAL_PADDING+"px"),e}),c()(this,"updateState",e=>{this.setState(e)}),c()(this,"_renderToolbarPlaceholder",e=>_.a.createElement("div",{className:e.toolbarPlaceholder,"data-test-id":"compose-toolbar-placeholder"})),c()(this,"_renderRichTextOff",(e,t)=>_.a.createElement("span",{className:e.icon},_.a.createElement(g.default,{"data-test-id":"richtext-on",onClick:this.onMoreMenuChange.bind(this,"richtext"),title:t(Ve.richtext),"aria-label":t(Ve.richtext_icon_label),kind:O.Kinds.RICHTEXT_ON,size:O.Sizes.XS}))),c()(this,"getToolbarBoundingRect",()=>{if(this.toolbar&&this.props.fixed){const e=this.toolbar.getBoundingClientRect();return{width:e.width,height:e.height,left:e.left,right:e.right,bottom:e.bottom,top:e.bottom>=window.innerHeight?window.innerHeight-e.height:e.top}}return this.toolbar?this.toolbar.getBoundingClientRect():{}}),c()(this,"_renderRichTextOn",(e,t,s,r)=>{const a=this.getFormatState(),i=a.fontSize,c=a.foreColor,l=a.fontFamily,d=a.backgroundColor,E=this.state,u=E.bold,p=E.italic,m=E.foreColor,S=void 0===m?c:m,h=E.fontSize,C=void 0===h?i:h,T=E.fontName,A=void 0===T?l:T,I=E.backColor,f=void 0===I?d:I,D=o()(E,["bold","italic","foreColor","fontSize","fontName","backColor"]);return s?_.a.createElement("div",{className:e.formattingTools},_.a.createElement("span",{className:e.menuIcon},_.a.createElement(Z,n()({onChange:this.onMoreMenuChange,onHandleChange:this.handleChange,tooltip:t(Ve.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:r,onMenuShow:this.props.onMoreMenuClick,onAddLink:this.onAddLink,onClickBold:this.onClickBold,onClickItalic:this.onClickItalic,onChooseColor:this.chooseColor,onChooseFont:this.chooseFont,foreColor:S||c,backgroundColor:f||d,fontSize:C||i,fontFamily:A||l,toolbar:this,isBold:u,isItalic:p},D)))):_.a.createElement("div",{className:e.formattingTools},_.a.createElement("span",{className:e.icon},_.a.createElement(g.default,{onClick:this.onAddLink,title:t(Ve.link),"aria-label":t(Ve.link_icon_label),kind:O.Kinds.LINK,size:O.Sizes.XS})),_.a.createElement("span",{className:e.icon},_.a.createElement(g.default,{onClick:this.onClickBold,title:t(Ve.bold),"aria-label":t(Ve.bold_icon_label),kind:O.Kinds.BOLD,size:O.Sizes.XS,colorState:u?O.ColorStates.PRIMARY_HOVER:O.ColorStates.INHERITED})),_.a.createElement("span",{className:e.icon},_.a.createElement(g.default,{onClick:this.onClickItalic,title:t(Ve.italic),"aria-label":t(Ve.italic_icon_label),kind:O.Kinds.ITALIC,size:O.Sizes.XS,colorState:p?O.ColorStates.PRIMARY_HOVER:O.ColorStates.INHERITED})),_.a.createElement("span",{className:e.menuIcon},_.a.createElement(Y.a,{selectedFGColor:S||c,selectedBGColor:f||d,onFGColorChange:this.chooseColor.bind(this,"forecolor"),onBGColorChange:this.chooseColor.bind(this,"backcolor"),focusBackEditor:this.props.focusOnEditor})),_.a.createElement("span",{className:e.menuIcon},_.a.createElement(q,{selectedFontSize:C||i,selectedFontFamily:A||l,onFontSizeChange:this.chooseFont.bind(this,"fontsize"),onFontFamilyChange:this.chooseFont.bind(this,"fontname"),focusBackEditor:this.props.focusOnEditor})),_.a.createElement("span",{className:e.menuIcon},_.a.createElement(P,n()({},this.state,{onChange:this.onMoreMenuChange,tooltip:t(Ve.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:r,onMenuShow:this.props.onMoreMenuClick,disabled:this.props.disabled}))))}),c()(this,"onFileSelectBtnClicked",()=>{this.handleChange(H.ToolbarActions.FILE_SELECT_BTN_CLICKED,{i13nModel:{sec:Ee.i.COMPOSE_TOOLBAR,mKey:Ee.g.COMPOSE_FILE_SELECT_BTN_CLICKED,interactionType:Ee.e.click}})}),c()(this,"onThemeChange",(e,t)=>this.handleChange(H.ToolbarActions.UPDATE_STATIONERY,{data:e,i13nModel:t})),c()(this,"onAddLink",e=>{this.handleChange("createlink",{data:e,i13nModel:{mKey:Ee.g.COMPOSE_ADD_LINK,sec:Ee.i.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}}})}),c()(this,"onClickBold",e=>{this.handleChange("bold",{data:e,i13nModel:{mKey:Ee.g.COMPOSE_BOLD,sec:Ee.i.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}}}),this.props.focusOnEditor()}),c()(this,"onClickItalic",e=>{this.handleChange("italic",{data:e,i13nModel:{mKey:Ee.g.COMPOSE_ITALIC,sec:Ee.i.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}}}),this.props.focusOnEditor()}),c()(this,"chooseColor",(e,t)=>{this.handleChange(e,{data:t,i13nModel:{mKey:Ee.g.COMPOSE_CHOOSE_COLOR,sec:Ee.i.RTE_TOOLBAR,actionData:{color:t,isFreshCompose:this.props.isFreshCompose}}})}),c()(this,"chooseFont",(e,t)=>{let s={size:t};"fontname"===e&&(s={font:t});const r={mKey:Ee.g.COMPOSE_CHOOSE_FONT,sec:Ee.i.RTE_TOOLBAR,actionData:ke({},s,{isFreshCompose:this.props.isFreshCompose})};this.handleChange(e,{data:t,i13nModel:r})}),c()(this,"onMoreMenuChange",(e,t)=>{let s=Ee.g.COMPOSE_OPEN_MORE_MENU,r="";switch(e){case"bullet":s=Ee.g.COMPOSE_CHOOSE_LIST_TYPE,r="unordrd";break;case"number":s=Ee.g.COMPOSE_CHOOSE_LIST_TYPE,r="ordrd";break;case"left":s=Ee.g.COMPOSE_ALIGN_TEXT,r="lft";break;case"right":s=Ee.g.COMPOSE_ALIGN_TEXT,r="rght";break;case"center":s=Ee.g.COMPOSE_ALIGN_TEXT,r="cntr";break;case"strikeThrough":s=Ee.g.COMPOSE_STRIKETHROUGH_TEXT,r="strikethrough";break;case"plaintext":s=Ee.g.COMPOSE_PLAIN_TEXT_MODE,r="plaintext";break;case"richtext":s=Ee.g.COMPOSE_RICH_TEXT_MODE,r="richtext"}this.handleChange(e,{data:t,i13nModel:{mKey:s,sec:Ee.i.RTE_TOOLBAR,actionData:{setTo:r,isFreshCompose:this.props.isFreshCompose}}})}),c()(this,"handleChange",(e,t)=>{this.props.onExecuteAction(Be[e]||e,t)}),c()(this,"getFormatState",()=>Object.assign({foreColor:Y.a.DEFAULTS.FG_COLOR,backgroundColor:Y.a.DEFAULTS.BG_COLOR,fontSize:"0",fontFamily:""},this.props.formatState))}render(){const e=this.props,t=e.disabled,s=e.draftStatus,r=e.fixed,n=e.kind,a=e.showPlainTextMode,o=e.stationeryEnabled,i=e.gifFinderEnabled,c=e.uploadEnabled,l=e.width,d=e.stationeryRestrictedThemes,E=e.useRichText,p=R()(He.a,{kind:n,fixed:r,disabled:t}),S=this.context.intl.formatMessage,h=this._getToolbarStyle(),C=E&&o,T=E&&i,A=E,I=c||C,f=l<H.COMPOSE_MIN_WIDTH;return _.a.createElement("div",{"data-test-id":"compose-toolbar",ref:e=>this.toolbar=e},_.a.createElement("div",{"data-test-id":"compose-toolbar-styler",className:p.composeToolbar,style:h},this.props.showSendButton?_.a.createElement(m.a,{"data-test-id":"compose-send-button",className:p.sendButton,disabled:s===xe.SENDING||this.props.disabled,onClick:this.handleChange.bind(this,H.ToolbarActions.SEND),title:S(Ve.send_button_title)},_.a.createElement(u.FormattedMessage,{id:"compose.send_button_label",defaultMessage:"Send"})):null,c?_.a.createElement("span",{className:p.icon+" "+p.rtlRawScaleX},_.a.createElement(Oe,{ref:e=>this.uploader=e,onFileSelect:this.handleChange.bind(this,H.ToolbarActions.FILE_SELECT),onFileSelectBtnClicked:this.onFileSelectBtnClicked,insertLink:this.props.insertLink,handleAttachmentFromRecentFiles:this.props.handleAttachmentFromRecentFiles,previewAttachment:this.props.previewAttachment})):null,T?_.a.createElement("span",{className:p.menuIcon},_.a.createElement(Ne,{onGifClick:this.props.onGifClick,focusBackEditor:this.props.focusOnEditor,left:this.props.left,width:this.props.width,csid:this.props.csid,getToolbarBoundingRect:this.getToolbarBoundingRect,showGIFPicker:this.props.showGIFPicker})):null,C?_.a.createElement("span",{className:p.menuIcon+" "+p.rtlRawScaleX},_.a.createElement(Te.a,{"data-test-id":"stationery-button",getToolbarBoundingRect:this.getToolbarBoundingRect,onThemeChange:this.onThemeChange,focusBackEditor:this.props.focusOnEditor,stationeryDefaultTheme:this.props.stationeryDefaultTheme,stationeryTheme:this.props.stationeryTheme,stationeryCategory:this.props.stationeryCategory,stationeryCategoriesToShow:this.props.stationeryCategoriesToShow,showStationeryCue:this.props.showStationeryCue,stationeryRestrictedThemes:d,rtl:this.props.rtl,showStationeryPicker:!t&&this.props.showStationeryPicker,showStationeryDefaultTheme:this.props.showStationeryDefaultTheme,showStationeryThemeCategories:this.props.showStationeryThemeCategories,showStationerySetDefault:this.props.showStationerySetDefault,toolbarKind:this.props.kind})):null,A?_.a.createElement("span",{className:p.menuIcon},_.a.createElement(we,{ref:e=>this.emojiPicker=e,showEmojiCue:this.props.showEmojiCue,focusBackEditor:this.props.focusOnEditor,left:this.props.left,onEmojiClick:this.props.addEmoji})):null,I?_.a.createElement("span",{"data-test-id":"section-divider-contentSection",className:p.sectionDivider}):null,E?this._renderRichTextOn(p,S,f,a):this._renderRichTextOff(p,S),_.a.createElement("span",{className:p.spacer}),s===xe.SAVED||s===xe.SAVED_PARTIAL||s===xe.SAVING?_.a.createElement("span",{role:"status","data-test-id":"status",className:p.status},_.a.createElement(u.FormattedMessage,s===xe.SAVING?{id:"compose.draft_saving_status",defaultMessage:"Saving"}:{id:"compose.draft_save_success_status",defaultMessage:"Saved"})):null,this.props.showDeleteButton?_.a.createElement("span",{className:p.deleteButton},_.a.createElement(g.default,{onClick:this.handleChange.bind(null,H.ToolbarActions.DELETE_DRAFT),title:S(Ve.delete_draft),"aria-label":S(Ve.delete_draft),kind:O.Kinds.DELETE,size:O.Sizes.XS,colorState:O.ColorStates.INHERITED,className:p.trashIcon})):null),this.props.fixed&&this._renderToolbarPlaceholder(p))}}c()(We,"contextTypes",{intl:u.intlShape.isRequired}),c()(We,"defaultProps",{uploadEnabled:!0,showDeleteButton:!0,showSendButton:!0,showPlainTextMode:!0,kind:H.ToolbarTypes.COMPOSE,fixed:!1,disabled:!1,onGifClick:()=>{},stationeryEnabled:!1,useRichText:!0,isFreshCompose:!0});t.a=Object(p.connect)((e,{getDraftStatus:t})=>({draftStatus:t?t():void 0}),null,null,{withRef:!0})(We)},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(485),d=s.n(l),E=s(6),_=s(13),u=(s(51),s(236)),p=s(24),m=s(58),S=s(21),h=s(4),C=s(273),g=s(116),O=s(16),T=s(301),A=s(157),I=s(85),f=s(9);const D=Object(f.d)(["FORM","PASSWORD"]),R="Remember: {brand} will NEVER ask you for your password in an unsolicited phone call or an unsolicited email.",b=`\n    You are about to enter a password in a form that will not be sent to {brand}!.\n    ${R}\n`,N=`\n    You are about to send information to someone other than {brand}.\n    If you do not want anyone outside of {brand} to have this information, click "Cancel" now.\n    ${R}\n`,M=Object(E.defineMessages)({warning:{id:"message_pane.warning_title",defaultMessage:"Warning"}});class y extends c.a.Component{constructor(...e){super(...e),n()(this,"hidePasswordWarning",e=>{this.props.onDialogClose(),e.warningShown=!0}),n()(this,"submitForm",e=>{this.props.onDialogClose(),e&&"FORM"===e.nodeName&&e.submit&&HTMLFormElement.prototype.submit.call(e)})}shouldComponentUpdate({warningType:e,targetElement:t}){const s=this.props;return e!==s.warningType||t!==s.targetElement}render(){const e=(0,this.context.intl.formatMessage)(M.warning),t=this.props,s=t.warningType,r=t.targetElement,n=t.onDialogClose,a=c.a.createElement(E.FormattedMessage,{id:"message_pane.password_warning",defaultMessage:b,values:{brand:"Yahoo"}}),o=c.a.createElement(E.FormattedMessage,{id:"message_pane.form_warning",defaultMessage:N,values:{brand:"Yahoo"}});switch(s){case D.FORM:return c.a.createElement(I.a,{title:e,message:o,onAbort:n,onConfirm:this.submitForm.bind(this,r)});case D.PASSWORD:return c.a.createElement(A.a,{title:e,message:a,onAccept:this.hidePasswordWarning.bind(this,r)});default:return null}}}n()(y,"contextTypes",{intl:E.intlShape.isRequired});var L=y;const P=/^\s*mailto:/i;class v extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{warningType:null}),n()(this,"_isYahooUrl",e=>{const t=document.createElement("a");t.setAttribute("href",e);return/\.yahoo\.com$/i.test(t.hostname)}),n()(this,"_handleFormWarning",e=>{const t=e.target;if(!this._isYahooUrl(t.action))return e.preventDefault(),e.stopPropagation(),this.setState({warningType:D.FORM,targetElement:t}),!1}),n()(this,"_handlePasswordWarning",e=>{const t=e.target;if("INPUT"===t.tagName&&"password"===t.type&&!t.warningShown)return this.setState({warningType:D.PASSWORD,targetElement:t}),!1}),n()(this,"handleKeyDown",e=>{e.stopPropagation()}),n()(this,"handleBodyClick",e=>{let t=e.target;do{if("A"===t.nodeName){if(t.hasAttribute("ymailto")||t.href&&P.test(t.href)){e.preventDefault(),e.stopPropagation();const s=t.getAttribute("ymailto")||t.href;return void this.props.onMailtoClick(s)}if(t.hasAttribute("href"))return t.setAttribute("rel","noreferrer"),void this.props.onHrefLinkClick(t)}}while(t.parentElement!==this.wrapper&&(t=t.parentElement))}),n()(this,"handleDialogClose",()=>{this.setState({warningType:null,targetElement:null})})}componentDidMount(){const e=this.messageBody;e&&(e.addEventListener("submit",this._handleFormWarning,!0),e.addEventListener("focus",this._handlePasswordWarning,!0),Object(T.a)(e,this.props.attachments))}componentWillUnmount(){const e=this.messageBody;e&&(e.removeEventListener("submit",this._handleFormWarning,!0),e.removeEventListener("focus",this._handlePasswordWarning,!0))}render(){const e=this.state,t=e.warningType,s=this.props.dangerouslySetInnerHTML.__html;return c.a.createElement("div",{className:this.props.className,onKeyDown:this.handleKeyDown,ref:e=>this.wrapper=e},t?c.a.createElement(L,{warningType:t,targetElement:e.targetElement,onDialogClose:this.handleDialogClose}):null,c.a.createElement("div",{ref:e=>this.messageBody=e,onClickCapture:this.handleBodyClick,dangerouslySetInnerHTML:{__html:s}}))}}n()(v,"contextTypes",{config:o.a.object}),n()(v,"defaultProps",{className:"",onHrefLinkClick:O.NOOP,onMailtoClick:O.NOOP,attachments:[]});var F=v,U=s(53),w=s.n(U),G=s(12),H=s.n(G),j=s(776),k=s.n(j),x=s(777),B=s(0),V=s(10);const W=["autoplay 'none'","camera 'none'","encrypted-media 'none'","fullscreen 'none'","geolocation 'none'","gyroscope 'none'","magnetometer 'none'","microphone 'none'","midi 'none'","payment 'none'","speaker 'none'","sync-xhr 'none'","vr 'none'"],K=["allow-scripts","allow-forms","allow-popups","allow-popups-to-escape-sandbox"];var q=Object(_.connect)(e=>({viewerUrl:(0,Object(V.selectors)(e).getSetting)(B.Kd.APP_ROOT_PATH)+"/amp_viewer"}))(class extends c.a.Component{constructor(e){super(e),n()(this,"iframeHeightHandler",(e,t)=>{const s=t.height;s&&this._iframe.setAttribute("height",s+"px")}),n()(this,"generateMessagingToken",()=>{const e=new Uint8Array(32);window.crypto.getRandomValues(e);const t=String.fromCharCode.apply(null,Array.from(e));return btoa(t)}),this.messagingToken=this.generateMessagingToken()}async waitForIframeLoad(){return new Promise(e=>{const t=()=>{this._iframe.removeEventListener("load",t),e()};this._iframe.addEventListener("load",t)})}async injectAMP(e){await this.waitForIframeLoad(),this._iframe.contentWindow.postMessage({amp:e},"*")}async startMessaging(){const e=this._iframe;try{this.messaging=await x.a.waitForHandshakeFromDocument(window,e.contentWindow,"null",this.messagingToken)}catch(e){return}this.messaging.setDefaultHandler(this.messageDefaultHandler);try{this.messaging.registerHandler("documentHeight",this.iframeHeightHandler)}catch(e){return}try{this.messaging.sendRequest("visibilitychange",{},!0)}catch(e){return}}messageDefaultHandler(){return Promise.resolve()}async componentDidMount(){this.injectAMP(this.props.ampHtml),await this.startMessaging()}componentWillUnmount(){this.messaging=null}render(){const e=H()(k.a),t=w.a.stringify({origin:window?window.location.origin:"",messagingToken:this.messagingToken},"&");return c.a.createElement("div",null,c.a.createElement("iframe",{className:e.iframe,ref:e=>{this._iframe=e},src:`${this.props.viewerUrl}#${t}`,"data-test-id":"amp-iframe-page",allow:W.join("; "),sandbox:K.join(" "),scrolling:"no"}))}}),Y=s(379),z=s.n(Y),Q=s(18),Z=s(25),X=s(17);const $=H()(z.a),J=Object(E.defineMessages)({blockedImageMessageTitle:{id:"blocked_image_banner.message",defaultMessage:"This message contains blocked images."},blockedLinkAndImageMessageTitle:{id:"blocked_link_and_image_banner.message",defaultMessage:"For your security we disabled all images and links in this email. If you believe it is safe to use, mark this message as not spam."},blockedLinksMessageTitle:{id:"blocked_link_banner.message",defaultMessage:"For your security we disabled links in this email. If you believe it is safe to use, mark this message as not spam."}}),ee=({isSpamFolder:e,hasAnchorLinks:t,hasBlockedImages:s,onShowImages:r,onChangeImageSetting:n},{intl:a})=>{const o=a.formatMessage(((e,t,s=!1)=>{const r=J.blockedImageMessageTitle;return s?e&&t?J.blockedLinkAndImageMessageTitle:e?J.blockedLinksMessageTitle:r:r})(t,s,e));return c.a.createElement("div",{className:$.container,"data-test-id":"blocked-image-banner"},c.a.createElement(X.b,{size:h.Sizes.XS,kind:h.Kinds.EXCLAMATION_ALT,colorState:h.ColorStates.WARNING_GRAD_RED}),c.a.createElement("div",{title:o,className:$.message},c.a.createElement("span",null,o),c.a.createElement("span",{className:$.buttonsContent},s?c.a.createElement(Q.a,{kind:Z.a.CHROMELESS,onClick:r},c.a.createElement("span",{"data-test-id":"show-image-button",className:$.button},c.a.createElement(E.FormattedMessage,{id:"blocked_image_banner.show_images",defaultMessage:"Show images"}))):null,e?null:c.a.createElement("div",null,c.a.createElement(E.FormattedMessage,{id:"blocked_image_banner.or_text",defaultMessage:"or"}),c.a.createElement(Q.a,{kind:Z.a.CHROMELESS,onClick:n},c.a.createElement("span",{"data-test-id":"always-show-image-button",className:$.button},c.a.createElement(E.FormattedMessage,{id:"blocked_image_banner.change_setting",defaultMessage:"Always show images"})))))))};ee.defaultProps={hasBlockedImages:!0},ee.contextTypes={intl:E.intlShape.isRequired};var te=ee,se=s(14);const re=H()(z.a),ne=e=>{e({route:Object(se.w)({settingsGroupId:B.Nd.VIEWING_EMAIL})})},ae=(e,{navigateTo:t})=>c.a.createElement("div",{className:re.container,"data-test-id":"pac-notification-banner"},c.a.createElement(X.b,{size:h.Sizes.XS,kind:h.Kinds.TRUSTED,colorState:h.ColorStates.SUCCESS}),c.a.createElement("p",{className:re.message},c.a.createElement(E.FormattedMessage,{id:"externalImage.message",defaultMessage:"External images are now more secure, and shown by default."})),"",c.a.createElement(Q.a,{"data-test-id":"change-settings-button",kind:Z.a.CHROMELESS,onClick:ne.bind(null,t)},c.a.createElement("span",{className:re.primaryButton},c.a.createElement(E.FormattedMessage,{id:"externalImage.change_accept",defaultMessage:"Change in Settings"}))));ae.contextTypes={navigateTo:o.a.func.isRequired};var oe=ae;var ie=Object(_.connect)((e,{messageId:t,isSpamFolder:s})=>{const r=Object(V.selectors)(e),n=r.isFeatureEnabled,a=(0,r.getMessageBodiesSelectors)(),o=a.hasInlineImage,i=a.hasAnchorLinks,c=n(B.Kd.SHOW_IMAGES),l=n(B.Eb.INLINE_IMAGES_PROXIED);return{showPACNotification:!c&&l,hasInlineImage:o(t),hasAnchorLinks:s&&i(t)}})(class extends c.a.Component{render(){const e=this.props,t=e.showPACNotification,s=e.hasInlineImage,r=e.isSpamFolder,n=e.hasBlockedImages,a=e.hasAnchorLinks,o=e.onChangeImageSetting;return n||r&&a?c.a.createElement(te,{onShowImages:e.onShowImages,isSpamFolder:r,hasBlockedImages:n,hasAnchorLinks:a,onChangeImageSetting:o}):t&&s&&!r?c.a.createElement(oe,{onChangeImageSetting:o}):null}}),ce=s(778),le=s.n(ce),de=s(27),Ee=s.n(de),_e=s(182);const ue=Object(E.defineMessages)({helpLink:{id:"mobile.security_alert_reply_to.help_link",defaultMessage:"Link to information on Additional Security Features in Yahoo Mail"}}),pe=(e,{intl:t,partner:s})=>{const r=t.formatMessage,n=t.locale,a=Object(_e.h)("SLN29297")(n,s);return a?c.a.createElement("a",Ee()({href:a,target:"_blank","aria-label":r(ue.helpLink)},e),c.a.createElement(X.b,{size:h.Sizes.XS,kind:h.Kinds.CAL_MAYBE,colorState:h.ColorStates.FIRST_LEVEL_GRAY})):null};pe.contextTypes={intl:E.intlShape.isRequired,partner:o.a.string.isRequired};var me=pe;const Se=H()(le.a),he=({onMount:e,onMarkAsSpam:t,onMarkAsNotSpam:s,isSpamFolder:r})=>(Object(i.useEffect)(e,[]),c.a.createElement("div",{className:Se.container,"data-test-id":"phishing-banner"},c.a.createElement(X.b,{size:h.Sizes.XS,kind:h.Kinds.EXCLAMATION_ALT,colorState:h.ColorStates.WARNING}),c.a.createElement("div",{className:Se.content},c.a.createElement("div",{className:Se.title},c.a.createElement(E.FormattedMessage,{id:"phishing_banner.title",defaultMessage:"Be careful with this message"})),c.a.createElement("div",{className:Se.message},c.a.createElement(E.FormattedMessage,{id:"phishing_banner.subtitle",defaultMessage:"This message could be used to steal your personal information. Avoid clicking links, downloading attachments or replying with personal details."})),c.a.createElement("div",{className:Se.buttons},!r&&c.a.createElement(Q.a,{kind:Z.a.DANGER,overridingClass:Se.reportButton,onClick:t,"data-test-id":"phishing-report-button"},c.a.createElement(E.FormattedMessage,{id:"phishing_banner.report",defaultMessage:"Report this message"})),c.a.createElement(Q.a,{kind:Z.a.SECONDARY_BORDERLESS,overridingClass:Se.safeButton,onClick:s,"data-test-id":"phishing-safe-button"},c.a.createElement(E.FormattedMessage,{id:"phishing_banner.safe",defaultMessage:"It's safe"})))),c.a.createElement(me,null)));he.contextTypes={intl:E.intlShape.isRequired,partner:o.a.string};var Ce=he,ge=s(239),Oe=s(256),Te=s.n(Oe),Ae=s(5),Ie=s(162);function fe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const De=Object(E.defineMessages)({hideQuote:{id:"hide_quote",defaultMessage:"Hide original message"},download:{id:"inline_image_download",defaultMessage:"Download"},showQuote:{id:"show_quote",defaultMessage:"Show original message"}}),Re=d.a.renderToStaticMarkup(c.a.createElement("div",null,c.a.createElement(m.b,null)));class be extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{quoteExpanded:this.props.quoteExpanded||!1,mounted:!1}),n()(this,"handleInlineImageDownload",e=>{const t=this.props,s=t.downloadAttachment,r=t.attachments.find(({id:t})=>t===e);r&&s({attachment:r,i13nModel:{sec:Ae.i.MSG_BODY,mKey:Ae.g.INLINE_IMAGE_DOWNLOAD,mKeyGroup:Ae.h.dwnldAttmnt,interactionType:Ae.e.CLICK}})}),n()(this,"handleInlineImagePreview",e=>{var t;const s=this.props,r=s.listId,n=s.groupId,a=s.isMessageInPreviewPane?{messagePreview:"1"}:{},o=(null===(t=s.attachments.find(({id:t})=>t===e))||void 0===t?void 0:t.id)||e;this.context.navigateTo({route:Object(se.d)(r,n,o,a),i13nModel:{sec:Ae.i.MSG_BODY,mKey:Ae.g.INLINE_IMAGE_PREVIEW,interactionType:Ae.e.CLICK}})}),n()(this,"_convertInlineImageAttchments",(e=[])=>{const t=e.filter(({image:e})=>e.classList.contains("preview"));if(0===t.length)return;const s=t.map(({image:e,attachmentId:t,partId:s})=>({id:t,filename:e.src,downloadUrl:e.src,type:B.F.Types.IMAGE,disposition:B.F.Dispositions.INLINE,partId:s})),r=this.props;(0,r.createInlineImageAttchments)({msgId:r.messageId,attachments:s})}),n()(this,"_onPreviewHandler",e=>{const t=e.target,s=this.props.externalInlineImagePreviewEnabled;if("IMG"===t.nodeName&&t.classList.contains("preview")){let e;if(s){const s=this.inlineImages.filter(({image:{complete:e,naturalWidth:t}})=>e&&t);this._convertInlineImageAttchments(s),this.inlineImages.filter(({image:e})=>!e.complete).forEach(e=>e.image.addEventListener("load",()=>this._convertInlineImageAttchments([e]))),e=t.dataset.attachmentId}else e=Object(T.b)(t&&t.src);e&&this.handleInlineImagePreview(e)}}),n()(this,"_processInlineImages",()=>{const e=this.props,t=e.fixImgSrcURL,s=e.groupId,r=e.messageId,a=e.multipleCardsInGroup,o=e.logVisibilityStat,i=e.externalInlineImagePreviewEnabled;this.inlineImages=Object(T.c)({component:this,element:this.messageBody,shouldFixSrcURL:t,onDownload:this.handleInlineImageDownload,downloadTitle:this.context.intl.formatMessage(De.download),logVisibilityStat:e=>o(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?fe(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fe(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({groupId:s,messageId:r},e,{multipleCardsInGroup:a})),msgId:r,externalInlineImagePreviewEnabled:i})}),n()(this,"toggleQuote",e=>{e.preventDefault(),e.stopPropagation();const t=this.state.quoteExpanded,s=this.props;return t||s.hasFullBody||(0,s.onShowQuotedText)({full:!0,secure:s.isSecure}),this.setState({quoteExpanded:!t}),!1}),n()(this,"renderBodyContent",(e,t="")=>{const s=this.props;return c.a.createElement(F,{className:t,dangerouslySetInnerHTML:{__html:e},onHrefLinkClick:s.onHrefLinkClick,onMailtoClick:s.onMailtoClick,attachments:this.props.attachments})}),n()(this,"_areImagesBlocked",({htmlAnnotations:e=[]})=>e.some(({type:e})=>"blocked"===e)),n()(this,"onLinkEnhancerUtilsLoad",({enhanceCardsInTree:e})=>{this.enhanceCardsInTree=e,this.enhanceCards()}),n()(this,"enhanceCards",()=>!!this.enhanceCardsInTree&&(this.enhanceCardsInTree(this.messageBody,this,this.props.onShareCard,this.props.onShareCardLinkClick,this.context.intl.formatMessage),!0)),n()(this,"handleSpam",e=>{const t=this.props;(0,t.moveToSpam)({messageIds:[t.messageId],triageActionType:B.ye.SPAM_SELECTED_ITEMS,i13nModel:{mKey:Ae.g.PHISHING_BANNER_SPAM,sec:Ae.i.PHISHING_BANNER,mKeyGroup:Ae.h.markSpam,interactionType:Object(O.getInteractionFromEvent)(e)}})}),n()(this,"handleNotSpam",e=>{const t=this.props,s=t.messageId,r=t.isSpamFolder,n=t.moveToInbox;(0,t.removePhishingDeco)({messageId:s,i13nModel:{mKey:Ae.g.PHISHING_BANNER_NOT_SPAM,sec:Ae.i.PHISHING_BANNER,mKeyGroup:Ae.h.markUnspam,interactionType:Object(O.getInteractionFromEvent)(e)}}),r&&n({messageIds:[s]})}),n()(this,"handlePhishingBannerMount",()=>{this.props.phishingBannerMounted({i13nModel:{mKey:Ae.g.PHISHING_BANNER_SHOWN,sec:Ae.i.PHISHING_BANNER}})})}componentDidMount(){this.setState({mounted:!0}),this.props.isSpamFolder&&this.messageBody&&Object(ge.b)(this.messageBody),this.messageBody&&(this._processInlineImages(),this.messageBody.addEventListener("click",this._onPreviewHandler))}componentWillUnmount(){this.messageBody&&this.messageBody.removeEventListener("click",this._onPreviewHandler)}componentDidUpdate(e,t){const s=this.props.body.html!==e.body.html;(s||this.state.quoteExpanded!==t.quoteExpanded)&&this.enhanceCards(),s&&this.props.isSpamFolder&&this.messageBody&&Object(ge.b)(this.messageBody),(s||!t.quoteExpanded&&this.state.quoteExpanded)&&this._processInlineImages()}render(){const e=this.state.quoteExpanded,t=this.props,r=t.onShowImages,n=t.onChangeImageSetting,a=t.renderAttachments,o=t.removeCollapseButton,i=t.body,l=t.hasFullBody,d=t.isSpamFolder,E=t.isPhishingMessage,_=t.multipleCardsInGroup,m=t.printView,C=t.messageId,g=t.ampEnabled,O=H()(Te.a,{printView:m}),T=!!this.props.linkEnhancerEnabled,A=Object(u.b)(i.html,i.htmlAnnotations,e);let I=A.messageBelow;const f=A.messageAbove,D=A.expandable,R=this.context.intl.formatMessage(e?De.hideQuote:De.showQuote),b=O.leftRightPadding;!l&&e&&(I=Re);const N=this._areImagesBlocked(i),M=g&&(null==i?void 0:i.amp),y=E&&!_;return c.a.createElement("div",{"data-test-id":"message-view-body",className:O.messageViewBody},c.a.createElement("div",{className:O.blockedImageBanner},c.a.createElement(ie,{messageId:C,isSpamFolder:d,hasBlockedImages:N,onChangeImageSetting:n,onShowImages:r.bind(null,{secure:!1,full:l})})),y&&c.a.createElement("div",{className:O.phishingBanner},c.a.createElement(Ce,{onMount:this.handlePhishingBannerMount,onMarkAsSpam:this.handleSpam,onMarkAsNotSpam:this.handleNotSpam,isSpamFolder:d})),c.a.createElement("div",{ref:e=>this.messageBody=e,className:"msg-body "+O.bodyContainer,"data-test-id":"message-view-body-content"},M?c.a.createElement(q,{ampHtml:i.amp}):this.renderBodyContent(f,b),!o&&D&&c.a.createElement("div",{className:b},c.a.createElement(S.default,{"data-norrin-quoted-button":!0,className:O.button,kind:h.Kinds.CHEVRON_UP,size:h.Sizes.XS,rotate:e?h.Rotate.D180:h.Rotate.D90,colorState:h.ColorStates.DISABLED,title:R,onClick:this.toggleQuote},R)),""!==I&&!M&&c.a.createElement("div",{className:b},this.renderBodyContent(I))),a?c.a.createElement("div",{className:b},a()):null,T?c.a.createElement(p.a,{import:"../../../platform/link_enhancer/utils_loader",onLoad:this.onLinkEnhancerUtilsLoad,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1332))},_moduleResolver:function(){return 1332}}):null)}}n()(be,"contextTypes",{intl:E.intlShape.isRequired,navigateTo:o.a.func}),n()(be,"defaultProps",{onShowImages:O.NOOP,onShowQuotedText:O.NOOP,onChangeImageSetting:O.NOOP,downloadAttachment:O.NOOP,logVisibilityStat:O.NOOP});t.a=Object(_.connect)((e,t)=>{const s=Object(V.selectors)(e),r=s.doesMessageBodyExist,n=s.getMessageBodiesSelectors,a=s.getMessagesSelectors,o=s.getFeaturesSelectors,i=s.getFoldersSelectors,c=s.findUnsyncedDataByCsid,l=s.getMessageIdsFromMessageGroupId,d=s.isSendRequested,E=s.doesComposeSessionExist,_=s.getSetting;let u;const p=(0,s.getRoute)(),m=t.csid,S=t.folderId,h=t.messageId,C=t.groupId,g=i().isSpamFolder,O=o().isEnabled,T=a().hasPhishingDeco,A=n(),I=O(B.Eb.CONVERSATIONS),f=O(B.Eb.FIX_IMG_SRC),D=!I||A.hasFullBody(h),R=A.isSecureMessage(h),b=O("linkEnhancer"),N=l(C).length>1,M=p.query.messagePreview||_(B.Kd.PREVIEW_PANE)!==B.ed.NO,y=O(B.Eb.AMP)&&O(B.Kd.AMP_EMAIL),L=O(B.Eb.EXTERNAL_INLINE_IMAGE_PREVIEW);if(m&&E(m)&&d(m)){const e=c(m)||{};u={html:e.html,htmlAnnotations:e.htmlAnnotations}}else u=r(h)?A.get(h):{};return{body:u,isSecure:R,ampEnabled:y,hasFullBody:D,fixImgSrcURL:f,linkEnhancerEnabled:b,multipleCardsInGroup:N,isMessageInPreviewPane:M,isSpamFolder:g(S),isPhishingMessage:T(h),externalInlineImagePreviewEnabled:L}},e=>({phishingBannerMounted:t=>e(Object(C.a)(t)),removePhishingDeco:t=>e(Object(C.c)(t)),moveToSpam:t=>e(Object(g.f)(t)),downloadAttachment:t=>e(Object(Ie.b)(t)),moveToInbox:t=>e(Object(g.e)(t)),createInlineImageAttchments:t=>e(Object(Ie.a)(t))}))(be)},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(13),d=s(6),E=s(14),_=s(51),u=s(0),p=s(8),m=s(162),S=s(163),h=s(44),C=s(125),g=s(107),O=s(21),T=s(90),A=s(17),I=s(18),f=s(216),D=s(267),R=s(64),b=s(61),N=s(42),M=s(15),y=s(11),L=s(10),P=s(48);var v=Object(l.connect)((e,{messageId:t,listId:s})=>{const r=Object(L.selectors)(e),n=r.getMessageSnippet,a=r.getMessageSubject,o=r.getAttachmentsByMessageId,i=r.getMessageFlags,c=(0,r.doesMessageIdExist)(t),l=o(t);return{isLoaded:c,flags:c?i(t):{},attachments:l,contentType:Object(p.w)(s),subject:c?a(t):"",snippet:c?n(t):""}},(e,{listId:t,onClose:s})=>{const r=Object(P.a)([t]);return{onCancel:({i13nModel:t})=>{e(Object(S.b)({i13nModel:t})),s()},onDeleteMessage:({i13nModel:n,groupId:a,messageId:o})=>{e(Object(S.a)({conversations:!1,streamId:r,i13nModel:n,streamItem:{id:a,messageIds:[o],listId:Object(p.gb)(t,{listContentType:u.ac.MESSAGES}),isAffected:!0},triageActionType:u.ye.DELETE_SELECTED_ITEMS})),s()}}}),F=s(25),U=s(58),w=s(16),G=s(5),H=s(4),j=s(799),k=s.n(j),x=s(12),B=s.n(x);const V=B()(k.a),W=Object(d.defineMessages)({delete_message_warning:{id:"delete_preview.delete_message_warning",defaultMessage:"Delete the message containing this {contentType, select, IMAGES {photo} DOCUMENTS {document} other {attachment}}?"},delete_message_button:{id:"delete_preview.delete_message_button",defaultMessage:"Delete message"},delete_warning_tooltip:{id:"delete_preview.delete_warning_tooltip",defaultMessage:"To delete this {contentType, select, IMAGES {photo} DOCUMENTS {document} other {attachment}}, the message its attached to and any other attachments below must also be deleted."},view_original:{id:"delete_preview.view_message",defaultMessage:"View original message"},cancel:{id:"confirm.cancel",defaultMessage:"Cancel"},close:{id:"confirm.close",defaultMessage:"Close"},info:{id:"confirm.info",defaultMessage:"Information"}});class K extends c.a.Component{constructor(...e){super(...e),n()(this,"handleDeleteMessage",e=>{e.stopPropagation(),this.props.onDeleteMessage({i13nModel:{interactionType:Object(w.getInteractionFromEvent)(e),mKey:this.props.contentType===u.ac.IMAGES?G.g.PHOTO_MESSAGE_DELETE:G.g.DOC_MESSAGE_DELETE,sec:this.props.contentType===u.ac.IMAGES?G.i.PHOTO_LIST:G.i.DOC_LIST},messageId:this.props.messageId,groupId:this.props.groupId})}),n()(this,"handleClose",e=>{e.stopPropagation(),this.props.onCancel({i13nModel:{interactionType:Object(w.getInteractionFromEvent)(e),mKey:this.props.contentType===u.ac.IMAGES?G.g.PHOTO_DELETE_PREVIEW_CLOSE:G.g.DOC_DELETE_PREVIEW_CLOSE,sec:this.props.contentType===u.ac.IMAGES?G.i.PHOTO_LIST:G.i.DOC_LIST}})}),n()(this,"navigateToMessage",e=>{e.stopPropagation(),e.preventDefault();const t=this.props,s=t.listId,r=t.groupId,n=t.messageId,a=t.attachments;let o,i;if(r)o=Object(E.p)(s,r);else{if(!a.find(e=>(i=e.csid,e.csid)))return;o=Object(E.f)(i,{})}this.context.navigateTo({hashParams:{messageId:n},route:o,i13nModel:{interactionType:Object(w.getInteractionFromEvent)(e),mKey:this.props.contentType===u.ac.IMAGES?G.g.PHOTO_DELETE_PREVIEW_READ_MSG:G.g.DOC_DELETE_PREVIEW_READ_MSG,mKeyGroup:G.h.openMsg,sec:this.props.contentType===u.ac.IMAGES?G.i.PHOTO_LIST:G.i.DOC_LIST}}),this.props.onClose()}),n()(this,"renderAttachments",()=>{const e=this.props,t=e.attachments;return t&&t.length?c.a.createElement(D.a,{attachments:t,readOnly:!0,allowDownload:!1,mayContainVirus:!1,message:{headers:{subject:e.subject}},onAttachmentPreview:this.navigateToMessage,shouldShowSpamAttachmentWarning:!1,allowInline:!0,isCompact:!0}):null})}render(){const e=this.context.intl.formatMessage,t={margin:"16px 8px 16px 0"},s=this.props,r=s.isLoaded,n=s.subject,a=s.snippet,o=s.flags,i=s.contentType;return c.a.createElement(g.a,{onClose:this.handleClose},c.a.createElement("div",{className:V.container,"data-test-id":"delete-preview-dialog"},c.a.createElement("div",{className:V.header},c.a.createElement("div",{className:V.heading},c.a.createElement(A.b,{kind:H.Kinds.EXCLAMATION_ALT,size:H.Sizes.XS,colorState:H.ColorStates.WARNING,title:e(W.close),"aria-label":e(W.close)}),c.a.createElement("div",{className:V.title,"data-test-id":"title"},e(W.delete_message_warning,{contentType:i})),c.a.createElement("div",{className:V.info},c.a.createElement(R.a,{className:V.popoverContainer},c.a.createElement(b.a,null,c.a.createElement("div",{className:V.popoverAnchor},c.a.createElement(T.a,{kind:H.Kinds.INFO,size:H.Sizes.XS,colorStates:{normal:H.ColorStates.SECOND_LEVEL_GRAY,hovered:H.ColorStates.TOUCH_PRIMARY},className:V.spacing,"aria-label":e(W.info),paddingLess:!0}))),c.a.createElement(N.b,{ignorePointerEvents:!0,permittedArrowDirections:[M.h.UP],isArrowVisible:!0,triggerOn:M.i.HOVER,align:M.a.START,zAltitude:y.Pb.MODAL,offset:12},c.a.createElement("div",{className:V.tooltip},e(W.delete_warning_tooltip,{contentType:i})))))),c.a.createElement("div",{className:V.close},c.a.createElement(O.default,{onClick:this.handleClose,kind:H.Kinds.CLOSE,size:H.Sizes.XS,title:e(W.close),"aria-label":e(W.close),"data-test-id":"close-btn"}))),c.a.createElement("div",{className:V.messageContent,"data-test-id":"mail-content"},r?c.a.createElement("div",{className:V.content},c.a.createElement("div",{className:V.subject,"data-test-id":"subject"},n),c.a.createElement("div",{className:V.msgHeader},c.a.createElement(f.a,{conversations:!1,message:{id:this.props.messageId,flags:o},expanded:!0,idx:0,onToggleRead:()=>{},onToggleStar:()=>{},isOnModal:!0,onAttachmentClick:()=>{}})),c.a.createElement("div",{className:V.snippet,"data-test-id":"snippet"},a),c.a.createElement("div",{className:V.attachments},this.renderAttachments())):c.a.createElement("div",{className:V.spinner},c.a.createElement(U.b,null))),c.a.createElement("div",{className:V.controls},c.a.createElement("div",{className:V.buttonContainer},c.a.createElement(I.a,{onClick:this.handleDeleteMessage,style:t,"data-test-id":"delete-btn"},e(W.delete_message_button)),c.a.createElement(I.a,{onClick:this.handleClose,kind:F.a.SECONDARY,style:t,"data-test-id":"cancel-btn"},e(W.cancel))),c.a.createElement("div",{className:V.viewMessageContainer},c.a.createElement("a",{onClick:this.navigateToMessage,className:V.viewMessage,"data-test-id":"view-link"},e(W.view_original))))))}}n()(K,"contextTypes",{intl:d.intlShape.isRequired,navigateTo:o.a.func.isRequired});var q=v(K),Y=s(800),z=s.n(Y),Q=s(30),Z=s.n(Q),X=s(55),$=s(324);function J(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ee(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?J(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):J(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const te=Object(d.defineMessages)({read:{id:"photo.grid.read_message",defaultMessage:"Read message"},download:{id:"photo.grid.download",defaultMessage:"Download"},forward:{id:"photo.grid.forward",defaultMessage:"Forward"},delete:{id:"photo.grid.delete",defaultMessage:"Delete"}}),se=e=>{e.preventDefault(),e.stopPropagation()};class re extends c.a.Component{constructor(e){super(e),n()(this,"state",{hovered:!1}),n()(this,"handleHover",e=>{this.setState({hovered:e})}),n()(this,"handleAttachmentPreviewOpen",e=>{se(e);const t=this.props,s=t.item;(0,t.onAttachmentPreviewOpen)({i13nModel:{interactionType:G.e.click,mKey:G.g.PHOTO_OPEN,sec:G.i.PHOTO_LIST},attachment:t.attachment,attachmentMessageId:s.messageGroupId||s.messageId,previewable:s.previewable})}),n()(this,"handleMessageOpen",e=>{se(e);const t=this.props,s=t.item;(0,t.onMessageOpen)({i13nModel:{interactionType:G.e.click,mKey:G.g.PHOTO_READ_MSG,mKeyGroup:G.h.openMsg,sec:G.i.PHOTO_LIST},attachment:t.attachment,messageRoute:t.messageRoute,messageId:s.messageId||s.messageGroupId})}),n()(this,"handleDownloadClick",e=>{se(e);const t=this.props;(0,t.onAttachmentDownload)({attachment:t.attachment,i13nModel:{interactionType:G.e.click,mKey:G.g.PHOTO_DOWNLOAD,sec:G.i.PHOTO_LIST,mKeyGroup:G.h.dwnldAttmnt}})}),n()(this,"handleMessageDelete",()=>{const e=this.props,t=e.item;(0,e.onMessageDelete)({messageId:t.messageId,messageGroupId:t.messageGroupId,i13nModel:{interactionType:G.e.click,mKey:G.g.PHOTO_DELETE_PREVIEW_OPEN,sec:G.i.PHOTO_LIST}})}),n()(this,"handleForward",(e,t)=>{const s=this.props,r=s.attachment,n={mKey:G.g.PHOTO_SHARE,mKeyGroup:G.h.composeMsg,sec:G.i.PHOTO_LIST,interactionType:G.e.click};(0,s.onForwardAttachments)({route:t,payload:{csid:e,attachments:r?[ee({},r,{disposition:u.F.Dispositions.INLINE})]:[],i13nModel:n}})}),this.photoItem=c.a.createRef()}componentDidUpdate(e){this.props.active&&!e.active&&this.photoItem.current.focus()}render(){const e=this.props,t=e.attachment,s=e.messageRoute,r=e.active,n=e.isBriefView,a=this.context.intl.formatMessage,o=t.thumbnailUrl,i=t.filename,l=t.downloadUrl,d=t.conversationId,E=!!d,_=B()(z.a,{isMessageDeleteEnabled:E,isBriefView:n}),u=n?y.gb:y.hb;return c.a.createElement("div",{tabIndex:r?y.Lb.MESSAGE_LIST_MAIN:-1,className:_.photoGrid+" photo-list-item","data-test-id":"photo-list-item",role:"button",onClick:this.handleAttachmentPreviewOpen,onMouseOver:()=>this.handleHover(!0),onMouseLeave:()=>this.handleHover(!1),"aria-label":i,title:i,ref:this.photoItem},c.a.createElement("div",{className:_.photoItemImg,style:{backgroundImage:`url(${Object(X.l)(o,u)})`},"data-test-id":"photo-item-img"}),c.a.createElement("div",{className:_.photoOverlay}),this.state.hovered&&!n?c.a.createElement("div",{className:_.iconContainer,onClick:e=>se(e)},s&&d?c.a.createElement("div",{className:_.photoActionBtn},c.a.createElement("a",{"data-test-id":"icon-btn-open-message",href:this.context.getUrlFromRoute(s),onClick:this.handleMessageOpen,rel:"noopener"},c.a.createElement(T.a,{title:a(te.read),kind:H.Kinds.INBOX,size:H.Sizes.XS,colorStates:{normal:H.ColorStates.INVERTED_LESS_DIM,hovered:H.ColorStates.INVERTED}}))):null,c.a.createElement("div",{className:_.photoActionBtn},c.a.createElement("a",{"data-test-id":"icon-btn-download-photo",href:l,onClick:this.handleDownloadClick,rel:"noopener"},c.a.createElement(T.a,{title:a(te.download),kind:H.Kinds.DOWNLOAD,size:H.Sizes.XS,colorStates:{normal:H.ColorStates.INVERTED_LESS_DIM,hovered:H.ColorStates.INVERTED}}))),E?c.a.createElement("div",{className:_.photoActionBtn,onClick:this.handleMessageDelete,"data-test-id":"icon-btn-delete-msg"},c.a.createElement(T.a,{title:a(te.delete),kind:H.Kinds.DELETE,size:H.Sizes.XS,colorStates:{normal:H.ColorStates.INVERTED_LESS_DIM,hovered:H.ColorStates.INVERTED}})):null,c.a.createElement("div",{className:_.forwardButton+" "+_.rtlRawScaleX},c.a.createElement($.a,{"data-test-id":"icon-btn-forward-photo",onForward:this.handleForward}))):null)}}n()(re,"defaultProps",{isBriefView:!1}),n()(re,"contextTypes",{intl:d.intlShape,getUrlFromRoute:o.a.func.isRequired});var ne=Object(l.connect)((e,t)=>{const s=t.item,r=t.listId,n=t.streamId,a=Object(L.selectors)(e),o=a.isFeatureEnabled,i=a.doesStreamExist,c=a.getCursorItem,l=(0,a.getAttachmentsSelectors)().getAttachmentById,d=o(u.Eb.CONVERSATIONS),_=l(s.id),p=Object(E.o)({attachment:_,listId:r,isConversationMode:d}),m=i(n)&&c(n)||{};return{attachment:_,messageRoute:p,active:m.id===s.id&&m.listId===s.listId}},void 0,void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&Z()(e.attachment,t.attachment)&&e.active===t.active})(re),ae=s(27),oe=s.n(ae),ie=s(802),ce=s.n(ie),le=s(252),de=s(170),Ee=s(133),_e=s(96),ue=s(22);const pe=Object(d.defineMessages)({openMessage:{id:"document.item.open_message",defaultMessage:"Open Message"},openLink:{id:"document.item.open_link",defaultMessage:"Open the link"},download:{id:"document.item.download",defaultMessage:"Download"},forward:{id:"document.item.forward",defaultMessage:"Forward Document"},delete:{id:"document.item.delete",defaultMessage:"Delete message"}}),me=e=>{e.preventDefault(),e.stopPropagation()};class Se extends c.a.Component{constructor(e){super(e),n()(this,"state",{hovered:!1}),n()(this,"handleHover",e=>{this.setState({hovered:e})}),n()(this,"handleAttachmentPreviewOpen",e=>{me(e);const t=this.props,s=t.item;(0,t.onAttachmentPreviewOpen)({i13nModel:{interactionType:G.e.click,mKey:G.g.DOC_OPEN,sec:G.i.DOC_LIST},attachment:t.attachment,attachmentMessageId:s.messageGroupId||s.messageId,previewable:s.previewable})}),n()(this,"renderAttachmentIcon",e=>{const t=this.props.attachment;return c.a.createElement(le.a,oe()({},t,{isInverted:e}))}),n()(this,"handleMessageOpen",e=>{me(e);const t=this.props,s=t.item;(0,t.onMessageOpen)({i13nModel:{interactionType:G.e.click,mKey:G.g.DOC_READ_MSG,mKeyGroup:G.h.openMsg,sec:G.i.DOC_LIST},attachment:t.attachment,messageRoute:t.messageRoute,messageId:s.messageId||s.messageGroupId})}),n()(this,"handleDownloadClick",e=>{me(e);const t=this.props;(0,t.onAttachmentDownload)({i13nModel:{mKey:G.g.DOC_OPEN_LINK,sec:G.i.DOC_LIST,interactionType:G.e.click},attachment:t.attachment})}),n()(this,"handleMessageDelete",e=>{me(e);const t=this.props,s=t.item;(0,t.onMessageDelete)({i13nModel:{interactionType:G.e.click,mKey:G.g.DOC_DELETE_PREVIEW_OPEN,sec:G.i.DOC_LIST},messageGroupId:s.messageGroupId,messageId:s.messageId})}),n()(this,"handleForward",(e,t)=>{const s=this.props,r=s.attachment;(0,s.onForwardAttachments)({route:t,payload:{csid:e,attachments:r?[r]:[],i13nModel:{mKey:G.g.DOC_SHARE,mKeyGroup:G.h.composeMsg,sec:G.i.DOC_LIST,interactionType:G.e.click}}})}),n()(this,"renderActions",e=>{const t=this.props,s=t.messageRoute,r=t.attachment,n=this.context.intl.formatMessage;return c.a.createElement("div",{className:e.documentAction,onClick:e=>me(e)},s&&r.conversationId?c.a.createElement("div",{className:e.documentActionBtn},c.a.createElement("a",{className:e.documentActionLink,"data-test-id":"icon-btn-open-message",title:n(pe.openMessage),href:this.context.getUrlFromRoute(s),onClick:this.handleMessageOpen},c.a.createElement(A.b,{kind:H.Kinds.INBOX,size:H.Sizes.XS,colorState:H.ColorStates.INHERITED}))):null,c.a.createElement("div",{className:e.documentActionBtn},c.a.createElement("a",{className:e.documentActionLink,"data-test-id":"icon-btn-download-document",href:r.downloadUrl,target:r.isExternal?"_blank":null,title:n(r.isExternal?pe.openLink:pe.download),download:r.name,onClick:this.handleDownloadClick},c.a.createElement(A.b,{kind:r.isExternal?H.Kinds.LINK:H.Kinds.DOWNLOAD,size:H.Sizes.XS,colorState:H.ColorStates.INHERITED}))),c.a.createElement("div",{className:e.documentActionBtn},c.a.createElement(O.default,{"data-test-id":"icon-btn-delete",onClick:this.handleMessageDelete,kind:H.Kinds.DELETE,size:H.Sizes.XS,title:n(pe.delete),colorState:H.ColorStates.INHERITED,paddingLess:!0})),c.a.createElement("div",{className:e.forwardButton+" "+e.rtlRawScaleX},c.a.createElement($.a,{"data-test-id":"icon-btn-forward-document",onForward:this.handleForward,colorStates:{normal:H.ColorStates.INHERITED,hovered:H.ColorStates.INHERITED}})))}),n()(this,"renderDateTime",e=>{const t=new Date(this.props.attachment.creationDate);return c.a.createElement("div",{className:e.documentTimeStamp,title:t.toLocaleString(this.context.intl.locale)},c.a.createElement(de.a,{date:t}))}),this.documentItem=c.a.createRef()}componentDidUpdate(e){this.props.active&&!e.active&&this.documentItem.current.focus()}render(){const e=this.context,t=e.getCss,s=this.props,r=s.attachment,n=s.messageSubject,a=s.active,o=s.isBriefView,i=(0,e.getThemeMode)(),l=i===ue.i.DARK,d=t(ce.a,{isDarkThemeMode:l,isDarkBriefView:i!==ue.i.LIGHT&&o}),E=r.size&&Object(Ee.prettyPrintBytes)(r.size);return c.a.createElement("div",{className:d.documentContainer+" document-list-item",onMouseOver:()=>this.handleHover(!0),onMouseLeave:()=>this.handleHover(!1),onClick:this.handleAttachmentPreviewOpen,tabIndex:a?y.Lb.MESSAGE_LIST_MAIN:-1,"data-test-id":"document-list-item",ref:this.documentItem},this.renderAttachmentIcon(l),c.a.createElement("div",{className:d.documentInfo},c.a.createElement("span",{className:d.filename,title:r.filename,"data-test-id":"filename"},r.filename),E?c.a.createElement("span",{className:d.filesize,title:E,"data-test-id":"filesize"},E):null,c.a.createElement("div",{className:d.messageSubject,title:Object(_e.e)(n),"data-test-id":"file-message-subject"},c.a.createElement("span",null,Object(_e.b)(n,!0,d.highlightSearchTerm)))),this.state.hovered&&!o?this.renderActions(d):null,this.renderDateTime(d))}}n()(Se,"defaultProps",{isBriefView:!1}),n()(Se,"contextTypes",{intl:d.intlShape,getUrlFromRoute:o.a.func,getThemeMode:o.a.func,getCss:o.a.func});var he=Object(l.connect)((e,t)=>{const s=t.item,r=t.streamId,n=s.listId,a=s.id,o=Object(L.selectors)(e),i=o.isFeatureEnabled,c=o.doesMessageIdExist,l=o.getMessageSubject,d=o.doesStreamExist,_=o.getCursorItem,p=(0,o.getAttachmentsSelectors)().getAttachmentById,m=i(u.Eb.CONVERSATIONS),S=p(a),h=Object(E.o)({attachment:S,listId:n,isConversationMode:m}),C=c(s.messageId)?l(s.messageId,n):void 0,g=d(r)&&_(r)||{};return{listId:n,attachment:S,messageRoute:h,messageSubject:C,active:g.id===s.id&&g.listId===s.listId}},void 0,void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&Z()(e.attachment,t.attachment)&&e.active===t.active})(Se);function Ce(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}class ge extends c.a.Component{constructor(...e){super(...e),n()(this,"handleAttachmentPreviewOpen",({i13nModel:e,attachment:t,attachmentMessageId:s,previewable:r})=>{const n=this.props,a=n.listId;if(!r)return(0,n.onOpenAttachmentLink)({i13nModel:e}),void window.open(t.downloadUrl,"_blank");this.props.navigateToRoute({route:Object(E.d)(a,s,t.id,{fullscreen:"1"}),itemId:t.id,i13nModel:e})}),n()(this,"handleMessageOpen",({i13nModel:e,attachment:t,messageRoute:s,messageId:r})=>{this.props.navigateToRoute({route:s,hashParams:{messageId:r},itemId:t.id,i13nModel:e,full:!0})}),n()(this,"handleDownloadClick",({i13nModel:e,attachment:t})=>{(0,this.props.onAttachmentDownload)({attachment:t,i13nModel:e})}),n()(this,"renderDeletePreview",({messageId:e,messageGroupId:t})=>{Object(C.a)(c.a.createElement(q,{listId:this.props.listId,messageId:e,groupId:t}),this.context)}),n()(this,"handleMessageDelete",({i13nModel:e,messageGroupId:t,messageId:s})=>{const r=this.props;(0,r.onDeleteMessage)({messageId:s,messageGroupId:t,listId:r.listId,i13nModel:e}),this.renderDeletePreview({messageId:s,messageGroupId:t})}),n()(this,"handleForward",({route:e,payload:t})=>{if(e)return this.props.navigateToRoute(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ce(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ce(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{route:e}));this.props.onForwardAttachments(t)})}render(){const e=this.props,t=e.listId,s=e.item,r=e.streamId,n=e.isBriefView,a=s.listContentType||Object(p.w)(t);return c.a.createElement("div",{"data-test-id":"attachment-list-item"},c.a.createElement(a===u.ac.IMAGES?ne:he,{item:s,listId:t,streamId:r,isBriefView:n,onAttachmentPreviewOpen:this.handleAttachmentPreviewOpen,onMessageOpen:this.handleMessageOpen,onAttachmentDownload:this.handleDownloadClick,onMessageDelete:this.handleMessageDelete,onForwardAttachments:this.handleForward}))}}n()(ge,"defaultProps",{isBriefView:!1}),n()(ge,"contextTypes",{navigateTo:o.a.func.isRequired,intl:d.intlShape.isRequired,executeAction:o.a.func,config:o.a.object,getStore:o.a.func.isRequired,store:o.a.object.isRequired,timezone:_.TimezoneType,getTheme:o.a.func.isRequired,getThemeMode:o.a.func.isRequired,getCss:o.a.func.isRequired,appId:o.a.string.isRequired});t.a=Object(l.connect)(void 0,e=>({onOpenAttachmentLink(t){e(Object(m.d)(t))},onAttachmentDownload({attachment:t,i13nModel:s}){e(Object(m.b)({attachment:t,i13nModel:s}))},onDeleteMessage(t){e(Object(S.c)(t))},onForwardAttachments(t){e(Object(m.c)(t))},navigateToRoute(t){e(Object(h.j)(t))}}))(ge)},function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"d",(function(){return c})),s.d(t,"c",(function(){return l})),s.d(t,"e",(function(){return d})),s.d(t,"b",(function(){return E}));var r=s(33),n=s.n(r),a=s(0);const o={FOLDERS:"in",FROM:"from",TO:"to",SUBJECT:"subject",BEFORE:"before",AFTER:"after",HAS:"has",IS:"is",ATTACHMENT_TYPE:"attachmenttype"},i={ATTACHMENT:"attachment",PHOTO:"image",CALENDAR_INVITE:"calendar"};function c(e=""){return(e.match(/([a-z]*:"[^"]*")|([a-z]*:[^\s]*)/g)||[]).reduce((e,t)=>{const s=t.match(/^([a-z]*):(.*)$/),r=n()(s,3),a=r[1];return Object.assign(e,{[a]:[...e[a]||[],r[2]]})},{})}function l(e,t="",s=!1){const r=new RegExp(`(${e}:"[^"]*")|(${e}:[^\\s]*)`,"g");return s?t.replace(r,""):t.replace(r,"").trim()}function d(e,t=!1){if(!e)return{};const s=c(e),r={};let n=e;["FOLDERS","FROM","TO","SUBJECT","AFTER","BEFORE"].forEach(e=>{const i=o[e],c=s[i]||[];1===c.length&&(r[a.s[e]]="BEFORE"===e||"AFTER"===e?c[0].replace(/"/g,""):c[0],n=l(i,n,t))});const d=s[o.HAS]||[];["ATTACHMENT","PHOTO"].forEach(e=>{r[a.s[e]]=-1!==d.indexOf(i[e]),n=n.replace(`${o.HAS}:${i[e]}`,"")});return r[a.s.CALENDAR_INVITE]=-1!==(s[o.ATTACHMENT_TYPE]||[]).indexOf(i.CALENDAR_INVITE),n=n.replace(`${o.ATTACHMENT_TYPE}:${i.CALENDAR_INVITE}`,""),n=n.replace(new RegExp("^\\s*"),""),n.trim()&&(r[a.s.KEYWORD]=n),r}function E(e){const t=[],s=e[a.s.FOLDERS],r=e[a.s.FROM],n=e[a.s.TO],c=e[a.s.SUBJECT],l=e[a.s.KEYWORD],d=e[a.s.BEFORE],E=e[a.s.AFTER],_=e[a.s.ATTACHMENT],u=e[a.s.PHOTO],p=e[a.s.CALENDAR_INVITE];return s&&t.push(`${o.FOLDERS}:${s}`),r&&t.push(`${o.FROM}:${r}`),n&&t.push(`${o.TO}:${n}`),c&&t.push(`${o.SUBJECT}:${c}`),_&&t.push(`${o.HAS}:${i.ATTACHMENT}`),u&&t.push(`${o.HAS}:${i.PHOTO}`),p&&t.push(`${o.ATTACHMENT_TYPE}:${i.CALENDAR_INVITE}`),E&&t.push(`${o.AFTER}:"${E}"`),d&&t.push(`${o.BEFORE}:"${d}"`),l&&t.push(l),t.join(" ")}},,function(e,t,s){"use strict";var r=s(0);t.a=e=>{const t=e.doesAttachmentExistById,s=e.getDocumentIdByAttachmentId,n=e.getAttachmentTypeByAttachmentId,a=((0,e.getRouteParams)()||{}).attachmentId;if(!a||!t(a)||n(a)===r.F.Types.IMAGE)return"";const o=s(a);return o||""}},function(e,t,s){"use strict";var r=s(2),n=s(8),a=s(0),o=s(48);const i=e=>({groupIds:[(0,e.getRouteParams)().groupId],messageIds:[],csid:""}),c=e=>{const t=e.doesComposeSessionExist,s=e.getDraftMessageId,r=e.getAction,n=(0,e.getRouteParams)().csid,a=t(n)?s(n):void 0,o={groupIds:[],messageIds:[],csid:""},i=r();return a?o.messageIds=[a]:i.full&&(o.csid=n),o};t.a=e=>{const t=e.getRoute,s=e.isMessageRoute,l=e.isAttachmentRoute,d=e.isDraftRoute,E=e.isComposeRoute,_=e.doesStreamExist,u=e.getCursorItem,p=e.getListsSelectors,m=e.getMainStreamListIds,S=e.getSetting,h=e.isMobileRoute,C=e.getCurrentListId,g=e.doesListExist,O=e.autoDisplayFirstMessageInRoute,T=e.getSelectedMailboxId,A=(0,e.getAction)(),I={groupIds:[],messageIds:[],csid:""};if(!T())return I;switch(A.type){case r.LAUNCH_COMPLETED:{const t=A.listId,r=p(),o=r.getItemIdsSelectors,l=r.doesListExist;if(s())return i(e);if(E()||d())return c(e);if(!t||!l(t)||Object(n.w)(t)!==a.ac.MESSAGES)return I;const _=o(t);return I.groupIds=[].concat((0,_.getItemIds)().slice(0,S(a.Kd.NUM_MESSAGE_GROUPS_TO_PREFETCH))),I}case r.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:case r.MESSAGE_CARD_EXPANSION_CHANGED:return A.itemsToUpdate?(I.messageIds=A.itemsToUpdate.filter(e=>Boolean(e.messageId)).map(e=>e.messageId||""),I):I;case r.PREVIEW_MESSAGE_REQUESTED:case r.GET_INVITE_INFO_REQUESTED:case r.MESSAGE_READ_SHOW_IMAGES_REQUESTED:if(A.itemId)I.groupIds=[A.itemId];else if(A.messageIds){I.messageIds=[].concat(A.messageIds)}return I;case r.DELETE_PREVIEW_REQUESTED:return A.messageGroupId&&(I.groupIds=[A.messageGroupId]),I;case r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case r.MESSAGE_PRINT_REQUESTED:return A.messageId&&(I.messageIds=[A.messageId]),I;case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.STREAM_CURSOR_MOVED:case r.ITEM_LIST_PAGE_SCROLLED:return I}if(l())return(e=>{const t=e.doesMessageGroupIdExist,s=(0,e.getRouteParams)().groupId;return t(s)?{groupIds:[s],messageIds:[],csid:""}:{groupIds:[],messageIds:[],csid:""}})(e);if(s())return i(e);if(E()||d())return c(e);if(h()&&O(t())){const e=C();if(g(e)){const t=(0,p().getFirstItemIdOfList)(e);return I.groupIds=[t],I}}if(S(a.Kd.PREVIEW_PANE)===a.ed.NO||A.type===r.STREAM_ITEM_TOGGLED)return I;const f=m(t()),D=Object(o.a)(f);if(D&&_(D)){const e=u(D)||{};if(e.id)switch(Object(n.w)(e.listId)){case a.ac.MESSAGES:return I.groupIds=[e.id],I;case a.ac.MESSAGE:return I.messageIds=[e.id],I}}return I}},function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return o}));var r=s(2),n=s(0);const a=35e3;function o(e,{csid:t,listId:s,messageIds:a,messageGroupIds:o,permanent:i,streamId:c,streamItem:l,i13nModel:d}){return e.dispatch(r.DELETE_ITEMS_REQUESTED,{i13nModel:d,listId:s,streamId:c,streamItem:l,isV2Action:!0,destinationFolderType:n.Mb.TRASH,messageIds:a,fromMessageGroupView:!0,messageGroupIds:o,permanent:i,csid:t,triageActionType:n.ye.DELETE_DRAFT}),Promise.resolve()}},function(e,t,s){"use strict";s.d(t,"a",(function(){return _}));var r=s(9);const n=796,a=805,o=818,i=828,c=873,l=884,d=914,E={"amazon.com":l,"linkedin.com":a,"paypal.com":i,"groupon.com":l,"ebay.com":l,"chase.com":i,"indeed.com":a,"capitalone.com":i,"nextdoor.com":c,"kohls.com":l,"intuit.com":i,"walmart.com":l,"southwest.com":d,"synchronybank.com":i,"zillow.com":c,"ups.com":l,"bestbuy.com":l,"netflix.com":o,"apple.com":902,"homedepot.com":l,"cvs.com":849,"bankofamerica.com":i,"jcpenney.com":l,"target.com":l,"directv.com":o,"discover.com":i,"costco.com":l,"siriusxm.com":n,"walgreens.com":811,"oldnavy.com":l,"victoriassecret.com":l,"ticketmaster.com":o,"macys.com":l,"evite.com":o,"docusign.net":866,"tripadvisor.com":d,"bedbathandbeyond.com":l,"bathandbodyworks.com":l,"fidelity.com":i,"livingsocial.com":l,"citibank.com":i,"citi.com":i,"cox.net":o,"redbox.com":o,"wayfair.com":l,"michaels.com":l,"uber.com":d,"geico.com":n,"wellsfargo.com":i,"staples.com":l,"booking.com":d,"travelzoo.com":d,"delta.com":d,"progressive.com":n,"hilton.com":d,"meetup.com":793,"zulily.com":l,"jobstreet.com":a,"lowes.com":l,"sears.com":l,"nordstorm.com":l,"trulia.com":c,"dsw.com":l,"creditkarma.com":i,"ziprecruiter.com":a,"synchronyfinancial.com":i,"airbnb.com":d,"capitaloneemail.com":i,"aa.com":d,"statefarm.com":n,"hrblock.com":i,"email-marriott.com":d,"americanexpress.com":i,"houzz.com":c};function _(e){return e.map(e=>{const t=Object(r.b)(e,"email","").toLowerCase().match(/(?:\.|@)([\w-]+\.(?:com|net|biz))/);return E[t&&t[1]]||null}).filter(e=>null!==e)}},function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var r=s(370),n=s(208),a=s.n(n);class o extends r.a{constructor(e,t=86400,s){super(e,"YM.TZ",{TTL:t,path:s})}determineClientTimeZone(){const e=a.a.determine(),t=e&&e.name();t&&this.set({tz:t})}getClientTimeZone(){const e=this.get();return e&&e.tz?String(e.tz):""}}},function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var r=s(0);const n={[r.B.MAIL_APP]:r.mb,[r.B.BASIC_MAIL_APP]:r.G,[r.B.MOBILE_APP]:r.uc,[r.B.BASIC_MOBILE_APP]:r.H};class a{constructor(e={},t,{TTL:s=180,path:a}={}){let o;if(s&&(o=new Date,o.setTime(o.getTime()+1e3*s)),this.cookieName=t,e.res&&e.req&&e.req.cookies&&e.res.cookie)this._set=this._serverSet,this._get=this._serverGet,a=a||n[e.req.APP_NAME];else if(e.window&&e.window.document&&"string"==typeof e.window.document.cookie){this._set=this._browserSet,this._get=this._browserGet;const t=e.window.AppBootstrapData&&e.window.AppBootstrapData.appName;a=a||n[t]}else this._set=()=>null,this._get=()=>null;this.io={req:e.req,res:e.res,window:e.window,cookieName:t,expires:o,path:a||r.mb}}_serverSet(e){const t=this.io,s=t.res,r=t.cookieName,n=t.expires,a=void 0===n?0:n,o=t.path,i=Object.assign(t.req.cookies[r]||{},e);s.headersSent||s.cookie(r,i,{path:o,expires:a})}_serverGet(){const e=this.io;return e.req.cookies[e.cookieName]}_browserSet(e){const t=this.io,s=t.cookieName,r=t.expires,n=void 0===r?null:r,a=t.path,o=t.window,i=this._browserGet({window:o,cookieName:s}),c=Object.assign(i,e),l="j:"+JSON.stringify(c);o.document.cookie=s+"="+encodeURIComponent(l)+`;path=${a};expires=${n&&n.toGMTString()}`}_browserGet(){const e=this.io,t=e.window.document.cookie.match("(^|;) ?"+e.cookieName+"=([^;]*)(;|$)"),s=decodeURIComponent(t?t[2]:"j:{}");if(0===s.indexOf("j:"))try{return JSON.parse(s.substr(2))}catch(e){return{}}return{}}get(){return this._get()||{}}set(e){return this._set(e)}}},function(e,t,s){"use strict";s.d(t,"b",(function(){return u})),s.d(t,"a",(function(){return m}));var r=s(3),n=s.n(r),a=s(68),o=s(54),i=s(57),c=s(662),l=s.n(c),d=s(9);function E(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?E(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):E(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function u(e,t,s={},r){if(!t)return;const n=s[i.s.VideoPreview]||{},a=s[i.s.ImagePortrait]||{},o="image/jpeg"===a.contentType?a.url:"",c=(t.adextensions||[]).filter(e=>e.type===i.a);return t.secThumbnailImage=/^https:\/\//.test(t.secThumbnailImage)?t.secThumbnailImage:"",{adHeadline:t.headline||"",adSummary:t.summary||"",adImg:t.secThumbnailImage||t.secImage||"",adSource:t.source||"",clickUrl:t.clickUrl||"",landingUrl:t.landingUrl||"",creativeId:e.creativeId.toString(),impressionTrackingUrls:t.imprTrackingUrls?t.imprTrackingUrls:[t.imprTrackingUrl],adFeedbackBeacon:t.ad_feedback_beacon||"",rules:e.rules,actionUrls:e.actionUrls,previewVideoContentType:n.contentType||"",previewVideoUrl:n.url||"",callToAction:t.callToAction||"",flashSaleEndTime:Object(d.b)(t,"passThroughFields.flashSaleCountdownMilliSec",null),imagePortrait:o||t.secOrigImg||t.origImg||"",origImg:t.secOrigImg||t.origImg||"",brand:Object(d.b)(t,"passThroughFields.brand"),productAdActivity:Object(d.b)(t,"passThroughFields.productAdActivity"),productAdActivityMessage:Object(d.b)(t,"passThroughFields.productAdActivityMessage"),salePrice:Object(d.b)(t,"passThroughFields.salePrice"),fullPrice:Object(d.b)(t,"passThroughFields.fullPrice"),carouselAssets:p(t,r),promotions:t.promotions,hqImage:t.secHqImage||t.hqImage||"",callExtension:c[0]||{}}}function p(e,t){const s=[],r=t===i.c?i.b:i.i;return!e.assets||+t!==i.f&&+t!==i.g&&+t!==i.c||e.assets.forEach(({callToAction:e,clickUrl:t,headline:n,assetId:a,mediaInfo:i,assetIndex:c})=>{if(t){let o="";const l=`pp=m,st=c,si=${c},sa=${a}`;i.forEach(e=>{e.contentLabel===r&&(o=e.url)}),s.push({callToAction:e,clickUrl:t,headline:n,assetId:a,img:o||i[0].url,adPosnMacro:l})}else o.a.error("clickURL not present in Ad",{assetId:a})}),s}function m(e,t="",s={}){if(!Array.isArray(e))return[];const r=s.loggerParams||{};return e.map((e,n)=>{var o,c;const d=function(e,t){let s;try{s=JSON.parse(e)}catch(e){a.a.error("Gemini ad tag is not valid JSON",t)}return s}(e.tag,r);if(!d)return;const E=function(e){if(!Array.isArray(e.assets)||e.assets.length<=0)return{};let t=e.assets.filter(e=>Array.isArray(e.mediaInfo));return t=t.map(e=>e.mediaInfo.map((function(t){const s=e.embeddedLandingUrls||[];return t.usageType=e.usageType,t.embeddedLandingUrls=s.reduce((e,t)=>(e[t.index.toString()]=t,e),{}),t})).reduce((e,t)=>t.usageType===i.s.ImagePortrait&&t.contentLabel!==i.j?e:t.url?t:e,{})),l()(t,e=>e.usageType)}(d),p=function(e){let t;return Array.isArray(e.assets)&&e.assets.length>0?(e.assets.forEach(e=>{e.usageType===i.s.VideoPrimary&&(t=e.mediaInfo.map(e=>e))}),t):null}(d),m=function(e,t,s){return Array.isArray(s)&&s?{videoMediaAssets:s,clickUrl:t.clickUrl||"",rules:e.rules,actionUrls:e.actionUrls,callToAction:t.callToAction,thumbnail:t.thumbnailImage||t.hqImage||""}:null}(e,d,p),S=function(e,t,s={}){if(!t)return;const r=e.actionUrls,n=e.ccCode,a=s.url,o=s.contentType,i=s.usageType,c=s.embeddedLandingUrls,l=new RegExp("(.png|.gif|.jpg|.jpeg)$","i");let d="";return a&&a.match(l)&&(d=[`<a target="_blank" href="${t.landingUrl}" rel="noreferrer">`,`<img src="${a}" style="display: block; margin: auto; max-width: 100%;"/>`,"</a>"].join("")),{contentType:o||"",url:a||"",usageType:i||"",geminiSponsoredAsset:d,actionUrls:"STRM_VIDEO"===n?"":r,embeddedLandingUrls:c}}(e,d,E[i.s.HtmlPrimary]),h=u(e,d,E,t);h.actionUrls&&h.actionUrls.STATIC_VIEW_3P&&(h.actionUrls.STATIC_VIEW_3P[0]=h.actionUrls.STATIC_VIEW_3P[0].replace("$(S_VIEW_TYPE)",h.rules.viewabilityDefStatic3P[0].t)),h.sectionId=t,h.beacon=e.beacon.replace("$(AD_POSN)",n+1)||"",h.type=function(e,t,s,r,n){return r.productAdActivity?i.s.ShoppingCartAdType:"STRM_VIDEO"===e&&t?i.s.VideoAdType:s.usageType===i.s.HtmlPrimary&&s.url?i.s.NativeAdType:r.flashSaleEndTime&&!r.promotions?i.s.FlashSaleAdType:n.hasOwnProperty(i.s.ImagePortrait)?i.s.PortraitAdType:i.s.PencilAdType}(e.ccCode,m,S,h,E),h.domain=s.domain;const C=d.afb_cfg_url||"",g=function(e,t){let s=!1;const r=e=>!e||/^https:\/\//.test(e),n=e=>e.map(e=>r(e)),o={};return["adFeedbackBeacon","adFeedbackConfigUrl","adImg","beacon","clickUrl","impressionTrackingUrls","actionUrls"].forEach(t=>{Array.isArray(e[t])?(o[t]=n(e[t]),o[t].indexOf(!1)>-1&&(s=!0)):null!==e[t]&&"object"==typeof e[t]?(o[t]={},Object.keys(e[t]).forEach(a=>{Array.isArray(e[t][a])?(o[t][a]=n(e[t][a]),o[t][a].indexOf(!1)>-1&&(s=!0)):(o[t][a]=r(e[t][a]),o[t][a]||(s=!0))})):(o[t]=r(e[t]),o[t]||(s=!0))}),s&&a.a.feature("gemini_non_https_url",_({},e,{},t)).logFailure(),o}(_({},h,{adFeedbackConfigUrl:C}),r);return s.pencilAdUrlValidationEnabled&&(null===(o=g.impressionTrackingUrls)||void 0===o?void 0:o.length)&&(null===(c=h.impressionTrackingUrls)||void 0===c?void 0:c.length)&&(h.impressionTrackingUrls=h.impressionTrackingUrls.filter((e,t)=>g.impressionTrackingUrls[t])),{creativeId:e.creativeId.toString(),nativeAd:S,pencilAd:h,videoAd:m,adFeedbackConfigUrl:C}}).filter(Boolean)}},function(e,t,s){"use strict";e.exports={className:{default:{link:"C_Z2aVTcY Q_dRA u_e69 r_P"}},_key:"2bC9Bf"}},function(e,t,s){"use strict";e.exports={className:{default:{alert:"p_f T_73HH L_0 R_0 Z_7GpC t_C jn_1HWwRx D_F gl_C cZW7ROP_n",modal:"p_f T_0 R_0 B_0 L_0 Z_3mRud q_Zjpytw",undo:"C_Z2aVTcY A_6EWk r_P"},multiTask:{alert:"T_7sfl"},bottomAlert:{alert:"B_fq7"},alertFromModalDialog:{alert:"Z_3mRJX"},ybarFuji2Dialpad:{alert:"T_6UbO"},ybarFuji2DialpadMultiTask:{alert:"T_7jIs"},ybarFuji2TopNav:{alert:"T_7qWz"},ybarFuji2TopNavMultiTask:{alert:"T_3mSOb"}},_key:"Z1QXzAP"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_B ab_C t_C P_6DEy",header:"P_0 A_6LEV i_6UbO Y_6DEy U_6DEy",body:"t_C A_6EqO i_6FIA jb_6MGW",description:"M_0 C_Z281SGl",anchorStyle:"C_Z2aVTcY S_n",buttonStyle:"P_ZGAgin A_6EqO u_e69 S_n r_P e_dRA C_2bfYWg I_Z2aVTcY b_2fAfSG t_C i_6FIA D_X"}},_key:"Z2hgm2n"}},function(e,t,s){"use strict";e.exports={className:{default:{folderTree:"hd_n P_0 M_0",folderContainer:"H_6NIX D_F ab_C r_P X_6DEy ir3_1JO2M7 it3_689y I4_2tvNsT",toggleFolderTree:"N_fq7 A_6EqO C_Z1YRXYn C4_Z1VRpVF J_x",collapseFolders:"H_6MWH X_eDQ A_6EqO C_Z1YRXYn cdPFi_Z1YRXYn r_P D_F ab_C C4_Z1VRpVF ir3_1JO2M7 it3_dBP",toggle:"D_F ab_C"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},"themeMode-MEDIUM":{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_52qC cdPFi_52qC C4_2sqbRh",collapseFolders:"C_52qC cdPFi_52qC C4_2sqbRh ir3_Z1FS2Mn"},"themeMode-DARK":{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_52qC cdPFi_52qC C4_2sqbRh",collapseFolders:"C_52qC cdPFi_52qC C4_2sqbRh ir3_Z1FS2Mn"}},_key:"23p7r0"}},function(e,t,s){"use strict";e.exports={className:{default:{module:"C_Z1VRpVF D_F ab_C em_N",label:"E_6Fd5 r_P en_0 ac_CI i_6VdP C4_Z2aVTcY J_x",children:"em_N D_F ab_C"},active:{module:"C_Z281SGl",label:"C_Z2aVTcY"}},_key:"ZPeGKV"}},function(e,t,s){"use strict";s.d(t,"b",(function(){return b}));var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(6),c=s(17),l=s(18),d=s(24),E=s(11),_=s(20),u=(s(9),s(45)),p=s(5),m=s(4),S=s(25),h=s(42),C=s(64),g=s(61),O=s(15),T=s(600),A=s.n(T),I=s(0),f=(s(29),s(111)),D=s.n(f);const R=Object(i.defineMessages)({theme_picker:{id:"compose.theme_picker",defaultMessage:"Add stationery"}});function b(e,t){e||(e=t);const s=A.a.config,r=s.themeVersions,n=s.stationeryMobThmPath,a=s.stationeryThemes[e];return a&&(a.themeName=e,a.themeVersion=r[e],a.mobstorPath=n,a.isDefaultTheme=e===t),a}class N extends o.a.Component{constructor(e){super(e),n()(this,"state",{menuOpen:!1,hasShownStationeryPicker:!1}),n()(this,"_showStationeryPickerIfNeeded",()=>{if(!this.state.hasShownStationeryPicker){const e=this.props,t=e.getToolbarBoundingRect;e.showStationeryPicker&&setTimeout(()=>{this.toolbarBoundingRect=t(),this.setState({menuOpen:!0,hasShownStationeryPicker:!0}),u.b.sendI13nModel({i13nModel:{mKey:p.g.COMPOSE_AUTO_OPEN_STATIONERY_POPUP,sec:p.i.RTE_TOOLBAR}})},300)}}),n()(this,"_handlePopoverHide",()=>{this.state.menuOpen&&this.setState({menuOpen:!1})}),n()(this,"_toggleMenu",e=>{e&&(e.stopPropagation(),e.preventDefault());const t=this.state.menuOpen;t?(this._stationeryPopoverContainer.hide(O.i.MOUNT),this.props.focusBackEditor()):(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this._stationeryPopoverContainer.show(O.i.MOUNT)),this.setState({menuOpen:!t}),u.b.sendI13nModel({i13nModel:{mKey:t?p.g.COMPOSE_CLOSE_STATIONERY_POPUP:p.g.COMPOSE_OPEN_STATIONERY_POPUP,sec:p.i.RTE_TOOLBAR,interactionType:p.e.click}})}),n()(this,"renderStationeryCue",()=>this.props.showStationeryCue&&this.refs.button?o.a.createElement(h.b,{popoverAnchor:this.refs.button,align:O.a.CENTER,triggerOn:O.i.MOUNT,zAltitude:E.Pb.POPOVER.HIGH},o.a.createElement(d.a,{import:"../compose/atoms/stationery_cue",cueName:I.Eb.STATIONERY_CUE,close:this.state.menuOpen,onTryNow:this._toggleMenu,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,882))},_moduleResolver:function(){return 882}})):null),n()(this,"renderStationeryPopup",()=>o.a.createElement(h.b,{ref:e=>this._stationeryPopoverContent=e,permittedArrowDirections:[O.h.DOWN],triggerOn:O.i.MOUNT,customPositioning:!0,"data-test-id":"stationery-pop-up",onHide:this._handlePopoverHide},o.a.createElement(d.a,{import:"./stationery",getThemeConfig:b,onThemeChange:this.props.onThemeChange,defaultTheme:this.props.stationeryDefaultTheme,selectedTheme:this.props.stationeryTheme,selectedCategory:this.props.stationeryCategory,categoriesToShow:this.props.stationeryCategoriesToShow,toggleMenu:this._toggleMenu,onHide:this._toggleMenu,width:this.toolbarBoundingRect.width,left:this.toolbarBoundingRect.left,right:this.toolbarBoundingRect.right,bottom:(Object(_.c)()&&document.documentElement.clientHeight||0)-this.toolbarBoundingRect.top,stationeryRestrictedThemes:this.props.stationeryRestrictedThemes,showDefaultTheme:this.props.showStationeryDefaultTheme,showThemeCategories:this.props.showStationeryThemeCategories,rtl:this.props.rtl,toolbarKind:this.props.toolbarKind,showStationerySetDefault:this.props.showStationerySetDefault,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,886))},_moduleResolver:function(){return 886}}))),this.scrollDebounce=D()(this.handleScroll.bind(this),100)}componentDidMount(){window.addEventListener("scroll",this.scrollDebounce,!0),this._showStationeryPickerIfNeeded()}componentDidUpdate(){this._showStationeryPickerIfNeeded()}componentWillUnmount(){window.removeEventListener("scroll",this.scrollDebounce,!0)}handleScroll(){this.state.menuOpen&&(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this.forceUpdate())}render(){const e=this.context.intl.formatMessage,t=this.state.menuOpen;return o.a.createElement("div",null,o.a.createElement("div",{onClick:this._toggleMenu},o.a.createElement(C.a,{ref:e=>this._stationeryPopoverContainer=e},o.a.createElement(g.a,{"data-test-id":"stationery-picker-anchor"},o.a.createElement(l.a,{ref:"button","data-test-id":"stationery-button",title:e(R.theme_picker),"aria-label":e(R.theme_picker),kind:t?S.a.ICON_HIGHLIGHTED:S.a.ICON},o.a.createElement(c.b,{kind:m.Kinds.STATIONERY,size:m.Sizes.XS,colorState:m.ColorStates.NORMAL}))),t?this.renderStationeryPopup():null)),this.renderStationeryCue())}}n()(N,"contextTypes",{intl:i.intlShape.isRequired}),t.a=N},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(3),o=s.n(a),i=s(13),c=s(6),l=(s(7),s(1)),d=s.n(l),E=(s(51),s(0)),_=s(58),u=s(252),p=s(17),m=s(90),S=s(95),h=s(15),C=s(63),g=s(117),O=s(11),T=s(133),A=s(5),I=s(4),f=s(18),D=s(25),R=s(12),b=s.n(R),N=s(466),M=s.n(N),y=s(454),L=s(55),P=s(16),v=s(32),F=s(10),U=s(322);const w=Object(c.defineMessages)({download:{id:"attachment_item.download",defaultMessage:"Download"},untitled:{id:"attachment_item.untitled_filename",defaultMessage:"Untitled"},preview:{id:"attachment_item.preview",defaultMessage:"Preview"}}),G=b()(M.a);class H extends d.a.Component{constructor(e){super(e),o()(this,"handleSendAsImage",()=>{this.props.onSendAsInlineImage(this.props.attachment)}),o()(this,"renderProgressBar",()=>{const e=this.getProgressValue();return d.a.createElement("div",{"data-test-id":"attachment-progress-bar",role:"progressbar","aria-valuenow":e,"aria-valuemin":"0","aria-valuemax":"100",className:G.progressBar,style:{width:e+"%"}})}),o()(this,"getProgressValue",()=>{const e=this.props;return e.contentIdToUploadProgress[e.attachment.contentId]||0}),o()(this,"displayImageWhenReady",e=>{this.blobUrl=null,this.imageToLoad=null,this.imageRef.current&&(this.imageRef.current.src=e.target.src)}),o()(this,"loadImageInBackground",e=>{this.blobUrl&&!this.imageToLoad&&(this.imageToLoad=new Image,this.imageToLoad.src=e,this.imageToLoad.onload=this.displayImageWhenReady)}),o()(this,"renderContent",(e,t)=>{const s=e.contentId,r=e.filename,a=this.props,o=a.mayContainVirus,i=a.hasError,c=a.isUploaded,l=a.getThumbnailUrl;let m;switch(t){case E.F.SimplifiedTypes.AUDIO:m="audio";break;case E.F.SimplifiedTypes.VIDEO:m="video";break;case E.F.SimplifiedTypes.IMAGE:m="img"}if(!i(s)&&!c(s)){const s=this.getProgressValue();return t===E.F.SimplifiedTypes.IMAGE?(this.blobUrl=e.downloadUrl,d.a.createElement("div",null,d.a.createElement(m,{src:e.thumbnailUrl||e.downloadUrl,className:G.media,style:{opacity:"0.3"}}),!s&&d.a.createElement("div",{className:G.loadingIconContainer},d.a.createElement(_.b,null)),this.renderProgressBar())):d.a.createElement("div",null,s?d.a.createElement(u.a,e):d.a.createElement(_.b,null),this.renderProgressBar())}if(i(s)||!Object(L.p)(r))return d.a.createElement(p.b,{kind:I.Kinds.ATTENTION,size:I.Sizes.L,colorState:I.ColorStates.WARNING});if(o)return d.a.createElement(u.a,n()({},e,{disabled:!0}));if(m){const e=l(s);return"img"===m&&this.loadImageInBackground(e),d.a.createElement(m,{ref:this.imageRef,src:"img"===m&&this.blobUrl||e,className:G.media,"data-test-id":"attachment-thumbnail"})}return d.a.createElement(u.a,e)}),o()(this,"onMouseEnterChange",e=>{clearImmediate(this._hoverTimer),e?this.state.hover!==e&&this.setState({hover:e}):this._hoverTimer=setImmediate(()=>{this.state.hover!==e&&this.setState({hover:e})})}),o()(this,"onMouseEventChange",e=>{this.setState({anchorHover:e})}),o()(this,"renderPopoverMenu",e=>{const t=this.props,s=t.attachment,r=t.onClick,n=t.isPreviewEnabled,a=t.hasGroupId;return d.a.createElement(S.c,{permittedArrowDirections:[h.h.UP,h.h.DOWN],zAltitude:O.Pb.POPOVER.HIGH,align:h.a.END,offset:2*O.G,triggerOn:S.b.CLICK,triggerOff:S.a.CLICK,className:G.popoverContainer,onContentMouseOver:this.onMouseEnterChange.bind(this,!0),onContentMouseOut:this.onMouseEnterChange.bind(this,!1),isArrowVisible:!1},d.a.createElement("div",{className:G.itemMenu,onMouseEnter:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1),"data-test-id":"more-option-button"},d.a.createElement(m.a,{kind:I.Kinds.MORE,colorStates:{normal:I.ColorStates.COOL_FAINT,hovered:I.ColorStates.SELECTED},size:I.Sizes.XXS})),d.a.createElement("div",{className:G.menuContainer,"data-test-id":"attachment-menu"},d.a.createElement(C.a,{kind:g.a.MENU,focusOnMount:!0},e===E.F.Types.IMAGE&&this.props.richTextMode?d.a.createElement(v.a,{className:G.menuItem,"data-test-id":"send-as-image-item"},d.a.createElement(f.a,{kind:D.a.MENUITEM_PARENT_TEXT_COLOR,onClick:this.handleSendAsImage},d.a.createElement(c.FormattedMessage,{id:"attachment.send_as_images",defaultMessage:"Send as image"}))):null,d.a.createElement(v.a,{className:G.menuItem,"data-test-id":"remote-att-item"},d.a.createElement(f.a,{kind:D.a.MENUITEM_PARENT_TEXT_COLOR,onClick:this.props.onRemove},d.a.createElement(c.FormattedMessage,{id:"attachment.remove",defaultMessage:"Remove"}))),Object(L.o)(s,a)&&n?d.a.createElement(v.a,{className:G.menuItem,"data-test-id":"preview-att-item"},d.a.createElement(f.a,{kind:D.a.MENUITEM_PARENT_TEXT_COLOR,onClick:e=>r(Object(P.getInteractionFromEvent)(e))},d.a.createElement(c.FormattedMessage,{id:"attachment.preview",defaultMessage:"Preview"}))):null)))}),o()(this,"_renderPreviewMask",(e,t)=>{const s=this.props,r=s.onClick,n=s.allowDownload,a=n?e.previewButtonWrapper:e.previewWrapperMsgList,o=n?e.previewButton:e.previewButtonMsgList,i=this.context.intl.formatMessage(w.preview);return d.a.createElement("div",{className:a,onClick:e=>r(Object(P.getInteractionFromEvent)(e))},d.a.createElement(f.a,{"data-test-id":"attachment-item-preview",kind:D.a.PLAIN,className:o,title:i},d.a.createElement("span",{"aria-hidden":!0},i)),n?d.a.createElement("div",{className:e.downloadIconOnPreview,"data-test-id":"download-icon",onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:t},d.a.createElement(p.b,{kind:I.Kinds.DOWNLOAD,size:I.Sizes.XS,colorState:this.state.anchorHover?I.ColorStates.PRIMARY_HOVER:I.ColorStates.SELECTED})):null)}),o()(this,"_renderDownloadMask",(e,t)=>{const s=this.props.allowDownload;return d.a.createElement("div",{className:s?e.noPreviewWrapper:e.noPreviewWrapperMsgList,"data-test-id":"attachment-no-preview"},d.a.createElement("span",{className:s?e.noPreviewText:e.noPreviewTextMsgList},d.a.createElement(c.FormattedMessage,{id:"attachment_item.no_preview",defaultMessage:"No Preview"})),s?d.a.createElement("div",{"data-test-id":"download-icon",className:e.downloadIconOnPreview,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:t},d.a.createElement(p.b,{kind:I.Kinds.DOWNLOAD,size:I.Sizes.XS,colorState:this.state.anchorHover?I.ColorStates.PRIMARY_HOVER:I.ColorStates.SELECTED})):null)}),o()(this,"_handleDownloadClick",e=>{e.preventDefault(),e.stopPropagation(),Object(L.n)(this.props.attachment)&&this.props.handleDownload({attachment:this.props.attachment,i13nModel:{mKey:A.g.DOWNLOAD_ATTACHMENT,sec:A.i.MSG_READ_ATTACHMENT,mKeyGroup:A.h.dwnldAttmnt}})}),this._hoverTimer=null,this.imageRef=d.a.createRef(),this.state={hover:!1,anchorHover:!1}}componentWillUnmount(){clearImmediate(this._hoverTimer)}render(){const e=this.props,t=e.attachment,s=void 0===t?{}:t,r=e.allowDownload,n=e.readOnly,a=e.isPreviewEnabled,o=e.mayContainVirus,i=e.previewWithoutDownload,c=e.smallPreview,l=e.isCompact,_=e.hasGroupId,u=s.filename,p=void 0===u?"":u,m=s.subtype,S=s.type,h=s.state,C=s.size,g=this.context.intl.formatMessage,O=Object(L.i)(p),A=h===E.E.LOADING,I=Object(L.d)(S,m),f=Object(L.o)(s,_),D=Object(L.o)(s,_)||Object(L.n)(s),R=r&&!A,N=y.b(p),P=p?y.a(p,N):g(w.untitled),v=g(w.download),F=Object(T.prettyPrintBytes)(C,1),U=b()(M.a,{type:O||I,state:h,anchorHover:this.state.anchorHover,spam:o,smallPreview:c,isPreviewEnabled:a,hover:this.state.hover,isCompact:l,unsupportedFileType:!Object(L.p)(p)});return d.a.createElement("div",{className:U.container,"data-test-id":"attachment-item"},!n&&this.state.hover&&this.renderPopoverMenu(I),d.a.createElement("div",{"data-test-id":"attachment-container",className:U.content,onMouseOver:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1)},d.a.createElement("div",{className:U.mediaContent},this.renderContent(s,I)),a&&(r||i)&&D&&_&&this.state.hover?d.a.createElement("div",{className:U.hoverMask},f?this._renderPreviewMask(U,v):this._renderDownloadMask(U,v)):null),d.a.createElement("div",{className:U.label,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},R?d.a.createElement("div",{className:U.downloadIcon,onClick:this._handleDownloadClick,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},d.a.createElement("a",{"data-test-id":"attachment-download",href:s.downloadUrl,className:U.downloadIconWrapper},d.a.createElement("span",{className:U.downloadFilename,title:s.filename},d.a.createElement("div",{className:U.filename},d.a.createElement("span",{className:U.labelBaseName},d.a.createElement("span",null,P)),d.a.createElement("span",null,N)),d.a.createElement("div",{className:U.fileSize},F)))):d.a.createElement("span",{className:U.filenameContainer,title:s.filename},d.a.createElement("div",{className:U.filename},d.a.createElement("span",{className:U.labelBaseName},d.a.createElement("span",null,P)),d.a.createElement("span",null,N)),c?null:d.a.createElement("div",{className:U.fileSize},F))))}}o()(H,"contextTypes",{intl:c.intlShape.isRequired}),o()(H,"defaultProps",{smallPreview:!1,previewWithoutDownload:!1,contentIdToUploadProgress:{}});t.a=Object(i.connect)((e,t)=>{const s=Object(F.selectors)(e),r=s.getComposeSessionsSelectors,n=s.getRoute,a=s.getGroupIdContainingMessageId,o=(0,s.getAttachmentsSelectors)(),i=o.hasError,c=o.isUploaded,l=o.getThumbnailUrl,d=r(),_=d.getAttachmentProgress,u=d.doesComposeSessionExist,p=d.getDraftMessageId,m=n(),S=m.params;let h;const C=-1!==[E.rd.NEW_DRAFT,E.rd.EDIT_DRAFT].indexOf(m.name);C&&(h=S.csid),h=h||t.csid;return{hasError:i,isUploaded:c,getThumbnailUrl:l,contentIdToUploadProgress:u(t.csid)?_(t.csid):void 0,hasGroupId:!C||Boolean((()=>{const e=u(h)&&p(h);return e?a(e):void 0})())}},e=>({handleDownload({attachment:t,i13nModel:s}){e(Object(U.b)({attachment:t,i13nModel:s}))}}))(H)},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_Z1YJkyX ab_C A_6EqO k_w H_A e_dRA b_Z14vXdP Q_6MGW U_6Eb4 P_ZGAhPT a_3Mlf4",message:"P_0 D_I M_ZmsKgw",button:"C_Z2aVTcY M_3gJOe",buttonsContent:"J_x D_Z1YJkyX ab_CI",primaryButton:"r_P C_Z2aVTcY"}},_key:"Z2hSUXN"}},function(e,t,s){"use strict";e.exports={className:{default:{messageCardContainer:"p_R b_efTvb I_52qC em_N X_fq7 N_6LEV ir3_Z1tiXR3 it3_689y",toolbarHoverArea:"H_7jIs D_F ab_C Q_69H5 E_36RhU"},active:{messageCardContainer:"b_2w4l8N p_R j_ZlOSbd"}},_key:"wnxvG"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"e_eo6 o_h",actionButton:"J_x I_T cg_n u_Z13VSE6 A_6EqO C_Z2aVTcY r_P P_fQoXz",link:"e_eo6 H_74JI X_0 o_h A_6EqO ab_C p_R D_ZKxLmw v_g9505 I_ZnIF8Y cdPFi_Z281SGl k_w I4_ZpQYvz",transparentBackgroundLink:"bn_dBP bm_FJ bj_ZpQYvz I_ZprBTp I4_fj1WV",imageContainer:"W_6VJl D_F ab_C k_w en_0 i_0",previewVideo:"W_6MGW H_6MGW ab_C D_F gl_C p_R",previewVideoPlayer:"W_6NIX H_6NIX im_BH",videoOverlay:"p_a W_6NIX H_6NIX",spacer:"D_F en_0 ab_C W_6LEV H_6D6F P_Z1feoPS",sponsoredContainer:"D_F ab_C r_P",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_ZyfvxR C_Z2drWk6 cdPFi_Z2drWk6",adTextContainer:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_ZyfvxR A_6EqO C_Z1VRpVF",advertiserContainer:"D_F ek_EZ gl_C s_0 ab_C",advertiser:"o_h J_x G_e em_N E_fq7 u_Z13VSE6 D_B Q_6NIX",message:"D_F o_h H_6D6F E_72FG J_x em_N i_CS k_w ek_EZ ab_C gl_FO",subjectContainer:"en_0 a_6D6F D_F ab_C gl_FM",subject:"o_v G_e J_x a_6D6F en_N u_Z13VSE6",snippetContainer:"D_F ab_C a_6D6F X_fq7 o_h J_x H_6D6F",snippet:"J_x o_h G_e C_Z1VRpVF a_6D6F",adHeadline:"J_x o_h G_e a_6D6F",sponsored:"A_6EqO ab_C D_F C_Z1VRpVF I_T gl_C H_6D6F b_0 r_P P_0",mbBeacon:"D_n",adFeedbackContainer:"P_3Y3Gk",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0 E_eo6",gridB2:"D_F ab_C H_6D6F o_h em_sL ej_0",starRatingContainer:"s_7qGO",adContainer:"s_7iGr E_0 D_F ek_BB ab_CH",spacerContainer:"W_6UbO X_dRA",highlightedTerm:"I_2ieea9 D_X P_3zDxc",snippetInnerContainer:"D_X J_x o_h G_e",feedbackContainer:"C_Z1VRpVF cdPFi_Z1VRpVF",favicon:"D_F W_6D6F ab_C gl_C"},isCompactLayout:{link:"H_7rdk X_0",imageContainer:"W_74JI X_6Eb4 ac_CI je_6Eb4",adHeadline:"Q_0 W_6D6F U_eo6 u_Z13VSE6",snippet:"Q_0",spacer:"D_n",iconContainer:"W_A D_F ab_C H_6LEV",feedbackContainer:"W_A D_F ab_C H_6LEV",closeIconContainer:"gl_CH W_A",gridB2:"em_qk ej_7kKt",gridB1:"o_v W_74JI em_0 ej_CS a_n E_0",subjectContainer:"W_6D6F U_eo6",snippetContainer:"W_6D6F gl_FM H_3mCHE X_dm5",message:"M_0 N_fFR ek_BB ab_CI gl_C",subject:"Q_0 o_h",sponsored:"E_0 p_s T_A R_A P_3gIgH Q_7bcz",sponsoredContainer:"H_6Fd5",actionButton:"P_3gIgH",sponsoredIcon:"X_dBP",adTextContainer:"X_dBP",starRatingContainer:"s_7iGr"},secondPencilAd:{link:"I_T cn_3vzlv cg_FJ l_1EQwtX e_0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{link:"C_ZpQYvz cdPFi_52qC I_ajOPR I4_ajP3z",transparentBackgroundLink:"bj_ajP6C I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC",adTextContainer:"C_52qC",feedbackContainer:"C_52qC cdPFi_52qC"},"themeCombo-DARK_ROADTRIP":{link:"C_ZpQYvz cdPFi_52qC I_ajOPR I4_ajP3z",transparentBackgroundLink:"bj_ajP6C I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC",adTextContainer:"C_52qC",feedbackContainer:"C_52qC cdPFi_52qC"},"themeCombo-DARK_SUNSET_AUSSIE":{link:"C_ZpQYvz cdPFi_52qC I_ajOPR I4_ajP3z",transparentBackgroundLink:"bj_ajP6C I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC",adTextContainer:"C_52qC",feedbackContainer:"C_52qC cdPFi_52qC"},"themeCombo-DARK_LIGHTHOUSE":{link:"C_ZpQYvz cdPFi_52qC I_ajOPR I4_ajP3z",transparentBackgroundLink:"bj_ajP6C I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC",adTextContainer:"C_52qC",feedbackContainer:"C_52qC cdPFi_52qC"},"themeMode-DARK":{link:"C_ZpQYvz cdPFi_52qC I_sgPuo I4_sgPuT",transparentBackgroundLink:"bj_ajP6C I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC",adTextContainer:"C_52qC",feedbackContainer:"C_52qC cdPFi_52qC"},"msgListDensity-1":{link:"H_qg",imageContainer:"X_0",actionButton:"b_82XEY cg_82XEY",previewVideo:"W_6MGW H_6MGW",previewVideoPlayer:"W_6MGW H_6MGW",videoOverlay:"W_6LEV H_6LEV",spacer:"Q_eTB",spacerContainer:"W_6TFj P_0",sponsoredIcon:"M_ZBlLjw",adTextContainer:"M_ZBlLjw"},"msgListDensity-2":{link:"H_qJ",previewVideo:"W_6UbO H_6UbO",previewVideoPlayer:"W_6UbO H_6UbO"},"msgListDensity-3":{link:"H_rh",previewVideo:"W_73HH H_73HH o_v",previewVideoPlayer:"W_73HH H_73HH"},"msgListDensity-compact_1":{link:"H_si",subjectContainer:"U_dRA",adHeadline:"U_dRA u_Z13VSE6",sponsoredIcon:"Y_69bz",adTextContainer:"Y_69bz"},"msgListDensity-compact_2":{link:"H_sL",subjectContainer:"U_eo6",adHeadline:"U_eo6 u_Z13VSE6",sponsoredIcon:"Y_68F4",adTextContainer:"Y_68F4"},"msgListDensity-compact_3":{link:"H_tf",subjectContainer:"U_eo6",adHeadline:"U_eo6 u_Z13VSE6"},isFlashSaleAd:{adHeadline:"u_Z13VSE6"},noAdFeedback:{adContainer:"s_7yHc",sponsored:"p_a T_0 R_fam"}},_key:"Z17OW93"}},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(3),o=s.n(a),i=s(7),c=s.n(i),l=s(1),d=s.n(l),E=s(12),_=s.n(E),u=s(6),p=s(13),m=s(850),S=s.n(m),h=s(59),C=s(18),g=s(25),O=s(4),T=s(17),A=s(21),I=s(107),f=s(0),D=s(5),R=s(2),b=s(189),N=s(11),M=s(10),y=s(45),L=s(275),P=s.n(L);const v=Object(u.defineMessages)({close:{id:"quotient_modal.close",defaultMessage:"Close"},phone_number_placeholder:{id:"quotient_modal.phone_number_placeholder",defaultMessage:"Enter phone number"},loyalty_card_placeholder:{id:"quotient_modal.loyalty_card_placeholder",defaultMessage:"Enter loyalty card number"},link:{id:"quotient_modal.link",defaultMessage:"Continue"},policyText:{id:"quotient_modal.policyText",defaultMessage:'By clicking <b>Continue</b>, you are agreeing to our partner\'s <a target=\'_blank\' style="color:#878C91; text-decoration:underline;" href="https://www.quotient.com/terms-of-use/">Terms</a> and <a target=\'_blank\' style="color:#878C91; text-decoration:underline;" href="https://www.quotient.com/privacy-policy/">Privacy policy</a>'},subtitle:{id:"quotient_modal.subtitle",defaultMessage:"Find coupons to save at {retailerName} stores"},error:{id:"quotient_modal.error",defaultMessage:"Unable to find a {retailerName} account for this number"},link_card_step_1_phone:{id:"quotient_modal.link_card_step_1_phone",defaultMessage:"Enter phone number used at the store"},link_card_step_1_loyalty:{id:"quotient_modal.link_card_step_1_loyalty",defaultMessage:"Enter your loyalty card number"},link_card_step_2:{id:"quotient_modal.link_card_step_2",defaultMessage:"Add coupons you like"},link_card_step_3:{id:"quotient_modal.link_card_step_3",defaultMessage:"Save at checkout"},other_stores:{id:"quotient_modal.other_stores",defaultMessage:"View other stores"}});class F extends d.a.Component{constructor(...e){super(...e),o()(this,"state",{loyaltyId:"",isValid:!0,isCountShown:!1,count:0}),o()(this,"handleSuccessClick",()=>{const e=this.props,t=e.closeModal;(0,e.onSuccess)(),t()}),o()(this,"handleCloseClick",()=>{const e=this.props,t=e.closeModal;(0,e.onClose)(),t()}),o()(this,"handleOverlayClick",e=>{e.preventDefault(),e.stopPropagation()}),o()(this,"handleInputChange",e=>{const t=e.target.value,s=this.props,r=s.loyaltyCardLength;this.setState(s.proxyType===f.ld.Phone?{loyaltyId:t,isCountShown:!0,count:this.unmask(t).length,isValid:10===this.unmask(t).length}:{loyaltyId:t,isValid:!(r&&t.length<r),isCountShown:!0})}),o()(this,"handleKeyDown",e=>{const t=this.state;"Enter"===e.key&&t.loyaltyId&&t.isValid&&this.linkCard()}),o()(this,"handleKeyPress",e=>{const t=String.fromCharCode(e.keyCode||e.which);/\D+/.test(t)&&e.preventDefault()}),o()(this,"unmask",e=>e.replace(/\D+/g,"")),o()(this,"linkCard",()=>{const e=this.props,t=e.linkRetailerRequested,s=e.parentName,r=e.retailerId;let n=this.state.loyaltyId;e.proxyType===f.ld.Phone&&(n=this.unmask(n)),t({retailerId:r,loyaltyId:n,parentName:s})}),o()(this,"_renderStep",(e,t,s)=>{const r=_()(P.a),n=this.context.intl.formatMessage;return d.a.createElement("div",{className:r.step},d.a.createElement("div",{className:r.stepTitle},d.a.createElement("div",{className:r.stepNumber},s),d.a.createElement(T.b,{kind:e,size:O.Sizes.S,colorState:O.ColorStates.IMPROVED_GRAY_DARK})),d.a.createElement("div",{className:r.stepText},n(t)))}),o()(this,"_renderCheck",()=>{const e=this.props.proxyType===f.ld.Phone,t=_()(P.a,{isPhone:e});return d.a.createElement("div",{className:t.checkmark},d.a.createElement(T.b,{kind:O.Kinds.CHECKMARK,size:O.Sizes.S,colorState:O.ColorStates.SUCCESS}))}),o()(this,"_renderDigitsCheck",()=>{const e=this.state,t=e.isValid,s=e.count,r=this.props.proxyType===f.ld.Phone,n=_()(P.a,{isPhone:r});return 10===s&&t?this._renderCheck():d.a.createElement("div",{className:n.digits},s,"/10")}),o()(this,"_renderLoyaltyDigitsCheck",()=>{const e=this.state.loyaltyId,t=this.props.loyaltyCardLength,s=_()(P.a);return e.length===parseInt(t,10)?this._renderCheck():d.a.createElement("div",{className:s.digits},e.length,"/",t)})}componentWillReceiveProps(e){null!==e.linked&&(e.linked?(this.setState({isValid:!0,isCountShown:!1}),this.handleSuccessClick()):this.setState({isValid:!1,isCountShown:!1}))}componentDidMount(){if(this.textInput&&this.textInput.focus(),"groceriesTopOfMsg"===this.props.parentName){const e=this.props;y.b.sendI13nModel({i13nModel:{mKey:D.g.CARD_VIEW,interactionType:D.e.click,sec:D.i.MSG_BODY,actionData:{xpname:f.Ob.GROCERY_DEALS_RECOMMENDATION,interactiontype:"register",interacteditem:"groceriesTopOfMsgBody"===e.contextOfUse?"body":"button",slot:D.j.TOM,sndr:e.fromEmail,msgId:e.parentMessageId,featurefamily:f.Cb.IC}}})}}render(){const e=this.props,t=e.brandImage,s=e.errorHint,r=e.loyaltyCardLength,a=e.loyaltyCardPrefix,o=e.proxyType,i=e.registrationInfo,c=e.retailerName,l=this.state,E=l.loyaltyId,p=l.isValid,m=l.isCountShown,h=this.context.intl.formatMessage,T=_()(P.a),D={retailerName:c},R=o===f.ld.Phone,M=a?a.concat("X".repeat(r-a.length)):h(v.loyalty_card_placeholder),y=R?h(v.phone_number_placeholder):M,L=p||m?i:s,F=L.includes("_blank")?L:L.replace("<a ",'<a  style="color:#188fff;" target="_blank" '),U=p||m?"registrationInfo":"errorInfo",w=!!R&&["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],G={width:83.5*N.G+"px",height:9*N.G+"px",margin:`${2*N.G}px ${5*N.G}px ${5*N.G}px ${5*N.G}px`};return d.a.createElement(I.a,{onClose:this.handleOverlayClick},d.a.createElement("div",{className:T.dialog,"data-test-id":"quotient-modal"},d.a.createElement("div",{className:T.close},d.a.createElement(A.default,{"aria-label":h(v.close),"data-test-id":"quotient-modal-close-btn",kind:O.Kinds.CLOSE,onClick:this.handleCloseClick,size:O.Sizes.XS,title:h(v.close)})),d.a.createElement("div",{className:T.imgContainer},d.a.createElement("img",{className:T.logo,onError:e=>Object(b.a)(e,f.jd),src:t}),d.a.createElement("div",{className:T.overlayContainer},d.a.createElement("div",{className:T.overlay}))),d.a.createElement("div",{className:T.subtitleContainer},d.a.createElement("div",{className:T.subtitle},h(v.subtitle,D)),d.a.createElement("div",{className:T.stepContainer},this._renderStep(O.Kinds.CONTACTCARD_OUTLINE,R?v.link_card_step_1_phone:v.link_card_step_1_loyalty,1),this._renderStep(O.Kinds.ADDATTACHMENT,v.link_card_step_2,2),this._renderStep(O.Kinds.CART,v.link_card_step_3,3))),a&&!R?d.a.createElement("div",{className:T.headerText},d.a.createElement(u.FormattedHTMLMessage,v.loyalty_card_placeholder)):null,d.a.createElement("div",{className:T.inputFieldContainer},d.a.createElement("div",null,d.a.createElement(S.a,{className:T.inputField,"data-test-id":"quotient-modal-text-input",guide:!0,mask:w,maxLength:r&&!R?r:"20",onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,placeholder:y,render:(e,t)=>d.a.createElement("input",n()({},t,{ref:t=>{this.textInput=e(t)}})),size:R?"23":"25",type:"text"})),R?this._renderDigitsCheck():null,r&&!R?this._renderLoyaltyDigitsCheck():null),d.a.createElement("div",{className:"errorInfo"===U?T.error:T.noError},h(v.error,D)),"errorInfo"===U?d.a.createElement("div",{className:T.errorInfo,dangerouslySetInnerHTML:{__html:F},id:"quotient-modal-info","data-test-id":"quotient-modal-info-text"}):null,p||m?d.a.createElement("div",{className:T.policy,"data-test-id":"quotient-modal-policy-text"},d.a.createElement(u.FormattedHTMLMessage,v.policyText)):null,d.a.createElement(C.a,{"data-test-id":"quotient-modal-primary-btn",disabled:!(E&&p),kind:g.a.PRIMARY,onClick:this.linkCard,style:G},h(v.link))))}}o()(F,"contextTypes",{intl:u.intlShape.isRequired,navigateTo:c.a.func.isRequired}),o()(F,"defaultProps",{onSuccess:()=>{},onClose:()=>{}});t.a=Object(p.connect)((e,{retailerId:t=""})=>{const s=Object(M.selectors)(e),r=s.getSelectedAccountId,n=(0,s.getRetailersSelectors)(),a=n.getBrandImageFromRetailerId,o=n.getDisplayNameFromRetailerId,i=n.getErrorHintFromRetailerId,c=n.getProxyTypeFromRetailerId,l=n.getRegistrationInfoFromRetailerId,d=n.getLoyaltyCardLengthFromRetailerId,E=n.getLoyaltyCardPrefixFromRetailerId,_=n.isLinkedRetailer,u=r();return{retailerName:o(t),brandImage:a(t),errorHint:i(t),linked:_(t),proxyType:c(t),loyaltyCardPrefix:E(t),loyaltyCardLength:d(t),registrationInfo:l(t),activeAccountID:u}},e=>({closeModal:(t={})=>e({type:R.LINK_MODAL_CLOSED,i13nModel:t}),linkRetailerRequested:t=>e(Object(h.r)(t))}))(F)},function(e,t,s){"use strict";e.exports={className:{default:{suggestionOption:"D_F P_1zJRml k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9 ab_C",keywordSuggestionOption:"D_F P_1zJRml k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionAvatar:"W_6UbO H_6UbO E_6Eb4",personSuggestionLabel:"o_h",suggestionLabel:"J_x G_e o_h",emailAddressLabel:"J_x G_e o_h C_Z1VRpVF",keywordSuggestionLabel:"J_x G_e o_h je_6DEy",keywordSuggestionIcon:"N_6DEy E_eTB je_eTB",deleteButton:"je_6DEy Q_A"}},_key:"2mAEkn"}},function(e,t,s){"use strict";var r=s(2),n=s(3),a=s.n(n),o=s(43),i=s.n(o),c=s(69),l=s(109),d=s(0),E=s(10),_=s(47),u=s(20);function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var m=s(98),S=s(137);const h=({beaconType:e,reason:t,comment:s,isAdFeedbackV2:r})=>{const n=[["type",e],["subo",t],["cmnt",s]].filter(e=>e[1]);r&&n.push(["afv","2.0"]);return`(${n.map(([e,t])=>`${e}$${t}`).join(",")})`},C=(e,t,s)=>{const r=(0,Object(E.selectors)(e.getState()).getAdsSelectors)().getAdFeedbackBeacon(s).replace("$(AD_FEEDBACK)",t);Object(m.a)(r)},g=(e,{type:t,reason:s,comment:n,sectionId:a,isAdFeedbackV2:o,feedbackType:i})=>{if(t===r.AD_FEEDBACK_CLICKED){if(!i)return;s=i===S.a.POSITIVE?100:10}C(e,h({beaconType:"fdb_submit",reason:s,comment:n,isAdFeedbackV2:o}),a)};var O=s(220),T=s(34),A=s.n(T);function I(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function f(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?I(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):I(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const D=e=>{let t=e.itemsToUpdate,s=e.isRead,n=A()(e,["itemsToUpdate","isRead"]);return void 0!==s?f({itemsToUpdate:t.map(e=>{let t=e.destinationFolder,r=e.folder,n=e.flags;return f({},A()(e,["destinationFolder","folder","flags"]),{folder:t,destinationFolder:r,flags:f({},n,{read:!s})})})},n,{isRead:!s,type:r.UNDO_MOVE_AND_READ_REQUESTED}):f({itemsToUpdate:t.map(e=>{let t=e.destinationFolder,s=e.folder;return f({},A()(e,["destinationFolder","folder"]),{folder:t,destinationFolder:s})})},n,{type:r.UNDO_MOVE_REQUESTED})};function R(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function b(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?R(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):R(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var N=s(272),M=s(9);function y(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function L(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?y(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):y(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function P(e,t,s){const r=e.isMobileRoute,n=e.getAccountSelectors,a=(0,e.getFoldersSelectors)(),o=a.getFolderIdsByAccountId,i=a.hasChildren;let c;switch(t){case d.Kd.AMP_EMAIL:c=d.xc.AMP_EMAIL;break;case d.Kd.INTERSTITIAL_FREQUENCY:c=d.xc.INTERSTITIAL_FREQUENCY;break;case d.Kd.THEME:c=r()?d.xc.MOBILE_THEME:d.xc.THEME;break;case d.Kd.THEME_MODE:c=r()?d.xc.MOBILE_THEME_MODE:d.xc.THEME_MODE;break;case d.Kd.PREVIEW_PANE:c=d.xc.PREVIEW_PANE;break;case d.Kd.MSG_LIST_DENSITY:c=d.xc.MSG_LIST_DENSITY;break;case d.Kd.SNIPPETS:c=r()?d.xc.MOBILE_SNIPPETS:d.xc.SNIPPETS;break;case d.Kd.COMPOSE_FONT_FAMILY:c=d.xc.COMPOSE_FONT_FAMILY;break;case d.Kd.COMPOSE_FONT_SIZE:c=d.xc.COMPOSE_FONT_SIZE;break;case d.Kd.MOBILE_NOTIFICATION:c=d.xc.MOBILE_NOTIFICATION;break;case d.Kd.DESKTOP_NOTIFICATION:c=d.xc.DESKTOP_NOTIFICATION;break;case d.Kd.MARK_AS_READ_INTERVAL:c=d.xc.MARK_AS_READ_INTERVAL;break;case d.Kd.SHOW_IMAGES:c=r()?d.xc.MOBILE_SHOW_IMAGES:d.xc.BLOCK_IMAGES;break;case d.Kd.LINK_ENHANCR:c=d.xc.LINK_ENHANCER;break;case d.Kd.ACTION_AFTER_MSG_MOVE:c=d.xc.ACTION_AFTER_MSG_MOVE;break;case d.Kd.SHOW_CUSTOM_FOLDERS:c=d.xc.SHOW_CUSTOM_FOLDERS;break;case d.Kd.SHOW_SMART_VIEWS:c=d.xc.EXPAND_SMART_VIEWS;break;case d.Kd.MAIL_TABS:c=d.xc.MAIL_TABS;break;case d.Kd.HIDE_AD:c=d.xc.HIDE_AD;break;case d.Kd.SHOW_ALL_SYSTEM_FOLDERS:c=d.xc.SHOW_ALL_SYSTEM_FOLDERS;break;case d.Kd.EXPANDED_FOLDERS:{c=d.xc.EXPANDED_FOLDERS;const e=n().getAccountIds();let t=[];e.forEach(e=>{o(e).forEach(e=>{i(e)&&-1!==s.indexOf(e)&&(t=t.concat(e))})}),s=t;break}case d.Kd.STATIONERY_DEFAULT_THEME:c=d.xc.STATIONERY_DEFAULT_THEME;break;case d.Kd.USE_RICH_TEXT:c=d.xc.USE_RICH_TEXT;break;case d.Kd.RECENTLY_USED_EMOJIS:c=d.xc.RECENTLY_USED_EMOJIS;break;case d.Kd.SCOUT_ONBOARDING:c=d.xc.SCOUT_ONBOARDING;break;case d.Kd.SYSTEM_TABS:c=d.xc.SYSTEM_TABS;break;case d.Kd.AD_BLOCK_FEATURE_CUE_ID:c=d.xc.AD_BLOCK_FEATURE_CUE_ID;break;case d.Kd.PREFERRED_AD_FORMAT:c=d.xc.PREFERRED_AD_FORMAT;break;case d.Kd.BREAKING_NEWS_SETTINGS:c=d.xc.BREAKING_NEWS;break;case d.Kd.PACKAGE_TRACKING_SETTINGS:c=d.xc.PACKAGE_TRACKING;break;case d.Kd.CONSENT_EVENTS:c=d.xc.CONSENT_EVENTS;break;case d.Kd.AUTO_OPEN_FIRST_MESSAGE:c=d.xc.AUTO_OPEN_FIRST_MESSAGE;break;case d.Kd.INBOX_STYLE:c=d.xc.INBOX_STYLE;break;case d.Kd.DO_NOT_UPSELL_APP:c=d.xc.DO_NOT_UPSELL_APP}return c}var v=s(105),F=s(16),U=s(8);function w(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var G=s(273);var H=s(104),j=s(197),k=s(177),x=s(48),B=s(161),V=s.n(B),W=s(185);function K(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function q(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?K(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):K(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Y=(e=[])=>e.map(({name:e,email:t})=>({name:e,email:t})),z=(e,t)=>{const s=Object(E.selectors)(e),r=s.getDraftFolderIdByAccountEmail,n=s.getDraftFolderIdForPrimaryAccount,a=s.getAttachmentMessageReferenceByContentId,o=s.isReplyMessage,i=s.isReplyAllMessage,c=s.isForwardMessage,l=s.getReplyingToMessageId,d=t.to,_=t.cc,u=t.bcc,p=t.from,m=t.csid,S=t.subject,h=t.html,C=t.attachmentsInfo,g=void 0===C?[]:C,O=t.rawFiles,T=void 0===O?{}:O,A=t.newContentIds,I=void 0===A?[]:A,f=t.uiState.useRichText,D=(0,s.getSelectedMailboxId)(),R=r(p.email)||n(),b=l(m),N=o(m),M=i(m),y=c(m),L=V()(g,"contentId").filter(e=>{const t=I.some(t=>t===e.contentId),s=a(e.contentId),r=e.id&&e.id.includes("inlineImage");let n=s&&e.partId&&e.partId.indexOf(".")>0;if(n){const t=e.partId.split(".")[0];n=!!g.find(({partId:e})=>e===t)}return(t||s)&&!n&&!r}).map(e=>{const t=a(e.contentId);return t?q({},e,{messageReference:t,file:void 0}):e}),P=[{name:p.sendingName||p.email,email:p.email}],v=p.replyToAddress?[{name:p.sendingName||p.replyToAddress,email:p.replyToAddress}]:[],F={csid:m,mailboxId:encodeURIComponent(D),subject:S,from:P,replyTo:v,to:Y(d),cc:Y(_),bcc:Y(u),html:f?Object(k.d)(h,s):null,text:f?null:Object(k.a)(h),folderId:R,attachments:L,files:(I||[]).map(e=>T[e]).filter(Boolean)};return b?(F.newMessage=!1,F.inReplyTo={messageReference:{id:b},replied:N||M,forwarded:!(N||M)&&y}):F.newMessage=!0,F},Q=s.n(W)()((e,t)=>{e(Object(H.i)(t))},2e3);var Z=s(149),X=s(80),$=s(123),J=s(82),ee=s(5);function te(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function se(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?te(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):te(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var re=s(89);function ne(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ae(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ne(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ne(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const oe=e=>ae({type:r.DOCUMENT_FETCH_FAILED},e);var ie=s(55);function ce({type:e,subtype:t}){switch(Object(ie.d)(e,t)){case d.F.SimplifiedTypes.COMPRESSED:return{code:625,isRetryable:!1};default:return{code:813,isRetryable:!1}}}var le=s(309);var de=s(108),Ee=s(19);const _e=["amazonPrimeDayCue","aptSecurityCue","blkDeleteMsgErnyCue","couponClipperCue","couponsViewCue","categoryFollowingCue","couponsViewLaunchCue","dealsViewCue","groceriesViewCue","inboxCouponsCue","inboxErnyBrndCue","inboxErnyCue","inboxErnyGrthBrndCue","inboxErnyGrthCue","inboxErnySvngsCue","linkedinReauthCue","msgReadDeleteEarnyCue","msgReadErnyCue","newUserOnboardingCue","purchasesViewCue","qtntviewLeftRailCue","qtntviewMsgReadCue","quotientClipperCue","quotientContextualCue","smallBizCue","shopRunnerViewCue","sportsCue","themesCue","valentineDayCue","undefined"],ue=e=>V()(e.filter(e=>_e.indexOf(e.split(",")[0])<0).sort((e,t)=>(0|parseInt(t.split(",")[1],10))-(0|parseInt(e.split(",")[1],10))),e=>e.split(",")[0]);var pe=s(44),me=s(14);const Se=({shouldWriteToDataSource:e,success:t,failure:s})=>(r,{name:n,userAction:a,userResponse:o,i13nModel:i},c)=>{const l=r.dispatch,_=r.getState,u=Object(E.selectors)(_()),p=u.getFeaturesSelectors,m=u.getFeatureCueSelectors,S=u.getSelectedMailboxId,h=m(),C=h.isPersistent,g=h.isKeySaved;return i&&i.mKey===ee.g.CONVERSATIONS_CUE_TAP&&setImmediate(()=>l(Object(pe.j)({route:Object(me.w)()}))),n&&n!==d.Eb.PARTNER_RECONSENT_BANNER&&n!==d.Eb.LOCKER_FEATURE_CUE?!g(n)&&e({userResponse:o,isPersistent:C(n)})?(({feature:e,userResponse:t,apiClients:{mailAPIClient:s},selectors:{getFeatureCueSelectors:r,getSelectedMailboxId:n}})=>{const a=(0,r().getSubkey)(e)||e,o=n();Object(Ee.a)(_e.indexOf(a)<0,a+" is legacy, it shouldn't be rendered");const i=t?""+t:"";Object(Ee.a)(i.length<5,`User Response should be of length 4 or less for ${e}, got ${i}`);const c=("0000"+i).substring(i.length);return s.request("saveArrayAttributes",{mailboxId:o,items:[`${a},${Math.round(Date.now()/1e3)},${c}`],attribute:d.xc.SCOUT_ONBOARDING,dedupFn:ue})})({feature:n,userResponse:o,apiClients:c,selectors:{getFeaturesSelectors:p,getFeatureCueSelectors:m,getSelectedMailboxId:S}}).then(e=>l(t({feature:n,value:e,userAction:a}))).catch(e=>l(s({feature:n,error:e,userAction:a}))):void 0:Promise.resolve()},he=Se({shouldWriteToDataSource:({userResponse:e,isPersistent:t})=>e||t,success:e=>Object(de.c)(e),failure:e=>Object(de.b)(e)}),Ce=Se({shouldWriteToDataSource:({isPersistent:e})=>!e,success:e=>Object(de.f)(e),failure:e=>Object(de.e)(e)});var ge=s(141);var Oe=s(73),Te=s(367);var Ae=s(225);var Ie=s(130),fe=s(41),De=s(75),Re=s(83),be=s(68);const Ne=(e,t,s)=>{const r=t.route,n=t.config,a=t.type,o=((e,t)=>{switch(t.name){case d.rd.FOLDER:return e.launchFolder;case d.rd.MESSAGE_FROM_FOLDER_LIST:case d.rd.MESSAGE_FROM_SEARCH_LIST:return e.launchMessage;default:return e.root}})(Object(De.a)(n,"spaceids"),r),i=Object(De.a)(n,"geminiForceFilter"),c=Object(De.a)(n,"geminiCreativeId"),l=Object(De.a)(n,"sectionIdsToPrefetch")||[],E=Object(De.a)(n,"geminiSectionIds")||{},_=Object.keys(E).reduce((e,t)=>(-1!==l.indexOf(E[t])&&(e[t]=E[t]),e),{});if(!Object.keys(_).length)return Promise.resolve();const u={sectionId:_,publisherInfo:`||${o}|STRM|`,rotationActionType:a,isAdFeedbackV2:Object(De.b)(n,"adFeedbackV2")?"enabled":"disabled"};return i&&(u.forceFilter=i),c&&(u.creativeId=c),Object(De.b)(n,"geminiSponsoredVideo")&&(u.creativeCode="STRM,STRM_VIDEO",u.contentType="video/mp4,application/vnd.apple.mpegurl"),Object(De.b)(n,"videoSponsoredMoment")&&(u.videoMomentEnabled=!0),Object(De.b)(n,"nobleHybridAd")&&(u.nobleHybridAdEnabled=!0),Object(De.b)(n,"secondPencilFallbackSectionIdEnabled")&&(u.secondPencilFallbackSectionIdEnabled=!0),s.geminiAPIClient.request(u).then(e=>e)},Me=(e,t,s)=>{const r=Object(E.selectors)(e.getState()),n=r.getAppName,a=t.route,o=t.config,i=["LREC","LREC4","SKY"];(0,r.isFeatureEnabled)(d.Eb.LREC_MON_AD_ARBITRATION)&&i.push("MON");const c=Object(Re.f)(o.spaceids,a.name);return s.darlaAdClient.request({spaceId:c,adPositions:i,app:n()}).catch(()=>{}).then(e=>({darlaAds:e}))},ye=e=>be.a.feature("darla_launch_syncer_prefetch",{routeName:e.name}),Le=(e,t)=>{t?e.logSuccessAndLatency():e.logFailure()};function Pe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ve(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Pe(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Pe(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Fe=s(54);function Ue(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var we=s(115);function Ge(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function He(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var je=s(151);var ke=s(121);var xe=({dispatch:e,getState:t},{listId:s},{mailAPIClient:r})=>{const n=Object(E.selectors)(t()),a=n.getListsSelectors,o=n.getFeaturesSelectors,i=n.getSelectedAccountId,c=(0,n.getSelectedMailboxId)(),l=a().getItemIdsSelectors,_=o().getSetting(d.Kd.CARD_GROUPS_FETCH_COUNT),u=l(s).getItemIds().length,p=Object(U.x)(s),m=Object(U.L)(s),S=i();return r.request("messageCards.getList",{mailboxId:c,filter:p,offset:u,count:_,sortOrder:m,accountId:S}).then(({cardGroupList:t,hasMoreItems:r})=>{e(Object(ke.i)({listId:s,cardGroupList:t,hasMoreItems:r}))}).catch(t=>{e(Object(ke.h)({listId:s,error:t}))})};const Be=({dispatch:e,getState:t},{listId:s,count:r=d.ib},{mailAPIClient:n})=>{const a=Object(E.selectors)(t()),o=a.getFeaturesSelectors,i=a.getListsSelectors,c=a.getSelectedAccountId,l=a.getSelectedStreamItems,_=a.doesStreamExist,u=(0,a.getSelectedMailboxId)(),p=c(),m=o().isEnabled(d.Eb.CONVERSATIONS),S=o().isEnabled(d.Eb.SELECT_ALL),h=i().getItemIdsSelectors,C=h(s).getItemIds().length,g={folderId:Object(U.q)(s),mailboxId:u,accountId:p,sortOrder:Object(U.L)(s),filter:Object(U.x)(s),fromEmails:Object(U.o)(s),listIds:Object(U.O)(s),fromNames:Object(U.s)(s),count:r,offset:C,conversationsMode:m,excludeFolderTypes:Object(U.p)(s)};let O=!1;if(S){const e=Object(x.a)([s]),t=_(e)?l(e):[];O=t.length>0&&h(s).getItemIds().length===t.length}return n.request("messageGroups.getList",g).then(({messageGroupList:t,hasMoreItems:r})=>e(Object(ke.c)({listId:s,messageGroupList:t,hasMoreItems:r,allItemsSelected:O}))).catch(t=>{e(Object(ke.b)({listId:s,error:t}))})};var Ve=({dispatch:e,getState:t},{listId:s,count:r=d.ib},{mailAPIClient:n})=>{const a=Object(E.selectors)(t()),o=a.getSelectedMailboxId,i=a.getSelectedAccountId,c=(0,a.getListsSelectors)(),l=c.doesListExist,_=c.getListOffset,u=c.hasMoreItems,p=o(),m=i(),S=d.bc.ALL_REFUND_CARDS;let h=0;!!l(s)&&u(s)&&(h=l(s)?_(s):0);return n.request("getMoreReceipts",{mailboxId:p,filter:S,count:r,offset:h,sortOrder:d.Yd.CARD_DATE_DESC,accountId:m}).then(t=>{e(Object(ke.e)({listId:s,cardGroupList:t.messageGroupsResponses.cardGroupList,hasMoreItems:t.messageGroupsResponses.hasMoreItems,offset:t.messageGroupsResponses.offset,parentMessagesMap:t.parentMessagesMap}))}).catch(t=>{e(Object(ke.d)({listId:s,error:t}))})},We=s(84);function Ke(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function qe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ke(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ke(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ye=s(140);function ze(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Qe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ze(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ze(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Ze=e=>Qe({type:r.CHECK_REPLY_NUDGE_FAILED},e);var Xe=s(445);var $e=s(33),Je=s.n($e);var et=function(e,t,s){const r=t.sectionIds,n=t.spaceId;if(t.unsyncedDataType!==d.Ce.GEMINI_AD||!r||!n)return Promise.resolve();const a=e.dispatch,o=e.getState,i=Object(E.selectors)(o()),c=i.getAdsSelectors,l=i.getAction,_=i.getGroupId,u=i.getSenderEmailIdsFromMessageGroup,p=i.getCouponsSelectors,m=(0,i.getFeaturesSelectors)(),S=m.isEnabled,h=m.getSetting,C=c().getGeminiCategories(),g=h(d.Kd.GEMINI_CREATIVE_ID),O=h(d.Kd.GEMINI_FORCE_FILTER),T=u([_()]),A=Object(F.getRootDomainFromEmailAddress)(T[0]),I=(0,p().getCouponCategoriesForMessageGroup)(),f={adCount:1,sectionId:r,publisherInfo:`||${n}|STRM|`,rotationActionType:l().type,isAdFeedbackV2:S(d.Eb.AD_FEEDBACK_V2)?"enabled":"disabled"},D=Object.keys(r).some(e=>e===d.Nb.SHOPPING_CART),R=Object.keys(r).some(e=>e===d.Nb.DEALS_SHOPPING_CART),b=Object.keys(r).some(e=>e===d.Nb.CROSS_DOMAIN_DPA_ADS),N=S(d.Eb.MSG_READ_PENCIL_AD_SEND_DOMAIN)&&A&&Object.keys(r).some(e=>e===d.Nb.MESSAGE_READ);return S(d.Eb.ROTATE_PENCIL_AD_ON_EXPIRE)||setImmediate(()=>a(Object(Oe.g)({sectionIds:r}))),O&&(f.forceFilter=O),g&&(f.creativeId=g),S(d.Eb.GEMINI_SPONSORED_VIDEO)&&(f.creativeCode="STRM,STRM_VIDEO",f.contentType="video/mp4,application/vnd.apple.mpegurl"),(S(d.Eb.SHOPPING_CART_AD)||S(d.Eb.SUBSCRIPTION_ADS)||S(d.Eb.MSG_READ_PENCIL_AD_SEND_DOMAIN))&&A?f.domain=A:S(d.Eb.CROSS_DOMAIN_DPA_ADS)&&A&&(f.categories=I.slice(0,5).map(e=>e.id).join(","),f.domain=A),C&&C.length&&(f.adCategories=C.join(",")),S(d.Eb.VIDEO_SPONSORED_MOMENT)&&(f.videoMomentEnabled=!0),S(d.Eb.NOBLE_HYBRID_AD)&&(f.nobleHybridAdEnabled=!0),S(d.Eb.PENCIL_AD_URL_VALIDATION)&&(f.pencilAdUrlValidationEnabled=!0),S(d.Eb.SECOND_PENCIL_FALLBACK_SECTION_ID_ENABLED)&&(f.secondPencilFallbackSectionIdEnabled=!0),s.geminiAPIClient.request(f).then(e=>{const t={geminiAd:e,sectionIds:r};if(S(d.Eb.CROSS_DOMAIN_DPA_ADS)&&b){const s=e[r[d.Nb.CROSS_DOMAIN_DPA_ADS]];t.i13nModel={mKey:s?ee.g.CROSS_DOMAIN_DPA_AD_REQUEST_SUCCESS:ee.g.CROSS_DOMAIN_DPA_AD_REQUEST_FAILURE,sec:ee.i.DPA_ADS,actionData:{domain:A,categories:f.categories}},s&&s.length&&(t.i13nModel.actionData.adCount=s.length)}else if(N){t.i13nModel={mKey:ee.g.DOMAIN_MATCHED_PENCIL_AD_MSG_READ,sec:ee.i.MSG_READ_AD,actionData:{domain:A,adCount:((null==e?void 0:e[r[d.Nb.MESSAGE_READ]])||[]).length}}}else if(D||R){const s=D?ee.g.SHOPPING_CART_AD_REQUEST_SUCCESS:ee.g.DEALS_SHOPPING_CART_AD_REQUEST_SUCCESS,n=D?ee.g.SHOPPING_CART_AD_REQUEST_FAILURE:ee.g.DEALS_SHOPPING_CART_AD_REQUEST_FAILURE;t.i13nModel={mKey:e[r[d.Nb.SHOPPING_CART]]||e[r[d.Nb.DEALS_SHOPPING_CART]]?s:n,sec:ee.i.SHOPPING_CART,actionData:{domain:A}}}return S(d.Eb.SPONSORED_MESSAGE_TRIAGE)&&(t.sponsoredMessageTriage=!0),a(Object(Oe.q)(t))}).catch(e=>{let t={};return S(d.Eb.CROSS_DOMAIN_DPA_ADS)&&b?t={mKey:ee.g.CROSS_DOMAIN_DPA_AD_REQUEST_ERROR,sec:ee.i.DPA_ADS,actionData:{domain:A,categories:f.categories}}:(D||R)&&(t={mKey:D?ee.g.SHOPPING_CART_AD_REQUEST_FAILURE:ee.g.DEALS_SHOPPING_CART_AD_REQUEST_FAILURE,sec:ee.i.SHOPPING_CART,actionData:{domain:A}}),a(Object(Oe.p)({error:e,sectionIds:r,i13nModel:t}))})};var tt=function(e,t,s){if(t.unsyncedDataType!==d.Ce.IMPORTANT_CONTACTS_FETCH)return Promise.resolve();const r=e.dispatch,n=t.fromEmail,a=t.listId;return s.autoSuggestClient.importantContacts(n).then(e=>{r(Object(X.s)({fromEmail:n,contacts:e,listId:a}))}).catch(()=>{r(Object(X.n)({fromEmail:n,listId:a}))})},st=s(446);function rt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var nt=s(198);var at=s(447),ot=s(59);function it(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ct(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?it(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):it(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var lt=s(178),dt=s(179),Et=s(119),_t=s(40),ut=s(76);function pt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function mt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function St(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?mt(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var ht=s(310),Ct=s(217);function gt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ot(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Tt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ot(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ot(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var At=(e,t,s)=>{const r=t.blockSenders,n=void 0===r?null:r,a=t.overWrite,o=void 0!==a&&a,i=t.delta,l=void 0===i?1:i,E=e.dispatch;return null===n?Promise.resolve():s.mailAPIClient.request("saveArrayAttributes",{items:n||[],overWrite:o,attribute:d.xc.DELIVERY_BLOCKED_SENDERS}).then(()=>{E(Object(c.d)({name:d.Kd.DELIVERY_BLOCKED_SENDERS,senders:n,delta:l}))}).catch(e=>{E(Object(c.c)({name:d.Kd.DELIVERY_BLOCKED_SENDERS,error:e,delta:l}))})};var It=s(208),ft=s.n(It),Dt=s(369);function Rt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function bt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Rt(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Rt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Nt=(e,t,s)=>{const n=e.dispatch,a=e.getState,o=Object(E.selectors)(a()),i=o.getSelectedMailboxId,c=o.getRoute,l=o.getAccountSelectors,_=(0,o.getSettingsSelectors)().getSettingsApiCallStatus,u=c();if(u.name!==d.rd.SETTINGS&&u.name!==d.rd.BLOCKED_SENDERS)return Promise.resolve();if(_()===d.od.LOADED)return Promise.resolve();const p=i();return s.mailAPIClient.request("settings.get",{mailboxId:p,primaryAccountDisabled:l().isPrimaryAccountDisabled()}).then(e=>{n(bt({type:r.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED},e))}).catch((function(e){n({type:r.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED,payload:e})}))};var Mt=s(97);var yt=s(169),Lt=s(261);function Pt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var vt=s(166);function Ft(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ut(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ft(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ft(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var wt=(e,t,s)=>{const n=e.dispatch,a=e.getState,o=Object(E.selectors)(a()),i=o.getSelectedMailboxId,c=o.getPendingUpdate,l=(0,o.getFeaturesSelectors)(),_=l.getSetting("bulkActionDialogThreshold"),u=t.messageItemsToSync,p=void 0===u?[]:u,m=t.isRead;if(t.unsyncedDataType!==d.Ce.MESSAGE_ITEM_TO_UPDATE||!p.length)return Promise.resolve();const S=p.length>_||p.filter(e=>!!e.messageQuery).length>0,h=p.some(e=>e.permanentDelete),C=l.isEnabled(d.Eb.CONVERSATIONS),g=c(),T=g.streamId,A=void 0===T?void 0:T,I=g.itemsToUpdate,f=void 0===I?[]:I,R=g.triageActionType,b=void 0===R?"":R,N=g.folderId,y=void 0===N?"":N,L=g.destinationFolderId,P=void 0===L?"":L,v=g.destinationFolderType,F=void 0===v?"":v,U=g.count,w=g.conversations,G=g.isAutomatic,H=void 0!==G&&G;let j=Object.keys(f.reduce((e,t)=>Ut({},e,{[t.id]:!0}),{})).length;H&&p.some(e=>!e.flags.read)&&Fe.a.error("debug_mark_as_read",{actionType:c().type,itemsToUpdate:f,messageItemsToSync:p}),-1!==[d.ye.READ_CHANGE_FOLDER_ITEMS,d.ye.ARCHIVE_FOLDER_ITEMS,d.ye.DELETE_FOLDER_ITEMS].indexOf(b)&&(j=U);let k=void 0;switch(b){case d.ye.MOVE_SELECTED_ITEMS:case d.ye.RESTORE_SELECTED_ITEMS:case d.ye.SPAM_SELECTED_ITEMS:case d.ye.NOT_SPAM_SELECTED_ITEMS:{const e={streamId:A,itemsToUpdate:f,i13nModel:{mKey:ee.g.UNDO_MOVE_ACTION},triageActionType:d.ye.UNDO_MOVE};void 0!==m&&(e.isRead=m),k=D(e);break}case d.ye.DELETE_SELECTED_ITEMS:k=h?void 0:D({streamId:A,itemsToUpdate:f,i13nModel:{mKey:ee.g.UNDO_DELETE_ACTION},triageActionType:d.ye.UNDO_MOVE});break;case d.ye.ARCHIVE_SELECTED_ITEMS:k=D({streamId:A,itemsToUpdate:f,i13nModel:{mKey:ee.g.UNDO_ARCHIVE_ACTION},triageActionType:d.ye.UNDO_MOVE})}const x={mailboxId:i(),messageItemsToSync:p,isAsync:S},B={messageItemsToSync:p,itemsToUpdate:f,triageActionType:b,folderId:y,destinationFolderId:P,destinationFolderType:F,isAsync:S,count:j,permanent:h,conversations:C};void 0!==m&&(B.isRead=m),void 0!==w&&(B.conversations=w);const V=Ut({successAction:Ut({type:r.UPDATE_ITEMS_SUCCEEDED},B,{undoAction:k}),failureAction:Ut({type:r.UPDATE_ITEMS_FAILED},B)},B),W=((e=[])=>{let t;for(let s=0;s<e.length;s++){const r=e[s].updateTypes;if(r.length>1)return"messages.UnifiedUpdate";if(t){if(r[0]!==t)return"messages.UnifiedUpdate"}else t=r[0]}switch(t){case d.Gc.READ:return"messages.readFlagUpdate";case d.Gc.STAR:return"messages.starFlagUpdate";case d.Gc.MOVE:return"messages.move";case d.Gc.DELETE:return"messages.delete";default:return"messages.UnifiedUpdate"}})(p);return s.mailAPIClient.request(W,x).then(({tasks:t,successType:r,shouldCheckMessageStatus:a,failureMap:o})=>{if(r===d.Fc.ASYNC)n(Object(O.c)({tasks:t,messageItemsToSync:p,actionPayload:V}));else if(r===d.Fc.FAIL){if(a)return((e,t,s,r)=>{const n=e.dispatch,a=e.getState,o=t.messageItemsToSync,i=void 0===o?[]:o,c=Object(E.selectors)(a()),l=c.getSelectedMailboxId,d=c.getPendingUpdate,_=c.getFolderHighestModSeq,u=Object(M.b)(i[0],"sourceFolder.id",void 0),p=u?{id:u,highestModSeq:_(u)}:{},m=d().streamId;return s.mailAPIClient.request("messages.getDeletedMessages",{mailboxId:l(),messages:i.map(e=>({messageId:e.messageId,modSeq:e.modSeq})),folder:p,messageUpdateFailureMap:r}).then(({deletedMessages:e=[]})=>{n(Object(vt.a)(Ut({},t,{deletedMessages:e,streamId:m,forceSync:!0})))}).catch(()=>{n(Object(vt.a)(t))})})(e,B,s,o);n(Object(vt.a)(B))}else n(Object(vt.b)(Ut({},B,{undoAction:k})))}).catch(()=>{n(Object(vt.a)(B))})};const Gt=(e,t,s)=>{const n=e.getState,a=Object(E.selectors)(n()),o=a.isMobileRoute,i=(0,a.getSetting)(d.Kd.SCOUT_ONBOARDING),c=t.name,l=t.value,_=t.userResponse,u=Object(we.b)(i,d.Eb.WEB_PAC_NOTIFICATION_CUE),p=c===d.Kd.SHOW_IMAGES&&!l&&u>0||c!==d.Kd.SHOW_IMAGES&&_,m=u>=d.Ee;if(!([r.SETTINGS_CHANGE_REQUESTED,d.Ce.UPDATE_PAC_CUE].indexOf(t.unsyncedDataType)>-1)||o()||m||!p)return Promise.resolve();return Ce(e,{name:d.Eb.WEB_PAC_NOTIFICATION_CUE,userResponse:_||d.Ee,i13nModel:{sec:ee.i.FEATURE_CUE,mKey:"cue_pacNotificationCue_invoke",actionData:{fromMsgBody:!!_}}},s)};function Ht(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function jt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ht(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ht(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function kt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var xt=s(150);function Bt(e,t,s,n,a){setTimeout(()=>{e.request("mailbox.getAttributes",{mailboxId:t,attributes:[d.xc.CP_SUBSCRIPTIONS]}).then(a=>{var o,i;if((e=>e.some(e=>"yahooMail"===e.businessUnit))((null===(o=a.responses)||void 0===o||null===(i=o["cp.subscriptions"])||void 0===i?void 0:i.value)||[]))s({type:r.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS,i13nModel:{mKey:ee.g.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS,sec:ee.i.MAILPRO_FREE_TRIAL}});else{if(!(n<2))throw new Error("Failed to validate subscription data in cp.subscriptions");Bt(e,t,s,n+1,3e3)}}).catch(e=>{s({type:r.PURCHASE_MAILPRO_FREE_TRIAL_FAILED,errorMessage:e.message,i13nModel:{mKey:ee.g.PURCHASE_MAILPRO_FREE_TRIAL_FAILED,sec:ee.i.MAILPRO_FREE_TRIAL,actionData:{errorMessage:e.message}}})})},a)}var Vt=s(311);var Wt=s(146);function Kt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function qt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Kt(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Kt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Yt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function zt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Qt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?zt(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Zt=s(209);var Xt=s(428);function $t(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Jt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$t(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$t(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function es(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ts(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?es(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):es(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function ss(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function rs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ss(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ss(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const ns=[(e,t,s)=>{const r=e.dispatch,n=(0,e.getState)(),a=Object(E.selectors)(n),o=a.getDraftFolderIdByAccountEmail,i=a.getDraftFolderIdForPrimaryAccount,c=a.getDraftMessageId,l=a.getGroupIdContainingMessageId,_=a.isSendRequested,u=a.doesComposeHaveFatalError,p=(0,(0,a.getFeaturesSelectors)().isEnabled)(d.Eb.CONVERSATIONS),m=t.from,S=t.csid,h=t.lastEditedTimeStamp,C=t.newContentIds,g=void 0===C?[]:C,O=t.showNotification,T=t.rawFiles,A=void 0===T?{}:T,I=O?"messages.saveV3":"messages.autoSaveV3";if(!S||t.unsyncedDataType!==d.Ce.COMPOSE||_(S)||u(S)&&!O)return Promise.resolve();const f=z(n,t),D=o(m.email)||i(),R=Object(U.y)(D),b=g.filter(e=>A[e]),N=q({strategy:j.a.STRATEGIES.BROWSER_TO_JEDI,timeout:0},f.files.length?{uploadProgressCallback(e){Q(r,{newFileContentIds:b,percent:parseInt(e.percent,10),csid:S})}}:{});return s.mailAPIClient.request(I,f,N,f.files).then(e=>{const s=t.html,n=t.htmlAnnotations,a=c(S);e.simpleBody={html:s,htmlAnnotations:n},r(Object(H.m)(q({},e,{lastEditedTimeStamp:h,csid:S,listId:R,conversationsMode:p,draftMessageId:a,draftFolderId:D,previousStreamItem:{listId:R,id:l(a)},streamId:Object(x.a)([R]),streamItem:{listId:R,id:p?e.message.conversationId:e.message.id}})))}).catch(e=>r(Object(H.k)({lastEditedTimeStamp:h,csid:S,listId:R,newContentIds:g,error:e,showNotification:O})))},(e,t,s)=>{const r=e.dispatch,n=(0,e.getState)(),a=Object(E.selectors)(n),o=a.getSendFolderIdByAccountEmail,i=a.getSendFolderIdForPrimaryAccount,c=a.getMessagesSelectors,l=a.getFeaturesSelectors,_=a.getDraftMessageId,u=a.getRoute,p=a.canSendDraft,m=a.getDraftErrors,S=a.isSendRequested,h=a.isSent,C=a.getMessageCsid,g=a.doesMessageIdExist,O=a.didAttachmentUploadFail,T=a.getGroupIdContainingMessageId,A=a.getMainStreamListIds,I=a.getReplyingToMessageId,f=l().isEnabled,D=t.csid,R=t.from,b=t.lastEditedTimeStamp,N=t.attachmentsInfo,M=void 0===N?[]:N,y=t.listId;if(!D||t.unsyncedDataType!==d.Ce.COMPOSE||h(D)||!S(D))return Promise.resolve();const L=z(n,t);if(m(L))return Promise.reject();const P=u(),v=_(D),F=f(d.Eb.CONVERSATIONS),U=o(R.email)||i(),w=I(D),G=A(P),k=G[0],B=Object(x.a)(G),V=T(w||v),W=w&&g(w)?C(w):null,K={strategy:j.a.STRATEGIES.BROWSER_TO_JEDI,timeout:0};if(L.sentFolderId=U,L.secure=!l().isEnabled(d.Kd.SHOW_IMAGES),p({csid:D,lastEditedTimeStamp:b,attachmentsInfo:M})){let e;return F&&(e=c().getConversationId(v)),s.mailAPIClient.request("messages.send",q({},L,{messageId:v}),K,L.files).then(t=>r(Object(H.p)(q({},t,{message:q({},t.message,{folder:{id:U},inReplyTo:L.inReplyTo,conversationId:e}),route:P,csid:D,listId:k,streamId:B},V?{streamItem:{id:V,listId:k,messageIds:[v||t.message.id]}}:null,{destinationFolderId:U,lastEditedTimeStamp:b,sentFolderId:U,conversationsMode:F,inReplyToMessageCsid:W})))).catch(e=>r(Object(H.n)({csid:D,listId:y,groupId:V,lastEditedTimeStamp:b,error:e})))}const Y=M.filter(e=>O(e.contentId));return Y.length?Promise.resolve().then(()=>{r(Object(H.n)({csid:D,lastEditedTimeStamp:b,listId:y,groupId:V,error:{invalidAttachments:Y}}))}):s.mailAPIClient.request("messages.saveAndSend",L,K,L.files).then(e=>r(Object(H.j)(q({},e,{message:q({},e.message,{folder:{id:U}}),csid:D,listId:k,streamId:B},V?{streamItem:{id:V,listId:k,messageIds:[v||e.message.id]}}:null,{destinationFolderId:U,lastEditedTimeStamp:b,sentFolderId:U,conversationsMode:F,inReplyToMessageCsid:W})))).catch(e=>r(Object(H.n)({csid:D,listId:y,groupId:V,lastEditedTimeStamp:b,error:e})))},function(e,t,s){const r=e.dispatch,n=e.getState,a=Object(E.selectors)(n()),o=a.getFeaturesSelectors,i=a.getMessagesSelectors,c=a.isDraftMessage,l=a.isFeatureEnabled,_=a.getCurrentListId,u=a.getCardConversationIdsFromMessageGroupId,p=(0,a.getSelectedMailboxId)(),m=o(),S=t.isFallback,h=void 0!==S&&S,C=t.messageIds,g=void 0===C?[]:C,O=t.secure,T=void 0===O||O,A=t.full,I=void 0!==A&&A,f=t.messageGroupId,D=t.draftCsid,R=t.prefetchMode,b=t.retryCount,N=void 0===b?0:b,M=t.ineligibleFalconTOMGroupIds,y=void 0===M?[]:M;if(t.unsyncedDataType!==d.Ce.MESSAGE_ITEM_TO_FETCH)return Promise.resolve();const L=_(),P=m.isEnabled("fetchFullBody"),v=m.isEnabled(d.Eb.CONVERSATIONS),F=m.isEnabled(d.Eb.DEALS),U=m.isEnabled(d.Eb.FLIGHT_CARD_EXTRACTIONS),w=m.isEnabled(d.Eb.RECEIPTS),G=m.isEnabled(d.Eb.PRODUCT_RECOMMENDATIONS),H=l(d.Eb.PKG_TRACKING_TOP_OF_MSG),j=g.reduce(({messageIds:e,draftMessageIds:t,cardConversationIds:s},r)=>{const n=i().getCardConversationId(r);return c(r)?t.push(r):e.push(r),n&&(F||w||U||G||H)&&s.push(n),{messageIds:e,draftMessageIds:t,cardConversationIds:s}},{messageIds:[],draftMessageIds:[],cardConversationIds:[]}),k=j.messageIds,x=j.draftMessageIds,B=j.cardConversationIds,V=Boolean(x.length)||!v||I||P,W=function({shouldFetchFullBody:e,cardConversationIds:t=[],messageGroupId:s,isFallback:r,draftCsid:n,prefetchMode:a}){let o;if(o=a?e?"messages.prefetchGetBodiesFull":"messages.prefetchGetBodies":e?"messages.getBodiesFull":"messages.getBodies",t.length>0)switch(o){case"messages.getBodies":o="messages.getExtractedBodies";break;case"messages.getBodiesFull":o="messages.getExtractedBodiesFull";break;case"messages.prefetchGetBodies":o="messages.prefetchGetExtractedBodies";break;case"messages.prefetchGetBodiesFull":o="messages.prefetchGetExtractedBodiesFull"}return s?o="messageGroups.get":n&&(o="messages.getCompose"),r?o+"Fallback":o}({shouldFetchFullBody:V,cardConversationIds:B,messageGroupId:f,isFallback:h,draftCsid:D,prefetchMode:R});return f||D?s.mailAPIClient.request(W,{mailboxId:p,isConversation:v,messageGroupId:f,csid:D,cardConversationIds:u(f),full:V,secure:T}).then(e=>{r(Object(We.k)({listId:L,secure:T,full:V,messageGroup:e.messageGroup,messageBodiesMap:e.messageBodiesMap,messageMetadataMap:e.messageMetadataMap,response:e.response||{},ineligibleFalconTOMGroupIds:y}))}).catch(e=>{r(Object(We.j)({listId:L,messageGroupId:f,csid:D,error:e}))}):s.mailAPIClient.request(W,{mailboxId:p,messageIds:k,draftMessageIds:x,cardConversationIds:B,full:V,secure:T,prefetchMode:R},{retryCount:N}).then(e=>{r(Object(We.i)({listId:L,full:V,secure:T,messageBodiesMap:e.result.messageBodiesMap,messageMetadataMap:e.result.messageMetadataMap,errorMessageIds:e.error&&e.error.messageIds||[],response:e.result.response||{},ineligibleFalconTOMGroupIds:y}))}).catch(e=>{r(Object(We.h)({listId:L,messageIds:g,error:e}))})},function(e,t,{bootcampClient:s}){const r=e.dispatch,n=e.getState,o=Object(E.selectors)(n()),i=o.doesSelectedAccountExist,c=o.getRoute,l=o.getEmailOfSelectedAccount,_=o.getFeaturesSelectors,u=o.getAppName,p=o.getPrescribedNumberOfColumns,m=(0,o.getListsSelectors)(),S=m.doesListExist,h=m.getListStatus,C=_(),g=C.getSetting,O=C.isEnabled,T=c();let A=t.listId;const I=O(d.Eb.SHOW_RECENT_SUGGESTIONS),f=u()===d.B.MOBILE_APP,D=2===p(),R=T.name===d.rd.SEARCH||f&&D&&T.name===d.rd.MESSAGE_FROM_SEARCH_LIST,b=O(d.Eb.SECOND_SEARCH_AD)&&!O(d.Eb.SAME_SEARCH_AD_ON_SECOND_PENCIL)?2:1;if(t.unsyncedDataType!==d.Ce.CONTACT_DETAILS&&(A=Object(U.z)(T)),(t.unsyncedDataType!==d.Ce.LIST_TO_UPDATE||!R||t.listId!==A||Object(ut.d)(A)||S(A)&&h(A)!==d.od.DOES_NOT_EXIST&&!t.isStale)&&t.unsyncedDataType!==d.Ce.CONTACT_DETAILS)return Promise.resolve();const N=i()?l():null;return N?new Promise((e,t)=>{let o={apiName:"searchStream"};const i=O(d.Eb.PLA_SEARCH_ADS),c=g(i?d.Kd.PLA_SEARCH_SOURCE_TAG:d.Kd.SEARCH_SOURCE_TAG),l=!Object(U.P)(A)&&I,_=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?pt(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(U.h)(A,{plaAdsEnabled:i}),{limit:g(d.Kd.SEARCH_FIRST_PAGE_COUNT),threads:O("conversations"),accountemail:"smtp:"+N,sourceTag:c,ac:O(d.Eb.ADS)?b:0,ui:l?1:0,device:f?"phone":"desktop"});O(d.Eb.FILTER_COMMERCIAL_IMAGES)&&(_.fci=!0);const u=s.createStream("searchStream",_,e=>o=e);u.on("data",e=>{if(200!==e.status&&e.error&&"BootcampApiClient.SearchError"===e.error.name){dt.a.feature("bootcamp_client_stream_call",o).logFailure(e.error)}else{const t={listId:A,response:e};let s=0;if(e.ADS||e.PLAADS){s=Object(M.b)(e,"ADS.WITH_KEYWORD.items",[]).length;const r=Object(M.b)(e,"PLAADS.WITH_KEYWORD.items",[]).length,n={mKey:ee.g.SEARCH_AD_FETCHED,sec:ee.i.MSG_LIST_AD,interactionType:ee.e.nav,actionData:{keyword:Object(U.v)(A),searchAdCount:s,plaAdCount:r}};Object.assign(t,{i13nModel:n})}if(O(d.Eb.ADS)){Fe.a.feature("bootcamp_search_ad_response",{appName:d.B.MAIL_APP,searchAdCount:s,sourceTag:g(d.Kd.SEARCH_SOURCE_TAG)}).logSuccess()}r(Object(lt.c)(t))}}),u.on("end",()=>{const t=(0,Object(E.selectors)(n()).getListsSelectors)(),s=t.isListEmpty,a=t.getListStatus;if((0,t.doesListExist)(A)&&a(A)!==d.od.LOADING){const t=s(A),n=Object(U.F)(A),a={listId:A,navigateFromToAll:t&&!n&&Object(U.x)(A)===d.bc.FROM,streamId:A,addToRecentSearch:l};t&&!n&&Object(U.w)(A)===d.ac.MESSAGES&&(a.i13nModel={isBeaconEvent:!0,eventName:ee.a.SEARCH_ZERO_RESULTS,etrg:ee.c.CHANGE,outcome:ee.b.SEARCH}),r(Object(lt.d)(a)),e()}else{const e=Object.assign({},o,{searchType:Object(U.U)(A)?"contact":"keyword",query:Object(U.v)(A)});r(Object(lt.a)({listId:A})),Object(Et.apiErrorLogger)(dt.a,d.z.BootcampClient,e,new _t.a("BootcampApiClient.SearchChunkError",{errorCode:"SEARCH_CHUNK_ERROR"}))}}),u.on("error",e=>{e=s.handleCommonError(e,"mailSearch"),r(Object(lt.a)({listId:A,error:e})),t(e)})}):Promise.resolve()},function(e,t,{bootcampClient:s}){const r=e.dispatch,n=e.getState,a=Object(E.selectors)(n()),o=a.doesSelectedAccountExist,i=a.getRoute,c=a.getEmailOfSelectedAccount,l=a.getFeaturesSelectors,_=(0,a.getListsSelectors)(),u=_.doesListExist,p=_.getListStatus,m=l(),S=m.getSetting,h=m.isEnabled,C=i(),g=Object(U.z)(C);if(t.unsyncedDataType!==d.Ce.LIST_TO_UPDATE||!Object(ut.d)(g)||t.listId!==g||u(g)&&p(g)!==d.od.DOES_NOT_EXIST&&!t.isStale)return Promise.resolve();const O=o()?c():null;if(!O)return Promise.resolve();const T=St({},Object(U.h)(g),{accountemail:"smtp:"+O,limit:S(d.Kd.SEARCH_FIRST_PAGE_COUNT),listContentType:Object(U.w)(g),mimeType:Object(U.D)(g),threads:h("conversations")}),A=Object(U.w)(g),I=Object(U.x)(g);return s.request("attachmentsViewApi",St({},T)).then(e=>{r(Object(lt.c)({listId:g,response:{[A]:{[I]:e}}}))}).catch(e=>{r(Object(lt.a)({listId:g,error:e}))})},(e,t,s)=>{const n=e.dispatch,a=e.getState,o=Object(E.selectors)(a()),i=o.getSelectedMailboxId,c=o.getSelectedAccountId,l=o.getRoute,_=o.getFolderHighestModSeq,u=o.isAppVisible,p=o.getFolderIdsByFolderTypeForAccount,m=o.getStaleFolderIds,S=o.shouldUpdateFolders,h=o.getListsSelectors,C=o.getAccountSelectors,g=o.isComposeFocused,O=o.getAdsSelectors,T=o.isOldNewMailInboxStyle,A=(0,o.getFeaturesSelectors)(),I=A.getSetting,f=A.isEnabled,D=O().getCheckMailAdRotationIdleTimestamp,R=l(),b=Object(U.z)(R),N=h(),M=N.doesListExist,y=N.getListStatus,L=Object(U.q)(b),P=Object(U.X)(R),v=R.name===d.rd.SEARCH,F=i(),w=C().getPrimaryAccountId;if(t.unsyncedDataType!==d.Ce.LIST_TO_UPDATE||!L&&!P||Object(U.Y)(b)||Object(U.w)(b)===d.ac.SENDERS||!F||v)return Promise.resolve();const G=Object(U.L)(b),H=Object(U.x)(b),j=Object(U.p)(b),k=c(),x=p(d.Mb.ALERTSTORE,w()),B=Je()(x,1)[0],V=I(d.Kd.MESSAGE_FETCH_COUNT),W=f(d.Eb.CONVERSATIONS),K=T(),q=f(d.Eb.IS_REINDEXABLE),Y=K&&Object(U.S)(R)&&!q,z=u(),Q=f(d.Eb.NO_HIDDEN_CHECK_MAIL_AD_ROTATIONS),Z=f(d.Eb.NO_IDLE_CHECK_MAIL_AD_ROTATIONS),X=I(d.Kd.CHECK_MAIL_AD_ROTATION_IDLE_INTERVAL),$=Date.now()-D()>X,J=f(d.Eb.ROTATE_ADS_ON_CHECK_MAIL)&&(!Z||!$)&&(!Q||z)&&!g(),ee={highestModSeq:t.isStale||P?0:_(L),resetUnseenCount:z,alertStoreHighestModSeq:B?_(B):0,accountId:k,folderId:L,mailboxId:F,sortOrder:G,filter:H,count:V,offset:0,conversationsMode:W,excludeFolderTypes:j,shouldSelectAll:Y},te=M(b)&&y(b)!==d.od.DOES_NOT_EXIST,se=te&&f(d.Eb.LOG_CHECK_MAIL_DISPATCH);return s.mailAPIClient.request(te?"checkMail":"folderChange.getList",ee).then((function({folders:e,accountAlerts:s,messageGroupList:a,hasMoreItems:o}){const i=e?m(e):[];if(se&&Fe.a.error("debug_checkmail_dispatch",{isAppVisible:z,listId:b,rotateAds:J,hasUpdates:!!i.length,timestamp:Date.now()}),!t.isStale&&te&&!i.length&&!S(e))return t.forceSync&&n({type:r.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES,listId:b,rotateAds:J,isAppVisible:z,userInitiated:t.userInitiated}),Promise.resolve();n({type:te?r.CHECK_MAIL_RECEIVED_WITH_UPDATES:r.CHANGE_FOLDER_SUCCEEDED,folders:e,staleFolderIds:i,accountAlerts:s,listId:b,streamId:b,messageGroupList:a,hasMoreItems:o,conversationsMode:W,isAppVisible:z,rotateAds:te&&J,userInitiated:t.userInitiated})})).catch((function(e){n({type:te?r.CHECK_MAIL_FAILED:r.CHANGE_FOLDER_FAILED,listId:b,error:e})}))},function(e,t,s){const r=e.dispatch,n=e.getState,a=Object(E.selectors)(n()),o=a.getRoute,i=a.getSelectedMailboxId,c=a.getSelectedAccountId;if(t.unsyncedDataType!==d.Ce.SYNC_NOW)return Promise.resolve();const l=o(),_=Object(U.z)(l),u=t.accountId||c(),p=Object(U.q)(_),m=i();return s.mailAPIClient.request("mailbox.syncNow",{accountId:u,folderId:p,mailboxId:m}).then(e=>{const t=e.syncData,s=void 0===t?{}:t,n=e.error;if(n)r(Object(pe.p)({error:n}));else{Fe.a.feature("sync_now_response",{syncedMessages:s.syncedMessages,lastSyncTime:s.lastSyncTime}).logSuccess(),r(Object(pe.q)({syncData:s}))}}).catch(e=>{r(Object(pe.p)({error:e}))})},(e,t,s)=>{const r=e.dispatch,n=e.getState,a=(0,Object(E.selectors)(n()).getAdsSelectors)().getGeminiAdDataFromCreativeId;if(t.dataType!==d.Ce.GEMINI_AD_ASSET)return Promise.resolve();const o=t.creativeId,i=t.url;return s.geminiAPIClient.getSponsoredAsset({url:i}).then(e=>{let t=e.text||"";const s=(a(o)||{}).nativeAd,n=(void 0===s?{}:s).embeddedLandingUrls,i=void 0===n?{}:n;Object.keys(i).forEach(e=>{const s=i[e],r=s.url,n=s.landingPage,a=void 0===n?"":n;if("fsubmit"!==s.label){const s=(void 0===r?"":r).replace("$(AD_POSN)",encodeURIComponent("pp=n,pi=1,st=p"));t=t.replace(`${a}#$embeddedLandingUrl_${e}`,s)}}),r(Object(Oe.i)({creativeId:o,asset:t}))}).catch(e=>r(Object(Oe.h)({creativeId:o,error:e,url:i})))},(e,t,s)=>{const r=e.dispatch;return t.dataType!==d.Ce.RELATED_SEARCHES_TO_FETCH?Promise.resolve():s.relatedSearchesAPIClient.request().then(e=>r(Object(at.c)({queries:Object(M.b)(e,"body.queriesPerDomain",{})}))).catch(e=>r(Object(at.b)(e)))},function({dispatch:e,getState:t},{unsyncedDataType:s="",cardConversationId:r=""},{mailAPIClient:n}){if(s!==d.Ce.PARENT_MESSAGE_TO_FETCH)return Promise.resolve();const a=Object(E.selectors)(t()),o=a.getCurrentListId,i=(0,a.getSelectedMailboxId)();return n.request("couponCards.getParentMessage",{mailboxId:i,cardConversationId:r}).then(([t])=>{e(Object(v.n)({listId:o(),hasMoreItems:!1,messageGroup:t}))}).catch(t=>e(Object(v.l)(t)))},function({dispatch:e,getState:t},s,r){const n=s.wssid,o=s.accountId,i=s.email,c=s.provider;if(s.unsyncedDataType!==d.Ce.ACCOUNT_TO_REAUTH)return Promise.resolve();const _=Object(E.selectors)(t()).getAlertIdByAccountId,u=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},n?{wssid:n}:{});return r.mailAPIClient.request("account.updateAlerts",{alertId:_(o)},u).then(({accountAlerts:t})=>{e(t&&t.length>0?Object(l.m)({accountAlerts:t,accountId:o}):Object(l.l)({accountId:o}))}).catch((t={})=>{e(Object(l.l)({error:t.statusCode,provider:c,email:i,accountId:o}))})},wt,function(e,{unsyncedDataType:t="",messageIds:s=[]},{smartReplyClient:n}){const a=e.dispatch,o=e.getState,i=Object(E.selectors)(o()),c=i.getReplySuggestionSelectors,l=i.isUserOwnEmailMessage,_=i.getMessageSnippet,u=i.isTrashMessage,p=i.isSpamMessage,m=i.isDraftMessage,S=i.isSentMessage,h=i.getGroupIdContainingMessageId,C=i.getMessageIdsFromMessageGroupId;if(!(0,(0,i.getFeaturesSelectors)().isEnabled)(d.Eb.SMART_REPLY))return Promise.resolve();if(t!==d.Ce.MESSAGE_ITEM_TO_FETCH)return Promise.resolve();const g=s.filter(e=>!((e=>void 0!==c().getSuggestions(e))(e)||u(e)||p(e)||m(e)||S(e))),O=g.filter(e=>!l(e)&&(e=>{const t=h(e),s=(C(t)||[]).filter(e=>!m(e));return s[s.length-1]===e})(e)).map(e=>({id:e,snippet:_(e)}));return 0===O.length?Promise.resolve():n.getReplySuggestions(O).then(e=>{const t={};e&&e.body&&e.body.result&&Array.isArray(e.body.result.data)&&e.body.result.data.forEach(({message:e,replySuggestions:s})=>{t[e.id]=s});const s=g.reduce((e,s)=>jt({},e,{[s]:t[s]||[]}),{});a({type:r.REPLY_SUGGESTIONS_RECEIVED,replySuggestionResponse:s})}).catch(()=>{const e=g.reduce((e,t)=>jt({},e,{[t]:[]}),{});a({type:r.REPLY_SUGGESTIONS_RECEIVED,replySuggestionResponse:e})})},(e,t,s)=>{const r=t.listId,n=t.sortOrder,a=e.dispatch;return t.unsyncedDataType!==d.Ce.FETCH_ALL_CONTACTS?Promise.resolve():s.autoSuggestClient.printContacts({sort_by:d.db[n]}).then(e=>a(Object($.s)({contacts:e,listId:r}))).catch(e=>a(Object($.r)({error:e,listId:r})))},(e,t,s)=>{if(t.unsyncedDataType!==d.Ce.CONTACT_CARD)return Promise.resolve();const r=e.dispatch,n=e.getState,a=Object(E.selectors)(n()).isFeatureEnabled,o=t.emails;return s.autoSuggestClient.contactDetails({emails:o,isPrefetch:t.isPrefetch}).then(e=>{var t;let s={};if(a(d.Eb.CONTACT_CARD_TRACKING)&&!(null==e||null===(t=e[0])||void 0===t?void 0:t.website)){const e=(null==o?void 0:o[0])||"",t=e.split("@")[1];s={mKey:ee.g.CONTACT_CARD_LOAD_FAILED,sec:ee.i.RIGHT_RAIL,actionData:{domain:t,email:e}}}r(Object(X.f)({contacts:e,i13nModel:s,emails:o}))}).catch(()=>{r(Object(X.d)({emails:o}))})},async(e,t,s)=>{if(t.unsyncedDataType!==d.Ce.ENHANCE_CONTACTS_PREFERENCE_FETCH)return;const r=e.dispatch;try{const e=await s.autoSuggestClient.getEnhanceContactsPreference();r(Object(J.o)({enabled:e}))}catch(e){r(Object(J.n)({error:e}))}},async(e,t,s)=>{if(t.unsyncedDataType!==d.Ce.ENHANCE_CONTACTS_PREFERENCE_CHANGE)return;const r=e.dispatch,n=t.enabled;try{await s.autoSuggestClient.setEnhanceContactsPreference(n),r(Object(J.f)({enabled:n}))}catch(e){r(Object(J.d)({error:e}))}},(e,t,s)=>{const r=t.unsyncedDataType,n=t.listId,a=t.count,o=e.dispatch,i=e.getState;if(r!==d.Ce.CONTACTS_LIST)return Promise.resolve();if(Object(U.x)(n)!==d.bc.TOP_CONTACTS)return Promise.resolve();const c=(0,Object(E.selectors)(i()).getEmailOfSelectedAccount)();return s.autoSuggestClient.topContacts({email:c,maxCount:a}).then(e=>o(Object(X.r)({listId:n,contacts:e,unsyncedDataType:r}))).catch(e=>o(Object(X.q)({error:e,listId:n,unsyncedDataType:r})))},(e,t,s)=>{const r=t.unsyncedDataType,n=t.listId,a=t.count,o=t.characters,i=t.fetchGroupContactsNext,c=t.sortOrder,l=void 0===c?d.cb.FIRST_NAME:c,E=e.dispatch;if([d.Ce.CONTACTS_LIST,d.Ce.CONTACTS_CATEGORY_LIST].indexOf(r)<0)return Promise.resolve();return Object(U.x)(n)!==d.bc.USER_CREATED_CONTACTS?Promise.resolve():s.autoSuggestClient.alphabeticalContacts({count:a,characters:o,group_by:d.db[l]}).then(({contacts:e,groups:t,groupIds:s})=>E(Object(X.r)({listId:n,contacts:e,groups:t,groupIds:s,characters:o,count:a,unsyncedDataType:r,fetchGroupContactsNext:i}))).catch(e=>E(Object(X.q)({error:e,listId:n,characters:o,count:a,unsyncedDataType:r})))},(e,t,s)=>{const r=t.unsyncedDataType,n=t.listId,a=t.sortOrder,o=e.dispatch;if(r!==d.Ce.CONTACTS_LIST)return Promise.resolve();const i=Object(U.x)(n),c=Object(U.v)(n);return i===d.bc.GROUPS&&c&&c!==d.jb?s.autoSuggestClient.contactsInGroup({groupId:c,sort_by:d.db[a]}).then(e=>{o(Object(X.p)(se({listId:n},e,{unsyncedDataType:r})))}).catch(e=>{o(Object(X.o)({error:e,listId:n,unsyncedDataType:r}))}):Promise.resolve()},(e,t,s)=>{const r=t.unsyncedDataType,n=t.listId,a=t.fetchGroupContactsNext,o=e.dispatch;if(r!==d.Ce.CONTACTS_LIST)return Promise.resolve();const i=Object(U.x)(n),c=Object(U.v)(n);return i!==d.bc.GROUPS||c?Promise.resolve():s.autoSuggestClient.contactGroupsList().then(({groups:e,groupIds:t})=>{o(Object(X.r)({listId:n,groups:e,groupIds:t,unsyncedDataType:r,fetchGroupContactsNext:a}))}).catch(e=>{o(Object(X.q)({error:e,listId:n,unsyncedDataType:r}))})},(e,t,s)=>{const r=t.listId,n=t.groupId,a=t.newName,o=t.addedEndpoints,i=t.removedEndpoints,c=t.oldGroup,l=e.dispatch;return t.unsyncedDataType!==d.Ce.CONTACTS_GROUP_EDIT?Promise.resolve():s.autoSuggestClient.editContactGroup({groupId:n,newName:a,addedEndpoints:o,removedEndpoints:i}).then(()=>{l(Object(X.l)({listId:r}))}).catch(e=>{l(Object(X.k)({error:e,listId:r,id:n,oldGroup:c}))})},(e,t,s)=>{const r=t.tempListId,n=t.tempGroupId,a=t.name,o=t.endpoints,i=e.dispatch;return t.unsyncedDataType!==d.Ce.CONTACTS_GROUP_CREATE?Promise.resolve():s.autoSuggestClient.createContactGroup({name:a,endpoints:o}).then(e=>{i(Object(X.h)({tempListId:r,id:e,tempGroupId:n,newListId:Object(U.gb)(r,{keyword:e})}))}).catch(e=>{i(Object(X.g)({error:e,tempListId:r,tempGroupId:n}))})},tt,(e,t,s)=>{const r=t.unsyncedDataType,n=t.listId,a=e.dispatch;if(r!==d.Ce.CONTACTS_LIST)return Promise.resolve();const o=Object(U.l)(n);return o?s.autoSuggestClient.simpleContactsSearch({query:o}).then(e=>a(Object(X.r)({listId:n,contacts:e,unsyncedDataType:r}))).catch(e=>a(Object(X.q)({error:e,listId:n,unsyncedDataType:r}))):Promise.resolve()},(e,t,s)=>{const r=t.provider,n=t.spid,a=t.appRootPath,o=t.scope,i=e.dispatch;return t.unsyncedDataType!==d.Ce.SOCIAL_ACCOUNT_AUTH_URL?Promise.resolve():(Object(u.c)()||Object(Ee.a)("Credstore social account linking needs be called from the browser"),s.credstoreClient.link({provider:r,spid:n,redirectUri:`https://${window.location.host}${a}/oAuth`,isCorpUser:window.AppBootstrapData.partner===d.M,scope:o}).then(({authorizationURL:e})=>i(Object(Mt.d)({url:e,provider:r}))).catch(e=>i(Object(Mt.c)({error:e,provider:r}))))},(e,t,s)=>{const r=t.provider,n=t.enable,a=e.dispatch;return t.unsyncedDataType===d.Ce.SOCIAL_ACCOUNT_IMPORT&&d.Y[r]?s.autoSuggestClient.triggerProfileImport({provider:r}).then(()=>a(Object(Mt.h)({provider:r,enable:n}))).catch(e=>a(Object(Mt.g)({provider:r,error:e,enable:n}))):Promise.resolve()},(e,t,s)=>{const r=e.dispatch;return t.unsyncedDataType!==d.Ce.SOCIAL_ACCOUNT_STATUS?Promise.resolve():s.autoSuggestClient.formatted().then(e=>r(Object(Mt.j)({response:e}))).catch(e=>r(Object(Mt.i)({error:e})))},(e,t,s)=>{const r=t.itemsToUpdate,n=t.listsToUpdate,a=e.dispatch;return t.unsyncedDataType===d.Ce.CONTACT_DELETE&&r.filter(({isAffected:e})=>e).length?s.autoSuggestClient.deleteContacts({editTokenList:r.map(({editToken:e})=>e)}).then(()=>{a(Object(X.b)({itemsToUpdate:r,listsToUpdate:n}))}).catch(e=>a(Object(X.c)({error:e,itemsToUpdate:r,listsToUpdate:n}))):Promise.resolve()},(e,t,s)=>{const r=t.groupId,n=e.dispatch;return t.unsyncedDataType!==d.Ce.CONTACT_GROUP_DELETE?Promise.resolve():s.autoSuggestClient.contactsGroupDelete({groupId:r}).then(()=>n(Object(X.i)({groupId:r}))).catch(e=>{n(Object(X.j)({error:e,groupId:r}))})},(e,t,s)=>{const r=t.newContact,n=t.image,a=t.timestamp,o=e.dispatch;return t.unsyncedDataType!==d.Ce.CONTACT_CREATE?Promise.resolve():s.autoSuggestClient.createContact({newContact:r,image:n}).then(e=>o(Object($.k)({contact:e,timestamp:a}))).catch(e=>o(Object($.j)({error:e,contact:r,timestamp:a})))},(e,t,s)=>{const r=t.oldContact,n=t.newContact,a=t.skipContactDiffCheck,o=e.dispatch;return t.unsyncedDataType!==d.Ce.CONTACT_SAVE?Promise.resolve():s.autoSuggestClient.contactDetailsEdit({oldContact:r,newContact:n,skipContactDiffCheck:a}).then(e=>o(Object($.g)({contact:e}))).catch(e=>o(Object($.e)({error:e,contact:r})))},(e,t,s)=>{const r=t.editToken,n=t.image,a=t.id,o=e.dispatch;return t.unsyncedDataType===d.Ce.CONTACT_PHOTO_UPLOAD&&r?s.autoSuggestClient.contactUploadPhoto({editToken:r,image:n}).then(e=>o(Object($.i)({contact:e}))).catch(e=>o(Object($.h)({error:e,contact:{image:n,id:a}}))):Promise.resolve()},(e,t,s)=>{const r=e.dispatch;return t.unsyncedDataType!==d.Ce.IMPORT_CONTACTS_PROVIDERS_STATUS?Promise.resolve():s.autoSuggestClient.contactProvidersStatus().then(e=>r(Object(Mt.f)({response:e}))).catch(e=>r(Object(Mt.e)({error:e})))},(e,t,s)=>{const r=t.provider,n=t.spid,a=t.enable,o=e.dispatch;return t.unsyncedDataType!==d.Ce.SOCIAL_ACCOUNT_IMPORT||d.Z.indexOf(r)<0?Promise.resolve():s.autoSuggestClient.toggleContactsProviderImporter({provider:r,spid:n,enable:a}).then(()=>o(Object(Mt.h)({provider:r,enable:a}))).catch(e=>o(Object(Mt.g)({provider:r,error:e,enable:a})))},(e,t,s)=>{const r=t.unsyncedDataType,n=t.listId,a=t.count,o=e.dispatch;if(r!==d.Ce.CONTACTS_LIST)return Promise.resolve();const i=Object(U.x)(n),c=Object(U.v)(n);if(i!==d.bc.GROUPS||!c||c!==d.jb)return Promise.resolve();const l=Object(U.B)(n);return s.autoSuggestClient.userCuratedEndpoints({endpointTypes:["smtp"],query:l,count:a}).then(e=>{o(Object(X.p)(se({listId:n},e,{unsyncedDataType:r})))}).catch(e=>{o(Object(X.o)({error:e,listId:n,unsyncedDataType:r}))})},function({dispatch:e},t,s){const r=t.baseName,n=t.domain;return t.unsyncedDataType!==d.Ce.BASENAME_TO_CREATE?Promise.resolve():s.mailAPIClient.request("settings.setBaseNameJWS",{baseName:r,domain:n}).then(({suggestions:s})=>{e(s&&s.length?Object(J.b)(bt({},t,{suggestions:s})):Object(J.m)(t))}).catch(s=>e(Object(J.l)(bt({},t,{err:s}))))},(e,{unsyncedDataType:t,taskId:s,pollCount:r=0,progress:n,abort:a,actionPayload:o},i)=>{if(t!==d.Ce.ASYNC_TASK_STATUS)return Promise.resolve();const c=e.dispatch,l=e.getState,_=(0,Object(E.selectors)(l()).getFeaturesSelectors)().getSetting(d.Kd.ASYNC_TASK_POLL_COUNT);if(!s)return Promise.resolve();const u=o.successAction,p=o.failureAction,m=o.allSelected,S=o.streamId,h=o.itemsToUpdate,C=o.triageActionType,g=o.folderId,T=o.count,A=o.conversations,I=S&&h?D({streamId:S,itemsToUpdate:h}):void 0;return a?i.mailAPIClient.request("task.abort",{taskId:s}).then(()=>c(b({},u,{undoAction:u.undoAction||I,progress:n}))).catch(()=>c(Object(O.a)({triageActionType:C,folderId:g,count:T,conversations:A,taskId:s,progress:n}))):r>=_?(c(Object(O.b)({taskId:s})),Promise.resolve()):i.mailAPIClient.request("task.status",{taskId:s}).then(({task:e})=>{switch(e.status){case d.K.PENDING:return c(Object(O.d)(b({},e,{pollCount:r+1})));case d.K.COMPLETED:return c(b({},u,{undoAction:u.undoAction||I,progress:e.progress}));case d.K.FAILED:return c(e.progress>0?b({},u,{undoAction:u.undoAction||I,progress:e.progress}):p);default:return c(p)}}).catch(()=>c(n>0&&m?b({},u,{undoAction:u.undoAction||I,progress:n}):p))},(e,t,s)=>{if(t.unsyncedDataType!==d.Ce.FOLDER)return Promise.resolve();const n=t.updateType;return n===r.RENAME_FOLDER_REQUESTED?((e,t,s)=>{const r=e.dispatch,n=e.getState,a=t.folderId,o=t.folderName,i=t.filters,c=t.originalFolderName,l=t.newFolderName,d=t.subfolders,_=Object(E.selectors)(n()).getSelectedMailboxId();return s.mailAPIClient.request("folders.rename",{mailboxId:_,folderId:a,folderName:o,filters:i,subfolders:d}).then(({folder:e,subfolders:t})=>{r(Object(ge.k)({folder:e,subfolders:t,folderId:a,originalFolderName:c,newFolderName:l}))}).catch(e=>{r(Object(ge.j)({folderId:a,newFolderName:l,originalFolderName:c,error:e}))})})(e,t,s):n===r.MOVE_FOLDER_REQUESTED?((e,t,s)=>{const r=e.dispatch,n=e.getState,a=t.folderId,o=t.folderName,i=t.filters,c=t.originalFolderName,l=t.subfolders,d=Object(E.selectors)(n()).getSelectedMailboxId();return s.mailAPIClient.request("folders.rename",{mailboxId:d,folderId:a,folderName:o,filters:i,subfolders:l}).then(({folder:e,subfolders:t})=>{r(Object(ge.h)({folder:e,subfolders:t,folderId:a,originalFolderName:c}))}).catch(e=>{r(Object(ge.g)({folderId:a,originalFolderName:c,error:e}))})})(e,t,s):n===r.DELETE_FOLDER_REQUESTED?((e,t,s)=>{const r=e.dispatch,n=t.folderId,a=t.folderName,o=t.i13nModel,i=void 0===o?{}:o;return s.mailAPIClient.request("folders.delete",{folderId:n}).then(()=>{r(Object(ge.e)({folderId:n,folderName:a,i13nModel:i}))}).catch(e=>{r(Object(ge.d)({folderId:n,folderName:a,error:e}))})})(e,t,s):Promise.resolve()},function({dispatch:e},{location:t,unsyncedDataType:s},r){if(s!==d.Ce.LOCATION_TO_UPDATE)return Promise.resolve();const n=ft.a.determine(),a=n&&n.name();return Object(u.c)()&&new Dt.a({window:window}).determineClientTimeZone(),r.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:d.xc.TIMEZONE,value:`${t.timezone.name}|${t.city||""}|${t.state||""}|${t.country||""}`},{id:d.xc.LAST_OBSERVED_TIMEZONE,value:`${a||""}|${t.timezone.name||""}`}]}).then(()=>{e(Object(J.O)({})),window.setTimeout(()=>window.location.reload(),1500)},t=>e(Object(J.N)({err:t})))},function({dispatch:e,getState:t},{value:s,unsyncedDataType:r},n){if(r!==d.Ce.CONVERSATION_MODE_TO_UPDATE)return Promise.resolve();const a=Object(E.selectors)(t()),o=a.isMobileRoute,i=(0,a.getFeaturesSelectors)().getSetting(d.Kd.TOGGLE_CONV_RELOAD_DELAY),c=o()?d.xc.MOBILE_CONVERSATIONS:d.xc.CONVERSATIONS;return n.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:c,value:s}]}).then(()=>{e(Object(J.L)({value:s})),window.setTimeout(()=>window.location.reload(),i)}).catch(t=>e(Object(J.K)({err:t})))},et,(e,t,s)=>{const r=e.dispatch,n=e.getState,a=t.messageId,o=t.messageIds,i=t.unsyncedDataType,c=Object(E.selectors)(n()),l=c.getAttachmentsByMessageId,_=(0,c.getCalendarSelectors)().getInviteStatus;if(i!==d.Ce.MESSAGE_ITEM_TO_FETCH&&i!==d.Ce.RSVP_FETCH)return Promise.resolve();const u=o||[a];let p={};return Promise.all(u.map(e=>{const t=((e,t,s)=>{const r=d.F.SubTypes,n=t(e);if("READY"===s(e))return null;const a=n.find(e=>{const t=Object(M.b)(e,"subtype","");return t===r.ICS||t===r.CALENDAR});return a?{downloadUrl:a.downloadUrl}:null})(e,l,_);if(t)return p=L({},p,{[e]:t}),s.calendarClient.getInviteInfo(t).catch(e=>e)})).then(e=>{const t=[];let s={};const n=[];let a={};e.forEach((e,r)=>{e?e.startTime&&e.endTime&&e.uid?(n.push(u[r]),a=L({},a,{[u[r]]:e})):(t.push(u[r]),s=L({},s,{[u[r]]:new Error("Mandatory field missing")})):p[u[r]]&&(t.push(u[r]),s=L({},s,{[u[r]]:new Error("Fetching Error")}))}),t.length>0&&r(Object(N.a)({messageIds:t,errors:s})),n.length>0&&r(Object(N.b)({messageIds:n,inviteInfoGroup:a}))}).catch(e=>{const t=[];let s={};if(u.forEach(r=>{p[r]&&(t.push(r),s=L({},s,{[r]:e}))}),t.length>0)return r(Object(N.a)({messageIds:t,errors:s}))})},(e,t,s)=>{if(t.dataType!==d.Ce.RAW_MESSAGE)return Promise.resolve();const r=t.messageId,n=e.getState,a=Object(E.selectors)(n()),o=a.getEnvironmentSelectors,i=(0,a.getSelectedMailboxId)(),c=s.mailAPIClient,l=c.wssid,_=c.appId,u=s.mailAPIClient.ymreqidGenerator.generate(),p=o().getEndpoint(d.yb.JWS_HOST);return window.open(`https://${p}/ws/v3/mailboxes/@.id==${i}/messages/@.id==${r}/content/rawplaintext?appId=${_}&ymreqid=${u}&wssid=${l}`,"_blank"),Promise.resolve()},(e,t,s)=>{if(t.dataType!==d.Ce.RAW_MESSAGE_TO_FETCH)return Promise.resolve();const r=t.messageId,n=e.getState,a=e.dispatch,o=(0,Object(E.selectors)(n()).getSelectedMailboxId)();return s.mailAPIClient.request("messages.getRawMessage",{mailboxId:o,messageId:r}).then(e=>a(Object(We.e)({rawMessage:e,messageId:r}))).catch(()=>a(Object(We.d)({messageId:r})))},function(e,t,s){if(t.unsyncedDataType!==d.Ce.VACATION_RESPONSE_SETTINGS)return Promise.resolve();const r=e.dispatch,n=t.actionType,a=t.requestTimestamp;return s.mailAPIClient.request("settings.saveVacationPreferences",{payload:t.value}).then(()=>{r(Object(c.i)({actionType:n,requestTimestamp:a}))}).catch(()=>{r(Object(c.h)({requestTimestamp:a}))})},function({dispatch:e},{unsyncedDataType:t,cardMessageId:s=""},{bootcampClient:n}){const a=Object(U.e)({referrer:d.cc.COUPON_RECOMMENDATIONS,keyword:s});if(t!==d.Ce.COUPON_RECOMMENDATIONS_TO_FETCH||""===s)return Promise.resolve();return n.request("getCouponRecommendations",{mid:s}).then(t=>{e({type:r.COUPONS_LIST_SUCCEEDED,listId:a,cardGroupList:t.messageGroupsResponses[0].cardGroupList,hasMoreItems:t.messageGroupsResponses[0].hasMoreItems,parentMessagesMap:t.parentMessagesMap})}).catch(t=>{e({type:r.COUPONS_LIST_FAILED,listId:a,error:t})})},(e,t,s)=>{const n=e.dispatch,a=e.getState,o=Object(E.selectors)(a()),i=o.getSelectedMailboxId,c=o.getSelectedAccountId,l=o.isFeatureEnabled,_=o.getSetting,u=(0,o.getRoute)(),p=Object(U.z)(u),m=u.name===d.rd.SEARCH;if(l(d.Eb.DEALS)||t.unsyncedDataType!==d.Ce.LIST_TO_UPDATE||Object(U.w)(p)!==d.ac.COUPON_CARDS||m)return Promise.resolve();const S=i(),h=c(),C=d.vd,g=_(d.Kd.COUPON_CARDS_FETCH_COUNT),O=Object(re.p)(new Date),T=Math.round((new Date).getTime()/1e3)+30*re.a,A=Object(U.x)(p),I=Object(U.gb)(p,{listFilter:A===d.bc.ALL_COUPON_CARDS?d.bc.SAVED_COUPON_CARDS:d.bc.ALL_COUPON_CARDS}),f=[Object(U.x)(p),Object(U.x)(I)],D=Object(U.p)(p);return s.mailAPIClient.request("consolidatedCoupons.getList",{mailboxId:S,filter:f,count:g,offset:[0,0],startCardDate:O,endCardDate:T,sortOrder:C,accountId:h,excludeFolderTypes:D}).then(e=>{e.messageGroupsResponses.forEach(e=>{const t=Object(U.gb)(p,{listFilter:e.filter});n({type:r.COUPONS_LIST_SUCCEEDED,listId:t,cardGroupList:e.cardGroupList,hasMoreItems:e.hasMoreItems,offset:e.offset})})}).catch(e=>{n({type:r.COUPONS_LIST_FAILED,listId:p,error:e})})},function(e,{unsyncedDataType:t,decoId:s=[],listId:n,isSearch:a,keyword:o,emailAddress:i},{bootcampClient:c}){const l=e.dispatch,_=e.getState,u=Object(E.selectors)(_()),p=u.getSelectedMailboxId,m=u.getAccountSelectors,S=u.getSetting,h=u.doesListExist,C=(0,u.getListsSelectors)(),g=C.getListNextItemsUrl,O=C.getListOffset,T=m().getAccountIds;if(t!==d.Ce.COUPONS_TO_FETCH)return Promise.resolve();const A=h(n),I={nextItemsUrl:A?g(n):"",mailboxId:p(),accountIds:[T()],order:d.wd,limit:S(d.Kd.COUPON_CARDS_FETCH_COUNT),start:-1===s.indexOf("TAG")?Date.now():0,end:1e3*(Math.round((new Date).getTime()/1e3)+365*re.a),offset:A?O(n):0,decoId:s,query:o,from:i},f=-1===s.indexOf("TAG")?"getAllCouponsForSmartViewSearch":"getSavedCouponsForSmartViewSearch",D=-1===s.indexOf("TAG")?"getAllCouponsForSmartView":"getSavedCouponsForSmartView";return c.request(a?f:D,I).then(({cardGroupList:e=[],nextItemsUrl:t="",offset:s=0,totalHits:o=0,hasMoreItems:i=!1})=>l({type:r.COUPONS_LIST_SUCCEEDED,listId:n,cardGroupList:e,hasMoreItems:i,offset:s,totalHits:o,nextItemsUrl:t,addToRecentSearch:a})).catch(e=>l({type:r.COUPONS_LIST_FAILED,listId:n,error:e}))},function({dispatch:e,getState:t},{unsyncedDataType:s="",batchEnabledFeatures:n=[],mailboxId:a=""},{astraClient:o}){if(s!==d.Ce.ASTRA_BATCH_REQUEST)return Promise.resolve();const i=Object(E.selectors)(t()),c=i.getSelectedAccountId,l=(0,i.getSetting)(d.Kd.QUOTIENT_DEBUG_FLAG),_=c();return o.request("getAstraBatchResponse",{accountId:_,batchEnabledFeatures:n,mailboxId:a,quotientDebugFlag:l}).then(t=>e((e=>Qt({type:r.ASTRA_BATCH_API_SUCCEEDED},e))({response:t}))).catch(t=>e((e=>Qt({type:r.ASTRA_BATCH_API_FAILED},e))({error:t})))},function({dispatch:e},{unsyncedDataType:t="",retailerId:s=""},{astraClient:r}){return t!==d.Ce.REQUEST_AFFILIATE_OFFERS?Promise.resolve():r.request("getAffiliateOffers",{retailerId:s}).then(({affiliateOffers:t=[],statusCode:r})=>e(200===r?Object(Zt.d)({affiliateOffers:t,retailerId:s}):Object(Zt.c)("Got error with status code: "+r))).catch(t=>e(Object(Zt.c)(t)))},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:r="",loyaltyId:n="",parentName:a=""},{astraClient:o})=>{if(s!==d.Ce.RETAILER_LINK)return Promise.resolve();const i=(0,(0,Object(E.selectors)(t()).getRetailersSelectors)().getDisplayNameFromRetailerId)(r),c={mKey:ee.g.QTNT_ONBOARD_COMPLETE,sec:ee.i.QUOTIENT,actionData:{reason:{featurefamily:d.Cb.IC,featurename:d.Eb.GROCERIES,upselltype:a,retailername:i,userinput:n,slot:"groceriesTopOfMsg"===a?ee.j.TOM:"na"}}};return o.request("linkRetailer",{retailerId:r,loyaltyId:n}).then(({errorDescription:t="",errorHint:s="",statusCode:a})=>e(200===a?Object(ot.s)({retailers:[{id:r,loyaltyId:n,linked:!0}],i13nModel:c}):Object(ot.q)(r,t,s,ct({},c,{mKey:ee.g.QTNT_ONBOARD_FAILURE})))).catch(t=>e(Object(ot.q)(r,t,void 0,ct({},c,{mKey:ee.g.QTNT_ONBOARD_FAILURE}))))},({dispatch:e},{unsyncedDataType:t="",retailerId:s=""},{astraClient:r})=>t!==d.Ce.RETAILER_UNLINK?Promise.resolve():r.request("unlinkRetailer",{retailerId:s}).then(({errorDescription:t="",statusCode:r})=>e(200===r?Object(ot.C)({retailers:[{id:s,linked:!1}]}):Object(ot.A)(s,t))).catch(t=>e(Object(ot.A)(s,t))),({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:r="",listId:n="",search:a=""},{astraClient:o})=>{if(s!==d.Ce.OFFERS)return Promise.resolve();const i=(0,Object(E.selectors)(t()).isFeatureEnabled)(d.Eb.GROCERY_WITH_PRODUCTS),c=a.includes(me.a)&&Object(U.Q)(a);let l="getOffers",_={retailerId:r,limit:d.Rc};return i&&c?(l="getCategoryOffers",_={retailerId:r,categoryId:Object(U.j)(a)}):i&&a&&(l="getSearchItems",_={retailerId:r,search:a}),o.request(l,_).then(({statusCode:t,offers:s=[],errorDescription:r=""})=>e(200===t?Object(ot.y)({listId:n,offers:s,search:a}):Object(ot.x)(n,r))).catch(t=>e(Object(ot.x)(n,t)))},({dispatch:e},{unsyncedDataType:t="",listId:s="",retailerId:r=""},{astraClient:n})=>t!==d.Ce.ACTIVATED_OFFERS?Promise.resolve():n.request("getActivatedOffers",{limit:d.Rc,retailerId:r}).then(({offers:t=[],numActivatedOffers:r=0,statusCode:n,subTotal:a="",numberOfItems:o=0,errorDescription:i=""})=>e(200===n?Object(ot.w)({listId:s,subTotal:a,numberOfItems:o,offers:t,numActivatedOffers:r}):Object(ot.v)(s,i))).catch(t=>e(Object(ot.v)(s,t))),({dispatch:e,getState:t},{unsyncedDataType:s="",contextOfUse:r="",retailerId:n="",offer:a={},position:o=-1,parentMessageId:i="",offerIndex:c=-1,listId:l="",score:_="",search:u="",fromEmail:p="",cancelAPICall:m},{astraClient:S})=>{if(s!==d.Ce.ACTIVATE_OFFER)return Promise.resolve();if(m)return Promise.resolve().then(()=>{e(Object(ot.a)("cancelledAPICall"))});const h={groceryStoreView:"grocerysinglestore",groceryStoreSearch:"search",singleStoreSearchAssist:"searchAssist",groceriesTopOfMsg:"groceriesTopOfMsg"}[r],C=Object(E.selectors)(t()),g=C.getGroceriesTopOfMsgSelectors,O=C.isFeatureEnabled,T=(0,C.getRetailersSelectors)(),A=T.getDisplayNameFromRetailerId,I=T.isRetailerLinkable,f=g().groceryOffer,D=A(n),R=a.offerId,b=a.cardId,N=O(d.Eb.GROCERY_WITH_PRODUCTS),M=N?"requestAddToShoppingList":"activateOffer",y={op:"add",path:"/itemListElement/-",value:ct({"@type":"ShoppingListItem"},I(n)?{coupons:[{"@type":"Deal",dealType:"Coupon","@id":R}]}:{"@id":R})};return S.request(M,{retailerId:n,cardId:b,payload:N?y:{id:R,action:"save",source:"quotient",retailerId:n}}).then(({error:t={},errorDescription:s="",statusCode:E,result:m={}})=>{let S;if("groceriesTopOfMsg"!==r&&"groceriesTopOfMsgBody"!==r||!f(n,R))if(!I(n)&&N){var C;const e=m.itemListElement,t=null==e||null===(C=e.find(e=>e["@id"]===a.offerId))||void 0===C?void 0:C.status,s={categoryid:a.categories,featurefamily:d.Cb.IC,interactiontype:"addtocart",offerid:a.offerId,oos:"Available"===t?0:1,position:c,retailername:D,score:_};r===d.Pb.GROCERY_CATEGORY_SEARCH?(s.xpname=d.Qb.GROCERY_CATEGORY_RESULTS,s.categoryid=Object(U.j)(u)):r===d.Pb.GROCERY_STORE_SEARCH?(s.xpname=d.Qb.GROCERY_SRP,s.query=u):s.xpname=r===d.Pb.GROCERY_ITEM_DETAIL?d.Qb.GROCERY_ITEM_DETAIL:d.Qb.GROCERY_RECO,S={mKey:ee.g.CARD_INTERACT,sec:ee.i.QUOTIENT,interactionType:ee.e.click,actionData:s}}else S={mKey:ee.g.QTNT_COUPON_CLIP,sec:ee.i.QUOTIENT,actionData:{reason:{featurefamily:d.Cb.IC,featurename:d.Eb.GROCERIES,retailername:D,viewtype:h,actiontype:"activateoffer",offerid:a.offerId,offerdesc:a.description,offerbrandname:a.brandName,query:u}}};else{const e=f(n,R).score;S={mKey:ee.g.CARD_INTERACT,sec:ee.i.MSG_BODY,actionData:{xpname:N?d.Ob.WALMART_RECOMMENDATIONS:d.Ob.GROCERY_DEALS_RECOMMENDATION,featurefamily:d.Cb.IC,slot:ee.j.TOM,retailername:D,sndr:p,msgId:i,viewtype:h,interacteditem:"groceriesTopOfMsgBody"===r?"body":"button",interactiontype:N?"addtocart":"clip",cardId:a.offerId,offerdesc:a.description,position:o,score:e,offerbrandname:a.brandName}}}return e(200===E||"EQ-1001"===t.errorCode?Object(ot.c)([ct({},a,{activated:!0})],m,l,n,S):Object(ot.a)(s))}).catch(t=>e(Object(ot.a)(t)))},({dispatch:e},{categories:t,contextOfUse:s,interactionType:r,items:n=[],listId:a="",offerIndex:o,retailerId:i="",retailerName:c,score:l,unsyncedDataType:E=""},{astraClient:_})=>E!==d.Ce.CHANGE_PRODUCTS_QUANTITY?Promise.resolve():_.request("requestChangeQuantityFromShoppingList",{retailerId:i,items:n}).then(({errorDescription:E="",statusCode:_,subTotal:u="",numberOfItems:p=0,offers:m=[]})=>{if(200===_){var S,h;const E={categoryid:t,featurefamily:d.Cb.IC,interactiontype:r,offerid:null===(S=n[0])||void 0===S?void 0:S.offerId,oos:"Available"===(null===(h=m[0])||void 0===h?void 0:h.status)?0:1,position:o,retailername:c,score:l};E.xpname=s===d.Pb.GROCERY_CATEGORY_SEARCH?d.Qb.GROCERY_CATEGORY_RESULTS:s===d.Pb.GROCERY_STORE_SEARCH?d.Qb.GROCERY_SRP:s===d.Pb.GROCERY_ITEM_DETAIL?d.Qb.GROCERY_ITEM_DETAIL:s===d.Pb.GROCERY_SHOPPING_CART?d.Qb.GROCERY_CART:d.Qb.GROCERY_RECO;const _={mKey:ee.g.CARD_INTERACT,sec:ee.i.QUOTIENT,interactionType:ee.e.click,actionData:E};return e(Object(ot.f)({listId:a,retailerId:i,subTotal:u,numberOfItems:p,offers:m,i13nModel:_}))}return e(Object(ot.d)(E))}).catch(t=>e(Object(ot.d)(t))),({dispatch:e},{unsyncedDataType:t="",items:s=[],listId:r="",retailerId:n=""},{astraClient:a})=>{if(t!==d.Ce.REMOVE_PRODUCTS)return Promise.resolve();const o=s.map(e=>e.offerId);return a.request("requestRemoveFromShoppingList",{retailerId:n,itemIds:o}).then(({errorDescription:t="",statusCode:a,subTotal:o="",numberOfItems:i=0})=>e(200===a?Object(ot.i)(s.map(e=>ct({},e,{activated:!1})),o,i,r,n):Object(ot.g)(t))).catch(t=>e(Object(ot.g)(t)))},({dispatch:e},{unsyncedDataType:t="",keyword:s="",retailerId:r=""},{bootcampClient:n})=>t!==d.Ce.GROCERY_SEARCH_ASSIST?Promise.resolve():n.request("grocerySearchSuggestions",{keyword:s,retailerId:r}).then(t=>e(Object(ot.o)({keyword:s,retailerId:r,suggestions:t}))).catch(t=>e(Object(ot.m)(t))),({dispatch:e},{unsyncedDataType:t="",retailerId:s="",zipCode:r=""},{astraClient:n})=>t!==d.Ce.RETAILER_LOCATIONS?Promise.resolve():n.request("requestRetailerLocations",{retailerId:s,zipCode:r}).then(({errorDescription:t="",statusCode:n,result:a})=>e(200===n?Object(ot.l)({locations:a,retailerId:s,zipCode:r}):Object(ot.j)(t))).catch(t=>e(Object(ot.j)(t))),({dispatch:e},{unsyncedDataType:t="",retailerId:s="",store:r=[]},{astraClient:n})=>t!==d.Ce.UPDATE_PREFERRED_STORE?Promise.resolve():n.request("updatePreferredStore",{retailerId:s,store:r}).then(({errorDescription:t="",statusCode:r,result:n})=>e(200===r?Object(ot.F)({preferredStore:n,retailerId:s}):Object(ot.D)(t))).catch(t=>e(Object(ot.D)(t))),function({dispatch:e,getState:t},{unsyncedDataType:s="",category:r={}},{astraClient:n}){if(s!==d.Ce.FOLLOW_CATEGORY)return Promise.resolve();const a=Object(E.selectors)(t());return n.request((0,a.isFeatureEnabled)(d.Kd.IS_USER_FOLLOWING_CATEGORIES)?"requestCategoryFollow":"requestFirstCategoryFollow",r).then(({statusCode:t,error:s})=>e(200===t?Object(Ye.c)([r]):Object(Ye.a)([r],Object(M.b)(s,"code","Unknown")))).catch(t=>e(Object(Ye.a)([r],t)))},function({dispatch:e},{unsyncedDataType:t="",cardMid:s="",mailboxId:r="",clipping:n=!0},{astraClient:a}){return t!==d.Ce.SAVE_COUPONS?Promise.resolve():a.request("requestSaveCoupon",{cardMid:s,mailboxId:r,clipping:n}).then(({statusCode:t,error:s=""})=>e(200===t?Object(Ye.i)({}):Object(Ye.h)(s))).catch(t=>e(Object(Ye.h)(t)))},function({dispatch:e},{unsyncedDataType:t="",cardMid:s="",mailboxId:r="",clipping:n=!1},{astraClient:a}){return t!==d.Ce.UNSAVE_COUPONS?Promise.resolve():a.request("requestUnsaveCoupon",{cardMid:s,mailboxId:r,clipping:n}).then(({statusCode:t,error:s=""})=>e(200===t?Object(Ye.k)({}):Object(Ye.j)(s))).catch(t=>e(Object(Ye.j)(t)))},function({dispatch:e},{unsyncedDataType:t="",category:s={}},{astraClient:r}){return t!==d.Ce.UNFOLLOW_CATEGORY?Promise.resolve():r.request("requestCategoryUnfollow",s).then(({statusCode:t,error:r})=>e(200===t?Object(Ye.e)([s]):Object(Ye.d)([s],Object(M.b)(r,"code","Unknown")))).catch(t=>e(Object(Ye.d)([s],t)))},function({dispatch:e,getState:t},{unsyncedDataType:s="",nudgeToReplySnippetList:n=[]},{smartReplyClient:a}){if(s!==d.Ce.NUDGE_TO_REPLY)return Promise.resolve();const o=Object(E.selectors)(t()),c=d.kc-(0,o.getSetting)(d.Eb.REPLY_NUDGE_COUNT);return a.requestReplyPredictionsForMessages(n).then(t=>{const s=(t||{}).result,n=(void 0===s?{}:s).data;return e(n?(e=>Qe({type:r.CHECK_REPLY_NUDGE_SUCCEEDED},e))({predictionList:n.filter(e=>e.prediction).sort((e,t)=>t.score-e.score).slice(0,c),i13nModel:{mKey:ee.g.NUDGE_SCORE_LIST,sec:ee.i.NUDGE_TO_REPLY,actionData:{messageScores:n.map(e=>i()(e,"message.snippet"))}}}):Ze({error:null==t?void 0:t.error}))}).catch(t=>e(Ze({error:t})))},function({dispatch:e},{unsyncedDataType:t},{needToKnowNewsClient:s}){return t!==d.Ce.NEED_TO_KNOW_NEWS?Promise.resolve():s.request("requestNeedToKnowNews").then(t=>{e(Object(Xe.c)(t))}).catch(t=>{e(Object(Xe.b)(t))})},(e,t,s)=>{const n=e.dispatch,a=e.getState,o=Object(E.selectors)(a()),i=o.getSelectedMailboxId,c=o.getSelectedAccountId,l=o.getRoute,_=(0,o.getFeaturesSelectors)().getSetting,u=l(),p=Object(U.z)(u);if(t.unsyncedDataType!==d.Ce.LIST_TO_UPDATE||Object(U.w)(p)!==d.ac.TRAVEL_CARDS)return Promise.resolve();const m=i(),S=c(),h=Object(U.L)(p),C=_(d.Kd.CARD_GROUPS_FETCH_COUNT),g=Object(U.x)(p),O=Object(U.p)(p);return s.mailAPIClient.request("messageCards.getList",{mailboxId:m,filter:g,count:C,offset:0,sortOrder:h,accountId:S,excludeFolderTypes:O}).then(e=>{n({type:r.TRAVEL_LIST_SUCCEEDED,listId:p,cardGroupList:e.cardGroupList,hasMoreItems:e.hasMoreItems})}).catch(e=>{n({type:r.TRAVEL_LIST_FAILED,listId:p,error:e})})},(e,t,s)=>{const n=e.dispatch,a=e.getState,o=Object(E.selectors)(a()),i=o.getSelectedMailboxId,c=o.getSelectedAccountId,l=o.getReceiptSelectors,_=(0,o.getRouterSelectors)().getRoute,u=l().getNumPurchases,p=_(),m=Object(U.z)(p);if(t.unsyncedDataType!==d.Ce.LIST_TO_UPDATE||Object(U.w)(m)!==d.ac.REFUND_CARDS||0!==u())return Promise.resolve();const S=i(),h=c(),C=d.Yd.CARD_DATE_DESC,g={mailboxId:S,filter:Object(U.x)(m),count:100,offset:0,sortOrder:C,accountId:h,excludeFolderTypes:Object(U.p)(m)};return s.mailAPIClient.request("getReceipts",g).then(e=>{n({type:r.RECEIPTS_LIST_SUCCEEDED,listId:m,cardGroupList:e.messageGroupsResponses.cardGroupList,parentMessagesMap:e.parentMessagesMap,hasMoreItems:e.messageGroupsResponses.hasMoreItems,offset:e.messageGroupsResponses.offset})}).catch(e=>{n({type:r.RECEIPTS_LIST_FAILED,listId:m,error:e})})},function(e,t,s){if(t.unsyncedDataType!==d.Ce.VIDEO_CHANNELS_METADATA_FETCH)return Promise.resolve();const r=e.dispatch,n=(0,e.getState)(),a=(0,Object(E.selectors)(n).getSetting)(d.Kd.EMPTY_FOLDER_VIDEO_CHANNELS),o=a?Object.keys(a).join(","):"";return s.videoAPIClient.request({type:"channels_meta_data",channel_alias:o}).then(e=>{r(Object(le.e)({payload:e.body}))}).catch(e=>{r(Object(le.d)({error:e}))})},function(e,t,s){if(t.unsyncedDataType!==d.Ce.VIDEO_CHANNEL_FETCH)return Promise.resolve();const r=e.dispatch,n=t.channelAlias;return s.videoAPIClient.request({type:"channel_video_data",channel_alias:n}).then(e=>{if(!(e&&e.body&&e.body[n]))throw new Error(n+" channel data is missing");r(Object(le.c)({payload:e.body,channel:n}))}).catch(e=>{r(Object(le.b)({error:e,channel:n}))})},(e,t,s)=>{if(t.unsyncedDataType!==d.Ce.SETTINGS_TO_CHANGE)return Promise.resolve();let r=t.updatedSettingAttributes;return r&&(r=r.filter(({name:e})=>e!==d.Le)),((e,{updatedSettingAttributes:t=[],action:s},r)=>{const n=e.dispatch,a=e.getState,o=Object(E.selectors)(a()),i=o.getSelectedMailboxId;let l=[];const _=t.map(({name:e,value:t})=>{const s=P(o,e,t);return{id:s,value:s===d.xc.BLOCK_IMAGES?!t:t}});return l=l.concat(r.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:i(),attributes:_}).then(()=>n(Object(c.d)({requestActionPayload:s}))).catch(()=>n(Object(c.c)({requestActionPayload:s})))),Promise.all(l)})(e,{updatedSettingAttributes:r,action:t,runV3:!0},s)},function(e,t,s){if(t.unsyncedDataType!==d.Ce.SEARCH_SUGGESTIONS_FETCH)return Promise.resolve();const r=e.dispatch,n=e.getState,o=Object(E.selectors)(n()),i=t.query,c=void 0===i?"":i,l=t.fetchEmailSuggestions,_=(0,o.isFeatureEnabled)(d.Eb.SHOW_EMAIL_SEARCH_SUGGESTIONS)&&c.length>=3,u=Object.assign({query:c},{textualSuggest:1},""===c?{enableEmptyQuery:!0}:null,_&&l?{emailSuggest:1}:null);let p=t.i13nModel;return new Promise((e,t)=>{const n=s.bootcampClient.createStream("searchSuggestionsStream",u);n.on("data",e=>{if(e){(_&&e?Object(Ct.a)(e):[]).length&&(p=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?gt(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},p,{actionData:{queryLength:c.length},mKey:ee.g.SEARCH_EMAIL_SUGGESTION_SHOWN,sec:ee.i.HEADER_SEARCH})),r(Object(ht.c)({query:c,suggestions:e,i13nModel:p}))}}),n.on("end",e),n.on("error",e=>{r(Object(ht.b)({query:c,error:e})),t(e)})})},function(e,t,s){const n=e.dispatch,o=e.getState,i=Object(E.selectors)(o()),c=i.isFeatureEnabled,l=i.getSelectedMailboxId,_=(0,i.getRoute)(),u=l(),p=Object(U.z)(_),m=Object(U.L)(p),S=c(d.Eb.SENDER_ROLLUP),h=c(d.Eb.SENDER_ROLLUP_FLUSH_CACHE),C=Object(U.w)(p),g=Object(U.q)(p);return t.unsyncedDataType===d.Ce.LIST_TO_UPDATE&&S&&m===d.Yd.SENDER&&C===d.ac.SENDERS?s.senderRollupAPIClient.sendersApi(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Yt(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Yt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({limit:5,count:25,offset:0,folderid:g,mailboxId:u},h?{flush:1}:null)).then(e=>{const t=Object(M.b)(e,"body.result.rollup",[]);n((e=>qt({type:r.SENDER_ROLLUP_SUCCEEDED},e))({listId:p,senderRollup:t,hasMoreItems:t.length>0,offset:t.length}))}).catch(e=>{n((e=>qt({type:r.SENDER_ROLLUP_FAILED},e))(e))}):Promise.resolve()},function(e,t,s){const n=e.dispatch,a=e.getState,o=Object(E.selectors)(a()),i=o.isFeatureEnabled,c=o.getListsSelectors,l=o.doesListExist,_=(0,o.getSelectedMailboxId)(),u=t.listId;if(t.unsyncedDataType!==d.Ce.MORE_SENDER_ROLLUP_TO_FETCH||!l(u)||!i(d.Eb.SENDER_ROLLUP))return Promise.resolve();const p=Object(U.q)(u),m=l(u)?c().getListOffset(u):0;return s.senderRollupAPIClient.sendersApi({limit:5,count:25,offset:m,folderid:p,mailboxId:_}).then(e=>{const t=Object(M.b)(e,"body.result.rollup",[]);n((e=>qt({type:r.MORE_SENDER_ROLLUP_SUCCEEDED},e))({listId:u,senderRollup:t,hasMoreItems:t.length>0,offset:t.length>0?m+t.length:""}))}).catch(e=>{n((e=>qt({type:r.MORE_SENDER_ROLLUP_FAILED},e))({error:e,listId:u}))})},function(e,t,s){if(t.unsyncedDataType!==d.Ce.ACCOUNT_TO_UPDATE)return Promise.resolve();const r=e.dispatch,n=t.accountId,a=t.updatedProperties,o=t.requestTimestamp;return function({store:e,accountId:t,updatedProperties:s,mailAPIClient:r}){const n=i()(s,["id","email","type"]),a=e.getState,o=Object(E.selectors)(a()),c=o.getAliasAccounts,l=(0,o.getAccountById)(t)||c().find(e=>e.id===t);return r.request("settings.updateAccount",{account:l,data:n})}({store:e,accountId:n,updatedProperties:a,mailAPIClient:s.mailAPIClient}).then(e=>r(Object(c.m)({accountId:n,requestTimestamp:o,updatedProperties:a,updatedAccount:e}))).catch(e=>r(Object(c.l)({error:e,accountId:n,requestTimestamp:o,updatedProperties:a})))},(e,t,s)=>{const r=t.query,n=e.dispatch;return t.unsyncedDataType!==d.Ce.COMPOSE_SUGGESTIONS_FETCH?Promise.resolve():s.autoSuggestClient.search(t).then(e=>n(Object(Z.contactSuggestionSucceeded)({query:r,recipientList:t.recipientList,contextFrom:t.contextFrom,contacts:e.contacts}))).catch(e=>n(Object(Z.contactSuggestionFailed)({error:e,query:r,recipientList:t.recipientList,contextFrom:t.contextFrom})))},(e,t,s)=>{if(t.unsyncedDataType!==d.Ce.DOCUMENT_FETCH)return Promise.resolve();const n=t.documentId,a=t.startPage,o=t.endPage,i=t.type,c=void 0===i?"":i,l=t.subtype,_=void 0===l?"":l,u=t.retryCount,p=e.dispatch,m=e.getState,S=Object(E.selectors)(m()),h=S.getRouteParams,C=S.getAttachmentById,g=S.getMimetypeByAttachmentId,O=S.getSizeByAttachmentId,T=S.getAttachmentExtentionByAttachmentId,A=(0,S.getRoute)(),I=(h()||{}).attachmentId,f=C(I);if(!Object(ie.m)(f))return Promise.resolve().then(()=>p(oe({route:A,documentId:n,startPage:a,endPage:o,error:{data:{info:{documentError:ce({type:c,subtype:_})}}}})));const D=g(I),R=O(I),b=T(I);return s.mailAPIClient.request("document.fetch",{documentId:n,startPage:a,endPage:o,mimeType:D,size:R,extension:b,retryCount:u},{strategy:j.a.STRATEGIES.BROWSER_TO_JEDI,timeout:9e4}).then(e=>{if(815===Object(M.b)(e,"data.info.documentError.code",null))return p(oe({error:e,documentId:n,startPage:a,endPage:o}));p((e=>ae({type:r.DOCUMENT_FETCH_SUCCEEDED},e))({response:e,documentId:n,startPage:a,endPage:o}))}).catch(e=>{p(oe({error:e,documentId:n,startPage:a,endPage:o}))})},(e,t,s)=>{if(t.unsyncedDataType!==d.Ce.ACCOUNT_DELETE)return Promise.resolve();const r=e.dispatch,n=e.getState,a=t.accountId,o=Object(E.selectors)(n()),i=o.getAliasAccounts,c=(0,o.getAccountById)(a)||i().find(e=>e.id===a),u=Object.assign({},c,{status:d.m.DELETE_IN_PROGRESS});return s.mailAPIClient.request("settings.deleteAccount",{accountId:a}).then(()=>{r(Object(l.h)({updatedAccount:u}))}).then(()=>{if(Object(_.h)(u))return function(e,t,s){const r=s.email,n=Object(_.d)(s),a=d.Ub[n];if(a){return e.removeOAuthToken({domain:a.oauthDomain,email:r}).then(e=>{t(Object(l.o)({response:e}))}).catch(e=>{t(Object(l.n)({error:e}))})}return Promise.reject(new Error("No provider found for "+r))}(s.credstoreClient,r,u)}).catch(e=>{r(Object(l.g)({err:e}))})},(e,t,s)=>{if(t.unsyncedDataType!==d.Ce.ACCOUNT_ADD)return Promise.resolve();const r=e.dispatch,n=e.getState,a=t.newAccount,o=t.emailOrPhoneRegAccount,i=void 0!==o&&o,c=a.email,_=a.type,p=Object(E.selectors)(n()),m=p.hasAccountWithEmail,S=p.getDefaultFolderIdForSelectedAccount,h=p.isMobileRoute,C=(0,p.getFeaturesSelectors)();if(_===d.n.DEA&&C.disposableAddressDeleteOnly)return Promise.reject().catch(()=>r(Object(l.b)({err:"Disposable Email Address is delete only. User cannot add new DEA"})));const g=S();return m(c)?Promise.reject().catch(()=>r(Object(l.b)({updatedAccount:a}))):s.mailAPIClient.request("settings.addAccount",{account:a}).then(e=>{if(i)return void window.setTimeout(()=>{if(h())return Object(u.f)({isMobile:!0});window.location.reload()},300);const t=e.find(e=>e.email===c);return r(t?Object(l.c)({accounts:e,updatedAccount:t,inboxFID:g,newAccount:t}):Object(l.b)({err:"New account was not found in the accounts object!",newAccount:t}))}).catch(e=>r(Object(l.b)({err:e,newAccount:a})))},(e,t,s)=>{if(t.unsyncedDataType!==d.Ce.MORE_ITEMS_TO_FETCH)return Promise.resolve();const r=(0,Object(E.selectors)(e.getState()).getRouteName)(),n=t.listId;return n&&Object(U.i)(n)?Be(e,t,s):r===d.rd.SEARCH?(({dispatch:e,getState:t},{listId:s},{bootcampClient:r})=>{const n=Object(E.selectors)(t()),a=n.getFeaturesSelectors,o=n.doesStreamExist,i=n.getSelectedStreamItems,c=(0,n.getListsSelectors)(),l=c.getItemIdsSelectors,_=c.getListNextItemsUrl,p=a().getSetting,m=l(s).getItemIds().length,S=Object(U.w)(s);let h=_(s);const C=a().isEnabled(d.Eb.SELECT_ALL);S===d.ac.MESSAGES&&(h=Object(u.d)(h,{cursor:m,limit:p(d.Kd.SEARCH_FETCH_COUNT)}));let g=!1;if(C){const e=Object(x.a)([s]),t=o(e)?i(e):[];g=t.length>0&&l(s).getItemIds().length===t.length}return r.request("searchItems",{url:h,listContentType:S}).then(t=>{e(Object(ke.g)({listId:s,listContentBlock:t,allItemsSelected:g}))}).catch(t=>e(Object(ke.f)({listId:s,error:t})))})(e,t,s):r===d.rd.LIST&&Object(U.w)(n)===d.ac.TRAVEL_CARDS?xe(e,t,s):Be(e,t,s)},function(e,t,s){if(t.unsyncedDataType!==d.Ce.GIFS_TO_FETCH)return Promise.resolve();const r=e.dispatch,n=t.listId,a=t.query,o=t.id,i=Object(E.selectors)(e.getState()),c=i.getSelectedMailboxId,l=(0,i.getListsSelectors)(),_=l.getListNextItemsUrl,u=(0,l.doesListExist)(n)?_(n):"";return s.bootcampClient.request("searchGifs",{mailboxId:c(),query:a,nextItemsUrl:u}).then(e=>r(Object(Ae.f)({altListId:n,query:a,id:o},e))).catch(e=>r(Object(Ae.e)({altListId:n,query:a,id:o},e)))},function({dispatch:e},t,s){return t.unsyncedDataType!==d.Ce.GIF_CATEGORY_TO_FETCH?Promise.resolve():s.bootcampClient.request("getGifCategories").then(({categories:t})=>e(Object(Ae.c)({categories:t}))).catch(t=>e(Object(Ae.a)({error:t})))},function({dispatch:e},{email:t,unsyncedDataType:s},r){return s!==d.Ce.ALIAS_EMAIL_TO_CREATE?Promise.resolve():r.mailAPIClient.request("settings.createAlias",{email:t}).then(({suggestions:s,newAccount:r})=>{e(s&&s.length?Object(J.i)({email:t,suggestions:s}):s||r?Object(J.j)({newAccount:r}):Object(J.i)({email:t}))}).catch(()=>e(Object(J.i)({email:t})))},function({dispatch:e},{account:t,unsyncedDataType:s},r){return s!==d.Ce.CONFIRM_EMAIL_TO_RESEND?Promise.resolve():r.mailAPIClient.request("settings.resendConfirmEmail",{account:t}).then(s=>{e(Object(J.F)({account:s,email:t.email}))}).catch(s=>{e(Object(J.E)({err:s,email:t.email}))})},(e,t,s)=>{if(t.unsyncedDataType!==d.Ce.BLOCKED_SENDERS_TO_FETCH)return Promise.resolve();const n=e.dispatch,a=e.getState,o=Object(E.selectors)(a()),i=o.getSelectedMailboxId;if((0,(0,o.getSettingsSelectors)().getBlockedSendersApiCallStatus)()===d.od.LOADED)return Promise.resolve();const c=i();return s.mailAPIClient.request("settings.getFeatureAttributes",{mailboxId:c,attributes:[d.xc.DELIVERY_BLOCKED_SENDERS]}).then(e=>{n(bt({type:r.SETTINGS_BLOCKED_SENDERS_RECEIVED},e))}).catch(e=>{n({type:r.SETTINGS_BLOCKED_SENDERS_FETCH_FAILED,payload:e})})},(e,t,s)=>{if(t.unsyncedDataType!==d.Ce.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH)return Promise.resolve();const n=e.dispatch,a=e.getState,o=Object(E.selectors)(a()),i=o.getSelectedMailboxId;if((0,(0,o.getSettingsSelectors)().getFiltersAndBlockedSendersApiCallStatus)()===d.od.LOADED)return Promise.resolve();const c=i();return s.mailAPIClient.request("settings.getFeatureAttributes",{mailboxId:c,attributes:[d.xc.DELIVERY_BLOCKED_SENDERS,d.xc.MESSAGE_FILTERS]}).then(e=>{n(bt({type:r.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED},e))}).catch(e=>{n({type:r.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED,payload:e})})},(e,t,s)=>{const n=e.dispatch,a=e.getState,o=(0,Object(E.selectors)(a()).getSelectedMailboxId)();return o&&t.unsyncedDataType===d.Ce.COMPOSE_ATTRIBUTES_TO_FETCH?s.mailAPIClient.request("postLaunch.getComposeAttributes",{mailboxId:o,attributes:d.V}).then(e=>n(function(e){return qe({type:r.COMPOSE_ATTRIBUTES_RECEIVED},e)}({mailboxAttributes:e.responses}))).catch(e=>n(function(e){return qe({type:r.COMPOSE_ATTRIBUTES_FETCH_FAILED},e)}({error:e}))):Promise.resolve()},function(e,t,s){if(!Object(u.c)()||t.unsyncedDataType!==d.Ce.POST_LUNCH_TO_SYNC)return Promise.resolve();const n=e.dispatch,a=e.getState,o=Object(E.selectors)(a()),i=o.getSelectedAccountIdByRoute,c=o.getRoute,l=o.getCurrentGroupId,_=o.doesMessageGroupIdExist,p=o.getMessageIdsFromMessageGroupId,m=o.getCardConversationIdByMessageId,S=o.isFeatureEnabled,h=(0,o.getSelectedMailboxId)(),C=i(c()),g=[],O=l(),T=_(O)?p(O):[];let A="";return T.length&&(A=m(T[0])),g.push(s.mailAPIClient.request("postLaunch.postSync",{mailboxId:h,accountId:C,cardConversationId:A})),S(d.Eb.SOCIAL_ACCOUNTS)||g.push(((e,t,s)=>(s.autoSuggestClient.isUserXobnified(),Promise.resolve()))(0,0,s)),Promise.all(g).then(([e])=>n(function(e){return qe({type:r.POST_LAUNCH_SYNC_SUCCEEDED},e)}(e))).catch(e=>n(function(e){return qe({type:r.POST_LAUNCH_SYNC_FAILED},e)}({error:e})))},function({dispatch:e,getState:t},{unsyncedDataType:s=""},{bootcampClient:n}){if(s!==d.Ce.TOP_RETAILERS_TO_FETCH)return Promise.resolve();const a={accountIds:(0,(0,Object(E.selectors)(t()).getAccountSelectors)().getAccountIds)()};return n.request("getTopRetailers",a).then(t=>e((e=>Tt({type:r.TOP_RETAILERS_REQUEST_SUCCEEDED},e))({topRetailers:t}))).catch(t=>e((e=>Tt({type:r.TOP_RETAILERS_REQUEST_FAILED},e))({error:t})))},function({dispatch:e},{unsyncedDataType:t=""},{bootcampClient:s}){return t!==d.Ce.TOP_DEAL_CATEGORIES_TO_FETCH?Promise.resolve():s.request("getTopDealCategories").then(t=>e((e=>Tt({type:r.TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED},e))({topDealCategories:t}))).catch(t=>e((e=>Tt({type:r.TOP_DEAL_CATEGORIES_REQUEST_FAILED},e))({error:t})))},function(e,t,s){const r=e.dispatch;return t.unsyncedDataType!==d.Ce.RECENT_SEARCHES_TO_FETCH?Promise.resolve():s.bootcampClient.request("recentSearches",{}).then(e=>{r(Object(nt.e)({recentSearches:e}))}).catch(()=>{r(Object(nt.c)())})},function(e,t,s){const r=t.query;if(t.unsyncedDataType!==d.Ce.RECENT_SEARCH_DELETE)return Promise.resolve();const n=e.dispatch,a=e.getState,o=Object(E.selectors)(a()),i={query:r,mailboxid:(0,o.getMailboxesSelectors)().getSelectedMailboxId()};return s.bootcampClient.request("deleteRecentSearch",i).then(()=>n(Object(nt.b)({query:r}))).catch(()=>n(Object(nt.a)({query:r})))},function({dispatch:e},{accountId:t,updatedProperties:s,unsyncedDataType:r,requestTimestamp:n},{mailAPIClient:a}){return r!==d.Ce.FETCH_PRIMARY_ACCOUNT?Promise.resolve():a.request("accounts.get").then(({accounts:r})=>{if(r&&r.length){const a=r.find(({isPrimary:e})=>e);e(Object(c.m)({accountId:t,updatedProperties:s,updatedAccount:a,requestTimestamp:n}))}}).catch(r=>{e(Object(c.l)({error:r,accountId:t,updatedProperties:s,requestTimestamp:n}))})},function(e,t,s){if(t.unsyncedDataType!==d.Ce.LINK_ENHANCER_TO_FETCH)return Promise.resolve();const r=e.dispatch,n=t.cardUrl;return s.linkEnhancerClient.get(n).then(({body:{linkInfo:e}})=>r(Object(je.c)({id:n,cardUrl:n,linkInfo:e}))).catch(e=>r(Object(je.b)({id:n,cardUrl:n,error:e})))},Gt,(e,t,s)=>{const r=e.dispatch,n=t.messageId;return t.unsyncedDataType!==d.Ce.UNSUBSCRIBE_EMAIL?Promise.resolve():s.subscriptionAPIClient.unsubscribeByEmail(t).then(e=>r(Object(Lt.f)({unsubscribe:e,messageId:n}))).catch(e=>r(Object(Lt.d)({error:e,messageId:n})))},(e,t,s)=>{const r=e.dispatch,n=e.getState,o=t.brandId;if(t.unsyncedDataType!==d.Ce.UNSUBSCRIBE_BRAND)return Promise.resolve();if(Object(E.selectors)(n()).getSetting(d.Eb.DISABLE_UNSUBSCRIBE_FEATURE))return Promise.resolve().then(()=>{r(Object(Lt.c)({brandId:o,subscriptions:[]}))});const i=Object(yt.selectors)(n()[yt.key]).getBrandInfo(o);return s.subscriptionAPIClient.unsubscribeByBrand(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Pt(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Pt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({subscriptions:i.subscriptions},t)).then(({subscriptions:e})=>r(Object(Lt.c)({brandId:o,subscriptions:e}))).catch(e=>r(Object(Lt.a)({error:e,brandId:o})))},function({dispatch:e,getState:t},{unsyncedDataType:s},{breakingNewsClient:n}){if(s!==d.Ce.BREAKING_NEWS)return Promise.resolve();const a=(0,Object(E.selectors)(t()).isFeatureEnabled)(d.Eb.BREAKING_NEWS_TEST_PARAM);return n.request({testParam:a}).then(t=>{e({type:r.BREAKING_NEWS_SUCCESS,news:t})}).catch(t=>{e({type:r.BREAKING_NEWS_FAILED,error:t})})},(e,t,r)=>{const n=e.dispatch,a=t.mailboxId,o=t.accountId,i=t.email,c=t.sortOrder;if(t.unsyncedDataType!==d.Ce.SUBSCRIPTION_LIST)return Promise.resolve();const l=c===d.Yd.ALPHA_ASC?"brandname.asc":"score.desc",E=Promise.all([s.e(0),s.e(7)]).then(s.bind(null,169)),_=r.subscriptionAPIClient.getSubscriptions({mailboxId:a,accountId:o,email:i,sort:l});return Promise.all([_,E]).then(([e])=>n(Object(Vt.e)({response:e,accountId:o,sortOrder:c}))).catch(e=>n(Object(Vt.d)({error:e,sortOrder:c})))},(e,t,r)=>{const n=e.dispatch,a=e.getState,o=(0,Object(E.selectors)(a()).getFeaturesSelectors)().getSetting,i=o(d.Kd.SUBHUB_RECO_FILTER),c=o(d.Kd.SUBHUB_RECO_COUNT),l=t.mailboxId,_=t.accountId,u=t.email,p=t.sortOrder;if(t.unsyncedDataType!==d.Ce.SUBHUB_RECOMMENDATION_LIST)return Promise.resolve();let m,S=p===d.Yd.ALPHA_ASC?"brandname.asc":"score.desc";"vz"===i||"thirdParty"===i?m=i:"sortByRandom"===i&&(S="random.desc");const h=Promise.all([s.e(0),s.e(7)]).then(s.bind(null,169)),C=r.subscriptionAPIClient.getSubhubRecommendations({mailboxId:l,accountId:_,email:u,sort:S,brandowner:m,count:c});return Promise.all([C,h]).then(([e])=>n(Object(Vt.c)({response:e,accountId:_,sortOrder:p}))).catch(e=>n(Object(Vt.b)({error:e,sortOrder:p})))},(e,t,s)=>{const r=t.provider,n=e.dispatch;return t.unsyncedDataType!==d.Ce.CLOUD_STORAGE_ACCOUNT_AUTH_URL?Promise.resolve():(Object(u.c)()||Object(Ee.a)("Bootcamp cloud storage account linking needs be called from the browser"),s.cloudStorageClient.linkContentProvider({provider:r}).then(({authorizationURL:e})=>{n(Object(Mt.d)({url:e,provider:r}))}).catch(e=>n(Object(Mt.c)({error:e,provider:r}))))},(e,t,s)=>{const r=t.unsyncedDataType,n=t.source,a=t.listId,o=t.query,i=t.id,c=t.path,l=e.dispatch,_=Object(E.selectors)(e.getState()),p=_.getSelectedAccountId,m=(0,_.getListsSelectors)(),S=m.doesListExist,h=m.getListNextItemsUrl,C=m.getListOffset,g=S(a)?h(a):"",O=S(a)?C(a):0,T=p();return r!==d.Ce.CLOUD_STORAGE_ITEMS_TO_FETCH?Promise.resolve():(Object(u.c)()||Object(Ee.a)("Bootcamp cloud storage account linking needs be called from the browser"),s.cloudStorageClient.cloudStorageItems({source:n,query:o,path:c,nextItemsUrl:g,accountId:T,offset:O}).then(e=>l(Object(Wt.g)({altListId:a,query:o,path:c,id:i,source:n},e))).catch(e=>l(Object(Wt.f)({altListId:a,query:o,path:c,id:i,source:n},e))))},function(e,t,s){const r=e.dispatch,n=e.getState,a=t.unsyncedDataType,o=(0,Object(E.selectors)(n()).getFeaturesSelectors)().isEnabled;return a!==d.Ce.FETCH_CLOUD_STORAGE_PROVIDERS?Promise.resolve():o(d.Eb.CLOUD_STORAGE)?s.cloudStorageClient.getContentProviders().then(e=>{r(Object(Wt.i)({contentProviders:e}))}).catch(e=>r(Object(Wt.h)({error:e}))):Promise.resolve()},(e,t,s)=>{const r=t.provider,n=t.unlink,a=e.dispatch;return t.unsyncedDataType!==d.Ce.UNLINK_CLOUD_STORAGE_ACCOUNT?Promise.resolve():(Object(u.c)()||Object(Ee.a)("Bootcamp cloud storage account unlinking needs be called from the browser"),s.cloudStorageClient.linkContentProvider({provider:r,unlink:n}).then(()=>{a(Object(Wt.o)({provider:r}))}).catch(e=>{a(Object(Wt.n)({error:e,provider:r}))}))},(e,t,s)=>{const r=t.itemId,n=t.provider,a=e.dispatch;return t.unsyncedDataType!==d.Ce.CLOUD_STORAGE_ITEM_SHAREABLE_LINK?Promise.resolve():(Object(u.c)()||Object(Ee.a)("Bootcamp cloud storage shareable link fetching needs be called from the browser"),s.cloudStorageClient.getShareableLink({itemId:r,provider:n}).then(({shareableLink:e})=>{a(Object(Wt.k)({shareableLink:e,itemId:r,provider:n}))}).catch(e=>a(Object(Wt.j)({error:e,itemId:r,provider:n}))))},async function(e,t,{mailAPIClient:s}){const r=t.mailboxId,n=t.messageId,a=e.dispatch;if(t.unsyncedDataType!==d.Ce.PHISHING_REMOVE_BDM_DECO)return;const o=[{messageId:n,decos:[{id:"-"+d.Cc.BDM}]}];try{await s.request("messages.updateDecos",{mailboxId:r,messageDecosPayloads:o}),a(Object(G.d)({messageId:n,mailboxId:r}))}catch(e){a(Object(G.b)(e))}},function(e,t){if(t.unsyncedDataType!==d.Ce.SETTINGS_TO_CHANGE||"undefined"==typeof localStorage)return Promise.resolve();const s=t.updatedSettingAttributes.filter(({name:e})=>e===d.Le);return s.length?(s.forEach(({name:e,value:t})=>{localStorage.setItem("temporary-setting-"+e,JSON.stringify(t))}),Promise.resolve()):Promise.resolve()},({getState:e,dispatch:t},{unsyncedDataType:s},{membershipRewardsClient:n})=>{if(s!==d.Ce.MEMBERSHIP_REWARDS_LAUNCH)return Promise.resolve();const a={atosTestParam:(0,Object(E.selectors)(e()).getSetting)(d.Kd.TMR_ATOS_TEST_PARAM)};return n.request("launch",a).then(e=>{const s=((Object(M.b)(e,"body.lastRegisteredActions",[]).filter(e=>e.rewardsActionType===d.ne.DAILY_CHECKIN)[0]||{}).completedChallenges||[]).some(e=>e.tag===d.pe.DAILY_CHECKIN),n={atosStatus:Object(M.b)(e,"body.atos.atosStatus"),lastRegisteredActions:Object(M.b)(e,"body.lastRegisteredActions"),mailChallengesProgress:Object(M.b)(e,"body.mailChallengesProgress"),pointsBalance:Object(M.b)(e,"body.pointsBalance")};if(s){const t=Object(M.b)(e,"body.mailChallengesProgress",[]).filter(e=>e.tag===d.pe.DAILY_CHECKIN)[0];n.dailyCheckinCount=t.repeatedTimes}t({type:r.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS,data:e.body,i13nModel:{mKey:ee.g.TMR_LAUNCH_SUCCESS,sec:ee.i.MEMBERSHIP_REWARDS,actionData:n}})}).catch(e=>{t({type:r.MEMBERSHIP_REWARDS_LAUNCH_FAILED,error:e,i13nModel:{mKey:ee.g.TMR_LAUNCH_FAILED,sec:ee.i.MEMBERSHIP_REWARDS,actionData:{error:e}}})})},({getState:e,dispatch:t},{unsyncedDataType:s,rewardsActionType:n},{membershipRewardsClient:o})=>{if(s!==d.Ce.TMR_REGISTER_ACTION)return Promise.resolve();const i=Object(E.selectors)(e()),c=i.getSetting,l={actionId:(0,i.getMembershipRewardsSelectors)().getRewardsAction(n).id,rewardsActionType:n,atosTestParam:c(d.Kd.TMR_ATOS_TEST_PARAM)};return o.request("registerUserAction",l).then(e=>{const s=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?kt(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({rewardsActionType:n},e.body);if(n===d.ne.DAILY_CHECKIN){if(Object(M.b)(e,"body.completedChallenges",[]).some(e=>e.tag===d.pe.DAILY_CHECKIN)){const t=Object(M.b)(e,"body.completedChallengesProgress",[]).filter(e=>e.tag===d.pe.DAILY_CHECKIN)[0]||{};s.dailyCheckinCount=t.repeatedTimes}}t({type:r.TMR_REGISTER_ACTION_SUCCESS,data:e.body,rewardsActionType:n,i13nModel:{mKey:ee.g.TMR_REGISTER_ACTION_SUCCESS,sec:ee.i.MEMBERSHIP_REWARDS,actionData:s}})}).catch(e=>{t({type:r.TMR_REGISTER_ACTION_FAILED,error:e,rewardsActionType:n,i13nModel:{mKey:ee.g.TMR_REGISTER_ACTION_FAILED,sec:ee.i.MEMBERSHIP_REWARDS,actionData:{error:e}}})})},({getState:e,dispatch:t},{unsyncedDataType:s},{obiApiClient:n,mailAPIClient:a})=>{if(s!==d.Ce.PURCHASE_MAILPRO_FREE_TRIAL)return Promise.resolve();const o=Object(E.selectors)(e()),i=o.getSetting,c=o.getAccountSelectors,l=o.getSelectedMailboxId,_=o.getSelectedAccountId,u={purchaseOfferTestParam:i(d.Kd.PURCHASE_OFFER_TEST_PARAM),listSubscriptionTestParam:i(d.Kd.LIST_SUBSCRIPTION_TEST_PARAM),contactEmail:(c().getPrimaryAccount()||{}).email||"",accountName:(0,c().getAccountNameByAccountId)(_())||""},p=l();return n.request("purchaseOffer",u).then(()=>Bt(a,p,t,1,1e3)).catch(e=>{var s,n;if("OBI-100"===(null===(s=e.data)||void 0===s||null===(n=s.body)||void 0===n?void 0:n.code))return Bt(a,p,t,2,3e3);t({type:r.PURCHASE_MAILPRO_FREE_TRIAL_FAILED,error:e,i13nModel:{mKey:ee.g.PURCHASE_MAILPRO_FREE_TRIAL_FAILED,sec:ee.i.MAILPRO_FREE_TRIAL,actionData:{error:e}}})})},({getState:e,dispatch:t},{unsyncedDataType:s},{obiApiClient:n})=>{if(s!==d.Ce.LIST_MAILPRO_SUBSCRIPTIONS)return Promise.resolve();const a=Object(E.selectors)(e()).getSetting,o=a(d.Kd.LIST_SUBSCRIPTION_TEST_PARAM),i=a(d.Kd.DAYS_IN_TRIAL_TEST_PARAM);let c=(new Date).getTime();i>=1&&(c=Object(xt.subDays)(new Date,i-1).getTime());return n.request("listSubscription",{listSubscriptionTestParam:o,mockedTrialStartDate:c}).then(e=>{t({type:r.LIST_MAILPRO_SUBSCRIPTIONS_SUCCESS,data:e.body,i13nModel:{mKey:ee.g.LIST_MAILPRO_SUBSCRIPTIONS_SUCCESS,sec:ee.i.MAILPRO_FREE_TRIAL,actionData:e.body}})}).catch(e=>{t({type:r.LIST_MAILPRO_SUBSCRIPTIONS_FAILED,error:e,i13nModel:{mKey:ee.g.LIST_MAILPRO_SUBSCRIPTIONS_FAILED,sec:ee.i.MAILPRO_FREE_TRIAL,actionData:{error:e}}})})},(e,t,s)=>{const r=e.dispatch,n=e.getState,a=t.preferenceCode;if(t.unsyncedDataType!==d.Ce.MARKETING_PREFERENCES_TO_UNSUBSCRIBE)return Promise.resolve();const o=(0,Object(E.selectors)(n()).getAccountSelectors)().getPrimaryAccount()||{};return s.marketingPreferencesAPIClient.unsubscribe({preferenceCode:a,email:o.email||""}).then(()=>{r(Object(Xt.c)({preferenceCode:a}))}).catch(e=>{r(Object(Xt.b)({error:e,preferenceCode:a}))})},(e,t,s)=>{const n=t.unsyncedDataType,a=t.eligibleFalconTOMGroupIds,o=void 0===a?[]:a,i=t.prefetchMode,c=void 0===i?null:i,l=t.openedGroupId,_=void 0===l?"":l,u=t.openedMessageId,p=void 0===u?"":u,m=e.dispatch,S=e.getState,h=Object(E.selectors)(S()),C=h.getMessageIdsFromMessageGroupId,g=h.getMessagesSelectors,O=h.getSubjectsAndSnippetsSelectors,T=h.getAttachmentCountByMessageId,A=h.getGroupIdContainingMessageId,I=h.__getMessage,f=h.getSelectedMailboxId,D=h.getSelectedAccountId,R=h.getEmailOfSelectedAccount,b=h.getCurrentListId;if(n!==d.Ce.MESSAGE_ITEM_TO_FETCH)return Promise.resolve();const N=f(),M=D(),y=R(),L=g(),P=L.getMessageIdRfc822,v=L.getImmutableId,F=L.getMessageId,U=O(),w=U.getSubject,G=U.getSnippet,H=b(),j=o.reduce((e,t)=>{const s=C(t),r=F(s[0]),n=I(r),a=n.cardConversationId,o=n.conversationId,i=n.headers,c=n.decos,l={headers:ts({},i,{subject:w(r,H),internalDate:i.date||"",messageIdRfc822:P(r)}),id:r,conversationId:o,cardConversationId:a,immutableid:v(r)||r,snippet:G(r,H),decos:c,attachmentCount:T(r)};return e.push(l),e},[]);return j.length?s.falconTOMSubscriptionsAPIClient.getFalconTOMSubscriptions(j,o,c,_,p,N,M,y).then(e=>{const t=e.reduce((e,t)=>(e[A(t.messageId)]=t,e),{});m((e=>Jt({},e,{type:r.FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED}))({responseList:t,groupIds:o}))}).catch(e=>{m((e=>Jt({},e,{type:r.FALCON_TOM_SUBSCRIPTIONS_FETCH_FAILED}))({error:e,groupIds:o}))}):Promise.resolve()},async(e,t,s)=>{const n=t.optOutCodes,a=t.selectedOfferId,o=t.clientos;if(t.unsyncedDataType!==d.Ce.DISPATCHER_UPSELLS)return;const i=e.dispatch;try{i((e=>rs({},e,{type:r.DISPATCHER_UPSELL_FETCH_SUCCEEDED}))(await s.subdispatcherAPIClient.plutusSubscriptionUpsells({optOutCodes:n,selectedOfferId:a,clientos:o})))}catch(e){i((e=>rs({},e,{type:r.DISPATCHER_UPSELL_FETCH_FAILED}))({error:e}))}}];t.a={[r.SYNC_DATA]:[...[(e,t,s)=>{const r=t.route,n=t.selectedMailbox,o=e.dispatch,i=e.getState,c=Object(E.selectors)(i()).isFeatureEnabled,l=r?Object(U.z)(r):void 0;if(!r||t.unsyncedDataType!==d.Ce.LAUNCH||-1===[d.rd.SEARCH,d.rd.SETTINGS,d.rd.TUTORIAL,d.rd.SIGNATURES_FROM_SETTINGS,d.rd.THEME_CHOOSER,d.rd.CONTACTS,d.rd.CONTACT_DETAILS,d.rd.CONTACT_DETAILS_FROM_SEARCH,d.rd.EDIT_CONTACT,d.rd.CREATE_CONTACT,d.rd.ACCOUNT_LIST_FROM_SETTINGS,d.rd.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST,d.rd.BLOCKED_SENDERS,d.rd.MESSAGE_PREVIEW,d.rd.SUBSCRIPTION_LIST,d.rd.REWARDS,d.rd.PORTRAIT_AD].indexOf(r.name)&&!Object(U.R)(l)&&!Object(U.X)(r)&&Object(U.F)(l)!==d.cc.SUBSCRIPTIONS)return Promise.resolve();let _,p=null;c(d.Eb.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(u.c)()&&(_=ye(r),Me(e,t,s).then(e=>{p=e}));return s.mailAPIClient.request("launch.skeleton",{mailboxId:n.id}).then(e=>{o(Object(Ie.a)(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?He(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):He(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({initialMailboxAttributes:t.mailboxAttributes,darlaAds:p,selectedMailbox:n},e))),c(d.Eb.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(u.c)()&&_&&Le(_,p)}).catch(e=>o(Object(Ie.b)({error:e})))},(e,t,s)=>{const r=t.route,n=t.config,o=t.selectedMailbox;if(!r)return Promise.resolve();const i=Object(U.z)(r),c=Object(U.q)(i),l=Object(U.L)(i),_=Object(U.x)(i),p=e.dispatch,m=e.getState,S=Object(E.selectors)(m()).isFeatureEnabled;if(t.unsyncedDataType!==d.Ce.LAUNCH||r.name!==d.rd.FOLDER&&r.name!==d.rd.EDIT_FOLDER&&r.name!==d.rd.BASE&&r.name!==d.rd.LIST||Object(U.P)(i))return Promise.resolve();const h=n.pencilAd,C=n.conversations,g=n.launchFolderTimeout,O=n.messageFetchCountInitial,T=be.a.feature("gemini_server_prefetch",{routeName:r.name});let I=null;h&&Ne(0,t,s).then(e=>{I=e});const f=o.id;let D,R=null,b=null;return S(d.Eb.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(u.c)()&&(D=ye(r),Me(e,t,s).then(e=>{R=e})),!S(d.Eb.DISPATCHER_UPSELLS_ELIGIBLE)&&!S(d.Eb.SUBSCRIPTION_UPSELLS_ELIGIBLE)||Object(u.c)()||s.marketingPreferencesAPIClient.request("readMemberProfilePreferences").then(e=>{Fe.a.error("marketingPreferences",{optedOutProducts:Object.keys(e).join(",")}),b=e}),s.mailAPIClient.request("launch.folder",{folderId:c,sortOrder:l,filter:_,count:O,offset:0,conversationsMode:C,mailboxId:f},{timeout:g}).then(e=>{let s=e.error,r=e.messageGroups,n=A()(e,["error","messageGroups"]);p(Object(Ie.a)(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ue(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ue(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({initialMailboxAttributes:t.mailboxAttributes},n,{listId:i,geminiAd:I,darlaAds:R,selectedMailbox:o,messageGroupList:r,optedOutMarketingProducts:b},s&&{launchError:d.Xb.FOLDER_ACCESS_FAILED}))),h&&(I?T.logSuccess():T.logFailure()),S(d.Eb.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(u.c)()&&D&&Le(D,R)}).catch(e=>p(Object(Ie.b)({error:e})))},(e,t,s)=>{const r=t.route,n=t.config,o=void 0===n?{}:n,i=t.mailboxAttributes,c=t.appName,l=t.selectedMailbox;if(!r||t.unsyncedDataType!==d.Ce.LAUNCH||-1===[d.rd.MESSAGE_FROM_LIST,d.rd.MESSAGE_FROM_FOLDER_LIST,d.rd.MESSAGE_FROM_SEARCH_LIST].indexOf(r.name))return Promise.resolve();const _=r.params,p=Object(U.z)(r),m=decodeURIComponent(_.groupId),S=Object(U.q)(p),h=Object(U.L)(p),C=Object(U.x)(p),g=(i[d.xc.SCOUT_ONBOARDING]||{}).value,O=void 0===g?[]:g,T=o.pencilAd,I=o.conversations,f=o.messageFetchCountInitial,D=e.dispatch,R=e.getState,b=Object(we.e)(O),N=Object(we.d)(O),M=l.id,y=c===d.B.MOBILE_APP?!!i[d.xc.MOBILE_SHOW_IMAGES]&&(!i[d.xc.MOBILE_SHOW_IMAGES].value&&!N):!!i[d.xc.BLOCK_IMAGES]&&(i[d.xc.BLOCK_IMAGES].value&&!b),L=Object(E.selectors)(R()).isFeatureEnabled;let P=null;T&&Ne(0,t,s).then(e=>{P=e});let v,F=null;return L(d.Eb.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(u.c)()&&(v=ye(r),Me(e,t,s).then(e=>{F=e})),s.mailAPIClient.request("launch.messageGroup",{isConversation:I,messageGroupId:m,folderId:S,sortOrder:h,filter:C,count:f,offset:0,secure:y,mailboxId:M}).then((function(e){let t=e.messageGroups,s=e.messageBodiesMap,r=e.messageMetadataMap,n=e.messageGroupList,o=e.hasMoreItems,c=e.folderId,E=e.error,_=A()(e,["messageGroups","messageBodiesMap","messageMetadataMap","messageGroupList","hasMoreItems","folderId","error"]);D(Object(Ie.a)(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ge(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ge(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({initialMailboxAttributes:i},_,{selectedMailbox:l,geminiAd:P,darlaAds:F},E?{folderId:c,messageGroupList:n,hasMoreItems:o,launchError:d.Xb.MESSAGE_ACCESS_FAILED}:{listId:p,messageGroups:t,messageBodiesMap:s,messageMetadataMap:r}))),L(d.Eb.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(u.c)()&&v&&Le(v,F)})).catch(e=>D(Object(Ie.b)({error:e})))},(e,t,s)=>{const r=t.route,n=t.encryptedQueryParams,a=t.selectedMailbox;if(!r||t.unsyncedDataType!==d.Ce.LAUNCH||-1===[d.rd.NEW_DRAFT,d.rd.EDIT_DRAFT].indexOf(r.name))return Promise.resolve();const o=decodeURIComponent(r.params.csid),i=e.dispatch,c=e.getState,l=a.id,_=Object(E.selectors)(c()).isFeatureEnabled;let p,m=null;return _(d.Eb.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(u.c)()&&(p=ye(r),Me(e,t,s).then(e=>{m=e})),s.mailAPIClient.request("launch.compose",{csid:o,mailboxId:l}).then(e=>{let s;Object(Ee.a)(o,"csid is required and should be in the url");const r={csid:o,initialTo:"",initialCc:"",initialBcc:"",initialSubject:"",initialBody:{}};if(e.message){const n=e.message,o=n.id,c=n.headers,l=n.folder,E=l.types,S=l.id;if(s=Object(U.y)(S),E[0]&&-1===E[0].indexOf(d.Mb.DRAFT)){const s=Object(fe.g)(e.accounts,e.folders).id;return i(Object(Ie.a)(ve({initialMailboxAttributes:t.mailboxAttributes,darlaAds:m},e,{selectedMailbox:a,folderId:s,launchError:d.Xb.COMPOSE_ACCESS_FAILED}))),_(d.Eb.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(u.c)()&&p&&Le(p,m),Promise.resolve()}Object.assign(r,{initialFrom:c.from,initialTo:c.to,initialCc:c.cc,initialBcc:c.bcc,initialSubject:c.subject,initialBody:{content:e.messageBodiesMap[o].html}})}i(Object(Ie.a)(ve({initialMailboxAttributes:t.mailboxAttributes},e,{listId:s,darlaAds:m,selectedMailbox:a,draftData:r,encryptedQueryParams:n}))),_(d.Eb.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(u.c)()&&p&&Le(p,m)}).catch(e=>i(Object(Ie.b)({error:e})))}].map(e=>({syncer:e,isomorphic:!0})),...ns.map(e=>({syncer:e}))],[r.CREATE_FOLDER_REQUESTED]:(e,t,s)=>{const r=e.dispatch,n=(0,e.getState)(),a=Object(E.selectors)(n),o=a.getSelectedMailboxId;if(!(0,a.isMobileRoute)())return Promise.resolve();const i=t.folderName,c=t.accountId,l=o();return s.mailAPIClient.request("folders.create",{mailboxId:l,folderName:i,accountId:c}).then(e=>{r(Object(ge.b)({folder:e.folder}))}).catch(e=>r(Object(ge.a)({folderName:i,error:e})))},[r.MORE_RECEIPTS_REQUESTED]:Ve,[r.LOCATION_SUGGEST_REQUESTED]:function(e,t,s){const r=e.dispatch,n=t.query,o=t.i13nModel;return Promise.resolve(s.locationAutoSuggestClient.getLocationSuggestion(n,t.partner)).then(e=>{r(Object(st.b)(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?rt(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):rt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},n,{},e,{i13nModel:o})))}).catch(e=>r(Object(st.a)(e)))},[r.RESPOND_TO_INVITE]:(e,t,s)=>{const r=t.messageId,n=t.uid,a=t.response,o=t.oldResponse,i=e.dispatch;return s.calendarClient.sendReply(n,{numGuests:0,partStat:a,email:t.email,comment:""}).then(()=>i(Object(N.g)({uid:n,response:a,messageId:r}))).catch(()=>i(Object(N.f)({uid:n,response:o,messageId:r})))},[r.OPEN_PAGE_REQUESTED]:[Nt],[r.EXTRACT_COUPON_REQUESTED]:function({dispatch:e,getState:t},{messageId:s,description:r,expiryDate:n},{mailAPIClient:o}){const i=Object(E.selectors)(t()),c=i.getSelectedMailboxId,l=i.getMessagesSelectors,_=i.getMessageFolderId,u=(0,i.getFoldersSelectors)(),p=u.getUserCardFolderIds,m=u.getAccountIdByFolderId,S=l(),h=S.getFromAddresses,C=S.getReplyToAddresses,g=c(),O=m(_(s)),T=p(O),A=[{id:d.Cc.CRD,type:d.rb.NORMAL},{id:d.Cc.CPN,type:d.rb.NORMAL},{id:d.Cc.TAG,type:d.rb.NORMAL}],I={from:h(s),replyTo:C(s),subject:r},f=[{schema:{"@id":Object(F.generateRandomStringWithLength)({min:10,max:40}),"@type":d.Ad.Coupon,validThrough:n,description:r,identifier:[{"@id":"http://schema.org/PropertyValue","@type":"PropertyValue",propertyID:"searchTerms",value:r},{"@id":"http://schema.org/PropertyValue","@type":"PropertyValue",propertyID:"cardDate",value:"$.validThrough"}]}}];if(!(s&&T&&r&&n))return Promise.resolve();o.request("cards.create",{mailboxId:g,messageId:s,destinationFolderId:T,headers:I,decos:A,schemaOrg:f}).then(t=>{e(Object(v.k)(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?w(s,!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({messageId:s,listId:Object(U.gb)("{}",{listContentType:d.ac.COUPON_CARDS,listFilter:d.bc.SAVED_COUPON_CARDS,accountIds:[O],referrer:d.cc[d.Ud.COUPONS]})},t)))}).catch(t=>{e(Object(v.j)(t))})},[r.LAUNCH_COMPLETED]:[Nt],[r.DELETE_CONTACT_SUGGESTIONS_REQUESTED]:(e,t,s)=>{const r=e.dispatch;return s.autoSuggestClient.blockContact(t).then(()=>r(Object(Z.deleteContactSuggestionSucceeded)({contactInfo:t.contactInfo}))).catch(e=>r(Object(Z.deleteContactSuggestionFailed)(e)))},[r.FEATURE_CLOSED]:he,[r.FEATURE_TRY_NOW_REQUESTED]:he,[r.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED]:Ce,[r.BLOCK_SENDERS_REQUESTED]:At,[r.BLOCK_SENDERS_WITH_DELETE_REQUESTED]:At,[r.SETTINGS_CHANGE_REQUESTED]:[Gt,(e,{name:t,value:s,action:r},n)=>{const a=e.dispatch,o=e.getState,i=Object(E.selectors)(o()),l=i.getSelectedMailboxId;let _=[];const u=P(i,t,s);return _=_.concat(n.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:l(),attributes:[{id:u,value:u===d.xc.BLOCK_IMAGES?!s:s}]}).then(()=>{a(Object(c.d)({requestActionPayload:r})),u!==d.xc.BLOCK_IMAGES&&u!==d.xc.INBOX_STYLE||window.setTimeout(()=>window.location.reload(),300)}).catch(()=>a(Object(c.c)({requestActionPayload:r})))),Promise.all(_)}],[r.SETTINGS_SAVE_FILTERS_REQUESTED]:function(e,t,s){const r=e.dispatch,n=t.name,a=t.value,o=t.i13nModel;return s.mailAPIClient.request("settings.saveMessageFilters",{payload:a}).then(()=>r(Object(c.d)({name:n,value:a,i13nModel:o}))).catch(e=>r(Object(c.c)({error:e,name:n,value:a})))},[r.AD_FEEDBACK_STARTED]:(e,{sectionId:t,isAdFeedbackV2:s})=>{C(e,h(s?{beaconType:"fdb_cta",isAdFeedbackV2:s}:{beaconType:"fdb_start"}),t)},[r.AD_FEEDBACK_SUBMITTED]:g,[r.AD_FEEDBACK_CLICKED]:g,[r.SPONSORED_SAVE_TO_INBOX_REQUESTED]:(e,t,s)=>{const r=e.dispatch,n=e.getState,a=Object(E.selectors)(n()),o=a.getSelectedMailboxId,i=a.getRoute,c=a.getAccountIdByFolderId,l=a.getInboxFolderIdByAccountId,d=(0,a.getAccountSelectors)().getAccountById,_=o(),u=i(),p=Object(U.z)(u),m=c(Object(U.q)(p)),S=d(m),h=l(m),C={csid:Object(F.generateUID)(),mailboxId:_,subject:t.subject,html:t.asset,from:[S],folderId:h};return s.mailAPIClient.request("sponsoredMessages.save",C,{strategy:j.a.STRATEGIES.BROWSER_TO_JEDI,timeout:Te.a}).then(({message:e})=>{r(Object(Oe.w)({message:e,simpleBody:{html:C.html,htmlAnnotations:[]}}))}).catch(()=>r(Object(Oe.v)()))},[r.SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED]:(e,t,s)=>{const r=e.dispatch,n=t.provider;return s.credstoreClient.unlink({spid:d.Vd[n],provider:n}).then(()=>{r(Object(Mt.p)({provider:n}))}).catch(e=>{r(Object(Mt.o)({error:e}))})}}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(6),d=s(45),E=s(103),_=s(40),u=s(119),p=s(9),m=s(0),S=s(35),h=s(12),C=s.n(h),g=s(691),O=s.n(g),T=s(49),A=s(204),I=s(694),f=s.n(I);Object(l.defineMessages)({"launch.error.banner.alt.text":{id:"launch.error.banner.alt.text",defaultMessage:"banner background"}});class D extends c.a.PureComponent{render(){const e=this.props,t=e.logoUrl,s=e.logoSrcSet,r=this.context,n=r.partner,a=void 0===n?"":n,o=r.intl.formatMessage,i=C()(f.a,{aolUser:a.toUpperCase()===m.he.AOL});return c.a.createElement("div",{className:i.head},c.a.createElement("img",{alt:o(A.a.mailBrandName),src:t||Object(T.a)("/img/yahoo_mail_global_english_white_1x.png"),srcSet:s,className:i.logo}),c.a.createElement("div",{className:i.headerText},o(A.a.mailBrandName)))}}n()(D,"contextTypes",{intl:l.intlShape.isRequired,partner:o.a.string});var R=D,b=s(17),N=s(695),M=s.n(N),y=s(4),L=s(114);const P=C()(M.a);var v=({leftRailSelection:e})=>c.a.createElement("div",{className:P.leftRailItemsContainer},c.a.createElement("button",{className:P.link,disabled:!0},c.a.createElement(l.FormattedMessage,{id:"user_registration_compose_btn",defaultMessage:"Compose"})),e&&c.a.createElement("div",{className:P.accountslist,"data-test-id":"known-imap-provider"},c.a.createElement("div",{className:P.accountsListItem,"data-test-id":"imap-provider-name"},e),c.a.createElement("div",{className:P.moreIcon},c.a.createElement("span",{className:P.iconContainer},c.a.createElement(b.b,{kind:y.Kinds.MORE,size:y.Sizes.XXXS,colorState:y.ColorStates.SECOND_LEVEL_GRAY})))),c.a.createElement("ul",{className:P.folderList},Object(L.e)(9).map(e=>c.a.createElement("li",{key:e,className:P.listItem},c.a.createElement("div",{className:P.folderName,style:{width:e%3*10+28+"px"}})))),c.a.createElement("div",{className:P.header},c.a.createElement("div",{className:P.folderName,style:{width:"41px"}}),c.a.createElement("div",{className:P.folderNameRight,style:{width:"25px"}})),c.a.createElement("ul",{className:P.list},[y.Kinds.TAB_IMAGES,y.Kinds.DOCUMENTS_S,y.Kinds.CAL_MAYBE].map((e,t)=>{const s=t%3*10+28+"px";return c.a.createElement("li",{key:e,className:P.listItem},c.a.createElement(b.b,{kind:e,size:y.Sizes.XS,colorState:y.ColorStates.THIRD_LEVEL_GRAY}),c.a.createElement("div",{className:P.folderName,style:{width:s}}))})));const F=C()(O.a);class U extends c.a.PureComponent{render(){const e=this.props,t=e.leftRailSelection,s=e.renderMainContent;return c.a.createElement("table",{className:F.mainBody,"data-test-id":e.dataTestId},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"3",className:F.headerContainer},c.a.createElement(R,{logoUrl:e.logoUrl,logoSrcSet:e.logoSrcSet,isRTL:e.isRTL}))),c.a.createElement("tr",null,c.a.createElement("td",{className:F.leftRailContainer},c.a.createElement(v,{leftRailSelection:t})),c.a.createElement("td",{className:F.contentContainer,id:"dt-content"},s()),c.a.createElement("td",{className:F.rightRailContainer}))))}}n()(U,"defaultProps",{dataTestId:"mail-app-dt-skeleton-id",renderMainContent:()=>{}});var w=U,G=s(374),H=s.n(G),j=s(20);const k=C()(H.a),x=Object(l.defineMessages)({wrong_mailbox_state_default_header:{id:"wrong_mailbox_state_default_header",defaultMessage:"We're having trouble accessing your mailbox"},wrong_mailbox_state_default_msg:{id:"wrong_mailbox_state_default_msg",defaultMessage:"If you continue to experience issues, please contact {customercare}"},wrong_mailbox_state_customercare:{id:"wrong_mailbox_state_customercare",defaultMessage:"customer care"},wrong_mailbox_state_default_cta:{id:"wrong_mailbox_state_default_cta",defaultMessage:"Try again"},wrong_mailbox_state_maintenance_header:{id:"wrong_mailbox_state_maintenance_header",defaultMessage:"Your new mailbox is on the way!"},wrong_mailbox_state_deleted_header:{id:"wrong_mailbox_state_deleted_header",defaultMessage:"Setting up your mailbox"},wrong_mailbox_state_deleted_msg:{id:"wrong_mailbox_state_deleted_msg",defaultMessage:"A fresh mailbox is being created, since the old one was inactive for more than 12 months."},wrong_mailbox_state_maintenance_msg:{id:"wrong_mailbox_state_maintenance_msg",defaultMessage:"Were just putting the finishing touches on it."},wrong_mailbox_state_maintenance_cta:{id:"wrong_mailbox_state_maintenance_cta",defaultMessage:"Go to Inbox"}}),B={[m.Qe.MAINTENANCE]:{headerLogo:Object(T.a)("/img/festive_graphic.png"),headerString:x.wrong_mailbox_state_maintenance_header,descriptionString:x.wrong_mailbox_state_maintenance_msg,ctaButtonString:x.wrong_mailbox_state_maintenance_cta,hasCTA:!0},[m.Qe.DISABLED]:{headerLogo:Object(T.a)("/img/error_state_1x.png"),headerString:x.wrong_mailbox_state_default_header,descriptionString:x.wrong_mailbox_state_default_msg,ctaButtonString:x.wrong_mailbox_state_default_cta,hasCTA:!1},[m.Qe.DELETED]:{headerLogo:Object(T.a)("/img/festive_graphic.png"),headerString:x.wrong_mailbox_state_deleted_header,descriptionString:x.wrong_mailbox_state_deleted_msg,ctaButtonString:x.wrong_mailbox_state_maintenance_cta,hasCTA:!0},default:{headerLogo:Object(T.a)("/img/error_state_1x.png"),headerString:x.wrong_mailbox_state_default_header,descriptionString:x.wrong_mailbox_state_default_msg,ctaButtonString:x.wrong_mailbox_state_default_cta,hasCTA:!0}},V=({error:e,appName:t},s)=>{const r=s.intl,n=r.locale,a=r.formatMessage,o=s.partner,i=void 0===o?"":o,l=(({errorInfo:e={}})=>e.skipMboxStateCheck?B.default:B[e.mailboxState])({errorInfo:e.data}),d=i.toUpperCase()===m.he.AOL?"https://help.aol.com/contact/":"https://io.help.yahoo.com/contact/index?page=contact&locale=en_US&y=PROD_MAIL_ML",E=Object(j.d)(d,{locale:n}),_=a(x.wrong_mailbox_state_customercare),u=`<a href='${E}' class='${k.anchorStyle}'>${_}.</a>`;let p=(e=>e===m.B.MOBILE_APP?m.uc+"/":e===m.B.BASIC_MOBILE_APP?m.H+"/":e===m.B.BASIC_MAIL_APP?m.G+"/":m.mb+"/")(t);return p+=(-1===p.indexOf("?")?"?":"&")+"mboxstate="+e.data.mailboxState,c.a.createElement("div",{className:k.container},c.a.createElement("img",{alt:a(l.headerString),src:l.headerLogo}),c.a.createElement("h1",{className:k.header},a(l.headerString)),c.a.createElement("div",{className:k.body},c.a.createElement("div",{className:k.description,dangerouslySetInnerHTML:{__html:a(l.descriptionString,{customercare:u})}})),c.a.createElement("div",{className:k.footer},l.hasCTA?c.a.createElement("a",{href:p,className:k.buttonStyle,rel:"noopener","data-test-id":"launch-error-action"},a(l.ctaButtonString)):null))};V.contextTypes={intl:l.intlShape,mailBrandNameString:o.a.string,partner:o.a.string};var W=V,K=s(182);const q=C()(H.a),Y={15:Object(K.i)("SLN3549"),19:Object(K.i)("SLN3553")},z=Object(l.defineMessages)({"launch.error.classic.mail.url":{id:"launch.error.classic.mail.url",defaultMessage:"Go to Classic Mail"},"launch.error.basic.mail.url":{id:"launch.error.basic.mail.url",defaultMessage:"Try basic version"},"launch.error.launch_api_error.title":{id:"launch.error.launch_api_error.title",defaultMessage:"We are experiencing some technical difficulties"},"launch.error.launch_api_error.body":{id:"launch.error.launch_api_error.body",defaultMessage:"Temporary Error: {code}"},"launch.error.no_script_error.title":{id:"launch.error.no_script_error.title",defaultMessage:"Javascript is not enabled on your browser."},"launch.error.no_script_error.body":{id:"launch.error.no_script_error.body",defaultMessage:"Enable javascript to enjoy all the features in {mailBrandNameString}."},"launch.error.react_error.title":{id:"launch.error.react_error.title",defaultMessage:"{mailBrandNameString} has encountered a problem."},"launch.error.react_error.body":{id:"launch.error.react_error.body",defaultMessage:"Please wait a moment and then try going to your Inbox again."},"launch.error.default.oops":{id:"launch.error.default.oops",defaultMessage:"Oops!"},"launch.error.page_not_found.title":{id:"launch.error.page_not_found.title",defaultMessage:"Page not available"},"launch.error.page_not_found.body":{id:"launch.error.page_not_found.body",defaultMessage:"The requested page is not available on Mail."},"launch.error.default.title":{id:"launch.error.default.title",defaultMessage:"Your mail is temporarily unavailable."},"launch.error.default.body":{id:"launch.error.default.body",defaultMessage:"Please wait a moment and reload the page."},"launch.error.mailbox.maintenance.title":{id:"launch.error.mailbox.maintenance.title",defaultMessage:"Setting up your mailbox"},"launch.error.mailbox.maintenance.body":{id:"launch.error.mailbox.maintenance.body",defaultMessage:"Your new mailbox is being built, since you just created an account or your mailbox has been inactive for at least 12 months."},"launch.error.mailbox.inactive.title":{id:"launch.error.mailbox.inactive.title",defaultMessage:"We're having trouble accessing your mailbox"},"launch.error.mailbox.inactive.body":{id:"launch.error.mailbox.inactive.body",defaultMessage:"If you continue to experience issues, please contact"},"launch.error.help.pages":{id:"launch.error.help.pages",defaultMessage:"Learn more"},"launch.error.customercare":{id:"launch.error.customercare",defaultMessage:"customer care."},"launch.error.goto.inbox":{id:"launch.error.goto.inbox",defaultMessage:"Go to Inbox"},"launch.error.try.again":{id:"launch.error.try.again",defaultMessage:"Try again"},"launch.error.switch_account.title":{id:"launch.error.switch_account.title",defaultMessage:"This account has no mailbox"},"launch.error.switch_account_phone.body":{id:"launch.error.switch_account_phone.body",defaultMessage:"You're signed in with phone number {loginAlias}."},"launch.error.switch_account_external.body":{id:"launch.error.switch_account_external.body",defaultMessage:"You're signed in as {loginAlias}."},"launch.error.switch_account.optin":{id:"launch.error.switch_account.optin",defaultMessage:"Switch to the newest {mailBrandNameString}"},"launch.error.switch_account.login":{id:"launch.error.switch_account.login",defaultMessage:"Sign in to a different account"}});class Q extends c.a.Component{constructor(e){super(e),n()(this,"getTitleText",()=>{const e=this.props,t=e.mailBrandNameString,s=this.context.intl.formatMessage;switch(e.type){case m.zb.LAUNCH_PAGE_NOT_FOUND_ERROR:return s(z["launch.error.page_not_found.title"]);case m.zb.LAUNCH_API_ERROR:return s(z["launch.error.launch_api_error.title"]);case m.zb.NO_SCRIPT:return s(z["launch.error.no_script_error.title"]);case m.zb.REACT_ERROR:return s(z["launch.error.react_error.title"],{mailBrandNameString:t});case m.zb.SWITCH_ACCOUNT:return s(z["launch.error.switch_account.title"]);default:return s(z["launch.error.default.title"])}}),n()(this,"getBodyText",()=>{const e=this.props,t=e.code,s=e.loginAlias,r=e.accountType,n=e.mailBrandNameString,a=this.context.intl.formatMessage;switch(e.type){case m.zb.LAUNCH_PAGE_NOT_FOUND_ERROR:return a(z["launch.error.page_not_found.body"]);case m.zb.LAUNCH_API_ERROR:return a(z["launch.error.launch_api_error.body"],{code:t});case m.zb.NO_SCRIPT:return a(z["launch.error.no_script_error.body"],{mailBrandNameString:n});case m.zb.REACT_ERROR:return a(z["launch.error.react_error.body"]);case m.zb.SWITCH_ACCOUNT:return a(r===m.n.EXTERNAL?z["launch.error.switch_account_external.body"]:z["launch.error.switch_account_phone.body"],{loginAlias:s});default:return a(z["launch.error.default.body"])}}),n()(this,"getHelpPageURL",()=>{const e=this.context.intl.locale||"en-US",t=this.props.code,s=e.replace("-","_"),r=this.context.partner,n=void 0===r?"":r,a=n.toUpperCase()===m.he.AOL?"https://help.aol.com/contact/":"https://io.help.yahoo.com/contact/index?page=contact&locale=en_US&y=PROD_MAIL_ML";return Y[t]?Object(j.d)(Y[t](e,n),{locale:s}):Object(j.d)(a,{locale:s})}),n()(this,"getHelpLinkMarkUp",()=>{if(this.props.type===m.zb.SWITCH_ACCOUNT)return null;const e=this.getHelpPageURL(),t=(0,this.context.intl.formatMessage)(z["launch.error.help.pages"]);return c.a.createElement("a",{href:e,target:"_blank",className:q.anchorStyle,rel:"noopener"},t)}),n()(this,"getCTAMarkUp",()=>{const e=this.props,t=e.norrinOptin,s=e.crumb,r=e.mailBrandNameString,n=e.appName,a=e.norrinHost,o=this.context,i=o.intl,l=i.locale,d=i.formatMessage,E=o.region,_=o.partner;let u=null,p=this.appRootPath;switch(e.type){case m.zb.LAUNCH_PAGE_NOT_FOUND_ERROR:case m.zb.REACT_ERROR:u=d(z["launch.error.goto.inbox"]);break;case m.zb.SWITCH_ACCOUNT:t&&n===m.B.BASIC_MAIL_APP?(u=d(z["launch.error.switch_account.optin"],{mailBrandNameString:r||d(A.a.mailBrandName)}),p=`${a}/optin?crumb=${s}`):(u=d(z["launch.error.switch_account.login"]),p=Object(m.Ne)(E,l,_));break;default:u=d(z["launch.error.try.again"])}return c.a.createElement("div",null,c.a.createElement("a",{href:p,className:q.buttonStyle,rel:"noopener","data-test-id":"launch-error-action"},u))}),n()(this,"renderBody",()=>{const e=this.getBodyText(),t=this.getHelpLinkMarkUp();return c.a.createElement("div",null,c.a.createElement("div",{className:"warnBody"},e,c.a.createElement("br",null),t))}),n()(this,"renderLaunchErrorAction",()=>{const e=this.context.intl.formatMessage,t=this.props,s=t.type,r=t.cspToken,n=t.appName,a=t.nodinHost,o=t.nobleBasicHost,i="window.location = '"+this.appRootPath+"?reason=no_script';",l=t.showCTAInErrorPage?this.getCTAMarkUp():null;let d=a;d=n===m.B.MOBILE_APP?o:a,d+="?reason=nojs";const E=e(n===m.B.MOBILE_APP?z["launch.error.basic.mail.url"]:z["launch.error.classic.mail.url"]),_=c.a.createElement("div",null,c.a.createElement("a",{href:d,className:q.buttonStyle,rel:"noopener"},E),c.a.createElement("script",{type:"text/javascript",nonce:r,dangerouslySetInnerHTML:{__html:i}}));switch(s){case m.zb.NO_SCRIPT:return _;default:return l}});const t=e.appName;this.appRootPath=t===m.B.MOBILE_APP?m.uc+"/":t===m.B.BASIC_MOBILE_APP?m.H+"/":t===m.B.BASIC_MAIL_APP?m.G+"/":m.mb+"/"}render(){const e=this.context.intl.formatMessage,t=this.getTitleText()||e(z["launch.error.default.oops"]),s=Object(T.a)("/img/error_state_1x.png");return c.a.createElement("div",{className:q.container},c.a.createElement("style",null,"\n    html,\n    body {\n        height: 100%;\n    }\n"),c.a.createElement("img",{src:s}),c.a.createElement("h1",{className:q.header},t),c.a.createElement("div",{className:q.body},c.a.createElement("div",{className:q.description},this.renderBody())),c.a.createElement("div",{className:q.footer},this.renderLaunchErrorAction()))}}n()(Q,"contextTypes",{intl:l.intlShape.isRequired,region:o.a.string,partner:o.a.string}),n()(Q,"defaultProps",{showCTAInErrorPage:!0});var Z=Q,X=s(27),$=s.n(X),J=s(696),ee=s.n(J),te=s(47),se=s(54),re=s(355);const ne=Object(T.a)("/img/festive_graphic.png"),ae=C()(ee.a),oe=[m.xb.GOOGLE,m.xb.OUTLOOK,m.xb.AOL],ie=Object(l.defineMessages)({header_message:{id:"nodin.external_users_header_message",defaultMessage:"Add your existing mailboxes to {mailBrandNameString}"},switch_account:{id:"nodin.external_users_switch_account",defaultMessage:"Switch account"}}),ce=({accountType:e,userName:t},s)=>{const r=s.intl,n=r.locale,a=r.formatMessage,o=s.region,i=Object(te.e)(t);se.a.error("nodin_imap_upsell",{accountType:e,provider:i,userName:t});const d=c.a.createElement("b",{className:ae.userName},t);return c.a.createElement("div",{className:ae.upsellPage},c.a.createElement("img",{className:ae.image,alt:a(ie.header_message,{mailBrandNameString:s.mailBrandNameString}),src:ne}),c.a.createElement("h1",{className:ae.header},c.a.createElement(l.FormattedMessage,$()({},ie.header_message,{values:{mailBrandNameString:s.mailBrandNameString}}))),c.a.createElement("div",{className:ae.body},c.a.createElement("div",{className:ae.description},c.a.createElement(l.FormattedMessage,e===m.n.PHONE?{id:"nodin.external_phone_login_message",defaultMessage:"You're signed in with phone number {userName}",values:{userName:d}}:{id:"nodin.external_email_login_message",defaultMessage:"You're signed in as {userName}.",values:{userName:d}}),"",c.a.createElement("a",{className:ae.switchAccount,href:Object(m.Ne)(o,n),title:a(ie.switch_account)},c.a.createElement(l.FormattedMessage,ie.switch_account))),c.a.createElement("div",{className:ae.description},c.a.createElement(l.FormattedMessage,i?{id:"nodin.external_users_known_imap_description",defaultMessage:"You can read, compose and sort all your {name} messages from Yahoo Mail.",values:{name:Object(te.f)(i)}}:{id:"nodin.external_users_unkown_imap_description",defaultMessage:"You can access your Google, Outlook and AOL mailboxes, all from within Yahoo Mail."})),c.a.createElement("div",{className:ae.providersOption},c.a.createElement("ol",{className:ae.accountList},oe.filter(e=>!i||i===e).map(e=>c.a.createElement("li",{key:e,className:ae.listItem,"data-test-id":"supported-imap-providers"},c.a.createElement(re.a,{provider:e}),c.a.createElement("button",{"data-test-id":`add-account-${e}-btn`,"data-email":i?t:"",id:`add-account-${e}-btn`,className:ae.primaryButton},c.a.createElement(l.FormattedMessage,i?{id:"nodin.user_registration_sign_in_btn",defaultMessage:"Sign in to {name}",values:{name:Object(te.f)(i)}}:{id:"nodin.user_registration_add_account",defaultMessage:"Add account"}))))))),c.a.createElement("div",{className:ae.footer},!i&&c.a.createElement(l.FormattedMessage,{id:"nodin.external_supported_providers",defaultMessage:"We only support these providers as of now"})))};ce.contextTypes={intl:l.intlShape,region:o.a.string,mailBrandNameString:o.a.string};var le=ce,de=s(11);const Ee=""+1.75*de.G,_e=""+-11.25*de.G,ue=""+-25*de.G,pe=""+-38*de.G,me=""+-50*de.G,Se=""+-62*de.G,he=Object(T.a)("/img/trap_page_browser_logos.png"),Ce={clear:"both",minHeight:"26px",padding:`${3.5*de.G}px 0 ${3.5*de.G}px ${12.5*de.G}px`,background:"url("+he+") no-repeat 0 0"};var ge={outerWrapper:{width:"100%"},contentHolder:{width:"45%",minWidth:100*de.G+"px",maxWidth:175*de.G+"px",margin:"0px auto",padding:`${6*de.G}px ${6*de.G}px ${5*de.G}px ${6*de.G}px`},iconWrapper:{float:"left",marginRight:5*de.G+"px"},icon:{width:9*de.G+"px",height:9*de.G+"px"},title:{marginBottom:4*de.G+"px"},classicMailHolder:{marginTop:-1*de.G+"px"},classicMailDesc:{fontSize:de.E,display:"block",color:de.A,fontStyle:"normal"},ul:{listStyleType:"none",padding:"0px",margin:"0px"},upgradeLink:{float:"right",padding:`${1.5*de.G}px ${4.5*de.G}px`,marginTop:-1.5*de.G+"px",textDecoration:"none",fontSize:de.D,fontWeight:"500",cursor:"pointer",borderRadius:de.G/2+"px",color:de.vb,backgroundColor:de.tb,border:`${de.G/4}px solid ${de.tb}`,width:17.5*de.G+"px",textAlign:"center"},edgeLink:{marginTop:"0px"},nonActiveLink:{color:de.tb,backgroundColor:de.Mb,marginTop:"0px"},disableLink:{color:de.ub,border:`${de.G/4}px solid ${de.ub}`,backgroundColor:de.Mb,marginTop:"0px",cursor:"not-allowed"},chrome:Object.assign({},Ce,{backgroundPosition:`0 ${Ee}px`}),firefox:Object.assign({},Ce,{backgroundPosition:`0 ${_e}px`}),ie:Object.assign({},Ce,{backgroundPosition:`0 ${ue}px`}),edge:Object.assign({},Ce,{backgroundPosition:`0 ${me}px`}),safari:Object.assign({},Ce,{backgroundPosition:`0 ${pe}px`}),classic:Object.assign({},Ce,{backgroundPosition:`0 ${Se}px`})};function Oe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Te(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Oe(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Oe(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Ae=Object(l.defineMessages)({rs_page_icon_alert:{id:"rs_page_icon_alert",defaultMessage:"Alert icon"},rs_page_chrome:{id:"rs_page_browser_chrome",defaultMessage:"Google Chrome"},rs_page_msedge:{id:"rs_page_browser_msedge",defaultMessage:"Microsoft Edge"},rs_page_msedge_for_ie:{id:"rs_page_msedge_for_ie",defaultMessage:"Requires Edge 15 or newer"},rs_page_msedge_for_edge:{id:"rs_page_msedge_for_edge",defaultMessage:"This version of Edge is not supported."},rs_page_firefox:{id:"rs_page_browser_firefox",defaultMessage:"Firefox"},rs_page_ie:{id:"rs_page_browser_ie",defaultMessage:"Internet Explorer"},rs_page_safari:{id:"rs_page_browser_safari",defaultMessage:"Safari"},rs_page_recommend_text:{id:"rs_page_recommend_text_1",defaultMessage:"The latest version of {mailBrandNameString} is not supported on your browser. Please use a supported browser below or use basic Mail."},rs_page_opennow_link_text:{id:"rs_page_opennow_link_text",defaultMessage:"Open now"},rs_page_upgrade_link_text:{id:"rs_page_upgrade_link_text",defaultMessage:"Download"},rs_page_try_later_link_text:{id:"rs_page_try_later_link_text",defaultMessage:"Continue"},rs_page_basic_mail_title:{id:"rs_page_basic_mail_title",defaultMessage:"Continue with basic Mail"},rs_page_basic_mail_desc:{id:"rs_page_basic_mail_desc",defaultMessage:"This version has fewer features but supports older browsers."}});class Ie extends c.a.Component{constructor(...e){super(...e),n()(this,"renderBrowserUpgradeRow",(e,t,s,r,n)=>{const a=this.props.browserName,o=s===Ae.rs_page_msedge,i=this.showEdgeLink()&&!o&&"IE"===a?ge.nonActiveLink:{},d=o&&"Edge"===a?ge.disableLink:ge.edgeLink,E=o&&"Edge"===a?"_self":"_blank";return c.a.createElement("li",{style:Object.assign({},e)},c.a.createElement("a",{href:t,style:Te({},ge.upgradeLink,{},i,{},d),target:E,rel:"noopener"},c.a.createElement(l.FormattedMessage,n||Ae.rs_page_upgrade_link_text)),r?c.a.createElement("div",{style:ge.classicMailHolder},c.a.createElement(l.FormattedMessage,s),c.a.createElement("em",{style:ge.classicMailDesc},c.a.createElement(l.FormattedMessage,r))):c.a.createElement(l.FormattedMessage,s))}),n()(this,"renderChrome",()=>this.renderBrowserUpgradeRow(Te({},ge.chrome),"https://www.google.com/chrome/browser/desktop/index.html",Ae.rs_page_chrome)),n()(this,"renderEdgeLauncher",(e,t)=>this.renderBrowserUpgradeRow(ge.edge,"Edge"===e?"#":"microsoft-edge:"+t,Ae.rs_page_msedge,"Edge"===e?Ae.rs_page_msedge_for_edge:Ae.rs_page_msedge_for_ie,Ae.rs_page_opennow_link_text)),n()(this,"renderFirefox",()=>this.renderBrowserUpgradeRow(ge.firefox,"https://www.mozilla.org/en-US/firefox/download/thanks/",Ae.rs_page_firefox)),n()(this,"renderSafari",()=>this.renderBrowserUpgradeRow(ge.safari,"https://support.apple.com/HT201541",Ae.rs_page_safari)),n()(this,"showEdgeLink",()=>{const e=this.props;return"10"===e.osVersion&&"windows"===e.os})}render(){const e=this.props,t=e.browserName,s=e.os,r=e.mailBrandNameString,n=e.globalHost,a=this.props.classicMailUrl,o=void 0===a?e.nodinHost+"?.src=ym&reason=unsupported_browser&toB=2":a;return c.a.createElement("div",{style:ge.outerWrapper},c.a.createElement("div",{style:ge.contentHolder,className:"usb_content_holder"},c.a.createElement("div",{style:ge.title},c.a.createElement(l.FormattedMessage,$()({},Ae.rs_page_recommend_text,{values:{mailBrandNameString:r}}))),c.a.createElement("ul",{style:ge.ul,className:"usb_list"},this.showEdgeLink()&&this.renderEdgeLauncher(t,n),"Chrome"===t&&this.renderChrome(),"Firefox"===t&&this.renderFirefox(),"Safari"===t&&this.renderSafari(),"Chrome"!==t&&this.renderChrome(),"Firefox"!==t&&this.renderFirefox(),"Safari"!==t&&s===m.Sc.MAC&&this.renderSafari(),c.a.createElement("li",{style:Object.assign({},ge.li,ge.classic)},c.a.createElement("a",{href:o,style:Object.assign({},ge.upgradeLink,ge.nonActiveLink),rel:"noopener"},c.a.createElement(l.FormattedMessage,Ae.rs_page_try_later_link_text)),c.a.createElement("div",{style:ge.classicMailHolder},c.a.createElement(l.FormattedMessage,Ae.rs_page_basic_mail_title),c.a.createElement("em",{style:ge.classicMailDesc},c.a.createElement(l.FormattedMessage,Ae.rs_page_basic_mail_desc)))))))}}n()(Ie,"contextTypes",{intl:l.intlShape.isRequired}),n()(Ie,"defaultProps",{browserName:"",os:"",osVersion:""});var fe=Ie;const De=Object(l.defineMessages)({"launch.error.banner.alt.text":{id:"launch.error.banner.alt.text",defaultMessage:"banner background"},"launch.error.inbox.text":{id:"launch.error.inbox.text",defaultMessage:"Inbox"}});class Re extends c.a.Component{constructor(...e){super(...e),n()(this,"initRapidClient",()=>{d.b.init({rapid:{spaceid:159600033,test_id:"norrin",keys:window.BrowserLoggerParams,dwell_on:!0,extendbcookie:!0}})}),n()(this,"getErrorType",()=>{const e=this.props,t=e.nodinPhoneEmailReg;switch(e.error.name){case S.o:return m.zb.LAUNCH_PAGE_NOT_FOUND_ERROR;case S.m:return m.zb.LAUNCH_API_ERROR;case S.l:return m.zb.ABUSIVE_USER;case S.p:return m.zb.WRONG_MAILBOX_STATE;case"LaunchError.NoScript":return m.zb.NO_SCRIPT;case"LaunchError.UnsupportedBrowser":return m.zb.UNSUPPORTED_BROWSER;case S.n:return t?m.zb.NO_ACTIVE_MAILBOX:m.zb.SWITCH_ACCOUNT;case m.zb.REACT_ERROR:return m.zb.REACT_ERROR;case"GenericError":case"UnknownError":return m.zb.SERVER_ERROR}return m.zb.DEFAULT}),n()(this,"getErrorMessage",()=>this.props.error.message),n()(this,"_getErrorProperty",e=>{const t=this.props.error;return Object(p.b)(t,"data."+e,null)}),n()(this,"getApiName",()=>this._getErrorProperty("apiName")),n()(this,"getErrorCode",()=>this._getErrorProperty("errorCode")),n()(this,"getStatusCode",()=>this._getErrorProperty("statusCode")),n()(this,"getExtraErrorCode",()=>this._getErrorProperty("extraErrorCode")),n()(this,"getExtraStatusCode",()=>this._getErrorProperty("extraStatusCode")),n()(this,"getCode",()=>this._getErrorProperty("code")),n()(this,"getBrowserName",()=>this._getErrorProperty("browserName")),n()(this,"getOS",()=>this._getErrorProperty("os")),n()(this,"getOSVersion",()=>this._getErrorProperty("osVersion")),n()(this,"getBasicMailUrl",()=>this._getErrorProperty("basicMailUrl")),n()(this,"getCspToken",()=>this._getErrorProperty("cspToken")),n()(this,"getCspToken",()=>this._getErrorProperty("cspToken")),n()(this,"getLoginAlias",()=>this._getErrorProperty("loginAlias")),n()(this,"getAccountType",()=>this._getErrorProperty("accountType")),n()(this,"isNorrinOptinEnabled",()=>this._getErrorProperty("norrinOptin")),n()(this,"renderLaunchErrorDialog",()=>{const e=this.props,t=e.isRTL,s=e.mailBrandNameString,r=e.crumb,n=e.showCTAInErrorPage,a=e.endpoints,o=e.appName,i=this.getErrorType(),l=a.GLOBAL_NODIN_HOST,d=a.GLOBAL_NORRIN_HOST,E=a.GLOBAL_NOBLE_BASIC_HOST,_=a.GLOBAL_HOST;switch(i){case m.zb.LAUNCH_API_ERROR:return c.a.createElement(Z,{appName:o,type:i,code:this.getCode(),isRTL:t,mailBrandNameString:s,nodinHost:l,norrinHost:d,nobleBasicHost:E});case m.zb.NO_SCRIPT:return c.a.createElement(Z,{appName:o,type:i,cspToken:this.getCspToken(),isRTL:t,mailBrandNameString:s,nodinHost:l,norrinHost:d,nobleBasicHost:E});case m.zb.UNSUPPORTED_BROWSER:return c.a.createElement(fe,{browserName:this.getBrowserName(),os:this.getOS(),osVersion:this.getOSVersion(),classicMailUrl:this.getBasicMailUrl(),mailBrandNameString:s,nodinHost:l,globalHost:_});case m.zb.WRONG_MAILBOX_STATE:return c.a.createElement(W,this.props);case m.zb.SWITCH_ACCOUNT:return c.a.createElement(Z,{appName:o,type:i,norrinOptin:this.isNorrinOptinEnabled(),loginAlias:this.getLoginAlias(),accountType:this.getAccountType(),crumb:r,isRTL:t,showCTAInErrorPage:n,mailBrandNameString:s,nodinHost:l,norrinHost:d,nobleBasicHost:E});case m.zb.NO_ACTIVE_MAILBOX:return c.a.createElement(le,{userName:this.getLoginAlias(),accountType:this.getAccountType(),crumb:r,isRTL:t});case m.zb.ABUSIVE_USER:case m.zb.REACT_ERROR:case m.zb.LAUNCH_PAGE_NOT_FOUND_ERROR:case m.zb.SERVER_ERROR:case m.zb.DEFAULT:return c.a.createElement(Z,{appName:o,type:i,isRTL:t,mailBrandNameString:s,nodinHost:l,norrinHost:d,nobleBasicHost:E})}return null})}getChildContext(){const e=this.props;return{mailBrandNameString:e.mailBrandNameString,partner:e.partner}}componentDidMount(){const e=this.getErrorType(),t=this.getErrorMessage();if(t!==S.a&&t!==S.r){if(e===m.zb.LAUNCH_API_ERROR||e===m.zb.SERVER_ERROR){let e=this.props.error;e=_.a.jsonToError(e);const t={apiName:this.getApiName(),errorCode:this.getErrorCode(),statusCode:this.getStatusCode(),isOnline:!0},s=this.getExtraErrorCode(),r=this.getExtraStatusCode();s&&(t.extraErrorCode=s),r&&(t.extraStatusCode=r),this.initRapidClient(),Object(u.apiErrorLogger)(E.a,m.z.MailAPIClient,t,e)}}else window.location.href=m.Jc+"?reason="+S.t[t]+"&crumb="+this.props.crumb}render(){const e=this.getErrorMessage();if(e===S.a||e===S.r)return null;const t=this.props;return c.a.createElement(w,{renderMainContent:()=>this.renderLaunchErrorDialog(),logoUrl:t.logoUrl,logoSrcSet:t.logoSrcSet,isRTL:t.isRTL,leftRailSelection:(0,this.context.intl.formatMessage)(De["launch.error.inbox.text"])})}}n()(Re,"contextTypes",{intl:l.intlShape.isRequired}),n()(Re,"childContextTypes",{mailBrandNameString:o.a.string,region:o.a.string,intl:l.intlShape,partner:o.a.string});t.a=Re},,function(e,t,s){"use strict";s.d(t,"a",(function(){return g}));s(7);var r=s(1),n=s.n(r),a=s(6),o=s(12),i=s.n(o),c=s(685),l=s.n(c),d=s(491),E=s(0),_=s(79),u=s(16),p=s(5),m=s(17),S=s(4);const h=(e,t)=>{const s=e.lastImportedTime,o=t.intl.formatDate;switch(e.accountStatus){case E.Wd.CONNECTED:return n.a.createElement(a.FormattedMessage,{id:"importAccountItem.connectedImportMessage",defaultMessage:"Importing new contacts everyday."});case E.Wd.EXPIRED:return n.a.createElement(a.FormattedMessage,{id:"importAccountItem.expiredImportMessage",defaultMessage:"Last imported on {date}.",values:{date:o(s)}});case E.Wd.QUEUED:return n.a.createElement(a.FormattedMessage,{id:"importAccountItem.queuedImportMessage",defaultMessage:"Import in progress"});case E.Wd.FAILED:return n.a.createElement(r.Fragment,null,n.a.createElement(m.b,{kind:S.Kinds.EXCLAMATION_ALT,size:S.Sizes.XXS,colorState:S.ColorStates.WARNING_GRAD_RED}),n.a.createElement(a.FormattedMessage,{id:"importAccountItem.errorImportMessage",defaultMessage:"Error importing contacts. Try importing again."}));case E.Wd.NOT_CONNECTED:default:return null}};h.contextTypes={intl:a.intlShape.isRequired};var C=h;const g={[E.xb.GOOGLE]:{importMKey:p.g.IMPORT_GMAIL_CONTACTS,disconnectMKey:p.g.DISCONNECT_GMAIL_CONTACTS,displayName:_.a.gmail_account_description},[E.xb.YAHOO]:{importMKey:p.g.IMPORT_YMAIL_CONTACTS,disconnectMKey:p.g.DISCONNECT_YMAIL_CONTACTS,displayName:_.a.yahoo_account_description},[E.xb.AOL]:{importMKey:p.g.IMPORT_AOL_CONTACTS,disconnectMKey:p.g.DISCONNECT_AOL_CONTACTS,displayName:_.a.aol_account_description},[E.xb.OUTLOOK]:{importMKey:p.g.IMPORT_OUTLOOK_CONTACTS,disconnectMKey:p.g.DISCONNECT_OUTLOOK_CONTACTS,displayName:_.a.outlook_account_description}},O=(e,t)=>{const s=e.provider,r=e.accountStatus,o=e.lastImportedTime,c=e.onConnect,_=e.onDisconnect,m=i()(l.a),S=t.intl.formatMessage,h=g[s]||{},O=r===E.Wd.CONNECTED||r===E.Wd.QUEUED;return n.a.createElement("li",{className:m.listItem,onClick:e=>{let t,r;O?(t=h.disconnectMKey,r=_):(t=h.importMKey,r=c),r({url:"",provider:s,providerType:"EMAIL_PROVIDERS",providerName:h.displayName?S(h.displayName):s,i13nModel:{mKey:t,sec:p.i.SETTINGS_CONTACTS_TAB,interactionType:Object(u.getInteractionFromEvent)(e)}})},role:"button"},n.a.createElement(d.a,{accountType:s,"aria-hidden":!0}),n.a.createElement("div",{className:m.accountInfo},n.a.createElement("div",{className:m.accountName},h.displayName?S(h.displayName):s),n.a.createElement("div",{className:m.accountStatusInfo},n.a.createElement(C,{accountStatus:r,lastImportedTime:o}))),n.a.createElement("div",{className:m.accountStatus},n.a.createElement(a.FormattedMessage,O?{id:"import_account_item.disconnectButtonText",defaultMessage:"Stop importing"}:{id:"import_account_item.importButtonText",defaultMessage:"Import"})))};O.contextTypes={intl:a.intlShape.isRequired};t.b=O},function(e,t,s){"use strict";var r=s(70);t.a=s.n(r).a.create("norrin/gemini_client")},,function(e,t,s){"use strict";e.exports={className:{default:{surveyContainer:"W_3zBDu I_52qC",headerSection:"D_F gl_C ek_BB p_R",imageWrapper:"D_F gl_C je_6MGW",optOutBackground:"D_F W_3vqYW gl_C aw_1YkwOl H_7kKt",titleText:"t_C A_6FsP u_e69 Y_6LEV",closeButton:"p_a T_6Eb4 R_6Eb4",bodySection:"P_4dtF7",optionsContainer:"hd_n P_0 M_0",textArea:"H_7rdk W_3v3uk V_GM e_dRA b_2w4l8N Y_6MGW y_Z2hYGcu A_6EqO jw_n N_eo6 X_eo6 I_ZnkeaL",buttonWrapper:"Y_6Eb4 P_1DfIQP D_F",messageCounter:"C_Z1VRpVF t_r H_6Eb4",submitMessage:"C_Z1YRXYn t_C je_6Fd5 jb_6MGW",sadFace:"H_7yHc W_7yHc",chick:"H_7yHc W_7yHc D_n"},isPanelFocus:{textArea:"I_52qC l_Z2aVTcY"},submit:{sadFace:"D_n",chick:"D_B"}},_key:"b0SDf"}},function(e,t,s){"use strict";e.exports={className:{default:{pillContent:"C_Z281SGl k_w e_6Eb4 b_Z14vXdP M_dRA H_6MGW i_6Mbr ac_C ab_C D_F p_R o_h I_52qC Z_N",avatar:"D_F P_dBP",pillRemove:"D_F p_a R_0 T_0 q_q H_6D6F P_3gIgH M_0 en_0",pillText:"P_oRhLS",dragHoverContent:"D_F H_6D6F W_6D6F p_a T_0 L_0 Z_N",dragHoverLeft:"em_N",dragHoverRight:"em_N",pillContainer:"p_R",editInput:"s_3qWeB b_dm5 A_6EqO"},isHovered:{pillContent:"I_ZoExDJ J_x l_ZoExDJ"},isDragImg:{pillContent:"b_2fAfSG"},isSelected:{pillContent:"l_Z2aVTcY I_ZoExDJ"},hasError:{pillContent:"b_Z1222NH I_Zkgkoa",pillText:"P_3gJOe"},useEllipsis:{pillText:"k_BF J_x o_h G_e"},isDark:{pillContent:"C_52qC I_2sqbPK b_efTvb"},isFolderPill:{pillDiv:"W_6LEV H_6LEV I_ZnIF8Y D_F ab_C gl_C e_e5X"},isDragged:{pillContainer:"D_n"},"dragSide-left":{pillContent:"Q_GAbAU",dragHoverRight:"em_0"},"dragSide-right":{pillContent:"E_GAbAU",dragHoverLeft:"em_0"}},_key:"CLv4H"}},function(e,t,s){"use strict";e.exports={className:{default:{header:"r_P D_F W_6D6F p_R P_3Y3Gk ir_0",fromField:"u_b en_0 C4_Z2aVTcY",fromEmail:"u_N C_Z1VRpVF",snippet:"J_x o_h C_Z1VRpVF",snippetContainer:"J_x o_h G_e Q_fq7",fromRow:"D_F en_0",avatar:"en_0 Q_fq7 i_0",date:"D_F en_0 M_3gJOe A_6Eb4 C_Z1VRpVF",readUnread:"D_F ac_FT ab_CI en_0",star:"D_F ab_CI Y_689y en_0",attachment:"D_F en_0 s_6LEV H_6LEV M_Ue8I8",print:"en_0 s_6Fd5 H_6Fd5 M_3gJOe cdPFi_Z281SGl O_cMr O4_cMu",flexVertical:"o_h D_F em_N E_fq7",highlightedTerm:"I_2ieea9 D_X P_3zDxc"},"expandable-false":{header:"r_BN"},"expanded-false":{flexVertical:"ab_C",readUnread:"ab_C",date:"ab_C",attachment:"ab_C",star:"ab_C Y_e8l cdPFi_ZpQYvz H_6MGW W_6MGW lv_1IWXzk h_Z13pql2 h4_2d9T5e"},expanded:{header:"P_Zjgzuf",flexVertical:"ek_BB em_0",star:"Y_68F4 cdPFi_ZpQYvz H_6MGW W_6MGW lv_1IWXzk h_Z13pql2 h4_2d9T5e"},isEnhancedMessageIcon:{avatar:"Q_6Eb4 E_eo6"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"}},_key:"Z2mbTM8"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"H_6UbO k_w X_fq7 C_Z1YRXYn A_6EqO u_b I_52qC",listDivider:"W_6D6F H_dRA I_ZpQYvz M_Z3ND8M",couponHeader:"u_b C_Z281SGl E_eo6 A_6EWk"},shadow:{container:"j_1OUMqq"},leftPadded:{container:"X_6MGW"},stickyTimechunk:{container:"X_6MGW U_dRA"},fixedInTravelCard:{container:"X_6MGW"},gray:{container:"D_F ab_C I_ZnIF8Y A_6EGz i_6FIA u_N C_Z1VRpVF N_6Fd5 X_6Fd5 je_0 m_Z14vXdP"},black:{container:"C_Z281SGl"},longAndWideDivider:{container:"je_0 X_0 U_6Fd5",listDivider:"H_eo6 U_6LEV"},noDivider:{container:"je_0 X_0 Y_6Fd5",listDivider:"H_eo6 U_6LEV",infoText:"Q_6Fd5"},extraMarginInfoText:{infoText:"Q_6LEV"},spacedHeader:{container:"je_6LEV U_fq7"},isDarkThemeMode:{container:"I_T C_52qC",listDivider:"I_ajOPR",couponHeader:"C_52qC"},flex:{container:"D_F ab_C gl_FM"},couponSeparator:{container:"gl_BZ"},isTimechunk:{container:"D_F ab_C"},grocerySeparator:{container:"H_82XEY"}},_key:"Z2gPpWN"}},function(e,t,s){"use strict";e.exports={className:{default:{dialog:"W_3zCa0 I_52qC D_F ek_BB e_eTB gl_C ab_C jb_6LEV",close:"ac_CH M_C04i4",logo:"H_7rt5 W_7jsH",walmartLogo:"W_7rt5 H_7qGO",header:"t_C A_6FsP u_e69 P_Z2wfynt",subHeader:"W_3vasG H_6VdP U_6MGW A_6EqO C_Z21FVSm t_C",step:"D_F A_6EqO t_l jb_6Fd5",stepNumber:"D_F ab_C gl_C t_C I_Z1YRXYn e_e5X C_52qC W_6MGW H_6MGW E_6Eb4",productStepNumber:"D_F ab_C u_e69 gl_C t_C I_ZkchTG e_e5X C_Z281SGl W_6UbO H_6UbO E_6Eb4",icon:"N_6Eb4",detailedStep:"W_3r6wK",detailedProductStep:"W_3r6wK u_e69",subDetailedStep:"W_3rRhf A_6EqO C_Z1XthbR u_N",productBody:"P_Ic8v9 E_7jIs",body:"P_Z26n5mf"}},_key:"Z1MfzjC"}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(12),c=s.n(i),l=s(708),d=s.n(l),E=s(32),_=s(0);class u extends o.a.Component{constructor(...e){super(...e),n()(this,"handleMouseDown",e=>{this.props.onSelect&&this.props.onSelect(this.props.value,e)}),n()(this,"handleClick",e=>{e.preventDefault()}),n()(this,"handleKeyDown",e=>{switch(e.key){case _.Wb.ENTER:e.preventDefault(),e.stopPropagation(),this.handleMouseDown(e);break;case _.Wb.TAB:e.preventDefault(),e.stopPropagation()}})}render(){const e=this.props,t=e.isSelected,s=e.children,r=e.value,n=e.hoverStyle,a=e.title,i=c()(d.a,{isSelected:t&&!n,hoverStyle:n+(t?"_SELECTED":"")}),l=a||"string"==typeof s&&s||"";return o.a.createElement(E.a,{title:l,ariaLabel:l,"data-test-id":r,onClick:this.handleMouseDown,onKeyDown:this.handleKeyDown},o.a.createElement("a",{href:"#",onClick:this.handleClick,className:i.optionItem},s))}}n()(u,"defaultProps",{isSelected:!1}),t.a=u},function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return n}));const r=100,n="CONTACT_PICKER_DROPDOWN"},function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return i}));var r=s(9),n=s(7),a=s.n(n);let o;!function(e){e.POWER="power",e.SAVER="saver"}(o||(o={}));a.a.oneOf(Object(r.h)(o));const i={[o.POWER]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23741416.271635907;dc_trk_aid=464059855;dc_trk_cid=129709479;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23741416.271635907;dc_trk_aid=464059855;dc_trk_cid=129709479;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"},[o.SAVER]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23741416.271694004;dc_trk_aid=464059855;dc_trk_cid=129709479;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23741416.271694004;dc_trk_aid=464059855;dc_trk_cid=129709479;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"a",(function(){return c})),s.d(t,"c",(function(){return l})),s.d(t,"b",(function(){return d}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>i({},e,{type:a.UNSUBSCRIBE_MARKETING_PREFERENCES}),l=e=>i({},e,{type:a.MARKETING_PREFERENCES_WRITE_SUCCEEDED}),d=e=>i({},e,{type:a.MARKETING_PREFERENCES_WRITE_FAILED})},,,function(e,t,s){"use strict";s.d(t,"a",(function(){return _}));var r=s(3),n=s.n(r),a=(s(60),s(2)),o=s(0),i=s(10),c=s(48),l=s(166);function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const _=e=>(t,s)=>{const r=Object(i.selectors)(s()),n=r.getFeaturesSelectors,d=(0,r.getMainStreamListIds)((0,r.getRoute)()),_=Object(c.a)(d),u=n().isEnabled(o.Eb.CONVERSATIONS),p={triageActionType:o.ye.DELETE_ALL_FROM_SENDERS,conversations:u};return t(E({},e,{name:o.Kd.DELIVERY_BLOCKED_SENDERS,type:a.BLOCK_SENDERS_WITH_DELETE_REQUESTED,streamId:_,allSelected:!0,destinationFolderType:o.Mb.TRASH,triageActionType:o.ye.DELETE_ALL_FROM_SENDERS,isAsync:!0,conversations:u,successAction:Object(l.b)(p),failureAction:Object(l.a)(p)}))};t.b=e=>(t,s)=>{const r=Object(i.selectors)(s()),n=(0,r.getMainStreamListIds)((0,r.getRoute)()),l=Object(c.a)(n);return t(E({},e,{type:a.BLOCK_SENDERS_REQUESTED,name:o.Kd.DELIVERY_BLOCKED_SENDERS,streamId:l}))}},,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"c",(function(){return n})),s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return o}));var r=s(2);const n=e=>({type:r.NEED_TO_KNOW_NEWS_SUCCEEDED,needToKnowNews:e}),a=e=>({type:r.NEED_TO_KNOW_NEWS_FAILED,error:e}),o=e=>({type:r.NEED_TO_KNOW_NEWS_CUE_CLICKED,i13nModel:e})},function(e,t,s){"use strict";s.d(t,"c",(function(){return d})),s.d(t,"b",(function(){return E})),s.d(t,"a",(function(){return _}));var r=s(3),n=s.n(r),a=s(2),o=s(10),i=s(0);function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const d=e=>(t,s)=>{const r=Object(o.selectors)(s()),n=e.query,c=n.keyword,d=n.product;if((0,r.getLocationSuggestionSelectors)().getLocationSuggestionStatus(c,d)===i.od.DOES_NOT_EXIST)return t(l({type:a.LOCATION_SUGGEST_REQUESTED},e))},E=e=>l({type:a.LOCATION_SUGGEST_SUCCEEDED},e),_=e=>l({type:a.LOCATION_SUGGEST_FAILED},e)},function(e,t,s){"use strict";s.d(t,"c",(function(){return c})),s.d(t,"b",(function(){return l})),s.d(t,"a",(function(){return d}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>i({type:a.RELATED_SEARCHES_FETCH_SUCCEEDED},e),l=e=>i({type:a.RELATED_SEARCHES_FETCH_FAILED},e),d=({i13nModel:e})=>({type:a.RELATED_SEARCHES_CARD_CLICKED,i13nModel:e})},,,function(e,t,s){"use strict";s.d(t,"c",(function(){return n})),s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return o}));var r=s(0);const n=3e4,a=r.Ie+"/location_autosuggest_api/getLocationAutoSuggestion",o=858204},function(e,t,s){"use strict";var r=s(1),n=s.n(r),a=s(7),o=s(13),i=s(4),c=s(745),l=s.n(c),d=s(6),E=s(17),_=s(22);const u=Object(d.defineMessages)({backyard:{id:"contact_card.backyard",defaultMessage:"backyard profile"},flickr:{id:"contact_card.flickr",defaultMessage:"flickr profile"},facebook:{id:"contact_card.facebook",defaultMessage:"facebook profile"},linkedin:{id:"contact_card.linkedin",defaultMessage:"linkedin profile"},twitter:{id:"contact_card.twitter",defaultMessage:"twitter profile"}}),p=e=>{e.stopPropagation()},m=(e,t)=>{const s=t.intl.formatMessage,r=e.backyardLink,a=e.facebookLink,o=e.twitterLink,c=e.linkedinLink,d=e.flickrLink,m=e.isInRightRail,S=e.contextOfUse,h=void 0===S?"":S,C=Object(_.n)({context:t,includeMedium:!0}),g=m&&C,O=t.getCss(l.a,{darkVariations:g,isEnhancedContactCard:"enhancedContactCard"===h}),T=O.socialIcon,A=[{href:r&&"https://directory.vzbuilders.com/view/vzm/"+r,iconType:i.Kinds.HOME,iconClassName:O.backyardIcon,title:s(u.backyard)},{href:a,iconType:i.Kinds.FACEBOOK,colorState:g?i.ColorStates.INHERITED:i.ColorStates.FACEBOOK_ENABLED,iconClassName:T,title:s(u.facebook)},{href:o,iconType:i.Kinds.TWITTER,colorState:g?i.ColorStates.INHERITED:i.ColorStates.TWITTER_ENABLED,iconClassName:T,title:s(u.twitter)},{href:c,iconType:i.Kinds.LINKEDIN,colorState:g?i.ColorStates.INHERITED:i.ColorStates.LINKEDIN_ENABLED,iconClassName:T,title:s(u.linkedin)},{href:d,iconType:g?i.Kinds.FLICKR_MONOCHROME:i.Kinds.FLICKR,iconClassName:T,title:s(u.flickr)}].filter(({href:e})=>e);return A&&0!==A.length?n.a.createElement("div",{className:O.social},A.map(e=>(e=>{const t=e.iconType;return n.a.createElement("a",{"data-test-id":"contact-card-social",key:t,className:e.iconClassName,href:e.href,target:"_blank",onClick:p,title:e.title,rel:"noreferrer"},n.a.createElement(E.b,{kind:t,size:i.Sizes.XS,colorState:e.colorState||i.ColorStates.INHERITED}))})(e))):null};m.defaultProps={isInRightRail:!1},m.contextTypes={intl:d.intlShape,getCss:a.func,getThemeMode:a.func,getTheme:a.func};t.a=Object(o.connect)((e,{contact:t={}})=>({backyardLink:t.backyard,facebookLink:t.facebook,twitterLink:t.twitter,linkedinLink:t.linkedin,flickrLink:t.flickr}))(m)},function(e,t,s){"use strict";var r=s(1),n=s.n(r),a=s(7),o=s.n(a),i=s(748),c=s.n(i),l=s(62),d=s(5),E=s(0),_=s(6),u=s(10),p=s(13);const m=(e,t)=>{const s=e.email,r=e.id,a=e.isBusiness,o=e.redirectToAffiliateLink,i=e.sectionValue,E=e.isAffiliatePartnerEnabled,_=e.website,u=e.isDarkMode,p=t.getCss(c.a,{websiteLinked:E||a&&!!_,isMerchantCard:i===d.i.MSG_BODY});return n.a.createElement("div",{className:p.leftColElement},n.a.createElement("div",{title:E?_:null,className:p.avatarContainer,onClick:e=>{if(a&&_)return!E&&_?(window.open(_,"_blank","noreferrer"),void e.stopPropagation()):void o(e,i,"logo")},"data-test-id":"contact-card-avatar"},n.a.createElement(l.c,{contact:{email:s,id:r},size:i===d.i.MSG_BODY?l.b.MEDIUM_PLUS:l.b.L,isDarkMode:u})))};m.contextTypes={intl:_.intlShape,getCss:o.a.func,getThemeMode:o.a.func,getTheme:o.a.func};t.a=Object(p.connect)((e,{website:t,isBusiness:s})=>{const r=Object(u.selectors)(e);return{isAffiliatePartnerEnabled:s&&t&&(0,r.isFeatureEnabled)(E.Eb.AFFILIATE_PARTNER)}})(m)},function(e,t,s){"use strict";var r=s(1),n=s.n(r),a=s(7),o=s.n(a),i=s(752),c=s.n(i),l=s(0),d=s(6),E=s(10),_=s(13);const u=(e,t)=>{const s=e.contextOfUse,r=e.isAffiliatePartnerEnabled,a=e.redirectToAffiliateLink,o=e.sectionValue,i=e.website,l=e.isMerchantCard,d=void 0!==l&&l,E=t.getCss(c.a,{websiteLinked:r||!!i,isEnhancedContactCard:"enhancedContactCard"===(void 0===s?"":s)});if(!i)return d?n.a.createElement("div",{className:E.placeHolder}):null;return n.a.createElement("div",{title:i,className:E.website,onClick:e=>{if(!r||i&&!a)return window.open(i,"_blank","noreferrer"),void e.stopPropagation();a(e,o,"weblink")}},i.split("://").pop().replace(/\/+$/,""))};u.contextTypes={intl:d.intlShape,getCss:o.a.func,getThemeMode:o.a.func,getTheme:o.a.func};t.a=Object(_.connect)((e,{website:t,isBusiness:s})=>{const r=Object(E.selectors)(e);return{isAffiliatePartnerEnabled:s&&t&&(0,r.isFeatureEnabled)(l.Eb.AFFILIATE_PARTNER)}})(u)},function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return a}));const r=/\.\w*$/;function n(e){if("string"!=typeof e)return"";const t=e.match(r);return t?t[0]:""}function a(e,t){void 0===e?e="undefined":"string"!=typeof e&&(e=e.toString());let s=e.split("/").pop();return t&&s.substr(-t.length)===t&&(s=s.substr(0,s.length-t.length)),s}},function(e,t,s){"use strict";s.d(t,"a",(function(){return C}));var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(6),d=s(824),E=s.n(d),_=s(5),u=s(45),p=s(0),m=s(22),S=s(4),h=s(17);class C extends c.a.Component{constructor(...e){super(...e),n()(this,"componentDidMount",()=>{const e=this.props,t=e.quotientRetailerName,s=e.showQuotientUpsellPill,r=e.messageIds;e.unusualDiscount&&u.b.sendI13nModel({i13nModel:{mKey:_.g.UNUSUAL_DISCOUNT,sec:_.i.MSG_LIST,actionData:{mid:r,sndr:e.domain,reason:{featurefamily:p.Cb.IC,featurename:p.Eb.UNUSUAL_DISCOUNT_EXISTS}}}}),s&&u.b.sendI13nModel({i13nModel:{mKey:_.g.QTNTVIEW_MESSAGELIST+"_invoke",sec:_.i.QUOTIENT,actionData:{mid:r,reason:{featurefamily:p.Cb.IC,featurename:p.Eb.GROCERIES,upselltype:"msglist",retailername:t,origin:"msglist"}}}})}),n()(this,"openQuotientModal",e=>{e.preventDefault(),e.stopPropagation();this.props.openLinkModal({retailerId:this.props.quotientRetailerId,parentName:"msglist",i13nModel:{mKey:_.g.QTNTVIEW_MESSAGELIST,sec:_.i.QUOTIENT,actionData:{reason:{featurefamily:p.Cb.IC,featurename:p.Eb.GROCERIES,upselltype:"msglist",retailername:this.props.quotientRetailerName,actiontype:"click",origin:"msglist"}}}})}),n()(this,"renderUnusualDiscountPill",e=>c.a.createElement("div",{"data-test-id":"unusual-discount-pill"},c.a.createElement("div",{className:e.unusualDiscountPill},c.a.createElement(h.b,{kind:S.Kinds.DEALS,size:S.Sizes.XXS,colorState:S.ColorStates.SUCCESS}),"",c.a.createElement("div",{className:e.unusualDiscountPillText},c.a.createElement(l.FormattedMessage,{id:"coupon_card.unusualDiscount",defaultMessage:"UNUSUAL DISCOUNT"}))))),n()(this,"renderQuotientUpsellPill",e=>c.a.createElement("div",{"data-test-id":"quotient-upsell-pill"},c.a.createElement("button",{className:e.quotientPill,onClick:this.openQuotientModal},c.a.createElement(h.b,{kind:S.Kinds.BASKET,size:S.Sizes.XXS,colorState:S.ColorStates.INHERITED}),"",c.a.createElement("div",{className:e.quotientPillText},c.a.createElement(l.FormattedMessage,{id:"coupon_card.quotient_upsell",defaultMessage:"Save on groceries"})))))}render(){const e=this.context,t=e.getCss,s=this.props,r=s.unusualDiscount,n=s.showQuotientUpsellPill,a=s.isHovered,o=(0,e.getThemeMode)()===m.i.DARK,i=!!r,l=t(E.a,{isLightHovered:!o&&a,isDarkHovered:o&&a,isDarkNotHovered:o&&!a});return c.a.createElement("div",null,i?this.renderUnusualDiscountPill(l):null,n?this.renderQuotientUpsellPill(l):null)}}n()(C,"contextTypes",{getCss:o.a.func,getThemeMode:o.a.func}),n()(C,"defaultProps",{domain:"",isHovered:!1,messageIds:[],openLinkModal:()=>{},quotientRetailerId:"",quotientRetailerName:"",senders:[],showQuotientUpsellPill:!1,unusualDiscount:""})},,,,,,function(e,t,s){"use strict";e.exports={className:{default:{categoriesContainer:"W_A",topSection:"D_F",categoriesHeader:"A_6EqO i_6Fd5 P_6Fd5 M_0",categoriesReorderContainer:"m_Z14vXdP D_F gl_FM",categoriesReorderTitle:"u_b A_6EqO i_6LEV M_E8xte",categoriesReorderBtnsContainer:"ab_C D_F",categoriesList:"hd_n M_0 P_0",category:"P_fq7 m_ZmUeFv D_F ab_C m8_n",categorySelected:"P_fq7 m_ZmUeFv D_F ab_C m8_n q_2ieeaE"},isMenuMode:{categoriesContainer:"W_3rBgu",category:"P_Z1E2XDm"},isCueMode:{category:"P_fq7"}},_key:"2317hS"}},function(e,t,s){"use strict";e.exports={className:{default:{titleWrapper:"W_6D6F D_Z1YJkyX ab_C",fullWidth:"W_6D6F",rowItemsContainer:"D_F aa_C ab_C i_6EWk",iconWrapper:"E_fq7",hint:"A_6EqO C_Z1YRXYn i_6FIA D_F em_N",hintString:"A_6EqO C_Z1YRXYn i_6FIA D_X",title:"M_Ic7YD D_F A_6FsP u_N F_N i_6LEV",titleCheckboxContainer:"E_fq7 H_6LEV",rightAlign:"Q_A",settingState:"Q_6DEy Y_689y U_68F4",warningInfoIcon:"Q_fq7 K_6FIA p_R r_P",warningPopover:"T_6NIX A_6DUj u_dPo i_6EWk Z_N W_3nV5V P_Z1wkQrI p_a e_dRA I_52qC j_ZlOSbd",toggleButtonState:"A_6EqO C_Z1YRXYn i_6FIA Q_eo6",toggleButtonContainer:"D_Z1YJkyX ab_C"},subHeader:{title:"u_b A_6EWk"},warning:{header:"O_cMq D_X",rightAlign:"O_cMq"},"toggleType-CHECKBOX":{title:"i_6LEV A_6EqO"},"toggleType-SWITCH":{titleWrapper:"gl_FM"}},_key:"22Ue6u"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"s_3zJDR d_3mS2U k_w I_52qC D_F el_QDCVj ab_FT",header:"M_0 P_2Xpez D_F ab_AJ A_6FsP",spaceid:"P_Z1E2XDm",positionRow:"P_Z1E2XDm D_F",positionCol:"F_N",button:"ac_C I_Z2aVTcY C_52qC M_Z3NB4K b_0 H_6NIX s_3n93F",link:"F_N S_U C_Z2aVTcY",buttonContainer:"D_F M_A"}},_key:"Z1ynbNt"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"I_1I4yPF A_6EqO X_dRA H_7Ig6 D_F ek_BB gl_C e_dRA",header:"X_fq7 o_h D_F d_6EWk",title:"u_b C_Z281SGl o_h em_N i_6EWk",close:"N_eTB r_P",columns:"D_F ab_CH P_3gIMd",optionContainer:"jb6_fq7 D_F ab_C",radio:"c37wHw10_Z1gAvbx D_X H_6Fd5 s_6Fd5 e_6Fd5 I_52qC M_E8xte",column:"em_N ej_0 D_F ek_BB",freeText:"A_6EqO y_Z2hYGcu Q_fq7 o_h I_T cn_ZmdUJf m_2w4l8N em_N W_7yHc",buttonGroup:"t_r em_N a_3n93F",rrText:"a_3nh43",rrContainer:"ek_BB I_T H_3w4tj s_3v1qi W_3v1qi",rrTextContainer:"o_h D_F ek_BB em_N A_6EqO H_3s8Nv K_3s8Nv P_22aAMD r_A C_Z2a25ca I_ZkwawX e_dRA j_FYuJ6 u_N i_6CCW U_6Fd5",rrHeader:"C_q U_6DEy u_b o_82XEY i_6CCW em_N",rrColumns:"D_F ab_CI ek_BB P_0",rrColumn:"D_F ek_BB",rrOptionContainer:"jb_6DEy D_F ab_C",rrFreeText:"A_6EqO y_Z2hYGcu o_h I_52qC e_eo6 b_2qAa88 W_6D6F k_w i_6CCW u_N H_3n93F jw_n",rrButtonGroup:"D_F",rrDoneButton:"s_3mS2U M_1Bs8Qs e_eo6 I_Z2895ND lo_AT",rrCloseButton:"s_3mS2U e_eo6 I_T b_NU1yU C_Z2895ND lo_AT I4_1I4yPF I3_1I4yPF it3_689y"},freeTextFocused:{freeText:"m_2ivgpk"},isCompactLayout:{container:"H_3rmhK gl_FL",header:"D_F N_eTB gl_FM",columns:"D_X N_6DEy",radio:"M_E8xte",close:"N_0",optionContainer:"jb_fq7",buttonGroup:"t_l",optionsContainer:"ek_BB",optionsWrapper:"U_6Fd5",option:"W_6D6F"},isDarkBackground:{title:"C_52qC",container:"C_52qC",freeText:"m_6i9dl",rrTextContainer:"I_T C_52qC"},isRRCompactSize:{rrContainer:"s_3nF5b W_3nF5b j_n e_0",rrTextContainer:"H_3z6E0 K_3z6E0 j_n I_T P_3gI0W",rrColumns:"U_fq7",rrHeader:"i_6CCq",rrButtonGroup:"ek_BB",rrDoneButton:"M_Z1bWC3O",rrFreeText:"H_3qWeB jw_n"},isAdFeedbackV2:{header:"X_0",container:"P_1Eu6qC",optionsContainer:"D_F W_6D6F ab_CH",optionsWrapper:"D_F em_N p_R eo_HB",option:"D_F ab_C W_e5X"}},_key:"Z1Vxwvv"}},function(e,t,s){"use strict";e.exports={className:{default:{accountList:"M_0 P_0 hd_n",listItem:"D_F H_6NIX P_0 ab_C ir3_1JO2M7 it3_dRA p3_R I4_2tvNsT",text:"em_N A_6EWk X_6DEy o_h G_e J_x",activeText:"em_N A_6EWk X_6DEy o_h G_e J_x u_b C_ZamTeg",unreadCount:"en_0 E_fq7",settingGear:"P_Z26qe3x p_R R_fq7 Q_6DEy cdPFi_Zjpyu2 cdPFi4_Z281SGl",statusIcon:"E_fq7",expiredIcon:"E_eDQ",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg"},"themeMode-MEDIUM":{text:"C_52qC",settingGear:"cdPFi_ak5m8 cdPFi4_52qC",listItem:"ir3_Z1FS2Mn",activeText:"C_2qemPL"},"themeMode-DARK":{text:"C_52qC",settingGear:"cdPFi_ak5m8 cdPFi4_52qC",listItem:"ir3_Z1FS2Mn",activeText:"C_2qemPL"}},_key:"ZJICsj"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3n93F p_R",content:"I_2iedTo k_w H_7yHc p_R o_h",mediaContent:"D_F ab_C gl_C H_6D6F",media:"W_6D6F",button:"c27KHO0_n b_0 I_ZS20TA C_52qC A_6EqO W_6D6F H_6D6F D_F gl_FM ab_C P_3gJOe",itemMenu:"p_a Z_O T_36JN3 R_36JN3 W_6MGW H_6MGW e_6MGW I_52qC j_20lmjm D_F gl_C ab_C r_P",menuContainer:"P_3HLUz",menuItem:"J_x I4_2ieea9 C4_Z2aVTcY",label:"A_6Eb4 i_6FIA J_x D_F r_P",filename:"D_F u_e69",labelBaseName:"G_e o_h",fileSize:"u_dzD A_6DUj",filenameContainer:"D_F ek_BB o_h J_x C_Z1VRpVF Q_eo6",downloadFilename:"D_F ek_BB o_h J_x C_Z1VRpVF Q_67SN W_3mS2U",loadingIconContainer:"p_a T_0 L_0 W_6D6F H_6D6F D_F gl_C ab_C",progressBar:"W_0 H_dRA I_Z2aVTcY p_a B_0 L_0 lv_1tzisg",hoverMask:"p_a T_0 B_0 L_0 R_0 D_F gl_C",previewButtonWrapper:"I_a0zME D_F ek_BB gl_C em_N W_6D6F r_P",downloadIconOnPreview:"p_a e_dRA i_dBP r_P b_1Ea0ib R_eo6 B_eo6 M_0",noPreviewWrapper:"I_a0zME D_F ek_BB gl_C em_N W_6D6F",noPreviewWrapperMsgList:"I_ZnIF8Y D_F ek_BB gl_C em_N W_6D6F b_Z14vXdP P_fq7",previewWrapperMsgList:"I_a0zME D_F ek_BB gl_C em_N W_6D6F",previewButtonMsgList:"u_e69 C_Z2aVTcY P_Z1E2YFn r_P q_n b_0 F_N M_0 o_h G_e A_6EqO",previewButton:"u_e69 C_Z2aVTcY P_Z1E2YFn r_P q_n b_0 F_N M_0 o_h G_e A_6Eb4 Y_6LEV",noPreviewText:"u_e69 C_Z2aVTcY r_BN A_6Eb4 P_Z1E2YFn gl_C t_C q_n b_0 F_N Y_6LEV",noPreviewTextMsgList:"u_e69 C_Z2aVTcY r_BN A_6EqO D_F gl_C t_C i_6EWk",downloadIcon:"en_0",downloadIconWrapper:"D_F",popover:"P_Z1E2YFn u_e69"},unsupportedFileType:{content:"b_Z1222NH"},smallPreview:{container:"W_7Ig6",content:"H_7jIs",label:"A_6DUj i_6EqO Y_eTB"},anchorHover:{downloadFilename:"C_Z2aVTcY",content:"b_2fAfSG",filenameContainer:"C_Z2aVTcY"},spam:{filenameContainer:"C_ZroviD r_BN",label:"r_BN"},hover:{content:"b_2fAfSG",mediaContent:"O_cMp"},isCompact:{mediaContent:"O_N"},"type-image":{mask:"I_ioJaP"},"type-xls":{content:"I_2m2209"},"type-ppt":{content:"I_Z2gRbsK"},"type-doc":{content:"I_Z1gjdlg"},"type-pdf":{content:"I_Z2gRbsK"},"type-compressed":{content:"I_Z21PQN4"},"type-video":{content:"I_18K0L5"},"type-audio":{content:"I_18K0L5"},"type-cal":{content:"I_18K0L5"},"state-ERROR":{content:"I_2iedTo P_dRA",mediaContent:"I_ZnIF8Y",label:"C_Znn46r"}},_key:"ZIt6MP"}},function(e,t,s){"use strict";e.exports={className:{default:{attentionIcon:"p_R T_e8l",tray:"P_0 je_fq7",ul:"hd_n D_F eo_HB M_gQyVX P_0",downloadAllLink:"D_F ab_GM C_Z2aVTcY A_6Eb4 r_P",downloadAllIcon:"E_eo6",spamDownloadWarning:"C_Znn46r",learnMore:"I_T b_0 C_Z2aVTcY r_P Q_fq7",item:"E_6Fd5 Y_6LEV",compactItem:"M_1VQXDU",spamAttachmentWarning:"Y_6LEV C_Znn46r",attachmentWarning:"Y_6LEV C_Znn46r A_6Eb4",attachmentWarningLearnMore:"I_T b_0 C_Z2aVTcY r_P Q_eo6 A_6Eb4"},isCompact:{item:"M_1VQXDU",ul:"M_Z9saPG"}},_key:"Z17lKfs"}},function(e,t,s){"use strict";e.exports={className:{default:{groupHeader:"D_F m_Z12nDQf P_Z1A2bQX I_52qC ab_CI",subjectRow:"D_F ab_C em_N o_h A_6FsP P_3Y3Gk",subject:"en_N i_3mCHE",noSubject:"M_3gI0W",messageCount:"em_0 ac_C D_X i_6FIA P_3gJiI e_fFR Q_fq7 E_eTB A_6DUj I_ZpQYvz",readUnread:"D_F ab_C en_0 E_eo6 Y_fq7",messageGroupDestinationRow:"D_F ab_C em_N en_0 o_h Y_dm5 E_fq7 U_dm5 Q_72FG",messageGroupDestinationContainer:"D_F t_r A_6EqO C_Z1TsNWR cZ1RzsTJ_Z2hYGcu",messageGroupDestinationAccount:"G_e J_x o_h a_7yHc",messageGroupDestinationFolder:"G_e J_x o_h a_7iGr",endSideButtonGroup:"D_F ab_C Y_eTB en_0",star:"cdPFi_ZpQYvz H_6MGW W_6MGW Y_689y lv_2gnJCA h_Z13pql2 h4_2d9T5e"},compactGroupHeader:{messageGroupDestinationRow:"Y_dm5 E_fq7 U_dm5 Q_6Fd5"}},_key:"Z1OOtqC"}},function(e,t,s){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_ZPBfWW k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC p_R",filterItem:"I_T b_n W_6D6F i_6DEy D_B C_q r_q y_q u_q P_1Eu7sD A_6EqO ir3_1JO2M7 it3_dRA D33_B dq33_Z1WN6IG u33_b H33_0 C33_T o33_h v33_h",tabs:"P_2iGizO M_0 m_Z14vXdP D_F",categoryFilterContainer:"D_F p_a T_6Eb4 R_6LEV P_fQq0A I_ZnIF8Y e_dRA",categoryFilterAnchor:"D_F ab_C",categoryFilterAnchorLabel:"A_6EqO r_P",categoryFilterCheckIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",categoryFilterLabel:"Q_6Eb4"},"themeMode-DARK":{heading:"m_ZYfFSw I_T C_52qC cdPFi_52qC",tabs:"m_Z6DFj8",categoryFilterContainer:"I_sgPuT"}},_key:"DKJrt"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F em_N gl_C ab_C W_6D6F H_6D6F",offersContainer:"D_F em_N gl_C ab_C W_6D6F H_6D6F",subContainer:"D_F em_N ek_BB ab_C gl_C W_3v9Wb a_3v9Wb",syncMessage:"Y_6MGW C_Z1VRpVF t_C",syncWaitMessage:"Y_eo6",syncInboxImage:"W_3v9Wb H_3nH9d",documentImage:"W_3zlCJ H_3o4BO",travelImage:"W_3v9Wb H_3nxAj",couponImage:"W_3zlCJ H_3o4BO",receiptImage:"W_3s13S H_3n37k",offerImage:"W_3s13S H_3n9zb",emptyImage:"W_3n93F H_3n93F p_a X_7yHc",groceryBackgroundImage:"W_3s13S H_3n13i",heading:"D_F gl_C t_C A_6FsP u_e69 i_6MGW P_28NWDt C_Z1YRXYn",offersHeading:"D_F gl_C t_C A_6FsP u_e69 i_6MGW P_28NWDt C_Z1YRXYn",description:"A_6EqO i_6FIA gl_C t_C C_Z1YRXYn",groceryDescription:"A_6EqO i_6CCW t_C C_Z1YRXYn",addMailbox:"je_6DEy",addMailboxLink:"C_Z2aVTcY A_6EqO i_6FIA",emptyListContainer:"D_F em_N ek_BB p_R T_e5X h_ZBOl0O",emptyListText:"t_C A_6FsP U_6MGW",emptyListImage:"t_C"},moreDescriptionPadding:{heading:"je_72FG"},"themeMode-DARK":{offersContainer:"q_52qC",heading:"C_2sqbRh",description:"C_2sqbRh",emptyListText:"C_52qC"}},_key:"v1CFQ"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"ab_C z_Z14vXdP r_P D_F F_Zmdhz3 M_Z75P2H K_7yHc o_h P_6Eb4 cZ1RN91d_n",containerTom:"W_dSg ab_C b_Z14vXdP e_dRA j_1kBJxJ D_F r_P M_eo6 cZ1rb2wr_7Ig6 o_h P_6Eb4 cZ1RN91d_n I_52qC s_3v1qi",svgStyle:"ab_C D_F H_7yHc gl_C M_Z2fXwdq W_7yHc q_52qC e_fq7",cardDetails:"o_h N_6Eb4 F_Z2uTegI",cardDescription:"C_Z1Xxgu0 i_N J_x o_h G_e",cardTitle:"i_N U_eo6 K_6UbO o_h u_N",expires:"C_Z1VRpVF A_6DUj",highlightedTerm:"I_2ieea9 D_X P_dbK",overlayContainer:"W_0",overlay:"W_7yHc H_7yHc h_ZDVp1o q_ZS2gpl e_fq7",icon:"K_7yHc a_7yHc M_A e_fq7",saveContainer:"D_F ab_C jb_eo6",save:"A_6FsP u_e69",coupon:"C_Z1Xxgu0 A_6DUj",walmartCart:"ac_FO r_P Y_6Eb4 cdPFi_Z2aVTcY cdPFi4_Z29WjXl"},isFullWidth:{containerTom:"W_f9v"},redExpires:{expires:"C_ZkiIcp"},isGroceryWithProduct:{container:"p_R",containerTom:"r_BN",cardTitle:"H_6UbO",numberContainer:"ab_C b_2wsnAI e_dRA D_F H_6MGW p_a R_6Eb4 T_7iGr W_7Ig6",change:"D_F gl_C W_74ed",addedIcon:"ac_FO Y_6Eb4"},expandedCardState:{container:"K_n",cardDescription:"J_N"},"contextOfUse-groceriesTopOfMsg":{walmartCart:"ac_C M_82XEY",addedIcon:"ac_C M_82XEY"}},_key:"11turb"}},,,,,function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(17),c=s(21),l=s(6),d=s(4),E=s(12),_=s.n(E),u=s(707),p=s.n(u),m=s(63),S=s(117),h=s(124),C=s(0),g=s(114),O=(s(395),s(493));function T(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const A=Object(l.defineMessages)({emptyItems:{id:"option",defaultMessage:"No items"},close:{id:"close",defaultMessage:"Close"}}),I=()=>{};class f extends o.a.Component{constructor(...e){super(...e),n()(this,"state",{isOpen:!1}),n()(this,"focus",()=>{this.refs.input.focus()}),n()(this,"setSelected",(e,t)=>{this.closeOptions(),this.props.onChange&&this.props.onChange(e,t)}),n()(this,"clearValue",()=>{this.props.onChange&&this.props.onChange(null)}),n()(this,"openOptions",()=>{this.props.disabled||this.setState({isOpen:!this.state.isOpen})}),n()(this,"closeOptions",e=>{this.setState({isOpen:!1},()=>e&&this.focus())}),n()(this,"handleFocus",()=>{this.setState({isFocused:!0},this.props.onFocus)}),n()(this,"handleBlur",()=>{this.setState({isFocused:!1},this.props.onBlur)}),n()(this,"handleKeyDown",e=>{const t=this.state.isOpen;switch(e.key){case C.Wb.ENTER:e.preventDefault(),e.stopPropagation();break;case C.Wb.ARROW_DOWN:t||this.openOptions()}}),n()(this,"getSelectedIndex",()=>{const e=this.props,t=e.selected,s=o.a.Children.toArray(e.children);return Object(g.b)(s,e=>e.props.value===t)}),n()(this,"renderLabel",e=>{const t=this.state,s=t.isOpen,r=t.isFocused,n=this.props.classNames,a=this.context.intl.formatMessage,l=this.props,E=l.selected,_=l.showClear,u=l.disabled,p=l.title,m=l.placeholder,S=l.inputFormatter,h=o.a.Children.toArray(l.children),C=this.getSelectedIndex(),g=(C>-1?h[C].props:{}).children;let O=(s||r)&&!u?d.ColorStates.SELECTED:d.ColorStates.SECOND_LEVEL_GRAY,T=g,I=g;if(this.props.arrowDownColor&&(O=this.props.arrowDownColor),S){const e=S(E);I=e.optionLabel||g,T=e.optionTitle||g}return o.a.createElement("div",{onMouseDown:this.openOptions,"data-test-id":"selectbox-input",className:e.selectBox},o.a.createElement("input",{readOnly:!0,type:"text",ref:"input",disabled:u,value:E||"",onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,className:e.selectInput}),o.a.createElement("div",{className:n.selectLabel||e.selectLabel},E||"number"==typeof E&&0===E?o.a.createElement("div",{className:e.inputWrapper},o.a.createElement("span",{title:T,className:n.selectedValue||e.selectedValue},I),_&&!u?o.a.createElement("span",{className:e.closeBtn},o.a.createElement(c.default,{paddingLess:!0,size:d.Sizes.XXS,onClick:this.clearValue,kind:d.Kinds.CAL_DECLINE,colorState:d.ColorStates.FAINT,title:a(A.close),"aria-label":a(A.close)})):null):o.a.createElement("span",{className:e.selectPlaceholder,title:p},m),o.a.createElement("span",{className:e.arrowDown},o.a.createElement(i.b,{size:d.Sizes.XS,kind:d.Kinds.INPUT_ARROW_DOWN,colorState:O}))))}),n()(this,"renderOptions",e=>{let t=null;const s=this.props,r=s.children,a=s.maxWidth,i=this.getSelectedIndex();return t=o.a.Children.count(r)>0?o.a.Children.map(r,(e,t)=>o.a.cloneElement(e,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?T(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):T(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({key:t,isSelected:t===i},!e.props.handlesOnSelect&&{onSelect:this.setSelected}))):o.a.createElement("div",{className:e.emptyItem},o.a.createElement(l.FormattedMessage,{id:"option",defaultMessage:"No items"})),o.a.createElement("div",{className:e.optionsContainer,"data-test-id":"options",style:this.props.dropdownType===O.a.FITCONTENT?{maxWidth:a}:{}},o.a.createElement(m.a,{focusOnMount:!0,circularNavigation:!1,onHide:this.closeOptions.bind(this,!1),onEscape:this.closeOptions.bind(this,!0),layout:h.a.VERTICAL,kind:S.a.MENU,isRestrictedHeight:!0},t))})}componentDidMount(){this.props.setRef&&this.props.setRef(this.refs.input)}render(){const e=this.props,t=e.disabled,s=e.onClick,r=e.coloredPlaceholder,n=e.inline,a=this.state,i=a.isOpen,c=(i||a.isFocused)&&!t,l=_()(p.a,{isOpen:i,disabled:t,isFocused:c,type:this.props.dropdownType,coloredPlaceholder:r,inline:n});return o.a.createElement("div",{className:l.selectWrapper,"data-test-id":"selectbox",onClick:s},this.renderLabel(l),i&&this.renderOptions(l))}}n()(f,"contextTypes",{intl:l.intlShape}),n()(f,"defaultProps",{disabled:!1,showClear:!1,onFocus:I,onBlur:I,onClick:I,classNames:{},coloredPlaceholder:!1}),t.a=f},function(e,t,s){"use strict";s(7);var r=s(1),n=s.n(r),a=s(28),o=s(12),i=s.n(o),c=s(462),l=s.n(c),d=s(6),E=s(586),_=s(320),u=s(17),p=s(18),m=s(4),S=s(25),h=s(0),C=(s(9),s(58)),g=s(156);const O=Object(d.defineMessages)({timezoneUpdateTip:{id:"timezone_update_tip",defaultMessage:"Your timezone is not consistent with your computer's timezone"},timezoneValidationTip:{id:"timezone_validation_tip",defaultMessage:"Your timezone is now consistent with your computer's timezone"},toggleButtonStateOn:{id:"settings.section_title.toggleOn",defaultMessage:"On"},toggleButtonStateOff:{id:"settings.section_title.toggleOff",defaultMessage:"Off"},tryNow:{id:"feature_cue.btn_try_now",defaultMessage:"Try now"}});class T extends n.a.Component{constructor(e){super(e),this.state={hoverWarningIcon:!1},this.element=null}componentWillUpdate(){!this.element&&this.refs.warningHeader&&(this.element=function(e){if(e){const t=Object(a.findDOMNode)(e).getBoundingClientRect(),s=t.width;return{height:Math.ceil(t.height),width:Math.ceil(s)}}return{height:0,width:0}}(this.refs.warningHeader))}renderIcon(){const e=this.props.settingError,t=this.context.intl.formatMessage;return e===h.Jd.ERROR?n.a.createElement("div",{title:t(O.timezoneUpdateTip)},n.a.createElement(u.b,{kind:m.Kinds.EXCLAMATION_ALT,size:m.Sizes.XS,colorState:m.ColorStates.WARNING_GRAD_RED})):e===h.Jd.VALIDATING?n.a.createElement("div",null,n.a.createElement(C.b,{size:C.a.S})):e===h.Jd.RESOLVED?n.a.createElement("div",{title:t(O.timezoneValidationTip)},n.a.createElement(u.b,{kind:m.Kinds.CAL_ACCEPT,size:m.Sizes.XS,colorState:m.ColorStates.SUCCESS})):null}handleHoverIcon(e){this.setState({hoverWarningIcon:e})}renderWarningPopover(){const e=this.props,t=e.subHeader,s=e.warning,r=this.state.hoverWarningIcon,a=i()(l.a,{subHeader:t,warning:!!s}),o=r?m.ColorStates.SELECTED:m.ColorStates.FIRST_LEVEL_GRAY,c=this.element&&this.element.width>123?-(this.element.width-123):-32;return n.a.createElement("div",{className:a.warningInfoIcon},n.a.createElement(u.b,{onMouseEnter:this.handleHoverIcon.bind(this,!0),onMouseLeave:this.handleHoverIcon.bind(this,!1),kind:m.Kinds.INFO,size:m.Sizes.XS,colorState:o,allowPointerEvents:!0}),r?n.a.createElement("div",{style:{left:c},className:a.warningPopover},n.a.createElement("div",{className:a.warningText,"data-test-id":"warning-popover"},this.props.warning)):null)}render(){const e=this.props,t=e.header,s=e.hint,r=e.warning,a=e.canToggle,o=e.toggleType,c=e.subHeader,d=e.toggleEnabled,h=e.onToggle,C=e.toggleAriaLabel,T=void 0===C?this.props.header:C,A=e.showToggleState,I=e.useCalloutButton,f=e.iconDescription,D=e.hintElement,R=this.context.intl.formatMessage,b=i()(l.a,{subHeader:c,warning:!!r,toggleType:o});return n.a.createElement("header",{className:b.titleWrapper},a&&o===g.f.CHECKBOX?n.a.createElement("div",{className:b.titleCheckboxContainer},n.a.createElement(_.a,{isChecked:d,onClick:h,disabled:!!r,paddingLess:!0})):null,n.a.createElement("div",{className:b.fullWidth},n.a.createElement("div",{className:b.rowItemsContainer},f&&n.a.createElement("span",{className:b.iconWrapper},n.a.createElement(u.b,{kind:f.kind,size:m.Sizes.S,colorState:f.colorState}))," ",n.a.createElement("h4",{className:b.title},n.a.createElement("span",{className:b.header,ref:"warningHeader"},t),r?this.renderWarningPopover():null,n.a.createElement("span",{className:b.settingState},this.renderIcon())),a&&o===g.f.SWITCH?n.a.createElement("div",{className:b.toggleButtonContainer},n.a.createElement("span",{className:b.rightAlign,"data-test-id":"toggle-header-button"},n.a.createElement(E.a,{onClick:h,isEnabled:d,ariaLabel:T,title:T,isClickable:!r})),A&&n.a.createElement("span",{className:b.toggleButtonState,"data-test-id":"toggle-button-state"},R(d?O.toggleButtonStateOn:O.toggleButtonStateOff))):null,I&&n.a.createElement(p.a,{onClick:h,marginLess:!0,kind:S.a.THEMED_LIKE_COMPOSE_BUTTON},R(O.tryNow))),n.a.createElement("div",{className:b.rowItemsContainer},f&&s&&n.a.createElement("span",{className:b.iconWrapper},n.a.createElement(u.b,{kind:f.kind,size:m.Sizes.S,colorState:m.ColorStates.TRANSPARENT})),D&&!s?n.a.createElement("div",{"data-test-id":"hint-element",className:b.hint},D):null,s&&!D?n.a.createElement("span",{"data-test-id":"hint-string",className:b.hintString,dangerouslySetInnerHTML:{__html:s}}):null)))}}T.contextTypes={intl:d.intlShape.isRequired},T.defaultProps={canToggle:!1,toggleType:g.f.SWITCH,subHeader:!1,onToggle:()=>{},toggleEnabled:!0,settingError:h.Jd.NONE,showToggleState:!1,useCalloutButton:!1},t.a=T},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(9);const n=Object(r.d)(["LIGHT","DARK"])},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(27),o=s.n(a),i=s(34),c=s.n(i),l=(s(7),s(1)),d=s.n(l),E=s(13),_=s(30),u=s.n(_),p=s(10),m=s(44),S=(s(51),s(16)),h=s(14);function C(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}t.a=Object(E.connect)((e,{route:t})=>({href:Object(p.selectors)(e).normalizeRoute(t).url}),(e,{i13nModel:t,replaceState:s=!1,route:r,hashParams:a={},stopPropagation:o})=>({onClick:i=>{const c=Date.now();o&&i.stopPropagation(),i.preventDefault(),t&&(t=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?C(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):C(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{interactionType:Object(S.getInteractionFromEvent)(i)})),e(Object(m.f)({replaceInStack:s,route:r,i13nModel:t,hashParams:a,perfHeader:{requestStart:c}}))}}),void 0,{areOwnPropsEqual:(e,t)=>{let s=e.route,r=c()(e,["route"]),n=t.route,a=c()(t,["route"]);return Object(h.F)(s,n)&&u()(r,a)}})(e=>{let t=e.href,s=void 0===t?"#":t,r=e.onClick,n=e.children,a=c()(e,["i13nModel","replaceState","route","hashParams","href","onClick","children","stopPropagation","dispatch"]);return d.a.createElement("a",o()({},a,{onClick:r,href:s}),n)})},function(e,t,s){"use strict";s.d(t,"a",(function(){return c})),s.d(t,"d",(function(){return l})),s.d(t,"e",(function(){return d})),s.d(t,"b",(function(){return E})),s.d(t,"c",(function(){return _})),s.d(t,"f",(function(){return u}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>i({type:a.RIGHT_RAIL_COMMS_ICON_CLICKED},e),l=e=>i({type:a.TMR_NAVIGATE_TO_ATOS},e),d=e=>i({type:a.TMR_NAVIGATE_TO_URL},e),E=e=>i({type:a.TMR_TAB_CHANGE},e),_=e=>i({type:a.TMR_SPIN_COMPLETED},e),u=e=>i({type:a.TMR_POINT_ICON_CLICK},e)},function(e,t,s){"use strict";e.exports={className:{default:{headerContainer:"H_6UbO D_F ek_EZ ab_C gl_FM",header:"A_6EqO u_elT i_6Fd5 X_6LEV C_Z281SGl",categoryTitle:"k_w H_6Nds A_6EqO P_Z14hUor C_Z1TsNWR",emojiBox:"H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiRow:"D_F ab_C k_w P_0 H_72FG",emojiLi:"D_X Q_6LEV W_6MGW H_6MGW Q4_6Fd5 E4_68F4 W4_6UbO H4_6UbO",emojiDiv:"W_6D6F H_6D6F r_P",emojiContainer:"k_w p_a B_0 j_nWwhY I_52qC",activeCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_Z2hYGcu A_6EqO r_P C_q ir3_1JO2M7",inactiveCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_Z2hYGcu A_6EqO r_P C_q ir3_1JO2M7 O_6uB4",categoryContent:"D_F ab_C gl_C W_6D6F",emojiPopUp:"W_3vX1s p_a Z_d48",categoryImage:"D_X em_N W_6Fd5 H_6Fd5",categoryContainer:"ha_n M_28w24u D_F P_Z1SeCye aw_ZnLdEY az_DW ba_ZVBCBL lv_Z1smGsJ",categories:"r_P D_X Q_6NIX H_6Fd5 Q6_6MGW",closeWrapper:"D_F ab_C N_6DEy",lazyStyle:"k_w p_a B_0 j_nWwhY I_52qC H_3vxXj D_F ab_C gl_C",emojiBoxV1:"p_R Z_0 iy_h iz_A k_w em_N c22hqzz_GN H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiListV1:"M_0 P_0",emojiListItemV1:"H_A hd_n",searchSection:"U_6LEV P_2aKOEx",searchInput:"X_6NIX N_6VdP H_6UbO",emojiPage:"D_F ek_BB ab_C gl_C W_3vFXG H_3rBM0",emojiMessage:"C_Z1TsNWR",pageEmojiWrapper:"P_0",pageEmoji:"Q_0 W_6UbO H_6UbO"}},_key:"gIz3X"}},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(9);const n=Object(r.d)(["DEFAULT","DARK_BORDER_BOTTOM","LEFT_ICON"])},function(e,t,s){"use strict";var r=s(7),n=s.n(r),a=s(1),o=s.n(a),i=s(6),c=s(195),l=s(711),d=s.n(l),E=s(22);const _=Object(i.defineMessages)({label:{id:"contacts_list.loading_indicator",defaultMessage:"Loading"}}),u=({includeHeaders:e,applyTheme:t},s)=>{const r=s.getCss,n=s.intl,a=t&&Object(E.n)({context:s,includeMedium:!0}),i=r(d.a,{includeHeaders:e,darkStyles:a}),l=[i.wrapper];return e&&l.push(i.withBackground),o.a.createElement("div",{className:l.join(" "),"aria-label":n.formatMessage(_.label)},e&&o.a.createElement("div",{className:i.search,"aria-hidden":!0}),e&&o.a.createElement("div",{className:i.tabs,"aria-hidden":!0}),!e&&o.a.createElement("div",{className:i.separator,"aria-hidden":!0},o.a.createElement("span",{className:i.separatorText})),o.a.createElement(c.a,null),o.a.createElement(c.a,null),o.a.createElement(c.a,null),o.a.createElement(c.a,null),o.a.createElement(c.a,null),!e&&o.a.createElement("div",{className:i.separator,"aria-hidden":!0},o.a.createElement("span",{className:i.separatorText})),o.a.createElement(c.a,null),o.a.createElement(c.a,null),o.a.createElement(c.a,null))};u.contextTypes={intl:i.intlShape,getCss:n.a.func,getThemeMode:n.a.func},t.a=u},function(e,t,s){"use strict";s.r(t),s.d(t,"openContactPickerDisplay",(function(){return c})),s.d(t,"contactPickerGroupChanged",(function(){return l}));var r=s(3),n=s.n(r),a=s(2);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const c=e=>i({},e,{type:a.CONTACT_PICKER_OPENED}),l=e=>i({},e,{type:a.CONTACT_PICKER_GROUP_CHANGED})},,function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var r=s(3),n=s.n(r),a=s(22),o=s(49);const i={GRADIENT_COLOR_1:"--gradient-color1",GRADIENT_COLOR_2:"--gradient-color2",GRADIENT_COLOR_3:"--gradient-color3",HIGHLIGHT:"--highlight",COMPOSE_BUTTON_COLOR:"--compose-btn-color",SEGMENT_BORDER_COLOR:"--segment-border-color",SEGMENT_BACKGROUND_COLOR:"--segment-bgcolor",SEGMENT_HOVER_COLOR:"--segment-hover-color",FOLDER_ACTIVED_BACKGROUND_COLOR:"--folder-actived-bg-color",FOLDER_HOVERED_BACKGROUND_COLOR:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER:"--folder-actived-border",ITEM_SELECTED_BGCOLOR:"--item-selected-bgcolor",ITEM_HOVERED_BGCOLOR:"--item-hovered-bgcolor",LIST_ITEM_SEPARATOR_COLOR:"--list-item-sep-color",PREVIEWR_TOOLBAR_COLOR:"--previewr-toolbar",CLIP_BUTTON_COLOR:"--clip-btn-color",BG_BACKGROUND_COLOR:"--bg-background-color",BACKGROUND_COLOR:"--bg-color",BACKGROUND_SIZE:"--bg-size",MAX_BACKGROUND_SIZE:"--max-bg-size",BACKGROUND_REPEAT:"--bg-repeat",BACKGROUND_REPEAT_IMAGE:"--bg-repeat-img",BACKGROUND_REPEAT_IMAGE_SIZE:"--bg-repeat-img-size",BACKGROUND_REPEAT_IMAGE_POSITION:"--bg-repeat-img-position",BACKGROUND_IMAGE:"--bg-img",PRIMARY_BLUE:"--primary-blue",HOVER_BLUE:"--hover-blue",SUBSCRIPTION_BUTTON:"--sub-button"},c={COMPOSE_BUTTON_COLOR_PARTNER_DARK:"--compose-btn-color",SEGMENT_BORDER_COLOR_PARTNER_DARK:"--segment-border-color",SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:"--segment-bgcolor",SEGMENT_HOVER_COLOR_PARTNER_DARK:"--segment-hover-color",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:"--folder-actived-bg-color",FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER_PARTNER_DARK:"--folder-actived-border"},l={COMPOSE_BUTTON_COLOR_PARTNER_DARK:"--compose-btn-color",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:"--folder-actived-bg-color",FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER_PARTNER_DARK:"--folder-actived-border"};s(4),s(0);function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const _=function(e){return Object.keys(e).reduce((t,s)=>`${t}${s}:${e[s]};`,"")};function u({themeInput:e,themeModeInput:t,Themes:s=a.j}){let r=e;Object.keys(s).indexOf(e)<0&&(r=s.DEFAULT);let n=t;return!Object.keys(a.i).indexOf(t)<0&&(n=a.i.LIGHT),{theme:r,themeMode:n}}const p=function(e,t){const s=u({themeInput:e,themeModeInput:t}),r=s.theme,n=s.themeMode,d=function(e,t){if(Object(a.o)(e))switch(t){case a.i.LIGHT:return i;case a.i.MEDIUM:return E({},i,{},l);case a.i.DARK:return E({},i,{},c)}return i}(r,n),p={};Object.keys(d).forEach(e=>{const t=d[e],s=a.k[r][e]||Object.values(a.i).includes(n)&&a.h[n][e]||void 0;p[t]=s}),p[i.BACKGROUND_IMAGE]=Object(a.m)(a.k[r],o.a),p[i.BACKGROUND_REPEAT_IMAGE]=a.k[r].BACKGROUND_REPEAT_IMAGE?`url(${Object(o.a)(a.k[r].BACKGROUND_REPEAT_IMAGE)})`:"none";return`:root {${_(p)}}`}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(6),c=s(12),l=s.n(c),d=s(858),E=s.n(d),_=s(859),u=s.n(_);var p=function({step:e,active:t,onClick:s}){const r=l()(u.a,{active:t});return o.a.createElement("li",{className:r.step,onClick:s},e)},m=s(18),S=s(25),h=s(114),C=s(11);function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const O={height:7.5*C.G+"px",padding:`0 ${5*C.G}px`},T=l()(E.a);class A extends o.a.Component{constructor(...e){super(...e),n()(this,"state",{currentStep:this.props.startStep}),n()(this,"getMaxStep",()=>o.a.Children.count(this.props.children)),n()(this,"handleSetStep",e=>{const t=this.getMaxStep();e>-1&&e<t&&this.setState({currentStep:e})}),n()(this,"_isCurrentStepValid",()=>{const e=this.refs.step;return!e||"function"!=typeof e.isStepValid||e.isStepValid()}),n()(this,"_beginNavigateToIndex",e=>{(e<this.state.currentStep||this._isCurrentStepValid())&&this.handleSetStep(e)}),n()(this,"handleGotoNext",()=>{this._beginNavigateToIndex(this.state.currentStep+1)}),n()(this,"handleGoToPrevious",()=>{this._beginNavigateToIndex(this.state.currentStep-1)}),n()(this,"renderStep",e=>{const t=this.props,s=!!(e.type&&e.type.prototype&&e.type.prototype.render);return o.a.cloneElement(e,t.showNavigation?s?{ref:"step"}:{}:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},s?{ref:"step"}:{},{onPrevious:this.handleGoToPrevious,onNext:this.handleGotoNext,onCancel:t.onCancel}))}),n()(this,"renderNavButtons",()=>{const e=this.props.onCancel,t=this.getMaxStep();return this.state.currentStep!==t-1?o.a.createElement("div",{className:T.viewActions},o.a.createElement("span",{className:T.btnPrimary},o.a.createElement(m.a,{style:O,"data-test-id":"next",kind:S.a.SECONDARY,onClick:this.handleGotoNext},o.a.createElement(i.FormattedMessage,{id:"wizard_next_btn_text",defaultMessage:"Next"}))),o.a.createElement("span",null,o.a.createElement(m.a,{className:T.btnLink,"data-test-id":"cancel",kind:S.a.ICON,onClick:e},o.a.createElement(i.FormattedMessage,{id:"wizard_cancel_btn_text",defaultMessage:"Cancel"})))):null})}render(){const e=this.getMaxStep(),t=this.state.currentStep,s=this.props,r=s.children,n=s.showNavigation;return o.a.createElement("div",{className:T.wizardContainer},s.showSteps?o.a.createElement("div",{className:T.stepsContainer},o.a.createElement(i.FormattedMessage,{id:"step_label_text",defaultMessage:"Step"}),o.a.createElement("ol",{className:T.steps},Object(h.e)(e).map(e=>o.a.createElement(p,{key:e,step:e+1,active:e===t,onClick:this._beginNavigateToIndex.bind(this,e)})))):null,o.a.createElement("article",null,this.renderStep(r[t])),n?this.renderNavButtons():null)}}n()(A,"defaultProps",{startStep:0,onCancel:function(){},showSteps:!1,showNavigation:!1});t.a=A},,function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(6),c=s(12),l=s.n(c),d=s(461),E=s.n(d),_=s(0),u=s(477),p=s(90),m=s(4),S=s(110),h=s(5),C=s(13),g=s(69),O=s(10);function T(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}class A extends o.a.Component{constructor(...e){super(...e),n()(this,"state",{selectedIndex:-1}),n()(this,"getRapidSectionValue",()=>{const e=this.props;let t=h.i.SETTINGS_CATEGORIZATION_TAB;return e.isMenuMode?t=h.i.TABS_MENU:e.isCueMode&&(t=h.i.FEATURE_CUE),t}),n()(this,"onChange",(e,t)=>{const s=this.props,r=s.isCueMode,a=s.onTryNow,o=s.smartViews.map((t,s)=>s===e?function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?T(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):T(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{status:t.status?0:1}):t),i={mKey:h.g.SETTINGS_CATEGORIZATION_CHANGE,sec:this.getRapidSectionValue(),interactionType:h.e.click,actionData:{smartView:o[e].name,status:o[e].status}};r&&a(t),this.saveSmartViews(o,i)}),n()(this,"saveSmartViews",(e,t)=>{this.props.changeSettings({name:_.Kd.SYSTEM_TABS,value:e.filter(({name:e})=>!!_.qb[e]).map(({name:e,status:t})=>_.qb[e]+":"+t),i13nModel:t})}),n()(this,"moveSmartViews",(e,t)=>{const s=this.props.smartViews.slice(),r=Object.assign({},s[t]),n=t+(e?-1:1),a={mKey:h.g.SETTINGS_CATEGORIZATION_ORDER,sec:this.getRapidSectionValue(),interactionType:h.e.click,actionData:{direction:e?"up":"down"}};n>=0&&n<s.length&&(s[t]=Object.assign({},s[n]),s[n]=r,this.setState({selectedIndex:n},()=>{this.saveSmartViews(s,a)}))}),n()(this,"renderReorderControls",()=>{const e=l()(E.a),t=this.context.intl.formatMessage,s=this.state.selectedIndex,r=s<=-1;return o.a.createElement("div",{className:e.categoriesReorderContainer},o.a.createElement("div",{className:e.categoriesReorderTitle},o.a.createElement(i.FormattedMessage,{id:"categories_list_header_text",defaultMessage:"Priority list"})),o.a.createElement("div",{className:e.categoriesReorderBtnsContainer},o.a.createElement(p.a,{"data-test-id":"move-category-up",size:m.Sizes.XS,kind:m.Kinds.ARROW_UP,title:t(S.a.moveCategoryUp),"aria-label":t(S.a.moveCategoryUp),onClick:()=>{this.moveSmartViews(!0,s)},colorStates:{normal:r?m.ColorStates.DISABLED:m.ColorStates.NORMAL,hovered:r?m.ColorStates.DISABLED:m.ColorStates.SELECTED},disabled:r}),o.a.createElement(p.a,{"data-test-id":"move-category-down",size:m.Sizes.XS,kind:m.Kinds.ARROW_UP,rotate:m.Rotate.D180,title:t(S.a.moveCategoryDown),"aria-label":t(S.a.moveCategoryDown),onClick:()=>{this.moveSmartViews(!1,s)},colorStates:{normal:r?m.ColorStates.DISABLED:m.ColorStates.NORMAL,hovered:r?m.ColorStates.DISABLED:m.ColorStates.SELECTED},disabled:r})))}),n()(this,"setSelectedIndex",e=>{this.setState({selectedIndex:e})}),n()(this,"handleClick",(e,t)=>{const s=this.props,r=s.isMenuMode,n=s.isCueMode;t.stopPropagation(),n||r||this.setSelectedIndex(e)}),n()(this,"renderCategories",e=>{const t=this.context.intl.formatMessage,s=this.state.selectedIndex,r=this.props,n=r.useCalloutButton,a=r.smartViews,i=r.showHint,c=r.showToggleState,l=r.isMenuMode||r.isCueMode,d={[_.Ud.PEOPLE]:{kind:m.Kinds.PEOPLE,colorState:m.ColorStates.SMARTVIEW_PEOPLE},[_.Ud.COUPONS]:{kind:m.Kinds.SHOPPING,colorState:m.ColorStates.SMARTVIEW_SHOPPING}},E=a.length>1;return o.a.createElement("ol",{className:e.categoriesList},a.map(({name:r,status:a},p)=>{const m=E&&s===p,h=d[r],C=r===_.Ud.COUPONS?_.Ud.SHOPPING:r;let g="";return i&&(g=t(l?S.a[`smart_view_${C}_SHORT_HINT`]:S.a[`smart_view_${C}_HINT`])),o.a.createElement("li",{className:m?e.categorySelected:e.category,onClick:this.handleClick.bind(this,p),key:"category-"+p},o.a.createElement(u.a,{key:r,canToggle:!n,subHeader:!0,toggleEnabled:!!a,header:t(S.a["smart_view_"+C]),hint:g,onToggle:this.onChange.bind(this,p),showToggleState:c,useCalloutButton:n,iconDescription:h}))}))})}render(){const e=this.props,t=e.isMenuMode,s=e.isCueMode,r=!s&&!t&&e.smartViews.length>1,n=l()(E.a,{isMenuMode:t,isCueMode:s});return o.a.createElement("div",{className:n.categoriesContainer},r&&this.renderReorderControls(),this.renderCategories(n))}}n()(A,"contextTypes",{intl:i.intlShape.isRequired}),n()(A,"defaultProps",{isMenuMode:!1,isCueMode:!1,showHint:!1,showToggleState:!1,onTryNow:()=>{}});t.a=Object(C.connect)(e=>({smartViews:(0,Object(O.selectors)(e).getSetting)(_.Kd.SYSTEM_TABS)}),e=>({changeSettings:t=>e(Object(g.b)(t))}))(A)},,function(e,t,s){"use strict";s(7);var r=s(1),n=s.n(r),a=s(12),o=s.n(a),i=s(686),c=s.n(i);t.a=function({accountType:e}){const t=o()(c.a,{accountType:e});return n.a.createElement("div",{className:t.avatar})}},function(e,t,s){"use strict";e.exports={className:{default:{settingsGearIcon:"D_F",label:"D_n N_fq7 u_b A_6EqO",settingsLabelIconContainer:"D_F ab_C cdPFi_ZamTeg C_ZamTeg r_P",chevronIcon:"Q_A",menuContainer:"W_3vaYc",menuContainerLazy:"W_3vaYc d_3z5BY D_F ab_C gl_C",menuList:"M_0 P_0 hd_n",menuItemHeader:"M_0 D_F ab_C u_dPo k_w A_6EqO H_72FG P_1EudUu C_Zjpysv m_Z12nDQf",menuItem:"M_0 r_BN u_b A_6EqO P_ZCWMI4 i_6FIA C_Zjpysv z_Z12nDQf",menuItemQuickAccess:"r_BN o_A q_ZnkeaL",menuItemFooter:"M_0 u_e69 A_6DUj i_6EqO P_1Eu7sD z_Z12nDQf D_F H_7ceA gl_FM",moreSettingsLink:"C_Z1VRpVF cdPFi_Z1VRpVF C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6FIA H_6UbO",feedbackLink:"C_Z1VRpVF cdPFi_Z1VRpVF C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6LEV a_3n37k",optOutLink:"C_Z1VRpVF cdPFi_Z1VRpVF C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6LEV a_3nyS5 N_6Fd5",promoButton:"M_12Os3M",badgeContainer:"h_Zc8u05",menuLabel:"D_F Q_6Eb4",loadingSpinner:"D_F ek_BB gl_C",errorContainer:"D_F ab_C",tryAgainCTA:"P_Z1yLCgE M_12Ot5N"},"themeMode-MEDIUM":{settingsGearIcon:"cdPFi_52qC",label:"C_52qC"},"themeMode-DARK":{settingsGearIcon:"cdPFi_52qC",label:"C_52qC"},"theme-DEFAULT":{settingsLabelIconContainer:"C4_Z29WjXl cdPFi4_Z29WjXl"},verticalLayout:{settingsLabelIconContainer:"jb_6FIA"},"verticalPreviewPane-false":{label:"cZ1YE9AC_B"},"verticalPreviewPane-true":{label:"cWeabk_B"},hasContactCard:{label:"D_B"},hideFeedbackLink:{feedbackLink:"D_n",optOutLink:"a_3rmNg"}},_key:"aramR"}},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(9);const n=Object(r.d)(["FITCONTENT"])},function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(258),o=s.n(a),i=s(34),c=s.n(i),l=s(1),d=s.n(l),E=s(49);t.a=e=>{let t=e.src,s=e.srcSet,r=c()(e,["src","srcSet"]);return s&&(s=s.split(",").map(e=>{const t=e.trim().split(" "),s=o()(t),r=s[0],n=s[1];if(s.slice(2).length)throw new TypeError("Unexpected values in srcset string");if(!n)throw new TypeError("Expected each srcset string to contain a width descriptor");return`${Object(E.a)(r)} ${n}`}).join(", ")),d.a.createElement("img",n()({},r,{src:Object(E.a)(t)},s?{srcSet:s}:void 0))}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(13),c=s(10),l=s(6),d=s(85),E=s(63),_=s(431),u=s(16),p=s(5),m=s(775),S=s.n(m),h=s(12),C=s.n(h),g=s(17),O=s(4),T=s(0),A=s(60),I=s.n(A),f=s(8);function D(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const R=C()(S.a),b=Object(l.defineMessages)({heading:{id:"blockSenders.heading",defaultMessage:"Block senders"},description:{id:"blockSenders.description",defaultMessage:"Please verify that you want to block messages from the following email senders:"},blockOption:{id:"blockSenders.blockOption",defaultMessage:"Block all future emails"},deleteOption:{id:"blockSenders.deleteOption",defaultMessage:"Delete all existing emails"}});class N extends o.a.Component{constructor(...e){super(...e),n()(this,"state",{sendersChecked:{},blockSendersChecked:!0,deleteMessagesChecked:!0}),n()(this,"handleConfirm",e=>{e.stopPropagation();const t=this.props,s=t.handleBlockSenders,r=t.handleBlockSendersWithDelete,n=t.messageGroupIds,a=t.listId,o=t.folderId,i=t.permanent,c=this.state,l=c.sendersChecked,d=c.blockSendersChecked,E=c.deleteMessagesChecked,_=t.emailIds.filter(e=>l[e]),m={mKey:p.g.BLOCK_SENDERS_SUBMIT,sec:p.i.MSG_LIST_TOOLBAR_POPUP,interactionType:Object(u.getInteractionFromEvent)(e)};if(0===_.length)return void this.props.onClose();const S=_.length,h=I()(this.props.blockedSenders.concat(_));if(E){const e={deleteItemsFromSenders:_,i13nModel:m,listId:a,messageGroupIds:n,delta:S,folderId:o,permanent:i};d&&(e.blockSenders=h),r(e)}else d&&s({blockSenders:h,i13nModel:m,delta:S});this.props.onClose()}),n()(this,"handleClose",e=>{e.stopPropagation(),this.props.onClose()}),n()(this,"handleKeydown",(e,t)=>{/^( )$/.test(t.key)&&(t.preventDefault(),t.stopPropagation(),e())}),n()(this,"toggleCheckStatus",e=>{const t=Object.assign({},this.state.sendersChecked,{[e]:!this.state.sendersChecked[e]});this.setState({sendersChecked:t})}),n()(this,"renderItem",(e,t,s)=>o.a.createElement("a",{onClick:s,className:R.item,tabIndex:-1,onKeyDown:this.handleKeydown.bind(this,s)},o.a.createElement("span",{className:R.checkbox},o.a.createElement(g.b,{kind:e?O.Kinds.CHECKBOX_ON:O.Kinds.CHECKBOX_OFF,size:O.Sizes.XS,colorState:e?O.ColorStates.SELECTED:O.ColorStates.COOL_FAINT})),o.a.createElement("span",null,t)))}componentWillMount(){this.setState({sendersChecked:this.props.emailIds.reduce((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?D(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{[t]:!0}),{})})}render(){const e=this.context.intl.formatMessage,t=this.state,s=t.sendersChecked,r=t.blockSendersChecked,n=t.deleteMessagesChecked;return o.a.createElement(d.a,{onAbort:this.handleClose,onConfirm:this.handleConfirm,hideIcon:!0,title:e(b.heading),onOuterClick:()=>{}},o.a.createElement("div",{"data-test-id":"block-senders-dialog"},o.a.createElement("div",{className:R.description},e(b.description)),o.a.createElement("div",{className:R.list},o.a.createElement(E.a,{focusOnMount:!0,onEscape:this.props.onClose,tabIndex:0},this.props.emailIds.map(e=>o.a.createElement("li",{key:e},this.renderItem(s[e],e,this.toggleCheckStatus.bind(this,e)))))),o.a.createElement("div",{className:R.separator}),o.a.createElement("a",{onClick:()=>this.setState({blockSendersChecked:!r}),className:R.option,tabIndex:0,onKeyDown:this.handleKeydown.bind(this,()=>this.setState({blockSendersChecked:!r}))},o.a.createElement("span",{className:R.checkbox},o.a.createElement(g.b,{kind:r?O.Kinds.CHECKBOX_ON:O.Kinds.CHECKBOX_OFF,size:O.Sizes.XS,colorState:r?O.ColorStates.SELECTED:O.ColorStates.COOL_FAINT})),o.a.createElement("span",null,e(b.blockOption))),o.a.createElement("a",{onClick:()=>this.setState({deleteMessagesChecked:!n}),className:R.option,tabIndex:0,onKeyDown:this.handleKeydown.bind(this,()=>this.setState({deleteMessagesChecked:!n}))},o.a.createElement("span",{className:R.checkbox},o.a.createElement(g.b,{kind:n?O.Kinds.CHECKBOX_ON:O.Kinds.CHECKBOX_OFF,size:O.Sizes.XS,colorState:n?O.ColorStates.SELECTED:O.ColorStates.COOL_FAINT})),o.a.createElement("span",null,e(b.deleteOption)))))}}n()(N,"contextTypes",{intl:l.intlShape.isRequired}),n()(N,"defaultProps",{blockedSenders:[],emailIds:[]});t.a=Object(i.connect)((e,t)=>{const s=t.messageGroupIds,r=t.onClose,n=t.emailIds,a=Object(c.selectors)(e),o=a.getSenderEmailIdsFromMessageGroup,i=a.getFoldersSelectors,l=(0,a.getFeaturesSelectors)().getSetting(T.Kd.DELIVERY_BLOCKED_SENDERS),d=Object(f.q)(t.listId),E=!!d&&i().isPermDeleteFolderType(d);return{emailIds:n&&n.length?n:o(s),onClose:r,blockedSenders:l,folderId:d,permanent:E}},e=>({handleBlockSenders:t=>e(Object(_.b)(t)),handleBlockSendersWithDelete:t=>e(Object(_.a)(t))}))(N)},function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var r=s(67),n=s(92),a=s(0);function o({kind:e,activeGroup:t,allCardsExpanded:s,primaryFolderType:o,listContentType:i}){const c=e!==r.c.LIST&&t&&t.messages.length>1,l=Boolean(c&&!1===s),d=Boolean(c&&!0===s),E=r.b.HAS_PREVIOUS_NEXT[e]&&i===a.ac.MESSAGES;if(e===r.c.MESSAGE_VIEW){if(!t)return{};const e=Object(n.e)(t),s=!e&&Object(n.d)(t),r=!s&&Object(n.f)(t),i=o===a.Mb.ARCHIVE,c=s||r||e;return{spam:!e&&!s,ham:e&&!s,move:!s,archive:!(s||e||r||i),restore:e||r||i,delete:!c,permDelete:c,raf:!e&&!s,expandAll:l,collapseAll:d,prevNext:E}}const _=Boolean(o),u=o===a.Mb.DRAFT,p=o===a.Mb.TRASH,m=o===a.Mb.ARCHIVE,S=o===a.Mb.BULK,h=o===a.Mb.SENT,C=u||p||S;return{spam:!_||!u&&!S&&!h,ham:S&&!h,move:!_||!u,archive:!_||!u&&!m&&!S&&!p,restore:m||S||p,delete:!_||!C,permDelete:C,raf:e!==r.c.LIST&&(!_||!S&&!u),expandAll:l,collapseAll:d}}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(6),d=s(12),E=s.n(d),_=s(317),u=s.n(_),p=s(51),m=s(0),S=s(17),h=s(4),C=s(18),g=s(47),O=s(25);const T=Object(l.defineMessages)({back_button_title:{id:"oauth_back_button_title",defaultMessage:"Back"},relaunch_button_title:{id:"oauth_relaunch_button_title",defaultMessage:"Relaunch"},cancel_button_title:{id:"oauth_cancel_button_title",defaultMessage:"Cancel"}}),A=E()(u.a);class I extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{errorState:null,errorCode:null,accountSyncFailed:this.props.accountSyncFailed,oAuthSuccess:!1}),n()(this,"_getPopupwindow",(e,t,s,r)=>{const n=screen.width/2-s/2,a=screen.height/2-r/2;return window.open(e,t,`width=${s}, height=${r}, top=${a}, left=${n}`)}),n()(this,"_openOAuthWindow",()=>{const e=this.props,t=e.provider,s=e.email,r=t===m.xb.GOOGLE?600:700,n=`https://${window.location.hostname}${e.appRootPath}/oAuth`,a="ycorp"===this.context.partner;return window[m.Tc]=this._handleOAuthResponse,this.oAuthWindow=this._getPopupwindow("","authorizeWindow",800,r),this.context.credstoreClient.getAuthorizationURL({provider:t,email:s,redirectUri:n,isCorpUser:a}).then(({authorizationURL:e})=>{this.oAuthWindow.location.replace(`${e}&${t===m.xb.AOL?"login_id":"login_hint"}=${s}`)})}),n()(this,"_handleOAuthResponse",({status:e,error:t,wssid:s,crumb:r})=>{const n=this.props,a=n.onAuthorize,o=n.email,i=n.provider,c=n.onNext,l=n.onCancelAuthorize,d=m.Ub[i]&&m.Ub[i].type||m.n.IMAPIN;window[m.Tc]=void 0,200===(e=parseInt(e,10))?(this.setState({accountSyncFailed:!1,oAuthSuccess:!0}),a({email:o,provider:i,type:d,wssid:s,crumb:r}),c()):this.setState({errorState:e,errorCode:t},()=>l({status:e,error:t,provider:i,email:o}))}),n()(this,"handleRelaunchClick",e=>{e.preventDefault(),this._openOAuthWindow()}),n()(this,"handleRetry",()=>{const e=this.props,t=e.email,s=e.provider,r=e.onAuthorize,n=e.onNext,a=m.Ub[s]&&m.Ub[s].type||m.n.IMAPIN;this.setState({accountSyncFailed:!1}),r({email:t,provider:s,type:a}),n()}),n()(this,"getErrorMessageBody",(e,t)=>{const s=this.props.provider,r=this.context.yahooBrandNameString;switch(e){case 412:return c.a.createElement(l.FormattedMessage,"invalid_resource"===t||"interaction_required"===t?{id:"oauth_error_contact_admin",defaultMessage:"Please contact your {provider} admin to enable this feature.",values:{provider:Object(g.f)(s)}}:{id:"oauth_error_cancel_permession",defaultMessage:"Account connection cancelled."});case 403:return c.a.createElement(l.FormattedMessage,{id:"oauth_error_different_id",defaultMessage:"You are currently signed into a different {provider}\n                        account.{nextLine}Please {sign_out} of that account and retry.",values:{provider:Object(g.f)(s),nextLine:c.a.createElement("br",null),sign_out:c.a.createElement("a",{className:A.link,target:"_blank",href:m.Ub[s].providerUrl},c.a.createElement(l.FormattedMessage,{id:"oauth_sign_out",defaultMessage:"sign out"}))}});case 503:return c.a.createElement(l.FormattedMessage,{id:"oauth_error_provider_not_available",defaultMessage:"{yahooBrandNameString} cannot connect to {provider} at this time. Please\n                        try to connect your account later.",values:{yahooBrandNameString:r,provider:Object(g.f)(s)}});case 409:return c.a.createElement(l.FormattedMessage,{id:"oauth_error_account_confilict",defaultMessage:"This account is already connected"});default:return c.a.createElement(l.FormattedMessage,{id:"oauth_error_default",defaultMessage:"Unable to add mailbox. Please try again later."})}}),n()(this,"getErrorMessageHeader",e=>{const t=this.props,s=t.email,r=t.provider;switch(e){case 412:return null;case 403:return c.a.createElement(l.FormattedMessage,{id:"oauth_error_different_id_header",defaultMessage:"{email} could not be added",values:{email:s}});case 503:return c.a.createElement(l.FormattedMessage,{id:"oauth_error_provider_not_available_header",defaultMessage:"{provider} not available",values:{provider:Object(g.f)(r)}});case 409:default:return null}}),n()(this,"renderErrorMessage",(e,t)=>{const s=this.getErrorMessageHeader(e),r=this.getErrorMessageBody(e,t);return c.a.createElement("span",null,null===s?null:c.a.createElement("h4",{className:A.errorHeader},s),r)})}componentDidMount(){this.props.accountSyncFailed||this._openOAuthWindow()}componentWillUnmount(){window[m.Tc]=void 0;const e=this.props;this.state.oAuthSuccess&&!this.state.accountSyncFailed&&this.props.handleAddSuccess({provider:e.provider,email:e.email})}render(){const e=this.props,t=e.provider,s=e.onPrevious,r=e.onCancel,n=e.email,a=e.hideCancelButton,o=e.renderTitleComponent,i=e.renderNavComponent,d=e.inNewUserTasksCue,_=E()(u.a,{inNewUserTasksCue:d}),p=this.context.intl.formatMessage,m=this.state,A=m.errorState,I=m.errorCode,f=m.accountSyncFailed,D=A||f,R=c.a.createElement(l.FormattedMessage,{id:"relaunch_window_test",defaultMessage:"Relaunch window"}),b=c.a.createElement("a",{className:_.tryAgain,onClick:this.handleRetry},c.a.createElement(l.FormattedMessage,{id:"oauth_try_again",defaultMessage:"Try again"}));return c.a.createElement("div",{className:_.container},o?o():c.a.createElement("h5",{className:_.titleLabel},c.a.createElement(l.FormattedMessage,{id:"oAuth_signIn_text",defaultMessage:"Sign in to your account"})),D?c.a.createElement("div",{className:_.errorWrapper},c.a.createElement("div",{className:_.errorIcon},c.a.createElement(S.b,{kind:h.Kinds.EXCLAMATION_ALT,size:h.Sizes.XS,colorState:h.ColorStates.WARNING_GRAD_RED})),f?c.a.createElement("span",null,c.a.createElement(l.FormattedMessage,{id:"oauth_error_account_add_failed",defaultMessage:"{email} cannot be added",values:{email:n}}),b):this.renderErrorMessage(A,I)):null,c.a.createElement("div",{className:_.oAuthHint},c.a.createElement(l.FormattedMessage,{id:"oAuth_signIn_hint",defaultMessage:"A new window should show the {providerName} sign in page.\n                        If you do not see it, check your browser for pop-up blockers.",values:{providerName:Object(g.f)(t)}})),c.a.createElement("div",{className:_.oAuthLink},c.a.createElement(l.FormattedMessage,{id:"oAuth_signIn_help",defaultMessage:"Don't see the pop-up window? {link}",values:{link:c.a.createElement("a",{href:"#",className:_.link,onClick:this.handleRelaunchClick},R)}})),i?i({onPrevious:s,onNext:this.handleRelaunchClick}):c.a.createElement("div",{className:_.iconsWrapper},c.a.createElement(C.a,{"data-test-id":"oauth-back-button",kind:O.a.SECONDARY,overridingClass:_.backButton,onClick:s,title:p(T.back_button_title)},c.a.createElement(l.FormattedMessage,{id:"oauth_back_button_label",defaultMessage:"Back"})),c.a.createElement(C.a,{"data-test-id":"oauth-relaunch-button",kind:O.a.PRIMARY,overridingClass:_.primaryButton,onClick:this.handleRelaunchClick,title:p(T.relaunch_button_title)},c.a.createElement(l.FormattedMessage,{id:"oauth_relaunch_button_label",defaultMessage:"Relaunch window"})),a?null:c.a.createElement(C.a,{"data-test-id":"oauth-cancel-button",kind:O.a.SECONDARY_BORDERLESS,overridingClass:_.cancelButton,onClick:r,title:p(T.cancel_button_title)},c.a.createElement(l.FormattedMessage,{id:"oauth_cancel_button_label",defaultMessage:"Cancel"}))))}}n()(I,"contextTypes",{intl:l.intlShape.isRequired,config:o.a.object,credstoreClient:p.CredstoreClientType,partner:o.a.string,yahooBrandNameString:o.a.string}),n()(I,"defaultProps",{onCancelAuthorize:()=>{}}),t.a=I},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(6),d=s(12),E=s.n(d),_=s(317),u=s.n(_),p=s(18),m=(s(51),s(17)),S=s(4),h=s(0),C=s(47),g=s(16),O=s(135),T=s.n(O),A=s(21),I=s(13),f=s(109),D=s(5),R=s(25);function b(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const N=Object(l.defineMessages)({default_email_placeholder:{id:"imapin_email_placeholder",defaultMessage:"Email Address"},yahoo_email_placeholder:{id:"imapin_yahoo_email_placeholder",defaultMessage:"name@yahoo.com"},gmail_email_placeholder:{id:"imapin_gmail_email_placeholder",defaultMessage:"name@gmail.com or your custom domain"},outlook_email_placeholder:{id:"imapin_outlook_email_placeholder",defaultMessage:"name@outlook.com"},aol_email_placeholder:{id:"imapin_aol_email_placeholder",defaultMessage:"name@aol.com"},office365_email_placeholder:{id:"imapin_office365_email_placeholder",defaultMessage:"name@domain.onmicrosoft.com or custom domain"},back_button_title:{id:"imapin_back_button_title",defaultMessage:"Back"},next_button_title:{id:"imapin_next_button_title",defaultMessage:"Next"},cancel_button_title:{id:"imapin_cancel_button_title",defaultMessage:"Cancel"},invalid_email_error:{id:"imapin_invalid_email",defaultMessage:"Invalid email address"},invalid_email_domain:{id:"imapin_invalid_domain",defaultMessage:"Not a valid {providerName} address"},incorrect_provider:{id:"imapin_incorrect_provider",defaultMessage:"Your email is not supported by this provider. Please select {providerName} provider and try again."},invalid_corp_email:{id:"imapin_corp_email",defaultMessage:"Please enter a valid @verizonmedia.com email address"},clear_input_icon:{id:"imapin_email_input_clear",defaultMessage:"Clear"}});class M extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{accountExist:!1,invalidReason:null,inputText:this.props.email,showClearInputIcon:!!this.props.email}),n()(this,"isStepValid",()=>!!this.props.email),n()(this,"handleGoNext",()=>{const e=this.context.intl.formatMessage,t=this.props,s=t.email,r=t.accounts,n=t.onNext,a=t.provider,o="ycorp"===this.context.partner;if(Object(g.isValidEmail)(s))if(o&&!Object(g.isVerizonMediaEmail)(s))this.setState({invalidReason:e(N.invalid_corp_email)});else if(o||Object(C.i)(h.Ub[a],s))if(Object(C.b)(r,s))this.setState({accountExist:!0});else{const t=Object(C.e)(s);!o&&t&&t!==a?this.setState({invalidReason:e(N.incorrect_provider,{providerName:Object(C.f)(t)})}):(this.props.authorizeNewAccount({email:s,provider:a}),n())}else this.setState({invalidReason:e(N.invalid_email_domain,{providerName:Object(C.f)(a)})});else this.setState({invalidReason:e(N.invalid_email_error)})}),n()(this,"handleChange",e=>{const t=this.state,s=t.invalidReason,r=this.props.onChange;t.accountExist&&this.setState({accountExist:!1}),null!==s&&this.setState({invalidReason:null}),r("email",e)}),n()(this,"handleInputChange",e=>{const t=e.length>0;this.handleChange(e),this.setState({inputText:e,showClearInputIcon:t})}),n()(this,"handleKeydown",e=>{switch(e.key){case h.Wb.ENTER:this.handleGoNext();break;case h.Wb.ARROW_RIGHT:if(this.isCursorEndOfInput(e)){const e=this.getEmailHint(this.state.inputText,this.props.provider);e&&(this.setState({inputText:e}),this.handleChange(e))}}}),n()(this,"handleClearInput",()=>{this.setState({inputText:"",showClearInputIcon:!1}),this.handleChange("")}),n()(this,"isCursorEndOfInput",e=>e.target.selectionEnd===this.state.inputText.length),n()(this,"getEmailPlaceHolder",()=>{const e=this.context.intl.formatMessage;switch(this.props.provider){case h.xb.YAHOO:return e(N.yahoo_email_placeholder);case h.xb.GOOGLE:return e(N.gmail_email_placeholder);case h.xb.OUTLOOK:return e(N.outlook_email_placeholder);case h.xb.AOL:return e(N.aol_email_placeholder);case h.xb.OFFICE365:return e(N.office365_email_placeholder);default:return e(N.default_email_placeholder)}}),n()(this,"getEmailHint",(e,t)=>{const s=e.indexOf("@"),r=e.length;if(!h.Ub[t]||-1===s||r-s<2)return"";const n=h.Ub[t].domainHints||h.Ub[t].domainCheck,a=e.substr(s+1).toLowerCase(),o=n.find(e=>("@"+e).indexOf("@"+a)>-1),i=o?o.substr(r-s-1)+".com":"";return i?e+i:""})}componentDidMount(){this.refs.selector&&this.refs.selector.focus()}render(){const e=this.context.intl.formatMessage,t=this.context,s=t.partner,r=t.yahooBrandNameString,n=this.context.config,a=n.termsUrl,o=n.privacyUrl,i=this.props,d=i.email,_=i.provider,h=i.onCancel,g=i.onPrevious,O=i.renderNavComponent,I=i.renderTitleComponent,f=i.inNewUserTasksCue,D=E()(u.a,{disabled:!this.isStepValid(),inNewUserTasksCue:f}),b=this.state,M=b.accountExist,y=b.invalidReason,L=this.state,P=L.inputText,v=L.showClearInputIcon,F="ycorp"===s;return c.a.createElement("div",{className:D.container},f?null:c.a.createElement("div",null,I?I():c.a.createElement("h5",{className:D.titleLabel},c.a.createElement(l.FormattedMessage,{id:"impain_address_text",defaultMessage:"Add mailbox"}))),M?c.a.createElement("div",{className:D.errorWrapper},c.a.createElement("div",{className:D.errorIcon},c.a.createElement(m.b,{kind:S.Kinds.EXCLAMATION_ALT,size:S.Sizes.XS,colorState:S.ColorStates.WARNING_GRAD_RED})),c.a.createElement(l.FormattedMessage,{id:"imapin_account_exsit_error",defaultMessage:"Your email {email} already exists.\n                              If you deleted the mailbox recently, please wait for a few minutes until the process is complete and try again.",values:{email:c.a.createElement("strong",null,d)}})):null,c.a.createElement("label",{className:D.label,htmlFor:"accountAddress"},c.a.createElement(l.FormattedMessage,f?{id:"onboarding_email_address_text",defaultMessage:"Enter your email address",values:{provider:_}}:{id:"email_address_text",defaultMessage:"Enter your {provider} mail address",values:{provider:_}})),c.a.createElement("div",{className:D.textInput},c.a.createElement(T.a,{"data-test-id":"typeahead-email-input",ref:"selector",maxVisible:10,placeholder:this.getEmailPlaceHolder(),inputValue:P,hintValue:this.getEmailHint(P,_),onInputChange:this.handleInputChange,onInputKeyDown:this.handleKeydown,inputContainerClassName:D.typeaheadInputContainer,inputClassName:D.typeaheadInput,inputHintClassName:D.typeaheadInputHint,dropDownClassName:D.typeaheadDropDown}),v&&P.length>0?c.a.createElement("div",null,c.a.createElement("span",{className:D.clearIconContainer},c.a.createElement(A.default,{"data-test-id":"clear-button",kind:S.Kinds.CLEAR,size:S.Sizes.XXS,colorState:S.ColorStates.FAINT,onClick:this.handleClearInput,title:e(N.clear_input_icon)})),y?c.a.createElement("span",{"data-test-id":"type-ahead-input-error",className:D.errorInvalidReason},y):null):null),c.a.createElement("div",{className:D.hintTop},c.a.createElement(l.FormattedMessage,{id:"imapin_terms_and_policy_hint",defaultMessage:"Sign in to your {providerName} account and give {yahooBrandNameString} permission\n                        to sync your email, calendar, and contacts and treat them in accordance\n                        with the {terms} and {policy}.",values:{providerName:Object(C.f)(_),yahooBrandNameString:r,terms:c.a.createElement("a",{className:D.link,target:"_blank",href:a,rel:"noopener"},c.a.createElement(l.FormattedMessage,{id:"imapin_terms",defaultMessage:"{yahooBrandNameString} Terms",values:{yahooBrandNameString:r}})),policy:c.a.createElement("a",{className:D.link,target:"_blank",href:o,rel:"noopener"},c.a.createElement(l.FormattedMessage,{id:"imapin_policy",defaultMessage:"Privacy Policy"}))}})),c.a.createElement("div",{className:D.hint},c.a.createElement(l.FormattedMessage,{id:"imapin_signout_accounts_hint",defaultMessage:"Note: If you are signed into a different {providerName} account.\n                        Please sign out of all the accounts before adding this mailbox",values:{providerName:_}})),O?O({onCancel:h,onPrevious:g,onNext:this.handleGoNext,isStepValid:this.isStepValid}):c.a.createElement("div",{className:D.iconsWrapper},F?null:c.a.createElement(p.a,{"data-test-id":"imapin-back-button",kind:R.a.SECONDARY,overridingClass:D.backButton,onClick:g,title:e(N.back_button_title)},c.a.createElement(l.FormattedMessage,{id:"imapin_back_button_label",defaultMessage:"Back"})),c.a.createElement(p.a,{"data-test-id":"imapin-next-button",kind:R.a.PRIMARY,overridingClass:D.primaryButton,onClick:this.handleGoNext,disabled:!this.isStepValid(),title:e(N.next_button_title)},c.a.createElement(l.FormattedMessage,{id:"imapin_next_button_label",defaultMessage:"Next"})),c.a.createElement(p.a,{"data-test-id":"imapin-cancel-button",kind:R.a.SECONDARY_BORDERLESS,overridingClass:D.cancelButton,onClick:h,title:e(N.cancel_button_title)},c.a.createElement(l.FormattedMessage,{id:"imapin_cancel_button_label",defaultMessage:"Cancel"}))))}}n()(M,"contextTypes",{intl:l.intlShape.isRequired,config:o.a.object,partner:o.a.string,yahooBrandNameString:o.a.string}),t.a=Object(I.connect)(void 0,e=>({authorizeNewAccount:t=>e(Object(f.d)(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({i13nModel:{mKey:D.g.AUTHORIZE_IMAP_ACCOUNT,sec:D.i.SETTINGS_ACCOUNTS_TAB,interactionType:D.e.click}},t)))}))(M)},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(6),o=(s(7),s(1)),i=s.n(o),c=s(12),l=s.n(c),d=s(383),E=s.n(d),_=(s(51),s(0)),u=s(17),p=s(90),m=s(4),S=s(33),h=s.n(S),C=s(62),g=s(249);var O=({suggestion:e,inputValue:t=""})=>{const s=e.name,r=e.subject,n=e.type===_.ge.EMAIL&&r?r.replace(/\^_/g,""):s;return i.a.createElement(g.a,{haystack:n,title:n,needle:t,formatter:e=>i.a.createElement("strong",null,e)})};const T=l()(E.a),A=Object(a.defineMessages)({search_email_addresses:{id:"search.email_addresses",defaultMessage:"{emailAddress} & {extraEmailCount} more"}}),I=({suggestion:e,inputValue:t=""},{intl:{formatMessage:s}})=>i.a.createElement("div",{className:T.suggestionOption},i.a.createElement("span",{className:T.suggestionAvatar},i.a.createElement(C.c,{contact:{id:e.serviceId},size:C.b.M})),i.a.createElement("div",{className:T.personSuggestionLabel},i.a.createElement("div",{className:T.suggestionLabel},i.a.createElement(O,{suggestion:e,inputValue:t})),(()=>{const r=(({emailIds:e=[],formatMessage:t})=>{const s=e.length-1,r=h()(e,1)[0];return s>0?t(A.search_email_addresses,{emailAddress:r,extraEmailCount:s}):r})({emailIds:e.emailIds,formatMessage:s});return i.a.createElement("div",{className:T.emailAddressLabel,"data-test-id":"person-item-email-list"},i.a.createElement(g.a,{haystack:r,title:r,needle:t,formatter:e=>i.a.createElement("strong",null,e)}))})()));I.contextTypes={intl:a.intlShape.isRequired};var f=I,D=s(864),R=s.n(D),b=s(170);const N=l()(R.a),M=Object(a.defineMessages)({search_email_addresses:{id:"search.email_addresses",defaultMessage:"{emailAddress} & {extraEmailCount} more"}}),y=({suggestion:e,inputValue:t=""},{intl:{formatMessage:s}})=>{const r=e.date,n=JSON.parse(e.from)[0].email,a=1e3*parseInt(r,10);return i.a.createElement("div",{className:N.suggestionOption},i.a.createElement("div",{className:N.suggestionLabelContainer},i.a.createElement("span",{className:N.suggestionIcon},i.a.createElement(u.b,{kind:m.Kinds.INBOX,size:m.Sizes.XS,colorState:m.ColorStates.COOL_FAINT})),i.a.createElement("div",{className:N.emailSuggestionLabel},i.a.createElement("div",{className:N.suggestionLabel},i.a.createElement(O,{suggestion:e,inputValue:t})),(()=>{const e=(({emailIds:e=[],formatMessage:t})=>{const s=e.length-1,r=h()(e,1)[0];return s>0?t(M.search_email_addresses,{emailAddress:r,extraEmailCount:s}):r})({emailIds:[n],formatMessage:s});return i.a.createElement("div",{className:N.emailAddressLabel,"data-test-id":"person-item-email-list"},i.a.createElement(g.a,{haystack:e,title:e,needle:t,formatter:e=>i.a.createElement("strong",null,e)}))})())),i.a.createElement("div",{className:N.dateLabel},i.a.createElement(b.a,{date:new Date(a)})))};y.contextTypes={intl:a.intlShape.isRequired};var L=y;const P=Object(a.defineMessages)({remove_history:{id:"btn_remove_history",defaultMessage:"Remove"}}),v=l()(E.a);class F extends i.a.Component{constructor(...e){super(...e),n()(this,"handleDeleteRecent",e=>{e.preventDefault(),e.stopPropagation(),this.props.deleteRecent(this.props.suggestion)})}renderSuggestionWithIcon(e){const t=this.context.intl.formatMessage,s=this.props.suggestion;return i.a.createElement("div",{className:v.keywordSuggestionOption},i.a.createElement("span",{className:v.keywordSuggestionIcon},i.a.createElement(u.b,{kind:e,size:m.Sizes.S,colorState:m.ColorStates.FIRST_LEVEL_GRAY})),i.a.createElement("div",{className:v.keywordSuggestionLabel},i.a.createElement(O,this.props)),s.type===_.ge.RECENT&&i.a.createElement("span",{className:v.deleteButton},i.a.createElement(p.a,{"data-iskeynav":!0,kind:m.Kinds.CLOSE,size:m.Sizes.XXS,title:t(P.remove_history),colorStates:{normal:m.ColorStates.NORMAL,hovered:m.ColorStates.SELECTED},onMouseDown:this.handleDeleteRecent})))}render(){switch(this.props.suggestion.type){case _.ge.PERSON:return i.a.createElement(f,this.props);case _.ge.RECENT:return this.renderSuggestionWithIcon(m.Kinds.CLOCK_OUTLINE);case _.ge.KEYWORD:return this.renderSuggestionWithIcon(m.Kinds.SEARCH);case _.ge.EMAIL:return i.a.createElement(L,this.props);default:return null}}}n()(F,"contextTypes",{intl:a.intlShape.isRequired}),n()(F,"defaultProps",{inputValue:""});t.a=F},,function(e,t,s){"use strict";s.d(t,"b",(function(){return J}));var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(13),d=s(6),E=(s(51),s(80)),_=s(209),u=s(5),p=s(16),m=s(14),S=s(22),h=s(744),C=s.n(h),g=s(10),O=s(44),T=s(451),A=s(746),I=s.n(A),f=s(12),D=s.n(f);const R=D()(I.a),b=e=>e.isBusiness?c.a.createElement("span",{className:R.footer}):c.a.createElement("div",{"data-test-id":"contact-card-footer",className:R.containerFooter},c.a.createElement("div",{className:R.footerText},c.a.createElement(d.FormattedMessage,{id:"contact_card.footer",defaultMessage:"Auto generated card visible only to you"})));b.defaultProps={isBusiness:!1};var N=b,M=s(598),y=s(452),L=s(649),P=s(599),v=s(453),F=s(188),U=s(0),w=s(123),G=s(127),H=s(21),j=s(4),k=s(83),x=s(45),B=s(206),V=s(18),W=s(25),K=s(11),q=s(62),Y=s(753),z=s.n(Y);class Q extends c.a.Component{render(){const e=this.context.intl.formatMessage,t=D()(z.a);return c.a.createElement("div",{className:t.merchantCardContainer},c.a.createElement("span",{className:t.textWrapper},c.a.createElement("span",{className:t.textLeft},c.a.createElement(q.c,{contact:{},size:q.b.MEDIUM_PLUS,useFallbackImage:!1})),c.a.createElement("span",{className:t.textRight},c.a.createElement("span",{className:t.textName},this.props.name),c.a.createElement("span",{className:t.textLink}))),c.a.createElement("span",{className:t.actionWrapper},c.a.createElement(V.a,{kind:W.a.PRIMARY,disabled:!0,style:{display:"flex",padding:`0 ${4*K.G}px`,margin:`0 ${2*K.G}px 0 ${3*K.G}px`,height:7.5*K.G+"px",lineHeight:6.75*K.G+"px"}},e(J.visit_site))))}}function Z(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}n()(Q,"contextTypes",{intl:d.intlShape.isRequired});const X="title",$="visit_site",J=Object(d.defineMessages)({addToContacts:{id:"add_to_contacts",defaultMessage:"Add to contacts"},editContact:{id:"edit_contact",defaultMessage:"Edit contact"},see_fewer_deals:{id:"contact_card.see_fewer_deals",defaultMessage:"See fewer deals"},see_all_deals:{id:"contact_card.see_all_deals",defaultMessage:"See all deals"},visit_site:{id:"contact_card.visit_site",defaultMessage:"Visit site"},welcome_back:{id:"contact_card.welcome_back",defaultMessage:"Welcome back!"},welcome_back_body:{id:"contact_card.welcome_back_body",defaultMessage:"Didnt find what you were looking for? You might like"}});class ee extends c.a.Component{constructor(...e){super(...e),n()(this,"handleClick",e=>{e.stopPropagation()}),n()(this,"_i13nModel",(e,t,s,r)=>{const n=this.props,a=n.isInRightRail,o=n.messageIds;let i,c;if(n.isMerchantCard?(i=u.j.TOM,c=u.i.MSG_BODY):(i=a?u.j.RIGHT_RAIL:u.j.HOVER,c=a?t||u.i.RIGHT_RAIL:u.i.MSG_HEADER),n.isAffiliatePartnerEnabled){const t={xpname:U.u.CONTACT_CARD,msgId:(void 0===o?[]:o)[0],sndr:n.email,brandurl:(n.contact||{}).website,slot:i,moment:"na",featurefamily:U.Cb.IC,kpidriven:U.vc};e===u.g.CARD_INTERACT&&(t.interactiontype=u.e.click,t.affiliatePartnerName=r,t.interacteditem=s),x.b.sendI13nModel({i13nModel:{mKey:e,sec:c,actionData:t}})}}),n()(this,"redirectToAffiliateLink",(e,t,s)=>{const r=this.props,n=r.affiliateFeatures,a=r.domainMap,o=r.email,i=r.inboxCommerceFeatureClicked,c=r.isAffiliatePartnerEnabled,l=r.locale,d=r.partner,E=(r.contact||{}).website,_=c?Object(k.b)({affiliateLink:E,domainMap:a,email:o,features:n,locale:l,partner:d}):{affiliatePartnerName:"",affiliatePartnerUrl:""},p=_.affiliatePartnerUrl;this._i13nModel(u.g.CARD_INTERACT,t,s,_.affiliatePartnerName),i({clicked:!0}),window.open(c?p:E,"_blank","noreferrer"),e.stopPropagation()}),n()(this,"openComposeView",e=>{e.stopPropagation(),e.preventDefault();const t=this.props,s=t.email;t.isCompose||(0,t.dispatchActionToNewRoute)({route:Object(m.f)(Object(p.generateUID)()),mailtoAttr:"mailto:"+s,i13nModel:{mKey:u.g.CONTACT_CARD_EMAIL_CLICKED,sec:u.i.CONTACT_CARD,interactionType:Object(p.getInteractionFromEvent)(e)}})}),n()(this,"handleContactNameClick",e=>{e.stopPropagation(),e.preventDefault();const t=this.props,s=t.contact.name,r=t.email,n=t.onSearchRequested,a=t.isInRightRail;t.isEnhancedContactCard&&e.target&&"contact-card-name"===e.target.getAttribute("data-id")?this.redirectToAffiliateLink(e,a?u.i.RIGHT_RAIL:u.i.MSG_HEADER,"title"):n({name:s,email:r})}),n()(this,"handleAddToContacts",e=>{e.stopPropagation(),e.preventDefault();const t=this.props,s=t.contact;this.props.addToContacts({id:s?s.id:void 0,email:t.email,isCompose:t.isCompose,name:U.pd.CONTACTS_PANE,i13nModel:{mKey:u.g.CONTACT_CARD_ADD_TO_CONTACTS,sec:u.i.CONTACT_CARD,interactionType:Object(p.getInteractionFromEvent)(e)}})}),n()(this,"handleEditContact",e=>{const t=this.props,s=t.contact;this.props.editContact({id:s?s.id:void 0,isCompose:t.isCompose,name:U.pd.CONTACTS_PANE,i13nModel:{mKey:u.g.CONTACT_CARD_EDIT_CONTACT,sec:u.i.CONTACT_CARD,interactionType:Object(p.getInteractionFromEvent)(e)}})}),n()(this,"_renderMerchantCard",e=>{const t=this.props,s=t.contact,r=t.hasMoreButton,n=t.isCompactView,a=t.showOutAndBackExpansionText,o=t.toggleMerchantCardExpandState,i=this.context.intl.formatMessage,l=s||{},d=l.isBusiness,E=void 0!==d&&d,_=l.website,p=s.name?s.name:t.name,m=t.isMerchantCardExpanded?J.see_fewer_deals:J.see_all_deals;return c.a.createElement("div",{className:e.merchantCardContainer},c.a.createElement("span",{className:e.textWrapper},c.a.createElement("span",{className:e.textLeft},c.a.createElement(y.a,{email:t.email,id:l.id,isBusiness:E,redirectToAffiliateLink:this.redirectToAffiliateLink,sectionValue:u.i.MSG_BODY,website:_})),s&&c.a.createElement("div",{className:e.textRight},c.a.createElement("span",{className:e.textName,"data-test-id":"coupon_head_name",onClick:a||!_?()=>{}:e=>this.redirectToAffiliateLink(e,u.i.MSG_BODY,X)},a?i(J.welcome_back):p),!(n&&a)&&c.a.createElement("span",{className:e.textLink},a?i(J.welcome_back_body):c.a.createElement(v.a,{contextOfUse:"enhancedContactCard",isBusiness:E,isMerchantCard:!0,redirectToAffiliateLink:this.redirectToAffiliateLink,sectionValue:u.i.MSG_BODY,website:_})))),c.a.createElement("span",{className:e.actionWrapper},r&&c.a.createElement(V.a,{"data-test-id":"merchant_expand_button",kind:W.a.SECONDARY,onClick:()=>o(),style:{display:"flex",justifyContent:"center",padding:`0 ${4*K.G}px`,height:7.5*K.G+"px",lineHeight:6.75*K.G+"px"}},i(m)),_&&c.a.createElement(V.a,{"data-test-id":"visit_site_button",kind:W.a.PRIMARY,onClick:e=>this.redirectToAffiliateLink(e,u.i.MSG_BODY,$),style:{display:"flex",padding:`0 ${4*K.G}px`,margin:`0 ${2*K.G}px 0 ${3*K.G}px`,height:7.5*K.G+"px",lineHeight:6.75*K.G+"px"}},i(J.visit_site))),c.a.createElement("span",{className:e.partnerAttributionIcon},c.a.createElement(F.a,{size:j.Sizes.XXS})))})}componentDidMount(){this._getContactDetailsTimer=setImmediate(()=>{this.props.getContactDetails(this.props.contact)}),this.props.isAffiliatePartnerEnabled&&this._i13nModel(u.g.CARD_VIEW)}componentDidUpdate(e){const t=this.props,s=t.onUpdateFinished;!e.contact&&t.isAffiliatePartnerEnabled&&this._i13nModel(u.g.CARD_VIEW),s&&s()}componentWillUnmount(){this._getContactDetailsTimer&&clearImmediate(this._getContactDetailsTimer)}render(){const e=this.props,t=e.contact,s=e.email,r=e.enableAddToContacts,a=e.enableEditContacts,o=e.hasCoupons,i=e.isAffiliatePartnerEnabled,l=e.isCompose,E=e.isEnhancedContactCard,_=e.isInRightRail,p=e.isMerchantCard,m=e.name,h=e.relationshipHistory,g=e.showOutAndBackExpansionText;if(!t)return p?c.a.createElement(Q,{name:m}):null;const O=t||{},A=O.isBusiness,I=void 0!==A&&A,f=O.phonesWithType,D=void 0===f?[]:f,R=O.name,b=O.position,U=O.website,w=O.id,k=_?Object(S.l)(this.context,!0):{},x=Object(S.n)({context:this.context,includeMedium:!0}),B=_&&(o||i),V=this.context.getCss(C.a,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Z(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Z(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({isInRightRail:_,isCompose:l,partnerIconEnabled:B,isEnhancedContactCard:E,isEnhancedInRightRail:_&&E,hasWebsiteLink:!!U,showOutAndBackExpansionText:g},k)),W=D[0],K=t.facebook||t.linkedin||t.twitter,q="ltr"===Object(G.getTextDirection)(s)?V.rtlIgnoreDirLTR:V.rtlIgnoreDirRTL,Y=this.context.intl.formatMessage;return p?this._renderMerchantCard(V):c.a.createElement("div",{"data-test-id":"contact-card",className:V.container,onClick:this.handleClick,key:s},c.a.createElement("div",null,B&&!E&&c.a.createElement(F.a,{isOnDarkBackground:x,size:j.Sizes.S}),c.a.createElement("div",{className:V.contactFlexContainer},c.a.createElement(y.a,{email:s,id:w,isBusiness:I,isDarkMode:_&&x,redirectToAffiliateLink:this.redirectToAffiliateLink,sectionValue:_?u.i.RIGHT_RAIL:u.i.MSG_HEADER,website:U}),c.a.createElement("div",{className:V.rightColElement},c.a.createElement("div",{className:V.header},c.a.createElement(L.a,{name:R||m,email:s,isInRightRail:_,onContactNameClick:this.handleContactNameClick,isEnhancedContactCard:E}),c.a.createElement(P.a,{position:b,isInRightRail:_})),I&&c.a.createElement(v.a,{contextOfUse:E?"enhancedContactCard":"",isBusiness:!0,redirectToAffiliateLink:this.redirectToAffiliateLink,sectionValue:_?u.i.RIGHT_RAIL:u.i.MSG_HEADER,website:U}),E&&I?null:c.a.createElement("a",{"data-test-id":"contact-card-email",className:V.email+" "+q,title:s,onClick:this.openComposeView},s),W&&c.a.createElement("div",{"data-test-id":"contact-card-phone",className:V.phone,title:W.number},W.number),c.a.createElement("div",{className:E?V.unclickableArea:null},E&&I?c.a.createElement("span",{className:V.sharingPanel},c.a.createElement(H.default,{kind:j.Kinds.INBOX,size:j.Sizes.XS,onClick:this.openComposeView,colorState:j.ColorStates.INHERITED,className:V.openComposeIcon,paddingLess:!0,title:s,"data-test-id":"open-email-icon"}),K&&c.a.createElement("span",{className:V.vertical}),c.a.createElement(T.a,{contact:t,isInRightRail:_,contextOfUse:"enhancedContactCard"})):c.a.createElement(T.a,{contact:t,isInRightRail:_}),r&&c.a.createElement("a",{"data-test-id":"add-to-contacts",title:Y(J.addToContacts),className:V.contacts,onClick:this.handleAddToContacts},c.a.createElement(d.FormattedMessage,{id:"add_to_contacts_from_card",defaultMessage:"+ Add to contacts"})),a&&c.a.createElement("a",{"data-test-id":"edit-contacts",title:Y(J.editContact),className:V.contacts,onClick:this.handleEditContact},c.a.createElement(d.FormattedMessage,{id:"edit_contacts_from_card",defaultMessage:"Edit contact"}))))),c.a.createElement(M.a,{relationshipHistory:h,isBusiness:I})),!_&&c.a.createElement(N,{isBusiness:I}))}}n()(ee,"contextTypes",{executeAction:o.a.func.isRequired,intl:d.intlShape,getCss:o.a.func,getThemeMode:o.a.func,getTheme:o.a.func,config:o.a.object}),n()(ee,"defaultProps",{isInRightRail:!1,isMerchantCard:!1,isMerchantCardExpanded:!1,showOutAndBackExpansionText:!1,hasMoreButton:!1});t.a=Object(B.a)(Object(l.connect)((e,t)=>{const s=t.email,r=Object(g.selectors)(e),n=r.getCouponsSelectors,a=r.getEnvironmentSelectors,o=r.getSetting,i=r.isFeatureEnabled,c=r.isMessageRoute,l=(0,r.getContactListSelectors)(),d=l.isUserAddedContact,E=l.isEditable,_=l.getContactByEmail,u=(0,l.getContactIdByEmail)(s),p=_(s),m=p&&t.showContactSummary,S=n().emailHasCoupons(),h=p&&p.website&&p.isBusiness,C=p&&p.isBusiness&&p.website&&i(U.Eb.AFFILIATE_PARTNER),O=o(U.Kd.ENABLED_AFFILIATE_PARTNERS),T=i(U.Eb.ADD_EDIT_FROM_LIST_CARD),A=a(),I=A.getLoggerParams,f=A.getPartner;return{affiliateFeatures:O,contact:p,enableAddToContacts:T&&!d(u),enableEditContacts:T&&d(u)&&E(u),hasCoupons:S,isAffiliatePartnerEnabled:C,isCompactView:o(U.Kd.PREVIEW_PANE)===U.ed.RIGHT&&!c(),isEnhancedContactCard:h,locale:I().locale,partner:f(),relationshipHistory:m&&p.relationshipHistory?p.relationshipHistory:void 0}},(e,t)=>{const s=t.email,r=t.isCompose;return{dispatchActionToNewRoute:t=>e(Object(O.j)(t)),getContactDetails:t=>{t||e(Object(E.e)({email:s,isCompose:r}))},onSearchRequested:({name:t,email:s})=>e(Object(w.y)({smtp:s,name:t})),addToContacts:t=>e(Object(E.a)(t)),editContact:t=>e(Object(E.m)(t)),inboxCommerceFeatureClicked:t=>e(Object(_.b)(t))}})(ee))},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(385),c=s(0);class l extends Error{constructor(e="",t=""){super(e),this.name="ReactBoundary",this.message=e,this.stack=t}}var d=s(221);t.a=class extends a.Component{constructor(...e){super(...e),n()(this,"state",{hasError:!1})}componentDidCatch(e){try{const t=e.message,s=e.stack;throw new l(void 0===t?"ReactBoundary Error":t,void 0===s?"":s)}catch(e){Object(d.a)(e.message||"",location.href,0,0,e)}if(this.setState({hasError:!0}),!this.props.errorHandler){const e=document.getElementById("ybar");e&&e.parentNode&&e.parentNode.removeChild(e)}}render(){if(!this.state.hasError)return this.props.children;const e=this.props;return o.a.createElement("div",{"data-test-id":"react-error-handler",className:e.className},o.a.createElement(e.errorHandler||i.a,{appName:window.AppBootstrapData.appName,error:{name:c.zb.REACT_ERROR,message:"REACT_ERROR_OCCURED"},hideLogo:!1,logoUrl:e.logoUrl,logoSrcSet:e.logoSrcSet,crumb:window.AppBootstrapData.crumb,isRTL:e.isRTL,mailBrandNameString:window.AppBootstrapData.mailBrandNameString,partner:window.AppBootstrapData.partner,endpoints:window.AppBootstrapData.endpoints}))}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return n}));const r="rrUpsellVideoAdTimestamp",n=5e3},,,,,function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));const r=(e={},t="")=>{const s=t.split("@")[1],r=Object.keys(e);if(!t)return null;for(const t of r){if(new RegExp(t).test(s))return e[t]}return null}},function(e,t,s){"use strict";s.d(t,"b",(function(){return c}));var r=s(8),n=s(397);const a=/.+@(sprint.com|sprint.delivery.net|sprintcustserv.com|paperless.t-mobile.com|prod.t-mobileorders.com|t-mobile.com|t-mobileorders.com|t-mobile-email.com|message.att-mail.com)$/i,o=/.+@(boostmobile.com|cricketwireless.com|delivery.boostmobile.com|delivery.virginmobileusa.com|ebill.virginmobile.com.au|ec.tracfone.com|tracfone-email.com|tracfonemail.com|email.tracfone.com|e.online.att-mail.com|email2.tracfone.com|email.metropcs.com|email.straighttalk.com|email2.straighttalk.com|emailff.att-mail.com|emaildl.att-mail.com|mail.cricketwireless.com|mintmobile.com|noreply.mintmobile.com|paymentplan.virginmobile.ca|prepaid.sprint.com|retail.boostmobile.com|straighttalk.com|straighttalkmail.com|tracfone.com|virginmobile.ca|virginmobile.com|virginmobileusa.com|e.uscellular.com|uscellular.com|email-uscellular.com|xfinitymobile.com)$/i,i=/(googlefi-noreply@google.com|google-fi-support@google.com)$/i,c=e=>e?a.test(e)?n.a.POWER:o.test(e)||i.test(e)?n.a.SAVER:"":"";t.a=e=>{const t=e.doesMessageGroupIdExist,s=e.getMessageIdsFromMessageGroupId,n=e.getMessageListItems,a=e.getMessageFromAddress,o=(0,e.getRoute)();let i;return n(Object(r.z)(o)).find(e=>{const r=t(e.id)&&s(e.id)[0],n=(r&&a(r)||[])[0]||{};return i=c(n.email),!!i}),i}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));s(7);var r=s(1),n=s.n(r),a=s(18),o=s(673),i=s.n(o),c=s(12),l=s.n(c);function d({isEnabled:e,size:t="M",ariaLabel:s,ariaHidden:r,title:o,onClick:c,isClickable:d=!0}){const E=l()(i.a,{isEnabled:e,size:t,isClickable:d,isEnabledAndLarge:e&&"L"===t});return n.a.createElement(a.a,{className:E.background,role:"checkbox","aria-checked":e,onClick:e=>d?c(e):null,"aria-label":s,"aria-hidden":!!r,title:o},n.a.createElement("span",{className:E.handle}))}},function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var r=s(1),n=s.n(r),a=s(11),o=s(4),i=s(22);const c=[{id:"fuji-blue",viewBox:20,startColor:a.fb.ycolorTurquoise8a,stopColor:a.fb.ycolorBlue10a},{id:"fuji-red",viewBox:20,startColor:a.fb.ycolorOrange4a,stopColor:a.fb.ycolorPink1a},{id:o.ColorStates.ATTACH_EXCEL,viewBox:48,startColor:a.fb.ycolorTurquoise8a,stopColor:a.fb.ycolorGreen6a},{id:o.ColorStates.ATTACH_SLIDE,viewBox:48,startColor:a.fb.ycolorOrange4a,stopColor:a.fb.ycolorPink1a},{id:o.ColorStates.ATTACH_GENERIC,viewBox:48,startColor:a.fb.ycolorTurquoise8a,stopColor:a.fb.ycolorBlue10a},{id:o.ColorStates.ATTACH_DOC,viewBox:48,startColor:a.fb.ycolorBlue10a,stopColor:a.fb.ycolorPurple14a},{id:o.ColorStates.ATTACH_MEDIA,viewBox:48,startColor:a.fb.ycolorPink1a,stopColor:a.fb.ycolorPurple14a},{id:o.ColorStates.WARNING_GRAD_RED,viewBox:48,startColor:a.fb.ycolorSalmon3b,stopColor:a.fb.ycolorFuchsia18a},...Object.keys(i.k).map(e=>({id:o.ColorStates["THEME_GRADIENT_"+e],viewBox:48,startColor:i.k[""+e].GRADIENT_COLOR_1,stopColor:i.k[""+e].GRADIENT_COLOR_3}))].map(({id:e,viewBox:t,startColor:s,stopColor:r})=>n.a.createElement("linearGradient",{key:e,id:e,x1:"0",x2:t,y1:t,y2:"0",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{offset:"40%",stopColor:s}),n.a.createElement("stop",{offset:"60%",stopColor:r})));function l(){return n.a.createElement("svg",{height:"0"},n.a.createElement("defs",null,c,n.a.createElement("clipPath",{id:"clip-orb"},n.a.createElement("circle",{cx:"10",cy:"10",r:"10"}))))}},function(e,t,s){"use strict";s.r(t),s.d(t,"allProviderAccounts",(function(){return p})),s.d(t,"AuthWindow",(function(){return m}));var r=s(3),n=s.n(r),a=s(1),o=s.n(a),i=s(7),c=s.n(i),l=s(13),d=s(6),E=s(0),_=s(10),u=s(97);const p=[...Object.keys(E.Y),...E.Z,...Object.keys(E.X)];class m extends o.a.Component{constructor(e){super(e),n()(this,"handleOAuthResponse",({status:e})=>{window[E.Tc]=void 0,e=parseInt(e,10);const t=this.props,s=t.onConnectFail,r={provider:t.provider,status:e};200===e?(0,t.onConnectSuccess)(r):s(r)}),n()(this,"getWindowHeight",()=>this.props.provider!==E.xb.GOOGLE?700:800),n()(this,"openOAuthWindow",()=>{const e=this.getWindowHeight(),t=screen.width/2-250,s=screen.height/2-e/2;window[E.Tc]=this.handleOAuthResponse,window.oAuthWindow&&!window.oAuthWindow.closed?(this.oAuthWindow=window.oAuthWindow,delete window.oAuthWindow,this.oAuthWindow.location.replace(this.props.url)):this.oAuthWindow=window.open(this.props.url,"authorizeWindow",`width=500, height=${e}, top=${s}, left=${t}`),this.oAuthWindow&&this.oAuthWindow.focus&&this.oAuthWindow.focus()}),this.oAuthWindow=null}componentDidMount(){this.props.provider&&this.openOAuthWindow()}componentWillUnmount(){window[E.Tc]=void 0,this.oAuthWindow&&this.oAuthWindow.close&&(this.oAuthWindow.close(),this.oAuthWindow=null)}componentDidUpdate(e){this.props.provider&&(this.oAuthWindow&&!this.oAuthWindow.closed?e.url!==this.props.url&&(this.oAuthWindow.location.replace(this.props.url),this.oAuthWindow.focus&&this.oAuthWindow.focus()):(window[E.Tc]=void 0,this.openOAuthWindow()))}render(){return null}}n()(m,"contextTypes",{intl:d.intlShape.isRequired,config:c.a.object});t.default=Object(l.connect)(e=>{const t=(0,Object(_.selectors)(e).getSocialAccountSelectors)().getAuthWindowData();return{url:t.url,provider:t.provider}},e=>({onConnectSuccess:t=>e(Object(u.m)(t)),onConnectFail:t=>e(Object(u.l)(t))}))(m)},function(e,t,s){"use strict";s.d(t,"a",(function(){return m}));var r=s(7),n=s.n(r),a=s(1),o=s.n(a),i=s(6),c=s(21),l=s(4),d=s(700),E=s.n(d),_=s(12),u=s.n(_);const p=Object(i.defineMessages)({close:{id:"shortcut.close",defaultMessage:"Close the keyboard shortcut cheatsheet"},headerText:{id:"shortcuts.header",defaultMessage:"Keyboard Shortcuts"}});function m({headerText:e,showSubheader:t,onClose:s},r){const n=r.intl.formatMessage,a=u()(E.a,{[""+r.getTheme()]:!0});return o.a.createElement("header",{className:a.header},o.a.createElement("div",{className:a.text},"string"==typeof e?o.a.createElement("div",{className:a.heading,"aria-label":e},e):o.a.createElement("div",{className:a.heading,"aria-label":n(e)},o.a.createElement(i.FormattedMessage,e)),t?o.a.createElement("div",{className:a.subheading},o.a.createElement(i.FormattedMessage,{id:"shortcuts.open_close",defaultMessage:"Press '?' to open this window"})):null),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(c.default,{onClick:s,kind:l.Kinds.CLOSE,size:l.Sizes.XS,colorState:l.ColorStates.INVERTED,title:n(p.close)}))))}m.defaultProps={showSubheader:!0,headerText:p.headerText},m.contextTypes={intl:i.intlShape,getTheme:n.a.func}},function(e,t,s){"use strict";var r=s(473);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(s(879));t.default=n.default},function(e,t,s){"use strict";s.d(t,"a",(function(){return _}));s(7);var r=s(1),n=s.n(r),a=s(9),o=s(721),i=s.n(o),c=s(12),l=s.n(c),d=s(17),E=s(4);Object(a.d)([E.Sizes.XS,E.Sizes.S]),Object(a.d)([E.ColorStates.SUCCESS,E.ColorStates.INVERTED]);function _({size:e,title:t,colorState:s}){const r=l()(i.a,{size:e});return n.a.createElement("div",{className:r.wrapper},n.a.createElement("div",{className:r.container,title:t,"aria-label":t},n.a.createElement(d.b,{kind:E.Kinds.REFRESH,size:e,colorState:s})))}_.defaultProps={size:E.Sizes.S,colorState:E.ColorStates.SUCCESS}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(726),d=s.n(l),E=s(21),_=s(4),u=s(6),p=s(264),m=s(22);const S=Object(u.defineMessages)({create_new_folder:{id:"create_new_folder",defaultMessage:"Create new folder"},create_folder_label:{id:"create_folder_label",defaultMessage:"New Folder"},create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}});class h extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{createMode:!1}),n()(this,"enableCreateMode",()=>{this.setState({createMode:!0})}),n()(this,"disableCreateMode",()=>{this.setState({createMode:!1})}),n()(this,"createFolder",({folderName:e,i13nModel:t})=>{t=Object.assign({actionData:{depth:0}},t),this.disableCreateMode(),this.props.onCreate({folderName:e,i13nModel:t})}),n()(this,"handleKeyDown",e=>{"Enter"!==e.key||this.state.createMode||(e.stopPropagation(),this.enableCreateMode())}),n()(this,"renderNewFolderButton",e=>{const t=this.context.intl.formatMessage,s=this.context.getThemeMode();return c.a.createElement("div",{"data-iskeynav":!0,onClick:this.enableCreateMode,className:e.newFolderContainer},c.a.createElement(E.default,{kind:_.Kinds.ADD,size:_.Sizes.XS,colorState:s===m.i.LIGHT?_.ColorStates.IMPROVED_GRAY_DARK:_.ColorStates.INHERITED,"aria-label":t(S.create_new_folder),title:t(S.create_new_folder),paddingLess:!0}),t(S.create_folder_label))})}render(){const e=this.props,t=e.indentation,s=e.fullWidth,r=e.noHoverColor,n=e.whiteBackground,a=e.activeAccountId,o=this.context.getThemeMode(),i=this.context.getCss(d.a,{indentation:t,fullWidth:s,noHoverColor:r,useDarkVariations:!n&&(o===m.i.DARK||o===m.i.MEDIUM)});return c.a.createElement("div",{className:i.container,onKeyDown:this.handleKeyDown,"data-test-id":"create-folder-container"},this.state.createMode?c.a.createElement(p.a,{onInputSubmit:this.createFolder,onDismiss:this.disableCreateMode,ariaLabel:(0,this.context.intl.formatMessage)(S.create_folder_input_aria_label),indentation:t,activeAccountId:a,whiteBackground:n}):this.renderNewFolderButton(i))}}n()(h,"contextTypes",{intl:u.intlShape.isRequired,getCss:o.a.func,getThemeMode:o.a.func}),n()(h,"defaultProps",{fullWidth:!1,noHoverColor:!1,whiteBackground:!1}),t.a=h},,,,,,function(e,t,s){"use strict";var r=s(27),n=s.n(r),a=s(1),o=s.n(a),i=s(7),c=s(747),l=s.n(c),d=s(13),E=s(10),_=s(0),u=s(6),p=s(123);const m=({relationshipHistory:e,isBusiness:t,isEnabled:s,onContactClick:r},a)=>{if(!s||t||!e)return null;const i=e.prose;if(!i||0===i.length)return null;const c=a.getCss(l.a);return o.a.createElement("div",{className:c.contactSummary,"data-test-id":"contact-card-summary"},i.map((e,t)=>{const s={},a=e.name,i=void 0===a?"":a;return"contact"===e.type&&"you"!==i&&(s.className=c.contact,s.onClick=r.bind(void 0,e)),o.a.createElement("span",n()({"data-test-id":"summary-part-"+t,key:t},s),i||e||"")}))};m.defaultProps={isBusiness:!1},m.contextTypes={intl:u.intlShape,getCss:i.func,getThemeMode:i.func,getTheme:i.func};t.a=Object(d.connect)(e=>({isEnabled:(0,Object(E.selectors)(e).isFeatureEnabled)(_.Eb.CONTACT_SUMMARY)}),e=>({onContactClick:({name:t,smtp:s})=>e(Object(p.y)({smtp:s,name:t}))}))(m)},function(e,t,s){"use strict";var r=s(1),n=s.n(r),a=s(7),o=s.n(a),i=s(751),c=s.n(i),l=s(22);const d=({position:e,isInRightRail:t,isMobile:s},r)=>{if(!e)return null;const a=r.getCss(c.a,{darkVariations:Object(l.n)({context:r,includeMedium:!0})&&t,isMobile:s});return n.a.createElement("div",{"data-test-id":"contact-card-position",className:a.position,title:e},e)};d.contextTypes={getCss:o.a.func,getThemeMode:o.a.func,getTheme:o.a.func},d.defaultProps={isInRightRail:!1},t.a=d},,function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"c",(function(){return a})),s.d(t,"a",(function(){return o}));var r=s(2);function n(e,t){e.dispatch(r.EMOJI_PICKER_CLOSED,t)}function a(e,t){e.dispatch(r.EMOJI_PICKER_OPENED,t)}function o(e,t){e.dispatch(r.EMOJI_CATEGORY_CHANGED,t)}},,function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var r=s(45),n=s(29),a=s(5);function o({type:e,eventData:t}){switch(e){case n.EDITOR_EVENTS.emoji_inserted:r.b.sendI13nModel({i13nModel:{mKey:a.g.EMOJI_ADD,sec:a.i.RTE_TOOLBAR,interactionType:a.e.click,actionData:{emoji:t.emoji.source}}});break;case n.EDITOR_EVENTS.gif_inserted:if(r.b.sendI13nModel({i13nModel:{mKey:a.g.GIF_ADD,sec:a.i.RTE_TOOLBAR,interactionType:a.e.click}}),t.gif.feedbackUrl){const e=new Image;e.crossorigin="anonymous",e.src=t.gif.feedbackUrl}break;case n.EDITOR_EVENTS.gif_removed:r.b.sendI13nModel({i13nModel:{mKey:a.g.GIF_REMOVE,sec:a.i.COMPOSE_MSG,interactionType:a.e.click}});break;case n.EDITOR_EVENTS.gif_resized:r.b.sendI13nModel({setTo:t.size,i13nModel:{mKey:a.g.GIF_CHANGE_SIZE,sec:a.i.COMPOSE_MSG,interactionType:a.e.click}});break;case n.EDITOR_EVENTS.stationery_cleared:r.b.sendI13nModel({i13nModel:{mKey:a.g.COMPOSE_CLEAR_STATIONERY,sec:t.sec,interactionType:a.e.click}});break;case n.EDITOR_EVENTS.default_stationery_cleared:r.b.sendI13nModel({i13nModel:{mKey:a.g.COMPOSE_CLEAR_DEFAULT_STATIONERY,sec:t.sec,interactionType:a.e.click}})}}},function(e,t,s){"use strict";e.exports={className:{default:{popoverContainer:"D_F cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",separator:"m_Z14vXdP M_3HLUz",popoverContent:"P_3Y3Gk"}},_key:"Z1dF06J"}},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(6),d=s(21),E=s(22),_=s(4);const u=Object(l.defineMessages)({perm_delete_msgs:{id:"perm_delete_msgs",defaultMessage:"Permanently delete the selected {conversations, select, true {conversations} false {messages}}"},delete_msgs:{id:"delete_msgs",defaultMessage:"Delete the selected {conversations, select, true {conversations} false {messages}}"}});class p extends c.a.Component{render(){const e=this.props,t=e.permanent,s=e.disabled,r=e.onClick,n=e.showLabel,a=e.isCompact,o=e.size,i=e.title,p=(0,this.context.intl.formatMessage)(t?u.perm_delete_msgs:u.delete_msgs,{conversations:e.conversations}),m=t?"perm-delete":"delete",S=this.context.getThemeMode()===E.i.DARK;return c.a.createElement(d.default,{"data-iskeynav":!0,"data-test-id":"toolbar-"+m,"aria-label":p,title:i||p,kind:_.Kinds.DELETE,disabled:s,onClick:r,size:o,colorState:_.ColorStates.INHERITED,isOnDarkBackground:S,isCompact:a},n?c.a.createElement(l.FormattedMessage,{id:"delete_icon_label",defaultMessage:"Delete"}):null)}}n()(p,"defaultProps",{size:_.Sizes.XS,showLabel:!0,onClick:function(){},conversations:!1}),n()(p,"contextTypes",{intl:l.intlShape.isRequired,getThemeMode:o.a.func}),t.a=p},function(e,t,s){"use strict";e.exports={className:{default:{popoverContainer:"D_F",popoverContent:"P_3Y3Gk",button:"P_fQq0A ab_C gl_FM je_eo6 jb_eo6 D_F r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7",label:"D_F",hint:"D_F ab_C Q_eo6 O_cMq O4_N cdPFi4_Z281SGl",separator:"m_Z14vXdP M_3HLUz"},disabled:{button:"O_cMq r_BN I4_52qC"}},_key:"Zu2Dt5"}},function(e,t,s){"use strict";var r=s(7),n=s.n(r),a=s(1),o=s.n(a),i=s(789),c=s.n(i);class l extends o.a.Component{getActiveStar(e){return o.a.createElement("div",null,o.a.createElement("span",{className:e.activeFullStar},""),o.a.createElement("span",{className:e.activeEmptyStar},""))}getHalfActiveStar(e){return o.a.createElement("div",null,o.a.createElement("span",{className:e.halfActiveEmptyStar},""),o.a.createElement("span",{className:e.halfActiveFullStar},""),o.a.createElement("span",{className:e.halfBorderStar},""))}getInActiveStar(e){return o.a.createElement("div",null,o.a.createElement("span",{className:e.inActiveEmptyStar},""))}getStarElement(e){const t=this.props.value,s={};e<=t-1?s.activeStar=!0:t%1<.5||Math.floor(t)!==e?s.inActiveStar=!0:s.halfStarFormatting=!0;const r=this.context.getCss(c.a,s);return o.a.createElement("span",{className:r.starElement,key:e},s.activeStar&&this.getActiveStar(r),s.halfStarFormatting&&this.getHalfActiveStar(r),s.inActiveStar&&this.getInActiveStar(r))}render(){const e=[];for(let t=0;t<5;t++){const s=this.getStarElement(t);e.push(s)}return o.a.createElement("div",null,e)}}l.defaultProps={value:0},l.contextTypes={getCss:n.a.func},t.a=l},function(e,t,s){"use strict";s.d(t,"a",(function(){return C}));var r=s(3),n=s.n(r),a=(s(7),s(1)),o=s.n(a),i=s(6),c=s(4),l=s(21),d=s(815),E=s.n(d),_=s(12),u=s.n(_),p=s(9),m=(s(29),s(816)),S=s.n(m);const h=Object(i.defineMessages)({prev:{id:"carousel.previous",defaultMessage:"Previous"},next:{id:"carousel.next",defaultMessage:"Next"}}),C=Object(p.d)(["NEXT","PREV"]);class g extends o.a.Component{constructor(e){super(e),n()(this,"_getChildrenTotalWidth",()=>this.props.itemWidth*o.a.Children.count(this.props.children)),n()(this,"_navHandlePrev",()=>{this.navHandle(C.PREV)}),n()(this,"_navHandleNext",()=>{this.navHandle(C.NEXT)}),n()(this,"setAnimation",(e=!0)=>{this.animated=e}),n()(this,"setOffset",(e=0)=>{this.setState({offset:e})}),n()(this,"navHandle",(e,t=null)=>{const s=this.state.offset,r=this.props.isRTL,n=this._getChildrenTotalWidth(),a=this.carousel.clientWidth;let o=s;if(null===t){const t=this.props.defaultTransitionAmount||a;let r=0;if(e===C.NEXT){const e=n-a-s;r=t>e?-e:-t}else r=s>t?t:s;o=s-r,0!==r&&(this.animated=!0,this.setState({offset:o}))}else if(!r&&e===C.NEXT||r&&e===C.PREV){o=s+t;const e=r?t-s:o-n+a;e>0&&(o-=e),this.animated=!0,this.setState({offset:o})}else o=s-t>=0?s-t:0,this.animated=!0,this.setState({offset:o});o!==s&&this.props.onCarouselNav(e===C.NEXT)}),n()(this,"renderCarousel",()=>{const e=this.context.intl,t=this.state.offset,s=this.props,r=s.toolbarKind,n=s.isRTL,a=s.navArrows,i=t<=0,d=this._getChildrenTotalWidth(),_=d&&this.carousel&&this.carousel.clientWidth+t>=d,p=u()(E.a,{prevDisabled:i,nextDisabled:_,toolbarKind:r,animationDisabled:!this.animated}),m=n?{right:-t}:{left:-t};return o.a.createElement("div",{className:p.carouselContainer},a&&o.a.createElement("div",{className:p.prevNavHandleContainer+" "+p.rtlRawScaleX},o.a.createElement(l.default,{kind:c.Kinds.ARROW_RIGHT_DOC,rotate:c.Rotate.D180,size:c.Sizes.XS,colorState:i?c.ColorStates.FAINT:c.ColorStates.SELECTED,onClick:this._navHandlePrev,title:e.formatMessage(h.prev),"aria-label":e.formatMessage(h.prev),className:p.prevNavHandle})),o.a.createElement("div",{className:p.carousel,ref:e=>{e&&!this.carousel&&(this.carousel=e)}},o.a.createElement("div",{className:p.list,style:m,"data-test-id":"carousel-container"},this.props.children)),a&&o.a.createElement("div",{className:p.nextNavHandleContainer+" "+p.rtlRawScaleX},o.a.createElement(l.default,{kind:c.Kinds.ARROW_RIGHT_DOC,rotate:c.Rotate.D0,size:c.Sizes.XS,colorState:_?c.ColorStates.FAINT:c.ColorStates.SELECTED,onClick:this._navHandleNext,title:e.formatMessage(h.next),"aria-label":e.formatMessage(h.next),className:p.nextNavHandle})))}),n()(this,"renderSwipeableCarousel",()=>o.a.createElement(S.a,{onSwipedLeft:()=>this.navHandle(C.NEXT),onSwipedRight:()=>this.navHandle(C.PREV),style:{width:"100%",display:"flex"}},this.renderCarousel())),this.animated=e.initialAnimation,this.state={offset:0}}componentDidMount(){this.props.didMount()}componentWillReceiveProps(e){if(e.isWindowResizingDone){const e=this.state.offset,t=this._getChildrenTotalWidth(),s=this.carousel.clientWidth+e-t,r=s>e?e:s;this.setState({offset:s>=0?e-r:e})}}render(){return this.props.isSwipeable?this.renderSwipeableCarousel():this.renderCarousel()}}n()(g,"contextTypes",{intl:i.intlShape.isRequired}),n()(g,"defaultProps",{initialAnimation:!0,didMount:()=>{},defaultTransitionAmount:null,onCarouselNav:()=>{},navArrows:!0}),t.b=g},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(1),o=s.n(a),i=(s(7),s(832)),c=s.n(i),l=s(12),d=s.n(l),E=s(362);class _ extends o.a.Component{render(){const e=this.props,t=e.items,s=e.listId,r=e.streamId,n=e.isBriefView,a=d()(c.a,{isBriefView:n});return o.a.createElement("div",{className:a.gridsContainer},t.map(e=>o.a.createElement(E.a,{key:e.id,item:e,listId:s,streamId:r,isBriefView:n})))}}n()(_,"defaultProps",{isBriefView:!1}),t.a=_},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(6),d=s(12),E=s.n(d),_=s(862),u=s.n(_),p=s(17),m=s(4),S=s(276),h=s(18),C=s(58);const g=Object(l.defineMessages)({accountNameHint:{id:"confirm_account_name_hint",defaultMessage:"The name shown in emails you send."},accountName:{id:"confirm_account_name_placeholder",defaultMessage:"Your Name"},accountDescriptionHint:{id:"confirm_account_description_hint",defaultMessage:"Name this mailbox."},accountDescription:{id:"confirm_account_description_placeholder",defaultMessage:"Description"},add_confirm:{id:"account_confirm_done",defaultMessage:"Done"}}),O=()=>{};class T extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{sendingName:"",description:""}),n()(this,"handleChange",(e,t)=>{this.setState({[e]:t})}),n()(this,"handleConfirm",()=>{const e=this.props,t=e.onCancel,s=this.state;(0,e.onSubmit)(e.account.id,{sendingName:s.sendingName,description:s.description}),t()})}componentWillReceiveProps(e){e.accountSyncFailed&&this.props.onPrevious()}componentDidMount(){this.props.isSyncing||this.props.handleAddSuccess()}componentWillUnmount(){this.props.isSyncing||this.props.onCancel()}render(){const e=this.state,t=e.sendingName,s=e.description,r=this.props.isSyncing,n=this.context.intl.formatMessage,a=E()(u.a,{isSyncing:r}),o=this.context.mailBrandNameString;return c.a.createElement("div",{className:a.addConfirmWrapper},c.a.createElement("div",{className:a.addConfirmSection},c.a.createElement("h5",{className:a.titleLabel},r?c.a.createElement(C.b,{size:"S"}):c.a.createElement(p.b,{kind:m.Kinds.CAL_ACCEPT,size:m.Sizes.XS,colorState:m.ColorStates.SUCCESS}),c.a.createElement("span",{className:a.titleTextWrapper},c.a.createElement(l.FormattedMessage,r?{id:"add_confirm_syn_title",defaultMessage:"Setting up your new mailbox"}:{id:"add_confirm_title",defaultMessage:"Your mailbox has been added"}))),c.a.createElement("div",{className:a.hint},c.a.createElement(l.FormattedMessage,{id:"add_confirm_hint",defaultMessage:"Changes made in {mailBrandNameString} will reflect in other email clients, including mobile apps.",values:{mailBrandNameString:o}})),c.a.createElement("label",{className:a.label,htmlFor:"accountName"},c.a.createElement(l.FormattedMessage,{id:"name_text",defaultMessage:"Your Name"})),c.a.createElement("div",{className:a.textInput},c.a.createElement(S.a,{isClearable:!0,name:"accountName",value:t,hint:n(g.accountNameHint),"aria-label":n(g.accountName),placeholder:n(g.accountName),onChange:e=>this.handleChange("sendingName",e),disabled:r})),c.a.createElement("label",{className:a.label,htmlFor:"description"},c.a.createElement(l.FormattedMessage,{id:"description_text",defaultMessage:"Description"})),c.a.createElement("div",{className:a.textInput},c.a.createElement(S.a,{isClearable:!0,name:"accountName",value:s,hint:n(g.accountDescriptionHint),"aria-label":n(g.accountDescription),placeholder:n(g.accountDescription),onChange:e=>this.handleChange("description",e),disabled:r})),c.a.createElement(h.a,{className:a.confirmButton,onClick:this.handleConfirm,title:n(g.add_confirm)},c.a.createElement("span",null,n(g.add_confirm)))))}}n()(T,"contextTypes",{intl:l.intlShape.isRequired,mailBrandNameString:o.a.string}),n()(T,"defaultProps",{account:null,onCancel:O,onSubmit:O,handleAddSuccess:O,isSyncing:!1}),t.a=T},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(28),d=s(194),E=s.n(d),_=s(12),u=s.n(_),p=s(756),m=s.n(p),S=s(6),h=s(51),C=s(17),g=s(77),O=s(0),T=s(4),A=s(236),I=(s(9),s(24)),f=s(27),D=s.n(f),R=s(144),b=s(18),N=s(21),M=s(127),y=s(757),L=s.n(y),P=s(157),v=s(176),F=s(94);const U=Object(S.defineMessages)({link_text_placeholder:{id:"compose.link_placeholder",defaultMessage:"Display text"},close:{id:"compose.link_close",defaultMessage:"Close"},error_title:{id:"compose.link_error_title",defaultMessage:"Error"},open_link_alert:{id:"compose.link_test_error",defaultMessage:"This link cannot be tested."}}),w=/^(?:https?|ftp|mailto):(?:\/\/)?/i;class G extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{focusOnLinkInput:!1,saveBtnEnabled:!1,showTestAlert:!1,isTextModified:!1}),n()(this,"saveLink",()=>{let e,t=this.linkInput.value.trim();const s=this.textInput.value.trim();!this.state.isTextModified&&s||(e=s||t.replace(w,"")),w.test(t)||(t="http://"+t),this.props.onSave(e,t)}),n()(this,"handleClose",()=>{this.props.onClose()}),n()(this,"handleKeyDown",e=>{e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),this.saveLink()):"Escape"===e.key&&(e.preventDefault(),this.handleClose())}),n()(this,"toggleTestLink",e=>{this.setState({focusOnLinkInput:e})}),n()(this,"openTestLink",()=>{const e=this.linkInput.value.trim(),t=w.test(e);if(!e.replace(w,""))return;Object(F.a)(t?e:"http://"+e)||this.setState({showTestAlert:!0})}),n()(this,"handleTextInput",()=>{this.state.isTextModified||this.setState({isTextModified:!0})}),n()(this,"handleLinkInput",()=>{const e=this.linkInput.value.trim();this.setState(""===e||"http://"===e?{saveBtnEnabled:!1}:{saveBtnEnabled:!0})}),n()(this,"hideTestAlertDialog",()=>{this.setState({showTestAlert:!1})})}componentDidMount(){const e=this.props.anchorNode,t=Object(v.a)(e,this.dropdown),s=t.left,r=t.top;(r>document.getElementById("app").clientHeight||r<0)&&e.parentNode.scrollIntoView(),Object.assign(this.dropdown.style,{left:s+"px",top:Object(v.a)(e,this.dropdown).top+"px"}),this.timeout=setTimeout(()=>{const e=this.linkInput.value,t=e&&e.trim().length||0;this.linkInput.focus(),this.linkInput.setSelectionRange(t,t)},0)}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}render(){var e;const t=this.props,s=t.textInput,r=t.linkInput,n=this.state,a=n.focusOnLinkInput,o=!(r||n.saveBtnEnabled),i=this.context.intl.formatMessage,l=i(U.link_text_placeholder),d=u()(L.a,{saveBtnEnabled:!o,focusOnLinkInput:a}),E=Object(M.getTextDirection)(s||l),_=(null===(e=this.context.partner)||void 0===e?void 0:e.toUpperCase())===O.he.AOL?"https://www.aol.com":"https://www.yahoo.com";return c.a.createElement(R.a,null,c.a.createElement("div",{ref:e=>this.dropdown=e,className:d.container,onKeyDown:this.handleKeyDown,"data-test-id":"hyperlink-plugin"},this.state.showTestAlert?c.a.createElement(P.a,{title:i(U.error_title),message:i(U.open_link_alert),onAccept:this.hideTestAlertDialog}):null,c.a.createElement("div",{className:d.close},c.a.createElement(N.default,{onClick:this.handleClose,kind:T.Kinds.CLOSE,size:T.Sizes.XXS,title:i(U.close),"aria-label":i(U.close)})),c.a.createElement("div",{className:d.item},c.a.createElement("input",D()({ref:e=>this.textInput=e,className:d.textInput,placeholder:i(U.link_text_placeholder),onFocus:this.handleLinkInput,defaultValue:s,onChange:this.handleTextInput},E&&{dir:E}))),c.a.createElement("div",{className:d.item},c.a.createElement("input",{ref:e=>this.linkInput=e,className:d.linkInput,placeholder:_,onFocus:this.toggleTestLink.bind(this,!0),onBlur:this.toggleTestLink.bind(this,!1),onChange:this.handleLinkInput,defaultValue:r}),c.a.createElement("span",{"data-test-id":"testLinkInput",className:d.testLink,onMouseDown:this.openTestLink},c.a.createElement(S.FormattedMessage,{id:"compose.test_hyperlink",defaultMessage:"Test"}))),c.a.createElement("div",{className:d.item},c.a.createElement(b.a,{onClick:this.saveLink,className:d.button,disabled:o},c.a.createElement(S.FormattedMessage,{id:"compose.save_hyperlink",defaultMessage:"Save"})))))}}n()(G,"contextTypes",{intl:S.intlShape.isRequired,partner:o.a.string});var H=G,j=s(759),k=s.n(j);const x=/^(?:https?|ftp|mailto):/i,B=u()(k.a);var V=class extends c.a.Component{constructor(...e){super(...e),n()(this,"editLink",()=>{this.props.onEdit()}),n()(this,"removeLink",()=>{this.props.onRemove()})}componentDidMount(){const e=this.props.anchorNode,t=Object(v.a)(e,this.container);Object.assign(this.container.style,{left:t.left+"px",top:t.top+"px"})}render(){const e=(this.props.goToLinkValue||"").trim(),t=x.test(e);return c.a.createElement(R.a,null,c.a.createElement("div",{className:B.container,ref:e=>this.container=e},c.a.createElement("div",{className:B.linkWrapper},c.a.createElement(S.FormattedMessage,{id:"compose.link_go_to",defaultMessage:"Go to"}),"",c.a.createElement("span",null,t?c.a.createElement("a",{className:B.link,href:e,rel:"noreferrer",target:"_blank","data-test-id":"anchor"},e):e)),c.a.createElement("div",{"data-test-id":"editControl",className:B.control,onClick:this.editLink},c.a.createElement(S.FormattedMessage,{id:"compose.link_edit",defaultMessage:"Edit"})),c.a.createElement("div",{"data-test-id":"removeControl",className:B.control,onClick:this.removeLink},c.a.createElement(S.FormattedMessage,{id:"compose.link_remove",defaultMessage:"Remove"}))))}},W=s(760),K=s.n(W),q=s(19),Y=s(29),z=s(240),Q=s.n(z);const Z=u()(K.a);var X=class extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{renderGoToLink:!1,renderHyperlinkDropdown:!1,textInput:"",linkInput:"",goToLinkValue:""}),n()(this,"handleClick",e=>{"A"===e.target.nodeName&&-1===e.target.className.indexOf(Y.HYPERLINK_PLUGIN_IGNORE_CLASS)?this.props.editor.pushButton("clicklink",e.target):this.hideGoToLink()}),n()(this,"_getFirstCurrentLinkNodes",()=>this._currentLinkNodes[0]),n()(this,"_setCurrentLinkNodes",e=>{this._currentLinkNodes=Array.isArray(e)?e:NodeList.prototype.isPrototypeOf(e)?Array.prototype.slice.call(e):[e]}),n()(this,"createNewLink",e=>{let t=e;const s=t.parentNode;"A"===s.nodeName?t=s:(this.props.editor.pushButton("insertHTML","<a data-tmp>_</a>"),t=s.querySelector("[data-tmp]")),t&&(this._setCurrentLinkNodes(t),this._getFirstCurrentLinkNodes().innerHTML="",this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:t,textInput:t.textContent||"",linkInput:t.hasAttribute("href")?t.getAttribute("href").trim():"http://"}))}),n()(this,"createLinkFromSelection",e=>{let t=e;t.nodeType===Node.TEXT_NODE?"A"!==t.parentNode.nodeName?(document.execCommand("createlink",!1," "),t=this.props.editor.element.querySelectorAll('a[href=" "]')):t=t.parentNode:"A"!==t.nodeName&&(document.execCommand("createlink",!1," "),t=this.props.editor.element.querySelectorAll('a[href=" "]')),Object(q.a)(t,"Cannot find anchor element to create link"),this._setCurrentLinkNodes(t),this.showHyperLinkDropdown()}),n()(this,"showHyperLinkDropdown",()=>{if(!this._currentLinkNodes&&this._currentLinkNodes.length<1)return;let e="";this._getFirstCurrentLinkNodes().hasAttribute("href")&&""!==this._getFirstCurrentLinkNodes().getAttribute("href").trim()&&(e=this._getFirstCurrentLinkNodes().getAttribute("href")),this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:this._currentLinkNodes[this._currentLinkNodes.length-1],textInput:this._currentLinkNodes[this._currentLinkNodes.length-1].textContent,linkInput:e})}),n()(this,"hideHyperLinkDropdown",()=>{this.setState({renderHyperlinkDropdown:!1})}),n()(this,"updateLink",(e,t)=>{const s=this.props.editor;if(this.hideHyperLinkDropdown(),!this._currentLinkNodes)return;this.props.editor.focus(),this._getFirstCurrentLinkNodes().focus();const r=window.getSelection(),n=document.createRange();let a;const o=this._currentLinkNodes.length;this._currentLinkNodes.forEach((s,r)=>{a=document.createElement("a"),a.innerHTML=r===o-1?Q()(e)||s.innerHTML:s.innerHTML||Q()(e),a.href=t,s.parentElement.replaceChild(a,s)}),this._currentLinkNodes=null,n.setStartAfter(a),n.setEndAfter(a),r.removeAllRanges(),r.addRange(n),n.collapse(),r.collapseToEnd(),s.contentChanged({type:"link",node:a}),document.execCommand("unlink",!1,!1)}),n()(this,"cancelCreateOrEditLink",()=>{this.hideHyperLinkDropdown(),!this._currentLinkNodes||this._getFirstCurrentLinkNodes().getAttribute("href")&&""!==this._getFirstCurrentLinkNodes().getAttribute("href").trim()||this.removeCurrentLinkNodes()}),n()(this,"removeCurrentLinkNodes",()=>{let e;this._currentLinkNodes.filter(e=>this.props.editor.element.contains(e)).forEach(t=>{e=t.parentElement;[].slice.call(t.childNodes).forEach(s=>{!s||s.nodeType===Node.TEXT_NODE&&""===s.textContent||e.insertBefore(s,t)}),e.removeChild(t),e.normalize(),window.getSelection().removeAllRanges();const s=document.createRange();s.setStartAfter(e),s.setEndAfter(e),window.getSelection().addRange(s),window.getSelection().collapseToEnd()}),this._currentLinkNodes=null}),n()(this,"showGoToLink",e=>{this.setState({renderHyperlinkDropdown:!1,renderGoToLink:!0,anchorNode:e,goToLinkValue:e.getAttribute("href")}),this._setCurrentLinkNodes(e)}),n()(this,"hideGoToLink",()=>{this.setState({renderGoToLink:!1})}),n()(this,"editHyperLink",()=>{this.showHyperLinkDropdown()}),n()(this,"removeHyperLink",()=>{this.hideGoToLink(),this.removeCurrentLinkNodes()})}componentWillMount(){this.commands={createlink:{action:()=>{const e=window.getSelection();e.isCollapsed?this.createNewLink(e.anchorNode):this.createLinkFromSelection(e.anchorNode)}},clicklink:{action:(e,t)=>{this.showGoToLink(t)}}}}componentDidUpdate(e){this.props.editor!==e.editor&&this.props.editor.addPlugin({commands:this.commands})}render(){return c.a.createElement("div",{onClick:this.handleClick,className:Z.container},this.props.children,this.state.renderHyperlinkDropdown?c.a.createElement(H,{onSave:this.updateLink,onClose:this.cancelCreateOrEditLink,textInput:this.state.textInput,linkInput:this.state.linkInput,anchorNode:this.state.anchorNode}):null,this.state.renderGoToLink?c.a.createElement(V,{onEdit:this.editHyperLink,onRemove:this.removeHyperLink,goToLinkValue:this.state.goToLinkValue,anchorNode:this.state.anchorNode}):null)}},$=s(155),J=s(177);class ee{constructor(e){this.isScheduled=!1,this.interval=e,this.buckets=[[],[]]}initBucketCleaner(){this.bucketCleanerInterval=setInterval(this.cleanBuckets.bind(this),this.interval)}stopBucketCleaner(){clearInterval(this.bucketCleanerInterval),this.isScheduled=!1}addToBucket(e){this.buckets[0].push(e),this.isScheduled||(this.isScheduled=!0,this.initBucketCleaner())}cleanBuckets(){this.buckets[this.buckets.length-1].forEach(URL.revokeObjectURL),this.buckets.unshift([]),this.buckets.splice(this.buckets.length-1,1);this.buckets.some(e=>e.length>0)||this.stopBucketCleaner()}}let te;function se(){return te||(te=new ee(3e5)),te}var re=s(20);function ne(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const ae=O.F.Dispositions,oe=()=>{};class ie extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{rtePlaceholderVisible:!0,hiddenQuotedText:"",showSendAsAttachmentBtn:!0,hoveredImage:null,imageSize:Y.CURRENT_IMAGE_SIZE_STATUS.SMALL}),n()(this,"editorSetup",e=>{const t=e.content,s=e.htmlAnnotations,r=e.undoStack,n=e.redoStack,a=e.initialFocus,o=e.selectedReplySuggestion,i=e.updateToolbarState;if(this.rte||(this.rte=new E.a({element:this.refs.rte,isRich:e.isRichTextMode,shouldTabIndent:!0,toolbarStateChangeHandler:void 0===i?()=>{}:i,whitelistedAttributes:["style","size","href","src","face","color"],skippedFromMutationObserver:["data-inlineimagemanipulating"]}),this.rte.undoStack=r,this.rte.redoStack=n,this.rte.undoStack.length&&(this.rte.firstUndoSave=!1),this.rte.addPlugin({commands:{add_attachment:{action:()=>{e.onAttachmentShortcut(e.csid)}}},keydownCommands:{[Y.RTEKeyModifier.SPECIAL|Y.RTEKeyModifier.SHIFT]:{85:"add_attachment"},[Y.RTEKeyModifier.SPECIAL]:{75:"createlink"}}})),t){const e=Object(A.c)(t,s),r=e.nonQuote;this.setState({rtePlaceholderVisible:!1,hiddenQuotedText:e.quote},()=>{(this.props.cursorWithinQuotedText||this.props.autoExpandQuotedText)&&this.state.hiddenQuotedText&&this.expandQuote()}),o&&(this.isListeningForChanges=!0),this.rte.setHTML(r)}else this.isListeningForChanges=!0;this._lazyLoadedPlugins&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins,e),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft(),a&&this.rte.focus(),this.rte.addPlugin({onContentMutated:e=>{this.isListeningForChanges?this.onContentChange("content_mutation",e):this.isListeningForChanges=!0},contentChanged:e=>{e&&e.type&&Y.EDITOR_EVENTS[e.type]&&this.onContentChange(e)}})}),n()(this,"onContentChange",e=>{if(this.isListeningForChanges){const t=e=>"string"==typeof e?e:e&&e.type;this.props.onContentChange({format:{richTextMode:this.rte.isRich},caret:this.rte.getCaretCoordinates(),type:t(e),eventData:e&&e.eventData}),this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})}}),n()(this,"handleSendAsAttachment",e=>{if(!e)return;const t=e.getAttribute("data-id");t?this.props.onSendAsAttachment(!0,t,null):this.props.onSendAsAttachment(!1,null,Object(g.extractPidFromString)(e.src))}),n()(this,"resizeHoverImage",e=>{this._inlineImagePlugin.resizeHoverImage(e)}),n()(this,"_resizeLinkEnhancerCard",e=>{this._linkEnhancerPlugin.handleResizeCard({newSize:e})}),n()(this,"_removeLinkEnhancerCard",()=>{this._linkEnhancerPlugin.handleRemoveCard()}),n()(this,"_moveLinkEnhancerCard",()=>{this._linkEnhancerPlugin.handleMoveCardToBottom()}),n()(this,"getInnerHtml",()=>this.rte.getRawHTML()),n()(this,"getPlainText",()=>this.rte.getText()),n()(this,"getUndoStack",()=>this.rte.undoStack),n()(this,"getRedoStack",()=>this.rte.redoStack),n()(this,"getRTEDOMNode",()=>Object(l.findDOMNode)(this.rte.element)),n()(this,"getRTEWrappedElement",()=>Object(J.b)(this.rte.element)),n()(this,"getRawMessageContent",()=>this.rte.getRawHTML()+this.state.hiddenQuotedText),n()(this,"containsStationery",()=>!!this._stationeryPlugin&&this._stationeryPlugin.isStationeryUsed()),n()(this,"handleMouseDown",()=>{this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})}),n()(this,"handleKeyDown",e=>{this.props.onKeyDown&&this.props.onKeyDown(e)}),n()(this,"handleQuoteExpand",e=>{e.preventDefault(),e.stopPropagation(),this.expandQuote()}),n()(this,"expandQuote",()=>{const e=this.state.hiddenQuotedText;let t="";if(this.props.cepForward){const s=e.indexOf("<div fwdid");if(-1===s)t=e;else{const r=e.indexOf(">",s);t=e.substring(0,s)+e.substring(r+1)}this.props.onExpandQuotedText({csid:this.props.csid})}else t=e;this.isListeningForChanges=!t,this.rte.setHTML(t,{isAppend:!0,skipContentChanged:!0}),this.setState({hiddenQuotedText:""},()=>{this.props.cursorWithinQuotedText&&this.props.restoreCursorPosition(!0)}),this.rte.undoStack.concat(this.rte.redoStack).forEach(e=>{const s=Object($.getInertElement)(e.html);Object($.setPurifiedHTML)(s,t,!0),e.html=s.innerHTML}),this.props.fixImgSrcURL&&this._inlineImagePlugin&&this._inlineImagePlugin.fixImgSrcDomain(),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft()}),n()(this,"updateImgHoverOverlayProps",e=>{this.setState(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ne(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ne(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({showSendAsAttachmentBtn:!1,imageSize:Y.CURRENT_IMAGE_SIZE_STATUS.SMALL},e))}),n()(this,"updateCurrentCardState",({newCardSize:e,hoveredCard:t})=>{this.setState({cardSize:e,hoveredCard:t})}),n()(this,"handlePluginsLoaded",e=>{this._lazyLoadedPlugins=e,this.rte&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins)}),n()(this,"_initializeLazyLoadedPlugins",(e,t)=>{const s=e.InlineImagePlugin,r=e.StationeryPlugin,n=e.TableFormatterPlugin;if(this.props.linkEnhancer&&!this._linkEnhancerPlugin&&(this._linkEnhancerPlugin=new(0,e.LinkEnhancerPlugin)({rte:this.rte,overlay:Object(l.findDOMNode)(this.refs.linkEnhancerOverlay),apiClient:this.context.linkEnhancerClient,blocklist:this.props.linkEnhancerUrlBlocklist,enhancedLinks:this.props.enhancedLinks,scrollableArea:this.props.scrollableAreaRef,onCardHovered:this.updateCurrentCardState,context:this.context,linkEnhancerFetch:this.props.linkEnhancerFetch,onLinkEnhancerlinkRemoved:this.props.onLinkEnhancerlinkRemoved,onLinkEnhancerlinkMoveToInline:this.props.onLinkEnhancerlinkMoveToInline,onLinkEnhancerlinkAdded:this.props.onLinkEnhancerlinkAdded,onLinkEnhancerlinkResized:this.props.onLinkEnhancerlinkResized,onLinkEnhancerlinkMoveToBottom:this.props.onLinkEnhancerlinkMoveToBottom}),this.rte.addPlugin(this._linkEnhancerPlugin)),this.props.stationery&&!this._stationeryPlugin){const e=t||this.props,s=e.htmlAnnotations,n=e.initialFocus,a=this.props;this._stationeryPlugin=new r({rte:this.rte,htmlAnnotations:void 0===s?[]:s,onThemeChange:a.onStationeryThemeChange,onDefaultThemeChange:a.onStationeryDefaultThemeChange,context:this.context,fontFamily:this.props.composeFontFamily,rtl:a.rtl}),this.rte.addPlugin(this._stationeryPlugin),this._stationeryPlugin.checkAndSetDraft(),!this.containsStationery()&&this.props.canApplyDefaultStationery&&this._stationeryPlugin.update(this.props.getThemeConfig()),n&&this.rte.focus()}this._inlineImagePlugin||(this._inlineImagePlugin=new s({rte:this.rte,getAttachmentInfo:()=>this.props.getAttachments().filter(({id:e="",disposition:t})=>t===ae.INLINE&&!e.includes("inlineImage")),onImageRemove:this.props.onImageRemove,onImagePaste:this.props.onImagePaste,updateImgHoverOverlayProps:this.updateImgHoverOverlayProps,_overlay:Object(l.findDOMNode)(this.refs.imageOverlay),blobCleaner:re.c&&URL.revokeObjectURL&&se()}),this._inlineImagePlugin.setScrollableArea(this.props.scrollableAreaRef),this.props.fixImgSrcURL&&this._inlineImagePlugin.fixImgSrcDomain(),this.rte.addPlugin(this._inlineImagePlugin)),this._tableFormatterPlugin||(this._tableFormatterPlugin=new n,this.rte.addPlugin(this._tableFormatterPlugin))}),n()(this,"formatMessage",(e,t={})=>this.context.intl.formatMessage(e,t)),n()(this,"_notifyPlugins",()=>{const e=this.props.linkEnhancer;this._inlineImagePlugin&&(this._inlineImagePlugin.setOverylayNode(Object(l.findDOMNode)(this.refs.imageOverlay)),this._inlineImagePlugin.contentChanged("sethtml")),e&&this._linkEnhancerPlugin&&(this._linkEnhancerPlugin.setOverylayNode(Object(l.findDOMNode)(this.refs.linkEnhancerOverlay)),this._linkEnhancerPlugin.contentChanged("sethtml"))})}componentWillMount(){this.isListeningForChanges=!1}componentDidMount(){document.execCommand("enableObjectResizing",!1,"false"),this.editorSetup(this.props)}componentWillReceiveProps(e){if(e.csid!==this.props.csid&&this.editorSetup(e),(e.composeFontSize!==this.props.composeFontSize||e.composeFontFamily!==this.props.composeFontFamily)&&this.rte){const t=this.rte.element.style,s=Object(g.getFontSizeStyle)(e.composeFontSize),r=e.composeFontFamily.replace(/"/g,""),n=Object(J.b)(this.rte.element),a=Object(J.c)(n);if(t.fontSize=s,t.fontFamily=r,n&&!a){const e=n.style;e.fontSize=s,e.fontFamily=r}}this._inlineImagePlugin&&this._inlineImagePlugin.setScrollableArea(e.scrollableAreaRef),this._linkEnhancerPlugin&&(this._linkEnhancerPlugin.setScrollableArea(e.scrollableAreaRef),this._linkEnhancerPlugin.setEnhancedLinks(e.enhancedLinks))}shouldComponentUpdate(e,t){const s=this.props,r=this.state;return e.csid!==s.csid||e.content!==s.content||t.hiddenQuotedText!==r.hiddenQuotedText||t.rtePlaceholderVisible!==r.rtePlaceholderVisible||t.showSendAsAttachmentBtn!==r.showSendAsAttachmentBtn||t.hoveredImage!==r.hoveredImage||t.hoveredCard!==r.hoveredCard||t.imageSize!==r.imageSize||t.cardSize!==r.cardSize||e.contentEditable!==s.contentEditable}componentWillUnmount(){this.rte&&this.rte.destroy()}render(){const e=this.props,t=e.ariaLabel,r=e.kind,n=e.contentEditable,a=e.scrollableAreaRef,o=e.onImageRemove,i=u()(m.a,{kind:r}),l=this.state,d=l.hiddenQuotedText,E=l.showSendAsAttachmentBtn,_=l.imageSize,p=l.cardSize,h={fontFamily:this.props.composeFontFamily,fontSize:Object(g.getFontSizeStyle)(this.props.composeFontSize)};return c.a.createElement("div",{tabIndex:-1,onBlur:this.props.onBlur,"data-test-id":"editorWrapper",className:i.editorWrapper,ref:e=>this.editorWrapper=e},c.a.createElement("div",{className:i.placeholder,"data-test-id":"rte_placeholder"},this.state.rtePlaceholderVisible?c.a.createElement(S.FormattedMessage,{id:"compose.rte_placeholder",defaultMessage:"Write something..."}):null),c.a.createElement(X,{editor:this.rte},c.a.createElement(I.a,{import:"./editor_plugin_loader",onLoad:this.handlePluginsLoaded,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1330))},_moduleResolver:function(){return 1330}}),c.a.createElement("div",{className:i.editorContainer,id:"editor-container",ref:"editorContainer"},c.a.createElement("div",{"data-test-id":"rte",role:"textbox",spellCheck:!0,autoCorrect:"off","aria-multiline":!0,contentEditable:n,"aria-label":t,className:"rte "+i.rte,ref:"rte",style:h,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.props.onFocus}),c.a.createElement(I.a,{import:"./img_hover_overlay",ref:"imageOverlay",onload:this._notifyPlugins,overlayType:Y.RTEHoverOverlayTypes.IMAGE,onHoverImageRemove:this.removeHoverImage,onImageResize:this.resizeHoverImage,onSendAsAttachment:this.handleSendAsAttachment,showSendAsAttachmentBtn:E,hoveredElement:this.state.hoveredImage,onImageRemove:o,imageSize:_,editor:this.rte,editorWrapperRef:this.editorWrapper,scrollableAreaRef:a,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,881))},_moduleResolver:function(){return 881}}),this.props.linkEnhancer?c.a.createElement(I.a,{import:"./img_hover_overlay",onload:this._notifyPlugins,ref:"linkEnhancerOverlay",overlayType:Y.RTEHoverOverlayTypes.LINK_ENHANCER_CARD,onCardResize:this._resizeLinkEnhancerCard,onCardRemove:this._removeLinkEnhancerCard,onCardMove:this._moveLinkEnhancerCard,hoveredElement:this.state.hoveredCard,cardSize:p,editor:this.rte,editorWrapperRef:this.editorWrapper,scrollableAreaRef:a,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,881))},_moduleResolver:function(){return 881}}):null)),d?c.a.createElement("div",null,c.a.createElement("button",{"data-test-id":"compose-show-quoted-text",onClick:this.handleQuoteExpand,className:i.button},c.a.createElement("span",{className:i.buttonInner},c.a.createElement(C.b,{kind:T.Kinds.CHEVRON_UP,size:T.Sizes.XXS,rotate:T.Rotate.D90,colorState:T.ColorStates.DISABLED}),c.a.createElement(S.FormattedMessage,{id:"compose.show_quote",defaultMessage:"Show Original Message"})))):null)}}n()(ie,"contextTypes",{config:o.a.object,intl:S.intlShape.isRequired,executeAction:o.a.func,linkEnhancerClient:h.LinkEnhancerClientType}),n()(ie,"defaultProps",{kind:Y.EditorTypes.COMPOSE,onStationeryThemeChange:oe,onStationeryDefaultThemeChange:oe,autoExpandQuotedText:!1,onExpandQuotedText:oe,contentEditable:!0,undoStack:[],redoStack:[],getThemeConfig:oe,getAttachments:()=>[],canApplyDefaultStationery:!1,isRichTextMode:!0});t.a=ie},function(e,t,s){"use strict";var r=s(1),n=s.n(r),a=s(7),o=s.n(a),i=s(749),c=s.n(i),l=s(6),d=s(4),E=s(21),_=s(22);const u=Object(l.defineMessages)({sponsoredByViglink:{id:"viglink.sponsored_by_viglink",defaultMessage:"Sponsored link by Viglink"},search:{id:"contact_card.search",defaultMessage:"Search for emails from {name}"},default_contact_name:{id:"contact.unknown_name",defaultMessage:"# Unknown name"}});var p=s(127),m=s(188);const S=()=>{},h=({name:e,onContactNameClick:t,onContactNameDoubleClick:s=S,email:r,isInRightRail:a,isMobile:o,isEnhancedContactCard:i=!1},l)=>{const h=l.intl.formatMessage,C=Object(_.n)({context:l,includeMedium:!0})&&a,g=l.getCss(c.a,{isEnhancedContactCard:i,darkVariations:C,isMobile:o,defaultName:!e&&!r}),O=e||r||h(u.default_contact_name),T="rtl"===Object(p.getTextDirection)(O)?g.rtlIgnoreDirRTL:g.rtlIgnoreDirLTR;return n.a.createElement("div",{className:g.searchSection,"data-test-id":"contact-card-search"},n.a.createElement("div",{"data-test-id":"contact-card-name","data-id":"contact-card-name",className:g.name+" "+T,title:O,onClick:t,onDoubleClick:s},O),i?(()=>n.a.createElement("span",{className:g.groupedIconsSection,onClick:e=>e.stopPropagation()},n.a.createElement("span",{className:g.iconsSection,onClick:t},n.a.createElement(E.default,{paddingLess:!0,"data-test-id":"contact-card-search-icon",className:g.searchIcon,title:h(u.search,{name:O}),kind:o?d.Kinds.SEARCH:d.Kinds.SEARCH_MINI,size:o?d.Sizes.S:d.Sizes.XS,colorState:d.ColorStates.INHERITED})),n.a.createElement("span",{className:g.partnerIcon},n.a.createElement(m.a,{isOnDarkBackground:C,size:d.Sizes.XS}))))():n.a.createElement("span",{className:g.iconsSection,onClick:t},n.a.createElement(E.default,{paddingLess:!0,"data-test-id":"contact-card-search-icon",className:g.searchIcon,title:h(u.search,{name:O}),kind:o?d.Kinds.SEARCH:d.Kinds.SEARCH_MINI,size:o?d.Sizes.S:d.Sizes.XS,colorState:d.ColorStates.INHERITED})))};h.contextTypes={intl:l.intlShape,getCss:o.a.func,getThemeMode:o.a.func,getTheme:o.a.func},h.defaultProps={isInRightRail:!1};t.a=h},function(e,t,s){"use strict";var r=s(3),n=s.n(r),a=s(7),o=s.n(a),i=s(1),c=s.n(i),l=s(841),d=s.n(l),E=s(17),_=s(4),u=s(5),p=s(842),m=s.n(p),S=s(6);const h=Object(S.defineMessages)({breakingNewsbanner:{id:"breaking.news.banner",defaultMessage:"BREAKING NEWS"},latestNewsbanner:{id:"latest.news.banner",defaultMessage:"LATEST NEWS"}}),C=({lastestNews:e,clickUrl:t,onClick:s},{getCss:r,intl:{formatMessage:n}})=>{const a=r(m.a),o=n(e?h.latestNewsbanner:h.breakingNewsbanner);return c.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:t,onClick:s,"aria-label":o,title:o,className:a.bannerContainer,"data-test-id":"breaking-news-banner"},c.a.createElement("div",{className:a.bannerText},o))};C.contextTypes={getCss:o.a.func,intl:S.intlShape.isRequired},C.defaultProps={lastestNews:!1};var g=C;class O extends c.a.Component{constructor(...e){super(...e),n()(this,"onNewsClick",()=>{const e=this.props,t=e.newsArticle;(0,e.breakingNewsClicked)({i13nModel:{mKey:u.g.BREAKING_NEWS_CLICKED,sec:u.i.BREAKING_NEWS,actionData:{id:t.id,title:t.title,severity:t.severity}}})}),n()(this,"onClose",()=>{const e=this.props,t=e.newsArticle;(0,e.breakingNewsDismissed)({i13nModel:{mKey:u.g.BREAKING_NEWS_DISMISSED,sec:u.i.BREAKING_NEWS,actionData:{id:t.id,title:t.title,severity:t.severity}}})})}componentDidMount(){const e=this.props,t=e.newsArticle,s=e.breakingNewsRendered;this._breakingNewsRenderedTimer=setTimeout(()=>{s({i13nModel:{mKey:u.g.BREAKING_NEWS_RENDERED,sec:u.i.BREAKING_NEWS,actionData:{id:t.id,title:t.title,severity:t.severity}}})},0)}componentWillUnmount(){this._breakingNewsRenderedTimer&&clearTimeout(this._breakingNewsRenderedTimer)}render(){const e=this.props,t=e.newsArticle,s=e.isCompactLayout,r=this.context.getCss(d.a);return c.a.createElement("div",{"data-test-id":"breaking-news-container",className:r.container},c.a.createElement("div",{className:r.subContainer},c.a.createElement(g,{clickUrl:t.clickUrl,onClick:this.onNewsClick}),c.a.createElement("div",{className:r.content},c.a.createElement("a",{rel:"noopener noreferrer",className:r.link,href:t.clickUrl,onClick:this.onNewsClick,target:"_blank",tabIndex:"-1"},c.a.createElement("div",{"data-test-id":"breaking-news-title",className:r.articleTitle},t.title),s?null:c.a.createElement("div",{className:r.popoutIcon},c.a.createElement(E.b,{kind:_.Kinds.POP_OUT,size:_.Sizes.XXS,colorState:_.ColorStates.INHERITED}))),c.a.createElement("div",{className:r.close,onClick:this.onClose},c.a.createElement(E.b,{kind:_.Kinds.CLOSE,size:_.Sizes.XXS,colorState:_.ColorStates.INHERITED})))))}}O.contextTypes={getCss:o.a.func};t.a=O},,function(e,t){e.exports={SyntaxError:{description:"Engineers messed up somewhere"},ApiError:{description:"The API layer returned an error"},DecoderError:{description:"API errors due to parsing failures"},HttpTransport:{NotOkStatusCode:{description:"Request returned with not-ok status code",requiredData:["statusCode"]},CrossDomainError:{description:"Origin is not allowed by Access-Control-Allow-Origin at Request.crossDomainError"},ContentTypeError:{description:"Return type does not match Request Accept type.",requiredData:["statusCode"]},ConnectionTimedOut:{description:"Request timed out."},ParseError:{description:"Parser is unable to parse the response.",requiredData:["statusCode","responseText"]},OutboundError:{description:"Request fails to go to the server from the client's browser."},ServerNotFound:{description:"DNS lookup failed."},ConnectionRefused:{description:"Client was not able to connect to host."},ConnectionReset:{description:"Connection reset by peer."}},BaseClient:{RequestBlocked:{description:"Request is blocked"},EmptyResponse:{description:"Response is empty"}},RequestQueue:{Rejected:{description:"A write request was issued. Therefore, the RequestQueue is dropping the call"},Timeout:{description:"Request timed out in queue"}},CloudStorageClient:{CloudStorageResultsError:{description:"The CloudStorageClient returned an error for fetching cloud storage results"}},BootcampApiClient:{DeleteRecentSearch:{description:"The BootcampApiClient returned an error for deleting recent search"},SearchError:{description:"The BootcampApiClient returned an error for the search"},SearchChunkError:{description:"The BootcampApiClient returned a chunk error"},SearchAdsError:{description:"The BootcampApiClient returned an error for parsing search ads"},SuggestionError:{description:"The BootcampApiClient returned an error for the suggestions"},LocalStoresError:{description:"The BootcampApiClient returned an error for fetching local stores"},GrocerySearchSuggestionsError:{description:"The BootcampApiClient returned an error for fetching grocery search suggestions"},TopRetailersError:{description:"The BootcampApiClient returned an error for fetching top retailers"},TopDealCategoriesError:{description:"The BootcampApiClient returned an error for fetching top deal categories"}},LinkEnhancerClient:{InvalidRequestUrl:{description:"Request URL is invalid."},EmptyResponseBody:{description:"Response Body is empty"},NoRootType:{description:"No Root Type"},NoWebSnippet:{description:"No Web Snippet"}},MailApiClient:{SaveAndSend:{description:"Both `Save` and `Send` requests have failed"},EmptyRequestPayload:{description:"Request payload is empty"}},UDBClient:{EmptyKey:{description:"Cannot write empty list of keys to UDB"},LoadTestMode:{description:"Cannot write to UDB in load testing mode"},DevBox:{description:"Cannot write to UDB on MAC devbox"},InvalidYca:{description:"Invalid YCA header"},Forbidden:{description:"Role does not have a permission or cookie is invalid"}},LaunchError:{LaunchApiFailed:{description:"Launch API has failed"},AbusiveUser:{description:"Block abusive users to launch"},WrongMailboxState:{description:"Mailbox is deleted/disabled or maintainence"},NoScript:{description:"Javascript is disabled"},UnsupportedBrowser:{description:"browser is unsupported"},PageNotFound:{description:"Page not found"},ActiveMailboxNotFound:{description:"Active mailbox not found"}},Authentication:{InvalidCredentials:{description:"The user cookies are not valid anymore.",requiredData:["statusCode","errorCode","refresh"]},MissingCrumb:{description:"Crumb not passed as query parameter.",requiredData:["statusCode","errorCode"]},InvalidCrumb:{description:"No valid crumb found for the given user.",requiredData:["statusCode","errorCode"]},WssidReissue:{description:"Request does not have a valid wssid.",requiredData:["statusCode","errorCode","wssid"]}},GenericError:{description:"A generic error has occurred.",code:"FE-100"},UnknownError:{description:"An unkown error has occurred.",code:"FE-100"},AthenaApiClient:{DataError:{description:"The AthenaApiClient returned an error while parsing response."}},ClassicABClient:{CategoryDataError:{description:"Classic addressbook returned error for categories."},ContactsDataError:{description:"Classic addressbook returned error for contacts list."},ContactsSyncDataError:{description:"Classic addressbook returned error for contacts sync."}},AstraApiClient:{BatchCallError:{description:"The AstraApiClient returned an error while parsing response for the batch api call."},QuotientRetailersError:{description:"The AstraApiClient returned an error while parsing response for quotient retailers."},GroceriesTopOfMsgError:{description:"The AstraApiClient returned an error while parsing response for groceries top of msg retailers."},LinkRetailerError:{description:"The AstraApiClient returned an error while parsing response for link retailer."},CategoryFollowingListError:{description:"The AstraApiClient returned an error while parsing response for category following list."},RetailerOffersError:{description:"The AstraApiClient returned an error for fetching offers for a retailer"},RetailerActivatedOffersError:{description:"The AstraApiClient returned an error for fetching activated offers for a retailer"},AffiliateOffersError:{description:"The AstraApiClient returned an error for fetching affiliate product offers"},CategoryOffersError:{description:"The AstraApiClient returned an error for fetching category offers for retailer"}},obiApiClient:{ExistingSubscriptionError:{description:"Purchase offer returned error because the free trial is present in subscription history",code:"OBI-100"}},PushNotifications:{MetadataFetchFailed:{description:"Failed to get message metadata for a push notification"},MissingRegistrationId:{description:"Missing registrationId from successful TAP response"}}}},function(e,t){},,,,,,,function(e,t,s){"use strict";(function(e){t.a=function(t){return new e(String(t)).toString("base64")}}).call(this,s(429).Buffer)},function(e,t,s){"use strict";(function(e){var r=s(3),n=s.n(r),a=s(53),o=s.n(a),i=s(26),c=s(19),l=s(371),d=s(9),E=s(57),_=s(388),u=s(262),p=s(0),m=s(235);function S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?S(s,!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const C=i.a.GET,g=new(s.n(m).a)({maxAge:216e5}),O={Transport:i.b,request:e=>{const t=e.sectionId,s=Object.keys(t).filter(e=>"string"==typeof t[e]||"number"==typeof t[e]).map(s=>O._sendRequest(e,t[s]).then(r=>{if(Object(d.b)(r,"body.error")){const n=e.loggerParams||{},a=h({},r.body,{sectionId:t[s]});return _.a.feature("gemini_no_ads",h({},n,{loggerInfo:a})).logFailure(),{body:a}}return r}));return Promise.all(s).then(t=>O._constructAdResponses(t,e)).then(t=>O._appendAdFeedbackConfig(t,e))},_appendAdFeedbackConfig:(e,t)=>{if("enabled"!==t.isAdFeedbackV2)return Promise.resolve(e);const s=t.logRequest,r=void 0===s?()=>{}:s,n=t.appId,a=t.locale,o=t.ymreqid,i=n===p.Re?"phone":"desktop",c=[];return Object.values(e).forEach(e=>{Array.isArray(e)&&e.forEach(e=>{const s=(e||{}).adFeedbackConfigUrl;if(s){const l=s.replace("$(AD_FEEDBACK_SITE_LOCALE)",a).replace("$(AD_FEEDBACK_DEVICE_TYPE)",i);if(g.has(l))return void(e.adFeedbackConfig=g.get(l));const E=new O.Transport(C,l).send().then(s=>{if(Object(d.b)(s,"body.error")){const e=h({},s.body);return _.a.feature("gemini_no_feedback_config",h({},t.loggerParams,{loggerInfo:e})).logFailure(),{body:e}}const r=s.body.config;return e.adFeedbackConfig=r,g.set(l,r),s});r(E,{apiName:"geminiAdConfig.get",appId:n,ymreqid:o,locale:a}),c.push(E)}})}),Promise.all(c).then(()=>e)},_sendRequest:(e,t)=>{Object(c.a)(e.ymreqid,"ymreqid is required for making requests to Gemini ssi"),Object(c.a)(e.userAgent,"userAgent is required for making requests to Gemini ssi");const s=e.logRequest,r=void 0===s?()=>{}:s,n=e.ymreqid,a=e.rotationActionType,o=e.region,i=new O.Transport(C,E.e+E.r);i.setHeader("Accept","application/json"),i.setHeader("User-Agent",e.userAgent),Object(u.a)()||i.setHeader("X-Forwarded-For",e.remoteAddress),e.cookie&&!e.creativeId&&i.setHeader("Cookie",e.cookie);const l={apiName:"geminiAd.get",sectionId:t,rotationActionType:a,ymreqid:n,intl:o},d=O._getQueryParams(e,t),_=i.send(d);return r(_,l),_},getForceFilter:t=>{const s=o.a.stringify({useForceFilter:!0,forceFilter:"creative_id:"+t,useSpaceBall:!1,useFrequencyCapping:!1,useBudget:!1,useDeviceTargeting:!1,useBooleanQueries:!1,useSegmentsTargeting:!1,useBudgetCampaignFineThrottling:!1,useCF:!1,honorBlacklistedProperties:!1,dedupOnTitleSummaryHash:!1,"grouping.maxCreativesPerAdvertiser":5});return new e(s).toString("base64")},_getQueryParams:(e,t)=>{const s=e.locale,r=e.region,n=e.ymreqid,a="zh-Hant-HK"===s||"zh-Hant-TW"===s?"zh_TW":s.substr(0,2),o=Object.assign({format:"json",apiVersion:2,size:"3x3",sectionId:E.n,creativeCode:"STRM",propertyName:"mail_norrin",siteLanguage:a,countryCode:r,requestId:`${n}-${t}`,publisherInfo:"||159600001|STRM|",contentInHttps:1},e);o.sectionId=t||E.n,o.adCount=E.d[+t]||1,e.buckets&&e.buckets.length&&(o.bucket=e.buckets.join(",")),+t!==E.q||e.videoMomentEnabled||(o.creativeCode="STRM"),"devbox"===e.environment&&(o.nonRevenue=1),o.creativeId&&(o.forceFilter=O.getForceFilter(o.creativeId),o.nonRevenue=2);const i={};for(const e in o)E.h[e]&&(i[E.h[e]]=o[e]);return i},_constructAdResponses:(e,t)=>{const s={};return e.forEach(e=>{if(Object(d.b)(e,"body.ads",null)){const r=Object(d.b)(e,"body.section.id",E.n),n=Object(l.a)(e.body.ads,r,t);if(r===E.c){const t=Object(d.b)(n[0],"pencilAd.carouselAssets",null),s={rrAbpDpaAdsCount:t?t.length:1},a=h({},e.body,{sectionId:r});_.a.feature("gemini_abp_dpa_ad",h({},s,{loggerInfo:a})).logSuccess()}s[r]=n}else if(Object(d.b)(e,"body.error")){const t=Object(d.b)(e,"body.sectionId");t===E.m.toString()&&(s[t]={pencilAd:{},nativeAd:{},error:Object(d.b)(e,"body.error"),additionalErrorInfo:Object(d.b)(e,"body.additionalErrorInfo"),status:Object(d.b)(e,"body.status")})}}),t.secondPencilFallbackSectionIdEnabled&&(s[E.p]=s[E.p]||s[E.o]),t.nobleHybridAdEnabled&&s[E.l]&&(s[E.k]=s[E.l]),s}};t.a=O}).call(this,s(429).Buffer)},,function(e,t,s){"use strict";e.exports={className:{default:{icon:"D_X W_6MGW H_6MGW cdPFi_Z281SGl cZW7ROP_n en_0 cvhIH6_T"},allowPointerEvents:{icon:"cZW7ROP_A"},flipRTL:{rtlRawScaleX:"rtlR_h_2gl0WC"},"colorState-FIRST_LEVEL_GRAY":{icon:"cdPFi_Z1VRpVF"},"colorState-THIRD_LEVEL_GRAY":{icon:"cdPFi_ZroviD"},"colorState-NORMAL_LESS_DIM":{icon:"cdPFi_Z26U5qH"},"colorState-DARK":{icon:"cdPFi_Z281SGl"},"colorState-TRANSPARENT":{icon:"cdPFi_T"},"colorState-FAINT":{icon:"cdPFi_ZpQYvz"},"colorState-LESS_IMPORTANT":{icon:"cdPFi_Z1Xxgu0"},"colorState-COOL_FAINT":{icon:"cdPFi_ZvsWfq"},"colorState-INHERITED":{icon:"cdPFi_q"},"colorState-INVERTED":{icon:"cdPFi_52qC"},"colorState-INVERTED_DIM":{icon:"cdPFi_ak5kB"},"colorState-INVERTED_LESS_DIM":{icon:"cdPFi_ak5m8"},"colorState-INVERTED_MORE_DIM":{icon:"cdPFi_ak5jA"},"colorState-SELECTED":{icon:"cdPFi_Z2aVTcY"},"colorState-PRIMARY_HOVER":{icon:"cdPFi_Z29WjXl"},"colorState-SELECTED_DARK_THEME_MODE":{icon:"cdPFi_Z2bg7IA"},"colorState-STARRED":{icon:"cdPFi_ZkhR3R"},"colorState-STARRED_DARK":{icon:"cdPFi_ZkcEUn"},"colorState-DISABLED":{icon:"cdPFi_Z1TsNWR"},"colorState-ADVISORY":{icon:"cdPFi_ZkcEUn"},"colorState-FIRST_LEVEL_ORANGE":{icon:"cdPFi_ZkhR3R"},"colorState-WARNING":{icon:"cdPFi_Znn46r"},"colorState-HEADING":{icon:"cdPFi_Z1XBA33"},"colorState-SMARTVIEW_DARK":{icon:"cdPFi_2sqbQg"},"colorState-IMPROVED_GRAY_DARK":{icon:"cdPFi_Z1YRXYn"},"colorState-SECOND_LEVEL_GRAY":{icon:"cdPFi_Z1TsNWR"},"colorState-YBADGE":{icon:"cdPFi_Z25iliW"},"colorState-YBANG":{icon:"cdPFi_Z21a4NC"},"colorState-SUCCESS":{icon:"cdPFi_Z287E9E"},"colorState-WHITE":{icon:"cdPFi_52qC"},"colorState-ICON_HOVER_BGCOLOR":{icon:"cdPFi_2ieea9"},"colorState-GRAD_BLUE":{icon:"cdPFi_Z2aVTcY"},"colorState-ATTACH_MEDIA":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_CAL":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_EXCEL":{icon:"cdPFi_Zjgrcs"},"colorState-ATTACH_DOC":{icon:"cdPFi_euEfy"},"colorState-ATTACH_SLIDE":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_PDF":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_GENERIC":{icon:"cdPFi_1k4EMl"},"colorState-ATTACH_COMPRESSED":{icon:"cdPFi_1k4EMl"},"colorState-SMARTVIEW_PEOPLE":{icon:"cdPFi_ZkcEUn"},"colorState-SMARTVIEW_SHOPPING":{icon:"cdPFi_Z1tEW3v"},"colorState-WARNING_GRAD_RED":{icon:"cdPFi_Z1rD0qn"},"colorState-TOUCH_PRIMARY":{icon:"cdPFi_Z2aVTcY"},"colorState-FACEBOOK_ENABLED":{icon:"cdPFi_Z269xr6"},"colorState-LINKEDIN_ENABLED":{icon:"cdPFi_Z2dxU8K"},"colorState-TWITTER_ENABLED":{icon:"cdPFi_Z2a87Op"},"colorState-PURPLE":{icon:"cdPFi_Z1WGv5u"},"size-XXXS":{icon:"W_6Eb4 H_6Eb4"},"size-XXS":{icon:"W_6Fd5 H_6Fd5"},"size-XS":{icon:"W_6LEV H_6LEV"},"size-S":{icon:"W_6MGW H_6MGW"},"size-M":{icon:"W_6UbO H_6UbO"},"size-L":{icon:"W_74JI H_74JI"},"size-XL":{icon:"W_7rdk H_7rdk"},"size-XXL":{icon:"W_7Ig6 H_7Ig6"},"size-XXXL":{icon:"W_3n93F H_3n93F"},"size-40":{icon:"W_72FG H_72FG"},"rotate-D45":{icon:"h_1RtVxM"},"rotate-D90":{icon:"h_22ufi4"},"rotate-D180":{icon:"h_ZQwKon"},"rotate-D270":{icon:"h_9u8MW"}},_key:"Z1HACCb"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"P_0 C_Z281SGl r_P y_Z2hYGcu A_6EqO cvhIH6_T ir3_1JO2M7 cZ11XJIl_0"},decorated:{button:"k_w e_dRA D_X M_6LEV o_v p_R V_M t_C cZ1RN91d_n A_6EqO u_e69 i_3qGKe P_1EudUu H_A cn_dBP cg_FJ l_T j_n S_n S4_n"},"kind-PRIMARY":{button:"I_Z2aVTcY C_52qC l_Z2aVTcY I3_Z2bdAhD l3_Z2bdIi1 I0_Z2bdAhD l0_Z2bdIi1"},"kind-CUE":{button:"I_Z2aVTcY C_52qC b_0 P_ZGAgNS E_fq7 i_6FIA u_e69 I3_Z2bdAhD I0_Z2aVTcY I4_Z29WjXl"},"primaryHover-true_false":{button:"I4_Z2bdAhD l4_Z2bdIi1"},"primaryHover-true_true":{button:"I4_Z2aVTcY l4_Z2aVTcY"},"kind-SECONDARY":{button:"I_52qC C_Z2aVTcY l_Z2aVTcY M_0 I4_52qC C4_Z2dyg2z l4_Z2dyg2z I3_ZpQYvz C3_Z2dyg2z l3_Z2dyg2z I0_ZpQYvz C0_Z2dyg2z l0_Z2dyg2z"},"kind-SECONDARY_BORDERLESS":{button:"I_52qC b_0 C_Z2aVTcY H_q P_1EudUu M_0 I4_2iedUU C4_Z29WjXl"},"kind-TEXT":{button:"C_Z2aVTcY b_0 P_0 M_0 H_6Nds I_T C4_Z29WjXl ir3_1JO2M7 it3_dBP"},"kind-DANGER":{button:"I_52qC C_ZnTFMv l_ZnTFMv M_0 I4_v5hft I3_v5hft I0_v5hft"},"kind-ICON":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q q_T O_cMu O4_N I4_2ieea9"},"kind-PILL":{button:"b_Z14vXdP P_1Eu6qC H_6NIX W_A e_6Fd5 C_q q_T I4_2ieea9"},"kind-PARENT_TEXT_COLOR":{":hover":"C_q"},"kind-ICON_HIGHLIGHTED":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q I_7l9bL i_0 O_N"},"kind-CHROMELESS":{button:"q_T C_Z1YRXYn u_e69 b_0 C4_Z2dyg2z C3_Z2aVTcY"},"kind-MENUITEM":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_1I4yPF I3_1I4yPF it3_689y"},"kind-MENUITEM_PARENT_TEXT_COLOR":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_1I4yPF C4_Z2aVTcY I3_1I4yPF it3_689y"},disabled:{button:"O_cMq r_A"},paddingLess:{button:"P_0"},marginLess:{button:"M_0"},isOnDarkBackground:{button:"ir3_Z1FS2Mn"},THEMED_LIKE_COMPOSE_BUTTON_ATT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_FRONTIER:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_ROGERS:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_BT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_SKY:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_DEFAULT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_SUNRISE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_AQUA_GREEN:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_AQUA_BLUE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_DEEP_PURPLE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_BLUE_NIGHT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_DARK_GREY:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_NIGHT_LANDSCAPE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_ROADTRIP:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_SUNSET_AUSSIE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPOSE_BUTTON_LIGHTHOUSE:{button:"I_ZamTeg C_52qC l_T"}},_key:"1OePqR"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"c27KHO0_n b_0 M_0 i_0 I_T y_Z2hYGcu A_6EqO r_P C_q cvhIH6_T ir3_1JO2M7",content:"D_F ab_C gl_C W_6D6F",label:"D_X em_N o_h X_eo6 G_e t_l i_N"},"size-XXXS":{button:"P_dBP"},"size-XXS":{button:"P_dRA"},"size-XS":{button:"P_eo6"},"size-S":{button:"P_fq7"},"size-M":{button:"P_fq7"},"size-L":{button:"P_6Eb4"},"size-XL":{button:"P_6Fd5"},"size-XXL":{button:"P_6Fd5"},paddingLess:{button:"P_0"},isOnDarkBackground:{button:"ir3_Z1FS2Mn"},isCompact:{content:"W_72FG ek_BB",label:"A_6DUj X_0"},disabled:{button:"r_BN"}},_key:"1q5Nrt"}},function(e,t,s){"use strict";e.exports={className:{default:{tab:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",darkMode_photoThemefalse:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",darkMode_photoThemetrue:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",textSvg:"em_N H_6FIA",text:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x",close:"en_0 O4_N P_2gqvDS",checkmailIcon:"en_0 O4_N P_2gqvDS",decorator:"D_F en_0 Q_eo6 E_eo6",badgeCount:"C_Z281SGl D_F u_e69 I_52qC A_6DUj gl_C P_3gJiI e_3mS2U"},"kind-MENU":{tab:"W_3qYiD P_1Eu7sD C_Z281SGl I_52qC I4_Z1owzy4 N4_6Eb4",text:"C_Z281SGl G_e"},"kind-BAR":{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC"},activeMenu:{text:"u_b"},decoratedMenu:{tab:"X_6Fd5"},decoratedBar:{tab:"P_1MYwXA",darkMode_photoThemefalse:"P_1MYwXA",darkMode_photoThemetrue:"P_1MYwXA"},decoratedSettings:{decorator:"P_eo6"},activeHover:{tab:"r_BN",darkMode_photoThemefalse:"r_BN",darkMode_photoThemetrue:"r_BN",close:"O_N Q_0"},inactiveHover:{close:"O_N Q_0"},animate:{tab:"ah_2wpkLb",darkMode_photoThemefalse:"ah_2wpkLb",darkMode_photoThemetrue:"ah_2wpkLb"},extraIconPadding:{decorator:"X_eo6"},darkModePhotoTheme_NIGHT_LANDSCAPE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_cOYC3 I4_cOYCy",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_ROADTRIP_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_1iaDpX I4_1iaDqt",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_SUNSET_AUSSIE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_2woiXE I4_2woiYa",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_LIGHTHOUSE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_t5YJT I4_t5YKp",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_NIGHT_LANDSCAPE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_1qHGaS I4_1qHGaS cdPFi4_52qC"},darkModePhotoTheme_ROADTRIP_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_Zrb5Gc I4_Zrb5Gc cdPFi4_52qC"},darkModePhotoTheme_SUNSET_AUSSIE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_2bmuGB I4_2bmuGB cdPFi4_52qC"},darkModePhotoTheme_LIGHTHOUSE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_Zsxwsy I4_Zsxwsy cdPFi4_52qC"}},_key:"ZQ1Stz"}},function(e,t,s){"use strict";e.exports={className:{default:{overlay:"p_f D_B T_0 L_0 W_3mS5W H_3mS5H O_0 Z_tT",popover:"p_a Z_d48",popoverAnchor:"D_X",popoverContent:"p_R e_dRA I_52qC j_ZlOSbd"},"bg-DARK":{popoverContent:"C_52qC I_Z281SGl j_n"},"bg-GRADIENT":{popoverContent:"C_52qC I_Z2aVTcY"},"zAltitude-500":{overlay:"Z_dU7",popover:"Z_e69",popoverContent:"j_nWwhY"},"zAltitude-900":{overlay:"Z_eW8",popover:"Z_f8a",popoverContent:"j_ZqTdtW"},"zAltitude-9000":{overlay:"Z_7Ay0",popover:"Z_7G9R",popoverContent:"j_ZqTdtW"},"zAltitude-10000":{overlay:"Z_7Iyn",popover:"Z_3mRud",popoverContent:"j_ZqTdtW"},"zAltitude-11000":{overlay:"Z_3mTSI",popover:"Z_3n0uA",popoverContent:"j_ZqTdtW"},"borderRadius-LOW":{popoverContent:"e_dRA"},"borderRadius-MEDIUM":{popoverContent:"e_eo6"},"borderRadius-HIGH":{popoverContent:"e_eTB"},"borderRadius-MOBILE_DEFAULT":{popoverContent:"e_fq7 o_h"},animate:{popover:"lv_1Ys0hm"},ignorePointerEvents:{popover:"cZW7ROP_n"},highlight:{popover:"b_ZXQDCD e_dRA j_Z1oW7xg",popoverContent:"p_R e_0 j_n"}},_key:"Z2JLnk"}},function(e,t,s){"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_eTB T_69bz",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_eTB H_eTB M_e8l"},arrowDirectionDown:{pointerWrapper:"T_A B_69bz h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 L_69bz"},arrowDirectionRight:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 R_69bz h_ZQwKon"},"zAltitude-500":{pointer:"j_ZlOSbd"},"zAltitude-900":{pointer:"j_ZlOSbd"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"},collapseArrowWrapper:{pointerWrapper:"H_0 T_0"}},_key:"jAFHx"}},function(e,t,s){"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6Eb4 T_36JN3",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_6Eb4 H_6Eb4 M_eTB"},arrowDirectionDown:{pointerWrapper:"T_A B_36Jxi h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 L_36JN3"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 R_36Jxi h_ZQwKon"},"zAltitude-500":{pointer:"j_nWwhY"},"zAltitude-900":{pointer:"j_nWwhY"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"bg-LIGHTGRAY":{pointer:"I_ZnkeaL"},"bg-NEON_BLUE":{pointer:"I_Z1YJKic"},"bg-OVERLAY":{pointer:"I_Z1WGv5u"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"},collapseArrowWrapper:{pointerWrapper:"H_0 T_0"}},_key:"Z25tKhw"}},function(e,t,s){"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6MGW T_36SjV",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_6MGW H_6MGW M_6Eb4"},arrowDirectionDown:{pointerWrapper:"T_A B_36SjV h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 L_36SjV"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 R_36SjV h_ZQwKon"},"zAltitude-500":{pointer:"j_nWwhY"},"zAltitude-900":{pointer:"j_ZqTdtW"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"},collapseArrowWrapper:{pointerWrapper:"H_0 T_0"}},_key:"x3XRo"}},function(e,t,s){"use strict";e.exports={className:{default:{list:"hd_n P_0 H_6D6F M_0 ir3_0 iy_h"},"layout-HORIZONTAL":{list:"D_F"},"layout-GRID":{list:"D_F eo_HB W_6D6F"},disabled:{list:"O_6uB4 cZW7ROP_n"},"kind-TOOLBAR":{list:"D_F ab_C M_0 P_0"},isRestrictedHeight:{list:"iz_A K_3v1qi"}},_key:"ZXlG6m"}},function(e,t,s){"use strict";e.exports={className:{default:{menuContainer:"D_F em_N H_6Nds s_6NIX r_P cj_dRA ck_dRA p_R je_eDQ",menuContentContainer:"P_1HKSdG",menuButtonContainer:"em_N",menuButton:"em_N r_P y_Z2hYGcu A_6EqO b_0 I_T",menuSpan:"p_a L_0 W_6D6F T_0 H_6D6F D_F ab_C gl_C C_52qC A_6EqO o_h",text:"Q_fq7 o_h",chevron:"D_F en_0",rule:"b_Z2A6Uz m_0 M_fQoXz",tabList:"ha_n M_0 P_3Y3Gk",tabItem:"H_6NIX M_Ic8v9",closeAllButton:"y_Z2hYGcu A_6EqO b_0 I_T t_l C_Z1YRXYn P_1Eu7sD H_6VdP W_6D6F r_P I4_Z1owzy4",closeAllText:"D_F ab_C"}},_key:"ZYptne"}},function(e,t,s){"use strict";e.exports={className:{default:{background:"e_6Fd5 P_dRA lv_Z1G1k6c ir_0 D_B W_6UbO H_6Fd5 p_R r_BN I_52qC b_Z1a7UWG",handle:"p_R D_B W_fq7 H_fq7 I_52qC e_6Fd5 lv_Z1G1k6c L_0 b_Z1a7UWG"},"size-L":{background:"W_74JI H_6MGW",handle:"W_6Eb4 H_6Eb4 L_e8l"},isEnabled:{background:"I_Z2aVTcY b_2fAfSG",handle:"L_6Fd5 b_6i9dl"},isEnabledAndLarge:{handle:"L_6MWH"},isClickable:{background:"r_P"}},_key:"Zw2nvR"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"D_F F_n gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1PEzoz",spinner:"W_6MGW H_6MGW ah_Zq6hUs",arc:"cdPFi_n cZ13pKbK_Z2aVTcY cZ1XO2Ji_dRA c2abBOT_EY cZ1vNhDV_rd cZV8aCd_pI ah_14s73"},"size-S":{container:"W_6Fd5 H_6Fd5",spinner:"W_6Fd5 H_6Fd5"},inverted:{arc:"cZ13pKbK_52qC"},flex:{wrapper:"F_N H_6D6F"}},_key:"n3x6k"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"C4_Z2aVTcY"}},_key:"Zt4S9c"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F hd_n P_0 M_0 o_h J_x H_6UbO",item:"H_6D6F E_dRA",svgDefs:"W_0 H_0"}},_key:"2qYHHJ"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F gl_C ab_C",primaryButton:"A_6EWk C_Z2aVTcY r_P"}},_key:"pbtff"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"C_Z2aVTcY r_P",notificationTitle:"t_CS A_6EWk C_Z281SGl u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO"}},_key:"1xydhh"}},function(e,t,s){"use strict";e.exports={className:{default:{progress:"k_w W_6D6F H_6Fd5 I_52qC p_R",placeholder:"b_Z14vXdP e_fq7 H_6EGz W_dbGOz",value:"p_a T_0 H_6D6F s_6Nds e_fq7 q_Z22jis8 D_F gl_CH N_fq7 lv_ZLoey2",label:"C_52qC A_6DUj u_b i_6Fd5"}},_key:"Z7L78D"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"s_3vhr3 k_w I_52qC D_F el_QDCVj M_1vskfw",messageContainer:"i_6Nds t_l A_6EqO",message:"E_6Eb4",subtitle:"C_Z24Sbth t_l A_6Eb4",cancel:"E_68F4 P_eo6 q_T C_Z2aVTcY A_6EqO y_Z2hYGcu b_0 r_P",bar:"Y_6Eb4"}},_key:"14m9WK"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F o_h",label:"D_X o_h J_x G_e",count:"X_fq7 D_F en_0",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg"},isCenterJustified:{container:"gl_C"}},_key:"1Qfe0A"}},function(e,t,s){"use strict";e.exports={className:{default:{notificationTitle:"t_CS A_6EWk C_Z281SGl u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO",button:"C_Z2aVTcY A_6EqO"}},_key:"1zb16t"}},function(e,t,s){"use strict";e.exports={className:{default:{settings:"C_Z2aVTcY r_P"}},_key:"62EcE"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"C_Z2aVTcY Q_dRA u_e69 r_P",leftAlign:"t_l",errorWrapper:"t_l",errorHeader:"u_e69 U_eo6",errorBody:"A_6EqO i_6Fd5",restoreWrapper:"P_ZuGzVr",lineText:"N_6Fd5",option:"r_P",lightLink:"C_Z2aVTcY r_P"}},_key:"Z1DxJc6"}},function(e,t,s){"use strict";e.exports={className:{default:{listItem:"D_F r_P ab_C P_6Eb4 gl_ZEO9jm m_Z12nDQf m8_n",accountInfo:"Q_6Fd5 D_F ek_BB",accountName:"M_0 i_d3a o_h J_x G_e C_Z281SGl u_e69",accountStatus:"Q_A A_6EqO C_Z2aVTcY t_r",accountStatusInfo:"A_6EqO C_Z1YRXYn D_F i_6EGz Y_eo6"}},_key:"Z2blqBJ"}},function(e,t,s){"use strict";e.exports={className:{default:{avatar:"en_0 M_3gIMd W_6UbO H_6UbO e_dRA ba_6UbO aw_1zc1KJ az_DW ay_22lW9e"},"accountType-yahoo":{avatar:"ay_Z1yLEkG"},"accountType-google":{avatar:"ay_I2Vyf"},"accountType-aol":{avatar:"ay_22iLrE"},"accountType-outlook":{avatar:"ay_22igsa"},"accountType-googleapp":{avatar:"ay_22hKsF"},"accountType-yahoosb":{avatar:"ay_I2qyK"},"accountType-verizonmedia":{avatar:"ay_22Hk7F"},"accountType-office365":{avatar:"ay_22KuOf"},"accountType-Facebook":{avatar:"ay_22mRHn"},"accountType-LinkedIn":{avatar:"ay_22q8OM"},"accountType-Twitter":{avatar:"ay_22qDOh"},"accountType-gdrive":{avatar:"ay_22D8r7"},"accountType-dropbox":{avatar:"ay_22Goyw"}},_key:"ePYyj"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"C_Z2aVTcY A_6EWk"}},_key:"1iekj1"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"C_Z2aVTcY r_P"}},_key:"62EcE"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"C_Z2aVTcY r_P"}},_key:"62EcE"}},function(e,t,s){"use strict";e.exports={className:{default:{grayOverlay:"p_f T_0 R_0 B_0 L_0 Z_3mRud I_Zjpytw D_F ab_C gl_C",container:"j_1doAr4 ir3_0"},"kind-LIGHT":{grayOverlay:"I_ZS20V7"},hideShadow:{container:"j_n"}},_key:"ZrKsXm"}},function(e,t,s){"use strict";e.exports={className:{default:{mainBody:"H_6D6F W_6D6F p_R bo_BA cf_0",headerContainer:"H_7zJd cZR3vv9_7ceA P_0",leftRailContainer:"I_ZnIF8Y x_Z14vXdP cZR3vvd_n V_GM W_3o4BO s_3o4BO P_0",contentContainer:"W_6D6F je_6LEV V_GM",rightRailContainer:"I_ZnIF8Y n_Z14vXdP V_GM P_0 a_3vpWV s_3o4BO cZR3vvd_n"}},_key:"1twphr"}},function(e){e.exports=JSON.parse('{"a":"https://s.yimg.com/nq/nr/"}')},function(e){e.exports=JSON.parse('{"/img/account_providers_icons_1x.png":"/img/account_providers_icons_1x_P55HbPmKaxXqJHrG4Xnfltczyl3n9P_NKsTlePYd0FA_v1.png","/img/account_providers_icons_2x.png":"/img/account_providers_icons_2x_lK194L8OJPZoz9BnTlusq9T6l5hPDxJBjRw9wJuoyyo_v1.png","/img/account_sources_1x.png":"/img/account_sources_1x_-HDux7J7L_BPmj5OEG8SBOA6sRe0Gi8_X_ZvFVYgkq8_v1.png","/img/account_sources.png":"/img/account_sources_yLP-ZtO9UJGe8JShBCwpJp_TSS7sKdQm2_rmryK8dGU_v1.png","/img/accounts.png":"/img/accounts_L-_z68mCqroMbjcHYKiaK27J4YKvK_uI2Kpdrrfe_PQ_v1.png","/img/ad_format_selection_ad_free_icn_selected.png":"/img/ad_format_selection_ad_free_icn_selected_cAkCt3qWooe-7yZoUKI8PCirfKtnxf0ePYCM5f8Zh_o_v1.png","/img/ad_format_selection_ad_free_icn.png":"/img/ad_format_selection_ad_free_icn_xJgifkfgc2TaNY8DwvySW_5gKmAWQjpuwxroLPOmb0U_v1.png","/img/ad_format_selection_ad_free_phone.png":"/img/ad_format_selection_ad_free_phone_vnPmS_FOiLeOYpOS292F6kTQt2Wr0uwcIDs4qwhzUqA_v1.png","/img/ad_format_selection_pencil_ad_icn_selected.png":"/img/ad_format_selection_pencil_ad_icn_selected_FOaFMNvONpzqoU83iK1sLUX3h48d0_Jb_UvfakXN6MY_v1.png","/img/ad_format_selection_pencil_ad_icn.png":"/img/ad_format_selection_pencil_ad_icn_5m1aZM3JxGPyLzPdWsZi0lnukIMPXnJqOHKcvzPmzZg_v1.png","/img/ad_format_selection_pencil_ad_phone.png":"/img/ad_format_selection_pencil_ad_phone_OrPggjR5IWDrust6y-iGO0F2n_Ni0osdSeIvjBoCKyA_v1.png","/img/ad_format_selection_sm_icn_selected.png":"/img/ad_format_selection_sm_icn_selected_Y2mBRETlSBrnqGtfKoZWJ1bJZLp9t6g_LhZjWmwWFio_v1.png","/img/ad_format_selection_sm_icn.png":"/img/ad_format_selection_sm_icn_OJULoVdzzUYWCjl2vtRhXiSLHAHB_P8dlWQ7zj1Ieyc_v1.png","/img/ad_format_selection_sm_phone.png":"/img/ad_format_selection_sm_phone_sJ5aDcf5O0SOHrlaQQC5sGKd6WH1EMd5nJ_xMib06-M_v1.png","/img/adblock_delay_dismiss_cue_1.png":"/img/adblock_delay_dismiss_cue_1_KTnZ0gAX7qnsGEyLBlAdRLXD9vAagdWbXls4LKlExV4_v1.png","/img/adblock_delay_dismiss_cue_2.png":"/img/adblock_delay_dismiss_cue_2_yrmnHStVSEZP-Ytzt76hxpfGorSUu-xwE8XwHt6jgVs_v1.png","/img/adblock_delay_dismiss_cue_3.png":"/img/adblock_delay_dismiss_cue_3_e7aMYR94SIPSf66GDRUwYbwWJ-IP6Auz8KYcRwjweYc_v1.png","/img/adblock_delay_dismiss_cue_4.png":"/img/adblock_delay_dismiss_cue_4_cS8RheCgsgnUvQ-BY74Hkvjep4eeFBP8x9D_FdoO2Tg_v1.png","/img/adblock_to_nodin_thinking_face.png":"/img/adblock_to_nodin_thinking_face_YWojEXZctTDQJFxJ0dWa4RYiTNhszrAHV3QYr85ZA0A_v1.png","/img/adblock_upsell_bg.png":"/img/adblock_upsell_bg_12X6_o5QsEIV8YtJ9LaOTj6QCO5VQsFwE9SpsSwGt0s_v1.png","/img/adblock_upsell_emoji_v6_1.png":"/img/adblock_upsell_emoji_v6_1_WLyG3xq9nUEeYUAO3nHE1HbpGYkYOrls_l6d3ABQhQg_v1.png","/img/adblock_upsell_emoji_v6_2.png":"/img/adblock_upsell_emoji_v6_2_oIbeGmDMW6y0cAY383TFMJGTekTIKX_6-FoNLFXWnOo_v1.png","/img/adblock_upsell_emoji_v6_step2.png":"/img/adblock_upsell_emoji_v6_step2_CkWQC1YyUboA1Vc6znEatePSU1AK-44zh3OId-v6ZMA_v1.png","/img/adblock_upsell_emoji.png":"/img/adblock_upsell_emoji__RN9CckfFUsO25Eoe41pWyaI4XEMQYxoXNoAT-3DClw_v1.png","/img/adblocker_examples.png":"/img/adblocker_examples_Gm43DPM3v7nk5o1DOGIybbpPMchwyHxLYrFkxMha-xI_v1.png","/img/add_attachment.png":"/img/add_attachment_u75UAvZOpB8-pHAzxl4Hwy_UgVgyBLyd7tVEbdyYXPY_v1.png","/img/add_coupon_icon.png":"/img/add_coupon_icon_oJMT2lEm0FLSGTKG-wOr7J7pk46sXXwXvJGIYof50Ck_v1.png","/img/android_app_icon_1x.png":"/img/android_app_icon_1x_kvYuJz0HSrXDD0reCa7g48oAR2XdIXEjyKXIebkRZoE_v1.png","/img/android_app_icon_2x.png":"/img/android_app_icon_2x_SkjN9zSMrr6mk53tl379Hysghhj7huF9M5iyjTXMsRg_v1.png","/img/android_app_icon_s_1x.png":"/img/android_app_icon_s_1x_RVBMdv-S7MVEKPjMCU6EVmaSLKb7AtD9nY8eAJuj6OI_v1.png","/img/android_app_icon_s_2x.png":"/img/android_app_icon_s_2x_7edk0637eozP70MsbZFrC7C9l_upRhSWga2MFu6uG-c_v1.png","/img/android_app_icon_s_3x.png":"/img/android_app_icon_s_3x_XI5C3SLvyagyh4_rfXMzV2FqkPImMpmr0XMYHwyQ3jw_v1.png","/img/animation_adblocker.gif":"/img/animation_adblocker_NIgF4WhSu0T_-fDRRiF79muqQYtROpDz46TMcOyi-xY_v1.gif","/img/aol_home_screen_120.png":"/img/aol_home_screen_120_dFXUY07pCDtM8o8xrChSMevSnyL8ZlykJNoeMAOJCqU_v1.png","/img/aol_home_screen_152.png":"/img/aol_home_screen_152_2YHnQoHMCEJO8UJwQWhoa5uheQggDHbSi8WO5okY-2w_v1.png","/img/aol_home_screen_167.png":"/img/aol_home_screen_167_9hrSMAvt--LJh1ZVcNvk-o_DJAovQ-g18svJTwbPnwM_v1.png","/img/aol_home_screen_180.png":"/img/aol_home_screen_180_zpaugB9yJ_BsEPhmP8u5g3TNPmOK3FmxGumIrX_xfv8_v1.png","/img/aol_home_screen_192.png":"/img/aol_home_screen_192_IS67VKNPSTN615mRi4LqIgOIBEMGd3NlofnMJ3vtGT4_v1.png","/img/aol_home_screen_512.png":"/img/aol_home_screen_512_cc5cZovhJTpS-k5FQOFg3zJTQJkU65w9LjXXTB5IS9Q_v1.png","/img/aol_logo_gen_light_2x.png":"/img/aol_logo_gen_light_2x_h8jS_Xa4LAS-avdJbzuhl13BDSLV-LNTrRqqrYWzGNg_v1.png","/img/aol_logo_gen_light.png":"/img/aol_logo_gen_light_X9Yomrk10QS5SpdTd3awn6ZYATVvHG-qtR8hr8vKZws_v1.png","/img/aol_mail_favicon_2x.png":"/img/aol_mail_favicon_2x_Ro_28NZ_ZgXkUkxfjSvarAK58FHZQ_CLrBn6iPGbpA0_v1.png","/img/aol_mail_favicon_alert_2x.png":"/img/aol_mail_favicon_alert_2x_7MBzPhAcsuLiJu23GEksdxnS5nIKBTSrqAYkx0pVn8c_v1.png","/img/aol_upsell_landscape.png":"/img/aol_upsell_landscape_QpBB9Q3imMGGkmQ06qfLkawUzZXEi7UvDJmr0kpYbt0_v1.png","/img/aol_upsell_portrait.png":"/img/aol_upsell_portrait_r3T1hGnS7La7BdSEkMmKMhOdzfApDjjsAyyGs-snEOo_v1.png","/img/app_store_badge.png":"/img/app_store_badge_UUkgVHQG_vQM2lkoMq1XrtTpKuQGXbE48ZcbvHJ2rNI_v1.png","/img/att_favicon_alert.png":"/img/att_favicon_alert_K5xl-L-VkiWOMvzF_xigDnCZUnrNsH26xc7bUwDVLwM_v1.png","/img/att_favicon.png":"/img/att_favicon_gi1vgAOE8lI8G5D1GuSLqQGOQCt2Y007kTogOfsf_IQ_v1.png","/img/basic_mail_icon_sprite_1x.png":"/img/basic_mail_icon_sprite_1x_pEUylq5lXVybjptwSYx_bnjGM7FvA_6pIbhO0unQvtA_v1.png","/img/basic_mail_icon_sprite_2x.png":"/img/basic_mail_icon_sprite_2x_ksOoPQAdWKyHEJeM8_8TSIm6h1sJe86zGRcaAPAzKQk_v1.png","/img/basic_mail_icons.gif":"/img/basic_mail_icons_pFxl4r6Mm2p0KujnMDsGCcMQZIAzGcNN7za3ERSmke4_v1.gif","/img/basic_mail_separator.png":"/img/basic_mail_separator_sgqD13JMoOzXNob0hUwy32fxlR4sxwsSFAWPAZ2LxQ8_v1.png","/img/basic_mail_welcome.png":"/img/basic_mail_welcome_Q_540SWloywy4qAmkCWWUscHAx90KQx9U56pKv1PkzQ_v1.png","/img/basic_mobile_spritesheet_2x.png":"/img/basic_mobile_spritesheet_2x_ySPR1yChLCHrofDdH9BYsfpoMfT66Vmvw16I3_zj624_v1.png","/img/basic_mobile_spritesheet.png":"/img/basic_mobile_spritesheet_C1fl5iH6PzE0gDD51RRnDrPx5l3bgJup64px-OaEZHw_v1.png","/img/blue_line.png":"/img/blue_line_FH-IiGtpw5UXUz94M3RYb_HIpRAmW6pPb7A7c3xbVw0_v1.png","/img/bluetruck_illustration.png":"/img/bluetruck_illustration_j1sDrGqRrbob36TxRcQOCMeO2uj5iqX8BXr0DLG6Pik_v1.png","/img/browser_icons.png":"/img/browser_icons_MxiPsV3tT2LQIJebXfJ0G3T5dzweSnKI8Ig-ysWMFCY_v1.png","/img/cart.png":"/img/cart_JecvSf02NEYZb7CrY248pU4oSS9m5MfTFo3C6HN4gSI_v1.png","/img/categorization.png":"/img/categorization_Q2FSNpKG_zPhir0qYPT-b5Vbpdxn3CoNBUoyPAgN1VM_v1.png","/img/check_blue.png":"/img/check_blue_ZeS7cGOKhyFw6NLboKHed6VhUgeG_5v1I0xs0O0ak3w_v1.png","/img/chevron.png":"/img/chevron_AEz0c5ow2IdKb1orLcJwiFIKCNSyk701bQSICVHpkPE_v1.png","/img/chrome_icn_1x.png":"/img/chrome_icn_1x_j5FlA393X9jvFJ-2fPPaUZ4ngJQBRd4xVS5niVF9QNs_v1.png","/img/chrome_icn_2x.png":"/img/chrome_icn_2x_O9_N6TC5H74Ptto8BBNfqR-Abp5w79ZNodmp5UomZB4_v1.png","/img/cloud_storage_empty_results_2x.png":"/img/cloud_storage_empty_results_2x_SItvCyvOD9HIIiUQ-y3qn60IbMMQZJjPij_ZwLZkWzs_v1.png","/img/cloud_storage_empty_results.png":"/img/cloud_storage_empty_results_zF-pwcktCqoCz4u9vDWMMviMV5Dgfwq99rwkgLUEglA_v1.png","/img/compose_thumbnail.png":"/img/compose_thumbnail_-9IZZa2ABYGc74lvACeTGVgC8VdsKMBM677XjEf9IZM_v1.png","/img/coupon_clipper_onboarding.png":"/img/coupon_clipper_onboarding_CTMmi4bpY_zOpprvSmW2nyd4eoHSL-xIlOJBzVJpXfQ_v1.png","/img/coupon_emptystate_dark.png":"/img/coupon_emptystate_dark_MV-I0e5ez3O4z20-I4MyakXKRDf1NN3VDAswDzcI--Q_v1.png","/img/coupon_emptystate_light.png":"/img/coupon_emptystate_light_qRz70BG0K5hC4SkEctOn4Ca46bZSexD41QtL4nOtS2Q_v1.png","/img/coupons_view_cue.png":"/img/coupons_view_cue_K_c6zOopIo3mveO9vd9XIKmfTMNHOxC_DUhOYUmjQmU_v1.png","/img/deal_image_placeholder.png":"/img/deal_image_placeholder_SWiXZcx1WvrWnGuvXuk7reZqlqHBreEfkM7GXRhQJe4_v1.png","/img/desktop_notification_icon_1x.png":"/img/desktop_notification_icon_1x_Rv5kxcMX3RU_DNsJYpm5m6dyrCYjS9ne2Z_rh7cPayk_v1.png","/img/dialogue_cue_2x.png":"/img/dialogue_cue_2x_YSUyhDQHt9x9cuiApC4-ggaEzfFctQGG9S2uYfSVFlA_v1.png","/img/dialogue_cue.png":"/img/dialogue_cue_RyHGRz4uVmV5wf4znQid_fVuf37TuSd0d6QdiDu2RWc_v1.png","/img/dropbox.png":"/img/dropbox_aIpQqzKKGLrC4CKw4luAu-f_hELsUqyse0E89s_M9-Q_v1.png","/img/edge_upsell_1x.png":"/img/edge_upsell_1x_6Tkb_bB9cIKh2xFItll6fLZKWBPYqWjFELJluR0w2xA_v1.png","/img/edge_upsell_2x.png":"/img/edge_upsell_2x_5JmemsSUg845AvJfVhS4hyLLbWWeeCBcQdOoUoG4udE_v1.png","/img/email_organize.jpg":"/img/email_organize_5scdI12Xm11dQJepp-oEg5OfK8OPaqZ21D8XCvimHho_v1.jpg","/img/emoji_cue_bg.png":"/img/emoji_cue_bg_EoRUx_k2jhydCT4smgcz4l_6J2nQGJX-UX-bWI-2Mlo_v1.png","/img/empty_sent_2x.png":"/img/empty_sent_2x_vPnx4_FfjNrbKCAq14H4kw0VxlKJZLPUUUNpx2KZEIQ_v1.png","/img/empty_sent_3x.png":"/img/empty_sent_3x_ARBkm2UVaY_IjZJv455ZF_N6Q1LptdddBZOX4jLyJWU_v1.png","/img/empty_sent.png":"/img/empty_sent_k6QpkysNPMLruhILw9QGDYVqTHNATX34qMum7cxBzCI_v1.png","/img/empty_shopping_cart.png":"/img/empty_shopping_cart_jMfOHvh8CSz-xDCgUUkearBjhPnm-ZraS2j17KF6ihk_v1.png","/img/empty_shopping_list.png":"/img/empty_shopping_list_h6AA-87EmfhrrosVoyRid8Xh1sLVFW9oAyMBG3dPKBY_v1.png","/img/error_state_1x.png":"/img/error_state_1x_tisd6sOrTP-82CrgzvPzgBjRMB8qgTcH1VVibjHum38_v1.png","/img/error_tos.png":"/img/error_tos_ZZEPtDeR0Yu4bhgIuRmdGSkrCn3YVKFacFGbU64k9CE_v1.png","/img/favicon_alert.ico":"/img/favicon_alert_0wlMxfwHpReP5CbxNQJ83MuDlzpmdOmDKfB3x5Cfm-I_v1.ico","/img/favicon.ico":"/img/favicon_kJCAOFliMOfdwulmDAg-b-Rr1cVzRHU8pkXZ517KhvQ_v1.ico","/img/fbbot_cue.png":"/img/fbbot_cue_iRMNoG7G-QuLMvKoESzciXtjNT7ICtyN-GbGZCWgYaA_v1.png","/img/festive_graphic.png":"/img/festive_graphic_wSa49cXEBVS7GUX9z7na4ckVXrblcJ285VKsT0-QD1g_v1.png","/img/filters.png":"/img/filters_TnezpNlnbcdX-3CU95u_kFnmzIv4QRA1ZvNIgUoTCiI_v1.png","/img/finish_onboarding_illustration_2x.png":"/img/finish_onboarding_illustration_2x_nr8Gs7A9PuxEolQRlLSZG_3V0L6vHBI9nVQlXbfaLNU_v1.png","/img/finish_onboarding_illustration_3x.png":"/img/finish_onboarding_illustration_3x_jiscobw3pM1CMoSd2sxa1WTDF95zgb7GmDv6xOZGBYs_v1.png","/img/firefox_logo_1x.png":"/img/firefox_logo_1x_pyA91ETorZddRdAE4w2ysHbXA4gvQ9Kq1hqu5gBLaZo_v1.png","/img/firefox_logo_2x.png":"/img/firefox_logo_2x_NC3wpx5T6ysE0hYwWF9XHgpZr4ujfJ2quB6L5o9hh0U_v1.png","/img/flights_past.png":"/img/flights_past_CyNOwQcYOblw9QRvLSGaPDdPVk1iWUcTxWuHt3oziTg_v1.png","/img/flights_upcoming.png":"/img/flights_upcoming_R8edXrCDfEVaEjXtFtmDvo_S-hM43wj0DaVk8W6oQm0_v1.png","/img/folder_success.png":"/img/folder_success_89SwqSONj6MkPwOIMJ_8QSMFWbhYtreOQEEV8hsClnQ_v1.png","/img/frontier_logo_1x.png":"/img/frontier_logo_1x_Z3YJimz_C2a_-hRCaEXj9I6Q9-jVBpufxXhpmCBA2fk_v1.png","/img/frontier_logo_2x.png":"/img/frontier_logo_2x_-ugGTer5hujVznnPeCM8rMPHyXyGFCssO0ltK14dm9c_v1.png","/img/fuji_icons.min.svg":"/img/fuji_icons.min_Nulj5Y05s3AMQTYWlTeGJ05OXkugsLh_0jT6lkPkqRY_v1.svg","/img/gemini_pencil_play.gif":"/img/gemini_pencil_play_pdwmjGHmvlpMSzkHguvmlUhaYaTlUUF8FGUECUSHpww_v1.gif","/img/gemini_pencil_play.png":"/img/gemini_pencil_play_LEUjFFdlfoXu1AtRyMXjFNHYH-ma_MEiSbW7VHddqhU_v1.png","/img/generic_browser_1x.png":"/img/generic_browser_1x_nKwdTNS0YRIa8SR6t9Ed0gkqQ4IQ_WeL5734HOvUnhs_v1.png","/img/generic_browser_2x.png":"/img/generic_browser_2x_5zKlmnrVVc0c_D9HlDjTtYlU1Qp7iM_kciuqbvOW-Ig_v1.png","/img/google_drive.png":"/img/google_drive_yLGuM24tLOKhKFFUDZNZsx_IJMtmH_leguJGlg51kI4_v1.png","/img/google_play_badge.png":"/img/google_play_badge_eEeCt-CKpzY8NIFDJKN4v01DJj45lsoutq0WDgrPotI_v1.png","/img/grey_line.png":"/img/grey_line_Q92ZLQPI9He5PCSC-23ANQ5IkEFfkBsYFQqV41ST0UU_v1.png","/img/grocery_background.png":"/img/grocery_background_4aEUnIn5zWcvyr5UKvXZvZJ8otBQEvSBpn0_59mrQkA_v1.png","/img/grocery_empty_state.png":"/img/grocery_empty_state_n4oc9efbuMAV3f2S-0FKOymiFAnqzf5gJpxBivHpD8I_v1.png","/img/grocery.png":"/img/grocery_3QydzQuef8Bp9wkr5WgiuNqwkAuNdYs3hUH2bnbofKo_v1.png","/img/holiday_card_upsell.png":"/img/holiday_card_upsell_FyXBeDc4N2ywlpLGk_JdaI5S85CVbVYuNBrLyqKwnOY_v1.png","/img/home_screen_3g_android_192.png":"/img/home_screen_3g_android_192_pNyMul6a-tp_Bsa3oJdJKhj3Yh6Gd76rDBri0R5ZkZA_v1.png","/img/home_screen_3g_android_512.png":"/img/home_screen_3g_android_512_WBbcBgDUt5CXfEtLs8ZnkscNtEn9sX-nwLb7uZW7fe4_v1.png","/img/home_screen_3g_ios_120.png":"/img/home_screen_3g_ios_120_Su1jpE5yatlevc-68HdApUu_XIY-86IWgJKMQH3m4Wc_v1.png","/img/home_screen_3g_ios_152.png":"/img/home_screen_3g_ios_152_nXICG_VglelSx-HPI6RiCVTygJQ3X1QQyVyor-z5bgU_v1.png","/img/home_screen_3g_ios_167.png":"/img/home_screen_3g_ios_167_rr2F3YvdpjTYjqLGKlv-WfOgOLKsSFgZE_GxS_bSwOs_v1.png","/img/home_screen_3g_ios_180.png":"/img/home_screen_3g_ios_180_MF0E6doar5WJzwy5qgOtSloojsjYXtcEkIOV4lizxsU_v1.png","/img/home_screen_android_192.png":"/img/home_screen_android_192_WmNi3GhPuMwl7j12FdtwEvUi9Pn5G4ChGiD207nj6pQ_v1.png","/img/home_screen_android_512.png":"/img/home_screen_android_512_RwlQw1rkkrOT7SOz_bkHGO-j8otMUWlzNjjhPBUt4m4_v1.png","/img/hotel_search_header.png":"/img/hotel_search_header_YnmEs4MLIgrrsQyCI96cccAux9afLIMLQVTqLClYMlo_v1.png","/img/icon_alert.png":"/img/icon_alert_4edGpSGkF2tW_0NsZphRm0fQQrzluXh2XN1ecBqck5s_v1.png","/img/icon_chrome_extension.png":"/img/icon_chrome_extension_QpU9YJWExetQm45ZnTdvRCgWCD3YZP6CXG_WqbBJSi8_v1.png","/img/icon_chrome1x.png":"/img/icon_chrome1x_Fv_vpVJ_NsCdPw1yb9osg5i9QXdKu_RxNGvhizXEXyo_v1.png","/img/icon_chrome2x.png":"/img/icon_chrome2x_hjPgkXIlrSqgIj1ovLelKZVOnOxE1GIIZHAQQAFRnxc_v1.png","/img/icon_computer_2x.png":"/img/icon_computer_2x_7fsIu292DkoXUco58kN2k0vrIow8_RuJlQ06eVeWQvQ_v1.png","/img/icon_computer.png":"/img/icon_computer_kdnL65qDLOEAbU0YqRHiRc0o2DF5p4KH6hZ9gRpsFgY_v1.png","/img/icon_mail.png":"/img/icon_mail_agvO93tQBLI_iC6kFTtJBDpKWoCqLmGWny_-iBAvKCY_v1.png","/img/illustration_subscription_empty2.png":"/img/illustration_subscription_empty2_yOw7ojA3TTPGD7Ab75NM4osDxt2NH8OhHgTaqdz8NSg_v1.png","/img/landshark_close_v2.png":"/img/landshark_close_v2_AVpjHAHXUZf9Iftyq4LOlEiUeGDcqcAj9ekY4wA0vCA_v1.png","/img/landshark_close.png":"/img/landshark_close_U6n9PguTQSJC6JUn4Xeb37kS3i9F5JPY4cqxNyVf13k_v1.png","/img/landshark_coupon_landscape.png":"/img/landshark_coupon_landscape_IUY4vpgMj3M94eNCUvz-Geu2P0jfy4muZ3vu0bEn3L4_v1.png","/img/landshark_coupon.png":"/img/landshark_coupon_xCiPQNjioqXXhEP--XUqNQmaRnXKcaM3I4ppeimheL0_v1.png","/img/landshark_gifs_landscape.png":"/img/landshark_gifs_landscape_UsqidMIM61Rz57DOoSelqh3cKqW1uHEyeD15pbVdoFE_v1.png","/img/landshark_gifs.png":"/img/landshark_gifs_0o-mZAAl65k460lTg0OPTIIIKk00Y3C_rxHCgUEx_q4_v1.png","/img/landshark_hdpi.png":"/img/landshark_hdpi_7fk92LfKb-uR9EGSkGYi8gigvdVqbesapesjgh-9P0I_v1.png","/img/landshark_illustration.png":"/img/landshark_illustration_HvskHpV7VxgzXFqLDwimNBXgoK6JwbGwIM8ljxFlpqY_v1.png","/img/landshark_logo.png":"/img/landshark_logo_ZPJ6baci-MAJ7giw7JGDOC0XVTQIQso1QYgaguvEbw0_v1.png","/img/landshark_mdpi.png":"/img/landshark_mdpi_cO7tb3ckE9-6CAfuomII843yTlcoV-zoIXM5kV5lqlM_v1.png","/img/landshark_notification_landscape.png":"/img/landshark_notification_landscape_TZSCkIr43lJgLFoIvW1Ai7J4ngLEp1CZIUpNtZZ68YY_v1.png","/img/landshark_notification.png":"/img/landshark_notification_4gJ2uhvK7pc7PWRRMfyVC3geFK2iiGXHLcUpHY6RL8I_v1.png","/img/landshark_star_rating.png":"/img/landshark_star_rating_eCQB0KVowZc7vIwHooY2izBCqwVIUU4lkJDmFNEbL4c_v1.png","/img/landshark_tablet.png":"/img/landshark_tablet_iAeyOp29j12mrXba0MvC5i1h_g8l1kqGvBM3EBmekTc_v1.png","/img/landshark_yahoo_app.png":"/img/landshark_yahoo_app_D6V0n59sXZhztrL6xusFx0M2Wz9CHRwrZN2V01ku97g_v1.png","/img/lastpass_passwordsecurity_1x.png":"/img/lastpass_passwordsecurity_1x_7f29Scixf08nUdIo2m_vHgqRN_CagUe-01S-HZin-2Q_v1.png","/img/lastpass_passwordsecurity_2x.png":"/img/lastpass_passwordsecurity_2x_d4sQQYfBjFjAREmL2DCfwKfE7RmEGgDnIjkKcsZGlbA_v1.png","/img/lastpass_tom_gradient_1x.png":"/img/lastpass_tom_gradient_1x_NjH9p79DvDUAfjrLGFEcGaiMxeD9nidVABgJdxXnZQg_v1.png","/img/lastpass_tom_gradient_2x.png":"/img/lastpass_tom_gradient_2x_SCAAsKUBBnN_xyDRJqXWNIYer1zHFf9U0nqGsJi9QwI_v1.png","/img/lighthouse_bg_pattern.jpg":"/img/lighthouse_bg_pattern_ztkAS-ksPw41w2XtQfkua5BS3KnN7Sr_Zf58mtKfdH0_v1.jpg","/img/lighthouse.jpg":"/img/lighthouse_QHz_yfrI7m-_9RFVJwDsYfkszSU7xP8KU9A6jdIewUI_v1.jpg","/img/logo_bookingcom.png":"/img/logo_bookingcom_3fXMQKd-syYOHXseyAGh5Cxp--1oIxNH1IbswhITWto_v1.png","/img/logo_lastpass_1x.png":"/img/logo_lastpass_1x_kSfxZ1eQnQgJ4oliptgFp63tCgHgbi1bAVnFFkRfeas_v1.png","/img/logo_lastpass_2x.png":"/img/logo_lastpass_2x_Qu-L-rNdd3tGdSB5QDKsd4By0GZg5Jdv21WSKBJmgwY_v1.png","/img/logo_rakuten_2x.png":"/img/logo_rakuten_2x_54ERFkg8bo32fpabdsQcFk3pmG93seinN1gZ1V3fHLg_v1.png","/img/logo_yahoo_192x192.png":"/img/logo_yahoo_192x192_hEvRfzj-2d0PSvp8Z90y8JbQpKz6itwT1i7wiKCqMfI_v1.png","/img/logo_yahoo_shopping_2x.png":"/img/logo_yahoo_shopping_2x_TbHLD457Eyx5dKFAb8eT63dpbtZ-WINh_xIMWhRKg8A_v1.png","/img/logo_yahoo.png":"/img/logo_yahoo_IIczsErxd2kV7JRfTcBc5G--odfz-V0QHj4u-Rbomqo_v1.png","/img/mail_att_logo_2x.png":"/img/mail_att_logo_2x_4phRzWyGvY0YiZhEUAgQ6gvaYL4PhfzTWonUDWvMLWE_v1.png","/img/mail_att_logo_3x.png":"/img/mail_att_logo_3x_TAtR8Px0Jynztua2PpgnygV2Tl3CSvCrwdy8gS_pHAg_v1.png","/img/mail_att_logo.png":"/img/mail_att_logo_qMQuvmRmZI34fSPc0u2rDdROddX4pyl79occ0PMgFzY_v1.png","/img/mail_logo_1_2x.png":"/img/mail_logo_1_2x_cI-LVH1V6LHXXOi_TWx_Oh90XmZEWz36itW2696MBcE_v1.png","/img/mail_logo_1.png":"/img/mail_logo_1_6rp14Eq0ghZ6Xp74QbDJPoTCZWbkSYFZXuKs4MZzWBY_v1.png","/img/mail_onboarding.jpg":"/img/mail_onboarding_H2y-4VyKIfg7TFAcXHaTDGwR7e-ELglSxBXEsumxATg_v1.jpg","/img/mail_pro_badge.png":"/img/mail_pro_badge_NrUi0sGCJWE0wgTFnqzO23uJ4HGDDYsjNmXj2aC6Mng_v1.png","/img/mail_pro_english_white_1x.png":"/img/mail_pro_english_white_1x_WUNxvidc9LzdwXv3_vWyW5L6-jkExsAZu6qw6efCkUo_v1.png","/img/mail_pro_english_white_2x.png":"/img/mail_pro_english_white_2x_80gnz2BoTdAq8UGtEr4U_vWoMBNdx8FpXt2JmCyaDxY_v1.png","/img/mail_pro_nomoreads.png":"/img/mail_pro_nomoreads_JtLCPQzd3c2Zq08TveJ-dVNFwwvwD0448HyGLlZJCQA_v1.png","/img/mail_pro_support.png":"/img/mail_pro_support_KXmRVCtT1Z3BqDQVmdn0dLzK-bK-jmqyn77wKirHUb0_v1.png","/img/mailpro_upsell_desktop_mobile_1x.png":"/img/mailpro_upsell_desktop_mobile_1x_aE2xc7v1GKr_-ZV9FqW1vYzfcPxPV84hdd7cAF7S13w_v1.png","/img/mailpro_upsell_desktop_mobile_2x.png":"/img/mailpro_upsell_desktop_mobile_2x_V8nUTK4RdR5YVu6lqdO7XavVimEf4Yb8fcOffQz0jw8_v1.png","/img/mobile_imapin_syncing2x.png":"/img/mobile_imapin_syncing2x_bR5jwHJmxnzVRM6crTPSMLwidYJrYklIvL0WgfwgyDk_v1.png","/img/mobile_imapin_syncing3x.png":"/img/mobile_imapin_syncing3x_EvUxeAl22qh8gCGt_eF7Vv4sqYdCF2n5sYqC1yiDjKI_v1.png","/img/mobile_onboarding_bg_stars.png":"/img/mobile_onboarding_bg_stars_2xtX--sp4HiXM07aDv5vJzq4Z4NLoHkomqwYTvGIL6E_v1.png","/img/mobile_onboarding_compose_1x.png":"/img/mobile_onboarding_compose_1x_EjXTOuob_fCSZKSuxVKCwLcIvPvNUO2Ipehv0zGXJms_v1.png","/img/mobile_onboarding_compose.png":"/img/mobile_onboarding_compose_4cLl3zmICSTH4jXPKGuaorbkspizbmyyKnuww-O-k_M_v1.png","/img/mobile_onboarding_done_1x.png":"/img/mobile_onboarding_done_1x_-uT47Q-NyTBIDun_8Vxd_mJuUMFYfwyUtb4FSKXGFxs_v1.png","/img/mobile_onboarding_done.png":"/img/mobile_onboarding_done_51DgbPijW21w4kp2DGEyybzpRj18zqQZlcLiNQgbpGc_v1.png","/img/mobile_onboarding_folder_list_1x.png":"/img/mobile_onboarding_folder_list_1x_5mISHId2VFJtAW0J3Z11pELS27ntHFPwhpTZQhc0p8M_v1.png","/img/mobile_onboarding_folder_list.png":"/img/mobile_onboarding_folder_list_KDzTo2WrNpKAoJ1IfIWIc0cKTxSBOfLG_Zt6-77MvT4_v1.png","/img/mobile_onboarding_mail_orb_2x.png":"/img/mobile_onboarding_mail_orb_2x_cZXn_8B7iUCCtthwU6aUO1LGJP6SQAXHtAJr5xYcbkw_v1.png","/img/mobile_onboarding_notifications_1x.png":"/img/mobile_onboarding_notifications_1x_tcOMKUUj9a869erJFK73rC2aKDi56ZBNBSeGCfNuLRg_v1.png","/img/mobile_onboarding_notifications.png":"/img/mobile_onboarding_notifications_dyJva6mgEkiSo3mV_ORq6MWcAy40D1S3jGkQAX1ukzg_v1.png","/img/mobile_onboarding_swiping_1x.png":"/img/mobile_onboarding_swiping_1x_CGBS2Eu0kGslSZGZ3CdoGPvDHJD7GnHgU7sQsIQxOAc_v1.png","/img/mobile_onboarding_swiping.png":"/img/mobile_onboarding_swiping_wfTs4-ZA0haWoVsxhZalDBKadur2AH8M0IQg-gxMVHw_v1.png","/img/mobile_onboarding_welcome.png":"/img/mobile_onboarding_welcome_hrXVlNEoojUB8p5CUZVCKBL0yHgbDr3SpxSQsD1Gz48_v1.png","/img/mobile_welcome_illustration_1x.png":"/img/mobile_welcome_illustration_1x_hKLG47N4DC6tc_caZcFDTalaaYx-dczDy1Es55sYVpk_v1.png","/img/mobile_welcome_illustration_2x.png":"/img/mobile_welcome_illustration_2x_ZH21RSmQVf2hCoJh5UtDaT9Lft5kR2BB7x4oISThNzY_v1.png","/img/moms_day_upsell.jpg":"/img/moms_day_upsell_lZzde7TsuXmCSzsh7QkZd7cvcRB04nL3KkEBn5XfAwE_v1.jpg","/img/money_envelope_and_cc_illustration_2x.png":"/img/money_envelope_and_cc_illustration_2x_jYhpvA0XTaCYaCv_buwfoo5jxU65DiEdtGZioQch5TU_v1.png","/img/new_mail_logo_2x.png":"/img/new_mail_logo_2x_gRbGANwYKnc_6i_TcodYanlu_fDW6LN69QPgVPanaW4_v1.png","/img/new_mail_logo_3x.png":"/img/new_mail_logo_3x_DldeomHszDuOvOg4xqUSpOVglp36f79CLfaFGUwASBE_v1.png","/img/new_mail_logo.png":"/img/new_mail_logo_4tsCfiVuKTClQiNqaPVlWmZu-PLOwfqao407_tlZcYQ_v1.png","/img/night_landscape.jpg":"/img/night_landscape_RmgCx0busQQvPT6gcOioVLmHQzE8cIGe6KMbjMrapd4_v1.jpg","/img/norrin_qr_code_pkg_tom.png":"/img/norrin_qr_code_pkg_tom_5PCdCh0CIiYrUnB3Z5uqJbMtJm3n7yd0si2ruDz8660_v1.png","/img/notification.gif":"/img/notification_8ummoUHNrtoF3aD2Wd0oqTS_Dus72CjCcHI85gHXwuE_v1.gif","/img/offers_empty_state.png":"/img/offers_empty_state_4s26_XJ2bjrOtWp2eNhzwZFTpMrB1zwc_HpQWrArSrM_v1.png","/img/offline_state_2x.png":"/img/offline_state_2x_9FQD-hujtkTiGBWwslG_vZQCzzh3DmWupVjxo0gBm2c_v1.png","/img/onboarding_xavatar_2x.png":"/img/onboarding_xavatar_2x_kqJ9gXMkMSOCwjJbUib4VZtw60wZBtLzwnc3nqEXxhA_v1.png","/img/opt_out_bg.png":"/img/opt_out_bg_12X6_o5QsEIV8YtJ9LaOTj6QCO5VQsFwE9SpsSwGt0s_v1.png","/img/opt_out_chick.png":"/img/opt_out_chick_19-2UiC0zCNqBcG-7893BksAaFr6Hgiy2qQRl7SeCCQ_v1.png","/img/opt_out_sad.png":"/img/opt_out_sad_UEOTKHFgcGj2TaO2pJAg--2tkvcDi9v5f3UY2vVwej0_v1.png","/img/orbs_2x.png":"/img/orbs_2x__3wN6n_Ec-A5eMSImfVUOs8TG0HfcSDhe9s9X6wlIOw_v1.png","/img/package_truck.png":"/img/package_truck_QAGQU4xoo9O_dPGOPyKMnkh_t0q5rY20xje5nIMRSao_v1.png","/img/people_smartview_cue_2x.gif":"/img/people_smartview_cue_2x_7ueDfVh5mSNCjryTC2JWQKYuKwL4BDLXB2LYQvLYZrE_v1.gif","/img/people_smartview_cue.gif":"/img/people_smartview_cue_DQ836vzxrBbNjdRYDtOVLLzA_hwOTWbP4pUII33CJ5s_v1.gif","/img/personalize_inbox.jpg":"/img/personalize_inbox_rGvBu2IRvucOay8ynNI_n3eVPjwLEKim12ZKUL9mqDc_v1.jpg","/img/portrait_ad_overlay.svg":"/img/portrait_ad_overlay_WyvrFPFnl6-5igwsGDe3GErbTnUV7StFRLBQja6wGno_v1.svg","/img/product_image_placeholder.png":"/img/product_image_placeholder_cd6stbKsRdGXdD4zBIc5zpfcYlFkKG0FrebSEKwEGIE_v1.png","/img/provider_logos_1x.png":"/img/provider_logos_1x_elR-feAjc-W6942T_Pmosem10B8LNA9eIE9GB5x_gV4_v1.png","/img/provider_logos_2x.png":"/img/provider_logos_2x_RadLnzG1qmbEXjI1an6c3EkLlbw-avpn5vrQ6YMCBRI_v1.png","/img/push_notifications_onboarding_2x.png":"/img/push_notifications_onboarding_2x_qGO_tIv_BEpVGI84mLIIJJOFNZsolx3h2ZROO3r9GIg_v1.png","/img/rakuten_banner_title.png":"/img/rakuten_banner_title_LnIs0lc3twA7eliwD_0piCvmFCJmu-QBmnJpxn_GXE8_v1.png","/img/rakuten_loading.gif":"/img/rakuten_loading_a58weD2cS4rxARCCIfpvg56UlWGPchtBTO6qdxS2Wtg_v1.gif","/img/rakuten_promotion.png":"/img/rakuten_promotion_q_DTjph5u_Gn330ntvnpFouTJHfQzc80B44wX5ScZ_A_v1.png","/img/receipt_empty_state.png":"/img/receipt_empty_state_VOuBObU-H-bPdZ1B6q2IyeM_5VqDSSMCwuKhFp7U21c_v1.png","/img/recent_attachments_empty_results_2x.png":"/img/recent_attachments_empty_results_2x_u-F6LgFzhuUUHZTq4pAYsFFW-xK2qM1s4o0ynf7vhD4_v1.png","/img/recent_attachments_empty_results.png":"/img/recent_attachments_empty_results_ohzWn8lAXoMPYlC1178lH27Caqtocw230xIqT--9bHY_v1.png","/img/related_searches_tag_dark.png":"/img/related_searches_tag_dark_4k5pvpwX4tzrXD_c7F7GbPLfkveTOh0OoWUPKEeYDOM_v1.png","/img/related_searches_tag.png":"/img/related_searches_tag_X4KaMbx3_FKolI2E2UAQVjUSCNzi9iiLAj8P36TuG2Y_v1.png","/img/restaurant_search_header.png":"/img/restaurant_search_header_-G6sJIWRAQDLTqJMrQKIAgRz5LW3Q03a1DCK0dbOSXY_v1.png","/img/roadtrip_bg_pattern.jpg":"/img/roadtrip_bg_pattern_oGGywp5b5y69unSyY0aHiS70OwFx70nkuBJyk8i5WBA_v1.jpg","/img/roadtrip.jpg":"/img/roadtrip_t8uYYZf1BbS-Q0UdAORbJhQWRoMPBuv7U6cmOYS9dlg_v1.jpg","/img/sad_folder.png":"/img/sad_folder_Zku5m66_MGdrxNBICNQvrEs755Me-qCMKz-G_vIlQdg_v1.png","/img/search_onboarding.jpg":"/img/search_onboarding_AwqKtrgxPGO_uEzjQq7mR9XzUd6kxPtKgHRSdIeGCDg_v1.jpg","/img/search.png":"/img/search_byOX5XpDRDkKfXoDw4ZI50WAUU3WgUIT7Co-22C1Tkc_v1.png","/img/selected.png":"/img/selected_JXzcUlmXnDHG9e5Gs1MpbWwGKUhqG6IpMx02NvcVDpU_v1.png","/img/social_accounts.png":"/img/social_accounts_4ceIEdLkdpf0uKQYGgh9tOCDoN0UuctxMvqtDt9jxys_v1.png","/img/srlogo.png":"/img/srlogo_OtoqfxjYYZ6hNyokQYurtmqTUsja7XCWM8IawRz1ApY_v1.png","/img/star_animation_orange.gif":"/img/star_animation_orange_8hI7V300B4Htus2QILMc6XVXOV4A9z6fup8ta9Sl0rY_v1.gif","/img/star_animation_yellow.gif":"/img/star_animation_yellow_rgHahmjaCKGRegzY5gT4Ko0u1a_BR5PnuNgXASzlBOc_v1.gif","/img/star_burst_colorful.gif":"/img/star_burst_colorful_GPr8QBURI1PT5mU8kBJDTaMsNgQhzAgeCJtptho0BQs_v1.gif","/img/star_burst_dark_colorful.gif":"/img/star_burst_dark_colorful_Eswd1FE96lGdZ5IkC5BKXbx8l2dm58ftq5mfa6LeQl4_v1.gif","/img/star_jiggle_dark.gif":"/img/star_jiggle_dark_DcdkWx-8o5GkuOn9Mq9yxbMuYPDcLpQG6TfNRgBBs9U_v1.gif","/img/star_jiggle.gif":"/img/star_jiggle_9zvXhRJhe1pEeb8B_kkWJkpNNSy-Zxe8_6c7xD0UI2M_v1.gif","/img/stardust_2x.png":"/img/stardust_2x_xiRwwQtjS-c7IiEfIJsezqt2zHFPw45cogkIaGacrXk_v1.png","/img/stardust.png":"/img/stardust_CbEHz9SkHAw8fMKi4LNNKuAjbcLm9MDaZbfjfibKr1Y_v1.png","/img/subscriptions_huffpost.png":"/img/subscriptions_huffpost_EwF8PutEDD_l1Wo8I46lAZ_1HtGVMKfrOmzBvJPlxuk_v1.png","/img/sunset_aussie_bg_pattern.jpg":"/img/sunset_aussie_bg_pattern_nM7teMRcgAi5YTBSjoJPxydsc0pPpRvQjP5BCBE_0QI_v1.jpg","/img/sunset_aussie.jpg":"/img/sunset_aussie_upQ3zXhejSxbjqEKUMxHLWNlmxr4B8VstQXF69eXvEw_v1.jpg","/img/suspicious.svg":"/img/suspicious_jP_gZutCU863evSJk1IIbcLqg5l99nXjQ4ILmqhE4qU_v1.svg","/img/switch_off.png":"/img/switch_off_UJ9qB9qg5uMBep_pEYxUDIgMWsG5jW1E7pyKpBS9VHg_v1.png","/img/switch_on.png":"/img/switch_on_1zX4tnxAbLJDmU6B3bN94iX8fVMxdBNnxMGcKsMfneM_v1.png","/img/sync_deals_1x.png":"/img/sync_deals_1x_1S3VMcAy4JTuzmQcKituJNaQUiKPV-wu8LeKt4BUy5s_v1.png","/img/sync_deals_2x.png":"/img/sync_deals_2x_Jz7EoTl6R2ZOQ4M4Pxn5WpE-PFMDfrAQGd5-AgBJA3A_v1.png","/img/sync_documents_1x.png":"/img/sync_documents_1x_zF-pwcktCqoCz4u9vDWMMviMV5Dgfwq99rwkgLUEglA_v1.png","/img/sync_documents_2x.png":"/img/sync_documents_2x_SItvCyvOD9HIIiUQ-y3qn60IbMMQZJjPij_ZwLZkWzs_v1.png","/img/sync_message_1x.png":"/img/sync_message_1x_vNoXU4pgaAdLhhgRDl-aMW6-TF53Jt1W82bRoybi6fY_v1.png","/img/sync_message_2x.png":"/img/sync_message_2x_crfRhTzKyxDKp95l_Xz02IqX2DnQVh6eTQ_JI5LwpFI_v1.png","/img/sync_photos_1x.png":"/img/sync_photos_1x_lzNnPGF8cciZ4zXxrK4G0ab721EtmTmIYFavFQQ5JFA_v1.png","/img/sync_photos_2x.png":"/img/sync_photos_2x__s-kGTShqOkea06sARr-4MzRXKEQqnKiVYFh9dBORWM_v1.png","/img/sync_subscription_1x.png":"/img/sync_subscription_1x_VgGO7zV9vQeFS3mYzEAP7EaP8vYFQmSDFHY8NekXIis_v1.png","/img/sync_subscription_2x.png":"/img/sync_subscription_2x_r04j7UCnc7YIsFMOnapp4LcHWJ5D-W7eqlqjLxK3ARY_v1.png","/img/sysmech_pc_2x.png":"/img/sysmech_pc_2x_P-MU82MyTOOlgJGKqQrsPRI1gCwmp3POdP3L8jxlLqQ_v1.png","/img/sysmech_pc.png":"/img/sysmech_pc_UJzU8rO9T5aYupMx01F2QDCwvHNLOKyPOgzjj1qWatU_v1.png","/img/tenor.png":"/img/tenor_oxJhYeiAd8fUcrdVfozpyGSSYmgt7DKIkdiYMrOUFmI_v1.png","/img/themes_cue_v2_bar.jpg":"/img/themes_cue_v2_bar_QpyOioVctDS-i609elkNIIu0ynwzJpCL1cQMjmVQjWw_v1.jpg","/img/themes_cue_v2_bottom.jpg":"/img/themes_cue_v2_bottom_dMFj87c7oz0vCLRDdzPn0csCgqE9chU0lXdpyqjnSpQ_v1.jpg","/img/ticket_search_header.png":"/img/ticket_search_header_SMskHeIcqka4jrL6ap03QLiP4YHZN3j-6isRmUgPeKk_v1.png","/img/tiny_truck.png":"/img/tiny_truck_mex2w8UUcFCyG_knYv8LTuxkGQZP1z6_7lpAhj6Ncfs_v1.png","/img/tmr_atos_suspended_panel_dark.svg":"/img/tmr_atos_suspended_panel_dark_nJJjwLOQIp1MGbfSsZYoh56KVK45rwrv3FOgExOw5kM_v1.svg","/img/tmr_atos_suspended_panel_light.svg":"/img/tmr_atos_suspended_panel_light_SzR69AEbmjE2ZmaPwwGYGySka96eaaKINORT5jmRLds_v1.svg","/img/tmr_daily_checkin_icon.svg":"/img/tmr_daily_checkin_icon_h9LwR2qtsqsNOJiivXcZyR93vAZLGEPXYD45q_p_xjI_v1.svg","/img/tmr_graphic_all_mail_imapin_3x.png":"/img/tmr_graphic_all_mail_imapin_3x_k3rmmigjRDK2MFxkuVOzH6A3VuASOBhqp--2Ag5bW3A_v1.png","/img/tmr_hk_atos_signup_cue.svg":"/img/tmr_hk_atos_signup_cue_siJPlOFLXRmIwzw4ph2Q1z8puKe2rDYb3Ckp6INMtzg_v1.svg","/img/tmr_hk_atos_signup_panel_dark.svg":"/img/tmr_hk_atos_signup_panel_dark_248KsNeV5dXCaaIdk19cp3rWDHtuYllKkEUt6QR6Rvo_v1.svg","/img/tmr_hk_atos_signup_panel_light.svg":"/img/tmr_hk_atos_signup_panel_light_UpkjdO18tqQ1FCsvfnm8XuEvG5WGYNRZcfYbmWjQImw_v1.svg","/img/tmr_hk_atos_upgrade_cue.svg":"/img/tmr_hk_atos_upgrade_cue_asZdiB_6Nz45e0kcS4d-ZjFzQRyakOjyo98wn5mlZ7M_v1.svg","/img/tmr_hk_atos_upgrade_panel.svg":"/img/tmr_hk_atos_upgrade_panel_Y0S-IHeTAl3pLsMYs8qsQmrfDE-Fjmn0S81CfGzWDWw_v1.svg","/img/tmr_hk_onboarding_cue.svg":"/img/tmr_hk_onboarding_cue_a-gri8d4VMqiJpXOAlHHOhiXHV34bpAQIB6kqNJE2Mw_v1.svg","/img/tmr_hk_points_icon.svg":"/img/tmr_hk_points_icon_LzW4b9so8HYViendz73THM2Nc4H8jDorMCl5HSuEtw4_v1.svg","/img/tmr_hk_rewards_superapp_qrcode_dark_1x.png":"/img/tmr_hk_rewards_superapp_qrcode_dark_1x_CizE47t7JWGFO9eVMjDWJDSAFOYrLXV50hjwbOlglUk_v1.png","/img/tmr_hk_rewards_superapp_qrcode_dark_2x.png":"/img/tmr_hk_rewards_superapp_qrcode_dark_2x_uAPxfL_I_t9tkOwoSOQPCgZY_FupTYt0WB16JQmAox8_v1.png","/img/tmr_hk_rewards_superapp_qrcode_dark_3x.png":"/img/tmr_hk_rewards_superapp_qrcode_dark_3x_2nwkBfoWSnFNFfhZG1jAUdGK4ozeyyyOHkHhwPHKMMk_v1.png","/img/tmr_hk_rewards_superapp_qrcode_light_1x.png":"/img/tmr_hk_rewards_superapp_qrcode_light_1x_NZ9pAl1aHG_4abAtlBNIUbw75XNcH3x55CpeJeOKOBk_v1.png","/img/tmr_hk_rewards_superapp_qrcode_light_2x.png":"/img/tmr_hk_rewards_superapp_qrcode_light_2x_aSHgd2DTVmNvGaFFs9RGSbgxY3UPqJvPnFB-foz-FkU_v1.png","/img/tmr_hk_rewards_superapp_qrcode_light_3x.png":"/img/tmr_hk_rewards_superapp_qrcode_light_3x_zA6RgjaJaS7jmXEEP_d4a5EbVCZCq-nsjsCTgp8FYzQ_v1.png","/img/tmr_hk_task_completed_qrcode.png":"/img/tmr_hk_task_completed_qrcode_U5Cz_BcvdEgvU3efJn6lXi4r2-S3ViK6pY59McPvpjg_v1.png","/img/tmr_hk_task_completed.svg":"/img/tmr_hk_task_completed_S0nx9UDaUVGXZM-cjdPcFaP0kNWyZlMxD26ZZTy4iTI_v1.svg","/img/tmr_hk_task_notify.svg":"/img/tmr_hk_task_notify_xCPzczaksUYM2VsXQkELuZzgFmGMIGc4pGXkRO0uUh8_v1.svg","/img/tmr_hk_tasks_superapp_qrcode_dark_1x.png":"/img/tmr_hk_tasks_superapp_qrcode_dark_1x_blE0n29oxqMV4Shh2E8ojYHalIQSLuaBvhHMr-czoBA_v1.png","/img/tmr_hk_tasks_superapp_qrcode_dark_2x.png":"/img/tmr_hk_tasks_superapp_qrcode_dark_2x_4v6sqO-I-DTssUe4KnRoSl-gC2H8WtfykgZkEAclAUM_v1.png","/img/tmr_hk_tasks_superapp_qrcode_dark_3x.png":"/img/tmr_hk_tasks_superapp_qrcode_dark_3x_WHuYKIUtn2umhI6tomj5OHdlOGQChE822vX4UdKpMIY_v1.png","/img/tmr_hk_tasks_superapp_qrcode_light_1x.png":"/img/tmr_hk_tasks_superapp_qrcode_light_1x_Vr2fWy64hwyj0HAZYqJruzoMvav9zd7xw-2I6TfMls8_v1.png","/img/tmr_hk_tasks_superapp_qrcode_light_2x.png":"/img/tmr_hk_tasks_superapp_qrcode_light_2x_28Uic_ljlnk_iqwI71pSVmXdZ006QFajiFG3bhM-VFs_v1.png","/img/tmr_hk_tasks_superapp_qrcode_light_3x.png":"/img/tmr_hk_tasks_superapp_qrcode_light_3x_PnIm-wi8M1r3PwagWEWSv4hGtAUVRB3jNnpW9KvsFQ0_v1.png","/img/tmr_icon_appstore_blue.svg":"/img/tmr_icon_appstore_blue_L6O4vGQE7Z7lNpp1sgGoDt4d89RjZBs6JoBlPQRofaw_v1.svg","/img/tmr_icon_appstore_white.svg":"/img/tmr_icon_appstore_white_i9s35KdS1DWJDCBfM6ntvCDiCU-yoQcj3-vIT6YFIfE_v1.svg","/img/tmr_icon_playstore_blue.svg":"/img/tmr_icon_playstore_blue_lK5gw1Jw24KeOMHL3CwzgK2dhSNP68Md610un363hRo_v1.svg","/img/tmr_icon_playstore_white.svg":"/img/tmr_icon_playstore_white_PZjZuD1P-qpMo256MdGgtCIYA29mvy8c4y2_-OIA6JY_v1.svg","/img/tmr_mobile_hk_atos_upgrade_onboarding.svg":"/img/tmr_mobile_hk_atos_upgrade_onboarding_AfRJx8ZHtauZiF2kyhmHxO28QKS01_bhk8j-br58FlY_v1.svg","/img/tmr_mobile_hk_onboarding.svg":"/img/tmr_mobile_hk_onboarding_UENkzaA4tru5GrfWLXbYAe23e-HiKcXBKLlA5sKflS0_v1.svg","/img/tmr_mobile_hk_task_completed.svg":"/img/tmr_mobile_hk_task_completed_76Nsdpz8LfekTF0_COjHHAp_h6fIDdNr53_0zOChq2s_v1.svg","/img/tmr_mobile_tw_atos_upgrade_onboarding.svg":"/img/tmr_mobile_tw_atos_upgrade_onboarding_izDnfV8Z2-aG8SNOM4AWNJzpxosP7hOQ-06CUICAOQ4_v1.svg","/img/tmr_mobile_tw_onboarding.svg":"/img/tmr_mobile_tw_onboarding_N4Wj9mQBopfzwD8_G1lJdmSbZcGkGRZGwJGidGhEHdM_v1.svg","/img/tmr_mobile_tw_task_completed.svg":"/img/tmr_mobile_tw_task_completed_kEgXfOtoOPeXYfDtG4OXjKdE-tGTuUt5w1gzbPQJy5M_v1.svg","/img/tmr_question_mark_dark.svg":"/img/tmr_question_mark_dark_MXHGFy-voIxTfhs3Daa_N_XE-Jq0cnUpvsnKmpQDrMA_v1.svg","/img/tmr_question_mark_light.svg":"/img/tmr_question_mark_light_YpARD4_Cejz2q4-CyGK9lDePzwmrYIQ_TeGU9y24KhI_v1.svg","/img/tmr_rewards_icon.svg":"/img/tmr_rewards_icon_ffHU2TYF1rgeQuUbE_dduJKHYElq7xc9wAesBF6suto_v1.svg","/img/tmr_star.svg":"/img/tmr_star_ez42In8-7U11X6JEKdxe-SBPfZrPta9qNIyrX7dJKCE_v1.svg","/img/tmr_tasks_icon.svg":"/img/tmr_tasks_icon_KP4-B6cRgkamviTI0VdrAAD1mpGl05_n0aOsGnDexrY_v1.svg","/img/tmr_tw_atos_signup_cue.svg":"/img/tmr_tw_atos_signup_cue_rqZxXeUgEMD815CyqVhOJsEGwkj0Hp2kixnW0TCJe-4_v1.svg","/img/tmr_tw_atos_signup_panel_dark.svg":"/img/tmr_tw_atos_signup_panel_dark_fVYqp3Q4QQ95J8s1C7q8JPY-QdiUfd12NcPd067M0Qk_v1.svg","/img/tmr_tw_atos_signup_panel_light.svg":"/img/tmr_tw_atos_signup_panel_light_DU_T9dF5sm2H30KMJVbAUuHPjC-16bITb-p5wD4OR7s_v1.svg","/img/tmr_tw_atos_upgrade_cue.svg":"/img/tmr_tw_atos_upgrade_cue_9qeKrR0SZ5xMQxWTudUfzLKXedyWkmq0uQVktLeKRGU_v1.svg","/img/tmr_tw_atos_upgrade_panel.svg":"/img/tmr_tw_atos_upgrade_panel_6PViAopePRYKLJOJW9ZU0eUx2mffpp-jzwes8fw3q58_v1.svg","/img/tmr_tw_onboarding_cue.svg":"/img/tmr_tw_onboarding_cue_SoCqrV4St2xbzIbevP31xO4IkGlsn0EK_Nr1vvgoR28_v1.svg","/img/tmr_tw_points_icon.svg":"/img/tmr_tw_points_icon_ZMjMh3W6ynW-7une6GV_rBTt43H8q7jEi2gBDsXjwf0_v1.svg","/img/tmr_tw_rewards_superapp_qrcode_dark_1x.png":"/img/tmr_tw_rewards_superapp_qrcode_dark_1x_FOjNvGEeFa8fkQh8xnKxe1zHcKYzrEeFYZbmgZwEQBI_v1.png","/img/tmr_tw_rewards_superapp_qrcode_dark_2x.png":"/img/tmr_tw_rewards_superapp_qrcode_dark_2x_DPcRgyicJ1JfvwvGy0SZlmX5finql5EUCDD7QuXmkis_v1.png","/img/tmr_tw_rewards_superapp_qrcode_dark_3x.png":"/img/tmr_tw_rewards_superapp_qrcode_dark_3x_Tcw0zcuTzWnNJkiQy7ZfV0J-TaaIO2GYQgksws7FraA_v1.png","/img/tmr_tw_rewards_superapp_qrcode_dark.png":"/img/tmr_tw_rewards_superapp_qrcode_dark_Tcw0zcuTzWnNJkiQy7ZfV0J-TaaIO2GYQgksws7FraA_v1.png","/img/tmr_tw_rewards_superapp_qrcode_light_1x.png":"/img/tmr_tw_rewards_superapp_qrcode_light_1x_uvxJ_59RzvJW3Fq5MzLbbDZskFZL2wawlWcNR8G2riE_v1.png","/img/tmr_tw_rewards_superapp_qrcode_light_2x.png":"/img/tmr_tw_rewards_superapp_qrcode_light_2x_iMYODEOdvM3VOTD99FUABrrlGBOxIlHFCVtzwpEJvKQ_v1.png","/img/tmr_tw_rewards_superapp_qrcode_light_3x.png":"/img/tmr_tw_rewards_superapp_qrcode_light_3x_RS8CVe9q8iBegl_EROPExXWWXBpZdD34qmciZ_ESvjU_v1.png","/img/tmr_tw_rewards_superapp_qrcode_light.png":"/img/tmr_tw_rewards_superapp_qrcode_light_RS8CVe9q8iBegl_EROPExXWWXBpZdD34qmciZ_ESvjU_v1.png","/img/tmr_tw_task_completed_bonus.svg":"/img/tmr_tw_task_completed_bonus_5tsAotoQKG3NVU2pvmkrqM8Kl0qKFTSBBOnbzDT8HEU_v1.svg","/img/tmr_tw_task_completed_qrcode.png":"/img/tmr_tw_task_completed_qrcode_ldTU8tDmf9BEIqWJpJPM0JHMPu3vcEySrVHP5bgru9U_v1.png","/img/tmr_tw_task_completed_regular.svg":"/img/tmr_tw_task_completed_regular_ARPe0vrpJinaCApZir1tSlEONnIViojre9R2WDFvBR4_v1.svg","/img/tmr_tw_task_notify.svg":"/img/tmr_tw_task_notify_xnb6bx1i4hfV_xlqJ-vsnGwY67Ng23SHuaMzeFDJI58_v1.svg","/img/tmr_tw_tasks_superapp_qrcode_dark_1x.png":"/img/tmr_tw_tasks_superapp_qrcode_dark_1x_y3-UBbU7FP6HwePOHFeBAZub_TJwMIqf2V22A8w8MOo_v1.png","/img/tmr_tw_tasks_superapp_qrcode_dark_2x.png":"/img/tmr_tw_tasks_superapp_qrcode_dark_2x_A_4ytK_g9mQMxMAj8vLI-xXe6GVozXNhElgefJ5tF4s_v1.png","/img/tmr_tw_tasks_superapp_qrcode_dark_3x.png":"/img/tmr_tw_tasks_superapp_qrcode_dark_3x_5iw0eP4OVe5MQ07sOJh6RfyjhgR-7PTbwWP0TIe2xno_v1.png","/img/tmr_tw_tasks_superapp_qrcode_dark.png":"/img/tmr_tw_tasks_superapp_qrcode_dark_5iw0eP4OVe5MQ07sOJh6RfyjhgR-7PTbwWP0TIe2xno_v1.png","/img/tmr_tw_tasks_superapp_qrcode_light_1x.png":"/img/tmr_tw_tasks_superapp_qrcode_light_1x_jgqX3L8MYG17ViJnm9whRhwaCrtqNjRIJPCO514lPXM_v1.png","/img/tmr_tw_tasks_superapp_qrcode_light_2x.png":"/img/tmr_tw_tasks_superapp_qrcode_light_2x_XTx5kneRH-NMKScHOMeyBUGnw3hcxgGseXUog5Vbf3g_v1.png","/img/tmr_tw_tasks_superapp_qrcode_light_3x.png":"/img/tmr_tw_tasks_superapp_qrcode_light_3x_vUWo46mC2NzfLcZxL5QdZY1Byd5ATXdoc88cnoHizrI_v1.png","/img/tmr_tw_tasks_superapp_qrcode_light.png":"/img/tmr_tw_tasks_superapp_qrcode_light_vUWo46mC2NzfLcZxL5QdZY1Byd5ATXdoc88cnoHizrI_v1.png","/img/tmr_yahoo_super_app_icon.png":"/img/tmr_yahoo_super_app_icon_lLBobwUtCXB2DqmuybEkwbUQKsvrmhsIGldB14mpSRQ_v1.png","/img/trap_page_browser_logos.png":"/img/trap_page_browser_logos_8oVRGOkr33PQbjZoagzKQlb0zuM3bvJAa7Izuy7RR8c_v1.png","/img/trash_can.png":"/img/trash_can_r39WriTMDttrzhgPRT7Jjx3s-0lD1uJm6fNPh9GM6fE_v1.png","/img/trusted_fill_black_2x.png":"/img/trusted_fill_black_2x_Seb5S4S4HwpYmem58x95DcM1woz0xHAwH11FvGtuIu8_v1.png","/img/trusted_fill_black.png":"/img/trusted_fill_black_yCdHHhhrJWU6qodYlKlSVjbQijQ0yQfcPosb_GXvB7E_v1.png","/img/trusted_fill_purple_2x.png":"/img/trusted_fill_purple_2x_V5vRod2Q8bUth5faYx8pJzAOlTdIJM_dQ-iLBBZyQfI_v1.png","/img/trusted_fill_purple.png":"/img/trusted_fill_purple_k0ZGmzh5yXz2FqFxcDr4HZJ647YfoXuHz6nbjgOSE2U_v1.png","/img/unsupported_browser_bigtriangle.png":"/img/unsupported_browser_bigtriangle_zCgzlTz55Md3eMR0-AhF0yEQmeo04krPeYRujUIvEw8_v1.png","/img/unsupported_browser_circle.png":"/img/unsupported_browser_circle_5bR2MXTGLcmQGtnWNXPlwm9mGQPY2_HCk2ObAWwZ5P4_v1.png","/img/unsupported_browser_maillogo.png":"/img/unsupported_browser_maillogo_nhmOjU56xe63NubTCYjjqxtQ-LqWlWi_-V-EBJKP0SE_v1.png","/img/unsupported_browser_phone.png":"/img/unsupported_browser_phone_JKsSoWBXEnOm3GD5vi0lOPJZgj795tDmJwIzlAIUZlM_v1.png","/img/unsupported_browser_smalltriangle.png":"/img/unsupported_browser_smalltriangle_C-h0_bHHm4uvy5W_iMqz7_yeAZflAoS-CDkRnNF3iYo_v1.png","/img/vacation_response.png":"/img/vacation_response_1o4F_pI6MIH4wkUtP23rQSY6XEhYhNYDc_EVUEKogsE_v1.png","/img/viewing_email.png":"/img/viewing_email_hH_ZyZQZ6LWt-by-e18kjIHxXlz8g_MDZ2u5CvIIx-8_v1.png","/img/walmart_add_to_cart.png":"/img/walmart_add_to_cart_OR8FVeUCbh_yos1V7a1X_6FMUmY_jZacxPXnozZPEDU_v1.png","/img/walmart_logo_dark_theme_mode.png":"/img/walmart_logo_dark_theme_mode_ta-ain64-iE6E1K4O8HagILHYs9QN3gltN-hl5xKfF0_v1.png","/img/walmart_logo_small.png":"/img/walmart_logo_small_sng0mPVojjiiGMiL_lUFp6JOyXg8b91Es0MtzFtLTz4_v1.png","/img/walmart_logo.png":"/img/walmart_logo_sO00E1adOSPZYrTVbvtSqrWNZOoPAwb_3of2S5Cq74w_v1.png","/img/walmart.png":"/img/walmart__OSt5ExTcTC-h3rFbNP4Myei1gsEinsqDbtizjiXi88_v1.png","/img/welcome_illustration_1x.png":"/img/welcome_illustration_1x_FcA2xClrYIz8vjn8tLnDdmF4ur42-zV4kI_Uhs_nreY_v1.png","/img/welcome_illustration_2x_obsolete.png":"/img/welcome_illustration_2x_obsolete_PC6NYn2FUzcTm3yDw6VhjbBajzJyvqxier16E8NJPLY_v1.png","/img/welcome_illustration_2x.png":"/img/welcome_illustration_2x_L2OjaE4rEjxHsYXdHlr-xDcgx730hGqg4ZQI3-7FLZc_v1.png","/img/welcome_illustration_3x.png":"/img/welcome_illustration_3x_wThP-OXN-w47u0OwOd2NXIoxTJMD-c8ZN4pdLYHTtZM_v1.png","/img/widermail_2x.gif":"/img/widermail_2x_4sTtiSyQx-Ce9HOIXkZa-h3hXlZPtr3iel6G9ORP5qc_v1.gif","/img/widermail.gif":"/img/widermail_U2O_xZQuyzq4osCR2yHr7IWcZ_jswG5XD7RPTWejPjY_v1.gif","/img/yahoo_badge.png":"/img/yahoo_badge_vmsNZv0f7un9pb0tejVSq7aYoavBG1nDn7yXJTKYGLg_v1.png","/img/yahoo_finance_logo.svg":"/img/yahoo_finance_logo_-QDNG0c8moBlfL-H04Q2IwjbtNsPJiC7OMJ-6dinE14_v1.svg","/img/yahoo_lastpass_logo_2x.png":"/img/yahoo_lastpass_logo_2x_7VdmrF7i8U7pRWJaBRjiMLSzVyaIauCQ_xJGK1rpSCY_v1.png","/img/yahoo_lastpass_transparent_horizontal_2x.png":"/img/yahoo_lastpass_transparent_horizontal_2x_mrCigE2qHSgSxIGqVAUhS-sc2CxR3wRXFoeTRUGBmgM_v1.png","/img/yahoo_lastpass_transparent_horizontal.png":"/img/yahoo_lastpass_transparent_horizontal_fOdKOqv4av7pVUhIXPFnRGj7uR58CRvy3FgAlRwlrls_v1.png","/img/yahoo_lastpass_v_white_1x.png":"/img/yahoo_lastpass_v_white_1x_ARo6Tj-RN9KPU234_DPO6QXkGi8kG6lYudUf1rvgbD8_v1.png","/img/yahoo_lastpass_v_white_2x.png":"/img/yahoo_lastpass_v_white_2x_yqV5pGyitz6TDgsF366zJCM-8pVaIvBDM0R-e1sznZ8_v1.png","/img/yahoo_logo_transparent_2x.png":"/img/yahoo_logo_transparent_2x_smBV5Q_pQHii7C6IVmOsPOt4UUeOPi9ysCn6_Hdso1c_v1.png","/img/yahoo_logo_transparent.png":"/img/yahoo_logo_transparent_OJ5RWztu9Z0FBN1nqfY0avjfex4on1RN6CH7nNtdGL4_v1.png","/img/yahoo_logo.png":"/img/yahoo_logo_IbAUajnYkKPCJO1tf-0yybTrp3mRz3qudq8gvNU6-WM_v1.png","/img/yahoo_mail_certified_sender_2x.png":"/img/yahoo_mail_certified_sender_2x_JpRT9fz6tJXf0TuFDlOoe7yJD9psfCEMntpsIHhJoVM_v1.png","/img/yahoo_mail_global_english_1x.png":"/img/yahoo_mail_global_english_1x_UWlIRGtkOjCoUWwCNMz6vHGRbW-XB0I1p0FzxEQ75m8_v1.png","/img/yahoo_mail_global_english_2x.png":"/img/yahoo_mail_global_english_2x_QCDeip_7unM4ifsFj_xSee88y_ik2ETJZv9KzvEhy2s_v1.png","/img/yahoo_mail_global_english_white_1x.png":"/img/yahoo_mail_global_english_white_1x_2irxdCmPPid8dWMdybHvLaG3G8C-2YHi2uDczTLQjRQ_v1.png","/img/yahoo_mail_global_english_white_2x.png":"/img/yahoo_mail_global_english_white_2x_A6ncybctetL1Rrnktv0yukBBnRW-U1ioDXOW1MZ8xwg_v1.png","/img/yahoo_mail_pro_devices_2x.png":"/img/yahoo_mail_pro_devices_2x_MzxI9v0Smat7sKcHndu3ajKduLis87uzpLKMjDc0Dfw_v1.png","/img/yahoo_mail_pro_devices_v2_2x.png":"/img/yahoo_mail_pro_devices_v2_2x_lYe4T2X30eC8Ui0lr67s_LhLRl6pbAJFY62jzXlUKSQ_v1.png","/img/yahoo_mail_pro_devices_v2.png":"/img/yahoo_mail_pro_devices_v2_X4P_YoWpPb9k1Othb3-1yg-4EylWeVKPMjA5x5a89SM_v1.png","/img/yahoo_mail_pro_devices.png":"/img/yahoo_mail_pro_devices_TCTVy1VFTKs-30j5q3sShCSVp_VJRxbXWTSQ_gElDTE_v1.png","/img/yahoo_mail_pro_global_english_2x.png":"/img/yahoo_mail_pro_global_english_2x_8zdkp1f-0Z8OxMb6uCZUveOsQ1TaHX3DuHtToEfKh4I_v1.png","/img/yahoo_mail_pro_global_english_white_1x.png":"/img/yahoo_mail_pro_global_english_white_1x_Fgp3RyoEfBZ7io0-CTHZbtEiZrxKjxn7hDIOvMtcbe8_v1.png","/img/yahoo_mail_pro_global_english_white_2x.png":"/img/yahoo_mail_pro_global_english_white_2x_6fvmqN1KCFtED314VUMr6OENDqycSvk6ce7ajQRlAEg_v1.png","/img/yahoo_mail_pro_logo_center_2x.png":"/img/yahoo_mail_pro_logo_center_2x_bSRfJ9-dueT9aKWWe3ybmpPTeR-twUZ4qiSzxRBDY-I_v1.png","/img/yahoo_mail_pro_logo_center.png":"/img/yahoo_mail_pro_logo_center_3ypcPoV1XXfMtZ4djORgxoNE20Iqs0A7PBFKPNLa6EE_v1.png","/img/yahoo_mail_pro_logo_single_line_2x.png":"/img/yahoo_mail_pro_logo_single_line_2x_nBz-SjcWjysk5pLUrL--fRn4A22YvHORIsDCkhUjqN4_v1.png","/img/yahoo_mail_pro_logo_single_line.png":"/img/yahoo_mail_pro_logo_single_line_ZUcZYp7fhptkb88GWO_Rdc_QI94DJXSMO4uF53LwK0A_v1.png","/img/yahoo_mail_qr_code.png":"/img/yahoo_mail_qr_code_i-g6sChdtDQ8PqUiKDfvqR91ujlmTZRJw-2BJaR5jKE_v1.png","/img/yahoo_new_logo_transparent_2x.png":"/img/yahoo_new_logo_transparent_2x_U0B35y0Lxr1NHcmpoTl73LyzRSGs75QJqA7lb_xHUQw_v1.png","/img/yahoo_new_logo_transparent.png":"/img/yahoo_new_logo_transparent_ohJYSScEirZzbmf7XzwB6NBbnyU25Agfqm4KzQPuoTw_v1.png","/img/yahoo_norton_colored_logo_2x.png":"/img/yahoo_norton_colored_logo_2x_JKeUJT6wOiVPeBJlz6Vjk4G2FZ58bKPEW2h0145m2XY_v1.png","/img/yahoo_norton_colored_logo.png":"/img/yahoo_norton_colored_logo_bnyVxcLmQ3xlH_vT-eXu_g9LCbu53eFff2U_ygP-hcE_v1.png","/img/yahoo_norton_image.png":"/img/yahoo_norton_image_Y9FWWUpCvojO44P-YMFQ1P5WnkHvP5hHnen_zL2Kh8s_v1.png","/img/yahoo_norton_transparent_logo_2x.png":"/img/yahoo_norton_transparent_logo_2x_cb5zNIT7BfJv3SU-b4VUgLuqhY8pCnWLgHQbW8yDOtQ_v1.png","/img/yahoo_norton_transparent_logo.png":"/img/yahoo_norton_transparent_logo_d5zgo-rx6wIXJ31U6PybNw6yi85XoAFNP5E0Emtl6ss_v1.png","/img/yahoo_shopping_center_cat_1.png":"/img/yahoo_shopping_center_cat_1_exSFfEX314xDE98YN2VasujLqTNns-y7vRbIAtRkR9k_v1.png","/img/yahoo_shopping_center_cat_2.png":"/img/yahoo_shopping_center_cat_2_N_qwja5btZrmvdzgfpZ2I484SO3H6lldenTONK6wYEI_v1.png","/img/yahoo_shopping_center_title.png":"/img/yahoo_shopping_center_title_WmoZjsJngJ9z5TQRJooa9KXkvhD1vzVpebMht8ZDXC8_v1.png","/img/yahoo_shopping_center.png":"/img/yahoo_shopping_center_7n4ce9JAw1FYskS097YSOPVI53Q8T-u8VAtktdQfk3E_v1.png","/img/yahoo_shopping.png":"/img/yahoo_shopping_JHyZoMH8VDHH_uXxi3D1KUrdSBgCvTwUe84kIMbcvsY_v1.png","/img/ym6_groceries.png":"/img/ym6_groceries_UG2tcpGh5-4c1ug6P-UnBQGMEPeQeJ_GDzplkp__ULs_v1.png","/img/ymobile_logo_1x.png":"/img/ymobile_logo_1x_wdI1JwVXxnLog_1Teq2RWaKNWSI3XbNBRXKehfzLM0I_v1.png","/img/ymobile_logo_2x.png":"/img/ymobile_logo_2x_LVfkgDiDtL45yK1WrfgU0gEzRnEUV3IICESAsYIL_Ko_v1.png","/img/ymobile_tom_logo_1x.png":"/img/ymobile_tom_logo_1x_D6-GumT0Oh8b8gR20pKnkY-dwlgPLMRxkDrxk2CTNeA_v1.png","/img/ymobile_tom_logo_2x.png":"/img/ymobile_tom_logo_2x_fD1XuuwQIsm8b70P4393GxenRCfjNel5YpM1OEw0hOA_v1.png","/html/status.html":"/html/status_NsIMApfRFdB9nTk9uhk8xFAt08_hm8m9QjmR2g0Vl9Y_v1.html","/json/aol_mobile_manifest.json":"/json/aol_mobile_manifest_iwMinduz2yiVZIS_C3BD-4gTmJfTJUf5EB_A-aVQ2ew_v1.json","/json/mobile_manifest.json":"/json/mobile_manifest_fOJs6eK4LhLfhLRqWrfRnU0X3elk_BdafhhJmNQyZXw_v1.json","/json/web_manifest.json":"/json/web_manifest_zdmVWTe8Hdp05CX3yPbgNMfiiGr4DFZJOp0JdEBS8DM_v1.json"}')},function(e,t,s){"use strict";e.exports={className:{default:{logo:"p_a T_6Mbr L_6LEV H_A cZR3vvd_n",head:"H_7zJd cZR3vv9_7ceA I_Z1XtUkA aw_ZCG3c5",headerText:"D_n cZR3vuu_a cZR3vuW_6Fd5 cZR3vvg_6FIA cZR3vve_52qC cZ1wMhrj_0 cZR3vuB_6MGW cZR3vuq_C cZR3vuT_6D6F cZR3vvd_B"},aolUser:{head:"I_4N1z aw_1O8fuN"}},_key:"ZehG7f"}},function(e,t,s){"use strict";e.exports={className:{default:{leftRailItemsContainer:"D_B je_6Fd5 W_3o4BO",link:"C_52qC O_cMq D_B b_n ir_n r_P cn_dBP u_e69 e_dRA ab_C A_6EqO S_n k_w gl_C l_T H_6VdP M_1Eu7sD W_eTL I_Z2aVTcY",moreIcon:"D_B q_8ahxV ab_C gl_C H_eo6 M_1Eu7sD p_R",iconContainer:"p_a T_69rk L_dRf",accountslist:"D_B",list:"Y_0 Q_0 E_0 U_0 D_B hd_n P_2d6pmo",folderList:"Y_6Nds Q_0 E_0 U_0 D_B hd_n P_2d6pmo",header:"D_B gl_FM M_BOLti",accountsListItem:"O_cMq u_eBE A_6EWk C_Z2aVTcY P_2d6pmo M_1WjkSr",listItem:"D_B ab_C Y_6EWk",folderName:"M_eo6 H_fq7 e_6LEV I_ZroviD D_X",folderNameRight:"M_eo6 H_fq7 e_6LEV I_ZroviD D_X f_r"}},_key:"ZfMI1J"}},function(e,t,s){"use strict";e.exports={className:{default:{image:"W_3n13i H_7aG4",upsellPage:"t_C M_1WSbm8",loginPage:"t_C Y_6LEV",emailInput:"W_3qWeB",header:"P_0 u_b A_6LEV i_6UbO Y_6DEy U_6LEV",body:"t_C A_6EqO i_6FIA jb_6MGW",footer:"t_C C_Z1TsNWR",userName:"cZ1RN91d_GG",description:"M_0 C_Z1TsNWR",providersOption:"Y_6Fd5",switchAccount:"C_Z2aVTcY",accountList:"M_0 P_0 hd_n",listItem:"P_1Eu6qC M_1EAG48 D_X",label:"C_Z281SGl u_dPo A_6EWk i_6LEV M_27msYt",supportedProviderCaption:"t_C A_6EqO C_Z1Xxgu0 M_6DEy",errorMessage:"C_ZnTFMv M_fq7",primaryButton:"A_6EqO u_e69 W_3nqmc P_Z1E2XDm M_eo6 I_Z2aVTcY b_n e_dRA C_4SSH I4_Z29WjXl b4_n C4_4SSH",legalText:"A_6DUj a_3z5BY M_hvBM4",note:"C_Z1Xxgu0 A_6DUj M_hDwes a_3z5BY",link:"C_Z2aVTcY Q_dRA u_e69 r_P"}},_key:"Zt5ABX"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3nqBW H_7jIs ba_ZGk1HS aw_Z7t8EQ az_DW cC5tpw_ZnsgIT"},"provider-yahoo":{container:"ay_1mNcIJ"},"provider-aol":{container:"ay_Z1QQ4yl"},"provider-outlook":{container:"ay_Z1UByTU"},"provider-google":{container:"ay_Z1UAFpN"},"provider-office365":{container:"ay_Z1Ux7dB"},"provider-verizonmedia":{container:"ay_Z1UAFpN"}},_key:"ZktYhT"}},function(e,t,s){"use strict";e.exports={className:{default:{bgContainer:"D_F ek_BB H_6D6F aw_2941hk ba_10I1Qt az_oOItw ay_Z1nkUQx I_kt4zd",container:"D_F ek_BB H_6D6F cZ1RN91d_n s_1HCsWR aw_Z22yhkg I_kt4zd az_DW ba_Z2gmOa3 ay_Z1cYiMT c2hBT4u_Zm6i39 cZTwBjO_Zdogtk",inputModeWrapper:"H_6D6F",appHeader:"en_0 cZ1RN91d_n D_F ek_BB gl_FM",tabSpace:"f_l a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU",tabWrapper:"I_sgPtS M_1EAG48 W_6D6F",tab:"N_3o4BO cZ1YE9As_ZbJh7p e_1GFLLo",errorContainer:"H_6D6F",ybar:"H_7zJd",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"},"ads-false":{tab:"N_0"},"themeMode-LIGHT":{tabWrapper:"I_ajP3z"},wideLogo:{tabSpace:"f_l a_3rehn W_3rehn s_3rehn cZ10Gnkk_ZM1sUU"},ybarFuji2Enabled:{ybar:"H_7rdk"},ybarFuji2TopNavigation:{ybar:"H_3n1j3"},darkModePhotoTheme_NIGHT_LANDSCAPE:{tabWrapper:"I_cOYBx"},darkModePhotoTheme_ROADTRIP:{tabWrapper:"I_1iaDps"},darkModePhotoTheme_SUNSET_AUSSIE:{tabWrapper:"I_2woiX9"},darkModePhotoTheme_LIGHTHOUSE:{tabWrapper:"I_t5YJo"}},_key:"Z1fkeqj"}},function(e,t,s){"use strict";e.exports={className:{default:{searchContainer:"H_6UbO M_1JP1a2 p_R",input:"W_6D6F H_6D6F k_w li_6UbO y_Z2hYGcu",magnifying:"p_a L_0 T_0 cZW7ROP_n H_6D6F D_F ab_C P_3gJOe"}},_key:"Z1k3R3K"}},function(e,t,s){"use strict";e.exports={className:{default:{header:"D_F ab_C W_6D6F k_w C_52qC aw_Z1Skzn2 P_nzg7u",text:"em_N D_F ek_BB ab_CI",heading:"A_6FsP u_b U_fq7",subheading:"A_6Eb4"},ATT:{header:"aw_ZvJQac"},FRONTIER:{header:"aw_Z21mNgp"},ROGERS:{header:"aw_cqhYR"},BT:{header:"aw_fyCuS"},SKY:{header:"aw_2i3i9C"},DEFAULT:{header:"aw_Z1oGKIG"},SUNRISE:{header:"aw_j5A3N"},AQUA_GREEN:{header:"aw_Z1TaR3H"},AQUA_BLUE:{header:"aw_lYTmB"},DEEP_PURPLE:{header:"aw_Z2r9M2j"},BLUE_NIGHT:{header:"aw_ZhWBiv"},DARK_GREY:{header:"aw_cqhYR"},NIGHT_LANDSCAPE:{header:"aw_Z1wLEpd"},ROADTRIP:{header:"aw_Z1DvGqD"},SUNSET_AUSSIE:{header:"aw_1bjVkK"},LIGHTHOUSE:{header:"aw_4GXi2"}},_key:"Z1aF29k"}},function(e,t,s){"use strict";e.exports={className:{default:{twoColumnList:"D_F ha_n P_0 gl_FM eo_HB o_h M_1A1TYO",column:"em_N en_N s_3rRhf",spacer:"ej_6LEV en_0",sectionContainer:"U_6TFj",sectionHeading:"A_6EWk C_Z281SGl U_6Fd5",listView:"hd_n X_0"},searching:{twoColumnList:"ek_BB"}},_key:"2iQpu0"}},function(e,t,s){"use strict";e.exports={className:{default:{delimit:"M_3gJOe A_6DUj",keyGroups:"D_F",keyGroup:"D_F ab_C",vertical:"D_F ek_BB ab_CI",key:"A_6DUj i_6DUj I_ZnkeaL j_19EkMo y_2tAGiz H_6FIA P_3gJOe k_w e_dRA J_x D_F ab_C",marginTop:"Y_fq7"}},_key:"Z2kJbF9"}},function(e,t,s){"use strict";e.exports={className:{default:{keyRow:"D_F ab_C M_3Y3Gk em_N",description:"A_6Eb4 C_Z281SGl E_fq7"}},_key:"ZVMVx3"}},function(e,t){function s(e){this.key=e,this.value=null,this.descendantCount=0,this.children={}}s.prototype={insert(e,t){if(!arguments.length)throw new Error("Invalid number of arguments, requires key and value");this._insert(e,t)},_insert(e,t,r){var n=arguments.length;if(r===e.length)return void(null===this.value&&(this.value=t));n<3&&(r=0),this.descendantCount=this.descendantCount+1;const a=e[r];void 0===this.children[a]&&(this.children[a]=new s(a)),this.children[a]._insert(e,t,r+1)},find(e){return!e||e&&0===e.length?[]:this._find(e)},_find(e,t){void 0===t&&(t=0);const s=this.children[e[t]];return s?t===e.length-1?s._getChildrenValues(e):s._find(e,t+1):[]},_getChildrenValues(e){var t=[];e||(e=""),this.value&&t.push(this.value);for(const s in this.children)this.children.hasOwnProperty(s)&&(t=t.concat(this.children[s]._getChildrenValues(e+s)));return t}},e.exports=s},function(e,t,s){"use strict";e.exports={className:{default:{container:"s_3Lic3 H_HMYSt k_w I_52qC D_F ek_BB ab_FT",cheatContent:"P_1EutVf U_72FG D_F ek_BB en_N ej_0 em_N",keysetContainer:"iz_A W_6D6F em_N ej_0",header:"en_0",filterSection:"en_0"}},_key:"ZIdXmv"}},function(e,t,s){"use strict";e.exports={className:{default:{properties:"D_F en_0 gl_FM je_6Fd5 jb_6Fd5 N_6Fd5 X_6Fd5 H_7bcz k_w I_52qC m_Z14vXdP U_67SN",container:"Z_qc"},verticalLayout:{container:"H_6D6F",properties:"ek_BB gl_CI H_6D6F"},"themeMode-DARK":{properties:"I_sgPuT m_ZYfFSw U_0"},"themeMode-MEDIUM":{properties:"I_sgPuT m_ZYfFSw U_0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{properties:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{properties:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{properties:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{properties:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{properties:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{properties:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{properties:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{properties:"I_t5YMW"}},_key:"ZVBdTR"}},function(e,t,s){"use strict";e.exports={className:{default:{selectWrapper:"r_P p_R A_6EqO",selectTitle:"D_X u_6EqO C_Z281SGl U_fq7",selectPlaceholder:"F_N o_h J_x D_X G_e C_Z1TsNWR",selectLabel:"D_F gl_FL C_Z281SGl m_2w4l8N H_6VdP i_6VdP X_fq7",emptyItem:"C_ZxFlP3 P_1Eu6qC i_6VdP",optionsContainer:"W_6D6F P_3DHIS p_a q_52qC C_Z281SGl e_dRA j_Z2nrtxD",selectedValue:"em_N o_h J_x D_X G_e C_Z281SGl",inputWrapper:"em_N D_F o_h gl_FL H_6VdP i_6VdP",selectInput:"O_0 W_dBP H_dBP b_n ir_n p_a D_X",closeBtn:"r_P e_e5X M_8ximD D_X W_6Fd5 H_6Fd5 i_6Fd5",arrowDown:"r_P D_F gl_C ab_C"},isOpen:{selectWrapper:"Z_7G9R"},isFocused:{selectLabel:"m_2fAfSG",arrowDown:"l_B4CaF"},disabled:{selectLabel:"r4_DZ",selectedValue:"C_ZvsWfq"},coloredPlaceholder:{selectPlaceholder:"C_Z2aVTcY"},"type-FITCONTENT":{optionsContainer:"W_CS s_6D6F"},inline:{selectBox:"D_X",selectLabel:"D_F m_n i_6FIA X_0 H_6MGW",selectedValue:"A_6EqO C_Z1VRpVF",inputWrapper:"D_X o_h gl_FL H_A i_q",arrowDown:"r_P D_X o_h gl_FL Q_fq7 p_R"}},_key:"ZKOwWd"}},function(e,t,s){"use strict";e.exports={className:{default:{optionItem:"k_w D_B W_6D6F b_n r_P t_l o_h J_x G_e q_T P_20hyCR i_6VdP A_6EqO q4_2iedUU"},isSelected:{optionItem:"q_2ieeaE"},"hoverStyle-BOLD":{optionItem:"u4_b q4_T"},"hoverStyle-BOLD_SELECTED":{optionItem:"u_b q4_T"},paddingLess:{optionItem:"P_0"}},_key:"nTHD8"}},function(e,t,s){"use strict";e.exports={className:{default:{listItem:"G_e p_R",icon:"i_0"},"kind-WRAP_CONTENT":{listItem:"H_A i_N"},"kind-GRID":{listItem:"P_0 f_l M_dRA ir4_2ivgpk"}},_key:"1fXSHs"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C H_7jIs W_6D6F P_0 M_0 k_w b_n q_n",content:"D_F ek_BB gl_C F_N A_6EqO i_6MGW C_Z281SGl H_6MGW m_Z12nDQf",orb:"ah_Z1tF3s4 F_n p_R cdPFi_ZpQYvz P_0 M_20hyCR W_1M2iaA H_1M2iaA",name:"ah_Z1tF3s4 W_7rdk H_6DEy q_ZpQYvz e_eDQ",emails:"ah_Z1tF3s4 Y_6Eb4 W_3nH9d H_fq7 q_ZpQYvz e_eo6"},darkVariations:{content:"m_1iPdY0",orb:"cdPFi_Z1Xxgu0",name:"q_Z1Xxgu0",emails:"q_Z1Xxgu0"}},_key:"aXv54"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"F_N",search:"H_72FG k_w m_Z12nDQf",tabs:"H_6UbO m_Z12nDQf",separator:"H_6MWH D_F ab_C P_Z1feoPS",separatorText:"ah_Z1tF3s4 D_X H_fq7 W_7kKt e_eo6 q_ZpQYvz",withBackground:"q_52qC"},includeHeaders:{wrapper:"W_3vpWV"},darkStyles:{withBackground:"q_sgPuT",search:"m_1iPdY0",tabs:"m_1iPdY0",separatorText:"q_Z1Xxgu0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{withBackground:"q_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{withBackground:"q_cOYF6"},"themeCombo-DARK_ROADTRIP":{withBackground:"q_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{withBackground:"q_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{withBackground:"q_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{withBackground:"q_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{withBackground:"q_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{withBackground:"q_t5YMW"}},_key:"ZdVGa6"}},function(e,t,s){"use strict";e.exports={className:{default:{mainAd:"k_w W_3vpWV a_3vpWV iz_A iy_h P_6Fd5",adText:"A_6EqO C_Z1VRpVF",dpaAd:"k_w W_3vpWV a_3vpWV iz_A iy_h",dpaAdFeedback:"k_w W_3vpWV a_3vpWV iz_A iy_h P_6Fd5"},isRRCompactSize:{mainAd:"a_3o4BO W_3o4BO",dpaAd:"a_3o4BO W_3o4BO",dpaAdFeedback:"a_3o4BO W_3o4BO"},wideRightRail:{lrec:"U_3mS2U"}},_key:"Z2nkqpH"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"I_ptT19 r_BN W_3vpWV a_3vpWV P_3gJOe k_w iz_A iy_h D_F ek_BB cZ1RN91d_GG en_0 em_N",adsContainer:"D_F s_3vaYc W_3vaYc H_6D6F P_ZBlKN1",adColumnContainer:"D_F ek_BB s_3ny6O W_3ny6O H_6D6F",topbarContainer:"D_F s_3v1VN W_3v1VN H_6EGz P_1bK46f ab_C gl_CH",sponsorContainer:"em_N D_F ab_C",adSource:"em_N A_6Eb4 u_b C_Z1VRpVF",dot:"D_X H_e8l s_e8l W_e8l I_Z1VRpVF M_3gJ2X e_e5X",adSponsor:"W_A A_6Eb4 u_N C_Z1VRpVF"},"themeMode-MEDIUM":{container:"I_T"},"themeMode-DARK":{container:"I_T"},isRRCompactSize:{container:"a_3o4BO W_3o4BO P_0",adsContainer:"s_3nOD5 W_3nOD5",adColumnContainer:"s_3nOD5 W_3nOD5",topbarContainer:"s_3nF5b W_3nF5b P_12W1qX"}},_key:"2qICCd"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"k_w s_3nqBW W_3nqBW H_3r6Mv e_eo6 j_2gTOnr M_2spyzX I_52qC o_h",anchor:"D_F ek_BB H_3r6Mv o_h",imageContainer:"p_R s_3nqBW W_3nqBW H_3nqRH",image:"s_3nqBW W_3nqBW H_3nqRH",imageDescriptionContainer:"p_a T_7bXP L_6UbO v_h O_0 W_7zJd H_72FG e_e8l b_L7daz I_ZkbNhI",callToAction:"D_F gl_C ab_C W_7zJd H_6D6F t_C C_Z25RJge A_6Eb4 u_b o_h",headline:"s_3nhjN W_3nhjN H_7aG4 P_3gJOe M_437S1 u_e69 G_e o_h i_d3a",message:"A_6Eb4 i_6EqO C_Z1Xxgu0"},hover:{container:"e_e8l b_Qbn7k",headline:"C_Z25RJge",imageDescriptionContainer:"v_v O_cMv"},isRRCompactSize:{container:"s_3nF5b W_3nF5b H_3rehn M_Z1BoweK",anchor:"H_3rehn",imageContainer:"s_3nF5b W_3nF5b H_3nF5b",image:"s_3nF5b W_3nF5b H_3nF5b",imageDescriptionContainer:"T_7jIs L_72FG",headline:"s_3np4q W_3np4q H_74JI P_1Eu5U7 M_3Y3Gk"},isSingleAd:{anchor:"H_A",container:"D_F s_3v1qi W_3v1qi K_3rehn H_A",imageContainer:"s_3v1qi W_3v1qi H_3nr8s",image:"s_3v1qi W_3v1qi H_3nr8s",headline:"s_3s1jD W_3s1jD K_6UHk H_A P_3gJOe M_n9W9T u_b",imageDescriptionContainer:"p_R v_v T_82XEY L_82XEY O_N W_3s1jD H_6MGW P_3gJOe C_q u_e69 b_0 D_F",textContainer:"em_N D_F ek_EZ ab_C",callToAction:"W_7sfl H_6D6F t_C C_q A_6DEy u_e69 o_h lo_GT",source:"A_6DEy",sponsor:"A_6DEy C_Z1TsNWR M_3gIMd",sponsorIcon:"je_eo6 C_Z2drWk6 cdPFi_Z2drWk6"}},_key:"4Xu4k"}},function(e,t,s){"use strict";e.exports={className:{default:{chevronDown:"D_F E_fq7",adFeedbackContainer:"P_3Y3Gk"},isCompactLayout:{chevronDown:"V_ P_0"},hideFeedbackChevron:{chevronDown:"v_h Q_36RhU"},isRightRailDPAad:{chevronDown:"E_0",adFeedbackContainer:"W_A e_dRA j_Zwf7ff P_0",adFeedbackItem_sponsor:"P_fQqw6",adFeedbackItem_feedback:"P_fQxus",adFeedbackText_sponsor:"u_e69 P_23QjL7",adFeedbackText_feedback:"u_e69 P_23QljD"},isCompactRightRailDPAad:{chevronDown:"E_0",adFeedbackContainer:"e_dRA j_Zwf7ff P_0",adFeedbackItem_sponsor:"P_Z2rzCvT",adFeedbackItem_feedback:"P_fQpu5",adFeedbackText_sponsor:"u_e69 P_23QbKJ",adFeedbackText_feedback:"u_e69 P_23Qdjg"},marginLess:{chevronDown:"E_0"},isAdFeedbackV2:{adFeedbackItem:"P_Z1E2XDm",adFeedbackText:"P_2b2hq3",iconContainer:"C_Z1RVMOO cdPFi_Z1RVMOO D_F"}},_key:"Z2tUN3L"}},function(e,t,s){"use strict";e.exports={className:{default:{thankYouContainer:"I_1I4yPF H_74JI D_F gl_FM ab_C X_6DEy e_dRA",textContainer:"o_h K_74JI D_F ek_BB gl_C em_N r_P",header:"K_6VdP u_b o_A",caption:"C_Z1TsNWR K_6VdP A_6DUj",close:"H_72FG N_eTB je_dRA r_P",upgradeNow:"J_x i_6EGz e_dRA M_1GMufD I_T b_2fAfSG p_R C_Z2aVTcY r_P P_fQoXz",rrTextContainer:"o_h D_F ek_BB gl_C em_N A_6EqO K_3r6wK P_2822Ru r_A C_Z2a25ca",rrHeader:"i_6CDq C_q U_6DEy u_b o_82XEY",rrThankYou:"U_eo6",rrCaption:"i_6CDq A_6Eb4 C_q U_6LEV",rrUpsell:"A_6EqO C_q u_e69 U_6EWk H_6VdP",rrUpgradeNow:"J_x i_N e_eo6 I_T b_2fAfSG C_Z2aVTcY r_P A_6EqO u_b H_6Urz lo_AT",loadingSpinner:"Q_fq7",exclamation:"D_F ab_C Q_fq7"},isAdFeedbackV2:{msgHeader:"u_b",thankYouContainer:"I_ZnIF8Y H_6UbO",textContainer:"D_B J_x G_e K_6UbO",likedContainer:"Y_dRA",msgContent:"D_F ab_C o_h"},isAdFeedbackV2Compact:{thankYouContainer:"H_74JI",textContainer:"K_74JI D_F",compactCTA:"D_F ab_C"},isRightRailDPAad:{thankYouContainer:"H_A d_74JI I_ZkwawX j_FYuJ6"},isCompactLayout:{thankYouContainer:"H_7rdk",textContainer:"K_7rdk",caption:"o_A",header:"D_F ek_BB gl_FM jb_eo6 i_6Eb4 w_AS J_EP ix_AS K_7rdk",close:"H_7jIs je_0 N_eo6",upgradeNow:"P_eo6 M_Z1EyLxu",thankYou:"U_eo6"},isDarkBackground:{rrDPAadThankYouContainer:"I_T",rrTextContainer:"C_52qC",caption:"C_52qC",upgradeNow:"C_52qC",thankYouContainer:"C_52qC I_1I4yPF"},isRRCompactSize:{rrDPAadThankYouContainer:"s_3nF5b W_3nF5b H_3rBgu j_n I_T",rrTextContainer:"K_3rBgu P_0",rrHeader:"A_6EGz i_6CCq",rrCaption:"A_6EqO U_6VdP i_6CCq",rrUpsell:"A_6EqO U_6Fd5 i_6CCW H_7jIs"}},_key:"ZsKu1Q"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"A_6EGz H_6VdP V_C u_e69 P_1EudUu k_w cg_n I_T e_6FIA lv_ZSMsbO ir_n M_0 p_R o_h G_e J_x r_P",bar:"I_Z2aVTcY p_a h_1RtVxM z_ZtE3y e_dRA k_w H_eo6 W_6NIX"},"kind-PRIMARY":{button:"I_Z2aVTcY C_52qC I0_Z2dyg2z"},"kind-PRIMARY_INVERTED":{button:"I_52qC C_Z2aVTcY u_b W_6D6F I0_ZnkeaL"},"kind-PRIMARY-disabled":{button:"I_ZnIF8Y C_ZvsWfq"},"kind-SECONDARY":{button:"cn_dRA cg_FJ l_Z2aVTcY C_Z2aVTcY C0_Z2dyg2z l0_Z2dyg2z"},"kind-SECONDARY-disabled":{button:"cn_dBP cg_FJ l_ZpQYvz C_ZvsWfq"},"kind-CHIT":{button:"D_F gl_C P_0 W_7jIs H_7cK6 cn_dRA e_eo6 cg_FJ l_Z2aVTcY C_Z2aVTcY C0_Z2dyg2z l0_Z2dyg2z"},"kind-CHIT-dimmed":{button:"D_F gl_C P_0 W_7jIs H_7cK6 cn_dRA e_eo6 cg_FJ l_ZpQYvz C_ZvsWfq",circle:"l_ZroviD",bar:"I_Z1VRpVF"},"kind-TEXT":{button:"C_Z2aVTcY C0_Z2dyg2z"},"kind-TEXT_NEGATIVE":{button:"C_ZkiIcp C0_Z1TGpRv"},"kind-TEXT_ON_DARK_BACKGROUND":{button:"C_Z2bg7IA C0_52qC"},"kind-TEXT-disabled":{button:"C_ZvsWfq"},"kind-TEXT_NEGATIVE-disabled":{button:"C_ZvsWfq"},"kind-SUBSCRIPTIONS":{button:"C_Z2cPMlD I_ZMS7mY I4_2ieeaE C4_ZKXxHC"},flex:{button:"F_N"},"size-small":{button:"A_6Eb4 H_6NIX P_1Eu7sD e_6EGz"},"size-extrasmall":{button:"A_6Eb4 H_6Mbr P_3gJOe e_6DUj"},"sizeKind-regularSECONDARY":{link:"i_6UbO"},"sizeKind-smallSECONDARY":{link:"i_6MGW"},"sizeKind-extrasmallSECONDARY":{link:"i_6FIA"},"partner-aol":{button:"e_0"}},_key:"2tCUQh"}},function(e,t,s){"use strict";e.exports={className:{default:{rightRailContainer:"D_F o_v p_R I_ZnwrMC",rightRail:"D_F ek_BB",panesContainer:"D_F em_N ek_BB iz_A iy_h a_3vpWV H_6D6F",panesContainerWithBgColor:"D_F em_N ek_BB iz_A iy_h a_3vpWV H_6D6F I_52qC",attachmentPreview:"em_N",hideAdsChevronWrapper:"x_Z14vXdP W_6LEV H_6D6F X_eTB D_F ab_C o_h p_a T_0 Q_36SPr L_67SN cZW7ROP_n",activeHideAdsChevronWrapper:"x_2fAfSG W_6LEV H_6D6F X_eTB D_F ab_C o_h p_a T_0 Q_36SPr L_67SN cZW7ROP_n",hideAdsChevron:"c27KHO0_n I_52qC O_cMp b_0 D_F cdPFi_Z281SGl r_P s_6NIX H_6NIX j_Z197UJe e_VHH8F ab_C X_dRA cZW7ROP_A O4_N aw4_ZBSKJ8 cdPFi4_52qC Z_O"},hasAttachmentPreview:{panesContainer:"a_n ek_EZ",rightRail:"ek_FB"},"firstPaneName-RightPaneGroceriesList":{rightRailContainer:"I_52qC"},"themeMode-MEDIUM":{hideAdsChevronWrapper:"x_ZYfFSw",rightRailContainer:"I_T",panesContainerWithBgColor:"I_sgPuT"},"themeMode-DARK":{hideAdsChevronWrapper:"x_ZYfFSw",rightRailContainer:"I_T",panesContainerWithBgColor:"I_sgPuT",hideAdsChevron:"I_2sqbOJ O_N cdPFi4_Z281SGl"},"theme-ATT":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-FRONTIER":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-ROGERS":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-BT":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-SKY":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-DEFAULT":{activeHideAdsChevronWrapper:"x_2oWau5",hideAdsChevron:""},"theme-SUNRISE":{activeHideAdsChevronWrapper:"x_Z110WD6",hideAdsChevron:"I4_ZmlXUP aw4_n"},"theme-AQUA_GREEN":{activeHideAdsChevronWrapper:"x_2uOeea",hideAdsChevron:"I4_Z1UHURv aw4_n"},"theme-AQUA_BLUE":{activeHideAdsChevronWrapper:"x_2iwbQA",hideAdsChevron:"I4_Z280Xf5 aw4_n"},"theme-DEEP_PURPLE":{activeHideAdsChevronWrapper:"x_Z1aO4GY",hideAdsChevron:"I4_Zwa5YI aw4_n"},"theme-BLUE_NIGHT":{activeHideAdsChevronWrapper:"x_2oWau5",hideAdsChevron:"I4_Z21zYBA aw4_n"},"theme-DARK_GREY":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-NIGHT_LANDSCAPE":{activeHideAdsChevronWrapper:"x_2uRWCH",hideAdsChevron:"I4_Z1UEcsX aw4_n"},"theme-ROADTRIP":{activeHideAdsChevronWrapper:"x_Z15YOdY",hideAdsChevron:"I4_ZrkPvI aw4_n"},"theme-SUNSET_AUSSIE":{activeHideAdsChevronWrapper:"x_Z110WD6",hideAdsChevron:"I4_ZmlXUP aw4_n"},"theme-LIGHTHOUSE":{activeHideAdsChevronWrapper:"x_2tSflE",hideAdsChevron:"I4_Z1VDTK1 aw4_n"},"themeCombo-DARK_NIGHT_LANDSCAPE":{panesContainerWithBgColor:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{panesContainerWithBgColor:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{panesContainerWithBgColor:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{panesContainerWithBgColor:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{panesContainerWithBgColor:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{panesContainerWithBgColor:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{panesContainerWithBgColor:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{panesContainerWithBgColor:"I_t5YMW"}},_key:"Z1b3v3Q"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB gl_C W_3vpWV H_6D6F C_Z281SGl I_52qC"},"themeMode-MEDIUM":{container:"I_sgPuT C_ZpQYvz m_ZYfFSw"},"themeMode-DARK":{container:"I_sgPuT C_ZpQYvz m_ZYfFSw"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"1y8oxJ"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA t_C e_3mS2U C_Z1YRXYn I_ZpQYvz",activeContainer:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA t_C e_3mS2U C_52qC I_T u_b"},whiteBackground:{container:"C_2sqbRh I_ajP4A"},"contextOfUse_isActive_themeMode-AccountSwitcher_true_LIGHT":{activeContainer:"I_ZpQYvz"},"contextOfUse_isActive_themeMode-AccountSwitcher_true_MEDIUM":{activeContainer:"I_ajP4A"},"contextOfUse_isActive_themeMode-AccountSwitcher_true_DARK":{activeContainer:"I_ajP4A"},"themeMode-LIGHT":{activeContainer:"C_Z281SGl"},"highlightThemeCombo-true_ATT":{container:"C_52qC I_Z2dxrGx Q_A"},"highlightThemeCombo-true_FRONTIER":{container:"C_52qC I_Z1A0QhA Q_A"},"highlightThemeCombo-true_ROGERS":{container:"C_52qC I_Z21W7Hh Q_A"},"highlightThemeCombo-true_BT":{container:"C_52qC I_Z20SNAa Q_A"},"highlightThemeCombo-true_SKY":{container:"C_52qC I_Z2dycH0 Q_A"},"highlightThemeCombo-true_DEFAULT":{container:"C_52qC I_Z2aVTcY Q_A"},"highlightThemeCombo-true_SUNRISE":{container:"C_52qC I_ZmlXUP Q_A"},"highlightThemeCombo-true_AQUA_GREEN":{container:"C_52qC I_Z1UHURv Q_A"},"highlightThemeCombo-true_AQUA_BLUE":{container:"C_52qC I_Z280Xf5 Q_A"},"highlightThemeCombo-true_DEEP_PURPLE":{container:"C_52qC I_Zwa5YI Q_A"},"highlightThemeCombo-true_BLUE_NIGHT":{container:"C_52qC I_Z21zYBA Q_A"},"highlightThemeCombo-true_DARK_GREY":{container:"C_52qC I_Z21W7Hh Q_A"},"highlightThemeCombo-true_NIGHT_LANDSCAPE":{container:"C_52qC I_Z1UEcsX Q_A"},"highlightThemeCombo-true_ROADTRIP":{container:"C_52qC I_ZrkPvI Q_A"},"highlightThemeCombo-true_SUNSET_AUSSIE":{container:"C_52qC I_ZmlXUP Q_A"},"highlightThemeCombo-true_LIGHTHOUSE":{container:"C_52qC I_Z1VDTK1 Q_A"},"highlightDarkPartnerThemeCombo-true_ATT":{container:"C_Z281SGl I_52qC Q_A"},"highlightDarkPartnerThemeCombo-true_FRONTIER":{container:"C_Z281SGl I_52qC Q_A"},"highlightDarkPartnerThemeCombo-true_ROGERS":{container:"C_Z281SGl I_52qC Q_A"},"highlightDarkPartnerThemeCombo-true_BT":{container:"C_Z281SGl I_52qC Q_A"},"highlightDarkPartnerThemeCombo-true_SKY":{container:"C_Z281SGl I_52qC Q_A"}},_key:"1Xvri1"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"D_F en_0 gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1Ozsbb"},"size-XS":{wrapper:"H_6LEV",container:"W_6LEV H_6LEV"}},_key:"ZjGm2r"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"e_dRA l_T cn_dBP cg_FJ k_w r_P A_6EqO u_e69 p_R S_n C_52qC I_ZamTeg D_F H_6VdP gl_C ab_C en_0 M_1Eu7sD ir3_1JO2M7 it3_dRA",badgeContainer:"p_a h_Z1ffcnk L_0 T_67SN"},"themeMode-MEDIUM":{link:"ir3_Z1FS2Mn"},"themeMode-DARK":{link:"ir3_Z1FS2Mn"}},_key:"qoTwW"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3zJDR k_w I_52qC D_F el_QDCVj",header:"M_0 P_Qw4gz A_6FsP u_e69 D_F el_Z1mLfFl ab_AJ gl_FM",icon:"p_a M_6Fd5",title:"em_N",close:"Q_6Eb4",message:"P_ZG0ms9 w_AS ix_AS",controls:"P_ZG0ms9"},hideIcon:{header:"P_JMQ5f",message:"P_Z2fgN7g",controls:"P_ZG120x"},showCustomTitle:{header:"u_dPo i_6MGW je_6DEy"},wideContainer:{container:"W_3DpOq"}},_key:"DF9OM"}},function(e,t,s){"use strict";e.exports={className:{default:{divider:"M_ZyFsHm q_ak5k6 r_P cdPFi_Zjpyv3 t_C H_0 p_R P_dRA q4_52qC cdPFi4_Zjpytw",moreButton:"b_n r_P P_dRA p_R H_6Fd5 T_69H5 q_T W_6D6F ir3_1JO2M7",moreIcon:"p_a T_68F4 L_dRK W_6Eb4 H_6Eb4"},"themeMode-MEDIUM":{divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"ir3_Z1FS2Mn"},"themeMode-DARK":{divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"ir3_Z1FS2Mn"}},_key:"1W2w4s"}},function(e,t,s){"use strict";e.exports={className:{default:{addMailboxOptionContainer:"H_6NIX X_eDQ D_F ab_C r_P cdPFi_Z281SGl ir3_1JO2M7 it3_dRA I4_2tvNsT"},isThemeModeDark:{addMailboxOptionContainer:"C_52qC"}},_key:"2acjlb"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C H_6NIX N_fq7 C_Z281SGl I4_2tvNsT",newFolderContainer:"D_F ab_C r_P cdPFi_Z281SGl ir3_1JO2M7 it3_dRA I4_T"},"indentation-INDENTATION_NORMAL":{newFolderContainer:"P_ZmsKgw"},fullWidth:{newFolderContainer:"W_6D6F"},noHoverColor:{container:"I4_T"},useDarkVariations:{container:"C_52qC",newFolderContainer:"cdPFi_2sqbRh ir3_Z1FS2Mn"}},_key:"1pSsLW"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C",closeButton:"en_0",inputContainer:"D_F b_0 em_N",inputSubmitContainer:"D_F em_N ab_C b_2w4l8N",input:"W_6D6F k_w H_6LEV y_Z2hYGcu X_eo6 b_0 I_2bfYWg",okIcon:"I_ZroviD en_0 W_6LEV H_6LEV",popoverContainer:"D_F",popover:"P_eTB C_ZnTFMv W_3nh43 k_w A_6Eb4"},invalidFolderName:{inputSubmitContainer:"b_Z1222NH"},validFolderName:{okIcon:"I_Z2aVTcY"},"indentation-INDENTATION_NORMAL":{container:"P_ZmsKgw"}},_key:"ZOLKRA"}},function(e,t,s){"use strict";e.exports={className:{default:{inputContainer:"p_R D_F W_6D6F",input:"q_T y_Z2hYGcu je_0 jb_0 X_fq7 N_fq7",clearButtonContainer:"p_a T_0 R_0 B_0 W_6VdP D_F gl_C ab_C"},showClear:{rtlRemoveInput:"rtlRM_X_fq7 rtlRM_N_6VdP",rtlRawInput:"rtlR_N_fq7 rtlR_X_6VdP"},"showClear-false":{input:"X_fq7 N_fq7"}},_key:"LKdGH"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT",activeContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT n_Z1YKD9t I_1kC8gG",dragoverContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT I_1kC8gG",activeDragoverContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT n_Z1YKD9t I_1kC8gG",labelContainer:"D_F W_6D6F ab_C i_6FIA p_R o_h G_e J_x",activeLabelContainer:"D_F W_6D6F ab_C i_6FIA p_R",folderLabelContainer:"D_F W_6D6F ab_C i_6FIA p_R",label:"G_e J_x o_h H_6FIA",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F cdPFi_Z1YRXYn",folderMenu:"c27KHO0_n I_T b_0 X_fq7 v_h D_F em_N gl_CH je_e8l",folderMenuIcon:"cdPFi_Zjpyu2 r_P E_fq7 cdPFi4_Z281SGl",loader:"E_6Eb4",unreadWrapper:"E_fq7",unreadFadeIn:"ah_ZPQR1p",unreadFadeOut:"ah_Z1DNnWG",navContainer:"W_6D6F C_Z281SGl D_F",activeNavContainer:"W_6D6F C_Z281SGl D_F u_b",trashIconWrapper:"P_3PUiW D_F em_N gl_CH cdPFi_Zjpyu2 r_P cdPFi4_ZkiIcp"},isActive:{labelContainer:"Q_689y",unreadWrapper:"T_eDQ"},"indentation-TOPFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-TOPFOLDER_WITHOUT_ICON":{container:"X_6LEV",activeContainer:"X_6LEV",dragoverContainer:"X_6LEV",activeDragoverContainer:"X_6LEV"},"indentation-SUBFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-SUBFOLDER_WITHOUT_ICON":{container:"X_6EGz",activeContainer:"X_6EGz",dragoverContainer:"X_6EGz",activeDragoverContainer:"X_6EGz"},showFolderMenu:{folderMenu:"v_v"},"themeMode-MEDIUM":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn",navContainer:"C_52qC ir3_Z1FS2Mn",activeNavContainer:"C_52qC ir3_Z1FS2Mn",dragoverContainer:"C_2sqbRh",activeDragoverContainer:"C_52qC",folderLabelContainer:"C_52qC",chevron:"cdPFi_2sqbRh",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_52qC",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"},"themeMode-DARK":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn",navContainer:"C_52qC ir3_Z1FS2Mn",activeNavContainer:"C_52qC ir3_Z1FS2Mn",dragoverContainer:"C_2sqbRh",activeDragoverContainer:"C_52qC",folderLabelContainer:"C_52qC",chevron:"cdPFi_2sqbRh",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_52qC",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"}},_key:"Zwhend"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"P_3Y3Gk",separator:"m_Z14vXdP M_3HLUz"}},_key:"220Q4E"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F k_w W_6D6F H_6NIX X_6DEy N_fq7 ab_C C_Z281SGl ir3_1JO2M7 it3_dRA I4_2tvNsT",activeContainer:"D_F k_w W_6D6F H_6NIX X_6DEy N_fq7 ab_C C_Z281SGl ir3_1JO2M7 it3_dRA I4_2tvNsT u_b n_Z1YKD9t I_1kC8gG",labelContainer:"D_F W_6D6F ab_C i_6FIA",label:"G_e J_x o_h E_6LEV H_6FIA",smartViewIcon:"c27KHO0_n I_T N_fq7 b_0 D_F em_N gl_CH",badgeContainer:"a_6NIX h_1UBaXG",rtlRawScaleX:"rtlR_h_2gl0WC rtlR_N_fq7 rtlR_X_2vNgMj",starAnimation:"N_fq7 ab_C Q_A i_6FIA W_72FG H_6LEV D_F k_w",sparkleGuidedStarAnimation:"p_a H_6VdP Q_69H5"},"animation-slideUp":{starAnimation:"v_h ah_Z2d532X ai_qM"},isActive:{smartViewIcon:"Q_68F4"},isActiveAndNoIcon:{labelContainer:"Q_689y"},hasIcon:{container:"X_fq7"},"themeMode-MEDIUM":{container:"C_52qC ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn"},"themeMode-DARK":{container:"C_52qC ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn"}},_key:"OEsAx"}},function(e,t,s){"use strict";e.exports={className:{default:{menuContainer:"p_a K_q o_h a_3wdvH Z_3mRud q_52qC e_dRA j_ZlOSbd",itemLabel:"em_N P_0 o_h G_e",folderContainer:"K_3rehn iz_A iy_h P_cFf",searchContainer:"hd_n P_cFf M_0 m_Z14vXdP",emptyMessageContainer:"hd_n P_cFf M_0 m_0",fullLabel:"D_F W_6D6F",noResultContainer:"D_F ab_C C_Z1Xxgu0 i_6VdP k_w",searchInputContainer:"D_F ab_C k_w X_6EGz N_eo6 W_3wdvH",searchInput:"em_N cn_0 W_6D6F H_6VdP N_0 X_0 A_6EqO C_Z281SGl ir3_0",highlightedListItem:"I_1I4z5p O_N I4_1I4z5p",listItem:"I_52qC",placeAtTopLevel:"m_Z14vXdP",selectPlaceholder:"F_N o_h J_x D_X G_e C_Z1TsNWR",selectLabel:"D_F gl_FL C_Z281SGl m_2w4l8N H_6VdP i_6VdP X_fq7",selectedValue:"em_N o_h J_x D_X G_e C_Z281SGl",inputWrapper:"em_N D_F o_h gl_FL H_6VdP i_6VdP",selectInput:"O_0 W_dBP H_dBP b_n ir_n p_a D_X",arrowDown:"r_P D_F gl_C ab_C"}},_key:"1MpUhQ"}},function(e,t,s){"use strict";e.exports={className:{default:{smartviewList:"hd_n P_0 M_0",smartviewContainer:"H_6NIX D_F ab_C X_6DEy r_P ir3_1JO2M7 it3_dRA I4_2tvNsT",toggleSmartViews:"N_fq7 A_6EqO C_Z1YRXYn C4_Z1VRpVF",labelContainer:"D_F W_6D6F ab_C i_6FIA",label:"em_N G_e J_x o_h E_fq7 H_6FIA",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},"themeMode-MEDIUM":{smartviewContainer:"C_52qC ir3_Z1FS2Mn",toggleSmartViews:"C_52qC C4_2sqbRh"},"themeMode-DARK":{smartviewContainer:"C_52qC ir3_Z1FS2Mn",toggleSmartViews:"C_52qC C4_2sqbRh"}},_key:"x0Tlt"}},function(e,t,s){"use strict";e.exports={className:{default:{scrollOuter:"p_R k_w W_6D6F U_3mS2U",listSpacer:"H_6Fd5"},showMailproFreeTrialUpsell:{scrollOuter:"U_3n1yN"}},_key:"1NY9BG"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"p_R Z_0 em_N W_6D6F D_F ek_BB",shadow:"O_0 Z_N p_a T_73HH W_6D6F H_eo6 aw_Z1X3J96",folderList:"Y_fq7 P_Z1jXKuU D_B iz_A iy_h it_68UO"},scrollingUnder:{shadow:"O_N"},isRTL:{adRec:"E_36Jhx"},"themeMode-MEDIUM":{container:"C_52qC"},"themeMode-DARK":{container:"C_52qC"}},_key:"Z1DmSjx"}},function(e,t,s){"use strict";e.exports={className:{default:{menu:"I_52qC b_Z14vXdP e_dRA j_Z2jsUnk C_Z281SGl Z_3nxNR p_a ir_0 P_3HLUz"}},_key:"1RO7iY"}},function(e,t,s){"use strict";e.exports={className:{default:{buttonContainer:""},active:{buttonContainer:"I_7l9bL"}},_key:"ZTqMOv"}},function(e,t,s){"use strict";e.exports={className:{default:{swatchItem:"D_F ek_BB ab_C M_eo6",swatchContent:"W_7rdk",swatchTitleBase:"J_x U_6Eb4 ac_CI",colorElement:"p_R",color:"D_F gl_C ab_C W_6LEV H_6LEV b_0 P_0 it_689y",colorMenu:"P_6DEy",subColorMenu:"P_Z2aXgbn Q_eTB"}},_key:"2lVS8r"}},function(e,t,s){"use strict";e.exports={className:{default:{itemAddress:"A_6DUj C_Z1Xxgu2",checkmarkWrapper:"W_6LEV H_6LEV D_X",buttonContent:"D_F ab_C i_6LEV",rtlIgnoreDir:"rtlI_dz_sSg",rtlIgnoreMarginR:"rtlI_E_fq7",rtlIgnoreMarginL:"rtlI_Q_fq7"}},_key:"2kABJf"}},function(e,t,s){"use strict";e.exports={className:{default:{select:"C_516e D_F ab_C ir_0 q_T b_0",menuContainer:"D_F",label:"D_F ab_C y_Z2hYGcu A_6EqO",labelName:"a_3He0m",menuLabelEmail:"D_X",menu:"P_3zDxc l_ZufDBK j_20l77p",fromField:"q_T b_0 C3_4N1z"}},_key:"Z2pponI"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"p_R",icon:"R_0 B_e8l i_0 q_52qC p_a e_dRA",avatarImg:"e_e5X"},iconSizeBig:{icon:"R_eDQ B_6DEy"},darkMode:{icon:"q_Zjpyu2"}},_key:"1cT1Sd"}},function(e,t,s){"use strict";e.exports={className:{default:{dragIcon:"H_6FIA Z_7G9S p_a",counter:"D_X H_6Fd5 W_6Fd5 Z_7G9T p_a L_fFR T_6Fd5 e_e5X t_C q_ZnTFMv C_52qC"}},_key:"1HvlCH"}},function(e,t,s){"use strict";e.exports={className:{default:{anchor:"D_F",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg"}},_key:"uHY9u"}},function(e,t,s){"use strict";e.exports={className:{default:{rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg",container:"D_F ek_BB en_0 I_52qC r_BN W_3v1qi cZ1RN91d_GG X_6Fd5 N_6Fd5",email:"o_h J_x mq_CZ G_e r_P C_Z2aVTcY S4_U ac_CI",phone:"Y_dRA",header:"U_fq7 p_R",rightColElement:"D_F ek_BB i_6EWk Q_6Eb4 o_h gl_C W_3o4BO",contactFlexContainer:"D_F A_6DUj je_6Fd5 U_fq7",contacts:"r_P C_Z2aVTcY S4_U ac_CI Y_eo6",merchantCardContainer:"ab_C D_F ek_EZ u_b gl_FM M_6Fd5 H_72FG p_R",textWrapper:"ab_C D_F",textLeft:"E_6Eb4",textRight:"D_F ek_BB",textName:"r_BN A_6FsP C_Z281SGl",textLink:"A_6DUj u_e69 C_Z2aVTcY",actionWrapper:"D_F ab_C E_6FIA",partnerAttributionIcon:"p_a R_0"},isInRightRail:{container:"je_6LEV jb_6LEV k_w M_ZmdUJf W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz K_3I1y8 o_A",contactFlexContainer:"je_dm5 U_dm5"},partnerIconEnabled:{container:"je_eo6"},isCompose:{email:"r_BN C_Z281SGl S4_n"},isEnhancedContactCard:{container:"jb_0",contactFlexContainer:"A_6EqO U_0",sharingPanel:"D_F gl_l",header:"U_dRA",phone:"Y_eo6 A_6EqO",openComposeIcon:"P_Z1mVhPY cdPFi_Z1WGv5u",vertical:"n_Z1a7UWG H_6LEV M_1xQvDX",unclickableArea:"W_CD jb_fq7",contacts:"C4_Z29WjXl S4_n P_Z1mVhPY U_6Eb4"},isEnhancedInRightRail:{contactFlexContainer:"Y_6Eb4",unclickableArea:"jb_6MGW"},hasWebsiteLink:{textName:"r_P"},showOutAndBackExpansionText:{textName:"r_BN A_6MGW",textLink:"r_BN u_b A_6EWk C_Z281SGl"},darkModeNonPhotoTheme:{container:"I_sgPuT C_ZpQYvz l_T",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"},darkModePhotoTheme_NIGHT_LANDSCAPE:{container:"I_cOYF6 C_ZpQYvz l_ajP6C",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"},darkModePhotoTheme_ROADTRIP:{container:"I_1iaDt1 C_ZpQYvz l_ajP6C",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"},darkModePhotoTheme_SUNSET_AUSSIE:{container:"I_2woj1H C_ZpQYvz l_ajP6C",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"},darkModePhotoTheme_LIGHTHOUSE:{container:"I_t5YMW C_ZpQYvz l_ajP6C",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"}},_key:"Z1KX3wq"}},function(e,t,s){"use strict";e.exports={className:{default:{social:"D_F gl_l Y_fq7 Q6_67SN",socialIcon:"D_F E_6Eb4 cdPFi_ZpQYvz",backyardIcon:"D_F E_6Eb4 cdPFi_Z1RVMOO cdPFi4_Z2aVTcY"},isEnhancedContactCard:{social:"Y_0",socialIcon:"E_eo6 P_IdQyw"},darkVariations:{backyardIcon:"cdPFi_2sqbRh cdPFi4_52qC",socialIcon:"cdPFi_2sqbRh cdPFi4_52qC"}},_key:"1GcehN"}},function(e,t,s){"use strict";e.exports={className:{default:{containerFooter:"H_A z_Z12nDQf je_eTB jb_6DEy C_Z1YRXYn A_6DUj",footerText:"X_eo6 N_eo6 i_6EqO",footer:"U_fq7"}},_key:"Z1Ow2aJ"}},function(e,t,s){"use strict";e.exports={className:{default:{contactSummary:"gl_C A_6EqO C_Z1YRXYn o_h je_6Fd5",contact:"r_P C_Z2aVTcY"},"themeMode-DARK":{contactSummary:"C_ZvsWfq",contact:"C_Z2bg7IA"},"themeMode-MEDIUM":{contactSummary:"C_ZvsWfq",contact:"C_Z2bg7IA"}},_key:"2pfhwA"}},function(e,t,s){"use strict";e.exports={className:{default:{avatarContainer:"W_A o_v H_tQ r_BN",leftColElement:"D_B gl_C"},websiteLinked:{avatarContainer:"r_P"},isMerchantCard:{avatarContainer:"H_rd"}},_key:"Z2d8A3H"}},function(e,t,s){"use strict";e.exports={className:{default:{rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg",name:"C_Z281SGl i_6MGW A_6EWk u_b cZ1RN91d_GG w_AS k_w D_X a_3nHoX o_h",searchSection:"r_P D_F cdPFi_Z1YRXYn cdPFi4_Z2aVTcY C4_Z2aVTcY p_R",searchIcon:"Q_dRA cdPFi_q P_Z1nnkYl",iconsSection:"ac_CI"},isMobile:{name:"A_6FIA",searchSection:"gl_FM ab_C",searchIcon:"P_3gJOe"},isEnhancedContactCard:{iconsSection:"cdPFi4_Z2aVTcY",searchSection:"cdPFi4_Z1YRXYn",groupedIconsSection:"r_BN D_F",partnerIcon:"P_Z1jFCVf",searchIcon:"P_xCFNf"},darkVariations:{name:"C_ZpQYvz",searchSection:"cdPFi_ZpQYvz cdPFi4_52qC C4_52qC"},defaultName:{name:"fd_i"}},_key:"2975lR"}},function(e,t,s){"use strict";e.exports={className:{default:{infoIconContainer:"D_F gl_CH cdPFi_Z1TsNWR cdPFi4_Z2aVTcY",sponsoredIconContainer:"D_F ab_C cdPFi_Z29dUYT"},isOnDarkBackground:{infoIconContainer:"cdPFi_ZpQYvz cdPFi4_52qC",sponsoredIconContainer:"cdPFi_ZpQYvz"}},_key:"Z11Bq35"}},function(e,t,s){"use strict";e.exports={className:{default:{position:"i_6LEV C_Z1VRpVF Y_dRA A_6EqO q_T w_AS"},isMobile:{position:"A_6Fd5"},darkVariations:{position:"C_ZvsWfq"}},_key:"Z1uMvl0"}},function(e,t,s){"use strict";e.exports={className:{default:{website:"o_h J_x mq_CZ G_e r_A Y_dRA i_6EWk C_Z2aVTcY S4_U",placeHolder:"H_6EGz"},websiteLinked:{website:"r_P"},isEnhancedContactCard:{website:"S4_n C4_Z29WjXl"},"themeMode-DARK":{website:"C_Z2bg7IA"},"themeMode-MEDIUM":{website:"C_Z2bg7IA"}},_key:"Z1OpBIa"}},function(e,t,s){"use strict";e.exports={className:{default:{merchantCardContainer:"ab_C D_F ek_EZ u_b gl_FM M_6Fd5 H_72FG",textWrapper:"ab_C D_F",textLeft:"ab_C D_F E_6Eb4",textRight:"D_F ek_BB",textName:"A_6FsP C_Z281SGl",textLink:"H_6EGz",actionWrapper:"E_73HH"}},_key:"1ydLBT"}},function(e,t,s){"use strict";e.exports={className:{default:{input:"D_F ab_CI je_eo6 em_N m_Z1a7UWG"},hasFocus:{input:"bj_Z2aVTcY"}},_key:"2tU4n4"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"en_0",inputDark:"C_Z281SGl",additionalOptionsButtonWrapper:"D_F p_a L_371PO B_dBP P_eo6",additionalOptionsListWrapper:"P_3Y3Gk",replyToAnchor:"Q_pM D_F ab_C r_P",replyToAnchorLabel:"E_Q",replyToPopover:"P_pM",ccContainer:"D_F ab_C em_N",subject:"G_e y_Z2hYGcu A_6EqO C_Z281SGl ir_0 P_0 X_0 bj3_Z281SGl b_0 j_n d_72FG em_N",extraRecipientsBtn:"en_0 Q_fq7 E_eo6 Y_6DEy U_6DEy A_6DUj y_Z2hYGcu C_Z1VRpVF P_ZvFAnJ b_n a_3mS2U q_T r_P",composeHeaderTop:"p_R",composeSubject:"p_R",ccButton:"C_Z1TsNWR je_0 jb_0 cn_0 q_T en_0 r_P",ccButtonNotLast:"x_ZGN9rt C_Z1TsNWR je_0 jb_0 cn_0 q_T en_0 r_P",xButton:"en_0",xButtonWrapper:"p_a R_fq7 T_fq7"},"filled-subject":{subject:"C_Z281SGl"},isSubjectDisabled:{subject:"C_Z1VRpVF I_T"}},_key:"10oumY"}},function(e,t,s){"use strict";e.exports={className:{default:{editorWrapper:"p_R em_N D_F ek_BB en_0 d_eik",editorContainer:"p_R cZ1RN91d_GG k_w W_6D6F em_N D_F",rte:"em_N ir_0 iy_A iz_h",placeholder:"p_a T_6LEV L_0 C_Z1TsNWR cZW7ROP_n",button:"b_0 ir_0 P_eo6 I_T y_Z2hYGcu A_6DUj C_Z1TsNWR M_6Fd5",buttonInner:"D_F ab_C r_P"},"kind-MESSAGE":{rte:"k_w P_6Fd5 d_7ALe",placeholder:"T_eTB P_1Eu7sD i_6VdP"},"kind-COMPOSE":{rte:"N_6Fd5"},"kind-VACATION_RESPONSE_SETTINGS":{rte:"k_w P_6Fd5 d_3w6xl",placeholder:"T_eTB P_1Eu7sD i_6VdP"}},_key:"jyro8"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"I_52qC b_Z14vXdP j_ZqTdtW Z_e69 p_a D_F ek_BB P_1iBkeu",button:"q_ZpQYvz e_dRA k_w r_P H_6NIX s_7ceA Y_6Eb4 A_6EqO b_0 C_Z1TsNWR",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg",item:"H_6UbO s_3rBgu a_3vXwX jb_fq7 p_R D_F ab_C",testLink:"r_P C_Z2aVTcY q_2uyuKK m_2tEJa0 D_Z1YJkyX ab_C gl_CH J_x P_ZvFCc1 H_6D6F W_6D6F",textInput:"z_0 x_0 n_0 m_2tEJa0 H_6D6F W_6D6F A_6EqO bj3_Z2aVTcY",linkInput:"z_0 x_0 n_0 m_2tEJa0 H_6D6F s_3r5Ku N_eo6 A_6EqO bj3_Z2aVTcY",close:"t_r E_36JN3 Q_0"},saveBtnEnabled:{button:"q_Z2aVTcY C_52qC"},focusOnLinkInput:{testLink:"bj_Z2aVTcY"}},_key:"1OdjAx"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3zKan k_w I_52qC D_F el_QDCVj",header:"M_0 P_SdQ8b D_F el_Z1mLfFl ab_AJ",icon:"p_a M_6Fd5",title:"em_N u_e69 A_6FsP M_ZlnAYq",close:"Q_6Eb4 ac_C",message:"P_kT94R",controls:"P_kT94R"}},_key:"11hA3I"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"p_a D_F I_52qC b_Z14vXdP j_ZqTdtW Z_e69 P_Z1E2YFn",linkWrapper:"C_Z1VRpVF",link:"C_Z2aVTcY a_3rdfm J_x o_h G_e D_X f_r",control:"Q_6Eb4 u_b C_Z2aVTcY r_P"}},_key:"Z15JkLT"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB em_N"}},_key:"1Nkogp"}},function(e,t,s){"use strict";e.exports={className:{default:{attachmentDragContainer:"em_N D_F ek_BB p_R o_h",dragOverlay:"cZW7ROP_n b_2dWFvS T_fq7 p_a L_0 R_0 B_eo6 D_F gl_C ab_C q_2iedUU",dragDescriptionContainer:"D_F A_6EWk u_b O_cMr ek_BB ab_C C_Z2aVTcY",dragTextDescription:"je_6LEV"}},_key:"Z19Utn2"}},function(e,t,s){"use strict";e.exports={className:{default:{icon:"D_X P_3gIMd O_cMu O4_N I4_2ieea9 O0_N I0_7l9bL e_dRA",sectionDivider:"M_3gIMd",rtlIgnoreDir:"rtlI_dz_sSg rtlI_D_F",rightAlignIcon:"h_2gl0WC",rtlRawScaleX:"rtlR_h_2gl0WC",rtlRawHidden:"rtlR_v_h rtlR_D_ATgVd",rtlRemoveHidden:"rtlRM_v_h rtlRM_D_ATgVd"}},_key:"ZSXmc7"}},function(e,t,s){"use strict";e.exports={className:{default:{menuItem:"C_Z281SGl H_6UbO i_6UbO N_fq7 D_F ab_C",checkmarkWrapper:"D_X E_fq7 i_0"},"selected-false":{checkmarkWrapper:"W_6LEV"},"kind-tiny":{menuItem:"A_6DEy"},"kind-small":{menuItem:"A_6EqO"},"kind-medium":{menuItem:"A_6Fd5"},"kind-large":{menuItem:"A_6MGW"},"kind-xlarge":{menuItem:"H_72FG i_72FG A_6UbO"},"kind-huge":{menuItem:"H_7ceA i_7ceA A_74JI"},"kind-modern":{menuItem:"y_1ACvVU"},"kind-modernwide":{menuItem:"y_ZISf5J"},"kind-classic":{menuItem:"y_ZYqQIR"},"kind-classicwide":{menuItem:"y_ZNDoVU"},"kind-courier":{menuItem:"y_16XJVH"},"kind-garamond":{menuItem:"y_1i8dl0"},"kind-lucida":{menuItem:"y_Z2hYH8W"}},_key:"Cv0SA"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"p_R D_F ab_C P_eo6 o_h r_P",input:"p_a T_0 L_0 O_0 r_P o_h W_0 H_0 cZW7ROP_A"},pointerEventsDisabled:{input:"cZW7ROP_n"}},_key:"1Oyb59"}},function(e,t,s){"use strict";e.exports={className:{default:{composeToolbar:"z_Z14vXdP D_F ab_C I_52qC W_6D6F p_R B_0",sendButton:"q_Z2aVTcY e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2hYGcu A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl ir3_1JO2M7 it3_dRA",status:"Q_fq7 E_fq7 C_Z1TsNWR",spacer:"em_N",sectionDivider:"M_1Eu7sD n_Z14vXdP H_6MGW",formattingTools:"en_N J_x o_h cZ1RN91d_n",icon:"D_X P_3gIMd V_GI O_cMu O4_N I4_2ieea9 O0_N I0_7l9bL ir3_1JO2M7 it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",menuIcon:"D_Z1YJkyX gl_C V_GI ir3_1JO2M7 it3_dRA H_6NIX W_6VdP",rtlRawScaleX:"rtlR_h_2gl0WC",deleteButton:"D_Z1YJkyX gl_C en_0 P_0 q_n O4_N I4_2ieea9 ir3_1JO2M7 it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",trashIcon:"cdPFi_Z26U5qH cdPFi4_ZkiIcp"},"kind-MESSAGE":{composeToolbar:"W_A z_n i_N H_72FG",toolbarContainer:"gl_C z_2w4l8N"},"kind-VACATION_RESPONSE_SETTINGS":{composeToolbar:"W_A i_N H_7ceA P_2aKOEx",toolbarContainer:"gl_C z_2w4l8N"},disabled:{composeToolbar:"cZW7ROP_n O_od"},fixed:{composeToolbar:"p_f Z_e69",toolbarPlaceholder:"W_6D6F H_7qGO"}},_key:"Z1QEEPF"}},function(e,t,s){"use strict";e.exports={className:{default:{attachmentIcon:"W_6UbO H_6UbO",thumbnailIcon:"W_7rdk H_7rdk",fallback:"u_e69 A_6Fd5 C_ZroviD i_74JI"}},_key:"Z1txtmb"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3zJDR k_w I_52qC D_F el_QDCVj",header:"M_0 P_JMQ5f A_6FsP u_e69 D_F el_Z1mLfFl ab_AJ gl_FM",btnLogo:"D_F ab_C ek_BB r_P",logo:"W_74JI H_74JI",icon:"p_a M_6Fd5",title:"em_N",close:"Q_6Eb4",message:"P_Z2fgN7g w_AS ix_AS",btnControls:"P_ZG120x",linkControls:"D_F gl_FL M_1Wxz6o P_ZG120x",link:"C_Z2aVTcY A_6EqO i_6FIA"}},_key:"PwI0Y"}},function(e,t,s){"use strict";e.exports={className:{default:{compose:"I_52qC j_n k_w W_6D6F D_F ek_BB em_N P_ZzJed p_R",loadingContainer:"je_74JI",editorContainer:"em_N D_F ek_BB iz_A"}},_key:"2d0UNX"}},function(e,t,s){"use strict";e.exports={className:{default:{errorContainer:"H_6D6F W_6D6F",errorWrapper:"H_6D6F W_6D6F D_F gl_C ab_C P_Z17Hvh7",errorMessage:"A_6FsP Q_fq7",emptyBodyRetry:"r_P C_Z2aVTcY"}},_key:"Z1fhFdm"}},function(e,t,s){"use strict";e.exports={className:{default:{flexSpacer:"em_N en_N"}},_key:"93Fn1"}},function(e,t,s){"use strict";e.exports={className:{default:{loadingContainer:"je_74JI W_6D6F"}},_key:"1LglKj"}},function(e,t,s){"use strict";e.exports={className:{default:{compose:"p_a R_0 T_0 L_0 B_0 D_F"}},_key:"ZyEg8F"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB r_P P_ZVpSLT I_52qC m_Z14vXdP",buttonGroup:"D_F en_0 u_b C_Z1TsNWR U_7rdk",listItem:"D_I r_BN",button:"r_P u_b C_Z2aVTcY b_0 P_0 M_0 H_6Nds A_6EqO y_Z2hYGcu I_T C4_Z29WjXl ir3_1JO2M7 it3_dBP",comma:"u_b C_Z1TsNWR"}},_key:"Z1IpNRl"}},function(e,t,s){"use strict";e.exports={className:{default:{tooltip:"s_3rBgu I_Zcn3mu C_52qC t_C P_fQos4 e_eTB p_a dq33_Z1WN6IG p33_a T33_e5X Y33_69rk cn33_fam cg33_FJ"},right:{tooltip:"R33_6D6F L33_A l33_Z1vf50c"},left:{tooltip:"L33_6D6F R33_A l33_9Tjpk"}},_key:"Z1Kvy9o"}},function(e,t,s){"use strict";e.exports={className:{default:{description:"u_dPo C_Z1YRXYn U_6Eb4",list:"Q_69rk K_3o5DP P_dBP iz_A",item:"D_F ab_C u_e69 r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7",separator:"m_Z14vXdP M_1HT1B4",checkbox:"P_eo6 D_F",option:"D_F ab_C Q_69bz u_e69 r_P ir3_1JO2M7"}},_key:"uRumm"}},function(e,t,s){"use strict";e.exports={className:{default:{iframe:"W_6D6F b_n o_h jb_0 X_6MGW N_6Fd5"}},_key:"Z1f2P3g"}},,function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_CI A_6EqO k_w e_O P_pI I_Z9gXev",content:"em_N ek_BB Q_U E_U",title:"u_e69",message:"Y_Q",buttons:"D_F H_qH Y_U Q_c38",reportButton:"I_T M_Z252LoO H_q i_N",safeButton:"I_T"}},_key:"Z2jjbn8"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"D_F W_6D6F r_BN gl_C",container:"D_F ab_C en_0 b_Z14vXdP e_3mS2U I_52qC P_Z1otBpf",bottomLine:"M_0 P_0 cn_0",label:"X_eo6",toolbarItem:"r_P D_F M_1Eu5U7 cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",moreMenuItem:"r_P D_F M_oRiNT",rtlRawScaleX:"rtlR_h_2gl0WC"}},_key:"Z2jp2F9"}},function(e,t,s){"use strict";e.exports={className:{default:{participants:"o_h J_x em_N G_e",strong:"u_Z13VSE6"},transparent:{participants:"em_0 v_h"}},_key:"ZDOKbg"}},function(e,t,s){"use strict";e.exports={className:{default:{backToListButton:"y_Z2hYGcu A_6EqO J_x C_q cdPFi_q E_fq7"}},_key:"ZlckKY"}},function(e,t,s){"use strict";e.exports={className:{default:{inputContainer:"D_F F_cV1 ek_BB p_R W_6D6F",hint:"D_B Y_fq7 Q_fq7 A_6DUj C_Z1YRXYn",error:"D_B Y_fq7 Q_fq7 A_6DUj C_ZkiIcp",inputField:"z_0 n_0 x_0 q_T m_2w4l8N H_6VdP em_N A_6EqO C_Z281SGl ir3_0 m3_2fAfSG"},"kind-DARK_BORDER_BOTTOM":{inputField:"m_2rYSBF"},"kind-LEFT_ICON":{inputField:"q_ptT19 m_0 b_0 je_0 jb_0 X_6MGW N_6MGW m3_0 ir3_0",inputIcon:"B_0 L_eo6 p_a M_A T_0 D_F ab_C"}},_key:"Z1vqgmB"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F",popoverListWrapper:"P_3Y3Gk",list:"hd_n D_F ab_C M_0 P_0",checkboxWrapper:"D_F",chevronWrapper:"D_F cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY"},"themeMode-DARK":{chevronWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"}},_key:"Z22Yrri"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F D_F"}},_key:"Z6fPnV"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F D_F",mailReader:"D_F ab_FT em_N ek_BB",listContainer:"D_F H_6D6F ab_FT em_N",toolbar:"en_0",leftPane:"en_0 ej_dAt p_R",deadResizer:"en_0 ej_dBP",resizer:"en_0 ej_dBP",rightPane:"em_T ej_0 p_R D_F o_h",messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F"},"previewpane-0":{listContainer:"M_0 p_R"},"previewpane-1":{deadResizer:"I_ZpQYvz",resizer:"I_ZpQYvz r_CA ej_eo6 Z_N I4_ZroviD",blank:"M_0"},"previewpane-2":{listContainer:"ek_BB",leftPane:"d_3nV5V",deadResizer:"W_6D6F ej_fq7 I_ZpQYvz",resizer:"W_6D6F ej_fq7 I_ZnIF8Y r_EB Z_N I4_ZroviD"},"themeMode-DARK":{blank:"I_T",resizer:"I_ajP3z"},previewpaneInPixels:{leftPane:"s_3s1zo d_3nV5V en_N",rightPane:"s_3AgFn d_3nV5V"}},_key:"2kUKPB"}},function(e,t,s){"use strict";e.exports={className:{default:{listContainer:"p_R o_h D_F H_A W_6D6F k_w em_N"}},_key:"ZCkcGS"}},function(e,t,s){"use strict";e.exports={className:{default:{scroller:"p_R Z_0 iy_h iz_A W_6D6F H_6D6F k_w em_N c22hqzz_GN",list:"M_0 P_0",item:"H_A hd_n p_a L_0 R_0",heightPlaceHolder:"p_a T_0 L_0 W_dBP I_T cZW7ROP_n Z_nF",topHolder:"D_F ek_BC o_h p_R",bottomHolder:"o_h"}},_key:"ZXg8Ht"}},function(e,t,s){"use strict";e.exports={className:{default:{flashSaleCountdown:"D_F ab_C C_Z1VRpVF cdPFi_Z1VRpVF",flashSaleCountdownText:"Q_eo6"},flashSaleHighlight:{flashSaleCountdown:"C_Z287E9E cdPFi_Z287E9E"},isDarkTheme:{flashSaleCountdown:"C_ZvsWfq cdPFi_ZvsWfq"}},_key:"Z1bA1sY"}},function(e,t,s){"use strict";e.exports={className:{default:{starElement:"p_R N_dBP o_h D_B f_l A_6Eb4",activeFullStar:"p_R D_B f_l C_Z1ryQjN",activeEmptyStar:"p_a D_B Z_N T_0 L_0 C_Z1vPqV0",inActiveEmptyStar:"C_ZpQYvz",halfActiveFullStar:"p_a D_B Z_N W_e5X T_0 L_0 o_h C_Z1ryQjN",halfActiveEmptyStar:"p_R D_B f_l C_ZpQYvz",halfBorderStar:"p_a D_B Z_O W_e5X o_h T_0 L_0 C_Z1vPqV0"}},_key:"Z1HXcUd"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C H_qN p_R X_eo6 h_Z1H3PfF I4_1I4yPF",subContainer:"D_F r_P ab_C H_qN bn_dBP bm_FJ bj_2spJWC A_6EqO i_6FIA o_h W_6D6F",avatar:"en_0 Q_fq7 E_6FIA i_0",vendorGrid:"D_F o_h ab_C H_6D6F a_3nq6r em_pO ej_0 p_R",infoGrid:"D_F o_h ab_C H_6D6F em_th ej_0",vendorName:"Q_fq7 o_h G_e J_EN",clippedButton:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z1E2YFn I_Z287E9E C_52qC",unclippedButton:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z1E2YFn I_52qC cdPFi_Z287E9E",description:"J_x Q_6Eb4 o_h G_e em_N",affiliatePartnerDescription:"J_x Q_6Eb4 o_h G_e em_N C4_Z2aVTcY",dateWrapper:"D_F gl_CH en_N A_6DUj Q_6Eb4 J_EN s_3mS2U",unclippedCpnExpiryInfo:"C_Z1VRpVF",openEmailIcon:"cdPFi_Z1VRpVF cdPFi4_Z2aVTcY"},"themeMode-DARK":{container:"C_ZpQYvz I4_1YEmYj I3_1YEmYj",vigLinkDescription:"C4_Z2bg7IA",subContainer:"bj_ajOPR",unclippedButton:"I_T cdPFi_29F7yW l_29F7yW",clippedButton:"I_29F7yW l_29F7yW",unclippedCpnExpiryInfo:"C_2sqbQg",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW"},hideBottomBorder:{subContainer:"bj_T"}},_key:"Zo6lNQ"}},function(e,t,s){"use strict";e.exports={className:{default:{loadMoreContainer:"H_sL D_F ab_C gl_C",emptyListContainer:"D_F em_N ek_BB p_R T_e5X h_ZBOl0O",emptyListText:"t_C A_6FsP U_6MGW",emptyListImage:"t_C",loadingContainer:"T_dRK W_6D6F p_R",errorContainer:"je_74JI W_6D6F t_C A_6FsP",listLoadingRetry:"S_U r_P",container:"W_6D6F H_6D6F"},"themeMode-DARK":{emptyListText:"C_52qC",errorContainer:"C_52qC",listLoadingRetry:"C_52qC"}},_key:"ZKdmn0"}},function(e,t,s){"use strict";e.exports={className:{default:{counter:"C_52qC en_0 P_3gJiI e_fFR A_6DUj I_Z2aVTcY O_N D_X",dragIcon:"Z_3n0uA cdPFi_Z281SGl"}},_key:"ZVfm6W"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C H_qN p_R h_Z1H3PfF I4_1I4yPF",subContainer:"D_F r_P ab_C H_qN bn_dBP bm_FJ bj_ZnIF8Y A_6EqO i_6FIA o_h W_6D6F",avatar:"en_0 Q_6DEy E_6FIA i_0",vendorGrid:"D_F o_h ab_C H_6D6F em_3qVd0 ej_0 p_R",infoGrid:"D_F o_h ab_C H_6D6F em_3Msdm ej_0",vendorName:"Q_fq7 o_h G_e J_EN",itemName:"J_x Q_6Eb4 o_h G_e",price:"J_x C_Z1TsNWR Q_6Eb4 G_e",dateWrapper:"D_F gl_CH em_N en_N A_6DUj Q_6Eb4 E_fq7 J_EN",date:"C_Z1TsNWR"},"themeMode-DARK":{container:"C_ZpQYvz I4_1YEmYj I3_1YEmYj",subContainer:"bj_ajOPR",date:"C_2sqbQg"},hideBottomBorder:{subContainer:"bj_T"},noItemName:{price:"Q_0"}},_key:"1UNDYg"}},function(e,t,s){"use strict";e.exports={className:{default:{searchHeader:"P_2iGizO m_Z14vXdP D_F en_0 ek_EZ gl_FM"},"themeMode-DARK":{searchHeader:"m_ZYfFPt"}},_key:"Z2wEO9i"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"M_0 P_0 C_Z281SGl D_F ek_EZ H_6MGW p_R J_x b_12kOTw e_dRA"},"themeMode-DARK":{container:"C_52qC",inactiveSegment:"C_52qC",activeSegment:"C_52qC"},isOnDarkBackground:{container:"C_52qC",inactiveSegment:"C_52qC",activeSegment:"C_52qC"}},_key:"20nboJ"}},function(e,t,s){"use strict";e.exports={className:{default:{segment:"ce_dBP cd_FJ cc_ZVhlrG C_Z24Sbth r_P D_F u_e69 p_R M_0 I4_IyTRc x8_n",button:"I_T b_n D_X C_q r_q y_q u_q A_6EqO P_1Eu7sD W_6D6F ir3_1JO2M7 it3_dRA D33_B C33_T dq33_Z1WN6IG u33_b H33_0 o33_h v33_h",buttonText:"D_X"},isSelected:{segment:"I_Z2tSq0X C_Z281SGl u_b Z_O I4_Z2tSq0X"},showEllipsis:{buttonText:"W_q G_e o_h J_x"},showWhiteLabels:{segment:"C_52qC"}},_key:"gQubX"}},function(e,t,s){"use strict";e.exports={className:{default:{didYouMean:"A_6EqO C_q u_q i_6UbO J_x a_3Lic3 o_h G_e",didYouMeanKeyword:"S_U kz_ZkiIcp lc_BK D_X A_6EqO u_b",didYouMeanWord:"D_X A_6EqO u_b"},"themeMode-DARK":{didYouMeanKeyword:"C_52qC",didYouMean:"C_52qC",didYouMeanWord:"C_52qC"}},_key:"Z1Rwsh3"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C J_x r_P H_6Nds",labelPadding:"N_eo6"},"themeMode-DARK":{container:"C_52qC"}},_key:"Z2rlRsL"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3Hv38 k_w I_52qC D_F el_QDCVj",header:"M_0 P_Z2bdlcy A_6FsP i_6NIX D_F el_Z1mLfFl ab_1g38K5",heading:"je_6Fd5 em_N H_6NIX D_F ab_C",info:"X_eo6",popoverAnchor:"D_F",tooltip:"W_3qXgC P_6Eb4 cZW7ROP_n",spacing:"P_6Eb4 cZW7ROP_n",popoverContainer:"D_F",close:"M_1r2gWB",title:"X_eTB",content:"P_0",messageContent:"D_F k_w ek_BB H_3rLkT W_3Hv38 P_14vJA9 J_x iz_A iy_h I_Z1syAID",spinner:"D_F ab_C gl_C em_N",subject:"A_6EWk i_6FIA G_e J_x o_h P_1EmYfa",msgHeader:"P_1DLYDz",snippet:"o_h J_x G_e A_6EqO i_6LEV P_EToGE",attachments:"X_6Eb4",viewMessage:"ab_CH r_P C_Z2aVTcY u_e69",icon:"p_a M_6Fd5",message:"P_ZG0ms9 w_AS ix_AS",controls:"D_F ab_C P_2gGPxM",buttonContainer:"em_N"}},_key:"Z21idRV"}},function(e,t,s){"use strict";e.exports={className:{default:{photoGrid:"H_3nx4N W_3nx4N p_R M_eo6 r_BN ir3_1JO2M7",photoItemImg:"W_6D6F H_6D6F ba_BH",photoOverlay:"p_a H_6D6F W_6D6F T_0 q_ZpQYvz O_6uA3 r_P",iconContainer:"D_F gl_FM P_fQq0A p_a B_0 q_Zjpysv k_w W_6D6F H_6VdP",photoActionBtn:"H_6D6F",forwardButton:"h_Z2uKmny",rtlRawScaleX:"rtlR_h_2gl0WC"},isMessageDeleteEnabled:{iconContainer:"P_Z2rzCvT"},isBriefView:{photoGrid:"H_7He5 W_7He5"}},_key:"P3Fxf"}},function(e,t,s){"use strict";e.exports={className:{default:{menuContainer:"M_0 hd_n s_3mS2U a_3nF5b P_3Y3Gk",separator:"M_3HLUz m_Z14vXdP",menu:"D_F o_h",disabledMenuItem:"F_N s_0 D_F ab_C S_n P_Z1E30bS q4_1I4yPF r_DZ cZW7ROP_n C_Z1TsNWR",menuItem:"F_N s_0 D_F ab_C S_n P_Z1E30bS q4_1I4yPF r_P",menuText:"o_h J_x G_e Q_eo6"}},_key:"12CxVW"}},function(e,t,s){"use strict";e.exports={className:{default:{documentContainer:"I_T W_6D6F D_F k_w ab_C p_R o_h P_Z2rzCvT H_7ceA r_P ir3_1JO2M7 I3_1I4z5p it3_689y I4_1I4yPF",documentInfo:"J_x o_h F_N P_fQoXz",documentTimeStamp:"P_23Qdjg",filename:"A_6EqO C_Z281SGl a_3rlLf J_x o_h G_e",filesize:"P_3gJOe A_6DUj C_Z1TsNWR D_X",messageSubject:"A_6EqO C_Z1TsNWR J_x o_h G_e",documentAction:"r_BN P_fQoXz",documentActionBtn:"D_X P_1Eu5U7 cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY",documentActionLink:"D_X",forwardButton:"D_X P_ZUD9Kb h_Z2uKmny cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY",highlightSearchTerm:"I_2ieea9 D_X P_3zDxc",rtlRawScaleX:"rtlR_h_2gl0WC"},isCompactLayout:{documentContainer:"r_P P_0",filename:"D_X a_6D6F"},isDarkThemeMode:{documentContainer:"C_2sqbRh ir3_Z1FS2Mn I3_1YEmYj I4_ZFyHXD",messageSubject:"C_2sqbQg",highlightSearchTerm:"I_2sqbPK",forwardButton:"cdPFi_2sqbRh cdPFi4_52qC",documentActionBtn:"cdPFi_2sqbRh cdPFi4_52qC",filename:"C_52qC"},isDarkBriefView:{filename:"C_52qC",documentContainer:"C_2sqbRh ir3_Z1FS2Mn I3_1YEmYj I4_ZFyHXD"}},_key:"KcoVO"}},function(e,t,s){"use strict";e.exports={className:{default:{documentsViewHeader:"ab_C k_w D_F ek_EZ H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_52qC",documentsViewTitle:"A_6FsP u_dPo D_F gl_C em_N",sortMenuContainer:"E_eo6"},"themeMode-DARK":{documentsViewHeader:"I_T m_ZYfFSw C_52qC cdPFi_52qC"}},_key:"11JDPt"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",readIcon:"P_0 q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 cdPFi_ZpQYvz cdPFi4_Z1TsNWR"},"isRead-false":{readIcon:"cdPFi_Z2aVTcY cdPFi4_Z2aVTcY"},isDarkThemeMode:{readIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"ZIL0n1"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",replyIcon:"cZ17HJts_0 cZ17HJsU_T cZ17HJta_0 cZ17HJsT_P cZ17HJtE_F cF9SWM_0 cF9SUy_C cZ17HJtH_0 cZ17HJtl_6LEV cNhr4M_ZpQYvz c1Lk3cu_Z1gAvbx",indicator:"Q_e8l"},isDarkThemeMode:{replyIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"rmcGT"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",forwardIcon:"cAll3f_0 cAll3M_T cAll3x_0 cAll3N_P cAll33_F cZ1QVRpD_0 cZ1QVRrR_C cAll30_0 cAll3m_6LEV cZ2hFlUN_ZpQYvz cZjAtd1_Z1gAvbx",indicator:"Q_e8l"},isDarkThemeMode:{forwardIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"dWqxk"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",starIcon:"k_BF q_T b_0 r_P D_F en_0 ab_C A_0 cdPFi_ZpQYvz h_Z13pql2 lv_1IWXzk cdPFi4_ZvsWfq h4_2d9T5e P_ZmsLO3 E_fq7",iconContainer:"H_6LEV"},"size-S":{iconContainer:"H_6MGW"},isDarkThemeMode:{starIcon:"cdPFi_2sqbQg h_Z13pql2 lv_1IWXzk cdPFi4_2sqbQg h4_2d9T5e"}},_key:"mUHod"}},function(e,t,s){"use strict";e.exports={className:{default:{searchIcon:"D_F gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY P_3gIMd Q_eo6",contactSearchIconCompact:"D_Z1YJkyX gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY Q_eo6 P_0"},isDarkThemeMode:{searchIcon:"cdPFi_ak5kB cdPFi4_ak5m8",contactSearchIconCompact:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"2dNdlX"}},function(e,t,s){"use strict";e.exports={className:{default:{trashIcon:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY P_eo6 Q_6Fd5 W_7jIs",trashIconAccessible:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY P_0",trashCenter:"D_F ab_C gl_C H_6D6F",trashIconCompact:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY D_F gl_F W_6D6F P_fq7 M_18qTTf"},isDarkThemeMode:{trashIcon:"cdPFi_1cIiP7 cdPFi4_Z1rAFli",trashIconCompact:"cdPFi_1cIiP7 cdPFi4_Z1rAFli"}},_key:"1jQ2Sd"}},function(e,t,s){"use strict";e.exports={className:{default:{subject:"o_h G_e J_x",highlightedTerm:"I_2ieea9 D_X"}},_key:"1okHkV"}},function(e,t,s){"use strict";e.exports={className:{default:{snippet:"J_x o_h G_e",snippetContainer:"J_x o_h",highlightedTerm:"I_2ieea9 D_X"}},_key:"Z2piR2p"}},function(e,t,s){"use strict";e.exports={className:{default:{messageCount:"e_fFR A_6DUj",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"}},_key:"2bOBil"}},function(e,t,s){"use strict";e.exports={className:{default:{draftIndicator:"J_x A_fq7 cZ1RN91d_n lo_GT cZ1HOHqP_Zc28mn gp_3bdM8 u_e69",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"}},_key:"RjUyN"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",attachmentIcon:"D_F"}},_key:"OgOlY"}},function(e,t,s){"use strict";e.exports={className:{default:{carouselContainer:"D_F ir_n em_N",carousel:"D_F o_h p_R em_N s_72FG",list:"D_F ha_n p_a J_x lv_1Ys0hR L_0 B_0 P_0 M_0",prevNavHandleContainer:"D_F",nextNavHandleContainer:"D_F",prevNavHandle:"em_0 en_0",rtlRawScaleX:"rtlR_h_2gl0WC",nextNavHandle:"em_0 en_0"},animationDisabled:{list:"lv_n"},prevDisabled:{prevNavHandle:"r_BN"},nextDisabled:{nextNavHandle:"r_BN"},"toolbarKind-VACATION_RESPONSE_SETTINGS":{prevNavHandleContainer:"jb_74JI",nextNavHandleContainer:"jb_74JI"}},_key:"Z7QRAV"}},,function(e,t,s){"use strict";e.exports={className:{default:{attachmentsCarouselContainer:"D_F H_3mT4V P_3gIMd",attachmentsPopoverContainer:"D_F P_1Eu5U7",attachmentItem:"P_V9iAe M_3gIgH r_P"}},_key:"vDuNx"}},function(e,t,s){"use strict";e.exports={className:{default:{messageDestinationLabel:"o_h J_x G_e"}},_key:"Z24rH8W"}},function(e,t,s){"use strict";e.exports={className:{default:{ybadgeIcon:"q_T r_P D_F en_0 ab_C W_6LEV k_BF A_0 b_n"}},_key:"ZIMuu5"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C p_R A_6EqO i_6FIA o_h X_eo6",check:"en_0 i_0 E_689y Z_f8a k_w",readIcon:"M_SkAgv",ybadgeIcon:"P_0 M_SkAgv W_6LEV H_6LEV D_F en_0 em_0 ab_C gl_C",trustedIcon:"P_0 M_SkAgv W_6LEV H_6LEV D_F en_0 em_0 ab_C gl_C",attachmentIcon:"s_6LEV en_0 i_0 M_3gJOe",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",participants:"o_h J_x G_AY em_N",dateWrapper:"ab_C gl_CH D_F em_0 en_0 s_7jIs N_fq7 Q_fq7 A_6DUj C_Z281SGl",message:"D_F ab_C o_h H_6D6F em_N E_fq7 J_x",subjectContainer:"en_3ixhM o_h a_6D6F D_F ab_C",subject:"en_N",snippetContainer:"Q_fq7 en_qh",snippet:"C_Z1YRXYn",highlightedTerm:"P_3zDxc",messageCount:"en_0 P_3gJiI Q_fq7 I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",draftIndicator:"en_0 s_6NIX Q_fq7 C_ZnTFMv",messageDestinationLabel:"M_3gJOe W_7yHc en_0",senders:"D_F o_h G_e em_N",noSubject:"M_3gI0W",iconB2:"p_R D_F ek_EZ ab_C H_6D6F",extractedInfo:"s_CD"},"isRead-false":{subject:"u_Z13VSE6",participants:"u_Z13VSE6",participantSolo:"u_Z13VSE6"},hasJustOneMessage:{messageCount:"W_0 O_0"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"},showSubjectSearchAndHovered:{subjectContainer:"a_1BBI71",subjectSearchIcon:"Q_68F4 E_69H5"},"themeMode-DARK":{container:"C_ZnIF8Y",highlightedTerm:"I_ajP6C",messageCount:"C_52qC I_2sqbOe",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_ZnIF8Y"}},_key:"Z2rWrxa"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"D_B bn_dBP bm_FJ bj_ZpQYvz ir3_1JO2M7 I4_1I4yPF",highlight:"I_1I4z5p",active:"p_R",contextMenuAnchor:"p_a",contextMenuContainer:"s_3qWeB"},"themeMode-DARK":{link:"C_ZpQYvz bj_ajP6C ir3_Z1FS2Mn I4_1YEmYj",highlight:"I_ZFyHXD"}},_key:"18kYLN"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"r_P p_R D_F A_6FIA i_6LEV",check:"k_w D_F ab_CI gl_C P_Pmuoy",checkbox:"P_Z1S5Ugg",starButtonStyle:"P_0",attachmentIcon:"D_F ek_BB gl_CH i_0",gridB1:"H_6D6F P_2v4Pah k_w D_F ek_BB W_6LEV Q_689y",participants:"o_h J_x G_AY",dateWrapper:"s_7jIs M_3gJOe A_6DUj i_6FIA D_F gl_CH C_Z281SGl",message:"em_N D_F ek_BB gl_CI o_h N_eo6",senderRow:"D_F gl_FM je_fq7",groupSection:"D_F o_h a_e91",bottomRight:"D_F J_x a_faw gl_FM",infoGroup:"D_F o_h ek_BB",subject:"A_6EqO i_6FIA J_x",snippet:"A_6EqO i_6FIA C_Z1YRXYn J_x G_e",messageCount:"D_X P_3gJiI Q_fq7 e_fFR A_6DUj i_6FIA I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",draftIndicator:"J_x C_ZnTFMv s_6NIX A_fq7 cZ1RN91d_n lo_GT cZ1HOHqP_Zc28mn gp_3bdM8 u_e69 Q_fq7",senders:"D_F o_h G_e en_N ab_CI A_6EqO i_6FIA",highlightedTerm:"I_2ieea9 D_X P_3zDxc",trashIconContainer:"D_F gl_C ab_C",ybadgeIcon:"P_0 W_6LEV H_6LEV D_F ab_C gl_C",trustedIcon:"P_0 W_6LEV H_6LEV D_F ab_C gl_C",readIcon:"d_6LEV",extractedInfo:"A_6EqO",contactSearchIcon:"Y_67SN"},"isRead-false":{subject:"u_Z13VSE6",participants:"u_Z13VSE6",participantSolo:"u_Z13VSE6"},hasJustOneMessage:{messageCount:"W_0 O_0"},hasAttachment:{attachmentIcon:"s_6LEV M_3gJOe"},"themeMode-DARK":{highlightedTerm:"I_ajP6C",messageCount:"C_52qC I_2sqbOe",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_ZnIF8Y",selected:"I_iJ8JF I4_iJ8JF"},useTouchTargets:{check:"Q_eo6 W_6UbO gl_FO I_T",message:"N_74JI",starIcon:"p_a B_dRA R_eo6"},"msgListDensity-1":{gridB1:"je_eo6",check:"je_dm5",senderRow:"H_6FYl je_eo6",starButtonStyle:"Y_67SN",subject:"Y_dRA"},"msgListDensity-2":{senderRow:"H_6FYl je_fam",subject:"Y_dRA"},"msgListDensity-3":{message:"i_6LEV",subject:"i_6LEV",snippet:"i_6LEV",check:"je_eo6",gridB1:"je_fq7",senders:"i_6LEV",messageCount:"P_Z1Felua"}},_key:"Z1f7g5L"}},function(e,t,s){"use strict";e.exports={className:{default:{nudgeToReply:"D_F ab_C a_3nqRH H_6MGW r_P e_dRA b_0 M_Z1kkfxo I_T C_Z2aVTcY cdPFi_Z2aVTcY P_3gK4Y C4_Z29WjXl cdPFi4_Z29WjXl I4_Z1owzx3",nudgeToReplyText:"y_Z2hYGcu A_fFR u_b o_h G_e J_x"},isDarkNotHovered:{nudgeToReply:"C_Z2bg7IA cdPFi_Z2bg7IA C4_52qC cdPFi4_52qC"},isLightHovered:{nudgeToReply:"I_2iee8C"},isDarkHovered:{nudgeToReply:"I_sgPuo I4_sgPuT C4_52qC cdPFi4_52qC"}},_key:"Zr889i"}},function(e,t,s){"use strict";e.exports={className:{default:{quotientPill:"D_F ab_C W_3nhzy H_6MGW r_P e_dRA b_0 M_Z1kkfxo I_2iee8C C_Z2aVTcY cdPFi_Z2aVTcY C4_Z29WjXl cdPFi4_Z29WjXl",quotientPillText:"y_Z2hYGcu A_6DUj u_b",unusualDiscountPill:"D_F ab_C r_BN J_Z1e9hjJ M_Z1kkfxo",unusualDiscountPillText:"D_F ab_C W_7ILB H_6DUj y_Z2hYGcu A_fFR u_b gp_1Fq47g C_Z2dsiLY"},isDarkNotHovered:{quotientPill:"I_sgPuo",unusualDiscountPillText:"C_Z29fFBt"},isLightHovered:{quotientPill:"I_ZsMVh3"},isDarkHovered:{quotientPill:"I_sgPuT C4_52qC cdPFi4_52qC",unusualDiscountPillText:"C_Z29fFBt"}},_key:"mPCQq"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C bn_dBP bm_FJ bj_ZpQYvz p_R o_h X_eo6",check:"W_6EGz H_6EGz q_ZpQYvz M_1F09u0",gridB1:"D_F H_6D6F a_3vhr3 em_pG ej_0",gridB2:"D_F o_h H_6D6F em_tK ej_0 ek_BB Y_6EqO",senderRow:"D_F H_6Eb4 gl_FM W_f7Y",sender:"q_ZpQYvz W_elI H_6Eb4 e_3mS2U D_B",date:"q_ZpQYvz W_djH H_6Eb4 e_3mS2U D_B",subject:"q_ZpQYvz W_f7Y H_6Eb4 e_3mS2U D_B Y_6DEy",snippet:"q_ZpQYvz W_f7Y H_6Eb4 e_3mS2U D_B Y_fq7"},isDarkMode:{container:"bj_ajP6C",check:"q_7l9bL",sender:"q_7l9bL",subject:"q_7l9bL",snippet:"q_7l9bL",date:"q_7l9bL"}},_key:"ZaEokR"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C bn_dBP bm_FJ bj_ZpQYvz p_R o_h X_eo6",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",sender:"q_ZpQYvz W_elI H_6Eb4 e_3mS2U D_B M_1FEVlA",subject:"q_ZpQYvz W_eRe H_6Eb4 e_3mS2U D_B M_1FEOne",date:"q_ZpQYvz W_d3W H_6Eb4 e_3mS2U D_B M_1FEoi4"},isDarkMode:{container:"bj_ajP6C",sender:"q_7l9bL",subject:"q_7l9bL",snippet:"q_7l9bL",date:"q_7l9bL"}},_key:"Z2lUwhw"}},function(e,t,s){"use strict";e.exports={className:{default:{loadingBar:"W_6D6F H_dRA h_2rNL56 Z_qc p_a I_Z2aVTcY ah_5h53M",loadingBarEnd:"W_6D6F h_Zc5EsY H_dRA Z_qc p_a I_Z2aVTcY ah_1MDq3I"},"themeMode-DARK":{loadingBar:"I_ZamTeg",loadingBarEnd:"I_ZamTeg"}},_key:"1xnb7N"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"q_52qC D_F ab_C gl_C H_7ceA"},"themeMode-DARK":{container:"q_T"}},_key:"Z1ACwUA"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F",popoverListWrapper:"P_3Y3Gk",list:"hd_n D_F ab_C M_0 P_0",checkboxWrapper:"D_F",chevronWrapper:"D_F cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY"},"themeMode-DARK":{chevronWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"}},_key:"Z22Yrri"}},function(e,t,s){"use strict";e.exports={className:{default:{popoverContainer:"D_F",popoverContent:"P_3Y3Gk W_3qWeB",button:"P_fQq0A ab_C gl_FM je_eo6 jb_eo6 D_F r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7",label:"D_F",hint:"D_F ab_C Q_eo6 O_cMq O4_N cdPFi4_Z281SGl",separator:"m_Z14vXdP M_3HLUz"},disabled:{button:"O_cMq r_BN I4_52qC"}},_key:"pxI9Q"}},function(e,t,s){"use strict";e.exports={className:{default:{photosViewHeader:"D_F ek_EZ gl_FM ab_C P_2bJhi m_Z14vXdP",photosViewTitle:"A_6FsP u_dPo D_F gl_C ab_C em_N",sortMenuContainer:"en_0 E_eo6"},"themeMode-DARK":{photosViewHeader:"I_T m_ZYfFSw C_52qC cdPFi_52qC"}},_key:"1M2AT3"}},function(e,t,s){"use strict";e.exports={className:{default:{gridsContainer:"D_F P_3gIMd"},isBriefView:{gridsContainer:"P_0"}},_key:"Z1yJcAi"}},function(e,t,s){"use strict";e.exports={className:{default:{messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F"},"themeMode-DARK":{blank:"I_T"}},_key:"1r9yYy"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ac_FT ab_C gl_C em_N",wrapper:"p_R",svgWrapper:"O_cMs",countWrapper:"p_a L_0 T_0 H_3nj85 W_3nj85 D_F gl_C ab_C",count:"C_Z281SGl A_74JI i_74JI u_dzD p_R T_36KP4"},"themeMode-DARK":{count:"C_52qC"}},_key:"Z2wD4bH"}},function(e,t,s){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC",container:"P_8secV D_F gl_C",actionContainer:"D_F M_Z2gjVIH",svgStyle:"D_F ab_C Q_6Fd5 E_6Eb4 em_0",listDivider:"H_dRA I_ZpQYvz M_Z2eeeeR"},"themeMode-DARK":{heading:"m_ZYfFSw I_T C_52qC cdPFi_52qC",listDivider:"I_ajOPR"}},_key:"Z1zXGST"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"H_6UbO k_w je_fq7 X_fq7 C_Z1YRXYn A_6EqO u_b I_52qC D_F ab_C gl_FM",expandButton:"i_6EWk P_Z2rzCvT",iconContainer:"D_F ab_C",partnerAttributionIcon:"Q_eo6",header:"u_b C_Z281SGl A_6EWk"},"themeMode-DARK":{container:"I_T",header:"C_52qC"}},_key:"yonkM"}},function(e,t,s){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_w m_Z14vXdP C_Z281SGl H_7bcz",tabs:"P_1g7oPJ M_cFf m_Z14vXdP D_F"},"themeMode-DARK":{heading:"C_52qC m_ZYfqDw",tabs:"m_Z6DFj8"}},_key:"ZnkVPn"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F cZ1RN91d_n o_h p_R em_N D_F",mailReader:"D_F ab_FT em_N ek_BB W_6D6F",listWrapper:"D_F ab_FT em_N ek_BB iz_A H_6D6F",listContainer:"D_F H_6D6F ab_FT em_N p_R",toolbar:"en_0",listPane:"en_0 ej_dAt p_R o_h D_F ek_BB",fullPane:"D_F ek_BB W_6D6F",deadResizer:"en_0 ej_dBP",resizer:"en_0 ej_dBP",rightPane:"em_T ej_0 p_R D_F o_h",messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F",swipeableContainer:"F_N D_F ek_BB W_6D6F U_0",swipeableContent:"D_F ek_BB F_N",pullToRefreshContainer:"D_F ek_BB p_R F_N",loadingContainer:"T_dRK W_6D6F p_R",virtualListScroller:"p_a",virtualListUL:"I_52qC",messageScrollToTopContainerStyle:"D_F ab_C gl_C p_a B_6Fd5 R_dm5 H_6UbO W_6UbO E_6Fd5 I_ZS20T5 e_dRA r_P Z_O",timechunk:"Z_pG p_a T_0 W_6D6F",timeChunkPlaceHolder:"O_N"},hasSelectedItems:{swipeableContainer:"U_7ceA"},stickyTimechunkMounted:{timeChunkPlaceHolder:"O_0"},"previewpane-0":{listContainer:"M_0 p_R"},"previewpane-1":{deadResizer:"I_ZpQYvz",resizer:"I_ZpQYvz r_CA ej_eo6 Z_N I4_ZroviD",blank:"M_0",listContainer:"ek_EZ"},"previewpane-2":{listContainer:"ek_BB",listPane:"d_3nV5V o_h",deadResizer:"M_1EtAWD ej_fq7 I_ZpQYvz",resizer:"M_1EtAWD ej_fq7 I_ZnIF8Y r_EB Z_N I4_ZroviD"},"themeMode-DARK":{blank:"I_T",resizer:"I_ajP3z",virtualListUL:"I_Z29dUYT"},previewpaneInPixels:{listPane:"s_3s1zo d_3nV5V en_N",rightPane:"s_3AgFn d_3nV5V"},"theme-ATT":{messageScrollToTopContainerStyle:"I_Z15BeVd I4_Z2dxrGx"},"theme-FRONTIER":{messageScrollToTopContainerStyle:"I_2dK1Xc I4_Z1A0QhA"},"theme-ROGERS":{messageScrollToTopContainerStyle:"I_Z1m994D I4_Z21W7Hh"},"theme-BT":{messageScrollToTopContainerStyle:"I_Z3iqci I4_Z20SNAa"},"theme-SKY":{messageScrollToTopContainerStyle:"I_1za5gA I4_Z2dycH0"},"theme-DEFAULT":{messageScrollToTopContainerStyle:"I_Z1owzv1 I4_Z2aVTcY"},"theme-SUNRISE":{messageScrollToTopContainerStyle:"I_ZNpR7F I4_ZmlXUP"},"theme-AQUA_GREEN":{messageScrollToTopContainerStyle:"I_1dThJA I4_Z1UHURv"},"theme-AQUA_BLUE":{messageScrollToTopContainerStyle:"I_26UHLI I4_Z280Xf5"},"theme-DEEP_PURPLE":{messageScrollToTopContainerStyle:"I_ZRpDPm I4_Zwa5YI"},"theme-BLUE_NIGHT":{messageScrollToTopContainerStyle:"I_ZMqghf I4_Z21zYBA"},"theme-DARK_GREY":{messageScrollToTopContainerStyle:"I_Z1m994D I4_Z21W7Hh"},"theme-NIGHT_LANDSCAPE":{messageScrollToTopContainerStyle:"I_Z1W4Pak I4_Z1UEcsX"},"theme-ROADTRIP":{messageScrollToTopContainerStyle:"I_ZNsLcW I4_ZrkPvI"},"theme-SUNSET_AUSSIE":{messageScrollToTopContainerStyle:"I_ZNpR7F I4_ZmlXUP"},"theme-LIGHTHOUSE":{messageScrollToTopContainerStyle:"I_Zd2nN5 I4_Z1VDTK1"}},_key:"ZNo0FX"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C p_R A_6EqO i_6FIA o_h X_eo6 H_73HH",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",dateWrapper:"ab_C gl_CH D_F em_0 en_0 s_7jIs N_fq7 Q_fq7 A_6DUj C_Z281SGl",message:"D_F ab_C o_h H_6D6F em_N E_fq7 J_x",subjectContainer:"en_3ixhM o_h a_6D6F D_F ab_C",subject:"en_N",highlightedTerm:"P_3zDxc",messageCount:"en_0 P_3gJiI Q_fq7 I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",senders:"D_F o_h G_e em_N",noSubject:"M_3gI0W",iconB2:"p_R D_F ek_EZ ab_C H_6D6F",link:"D_B bn_dBP bm_FJ bj_ZpQYvz ir3_1JO2M7 I4_1I4yPF",highlight:"I_1I4z5p",active:"p_R",conversationIcon:"I_Z1TsNWR D_F ab_C gl_C e_e5X H_6NIX W_6NIX",readIcon:"M_SkAgv"},"isRead-false":{subject:"u_b",participants:"u_b",participantSolo:"u_b"},hasJustOneMessage:{messageCount:"W_0 O_0"},"themeMode-DARK":{container:"C_ZnIF8Y",highlightedTerm:"I_ajP6C",messageCount:"C_52qC I_2sqbOe",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_ZnIF8Y",link:"C_ZpQYvz bj_ajP6C ir3_Z1FS2Mn I4_1YEmYj",highlight:"I_ZFyHXD"}},_key:"Z24FDIb"}},function(e,t,s){"use strict";e.exports={className:{default:{senderRollupHeader:"ab_C C_Z281SGl D_F H_6Mrc gl_C m_Zhnraq i_6Mrc P_2bJhi p_R",senderBackContainer:"L_6Eb4 p_a",senderRollupTitle:"A_6FsP u_dPo gl_C a_eBt o_h G_e J_x mq_N",senderSortMenuContainer:"p_a R_6Eb4"},"themeMode-DARK":{senderRollupHeader:"m_ZYfFSw I_T C_ZpQYvz",senderBackContainer:"I_T C_ZpQYvz cdPFi_ZpQYvz"}},_key:"ZyornR"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C H_6UbO k_w I_52qC X_6LEV C_Z1YRXYn A_6EqO u_b N_6Fd5",subContainer:"D_F ab_C em_N o_h",content:"D_F em_N gl_FM ab_C o_h",link:"o_h D_F r_P C_Z1YRXYn cdPFi_Z1YRXYn cdPFi4_Z2aVTcY C4_Z2aVTcY",close:"Q_fq7 D_F r_P C_Z1YRXYn cdPFi_Z1YRXYn cdPFi4_Z2aVTcY C4_Z2aVTcY",articleTitle:"Q_fq7 u_N J_x o_h G_e",popoutIcon:"D_F Q_eo6"},"themeMode-DARK":{container:"I_T C_52qC",link:"C_2sqbRh cdPFi_2sqbRh cdPFi4_52qC C4_52qC",close:"C_2sqbRh cdPFi_2sqbRh cdPFi4_52qC C4_52qC"}},_key:"16H1d7"}},function(e,t,s){"use strict";e.exports={className:{default:{bannerContainer:"p_R Z_0 D_F J_x r_P",bannerText:"D_X P_ZILJ0M p_R C_52qC u_b o_h D33_B dq33_Z1WN6IG p33_a T33_0 L33_0 W33_6D6F H33_6D6F aw33_ZBYItr lt33_1HC8nX h33_ZEmv6m Z33_nF"}},_key:"Z1Vxx4q"}},function(e,t,s){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_ZPBfWW k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC p_R",listContentTypeControls:"F_n P_1g7oPJ M_cFf m_Z14vXdP D_F",attachmentFilterViewMenu:"D_F en_0 je_fq7",attachmentFilterMenu:"D_F ab_C y_Z2hYGcu X_1IaimO A_6EqO lo_AT cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",filtersContainer:"D_F gl_FM p_a R_6LEV T_6Eb4",filterMenuContainer:"Q_fq7 D_F P_fQq0A I_ZnIF8Y e_dRA",filterMenu:"D_F ab_C",selectedFilter:"A_6EqO r_P",checkIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",filterOption:"Q_6Eb4",popoverListWrapper:"P_3Y3Gk"}},_key:"26r9OU"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"F_n P_2bJhi H_6Mrc i_6Mrc m_Zhnraq D_F ab_C gl_C p_R",linkBack:"C_Z281SGl f_l A_6EqO P_3gIMd F_n D_F ab_C L_6Eb4 p_a",linkBackLabel:"Q_eo6",title:"ab_C C_Z281SGl A_6FsP gl_C a_eBt o_h G_e J_x mq_N"},"themeMode-DARK":{linkBack:"I_T C_ZpQYvz cdPFi_ZpQYvz",title:"C_ZpQYvz"}},_key:"Z22ahx2"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB H_6D6F iz_A W_6D6F",header:"m_Z14vXdP D_F ek_EZ P_2XVg5",image:"ab_C H_3qWeB gl_C im_BE W_3qWeB",right:"D_F ek_BB Q_6MGW",retailer:"C_Z20JEyO",description:"A_6FsP M_S9pNs",value:"ab_C D_F A_6MGW u_b",unit:"C_Z20JEyO A_6EWk u_N Q_fq7",cost:"C_Z20JEyO Y_eo6",add:"ab_C I_Z2aVTcY e_dRA C_52qC r_P D_F u_b H_6TFj gl_C Y_6Fd5 W_3nb7H",numberContainer:"ab_C b_2fAfSG e_dRA r_P D_F A_6FsP u_e69 H_6TFj Y_6Fd5 W_3nb7H",change:"D_F gl_C W_7jcW",details:"D_F ek_BB M_Zw8QKL",title:"A_6FsP u_b",subtitle:"A_6EWk u_b i_6CCu Y_6Fd5",subtext:"C_Z24Sbth i_6CBp"}},_key:"2vxHg4"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB en_0",heading:"D_F p_R gl_C ab_C A_6FsP P_2cgFyC k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC",helper:"D_F gl_C ab_C A_6Eb4 r_P E_e8l",backButton:"p_a L_6LEV W_7Ig6 r_P",summaryRow:"D_F m_Z1lusya",infoText:"D_F p_a R_dm5 ab_C A_6Eb4 C_Z281SGl y_Z2hYGcu E_eo6",print:"D_F ab_C M_3gJOe",pContent:"D_F ek_BB P_1d6dau",helpContainer:"D_F ab_C gl_C P_Z2a4wQg r_P C4_Z2aVTcY",text:"A_6EqO X_eo6",body:"r_P jb_6Fd5 C4_Z2aVTcY",selectStoreContainer:"D_F ab_C A_6EqO C_Z281SGl r_P"},smartView:{groceryViewHeading:"gl_C"},"themeMode-DARK":{groceryViewHeading:"m_ZYfFSw I_T C_52qC cdPFi_52qC",summaryRow:"I_52qC"}},_key:"sfhMi"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"I_52qC W_3w4tj e_dRA j_Z7Uvbh je_6MGW",inputContainer:"D_F ab_C H_6LEV W_3ny6O M_kob6L b_2fAfSG",zipCodeInput:"W_3nh43 H_6Fd5 b_n iu3_n",enter:"D_F ab_C gl_C H_6LEV W_6LEV I_ZroFTi",menuContainer:"Y_fq7",addressContainer:"ab_C m_Z14vXdP r_P D_F P_Z1E95kC I4_1I4yPF",indexNumber:"A_6FsP u_e69 t_C",address:"M_Zhyr9u W_3s8Nv",addressTitle:"A_6EWk u_e69 C_Z281SGl",addressBody:"A_6EqO",addressLocality:"A_6EqO C_Z1XFoRn",distance:"J_x A_6EqO C_Z281SGl",emptyContainer:"M_Z2fgw4u je_fq7 jb_6MGW A_6EqO",emptyTitle:"u_e69 U_fq7 C_Z27SJgd",emptybody:"C_Z1YW3b1",errorHint:"W_3v2I4 H_7zdH M_Z1n3EVB jb_6Mbr C_ZnTFMv",nearby:"A_6EWk u_e69 M_ZxotVa"},isValid:{enter:"I_Z2aVTcY"},noLocations:{enter:"I_ZroFTi"}},_key:"ZwQOLW"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"I_52qC",menuContainer:"D_F ek_EZ eo_HB P_1d6dau",retailerContainer:"H_3nb7H W_3nb7H D_F ek_BB gl_C ab_C M_1BOUCu e_eo6 I4_1I4yPF r4_P",icon:"H_74JI W_74JI e_e5X D_F eo_x ab_C gl_C j_Z2rLBDa I_1h2PNq",image:"W_74JI H_74JI e_e5X",header:"W_3nb7H H_6Fd5 je_fq7 A_6EqO u_e69 t_C C_Z281SGl",close:"D_F gl_C ab_C W_7iGr A_6EqO u_e69 t_C C_Z2aVTcY jb_6Fd5 M_A r_P"}},_key:"Z24l0Jl"}},function(e,t,s){"use strict";e.exports={className:{default:{overlay:"Z_7G9R",shim:"Z_7G9R T_0 B_0 L_0 R_0 p_a q_T"}},_key:"1HLIBC"}},,function(e,t,s){"use strict";e.exports={className:{default:{container:"N_6Fd5",dialog:"D_F I_52qC W_3zSaK H_3o5DP e_eTB",svgContainer:"P_Man3R",header:"A_6FsP ab_C gl_FM D_B i_6CCo gp_1Fqk81 P_26Rgqx",body:"W_3vqtr P_Z19Su7t A_6EqO i_6CC0 C_Z251ww9",primaryButton:"M_E8xte"}},_key:"Z1Lmt49"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F W_6D6F ab_C m_Z14vXdP",cardContainer:"D_F ab_C W_3vOuz P_1UqRsG",imageContainer:"D_F ab_C gl_C em_0 P_1DLYDz",image:"W_7aVO H_7aVO e_e5X",messageContainer:"D_F ek_BB em_N A_6EGz P_0",loyaltyInfo:"D_F ek_EZ",overlayContainer:"W_0",overlay:"q_Z1WGv5u O_6uA1 e_e5X W_7aVO H_7aVO h_ZE8tA5",hide:"D_n",retailer:"A_6FsP u_b",loyaltyNumber:"A_6DUj N_eo6",link:"A_6DUj C_Z2aVTcY r_P",store:"A_6EqO C_Z2aVTcY r_P",selectStoreContainer:"D_F",separator:"H_7iGr M_Z1E2XDm n_Z14vXdP",otherStoresContainer:"D_F ek_BB gl_C",otherStoresTitle:"A_6EqO C_Z1YRXYn",otherStoresImages:"D_F ab_C r_P",otherImageContainer:"D_F ab_C gl_C P_E8xte",otherImage:"W_6UbO H_6UbO e_e5X",groceryWithProduct:"W_3rSz1 C_Z20JEyO H_6TV4 A_6EqO",otherOverlay:"q_Z1WGv5u O_6uA1 e_e5X W_6UbO H_6UbO h_ZEgtX5",moreStoresContainer:"e_6Fd5 b_10bGqS C_Z1VRpVF A_6EqO P_Z2rzCvT J_Z1e9hjJ",selectedAddress:"A_6EqO C_Z1WBuqm",changeStore:"A_6EqO r_P C_Z2aVTcY W_7zdH"}},_key:"Z1daRkR"}},function(e,t,s){"use strict";e.exports={className:{default:{headerBar:"D_F gl_FM M_Z1VdT10",title:"u_b",expand:"C_Z2aVTcY r_P",imgContainer:"D_F M_1BsbBk",block:"c2wuFny_Ldxq9 ba_3nb7H e_fq7 r_P H_3nb7H E_fq7 p_R s_3nb7H",name:"B_eo6 C_52qC u_b L_eo6 p_a"}},_key:"2oc94q"}},function(e,t,s){"use strict";e.exports={className:{default:{groceryContainer:"D_F ek_BB H_6D6F W_6D6F I_52qC",groceryResultContainer:"H_6D6F iz_A",LoadingIndicatorPositionBox:"D_F ek_BB gl_C ab_C H_6D6F",itemContainer:"D_F eo_HB Y_6Fd5 Q_6Fd5"},isCategorySearch:{itemContainer:"iz_A"}},_key:"1FcCM9"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F D_F ab_C gl_C"}},_key:"vwCkd"}},function(e,t,s){"use strict";e.exports={className:{default:{shadedContainer:"I_ZnwrMC D_F em_N o_h W_6D6F H_6D6F",container:"D_F em_N o_h s_1HLnlu",leftRail:"a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU D_F ek_BB em_0",leftRailWide:"a_3rehn W_3rehn s_3rehn cZ10Gnkk_ZM1sUU D_F ek_BB em_0",mainContent:"em_N gl_C I_52qC j_ZlOSbd o_h p_R D_F s_e5X x_Z14vXdP",widthRestrictor:"D_F em_N ej_eUh o_h",mainNavigation:"em_N je_6Fd5 D_F W_6D6F H_6D6F iz_A"},"verticalPreviewPane-false":{container:"s_1HCsWR"},"themeMode-MEDIUM":{shadedContainer:"I_sgPuT"},darkModeNonPhotoTheme:{shadedContainer:"I_sgPuT",mainContent:"I_29psyX j_n x_ZYfFSw"},darkModePhotoTheme_NIGHT_LANDSCAPE:{shadedContainer:"I_cOYCy",mainContent:"I_cOYF6 j_n x_ZYfFSw"},darkModePhotoTheme_ROADTRIP:{shadedContainer:"I_1iaDqt",mainContent:"I_1iaDt1 j_n x_ZYfFSw"},darkModePhotoTheme_SUNSET_AUSSIE:{shadedContainer:"I_2woiYa",mainContent:"I_2woj1H j_n x_ZYfFSw"},darkModePhotoTheme_LIGHTHOUSE:{shadedContainer:"I_t5YKp",mainContent:"I_t5YMW j_n x_ZYfFSw"}},_key:"Z1r9gOf"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"H_6D6F D_F cZ1RN91d_n ek_BB s_1HCsWR aw_Z1CkV98",shadedContainer:"em_N W_6D6F H_6D6F D_F o_h p_R T_7zJd I_ZnwrMC",container:"em_N D_F o_h s_1HLnlu",mainContent:"em_N D_F s_e5X o_h p_R j_ZlOSbd gl_C I_52qC P_Z2jbO7T",widthRestricter:"em_N D_F ej_eUh",leftRail:"em_0 D_F gl_CH W_3o4BO s_3o4BO a_3rehn cZ10Gnkk_ZM1sUU",rightRail:"em_N D_F a_3vpWV s_3o4BO",titleLabel:"u_e69 A_6EWk M_27m6vR",navWrapper:"D_F ab_C gl_CI H_6TFj M_1MapR8",errorContainer:"D_F W_3vPwA ek_BB",errorWrapper:"D_F ab_CI A_6EqO i_6LEV C_ZkiIcp",errorIcon:"D_F E_fq7"}},_key:"3CGzQ"}},function(e,t,s){"use strict";e.exports={className:{default:{wizardContainer:"D_F em_N ek_BB",stepsContainer:"D_F C_Z1TsNWR U_6UbO",steps:"M_0 P_0 D_F Q_eo6",viewActions:"D_F ab_C gl_CI H_6TFj M_1NXh2I",btnPrimary:"r_P q_T D_X H_6TFj",btnLink:"b_n r_P t_C D_X q_T A_6EqO C_Z2aVTcY H_6TFj i_6TFj P_1EudUu Q_fq7 C4_Z29WjXl I4_2iedUU"}},_key:"1EItG5"}},function(e,t,s){"use strict";e.exports={className:{default:{step:"r_P e_e5X t_C D_X W_6Fd5 H_6Fd5 A_6DUj i_6Fd5 M_3gIMd C4_52qC q4_Z29fFBt"},active:{step:"C_52qC q_Z29fFBt"}},_key:"2sfkOs"}},function(e,t,s){"use strict";e.exports={className:{default:{image:"W_3n13i H_7aG4",upsellPage:"em_N D_F ab_C ek_BB",header:"P_0 A_6LEV i_6UbO Y_6DEy U_6LEV jb_6Eb4",body:"t_C A_6EqO i_6FIA jb_6MGW",footer:"D_F gl_C C_Z1TsNWR",userName:"cZ1RN91d_GG",description:"M_0 C_Z1TsNWR",providersOption:"Y_6Fd5",switchAccount:"C_Z2aVTcY",accountList:"M_0 P_0 em_N D_F hd_n",listItem:"em_N D_F ab_C ek_BB gl_C",label:"C_Z281SGl u_dPo A_6EWk i_6LEV M_27msYt",supportedProviderCaption:"t_C A_6EqO C_Z1Xxgu0 M_6DEy"}},_key:"Z21bHtY"}},function(e,t,s){"use strict";e.exports={className:{default:{leftRailItemsContainer:"D_F ek_BB je_6Fd5 W_3rehn",link:"C_52qC O_cMq en_0 D_F b_n ir_n r_P cn_dBP u_e69 e_dRA ab_C A_6EqO S_n k_w gl_C l_T H_6VdP M_1Eu7sD I_Z2aVTcY",moreIcon:"D_F q_8ahxV ab_C gl_C H_eo6 M_1Eu7sD",iconContainer:"Y_eo6",accountslist:"en_0 D_F ek_BB",list:"Y_0 Q_0 E_0 U_0 en_0 D_F hd_n ek_BB P_2d6pmo",folderList:"Y_6Nds Q_0 E_0 U_0 en_0 D_F hd_n ek_BB P_2d6pmo",header:"O_cMo D_F gl_FM M_BOLti",accountsListItem:"u_eBE A_6EWk C_Z2aVTcY P_2d6pmo M_1WjkSr",listItem:"O_cMo D_F ab_C Y_6EWk",folderName:"M_eo6 H_fq7 e_6LEV I_Z1YRXYn"}},_key:"Z1aGhS9"}},function(e,t,s){"use strict";e.exports={className:{default:{addConfirmWrapper:"em_N iz_A",addConfirmSection:"W_3vPwA",titleLabel:"A_6EWk M_27msYt D_F u_dPo ab_C i_6LEV",titleTextWrapper:"Q_fq7",hint:"C_Z29dUYT A_6DUj U_72FG i_6Fd5",label:"u_b A_6EqO M_Ic9xa",textInput:"A_6EqO M_27msYt",confirmButton:"r_P D_X H_6TFj Y_6LEV q_Z2aVTcY e_dRA k_w en_0 V_M s_7yHc cZ1RN91d_n y_Z2hYGcu A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl"},isSyncing:{addConfirmWrapper:"P_0",hint:"O_cMq",label:"O_cMq",confirmButton:"O_cMq r_A"}},_key:"2qjTB6"}},function(e,t,s){"use strict";e.exports={className:{default:{buttonContainer:"I_52qC D_F M_3gJOe ab_C"}},_key:"Mr5Pj"}},function(e,t,s){"use strict";e.exports={className:{default:{suggestionLabelContainer:"D_F ab_C o_h",suggestionOption:"D_F P_ZGAgNS k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9 gl_FM",keywordSuggestionOption:"D_F P_ZGAgNS k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionIcon:"W_6FIA H_6EGz E_6FYl D_F ab_C",emailSuggestionLabel:"o_h",suggestionLabel:"J_x G_e o_h N_6Fd5",emailAddressLabel:"J_x G_e o_h N_6Fd5 C_Z1YFBQc A_6DUj",dateLabel:"C_Z1VRpVF A_6DUj J_x D_F ac_CI"}},_key:"ZmbOtX"}},function(e,t,s){"use strict";e.exports={className:{default:{searchBoxContainer:"en_0 O_cMq D_F p_R H_74JI",searchButton:"M_0 b_0 C_52qC en_0 W_7GHz D_F u_b cZ1RN91d_n J_x A_6EqO k_w gl_C ck_dRA y_Z2hYGcu bl_dRA H_74JI I_2sqbOJ",searchBoxInput:"M_0 W_6D6F D_F C_Z1AHs3T ab_C I_52qC A_6EWk y_Z2hYGcu P_6Eb4 H_74JI cj_dRA bk_dRA"}},_key:"1og0uB"}},,,,,,,,,,,,,function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EPOCH_SEARCH_LAUNCH_SUCCEEDED=t.EPOCH_SEARCH_LAUNCH_REQUESTED=t.EPOCH_SEARCH_QUERY_UPDATED=t.EPOCH_ITEM_SEARCH_FAILED=t.EPOCH_ITEM_SEARCH_SUCCEEDED=t.EPOCH_ITEM_SEARCH_REQUESTED=t.FETCH_OPTIONS_FAILED=t.FETCH_OPTIONS_SUCCEEDED=t.FETCH_OPTIONS_REQUESTED=t.EPOCH_CREATE_TODO_FAILED=t.EPOCH_CREATE_TODO_SUCCEEDED=t.EPOCH_CREATE_TODO_REQUESTED=t.EPOCH_DELETE_TODO_FAILED=t.EPOCH_DELETE_TODO_SUCCEEDED=t.EPOCH_DELETE_TODO_REQUESTED=t.EPOCH_PATCH_TODO_FAILED=t.EPOCH_PATCH_TODO_SUCCEEDED=t.EPOCH_PATCH_TODO_REQUESTED=t.EPOCH_FETCH_TODOS_FAILED=t.EPOCH_FETCH_TODOS_SUCCEEDED=t.EPOCH_FETCH_TODOS_REQUESTED=t.EDIT_USER_PREFERENCES_FAILED=t.EDIT_USER_PREFERENCES_SUCCEEDED=t.EDIT_USER_PREFERENCES_REQUESTED=t.EPOCH_FETCH_FOLDER_FAILED=t.EPOCH_FETCH_FOLDER_SUCCEEDED=t.EPOCH_FETCH_FOLDER_REQUESTED=t.EPOCH_EXPORT_FOLDER_FAILED=t.EPOCH_EXPORT_FOLDER_SUCCEEDED=t.EPOCH_EXPORT_FOLDER_REQUESTED=t.EPOCH_IMPORT_FOLDER_FAILED=t.EPOCH_IMPORT_FOLDER_SUCCEEDED=t.EPOCH_IMPORT_FOLDER_REQUESTED=t.EPOCH_DELETE_FOLDER_FAILED=t.EPOCH_DELETE_FOLDER_SUCCEEDED=t.EPOCH_DELETE_FOLDER_REQUESTED=t.EPOCH_EDIT_FOLDER_FAILED=t.EPOCH_EDIT_FOLDER_SUCCEEDED=t.EPOCH_EDIT_FOLDER_REQUESTED=t.EPOCH_CREATE_FOLDER_FAILED=t.EPOCH_CREATE_FOLDER_SUCCEEDED=t.EPOCH_CREATE_FOLDER_REQUESTED=t.RIGHT_RAIL_COMMS_ICON_CLICKED=t.EPOCH_INCOMING_PROPS_UPDATED=t.REDIRECT_TO_FULL_VIEW=t.POP_UP_EMIAL_INVITEE=t.POP_UP_EVENT_DELETE=t.POP_UP_EVENT_EDIT=t.POP_UP_EVENT_CLICK=t.POP_UP_EVENT_EMAIL_INVITEE=t.POP_UP_EVENT_PRINT=t.EPOCH_OPEN_COMPOSE_VIEW=t.EPOCH_APP_LAUNCH_FAILED=t.EPOCH_APP_LAUNCH_SUCCEEDED=t.EPOCH_APP_LAUNCH_REQUESTED=t.RSVP_REPLY_RECURR_EVENT_FAILED=t.RSVP_REPLY_RECURR_EVENT_SUCCEEDED=t.RSVP_REPLY_RECURR_EVENT_REQUESTED=t.RSVP_REPLY_SINGLE_EVENT_FAILED=t.RSVP_REPLY_SINGLE_EVENT_SUCCEEDED=t.RSVP_REPLY_SINGLE_EVENT_REQUESTED=t.FETCH_USER_PREFERENCES_FAILED=t.FETCH_USER_PREFERENCES_SUCCEEDED=t.FETCH_USER_PREFERENCES_REQUESTED=t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_FAILED=t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_SUCCEEDED=t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_REQUESTED=t.FETCH_FOLDERS_FAILED=t.FETCH_FOLDERS_SUCCEEDED=t.FETCH_FOLDERS_REQUESTED=t.EPOCH_SELECT_SEARCH_DATE_REQUESTED=t.SELECT_DATE_REQUESTED=t.COMPONENT_SWITCH_REQUESTED=t.DELETE_RECURR_EVENTS_FAILED=t.DELETE_RECURR_EVENTS_SUCCEDDED=t.DELETE_RECURR_EVENTS_REQUESTED=t.DELETE_SINGLE_EVENT_FAILED=t.DELETE_SINGLE_EVENT_SUCCEEDED=t.DELETE_SINGLE_EVENT_REQUESTED=t.EDIT_ALL_RECURR_INSTANCES_REQUESTED=t.EDIT_RECURR_EVENTS_FAILED=t.EDIT_RECURR_EVENTS_SUCCEEDED=t.EDIT_RECURR_EVENTS_REQUESTED=t.EDIT_SINGLE_EVENT_FAILED=t.EDIT_SINGLE_EVENT_SUCCEEDED=t.EDIT_SINGLE_EVENT_REQUESTED=t.CREATE_RECURR_NEW_EVENTS_FAILED=t.CREATE_RECURR_NEW_EVENTS_SUCCEEDED=t.CREATE_RECURR_NEW_EVENTS_REQUESTED=t.CREATE_SINGLE_NEW_EVENT_FAILED=t.CREATE_SINGLE_NEW_EVENT_SUCCEEDED=t.CREATE_SINGLE_NEW_EVENT_REQUESTED=t.REFETCH_DELETE_EVENT_SUCCEEDED=t.REFETCH_EDIT_EVENT_SUCCEEDED=t.FETCH_EVENT_FAILED=t.FETCH_EVENT_SUCCEEDED=t.FETCH_EVENT_REQUESTED=t.FETCH_EVENTS_FAILED=t.FETCH_EVENTS_SUCCEEDED=t.FETCH_EVENTS_REQUESTED=void 0,t.EPOCH_PUBLIC_APP_LAUNCH_FAILED=t.EPOCH_PUBLIC_APP_LAUNCH_SUCCEEDED=t.EPOCH_PUBLIC_APP_LAUNCH_REQUESTED=t.EPOCH_SEARCH_ITEM_CATEGORY_UDPATED=t.EPOCH_SEARCH_FOLDER_STATUS_CHANGE_REQUESTED=t.EPOCH_FETCH_IMPORTANT_CONTACTS_FAILED=t.EPOCH_FETCH_IMPORTANT_CONTACTS_SUCCEEDED=t.EPOCH_FETCH_IMPORTANT_CONTACTS_REQUESTED=t.EPOCH_RELATED_CONTACTS_CLOSED=t.EPOCH_FETCH_CONTACT_SUGGESTIONS_FAILED=t.EPOCH_FETCH_CONTACT_SUGGESTIONS_SUCCEEDED=t.EPOCH_FETCH_CONTACT_SUGGESTIONS_REQUESTED=t.EPOCH_DELETE_CONTACT_SUGGESTIONS_SUCCEEDED=t.EPOCH_DELETE_CONTACT_SUGGESTIONS_FAILED=t.EPOCH_DELETE_CONTACT_SUGGESTIONS_REQUESTED=t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_FAILED=t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_SUCCEEDED=t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_REQUESTED=t.EPOCH_CONTACT_PICKER_LAUNCH_FAILED=t.EPOCH_CONTACT_PICKER_LAUNCH_SUCCEEDED=t.EPOCH_CONTACT_PICKER_LAUNCH_REQUESTED=t.EPOCH_FETCH_ITEMS_FAILED=t.EPOCH_FETCH_ITEMS_SUCCEEDED=t.EPOCH_FETCH_ITEMS_REQUESTED=t.EPOCH_RSVP_LAUNCH_FAILED=t.EPOCH_RSVP_LAUNCH_SUCCEEDED=t.EPOCH_RSVP_LAUNCH_REQUESTED=t.EPOCH_PRINTPAGE_LAUNCH_FAILED=t.EPOCH_PRINTPAGE_LAUNCH_SUCCEEDED=t.EPOCH_PRINTPAGE_LAUNCH_REQUESTED=t.EPOCH_SETTING_LAUNCH_FAILED=t.EPOCH_SETTING_LAUNCH_SUCCEEDED=t.EPOCH_SETTING_LAUNCH_REQUESTED=t.EPOCH_SEARCH_LAUNCH_FAILED=void 0;t.FETCH_EVENTS_REQUESTED="FETCH_EVENTS_REQUESTED";t.FETCH_EVENTS_SUCCEEDED="FETCH_EVENTS_SUCCEEDED";t.FETCH_EVENTS_FAILED="FETCH_EVENTS_FAILED";t.FETCH_EVENT_REQUESTED="FETCH_EVENT_REQUESTED";t.FETCH_EVENT_SUCCEEDED="FETCH_EVENT_SUCCEEDED";t.FETCH_EVENT_FAILED="FETCH_EVENT_FAILED";t.REFETCH_EDIT_EVENT_SUCCEEDED="REFETCH_EDIT_EVENT_SUCCEEDED";t.REFETCH_DELETE_EVENT_SUCCEEDED="REFETCH_DELETE_EVENT_SUCCEEDED";t.CREATE_SINGLE_NEW_EVENT_REQUESTED="CREATE_SINGLE_NEW_EVENT_REQUESTED";t.CREATE_SINGLE_NEW_EVENT_SUCCEEDED="CREATE_SINGLE_NEW_EVENT_SUCCEEDED";t.CREATE_SINGLE_NEW_EVENT_FAILED="CREATE_SINGLE_NEW_EVENT_FAILED";t.CREATE_RECURR_NEW_EVENTS_REQUESTED="CREATE_RECURR_NEW_EVENTS_REQUESTED";t.CREATE_RECURR_NEW_EVENTS_SUCCEEDED="CREATE_RECURR_NEW_EVENTS_SUCCEEDED";t.CREATE_RECURR_NEW_EVENTS_FAILED="CREATE_RECURR_NEW_EVENTS_FAILED";t.EDIT_SINGLE_EVENT_REQUESTED="EDIT_SINGLE_EVENT_REQUESTED";t.EDIT_SINGLE_EVENT_SUCCEEDED="EDIT_SINGLE_EVENT_SUCCEEDED";t.EDIT_SINGLE_EVENT_FAILED="EDIT_SINGLE_EVENT_FAILED";t.EDIT_RECURR_EVENTS_REQUESTED="EDIT_RECURR_EVENTS_REQUESTED";t.EDIT_RECURR_EVENTS_SUCCEEDED="EDIT_RECURR_EVENTS_SUCCEEDED";t.EDIT_RECURR_EVENTS_FAILED="EDIT_RECURR_EVENTS_FAILED";t.EDIT_ALL_RECURR_INSTANCES_REQUESTED="EDIT_ALL_RECURR_INSTANCES_REQUESTED";t.DELETE_SINGLE_EVENT_REQUESTED="DELETE_SINGLE_EVENT_REQUESTED";t.DELETE_SINGLE_EVENT_SUCCEEDED="DELETE_SINGLE_EVENT_SUCCEEDED";t.DELETE_SINGLE_EVENT_FAILED="DELETE_SINGLE_EVENT_FAILED";t.DELETE_RECURR_EVENTS_REQUESTED="DELETE_RECURR_EVENTS_REQUESTED";t.DELETE_RECURR_EVENTS_SUCCEDDED="DELETE_RECURR_EVENTS_SUCCEDDED";t.DELETE_RECURR_EVENTS_FAILED="DELETE_RECURR_EVENTS_FAILED";t.COMPONENT_SWITCH_REQUESTED="COMPONENT_SWITCH_REQUESTED";t.SELECT_DATE_REQUESTED="SELECT_DATE_REQUESTED";t.EPOCH_SELECT_SEARCH_DATE_REQUESTED="EPOCH_SELECT_SEARCH_DATE_REQUESTED";t.FETCH_FOLDERS_REQUESTED="FETCH_FOLDERS_REQUESTED";t.FETCH_FOLDERS_SUCCEEDED="FETCH_FOLDERS_SUCCEEDED";t.FETCH_FOLDERS_FAILED="FETCH_FOLDERS_FAILED";t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_REQUESTED="EPOCH_FETCH_OTHERS_FOLDERS_LIST_REQUESTED";t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_SUCCEEDED="EPOCH_FETCH_OTHERS_FOLDERS_LIST_SUCCEEDED";t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_FAILED="EPOCH_FETCH_OTHERS_FOLDERS_LIST_FAILED";t.FETCH_USER_PREFERENCES_REQUESTED="FETCH_USER_PREFERENCES_REQUESTED";t.FETCH_USER_PREFERENCES_SUCCEEDED="FETCH_USER_PREFERENCES_SUCCEEDED";t.FETCH_USER_PREFERENCES_FAILED="FETCH_USER_PREFERENCES_FAILED";t.RSVP_REPLY_SINGLE_EVENT_REQUESTED="RSVP_REPLY_SINGLE_EVENT_REQUESTED";t.RSVP_REPLY_SINGLE_EVENT_SUCCEEDED="RSVP_REPLY_SINGLE_EVENT_SUCCEEDED";t.RSVP_REPLY_SINGLE_EVENT_FAILED="RSVP_REPLY_SINGLE_EVENT_FAILED";t.RSVP_REPLY_RECURR_EVENT_REQUESTED="RSVP_REPLY_RECURR_EVENT_REQUESTED";t.RSVP_REPLY_RECURR_EVENT_SUCCEEDED="RSVP_REPLY_RECURR_EVENT_SUCCEEDED";t.RSVP_REPLY_RECURR_EVENT_FAILED="RSVP_REPLY_RECURR_EVENT_FAILED";t.EPOCH_APP_LAUNCH_REQUESTED="EPOCH_APP_LAUNCH_REQUESTED";t.EPOCH_APP_LAUNCH_SUCCEEDED="EPOCH_APP_LAUNCH_SUCCEEDED";t.EPOCH_APP_LAUNCH_FAILED="EPOCH_APP_LAUNCH_FAILED";t.EPOCH_OPEN_COMPOSE_VIEW="EPOCH_OPEN_COMPOSE_VIEW";t.POP_UP_EVENT_PRINT="POP_UP_EVENT_PRINT";t.POP_UP_EVENT_EMAIL_INVITEE="POP_UP_EVENT_EMAIL_INVITEE";t.POP_UP_EVENT_CLICK="POP_UP_EVENT_CLICK";t.POP_UP_EVENT_EDIT="POP_UP_EVENT_EDIT";t.POP_UP_EVENT_DELETE="POP_UP_EVENT_DELETE";t.POP_UP_EMIAL_INVITEE="POP_UP_EMIAL_INVITEE";t.REDIRECT_TO_FULL_VIEW="REDIRECT_TO_FULL_VIEW";t.EPOCH_INCOMING_PROPS_UPDATED="EPOCH_INCOMING_PROPS_UPDATED";t.RIGHT_RAIL_COMMS_ICON_CLICKED="RIGHT_RAIL_COMMS_ICON_CLICKED";t.EPOCH_CREATE_FOLDER_REQUESTED="EPOCH_CREATE_FOLDER_REQUESTED";t.EPOCH_CREATE_FOLDER_SUCCEEDED="EPOCH_CREATE_FOLDER_SUCCEEDED";t.EPOCH_CREATE_FOLDER_FAILED="EPOCH_CREATE_FOLDER_FAILED";t.EPOCH_EDIT_FOLDER_REQUESTED="EPOCH_EDIT_FOLDER_REQUESTED";t.EPOCH_EDIT_FOLDER_SUCCEEDED="EPOCH_EDIT_FOLDER_SUCCEEDED";t.EPOCH_EDIT_FOLDER_FAILED="EPOCH_EDIT_FOLDER_FAILED";t.EPOCH_DELETE_FOLDER_REQUESTED="EPOCH_DELETE_FOLDER_REQUESTED";t.EPOCH_DELETE_FOLDER_SUCCEEDED="EPOCH_DELETE_FOLDER_SUCCEEDED";t.EPOCH_DELETE_FOLDER_FAILED="EPOCH_DELETE_FOLDER_FAILED";t.EPOCH_IMPORT_FOLDER_REQUESTED="EPOCH_IMPORT_FOLDER_REQUESTED";t.EPOCH_IMPORT_FOLDER_SUCCEEDED="EPOCH_IMPORT_FOLDER_SUCCEEDED";t.EPOCH_IMPORT_FOLDER_FAILED="EPOCH_IMPORT_FOLDER_FAILED";t.EPOCH_EXPORT_FOLDER_REQUESTED="EPOCH_EXPORT_FOLDER_REQUESTED";t.EPOCH_EXPORT_FOLDER_SUCCEEDED="EPOCH_EXPORT_FOLDER_SUCCEEDED";t.EPOCH_EXPORT_FOLDER_FAILED="EPOCH_EXPORT_FOLDER_FAILED";t.EPOCH_FETCH_FOLDER_REQUESTED="EPOCH_FETCH_FOLDER_REQUESTED";t.EPOCH_FETCH_FOLDER_SUCCEEDED="EPOCH_FETCH_FOLDER_SUCCEEDED";t.EPOCH_FETCH_FOLDER_FAILED="EPOCH_FETCH_FOLDER_FAILED";t.EDIT_USER_PREFERENCES_REQUESTED="EDIT_USER_PREFERENCES_REQUESTED";t.EDIT_USER_PREFERENCES_SUCCEEDED="EDIT_USER_PREFERENCES_SUCCEEDED";t.EDIT_USER_PREFERENCES_FAILED="EDIT_USER_PREFERENCES_FAILED";t.EPOCH_FETCH_TODOS_REQUESTED="EPOCH_FETCH_TODOS_REQUESTED";t.EPOCH_FETCH_TODOS_SUCCEEDED="EPOCH_FETCH_TODOS_SUCCEEDED";t.EPOCH_FETCH_TODOS_FAILED="EPOCH_FETCH_TODOS_FAILED";t.EPOCH_PATCH_TODO_REQUESTED="EPOCH_PATCH_TODO_REQUESTED";t.EPOCH_PATCH_TODO_SUCCEEDED="EPOCH_PATCH_TODO_SUCCEEDED";t.EPOCH_PATCH_TODO_FAILED="EPOCH_PATCH_TODO_FAILED";t.EPOCH_DELETE_TODO_REQUESTED="EPOCH_DELETE_TODO_REQUESTED";t.EPOCH_DELETE_TODO_SUCCEEDED="EPOCH_DELETE_TODO_SUCCEEDED";t.EPOCH_DELETE_TODO_FAILED="EPOCH_DELETE_TODO_FAILED";t.EPOCH_CREATE_TODO_REQUESTED="EPOCH_CREATE_TODO_REQUESTED";t.EPOCH_CREATE_TODO_SUCCEEDED="EPOCH_CREATE_TODO_SUCCEEDED";t.EPOCH_CREATE_TODO_FAILED="EPOCH_CREATE_TODO_FAILED";t.FETCH_OPTIONS_REQUESTED="FETCH_OPTIONS_REQUESTED";t.FETCH_OPTIONS_SUCCEEDED="FETCH_OPTIONS_SUCCEEDED";t.FETCH_OPTIONS_FAILED="FETCH_OPTIONS_FAILED";t.EPOCH_ITEM_SEARCH_REQUESTED="EPOCH_ITEM_SEARCH_REQUESTED";t.EPOCH_ITEM_SEARCH_SUCCEEDED="EPOCH_ITEM_SEARCH_SUCCEEDED";t.EPOCH_ITEM_SEARCH_FAILED="EPOCH_ITEM_SEARCH_FAILED";t.EPOCH_SEARCH_QUERY_UPDATED="EPOCH_SEARCH_QUERY_UPDATED";t.EPOCH_SEARCH_LAUNCH_REQUESTED="EPOCH_SEARCH_LAUNCH_REQUESTED";t.EPOCH_SEARCH_LAUNCH_SUCCEEDED="EPOCH_SEARCH_LAUNCH_SUCCEEDED";t.EPOCH_SEARCH_LAUNCH_FAILED="EPOCH_SEARCH_LAUNCH_FAILED";t.EPOCH_SETTING_LAUNCH_REQUESTED="EPOCH_SETTING_LAUNCH_REQUESTED";t.EPOCH_SETTING_LAUNCH_SUCCEEDED="EPOCH_SETTING_LAUNCH_SUCCEEDED";t.EPOCH_SETTING_LAUNCH_FAILED="EPOCH_SETTING_LAUNCH_FAILED";t.EPOCH_PRINTPAGE_LAUNCH_REQUESTED="EPOCH_PRINTPAGE_LAUNCH_REQUESTED";t.EPOCH_PRINTPAGE_LAUNCH_SUCCEEDED="EPOCH_PRINTPAGE_LAUNCH_SUCCEEDED";t.EPOCH_PRINTPAGE_LAUNCH_FAILED="EPOCH_PRINTPAGE_LAUNCH_FAILED";t.EPOCH_RSVP_LAUNCH_REQUESTED="EPOCH_RSVP_LAUNCH_REQUESTED";t.EPOCH_RSVP_LAUNCH_SUCCEEDED="EPOCH_RSVP_LAUNCH_SUCCEEDED";t.EPOCH_RSVP_LAUNCH_FAILED="EPOCH_RSVP_LAUNCH_FAILED";t.EPOCH_FETCH_ITEMS_REQUESTED="EPOCH_FETCH_ITEMS_REQUESTED";t.EPOCH_FETCH_ITEMS_SUCCEEDED="EPOCH_FETCH_ITEMS_SUCCEEDED";t.EPOCH_FETCH_ITEMS_FAILED="EPOCH_FETCH_ITEMS_FAILED";t.EPOCH_CONTACT_PICKER_LAUNCH_REQUESTED="EPOCH_CONTACT_PICKER_LAUNCH_REQUESTED";t.EPOCH_CONTACT_PICKER_LAUNCH_SUCCEEDED="EPOCH_CONTACT_PICKER_LAUNCH_SUCCEEDED";t.EPOCH_CONTACT_PICKER_LAUNCH_FAILED="EPOCH_CONTACT_PICKER_LAUNCH_FAILED";t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_REQUESTED="EPOCH_FETCH_CONTACTS_BY_GROUP_ID_REQUESTED";t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_SUCCEEDED="EPOCH_FETCH_CONTACTS_BY_GROUP_ID_SUCCEEDED";t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_FAILED="EPOCH_FETCH_CONTACTS_BY_GROUP_ID_FAILED";t.EPOCH_DELETE_CONTACT_SUGGESTIONS_REQUESTED="EPOCH_DELETE_CONTACT_SUGGESTIONS_REQUESTED";t.EPOCH_DELETE_CONTACT_SUGGESTIONS_FAILED="EPOCH_DELETE_CONTACT_SUGGESTIONS_FAILED";t.EPOCH_DELETE_CONTACT_SUGGESTIONS_SUCCEEDED="EPOCH_DELETE_CONTACT_SUGGESTIONS_SUCCEEDED";t.EPOCH_FETCH_CONTACT_SUGGESTIONS_REQUESTED="EPOCH_FETCH_CONTACT_SUGGESTIONS_REQUESTED";t.EPOCH_FETCH_CONTACT_SUGGESTIONS_SUCCEEDED="EPOCH_FETCH_CONTACT_SUGGESTIONS_SUCCEEDED";t.EPOCH_FETCH_CONTACT_SUGGESTIONS_FAILED="EPOCH_FETCH_CONTACT_SUGGESTIONS_FAILED";t.EPOCH_RELATED_CONTACTS_CLOSED="EPOCH_RELATED_CONTACTS_CLOSED";t.EPOCH_FETCH_IMPORTANT_CONTACTS_REQUESTED="EPOCH_FETCH_IMPORTANT_CONTACTS_REQUESTED";t.EPOCH_FETCH_IMPORTANT_CONTACTS_SUCCEEDED="EPOCH_FETCH_IMPORTANT_CONTACTS_SUCCEEDED";t.EPOCH_FETCH_IMPORTANT_CONTACTS_FAILED="EPOCH_FETCH_IMPORTANT_CONTACTS_FAILED";t.EPOCH_SEARCH_FOLDER_STATUS_CHANGE_REQUESTED="EPOCH_SEARCH_FOLDER_STATUS_CHANGE_REQUESTED";t.EPOCH_SEARCH_ITEM_CATEGORY_UDPATED="EPOCH_SEARCH_ITEM_CATEGORY_UDPATED";t.EPOCH_PUBLIC_APP_LAUNCH_REQUESTED="EPOCH_PUBLIC_APP_LAUNCH_REQUESTED";t.EPOCH_PUBLIC_APP_LAUNCH_SUCCEEDED="EPOCH_PUBLIC_APP_LAUNCH_SUCCEEDED";t.EPOCH_PUBLIC_APP_LAUNCH_FAILED="EPOCH_PUBLIC_APP_LAUNCH_FAILED"},function(e,t,s){"use strict";var r=s(474),n=s(473);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(s(873)),o=n(s(874)),i=n(s(475)),c=n(s(875)),l=n(s(876)),d=n(s(877)),E=n(s(3)),_=r(s(1)),u=n(s(1160)),p=n(s(12));n(s(7));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;s=Reflect.construct(r,arguments,n)}else s=r.apply(this,arguments);return(0,l.default)(this,s)}}t.default=function(e){(0,c.default)(s,e);var t=m(s);function s(){var e;(0,a.default)(this,s);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),(0,E.default)((0,i.default)(e),"renderEventItem",(function(){var e=(0,p.default)(u.default);return _.default.createElement("div",{className:e.eventListWrapper},_.default.createElement("div",{className:e.timeWrapper},_.default.createElement("span",{className:e.timeIndicator}),_.default.createElement("span",{className:e.timeIndicator})),_.default.createElement("div",{className:e.eventPicWrapper},_.default.createElement("div",{className:e.eventItemWrapper},_.default.createElement("span",{className:e.eventIndicator})),_.default.createElement("div",{className:e.picWrapper},_.default.createElement("span",{className:e.picIndicator}))))})),e}return(0,o.default)(s,[{key:"render",value:function(){var e=this.props.includeHeaders,t=(0,p.default)(u.default);return _.default.createElement("div",{className:t.wrapper},e?_.default.createElement(_.Fragment,null,_.default.createElement("div",{className:t.navHeaderWrapper}),_.default.createElement("div",{className:t.monthHeaderWrapper})):null,this.renderEventItem(),this.renderEventItem(),this.renderEventItem(),this.renderEventItem(),this.renderEventItem())}}]),s}(_.default.Component)},,,,,,,,function(e,t,s){e.exports=s(1265)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"F_N W_3vpWV H_6D6F M_A",navHeaderWrapper:"H_73Xs W_6D6F m_Z14vXdP",monthHeaderWrapper:"W_6D6F H_74ed",eventListWrapper:"W_3vpWV H_7jcW D_Z1YJkyX",timeWrapper:"W_74JI H_6UbO Q_6Fd5 D_Z1YJaYm ab_C je_6FsP",eventPicWrapper:"D_Z1YJkyX m_Z14vXdP Q_6DEy",eventItemWrapper:"W_3r5Ku je_6FsP",timeIndicator:"ah_Z1tF3s4 D_X H_fq7 e_eo6 q_ZpQYvz",eventIndicator:"ah_Z1tF3s4 D_B W_3nV5V H_fq7 e_eo6 q_ZpQYvz Y_e8l",picWrapper:"W_72FG H_750t",picIndicator:"W_6Nds H_6Nds q_ZpQYvz e_e5X ah_Z1tF3s4 D_B Y_6EWk Q_eTB"}},_key:"K8ORb"}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";e.exports={className:{default:{container:"d_6FIA i_6FIA D_F eo_HB",email:"C4_Z2aVTcY",separator:"E_fq7",label:"u_b E_eo6 C_Z1TsNWR",button:"Q_eo6 P_3gIMd e_dRA I4_Z2aVTcY C4_52qC r_P y_Z2hYGcu A_6EqO b_0 I_T"}},_key:"h1rHl"}},,,function(e,t,s){s(1189),s(1210)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.r(t);var r={};s.r(r),s.d(r,"getBlockPayload",(function(){return Qt})),s.d(r,"transformResponse",(function(){return Zt}));var n={};s.r(n),s.d(n,"getBlockPayload",(function(){return Xt})),s.d(n,"transformResponse",(function(){return $t}));var a=s(3),o=s.n(a),i=s(456),c=s.n(i),l=s(197),d=s(187),E=s.n(d),_=s(43),u=s.n(_),p=s(53),m=s.n(p),S=s(65),h=s(19),C=s(0),g=s(75),O=s(40),T=s(35),A=s(119),I=s(20),f=s(9),D=s(72),R=s(34),b=s.n(R),N=s(120),M=s.n(N),y=s(26);const L=/^[\w\-]+:.+$/gim;var P=function({boundary:e,useBuffer:t=!0,consolidate:s=!1}){let r="";return M()((function(n){t||(r="");const a=(n=r+n).split(new RegExp(`--${e}-{0,2}`,"gm")),o=[];for(;a.length>1;){const e=a.shift().replace(L,"").trim();""!==e&&(s?o.push(e):this.emit("data",e))}s&&o.length>0&&this.emit("data",o),r=a[0]}))},v=s(89),F=s(56),U=s(33),w=s.n(U),G=s(66),H=s(200);function j(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function k(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?j(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function x(e,{listContentType:t},s){if(!e||!t)throw new O.a("BootcampApiClient.SearchError");const r=e.items,n=void 0===r?[]:r,a=e.extendUrl;return{totalHits:e.totalHits,offset:n.length?e.cursor:"",nextItemsUrl:void 0===a?"":a,queryResponse:e.queryResponse,items:H.a[t]?H.a[t](n,s):n}}const B=e=>"CPN"===e.id,V=e=>"CRD"===e.id;function W(e,t){return(e=>e.reduce((e,t)=>{if("CARDS"!==t.blockType)e.push(t);else{const s={};t.content.items.forEach(e=>{const r=e.messageMetadata.decos;let n=C.ac.CARDS;r.some(V)&&r.some(B)&&(n=C.ac.COUPON_CARDS),s[n]||(s[n]=k({},t,{blockType:n,content:k({},t.content,{items:[]})})),s[n].content.items.push(e)}),e.push(...Object(f.h)(s))}return e},[]))(e.reduce((e,t={})=>e.concat(Object(f.b)(t,"contentBlocks",[])),[])).reduce((e,s={})=>{const r=s.filter,n=void 0===r?C.bc.WITH_KEYWORD:r,a=s.content,o=s.blockType;if("ADS"===o){const t=a?H.a[o](a.items):{};for(const s in t){var i,c;const r="PLAADS"===s?null===(i=t[s])||void 0===i?void 0:i.ads:t[s],a="PLAADS"===s?null===(c=t[s])||void 0===c?void 0:c.instrumentation:{};r&&r.length>0&&(e[s]={[n]:{suggestedWords:[],totalHits:0,nextItemsUrl:"",offset:0,items:r,instrumentation:a}})}return e}if(!C.bc[n]||(e=>e&&e.items&&0===e.items.length&&!!e.extendUrl)(a))return e;if(e[o]||(e[o]={}),e[o][n]={items:[],suggestedWords:[],totalHits:0,nextItemsUrl:"",offset:0},a){const s=a.items,r=void 0===s?[]:s,i=a.suggestedWords,c=a.extendUrl,l=a.cursor,d=a.queryResponse;e[o][n]=k({totalHits:a.totalHits,offset:r.length?l:void 0,nextItemsUrl:void 0===c?"":c,suggestedWords:void 0===i?[]:i,items:H.a[o]?H.a[o](r,t):r},d&&{lmv3Query:d})}return e},{})}function K(e){if(!e||!e.response)throw new O.a("BootcampApiClient.SuggestionError");return e.response.suggestions}const q={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"};var Y=s(179),z=function({boundary:e,headers:t}){const s=Object.keys(t).reduce((e,s)=>`${e}${s}: ${t[s]}\n`,"");return M()((function(t){this.queue(`--${e}\n${s}\n${t}\n\n`)}),(function(){this.queue(`--${e}--`),this.queue(null)}))};const Q={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"};var Z=class{constructor(e){this.loggerParams=e,this.startTime=Date.now(),this.loggers={}}logLatency(e,t=0,s=0){Object.keys(e||{}).forEach(r=>{Object.keys(e[r]||{}).forEach(e=>{const n=r+"__"+e;if(!this.loggers[n]){Y.a.feature("bootcamp_client_stream_call",Object.assign({},this.loggerParams,{contentType:r,filterType:e,bootcampRequestTS:t,bootcampResponseTS:s}),this.startTime).logLatency(),this.loggers[n]=!0}})})}};function X(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function $(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?X(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):X(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const J={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"},ee={[F.b]:class{constructor({httpRetry:e,appName:t,userNamespace:s}){this.urlPrefix=(t===C.B.MOBILE_APP?C.uc:C.mb)+"/bootcamp_api",this.httpRetry=e,this.userNamespace=s}_getHttpTransport(e,t,s){const r=new y.b(e,t,s);return r.setHeader("x_oath_ns",this.userNamespace),r}searchStream(e,t){const s=this._getHttpTransport("GET",this.urlPrefix+"/search",{timeout:F.h,httpRetry:this.httpRetry});let r=0;s.setHeader("Accept","multipart/form-data"),s.withCredentials=!0;const n=s.createStream(e),a=n.pipe(P({boundary:F.f,useBuffer:!1,consolidate:!0})).pipe(M()((function(e){try{const s=e.slice(r);if(r=e.length,0===s.length)return;const n=Object.keys(C.ac),a=s.reduce((e,s)=>{const r=JSON.parse(s);return t.logLatency(r),Object.keys(r).forEach(t=>{if(-1===n.indexOf(t))return e;e[t]||(e[t]={}),Object.keys(r[t]).forEach(s=>{e[t][s]=r[t][s]})}),e},{});this.emit("data",a)}catch(e){this.emit("data",{status:500,error:O.a.errorify(e)})}})));return n.on("error",e=>a.emit("error",e)),a}itemsApi(e){const t=this._getHttpTransport("GET",this.urlPrefix+"/items",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}searchSuggestionsStream(e){const t=this._getHttpTransport("GET",this.urlPrefix+"/suggestions",{httpRetry:this.httpRetry});let s=0;t.setHeader("Accept","multipart/form-data"),t.withCredentials=!0;const r=t.createStream(Object.assign({multipart:!0},e)),n=r.pipe(P({boundary:F.f,useBuffer:!1,consolidate:!0})).pipe(M()((function(e){let t;try{const r=e.slice(s);if(s=e.length,0===r.length)return;t=r.reduce((e,t)=>e.concat(JSON.parse(t)),[])}catch(e){this.emit("data",{status:500,error:O.a.errorify(e)})}this.emit("data",t)})));return r.on("error",e=>n.emit("error",e)),n}recentSearchesApi(e){const t=this._getHttpTransport("GET",this.urlPrefix+"/recentSearches",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}},[F.g]:class{constructor({bootcampHost:e,cookie:t,headers:s,bootcampYHeaders:r={},httpRetry:n,userNamespace:a}){this.cookie=t,this.bootcampHost=e,this.headers=Object.assign({},s,r),this.httpRetry=n,this.userNamespace=a}_setCustomHeaders(e,t={}){t&&Object.keys(t).forEach(s=>{e.setHeader(s,t[s])})}_getHttpTransport(e,t,s){const r=new y.b(e,t,s);return r.setHeader("x_oath_ns",this.userNamespace),r}searchStream(e,t){const s=this._getHttpTransport("GET",this.bootcampHost+"/v3/srp?",{timeout:F.h,httpRetry:this.httpRetry}),r=u()(e,["keyword","buckets"]);s.setHeader("Accept","multipart/form-data"),s.setHeader("Accept-Encoding","gzip;q=0, deflate, sdch, br"),s.setHeader("User-Agent",e.userAgent),s.setCookieHeader(this.cookie),this._setCustomHeaders(s,this.headers),s.withCredentials=!0,r.query=e.keyword,r.bucketid=(e.buckets||[]).join(",");const n=e.sortOrder;r.order=Q[void 0===n?C.Yd.DATE_DESC:n];const a=s.createStream(r),o=a.pipe(P({boundary:F.f})).pipe(function(e){return M()((function(t){try{const s=JSON.parse(t),r=s.status,n=s.response;if(401===r)throw new O.a(T.b,{statusCode:r,errorCode:"AUTH",refresh:!0});if(!n||200!==r)throw new O.a("BootcampApiClient.SearchError");if(n.verticals){const t=W(n.verticals,e);e.searchStreamLogger.logLatency(t,n.requestTS,n.responseTS),Object(f.c)(t)||this.emit("data",JSON.stringify(t))}}catch(e){return this.emit("data",JSON.stringify({status:500,error:O.a.errorify(e)}))}}))}({timezone:e.timezone,formatDateUsingUTC:"false"!==e.formatDateUsingUTC,searchStreamLogger:t})).pipe(z({boundary:F.f,headers:{"Content-Type":"application/json"}}));return a.on("error",e=>o.emit("error",e)),o}itemsApi(e){const t=e.wssid,s=e.buckets,r=e.timeout,n=e.ymreqid,a=e.listContentType,o=e.timezone,i=e.userAgent,c=Object(I.d)(e.url,{wssid:t,bucketid:(s||[]).join(",")}),l=this._getHttpTransport("GET",c,{httpRetry:this.httpRetry,timeout:r});return i&&l.setHeader("User-Agent",i),l.setHeader("Accept","application/json"),l.setCookieHeader(this.cookie),this._setCustomHeaders(l,this.headers),l.withCredentials=!0,l.send({ymreqid:n}).then(e=>JSON.stringify(x(JSON.parse(e.text),{listContentType:a},{timezone:o})))}searchSuggestionsStream(e){const t=this._getHttpTransport("GET",this.bootcampHost+"/v3/suggestions?",{httpRetry:this.httpRetry});t.setHeader("Accept","multipart/form-data"),t.setHeader("Accept-Encoding","gzip;q=0, deflate, sdch, br"),t.setCookieHeader(this.cookie),this._setCustomHeaders(t,this.headers),t.withCredentials=!0;const s=t.createStream(e),r=s.pipe(P({boundary:F.f})).pipe(M()((function(e){try{const t=JSON.parse(e),s=t.status,r=t.response;if(!r||200!==s)throw new O.a("BootcampApiClient.SuggestionError");if(r.suggestions){const e=K(t);Object(f.c)(e)||this.emit("data",JSON.stringify(e))}}catch(e){return this.emit("data",JSON.stringify({status:500,error:O.a.errorify(e)}))}}))).pipe(z({boundary:F.f,headers:{"Content-Type":"application/json"}}));return s.on("error",e=>r.emit("error",e)),r}recentSearchesApi(e){const t=e.ymreqid,s=e.wssid,r=e.appid,n=this._getHttpTransport("GET",this.bootcampHost+"/v3/recentSearches?",{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.setCookieHeader(this.cookie),n.withCredentials=!0,n.send({ymreqid:t,wssid:s,appid:r}).then(e=>JSON.parse(e.text))}},[F.a]:class{constructor({httpRetry:e,endpoints:t,useBootcampYCPIProxy:s,userNamespace:r}){this.endpoints=t,this.httpRetry=e,this.useBootcampYCPIProxy=s,this.userNamespace=r}_getHttpTransport(e,t,s){const r=new y.b(e,t,s);return r.setHeader("x_oath_ns",this.userNamespace),r}_getPsearchHost(){return this.useBootcampYCPIProxy?"":this.endpoints.BOOTCAMP_HOST}_getDefaultGifUrl({anonid:e,query:t,mailboxId:s,wssid:r,offset:n}){const a=Object.assign({appid:C.Me,cursor:n,limit:F.c,mailboxId:s,mimeTypes:"image/gif",order:"desc",query:t,source:C.I.TENOR,vertical:"WEB",wssid:r},e?{anonid:e}:{});return this._getPsearchHost()+"/psearch/v3/items?"+Object(p.stringify)(a)}_getGifCategoriesUrl({wssid:e,locale:t}){const s={wssid:e,appid:C.Me,limit:F.c,locale:t};return this._getPsearchHost()+"/psearch/v3/categories/expanded?"+Object(p.stringify)(s)}gifsApi(e){const t=e.ymreqid,s=e.timezone,r=e.nextItemsUrl?function(e,{anonid:t,wssid:s}){const r=Object.assign({wssid:s},t?{anonid:t}:{},-1===e.indexOf("appid="+C.Me)?{appid:C.Me}:{});return e+"&"+Object(p.stringify)(r)}(e.nextItemsUrl,e):this._getDefaultGifUrl(e),n=this._getHttpTransport("GET",r,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then(e=>x(JSON.parse(e.text),{listContentType:C.ac.GIFS},{timezone:s}))}gifCategoriesApi(e){const t=e.ymreqid,s=e.timezone,r=this._getGifCategoriesUrl(e),n=this._getHttpTransport("GET",r,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then(e=>function(e,{listContentType:t},s){if(!e||!t)throw new O.a("BootcampApiClient.gifCategoriesApiError");return{categories:e.categories.map(({gifs:r={},itemsUrl:n="",queryString:a=""},o)=>{const i=r.items,c=void 0===i?[]:i,l=r.extendUrl,d=r.cursor;return k({},e.categories[o],{gifs:{offset:void 0===d?"":d,nextItemsUrl:(void 0===l?"":l)||n||"",items:H.a[t]?H.a[t](c,[],s):c},itemsUrl:n||"",queryString:a||""})})}}(JSON.parse(e.text),{listContentType:C.ac.GIFS},{timezone:s}))}getCouponsApi({ymreqid:e,decoId:t,accountIds:s,wssid:r,cursor:n=0,mailboxId:a,limit:o,start:i,end:c,vertical:l,order:d,appid:E,from:_,query:u}){const p=`mailboxId=${a}&limit=${o}&start=${i}&end=${c}&vertical=${l}&order=${d}&appid=${E}${u?"&query="+encodeURIComponent(u):""}${_?"&from="+_:""}`,m=`${this._getPsearchHost()}/psearch/v3/items?cursor=${n||0}&decoId=(${t.join(" ")})&accountIds=${s.join(",")}&${p}&wssid=${r}`,S=this._getHttpTransport("GET",m,{httpRetry:this.httpRetry});return S.setHeader("Accept","application/json"),S.withCredentials=!0,S.send({ymreqid:e}).then(e=>function({items:e=[],cursor:t=0,totalHits:s=0,extendUrl:r=""}={}){return{cardGroupList:H.a[C.ac.COUPON_CARDS](e),offset:parseInt(""===t?0:t,10),totalHits:s,hasMoreItems:!!r,nextItemsUrl:r}}(JSON.parse(e.text)))}localStoresApi({wssid:e,senderEmail:t="",latlong:s="",ymreqid:r}){const n=`${this._getPsearchHost()}/psearch/v3/items?appid=${C.Me}&lcount=1&source=locals&wssid=${e}&sendersmtp=${encodeURIComponent(t)}`+(s?"&latlong="+s:""),a=this._getHttpTransport("GET",n,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send({ymreqid:r}).then(e=>function(e){if(!e)throw new O.a("BootcampApiClient.LocalStoresError");const t=e.items,s=void 0===t?[]:t,r=w()(s,1)[0],n=(void 0===r?{}:r).listing,a=void 0===n?[]:n,o=w()(a,1)[0];return{nearbyListing:void 0===o?{}:o}}(JSON.parse(e.text)))}couponRecommendations(e){const t=e.ymreqid,s=e.limit,r=e.cursor,n=e.mid,a=e.mailboxemail,o={appid:C.Me,wssid:e.wssid,vertical:"CARDS",decoId:C.Cc.CPN,cursor:void 0===r?0:r,limit:void 0===s?5:s,context:n?"mid:"+n:"view:recommended",mailboxemail:void 0===a?"":a},i=this._getPsearchHost()+"/psearch/v3/items?"+Object(p.stringify)(o),c=this._getHttpTransport("GET",i,{httpRetry:this.httpRetry});return c.setHeader("Accept","application/json"),c.withCredentials=!0,c.send({ymreqid:t}).then(e=>function(e){if(!e)throw new O.a("BootcampApiClient.LocalStoresError");return{messageGroupsResponses:[{cardGroupList:e.items.map(e=>({id:e.immutableId,messages:[u()(k({},e.messageMetadata,{schemaCards:Object(G.n)(e.messageMetadata)}),["schemaOrg"])]})),filter:C.bc.ALL_COUPON_CARDS,hasMoreItems:!1,offset:""}],parentMessagesMap:{}}}(e.body))}itemsApi(e){const t=e.wssid,s=e.buckets;let r=e.url.replace(this.endpoints.BOOTCAMP_HOST+"/psearch",this._getPsearchHost()+"/psearch")+"&wssid="+t;s&&s.length&&(r+="&bucketid="+s.join(","));const n=this._getHttpTransport("GET",r,{httpRetry:this.httpRetry}),a=e.ymreqid,o=e.listContentType,i=e.timezone;return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:a}).then(e=>x(JSON.parse(e.text),{listContentType:o},{timezone:i}))}recentSearchesApi(e){const t=this._getPsearchHost()+"/psearch/v3/recentSearches?",s=e.ymreqid,r=e.wssid,n=e.appid,a=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send({ymreqid:s,wssid:r,appid:n}).then(e=>function(e){if(!e)throw new O.a("BootcampApiClient.RecentSearchError");return e}(JSON.parse(e.text)))}topRetailersApi(e){const t=e.ymreqid,s=e.wssid,r=e.appid,n=e.mailboxid,a=e.accountIds,o=this._getPsearchHost()+`/psearch/v3/summaries?ymreqid=${t}&wssid=${s}&appid=${r}&mailboxid=${n}&accountIds=${a.join(",")}`,i=this._getHttpTransport("POST",o,{httpRetry:this.httpRetry}),c={vertical:"CARDS",decoIds:["CPN"],startTime:Date.now(),endTime:1e3*(Math.round((new Date).getTime()/1e3)+365*v.a),pivotList:[{pivotType:"SENDER",sortOrderList:[{sortType:"TOPCOUNT",order:"DESC"}],pivotList:[{pivotType:"CONTENTITEM",limit:1}]}]};return i.setHeader("Accept","application/json"),i.withCredentials=!0,i.send(c).then(e=>function(e){const t=Object(f.b)(e,"pivotInfoList.0.pivotInfoList",null);if(!t)throw new O.a("BootcampApiClient.TopRetailersError");return t.map(({count:e,pivotName:t,contentItems:s})=>({count:e,email:t,nameFromEmail:Object(f.b)(s,"0.internalKVSet.custom.messageMetadata.headers.from.0.name","")}))}(e.body))}topDealCategoriesApi(e){const t=e.ymreqid,s=e.wssid,r=e.appid,n=e.mailboxid,a=this._getPsearchHost()+`/psearch/v3/summaries?ymreqid=${t}&wssid=${s}&appid=${r}&mailboxid=${n}`,o=this._getHttpTransport("POST",a,{httpRetry:this.httpRetry}),i={vertical:"CARDS",decoIds:["CPN"],endTime:Date.now()+5184e6,pivotList:[{pivotType:"CATEGORY",sortOrderList:[{sortType:"TOPCOUNT",order:"DESC"}],pivotList:[{pivotType:"CONTENTITEM",limit:0}]}]};return o.setHeader("Accept","application/json"),o.withCredentials=!0,o.send(i).then(e=>function(e){const t=Object(f.b)(e,"pivotInfoList.0.pivotInfoList",null),s={};if(!t)throw new O.a("BootcampApiClient.TopDealCategoriesError");for(const e of t){const t=e.pivotName.split(">")[0];"Other"!==t&&(s[t]=s[t]?s[t]+e.count:e.count)}return Object.keys(s).sort((e,t)=>s[t]-s[e])}(JSON.parse(e.text)))}deleteRecentSearchApi(e){const t=e.wssid,s=e.ymreqid,r=e.appid,n=b()(e,["wssid","ymreqid","appid"]),a=`${this._getPsearchHost()}/psearch/v3/clearSearchHistoryQuery?wssid=${t}&ymreqid=${s}&appid=${r}`,o=this._getHttpTransport("POST",a);return o.setHeader("Accept","application/json"),o.withCredentials=!0,o.send(n).catch(()=>{throw new O.a("BootcampApiClient.DeleteRecentSearch")})}searchStream(e,t){const s=this._getPsearchHost()+"/psearch/v3/srp?",r=this._getHttpTransport("GET",s,{timeout:F.h,httpRetry:this.httpRetry}),n=u()(e,["keyword","buckets"]);r.setHeader("Accept","multipart/form-data"),r.withCredentials=!0,n.query=e.keyword,e.buckets&&e.buckets.length&&(n.bucketid=(e.buckets||[]).join(","));const a=e.sortOrder;n.order=q[void 0===a?C.Yd.DATE_DESC:a];let o=0;const i=r.createStream(n),c=i.pipe(P({boundary:F.f,useBuffer:!1,consolidate:!0})).pipe(M()((function(s){try{const r=s.slice(o),n=Object.keys(C.ac);if(o=s.length,0===r.length)return;const a=r.reduce((s,r)=>{const a=JSON.parse(r),o=a.status,i=a.response;if(401===o)throw new O.a(T.b,{statusCode:o,errorCode:"AUTH",refresh:!0});if(!i||200!==o)throw new O.a("BootcampApiClient.SearchError");let c;return i.verticals&&(c=W(i.verticals,{timezone:e.timezone,formatDateUsingUTC:"false"!==e.formatDateUsingUTC}),t.logLatency(c,i.requestTS,i.responseTS)),Object(f.c)(c)||Object.keys(c).forEach(e=>{if(-1===n.indexOf(e))return s;s[e]||(s[e]={}),Object.keys(c[e]).forEach(t=>{s[e][t]=c[e][t]})}),s},{});this.emit("data",a)}catch(e){this.emit("data",{status:500,error:O.a.errorify(e)})}})));return i.on("error",e=>c.emit("error",e)),c}searchSuggestionsStream(e){const t=this._getPsearchHost()+"/psearch/v3/suggestions?",s=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});s.setHeader("Accept","multipart/form-data"),s.withCredentials=!0;const r=s.createStream(Object.assign({multipart:!0},e)),n=r.pipe(P({boundary:F.f,useBuffer:!1})).pipe(M()((function(e){let t;try{t=K(JSON.parse(e))}catch(e){this.emit("data",{status:500,error:O.a.errorify(e)})}this.emit("data",t)})));return r.on("error",e=>n.emit("error",e)),n}grocerySearchSuggestionsApi({wssid:e,ymreqid:t,keyword:s,retailerId:r}){const n=new y.b("GET",`${this.endpoints.BOOTCAMP_HOST}/f/m/api/searchassist-service/v1/suggest?q=${s}&retailer=${r}&wssid=${e}`,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then(e=>function(e){var t;if(!e)throw new O.a("BootcampApiClient.GrocerySearchSuggestionsError");return(null===(t=e.r)||void 0===t?void 0:t.map(e=>e.k))||[]}(e.body))}}};var te=class extends S.a{constructor({appName:e=C.B.MAIL_APP,appId:t=C.Me,strategy:s=F.b,bootcampHost:r,executeRequestsSequentially:n=Object(I.c)(),guidHash:a,locale:o,cookie:i,crumb:c,wssid:l,loggerParams:d,region:E,httpRetry:_,requestQueue:u,isOnline:p,headers:m,bootcampYHeaders:S={},buckets:O,timezone:T={},config:A={},userAgent:f,endpoints:R,userNamespace:b}){const N=Object(g.b)(A,"bootcampProxy");super({loggerName:C.z.BootcampClient,loggerParams:Object(I.c)()?{}:d,crumb:c,wssid:l,isOnline:p,endpoints:R}),Object(h.a)(s===F.b||s===F.g,"Invalid strategy "+s),Object(h.a)(R.BOOTCAMP_HOST,"BOOTCAMP_HOST is missing in endpoints"),this.strategy=Object(I.c)()&&N?F.a:s,this._getRequest=function(t=this.strategy){return new ee[t]($({appName:e,headers:m,bootcampYHeaders:S,bootcampHost:r,cookie:i,httpRetry:_,userNamespace:b,endpoints:this.endpoints},N?{useBootcampYCPIProxy:Object(g.b)(A,"useBootcampYCPIProxy")}:void 0))},this.appName=e,this.appId=t,this.cookie=i,this.headers=Object.assign({},m,S),this.httpRetry=_,this.bootcampHost=r,this.timezone=T.name,this.executeRequestsSequentially=n,this.requestQueue=u,this.region=E,this.locale=o,this.buckets=O,this.userAgent=f,this.suggestionsStrategyOverride=Object(I.c)()&&Object(g.b)(A,"suggestionsNoProxy")?F.a:void 0,a&&(this.ymreqidGenerator=new D.a(a,C.Ke,C.td))}getDefaultUrlParams(){const e=this.strategy===F.a||this.strategy===F.b?this.getMailboxParams():null,t=Object.assign({appid:this.appId,wssid:this.wssid,clientId:"mailsearch",timezone:this.timezone,allowGoogleDocs:1,ymreqid:this.ymreqidGenerator.generate(),timeout:F.h},e);return this.strategy===F.b&&(t.crumb=this.crumb),t}getOffsetFromUrl(e){if(e){const t=Object(p.parse)(e);return t&&t.cursor}return"0"}isRetryableError(e,t){return t<1&&e.name===T.e}getMarketValue(){const e=F.j[this.region]||["en-US"];return-1!==e.indexOf(this.locale)?this.locale:e[0]}searchStream(e,t,s){const r=this.getDefaultUrlParams(),n=this.isOnline(),a=$({},this.loggerParams,{apiName:"mailSearch",ymreqid:r.ymreqid,isOnline:n}),o=Y.a.feature(C.z.BootcampClient,a),i=t.expand;Object(h.a)(i,"Bootcamp SRP expand parameter is required"),t=Object.assign({},r,t,{userAgent:this.userAgent}),E()(s)&&s(a);let c=Object.assign({multipart:!0},t);t.emailAddresses&&t.emailAddresses.length>0&&(c.filters=t.listFilter),this.strategy!==F.g&&this.strategy!==F.a||Object.assign(c,{sourceTag:t.sourceTag,market:this.getMarketValue(),buckets:this.buckets});let l=t.folders,d=void 0===l?[]:l,_=t.accountIds,p=void 0===_?[]:_,m=t.emailAddresses,S=void 0===m?[]:m,g=t.contactIds,O=void 0===g?[]:g;d=[].concat(d),p=[].concat(p),S=[].concat(S),O=[].concat(O),d.length?c.folders=d.join(","):p.length&&(c.accountIds=p.join(","));const T=S.length;T>0?c.contentId=T>20&&O.length?"x:"+O[0]:S.slice(0,20).map(e=>"smtp:"+e).join(","):O.length&&(c.contentId="x:"+O[0]),c=u()(c,["referrer","name","listContentType","listFilter","emailAddresses","contactIds"]);const I=new Z(a);let f;return f=this.executeRequestsSequentially?this.requestQueue.addStream(()=>this._getRequest().searchStream(c,I),"mailSearch"):this._getRequest().searchStream(c,I),f.on("end",o.logSuccessAndLatency),f.on("error",e=>{e=this.handleCommonError(e,"mailSearch"),Object(A.apiErrorLogger)(Y.a,C.z.BootcampClient,a,e)}),f}searchItems(e,t,s=0){const r=this.getDefaultUrlParams(),n={apiName:e,ymreqid:r.ymreqid,retryCount:s};let a;return t.expand&&"AL"===t.expand&&(n.apiName="getSearchAds"),this.strategy!==F.g&&this.strategy!==F.a||(t.buckets=this.buckets),a=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().itemsApi($({},r,{},t)),e):this._getRequest().itemsApi(Object.assign({},r,t)),this.logRequest(a,n),a.catch(r=>{if(r=this.handleCommonError(r,e),this.isRetryableError(r,s))return this.searchItems(e,t,++s);throw r})}searchMessages(e,t){this.strategy=F.g;const s=this.getDefaultUrlParams(),r=Object.assign({},s,t),n=r.sortOrder,a=r.cursor,o=r.limit,i=J[void 0===n?C.Yd.DATE_DESC:n],c=`${this.bootcampHost}/v3/items?vertical=MESSAGES&threads=false&mailboxid=${r.mailboxid}&appid=${r.appid}&accountIds=${r.accountIds[0]}&query=${encodeURIComponent(r.keyword)}&order=${i}&limit=${o}&cursor=${a}`;return this.searchItems("searchItem",$({},t,{url:c}))}attachmentsViewApi(e,t){this.strategy=F.a;const s=this.getDefaultUrlParams(),r=Object.assign({},s,t),n=r.cursor,a=r.sortOrder,o={accountemail:r.accountemail,accountIds:r.accountIds[0],appid:r.appid,cursor:void 0===n?0:n,limit:r.limit,mailboxid:r.mailboxid,order:J[void 0===a?C.Yd.DATE_DESC:a],query:r.keyword,threads:r.threads,timezone:r.timezone,vertical:r.listContentType,mimeTypes:F.e[r.mimeType]||""},i=this.endpoints.BOOTCAMP_HOST+"/psearch/v3/items?"+Object.keys(o).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(o[e])).join("&");return this.searchItems("searchItems",$({},t,{url:i}))}getSearchAds(e,t){this.strategy=F.g;const s=this.getDefaultUrlParams(),r=Object.assign({},s,t),n=r.appid,a=r.keyword,o=r.sourceTag,i=r.expand,c=Object(I.d)(this.bootcampHost+"/v3/items",{vertical:i,appid:n,query:a,sourceTag:o,device:"desktop",market:this.getMarketValue(),adCount:t.secondSearchAd?2:1});return this.searchItems("searchItem",$({},t,{url:c,userAgent:this.userAgent,timeout:F.i})).then(e=>Object(f.b)(Object(I.k)(e),"items.ADS",[]).map(e=>e.pencilAd))}searchGifs(e,t,s=0){const r=F.a,n=this.getDefaultUrlParams(),a={apiName:e,ymreqid:n.ymreqid,retryCount:s};let o;return t.offset=this.getOffsetFromUrl(t.nextItemsUrl),o=this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest(r).gifsApi($({},n,{},t)),e):this._getRequest(r).gifsApi(Object.assign({},n,t)),this.logRequest(o,a,null,s),o.catch(r=>{if(r=this.handleCommonError(r,e),this.isRetryableError(r,s))return this.searchGifs(e,t,++s);throw r})}getGifCategories(e,t){const s=F.a,r=this.getDefaultUrlParams(),n={apiName:e,ymreqid:r.ymreqid},a=this._getRequest(s).gifCategoriesApi(Object.assign({locale:this.locale},r,t));return this.logRequest(a,n),a.catch(t=>{throw t=this.handleCommonError(t,e)})}getAllCouponsForSmartView(...e){return this.getCouponsForSmartView(...e)}getSavedCouponsForSmartView(...e){return this.getCouponsForSmartView(...e)}getAllCouponsForSmartViewSearch(...e){return this.getCouponsForSmartView(...e)}getSavedCouponsForSmartViewSearch(...e){return this.getCouponsForSmartView(...e)}getCouponsForSmartView(e,{mailboxId:t="",limit:s=0,decoId:r=[],offset:n=0,nextItemsUrl:a="",start:o,end:i,accountIds:c=[],vertical:l="CARDS",order:d="time",query:E,from:_}={}){const u=F.a,p=this.getDefaultUrlParams(),m={apiName:e,ymreqid:p.ymreqid},S=$({mailboxId:t,limit:s,cursor:n,extendUrl:a,start:o,end:i,decoId:r,accountIds:c,vertical:l,order:d,query:E,from:_},p),h=this._getRequest(u).getCouponsApi(S);return this.logRequest(h,m),h.catch(t=>{throw t=this.handleCommonError(t,e)})}getLocalStores(e,t){const s=F.a,r=this.getDefaultUrlParams(),n={apiName:e,ymreqid:r.ymreqid},a=this._getRequest(s).localStoresApi(Object.assign(r,t));return this.logRequest(a,n),a.catch(t=>{throw t=this.handleCommonError(t,e)})}getCouponRecommendations(e,t){const s=F.a,r=this.getDefaultUrlParams(),n={apiName:e,ymreqid:r.ymreqid},a=this._getRequest(s).couponRecommendations(Object.assign(r,t));return this.logRequest(a,n),a.catch(t=>{throw t=this.handleCommonError(t,e)})}searchSuggestionsStream(e,t){const s=this.getDefaultUrlParams(),r=$({},this.loggerParams,{apiName:e,ymreqid:s.ymreqid,crumb:this.crumb}),n=Y.a.feature(C.z.BootcampClient,r);let a;return t=Object.assign({},s,t),a=this.executeRequestsSequentially?this.requestQueue.addStream(()=>this._getRequest(this.suggestionsStrategyOverride).searchSuggestionsStream(t),e):this._getRequest(this.suggestionsStrategyOverride).searchSuggestionsStream(t),a.on("end",n.logSuccessAndLatency),a.on("error",t=>{t=this.handleCommonError(t,e),Object(A.apiErrorLogger)(Y.a,C.z.BootcampClient,r,t)}),a}grocerySearchSuggestions(e,t){const s=F.a,r=this.getDefaultUrlParams(),n={apiName:e,ymreqid:r.ymreqid},a=this._getRequest(s).grocerySearchSuggestionsApi(Object.assign(r,t));return this.logRequest(a,n),a.catch(t=>{throw t=this.handleCommonError(t,e)})}recentSearches(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid,crumb:this.crumb};let n;return n=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().recentSearchesApi($({},s,{},t)),e):this._getRequest().recentSearchesApi(Object.assign({},s,t)),this.logRequest(n,r),n}getTopRetailers(e,t){const s=F.a,r=this.getDefaultUrlParams(),n={apiName:e,ymreqid:r.ymreqid},a=this._getRequest(s).topRetailersApi(Object.assign(r,t));return this.logRequest(a,n),a.catch(t=>{throw this.handleCommonError(t,e)})}getTopDealCategories(e){const t=F.a,s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._getRequest(t).topDealCategoriesApi(s);return this.logRequest(n,r),n.catch(t=>{throw this.handleCommonError(t,e)})}deleteRecentSearch(e,t){const s=this.getDefaultUrlParams(),r=s.wssid,n=s.ymreqid,a=s.appid,o=Object.assign({},this.loggerParams,{apiName:e,ymreqid:n}),i=this._getRequest(F.a).deleteRecentSearchApi($({},t,{wssid:r,ymreqid:n,appid:a}));return this.logRequest(i,o),i}createStream(e,t,s=(()=>{})){return this[e](e,t,s)}request(e,t){return this[e](e,t)}handleAuthError(e,t){const s=e.statusCode;return 401!==s||"mailSearch"!==t&&"searchItems"!==t?null:new O.a(T.b,{statusCode:s,errorCode:"AUTH",body:e.getDataByName("body",""),refresh:!0})}handleWssidReissueError(e){const t=e.statusCode;if(403===t){const s=Object(f.b)(e,"data.body.code","");if("Client.ClientRedirect.SessionIdReissue"===s){const r=Object(f.b)(e,"data.body.wssid","");if(r)return this.wssid=r,new O.a(T.e,{statusCode:t,errorCode:s,wssid:r})}}return null}handleCommonError(e,t=""){let s=null;return e=O.a.errorify(e),s||(s=this.handleAuthError(e,t)),s||(s=this.handleYdodError(e)),s||(s=this.handleWssidReissueError(e)),s||e}},se=s(661);class re{constructor({appName:e}){this.proxyURL=(e===C.B.MOBILE_APP?C.uc:C.mb)+"/gemini_api/"}request(e){const t=new y.b(y.a.GET,this.proxyURL,{timeout:33e3});return t.setHeader("Accept","application/json"),t.send(e).then(e=>e.body)}}const ne=Object(f.d)(["NODE_TO_GEMINI","BROWSER_TO_NODE"]);var ae=class extends S.a{constructor({appName:e=C.B.MAIL_APP,appId:t=C.Me,loggerParams:s,wssid:r,isOnline:n,guidHash:a,cookie:o,crumb:i,userAgent:c,remoteAddress:l,environment:d,region:E,locale:_,buckets:u,referer:p},m){super({loggerName:C.z.GeminiAPIClient,loggerParams:Object(I.c)()?{}:s,crumb:i,wssid:r,isOnline:n}),this.strategy=m||this.getDefaultStrategy(),this.browserProxy=new re({appName:e}),this.REQUESTS={Gemini:se.a.request,BrowserProxy:this.browserProxy.request},this.validateStrategy(this.strategy),this.appId=t,this.cookie=o,this.environment=d,this.buckets=u,this.locale=_,this.region=E,this.remoteAddress=l,this.userAgent=c,this.referer=p,a&&(this.ymreqidGenerator=new D.a(a,C.Ke,C.td))}getDefaultStrategy(){return Object(I.c)()?ne.BROWSER_TO_NODE:ne.NODE_TO_GEMINI}validateStrategy(e){if("string"!=typeof e||!ne[e])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(ne)));if(Object(I.c)()&&e===ne.NODE_TO_GEMINI)throw new Error(ne.NODE_TO_GEMINI+" strategy can not be used in the browser");if(!Object(I.c)()&&e===ne.BROWSER_TO_NODE)throw new Error(ne.BROWSER_TO_NODE+" strategies can not be used on the server")}request(e){let t;if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated. making a request or initialize GeminiAPIClient with `guidHash`, so that it can generate a new one");const s=this.ymreqidGenerator.generate(),r=this.crumb,n=Object.assign({},e,{ymreqid:s,appId:this.appId,crumb:r,loggerParams:this.loggerParams});switch(this.strategy){case ne.NODE_TO_GEMINI:Object.assign(n,{userAgent:this.userAgent,remoteAddress:this.remoteAddress,buckets:this.buckets,cookie:this.cookie,environment:this.environment,region:this.region,locale:this.locale,referer:this.referer,logRequest:this.logRequest.bind(this)}),t=this.REQUESTS.Gemini;break;case ne.BROWSER_TO_NODE:t=this.REQUESTS.BrowserProxy.bind(this.browserProxy)}const a=t(n);if(this.strategy===ne.BROWSER_TO_NODE){this.logRequest(a,{ymreqid:s,crumb:r,intl:this.region,apiName:"geminiAd.get",sectionIds:e.sectionId,rotationActionType:e.rotationActionType})}return a}getSponsoredAsset(e){const t=new y.b(y.a.GET,e.url,{timeout:1e3}),s={intl:this.region,apiName:"geminiSponsoredAsset.get",url:e.url};t.setHeader("Accept","text/html");const r=t.send();return this.logRequest(r,s),r}},oe=s(101);function ie(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ce(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ie(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ie(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var le=class extends S.a{constructor({loggerParams:e,appId:t=C.Me,guidHash:s,wssid:r,httpRetry:n,isOnline:a,endpoints:o,userNamespace:i}){super({loggerName:C.z.XobniClient,loggerParams:e,wssid:r,isOnline:a}),Object(h.a)(o.BOOTCAMP_HOST,"BOOTCAMP_HOST is missing in endpoints");const c={guidHash:s,httpRetry:n,isOnline:a,wssid:r,host:o.BOOTCAMP_HOST+"/xobni",classicabHost:o.BOOTCAMP_HOST+"/classicab"};Object(h.a)(c.guidHash,"Xobni `guidHash` is a required option"),this.ymreqidGenerator=new D.a(c.guidHash,C.Ke,C.td),this.appId=t,this.httpRetry=c.httpRetry,this.instanceOptions=c,this.userNamespace=i}transport(e,t=y.a.GET,s={}){const r=new y.b(t,e,{httpRetry:this.httpRetry});return t===y.a.GET&&r.setHeader("Accept","application/json"),r.setHeader("x_oath_ns",this.userNamespace),Object(f.c)(s)||Object.keys(s).forEach(e=>{r.setHeader(e,s[e])}),r.withCredentials=!0,r}request(e,t,s,r,n={},a=0){const o=n.appendMailboxParams,i=void 0===o||o,c=n.reqHeaders,l=void 0===c?{}:c,d=n.urlParams,E=void 0===d?{}:d,_=r===y.a.POST||r===y.a.DELETE,u=this.getRequestId(),p=this.appId;let S=e;if(_){const t=m.a.stringify(ce({},E,{ymreqid:u,appId:p,wssid:this.wssid}));S=`${e}?${t}`}else t=ce({},t,{ymreqid:u,appId:p});s=ce({},s,{ymreqid:u}),t=i?Object.assign(t||{},this.getMailboxParams()):t;const h=this.transport(S,r,l).send(t).then(e=>e.body);return this.logRequest(h,s,null,a),h.catch(o=>{if(o=this.handleCommonError(o),_&&this.isRetryableError(o,a))return this.request(e,t,s,r,n,++a);throw o})}getRequestId(){return this.ymreqidGenerator.generate()}getSearchQueries(e){return{q:(e=Object.assign({query:"",includeLists:!0,includeTypes:"smtp",contextFrom:"",recipientList:[],identifier:"",limit:6},e)).query,i_l:e.includeLists,i_t:e.includeTypes,c_t:e.recipientList.join(","),c_f:e.contextFrom,k:e.identifier,l:e.limit}}isRetryableError(e,t){return t<1&&e.name===T.e&&(this.wssid=e.data.wssid,!0)}isUserXobnified(){return this.request(this.instanceOptions.host+"/pachinko/v2/xobnified",{},{apiName:"isUserXobnified"})}normalizeResponse(e){const t={};for(const s in e)e.hasOwnProperty(s)&&void 0!==e[s]&&(t[s]=e[s]);return t}normalizeImportantContactsResponse(e){return(e.endpoint_info_list||[]).map(e=>{const t=(e.endpoint?[e.endpoint]:[]).filter(e=>/^smtp:(\S+)/.test(e)).map(e=>e.match(/^smtp:(\S+)/)[1]);return{emails:t,name:e.c_name,xobniId:e.c_id,id:t[0]}})}triggerProfileImport({provider:e}){Object(h.a)(e,"`provider` is a required option"),e=e.toLowerCase();return this.request(this.instanceOptions.host+"/credentials/workflow",{},{apiName:"triggerProfileImport",provider:e},y.a.POST,{urlParams:{source:e},appendMailboxParams:!1})}blockContact({contactInfo:e={}}={}){const t=e.email;t||Object(h.a)(t,"`email` is a required option to block the email contact");return this.request(`${this.instanceOptions.host}/v4/endpoints/${t}/blacklist`,{},{apiName:"blockContactEndpoint",blocklistedEmail:t},y.a.POST)}search(e){const t=this.getSearchQueries(e),s=ce({apiName:"searchSimpleEndpoint"},t);return this.request(this.instanceOptions.host+"/v4/endpoints/s",t,s).then(e=>this.normalizeResponse({identifier:e.k,contacts:e.r.map((function(e){return"LIST"===e.i?{id:e.n+e.ct,email:e.n+e.ct,name:e.n,list:e.es.map(e=>({id:e.e,email:e.e,name:e.n}))}:{id:e.c,email:e.e,name:e.n||e.nd||"",filteredResults:{fullName:e.f&&(e.f.FN||e.f.ND)||[],email:e.f&&e.f.E||[]}}}))}))}simpleContactsSearch(e){const t=this.getSearchQueries(e),s=ce({apiName:"searchSimpleContact"},t);return this.request(this.instanceOptions.host+"/v4/contacts/alpha/s",t,s).then(e=>Object(oe.l)(e.r))}deleteContacts({editTokenList:e=[]}){e.length||Object(h.a)(e.length,"`editToken` is a required option to delete the contact");const t={sources:e},s={apiName:"deleteContacts",editTokenList:JSON.stringify(e)};return this.request(this.instanceOptions.host+"/v4/contacts/delete",t,s,y.a.POST).then(({deleted_contacts:e=[]})=>e.map(e=>Object(oe.a)(e)))}importantContacts(e){e||Object(h.a)(e,"`email` is a required option to fetch important endpoints");return this.request(this.instanceOptions.host+"/v4/endpoints/important",{include_types:"smtp",context_from:e,max_count:100},{apiName:"importantEndpoints",context_from:e}).then(e=>this.normalizeImportantContactsResponse(e))}topContacts({email:e,maxCount:t=20}){e||Object(h.a)(e,"`email` is a required option to specify the context");return this.request(this.instanceOptions.host+"/v4/contacts/important",{exclude_known_entities:!0,context_from:e,max_count:t,no_me_contact:!0,include_favorite:!0},{apiName:"importantContacts",context_from:e,max_count:t}).then(oe.m)}userCuratedEndpoints({endpointTypes:e=[],count:t=1e4,query:s}){return this.request(this.instanceOptions.host+"/v4/endpoints/userCurated",{i_t:e,l:t,q:s},{apiName:"userCuratedEndpoints"}).then(e=>Object(oe.p)({response:e}))}contactGroupsList(){return this.request(this.instanceOptions.host+"/v4/groups",{},{apiName:"contactGroupsList"}).then(e=>Object(oe.f)({response:e}))}contactsInGroup({groupId:e,sort_by:t=C.db[C.cb.FIRST_NAME]}){Object(h.a)(null!=e,"`Contact Group id` is a required parameter");return this.request(this.instanceOptions.host+`/v4/groups/${e}?include_types=smtp,tel,adr,hidden&sort_by=${t}`,{},{apiName:"contactsInGroup"}).then(e=>Object(oe.g)({response:e}))}editContactGroup({groupId:e,newName:t,addedEndpoints:s,removedEndpoints:r}){Object(h.a)(null!=e,"`Contact Group id` is a required parameter");const n=Object(oe.e)({newName:t,addedEndpoints:s,removedEndpoints:r}),a={apiName:"editContactGroup",newName:n.new_name,addedEndpoints:JSON.stringify(n.added_endpoints),removedEndpoints:JSON.stringify(n.removed_endpoints)};return this.request(this.instanceOptions.host+`/v4/groups/${e}/edit`,n,a,y.a.POST,{appendMailboxParams:!1})}createContactGroup({name:e,endpoints:t}){Object(h.a)(e,"`Contact Group name` is a required parameter");const s=Object(oe.d)({name:e,endpoints:t}),r={apiName:"createContactGroup",name:e,endpoints:JSON.stringify(s.endpoints)};return this.request(this.instanceOptions.host+"/v4/groups",s,r,y.a.POST,{appendMailboxParams:!1}).then(e=>((e||{}).created_group||{}).id)}contactsGroupDelete({groupId:e}){e||Object(h.a)(e,"`groupId` is a required option to delete contact group");return this.request(this.instanceOptions.host+"/v4/groups/"+e,{},{apiName:"contactGroupsDelete"},y.a.DELETE).then(e=>Object(oe.f)({response:e}))}printContacts({sort_by:e=C.db[C.cb.FIRST_NAME],count:t=1e4}){const s={format:"json",count:t,sort_by:e},r=ce({},s,{apiName:"printContacts"});return this.request(this.instanceOptions.host+"/v4/contacts/export",s,r).then(e=>Object(oe.c)(e))}alphabeticalContacts({count:e,characters:t=[],group_by:s=C.db[C.cb.FIRST_NAME]}){const r={count:e,group_by:s};t.length>0&&(r.categories=t.join(","));const n=ce({apiName:"alphabeticalContacts"},r);return this.request(this.instanceOptions.host+"/v4/contacts/alpha",r,n).then(t=>Object(oe.h)({response:t,count:e}))}contactDetailsEdit({oldContact:e,newContact:t,skipContactDiffCheck:s}){const r=Object(oe.k)(e,t),n=Object.keys(r.changes).filter(e=>!Array.isArray(r.changes[e])||r.changes[e].length).length;if(!s&&!n)return Promise.resolve(e);if(!r.source)return Promise.reject({error:"no editToken"});const a=r.changes,o=a.removed_endpoints,i=a.added_endpoints,c=b()(a,["removed_endpoints","added_endpoints"]),l=ce({apiName:"contactDetailsEdit",editToken:r.editToken},c,{removed_endpoints:JSON.stringify(o),added_endpoints:JSON.stringify(i)});return this.request(this.instanceOptions.host+"/v4/contacts/liteEdit",r,l,y.a.POST,{appendMailboxParams:!1}).then(e=>Object(oe.a)(e.resulting_contacts&&e.resulting_contacts[0]))}createContact({newContact:e,image:t}){if(Object(f.c)(e))return;const s={apiName:"createContact",newContact:JSON.stringify(e),image:t},r=Object(oe.j)({contact:e,image:t});if(!Object.keys(r.source_contacts).length)return Promise.reject({error:"no changes"});return this.request(this.instanceOptions.host+"/v4/contacts/create",r,s,y.a.POST,{appendMailboxParams:!1}).then(e=>Object(oe.a)(e.resulting_contacts&&e.resulting_contacts[0]))}contactUploadPhoto({image:e,editToken:t}){const s={apiName:"contactUploadPhoto",image:e,editToken:t};if(!t)return Promise.reject({error:"no editToken"});return this.request(this.instanceOptions.host+"/v4/contacts/uploadPhoto",{image:e,source:t},s,y.a.POST,{appendMailboxParams:!1}).then(e=>Object(oe.a)(e.resulting_contacts&&e.resulting_contacts[0]))}contactDetails({emails:e,isPrefetch:t}){e||Object(h.a)(e,"`emails` is a required option");const s={apiName:"contactDetailsByEndpoint",emails:e,isPrefetch:t},r="smtp:"+e.join(",smtp:");return this.request(this.instanceOptions.host+"/v4/contacts/by/ep",{ep:r},s).then(t=>Object(oe.b)(ce({emails:e},t)))}getEnhanceContactsPreference(){return this.request(this.instanceOptions.host+"/util/user_preferences",{},{apiName:"getEnhanceContactsPreference"},y.a.GET).then(e=>!e.opt_out_elcaro_zippy)}setEnhanceContactsPreference(e){return this.request(this.instanceOptions.host+"/util/user_preferences",{opt_out_elcaro_zippy:!e},{apiName:"setEnhanceContactsPreference",enabled:e},y.a.POST)}toggleContactsProviderImporter({provider:e,enable:t=!0,spid:s}){Object(h.a)(e,"`provider` is a required option"),Object(h.a)(s,"`spid` is a required option"),e=e.toLowerCase();return this.request(this.instanceOptions.host+"/v4/contacts/import",{sync:t?"on":"off",src:e,spid:s},{apiName:"toggleContactsProviderImporter",provider:e,enable:t},y.a.POST,{urlParams:{custId:"ymail"}})}contactProvidersStatus(){return this.request(this.instanceOptions.host+"/v4/contacts/preferences",{custId:"ymail"},{apiName:"contactProvidersStatus"}).then(e=>Object(oe.i)({response:e}))}formatted(){return this.request(this.instanceOptions.host+"/v4/util/credentials/formatted",{},{apiName:"socialAccountStatus"}).then(e=>Object(oe.n)(e))}handleWssidReissueError(e){const t=e.statusCode;if(403===t){const s=Object(f.b)(e,"data.body.code","");if("Client.ClientRedirect.SessionIdReissue"===s){const r=Object(f.b)(e,"data.body.wssid","");if(r)return this.wssid=r,new O.a(T.e,{statusCode:t,errorCode:s,wssid:r})}}return null}};const de=y.a.GET,Ee=["version","launchtime","ymreqid","crumb"],_e={Transport:y.b,request:e=>_e._sendRequest(e),_sendRequest:e=>{const t=new _e.Transport(de,C.Rb,3e3),s=Ee.reduce((t,s)=>(t[s]=e[s],t),{});return t.setHeader("Accept","application/json"),t.send(s)}};var ue=_e;var pe=class extends S.a{constructor({heartBeatCheckInterval:e=36e5,buildNumber:t,launchTime:s,guidHash:r,loggerParams:n,crumb:a,isOnline:o}){super({loggerName:C.z.HeartbeatAPIClient,loggerParams:n,crumb:a,isOnline:o});this.emergencyRefresh=!1,this.serverVersion="1.0.0",r&&(this.ymreqidGenerator=new D.a(r,C.Ke,C.td)),Object(I.c)()&&setInterval(()=>{this.request({version:t,launchtime:s}).then(e=>{this.emergencyRefresh=e.emergencyRefresh,this.serverVersion=e.serverVersion},()=>{this.emergencyRefresh=!1,this.serverVersion="1.0.0"})},e)}request(e){const t={apiName:"heartbeat",crumb:this.crumb,ymreqid:this.ymreqidGenerator.generate()},s=Object.assign({},e,t),r=ue.request(s),n={emergencyRefresh:this.emergencyRefresh,serverVersion:this.serverVersion};return this.logRequest(r,t),r.then(e=>e.body).catch(()=>n)}};const me=C.Ie+"/linkEnhancer";var Se=s(449),he=s.n(Se),Ce=s(38),ge=s.n(Ce),Oe=s(233),Te=s.n(Oe),Ae=s(351),Ie=s.n(Ae),fe=s(352),De=s.n(fe),Re=s(353),be=s.n(Re),Ne=(s(448),s(160)),Me=s.n(Ne);function ye(e){const t=e.event,s=e.state,r=e.email;return t.startTime&&(t.startTime=Le(t.startTime)),t.endTime?t.endTime=Le(t.endTime):t.duration&&t.startTime?t.endTime=function(e,t){let s=1,r=e;return[{unit:"D",addFunction:Te.a},{unit:"T",addFunction:e=>e},{unit:"H",addFunction:Ie.a},{unit:"M",addFunction:De.a},{unit:"S",addFunction:be.a}].forEach(({unit:e,addFunction:n})=>{const a=t.indexOf(e,s);if(a>-1){const e=parseInt(t.substring(s,a),10)||0;r=n(r,e),s=a+1}}),r}(t.startTime,t.duration):t.startTime&&(t.endTime=t.startTime),t.email=r||"",t.state=s||"",t.response=t.partStat||"",t.startTime&&t.endTime&&(t.isSameDay=he()(t.startTime,t.endTime)),t.firstAttendeeStatus=function(e){if(!e||!e.attendee||!e.attendee[0])return[];return e.attendee[0].partStat}(t.attendees),t.location=t.location||null,t.videoLink=function(e){const t=/https:\/\/plus.google.com\/hangouts\/_\/.*\/.*/.exec(e);return t&&t[0]||null}(t.description),t.attendees=function(e){if(!e||!e.attendee||!e.attendee[0])return[];return e.attendee.map(e=>e.email)}(t.attendees),t.firstAttendeeEmail=t.attendees[0]||"",t.organizerEmail=t.organizer&&t.organizer.email||"",t}function Le(e){const t=ge()(e);return Me()("Invalid Date"!==t.toString(),"Invalid Date"),t}var Pe=s(70),ve=s.n(Pe),Fe=ve.a.create("norrin/calendar");var Ue=s(450);function we(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var Ge=class extends S.a{constructor({appId:e=C.Me,loggerParams:t,crumb:s,isOnline:r,httpRetry:n,locale:a,environment:o,region:i}){super({loggerName:C.z.LocationAutoSuggestClient,loggerParams:t,crumb:s,isOnline:r}),this.httpRetry=n,this.appid=e,this.locale=a,this.region=i,this.environment=o}getLocationSuggestion(e){const t=Ue.b,s={text:e.keyword,language:"en-us"},r=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?we(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):we(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({locale:this.locale,appid:this.appid,region:this.region,environment:this.environment},s),n=new y.b(y.a.GET,t,{timeout:Ue.c,httpRetry:this.httpRetry});n.setHeader("Accept","application/json");const a=n.send(s);return this.logRequest(a,r),a.then(e=>({suggestions:e.body.result||e.body.results}))}},He=s(39);const je=Object(He.h)(C.ce.WEEKLY,Object(He.e)(Object(He.b)(C.ce.WEEKLY),Object(He.b)(C.ce.MONTHLY),Object(He.b)(C.ce.YEARLY))),ke=Object(He.h)({ftype:C.ce.WEEKLY,fval:0},Object(He.d)({ftype:je,fval:Object(He.h)("0",Object(He.g)()).map(parseFloat)})),xe=Object(He.d)({domain:Object(He.g)(),listId:Object(He.h)("",Object(He.g)()),fromName:Object(He.h)("",Object(He.g)()),fromEmail:Object(He.g)(),score:Object(He.c)(),status:Object(He.g)(),unsubRequestTs:Object(He.h)("0",Object(He.g)()).map(parseFloat),frequency:ke,requestStatus:Object(He.f)(Object(He.d)({code:Object(He.h)("",Object(He.g)()),message:Object(He.h)("",Object(He.g)()),status:Object(He.h)("success",Object(He.e)(Object(He.b)("success"),Object(He.b)("failed")))})),subid:Object(He.g)(),lastOpened:Object(He.h)("-1",Object(He.g)()).map(parseFloat),isUsb:Object(He.h)("false",Object(He.g)()),ver:Object(He.g)()}),Be=Object(He.h)([],Object(He.a)(xe)),Ve=Object(He.d)({name:Object(He.g)(),unsubRequestTs:Object(He.h)("0",Object(He.g)()).map(parseFloat),frequency:ke,lastOpened:Object(He.h)("-1",Object(He.g)()).map(parseFloat),score:Object(He.c)(),subscriptions:Object(He.a)(xe)}),We=Object(He.d)({subscription:Object(He.d)({email:Object(He.d)({brand:Object(He.f)(Object(He.a)(Ve)).map(e=>e||[])}),query:Object(He.h)({count:0,total:0},Object(He.d)({count:Object(He.h)("0",Object(He.g)()).map(parseFloat),total:Object(He.h)("0",Object(He.g)()).map(parseFloat)}))}),status:Object(He.f)(Object(He.g)()),message:Object(He.f)(Object(He.g)()),code:Object(He.f)(Object(He.g)())}),Ke=Object(He.d)({subscription:Object(He.d)({email:Object(He.d)({brand:Object(He.a)(Object(He.d)({name:Object(He.g)(),subscriptions:Object(He.a)(Object(He.d)({name:Object(He.f)(Object(He.g)()),fromEmails:Object(He.a)(Object(He.g)()),meta:Object(He.g)(),displayName:Object(He.g)(),description:Object(He.g)(),subscriptionInfo:Object(He.a)(Object(He.d)({url:Object(He.f)(Object(He.g)()),method:Object(He.g)()})),recoid:Object(He.g)()}))}))})}),status:Object(He.f)(Object(He.g)()),message:Object(He.f)(Object(He.g)()),code:Object(He.f)(Object(He.g)())});function qe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ye(e){return"object"==typeof e&&!!e}const ze="https://data.mail.yahoo.com/f/subscription";var Qe=s(259),Ze=s.n(Qe),Xe=ve.a.create("norrin/astra_client");function $e(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Je(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$e(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$e(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function et(e,t,s){Object(A.apiPassiveErrorLogger)({logger:Xe,loggerName:C.z.AstraClient,apiName:e,statusCode:t,errorCode:s,message:e+" request failed"})}function tt(e={}){var t,s,r;const n=null==e?void 0:e.statusCode,a=null==e||null===(t=e.error)||void 0===t?void 0:t.code;if(400===n&&"EC-4003"===a)throw new O.a(T.e,{errorCode:a,statusCode:n,wssid:"Wrong astra wssid"});if(void 0===e.result)throw new O.a("AstraApiClient.RetailerOffersError");const o=e.result,i=(null===(s=o.cards)||void 0===s||null===(r=s[0])||void 0===r?void 0:r.data)||{},c=i.productOffers,l=i.coupons;return{offers:[...void 0===c?[]:c,...void 0===l?[]:l].map((e={})=>{const t=e.category,s=void 0===t?[]:t,r=e.dealType,n=e.description,a=void 0===n?"":n,i=e.discountInfo,c=void 0===i?{}:i,l=e.eligibleQuantity,d=e.images,E=void 0===d?[]:d,_=e.ingredients,u=void 0===_?[]:_,p=e.itemOffered,m=void 0===p?{}:p,S=e.nutrition,h=void 0===S?{}:S,g=e.priceSpecification,O=void 0===g?{}:g,T=e.saved,A=void 0===T?"":T,I=e.score,f=void 0===I?{}:I,D=e.shortDescription,R=void 0===D?"":D,b=e.specialFeatures,N=void 0===b?[]:b,M=e.validThrough,y=void 0===M?"":M,L="ProductOffer"===(void 0===r?"Coupon":r);let P,v,F,U,w,G,H,j,k,x,B;if(L){var V,W;H=Number(null==l?void 0:l.value)||1,j=O.price||"NaN",P=O.priceCurrency||"USD";const e=O.eligibleQuantity,t=O.priceComponent;U=(void 0===e?{}:e).unitText,w=(null===(V=E[1])||void 0===V?void 0:V.contentUrl)||"",G=(null===(W=E[2])||void 0===W?void 0:W.contentUrl)||"",k=f.scoreValue,x=h.servingSize||"",B=(void 0===t?{}:t).unitPriceDisplay}else{var K,q;j=c.amount||"NaN",P=c.priceCurrency||"USD",F=c.discountType,v=(null===(K=m.brand)||void 0===K?void 0:K.name)||"",G=(null===(q=E[0])||void 0===q?void 0:q.contentUrl)||""}const Y=y?new Date(y).getTime():null,z=e["@id"]||"",Q=o.cards[0].cardId,Z=void 0===Q?"":Q,X=L||F===C.kd.AMOUNT?Number(j).toFixed(2):Number(j).toFixed(0);return{activated:"true"===A,amountUnit:P,brandName:v,cardId:Z,categories:s.filter(e=>!!e["@id"]).map(e=>e["@id"]),description:a,discountType:F,eligibleUnitText:U,expiryTimestamp:Y,highResImgUrl:w,imageUrl:G,ingredients:u[0]||"",maxQuantity:H,offerId:z,scoreValue:k,servingSize:x,shortDescription:R,specialFeatures:N[0]||"",unitPriceDisplay:B,value:X}}),statusCode:n}}function st(e={}){var t,s;const r=null==e?void 0:e.statusCode,n=null==e||null===(t=e.error)||void 0===t?void 0:t.code;if(400===r&&"EC-4003"===n)throw new O.a(T.e,{errorCode:n,statusCode:r,wssid:"Wrong astra wssid"});if(void 0===e.result)throw new O.a("AstraApiClient.RetailerActivatedOffersError");const a=e.result;return{offers:(a.itemListElement||[]).map((e={})=>{const t=e.hasOwnProperty("itemOffered"),s=e.hasOwnProperty("coupons");let r={},n=1;if(t)r=e.itemOffered||{},n=e.quantity;else if(s){var a;r=(null===(a=e.coupons)||void 0===a?void 0:a[0])||{}}const o=r.category,i=void 0===o?[]:o,c=r.description,l=void 0===c?"":c,d=r.discountInfo,E=void 0===d?{}:d,_=r.eligibleQuantity,u=r.images,p=void 0===u?[]:u,m=r.ingredients,S=void 0===m?[]:m,h=r.itemOffered,g=void 0===h?{}:h,O=r.nutrition,T=void 0===O?{}:O,A=r.priceSpecification,I=void 0===A?{}:A,f=r.shortDescription,D=void 0===f?"":f,R=r.specialFeatures,b=void 0===R?[]:R,N=r.validThrough,M=void 0===N?"":N;let y,L,P,v,F,U,w,G,H,j;if(t){var k,x;w=Number(null==_?void 0:_.value)||1,G=I.price||"NaN",y=I.priceCurrency||"USD";const e=I.eligibleQuantity,t=I.priceComponent;v=(void 0===e?{}:e).unitText,F=(null===(k=p[1])||void 0===k?void 0:k.contentUrl)||"",U=(null===(x=p[2])||void 0===x?void 0:x.contentUrl)||"",H=T.servingSize||"",j=(void 0===t?{}:t).unitPriceDisplay}else{var B,V;G=E.amount||"NaN",y=E.priceCurrency||"USD",P=E.discountType,L=(null===(B=g.brand)||void 0===B?void 0:B.name)||"",U=(null===(V=p[0])||void 0===V?void 0:V.contentUrl)||""}const W=M?new Date(M).getTime():null,K=r["@id"]||e["@id"]||"",q=e.status,Y=void 0===q?"":q,z=t||P===C.kd.AMOUNT?Number(G).toFixed(2):Number(G).toFixed(0),Q=i.filter(e=>!!e.name).map(e=>e.name);return s&&0===Q.length&&(null==g?void 0:g.category)&&Q.push(g.category),{amountUnit:y,brandName:L,categories:Q,description:l,discountType:P,eligibleUnitText:v,expiryTimestamp:W,highResImgUrl:F,imageUrl:U,ingredients:S[0]||"",maxQuantity:w,offerId:K,quantity:n,servingSize:H,shortDescription:D,specialFeatures:b[0]||"",status:Y,unitPriceDisplay:j,value:z}}),numActivatedOffers:a.numberOfItems,subTotal:Number(null===(s=a.subTotal)||void 0===s?void 0:s.value).toFixed(2),numberOfItems:a.numberOfItems,statusCode:r}}function rt({responseText:e,astraWssid:t,showGroceryWithProducts:s}={}){if(!e)throw new O.a("AstraApiClient.BatchCallError");const r={astraWssid:t},n=(null==e?void 0:e.split("\n"))||[];let a="";return n.forEach(e=>{e.startsWith("Content-RequestId: ")?a=e.split(":")[1].trim():e.startsWith('{"')&&(r[a]=e)}),Object.keys(r).forEach(e=>{if("astraWssid"===e)return;const t=JSON.parse(r[e]);switch(e){case C.C.AFFILIATE_RETAILERS:r[e]=function(e={}){var t;200!==e.statusCode&&et(C.C.AFFILIATE_RETAILERS,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const s=e.result,r=e.statusCode,n=void 0===r?-1:r;return{retailers:(void 0===s?[]:s).filter(e=>{var t;return null==e||null===(t=e.aggregateOffers)||void 0===t?void 0:t.some(e=>"ProductOffer"===e.dealType&&e.offerCount>10)}).map(e=>{var t;return{domain:null==e?void 0:e.domain,facebookUrl:null==e?void 0:e.facebookUrl,featured:"true"===(null==e?void 0:e.featured),followed:"true"===(null==e?void 0:e.followed),id:null==e?void 0:e["@id"],logo:null==e||null===(t=e.logo)||void 0===t?void 0:t.contentUrl,name:null==e?void 0:e.name,twitterUrl:null==e?void 0:e.twitterUrl,website:null==e?void 0:e.url}}),statusCode:n}}(t);break;case C.C.RECOMMENDED_DEALS:r[e]=function(e={}){var t;200!==e.statusCode&&et(C.C.RECOMMENDED_DEALS,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const s=e.result,r=(void 0===s?{}:s).cards,n=e.statusCode,a=void 0===n?0:n;return{recommendedDeals:(void 0===r?[]:r).map(e=>{var t,s,r,n,a,o,i;const c=(null==e||null===(t=e.sources)||void 0===t||null===(s=t.find(e=>"MessageSource"===e["@type"]))||void 0===s?void 0:s.messageId)||"",l=(null==e||null===(r=e.sources)||void 0===r||null===(n=r.find(e=>"MessageSender"===e["@type"]))||void 0===n?void 0:n.senderEmail)||[],d=e.cardId,E=void 0===d?"":d,_=e.data,u=void 0===_?{}:_,p=u.description,m=u.url,S=u.retailer,h=void 0===S?{}:S,C=h.name,g=h.logo,O=(void 0===g?{}:g).contentUrl,T=u.category,A=void 0===T?[]:T,I=u.validThrough,f=u.score,D=void 0===f?"":f,R=u.saved,b=void 0===R?"":R;return{id:E,messages:[{id:E,schemaCards:[Je({id:E,type:"Coupon"},{cmid:E,parentMessageId:c,description:void 0===p?"":p,dealLink:void 0===m?"":m,validThrough:void 0===I?"":I,retailer:void 0===C?"":C,retailerLogoUrl:void 0===O?"":O,imageUrl:(null==u||null===(a=u.images)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.url)||"",senderEmails:l,categories:A.filter(e=>e["@id"]&&e.name).map(e=>{const t=e.name.split(">");return{id:e["@id"],name:t[t.length-1],level:t.length}}).reduce((e,t)=>(e.some(e=>e.id===t.id)||e.push(t),e),[]),unusualDiscount:(null===(i=A.find(e=>"Great Savings"===e.name))||void 0===i?void 0:i.name)||"",relevanceScore:parseFloat(D)||0,src:"sndr",saved:"true"===b})]}]}}),statusCode:a}}(t);break;case C.C.GROCERY_RETAILERS:r[e]=s?function(e={}){var t;200!==e.statusCode&&et(C.C.GROCERY_RETAILERS,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const s=e.errorDescription,r=e.result,n=e.statusCode,a=void 0===n?0:n;return{errorDescription:void 0===s?"":s,retailers:(void 0===r?[]:r).map((e={})=>{const t=e.category,s=void 0===t?[]:t,r=e.displayName,n=void 0===r?"":r,a=e.emailDomains,o=void 0===a?[]:a,i=e.logo.contentUrl,c=void 0===i?"":i,l=e.name,d=void 0===l?"":l,E=e.senderEmailIds,_=void 0===E?[]:E,u=e.sourceRetailerData,p=void 0===u?[]:u,m=e.stores,S=e["@id"]||"",h=(void 0===m?[]:m).map((e={})=>(delete e.geo,e)),C=s.map((e={})=>{const t=e.displayName,s=e.name,r=e.image,n=e.score;return{displayName:void 0===t?"":t,id:e["@id"]||"",logo:(void 0===r?{}:r).contentUrl||"",name:void 0===s?"":s,scoreValue:(void 0===n?{}:n).scoreValue}}),g=p[0]||{},O=g.accountInfo,T=void 0===O?{}:O,A=g.additionalProperties,I=void 0===A?[]:A,f="true"===T.isConnected,D=(T.additionalProperties||[]).reduce((e,t)=>Je({},e,{[t.name]:t.value}),{}).loyaltyCard,R=void 0===D?"":D,b=I.reduce((e,t)=>Je({},e,{[t.name]:t.value}),{}),N=b.linkable,M=b.loyaltyCardLength,y=b.loyaltyCardPrefix,L=b.proxyType,P=b.marlonRegistrationUrl,v=b.registrationInfo;return{brandImage:c,categories:C,displayName:n||d,emailIds:_,id:S,isLinkable:"true"===(void 0===N?"":N),linked:f,loyaltyCardLength:void 0===M?"":M,loyaltyCardPrefix:void 0===y?"":y,loyaltyId:R,proxyType:void 0===L?"":L,registrationInfo:void 0===v?"":v,registrationUrl:void 0===P?"":P,stores:h,subDomains:o}}),statusCode:a}}(t):function(e={}){var t;200!==e.statusCode&&et(C.C.GROCERY_RETAILERS,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const s=e.errorDescription,r=e.result,n=e.statusCode,a=void 0===n?0:n;return{errorDescription:void 0===s?"":s,retailers:(void 0===r?[]:r).map(e=>{const t=Object(f.b)(e,"@id",""),s=Object(f.b)(e,"displayName",""),r="true"===Object(f.b)(e,"accountInfo.isConnected",""),n=Object(f.b)(e,"category",[]),a=Object(f.b)(e,"accountInfo.additionalProperties",[]).reduce((e,t)=>Je({},e,{[t.propertyID]:t.value}),{}),o=a.loyaltyCard,i=void 0===o?"":o,c=a.loyaltyCardLength,l=void 0===c?"":c,d=a.loyaltyCardPrefix,E=void 0===d?"":d,_=a.proxyType,u=void 0===_?"":_,p=a.marlonBrandImage,m=void 0===p?"":p,S=a.marlonRegistrationUrl,h=void 0===S?"":S,C=a.registrationInfo,g=void 0===C?"":C,O=Object(f.b)(e,"subDomains",[]);return{brandImage:m,categories:n,displayName:s,emailIds:Object(f.b)(e,"senderEmailIds",[]),id:t,linked:r,loyaltyCardLength:l,loyaltyCardPrefix:E,loyaltyId:i,proxyType:u,registrationInfo:g,registrationUrl:h,subDomains:O}}),statusCode:a}}(t);break;case C.C.GROCERY_RETAILERS_CATEGORY:r[e]=function(e={}){var t;200!==e.statusCode&&et(C.C.GROCERY_RETAILERS_CATEGORY,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const s=e.errorDescription,r=e.result,n=e.statusCode,a=void 0===n?0:n;return{errorDescription:void 0===s?"":s,groceryCategories:(void 0===r?[]:r).map(e=>({id:Object(f.b)(e,"@id",""),displayName:Object(f.b)(e,"displayName",""),name:Object(f.b)(e,"name",""),logo:Object(f.b)(e,"image.contentUrl","")})),statusCode:a}}(t);break;case C.C.GROCERIES_TOP_OF_MSG:r[e]=s?function(e={}){var t;200!==e.statusCode&&et(C.C.GROCERIES_TOP_OF_MSG_PRD,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const s=e.errorDescription,r=e.result,n=void 0===r?[]:r,a=e.statusCode,o=void 0===a?0:a;return{errorDescription:void 0===s?"":s,groceriesData:((null==n?void 0:n.cards)||[]).map((e={})=>{var t,s,r,n;const a=(null==e?void 0:e.cardId)||"",o=(null==e||null===(t=e.sources)||void 0===t||null===(s=t[0])||void 0===s?void 0:s.senderEmail)||[],i=(null==e||null===(r=e.data)||void 0===r||null===(n=r.retailer)||void 0===n?void 0:n["@id"])||"",c=null==e?void 0:e.data,l=c.productOffers,d=c.coupons;return{groceries:[...void 0===l?[]:l,...void 0===d?[]:d].map((e={})=>{var t,s;const r=e.category,n=void 0===r?[]:r,o=e.dealType,i=e.description,c=void 0===i?"":i,l=e.discountInfo,d=void 0===l?{}:l,E=e.images,_=void 0===E?[]:E,u=e.itemOffered,p=void 0===u?{}:u,m=e.priceSpecification,S=void 0===m?{}:m,h=e.retailer,C=void 0===h?{}:h,g=e.saved,O=void 0===g?"":g,T=e.validThrough,A=void 0===T?"":T,I=e.recommendationReason,f=void 0===I?"":I,D="ProductOffer"===(void 0===o?"Coupon":o);let R,b,N,M,y;if(D){R=S.priceCurrency||"USD",M=S.price||"NaN";const e=S.eligibleQuantity,t=S.priceComponent;N=(void 0===e?{}:e).unitText,y=(void 0===t?{}:t).unitPriceDisplay}else R=d.priceCurrency||"USD",b=d.discountType,M=d.amount||"NaN";const L=(null==e?void 0:e["@id"])||"",P=Number(M).toFixed(2),v=D?C.name:null===(t=p.brand)||void 0===t?void 0:t.name,F=A?new Date(A).getTime():null,U=null===(s=_[0])||void 0===s?void 0:s.contentUrl,w=D?[]:n.filter(e=>!!e["@id"]).map(e=>e["@id"]);return{activated:"true"===O,amountUnit:R,brandName:v,cardId:a,categories:w,description:c,discountType:b,eligibleUnitText:N,expiryTimestamp:F,imageUrl:U,offerId:L,score:0,recommendationReason:f,unitPriceDisplay:y,value:P}}),emailId:o,id:i}}),statusCode:o}}(t):function(e={}){var t;200!==e.statusCode&&et(C.C.GROCERIES_TOP_OF_MSG,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const s=e.errorDescription,r=e.result,n=void 0===r?[]:r,a=e.statusCode,o=void 0===a?0:a;return{errorDescription:void 0===s?"":s,groceriesData:Object(f.b)(n,"cards",[]).map(e=>{const t=Object(f.b)(e,"cardId",""),s=Object(f.b)(e,"sources.0.senderEmail",[]),r=Object(f.b)(e,"data.retailer.@id","");return{groceries:Object(f.b)(e,"data.coupons",[]).map(e=>{var s;const r=new Date(Object(f.b)(e,"validThrough",null)).getTime(),n=Object(f.b)(e,"discountInfo",{});let a=Object(f.b)(n,"amount","0");const o=Object(f.b)(n,"discountType",C.kd.AMOUNT);a=o===C.kd.AMOUNT?Number(a).toFixed(2):Number(a).toFixed(0);const i=Object(f.b)(n,"priceCurrency","USD");if(i&&"0"!==a)if(o===C.kd.AMOUNT){a=`${Ze()(i)}${a}`}else o===C.kd.PERCENT?a+="%":o===C.kd.GETXFREE&&(a=`Get ${a} free`);const c=Object(f.b)(e,"itemOffered.brand.name",""),l=Object(f.b)(e,"description",""),d=Object(f.b)(e,"images.0.contentUrl",""),E=Object(f.b)(e,"@id",""),_=Object(f.b)(e,"category",[]).filter(e=>!!e["@id"]).map(e=>e["@id"]),u=null==e||null===(s=e.scores[0])||void 0===s?void 0:s.scoreValue;return{amountUnit:i,brandName:c,categories:_,description:l,discountType:o,expiryTimestamp:r,imageUrl:d,cardId:t,offerId:E,value:a,activated:!1,score:u}}),emailId:s,id:r}}),statusCode:o}}(t);break;case C.C.CATEGORY_FOLLOWING_LIST:r[e]=function(e={}){var t,s;200!==e.statusCode&&et(C.C.CATEGORY_FOLLOWING_LIST,e.statusCode,null===(s=e.error)||void 0===s?void 0:s.code);const r=(null==e?void 0:e.statusCode)||-1,n=(null==e||null===(t=e.error)||void 0===t?void 0:t.code)||(200===r?"":"Unknown");return{followedCategoryList:((null==e?void 0:e.result)||[]).map(e=>(e.id=e["@id"],e.type=e["@type"],Object(f.g)(e,["@id","@type"]))),statusCode:r,errorCode:n}}(t)}}),r}class nt{constructor({config:e,httpRetry:t,wssid:s}){o()(this,"transport",(e,t=y.a.GET)=>{const s=new y.b(t,e,{httpRetry:this.httpRetry});return s.setHeader("Accept","application/json"),s.withCredentials=!0,s}),o()(this,"checkForAstraWssid",()=>{if(this.isItFirstAstraCall){this.isItFirstAstraCall=!1;return this.transport(this.host+"/user/profile?accountId=1&attribute=shopping.affinity.productCategory.name=categoryFollow.type=Declared").send().then(e=>{var t,s,r,n,a;200===(null==e||null===(t=e.body)||void 0===t?void 0:t.statusCode)&&"EC-4003"===(null==e||null===(s=e.body)||void 0===s||null===(r=s.error)||void 0===r?void 0:r.code)&&(this.astraWssid=(null==e||null===(n=e.body)||void 0===n||null===(a=n.error)||void 0===a?void 0:a.astraWssid)||"")})}return new Promise(e=>{setTimeout(()=>e("done!"),400)})}),o()(this,"getAstraWssidParam",async()=>(await this.checkForAstraWssid(),this.astraWssid?"&astraWssid="+this.astraWssid:Promise.reject("Astra wssid not found"))),this.astraWssid="",this.httpRetry=t,this.isItFirstAstraCall=!0,this.wssid=s,this.host=(Object(g.b)(e,C.Eb.ASTRA_YCPI_HOST)?"":"https://astra.commerce.yahoo.com")+"/astra/v1"}async astraBatchApi({ymreqid:e="",accountId:t="",appid:s="",mailboxId:r="",batchEnabledFeatures:n=[],quotientDebugFlag:a=!1,config:o={}}){const i=await this.getAstraWssidParam(),c=Object(g.b)(o,C.Eb.GROCERY_WITH_PRODUCTS),l=`${this.host}/user/batch?q=cardView:Deal&accountId=1${i}&ymreqid=${e}&appid=${s}&mailboxId=${r}`,d={requests:[n.includes(C.Eb.FETCH_AFFILIATE_RETAILERS)&&{id:C.C.AFFILIATE_RETAILERS,uri:`/astra/v1/user/retailers?accountId=${t}&source=affiliate&sortBy=affinity`,method:"GET"},n.includes(C.Eb.RECOMMENDED_DEALS)&&{id:C.C.RECOMMENDED_DEALS,uri:"/astra/v1/user/cards?q=cardView:Deal&sortBy=score&accountId=1&limit=500",method:"GET"},n.includes(C.Eb.GROCERIES)&&{id:C.C.GROCERY_RETAILERS,uri:c?"/astra/v1/user/retailers?accountId=1&source=groceryAffiliate":"/astra/v1/user/sources/quotient/retailers?accountId=1&q=includeAll:"+a,method:"GET"},n.includes(C.Eb.GROCERIES)&&!c&&{id:C.C.GROCERY_RETAILERS_CATEGORY,uri:"/astra/v1/sources/quotient/categories?accountId=1",method:"GET"},n.includes(C.Eb.ENABLE_GROCERIES_TOP_OF_MSG)&&{id:C.C.GROCERIES_TOP_OF_MSG,uri:c?"/astra/v1/user/cards?q=cardView:DealCollection%20AND%20source:groceryAffiliate%20AND%20data.dealType:ProductOffer,Coupon&siteId=us-inbox&pageId=inbox-grocery&accountId=1&sortBy=score":"/astra/v1/user/cards?q=cardView:DealCollection%20AND%20source:Quotient%20AND%20data.dealType:(Coupon)&sortBy=score&includeAll=true&accountId=1",method:"GET"},n.includes(C.Eb.SHOW_USER_FOLLOWED_CATEGORIES)&&{id:C.C.CATEGORY_FOLLOWING_LIST,uri:"/astra/v1/user/categories?source=inbox&type=inferred&accountId=1",method:"GET"}].filter(Boolean)},E=this.transport(l,y.a.POST);return E.setHeader("Accept","multipart/form-data"),E.send(d).then(e=>rt({responseText:e.text,astraWssid:this.astraWssid,showGroceryWithProducts:c}))}async affiliateOffersApi({ymreqid:e="",retailerId:t=""}){const s=await this.getAstraWssidParam();return this.transport(`${this.host}/user/cards?q=cardView:Deal+AND+source:affiliate+AND+data.dealType:ProductOffer+AND+retailer:${t}&sortBy=score&accountId=1&limit=15${s}&ymreqid=${e}`).send().then(e=>function(e={}){if(void 0===e.result)throw new O.a("AstraApiClient.AffiliateOffersError");const t=e.result,s=e.statusCode;return{statusCode:void 0===s?-1:s,affiliateOffers:((null==t?void 0:t.cards)||[]).map(e=>{var t,s,r,n,a,o,i;const c=(null==e?void 0:e.data)||{},l=(null==c||null===(t=c.priceSpecification)||void 0===t?void 0:t.priceCurrency)||"USD",d=Ze()(l),E=(null==c?void 0:c.description)||"",_=(null==c||null===(s=c.images)||void 0===s||null===(r=s[0])||void 0===r?void 0:r.contentUrl)||"";let u=null==c||null===(n=c.originalPriceSpecification)||void 0===n?void 0:n.price,p=null==c||null===(a=c.priceSpecification)||void 0===a?void 0:a.price;const m=(null==c?void 0:c.url)||"";return u&&(u=`${d}${null===(o=Number(u))||void 0===o?void 0:o.toFixed(2)}`),p&&(p=`${d}${null===(i=Number(p))||void 0===i?void 0:i.toFixed(2)}`),{description:E,imgUrl:_,originalPrice:u,price:p,url:m}})}}(e.body))}async linkRetailerApi({ymreqid:e="",retailerId:t,loyaltyId:s}){const r=await this.getAstraWssidParam(),n={"@type":"Retailer","@id":t,accountInfo:{"@type":"PartnerAccount",additionalProperties:[{"@type":"PropertyValue",propertyID:"loyaltyCard",value:s}]}};return this.transport(`${this.host}/user/sources/quotient/retailers?accountId=1${r}&ymreqid=${e}`,y.a.POST).send(n).then(e=>function(e){if(!e)throw new O.a("AstraApiClient.LinkRetailerError");const t=e.error,s=e.statusCode,r=void 0===s?0:s,n=(void 0===t?{}:t).validationErrors;return{errorHint:JSON.parse((void 0===n?[]:n)[0]||'{"errorHint": ""}').errorHint,statusCode:r}}(e.body))}async unlinkRetailerApi({ymreqid:e="",retailerId:t=""}){const s=await this.getAstraWssidParam();return this.transport(`${this.host}/user/sources/quotient/retailers/${t}?accountId=1${s}&ymreqid=${e}`,y.a.DELETE).send().then(e=>e.body)}async addItemToShoppingList({ymreqid:e="",retailerId:t="",payload:s={}}){const r=await this.getAstraWssidParam();return this.transport(`${this.host}/user/retailers/${t}/shoppingList/cpg?accountId=1&viewContext=ShoppingList&siteId=us-inbox&pageId=inbox-grocery${r}&ymreqid=${e}`,y.a.PATCH).send([s]).then(e=>e.body)}async removeItemFromShoppingList({ymreqid:e="",retailerId:t="",itemIds:s=[]}){const r=await this.getAstraWssidParam(),n=`${this.host}/user/retailers/${t}/shoppingList/cpg?accountId=1&viewContext=ShoppingList&siteId=us-inbox&pageId=inbox-grocery${r}&ymreqid=${e}`,a=s.map(e=>({op:"remove",path:`/itemListElement/[@id==${e}]`}));return this.transport(n,y.a.PATCH).send(a).then(e=>st(e.body))}async changeItemQuantityFromShoppingList({ymreqid:e="",retailerId:t="",items:s=[]}){const r=await this.getAstraWssidParam(),n=`${this.host}/user/retailers/${t}/shoppingList/cpg?accountId=1&viewContext=ShoppingList&siteId=us-inbox&pageId=inbox-grocery${r}&ymreqid=${e}`,a=s.map(e=>({op:"replace",path:`/itemListElement/[@id==${e.offerId}]/quantity`,value:e.quantity}));return this.transport(n,y.a.PATCH).send(a).then(e=>st(e.body))}async retailerOffersApi({config:e={},ymreqid:t="",retailerId:s,limit:r}){const n=await this.getAstraWssidParam(),a=Object(g.b)(e,C.Eb.GROCERY_WITH_PRODUCTS);return this.transport(a?`${this.host}/user/cards?q=cardView:DealCollection+AND+source:groceryAffiliate+AND+data.dealType:ProductOffer,Coupon+AND+retailer:${s}&siteId=us-inbox&pageId=inbox-grocery&viewContext=ShoppingList&accountId=1&sortBy=score&limit=100${n}&ymreqid=${t}`:`${this.host}/user/cards?accountId=1&q=cardView:Deal%20AND%20source:Quotient%20AND%20retailer:${s}&limit=${r}${n}&ymreqid=${t}`).send().then(e=>a?tt(e.body):function(e={}){if(void 0===e.result)throw new O.a("AstraApiClient.RetailerOffersError");const t=e.result,s=e.statusCode;return{offers:Object(f.b)(t,"cards",[]).map(e=>{const t=Object(f.b)(e,"data",{}),s=new Date(Object(f.b)(t,"validThrough",null)).getTime(),r=Object(f.b)(t,"discountInfo",{}),n=Object(f.b)(r,"amount","0"),a=Object(f.b)(r,"priceCurrency","USD"),o=Object(f.b)(r,"discountType",C.kd.AMOUNT),i=Object(f.b)(t,"itemOffered.brand.name",""),c=Object(f.b)(t,"description",""),l=Object(f.b)(t,"images.0.contentUrl",""),d=Object(f.b)(t,"@id",""),E=Object(f.b)(e,"cardId",""),_=o===C.kd.AMOUNT?Number(n).toFixed(2):Number(n).toFixed(0);return{amountUnit:a,brandName:i,cardId:E,categories:Object(f.b)(t,"category",[]).filter(e=>!!e["@id"]).map(e=>e["@id"]),description:c,discountType:o,expiryTimestamp:s,imageUrl:l,offerId:d,value:_}}),statusCode:s}}(e.body))}async retailerActivatedOffersApi({config:e={},ymreqid:t="",retailerId:s,limit:r}){const n=await this.getAstraWssidParam(),a=Object(g.b)(e,C.Eb.GROCERY_WITH_PRODUCTS);return this.transport(a?`${this.host}/user/retailers/${s}/shoppingList/cpg?accountId=1&siteId=us-inbox&pageId=inbox-grocery&viewContext=ShoppingList${n}&ymreqid=${t}`:`${this.host}/user/cards?accountId=1&q=cardView:Deal%20AND%20source:Quotient%20AND%20retailer:${s}%20AND%20data.saved:true&limit=${r}${n}&ymreqid=${t}`).send().then(e=>a?st(e.body):function(e={}){if(void 0===e.result)throw new O.a("AstraApiClient.RetailerActivatedOffersError");const t=e.result,s=e.statusCode;return{offers:Object(f.b)(t,"cards",[]).map(e=>{const t=Object(f.b)(e,"data",{}),s=new Date(Object(f.b)(t,"validThrough",null)).getTime(),r=Object(f.b)(t,"discountInfo",{}),n=Object(f.b)(r,"amount","0"),a=Object(f.b)(r,"priceCurrency","USD"),o=Object(f.b)(r,"discountType",C.kd.AMOUNT),i=Object(f.b)(t,"itemOffered.brand.name",""),c=Object(f.b)(t,"description",""),l=Object(f.b)(t,"images.0.contentUrl",""),d=Object(f.b)(t,"@id",""),E=Object(f.b)(e,"cardId",""),_=o===C.kd.AMOUNT?Number(n).toFixed(2):Number(n).toFixed(0),u=Object(f.b)(t,"category",[]).filter(e=>!!e.name).map(e=>e.name);return 0===u.length&&t.itemOffered&&t.itemOffered.category&&u.push(Object(f.b)(t,"itemOffered.category")),{amountUnit:a,brandName:i,cardId:E,categories:u,description:c,discountType:o,expiryTimestamp:s,imageUrl:l,offerId:d,value:_}}),numActivatedOffers:Object(f.b)(t,"cards.length",0),statusCode:s}}(e.body))}async activateOfferApi({ymreqid:e="",cardId:t,payload:s={}}){const r=await this.getAstraWssidParam();return this.transport(`${this.host}/user/cards/${t}?accountId=1&q=cardView:Deal%20AND%20source:Quotient${r}&ymreqid=${e}`,y.a.POST).send(s).then(e=>e.body)}async clipCoupon({ymreqid:e="",cardMid:t="",mailboxId:s="",wssid:r="",clipping:n=!0}){const a=await this.getAstraWssidParam(),o={action:n?"save":"unsave",source:"inbox"};return this.transport(`${this.host}/user/cards/${t}?accountId=1${a}&mailboxId=${s}&wssid=${r}&ymreqid=${e}`,y.a.POST).send(o).then(e=>e.body)}async getRetailerLocations({ymreqid:e="",retailerId:t="",zipCode:s=""}){const r=await this.getAstraWssidParam();return this.transport(`${this.host}/retailers/${t}/stores?location.zipCode=${s}&storeLimit=5${r}&ymreqid=${e}`).send().then(e=>e.body)}async updatePreferredStoreApi({ymreqid:e="",retailerId:t="",store:s=[]}){const r=await this.getAstraWssidParam();return this.transport(`${this.host}/user/retailers/${t}/stores?accountId=1&${r}&ymreqid=${e}`,y.a.PUT).send(s).then(e=>e.body)}async categoryOffersApi({ymreqid:e="",retailerId:t,categoryId:s}){const r=await this.getAstraWssidParam();return this.transport(`${this.host}/user/cards?q=cardView:DealCollection+AND+source:groceryAffiliate+AND+data.dealType:ProductOffer,Coupon+AND+retailer:${t}+AND+category:${s}&siteId=us-inbox&pageId=inbox-grocery&accountId=1&viewContext=ShoppingList&sortBy=score&limit=100${r}&ymreqid=${e}`).send().then(e=>function(e={},t){var s,r,n;const a=null==e?void 0:e.statusCode,o=null==e||null===(s=e.error)||void 0===s?void 0:s.code;if(400===a&&"EC-4003"===o)throw new O.a(T.e,{errorCode:o,statusCode:a,wssid:"Wrong astra wssid"});if(void 0===e.result)throw new O.a("AstraApiClient.CategoryOffersError");const i=e.result,c=(null===(r=i.cards)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.data)||{},l=c.productOffers,d=c.coupons;return{offers:[...void 0===l?[]:l,...void 0===d?[]:d].map((e={})=>{const s=e.dealType,r=e.description,n=void 0===r?"":r,a=e.discountInfo,o=void 0===a?{}:a,c=e.eligibleQuantity,l=e.images,d=void 0===l?[]:l,E=e.ingredients,_=void 0===E?[]:E,u=e.nutrition,p=void 0===u?{}:u,m=e.priceSpecification,S=void 0===m?{}:m,h=e.saved,g=void 0===h?"":h,O=e.shortDescription,T=void 0===O?"":O,A=e.specialFeatures,I=void 0===A?[]:A,f=e.validThrough,D=void 0===f?"":f,R="ProductOffer"===(void 0===s?"Coupon":s);let b,N,M,y,L,P,v,F,U;if(R){var w,G;P=Number(null==c?void 0:c.value)||1,v=S.price||"NaN",b=S.priceCurrency||"USD";const e=S.eligibleQuantity,t=S.priceComponent;M=(void 0===e?{}:e).unitText,y=(null===(w=d[1])||void 0===w?void 0:w.contentUrl)||"",L=(null===(G=d[2])||void 0===G?void 0:G.contentUrl)||"",F=p.servingSize||"",U=(void 0===t?{}:t).unitPriceDisplay}else{var H;v=o.amount||"NaN",b=o.priceCurrency||"USD",N=o.discountType,L=(null===(H=d[0])||void 0===H?void 0:H.contentUrl)||""}const j=D?new Date(D).getTime():null,k=e["@id"]||"",x=i.cards[0].cardId,B=void 0===x?"":x,V=R||N===C.kd.AMOUNT?Number(v).toFixed(2):Number(v).toFixed(0);return{activated:"true"===g,amountUnit:b,cardId:B,categories:[t],description:n,discountType:N,eligibleUnitText:M,expiryTimestamp:j,highResImgUrl:y,imageUrl:L,ingredients:_[0]||"",maxQuantity:P,offerId:k,servingSize:F,shortDescription:T,specialFeatures:I[0]||"",unitPriceDisplay:U,value:V}}),statusCode:a}}(e.body,s))}async searchItemsApi({ymreqid:e="",retailerId:t,search:s}){const r=await this.getAstraWssidParam();return this.transport(`${this.host}/user/cards?q=cardView:DealCollection%20AND%20source:groceryAffiliate%20AND%20data.dealType:ProductOffer,Coupon%20AND%20retailer:${t}&keyword=${s}&siteId=us-inbox&pageId=inbox-grocery&accountId=1&viewContext=ShoppingList&sortBy=score&limit=100${r}&ymreqid=${e}`).send().then(e=>tt(e.body))}async firstCategoryFollowApi({ymreqid:e="",id:t="",name:s=""}){const r=await this.getAstraWssidParam(),n={"shopping.affinity.productCategory.name=categoryFollow.type=Declared":{"@type":"ItemList",itemListElement:[{"@id":t,"@type":"CategoryListItem",name:s}]}};return this.transport(`${this.host}/user/profile?accountId=1${r}&ymreqid=${e}`,y.a.POST).send(n).then(e=>e.body)}async categoryFollowApi({ymreqid:e="",id:t="",name:s=""}){const r=await this.getAstraWssidParam(),n=[{op:"add",path:"/itemListElement/-",value:{"@id":t,"@type":"CategoryListItem",name:s}}];return this.transport(`${this.host}/user/profile?accountId=1&attribute=shopping.affinity.productCategory.name=categoryFollow.type=Declared${r}&ymreqid=${e}`,y.a.PATCH).send(n).then(e=>e.body)}async categoryUnfollowApi({ymreqid:e="",id:t=""}){const s=await this.getAstraWssidParam(),r=[{op:"remove",path:`/itemListElement/[@id==${t}]`}];return this.transport(`${this.host}/user/profile?accountId=1&attribute=shopping.affinity.productCategory.name=categoryFollow.type=Declared${s}&ymreqid=${e}`,y.a.PATCH).send(r).then(e=>e.body)}}const at=["WEB_DESKTOP","WEB_MOBILE","MOBILE_IOS","MOBILE_ANDROID"];function ot(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function it(e){if(e&&Array.isArray(Object(f.b)(e,"commsDataUserProfile.result.0.userProfile.attributesList"))){return Object(f.b)(e,"commsDataUserProfile.result.0.userProfile.attributesList").filter(e=>!(!e||!e.platform)&&-1!==at.indexOf(e.platform)).reduce((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ot(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ot(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{[t.platform]:t}),{})}return{}}const ct={NODE_TO_ATHENA_STRATEGY:class{constructor({athenaHost:e,cookie:t,headers:s}){this.cookie=t,this.athenaHost=e,this.headers=s}_setCustomHeaders(e,t={}){t&&Object.keys(t).forEach(s=>{e.setHeader(s,t[s])})}userSegmentApi(e){const t=new y.b("GET",this.athenaHost+"/v1/commsdata/userprofile?",{timeout:1250});return t.setHeader("Accept","application/json"),t.setCookieHeader(this.cookie),this._setCustomHeaders(t,this.headers),t.withCredentials=!0,t.send(e).then(e=>it(JSON.parse(e.text)))}}};var lt=class extends S.a{constructor({appId:e=C.Me,strategy:t="NODE_TO_ATHENA_STRATEGY",guidHash:s,wssid:r,crumb:n,isOnline:a,cookie:o,athenaHost:i,headers:c,timezone:l,loggerParams:d}){super({loggerName:C.z.AthenaClient,loggerParams:d,crumb:n,wssid:r,isOnline:a}),Object(h.a)("NODE_TO_ATHENA_STRATEGY"===t,"Invalid strategy "+t),this.appId=e,this.cookie=o,this.athenaHost=i,this.timezone=l,this.strategy=t,this._request=new ct[t]({headers:c,athenaHost:i,cookie:o}),s&&(this.ymreqidGenerator=new D.a(s,C.Ke,C.td))}request(e,t){return this[e](e,t)}getUserSegmentData(e,t){const s={apiName:e},r=this._request.userSegmentApi(Object.assign({appId:this.appId},t));return this.logRequest(r,s),r}},dt=ve.a.create("norrin/video_client");const Et=C.Ie+"/video_api";function _t(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ut(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var pt=s(41);const mt=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders`,method:"GET",payloadType:"embedded"}),St=(e,{appId:t}={appId:C.Me})=>{const s=function(e){return e.filter(e=>"DELETE_IN_PROGRESS"!==e.status).map(e=>{let t=!0,s=e.name;return-1!==e.types.indexOf(C.Mb.USER)&&(t=!1),"@B@Bulk"===s&&(s="Spam"),{unread:e.unread,total:e.total,types:e.types,name:s,path:s,id:e.id,isSystem:t,accountId:e.acctId,highestModSeq:e.highestModSeq,uidNext:e.uidNext}})}(e.response.result.folders),r=t&&t.includes(C.f);return s.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0),function(e,t=!1){const s=[],r={};return e.forEach(e=>{r[e.accountId]||(r[e.accountId]={}),r[e.accountId][e.name]=e}),e.forEach(e=>{var n;const a=r[e.accountId],o=e.name;let i=!0;-1!==o.indexOf("/")&&(e.isSystem||!o.startsWith("/")&&!a[o.substr(0,o.indexOf("/"))])&&(i=!1);if(t&&(null===(n=e.name)||void 0===n?void 0:n.startsWith("Saved/"))){const t=e.name,s=e.name.replace("Saved/","");a[s]||(e.name=s,e.path=s,a[s]=a[t],delete a[t])}const c=Object(pt.l)(e,a,i);Object(pt.q)(s,e,c,0)}),s}(s,r)};const ht="GetFolders";var Ct={getBatchPayload:({mailboxId:e})=>({requests:[mt(ht,{mailboxId:e})]}),transformResponses:({successMap:e})=>({folders:St(e[ht])})},gt=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders/@.id==${t.folderId}`,method:"DELETE"});const Ot="DeleteFolders";var Tt={getBatchPayload:({mailboxId:e,folderId:t})=>({requests:[gt(Ot,{mailboxId:e,folderId:t})]}),transformResponses:()=>1},At=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders`,method:"PUT",payloadType:"embedded",payload:{folder:{types:[C.Mb.USER],acctId:t.accountId,name:t.folderName}}}),It=e=>{const t=e.response.result;return{id:t.id,unread:t.unread,total:t.total,types:t.types,name:t.name,path:t.name,isSystem:!1,accountId:t.acctId,highestModSeq:t.highestModSeq,uidNext:t.uidNext}};const ft="CreateFolders";var Dt={getBatchPayload:({mailboxId:e,accountId:t,folderName:s})=>({requests:[At(ft,{mailboxId:e,accountId:t,folderName:s})]}),transformResponses:({successMap:e})=>({folder:It(e[ft])})},Rt={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders/${t.folderId}`,method:"POST",payloadType:"embedded",payload:{folder:{name:t.folderName}}}),transformResponse(e){const t=e.response.result;return{id:t.id,unread:t.unread,total:t.total,types:t.types,name:t.name,isSystem:!1,accountId:t.acctId}}};const bt=(e,t)=>`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${t}`;var Nt={getBlockPayload:(e,t)=>{const s=t.value,r=bt(t.mailboxId,e);return{id:e,method:"POST",uri:r,payload:{id:e,link:{type:"RELATIVE",href:r},value:s}}},get getChainedBlockPayload(){return(e,{mailboxId:t,value:s})=>{const r=this.getSaveBlockPayload;let n;return-1!==[C.xc.DELIVERY_BLOCKED_SENDERS,C.xc.MESSAGE_FILTERS,C.xc.CONSENT_EVENTS].indexOf(e)?r(e,{mailboxId:t,value:s}):(n={select:{testAndSet:"$..value.testAndSet"}},{id:"GetMailboxAttribute_"+e,uri:bt(t,e),method:"GET",filters:n,requests:[r(e,{mailboxId:t,value:s})]})}},getSaveBlockPayload:(e,{mailboxId:t,value:s})=>{const r=bt(t,e);let n;return-1===[C.xc.DELIVERY_BLOCKED_SENDERS,C.xc.VACATION_PREFERENCES,C.xc.MESSAGE_FILTERS,C.xc.CONSENT_EVENTS].indexOf(e)&&(s.testAndSet="$(testAndSet)"),-1===[C.xc.DELIVERY_BLOCKED_SENDERS,C.xc.VACATION_PREFERENCES,C.xc.MESSAGE_FILTERS,C.xc.CONSENT_EVENTS].indexOf(e)&&(n={select:{testAndSet:"$..value.testAndSet"}}),{id:"SetMailboxAttribute_"+e,method:"POST",uri:r,payload:{id:e,link:{type:"RELATIVE",href:r},value:s},filters:n}},get getMultiAttributeChain(){return({mailboxId:e,attributes:t})=>{const s=this.getChainedBlockPayload,r=t.map(({id:t,value:r})=>s(t,{mailboxId:e,value:r})),n=r[0];let a;return r.forEach(e=>{a?a.requests?(a.requests[0].requests=[e],a=e):(a.requests=[e],a=e):a=e}),{requests:[n]}}},transformResponse:()=>1};function Mt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function yt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Mt(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Mt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Lt="RenameFolders",Pt="messageFilters";var vt={getBatchPayload({mailboxId:e,folderId:t,folderName:s,filters:r,subfolders:n=[]}){const a=Rt.getBlockPayload(Lt+t,{mailboxId:e,folderId:t,folderName:s}),o=n.map(({folderId:t,folderName:s})=>Rt.getBlockPayload(Lt+t,{mailboxId:e,folderId:t,folderName:s}));return 0===r.length?{requests:[a,...o]}:{requests:[yt({},a,{requests:[Nt.getBlockPayload(Pt,{mailboxId:e,value:{filters:r}})]}),...o]}},transformResponses:(e,t)=>({folder:Rt.transformResponse(e.successMap[Lt+t.folderId]),subfolders:Object.keys(e.successMap).filter(e=>e!==Lt+t.folderId).map(t=>Rt.transformResponse(e.successMap[t]))})},Ft=s(50),Ut={getBlockPayload:(e,{mailboxId:t,messageIds:s,query:r,isAsync:n,deleteDuplicates:a})=>{if(!s&&!r)throw new Error("POST Delete Message requires either a list of ids or a query string.");const o=[];s&&o.push(`id:(${s.join(" ")})`),r&&o.push(r);const i=encodeURIComponent(o.join(" AND ")),c=a?function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"GET",filters:{iterator:"$..messages[*]",select:{dedupId:"$.dedupId",conversationId:"$.conversationId"}},requests:[{id:e+"_$(dedupId)",uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=dedupId:($(dedupId))%20AND%20conversationId:($(conversationId))`,method:"DELETE"}]}}(e,t,i):function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"DELETE"}}(e,t,i);return n&&(c.uri+="&async=true"),c},getBatchError:({failureMap:e})=>"EC-4007"===Object(f.b)(e,"DeleteMessages.response.error.code")?null:Object.keys(e).length>0?new Ft.a(T.j,e):null,transformResponse:()=>1};var wt={getBlockPayload:(e,{mailboxId:t,taskId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/tasks/@.id==${s}`,method:"GET"}),transformResponse(e){const t=e.response.result;if(!t)return{};const s=t.task;return s?{id:s.id,link:s.link.href,status:s.status,progress:s.progress,expires:s.expiryTime}:{}}};const Gt="DeleteList";var Ht={getBatchPayload:e=>({requests:e.map(({mailboxId:e,query:t,isAsync:s=!0})=>(Object(h.a)(e,"`mailboxId` missing."),Object(h.a)(t,"`query` missing."),Ut.getBlockPayload(Gt,{mailboxId:e,query:t,isAsync:s})))}),transformResponses({successMap:e}){const t=e[Gt];return t.response?{task:wt.transformResponse(t)}:Ut.transformResponse(t)}},jt={getBatchPayload(e){const t=e.map(({mailboxId:e,query:t,isAsync:s})=>(Object(h.a)(e,"`mailboxId` missing."),Object(h.a)(t,"`query` missing."),{mailboxId:e,query:t,isAsync:s}));return Ht.getBatchPayload(t)},transformResponses:({successMap:e})=>Ht.transformResponses({successMap:e})},kt={getBlockPayload:(e,{mailboxId:t,messageIds:s,query:r,destinationFolderId:n,flags:a,cardConversationId:o,isAsync:i,payload:c,deleteDuplicates:l})=>{if(!s&&!r)throw new Error("POST Update Message requires either a list of ids or a query string.");const d=[];s&&d.push(`id:(${s.join(" ")})`),r&&d.push(r);const E=encodeURIComponent(d.join(" AND ")),_=l?function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"GET",filters:{iterator:"$..messages[*]",select:{dedupId:"$.dedupId",conversationId:"$.conversationId"}},requests:[{id:e+"_$(dedupId)",uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=dedupId:($(dedupId))%20AND%20conversationId:($(conversationId))`,method:"POST",payloadType:"embedded",payload:{message:{}}}]}}(e,t,E):function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"POST",payloadType:"embedded",payload:{message:{}}}}(e,t,E),u=l?_.requests[0]:_;if(i&&(_.uri+="&async=true"),!(n||a||o||c))throw new Error("POST Update Message requires either a folder id, flags, cardConversationId or payload");return c?u.payload=c:(n&&(u.payload.message.folder={},u.payload.message.folder.id=n),a&&(u.payload.message.flags=a),o&&(u.payload.message.cardConversationId=o)),_},transformResponse:()=>1,getBatchError:({failureMap:e})=>"EC-4007"===Object(f.b)(e,"DeleteMessages.response.error.code")?null:Object.keys(e).length>0?new Ft.a(T.j,e):null};const xt="UpdateList";var Bt={getBatchPayload:e=>({requests:e.map(({mailboxId:e,query:t,destinationFolderId:s,flags:r,isAsync:n=!0})=>(Object(h.a)(e,"`mailboxId` missing."),Object(h.a)(t,"`query` missing."),Object(h.a)(s||r,"`destinationFolderId` or `flags` required."),kt.getBlockPayload(xt,{mailboxId:e,query:t,destinationFolderId:s,flags:r,isAsync:n})))}),transformResponses({successMap:e}){const t=e[xt];return t.response?{task:wt.transformResponse(t)}:kt.transformResponse(t)}},Vt={getBatchPayload(e){const t=e.map(({mailboxId:e,query:t,destinationFolderId:s,flags:r,isAsync:n})=>(Object(h.a)(e,"`mailboxId` missing."),Object(h.a)(t,"`query` missing."),Object(h.a)(s||r,"`destinationFolderId` or `flags` required."),{mailboxId:e,query:t,destinationFolderId:s,flags:r,isAsync:n}));return Bt.getBatchPayload(t)},transformResponses:({successMap:e})=>Bt.transformResponses({successMap:e})},Wt=s(36);function Kt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function qt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Kt(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Kt(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Yt(e){const t={id:e.immutableid||e.id,conversationId:e.conversationId,snippet:e.snippet||"",flags:Object.assign(e.flags,{flagged:!!e.flags.flagged,read:!!e.flags.read,ham:!!e.flags.ham}),folder:{id:e.folder.id,types:e.folder.types},headers:{replyTo:e.headers.replyTo||"",subject:e.headers.subject||"",from:e.headers.from?zt(e.headers.from):[],to:e.headers.to?zt(e.headers.to):[],cc:e.headers.cc?zt(e.headers.cc):[],bcc:e.headers.bcc?zt(e.headers.bcc):[],date:Number(e.headers.internalDate),messageIdRfc822:e.headers.messageIdRfc822},attachments:[],attachmentCount:0,classification:e.classification&&e.classification.category,verifiedDomains:e.verifiedDomains||[]};e.spame&&(t.spame=e.spame),e.captcha&&(t.captcha=e.captcha),e.csid&&(t.csid=e.csid),e.attachments&&(e.attachments=t.attachments=function(e,t,s,r){return e.map(e=>({id:Object(G.e)(e,s,!1),virus:e.virus||"N",filename:e.filename,size:e.size,partId:e.partId,type:e.type,subtype:e.subtype,disposition:e.disposition,downloadUrl:e.downloadUrl,thumbnailUrl:e.thumbnailUrl,isExternal:!1,creationDate:1e3*t||e.creationDate,textExtractionUrl:e.textExtractionUrl,contentId:e.contentId,dataIds:e.dataIds,documentId:e.documentId,csid:r}))}(e.attachments,t.headers.date,t.id,e.csid)),void 0!==e.attachmentCount&&(t.attachmentCount=e.attachmentCount),e.headers.inReplyTo&&(t.headers.inReplyTo=e.headers.inReplyTo),e.inReplyTo&&(t.inReplyTo=qt({},e.inReplyTo,{messageIdRfc822:e.headers.messageIdRfc822,id:e.immutableid||e.id})),e.downloadAllUrl&&(t.downloadAllUrl=e.downloadAllUrl),e.schemaOrg&&Object(G.h)(e)&&(t.schemaCards=Object(G.n)(e)),e.cardConversationId&&(t.cardConversationId=e.cardConversationId),e.decos&&(t.decos=e.decos),e.modSeq&&(t.modSeq=e.modSeq);const s=e.filterResult;return s&&s.folderOfDelivery&&(t.folderOfDelivery=s.folderOfDelivery),t}function zt(e){return e.map(e=>{let t=e.email,s=void 0===t?"":t;return qt({},b()(e,["email"]),{email:s.toLowerCase()})})}function Qt(e,{mailboxId:t,offset:s,count:r,folderId:n,sortOrder:a,filter:o,excludeFolderTypes:i=[],ids:c,cidFilter:l,cardConversationIds:d,startCardDate:E,endCardDate:_,accountId:u,encodeCardConversationId:p=!0,query:m={},fromNames:S=[],fromEmails:g=[],listIds:O=[],cursorOffsetId:T,shouldSelectAll:A}){let I="";Object(h.a)(t,"mailboxId is a required field");const f=[];switch(O.length?f.push(`listid:(${O.map(e=>`"${e}"`).join(" OR ")})`):(g.length&&f.push(`fromEmail:(${g.join(" OR ")})`),S.length&&f.push(`from:(${S.map(e=>`"${e}"`).join(" OR ")})`)),I+=n?"folderId"+Wt.c+n:"",I+=A?Wt.e+"all:1":"",I+=o?Object(Wt.h)(o):"",I+=i.length?Wt.e+encodeURIComponent(i.map(e=>`-folderType:(${e})`).join("")):"",I+=f.length?Wt.e+encodeURIComponent(`(${f.join(" OR ")})`):"",I+=T?Wt.e+"cursorOffsetId"+Wt.c+T:"",I+=Wt.e+"count"+Wt.c+r,I+=Wt.e+"offset"+Wt.c+s,I+=c?encodeURIComponent(` id:(${c.join(" ")})`):"",d&&(I+=p?encodeURIComponent(` cardConversationId:(${d.join(" ")})`):`%20cardConversationId%3A(${d.join("%20")})`),I+=l?`%20conversationId%3A(${l})`:"",I+=a===C.vd&&E&&_?`${Wt.e}cardDate${Wt.c}${Wt.d}${E}${Wt.e}TO${Wt.e}${_}${Wt.b}`:"",I+=u&&!n?"%20acctId"+Wt.c+u:"",I+=encodeURIComponent(Object.keys(m).reduce((e,t)=>Array.isArray(m[t])?e+m[t].map(e=>" "+t+":"+e):e+" "+t+":"+m[t],"")),a){case C.Yd.DATE_ASC:I+=Wt.e+"sort"+Wt.c+"date";break;case C.Yd.DATE_DESC:I+=Wt.e+"-sort"+Wt.c+"date";break;case C.Yd.CARD_DATE_DESC:I+=Wt.e+"-sort"+Wt.c+"cardDate";break;case C.Yd.SENDER:case C.Yd.RECIPIENT:case C.Yd.SUBJECT:case C.Yd.UNREAD:case C.Yd.STARRED:case C.Yd.ATTACHMENT:case C.vd:I+=Wt.e+"sort"+Wt.c+a}return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${I}`,method:"GET",payloadType:"embedded"}}function Zt(e,t){const s=e.response.result.messages,r={messageGroups:s.map(e=>({id:e.id,messages:[Yt(e)]}))};if(!isNaN(t)){let e=!1;s.length&&(e=s[0].folder.total>t),r.hasMore=e}return r}function Xt(e,{mailboxId:t,offset:s,count:r,folderId:n,sortOrder:a,filter:o,excludeFolderTypes:i=[],ids:c,cidFilter:l,startCardDate:d,endCardDate:E,accountId:_,groupBy:u="conversationId",fromNames:p=[],fromEmails:m=[],listIds:S=[],shouldSelectAll:g}){let O="";Object(h.a)(t,"mailboxId is a required field");const T=[];switch(S.length?T.push(`listid:(${S.map(e=>`"${e}"`).join(" OR ")})`):(m.length&&T.push(`fromEmail:(${m.join(" OR ")})`),p.length&&T.push(`from:(${p.map(e=>`"${e}"`).join(" OR ")})`)),O+=n?"folderId"+Wt.c+n:"",O+=g?Wt.e+"all:1":"",O+=_?Wt.e+"acctId"+Wt.c+_:"",O+=o?Object(Wt.h)(o):"",O+=T.length?Wt.e+encodeURIComponent(`(${T.join(" OR ")})`):"",O+=`${Wt.e}groupBy${Wt.c}${u}`,O+=Wt.e+"count"+Wt.c+r,O+=Wt.e+"offset"+Wt.c+s,O+=c?encodeURIComponent(` conversationId:(${c.join(" ")})`):"",O+=l?`%20conversationId%3A(${l})`:"",O+=d&&E?`${Wt.e}cardDate${Wt.c}${Wt.d}${d}${Wt.e}TO${Wt.e}${E}${Wt.b}`:"",O+=i.length?Wt.e+encodeURIComponent(i.map(e=>`-folderType:(${e})`).join("")):"",O+=o===C.bc.PEOPLE?Wt.e+encodeURIComponent([C.Mb.USER,C.Mb.INBOX].map(e=>`+folderType:(${e})`).join("")):"",a){case C.Yd.DATE_ASC:O+=Wt.e+"sort"+Wt.c+"date";break;case C.Yd.DATE_DESC:O+=Wt.e+"-sort"+Wt.c+"date";break;case C.Yd.CARD_DATE_ASC:O+=Wt.e+"sort"+Wt.c+"cardDate";break;case C.Yd.CARD_DATE_DESC:O+=Wt.e+"-sort"+Wt.c+"cardDate";break;case C.Yd.SENDER:case C.Yd.SUBJECT:case C.Yd.UNREAD:case C.Yd.STARRED:case C.vd:O+=Wt.e+"sort"+Wt.c+a}return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${O}`,method:"GET",payloadType:"embedded"}}function $t(e){const t=e.response.result,s=t.conversations,r=t.messages,n=t.query,a=new Map;r.forEach(e=>a.set(e.id,e));const o={messageGroups:s.filter(({messageIds:e})=>e.some(e=>!!a.get(e))).map(({id:e,messageIds:t})=>({id:e,messages:t.filter(e=>a.get(e)).map(e=>Yt(a.get(e))).reverse()}))};if(o.hasMore=0!==s.length,n&&n.options){const e=Object(Wt.j)(n);o.hasMore=s.length>=e}return o}var Jt=s(103),es=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/decos/@.id==FTI`,method:"POST",payload:{id:"FTI",counts:[{accountId:t.accountId,unseen:0}]}}),ts=e=>{if(e){const t=e.response;Jt.a.feature(C.z.MailAPIClient,{data:{apiName:e.id,errorCode:t&&t.error&&t.error.code,httpCode:e.httpCode}}).logFailure()}return null},ss=s(389),rs=s.n(ss),ns=s(364),as=s.n(ns),os=s(238),is=s.n(os);function cs(e){const t=e.every(e=>e.headers&&e.headers.date);return Object(h.a)(t,"date is missing in the headers"),e.sort((e,t)=>t.headers.date-e.headers.date).slice(1)}function ls(e=[]){const t=is()(e,({csid:e,folder:t})=>e&&-1!==t.types.indexOf("DRAFT")),s=w()(t,2),r=s[0],n=void 0===r?[]:r,a=s[1],o=void 0===a?[]:a,i=is()(n,e=>!e.inReplyTo),c=rs()(i[0],"csid"),l=rs()(i[1],"conversationId"),d=Object.keys(c).filter(e=>c[e].length>1).map(e=>cs(c[e]));let E=Object.keys(l).map(e=>rs()(l[e],"csid")).reduce((e,t)=>{const s=Object.keys(t).filter(e=>t[e].length>1).map(e=>cs(t[e]));return s.length&&e.push(...as()(s)),e},[...as()(d)]);if(n.length&&o.length){const e=n.filter(e=>o.some(({csid:t,folder:s})=>t===e.csid&&-1!==s.types.indexOf("SENT")));E=E.concat(e)}return E.length?e.filter(({id:e})=>!E.find(({id:t})=>e===t)):e}var ds=s(60),Es=s.n(ds);function _s(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function us(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_s(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_s(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const ps="GetMessageGroupList";var ms={getBatchPayload({mailboxId:e,accountId:t,folderId:s,count:a,offset:o,sortOrder:i,filter:c,fromNames:l,fromEmails:d,listIds:E,conversationsMode:_,excludeFolderTypes:u=[],ids:p,cardConversationIds:m,query:S,shouldSelectAll:h}){const C=_&&!m?n:r;return u=Es()([...u,...Wt.f]),{requests:[C.getBlockPayload(ps,{mailboxId:e,accountId:t,folderId:s,count:a,offset:o,filter:c,sortOrder:i,excludeFolderTypes:u,ids:p,cardConversationIds:m,query:S,fromEmails:d,fromNames:l,listIds:E,shouldSelectAll:h})]}},transformResponses({successMap:e},t){const s=t.offset+t.count,a=e[ps].response.result,o=(t.conversationsMode&&!t.cardConversationIds?n:r).transformResponse({response:{result:us({},a,{messages:ls(a.messages)})}},s,t.folder);return{messageGroupList:o.messageGroups,hasMoreItems:o.hasMore}}};const Ss="GetMessageGroupList",hs="UnseenCountReset";var Cs={getBatchPayload({accountId:e,mailboxId:t,folderId:s,count:a,offset:o,sortOrder:i,filter:c,conversationsMode:l,excludeFolderTypes:d=[],shouldSelectAll:E}){const _=l?n:r;return d=Es()([...d,...Wt.f]),{requests:[_.getBlockPayload(Ss,{accountId:e,mailboxId:t,folderId:s,count:a,offset:o,sortOrder:i,filter:c,excludeFolderTypes:d,shouldSelectAll:E}),es(hs,{mailboxId:t,accountId:e})]}},transformResponses:(e,t)=>ms.transformResponses(e,t),getBatchError:({failureMap:e})=>{const t=Object.keys(e).length,s=e[hs];return s&&1===t?ts(s):t?new Ft.a(T.g,e):null}};const gs=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts`,method:"GET"}),Os=e=>Object(f.b)(e,"response.result.accounts");var Ts=s(312);var As={getBatchPayload:({mailboxId:e,attributes:t=C.Mc})=>({requests:Object.keys(t).map(s=>{const r=t[s];return Ts.a.getBlockPayload("GetMailboxAttribute_"+r,{mailboxId:e,attributeId:r})})}),updateFailureMap:e=>{const t=Object.keys(e).filter(e=>0===e.indexOf("GetMailboxAttribute_"));if(t.length>0){const s=t.map(t=>e[t]),r=t.map(e=>e.replace("GetMailboxAttribute_",""));return Object(A.apiPassiveErrorLogger)({logger:Jt.a,apiName:s[0].id,statusCode:s[0].httpCode,errorCode:Object(f.b)(s[0],"response.error.code",""),ymreqid:Object(f.b)(s[0],"response.error.requestId",""),extraStatusCode:s.map(e=>Object(f.b)(e,"httpCode","")).join(","),extraErrorCode:s.map(e=>Object(f.b)(e,"response.error.code","")).join(","),message:`failed to load attribute values ${r.join(",")}.`}),u()(e,t)}return e},transformResponses:({successMap:e},{attributes:t=C.Mc})=>{let s=t;Array.isArray(t)||(s=Object.keys(t).map(e=>t[e]));const r=s.length,n={};let a=!0;for(let t=0;t<r;t++){const r=e["GetMailboxAttribute_"+s[t]];if(r){const e=Ts.a.transformResponse(r);Object.assign(n,e)}else a=!1}return{responses:n,success:a}}};const Is="GetFolders",fs="GetAccounts";var Ds={getBatchPayload:({mailboxId:e},{appName:t,appId:s})=>{const r=Object.assign({},C.Yb,C.V),n=s&&s.includes(C.f)?C.w:C.Hc;return{requests:[mt(Is,{mailboxId:e}),gs(fs,{mailboxId:e})].concat(As.getBatchPayload({mailboxId:e,attributes:t===C.B.MOBILE_APP?n:r}).requests)}},getBatchError:({failureMap:e})=>{const t=As.updateFailureMap(e);return Object.keys(t)>0?new Ft.a(T.j,t):null},transformResponses:({successMap:e},{appName:t,appId:s})=>{const r=Object.assign({},C.Yb,C.V),n=s&&s.includes(C.f)?C.w:C.Hc,a=As.transformResponses({successMap:e},{attributes:t===C.B.MOBILE_APP?n:r});return{folders:St(e[Is],{appId:s}),accounts:Os(e[fs]),mailboxAttributes:a}}};function Rs(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function bs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Rs(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Rs(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Ns="GetFolders",Ms="GetMessageGroupList",ys="GetAccounts";var Ls={getBatchPayload:({folderId:e="null",count:t,offset:s,sortOrder:a,filter:o,conversationsMode:i,excludeFolderTypes:c=[],mailboxId:l},{appName:d,appId:E})=>{const _=i?n:r,u=E&&E.includes(C.f)?C.w:C.Hc;return c=Es()([...c,...Wt.f]),{requests:[bs({},gs(ys,{mailboxId:l}),{filters:{select:{accountId:"$..accounts[?(((@.isSelected == true) || (true nin $.result.accounts[*].isSelected) && @.isPrimary == true))].id"}},requests:[bs({},mt(Ns,{mailboxId:l}),{filters:{iterator:`$..folders[?((@.id=='${e}' && '${e}' in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && '${e}' nin $.result.folders[*].id))]`,select:{folderId:"@.id"}},requests:[_.getBlockPayload(Ms,{mailboxId:l,folderId:"$(folderId)",sortOrder:a,filter:o,count:t,offset:s,excludeFolderTypes:c})]})]})].concat(As.getBatchPayload({mailboxId:l,attributes:d===C.B.MOBILE_APP?u:C.Yb}).requests)}},transformResponses({successMap:e},t){const s=t.appName,a=t.appId,o=t.offset,i=t.count,c=t.conversationsMode,l=t.ymreqid,d=t.folderId,E=t.mailboxId,_=St(e[Ns],{appId:a}),u=Os(e[ys]),p=o+i,m=c?n:r,S=a&&a.includes(C.f)?C.w:C.Hc,h=As.transformResponses({successMap:e},{attributes:s===C.B.MOBILE_APP?S:C.Yb}),g=e[Ms].response.result.query,O=Object(Wt.g)(g),I=m.transformResponse(e[Ms],p,O),f={accounts:u,folders:_,messageGroups:I.messageGroups,hasMoreItems:I.hasMore,mailboxAttributes:h,folderId:O};if(d&&O!==d){const t=[...e[Ms].headers];t[2]={key:"Status-Code",value:500};const s={[Ms]:{headers:t,httpCode:500,id:Ms,response:{error:{code:"ET-5006",requestId:l,resource:`/ws/v3/mailboxes/@.id==${E}/messages/@.select==q`}}}};return Object(A.apiPassiveErrorLogger)({logger:Jt.a,apiName:Ms,statusCode:0,errorCode:"",message:"failed to load provided folder id"}),bs({},f,{error:new Ft.a(T.j,s)})}return f},getBatchError:({failureMap:e})=>{const t=As.updateFailureMap(e);return Object.keys(t).length?new Ft.a(T.g,t):null}},Ps=s(16),vs=function(e,{mailboxId:t,messageId:s,secure:r=!1,full:n=!0}){let a=`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}/content/simplebody`;return n&&(a+="/full"),r&&(a+="/secure"),{id:e,uri:a,method:"GET",payloadType:"embedded"}},Fs=function(e,t){const s=e.response.result,r=s.message,n=s.simpleBody,a=Yt(r),o=a.attachments,i=a.headers,c=a.csid,l=a.id,d=a.inReplyTo,E=a.downloadAllUrl;return r.headers=i,r.inReplyTo=d,r.id=l,r.attachments=o,r.downloadAllUrl=E,{id:l,body:Object(Ps.transformSimpleBody)(n),message:r,metadata:{attachments:o,headers:i,csid:c,inReplyTo:d,downloadAllUrl:E}}},Us={getBlockPayload:(e,{mailboxId:t,messageId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}`,method:"GET"}),transformResponse:(e,t)=>Yt(e.response.result.message)};const ws="GetFolders",Gs="GetAccounts",Hs="GetSimpleBody",js="GetMessage";var ks={getBatchPayload:({messageId:e,mailboxId:t},{appName:s,appId:r})=>{const n=r&&r.includes(C.f)?C.w:C.Hc;return{requests:[Us.getBlockPayload(js,{mailboxId:t,messageId:e}),vs(Hs,{mailboxId:t,messageId:e,full:!0}),mt(ws,{mailboxId:t}),gs(Gs,{mailboxId:t})].concat(As.getBatchPayload({mailboxId:t,attributes:s===C.B.MOBILE_APP?n:C.Yb}).requests)}},transformResponses:({successMap:e},{appName:t,appId:s})=>{const r=Fs(e[Hs]),n=r.id,a=r.body,o=r.metadata,i=s&&s.includes(C.f)?C.w:C.Hc,c=As.transformResponses({successMap:e},{attributes:t===C.B.MOBILE_APP?i:C.Yb}),l=Object.assign(Us.transformResponse(e[js]),{attachments:o.attachments});return{folders:St(e[ws],{appId:s}),accounts:Os(e[Gs]),message:l,messageBodiesMap:{[n]:a},messageMetadataMap:{[n]:o},mailboxAttributes:c}}};function xs(e,{mailboxId:t,csid:s}){let r=encodeURIComponent(`csid:${s} folderType:DRAFT`);return r+=`${Wt.e}-sort${Wt.c}date`,{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${r}`,method:"GET"}}const Bs="GetFolders",Vs="GetAccounts",Ws="GetSimpleBody",Ks="GetMessageByCsid";var qs={getBatchPayload:function({csid:e,mailboxId:t},{appName:s,appId:r}){const n=Object.assign({},C.Yb,C.V),a=r&&r.includes(C.f)?C.w:C.Hc;return{requests:[Object.assign({},xs(Ks,{mailboxId:t,csid:e}),{filters:{select:{messageId:"$..messages[0].id"}},requests:[vs(Ws,{mailboxId:t,messageId:"$(messageId)",full:!0,secure:!1})]}),mt(Bs,{mailboxId:t}),gs(Vs,{mailboxId:t})].concat(As.getBatchPayload({mailboxId:t,attributes:s===C.B.MOBILE_APP?a:n}).requests)}},transformResponses:function({successMap:e},{appName:t,appId:s}){const r=Object.assign({},C.Yb,C.V),n=s&&s.includes(C.f)?C.w:C.Hc,a={mailboxAttributes:As.transformResponses({successMap:e},{attributes:t===C.B.MOBILE_APP?n:r}),folders:St(e[Bs],{appId:s}),accounts:Os(e[Vs])};if(e[Ws]){const t=Fs(e[Ws]),s=t.id;Object.assign(a,{message:t.message,messageBodiesMap:{[s]:t.body},messageMetadataMap:{[s]:t.metadata}})}return a},getBatchError:function({successMap:e,failureMap:t}){const s=As.updateFailureMap(t),r=new Ft.a("MailApiClient.LaunchCompose",s);if(s[Ks])return r;let n=0;const a=e[Ks];a&&(n=a.response.result.messages.length);if(s[Ws]&&n>0)return r;if(s[Bs]||s[Vs])return r;return null}};var Ys={getBlockPayload(e,{mailboxId:t,messageGroupId:s,isConversation:r,excludeFolderTypes:n=[]}){Object(h.a)(t,"mailboxId is a required field"),Object(h.a)(s,"messageGroupId is required");const a=encodeURIComponent(s);let o=r?`conversationId:(${a})`:`id:(${a})`;return o+=n.length?Wt.e+encodeURIComponent(n.map(e=>`-folderType:(${e})`).join("")):"",{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${o}`,method:"GET",payloadType:"embedded"}},transformResponse(e,t){const s=t.isConversation,r=e.response.result.messages.map(e=>Yt(e)).reverse();return{messageGroup:{id:s?r[0].conversationId:r[0].id,messages:r}}}};function zs(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Qs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?zs(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zs(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Zs="GetFolders",Xs="GetConversationMessageGroup",$s="GetAccounts",Js="GetSimpleBody",er="GetMessage",tr="GetMessageGroupList",sr="OnEmpty",rr="OnEmpty",nr="OnFailure";var ar={getBatchPayload:({isConversation:e,messageGroupId:t,folderId:s,count:a,offset:o,sortOrder:i,filter:c,excludeFolderTypes:l=[],secure:d=!1,mailboxId:E},{appName:_,appId:u})=>{const p=[],m=((e,t,s,a)=>o=>Qs({},gs($s,{mailboxId:a}),{id:$s+o,filters:{select:{accountId:"$..accounts[?(((@.isSelected == true) || (true nin $.result.accounts[*].isSelected) && @.isPrimary == true))].id"}},requests:[Qs({},mt(Zs,{mailboxId:a}),{filters:{iterator:`$..folders[?((@.id==${e} && ${e} in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && ${e} nin $.result.folders[*].id))]`,select:{folderId:"@.id"}},id:Zs+o,requests:[Qs({},(t?n:r).getBlockPayload(tr,Qs({mailboxId:a,folderId:"$(folderId)"},s)),{id:tr+o})]})]}))(s,e,{sortOrder:i,filter:c,count:a,offset:o,excludeFolderTypes:l=Es()([...l,...Wt.f])},E),S=u&&u.includes(C.f)?C.w:C.Hc;return e?p.push(Object.assign({},Ys.getBlockPayload(Xs,{mailboxId:E,messageGroupId:t,isConversation:e,excludeFolderTypes:l}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"},exportResponse:!0},suppressResponse:!1,requests:[vs(Js+"_$(id)",{mailboxId:E,messageId:"$(id)",full:!0,secure:d})]},{onEmpty:{id:sr,suppressResponse:!1,applyFilterOn:`$(${Xs})`,requests:[m(rr)]},onFailure:m(nr)})):(p.push(Object.assign({},Us.getBlockPayload(er,{mailboxId:E,messageId:t}),{onFailure:m(nr)})),p.push(Object.assign({},vs(Js+"_"+t,{mailboxId:E,messageId:t,full:!0,secure:d})))),{requests:[...p,mt(Zs,{mailboxId:E}),gs($s,{mailboxId:E})].concat(As.getBatchPayload({mailboxId:E,attributes:_===C.B.MOBILE_APP?S:C.Yb}).requests)}},transformResponses:({successMap:e,failureMap:t},s)=>{const a=s.isConversation,o=s.messageGroupId,i=s.offset,c=s.count,l=s.appName,d=s.appId,E=d&&d.includes(C.f)?C.w:C.Hc,_=As.transformResponses({successMap:e},{attributes:l===C.B.MOBILE_APP?E:C.Yb}),u={folders:St(e[Zs],{appId:d}),accounts:Os(e[$s]),mailboxAttributes:_},p=a?n:r,m=e[tr+rr]||e[tr+nr];if(m){const e=i+c,s=m.response.result.query,r=Object(Wt.g)(s),n=p.transformResponse(m,e,r);return Qs({},u,{messageGroupList:n.messageGroups,hasMoreItems:n.hasMore,folderId:r,error:new Ft.a(T.j,t)})}const S=a?(e=>Ys.transformResponse(e[Xs],{isConversation:!0}).messageGroup)(e):((e,t)=>({id:t,messages:[Us.transformResponse(e[er])]}))(e,o),h={},g={};return S.messages.forEach(t=>{const s=Fs(e[Js+"_"+t.id]);h[t.id]=s.body,g[t.id]=s.metadata}),Qs({},u,{messageGroups:[S],messageBodiesMap:h,messageMetadataMap:g})},getBatchError:({failureMap:e},{isConversation:t})=>{const s=As.updateFailureMap(e);if(0===Object.keys(s).length)return null;const r=t?s[Xs]:s[er];if(r&&r.response&&r.response.error){const e=r.response.error.code;if(["EC-4001","ET-5005","ET-5006"].indexOf(e)>=0)return Object(A.apiPassiveErrorLogger)({logger:Jt.a,apiName:r.id,statusCode:r.httpCode,errorCode:e,message:"failed to load provided message/conversation id"}),null}return new Ft.a(T.j,s)}},or=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/alerts`,method:"GET"}),ir=e=>{if(!e)return[];const t=e.response.result.alerts;let s=[];return Array.isArray(t)&&(s=t.map(e=>({id:e.id,accountId:e.accountId,type:e.type,state:e.state,data:e.data}))),s},cr=e=>{if(e){const t=e.response;Jt.a.feature(C.z.MailAPIClient,{data:{apiName:e.id,errorCode:t&&t.error&&t.error.code,httpCode:e.httpCode}}).logFailure()}return null};function lr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const dr="UnseenCountReset",Er="GetAccountAlerts",_r="GetMessagesByGroup";var ur={getBatchPayload({accountId:e,mailboxId:t,cardConversationId:s=""}){const r={requests:[es(dr,{mailboxId:t,accountId:e}),or(Er,{mailboxId:t})]};return s&&r.requests.push(Qt(_r,{mailboxId:t,offset:0,count:50,cardConversationIds:[s],encodeCardConversationId:!1})),r},transformResponses({successMap:e}){const t={accountAlerts:ir(e[Er])};if(e[_r]){const s=Zt(e[_r]).messageGroups.filter(e=>e.messages.some(e=>e.decos&&e.decos.some(e=>e&&e.id===C.Cc.CRD))).map(e=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?lr(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lr(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{id:e.messages[0].cardConversationId}));t.cardGroupList=s}return t},getBatchError:({failureMap:e})=>{const t=e[dr],s=e[Er],r=e[_r];return t&&ts(t),s&&cr(s),r?new Ft.a(T.g,e):null}};function pr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const mr="GetConversationMessageGroup",Sr="GetSimpleBody",hr="GetMessagesByGroup";var Cr={getBatchPayload:({messageGroupId:e,mailboxId:t,isConversation:s,secure:r,full:n,cardConversationIds:a})=>{const o=[];return o.push(Object.assign({},Ys.getBlockPayload(mr,{mailboxId:t,messageGroupId:e,isConversation:s}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"}},requests:[vs(Sr+"_$(id)",{mailboxId:t,messageId:"$(id)",full:n,secure:r})]})),a&&a.length>0&&o.push(Object.assign({},Qt(hr,{mailboxId:t,offset:0,count:50,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:a}))),{requests:o}},transformResponses:({successMap:e},{isConversation:t})=>{const s={};let r;const n=Ys.transformResponse(e[mr],{isConversation:t}).messageGroup;return n.messages.forEach(t=>{const r=Fs(e[Sr+"_"+t.id]);s[t.id]=r.body,Object.assign(t.headers,r.metadata.headers),t.attachments=r.message.attachments||[]}),Object.keys(e).forEach(t=>{if(-1!==t.indexOf(hr)){const s=Zt(e[t]).messageGroups.filter(e=>{const t=w()(e.messages,1)[0],s=void 0===t?{decos:[]}:t,r=s.decos.map(e=>e.id).filter(e=>"CPN"===e||"CRD"===e);return s&&r.length>=2}).map(e=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?pr(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pr(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{id:e.messages[0].cardConversationId}));r={[C.ac.COUPON_CARDS]:{[C.bc.ALL_COUPON_CARDS]:{items:s}}}}}),{messageGroup:n,messageBodiesMap:s,response:r}}};const gr="GetMessageCardsList";var Or={getBatchPayload:({mailboxId:e,filter:t,count:s,offset:r,sortOrder:a,startCardDate:o,endCardDate:i,accountId:c,excludeFolderTypes:l})=>({requests:[n.getBlockPayload(gr,{mailboxId:e,count:s,offset:r,filter:t,sortOrder:a,startCardDate:o,endCardDate:i,accountId:c,excludeFolderTypes:l,groupBy:"cardConversationId"})]}),transformResponses({successMap:e},t){const s=$t(e[gr]),r=s.hasMore;return{cardGroupList:s.messageGroups.filter(({messages:e})=>e.some(({decos:e=[]})=>e.some(({id:e})=>"EML"===e))),hasMoreItems:r}}};function Tr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ar(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Tr(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Tr(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ir={getBatchPayload:({mailboxId:e,cardConversationId:t=""})=>{let s;return""!==t&&(s=Qt("GetParentMessageByGroup",{mailboxId:e,offset:0,count:1,cardConversationIds:[t]})),{requests:[s]}},transformResponses:e=>{const t=e.successMap;return t.GetParentMessageByGroup?t.GetParentMessageByGroup.response.result.messages.filter(({decos:e=[]}={})=>e.some(({id:e=""})=>e===C.Cc.EML)).map(e=>{let t=e.id;return{id:t,messages:[Ar({id:t},b()(e,["id"]))]}}):[]}};const fr="GetConsolidatedCouponsList";var Dr={getBatchPayload:({mailboxId:e,filter:t=[],count:s,offset:r=[],sortOrder:n=C.vd,startCardDate:a,endCardDate:o,accountId:i})=>({requests:t.map((t,c)=>Qt(`${fr}_${t}`,{mailboxId:e,count:s,offset:r[c],filter:t,sortOrder:n,startCardDate:a,endCardDate:o,accountId:i}))}),transformResponses:({successMap:e},t)=>{const s=t.offset,r=t.count,n=t.filter,a=[];return Object.keys(e).forEach(t=>{if(-1!==t.indexOf(fr)){const o=Zt(e[t]).messageGroups,i=t.replace(fr+"_",""),c=n.indexOf(i),l=s[c],d=o.length===r,E=o.length<r?l+o.length:l+r,_=o.filter(({messages:[{headers:{subject:e="",from:[{email:t,name:s}={}]=[]}={}}={}]=[]}={})=>e&&t&&s);a.push({cardGroupList:_,hasMoreItems:d,filter:i,offset:d?E:""})}}),{messageGroupsResponses:a}}};const Rr="GetReceiptsList";var br={getBatchPayload:({mailboxId:e,filter:t,count:s,offset:r,sortOrder:n=C.Yd.CARD_DATE_DESC,accountId:a})=>({requests:Qt(Rr,{mailboxId:e,count:s,offset:r,filter:t,sortOrder:n,accountId:a})}),transformResponses:({successMap:e},t)=>{const s=t.count,r=t.offset,n=Zt(e[Rr]),a=n.messageGroups.length<s?r+n.messageGroups.length:r+s,o=n.messageGroups,i=n.messageGroups.filter(({messages:[{headers:{from:[{email:e,name:t}={}]=[]}={}}={}]=[]}={})=>e&&t),c=o.length===s;return{cardGroupList:i,hasMoreItems:c,offset:c?a:""}}};const Nr="GetMessageGroupList";var Mr={getBatchPayload:({accountId:e,mailboxId:t,ids:s=[]})=>({requests:[Qt(Nr,{accountId:e,mailboxId:t,ids:s,count:s.length,offset:0})]}),transformResponses:(e,t)=>ms.transformResponses(e,t),getBatchError:({failureMap:e})=>Object.keys(e).length?new Ft.a(T.g,e):null},yr={getNakedRequestUrl:(e,t)=>`${Object(Wt.i)(e,t.appid)}://${e}/ws/v3/mailboxes/?${m.a.stringify(t)}`,getBlockPayload:e=>({id:e,uri:"/ws/v3/mailboxes",method:"GET",payloadType:"embedded"}),getMailboxFilters:()=>({select:{mailboxId:"$..mailboxes[?(@.isSelected==true)].id"}}),transformResponse:e=>e.response.result.mailboxes.map(Lr)};function Lr(e){return{id:e.id,email:e.email,isPrimary:e.isPrimary,isSelected:e.isSelected,type:e.type,state:e.state}}const Pr="GetMailboxes";var vr={getBatchPayload:()=>({requests:[yr.getBlockPayload(Pr)]}),transformResponses:({successMap:e})=>yr.transformResponse(e[Pr])};const Fr="GetFolders";var Ur={getBatchPayload:({mailboxId:e})=>({requests:mt(Fr,{mailboxId:e})}),transformResponses:({successMap:e},{appId:t})=>({folders:St(e[Fr],{appId:t})})};const wr=(e,t)=>{const s=t.folderId;return{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts/@.id==${t.accountId}/syncnow`,method:"POST",payload:s?{folder:{id:s}}:{}}},Gr=e=>{if(e){const t=e.response;Jt.a.feature(C.z.MailAPIClient,{data:{apiName:e.id,errorCode:t&&t.error&&t.error.code,httpCode:e.httpCode}}).logFailure()}return null},Hr=e=>e.response.result,jr="SyncNow";var kr={getBatchPayload:({accountId:e,folderId:t,mailboxId:s})=>({requests:[wr(jr,{accountId:e,folderId:t,mailboxId:s})]}),getBatchError:({failureMap:e})=>{const t=e[jr];return t?Gr(t):null},transformResponses({successMap:e,failureMap:t}){let s={};const r=e[jr];return r?s=Hr(r):s.error=new Ft.a(T.j,t),s}};function xr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Br(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?xr(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xr(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Vr="GetMailboxes",Wr="GetAccounts";var Kr={getBatchPayload:()=>({requests:[Object.assign({},yr.getBlockPayload(Vr),{filters:yr.getMailboxFilters(),requests:[Br({},gs(Wr,{mailboxId:"$(mailboxId)"}))]})]}),transformResponses:({successMap:e})=>({accounts:Os(e[Wr])})};const qr="GetMailboxes",Yr="GetMessage";var zr={getBatchPayload:({messageId:e})=>({requests:[Object.assign({},yr.getBlockPayload(qr),{filters:yr.getMailboxFilters(),requests:[Us.getBlockPayload(Yr,{mailboxId:"$(mailboxId)",messageId:e})]})]}),transformResponses:({successMap:e})=>({message:Us.transformResponse(e[Yr])})};const Qr="GetMessagesByGroup";var Zr={getBatchPayload:({mailboxId:e,cardConversationIds:t=[],offset:s=0,count:r=200})=>{let n;if(t.length>0){n=Qt(Qr+"_0",{mailboxId:e,offset:s,count:r,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:t})}return{requests:[n]}},transformResponses:e=>{const t=e.successMap;let s=[];return Object.keys(t).forEach(e=>{-1!==e.indexOf("GetMessagesByGroup")&&(s=t[e].response.result.messages)}),{result:{extractedMessagesList:s}}}};const Xr="GetSimpleBody",$r="GetMessageByCsid";var Jr={getBatchPayload:({mailboxId:e,messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:r=[],full:n,secure:a})=>{const o=t.map((t,s)=>vs(Xr+"_"+s,{mailboxId:e,messageId:t,full:n,secure:a})),i=s.map((s,r)=>vs(Xr+"_"+(r+t.length),{mailboxId:e,messageId:s,full:!0,secure:!1})),c=r.map((r,n)=>{const a=Xr+"_"+(n+t.length+s.length);return Object.assign({},xs($r+"_"+(n+t.length+s.length),{mailboxId:e,csid:r}),{filters:{select:{messageId:"$..messages[0].id"}},requests:[vs(a,{mailboxId:e,messageId:"$(messageId)",full:!0,secure:!1})]})});return{requests:o.concat(i,c)}},transformResponses:(e,{messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:r=[]})=>{const n=e.successMap,a={},o={},i=[],c=t.concat(s,r),l={},d=[];return c.forEach(e=>{l[e]=!1}),Object.keys(n).forEach(e=>{if(0===e.indexOf(Xr)){const t=Fs(n[e]);a[t.id]=t.body,o[t.id]=t.metadata,l[t.id]=!0,i.push({id:t.id,messages:[t.message]}),t.metadata.csid&&(l[t.metadata.csid]=!0)}}),c.forEach(e=>{l[e]||d.push(e)}),{result:{messageBodiesMap:a,messageMetadataMap:o,messageGroups:i},error:{messageIds:d}}},getBatchError:({failureMap:e},{messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:r=[]})=>Object.keys(e).length!==t.concat(s,r).length?null:new Ft.a("All requests in method `getBodies` failed",e)},en={getBatchPayload:({mailboxId:e,csid:t,full:s,secure:r})=>Jr.getBatchPayload({mailboxId:e,draftMessageCsids:[t],full:s,secure:r}),transformResponses:(e,{csid:t})=>{const s=Jr.transformResponses(e,{draftMessageCsids:[t]}).result;return{messageBodiesMap:s.messageBodiesMap,messageMetadataMap:s.messageMetadataMap,messageGroup:s.messageGroups[0]}},getBatchError:(e,{csid:t})=>Jr.transformResponses(e,{draftMessageCsids:[t]}).error.messageIds.length?new Ft.a("Request for csid failed",e.failureMap):null};function tn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function sn(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?tn(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tn(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const rn="GetSimpleBody",nn="GetMessagesByGroup";var an={getBatchPayload:({mailboxId:e,messageIds:t=[],draftMessageIds:s=[],cardConversationIds:r=[],full:n,secure:a})=>{const o=t.map((t,s)=>vs(rn+"_"+s,{mailboxId:e,messageId:t,full:n,secure:a})),i=s.map((s,r)=>vs(rn+"_"+(r+t.length),{mailboxId:e,messageId:s,full:!0,secure:!1})),c=[];if(r.length>0){const t=Qt(nn+"_0",{mailboxId:e,offset:0,count:50,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:r});c.push(t)}return{requests:o.concat(i).concat(c)}},transformResponses:(e,{messageIds:t=[],draftMessageIds:s=[]})=>{const r=e.successMap,n={},a={},o=t.concat(s);let i=[];const c={},l=[];o.forEach(e=>{c[e]=!1}),Object.keys(r).forEach(e=>{if(-1!==e.indexOf("GetSimpleBody")){const t=Fs(r[e]);n[t.id]=t.body,a[t.id]=t.metadata,c[t.id]=!0}else if(-1!==e.indexOf("GetMessagesByGroup")){const t=Zt(r[e]);i=t.messageGroups}});const d=i.filter(e=>{const t=w()(e.messages,1)[0],s=void 0===t?{decos:[]}:t,r=s.decos.map(e=>e.id).filter(e=>"CPN"===e||"CRD"===e);return s&&r.length>=2}).map(e=>sn({},e,{id:e.messages[0].cardConversationId}));o.forEach(e=>{c[e]||l.push(e)});const E=i.filter(e=>{const t=w()(e.messages,1)[0],s=void 0===t?{decos:[]}:t,r=s.decos.filter(({id:e=""})=>"POE"===e||"ORD"===e||"CRD"===e);return s&&r.length>=3}).map(e=>sn({},e,{id:e.messages[0].cardConversationId})),_=i.filter(e=>{const t=w()(e.messages,1)[0],s=void 0===t?{decos:[]}:t,r=s.decos.filter(({id:e=""})=>"ORD"===e||"CRD"===e);return s&&r.length>=2}).map(e=>sn({},e,{id:e.messages[0].cardConversationId})),u=i.filter(e=>{const t=w()(e.messages,1)[0],s=void 0===t?{schemaCards:[]}:t,r=s.schemaCards&&s.schemaCards.filter(({type:e=""})=>"Recommendation"===e);return s&&r&&r.length>0}).map(e=>sn({},e,{id:e.messages[0].cardConversationId})),p=i.filter(e=>{const t=w()(e.messages,1)[0],s=void 0===t?{decos:[]}:t,r=s.decos.map(e=>e.id).filter(e=>"PKG"===e);return s&&r.length>0}).map(e=>sn({},e,{id:e.messages[0].cardConversationId}));return{result:{messageBodiesMap:n,messageMetadataMap:a,response:{[C.ac.COUPON_CARDS]:{[C.bc.ALL_COUPON_CARDS]:{items:d}},[C.ac.REFUND_CARDS]:{[C.bc.ALL_REFUND_CARDS]:{items:E}},[C.ac.RECEIPT_CARDS]:{[C.bc.ALL_RECEIPT_CARDS]:{items:_}},[C.ac.RECOMMENDATION_CARDS]:{[C.bc.ALL_DEAL_RECOMMENDATION_CARDS]:{items:u}},[C.ac.PKG_TRACKING_CARD]:{[C.bc.ALL_PKG_TRACKING_CARD]:{items:p}}}},error:{messageIds:l}}},getBatchError:({failureMap:e},{messageIds:t=[],draftMessageIds:s=[],cardConversationIds:r=[]})=>Object.keys(e).length!==t.concat(s).concat(r).length?null:new Ft.a("All requests in method `getExtractedBodies` failed",e)},on=s(77),cn=s(55);const ln={spam:"false",read:"true"};var dn={getBlockPayload:(e,{mailboxId:t,csid:s,inReplyTo:r,subject:n,to:a,cc:o,bcc:i,from:c,replyTo:l,html:d,text:E,attachments:_=[],files:u=[],folderId:p})=>{const m={partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{csid:s,newMessage:!r,headers:{subject:n,from:c,replyTo:l||c,to:un(a),cc:un(o),bcc:un(i)},folder:{id:p},flags:ln,inReplyTo:r},simpleBody:{attachments:_n(_.filter(({disposition:e,type:t,contentId:s})=>!(!s&&e===C.F.Dispositions.INLINE&&t===C.F.Types.TEXT)))}}};return d?m.payload.simpleBody.html=d:m.payload.simpleBody.text=E,m.inReplyTo||delete m.inReplyTo,{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages?uploadCount=${u.length}&totalAttachments=${_.length}`,method:"POST",payloadType:"multipart",payloadParts:[m].concat(En(u))}},transformResponse({response:e}){const t=Object(Ps.transformSimpleBody)(e.result.simpleBody),s=Yt(e.result.message);return s.attachments=Object(cn.s)(s,s.attachments,!1),{message:s,simpleBody:u()(t,"attachments")}}};function En(e){return e.map(({mimeType:e,name:t})=>({contentType:e,partName:encodeURIComponent(t),payloadReference:"multipart://"+encodeURIComponent(t)}))}function _n(e){return e.map(({contentId:e,filename:t,disposition:s,messageReference:r})=>{const n={disposition:s,contentId:e};return r?n.messageReference=r:n.multipartName="multipart://"+encodeURIComponent(t),n})}function un(e){return(e=Object(on.makeArray)(e)).map((function(e){return"string"==typeof e.email&&(e.email=e.email.trim()),e})).filter((function(e){return Object(Ps.isValidEmail)(e.email)}))}function pn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const mn="SaveMessage";var Sn={getBatchPayload:e=>({requests:[Object.assign(dn.getBlockPayload(mn,e),{filters:{select:{cid:"$..message.conversationId"}}})]}),transformResponses:({successMap:e},t)=>{const s=dn.transformResponse(e[mn],t);return{message:s.message,simpleBody:s.simpleBody}},getBatchError({successMap:e,failureMap:t}){const s=e[mn];if(s){if("ES-2001"===Object(f.b)(s,"response.error.code",null))return new Ft.a("MailApiClient.Save",Object.keys(e).reduce((t,s)=>{const r=e[s],n=r.response.error;return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?pn(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pn(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{[s]:{httpCode:r.httpCode,response:{error:void 0===n?{}:n}}})},{}),!1)}return Object.keys(t).length>0?new Ft.a("MailApiClient.Save",t):null}},hn=(e,{mailboxId:t,messageId:s,csid:r,folderId:n})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}/send`,method:"POST",payloadType:"embedded",payload:{csid:r,destinationFolder:{id:n}}}),Cn=({response:e})=>e.result.message;function gn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const On="SaveMessage",Tn="SendMessage",An="GetSimpleBody",In="UpdateMessages";var fn={getBatchPayload:e=>{const t=e.mailboxId,s=e.sentFolderId,r=e.secure,n=e.inReplyTo,a=void 0===n?{}:n,o=e.messageId,i=e.csid,c=a.messageReference,l=(void 0===c?{}:c).id,d=a.replied,E=a.forwarded,_=o&&i,u=hn(Tn,_?{mailboxId:t,messageId:o,csid:i,folderId:s}:{mailboxId:t,folderId:s,messageId:"$(messageId)",csid:"$(csid)"});return u.requests=[],(d||E)&&u.requests.push(kt.getBlockPayload(In,{mailboxId:t,messageIds:[l],flags:{answered:!!d,forwarded:!!E},isAsync:!0})),_?{requests:[u]}:{requests:[Object.assign(dn.getBlockPayload(On,e),{filters:{select:{messageId:"$..message.immutableid",csid:"$..message.csid",cid:"$..message.conversationId"}},requests:[vs(An,{mailboxId:t,messageId:"$(messageId)",secure:r,full:!0}),u]})]}},transformResponses:({successMap:e},t={})=>{const s=e[An];if(!s)return{message:Cn(e[Tn])};const r=Fs(s),n=r.body,a=r.message,o=e[On],i=o?dn.transformResponse(o,t).message:a;if(e[Tn]){const s=Cn(e[Tn],t);i.id=s.id}return{message:i,simpleBody:n}},getBatchError:({failureMap:e,successMap:t})=>{const s=t[On];if(!Object.keys(e).length&&Object.keys(t).length){if(s){if("ES-2001"===Object(f.b)(s,"response.error.code",null))return new Ft.a("MailApiClient.SaveAndSend",Object.keys(t).reduce((e,s)=>{const r=t[s],n=r.response,a=(void 0===n?{}:n).error;return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?gn(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gn(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{[s]:{httpCode:r.httpCode,response:{error:void 0===a?{}:a}}})},{}),!1)}return null}if(s){const t=Object(f.b)(s,"response.result.message",null);if(t&&"C"===t.spame)return null;if(t&&"N"===t.spame&&e[Tn])return new Ft.a("MailApiClient.SaveAndSend",e,!1,{spame:!0})}return new Ft.a("MailApiClient.SaveAndSend",e)}},Dn=(e,t)=>{const s=t.messageId,r=t.mailboxId,n=t.decos;if(Object(f.c)(n)||!s)throw new Error("POST Update Message decos requires a list of non empty messageId and deco attributes.");return{id:e,uri:`/ws/v3/mailboxes/@.id==${r}/messages/@.id==${s}`,method:"POST",payload:{message:{decos:n}}}};const Rn="UpdateMessageDecos";var bn={getBatchPayload:({mailboxId:e,messageDecosPayloads:t=[]})=>({requests:t.map((t,s)=>Dn(Rn+"_"+s,{mailboxId:e,messageId:t.messageId,decos:t.decos}))}),getBatchError:({successMap:e,failureMap:t})=>Object.keys(e).length?null:new Ft.a("All requests in method `messages.updateDecos` failed.",t),transformResponses:()=>1};const Nn=["sendercompromised","answered","forwarded","notmymail","phished","spam","flagged","read","recent"];class Mn{constructor(){this.payload={message:{}}}flag(e,t){Object(h.a)(Nn.indexOf(e)>=0,"name must be a valid flag"),this.payload.message.flags||(this.payload.message.flags={}),this.payload.message.flags[e]=t}folder(e){this.payload.message.folder||(this.payload.message.folder={}),this.payload.message.folder.id=e}}function yn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ln(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?yn(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yn(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Pn={UnifiedUpdateMessage:"UnifiedUpdateMessage",UnifiedDeleteMessage:"UnifiedDeleteMessage"};function vn(e){const t={};for(const s of e){const e=s.messageId,r=s.folder,n=s.accountId,a=s.flags,o=s.permanentDelete,i=s.updateTypes,c=s.messageQuery,l=s.deleteDuplicates,d=o?{permanentDelete:!0}:new Mn;if(o)Object(h.a)(i.indexOf(C.Gc.DELETE)>=0||i.indexOf(C.Gc.MOVE)>=0,"updateTypes DELETE or MOVE is required for permanentDelete");else for(const e of i)switch(e){case C.Gc.READ:Object(h.a)(void 0!==a.read,"flags.read is required for operation "+e),d.flag("read",a.read);break;case C.Gc.RECENT:Object(h.a)(void 0!==a.recent,"flags.recent is required for operation "+e),d.flag("recent",a.recent);break;case C.Gc.STAR:Object(h.a)(void 0!==a.flagged,"flags.flagged is required for operation "+e),d.flag("flagged",a.flagged);break;case C.Gc.ANSWER:Object(h.a)(void 0!==a.answered,"flags.answered is required for operation "+e),d.flag("answered",a.answered);break;case C.Gc.FORWARD:Object(h.a)(void 0!==a.forwarded,"flags.forwarded is required for operation "+e),d.flag("forwarded",a.forwarded);break;case C.Gc.SPAM:case C.Gc.HAM:Object(h.a)(r.id,"folder.id is required for operation "+e),d.flag("spam",!!a.spam),d.folder(r.id);break;case C.Gc.MOVE:case C.Gc.DELETE:Object(h.a)(r.id,"folder.id is required for operation "+e),d.folder(r.id)}const E=Object(Ps.getHash)(d,n,c,l);t[E]?t[E].messages.push(e):t[E]={payload:o?void 0:d.payload,messages:[e],messageQuery:c,batchId:o?Pn.UnifiedDeleteMessage:Pn.UnifiedUpdateMessage,getBlockPayload:o?Ut.getBlockPayload:kt.getBlockPayload,deleteDuplicates:l}}return Object(f.h)(t)}function Fn(e){const t=[e=>e.batchId===Pn.UnifiedDeleteMessage?0:1,e=>e.messageQuery?1:0,e=>e.messageQuery?0:e.messages.length];e.sort((function(e,s){for(let r=0;r<t.length;r++){const n=t[r],a=n(e)-n(s);if(0!==a)return a}return 0}))}function Un(e,t=350){const s=[];for(let r=0;r<e.length;r++){const n=e[r];n.messages&&!n.messageQuery&&(n.messages.length>t&&s.push(r))}for(let r=0;r<s.length;r++){const s=e[r],n=s.messages,a=[];for(let e=0;e<n.length;e+=t){const r=n.slice(e,e+t);a.push(Ln({},s,{isAsync:!1,messages:r}))}e.splice(r,1,...a)}}function wn(e,t,s=3){if(t)for(let t=e.length-1;t>=0;t--)s>0?(e[t].isAsync=!0,s--):e[t].isAsync=!1}function Gn(e){return e.reduce((e,t)=>[Ln({},t,{},e.length&&{requests:e})],[])}const Hn=({successMap:e,failureMap:t})=>{let s=!0,r=!1;const n=Object.keys(e).length,a=Object(f.h)(t).reduce((e,t)=>{if(t.id.indexOf(Pn.UnifiedDeleteMessage)>=0){return Ut.getBatchError({failureMap:{DeleteMessages:t}})?e+1:e}return"EC-4007"===kt.getBatchError({failureMap:{UpdateMessages:t}}).errorCode&&(r=!0),e+1},0),o=Object(f.h)(e).reduce((e,t)=>{const s=Object(f.b)(t,"response.result.task");return s&&e.push(s),e},[]);return o.length>0?s=C.Fc.ASYNC:0===n&&a>0?s=C.Fc.FAIL:n>0&&a>0?s=C.Fc.PARTIAL:0===a&&(s=C.Fc.SUCCESS),{successType:s,tasks:o,shouldCheckMessageStatus:r,failureMap:t}};var jn={REQUEST_IDS:Pn,_testFn:{serializeBlockPayload:Gn,limitMaxAsyncRequests:wn,limitMidsPerRequest:Un,prioritizeRequests:Fn,transformToDistinctRequests:vn},getBatchPayload:e=>{const t=e.mailboxId,s=e.isAsync,r=function(e,t){return Un(e,350),Fn(e),wn(e,t,3),e}(vn(e.messageItemsToSync),s);return{requests:Gn(r.map((e,r)=>e.getBlockPayload(`${e.batchId}_${r}`,{mailboxId:t,messageIds:e.messageQuery?void 0:e.messages,query:e.messageQuery,payload:e.payload,isAsync:void 0===e.isAsync?s:e.isAsync,deleteDuplicates:e.deleteDuplicates})))}},transformResponses:({successMap:e,failureMap:t})=>Hn({successMap:e,failureMap:t}),getBatchError:({successMap:e,failureMap:t})=>{const s=Hn({successMap:e,failureMap:t});return s.successType!==C.Fc.FAIL||s.shouldCheckMessageStatus?null:new Ft.a("All requests in method `messages.update` failed.",t)}},kn={getBlockPayload(e,{mailboxId:t,messages:s,folder:r}){const n=[],a=s.map(e=>`"${e.messageId}@${e.modSeq}"`).join(" ");n.push("queryTokenState:"+r.highestModSeq),n.push("folderId:"+r.id),n.push(`messageState:(${a})`),n.push("count:"+s.length);return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${encodeURIComponent(n.join(" "))}`,method:"GET"}},transformResponse:e=>({deletedMessages:Object(f.b)(e,"response.result.messages",[]).filter(e=>Object(f.b)(e,"flags.stateDeleted",!1))})};const xn="GetDeletedMessages";var Bn={_setMessageUpdateFailureMap(e){this.messageUpdateFailureMap=e},_getMessageUpdateFailureMap(){return this.messageUpdateFailureMap},_setMessages(e){this.messages=e},_getMessages(){return this.messages},getBatchPayload({mailboxId:e,messages:t=[],folder:s={},messageUpdateFailureMap:r={}}){return this._setMessageUpdateFailureMap(r),this._setMessages(t),{requests:[kn.getBlockPayload(xn,{mailboxId:e,messages:t,folder:s})]}},getBatchError:({failureMap:e})=>Object.keys(e).length?new Ft.a("All requests in method `messages.getWindowDiff` failed.",e):null,transformResponses(e){const t=kn.transformResponse(e.successMap[xn]).deletedMessages,s=void 0===t?[]:t,r=this._getMessageUpdateFailureMap();return this._getMessages().length!==s.length?new Ft.a(T.j,r):{deletedMessages:s}}};const Vn=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/messages/@.id==${t.messageId}/content/rawplaintext`,method:"GET"}),Wn=e=>e.responseString,Kn="GetRawMessage";var qn={getBatchPayload:({mailboxId:e,messageId:t})=>({requests:[Vn(Kn,{mailboxId:e,messageId:t})]}),transformResponses:({successMap:e})=>Wn(e[Kn])};const Yn={read:!1,spam:!1,ham:!0};var zn=(e,t,{mailboxId:s,folderId:r})=>{const n="mimeMsg"+t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${s}/messages`,method:"POST",payloadType:"multipart",payloadParts:[{partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{newMessage:!0,folder:{id:r},flags:Yn,headers:null},mimeBody:"multipart://"+n}}].concat({contentType:"application/octet-stream",partName:n,disposition:"form-data",payloadReference:"multipart://"+n})}};const Qn="SaveRawMessage";var Zn={getBatchPayload:e=>({requests:e.map((e,t)=>zn(Qn+"_"+t,t,e))}),transformResponses:({successMap:e,failureMap:t})=>({result:{successMap:e},error:{failureMap:t}})};const Xn="GetFolders",$n="GetMessageGroupList";var Jn={getBatchPayload({mailboxId:e,folderId:t,sortOrder:s,filter:a,count:o,conversationsMode:i}){const c=i?n:r,l={};return l.requests=[mt(Xn,{mailboxId:e}),c.getBlockPayload($n,{mailboxId:e,folderId:t,sortOrder:s,filter:a,count:o,offset:0,excludeFolderTypes:Wt.f})],l},transformResponses({successMap:e},{folderId:t,conversationsMode:s,count:a}){const o=s?n:r;return{folders:St(e[Xn]),messageGroupList:o.transformResponse(e[$n],a,t).messageGroups}},getBatchError:({failureMap:e})=>Object.keys(e).length?new Ft.a("`undo.list` failed.",e):null};const ea=700,ta=701,sa=702,ra={0:"ON_DEMAND",1:"PRE_CONVERTED"},na={802:{message:"Missing App Id"},803:{message:"Missing Document Id"},804:{message:"Missing Document URL"},805:{message:"Missing Fetch Options"},806:{message:"Malformed Download URL"},807:{message:"Inaccessible Download URL"},808:{message:"Invalid Fetch Options"},809:{message:"Document Read Error"},810:{message:"Error Inserting In Queue"},811:{message:"Error Reading Info"},812:{message:"Error Processing Document"},813:{message:"Unsupported File Type"},814:{message:"Document still queued"},816:{message:"Document Password Protected Unviewable"},817:{message:"Missing Request for 1st Page"}},aa={602:{message:"Document failed due to unknown reasons"},605:{message:"Conversion First page being Processed"},606:{message:"The document url is not accessible"},610:{message:"The document failed to be converted to HTML"},611:{message:"The document failed to convert to PDF"},612:{message:"All Resources are busy"},621:{message:"Conversion Queued"},625:{message:"Zipped file found"},640:{message:"PDF file is malformed"}};var oa=e=>({"docs-document-id":e}),ia=(e,t,s,r)=>({id:e,uri:"/ws/docpreview/v2/fetch",method:"POST",payload:{start_page:t,end_page:s,retryCount:r},payloadType:"embedded"}),ca=({response:e})=>{const t=e.info,s=e.pages,r=e.code;return 815===r?{data:{info:{documentError:{code:r,isRetryable:!1}}}}:t?{statusCode:e.statuscode,code:r,pages:da(s),numPages:t.num_pages,height:t.dimension.h,width:t.dimension.w,exceptions:t.exceptions,sheets:t.sheetInfo||{}}:{statusCode:e.statuscode,code:r,pages:da(s)}},la=(e,t,s)=>{const r=Object.keys(e).length?e:t,n=r[s],a=n.response,o=void 0===a?{}:a,i=n.httpCode,c=o.code,l=void 0===c?0:c,d=o.statuscode,E=void 0===d?0:d,_=o.handler,u=void 0===_?0:_,p=o.pages;if(na.hasOwnProperty(l)||aa.hasOwnProperty(E)){const e=function(e,t){switch(e){case 807:case 810:case 811:return!0;case 812:return 606===t||612===t;case 814:return 605===t||621===t;default:return!1}}(l,E),t=(na[l]||{}).message,n=(aa[E]||{}).message,a=(t?"[Fetch Error] "+t:"")+(n?" [Conversion Error] "+n:"");return Object.assign(r[s],{info:{fetchCode:l,conversionCode:E,isRetryable:e,handler:ra[u]}}),new Ft.a(a,r,e)}if(600===E&&Object.keys(p).some(e=>p[e].statuscode===ta))return Object.assign(r[s],{info:{fetchCode:ta,conversionCode:E,isRetryable:!1}}),new Ft.a("Page has not converted even though the document is said to be successfully converted",r,!1);if(t&&i>=400){const e="ET"===Object(f.b)(t[s],"response.error.code","").split("-")[0]||500===i;return Object.assign(r[s],{info:{isRetryable:e}}),new Ft.a("Returned with not-ok status code",t,e)}return null};function da(e){const t={};return Object.keys(e).forEach(s=>{const r=Number(s.slice(4)),n=e[s].statuscode;n!==sa&&(t[r]=n===ea?{content:e[s],state:C.od.LOADED}:{content:null,state:C.od.ERROR})}),t}const Ea="FetchDocument";var _a={getHeaders:({documentId:e})=>oa(e),getBatchPayload:({startPage:e,endPage:t,retryCount:s})=>({requests:[ia(Ea,e,t,s)]}),transformResponses:({successMap:e})=>ca(e[Ea]),getBatchError:({successMap:e,failureMap:t})=>{const s=la(e,t,Ea);if(s){const e=s.isRetryable,t=s.failureMap,r=s.message,n=t[Ea],a=n.response,o=n.info,i=n.info,c=i.fetchCode,l=void 0===c?"":c,d=i.conversionCode,E=void 0===d?"":d,_={};if(o&&(Object.assign(_,{documentError:o}),a&&(l||E))){Object.assign(a,{error:{code:"DOC-"+l+(E?"_"+E:"")}})}return new Ft.a(r,t,e,_)}return null}};const ua="TaskStatus";var pa={getBatchPayload:({mailboxId:e,taskId:t})=>({requests:[wt.getBlockPayload(ua,{mailboxId:e,taskId:t})]}),transformResponses:({successMap:e})=>({task:wt.transformResponse(e[ua])})},ma={getBlockPayload:(e,{mailboxId:t,taskId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/tasks/@.id==${s}`,method:"DELETE"}),transformResponse:()=>1};const Sa="TaskAbort";var ha={getBatchPayload:({mailboxId:e,taskId:t})=>({requests:[ma.getBlockPayload(Sa,{mailboxId:e,taskId:t})]}),getBatchError:({failureMap:e})=>e[Sa]?new Ft.a(T.g,e):null,transformResponses:()=>({result:ma.transformResponse()})};function Ca(e){const t=e.userNamespace;return e.primaryAccountDisabled?C.Lc:e.appName===C.B.MOBILE_APP?t===C.N.AOL?C.x:C.Ic:t===C.N.AOL?C.y:C.Md}var ga={getBatchPayload:({mailboxId:e,primaryAccountDisabled:t=!1},{appName:s,userNamespace:r})=>{const n=Ca({primaryAccountDisabled:t,appName:s,userNamespace:r});return{requests:As.getBatchPayload({mailboxId:e,attributes:n}).requests}},transformResponses:({successMap:e,primaryAccountDisabled:t=!1},{appName:s,userNamespace:r})=>{const n=Ca({primaryAccountDisabled:t,appName:s,userNamespace:r});return{mailboxAttributes:As.transformResponses({successMap:e},{attributes:n}).responses}}};const Oa="vacationPreferences";var Ta={getBatchPayload:e=>{const t=e.payload;return{requests:[Nt.getBlockPayload(Oa,{mailboxId:e.mailboxId,value:{enabled:t.enabled,startDate:t.startDate,endDate:t.endDate,messageBody:t.messageBody,domainSpecificResponse:{domains:t.domainSpecificResponse.domains,domainMessageBody:t.domainSpecificResponse.domainMessageBody}}})]}},transformResponses:()=>1};const Aa="messageFilters";var Ia={getBatchPayload:e=>({requests:[Nt.getBlockPayload(Aa,{mailboxId:e.mailboxId,value:{filters:e.payload}})]}),transformResponses:()=>1};const fa="deliveryBlockedSenders";var Da={getBatchPayload:e=>({requests:[Nt.getBlockPayload(fa,{mailboxId:e.mailboxId,value:{senders:e.senders}})]}),transformResponses:()=>1};const Ra="GetMailboxes";var ba={getBatchPayload:e=>{const t=e.mailboxId,s=Nt.getMultiAttributeChain({mailboxId:t||"$(mailboxId)",attributes:e.attributes.map(({id:e,value:t})=>{let s=""+e;return e===C.xc.DELIVERY_BLOCKED_SENDERS&&(s="senders"),{id:e,value:e===C.xc.DEA_BASE_NAME||e===C.xc.CONSENT_EVENTS?t:{[s]:t}}})});return t?s:{requests:[Object.assign({},yr.getBlockPayload(Ra),{filters:yr.getMailboxFilters(),requests:s.requests})]}},transformResponses:e=>e};const Na="GetMailboxes";var Ma={getBatchPayload:({mailboxId:e=null,attributes:t=C.Db})=>{let s;return s=e?As.getBatchPayload({mailboxId:e,attributes:t}).requests:[Object.assign({},yr.getBlockPayload(Na),{filters:yr.getMailboxFilters(),requests:As.getBatchPayload({mailboxId:"$(mailboxId)",attributes:t}).requests})],{requests:s}},getBatchError:()=>null,transformResponses:({successMap:e},{attributes:t=C.Db})=>{const s=As.transformResponses({successMap:e},{attributes:t}).responses;if(Na in e){return{mailboxes:yr.transformResponse(e[Na]),mailboxAttributes:s}}return{mailboxAttributes:s}}},ya={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts`,method:"POST",payload:{account:t.account}}),transformResponse:e=>e.response.result};const La="AddAccount",Pa="GetAccounts";var va={getBatchPayload:e=>({requests:[Object.assign({},ya.getBlockPayload(La,{account:e.account,mailboxId:e.mailboxId}),{requests:[gs(Pa,e)]})]}),transformResponses:({successMap:e})=>Os(e[Pa]),getBatchError:({failureMap:e})=>{const t=e[La];return t&&409!==t.httpCode||e[Pa]?new Ft.a(T.g,e):null}},Fa=(e,t)=>{const s=t.account,r={type:s.type};return Object.assign(r,t.data),{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts/@.id==${s.id}`,method:"POST",payload:{account:r}}};function Ua(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function wa(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ua(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ua(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Ga="GetAccount",Ha="UpdateAccount";var ja={getBatchPayload:e=>{const t=e.mailboxId,s=e.account;return{requests:[wa({},Fa(Ha,{account:s,mailboxId:t,data:e.data}),{requests:[{id:Ga,uri:`/ws/v3/mailboxes/@.id==${t}/accounts/@.id==${s.id}`,method:"GET"}]})]}},transformResponses:({successMap:e})=>e[Ga].response.result},ka=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts/@.id==${t.accountId}`,method:"DELETE"});const xa="deleteAccount";var Ba={getBatchPayload:e=>({requests:[ka(xa,{accountId:e.accountId,mailboxId:e.mailboxId})]}),transformResponses:()=>1};const Va="SetDeaPrefix",Wa="GetDeaSuggestion",Ka="disposableAddressesPrefix";var qa={getBatchPayload({mailboxId:e,baseName:t,domain:s}){const r=`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${Ka}`;return{requests:[{id:Va,uri:r,method:"POST",payload:{id:Ka,link:{type:"RELATIVE",href:r},value:{deaPrefix:t,deaDomain:s}},onFailure:{id:Wa,uri:"/ws/comms/deasuggestion/mail_cascade_yahoo/xml/v1",method:"POST",payload:{value:{ValidateFieldsRequest:{RequestVersion:"$(RequestVersion)",RequestTimestamp:"$(RequestTimestamp)",RequestSignature:"$(RequestSignature)",RequestID:"$(RequestID)",AccountID:t,RemoteIPAddress:"$(RemoteIPAddress)",PartnerName:"$(PartnerName)"}}},suppressResponse:!1},suppressResponse:!1}]}},getBatchError({successMap:e,failureMap:t}){const s=e[Wa];return!(!t[Va]||!t[Wa]&&Object(f.b)(s,"response.result.ValidateFieldsResponse.SuggestedIDList.SuggestedID",!1))&&new Ft.a("All batch requests failed",t)},transformResponses({successMap:e}){const t=e[Wa];if(!t)return[];return{suggestions:Object(f.b)(t,"response.result.ValidateFieldsResponse.SuggestedIDList.SuggestedID",[])}}};const Ya="SetDeaPrefix",za="GetDeaSuggestion",Qa="disposableAddressesPrefix";var Za={getBatchPayload({mailboxId:e,baseName:t,domain:s}){const r=`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${Qa}`;return{requests:[{id:Ya,uri:r,method:"POST",payload:{id:Qa,link:{type:"RELATIVE",href:r},value:{deaPrefix:t,deaDomain:s}},onFailure:{id:za,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(t),method:"GET",suppressResponse:!1},suppressResponse:!1}]}},getBatchError({successMap:e,failureMap:t}){const s=e[za];return!(!t[Ya]||!t[za]&&Object(f.b)(s,"response.response.idSuggestionsList",!1))&&new Ft.a("All batch requests failed",t)},transformResponses({successMap:e}){const t=e[za];if(!t)return[];return{suggestions:Object(f.b)(t,"response.response.idSuggestionsList",[])}}},Xa={getBlockPayload(e,t){const s=t.account;return{id:e,uri:s.link.href,method:"POST",payload:{account:{type:s.type,resendVerification:!0}}}},transformResponse:e=>e.response.result};const $a="ResendConfirmEmail";var Ja={getBatchPayload:e=>({requests:[Xa.getBlockPayload($a,{account:e.account})]}),transformResponses:({successMap:e})=>e[$a].response.result};const eo="AddAccount",to="IdSuggestions";var so={getBatchPayload({mailboxId:e,email:t}){const s=`/ws/v3/mailboxes/@.id==${e}/accounts/`,r=-1===t.indexOf("@")?t+"@yahoo.com":t;return{requests:[{id:eo,uri:s,method:"POST",payload:{account:{email:r,type:"ALIAS",description:"Extra email address account"}},onFailure:{id:to,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(t),method:"GET",suppressResponse:!1},suppressResponse:!1}]}},getBatchError:({failureMap:e})=>e[eo]&&e[to]?new Ft.a("All batch requests failed",e):null,transformResponses({successMap:e}){const t=e[eo],s=e[to];let r,n;return!t&&s&&s.response&&s.response.response?r=s.response.response.idSuggestionsList:t&&t.response&&t.response.result&&(n=t.response.result),{suggestions:r,newAccount:n}}};const ro="UnseenCountReset";var no={getBatchPayload:({mailboxId:e,accountId:t})=>({requests:[es(ro,{mailboxId:e,accountId:t})]}),getBatchError:({failureMap:e})=>{const t=e[ro];return t?ts(t):null},transformResponses:()=>1};const ao="GetAccountAlerts";var oo={getBatchPayload:({mailboxId:e})=>({requests:[or(ao,{mailboxId:e})]}),transformResponses:({successMap:e})=>{let t=[];return e[ao]&&(t=ir(e[ao])),t},getBatchError:({failureMap:e})=>{const t=e[ao];return t?cr(t):null}},io=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/alerts/@.id==${t.alertId}`,method:"POST",payload:{alert:{state:5e3}}});const co="GetAccountAlerts",lo="UpdateAccountAlerts";var Eo={getBatchPayload:({mailboxId:e,alertId:t})=>({requests:[Object.assign({},io(lo,{mailboxId:e,alertId:t}),{requests:[or(co,{mailboxId:e})]})]}),transformResponses:({successMap:e})=>e[co]?{accountAlerts:ir(e[co])}:{accountAlerts:[]}},_o=(e,{mailboxId:t,destinationFolderId:s,flags:r,headers:n,decos:a,schemaOrg:o,simpleBody:i,actions:c})=>{const l={id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages`,method:"POST",payloadType:"embedded",payload:{message:{}}};return l.payload.message.newMessage=!0,s&&(l.payload.message.folder={},l.payload.message.folder.id=s),r&&(l.payload.message.flags=r),n&&(l.payload.message.headers=n),a&&(l.payload.message.decos=a),o&&(l.payload.message.schemaOrg=o),i&&(l.payload.simpleBody=i),c&&(l.payload.actions=c),l};function uo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function po(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?uo(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uo(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const mo="CreateMessage",So="UpdateMessages",ho="GetMessagesByGroup";var Co={getBatchPayload:({mailboxId:e,messageId:t,destinationFolderId:s,headers:r=[],decos:n=[],schemaOrg:a={}})=>(n.some(e=>e&&e.id===C.Cc.CRD)||n.push({id:C.Cc.CRD,type:C.rb.NORMAL}),{requests:[po({},_o(mo,{mailboxId:e,destinationFolderId:s,flags:{read:!0,spam:!1},headers:r,decos:n,schemaOrg:a,simpleBody:{text:""},actions:{responseMessage:!0,responseMessageV2:!1,applyAntispam:!1,generateCardConversationId:!0}}),{filters:{iterator:"$..result",select:{cardConversationId:"$..message.cardConversationId"}},suppressResponse:!0,requests:[po({},kt.getBlockPayload(So,{mailboxId:e,messageIds:[t],cardConversationId:"$(cardConversationId)"}),{suppressResponse:!0,requests:[Qt(ho,{mailboxId:e,offset:0,count:50,cardConversationIds:["$(cardConversationId)"],encodeCardConversationId:!1})]})]})]}),transformResponses:({successMap:e})=>{const t=Zt(e[ho]).messageGroups;return{cardGroupList:t.filter(e=>e.messages.some(e=>e.decos&&e.decos.some(e=>e&&e.id===C.Cc.CRD))).map(e=>po({},e,{id:e.messages[0].cardConversationId})),parentMessagesMap:t.filter(e=>e.messages.some(e=>e.decos&&e.decos.some(e=>e&&e.id===C.Cc.EML))).reduce((e,t)=>po({},e,{[t.messages[0].id]:po({},t.messages[0])}),{})}}};var go=class{request(){return Promise.resolve()}};const Oo=["high"];var To=s(129),Ao=s.n(To);const Io="221x166";const fo=C.Ie+"/sender_rollup_api";function Do(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ro(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Do(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Do(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var bo=s(68);function No(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var Mo=s(371),yo=s(54);function Lo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var Po=s(339);function vo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Fo(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?vo(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vo(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Uo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function wo(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Uo(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Uo(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Go={"folders.get":Ct,"folders.delete":Tt,"folders.create":Dt,"folders.rename":vt,"folderList.delete":jt,"folderList.update":Vt,"folderChange.getList":Cs,"launch.skeleton":Ds,"launch.folder":Ls,"launch.message":ks,"launch.compose":qs,"launch.messageGroup":ar,"mailbox.getAttributes":As,"postLaunch.getComposeAttributes":As,"postLaunch.postSync":ur,"messageGroups.get":Cr,"messageGroups.getFallback":Cr,"messageGroups.getList":ms,"messageCards.getList":Or,"couponCards.getParentMessage":Ir,"consolidatedCoupons.getList":Dr,"refundCards.getList":br,"mailbox.get":vr,"mailbox.sync":Ur,"mailbox.syncNow":kr,"accounts.get":Kr,"mrdMessages.get":zr,"messages.getExtractions":Zr,"messages.getCompose":en,"messages.getBodies":Jr,"messages.getBodiesFull":Jr,"messages.getExtractedBodies":an,"messages.getExtractedBodiesFull":an,"messages.prefetchGetBodies":Jr,"messages.prefetchGetBodiesFull":Jr,"messages.prefetchGetExtractedBodies":an,"messages.prefetchGetExtractedBodiesFull":an,"messages.getBodiesFallback":Jr,"messages.getBodiesFullFallback":Jr,"messages.getExtractedBodiesFallback":an,"messages.getExtractedBodiesFullFallback":an,"messages.getRawMessage":qn,"messages.prefetchGetBodiesFallback":Jr,"messages.prefetchGetBodiesFullFallback":Jr,"messages.prefetchGetExtractedBodieFallback":an,"messages.prefetchGetExtractedBodiesFullFallback":an,"messages.saveV3":Sn,"messages.autoSaveV3":Sn,"sponsoredMessages.save":Sn,"messages.saveAndSend":fn,"messages.saveWithAttachment":Sn,"messages.saveAndSendWithAttachment":fn,"messages.send":fn,"messages.updateDecos":bn,"messages.getDeletedMessages":Bn,"messages.UnifiedUpdate":jn,"messages.readFlagUpdate":jn,"messages.starFlagUpdate":jn,"messages.move":jn,"messages.delete":jn,"messages.saveRawMessage":Zn,"undo.list":Jn,"document.fetch":_a,"task.status":pa,"task.abort":ha,"settings.get":ga,"settings.saveVacationPreferences":Ta,"settings.saveMessageFilters":Ia,"settings.saveBlockedSenders":Da,"settings.saveMailClientVersionAttributes":ba,"settings.saveWebMailboxAttributes":ba,"settings.importExistingSettings":ba,"settings.migrateUDBSettings":ba,"settings.setUDBMigrationComplete":ba,"landshark.updateInterstitial":ba,"settings.getFeatureAttributes":Ma,"settings.addAccount":va,"settings.updateAccount":ja,"settings.deleteAccount":Ba,"settings.setBaseName":qa,"settings.setBaseNameJWS":Za,"settings.resendConfirmEmail":Ja,"settings.createAlias":so,"unseenCount.reset":no,"account.getAlerts":oo,"account.updateAlerts":Eo,"cards.create":Co,"senders.getList":Mr};var Ho={apiClientConstructors:{astraClient:class extends S.a{constructor({loggerParams:e,appId:t=C.Me,astraHost:s,cookie:r,guidHash:n,headers:a,httpRetry:o,wssid:i,timezone:c={},config:l={}}){super({loggerName:C.z.AstraClient,loggerParams:e}),this._request=new nt({appId:t,astraHost:s,cookie:r,headers:a,httpRetry:o,config:l,wssid:i}),this.appId=t,this.wssid=i,this.config=l,this.timezone=c.name,n&&(this.ymreqidGenerator=new D.a(n,C.Ke,C.td))}getDefaultUrlParams(){return{appid:this.appId,wssid:this.wssid,timezone:this.timezone,config:this.config,ymreqid:this.ymreqidGenerator.generate()}}getAstraBatchResponse(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.astraBatchApi(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}getAffiliateOffers(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.affiliateOffersApi(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}linkRetailer(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.linkRetailerApi(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}unlinkRetailer(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.unlinkRetailerApi(Object.assign(s,t));return this.logRequest(n,r),n.catch(e=>{throw e=this.handleCommonError(e)})}getOffers(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.retailerOffersApi(Object.assign(s,t));return this.logRequest(n,r),n.catch(e=>{throw e=this.handleCommonError(e)})}getActivatedOffers(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.retailerActivatedOffersApi(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}getCategoryOffers(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.categoryOffersApi(Object.assign(s,t));return this.logRequest(n,r),n.catch(e=>{throw e=this.handleCommonError(e)})}getSearchItems(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.searchItemsApi(Object.assign(s,t));return this.logRequest(n,r),n.catch(e=>{throw e=this.handleCommonError(e)})}requestAddToShoppingList(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.addItemToShoppingList(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}requestRemoveFromShoppingList(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.removeItemFromShoppingList(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}requestChangeQuantityFromShoppingList(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.changeItemQuantityFromShoppingList(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}activateOffer(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.activateOfferApi(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}requestSaveCoupon(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.clipCoupon(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}requestUnsaveCoupon(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.clipCoupon(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}requestRetailerLocations(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.getRetailerLocations(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}updatePreferredStore(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.updatePreferredStoreApi(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}requestFirstCategoryFollow(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.firstCategoryFollowApi(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}requestCategoryFollow(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.categoryFollowApi(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}requestCategoryUnfollow(e,t){const s=this.getDefaultUrlParams(),r={apiName:e,ymreqid:s.ymreqid},n=this._request.categoryUnfollowApi(Object.assign(s,t));return this.logRequest(n,r),n.catch(t=>{throw t=this.handleCommonError(t,e)})}request(e,t){return this[e](e,t)}},athenaClient:lt,autoSuggestClient:le,bootcampClient:te,breakingNewsClient:class extends S.a{constructor({loggerParams:e,crumb:t,isOnline:s}){super({loggerName:C.z.BreakingNewsClient,loggerParams:e,crumb:t,isOnline:s})}request({testParam:e}){const t=new y.b(y.a.GET,"https://ncp-gw-mail.media.yahoo.com/api/v1/gql/stream_view?namespace=mail&id=breakingnews&version=v1"+(e?"&subsite=test":""),{timeout:3e3});t.setHeader("Accept","application/json");const s=t.send();return this.logRequest(s,{apiName:"breakingNews"}),s.then(t=>{if(!t.body)throw new Error("BreakingNewsClient.EmptyResponseBody");return((e,t)=>{const s=Object(f.b)(e,"data.breakingnews.stream",[]).find(e=>{const s=Object(f.b)(e,"editorialContent.severity","");return t||Oo.indexOf(s)>-1});return s?{id:s.id||"",title:Ao()(Object(f.b)(s,"editorialContent.title","")),clickUrl:Ao()(Object(f.b)(s,"editorialContent.linkUrl","")),severity:Ao()(Object(f.b)(s,"editorialContent.severity",""))}:{}})(t.body,e)}).catch(e=>{throw e=this.handleCommonError(e)})}},calendarClient:class{constructor(e){this.mailWssid=e.wssid,this.calendarWssid=e.calendarWssid,this.isYCorp="ycorp"===e.partner}getInviteInfo(e,t=0){const s=e.downloadUrl,r=e.currentOffset,n=`/cal/ws?inviteUp&crumb=${encodeURIComponent(this.mailWssid)}&url=${encodeURIComponent(s)}&offset=${r}&fullAttendeeList=true`+(this.isYCorp?"&parseIcsOnly=true&supportPublish=true":""),a=new y.b(y.a.GET,n),o=Fe.feature("calendar_get_invite_call",{crumb:this.mailWssid,params:e});a.setHeader("Content-Type","application/json");const i=a.send();return i.then(o.logSuccessAndLatency,o.logFailure),i.then(this._handleInviteResponse(e,t+1))}_handleInviteResponse(e,t){return s=>{const r=s.body;if(!r)return Promise.reject({error:"Empty response"});if("Invalid Crumb"===r.error){if(t<=1){this.mailWssid=r.crumb;try{return this.getInviteInfo(e,t)}catch(e){return Promise.reject({error:"Bad response",data:e})}}return Promise.reject(r)}return!r.event||null!==r.event.startTime&&null!==r.event.endTime?(r.wssid&&(this.calendarWssid=r.wssid),ye(r)):Promise.reject(new Error("Invalid data"))}}sendReply(e,t){const s=Date.now(),r=`/cal/ws/v3/users/calendar/rsvp/${encodeURIComponent(e)}/?format=json&notify=true&wssid=${this.calendarWssid}&rand=${s}&prog=aeon`,n=new y.b(y.a.POST,r),a=Fe.feature("calendar_invite_reply_call",{wssid:this.calendarWssid,uid:e,data:t});n.setHeader("Content-Type","application/json");const o=n.send({rsvp:t});return o.then(a.logSuccessAndLatency,a.logFailure),o.then(e=>e.body).catch(e=>201===e.statusCode?e.data.body:Promise.reject(e))}},cloudStorageClient:class extends S.a{constructor({loggerParams:e,appId:t=C.Me,crumb:s,wssid:r,guidHash:n,endpoints:a,config:o={},timezone:i={},userNamespace:c}={}){Object(h.a)(a.BOOTCAMP_HOST,"BOOTCAMP_HOST is missing in endpoints"),super({loggerName:C.z.CloudStorageClient,loggerParams:e,crumb:s,wssid:r,endpoints:a}),this.appId=t,this.timezone=i.name,this.userNamespace=c,this.ymreqidGenerator=new D.a(n,C.Ke,C.td),this.cloudStorageHost=Object(g.b)(o,"useBootcampYCPIProxy")?"":this.endpoints.BOOTCAMP_HOST}_getHttpTransport(e,t,s){const r=new y.b(e,t,s);return r.setHeader("x_oath_ns",this.userNamespace),r}_handleInternalServerError(e){const t=e.statusCode,s=e.errorCode;if(500===t){const r=Object(f.b)(e,"data.body.code","")||s;return new O.a("CloudStorageClient.CloudStorageResultsError",{statusCode:t,errorCode:r,body:e.getDataByName("body","")})}return null}handleWssidReissueError(e){const t=e.statusCode;if(403===t){const s=Object(f.b)(e,"data.body.code","");if("Client.ClientRedirect.SessionIdReissue"===s){const r=Object(f.b)(e,"data.body.wssid","");if(r)return this.wssid=r,new O.a(T.e,{statusCode:t,errorCode:s,wssid:r})}}return null}handleCommonError(e){let t=null;return e=O.a.errorify(e),t||(t=this.handleYdodError(e)),t||(t=this.handleWssidReissueError(e)),t||(t=this._handleInternalServerError(e)),t||e}isRetryableError(e,t){return t<1&&e.name===T.e}_getDefaultUrlParams(){return Ro({appid:this.appId,wssid:this.wssid,allowGoogleDocs:1,timezone:this.timezone,timeout:6e4,clientId:"mailsearch",ymreqid:this.ymreqidGenerator.generate()},this.getMailboxParams())}getContentProviders(){const e=this._getDefaultUrlParams(),t=e.appid,s=e.wssid,r=e.ymreqid,n=this._getHttpTransport("GET",this.cloudStorageHost+"/psearch/v3/contentProviders?allsources=1",{httpRetry:this.httpRetry});n.setHeader("Accept","application/json"),n.withCredentials=!0;const a=n.send({appid:t,wssid:s,ymreqid:r});return this.logRequest(a,{ymreqid:r,apiName:"getContentProviders"}),a.then(e=>function(e){return e.reduce((e,t)=>{const s=t.name,r=t.isConnected,n=t.additionalProperties,a=((void 0===n?{}:n).additionalStatus||[]).reduce((e,t)=>Object.assign(e,{[t.name]:"connected"===t.status}),{});return Object.assign(e,{[s]:{isConnected:r,connectionDetails:a}})},{})}(JSON.parse(e.text))).catch(e=>{throw e=this.handleCommonError(e)})}cloudStorageItems(e,t=0){const s=Ro({},this._getDefaultUrlParams(),{},e),r=s.source,n=s.ymreqid,a=s.timezone,o=s.offset,i=s.query,c=s.path,l=s.accountId,d=this.cloudStorageHost+"/psearch/v3/items?"+`source=${r}&wssid=${s.wssid}&order=name&mailboxid=${s.mailboxid}&appid=${s.appid}${0!==o?"&cursor="+o:""}${r===C.eb.YMAIL?"&mimeTypes=images,docs":""}${i?"&query="+encodeURIComponent(i):"&path="+encodeURIComponent(c)}&accountIds=${l}`,E=this._getHttpTransport("GET",d,{httpRetry:this.httpRetry});E.setHeader("Accept","application/json"),E.withCredentials=!0;const _={ymreqid:n,retryCount:t,provider:r,apiName:"cloudStorageItems"},u=E.send({ymreqid:n});return this.logRequest(u,_),u.then(e=>x(JSON.parse(e.text),{listContentType:C.ac.CLOUD_STORAGE_ITEMS},{timezone:a})).catch(s=>{if(s=this.handleCommonError(s),this.isRetryableError(s,t))return this.cloudStorageItems(e,++t);throw s})}getShareableLink(e){const t=Ro({},this._getDefaultUrlParams(),{},e),s=t.wssid,r=t.ymreqid,n=t.appid,a=this.cloudStorageHost+"/psearch/v3/items/"+encodeURIComponent(t.itemId)+"/shareableLink?"+`wssid=${s}&appid=${n}`,o=this._getHttpTransport("GET",a,{httpRetry:this.httpRetry});o.setHeader("Accept","application/json"),o.withCredentials=!0;const i={ymreqid:r,provider:e.provider,apiName:"getShareableLink"},c=o.send({ymreqid:r});return this.logRequest(c,i),c.then(e=>JSON.parse(e.text)).catch(e=>{throw e=this.handleCommonError(e)})}getFilePermissions(e){const t=Ro({},this._getDefaultUrlParams(),{},e),s=t.wssid,r=t.ymreqid,n=t.appid,a=this.cloudStorageHost+"/psearch/v3/items/"+encodeURIComponent(t.itemId)+"/permission?"+`wssid=${s}&appid=${n}`,o=this._getHttpTransport("GET",a,{httpRetry:this.httpRetry});o.setHeader("Accept","application/json"),o.withCredentials=!0;const i={ymreqid:r,provider:e.provider,apiName:"getFilePermissions"},c=o.send({ymreqid:r});return this.logRequest(c,i),c.then(e=>JSON.parse(e.text)).catch(e=>{throw e=this.handleCommonError(e)})}linkContentProvider(e){const t=Ro({},this._getDefaultUrlParams(),{},e),s=t.ymreqid,r={redirectUrl:`https://${window.location.hostname}/d/oAuth`,errorUrl:`https://${window.location.hostname}/d/oAuth`},n=this._getHttpTransport("POST",`${this.cloudStorageHost}/psearch/v3/contentProviders/${t.provider}${e.unlink?"/remove":""}?appid=${t.appid}&wssid=${t.wssid}&ymreqid=${s}`,{httpRetry:this.httpRetry});n.setHeader("Accept","application/json"),n.withCredentials=!0;const a={ymreqid:s,crumb:this.crumb,provider:e.provider,apiName:"linkContentProvider",unlinkAction:e.unlink||!1},o=n.send(r);return this.logRequest(o,a),o.then(e=>JSON.parse(e.text)).catch(e=>{throw e=this.handleCommonError(e)})}},credstoreClient:class extends S.a{constructor({loggerParams:e,appId:t=C.Me,cookie:s,guid:r,crumb:n,wssid:a,guidHash:o,endpoints:i}={}){Object(h.a)(i.CREDSTORE_HOST,"CREDSTORE_HOST is missing in endpoints"),super({loggerName:C.z.CredstoreClient,loggerParams:e,crumb:n,wssid:a,endpoints:i}),this.guid=r,this.cookie=s,this.appId=t,this.credstoreHost=this.endpoints.CREDSTORE_HOST,this.ymreqidGenerator=new D.a(o,C.Ke,C.td)}getRequestId(){return this.ymreqidGenerator.generate()}_isEmptySuccessResponse(e){if(e&&e.data){const t=e.data.statusCode;return 200===t||204===t}return!1}transport(e,t){t||(t=y.a.GET);const s=new y.b(t,e);return s.withCredentials=!0,s}unlink({provider:e,spid:t}={}){Object(h.a)(t,"`spid` is a required option");const s=this.getRequestId(),r={apiName:"unlinkSocialAccount",provider:e,ymreqid:s},n=this.transport(`${this.endpoints.CREDSTORE_HOST}/v1/users/${this.guid}/service-providers/${t}/credential?ymreqid=${s}&appId=${this.appId}`,y.a.DELETE);this.cookie&&n.setHeader("cookie",this.cookie);const a=n.send().catch(e=>{if(this._isEmptySuccessResponse(e))return e.data.responseText;throw e});return this.logRequest(a,r),a}removeOAuthToken({domain:e,email:t}={}){Object(h.a)(e,"`domain` is a required option"),Object(h.a)(t,"`email` is a required option");const s=this.getRequestId(),r=m.a.stringify({relyingParty:"comms",domain:e,email:t,ymreqid:s,wssid:this.wssid,appId:this.appId}),n={apiName:"removeOAuthToken",domain:e,email:t,ymreqid:s},a=this.transport(`${this.endpoints.CREDSTORE_HOST}/v1/users/${this.guid}/service-providers/spid/credential?${r}`,y.a.DELETE).send().catch(e=>{if(this._isEmptySuccessResponse(e))return e.data.responseText;throw e});return this.logRequest(a,n),a}contextualizeredirectUri(e,t){const s=m.a.stringify({isCorp:t?"1":null,crumb:this.crumb});return-1!==e.indexOf("?")?`${e}&${s}`:`${e}?${s}`}getAuthorizationURL({provider:e,email:t,redirectUri:s,isCorpUser:r=!1}={}){Object(h.a)(e,"`provider` is a required option"),Object(h.a)(t,"`email` is a required option"),Object(h.a)(s,"`redirectUri` is a required option");const n=this.getRequestId(),a=C.Ub[e],o=a.oauthDomain,i=a.scope,c=m.a.stringify({appId:this.appId,wssid:this.wssid,ymreqid:n}),l={apiName:"getAuthorizationURL",domain:o,email:t,provider:e,ymreqid:n},d={applicationAttributes:{relyingParty:"comms",domain:o,email:t},redirectUri:this.contextualizeredirectUri(s,r),scope:i||""},E=this.transport(`${this.credstoreHost}/v1/users/@me/service-providers/spid/authorization-url?${c}`,y.a.POST);this.cookie&&E.setHeader("cookie",this.cookie);const _=E.setHeader("Content-Type","application/json").setHeader("Accept","application/json").send(d).then(e=>e.body);return this.logRequest(_,l),_}link({spid:e,provider:t,redirectUri:s,isCorpUser:r=!1,scope:n}={}){Object(h.a)(e,"`spid` is a required option"),Object(h.a)(s,"`redirectUri` is a required option");const a=this.getRequestId(),o={apiName:"linkSocialAccount",provider:t,scope:n,ymreqid:a},i={applicationAttributes:{relyingParty:"comms"},redirectUri:this.contextualizeredirectUri(s,r),scope:n||""},c=this.transport(`${this.credstoreHost}/v1/users/@me/service-providers/${e}/authorization-url?ymreqid=${a}&appId=${this.appId}`,y.a.POST).setHeader("Content-Type","application/json").setHeader("Accept","application/json").send(i).then(e=>e.body);return this.logRequest(c,o),c}},darlaAdClient:go,subdispatcherAPIClient:class extends S.a{constructor({loggerParams:e,appId:t=C.Me,guidHash:s,wssid:r,httpRetry:n,isOnline:a,cookie:o,endpoints:i,userNamespace:c,locale:l,colo:d}){super({loggerName:C.z.SubDispatcherAPIClient,loggerParams:e,wssid:r,isOnline:a}),Object(h.a)(i.GLOBAL_HOST,"GLOBAL_HOST is missing in Dispatcher API Client endpoints");const E={guidHash:s,httpRetry:n,isOnline:a,host:("corp"!==d?"":i.GLOBAL_HOST)+"/subdispatcher",endpoints:i};Object(h.a)(E.guidHash,"Dispatcher API - `guidHash` is a required option"),this.ymreqidGenerator=new D.a(E.guidHash,C.Ke,C.td),this.appId=t,this.httpRetry=E.httpRetry,this.cookie=o,this.instanceOptions=E,this.userNamespace=c,this.locale=l}getRequestId(){return this.ymreqidGenerator.generate()}transport(e,t=y.a.GET,s={}){const r=new y.b(t,e,{httpRetry:this.httpRetry});return t===y.a.GET&&(r.setHeader("Content-Type","application/json"),r.setHeader("Accept","application/json")),Object(f.c)(s)||Object.keys(s).forEach(e=>{r.setHeader(e,s[e])}),r.withCredentials=!0,r}request(e,t,s,r,n={}){const a=n.reqHeaders,o=void 0===a?{}:a,i=this.getRequestId();t=wo({},t,{irid:i,appId:this.appId,ns:this.userNamespace}),s=wo({},s,{ymreqid:i});const c=this.transport(e,r,o).send(t).then(e=>e);return this.logRequest(c,s,null),c}plutusSubscriptionUpsells({optOutCodes:e=[],selectedOfferId:t,clientos:s=""}){const r={context:"mailoverlay,mailsidebar",device:"desktop",locale:this.locale,optout:e.join(","),clientos:s};return t&&(r.forceOfferId=t),this.request(this.instanceOptions.host+"/mailapi",r,{apiName:"plutusSubscriptionUpsells"}).then(e=>(e=>{const t=e||{},s=t.status,r=t.body,n=r||{},a=n.offers,o=(void 0===a?{}:a).mailoverlay,i=void 0===o?[]:o,c=n.irid,l=i[0]||{},d=l.status,E=l.productSKU,_=l.offerId,u=l.context,p=l.ctaURL,m=l.template,S=b()(l,["status","productSKU","offerId","context","ctaURL","template"]);if(yo.a.error("plutusSubscriptionUpsellsMapperLog",{status:s,bodyExists:!!r,mailoverlayLength:i.length,mailoverlayStatus:d,offerId:_,template:m,irid:c}),200!==s||!r||!i.length||200!==d||!_||"empty"===_)return{mailoverlay:void 0};const h=S.impressionTracker,C=S.logoImg,g=S.logoImgAlt,O=S.tooltipImg,T=S.tooltipImgAlt,A=S.offerImg,I=S.offerImgAlt;return{mailoverlay:Fo({},S,{impressionTracker:h?Object(Ps.sanitizeData)(h):h,logoImg:C?Fo({},C,{oneX:Object(Ps.sanitizeData)(C.oneX),twoX:Object(Ps.sanitizeData)(C.twoX)}):C,logoImgAlt:g?Object(Ps.sanitizeData)(g):g,tooltipImg:O?Fo({},O,{oneX:Object(Ps.sanitizeData)(O.oneX),twoX:Object(Ps.sanitizeData)(O.twoX)}):O,tooltipImgAlt:T?Object(Ps.sanitizeData)(T):T,offerImg:A?Fo({},A,{oneX:Object(Ps.sanitizeData)(A.oneX),twoX:Object(Ps.sanitizeData)(A.twoX)}):A,offerImgAlt:I?Object(Ps.sanitizeData)(I):I,productCode:E,version:_,cueTypeComponent:u||Po.c.MODAL,redirectUrl:p?Object(Ps.sanitizeData)(p):p,template:m})}})(e))}},falconTOMSubscriptionsAPIClient:class extends S.a{constructor(e){let t=e.loggerParams,s=e.appId,r=e.guidHash,n=e.endpoints,a=e.timezone,i=void 0===a?{}:a;super(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Lo(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Lo(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},b()(e,["loggerParams","appId","guidHash","endpoints","timezone"]),{loggerParams:t,loggerName:C.z.FalconTOMSubscriptionsAPIClient})),this.endpoints=n,this.appid=s,this.timezone=i.name,this.ymreqidGenerator=new D.a(r,C.Ke,C.td),this.API_BASE=this.endpoints.BOOTCAMP_HOST+"/f/suboffers/emails"}getFalconTOMSubscriptions(e,t=[],s,r="",n="",a,o,i){const c=this.wssid,l=this.appid,d=this.timezone,E=window.AppBootstrapData.guid,_=this.ymreqidGenerator.generate(),u=Object(p.stringify)({appid:l,guid:E,wssid:c,mboxid:a,acctid:o,email:i,timezone:d,ymreqid:_}),m=new y.b(C.Sb.POST,`${this.API_BASE}?${u}`);m.withCredentials=!0,m.setHeader("Content-Type","application/json"),m.setHeader("Accept","application/json");const S=m.send(e);return this.logRequest(S,{apiName:"getFalconTOMSubscriptions",ymreqid:_,groupIds:t.join(","),groupIdsCount:t.length,prefetchMode:s,openedGroupId:r,openedMessageId:n,containsOpenedGroupId:t.includes(r)}),S.then(e=>((e,t,s="")=>{var r;if(null==e||null===(r=e.result)||void 0===r?void 0:r.subofferMap){const r=e.result.subofferMap||[],n=Object.keys(r);let a,o;return yo.a.error("falconTOMSubscriptionsResponse",{offers:n.join(","),offersCount:n.length,containsOpenedMessageId:n.includes(s),ymreqid:t}),n.map(e=>{const t=r[e][0].gemini,s=(void 0===t?{}:t).ads,n=(void 0===s?[]:s)[0];try{const e=n.beacon,t=void 0===e?"":e;a=JSON.parse(n.tag),o=t}catch(e){bo.a.error("Falcon ad tag is not valid JSON")}if(!a)return null;const i=Object(Mo.b)(n,a),c=i.adHeadline,l=i.adSummary,d=i.callToAction,E=i.adImg,_=i.clickUrl,u=i.impressionTrackingUrls,p=i.creativeId;return{strings:{heading:Object(Ps.sanitizeData)(c),body:Object(Ps.sanitizeData)(l),ctaText:Object(Ps.sanitizeData)(d)},falconTOMImageUrl:Object(Ps.sanitizeData)(E),impressionTracker:u[0]||"",impressionBeacon:o,redirectUrl:_,version:p,messageId:e}})}return null})(e.body,_,n))}},geminiAPIClient:ae,heartbeatAPIClient:pe,linkEnhancerClient:class extends S.a{constructor({loggerParams:e,crumb:t,guidHash:s}){super({loggerName:C.z.LinkEnhancerClient,loggerParams:e,crumb:t}),this.ymreqidGenerator=new D.a(s,C.Ke,C.td)}get(e){const t=this.ymreqidGenerator.generate(),s={apiName:"lucy",crumb:this.crumb,ymreqid:t},r=`${me}?crumb=${this.crumb}&url=${encodeURIComponent(e)}&ymreqid=${t}`,n=new y.b(y.a.GET,r,{timeout:3500});n.setHeader("Accept","application/json");const a=n.send();return this.logRequest(a,s),a}},locationAutoSuggestClient:Ge,mailAPIClient:l.a,marketingPreferencesAPIClient:class extends S.a{constructor({appId:e=C.Me,loggerParams:t,crumb:s,isOnline:r,guidHash:n,httpRetry:a,cookie:o,requestQueue:i}){super({loggerName:C.z.MarketingPreferencesAPIClient,loggerParams:t,crumb:s,isOnline:r}),this.proxyURL=C.mb+"/marketing_preferences/",this.crumb=s,this.appid=e,this.httpRetry=a,this.requestQueue=i,this.cookie=o,n&&(this.ymreqidGenerator=new D.a(n,C.Ke,C.td))}request(e,t){if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated.");const s=this.ymreqidGenerator.generate(),r=this.proxyURL+e,n=y.a.GET,a={apiName:e,crumb:this.crumb,ymreqid:s};let i={crumb:this.crumb,ymreqid:s};if("unsubscribe"===e){const e=t.preferenceCode;i=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?No(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):No(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},i,{email:t.email,appname:this.appid}),e&&(i.preferences=e,a.preferences=e)}const c=new y.b(n,r,{timeout:3e4,httpRetry:this.httpRetry,apiName:e});c.setHeader("Accept","application/json"),c.setHeader("Content-Type","application/x-www-form-urlencoded");const l=bo.a.feature(C.z.MarketingPreferencesAPIClient,a),d=c.send(i);return d.then(l.logSuccessAndLatency,l.logFailure),d}unsubscribe(e={}){return this.requestQueue.add(this.request.bind(this,"unsubscribe",e),"marketingPreferences.unsubscribe")}},membershipRewardsClient:class extends S.a{constructor({appId:e=C.Me,loggerParams:t,crumb:s,isOnline:r,locale:n,environment:a,region:o,guidHash:i}){super({loggerName:C.z.MembershipRewardsClient,loggerParams:t,crumb:s,isOnline:r}),this.proxyURL=(e===C.Re?C.uc:C.mb)+"/membership_rewards/",this.crumb=s,this.appid=e,this.locale=n,this.region=o,this.environment=a,i&&(this.ymreqidGenerator=new D.a(i,C.Ke,C.td))}request(e,t){if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated.");const s=this.ymreqidGenerator.generate(),r={apiName:e,appId:this.appId,locale:this.locale,region:this.region,environment:this.environment};t=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_t(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_t(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{crumb:this.crumb,ymreqid:s});const n=new y.b(y.a.GET,this.proxyURL+e);n.setHeader("Accept","application/json");const a=n.send(t);return this.logRequest(a,r),a}},needToKnowNewsClient:class extends S.a{constructor({loggerParams:e,locale:t}){super({loggerName:C.z.NeedToKnowNewsClient,loggerParams:e}),this.locale=t||"en-US"}requestNeedToKnowNews(e){const t="https://mail-graviton-home-gateway.media.yahoo.com/api/v1/poptart/ntk?"+m.a.stringify({appId:"mail",ntkCount:3,ntkImageTags:Io,locale:this.locale,subsite:"bucket1"}),s=new y.b(y.a.GET,t,{timeout:5e3}),r={apiName:e};s.setHeader("Accept","application/json"),s.withCredentials=!0;const n=s.send();return this.logRequest(n,r),n.then(e=>{if(!e.body)throw new Error("NeedToKnowNewsClient.EmptyResponseBody");return(e=>{const t=Object(f.b)(e,"data.destination_url","https://www.yahoo.com/?ncid=other_mailntkcue_vsrmqv1pcd0"),s=Object(f.b)(e,"data.ntk.stream",[]);let r=Object(f.b)(s[0],"editorialContent.thumbnail.resolutions",[]);r.length||(r=Object(f.b)(s[0],"editorialContent.content.thumbnail.resolutions",[]));const n=r.find(e=>e.tag===Io),a=Object(f.b)(n,"url",""),o=[];return s.forEach(e=>{const t=e.editorialContent,s=void 0===t?{}:t,r=s.id,n=s.title;o.push({articleId:void 0===r?"":r,articleTitle:(void 0===n?"":n).trim()})}),{homepageUrl:t,coverImage:a,articles:o}})(e.body)}).catch(e=>{throw e=this.handleCommonError(e)})}request(e,t){return this[e](e,t)}},obiApiClient:class extends S.a{constructor({appId:e=C.Me,loggerParams:t,crumb:s,guidHash:r}){super({loggerName:C.z.ObiApiClient,loggerParams:t,crumb:s}),this.proxyURL=C.mb+"/obi/",this.crumb=s,this.appid=e,r&&(this.ymreqidGenerator=new D.a(r,C.Ke,C.td))}request(e,t){if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated.");const s=this.ymreqidGenerator.generate(),r={apiName:e,appId:this.appId,params:t};t=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ut(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ut(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{crumb:this.crumb,ymreqid:s});const n=new y.b(y.a.GET,this.proxyURL+e);n.setHeader("Accept","application/json");const a=n.send(t);return this.logRequest(a,r),a}},relatedSearchesAPIClient:class extends S.a{constructor({appId:e=C.Me,loggerParams:t,crumb:s,isOnline:r,locale:n,environment:a,region:o}){super({loggerName:C.z.RelatedSearchesAPIClient,loggerParams:t,crumb:s,isOnline:r}),this.appid=e,this.locale=n,this.region=o,this.environment=a}request(){const e={apiName:"relatedSearches",appId:this.appId,locale:this.locale,region:this.region,environment:this.environment},t=new y.b(y.a.GET,"https://s.yimg.com/yo/m2s/EXP/test.json");t.setHeader("Accept","application/json");const s=t.send();return this.logRequest(s,e),s}},senderRollupAPIClient:class extends S.a{constructor({loggerParams:e,appId:t=C.Me,crumb:s,guidHash:r}){super({loggerName:C.z.SenderRollupClient,loggerParams:e,crumb:s}),this.appId=t,this.ymreqidGenerator=new D.a(r,C.Ke,C.td)}getDefaultUrlParams(){return{appid:this.appId,ymreqid:this.ymreqidGenerator.generate(),crumb:this.crumb}}sendersApi(e){const t=this.getDefaultUrlParams(),s=new y.b("GET",fo+"/sender_rollup").send(Object.assign({},t,e));return this.logRequest(s,{apiName:"sendersApi"}),s}},smartReplyClient:class extends S.a{constructor({loggerParams:e,crumb:t,endpoints:s={BOOTCAMP_HOST:"https://data.mail.yahoo.com"}}){super({loggerName:C.z.SmartReplyClient,loggerParams:e,crumb:t}),this.API_BASE=s.BOOTCAMP_HOST+"/f/m/api/smartreply-service/v1/predict"}requestReplyPredictionsForMessages(e=[]){const t=new y.b(y.a.POST,this.API_BASE+"/nudge");t.withCredentials=!0;const s=t.send({messages:e});return this.logRequest(s,{messageIds:e.map(({id:e})=>e).join(" "),apiName:"replyNudge"}),s.then(e=>e.body)}getReplySuggestions(e=[]){const t=new y.b(y.a.POST,this.API_BASE+"/reply");t.withCredentials=!0;const s=t.send({messages:e});return this.logRequest(s,{messageIds:e.map(({id:e})=>e).join(" "),apiName:"smartReply"}),s}},subscriptionAPIClient:class extends S.a{constructor(e){let t=e.loggerParams,s=e.appId,r=e.guidHash;super(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?qe(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qe(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},b()(e,["loggerParams","appId","guidHash"]),{loggerParams:t,loggerName:C.z.SubscriptionAPIClient})),o()(this,"appid",void 0),o()(this,"ymreqidGenerator",void 0),this.appid=s,this.ymreqidGenerator=new D.a(r,C.Ke,C.td)}unsubscribeByEmail({messageId:e,accountId:t,mailboxId:s}){const r=this.wssid,n=this.appid,a=this.ymreqidGenerator.generate(),o=Object(p.stringify)({acctid:t,mboxid:s,wssid:r,appid:n,ymreqid:a}),i=new y.b(C.Sb.POST,`${ze}/email/unsubscribe/${e}?${o}`);i.setHeader("Accept","application/json"),i.withCredentials=!0;const c=i.send().then(e=>{const t=Ye(e.body)?e.body:{};if("failed"===t.status)throw new O.a("ApiError",String(t.message||"unsubscribeByEmail error"),{errorCode:t.code});return t});return this.logRequest(c,{apiName:"unsubscribeByEmail",appId:n,ymreqid:a}),c}unsubscribeByBrand({subscriptions:e,accountId:t,mailboxId:s}){const r=this.wssid,n=this.appid,a=this.ymreqidGenerator.generate(),o=Object(p.stringify)({acctid:t,mboxid:s,wssid:r,appid:n,ymreqid:a}),i=new y.b(C.Sb.POST,`${ze}/email/unsubscribe?${o}`);i.setHeader("Accept","application/json"),i.withCredentials=!0;const c=i.send({subscriptions:e}).then(e=>{const t=Ye(e.body)?e.body:{};if("failed"===t.status)throw new O.a("ApiError",String(t.message||"unsubscribeByBrand error"),{errorCode:t.code});return{subscriptions:Be.runWithException(t.subscriptions)}});return this.logRequest(c,{apiName:"unsubscribeByBrand",appId:n,ymreqid:a}),c}getSubscriptions({mailboxId:e,accountId:t,email:s,sort:r}){const n=this.wssid,a=this.appid,o=this.ymreqidGenerator.generate(),i=Object(p.stringify)({acctid:t,mboxid:e,wssid:n,appid:a,ymreqid:o,email:s,sort:r}),c=new y.b(C.Sb.GET,`${ze}/email/brand?${i}`);c.setHeader("Accept","application/json"),c.withCredentials=!0;const l=c.send().then(({body:e})=>We.runWithException(e)).then(e=>{if("failed"===e.status)throw new O.a("ApiError",e.message,{errorCode:e.code});return e});return this.logRequest(l,{apiName:"subscriptions",appId:a,ymreqid:o}),l}getSubhubRecommendations({mailboxId:e,accountId:t,email:s,sort:r,brandowner:n,count:a}){const o=this.wssid,i=this.appid,c=this.ymreqidGenerator.generate(),l=Object(p.stringify)({acctid:t,mboxid:e,wssid:o,appid:i,ymreqid:c,email:s,sort:r,count:a}),d=new y.b(C.Sb.GET,`${ze}/email/recommended/brand?${l}${void 0!==n?"&brandowner="+n:""}`);d.setHeader("Accept","application/json"),d.withCredentials=!0;const E=d.send().then(({body:e})=>Ke.runWithException(e)).then(e=>{if("failed"===e.status)throw new O.a("ApiError",e.message,{errorCode:e.code});return e});return this.logRequest(E,{apiName:"subscriptionRecommendations",appId:i,ymreqid:c,sort:r,brandOwner:n||"undefined"}),E}},videoAPIClient:class{constructor(e){this.lang=e.locale,this.region=e.region}request(e){const t={region:this.region,lang:this.lang,dev_type:"desktop",site:"mail",sort_by:"recent",channels:e.channel_alias,type:e.type,image_sizes:"175x219"},s=new y.b(y.a.GET,Et+"/getVideos");s.setHeader("Accept","application/json");const r=dt.feature("video_api_client"),n=s.send(t);return n.then(r.logSuccessAndLatency,r.logFailure),n}}},batchMethods:Go};const jo=[];[{app:C.B.MAIL_APP,name:C.B.MAIL_APP,isBasicApp:!1,ssrUnsupportedRoutes:[C.rd.SEARCH,C.rd.SPONSORED_MESSAGE,C.rd.SETTINGS,C.rd.LIST,C.rd.SUBSCRIPTION_LIST],paths:{[C.rd.BASE]:"/",[C.rd.LIST]:"/list/:serializedListId",[C.rd.FOLDER]:"/folders/:fid",[C.rd.MESSAGE_FROM_LIST]:"/list/:serializedListId/messages/:groupId",[C.rd.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[C.rd.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId/:attachmentId?",[C.rd.NEW_DRAFT]:"/compose/:csid?",[C.rd.EDIT_DRAFT]:"/:serializedListId/edit/:csid",[C.rd.SEARCH]:"/search/:query",[C.rd.SETTINGS]:"/settings/:settingsGroupId/:accountId?/:openReauth?",[C.rd.SPONSORED_MESSAGE]:"/folders/:fid/sponsored/:creativeId",[C.rd.TUTORIAL]:"/tutorial",[C.rd.SUBSCRIPTION_LIST]:"/subscriptions/:query"},actionCreators:{},cssBundles:["mail_app"],jsBundles:["mail_app_vendor","mail_app","mail_app_es6_vendor","mail_app_es6"],ssrBundles:["mail_app"],container:{id:"mail-app-container"}},{app:C.B.MOBILE_APP,name:C.B.MOBILE_APP,appRootPath:"/m",isBasicApp:!1,ssrUnsupportedRoutes:[C.rd.SEARCH,C.rd.SPONSORED_MESSAGE,C.rd.PORTRAIT_AD],paths:{[C.rd.BASE]:"/",[C.rd.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId",[C.rd.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId",[C.rd.LIST]:"/list/:serializedListId",[C.rd.MESSAGE_FROM_LIST]:"/list/:serializedListId/messages/:groupId",[C.rd.FOLDER]:"/folders/:fid",[C.rd.EDIT_FOLDER]:"/folders/:fid/edit",[C.rd.NEW_DRAFT]:"/compose/:csid?",[C.rd.EDIT_DRAFT]:"/:serializedListId/edit/:csid",[C.rd.SETTINGS]:"/settings",[C.rd.SUBSCRIPTION_LIST]:"/subscriptions/:query",[C.rd.CONTACTS]:"/contacts",[C.rd.CREATE_CONTACT]:"/contacts/create",[C.rd.CONTACT_DETAILS]:"/contacts/:id",[C.rd.CONTACT_DETAILS_FROM_SEARCH]:"/search/:query/contacts/:id",[C.rd.EDIT_CONTACT]:"/contacts/:id/edit",[C.rd.EDIT_CONTACT_FROM_SEARCH]:"/search/:query/contacts/:id/edit",[C.rd.THEME_CHOOSER]:"/settings/theme",[C.rd.SEARCH]:"/search/:query",[C.rd.SPONSORED_MESSAGE]:"/folders/:fid/sponsored/:creativeId",[C.rd.SIGNATURES_FROM_SETTINGS]:"/settings/signatures",[C.rd.ACCOUNT_LIST_FROM_SETTINGS]:"/settings/accounts",[C.rd.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST]:"/settings/accounts/add",[C.rd.ADD_ACCOUNT_PROVIDER]:"/settings/accounts/add/:provider",[C.rd.BLOCKED_SENDERS]:"/settings/blocked_senders",[C.rd.MESSAGE_PREVIEW]:"/settings/message_preview",[C.rd.REWARDS]:"/reward",[C.rd.PORTRAIT_AD]:"/portraitAd/:creativeId"},cssBundles:["mobile_app"],jsBundles:["mobile_app_vendor","mobile_app"],container:{id:"mobile-app-container"}},{app:C.B.BASIC_MAIL_APP,name:C.B.BASIC_MAIL_APP,appRootPath:"/b",isBasicApp:!0,ssrUnsupportedRoutes:[],paths:{[C.rd.BASE]:"/",[C.rd.FOLDER]:"/folders/:fid",[C.rd.SEARCH]:"/search/:query",[C.rd.MESSAGE]:"/folders/:fid/messages/:mid",[C.rd.NEW_DRAFT]:"/compose",[C.rd.EDIT_DRAFT]:"/compose/:csid",[C.rd.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId/:attachmentId?",[C.rd.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[C.rd.LIST_FOLDERS]:"/listfolders/:serializedListId",[C.rd.CONTACTS]:"/contacts",[C.rd.SETTINGS]:"/settings/:settingsGroup",[C.rd.LOAD_CONTACT]:"/loadcontact",[C.rd.TASK_STATUS]:"/taskstatus"},cssBundles:["basic_mail_app"],jsBundles:[],container:{id:"basic-mail-app-container"}},{app:C.B.BASIC_MOBILE_APP,name:C.B.BASIC_MOBILE_APP,appRootPath:C.H,isBasicApp:!0,ssrUnsupportedRoutes:[],paths:{[C.rd.BASE]:"/",[C.rd.FOLDER]:"/folders/:fid",[C.rd.SEARCH]:"/search/:query",[C.rd.LIST_FOLDERS]:"/listfolders/:serializedListId?",[C.rd.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId",[C.rd.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[C.rd.NEW_DRAFT]:"/compose",[C.rd.EDIT_DRAFT]:"/compose/:csid",[C.rd.SETTINGS]:"/settings/:settingsGroup",[C.rd.CONTACTS]:"/contacts"},cssBundles:["basic_mobile_app"],jsBundles:[],container:{id:"basic-mobile-app-container"}}].forEach(e=>{jo.push(e);const t=Object.assign({},e,{app:e.app+"_TEST",paths:{}});Object.keys(e.paths).forEach(s=>{t.paths[s]="/test"+e.paths[s]}),t.jsBundles=e.jsBundles.map(e=>e.indexOf("_app")>-1?e.replace("_app","_app_test"):e),jo.push(t)});const ko={},xo={};jo.forEach(e=>{ko[e.app]=e.paths,xo[e.app]=e});var Bo=s(7),Vo=s.n(Bo),Wo=s(1),Ko=s.n(Wo),qo=s(13),Yo=s(27),zo=s.n(Yo),Qo=s(31),Zo=s(28),Xo=s.n(Zo),$o=s(6),Jo=s(21),ei=s(17),ti=s(4);const si=Object(f.d)(["BAR","MENU"]);var ri=s(666),ni=s.n(ri),ai=s(22),oi=s(44);const ii=Object($o.defineMessages)({noSubject:{id:"tab.title.no_subject",defaultMessage:"No Subject"},loading:{id:"tab.title.loading",defaultMessage:"Loading"},error:{id:"tab.title.error",defaultMessage:"Error"},newDraft:{id:"tab.title.new_draft",defaultMessage:"New Subject"},closeTab:{id:"tab.label.close",defaultMessage:"Close tab"},checkmail:{id:"tab.label.checkmail",defaultMessage:"Check new messages"},searchDefault:{id:"tab.title.search_default",defaultMessage:"All"},settings:{id:"tab.title.settings",defaultMessage:"Settings"},sponsoredAd:{id:"tab.title.sponsored_ad",defaultMessage:"Sponsored"},ad_text:{id:"ad.text",defaultMessage:"AD"}});class ci extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{hover:!1}),o()(this,"handleClose",e=>{e.stopPropagation(),this.props.onClose(e)}),o()(this,"checkmail",e=>{this.props.isActive&&e.stopPropagation(),e.preventDefault(),this.props.checkmail()}),o()(this,"handleHoverChange",e=>{this.setState({hover:e})}),o()(this,"onCheckmailIconHover",e=>{this.setState({checkMailHover:e})}),o()(this,"_getCheckmailIconColor",()=>this.context.getThemeMode()===ai.i.DARK?this.state.checkMailHover?ti.ColorStates.INVERTED:ti.ColorStates.INVERTED_LESS_DIM:this.state.checkMailHover?this.props.isActive?ti.ColorStates.BLACK:ti.ColorStates.INVERTED:this.props.isActive?ti.ColorStates.FIRST_LEVEL_GRAY:ti.ColorStates.INVERTED_LESS_DIM)}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.isActive,r=t.isCloseable,n=t.onClick,a=t.url,o=t.titleType,i=t.decorator,c=t.kind,l=t.title,d=t.widthOverride,E=t.animate,_=t.showCheckMailIcon,u=t.badgeCount,p=i!==C.te.NONE,m=c===si.BAR&&s,S=this.context.getThemeMode()===ai.i.DARK,h=Object(ai.p)(this.context.getTheme())&&S,g=u>0&&!s&&!this.state.hover,O=this.context.getCss(ni.a,{kind:c,activeBar:m,decoratedMenu:p&&c===si.MENU,decoratedBar:p&&c===si.BAR,decoratedSettings:i===C.te.SETTINGS,activeHover:s&&this.state.hover,activeMenu:c===si.MENU&&s,inactiveHover:!s&&this.state.hover,animate:E,darkThemeMode:S,["darkModePhotoTheme_"+this.context.getTheme()+"_bar"]:h&&c===si.BAR,["darkModePhotoTheme_"+this.context.getTheme()+"_activeBar"]:h&&m,extraIconPadding:[C.te.SMARTVIEW_PEOPLE,C.te.SMARTVIEW_SHOPPING].indexOf(i)>-1});let T,A=l,I=ti.ColorStates.DARK,f=ti.Sizes.XS;switch(i){case C.te.SEARCH:T=ti.Kinds.SEARCH_MINI;break;case C.te.SETTINGS:T=ti.Kinds.SETTINGS,f=ti.Sizes.XXXS;break;case C.te.COMPOSE:T=ti.Kinds.COMPOSE;break;case C.te.SMARTVIEW_PEOPLE:T=ti.Kinds.PEOPLE;break;case C.te.SMARTVIEW_SHOPPING:T=ti.Kinds.SHOPPING;break;case C.te.SMARTVIEW_PHOTOS:T=ti.Kinds.TAB_IMAGES;break;case C.te.SMARTVIEW_DOCUMENTS:T=ti.Kinds.DOCUMENTS_S;break;case C.te.SMARTVIEW_COUPONS:T=ti.Kinds.SCISSORS;break;case C.te.SMARTVIEW_GROCERIES:T=ti.Kinds.BASKET;break;case C.te.SMARTVIEW_RECEIPTS:T=ti.Kinds.DRAFTS;break;case C.te.SMARTVIEW_TRAVEL:T=ti.Kinds.TRAVEL;break;case C.te.SMARTVIEW_TUTORIAL:T=ti.Kinds.CAL_MAYBE;break;case C.te.EXCLAMATION_ALT:T=ti.Kinds.EXCLAMATION_ALT,f=ti.Sizes.XXS}switch(o){case C.ue.NO_SUBJECT:A=e(ii.noSubject);break;case C.ue.LOADING:A=e(ii.loading);break;case C.ue.ERROR:A=e(ii.error);break;case C.ue.NEW_DRAFT:A=e(ii.newDraft);break;case C.ue.SEARCH_DEFAULT:A=e(ii.searchDefault);break;case C.ue.SETTINGS:A=e(ii.settings);break;case C.ue.SPONSORED_AD:A=e(ii.ad_text)}c===si.BAR&&(I=s&&!S?ti.ColorStates.INHERITED:ti.ColorStates.INVERTED),o===C.ue.SMART_VIEW&&s&&ti.ColorStates[i]&&(I=ti.ColorStates[i]);return Ko.a.createElement("a",{"data-test-id":"tab-item","data-test-active":s,href:a,style:{width:d},className:S&&c===si.BAR?O["darkMode_photoTheme"+h]:O.tab,onClick:n,onMouseOver:this.handleHoverChange.bind(this,!0),onMouseLeave:this.handleHoverChange.bind(this,!1),title:A,rel:"noopener"},i!==C.te.NONE?Ko.a.createElement("span",{className:O.decorator},Ko.a.createElement(ei.b,{kind:T,size:f,colorState:(e=>e===C.te.EXCLAMATION_ALT?ti.ColorStates.WARNING:I)(i)})):null,Ko.a.createElement("span",S?{className:m?O.darkThemeModeActiveBarText:O.text}:{className:m?O.activeBarText:O.text},A),g&&Ko.a.createElement("span",{className:O.badgeCount},u),r&&this.state.hover?Ko.a.createElement(Jo.default,{onClick:this.handleClose,className:O.close,kind:ti.Kinds.CLOSE_MINI,size:ti.Sizes.XS,colorState:I,"aria-label":e(ii.closeTab),title:e(ii.closeTab),"data-test-id":"tab-close-button"}):null,_&&this.state.hover&&Ko.a.createElement(Jo.default,{onClick:this.checkmail,className:O.checkmailIcon,kind:ti.Kinds.REFRESH,size:ti.Sizes.XXS,colorState:this._getCheckmailIconColor(),"aria-label":e(ii.checkmail),title:e(ii.checkmail),onMouseOver:this.onCheckmailIconHover.bind(this,!0),onMouseLeave:this.onCheckmailIconHover.bind(this,!1),isOnDarkBackground:S,"data-test-id":"tab-checkmail-button"}))}}o()(ci,"defaultProps",{animate:!1,isCloseable:!0,showCheckMailIcon:!1,checkmail:()=>{},badgeCount:0}),o()(ci,"contextTypes",{intl:$o.intlShape,getCss:Vo.a.func,getThemeMode:Vo.a.func,getTheme:Vo.a.func});var li=Object(qo.connect)(void 0,e=>({checkmail:()=>{e(Object(oi.r)({forceSync:!0,userInitiated:!0}))}}))(ci),di=s(11),Ei=s(42),_i=s(64),ui=s(61),pi=s(15),mi=s(18),Si=s(25),hi=s(63),Ci=s(672),gi=s.n(Ci),Oi=s(12),Ti=s.n(Oi),Ai=s(489),Ii=s(5);const fi=Ti()(gi.a);class Di extends Ko.a.Component{constructor(...e){super(...e),o()(this,"renderTabButtons",(e,t)=>{const s=this.props,r=s.onSelection,n=s.onClose,a=s.smartViews,o=a&&a.length?di.Gb+"px":null;return e.map(e=>{const s=e.title,a=e.titleType,i=e.url,c=e.decorator,l=e.active;return Ko.a.createElement("li",{className:fi.tabItem,key:i},Ko.a.createElement(li,{onClick:r.bind(null,t?si.BAR:si.MENU,e),isCloseable:!0,isActive:l,onClose:n.bind(null,e),title:s,titleType:a,decorator:c,kind:si.MENU,url:i,widthOverride:o}))})}),o()(this,"handleAnchorClick",e=>{const t=this.props,s=t.barTabs,r=t.smartViews,n=void 0===r?[]:r;(0,t.onAnchorClick)({mKey:Ii.g.TABS_MENU_OPEN,sec:Ii.i.TABS_MENU,interactionType:Ii.e.click,actionData:{smartView:!!n.length,addIcon:0===(void 0===s?[]:s).length&&n.length>0}},e)})}render(){const e=this.props,t=e.remainingTabs,s=e.barTabs,r=void 0===s?[]:s,n=e.onCloseAll,a=e.smartViews,o=void 0===a?[]:a,i=e.smartViewCategoriesEnabled,c=i&&o.length,l=r.length>1,d=o.every(e=>e.status),E=i&&0===r.length&&!d?ti.Kinds.ADD:ti.Kinds.CHEVRON_UP,_=Object($o.defineMessages)({tabsMenu:{id:"tabs_menu.menu_button",defaultMessage:"Tabs menu"}});return Ko.a.createElement(_i.a,{className:fi.menuContainer},Ko.a.createElement(ui.a,null,Ko.a.createElement("span",{className:fi.menuButtonContainer},Ko.a.createElement(mi.a,{"data-test-id":"tabs-menu-button",tabIndex:-1,kind:Si.a.CHROMELESS,className:fi.menuButton,"aria-label":this.context.intl.formatMessage(_.tabsMenu),onClick:this.handleAnchorClick},Ko.a.createElement("span",{className:fi.menuSpan},Ko.a.createElement("span",{className:fi.chevron},Ko.a.createElement(ei.b,{kind:E,size:ti.Sizes.XS,rotate:ti.Rotate.D180,colorState:ti.ColorStates.INVERTED})))))),Ko.a.createElement(Ei.b,{triggerOn:pi.i.CLICK,offset:3*di.G,align:pi.a.END,permittedArrowDirections:[pi.h.UP],zAltitude:di.Pb.POPOVER.HIGH,animate:!0},Ko.a.createElement("div",{className:fi.menuContentContainer},r.length?Ko.a.createElement(hi.a,{"data-test-id":"tabs-menu",className:fi.tabList,focusOnMount:!0},this.renderTabButtons(t,!1),this.renderTabButtons(r,!0),!c&&l&&Ko.a.createElement("li",{className:fi.rule}),l&&Ko.a.createElement("li",null,Ko.a.createElement(mi.a,{"data-test-id":"tabs-close-all",onClick:n,className:fi.closeAllButton,tabIndex:0},Ko.a.createElement("span",{className:fi.closeAllText},Ko.a.createElement($o.FormattedMessage,{id:"tabs.menu_close_all",defaultMessage:"Close all tabs"})))),c&&Ko.a.createElement("li",{className:fi.rule})):null,c?Ko.a.createElement(Ai.a,{isMenuMode:!0,showToggleState:!0,showHint:!0}):null)))}}o()(Di,"contextTypes",{intl:Vo.a.object});var Ri=Di,bi=s(676),Ni=s.n(bi),Mi=s(24),yi=s(108),Li=s(173),Pi=s(171),vi=s(186),Fi=s(46),Ui=s(14),wi=s(10),Gi=s(79),Hi=s(8);function ji(e){return-1!==[C.rd.MESSAGE_FROM_FOLDER_LIST,C.rd.MESSAGE_FROM_SEARCH_LIST,C.rd.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST,C.rd.MESSAGE_FROM_LIST].indexOf(e.name)}var ki=s(110),xi=s(96);function Bi(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}Object(Pi.b)({group:vi.c,keys:{naviToLeftTab:{key:"BracketLeft",description:Ko.a.createElement($o.FormattedMessage,{id:"shortcut.navi_tabs_left",defaultMessage:"Navigate to the left tab"})},naviToRightTab:{key:"BracketRight",description:Ko.a.createElement($o.FormattedMessage,{id:"shortcut.navi_tabs_right",defaultMessage:"Navigate to the right tab"})}}});const Vi=["[","]"],Wi=di.Hb+2,Ki=di.Eb+2,qi=Ti()(Ni.a);class Yi extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{boundingWidth:null}),o()(this,"getBoundingWidth",()=>{this._isMounted&&this.setState({boundingWidth:Object(Zo.findDOMNode)(this).getBoundingClientRect().width})}),o()(this,"closeCue",e=>{this.props.featureCueClosed({name:e})}),o()(this,"handleSelection",(e,t,s)=>{var r;s.preventDefault(),this.props.showPeopleSmartViewCue&&Object(Hi.I)(t.route)===C.bc.PEOPLE&&this.closeCue(C.Eb.PEOPLE_SMARTVIEW_CUE);const n=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Bi(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Bi(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({route:t.route},t.fetchFullBody?{full:!0}:{},{tabRecencyRank:this.getTabRecencyRank(t)}),a=(null===(r=n.route)||void 0===r?void 0:r.params)||{};a.groupId&&a.attachmentId&&Object.assign(n,{uiContext:{mKey:Ii.g.TAB_CLICKED_WITH_ATTACHMENT_PREVIEW}}),t.active||this.context.navigateTo(e===si.MENU?Object.assign(n,{reorderPage:!0}):n)}),o()(this,"handleTabClose",({route:e},t)=>{t.preventDefault();this.props.closePage({route:e,i13nModel:{mKey:Ii.g.TABS_MENU_CLOSE,sec:Ii.i.TABS_MENU}})}),o()(this,"handleTabCloseAll",e=>{e.preventDefault(),this.props.closeAllPages()}),o()(this,"handleMenuAnchorClick",(e,t)=>{this._categoriesCue&&this.props.showAllTabsPlusCue?(t.stopPropagation(),this.closeCue(C.Eb.ALL_TABS_PLUS_CUE)):(this._peopleViewCue&&this.props.showPeopleSmartViewCue&&this.closeCue(C.Eb.PEOPLE_SMARTVIEW_CUE),e&&e.actionData&&(e.actionData.multiTaskModeSetting=this.props.multiTaskModeSetting),this.context.executeAction(Li.e,{i13nModel:e}))}),o()(this,"handleShortCut",e=>{switch(e.charCode){case Fi.b.BRACKETLEFT:this.tabNaviLeft(e);break;case Fi.b.BRACKETRIGHT:this.tabNaviRight(e)}})}componentDidMount(){this._isMounted=!0,this.getBoundingWidth(),window.addEventListener("resize",this.getBoundingWidth),this.context.bindShortcut(Vi,this.handleShortCut)}componentWillUnmount(){this._isMounted=!1,window.removeEventListener("resize",this.getBoundingWidth),this.context.unbindShortcut(Vi)}componentWillUpdate(e){const t=e.smartViews.find(e=>this.props.smartViews.find(t=>t.status!==e.status&&t.name===e.name));t&&(this.changedSmartView=t.name===C.Ud.COUPONS?C.te.SMARTVIEW_SHOPPING:C.te["SMARTVIEW_"+t.name],setTimeout(()=>{this.props.route.name!==C.rd.SETTINGS&&this.props.onSmartViewChange(t.status?Object(Ui.x)(t.name,{accountIds:this.props.selectedAccountId,excludefolders:this.props.conversationsEnabled?[C.Mb.TRASH,C.Mb.BULK]:[C.Mb.TRASH,C.Mb.BULK,C.Mb.DRAFT,C.Mb.SENT]}):this.props.isCategorySmartViewActive?this.props.selectedFolderRoute:this.props.route)},400))}renderToFit(){const e=this.props.smartViewCategoriesEnabled,t=[];let s,r=[];const n=this.changedSmartView;if(this.state.boundingWidth){let e=Math.floor((this.state.boundingWidth-di.Fb)/Ki);if(this.tabContent.length>e){e=Math.floor((this.state.boundingWidth-di.Fb)/Wi);const t=Math.min(e,this.tabContent.length),r=Math.floor((this.state.boundingWidth-di.Fb)/t);s=r-2+"px"}this.tabContent.forEach(s=>{!s.active&&t.length<this.tabContent.length-e&&s.isCloseable?t.push(s):r.push(s)})}else r=this.tabContent.slice(0,4);const a=r.filter(({isCloseable:e})=>e),o=a.length||t.length||e,i=r.map(e=>{const t=e.title,r=e.titleType,a=e.url,o=e.active,i=e.decorator,c=e.isCloseable,l=e.showCheckMailIcon,d=e.key,E=e.badgeCount,_={className:qi.item};return i===C.te.SMARTVIEW_PEOPLE&&(_.ref=e=>{this._peopleSmartViewTab=e}),Ko.a.createElement("li",zo()({key:d||a},_),Ko.a.createElement(li,{onClick:t=>this.handleSelection(si.BAR,e,t),isCloseable:c,showCheckMailIcon:l,onClose:t=>this.handleTabClose(e,t),title:t,titleType:r,decorator:i,url:a,kind:si.BAR,isActive:o,widthOverride:s,badgeCount:E,animate:n===i}))});return o&&i.push(Ko.a.createElement("li",{key:"tabMenu",className:qi.moreMenu,ref:"moreMenu"},Ko.a.createElement(Ri,{barTabs:a,remainingTabs:t,onSelection:this.handleSelection,onClose:this.handleTabClose,onCloseAll:this.handleTabCloseAll,onAnchorClick:this.handleMenuAnchorClick,smartViewCategoriesEnabled:e,smartViews:this.props.smartViews}))),i}_allCategorizationsEnabled(){return this.props.smartViews.every(({status:e})=>!!e)}renderCategoriesCue(){return this.props.showAllTabsPlusCue&&this.refs.moreMenu&&!this._allCategorizationsEnabled()?Ko.a.createElement(Ei.b,{popoverAnchor:this.refs.moreMenu,align:pi.a.START,triggerOn:pi.i.MOUNT,f:!0,permittedArrowDirections:[pi.h.UP],onHide:()=>this.closeCue(C.Eb.ALL_TABS_PLUS_CUE),offset:16,zAltitude:di.Pb.POPOVER.HIGH,ref:e=>this._categoriesCue=e,hideOnContentClick:!1},Ko.a.createElement(Mi.a,{import:"../../molecules/categorization/all_tabs_plus_cue",cueName:C.Eb.ALL_TABS_PLUS_CUE,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1273))},_moduleResolver:function(){return 1273}})):(this._categoriesCue=null,null)}_isInsidePeopleView(){const e=this.tabContent.find(({active:e})=>e);return e&&e.decorator===C.te.SMARTVIEW_PEOPLE}renderPeopleSmartViewCue(){return this.props.showPeopleSmartViewCue&&this._peopleSmartViewTab&&!this._isInsidePeopleView()?Ko.a.createElement(Ei.b,{popoverAnchor:this._peopleSmartViewTab,align:pi.a.START,triggerOn:pi.i.MOUNT,permittedArrowDirections:[pi.h.UP],onHide:()=>this.closeCue(C.Eb.PEOPLE_SMARTVIEW_CUE),offset:16,zAltitude:di.Pb.POPOVER.HIGH,ref:e=>this._peopleViewCue=e,highlight:!0,hideOnContentClick:!1},Ko.a.createElement(Mi.a,{import:"../../molecules/categorization/people_smartview_cue",cueName:C.Eb.PEOPLE_SMARTVIEW_CUE,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1274))},_moduleResolver:function(){return 1274}})):(this._peopleViewCue=null,null)}navigateToLeftRail(){this.context.navigateTo({route:this.props.selectedFolderRoute})}getActiveTabIndex(e){return e.findIndex(e=>!0===e.active)}getTabRecencyRank(e){return this.props.limitedMessageTabs.findIndex(t=>Object(Ui.F)(t,e.route))}tabNaviLeft(e){if(0===this.tabContent.length)return;const t=this.getActiveTabIndex(this.tabContent);-1===t?this.handleSelection(si.BAR,this.tabContent[this.tabContent.length-1],e):0===t?this.navigateToLeftRail():this.handleSelection(si.BAR,this.tabContent[t-1],e)}tabNaviRight(e){if(0===this.tabContent.length)return;const t=this.getActiveTabIndex(this.tabContent);-1===t?this.handleSelection(si.BAR,this.tabContent[0],e):t===this.tabContent.length-1?this.navigateToLeftRail():this.handleSelection(si.BAR,this.tabContent[t+1],e)}render(){return this.tabContent=this.props.getTabContent(this.context),Ko.a.createElement("ul",{className:qi.container,"data-test-id":"tab-list","data-test-count":this.tabContent.length},this.renderPeopleSmartViewCue(),this.renderCategoriesCue(),this.renderToFit())}}function zi(e,t,s){const r=s.isFeatureEnabled,n=s.getSmartViewTypeFromRoute,a=s.getSmartViewPosition,o=s.getSmartViewTypeFromListId,i=(0,s.getRoute)(),c=r(C.Kd.MAIL_TABS),l=n(t),d=e.intl.formatMessage,E=a(l),_=E===C.Td.TAB_BAR&&l===C.Ud.COUPONS?C.te.SMARTVIEW_SHOPPING:C.te["SMARTVIEW_"+l];return{route:t,url:e.getUrlFromRoute(t),active:c||l===C.Ud.TUTORIAL?Object(Ui.F)(i,t):o(Object(Hi.z)(i))===l,title:d(E===C.Td.TAB_BAR&&l===C.Ud.COUPONS?ki.a.smart_view_SHOPPING:ki.a["smart_view_"+l]),titleType:C.ue.SMART_VIEW,decorator:_,showCheckMailIcon:E===C.Td.TAB_BAR&&Object(Hi.W)(i),isCloseable:E!==C.Td.TAB_BAR,key:_,fetchFullBody:!1}}o()(Yi,"contextTypes",{intl:$o.intlShape.isRequired,getUrlFromRoute:Vo.a.func,executeAction:Vo.a.func,navigateTo:Vo.a.func,bindShortcut:Vo.a.func,unbindShortcut:Vo.a.func}),o()(Yi,"defaultProps",{showAllTabsPlusCue:!1,showPeopleSmartViewCue:!1,smartViews:[],onSmartViewChange:()=>{}});const Qi=e=>t=>{const s=Object(wi.selectors)(e),r=s.getTabPages,n=s.getFolderName,a=s.getMessageCsid,o=s.getFolderDisplayTypeByFolderId,i=s.isFeatureEnabled,c=s.getMessageGroupsSelectors,l=s.isMessageGroupLoading,d=s.doesComposeSessionExist,E=s.getDraftMessageId,_=s.getReplyingToMessageId,u=s.doesMessageFullBodyExist,p=s.doesMessageBodyHasError,m=s.getMessageSubject,S=s.doesMessageIdExist,g=s.getRelevantMessageIdFromMessageGroupId,O=s.doesRouteContainFailure,T=s.getForwardAttachmentIds,A=s.getSmartViewTypeFromRoute,I=s.getMessageIdsFromMessageGroupId,f=(0,s.getRoute)(),D=t.intl.formatMessage,R={[C.xb.YAHOO]:D(Gi.a.yahoo_account_description),[C.xb.YAHOO_SB]:D(Gi.a.yahoo_account_description),[C.xb.OUTLOOK]:D(Gi.a.outlook_account_description),[C.xb.AOL]:D(Gi.a.aol_account_description),[C.xb.GOOGLE]:D(Gi.a.gmail_account_description),[C.xb.GOOGLE_APP]:D(Gi.a.gmail_account_description)},b=r(),N=i(C.Kd.MAIL_TABS),M=i(C.Eb.SMARTVIEW_CATEGORIES_ENABLED),y=[];return b.forEach(e=>{const r=e.params,i=e.name,b=e.query,L={route:e,url:t.getUrlFromRoute(e),active:Object(Ui.F)(f,e),title:"",titleType:C.ue.TEXT,decorator:C.te.NONE,showCheckMailIcon:!1,isCloseable:!0,fetchFullBody:!1};switch(i){case C.rd.LIST:if(!M)return;return void((Object(Hi.W)(e)?A(e):null)&&y.push(zi(t,e,s)));case C.rd.TUTORIAL:return void(M&&y.push(zi(t,e,s)));case C.rd.BASE:return;case C.rd.FOLDER:if(M){let t;const s=Object(Hi.z)(e),r=Object(Hi.q)(s);if(r){const e=o(r);t=Object(pt.m)(D,e)||n(r)}y.push(Object.assign({},L,{titleType:C.ue.TEXT,title:t,decorator:C.te.NONE,isCloseable:!1,showCheckMailIcon:f.name===C.rd.FOLDER,active:N?L.active:r===Object(Hi.q)(Object(Hi.z)(f))}))}return;case C.rd.SETTINGS:L.titleType=C.ue.SETTINGS,L.decorator=C.te.SETTINGS;break;case C.rd.SEARCH:{const r=Object(Hi.z)(e);if(Object(Hi.P)(r)){if(!M)return;const n=Object(Hi.Z)(e),a=Object(Hi.Y)(r);if(!n&&!a)return;if(!n){return void((Object(Hi.W)(e)?A(e):null)&&y.push(zi(t,e,s)))}{const e=Object(Hi.K)(r);L.title=D(ki.a["smart_view_"+e]),L.titleType=C.ue.SMARTVIEW,L.active=N?L.active:e===Object(Hi.K)(Object(Hi.z)(f))}}else L.title=function(e,t,s){const r=e.getFolderName,n=e.getSelectedAccountIdByRoute,a=e.getProviderFromAccount,o=e.getAccountDescriptionByAccountId,i=(0,e.hasMultipleRootAccounts)(),c=Object(Hi.z)(t),l=Object(Hi.q)(c),d=Object(Hi.h)(c),E=d.name,_=d.keyword,u=Object(Hi.g)(c),p=n(t),m=a(p),S=o(p);let h;if(l){const e=r(l);h=i?(S||s[m])+"/"+e:e}else 1===u.length&&(h=i?S||s[m]:h);const C=Object(Hi.U)(c)?E:_;return h?C?h+" "+C:h:C}(s,e,R),L.titleType=L.title?C.ue.SEARCH_KEYWORD:C.ue.SEARCH_DEFAULT,L.decorator=C.te.SEARCH;break}case C.rd.MESSAGE_FROM_LIST:case C.rd.MESSAGE_FROM_SEARCH_LIST:case C.rd.MESSAGE_FROM_FOLDER_LIST:{if(r.attachmentId&&"1"===b.fullscreen)break;if(!c().doesMessageGroupIdExist(r.groupId)||l(r.groupId)){L.titleType=C.ue.LOADING;break}const t=Object(Hi.z)(e),s=g(r.groupId,t);L.badgeCount=I(r.groupId).reduce((e,t)=>{if(S(t)){const s=a(t);return e+(d(s)?T(s).length:0)}return e},0);const n=m(s,t)||"";L.title=i===C.rd.MESSAGE_FROM_SEARCH_LIST?Object(xi.e)(n):n,L.title||(L.titleType=C.ue.NO_SUBJECT),O(e)&&(L.decorator=C.te.EXCLAMATION_ALT);break}case C.rd.NEW_DRAFT:case C.rd.EDIT_DRAFT:{const t=decodeURIComponent(r.csid),s=d(t);L.decorator=C.te.COMPOSE,t&&s?L.badgeCount=T(t).length:L.titleType=C.ue.LOADING;const n=s&&(E(t)||_(t));if(n)if(u(n))if(p(n))L.titleType=C.ue.ERROR;else{const t=Object(Hi.z)(e);L.title=m(n,t)}else L.titleType=C.ue.LOADING;else L.titleType=C.ue.NEW_DRAFT;L.title||(L.titleType=C.ue.NEW_DRAFT),O(e)&&(L.decorator=C.te.EXCLAMATION_ALT);break}case C.rd.SPONSORED_MESSAGE:L.titleType=C.ue.SPONSORED_AD;break;case C.rd.SUBSCRIPTION_LIST:return;default:Object(h.a)(!1,"We do not know how to get title of the tab for this route: "+i)}y.push(L)}),y.filter(Boolean)};var Zi=Object(Qo.compose)(Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getSetting,r=t.getTabPages,n=t.getRoute,a=t.getSelectedAccountId,o=t.getSmartViewTypeFromRoute,i=t.getSmartViewPosition,c=(0,t.getFeaturesSelectors)(),l=c.isEnabled(C.Eb.SMARTVIEW_CATEGORIES_ENABLED),d=c.isEnabled(C.Eb.ALL_TABS_PLUS_CUE),E=c.isEnabled(C.Eb.PEOPLE_SMARTVIEW_CUE),_=s(C.Kd.SYSTEM_TABS),u=c.isEnabled(C.Kd.MAIL_TABS),p=n(),m=r().find(e=>e.name===C.rd.FOLDER||Object(Hi.Z)(e)||Object(Hi.S)(e)),S=c.isEnabled(C.Eb.CONVERSATIONS),h=Object(Hi.W)(p)?o(p):null,g=Object(Hi.W)(p)&&i(h)===C.Td.TAB_BAR,O=function(e){const t=Object(wi.selectors)(e),s=t.isDraftGroup;return(0,t.getTabPages)().filter(e=>ji(e)&&!s(e.params.groupId)).sort((e,t)=>(t.timestamp||0)-(e.timestamp||0))}(e);return{getTabContent:Qi(e),selectedFolderRoute:m,route:p,selectedAccountId:a(),smartViews:_,multiTaskModeSetting:u,smartViewCategoriesEnabled:l,showAllTabsPlusCue:d,showPeopleSmartViewCue:E,isCategorySmartViewActive:g,conversationsEnabled:S,limitedMessageTabs:O}}),Object(qo.connect)(void 0,e=>({featureCueClosed:t=>e(Object(yi.a)(t)),closePage:({route:t,i13nModel:s={}})=>e(Object(oi.c)({route:t,i13nModel:s})),closeAllPages:t=>e(Object(oi.b)(t)),onSmartViewChange:t=>e(Object(oi.j)({route:t}))})))(Yi),Xi=s(587);function $i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ji(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$i(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class ec extends Wo.Component{constructor(e){super(e)}componentDidMount(){const e=this.props.toast;e&&this.context.toast(e)}componentDidUpdate(e){const t=this.props.toast;t&&t!==e.toast&&this.context.toast(t)}render(){return null}}ec.contextTypes={toast:Vo.a.func};var tc=Object(qo.connect)((e,{toastMap:t})=>{const s=(0,Object(wi.selectors)(e).getAction)();let r=t[s.type];return"function"==typeof r&&(r=r(s,e)),r?{toast:Ji({},r,{data:s})}:{}})(ec),sc=s(2),rc=s(122),nc=s.n(rc),ac=s(354),oc=s(677),ic=s.n(oc);const cc=Ti()(ic.a);class lc extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleChangeAccept",()=>{this.context.navigateTo({route:Object(Ui.w)({settingsGroupId:C.Nd.VIEWING_EMAIL,accountId:this.props.accountId})})}),o()(this,"handleChangeReject",()=>{this.context.executeAction(ac.b)})}render(){return Ko.a.createElement("span",{className:cc.container},Ko.a.createElement($o.FormattedMessage,{id:"timezone.change_msg",defaultMessage:"New time zone detected."}),"",Ko.a.createElement("a",{"data-test-id":"primary-button",className:cc.primaryButton,onClick:e=>{e.preventDefault(),this.handleChangeAccept()}},Ko.a.createElement($o.FormattedMessage,{id:"timezone.change_accept",defaultMessage:"Update my location"})))}}o()(lc,"contextTypes",{executeAction:Vo.a.func,navigateTo:Vo.a.func});var dc=lc,Ec=s(299),_c=s(88),uc=s(678),pc=s.n(uc),mc=s(51);const Sc=Ti()(pc.a);function hc({error:e,sendFailureRoute:t},{navigateTo:s,getUrlFromRoute:r}){const n=e||{},a=n.errorCode,o=n.data,i=(void 0===o?{}:o).info,c=void 0===i?{}:i,l=r(t),d={message:l?Ko.a.createElement("a",{href:l,className:Sc.link,"data-test-id":"navigate-button",onClick:e=>{e.preventDefault(),s({route:t})}},Ko.a.createElement($o.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})):Ko.a.createElement($o.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})};return Ko.a.createElement($o.FormattedMessage,"EC-4017"===a?{id:"compose.temp_send_failure_notification",defaultMessage:"Your message cannot be sent because you are attempting to send too many emails at once. Please try again later"}:"EP-4010"===a&&c.spame?{id:"compose.spam_send_failure_notification",defaultMessage:"Your message cannot be sent because it resembles spam and/or contains only links. Please modify your {message} and try again",values:d}:{id:"compose.send_failure_notification",defaultMessage:"An error occurred while sending the {message}.",values:d})}function Cc({route:e,sentFolderId:t,groupId:s},{navigateTo:r,getUrlFromRoute:n}){const a={name:C.rd.MESSAGE_FROM_FOLDER_LIST,params:{fid:t,groupId:s},query:e.query||{}},o=n(a);return Ko.a.createElement($o.FormattedMessage,{id:"compose.send_success_notification_with_link",defaultMessage:"Your {message} has been sent.",values:{message:o?Ko.a.createElement("a",{href:o,className:Sc.link,"data-test-id":"navigate-button",onClick:e=>{e.preventDefault(),r({route:a})}},Ko.a.createElement($o.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})):Ko.a.createElement($o.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})}})}hc.contextTypes={navigateTo:Vo.a.func,getUrlFromRoute:Vo.a.func},Cc.contextTypes={navigateTo:Vo.a.func,getUrlFromRoute:Vo.a.func};const gc=Object(qo.connect)((e,t)=>{const s=t.message;return{groupId:t.conversationsMode?s.conversationId:s.id}})(Cc);function Oc(){return Ko.a.createElement($o.FormattedMessage,{id:"compose.already_sent_message",defaultMessage:"The message you are trying to save has already been sent using another session. Please check your sent folder."})}function Tc({messageGroupId:e,message:t,composeMode:s},{executeAction:r}){const n=Ko.a.createElement("span",{onClick:()=>{r(_c.u,{messageGroupId:e,message:t,composeMode:s})},className:Sc.link,"data-test-id":"notification-retry-compose-action"},Ko.a.createElement($o.FormattedMessage,{id:"notification.compose_draft_failed_retry_link",defaultMessage:"Retry"}));return Ko.a.createElement($o.FormattedMessage,s===C.U.Modes.FORWARD?{id:"notification.draft_forward_failed",defaultMessage:"We encountered some issues while forwarding this message. {link}",values:{link:n}}:{id:"notification.draft_reply_or_reply_all_failed",defaultMessage:"We encountered some issues while replying to this message. {link}",values:{link:n}})}Tc.contextTypes={executeAction:Vo.a.func};var Ac=s(679),Ic=s.n(Ac);const fc=Ti()(Ic.a);var Dc=class extends Ko.a.Component{render(){const e=this.props.value,t=e+"%",s={width:t};return Ko.a.createElement("div",{className:fc.progress},Ko.a.createElement("div",{className:fc.placeholder}),Ko.a.createElement("div",{className:fc.value,style:s,"data-test-id":"progress-bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e},Ko.a.createElement("span",{className:fc.label,"data-test-id":"progress-value",role:"presentation"},t)))}},Rc=s(680),bc=s.n(Rc);const Nc=Ti()(bc.a);class Mc extends Ko.a.Component{render(){const e=this.props,t=e.subtitle,s=e.progress,r=e.onCancel,n=e.isCancelable;return Ko.a.createElement("div",{className:Nc.container,"data-test-id":"progress-dialog"},Ko.a.createElement("div",{className:Nc.messageContainer},Ko.a.createElement("span",{className:Nc.message,"data-test-id":"progress-dialog-message"},e.message),n&&Ko.a.createElement(mi.a,{onClick:r,className:Nc.cancel,"data-test-id":"progress-dialog-cancel"},Ko.a.createElement($o.FormattedMessage,{id:"confirm.cancel",defaultMessage:"Cancel"}))),Ko.a.createElement("div",{className:Nc.subtitle},t),Ko.a.createElement("div",{className:Nc.bar},Ko.a.createElement(Dc,{value:s})))}}o()(Mc,"defaultProps",{isCancelable:!1,onClose:()=>{}});var yc=Mc,Lc=s(100),Pc=s(220);var vc=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.isAsyncTaskPending,r=t.getAsyncTask,n=(0,t.getFeaturesSelectors)().getSetting(C.Kd.ASYNC_TASK_POLL_INTERVAL);if(!s())return{asyncTaskPollInterval:n};const a=r();return{taskId:a.taskId,status:a.status,progress:a.progress,pollCount:a.pollCount,asyncTaskPollInterval:n}},e=>({bulkTaskCancelRequest:t=>e(Object(Pc.b)({taskId:t})),forceSync:()=>e(Object(oi.r)({forceSync:!0,i13nModel:{}}))}))(class extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleCancel",()=>{this.props.bulkTaskCancelRequest({taskId:this.props.taskId})}),o()(this,"isTaskCancelable",()=>{const e=this.props;return e.taskId&&e.status===C.K.PENDING}),o()(this,"renderMessage",()=>{const e=this.props,t=e.folderId,s=e.count,r=e.conversations;switch(e.triageActionType){case C.ye.READ_CHANGE_FOLDER_ITEMS:return Ko.a.createElement($o.FormattedMessage,{id:"progress.mark_read",defaultMessage:"Marking {emailsNum, plural,\n                        =1 {message}\n                        other {# messages}\n                        } in {folderName} as read...\n                    ",values:{emailsNum:s,folderName:Ko.a.createElement(Lc.a,{folderId:t})}});case C.ye.DELETE_FOLDER_ITEMS:return Ko.a.createElement($o.FormattedMessage,{id:"progress.delete",defaultMessage:"Deleting {emailsNum, plural,\n                        =1 {message}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{emailsNum:s,folderName:Ko.a.createElement(Lc.a,{folderId:t})}});case C.ye.ARCHIVE_FOLDER_ITEMS:return Ko.a.createElement($o.FormattedMessage,{id:"progress.archive",defaultMessage:"Archiving {count, plural,\n                        =1 {message}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{count:s,folderName:Ko.a.createElement(Lc.a,{folderId:t})}});case C.ye.DELETE_SELECTED_ITEMS:return Ko.a.createElement($o.FormattedMessage,{id:"progress.messages_delete",defaultMessage:"Deleting {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:r,count:s}});case C.ye.DELETE_ALL_FROM_SENDERS:return Ko.a.createElement($o.FormattedMessage,{id:"progress.messages_delete_from_senders",defaultMessage:"Deleting {conversations, select, true {conversations} false {messages}}",values:{conversations:r}});case C.ye.MOVE_SELECTED_ITEMS:return Ko.a.createElement($o.FormattedMessage,{id:"progress.messages_move",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:r,count:s}});case C.ye.DELETE_ALL_ITEMS:case C.ye.MOVE_ALL_ITEMS:case C.ye.UNDO_MOVE:return Ko.a.createElement($o.FormattedMessage,{id:"progress.move_query",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:r,count:s}});case C.ye.READ_CHANGE_ALL_ITEMS:case C.ye.READ_CHANGE_SELECTED_ITEMS:case C.ye.STAR_CHANGE_ALL_ITEMS:case C.ye.STAR_CHANGE_SELECTED_ITEMS:return Ko.a.createElement($o.FormattedMessage,{id:"progress.mark_query",defaultMessage:"Updating {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:r,count:s}});case C.ye.ARCHIVE_ALL_ITEMS:case C.ye.ARCHIVE_SELECTED_ITEMS:return Ko.a.createElement($o.FormattedMessage,{id:"progress.messages_archive",defaultMessage:"Archiving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:r,count:s}});case C.ye.RESTORE_ALL_ITEMS:case C.ye.RESTORE_SELECTED_ITEMS:case C.ye.NOT_SPAM_ALL_ITEMS:case C.ye.NOT_SPAM_SELECTED_ITEMS:return Ko.a.createElement($o.FormattedMessage,{id:"progress.messages_restore",defaultMessage:"Restoring {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    } to Inbox",values:{conversations:r,count:s}});case C.ye.SPAM_ALL_ITEMS:case C.ye.SPAM_SELECTED_ITEMS:return Ko.a.createElement($o.FormattedMessage,{id:"progress.messages_mark_spam",defaultMessage:"Marking {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    } as Spam",values:{conversations:r,count:s}})}return null}),o()(this,"renderStatus",()=>{switch(this.props.status){case C.K.ABORTING:return Ko.a.createElement($o.FormattedMessage,{id:"progress.aborting",defaultMessage:"Cancelling"});case C.K.ABORT_FAILED:return Ko.a.createElement($o.FormattedMessage,{id:"progress.abort_failed",defaultMessage:"Failed to cancel. Please Retry"});default:return null}})}componentDidUpdate(){clearTimeout(this.handleProgressTimeout),this.handleProgressTimeout=setTimeout(()=>{this.props.forceSync()},this.props.asyncTaskPollInterval)}componentWillUnmount(){clearTimeout(this.handleProgressTimeout)}render(){const e=this.props.progress,t=void 0===e?0:e;return Ko.a.createElement(yc,{isCancelable:this.isTaskCancelable(),onCancel:this.handleCancel,progress:t,message:this.renderMessage(),subtitle:this.renderStatus()})}});var Fc=s(682),Uc=s.n(Fc),wc=s(182),Gc=s(94);const Hc=Ti()(Uc.a);function jc(){return Ko.a.createElement($o.FormattedMessage,{id:"compose.duplicateAttachmentAlert",defaultMessage:"That file has already been attached."})}function kc(){return Ko.a.createElement($o.FormattedMessage,{id:"compose.send_email_address_missing_notification",defaultMessage:"Please add at least one email address before sending."})}function xc(e,{intl:{locale:t}}){const s=Object(wc.h)("SLN3353")(t);return Ko.a.createElement("div",null,Ko.a.createElement("div",{className:Hc.notificationTitle},Ko.a.createElement($o.FormattedMessage,{id:"compose.send_recipients_exceeded_notification_title",defaultMessage:"Send Error: Too many recipients for this email"})),Ko.a.createElement("div",{className:Hc.notificationSubText},Ko.a.createElement($o.FormattedMessage,{id:"compose.send_recipients_exceeded_notification_subtext",defaultMessage:"Please reduce the number of recipients and try to send again."}),Ko.a.createElement("br",null),Ko.a.createElement(mi.a,{kind:Si.a.CHROMELESS,"data-test-id":"compose_learn_more_btn",onClick:()=>Object(Gc.a)(s)},Ko.a.createElement("span",{className:Hc.button},Ko.a.createElement($o.FormattedMessage,{id:"compose.learn_more_url",defaultMessage:"Learn more"})))))}function Bc({invalidAddresses:e=[]}){const t=[];return e.forEach((e,s,r)=>{const n="_"+s;t.push(Ko.a.createElement("span",{key:n},e)),s<r.length-1&&t.push(Ko.a.createElement($o.FormattedMessage,{key:n+"-delim",id:"email_separator",defaultMessage:"\n                        {isLast, select,\n                            false {,\\u0020}\n                            true {, and\\u0020}}\n                    ",values:{isLast:s===r.length-2}}))}),Ko.a.createElement($o.FormattedMessage,{id:"compose.send_email_address_correction_notification",defaultMessage:"Please correct these email addresses before sending: {emailList}",values:{emailList:Ko.a.createElement("span",null,t)}})}xc.contextTypes={intl:$o.intlShape.isRequired};const Vc=Object(qo.connect)((e,{csid:t})=>({isUploading:(0,Object(wi.selectors)(e).isAttachmentUploadPendingForComposeSession)(t)}))((function({isUploading:e}){return Ko.a.createElement($o.FormattedMessage,e?{id:"compose.uploading_attachment_email_status",defaultMessage:"Adding attachments..."}:{id:"compose.sending_email_status",defaultMessage:"Sending..."})}));function Wc(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.draft_save_failed",defaultMessage:"Message cannot be saved as draft."})}function Kc({messageIds:e}){return Ko.a.createElement($o.FormattedMessage,{id:"notification.delete_draft_success",defaultMessage:"{count, plural, one {Draft} other {Drafts}} permanently deleted.",values:{count:e&&e.length||1}})}function qc({messageIds:e}){return Ko.a.createElement($o.FormattedMessage,{id:"notification.delete_draft_failure",defaultMessage:"Unable to delete the {count, plural, one {draft} other {drafts}}.",values:{count:e&&e.length||1}})}function Yc(){return Ko.a.createElement($o.FormattedMessage,{id:"compose.draft_unavailable_notification",defaultMessage:"The message you are trying to open is no longer available."})}const zc=()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_group_edit_succeeded",defaultMessage:"Contact list updated"}),Qc=()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_group_edit_in_progress",defaultMessage:"Updating contact list"});var Zc=s(683),Xc=s.n(Zc),$c=s(82);const Jc=Ti()(Xc.a);const el=Object(qo.connect)(null,e=>({featureCueNotificationClosed:t=>e(Object(yi.d)(t)),toggleAutoOpenSettingsPopover:t=>e(Object($c.I)(t))}))(class extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleClick",e=>{e.preventDefault(),this.props.onClose(),this.props.toggleAutoOpenSettingsPopover({status:!0})})}render(){const e=Ko.a.createElement("span",{onClick:this.handleClick,className:Jc.settings,"data-test-id":"settings-link"},Ko.a.createElement($o.FormattedMessage,{id:"notification.themes_cue_v3_closed_settings",defaultMessage:"Settings"}));return Ko.a.createElement($o.FormattedMessage,{id:"notification.themes_cue_v3_closed",defaultMessage:"Theme saved. For more ways to personalize, go to {Settings}.",values:{Settings:e}})}componentWillUnmount(){this.props.featureCueNotificationClosed({name:C.Eb.THEMES_CUE_V3})}});function tl({folder:e}){return Ko.a.createElement($o.FormattedMessage,{id:"folder.create_success",defaultMessage:"{folderName} folder created",values:{folderName:Ko.a.createElement("strong",null,e.name)}})}function sl({folderName:e}){return Ko.a.createElement($o.FormattedMessage,{id:"folder.create_failure",defaultMessage:"Failed creating {folderName} folder",values:{folderName:Ko.a.createElement("strong",null,e)}})}function rl({folderId:e,progress:t}){const s=Ko.a.createElement("strong",null,Ko.a.createElement(Lc.a,{folderId:e}));if(t<100){const e=Ko.a.createElement("strong",null,t,"%");return Ko.a.createElement($o.FormattedMessage,{id:"folder.markasread_partial_success",defaultMessage:"{progress} of messages in {folderName} marked as read",values:{folderName:s,progress:e}})}return Ko.a.createElement($o.FormattedMessage,{id:"folder.mark_read_success",defaultMessage:"Folder {folderName} was marked as read",values:{folderName:s}})}function nl({folderId:e}){return Ko.a.createElement($o.FormattedMessage,{id:"folder.mark_read_failure",defaultMessage:"Failed marking folder {folderName} as read",values:{folderName:Ko.a.createElement("strong",null,Ko.a.createElement(Lc.a,{folderId:e}))}})}function al({folderId:e,progress:t}){const s=Ko.a.createElement("strong",null,Ko.a.createElement(Lc.a,{folderId:e}));if(t<100){const e=Ko.a.createElement("strong",null,t,"%");return Ko.a.createElement($o.FormattedMessage,{id:"folder.archive_partial_success",defaultMessage:"{progress} of messages in {folderName} archived",values:{folderName:s,progress:e}})}return Ko.a.createElement($o.FormattedMessage,{id:"folder.archive_success",defaultMessage:"Messages in folder {folderName} were moved to archive",values:{folderName:s}})}function ol({folderId:e}){return Ko.a.createElement($o.FormattedMessage,{id:"folder.archive_failure",defaultMessage:"Failed moving folder {folderName} messages to archive",values:{folderName:Ko.a.createElement("strong",null,Ko.a.createElement(Lc.a,{folderId:e}))}})}function il({folderId:e,progress:t}){const s=Ko.a.createElement("strong",null,Ko.a.createElement(Lc.a,{folderId:e}));if(t<100){const e=Ko.a.createElement("strong",null,t,"%");return Ko.a.createElement($o.FormattedMessage,{id:"folder.delete_partial_success",defaultMessage:"{progress} of messages in {folderName} deleted",values:{folderName:s,progress:e}})}return Ko.a.createElement($o.FormattedMessage,{id:"folder.clear_success",defaultMessage:"Folder {folderName} was cleared",values:{folderName:s}})}function cl({folderId:e}){return Ko.a.createElement($o.FormattedMessage,{id:"folder.clear_failure",defaultMessage:"Failed clearing folder {folderName}",values:{folderName:Ko.a.createElement("strong",null,Ko.a.createElement(Lc.a,{folderId:e}))}})}function ll(){return Ko.a.createElement($o.FormattedMessage,{id:"folder.access_failure",defaultMessage:"The folder you're trying to access is no longer valid"})}const dl=Object(qo.connect)((e,t)=>((0,Object(wi.selectors)(e).isOnline)()&&t.onClose(),{}))(class extends Ko.a.Component{render(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.no_internet",defaultMessage:"No internet connection."})}});var El=s(263),_l=s.n(El);const ul=Ti()(_l.a);class pl extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleClick",e=>{const t={mKey:Ii.g.FIX_IMAP_ACCOUNT,sec:Ii.i.NOTIFICATION_ACTION,interactionType:Object(Ps.getInteractionFromEvent)(e)},s=this.props,r=s.accountId,n=s.provider,a=window.screen.width-400,o=window.screen.height-300;window.oAuthWindow=window.open("","authorizeWindow",`width=800, height=600, top=${o}, left=${a}`),this.props.onClose(),this.context.navigateTo({route:Object(Ui.w)({settingsGroupId:C.Nd.ACCOUNTS,accountId:r,provider:n,openReauth:!0}),i13nModel:t})})}render(){let e;return e=Ko.a.createElement($o.FormattedMessage,this.props.provider===C.xb.GOOGLE?{id:"notifications.signintogoogle",defaultMessage:"Sign in to Google"}:{id:"notifications.gotosettings",defaultMessage:"Go to Settings"}),Ko.a.createElement("div",null,Ko.a.createElement($o.FormattedMessage,{id:"mailbox.not_sycning",defaultMessage:"This mailbox is not syncing and needs permission to resume."}),"",Ko.a.createElement(mi.a,{"aria-hidden":!0,kind:Si.a.CHROMELESS,onClick:this.handleClick},Ko.a.createElement("span",{className:ul.actionLink},e)))}}o()(pl,"contextTypes",{navigateTo:Vo.a.func});const ml=Object(qo.connect)()(pl),Sl=({conversations:e,count:t})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.move_message_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} other {conversations} }} false {{count, plural, =1 {message} other {messages} }} } to the selected folder.",values:{conversations:e,count:t}}),hl=({conversations:e,count:t})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.markSpam_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation was} other {Conversations were} }} false {{count, plural, =1 {Message was} other {Messages were} }} } successfully marked as Spam",values:{conversations:e,count:t}}),Cl=({conversations:e,count:t})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.markSpam_failure",defaultMessage:"Unable to mark the {conversations, select, true {{count, plural, =1 {conversation} other {conversations} }} false {{count, plural, =1 {message} other {messages} }} } as Spam.",values:{conversations:e,count:t}}),gl=({conversations:e,count:t})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.notSpam_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation was} other {Conversations were} }} false {{count, plural, =1 {Message was} other {Messages were} }} } moved to Inbox",values:{conversations:e,count:t}}),Ol=({conversations:e,count:t})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.notSpam_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} other {conversations} }} false {{count, plural, =1 {message} other {messages} }} } to Inbox",values:{conversations:e,count:t}}),Tl=({conversations:e,count:t})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.archive_failure",defaultMessage:"Unable to Archive the {conversations, select, true {{count, plural, =1 {conversation} other {# conversations} }} false {{count, plural, =1 {message} other {messages} }} }.",values:{conversations:e,count:t}}),Al=({conversations:e,count:t})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.restore_inbox_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation} other {# conversations} }} false {{count, plural, =1 {Message} other {# messages} }} } moved to Inbox",values:{conversations:e,count:t}}),Il=({conversations:e,count:t})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.restore_inbox_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} other {# conversations} }} false {{count, plural, =1 {message} other {messages} }} } to Inbox",values:{conversations:e,count:t}}),fl=({conversations:e,count:t})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.delete_failure",defaultMessage:"Unable to delete the {conversations, select, true {{count, plural, =1 {conversation} other {# conversations} }} false {{count, plural, =1 {message} other {# messages} }} }.",values:{conversations:e,count:t}}),Dl=()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.undo_success",defaultMessage:"Undo succeeded"}),Rl=()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.undo_failed",defaultMessage:"Undo failed"}),bl=()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.message_access_failure",defaultMessage:"The message you're trying to access is no longer valid"}),Nl=({conversations:e})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.delete_from_senders_success",defaultMessage:"{conversations, select, true {Conversations} false {Messages} } deleted from selected senders.",values:{conversations:e}}),Ml=({conversations:e})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.delete_from_senders_failure",defaultMessage:"Failed to delete {conversations, select, true {conversations} false {messages} } from selected senders.",values:{conversations:e}}),yl=({conversations:e,count:t})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.update_items_success",defaultMessage:"Updated {conversations, select,\n            true {{count, plural,\n                one {conversation}\n                other {# conversations}\n            }}\n            false {{count, plural,\n                one {message}\n                other {# messages}\n            }}\n        } successfully",values:{conversations:e,count:t}}),Ll=({conversations:e,count:t})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.update_items_failure",defaultMessage:"Failed to update {conversations, select,\n            true {{count, plural,\n                one {conversation}\n                other {# conversations}\n            }}\n            false {{count, plural,\n                one {message}\n                other {# messages}\n            }}\n        }",values:{conversations:e,count:t}}),Pl=()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.activate_offer_failure",defaultMessage:"Unable to add now. Try again later."});class vl extends Ko.a.Component{render(){const e=this.props,t=e.conversations;return Ko.a.createElement("div",null,Ko.a.createElement($o.FormattedMessage,{id:"folder.move_query_success",defaultMessage:"All {conversations, select, true {conversations} false {messages} } moved to {destinationFolderName}.",values:{destinationFolderName:Ko.a.createElement("strong",null,Ko.a.createElement(Lc.a,{folderId:e.folderId})),conversations:t}}))}}function Fl(){return Ko.a.createElement($o.FormattedMessage,{id:"folder.move_query_failure",defaultMessage:"Failed moving all items "})}function Ul(){return Ko.a.createElement($o.FormattedMessage,{id:"folder.mark_query_success",defaultMessage:"Items were updated"})}function wl(){return Ko.a.createElement($o.FormattedMessage,{id:"folder.mark_query_failure",defaultMessage:"Failed updating all items "})}var Gl=s(684),Hl=s.n(Gl),jl=s(47);const kl=Ti()(Hl.a);function xl(){return Ko.a.createElement("div",{className:kl.leftAlign},Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_information_deleted_1",defaultMessage:"Your information will be deleted."}),Ko.a.createElement("br",null),Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_information_deleted_2",defaultMessage:"Changes may take up to 24 hours."}))}function Bl({showSettingsMessageFiltersLink:e,onClose:t},{navigateTo:s,getUrlFromRoute:r}){if(e){const e=Object(Ui.w)({settingsGroupId:C.Nd.FILTERS}),n=r=>{r.preventDefault(),s({route:e}),t()};return Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_filter_added",defaultMessage:"Filter added. {link}",values:{link:Ko.a.createElement("a",{href:r(e),className:kl.link,onClick:n},Ko.a.createElement($o.FormattedMessage,{id:"notifications.settings_manage_filters",defaultMessage:"Manage filters"}))}})}return Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_filter_saved",defaultMessage:"Message filter has been saved successfully"})}Bl.contextTypes={navigateTo:Vo.a.func,getUrlFromRoute:Vo.a.func};const Vl=Object(qo.connect)((e,t)=>({showSettingsMessageFiltersLink:Object(f.b)(t,"i13nModel.mKey",null)===Ii.g.TOOLBAR_FILTER_MESSAGES_LIKE_THIS}))(Bl);function Wl(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_filter_failed_to_save",defaultMessage:"Message filter has failed to save"})}function Kl(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.user_preference_failed_to_load",defaultMessage:"Your preferences failed to load at this time due to a temporary error."})}function ql({delta:e}){return Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_blocked_senders_added",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} added",values:{count:e}})}function Yl({delta:e}){return Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_blocked_senders_deleted",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} deleted",values:{count:-e}})}function zl({delta:e}){return Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_blocked_senders_failed_to_add",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} failed to add",values:{count:e}})}function Ql({delta:e}){return Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_blocked_senders_failed_to_delete",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} failed to delete",values:{count:-e}})}function Zl(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.user_preference_failed_to_save",defaultMessage:"Your preferences failed to save at this time due to a temporary error."})}function Xl(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_vacation_response_saved",defaultMessage:"Vacation response has been saved."})}function $l(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_vacation_response_deleted",defaultMessage:"Vacation response has been removed."})}function Jl({error:e,provider:t,email:s},{yahooBrandNameString:r}){switch(e){case 412:return Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_cancel_permission",defaultMessage:"Account connection cancelled."});case 403:return Ko.a.createElement("div",{className:kl.errorWrapper},Ko.a.createElement("div",{className:kl.errorHeader},Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_different_id_header",defaultMessage:"{email} could not be added",values:{email:s}})),Ko.a.createElement("div",{className:kl.errorBody},Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_different_id",defaultMessage:"You are currently signed into a different {provider}\n                        account.{nextLine}Please {sign_out} of that account and retry.",values:{provider:Object(jl.f)(t),nextLine:Ko.a.createElement("br",null),sign_out:Ko.a.createElement("a",{className:kl.link,target:"_blank",href:C.Ub[t].providerUrl,rel:"noopener"},Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_sign_out",defaultMessage:"sign out"}))}})));case 503:return Ko.a.createElement($o.FormattedMessage,{id:"notification.provider_not_available",defaultMessage:"{yahooBrandNameString} cannot connect to {provider} at this time. Please try to connect your account later.",values:{yahooBrandNameString:r,provider:Object(jl.f)(t)}});case 409:return Ko.a.createElement($o.FormattedMessage,{id:"notification.account_conflict",defaultMessage:"This account is already connected"});default:return Ko.a.createElement($o.FormattedMessage,{id:"notification.account_general_error",defaultMessage:"Unable to add mailbox. Please try again later."})}}Jl.contextTypes={yahooBrandNameString:Vo.a.string};var ed=s(387);s(588);var td=s(97),sd=s(45);const rd=Ti()(_l.a);class nd extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleClick",e=>{e.preventDefault(),this.props.onClose(),this.props.connectAccountRequested({url:"",provider:C.Xd.LinkedIn,i13nModel:{mKey:Ii.g.IMPORT_LINKEDIN_CONTACTS,sec:Ii.i.NOTIFICATION_ACTION}})})}componentDidMount(){setImmediate(()=>{sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.LINKEDIN_AUTH_EXPIRED,sec:Ii.i.NOTIFICATION_ACTION}})})}render(){const e=this.context.mailBrandNameString,t=Ko.a.createElement(mi.a,{"aria-hidden":!0,kind:Si.a.CHROMELESS,onClick:this.handleClick},Ko.a.createElement("span",{className:rd.actionLink,"data-test-id":"reconnect-link"},Ko.a.createElement($o.FormattedMessage,{id:"notification.linkedin_auth_reconnect",defaultMessage:"Reconnect"})));return Ko.a.createElement($o.FormattedMessage,{id:"notification.reconnect_to_linkedin",defaultMessage:"{Reconnect} to LinkedIn to see photos and job titles of your {mailBrandNameString} contacts.",values:{Reconnect:t,mailBrandNameString:e}})}}nd.contextTypes={mailBrandNameString:Vo.a.string};const ad=Object(qo.connect)(null,e=>({connectAccountRequested:t=>e(Object(td.a)(t))}))(nd);var od=s(372),id=s.n(od);const cd=Ti()(id.a);class ld extends Wo.Component{constructor(...e){super(...e),o()(this,"viewDeals",()=>{const e=this.props,t=e.accountId,s=e.onClose;sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.DEALS_VIEW_NAV_FROM_NOTIFICATION,interactionType:Ii.e.click,sec:Ii.i.MSG_BODY}}),this.context.navigateTo({route:Object(Ui.x)(C.Ud.COUPONS,{accountIds:t})}),s()})}render(){return Ko.a.createElement($o.FormattedMessage,{id:"toast.saved_deals",defaultMessage:"Added to 'Saved deals'. {viewLink}",values:{viewLink:Ko.a.createElement("a",{className:cd.link,onClick:this.viewDeals},Ko.a.createElement($o.FormattedMessage,{id:"toast.view",defaultMessage:"View"}))}})}}ld.contextTypes={navigateTo:Vo.a.func,getUrlFromRoute:Vo.a.func};const dd=Object(qo.connect)(e=>({accountId:(0,Object(wi.selectors)(e).getSelectedAccountId)()}))(ld),Ed=Ti()(id.a);class _d extends Ko.a.Component{constructor(...e){super(...e),o()(this,"viewDeals",()=>{const e=this.props,t=e.accountId,s=e.retailerId,r=e.onClose;sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.GROCERIES_VIEW_NAV_FROM_NOTIFICATION,interactionType:Ii.e.click,sec:Ii.i.MSG_BODY}}),this.context.navigateTo({route:Object(Ui.x)(C.Ud.GROCERIES,{accountIds:t,name:s})}),r()})}render(){return Ko.a.createElement($o.FormattedMessage,this.props.isGroceryWithProduct?{id:"toast.saved_item",defaultMessage:"Find more Walmart products, in the grocery tab. {viewLink}",values:{viewLink:Ko.a.createElement("a",{className:Ed.link,onClick:this.viewDeals,"data-test-id":"view-more-products"},Ko.a.createElement($o.FormattedMessage,{id:"toast.view_button",defaultMessage:"View"}))}}:{id:"toast.saved_coupon",defaultMessage:"Coupon added to grocery list. {viewLink}",values:{viewLink:Ko.a.createElement("a",{className:Ed.link,onClick:this.viewDeals,"data-test-id":"view-more-coupons"},Ko.a.createElement($o.FormattedMessage,{id:"toast.view_button",defaultMessage:"View"}))}})}}o()(_d,"contextTypes",{navigateTo:Vo.a.func});const ud=Object(qo.connect)((e,t)=>{const s=t.retailerId,r=Object(wi.selectors)(e),n=r.getSelectedAccountId,a=r.isFeatureEnabled,o=(0,r.getRetailersSelectors)().isRetailerLinkable,i=a(C.Eb.GROCERY_WITH_PRODUCTS)&&!o(s);return{accountId:n(),isGroceryWithProduct:i}})(_d);var pd=s(687),md=s.n(pd);const Sd=Ti()(md.a);var hd=s(373),Cd=s.n(hd);function gd(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Od(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?gd(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gd(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Td=Ti()(Cd.a);var Ad=Object(qo.connect)(void 0,(e,{undoAction:t})=>({onClick:s=>e(Od({},t,{i13nModel:Od({mKey:Ii.g.UNDO_MOVE_ACTION,sec:Ii.i.MSG_LIST_NOTIFICATION,interactionType:Object(Ps.getInteractionFromEvent)(s)},t.i13nModel||{})}))}))(class extends Ko.a.Component{constructor(...e){super(...e),o()(this,"undo",e=>{this.props.onClose(),this.props.onClick(e)})}render(){return Ko.a.createElement(mi.a,{"aria-hidden":!0,"data-test-id":"undo-button",kind:Si.a.CHROMELESS,onClick:this.undo},Ko.a.createElement("span",{className:Td.undo},Ko.a.createElement($o.FormattedMessage,{id:"notifications.undo",defaultMessage:"Undo"})))}});class Id extends Ko.a.Component{render(){const e=this.props,t=e.undoAction,s=e.permanent,r=e.onClose;return Ko.a.createElement("div",null,Ko.a.createElement($o.FormattedMessage,{id:"notification.delete_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } deleted.",values:{conversations:e.conversations,count:e.count}}),"",!s&&t&&Ko.a.createElement(Ad,{undoAction:t,onClose:r}))}}class fd extends Ko.a.Component{render(){const e=this.props,t=e.undoAction,s=e.onClose;return Ko.a.createElement("div",null,Ko.a.createElement($o.FormattedMessage,{id:"notification.archive_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } moved to Archive.",values:{conversations:e.conversations,count:e.count}}),"",Ko.a.createElement(Ad,{undoAction:t,onClose:s}))}}class Dd extends Ko.a.Component{render(){const e=this.props,t=e.count,s=e.conversations,r=e.undoAction,n=e.onClose;return Ko.a.createElement("div",null,Ko.a.createElement($o.FormattedMessage,{id:"notification.move_message_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } moved to {destinationFolderName}.",values:{destinationFolderName:Ko.a.createElement("strong",null,Ko.a.createElement(Lc.a,{folderId:e.destinationFolderId})),conversations:s,count:t}}),"",Ko.a.createElement(Ad,{undoAction:r,onClose:n}))}}var Rd=s(688),bd=s.n(Rd);var Nd=Object(qo.connect)(void 0,e=>({openPersonalInboxSettings:()=>e(Object(oi.j)({route:Object(Ui.w)({settingsGroupId:C.Nd.PERSONALIZE_INBOX})}))}))(e=>{const t=Ti()(bd.a);return Ko.a.createElement($o.FormattedMessage,{id:"notification.disable.breaking.news",defaultMessage:"Don't want Breaking News in Yahoo Mail? Disable in {settingsLink}",values:{settingsLink:Ko.a.createElement("a",{className:t.link,onClick:e.openPersonalInboxSettings,"data-test-id":"settings-link"},Ko.a.createElement($o.FormattedMessage,{id:"settings_link_label",defaultMessage:"Settings"}))}})});function Md(){return Ko.a.createElement($o.FormattedMessage,{id:"cloud_storage_account_link.fetch_failed",defaultMessage:"Unable to fetch shareable link"})}function yd(){return Ko.a.createElement($o.FormattedHTMLMessage,{id:"cloud_storage_account_not_verified",defaultMessage:"To share a file, please verify this email address on <a target={target} style={link} href={url}>dropbox.com</a>.",values:{url:"https://www.dropbox.com",link:"color:#188fff;",target:"_blank"}})}const Ld=({folderName:e})=>Ko.a.createElement($o.FormattedMessage,{id:"epoch.toast.calendar_event_created",defaultMessage:"Event added to {folder} calendar",values:{folder:Ko.a.createElement("b",null,e)}}),Pd=({folderName:e})=>Ko.a.createElement($o.FormattedMessage,{id:"epoch.toast.calendar_event_create_failed",defaultMessage:"Fail to add event to {folder} calendar",values:{folder:Ko.a.createElement("b",null,e)}}),vd=({folderName:e})=>Ko.a.createElement($o.FormattedMessage,{id:"epoch.toast.calendar_event_deleted",defaultMessage:"Event removed from {folder} calendar",values:{folder:Ko.a.createElement("b",null,e)}}),Fd=({folderName:e})=>Ko.a.createElement($o.FormattedMessage,{id:"epoch.toast.calendar_event_delete_failed",defaultMessage:"Fail to remove event from {folder} calendar",values:{folder:Ko.a.createElement("b",null,e)}}),Ud=()=>Ko.a.createElement($o.FormattedMessage,{id:"epoch.toast.calendar_event_edited",defaultMessage:"Event has been saved"}),wd=()=>Ko.a.createElement($o.FormattedMessage,{id:"epoch.toast.calendar_event_edit_failed",defaultMessage:"Event has not been saved. Please try again."}),Gd=()=>Ko.a.createElement($o.FormattedMessage,{id:"epoch.toast.calendar_event_replied",defaultMessage:"Your response has been saved."}),Hd=()=>Ko.a.createElement($o.FormattedMessage,{id:"epoch.toast.calendar_event_reply_failed",defaultMessage:"Your response has not been saved. Please try again."});var jd=s(689),kd=s.n(jd),xd=s(319);const Bd=C.hc.MAILPRO_SIGNUP_THNAKYOU_TOAST,Vd=C.hc.POST_SIGNUP_THANKYOU_TOAST,Wd=C.hc.FREE_TRIAL_ENDING_NOTICATION_1;var Kd=Object(xd.a)(e=>{const t=Ti()(kd.a),s=e.daysLeftInTrial,r=e.upsellId,n=e.handleLinkClick,a=Ko.a.createElement($o.FormattedMessage,{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"});switch(r){case Bd:return Ko.a.createElement($o.FormattedMessage,{id:"mailpro_free_trial_upgrade_success_notification",defaultMessage:"Thanks for activating {YahooMailProBrand}!",values:{YahooMailProBrand:a}});case Vd:return Ko.a.createElement($o.FormattedMessage,{id:"mailpro_free_trial_success_notification",defaultMessage:"Yay! Now enjoy free {YahooMailProBrand} for {daysDuration} days without any obligation.",values:{YahooMailProBrand:a,daysDuration:C.fc}});case Wd:return Ko.a.createElement($o.FormattedMessage,{id:"mailpro_free_trial_upgrade_notification",defaultMessage:"Your {YahooMailProBrand} preview ends in {daysLeftInTrial} days.  {upgradeLink} to keep ad-free mail.",values:{YahooMailProBrand:a,daysLeftInTrial:s,upgradeLink:Ko.a.createElement("a",{className:t.link,onClick:n,"data-test-id":"mailpro-free-trial-upgrade-link"},Ko.a.createElement($o.FormattedMessage,{id:"ad.upgrade_now_btn_label",defaultMessage:"Upgrade now"}))}})}}),qd=s(98);var Yd=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getSetting,r=(0,t.getMailproFreeTrialSelectors)(),n=r.getUpsellId,a=(0,r.getDaysLeftInTrial)(),o=n(),i=s(C.Kd.MAILPRO_UPSELL_INSTRUMENTATION_URL);return{daysLeftInTrial:a,upsellId:o,toastImpressionURL:i.toastImpressionURL,toastClickURL:i.toastClickURL}})(class extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleLinkClick",()=>{const e=this.props,t=e.toastClickURL;sd.b.sendI13nModel({i13nModel:{mKey:"toast_"+C.Eb.MAILPRO_FREE_TRIAL_UPSELLS+"_upgrade_"+e.upsellId,sec:Ii.i.MAILPRO_FREE_TRIAL,actionData:{daysLeftInTrial:e.daysLeftInTrial},interactionType:Ii.e.click}}),Object(Gc.a)(t)})}componentDidMount(){const e=this.props,t=e.toastImpressionURL;e.upsellId===C.hc.FREE_TRIAL_ENDING_NOTICATION_1&&Object(qd.a)(t,!1)}render(){const e=this.props,t=e.upsellId,s={upsellId:t};return Ko.a.createElement(Kd,{"data-test-id":"mailpro-free-trial-toast-notification",daysLeftInTrial:e.daysLeftInTrial,cueName:C.Eb.MAILPRO_FREE_TRIAL_UPSELLS,handleLinkClick:this.handleLinkClick,computeUserResponse:()=>t,computeActionData:()=>s,upsellId:t,toastImpressionURL:e.toastImpressionURL})}}),zd={[sc.CONTACTS_PANE_CREATE_GROUP_FAILED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_group_create_new_failure",defaultMessage:"Failed to created contact list"}),type:C.Qc.WARNING},[sc.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_group_create_new_success",defaultMessage:"Contact list created"}),type:C.Qc.NORMAL},[sc.CONTACTS_PANE_CREATE_GROUP_REQUESTED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_group_create_new",defaultMessage:"Creating contact list"}),type:C.Qc.PENDING},[sc.CONTACTS_PANE_SAVE_GROUP_REQUESTED]:({doUpdatesExist:e})=>e?{message:Qc,type:C.Qc.PENDING}:{message:zc,type:C.Qc.NORMAL},[sc.CONTACTS_PANE_SAVE_GROUP_SUCCEEDED]:{message:zc,type:C.Qc.NORMAL},[sc.CONTACTS_PANE_SAVE_GROUP_FAILED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_group_edit_failed",defaultMessage:"Unable to update contact list"}),type:C.Qc.WARNING},[sc.EXPORT_ALL_CONTACTS_REQUESTED]:{message:function(){return Ko.a.createElement($o.FormattedMessage,{id:"contacts_export_notifications.export_to_csv",defaultMessage:"Your export will start shortly"})},type:C.Qc.PENDING},[sc.FETCH_ALL_CONTACTS_FAILED]:{message:function(){return Ko.a.createElement($o.FormattedMessage,{id:"contacts_export_notifications.print_all_contacts_failed",defaultMessage:"Unable to Print Contacts"})},type:C.Qc.WARNING},[sc.SOCIAL_ACCOUNTS_CONNECT_FAILED]:{message:function({provider:e}){let t;const s=Object(f.b)(ed.a,e+".displayName");return t=s?Ko.a.createElement($o.FormattedMessage,s):e,Ko.a.createElement($o.FormattedMessage,{id:"social_account_notifications.auth_failed",defaultMessage:"Unable to connect to {provider}",values:{provider:t}})},type:C.Qc.WARNING},[sc.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED]:{message:function({provider:e}){let t;const s=Object(f.b)(ed.a,e+".displayName");return t=s?Ko.a.createElement($o.FormattedMessage,s):e,Ko.a.createElement($o.FormattedMessage,{id:"social_account_notifications.auth_successful",defaultMessage:"Successfully connected to {provider}",values:{provider:t}})},type:C.Qc.NORMAL},[sc.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED]:{message:function({provider:e}){let t;const s=Object(f.b)(ed.a,e+".displayName");return t=s?Ko.a.createElement($o.FormattedMessage,s):e,Ko.a.createElement($o.FormattedMessage,{id:"social_account_notifications.auth_url_fetch_failed",defaultMessage:"Unable to redirect to {provider}",values:{provider:t}})},type:C.Qc.WARNING},[sc.SOCIAL_ACCOUNTS_STATUS_RECEIVED]:({response:e},t)=>{const s=Object(f.b)(e,C.Y.LinkedIn,{});if(Object(I.c)()&&s.status===C.Wd.EXPIRED){const e=(0,Object(wi.selectors)(t).getSetting)(C.Kd.LINKEDIN_EXPIRY_NOTIFY_DAYS);if(Math.round(window.AppBootstrapData.launchTime/1e3)-s.expiredTimestamp<86400*e)return{message:ad,type:C.Qc.WARNING}}return null},[sc.RENAME_FOLDER_SUCCEEDED]:{message:function({newFolderName:e,originalFolderName:t}){return Ko.a.createElement($o.FormattedMessage,{id:"folder.rename_success",defaultMessage:"Folder {originalFolderName} renamed to {newFolderName}",values:{newFolderName:Ko.a.createElement("strong",null,e),originalFolderName:Ko.a.createElement("strong",null,t)}})},type:C.Qc.NORMAL},[sc.RENAME_FOLDER_FAILED]:{message:function({newFolderName:e,originalFolderName:t}){return Ko.a.createElement($o.FormattedMessage,{id:"folder.rename_failure",defaultMessage:"Failed renaming folder {originalFolderName} to {newFolderName}",values:{newFolderName:Ko.a.createElement("strong",null,e),originalFolderName:Ko.a.createElement("strong",null,t)}})},type:C.Qc.WARNING},[sc.MOVE_FOLDER_SUCCEEDED]:{message:function({originalFolderName:e}){return Ko.a.createElement($o.FormattedMessage,{id:"folder.move_success",defaultMessage:"Folder {originalFolderName} moved successfully",values:{originalFolderName:Ko.a.createElement("strong",null,e)}})},type:C.Qc.NORMAL},[sc.MOVE_FOLDER_FAILED]:{message:function(e){const t=e.originalFolderName,s=e.error.data,r=void 0===s?{}:s,n=!!Object.keys(r).find(e=>Object(f.b)(r[e],"response.error.validationErrors",[]).indexOf("NAME")>-1);return Ko.a.createElement($o.FormattedMessage,n?{id:"folder.move_failure_on_name_length",defaultMessage:"Folder could not be moved because the new path is more than 240 characters"}:{id:"folder.move_failure",defaultMessage:"Failed moving folder {originalFolderName}",values:{originalFolderName:Ko.a.createElement("strong",null,t)}})},type:C.Qc.WARNING},[sc.CREATE_FOLDER_SUCCEEDED]:({alertFromModalDialog:e=!1})=>({message:tl,type:C.Qc.NORMAL,alertFromModalDialog:e}),[sc.CONTACTS_GROUP_DELETE_REQUESTED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.list_delete_in_progress",defaultMessage:"Deleting Contacts List"}),type:C.Qc.PENDING},[sc.CONTACTS_GROUP_DELETE_SUCCEEDED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.list_delete_succeeded",defaultMessage:"Contacts List Deleted"}),type:C.Qc.NORMAL},[sc.CONTACTS_GROUP_DELETE_FAILED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.list_delete_failed",defaultMessage:"Unable to delete Contacts List"}),type:C.Qc.WARNING},[sc.DELETE_CONTACT_REQUESTED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_delete_in_progress",defaultMessage:"Deleting contact"}),type:C.Qc.PENDING},[sc.DELETE_CONTACT_FAILED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_delete_failed",defaultMessage:"Unable to delete contact"}),type:C.Qc.WARNING},[sc.DELETE_CONTACT_SUCCEEDED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_delete_succeeded",defaultMessage:"Contact deleted"}),type:C.Qc.NORMAL},[sc.CONTACT_SAVE_SUCCEEDED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_save_success",defaultMessage:"Contact updated"}),type:C.Qc.NORMAL},[sc.CONTACT_SAVE_FAILED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_save_failure",defaultMessage:"Unable to save"}),type:C.Qc.WARNING},[sc.CONTACT_SAVE_REQUESTED]:{message:({oldContact:e={}})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_save_in_progress",defaultMessage:" {option, select, true {Saving contact} false {Creating contact} }",values:{option:!!e.id}}),type:C.Qc.PENDING},[sc.CREATE_CONTACT_SUCCEEDED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_create_success",defaultMessage:"Contact created"}),type:C.Qc.NORMAL},[sc.CREATE_CONTACT_FAILED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_create_failure",defaultMessage:"Unable to create contact"}),type:C.Qc.WARNING},[sc.CONTACT_PHOTO_UPLOAD_SUCCEEDED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_upload_photo_success",defaultMessage:"Contact photo uploaded"}),type:C.Qc.NORMAL},[sc.CONTACT_PHOTO_UPLOAD_FAILED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.contact_upload_photo_failure",defaultMessage:"Unable to upload photo"}),type:C.Qc.WARNING},[sc.CREATE_FOLDER_FAILED]:({alertFromModalDialog:e=!1})=>({message:sl,type:C.Qc.WARNING,alertFromModalDialog:e}),[sc.DELETE_FOLDER_SUCCEEDED]:{message:function({folderName:e}){return Ko.a.createElement($o.FormattedMessage,{id:"folder.delete_success",defaultMessage:"{folderName} folder deleted",values:{folderName:Ko.a.createElement("strong",null,e)}})},type:C.Qc.NORMAL},[sc.DELETE_FOLDER_FAILED]:{message:function({folderName:e}){return Ko.a.createElement($o.FormattedMessage,{id:"folder.delete_failure",defaultMessage:"Failed deleting {folderName} folder",values:{folderName:Ko.a.createElement("strong",null,e)}})},type:C.Qc.WARNING},[sc.DELETE_NON_EMPTY_FOLDER_REQUESTED]:{message:function({folderId:e}){return Ko.a.createElement($o.FormattedMessage,{id:"folder.delete_nonempty",defaultMessage:"Only empty folders can be deleted. Please delete all contents of the {folderName} folder first.",values:{folderName:Ko.a.createElement("strong",null,Ko.a.createElement(Lc.a,{folderId:e}))}})},type:C.Qc.WARNING},[sc.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED]:{message:Tc,type:C.Qc.WARNING,requireInteraction:!0},[sc.COMPOSE_NO_ADDRESS_DETECTED]:{message:kc,type:C.Qc.WARNING},[sc.COMPOSE_RECIPIENT_LIMIT_EXCEEDED]:{message:xc,type:C.Qc.WARNING},[sc.COMPOSE_ADDRESSING_FAILED]:{message:Bc,type:C.Qc.WARNING},[sc.SEND]:{message:Vc,type:C.Qc.NORMAL,requireInteraction:!0},[sc.V3_MESSAGE_SEND_REQUESTED]:{message:Vc,type:C.Qc.PENDING,sticky:!0,requireInteraction:!0},[sc.SEND_FAILURE]:{message:hc,type:C.Qc.WARNING},[sc.V3_MESSAGE_SEND_FAILED]:{message:hc,type:C.Qc.WARNING},[sc.MESSAGE_SAVE_FAILED]:({error:e})=>e&&"ES-2001"===e.errorCode?{message:Oc,type:C.Qc.WARNING}:{message:Wc,type:C.Qc.WARNING,priority:C.Oc.MEDIUM},[sc.V3_MESSAGE_SAVE_FAILED]:({error:e,showNotification:t=!0})=>e&&"ES-2001"===e.errorCode?{message:Oc,type:C.Qc.WARNING}:t?{message:Wc,type:C.Qc.WARNING,priority:C.Oc.MEDIUM}:null,[sc.MESSAGE_AUTO_SAVE_FAILED]:({error:e})=>e&&"ES-2001"===e.errorCode?{message:Oc,type:C.Qc.WARNING}:null,[sc.SPONSORED_SAVE_TO_INBOX_SUCCEEDED]:{message:function(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.saved_to_inbox",defaultMessage:"Message saved to inbox."})},type:C.Qc.NORMAL},[sc.SPONSORED_SAVE_TO_INBOX_FAILED]:{message:function(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.save_to_inbox_failed",defaultMessage:"Message cannot be saved to inbox."})},type:C.Qc.WARNING},[sc.DELETE_DRAFT_SUCCEEDED]:{message:Kc,type:C.Qc.NORMAL},[sc.DELETE_DRAFT_FAILED]:{message:qc,type:C.Qc.WARNING},[sc.UNDO_MOVE_SUCCEEDED]:{message:Dl,type:C.Qc.NORMAL},[sc.UNDO_MOVE_FAILED]:{message:Rl,type:C.Qc.WARNING},[sc.GEMINI_SPONSORED_ASSET_FAILED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.geminiSponsoredAssetFailed",defaultMessage:"Ad asset load failed"}),type:C.Qc.WARNING},[sc.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED]:{message:xl,type:C.Qc.NORMAL},[sc.SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED]:({enabled:e})=>e?null:{message:xl,type:C.Qc.NORMAL},[sc.CONFIRM_EMAIL_RESEND_SUCCEEDED]:{message:function(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_resend_confirm_succeed",defaultMessage:"Confirmation email sent."})},type:C.Qc.NORMAL},[sc.CONFIRM_EMAIL_RESEND_FAILED]:{message:function(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_resend_confirm_failed",defaultMessage:"Confirmation email sent failed."})},type:C.Qc.WARNING},[sc.ACCOUNT_REAUTH_SUCCEEDED]:{message:function(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.settings_account_reauth_succeed",defaultMessage:"Mailbox reauthorized. Sync will begin soon."})},type:C.Qc.NORMAL},[sc.ACCOUNT_REAUTH_FAILED]:{message:Jl,type:C.Qc.WARNING},[sc.SETTINGS_CHANGE_SUCCEEDED]:({name:e,delta:t})=>{switch(e){case C.Kd.MESSAGE_FILTERS:return{message:Vl,type:C.Qc.NORMAL};case C.Kd.DELIVERY_BLOCKED_SENDERS:return t<0?{message:Yl,type:C.Qc.NORMAL}:{message:ql,type:C.Qc.NORMAL}}return null},[sc.SETTINGS_CHANGE_FAILED]:({name:e,delta:t})=>{switch(e){case C.Kd.MESSAGE_FILTERS:return{message:Wl,type:C.Qc.WARNING};case C.Kd.DELIVERY_BLOCKED_SENDERS:return t<0?{message:Ql,type:C.Qc.WARNING}:{message:zl,type:C.Qc.WARNING}}return{message:Zl,type:C.Qc.WARNING}},[sc.EXCEPTION_OCCURRED]:{message:class extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleSplunkSearch",()=>{window.open(this.props.splunkUrl,"_blank")})}render(){return Ko.a.createElement("div",null,Ko.a.createElement($o.FormattedMessage,{id:"notification.exception_occurred",defaultMessage:"Javascript exception occurred."}),"",Ko.a.createElement(mi.a,{kind:Si.a.CHROMELESS,"data-test-id":"search-btn",onClick:this.handleSplunkSearch},Ko.a.createElement("span",{className:Sd.button},Ko.a.createElement($o.FormattedMessage,{id:"notification.exception_run_diagnostics",defaultMessage:"Run diagnostics"}))))}},type:C.Qc.WARNING,modal:!0},[sc.DOWNLOAD_FAILED]:{message:function(e){const t=e.fileCount,s=void 0===t?1:t,r=e.filename,n=e.error,a=void 0===n?{}:n,o=a.code,i=a.validationErrors,c="EC-4001"===(void 0===o?"":o)&&(void 0===i?[]:i).join("").indexOf("virus")>-1;return Ko.a.createElement($o.FormattedMessage,c?{id:"notification.download_virus_error",defaultMessage:"Virus scan failed. Unable to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:s,filename:r}}:{id:"notification.download_error",defaultMessage:"Failed to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:s,filename:r}})},type:C.Qc.WARNING},[sc.LAUNCH_COMPLETED]:(e,t)=>{switch((0,Object(wi.selectors)(t).getLaunchError)()){case C.Xb.FOLDER_ACCESS_FAILED:return{message:ll,type:C.Qc.ADVISORY,icon:ti.Kinds.ATTENTION};case C.Xb.MESSAGE_ACCESS_FAILED:return{message:bl,type:C.Qc.ADVISORY,icon:ti.Kinds.ATTENTION};case C.Xb.COMPOSE_ACCESS_FAILED:return{message:Yc,type:C.Qc.ADVISORY,icon:ti.Kinds.ATTENTION};case C.Xb.SETTINGS_FAILED_TO_LOAD:return{message:Kl,type:C.Qc.ADVISORY,icon:ti.Kinds.ATTENTION}}return null},[sc.POST_LAUNCH_SYNC_SUCCEEDED]:(e,t)=>{const s=Object(wi.selectors)(t),r=s.getMailboxesSelectors,n=s.doesFolderIdExist,a=s.getAccountIdByFolderId,o=(0,s.getRoute)(),i=Object(Hi.z)(o),c=Object(Hi.q)(i);if(c&&n(c)){const e=r(),t=a(c);if(e.isAccountExpired(t))return{message:ml,type:C.Qc.WARNING}}return null},[sc.MAILBOX_NOT_SYNCING]:{message:pl,type:C.Qc.WARNING},[sc.TIMEZONE_CHANGE_DETECTED]:{message:dc,type:C.Qc.ADVISORY,icon:ti.Kinds.CLOCK,sticky:!1,requireInteraction:!0},[sc.SEND_SUCCESS]:{message:gc,type:C.Qc.NORMAL},[sc.V3_MESSAGE_SEND_SUCCEEDED]:{message:gc,type:C.Qc.NORMAL},[sc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED]:{message:gc,type:C.Qc.NORMAL},[sc.ONLINE_STATUS_CHANGED]:({online:e})=>e?null:{message:dl,type:C.Qc.WARNING,requireInteraction:!0,icon:ti.Kinds.NO_INTERNET,sticky:!0,priority:C.Oc.HIGH},[sc.FEATURE_CLOSED]:({name:e})=>e===C.Eb.THEMES_CUE_V3?{message:el,type:C.Qc.NORMAL}:null,[sc.READ_CHANGE_REQUESTED]:({isAsync:e})=>e?{message:vc,type:C.Qc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[sc.STAR_CHANGE_REQUESTED]:({isAsync:e})=>e?{message:vc,type:C.Qc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[sc.DELETE_ITEMS_REQUESTED]:({isAsync:e})=>e?{message:vc,type:C.Qc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[sc.BLOCK_SENDERS_WITH_DELETE_REQUESTED]:({isAsync:e})=>e?{message:vc,type:C.Qc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[sc.BULK_PROGRESS_INITIATED]:{message:vc,type:C.Qc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0},[sc.BULK_CANCEL_FAILED]:{message:vc,type:C.Qc.ADVISORY,requireInteraction:!1,sticky:!1,modal:!0},[sc.SETTINGS_SAVE_FILTERS_SUCCEEDED]:{message:Vl,type:C.Qc.NORMAL},[sc.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED]:({actionType:e})=>{switch(e){case Ec.a.SAVE:return{message:Xl,type:C.Qc.NORMAL};case Ec.a.DELETE:return{message:$l,type:C.Qc.NORMAL};case Ec.a.SWITCH_ON:case Ec.a.SWITCH_OFF:default:return null}},[sc.ATTACHMENT_PREVIEW_FAILED]:{message:function({downloadUrl:e}){return Ko.a.createElement($o.FormattedMessage,{id:"attachment_tray.unsupported_files",defaultMessage:"Please {download} to view this file",values:{download:Ko.a.createElement("a",{style:{color:di.o},href:e,rel:"noopener"},Ko.a.createElement($o.FormattedMessage,{id:"attachment_tray.unsupported_file_download_link",defaultMessage:"download"}))}})},type:C.Qc.WARNING},[sc.DELETE_ITEMS_SUCCEEDED]:{message:Id,type:C.Qc.NORMAL},[sc.ACTIVATE_OFFER_SUCCEEDED]:(e,t)=>{const s=(0,Object(wi.selectors)(t).getRoute)(),r=Object(Hi.z)(s);if(Object(Hi.w)(r)!==C.ac.OFFER_CARDS)return{message:ud,type:C.Qc.NORMAL}},[sc.COUPONS_ADD_TAG_DECO_SUCCEEDED]:(e,t)=>{const s=(0,Object(wi.selectors)(t).getRoute)(),r=Object(Hi.z)(s);if(Object(Hi.w)(r)!==C.ac.COUPON_CARDS)return{message:dd,type:C.Qc.NORMAL}},[sc.PHISHING_REMOVE_BDM_DECO_SUCCEEDED]:{message:({conversations:e})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.phishingRemoveDeco_success",defaultMessage:"{conversations, select, true {Conversation} false {Message} } was successfully marked as safe",values:{conversations:e}}),type:C.Qc.NORMAL},[sc.PHISHING_REMOVE_BDM_DECO_FAILED]:{message:({conversations:e})=>Ko.a.createElement($o.FormattedMessage,{id:"notification.phishingRemoveDeco_failure",defaultMessage:"{conversations, select, true {Conversation} false {Message} } could not be marked as safe",values:{conversations:e}}),type:C.Qc.WARNING},[sc.DELETE_ITEMS_FAILED]:{message:fl,type:C.Qc.WARNING},[sc.UPDATE_ITEMS_SUCCEEDED]:e=>{const t=e.messageItemsToSync,s=void 0===t?[]:t,r=e.isAsync,n=void 0!==r&&r,a=(s.length>0?s[s.length-1]:{}).updateTypes,o=void 0===a?[]:a,i=o.length>0?o[o.length-1]:"";switch(e.triageActionType){case C.ye.ARCHIVE_FOLDER_ITEMS:return{message:al,type:C.Qc.NORMAL};case C.ye.ARCHIVE_ALL_ITEMS:case C.ye.RESTORE_ALL_ITEMS:case C.ye.SPAM_ALL_ITEMS:case C.ye.NOT_SPAM_ALL_ITEMS:case C.ye.MOVE_ALL_ITEMS:return{message:vl,type:C.Qc.NORMAL};case C.ye.DELETE_FOLDER_ITEMS:case C.ye.DELETE_ALL_ITEMS:return{message:il,type:C.Qc.NORMAL};case C.ye.READ_CHANGE_FOLDER_ITEMS:case C.ye.READ_CHANGE_ALL_ITEMS:return{message:rl,type:C.Qc.NORMAL};case C.ye.STAR_CHANGE_ALL_ITEMS:return{message:Ul,type:C.Qc.NORMAL};case C.ye.ARCHIVE_SELECTED_ITEMS:return{message:fd,type:C.Qc.NORMAL};case C.ye.RESTORE_SELECTED_ITEMS:return{message:Al,type:C.Qc.NORMAL};case C.ye.SPAM_SELECTED_ITEMS:return{message:hl,type:C.Qc.NORMAL};case C.ye.NOT_SPAM_SELECTED_ITEMS:return{message:gl,type:C.Qc.NORMAL};case C.ye.MOVE_SELECTED_ITEMS:return{message:Dd,type:C.Qc.NORMAL};case C.ye.DELETE_SELECTED_ITEMS:return{message:Id,type:C.Qc.NORMAL};case C.ye.DELETE_ALL_FROM_SENDERS:return{message:Nl,type:C.Qc.NORMAL};case C.ye.UNDO_MOVE:return{message:Dl,type:C.Qc.NORMAL};case C.ye.DELETE_DRAFT:return{message:Kc,type:C.Qc.NORMAL}}switch(i){case C.Gc.READ:case C.Gc.STAR:case C.Gc.SPAM:case C.Gc.HAM:case C.Gc.ANSWER:case C.Gc.FORWARD:case C.Gc.DECO:return n?{message:yl,type:C.Qc.NORMAL}:null}},[sc.UPDATE_ITEMS_FAILED]:e=>{const t=e.messageItemsToSync,s=void 0===t?[]:t,r=e.isAsync,n=void 0!==r&&r,a=e.deletedMessages,o=(s.length>0?s[s.length-1]:{}).updateTypes,i=void 0===o?[]:o,c=i.length>0?i[i.length-1]:"";if((void 0===a?[]:a).length===s.length)return{message:bl,type:C.Qc.ADVISORY,icon:ti.Kinds.ATTENTION};switch(e.triageActionType){case C.ye.ARCHIVE_FOLDER_ITEMS:return{message:ol,type:C.Qc.WARNING};case C.ye.ARCHIVE_ALL_ITEMS:case C.ye.RESTORE_ALL_ITEMS:case C.ye.SPAM_ALL_ITEMS:case C.ye.NOT_SPAM_ALL_ITEMS:case C.ye.MOVE_ALL_ITEMS:return{message:Fl,type:C.Qc.WARNING};case C.ye.DELETE_FOLDER_ITEMS:case C.ye.DELETE_ALL_ITEMS:return{message:cl,type:C.Qc.WARNING};case C.ye.READ_CHANGE_FOLDER_ITEMS:case C.ye.READ_CHANGE_ALL_ITEMS:return{message:nl,type:C.Qc.WARNING};case C.ye.STAR_CHANGE_ALL_ITEMS:return{message:wl,type:C.Qc.WARNING};case C.ye.ARCHIVE_SELECTED_ITEMS:return{message:Tl,type:C.Qc.WARNING};case C.ye.RESTORE_SELECTED_ITEMS:return{message:Il,type:C.Qc.WARNING};case C.ye.SPAM_SELECTED_ITEMS:return{message:Cl,type:C.Qc.WARNING};case C.ye.NOT_SPAM_SELECTED_ITEMS:return{message:Ol,type:C.Qc.WARNING};case C.ye.MOVE_SELECTED_ITEMS:return{message:Sl,type:C.Qc.WARNING};case C.ye.DELETE_SELECTED_ITEMS:return{message:fl,type:C.Qc.WARNING};case C.ye.DELETE_ALL_FROM_SENDERS:return{message:Ml,type:C.Qc.WARNING};case C.ye.UNDO_MOVE:return{message:Rl,type:C.Qc.WARNING};case C.ye.DELETE_DRAFT:return{message:qc,type:C.Qc.WARNING}}switch(c){case C.Gc.READ:case C.Gc.STAR:case C.Gc.SPAM:case C.Gc.HAM:case C.Gc.ANSWER:case C.Gc.FORWARD:case C.Gc.DECO:return n?{message:Ll,type:C.Qc.WARNING}:null}},[sc.ACTIVATE_OFFER_FAILED]:({error:e})=>"cancelledAPICall"===e?null:{message:Pl,type:C.Qc.WARNING},[sc.LINK_RETAILER_SUCCEEDED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.link_retailer_success",defaultMessage:"Linked retailer successfully."}),type:C.Qc.NORMAL},[sc.UNLINK_RETAILER_SUCCEEDED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.unlink_retailer_success",defaultMessage:"Loyalty card has been sucessfully unlinked"}),type:C.Qc.NORMAL},[sc.UNLINK_RETAILER_FAILED]:{message:()=>Ko.a.createElement($o.FormattedMessage,{id:"notification.unlink_retailer_failure",defaultMessage:"Unable to unlink the card now. Try again later."}),type:C.Qc.WARNING},[sc.ACCOUNT_DETAILS_CHANGE_FAILED]:{message:Jl,type:C.Qc.WARNING},[sc.UNSUBSCRIBE_BY_EMAIL_SUCCEEDED]:{message:function(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.unsub_request_succeeded",defaultMessage:"Unsubscribe request sent."})},type:C.Qc.NORMAL},[sc.UNSUBSCRIBE_BY_EMAIL_FAILED]:{message:function(){return Ko.a.createElement($o.FormattedMessage,{id:"notification.unsub_request_failed",defaultMessage:"Unsubscribe failed. Try Again."})},type:C.Qc.WARNING},[sc.BREAKING_NEWS_DISMISSED]:{message:Nd,type:C.Qc.NORMAL},[sc.LIST_MAILPRO_SUBSCRIPTIONS_SUCCESS]:(e,t)=>{const s=C.hc.POST_SIGNUP_THANKYOU_TOAST,r=C.hc.FREE_TRIAL_ENDING_NOTICATION_1,n=C.hc.MAILPRO_SIGNUP_THNAKYOU_TOAST,a=Object(wi.selectors)(t),o=a.isFeatureEnabled,i=(0,a.getMailproFreeTrialSelectors)().getUpsellId();if(o(C.Eb.MAILPRO_FREE_TRIAL_UPSELLS))switch(i){case s:case n:return{message:Yd,type:C.Qc.NORMAL,priority:C.Oc.MEDIUM};case r:return{message:Yd,type:C.Qc.ADVISORY,icon:ti.Kinds.INFO,priority:C.Oc.MEDIUM};default:return null}return null},[sc.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED]:{message:function({provider:e}){let t=e;const s=Object(f.b)(C.X,e+".displayName");return s&&(t=s),Ko.a.createElement($o.FormattedMessage,{id:"cloud_storage_account_notifications.auth_url_fetch_failed",defaultMessage:"Unable to redirect to {provider}",values:{provider:t}})},type:C.Qc.WARNING},[sc.CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED]:{message:function({provider:e}){let t=e;const s=Object(f.b)(C.X,e+".displayName");return s&&(t=s),Ko.a.createElement($o.FormattedMessage,{id:"cloud_storage_account_notifications.auth_failed",defaultMessage:"Unable to connect to {provider}",values:{provider:t}})},type:C.Qc.WARNING},[sc.CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED]:{message:function({provider:e}){let t=e;const s=Object(f.b)(C.X,e+".displayName");return s&&(t=s),Ko.a.createElement($o.FormattedMessage,{id:"cloud_storage_account_notifications.auth_successful",defaultMessage:"Successfully connected to {provider}",values:{provider:t}})},type:C.Qc.NORMAL},[sc.CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED]:{message:function({provider:e}){let t=e;const s=Object(f.b)(C.X,e+".displayName");return s&&(t=s),Ko.a.createElement($o.FormattedMessage,{id:"cloud_storage_account_notifications.disconnect_failed",defaultMessage:"Unable to disconnect from {provider}",values:{provider:t}})},type:C.Qc.WARNING},[sc.CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED]:{message:function({provider:e}){let t=e;const s=Object(f.b)(C.X,e+".displayName");return s&&(t=s),Ko.a.createElement($o.FormattedMessage,{id:"cloud_storage_account_notifications.disconnect_successful",defaultMessage:"Successfully disconnected from {provider}",values:{provider:t}})},type:C.Qc.NORMAL},[sc.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED]:e=>{const t=e.error;return{message:e.provider===C.eb.DROPBOX&&409===(null==t?void 0:t.statusCode)?yd:Md,type:C.Qc.WARNING}},[nc.a.CREATE_SINGLE_NEW_EVENT_SUCCEEDED]:{message:Ld,type:C.Qc.NORMAL,icon:ti.Kinds.FOLDER},[nc.a.CREATE_RECURR_NEW_EVENTS_SUCCEEDED]:{message:Ld,type:C.Qc.NORMAL,icon:ti.Kinds.FOLDER},[nc.a.EDIT_RECURR_EVENTS_SUCCEEDED]:{message:Ud,type:C.Qc.NORMAL,icon:ti.Kinds.FOLDER},[nc.a.EDIT_SINGLE_EVENT_SUCCEEDED]:{message:Ud,type:C.Qc.NORMAL,icon:ti.Kinds.FOLDER},[nc.a.DELETE_SINGLE_EVENT_SUCCEEDED]:{message:vd,type:C.Qc.WARNING,icon:ti.Kinds.FOLDER},[nc.a.DELETE_RECURR_EVENTS_SUCCEDDED]:{message:vd,type:C.Qc.WARNING,icon:ti.Kinds.FOLDER},[nc.a.RSVP_REPLY_SINGLE_EVENT_SUCCEEDED]:{message:Gd,type:C.Qc.NORMAL,icon:ti.Kinds.FOLDER},[nc.a.RSVP_REPLY_RECURR_EVENT_SUCCEEDED]:{message:Gd,type:C.Qc.NORMAL,icon:ti.Kinds.FOLDER},[nc.a.CREATE_SINGLE_NEW_EVENT_FAILED]:{message:Pd,type:C.Qc.WARNING},[nc.a.CREATE_RECURR_NEW_EVENTS_FAILED]:{message:Pd,type:C.Qc.WARNING},[nc.a.EDIT_SINGLE_EVENT_FAILED]:{message:wd,type:C.Qc.WARNING},[nc.a.EDIT_RECURR_EVENTS_FAILED]:{message:wd,type:C.Qc.WARNING},[nc.a.RSVP_REPLY_RECURR_EVENT_FAILED]:{message:Hd,type:C.Qc.WARNING},[nc.a.RSVP_REPLY_SINGLE_EVENT_FAILED]:{message:Hd,type:C.Qc.WARNING},[nc.a.DELETE_SINGLE_EVENT_FAILED]:{message:Fd,type:C.Qc.WARNING},[nc.a.DELETE_RECURR_EVENTS_FAILED]:{message:Fd,type:C.Qc.WARNING}},Qd=s(58);const Zd=Object($o.defineMessages)({close:{id:"notification.close",defaultMessage:"Close notification"}});class Xd extends Ko.a.Component{render(){const e=this.props,t=e.type,s=e.icon,r=e.sticky,n=Ti()(_l.a,{type:t}),a=this.context.intl.formatMessage(Zd.close),o=!s&&t===C.Qc.PENDING;let i=s;if(!i&&t!==C.Qc.ADVISORY)switch(t){case C.Qc.FOWARDING_WARNING:case C.Qc.WARNING:i=ti.Kinds.EXCLAMATION_ALT;break;case C.Qc.PENDING:i=ti.Kinds.REFRESH;break;default:i=ti.Kinds.CHECKMARK}return Ko.a.createElement("div",{className:n.container},Ko.a.createElement("div",{className:n.innerContainer},i?Ko.a.createElement("div",{className:n.icon,role:"presentation"},o?Ko.a.createElement(Qd.b,{size:ti.Sizes.S,inverted:!0}):Ko.a.createElement(ei.b,{kind:i,size:ti.Sizes.S,colorState:ti.ColorStates.INVERTED})):null,Ko.a.createElement("div",{className:n.content},this.props.children),r?null:Ko.a.createElement("div",{className:n.close},Ko.a.createElement(Jo.default,{kind:ti.Kinds.CLOSE_MINI,size:ti.Sizes.XS,colorState:ti.ColorStates.NORMAL,title:a,role:"presentation",onClick:this.props.onClose}))))}}o()(Xd,"contextTypes",{intl:$o.intlShape.isRequired}),o()(Xd,"defaultProps",{sticky:!1,requireInteraction:!1,type:C.Qc.NORMAL});var $d=Xd;class Jd extends Wo.Component{constructor(e){super(e),this.onCloseWrapper=this.onCloseWrapper.bind(this),this.toastContainerNodes={}}onCloseWrapper(){const e=this.props,t=e.onClose;e.toast.message===dc&&this.context.executeAction(ac.b),t()}componentDidMount(){const e=document.getElementById("app");Object.keys(C.Pc).forEach(t=>{const s=C.Pc[t],r=document.createElement("div");r.setAttribute("role",s),e.appendChild(r),this.toastContainerNodes[s]=r})}componentDidUpdate({toast:e,role:t}){const s=this.props,r=s.role;if(!s.toast)return Xo.a.unmountComponentAtNode(this.toastContainerNodes[r]);e&&t!==r&&Xo.a.unmountComponentAtNode(this.toastContainerNodes[t]),this.renderToast()}renderToast(){const e=this.props,t=e.toast,s=e.role,r=e.onPause,n=e.onResume,a=e.multiTask,o=e.conversations,i=e.ybarFuji2Dialpad,c=e.ybarFuji2TopNav,l=t.message,d=t.data,E=t.type,_=void 0===E?C.Qc.WARNING:E,u=t.sticky,p=void 0!==u&&u,m=t.modal,S=void 0!==m&&m,h=t.icon,g=t.bottomAlert,O=t.alertFromModalDialog,T=this.context.getCss(Cd.a,{bottomAlert:void 0!==g&&g,multiTask:a,alertFromModalDialog:void 0!==O&&O,ybarFuji2Dialpad:i,ybarFuji2DialpadMultiTask:a&&i,ybarFuji2TopNav:c,ybarFuji2TopNavMultiTask:a&&c});let A=Ko.a.createElement("div",{className:T.alert,onMouseOver:r,onMouseLeave:n,"data-test-id":"notifications"},Ko.a.createElement($d,{icon:h,sticky:p,type:_,onClose:this.onCloseWrapper},Ko.a.createElement(l,zo()({conversations:o},d,{onClose:this.onCloseWrapper}))));S&&(A=Ko.a.createElement("div",{className:T.modal,"data-test-id":"modal",role:"presentation"},A)),Xo.a.unstable_renderSubtreeIntoContainer(this,A,this.toastContainerNodes[s])}render(){return null}}Jd.contextTypes={getCss:Vo.a.func.isRequired,executeAction:Vo.a.func.isRequired};var eE=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e).getFeaturesSelectors().isEnabled;return{multiTask:t(C.Kd.MAIL_TABS),conversations:t(C.Eb.CONVERSATIONS),ybarFuji2Dialpad:t(C.Eb.YBAR_FUJI2_THEME)&&t(C.Eb.SHOW_YBAR_FUJI2_DIALPAD),ybarFuji2TopNav:t(C.Eb.YBAR_FUJI2_THEME)&&!t(C.Eb.SHOW_YBAR_FUJI2_DIALPAD)}})(Jd),tE=s(204);const sE=Object($o.defineMessages)({htmlTitle:{id:"html_title",defaultMessage:"{numUnread, plural, =0 {} one {(# unread) - } other {(# unread) - }}{emailAddress} - {yahooBrand}"},htmlTitleNewMessages:{id:"html_title_new_messages",defaultMessage:"{newItemCount, plural, =1 {# New Message} other {# New Messages}}"}});class rE extends Ko.a.Component{constructor(...e){super(...e),o()(this,"updateTitle",()=>{const e=this.props,t=e.newItemCount,s=this.getStandardTitle(e.defaultFolderUnreadCount,e.activeEmailAddress);if(t){const e=this.getNotificationTitle(t);this.flashTitle(e,s,4)}else document.title=s}),o()(this,"getStandardTitle",(e,t)=>{const s=this.context.intl.formatMessage,r=this.context.mailBrandNameString||s(tE.a.mailBrandName);return s(sE.htmlTitle,{numUnread:e,emailAddress:t,yahooBrand:r})}),o()(this,"getNotificationTitle",e=>(0,this.context.intl.formatMessage)(sE.htmlTitleNewMessages,{newItemCount:e})),o()(this,"flashTitle",(e,t,s)=>{if(0===s)return;const r=this.props,n=r.documentTitleNotificationDuration,a=r.documentTitleStandardDuration,o=s%2==0;document.title=o?e:t,this.flashTitleTimeout=setTimeout(()=>{this.flashTitle(e,t,s-1)},o?n:a)})}componentDidMount(){this.updateTitle()}componentWillUnmount(){clearTimeout(this.flashTitleTimeout)}componentDidUpdate(){clearTimeout(this.flashTitleTimeout),this.updateTitle()}render(){return null}}o()(rE,"contextTypes",{config:Vo.a.object,intl:$o.intlShape,mailBrandNameString:Vo.a.string});var nE=Object(qo.connect)(e=>{const t=(0,Object(wi.selectors)(e).getFeaturesSelectors)();return{documentTitleNotificationDuration:t.getSetting("documentTitleNotificationDuration"),documentTitleStandardDuration:t.getSetting("documentTitleStandardDuration")}})(rE);var aE=class extends Ko.a.Component{constructor(...e){super(...e),o()(this,"updateFavicon",()=>{const e=this.props.newItemCount;try{this.faviconElem.href=0===e?this.faviconDefaultImageUri:this.faviconAlertImageUri,document.head.removeChild(this.faviconElem),document.head.appendChild(this.faviconElem)}catch(e){}})}componentDidMount(){this.faviconElem=document.getElementById("favicon"),this.faviconDefaultImageUri=this.faviconElem.href,this.faviconAlertImageUri=document.getElementById("favicon_alert")&&document.getElementById("favicon_alert").href}shouldComponentUpdate(e){return!(0===e.newItemCount&&this.faviconElem.href===this.faviconDefaultImageUri||e.newItemCount>0&&this.faviconElem.href===this.faviconAlertImageUri)}componentDidUpdate(){this.updateFavicon()}render(){return null}};var oE=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.isAppVisible,r=t.getActionTimeStamp,n=t.getCurrentListId,a=t.getDefaultFolderIdForSelectedAccount,o=t.getEmailOfSelectedAccount,i=t.getApplicationLastVisibleTimeStamp,c=t.getMessageListItemsSinceTimestamp,l=t.doesListExist,d=(0,(0,t.getFoldersSelectors)().getFolderUnreadCount)(a()),E=o(),_=n(),u=s()?r():i();return{defaultFolderUnreadCount:d,activeEmailAddress:E,newItemCount:(l(_)?c(_,u):[]).length}})(class extends Ko.a.Component{shouldComponentUpdate({defaultFolderUnreadCount:e,activeEmailAddress:t,newItemCount:s}){const r=this.props;return e!==r.defaultFolderUnreadCount||t!==r.activeEmailAddress||s!==r.newItemCount}render(){return Ko.a.createElement("div",null,Ko.a.createElement(nE,this.props),Ko.a.createElement(aE,this.props))}});var iE=s(107),cE=s(463),lE=s.n(cE);const dE=["meta+shift+/","ctrl+shift+/","meta+shift+,","ctrl+shift+,"];class EE extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{shown:!1}),o()(this,"handleShortcuts",e=>{e.preventDefault(),e.stopPropagation(),!e.shiftKey||!e.ctrlKey&&!e.metaKey||"Comma"!==e.code&&"Slash"!==e.code||this.show(e)}),o()(this,"show",e=>{e.preventDefault(),e.stopPropagation(),this.state.shown||this.setState({shown:!0})}),o()(this,"handleDismiss",()=>{this.setState({shown:!1})}),o()(this,"handleKeyDown",e=>{"Enter"!==e.key&&"Escape"!==e.key||(e.preventDefault(),e.stopPropagation(),this.handleDismiss())}),o()(this,"renderAdList",e=>{const t=this.props.darlaAdCallResult,s=t.spaceId,r=t.prevSpaceId,n=t.positions,a=void 0===n?[]:n,o=t.prevPositions,i=void 0===o?[]:o,c=Ti()(lE.a),l=e?a:i;if(!l.length)return null;const d=l.map(e=>Ko.a.createElement("div",{key:e.position,className:c.positionRow},Ko.a.createElement("a",{className:c.link,href:e.debugUrl,target:"_blank",rel:"noopener noreferrer"},"Position: ",e.position),Ko.a.createElement("span",{className:c.positionCol},"Booking Id: ",e.bookId)));return Ko.a.createElement("div",null,Ko.a.createElement("div",{className:c.header},(e?"Current":"Previous")+" ads"),Ko.a.createElement("div",{className:c.spaceid},"Space Id: ",e?s:r),d)}),o()(this,"composePositionList",e=>e.map(e=>`\n                <tr>\n                <td>Position: ${e.position}</td>\n                <td>Url: ${e.debugUrl?""+e.debugUrl:"N/A"}</td>\n                <td>Booking Id: ${e.bookId}</td>\n                </tr>`)),o()(this,"composeEmailBody",()=>{const e=this.props.darlaAdCallResult,t=e.prevSpaceId,s=e.positions,r=void 0===s?[]:s,n=e.prevPositions,a=void 0===n?[]:n;let o='<p>Comment:</p><br style="line-height: 250px">';if(r.length){o+=`<hr><h4>Current ads</h4><p>Space Id: ${e.spaceId}</p><table><tbody>`,o+=this.composePositionList(r).join(""),o+="</tbody></table>"}if(a.length){o+=`<h4>Previous ads</h4> <p>Space Id: ${t}</p><table><tbody>`,o+=this.composePositionList(a).join(""),o+="</tbody></table>"}return o}),o()(this,"handleSendToCompose",()=>{this.handleDismiss();(0,this.props.openComposeView)({composeParams:{to:[{email:"yahoomailadsreview@verizonmedia.com"}],subject:"Yahoo Mail Ad Feedback - Ad Details",body:this.composeEmailBody()}})})}componentDidMount(){this.context.bindShortcut(dE,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(dE)}render(){const e=this.state.shown,t=Ti()(lE.a);return e?Ko.a.createElement(iE.a,{onClose:this.handleDismiss,onKeyDown:this.handleKeyDown},Ko.a.createElement("div",{className:t.container},Ko.a.createElement("div",{className:t.header},"Ad Information"),this.renderAdList(!1),this.renderAdList(!0),this.props.darlaErrorMessage?Ko.a.createElement("div",{className:t.spaceid},"Err:",this.props.darlaErrorMessage):null,Ko.a.createElement("div",{className:t.buttonContainer},Ko.a.createElement("span",null,Ko.a.createElement(mi.a,{onClick:this.handleDismiss,className:t.button},"OK"),Ko.a.createElement(mi.a,{className:t.button,onClick:this.handleSendToCompose},"Send Feedback"))))):null}}o()(EE,"contextTypes",{bindShortcut:Vo.a.func,unbindShortcut:Vo.a.func});var _E=Object(qo.connect)(e=>{const t=(0,Object(wi.selectors)(e).getAdsSelectors)().getDarlaAdData();return{darlaAdCallResult:t.ads,darlaErrorMessage:t.errorMessage}},e=>({openComposeView:t=>e(Object(oi.h)(t))}))(EE),uE=s(502),pE=s(698),mE=s.n(pE);const SE=e=>{const t=(0,Object(wi.selectors)(e).getFeaturesSelectors)();return{theme:t.getSetting("theme"),themeMode:t.getSetting("themeMode")}},hE=e=>Object(qo.connect)(SE)(function(e){var t,s;return s=t=class extends Ko.a.Component{getChildContext(){return{getCss:(e,t)=>Ti()(e,Object.assign({},t,{themeMode:this.props.themeMode,theme:this.props.theme,themeCombo:`${this.props.themeMode}_${this.props.theme}`})),getTheme:()=>this.props.theme,getThemeMode:()=>this.props.themeMode}}render(){return Ko.a.createElement(e,zo()({key:`${this.props.theme}-${this.props.themeMode}`,ref:"childComponent"},this.props))}},o()(t,"displayName","WrappedThemeProvider"),o()(t,"childContextTypes",{getCss:Vo.a.func,getTheme:Vo.a.func,getThemeMode:Vo.a.func}),s}(e));var CE=s(74);var gE=s(158),OE=s(699),TE=s.n(OE);const AE=Ti()(TE.a);var IE=class extends Ko.a.Component{constructor(...e){super(...e),o()(this,"focus",()=>{this.refs.input.focus()})}render(){const e=this.props;return Ko.a.createElement("div",{className:AE.searchContainer},Ko.a.createElement("input",zo()({},e,{ref:"input",className:AE.input,type:"text"})),Ko.a.createElement("span",{className:AE.magnifying},Ko.a.createElement(ei.b,{kind:ti.Kinds.SEARCH,size:ti.Sizes.XXS})))}},fE=s(589),DE=s(701),RE=s.n(DE),bE=s(702),NE=s.n(bE);const ME=Ti()(NE.a),yE={"SHIFT+/":"?"},LE={META:" Command",SHIFT:" Shift",BACKSPACE:" Backspace",SPACE:" Space",DEL:" Del",ENTER:" Enter",UP:" Up",DOWN:" Down",LEFT:" Left",RIGHT:" Right",PERIOD:".",COMMA:","},PE=Object($o.defineMessages)({or:{id:"shortcut.or",defaultMessage:"or"}});function vE({shortcutString:e},t){const s=t.intl.formatMessage,r={},n=t.os;return e.split(gE.b).forEach(e=>{const t=e.trim();if(yE[t])return void(r[yE[t]]=[]);if(n===C.Sc.MAC&&-1!==t.toLowerCase().indexOf("ctrl")||n!==C.Sc.MAC&&-1!==t.toLowerCase().indexOf("meta"))return;const s=t.split(gE.a),a=(1===s.length?s:s.slice(0,-1)).map(e=>LE[e]||e.toLowerCase()).join(` ${gE.a} `);r[a]||(r[a]=[]),s.length>1&&s.slice(-1).forEach(e=>{r[a].push(LE[e]||e.toLowerCase())})}),Ko.a.createElement("span",{className:ME.keyGroups,"data-test-id":"cheat-key"},Object.keys(r).map((e,t)=>{const n=r[e];return Ko.a.createElement("span",{key:t,className:ME.keyGroup},t>0&&Ko.a.createElement("span",{className:ME.delimit},s(PE.or)),Ko.a.createElement("span",{className:ME.key},e),n.length>0&&Ko.a.createElement("span",{className:ME.delimit},gE.a),n.length>0&&Ko.a.createElement("span",{className:ME.vertical},n.map((e,s)=>{const r=[ME.key,s>0?ME.marginTop:""].join(" ");return Ko.a.createElement("span",{key:`${t}-${s}`,className:r},e)})))}))}vE.contextTypes={intl:$o.intlShape,os:Vo.a.string.isRequired};var FE=s(703),UE=s.n(FE);const wE=Ti()(UE.a);function GE({shortcutKey:e,setSearchableText:t},s){const r=e.id,n=e.description,a=e.key,o=s.intl.formatMessage;let i=n;if(n.type===$o.FormattedMessage)i=Ko.a.cloneElement(n,null,(function(){const e=Array.prototype.slice.call(arguments).map(HE.bind(null,o)).join("");return t(e,r),Ko.a.createElement("span",null,...arguments)}));else if(Ko.a.isValidElement(n)){const e=HE(o,n);t(e,r)}else{const e=o(n);i=e,t(e,r)}return Ko.a.createElement("li",{className:wE.keyRow},Ko.a.createElement("span",{className:wE.description},i),Ko.a.createElement(vE,{shortcutString:a}))}function HE(e,t){return Ko.a.isValidElement(t)?t.type!==$o.FormattedMessage?Ko.a.Children.map(t.props.children,t=>HE(e,t)).join(""):(Object(h.a)(0===Object.keys(t.props.values).length,"Cheatsheet translation extraction\n            does not support deeply nested rich text translation.\n            Please make it only two levels deep at maximum."),e(t.props)):"object"==typeof t?e(t):t}function jE(e,t,s){return 0===s.length?null:Ko.a.createElement("li",{className:e.column,"data-test-id":"shortcut-group-column"},Ko.a.createElement("ul",{className:e.listView},s.map(e=>Ko.a.createElement(GE,{key:e.id,shortcutKey:e,setSearchableText:t}))))}function kE({keyGroup:{group:e,keys:t},searching:s,setSearchableText:r},n){const a=Ti()(RE.a,{searching:s}),o=n.intl.formatMessage,i=Math.ceil(t.length/2);return Ko.a.createElement("div",{key:e.id,className:a.sectionContainer},Ko.a.createElement("div",{className:a.sectionHeading},o(e.description)),Ko.a.createElement("ul",{className:a.twoColumnList},jE(a,r,t.slice(0,i)),jE(a,r,t.slice(i))))}GE.contextTypes={intl:$o.intlShape,os:Vo.a.string.isRequired},kE.contextTypes={intl:$o.intlShape,os:Vo.a.string.isRequired};var xE=s(704),BE=s.n(xE),VE=s(705),WE=s.n(VE);const KE=["shift+/"],qE=Object($o.defineMessages)({filterPlaceholder:{id:"shortcut.filter",defaultMessage:"Search shortcuts, e.g. open an email"}});class YE extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{shown:!1,filterQuery:"",coldStart:!0}),o()(this,"handleShortcuts",e=>{e.preventDefault(),e.stopPropagation(),this.isHelpShortCutTriggered(e)&&this.toggleCheatsheet(e)}),o()(this,"toggleCheatsheet",e=>{e.preventDefault(),e.stopPropagation(),this.setState({shown:!this.state.shown,filterQuery:""},()=>{this.state.shown&&this.refs.search.focus()})}),o()(this,"handleDismiss",()=>{this.setState({shown:!1,filterQuery:""})}),o()(this,"handleModalKeyDown",e=>{this.isHelpShortCutTriggered(e)&&this.handleDismiss()}),o()(this,"setDictionary",(e,t)=>{this.state.coldStart&&this.descriptionDb.insert(e.toLowerCase(),t)}),o()(this,"handleFilterChange",e=>{const t=e.target.value.trim();t!==this.state.filterQuery&&this.setState({filterQuery:t})})}componentWillMount(){this.descriptionDb=new BE.a}componentDidUpdate(e,t){const s=this.state;t.shown===s.shown||s.coldStart||this.setState({coldStart:!1})}componentDidMount(){this.context.bindShortcut(KE,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(KE)}isHelpShortCutTriggered(e){return 191===(e.which||e.keyCode||-1)&&e.shiftKey}render(){const e=this.context.intl.formatMessage,t=this.props.allKeys,s=this.state,r=s.shown,n=s.filterQuery,a=Ti()(WE.a);let o=[];if(n){const e=this.descriptionDb.find(n.toLowerCase());o=Object(f.h)(t).map(({group:t,keys:s})=>({group:t,keys:s.filter(({id:t})=>e.indexOf(t)>=0)})).filter(({keys:e})=>e.length)}else o=Object(f.h)(t);return o=o.sort(({group:e},{group:t})=>e.priority-t.priority),r?Ko.a.createElement(iE.a,{onClose:this.handleDismiss,onKeyDown:this.handleModalKeyDown},Ko.a.createElement("div",{className:a.container},Ko.a.createElement("div",{className:a.header},Ko.a.createElement(fE.a,{onClose:this.handleDismiss})),Ko.a.createElement("section",{className:a.cheatContent},Ko.a.createElement("div",{className:a.filterSection},Ko.a.createElement(IE,{ref:"search",onChange:this.handleFilterChange,placeholder:e(qE.filterPlaceholder)})),Ko.a.createElement("div",{className:a.keysetContainer},o.map(e=>Ko.a.createElement(kE,{key:e.group.id,keyGroup:e,searching:!!n,setSearchableText:this.setDictionary})))))):null}}o()(YE,"contextTypes",{intl:$o.intlShape,os:Vo.a.string.isRequired,bindShortcut:Vo.a.func,unbindShortcut:Vo.a.func});var zE=YE;Object(Pi.b)({group:vi.a,keys:Object.assign({unread:{key:"K",description:Ko.a.createElement($o.FormattedMessage,{id:"shortcut.unread",defaultMessage:"Mark as {unread}",values:{unread:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.unread_strong",defaultMessage:"Unread"}))}})},read:{key:"SHIFT+K",description:Ko.a.createElement($o.FormattedMessage,{id:"shortcut.read",defaultMessage:"Mark as {read}",values:{read:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.read_strong",defaultMessage:"Read"}))}})},starred:{key:"L",description:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.starred",defaultMessage:"Star"}))},unstarred:{key:"SHIFT+L",description:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.unstarred",defaultMessage:"Unstar"}))},delete:{key:"BACKSPACE, DEL, #",description:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.message_group_delete",defaultMessage:"Delete"}))},archiveMessageGroup:{key:"E",description:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.message_group_archive",defaultMessage:"Archive"}))},restoreMessageGroup:{key:"SHIFT+E",description:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.message_group_restore",defaultMessage:"Restore to inbox"}))},openMoveMenu:{key:"D",description:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},openFilterEnabledMoveMenu:{key:"SHIFT+D",description:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},previous:{key:"LEFT",description:Ko.a.createElement($o.FormattedMessage,{id:"shortcut.previous",defaultMessage:"Go to {previous} message or conversation",values:{previous:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.previous_bold",defaultMessage:"previous"}))}})},next:{key:"RIGHT",description:Ko.a.createElement($o.FormattedMessage,{id:"shortcut.next",defaultMessage:"Go to {next} message or conversation",values:{next:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.next_bold",defaultMessage:"next"}))}})}},gE.c)}),Object(Pi.b)({group:vi.b,keys:{openPreview:{key:"SHIFT+P",description:Ko.a.createElement($o.FormattedMessage,{id:"shortcut.previewr_open",defaultMessage:"Open Preview"})}}});var QE=class extends Ko.a.Component{componentWillMount(){this.allShortcuts=Object(Pi.a)()}render(){return Ko.a.createElement(zE,{allKeys:this.allShortcuts})}};const ZE="pointer-mode",XE="keyboard-mode";var $E=class extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{inputMode:ZE}),o()(this,"lastMouseCoordinates",[]),o()(this,"handleKeyUp",e=>{switch(e.key){case"Tab":case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":this.handleKeyNav()}switch(e.which){case Fi.b.PERIOD:case Fi.b.COMMA:this.handleKeyNav();break;default:return}}),o()(this,"handleMouseDown",()=>{this.setState({inputMode:ZE})}),o()(this,"handleMouseMove",e=>{this.lastMouseCoordinates[0]===e.screenX&&this.lastMouseCoordinates[1]===e.screenY||(this.lastMouseCoordinates=[e.screenX,e.screenY],this.setState({inputMode:ZE}))})}handleKeyNav(){this.setState({inputMode:XE})}render(){const e=this.state.inputMode+(this.props.className?" "+this.props.className:""),t=this.state.inputMode===XE?{onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown}:{onKeyUp:this.handleKeyUp};return Ko.a.createElement("div",zo()({className:e},t),this.props.children)}},JE=s(73),e_=s(30),t_=s.n(e_);function s_(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function r_(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?s_(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):s_(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var n_=s(215),a_=s.n(n_);class o_ extends Ko.a.Component{constructor(e){super(e),o()(this,"onClick",e=>{const t=this.props,s=t.openCalendarPane,r=t.closePreviewRoute,n=t.closeFeatureCue,a=t.isCueEnabled&&!t.isCalendarPaneRendered;r?(0,t.closePreviewOpenPane)({route:r}):s(),a&&n({userAction:"close",i13nModel:{mKey:`cue_${C.Eb.CALENDAR_RIGHT_RAIL_PANE_CUE}_try_it`,sec:Ii.i.FEATURE_CUE,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}),o()(this,"updateContent",()=>{this.popoverRef&&this.popoverRef.current.updatePosition()}),this.iconRef=Ko.a.createRef(),this.popoverRef=Ko.a.createRef(),this.state={mounted:!1,nowObj:new Date}}componentDidMount(){this.state.mounted||this.setState({mounted:!0})}componentWillUnmount(){this.state.mounted&&this.setState({mounted:!1})}render(){const e=this.props,t=e.verticalLayout,r=e.property,n=e.openCalendarPane,a=e.isCueEnabled,o=e.isCalendarPaneRendered,i=e.formattedText,c=this.state.nowObj,l=this.context.getCss(a_.a,{verticalLayout:t}),d=t?pi.h.END:pi.h.UP;return Ko.a.createElement("div",{className:o?l.selectedProperty:l.property,"data-test-id":r.dataTestId,"data-iskeynav":!0,tabIndex:-1},Ko.a.createElement("button",{className:l.calendarIconButton,onClick:this.onClick,"data-test-id":"calendar-right-rail-clickable-btn",title:i},Ko.a.createElement(ei.b,{kind:ti.Kinds.CALENDAR_EMPTY,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED,ref:this.iconRef}),Ko.a.createElement("div",{className:l.calendarDateText,"data-test-id":"calendar-day-text"},c.getDate())),a&&!o&&this.state.mounted&&Ko.a.createElement(Ei.a,{triggerOn:pi.i.MOUNT,zAltitude:di.Pb.POPOVER.HIGH,popoverAnchor:this.iconRef.current,persistent:!0,ref:this.popoverRef,align:pi.a.END,permittedArrowDirections:[d]},Ko.a.createElement(Mi.a,{import:"../../calendar_pane_cue",bundleName:"epochCalendar",cueName:C.Eb.CALENDAR_RIGHT_RAIL_PANE_CUE,onShow:this.updateContent,launchCalendarPane:n,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,1295))},_moduleResolver:function(){return 1295}})))}}o()(o_,"contextTypes",{getCss:Vo.a.func.isRequired});var i_=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getRoute,r=t.normalizeRoute,n=t.getActionableRightRailPane,a=(0,t.getFeaturesSelectors)().isEnabled,o=s(),i=n()===C.qd.CalendarPane;let c;if(o&&o.params&&o.query){c=o.params.attachmentId&&"1"!==o.query.fullscreen?r(Object(Ui.p)(Object(Hi.z)(o),o.params.groupId)):null}return{isCalendarPaneRendered:i,closePreviewRoute:c,isCueEnabled:a(C.Eb.CALENDAR_RIGHT_RAIL_PANE_CUE)}},e=>({openCalendarPane:()=>e((e=>r_({},e,{type:sc.RIGHT_RAIL_COMMS_ICON_CLICKED,name:C.pd.CALENDAR_PANE}))()),closePreviewOpenPane:t=>e((e=>r_({},e,{name:C.pd.CALENDAR_PANE}))(Object(oi.j)(t))),closeFeatureCue:t=>e(Object(yi.a)(t))}),null,{areStatePropsEqual:t_.a})(o_),c_=s(123);class l_ extends Ko.a.Component{constructor(e){super(e),o()(this,"state",{mounted:!1}),o()(this,"onClick",e=>{const t=this.props,s=t.closePreviewOpenPane,r=t.openContactsPane,n=t.closePreviewRoute,a=t.isContactsPaneRendered,o=t.isCueEnabled,i=t.closeFeatureCue,c={mKey:a?Ii.g.CONTACTS_PANE_ICON_OFF:Ii.g.CONTACTS_PANE_ICON_ON,sec:Ii.i.CONTACTS_PANE,interactionType:Object(Ps.getInteractionFromEvent)(e)},l=o&&!a;n?s({i13nModel:c,uiContext:{mKey:Ii.g.CONTACTS_PANE_ICON_ON},route:n}):r({i13nModel:c}),l&&i({userAction:"close",i13nModel:{mKey:`cue_${C.Eb.CONTACTS_PANE_CUE}_try_it`,sec:Ii.i.FEATURE_CUE,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}),o()(this,"updateContent",()=>{this.popoverRef&&this.popoverRef.current.updatePosition()}),this.iconRef=Ko.a.createRef(),this.popoverRef=Ko.a.createRef()}componentDidMount(){this.state.mounted||this.setState({mounted:!0})}componentWillUnmount(){this.state.mounted&&this.setState({mounted:!1})}render(){const e=this.props,t=e.kind,r=e.formattedText,n=e.isContactsPaneRendered,a=e.isCueEnabled,o=e.openContactsPane,i=this.context.getCss(a_.a,{verticalLayout:e.verticalLayout});return Ko.a.createElement("button",{onClick:this.onClick,className:n?i.selectedProperty:i.property,"aria-label":r,title:r,"data-iskeynav":!0,tabIndex:"0","data-test-id":"contacts-pane-icon"},Ko.a.createElement(ei.b,{kind:t,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED,ref:this.iconRef}),a&&!n&&this.state.mounted&&Ko.a.createElement(Ei.a,{triggerOn:pi.i.MOUNT,zAltitude:di.Pb.POPOVER.HIGH,popoverAnchor:this.iconRef.current,align:pi.a.CENTER,persistent:!0,ref:this.popoverRef,permittedArrowDirections:[pi.h.END,pi.h.UP]},Ko.a.createElement(Mi.a,{import:"../../contacts_pane_cue",bundleName:"contacts",cueName:C.Eb.CONTACTS_PANE_CUE,onShow:this.updateContent,launchContactsPane:o,_moduleLoader:function(){return s.e(1).then(s.bind(null,1296))},_moduleResolver:function(){return 1296}})))}}o()(l_,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func.isRequired});var d_=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getRoute,r=t.normalizeRoute,n=t.getActionableRightRailPane,a=(0,t.getFeaturesSelectors)().isEnabled,o=s(),i=n()===C.qd.ContactsPane;let c;if(o&&o.params&&o.query){c=o.params.attachmentId&&"1"!==o.query.fullscreen?r(Object(Ui.p)(Object(Hi.z)(o),o.params.groupId)):null}return{isContactsPaneRendered:i,closePreviewRoute:c,isCueEnabled:a(C.Eb.CONTACTS_PANE_CUE)}},e=>({openContactsPane:t=>e(Object(c_.G)(t)),closePreviewOpenPane:t=>e(Object(c_.w)(Object(oi.j)(t))),closeFeatureCue:t=>e(Object(yi.a)(t))}))(l_);const E_={tw:Ko.a.createElement("path",{d:"M13.663 13.949c-.816.716-2.664 1.065-3.653 1.051-1.011.014-2.837-.335-3.653-1.051C5.116 12.86 4.981 11 4.981 10.587h10.058c0 .413-.135 2.273-1.376 3.362M7.71 6.563c.509 0 .922.425.922.948a.935.935 0 0 1-.922.947.935.935 0 0 1-.922-.947c0-.523.413-.948.922-.948m4.553 0a.922.922 0 1 1 0 1.845.922.922 0 0 1 0-1.845M9.999 2A8 8 0 1 0 10 17.999 8 8 0 0 0 9.999 2"}),hk:Ko.a.createElement("path",{d:"M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16zM7.816 6h-1.49c-.256 0-.412.275-.275.485L8.9 10.93c.034.05.051.109.051.169v3.213a.322.322 0 0 0 .327.317h1.287a.322.322 0 0 0 .326-.317v-3.249c0-.06.018-.12.051-.17l2.847-4.406c.14-.21-.016-.486-.274-.486H12.09a.33.33 0 0 0-.28.152l-1.764 2.659c-.128.205-.094.203-.22-.002l-1.73-2.654A.33.33 0 0 0 7.815 6z"})};class __ extends Ko.a.Component{constructor(...e){super(...e),o()(this,"onClick",()=>{let e;this.props.isMembershipRewardsPaneActive||(e={mKey:Ii.g.REWARDS_ICON,sec:Ii.i.MEMBERSHIP_REWARDS,interactionType:Ii.e.click}),this.props.membershipRewardsIconToggled({name:C.pd.MEMBERSHIP_REWARDS,i13nModel:e})}),o()(this,"updateContent",()=>{this.popoverContent&&this.popoverContent.updatePosition()}),o()(this,"renderPopoverContent",e=>this.iconRef?Ko.a.createElement(Ei.a,{triggerOn:pi.i.MOUNT,zAltitude:di.Pb.POPOVER.HIGH,popoverAnchor:this.iconRef,align:pi.a.CENTER,persistent:!0,permittedArrowDirections:[pi.h.END],ref:e=>{this.popoverContent=e}},Ko.a.createElement(Mi.a,{import:"../../membership_rewards/rewards_icon_popover",cueName:e,onShow:this.updateContent,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1342))},_moduleResolver:function(){return 1342}})):null)}render(){const e=this.props,t=e.title,s=e.isMembershipRewardsPaneActive,r=e.showTMRIconNotification,n=this.context.getCss(a_.a,{verticalLayout:e.verticalLayout});return Ko.a.createElement("button",{"data-test-id":"membership-rewards-icon",onClick:this.onClick,className:s?n.selectedProperty:n.property,title:t,"aria-label":t},Ko.a.createElement("svg",{viewBox:"0 0 20 20",className:n.icon,ref:e=>{this.iconRef=e}},E_[this.context.region]||E_.tw),r?this.renderPopoverContent(C.Eb.TMR_ICON_NOTIFICATION):null)}}__.contextTypes={getCss:Vo.a.func.isRequired,region:Vo.a.string};var u_=__,p_=s(480);const m_=Object($o.defineMessages)({mail_icon:{id:"properties.mail_icon",defaultMessage:"Mail"},contacts_icon:{id:"properties.contacts_icon",defaultMessage:"Contacts"},calendar_icon:{id:"properties.calendar_icon",defaultMessage:"Calendar"},notepad_icon:{id:"properties.notepad_icon",defaultMessage:"Notepad"},help_icon:{id:"properties.help_icon",defaultMessage:"Help"},subproperties_nav:{id:"landmark.subproperties_nav",defaultMessage:"Navigate to other Yahoo properties like Messenger, Calendar, Contacts and Notepad"},rewards_icon:{id:"rewards_icon_tooltip",defaultMessage:"Yahoo membership program"}});class S_ extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handle",(e,t)=>{const s=Object(Ps.getInteractionFromEvent)(e),r=this.props.onPropertyClick;e.stopPropagation(),r(s,t)}),o()(this,"renderProperty",(e,t)=>{const s=e.href,r=e.kind,n=e.text,a=e.propertyClassNames,o=void 0===a?"":a,i=e.dataTestId,c=this.context.intl.formatMessage(n),l=this.props,d=l.verticalLayout,E=l.isMembershipRewardsPaneActive,_=l.membershipRewardsIconToggled,u=l.showTMRIconNotification,p=l.calendarRightRailPaneEnabled;if(r===ti.Kinds.CONTACT_CARD&&l.contactsPaneEnabled)return Ko.a.createElement(d_,{kind:r,formattedText:this.context.intl.formatMessage(n),verticalLayout:this.props.verticalLayout,key:n.id});if(r===ti.Kinds.CALENDAR_EMPTY&&p)return Ko.a.createElement(i_,{verticalLayout:this.props.verticalLayout,key:n.id,property:e,formattedText:c});const m=r===ti.Kinds.CALENDAR_EMPTY,S=new Date;return"membershipRewards"===r?Ko.a.createElement(u_,{key:n.id,title:c,verticalLayout:d,isMembershipRewardsPaneActive:E,membershipRewardsIconToggled:_,showTMRIconNotification:u}):Ko.a.createElement("a",{key:n.id,onClick:t=>this.handle(t,e),href:s,className:t.property+" "+o,"aria-label":c,title:c,"data-test-id":i,target:r,"data-iskeynav":!0,tabIndex:-1,rel:"noopener"},m?Ko.a.createElement("div",{className:t.calendarIcon},Ko.a.createElement(ei.b,{kind:r,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED}),Ko.a.createElement("div",{className:t.calendarDateText,"data-test-id":"calendar-day-text"},S.getDate())):Ko.a.createElement(ei.b,{kind:r,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED}))})}render(){const e=this.props,t=e.notepadTabEnabled,s=e.calendarURL,r=e.notePadURL,n=e.helpURL,a=e.isWideScreenMode,o=e.membershipRewardsEnabled,i=this.context.intl.formatMessage,c=this.context.getCss(a_.a,{verticalLayout:e.verticalLayout}),l=[{kind:ti.Kinds.CONTACT_CARD,text:m_.contacts_icon},{href:s,kind:ti.Kinds.CALENDAR_EMPTY,text:m_.calendar_icon,mKey:Ii.g.CALENDAR_ICON,hidden:!1,dataTestId:"right-rail-calendar-icon"},{href:r,kind:ti.Kinds.NOTEPAD,text:m_.notepad_icon,mKey:Ii.g.NOTEPAD_ICON,hidden:!t,dataTestId:"right-rail-notepad-icon"},{kind:"membershipRewards",text:m_.rewards_icon,hidden:!o,dataTestId:"right-rail-rewards-icon"}];return(a||l.filter(({hidden:e})=>!e).length<4)&&l.push({href:n,kind:ti.Kinds.CAL_MAYBE,text:m_.help_icon,mKey:Ii.g.HELP_ICON,dataTestId:"right-rail-help-icon"}),Ko.a.createElement("div",{"data-test-id":"comms-properties",role:"navigation","aria-label":i(m_.subproperties_nav),className:c.properties},l.map(e=>!e.hidden&&this.renderProperty(e,c)))}}o()(S_,"contextTypes",{config:Vo.a.object,intl:$o.intlShape.isRequired,getCss:Vo.a.func});var h_=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.isFeatureEnabled,r=t.getSetting,n=t.isNarrowScreen,a=s(C.Eb.NOTEPAD_TAB),o=r(C.Kd.CALENDAR_URL),i=r(C.Kd.NOTEPAD_URL),c=r(C.Kd.HELP_URL),l=r(C.Kd.ACTIONABLE_RIGHT_RAIL_CONTENT),d=s(C.Eb.MEMBERSHIP_REWARDS),E=l&&l.currentView===C.pd.MEMBERSHIP_REWARDS,_=s(C.Eb.TMR_ICON_NOTIFICATION),u=!n()||s(C.Eb.WIDE_RIGHT_RAIL);return{notepadTabEnabled:a,calendarURL:o,notePadURL:i,helpURL:c,contactsPaneEnabled:s(C.Eb.CONTACTS_PANE_FEATURE),calendarRightRailPaneEnabled:s(C.Eb.CALENDAR_RIGHT_RAIL_PANE),membershipRewardsEnabled:d,isMembershipRewardsPaneActive:E,showTMRIconNotification:_,isWideScreenMode:u}},e=>({membershipRewardsIconToggled:t=>e(Object(p_.a)(t))}))(S_),C_=s(492),g_=s.n(C_),O_=s(156);const T_=Object($o.defineMessages)({settingsMenu:{id:"settings_menu_aria_label",defaultMessage:"Settings Menu"}});class A_ extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{showUserInformation:!1}),o()(this,"handleDismiss",()=>{this.setState({showUserInformation:!1})}),o()(this,"handleModalKeyDown",e=>{this.handleOutsideModalClick(e)&&this.handleDismiss()}),o()(this,"handleGearIconClick",e=>{e.preventDefault(),e.metaKey||e.ctrlKey?(this.setState({showUserInformation:!0}),e.stopPropagation()):(this.props.showSettingsCue&&this.props.featureCueClosed({name:C.Eb.SETTINGS_CUE}),this.props.showSettings({i13nModel:{mKey:Ii.g.SETTINGS_GEAR_ICON,sec:Ii.i.HEADER_NAV}}))}),o()(this,"handleSettingsLabelClick",e=>{e.preventDefault(),e.metaKey||e.ctrlKey?(this.setState({showUserInformation:!0}),e.stopPropagation()):this.props.showSettings({i13nModel:{mKey:Ii.g.SETTINGS_LABEL,sec:Ii.i.HEADER_NAV}})}),o()(this,"cueTryNowHandler",()=>{this._container.hide(pi.i.MOUNT),this._container.show(pi.i.CLICK)}),o()(this,"updateContent",()=>{this.popoverContent&&this.popoverContent.updatePosition()}),o()(this,"updateContentNTK",e=>{e&&e.updatePosition()}),o()(this,"renderCue",()=>this.props.showSettingsCue?Ko.a.createElement(Ei.a,{triggerOn:pi.i.MOUNT,onClose:this.cueClosed,zAltitude:di.Pb.POPOVER.HIGH,isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},persistent:!0,permittedArrowDirections:[pi.h.END]},Ko.a.createElement(Mi.a,{import:"../../atoms/settings_personalize_cue",cueName:C.Eb.SETTINGS_CUE,onTryNow:this.cueTryNowHandler,onShow:this.updateContent,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1297))},_moduleResolver:function(){return 1297}})):null),o()(this,"renderNeedToKnowNewsCue",()=>this.props.showNeedToKnowNewsCue&&this.homeIconRef?Ko.a.createElement(Ei.a,{triggerOn:pi.i.MOUNT,zAltitude:di.Pb.POPOVER.HIGH,popoverAnchor:this.homeIconRef,isRTL:this.props.isRTL,ref:e=>{this.popoverContentNTK=e},align:pi.a.END,offset:0,borderRadius:pi.e.HIGH,persistent:!0,permittedArrowDirections:[pi.h.UP]},Ko.a.createElement(Mi.a,{defer:!0,import:"../../../../molecules/need_to_know_news_cue",cueName:C.Eb.NEED_TO_KNOW_NEWS_CUE,onShow:()=>this.updateContentNTK(this.popoverContentNTK),_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1298))},_moduleResolver:function(){return 1298}})):null),o()(this,"getFujiIcon",()=>{const e=this.context.intl.formatMessage,t=this.context.getThemeMode()!==ai.i.LIGHT;return Ko.a.createElement(Jo.default,{onClick:this.handleGearIconClick,"data-iskeynav":!0,paddingLess:!0,size:ti.Sizes.XS,kind:ti.Kinds.SETTINGS,title:e(T_.settingsMenu),"aria-label":e(T_.settingsMenu),colorState:ti.ColorStates.INHERITED,isOnDarkBackground:t})})}handleOutsideModalClick(e){return-1===(e.which||e.keyCode||-1)}componentDidMount(){window.showSettingsPopover&&(this._container.show(pi.i.CLICK),window.showSettingsPopover=void 0),this.props.autoOpenSettingsPopover&&!window.autoOpenSettingsPopover&&(this._container.show(pi.i.CLICK),window.autoOpenSettingsPopover=!0);const e=window.document.getElementsByClassName("ybar-icon-sprite")||[];this.homeIconRef=e[e.length-1]}componentWillReceiveProps(e){!this.props.autoOpenSettingsPopover&&e.autoOpenSettingsPopover&&(this._container.show(pi.i.CLICK),this.props.toggleAutoOpenSettingsPopover({status:!1}))}render(){const e=this.props,t=e.verticalLayout,r=e.windowDimensions,n=e.isRTL,a=t?pi.a.START:pi.a.END,o=t?pi.h.END:pi.h.UP,i=(r?r.contentAndRightRailHeight:0)-(t?O_.i:e.commsPropertiesSectionHeight||O_.a)-O_.h,c=this.context.getCss(g_.a,{verticalLayout:t,verticalPreviewPane:e.previewPaneSetting===C.ed.RIGHT&&!e.showContactsPane,hasContactCard:e.hasContactCard});return Ko.a.createElement("div",{className:c.settingsLabelIconContainer},Ko.a.createElement(_i.a,{ref:e=>this._container=e},Ko.a.createElement(ui.a,null,Ko.a.createElement("div",{className:c.settingsGearIcon},t?null:Ko.a.createElement("span",{className:c.label,onClick:this.handleSettingsLabelClick,"data-test-id":"settings-link-label"},Ko.a.createElement($o.FormattedMessage,{id:"settings_link_label",defaultMessage:"Settings"})),this.getFujiIcon())),Ko.a.createElement(Ei.a,{offset:8,align:a,arrowSize:pi.b.M,triggerOn:pi.i.CLICK,overflowScroll:!1,permittedArrowDirections:[o],bg:pi.d.LIGHTGRAY,isRTL:n},e=>Ko.a.createElement(Mi.a,{import:"./settings_menu",onOptOutFeedback:this.props.onOptOutFeedback,availableHeightBelowCommsProps:i,onUpdateCompleted:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1341))},_moduleResolver:function(){return 1341}},Ko.a.createElement(Mi.b,{loading:!0},Ko.a.createElement("div",{className:c.menuContainerLazy},Ko.a.createElement(Qd.b,null))))),this.renderCue()),this.renderNeedToKnowNewsCue(),this.state.showUserInformation?Ko.a.createElement(Mi.a,{import:"../../../../molecules/user_information",onClose:this.handleDismiss,onKeyDown:this.handleModalKeyDown,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1299))},_moduleResolver:function(){return 1299}}):null)}}o()(A_,"contextTypes",{intl:$o.intlShape.isRequired,executeAction:Vo.a.func,getCss:Vo.a.func,getThemeMode:Vo.a.func});var I_=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getActionableRightRailPane,r=t.isFeatureEnabled,n=(0,t.getEnvironmentSelectors)(),a=s()===C.qd.ContactsPane;return{isRTL:"rtl"===n.getPageDirection(),showContactsPane:a,showNeedToKnowNewsCue:r(C.Eb.NEED_TO_KNOW_NEWS_CUE)}},e=>({featureCueClosed:t=>e(Object(yi.a)(t)),showSettings:t=>e(Object($c.H)(t)),toggleAutoOpenSettingsPopover:t=>e(Object($c.I)(t))}))(A_),f_=s(706),D_=s.n(f_),R_=s(132),b_=s(476),N_=s(395),M_=s(390),y_=s.n(M_),L_=s(90),P_=s(49);function v_(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function F_(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?v_(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v_(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const U_=Object($o.defineMessages)({optoutTitle:{id:"optout.title",defaultMessage:"Oh no... We will miss you!"},optoutSubmitTitle:{id:"optout.submit.title",defaultMessage:"Thank you for your feedback."},optoutSubmitMessage:{id:"optout.submit.message",defaultMessage:"Hope you try new Mail again soon!"},optionPlaceHolder:{id:"optout.option.placeholder",defaultMessage:"Tell us why you want to leave"},optionLikeOldMail:{id:"optout.option.oldmail",defaultMessage:"I like the look of classic Mail better"},ghostTextLikeOldMail:{id:"optout.ghost.oldmail",defaultMessage:"What do you like more about classic Mail i.e. inbox spacing, colors, etc.?"},optionConfuse:{id:"optout.option.confuse",defaultMessage:"I dont understand how to use new Mail"},ghostTextConfuse:{id:"optout.ghost.confuse",defaultMessage:"Tell us more about what is difficult to use in new Mail."},optionLater:{id:"optout.option.later",defaultMessage:"Im not ready to switch now but might later"},ghostTextLater:{id:"optout.ghost.later",defaultMessage:"Tell us more."},optionTheme:{id:"optout.option.theme",defaultMessage:"I miss having photo themes"},ghostTextTheme:{id:"optout.ghost.theme",defaultMessage:"What kind of photo themes would you like to have?"},optionSlow:{id:"optout.option.slow",defaultMessage:"I experience slowness or freezing in new Mail"},ghostTextSlow:{id:"optout.ghost.slow",defaultMessage:"Tell us what you are doing when you experience this i.e. deleting an email, reading email, etc."},optionFeatures:{id:"optout.option.features",defaultMessage:"I miss features from classic Mail"},ghostTextFeatures:{id:"optout.ghost.features",defaultMessage:"What specific features are you missing?"},optionOther:{id:"optout.option.other",defaultMessage:"Other"},ghostTextOther:{id:"optout.ghost.other",defaultMessage:"Please provide feedback to help us improve new Mail."},textAreaPlaceHolder:{id:"optout.textarea.placeholder",defaultMessage:"Give us some feedback to help us improve"},confirmButtonText:{id:"optout.basicmail.text",defaultMessage:"Switch to basic Mail"},cancelButtonText:{id:"optout.cancel.text",defaultMessage:"Cancel"},closeButton:{id:"optout.close",defaultMessage:"Close"},textCounter:{id:"optout.text.counter",defaultMessage:"{remainingLength, number} {remainingLength, plural, =0 {character} =1 {character} other {characters}} remaining"}}),w_=()=>{};function G_(e,t){const s={};return t.forEach(t=>{s[t]=U_[e+t]}),s}const H_=["Theme","LikeOldMail","Confuse","Later","Slow","Features","Other"],j_=G_("option",H_),k_=G_("ghostText",H_),x_={margin:`0 0 0 ${3*di.G}px`},B_={marginLeft:di.G+"px"},V_={opacity:.8};class W_ extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{selectedFeedback:null,feedback:"",isPanelFocus:!1,submit:!1}),o()(this,"handleDropdownChange",e=>{this.setState({selectedFeedback:e})}),o()(this,"handleConfirmClick",()=>{const e={},t=this.state,s=t.feedback,r=t.selectedFeedback;null!==r&&(e.feedbackOption=H_[r]),s.length>0&&(e.optOutFeedbackText=s),this.props.submitOptOutFeedback({actionData:e}),this.setState({submit:!0}),this.redirectTimeout||(this.redirectTimeout=setTimeout(()=>{const e=C.Jc+"?crumb="+window.AppBootstrapData.crumb;this.redirectWindow(e)},3e3))}),o()(this,"redirectWindow",e=>{window.location.href=e}),o()(this,"handleFeedbackPanelFocus",()=>{this.setState({isPanelFocus:!0})}),o()(this,"handleFeedbackPanelBlur",()=>{this.setState({isPanelFocus:!1})}),o()(this,"handleFeedbackChange",e=>{const t=this.state.feedback,s=e.target.value.substr(0,1e3);s!==t&&this.setState({feedback:s})}),o()(this,"getHeaderText",()=>{const e=this.context.intl.formatMessage;return e(this.state.submit?U_.optoutSubmitTitle:U_.optoutTitle)}),o()(this,"getPanelPlaceholderText",()=>{const e=this.state.selectedFeedback,t=this.context.intl.formatMessage;return t(null===e?U_.textAreaPlaceHolder:k_[H_[e]])}),o()(this,"getBodySection",()=>{const e=this.state,t=e.isPanelFocus,s=e.selectedFeedback,r=e.feedback,n=e.submit,a=this.context.intl.formatMessage,o=t?"":this.getPanelPlaceholderText(),i=1e3-r.length,c=Ti()(y_.a,{isPanelFocus:t});return n?Ko.a.createElement("div",{className:c.submitMessage},a(U_.optoutSubmitMessage)):Ko.a.createElement("div",{className:c.bodySection},Ko.a.createElement(b_.a,{onChange:this.handleDropdownChange,placeholder:a(U_.optionPlaceHolder),title:a(U_.optionPlaceHolder),coloredPlaceholder:!0,selected:s,"data-test-id":"opt-out-select"},H_.map((e,t)=>Ko.a.createElement(N_.a,{key:t,value:t,title:a(j_[e])},a(j_[e])))),Ko.a.createElement("textarea",{placeholder:o,className:c.textArea,onFocus:this.handleFeedbackPanelFocus,onBlur:this.handleFeedbackPanelBlur,onChange:this.handleFeedbackChange,value:r,"data-test-id":"opt-out-textarea"}),Ko.a.createElement("div",{className:c.messageCounter,"data-test-id":"opt-out-msg-counter"},t?a(U_.textCounter,{remainingLength:i}):null))}),o()(this,"renderButtons",()=>{const e=this.props.onCancel,t=this.state.submit,s=this.context.intl.formatMessage,r=Ti()(y_.a);return t?null:Ko.a.createElement("div",{className:r.buttonWrapper},Ko.a.createElement(mi.a,{"data-test-id":"opt-out-confirm",onClick:this.handleConfirmClick,title:s(U_.confirmButtonText),kind:Si.a.PRIMARY,style:x_},s(U_.confirmButtonText)),Ko.a.createElement(mi.a,{"data-test-id":"opt-out-cancel",onClick:e,title:s(U_.cancelButtonText),kind:Si.a.SECONDARY_BORDERLESS,style:B_},s(U_.cancelButtonText)))})}componentWillUnmount(){this.redirectTimeout=null}render(){const e=this.state.submit,t=this.context.intl.formatMessage,s=this.props.onCancel,r=Ti()(y_.a,{submit:e});return Ko.a.createElement(iE.a,{onClose:s,onOuterClick:w_},Ko.a.createElement("div",{className:r.surveyContainer,"data-test-id":"opt-out-container"},Ko.a.createElement("div",{className:r.headerSection},e?null:Ko.a.createElement("div",{className:r.closeButton},Ko.a.createElement(L_.a,{onClick:s,kind:ti.Kinds.CLOSE,size:ti.Sizes.XXS,title:t(U_.closeButton),"aria-label":t(U_.closeButton),"data-test-id":"opt-out-close",style:V_,colorStates:{normal:ti.ColorStates.DARK,hovered:ti.ColorStates.SELECTED}})),Ko.a.createElement("div",{className:r.imageWrapper},Ko.a.createElement("div",{className:r.optOutBackground},Ko.a.createElement("img",{className:r.chick,src:Object(P_.a)("/img/opt_out_chick.png")}),Ko.a.createElement("img",{className:r.sadFace,src:Object(P_.a)("/img/opt_out_sad.png")}))),Ko.a.createElement("div",{className:r.titleText},this.getHeaderText())),this.getBodySection(),this.renderButtons()))}}o()(W_,"contextTypes",{intl:$o.intlShape.isRequired,executeAction:Vo.a.func});var K_=Object(qo.connect)(void 0,e=>({submitOptOutFeedback:t=>e((e=>F_({},e,{type:sc.OPT_OUT_SUBMIT_FEEDBACK}))({i13nModel:{mKey:Ii.g.OPT_OUT_SUBMIT_FEEDBACK,sec:Ii.i.SETTINGS_POPUP,actionData:t.actionData}}))}))(W_);class q_ extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{showOptOutSurvey:!1,commsPropertiesSectionHeight:null}),o()(this,"componentDidMount",()=>{this.setState({commsPropertiesSectionHeight:this.commsPropertiesSection.clientHeight})}),o()(this,"componentDidUpdate",()=>{this.state.commsPropertiesSectionHeight!==this.commsPropertiesSection.clientHeight&&this.setState({commsPropertiesSectionHeight:this.commsPropertiesSection.clientHeight})}),o()(this,"onPropertyClick",(e,t)=>{this.props.handleHeaderNavigation({i13nModel:{mKey:t.mKey,sec:Ii.i.HEADER_NAV,interactionType:e}})}),o()(this,"onOptOut",e=>{this.props.optOutSurvey&&this.setState({showOptOutSurvey:!0}),this.props.optOut({i13nModel:{mKey:Ii.g.SETTINGS_POPUP_SWITCH_TO_CLASSIC,sec:Ii.i.SETTINGS_POPUP,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}),o()(this,"onOptOutCancel",()=>{this.setState({showOptOutSurvey:!1}),this.props.optOutCancelFeedback({i13nModel:{mKey:Ii.g.OPT_OUT_CANCEL_FEEDBACK,sec:Ii.i.SETTINGS_POPUP}})})}render(){const e=this.props.verticalLayout,t=this.context.getCss(D_.a,{verticalLayout:e}),s=this.state.showOptOutSurvey;return Ko.a.createElement("div",{ref:e=>this.commsPropertiesSection=e,className:t.container},Ko.a.createElement(R_.a,{axis:e?R_.b.VERTICAL:R_.b.HORIZONTAL,"data-test-id":"comms-properties-bar",groupTabIndex:di.Lb.COMMS_PROPERTIES_BAR,className:t.properties},e&&Ko.a.createElement(I_,zo()({},this.props,{onOptOutFeedback:this.onOptOut})),Ko.a.createElement(h_,zo()({},this.props,{onPropertyClick:this.onPropertyClick})),!e&&Ko.a.createElement(I_,zo()({},this.props,{onOptOutFeedback:this.onOptOut,commsPropertiesSectionHeight:this.state.commsPropertiesSectionHeight})),s?Ko.a.createElement(K_,{onCancel:this.onOptOutCancel}):null))}}o()(q_,"contextTypes",{executeAction:Vo.a.func,getCss:Vo.a.func,config:Vo.a.object,getTheme:Vo.a.func});const Y_=q_;var z_=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getQueryParams,r=(0,t.getFeaturesSelectors)();return{previewPaneSetting:r.getSetting(C.Kd.PREVIEW_PANE),autoOpenSettingsPopover:"1"===s().openSettingsPopover||r.isEnabled("autoOpenSettingsPopover"),showSettingsCue:r.isEnabled(C.Eb.SETTINGS_CUE),optOutSurvey:r.isEnabled("optOutSurvey")}},e=>({optOut:t=>e(Object($c.B)(t)),handleHeaderNavigation:t=>e(Object(oi.e)(t)),optOutCancelFeedback:t=>e(Object($c.C)(t))}))(Y_),Q_=s(483),Z_=s(712),X_=s.n(Z_),$_=s(137);class J_ extends Ko.a.Component{componentDidMount(){this.context.registerAdPosition({darlaPos:this.props.id})}componentWillUnmount(){this.context.removeAdPosition({darlaPos:this.props.id})}shouldComponentUpdate(e){return this.props.className!==e.className}render(){const e=$_.b[this.props.id],t=e.darla;return Ko.a.createElement("div",{id:t.clean,"data-yaft-module":e.yaftName,className:this.props.className},Ko.a.createElement("div",{id:t.dest}))}}o()(J_,"contextTypes",{registerAdPosition:Vo.a.func,removeAdPosition:Vo.a.func,executeAction:Vo.a.func});var eu=J_;class tu extends Ko.a.Component{render(){return Ko.a.createElement(eu,{id:"MON"})}}class su extends Ko.a.Component{render(){return Ko.a.createElement(eu,{id:"SKY"})}}class ru extends Ko.a.Component{render(){return Ko.a.createElement(eu,{id:"LREC"})}}class nu extends Ko.a.Component{render(){return Ko.a.createElement(eu,{id:"UBASKY"})}}class au extends Ko.a.Component{render(){return Ko.a.createElement(eu,{id:"UBALREC"})}}class ou extends Ko.a.Component{render(){return Ko.a.createElement("div",{"data-test-id":"stackedLRECs"},Ko.a.createElement(eu,{id:"LREC",className:this.props.lrecClassName}),Ko.a.createElement(eu,{id:"LREC4"}))}}var iu=s(713),cu=s.n(iu),lu=s(714),du=s.n(lu);const Eu=Object($o.defineMessages)({learn_more_btn_label:{id:"shop_now_btn_label",defaultMessage:"Shop Now"},ad_text_unified:{id:"ad_text_unified",defaultMessage:"Ad"}});class _u extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{hover:!1})}onHover(e){this.props.isSingleAd||("mouseover"===e.type?this.setState({hover:!0}):"mouseleave"===e.type&&this.setState({hover:!1}))}render(){const e=this.props,t=e.isRRCompactSize,s=e.rrAdBlockDPAad,r=e.isSingleAd,n=e.adSource,a=s.clickUrl,o=s.origImg,i=s.adHeadline,c=s.callToAction,l=Ti()(du.a,{isRRCompactSize:t,hover:this.state.hover,isSingleAd:r}),d=this.context.intl.formatMessage;return Ko.a.createElement("div",{className:l.container},Ko.a.createElement("a",{className:l.anchor,href:a,rel:"noreferrer noopener",target:"_blank",onMouseLeave:e=>this.onHover(e),onMouseOver:e=>this.onHover(e)},Ko.a.createElement("div",{className:l.imageContainer},Ko.a.createElement("img",{className:l.image,src:o}),r?null:Ko.a.createElement("div",{className:l.imageDescriptionContainer},Ko.a.createElement("div",{className:l.callToAction},Ko.a.createElement("span",null,c||d(Eu.shop_now_btn_label))))),Ko.a.createElement("div",{className:l.headline,title:i},i),r?Ko.a.createElement("div",{className:l.imageDescriptionContainer},Ko.a.createElement("div",{className:l.textContainer},Ko.a.createElement("div",{className:l.source},n),Ko.a.createElement("div",{className:l.sponsor},d(Eu.ad_text_unified)),Ko.a.createElement("div",{className:l.sponsorIcon},Ko.a.createElement(ei.b,{kind:ti.Kinds.SPONSORED,size:ti.Sizes.XXS,rotate:ti.Rotate.D180,colorState:ti.ColorStates.INHERITED}))),Ko.a.createElement("div",{className:l.callToAction},Ko.a.createElement("span",null,c||d(Eu.learn_more_btn_label)),Ko.a.createElement("div",{className:l.sponsorIcon},Ko.a.createElement(ei.b,{kind:ti.Kinds.INPUT_ARROW_DOWN,size:ti.Sizes.XXS,rotate:ti.Rotate.D270,colorState:ti.ColorStates.NORMAL})))):null))}}_u.contextTypes={intl:$o.intlShape.isRequired};var uu=_u,pu=s(356),mu=s(255);const Su=Object($o.defineMessages)({ad_text_unified:{id:"ad_text_unified",defaultMessage:"Ad"}});class hu extends Ko.a.Component{getAdCarousels(e){const t=e.carouselAssets;if(!t||!t.length){const t=this.props.isRRCompactSize,s=e.adHeadline,r=e.clickUrl,n=e.origImg,a=e.hqImage,o=e.callToAction,i=[];return s&&r&&n&&a&&i.push({adHeadline:s,clickUrl:r,origImg:t?n:a,callToAction:o}),i}return t.map(t=>({adHeadline:t.headline,clickUrl:t.clickUrl,origImg:t.img,callToAction:e.callToAction}))}renderRightRailDPAadItems(e,t){const s=this.props,r=s.isRRCompactSize,n=s.rrAdBlockDPASectionId,a=s.rrAdBlockDPAad,o=e.slice(0,4),i=[],c=[];if(1===o.length&&!r){return Ko.a.createElement("div",{className:t.adsContainer},Ko.a.createElement(uu,{isRRCompactSize:r,rrAdBlockDPASectionId:n,rrAdBlockDPAad:o[0],isSingleAd:!0,adSource:a.adSource}))}o.forEach((e,t)=>{t%2==0?i.push(e):c.push(e)});return r?Ko.a.createElement("div",{className:t.adsContainer},this.renderAdItemsColumn(o,"",t)):Ko.a.createElement("div",{className:t.adsContainer},this.renderAdItemsColumn(i,"left",t),this.renderAdItemsColumn(c,"right",t))}renderAdItemsColumn(e,t,s){const r=this.props,n=r.rrAdBlockDPASectionId,a=r.isRRCompactSize,o=e.map((e,s)=>Ko.a.createElement(uu,{isRRCompactSize:a,rrAdBlockDPASectionId:n,rrAdBlockDPAad:e,key:t+"_"+s}));return Ko.a.createElement("div",{className:s.adColumnContainer},o)}render(){const e=this.props,t=e.rrAdBlockDPAad,s=e.isRRCompactSize,r=e.rrAdBlockDPASectionId;if(!t)return null;const n=this.context.getCss(cu.a,{isRRCompactSize:s}),a=t.adSource,o=this.getAdCarousels(t),i=1===o.length,c=this.renderRightRailDPAadItems(o,n);return Ko.a.createElement("div",{className:n.container},Ko.a.createElement("div",{className:n.topbarContainer},i&&!s?null:Ko.a.createElement("div",{className:n.sponsorContainer},Ko.a.createElement("div",{className:n.adSponsor},(0,this.context.intl.formatMessage)(Su.ad_text_unified)),Ko.a.createElement("span",{className:n.dot}),Ko.a.createElement("div",{className:n.adSource},a)),Ko.a.createElement(pu.a,{isCompactLayout:!1,isRRCompactSize:s,isRightRailDPAad:!0,size:ti.Sizes.XS,kind:ti.Kinds.MORE,sectionId:r,offset:0})),Ko.a.createElement(mu.a,{rootNode:null,pencilAdData:t,sectionId:r},c))}}o()(hu,"contextTypes",{getCss:Vo.a.func,intl:$o.intlShape.isRequired});var Cu=Object(qo.connect)(e=>({rrAdBlockDPAad:(0,(0,Object(wi.selectors)(e).getAdsSelectors)().getRRadBlockDPAad)()}))(hu),gu=s(257);class Ou extends Ko.a.Component{constructor(...e){super(...e),o()(this,"insertDarlaConfig",()=>{const e=this.props.darlaAds.darlaData,t=void 0===e?"":e,s=this.context,r=s.locale;return Ko.a.createElement("div",null,Ko.a.createElement("script",{nonce:s.cspToken,dangerouslySetInnerHTML:{__html:`\n                        window.DARLA_CONFIG = ${JSON.stringify(Object.assign({},$_.c,{lang:r&&r.name||"en-US",auto_render:!t}))};\n                    `}}),t?Ko.a.createElement("div",{"data-test-id":"darla-data",dangerouslySetInnerHTML:{__html:t}}):null)}),o()(this,"renderDarlaAds",e=>{const t=this.props,s=t.disabledPositions,r=void 0===s?{}:s,n=t.lrecMonAdArbitration,a=t.isRRCompactSize,o=t.darlaPrefetchLaunchSyncer,i=t.ABPStaticAds,c=[];let l=null,d=null;return i?c.push(a?Ko.a.createElement(nu,{key:"uba_sky_ad"}):Ko.a.createElement(au,{key:"uba_lrec_ad"})):(!n||r.LREC||r.LREC4?r.LREC4&&!r.LREC?l=Ko.a.createElement(ru,{key:"lrec_ad"}):r.LREC4||r.LREC||(l=Ko.a.createElement(ou,{key:"stacked_lrec",lrecClassName:e.lrec})):(d=r.MON?null:Ko.a.createElement(tu,{key:"mon_ads"}),l=Ko.a.createElement(ou,{key:"stacked_lrec",lrecClassName:e.lrec})),a&&!r.SKY?c.push(Ko.a.createElement(su,{key:"sky_ad"})):(c.push(l),c.push(d))),Ko.a.createElement("div",{"aria-hidden":!0,className:e.mainAd,"data-test-id":"right-rail-ad"},i?Ko.a.createElement("div",{className:e.adText},Ko.a.createElement($o.FormattedMessage,{id:"ad.text",defaultMessage:"AD"})):null,Ko.a.createElement("div",null,c),o?this.insertDarlaConfig():null)}),o()(this,"renderRRabpDpaAds",e=>{const t=this.props,s=t.isRRCompactSize,r=t.adFeedbackStatus,n=t.rrAdBlockDPASectionId,a=r[n]===C.p.STARTED||r[n]===C.p.SUBMITTED||r[n]===C.p.DELETED;return Ko.a.createElement(Ko.a.Fragment,null,(a||r[n]===C.p.LIKED)&&Ko.a.createElement("div",{"aria-hidden":!0,className:e.dpaAdFeedback},Ko.a.createElement(gu.a,{key:"ad-feedback",isRightRailDPAad:!0,isRRCompactSize:s,sectionId:n})),!a&&Ko.a.createElement("div",{"aria-hidden":!0,className:e.dpaAd,"data-test-id":"right-rail-dpa-ad"},Ko.a.createElement(Cu,{isRRCompactSize:s,rrAdBlockDPASectionId:n})))})}render(){const e=this.props,t=e.isRRCompactSize,s=e.rrAbpDpaAds,r=e.isTravelCard,n=Ti()(X_.a,{isRRCompactSize:t&&!r});return s?this.renderRRabpDpaAds(n):this.renderDarlaAds(n)}}o()(Ou,"contextTypes",{config:Vo.a.object,executeAction:Vo.a.func,locale:Vo.a.object,cspToken:Vo.a.string});var Tu=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.isFeatureEnabled,r=t.isNarrowScreen,n=t.getAdsSelectors,a=t.getSetting,o=s(C.Eb.WIDE_RIGHT_RAIL),i=n(),c=i.getAdFeedbackStatus,l=(0,i.getDarlaAdData)(),d=Object(f.b)(l,"prefetchedAds.darlaAds",{}),E=s(C.Eb.DARLA_PREFETCH_LAUNCH_SYNCER),_=a(C.Kd.GEMINI_SECTION_IDS)[C.Nb.RR_AD_BLOCK_DPA_ADS],u=c();let p=[],m=!1;return(s(C.Eb.BOOKING_CARD)||s(C.Eb.RELATED_SEARCHES_CARD))&&(p=["LREC4","SKY","MON"],m=!0),{lrecMonAdArbitration:s(C.Eb.LREC_MON_AD_ARBITRATION),isRRCompactSize:r()&&!o,darlaAds:d,darlaPrefetchLaunchSyncer:E,ABPStaticAds:s(C.Eb.ABP_STATIC_ADS),rrAbpDpaAds:s(C.Eb.RR_AD_BLOCK_DPA_ADS),rrAdBlockDPASectionId:_,adFeedbackStatus:u,disabledPositions:Object(f.d)(p),isTravelCard:m}})(Ou),Au=s(718),Iu=s.n(Au),fu=s(719),Du=s.n(fu);const Ru=(e,t)=>{const s=t.getCss(Du.a);return Ko.a.createElement("div",{className:s.container},Ko.a.createElement(Qd.b,null))};Ru.contextTypes={getCss:Vo.a.func.isRequired};var bu=Ru,Nu=s(590),Mu=s.n(Nu);const yu=Object($o.defineMessages)({hide_advertisement:{id:"hide_advertisement",defaultMessage:"Hide Advertisement"}});class Lu extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{chevronHover:!1}),o()(this,"handleChevronHover",e=>{this.setState({chevronHover:e})}),o()(this,"collapseRightRail",()=>{this.setState({chevronHover:!1}),this.props.hideAdsTemporarily()}),o()(this,"renderPane",e=>{switch(e){case C.qd.AttachmentUi:return Ko.a.createElement(Mi.a,{import:"./attachment_ui",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1321))},_moduleResolver:function(){return 1321}});case C.qd.ContactsPane:return Ko.a.createElement(Mi.a,{import:"../../../molecules/contacts_pane",key:e,bundleName:"contacts",_moduleLoader:function(){return s.e(1).then(s.bind(null,1320))},_moduleResolver:function(){return 1320}},Ko.a.createElement(Mi.b,{loading:!0},Ko.a.createElement(Q_.a,{includeHeaders:!0})));case C.qd.CalendarPane:return Ko.a.createElement(Mi.a,{bundleName:"epochCalendar",key:e,import:"../../../molecules/calendar_pane",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,1284))},_moduleResolver:function(){return 1284}},Ko.a.createElement(Mi.b,{loading:!0},Ko.a.createElement(Mu.a,{includeHeaders:!0})));case C.qd.ContactCard:return Ko.a.createElement(Mi.a,{import:"../../../molecules/contact_card/right_rail_contact_card",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1286))},_moduleResolver:function(){return 1286}});case C.qd.SubscriptionCard:return Ko.a.createElement(Mi.a,{import:"../../../molecules/subscription_list/right_rail_subscription_card",key:e,bundleName:"subscriptions",_moduleLoader:function(){return Promise.all([s.e(0),s.e(7)]).then(s.bind(null,1287))},_moduleResolver:function(){return 1287}});case C.qd.MessageBrief:return Ko.a.createElement(Mi.a,{import:"../../../molecules/list/simple_list",key:e,listContentType:C.ac.MESSAGES,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,500))},_moduleResolver:function(){return 500}});case C.qd.PhotoBrief:return Ko.a.createElement(Mi.a,{import:"../../../molecules/list/simple_list",key:e,listContentType:C.ac.IMAGES,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,500))},_moduleResolver:function(){return 500}});case C.qd.DocumentBrief:return Ko.a.createElement(Mi.a,{import:"../../../molecules/list/simple_list",key:e,listContentType:C.ac.DOCUMENTS,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,500))},_moduleResolver:function(){return 500}});case C.qd.SubscriptionAds:return Ko.a.createElement(Mi.a,{import:"../../../molecules/ads/subscription_ad",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1289))},_moduleResolver:function(){return 1289}});case C.qd.RightRailNativeAd:return Ko.a.createElement(Mi.a,{import:"../../../molecules/ads/right_rail_native_ad",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1290))},_moduleResolver:function(){return 1290}});case C.qd.RelatedSearchesCard:return Ko.a.createElement(Mi.a,{import:"../../../molecules/related_searches_card",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1291))},_moduleResolver:function(){return 1291}});case C.qd.TravelCardsGroup:return Ko.a.createElement(Mi.a,{import:"../../../molecules/right_rail_travel_card/travel_cards_group",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1328))},_moduleResolver:function(){return 1328}});case C.qd.PlaAds:return Ko.a.createElement(Mi.a,{import:"../../../molecules/pla_ads",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1340))},_moduleResolver:function(){return 1340}});case C.qd.RightPaneAds:return Ko.a.createElement(Tu,{key:e});case C.qd.RetailerFilter:return Ko.a.createElement(Mi.a,{import:"../../../molecules/deals/retailer_filter",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1292))},_moduleResolver:function(){return 1292}});case C.qd.RightPaneGroceriesList:return Ko.a.createElement(Mi.a,{import:"../molecules/right_pane_groceries_list",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1293))},_moduleResolver:function(){return 1293}});case C.qd.SavedDeals:return Ko.a.createElement(Mi.a,{import:"../../../molecules/right_rail_saved_deals",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1294))},_moduleResolver:function(){return 1294}});case C.qd.MembershipRewards:return Ko.a.createElement(Mi.a,{import:"../../../molecules/membership_rewards",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1323))},_moduleResolver:function(){return 1323}},Ko.a.createElement(Mi.b,{loading:!0},Ko.a.createElement(bu,null)));case C.qd.SubhubRecommendations:return Ko.a.createElement(Mi.a,{import:"../../../molecules/subhub_recommendations",key:e,bundleName:"subscriptions",_moduleLoader:function(){return Promise.all([s.e(0),s.e(7)]).then(s.bind(null,1347))},_moduleResolver:function(){return 1347}},Ko.a.createElement(Mi.b,{loading:!0}));default:return null}})}render(){const e=this.props,t=e.hasAttachmentPreview,s=e.panes,r=e.showCommsProperties,n=e.windowDimensions,a=this.context,o=a.intl,i=s.length&&s[0],c=i===C.qd.MembershipRewards||i===C.qd.SubhubRecommendations,l=(0,a.getCss)(Iu.a,{firstPaneName:i,hasAttachmentPreview:t}),d=o.formatMessage,E=s.map(this.renderPane),_=t||!E.length,u=-1===s.indexOf(C.qd.RightPaneAds)||i===C.qd.TravelCardsGroup,p=c?"panesContainerWithBgColor":"panesContainer";return Ko.a.createElement("div",{"data-test-id":"mail-right-rail",className:l.rightRailContainer},u?null:Ko.a.createElement("div",{className:this.state.chevronHover?l.activeHideAdsChevronWrapper:l.hideAdsChevronWrapper},Ko.a.createElement("div",{onMouseEnter:()=>this.handleChevronHover(!0),onMouseLeave:()=>this.handleChevronHover(!1),title:d(yu.hide_advertisement),onClick:this.collapseRightRail,className:l.hideAdsChevron,"data-test-id":"right-rail-hidead-btn"},Ko.a.createElement(ei.b,{kind:ti.Kinds.CHEVRON_UP,colorState:ti.ColorStates.INHERITED,size:ti.Sizes.XS,rotate:ti.Rotate.D90}))),Ko.a.createElement("div",{className:l.rightRail},r?Ko.a.createElement(z_,{key:"CommsProperties",verticalLayout:_,windowDimensions:n}):null,E.length?Ko.a.createElement("div",{className:l[p]},E):null))}}o()(Lu,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func});var Pu=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getRightRailPanes,r=(0,t.isFeatureEnabled)(C.Eb.SHOW_COMMS_PROPERTIES);return{panes:s(),showCommsProperties:r}},e=>({hideAdsTemporarily:()=>e(Object(JE.j)())}))(Lu),vu=s(139),Fu=s(69),Uu=s(141),wu=s(465),Gu=s.n(wu),Hu=s(720),ju=s.n(Hu);class ku extends Ko.a.Component{constructor(...e){super(...e),o()(this,"getClassName",()=>{const e=this.props,t=e.isActive,s=e.highlight,r=e.whiteBackground,n=e.contextOfUse,a=this.context.getTheme(),o=this.context.getThemeMode(),i=this.context.getCss(ju.a,{whiteBackground:r&&!s,highlightThemeCombo:`${s}_${a}`,highlightDarkPartnerThemeCombo:`${s&&("MEDIUM"===o||"DARK"===o)}_${a}`,contextOfUse:n,contextOfUse_isActive_themeMode:`${n}_${t}_${o}`});return t?i.activeContainer:i.container})}render(){const e=this.props.value,t=this.getClassName();return Ko.a.createElement("span",{className:t,"data-test-id":this.props["data-test-id"]},e)}}o()(ku,"contextTypes",{getCss:Vo.a.func,getTheme:Vo.a.func,getThemeMode:Vo.a.func}),o()(ku,"defaultProps",{whiteBackground:!1});var xu=ku,Bu=s(32),Vu=s(127),Wu=s(591);const Ku=Object($o.defineMessages)({accountSettingsMenu:{id:"accounts_settings_menu_aria_label",defaultMessage:"Account settings"},syncingMsg:{id:"syncing_indicator_icon_aria_label",defaultMessage:"Syncing"},notSyncingMsg:{id:"not_syncing_indicator_icon_aria_label",defaultMessage:"Not syncing"},notVerifiedMsg:{id:"account_item_verify_error",defaultMessage:"Not verified"}});class qu extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{hoveredAccountId:null}),o()(this,"handleClick",(e,t)=>{this.props.onClick(t,e,{mKey:Ii.g.ACCOUNT_SWITCH,sec:Ii.i.LEFTRAIL_ACCOUNTS,interactionType:Object(Ps.getInteractionFromEvent)(t)})}),o()(this,"handleMouseOver",e=>{this.setState({hoveredAccountId:e})}),o()(this,"handleMouseLeave",()=>{this.setState({hoveredAccountId:null})}),o()(this,"handleGearIconClick",(e,t)=>{this.navigateToSettingsTab(e,t,{mKey:Ii.g.EDIT_IMAP_ACCOUNT,sec:Ii.i.LEFTRAIL_ACCOUNTS,interactionType:Object(Ps.getInteractionFromEvent)(t)})}),o()(this,"handleExpiredIconClick",(e,t)=>{let s=!1;const r=e.id;Object(jl.h)(e)&&(e.authType!==C.k.PLAIN&&(window.oAuthWindow=window.open("","authorizeWindow",`width=800, height=600, top=${screen.height-300}, left=${screen.width-400}`)),s=!0),this.navigateToSettingsTab(r,t,{mKey:Ii.g.FIX_IMAP_ACCOUNT,sec:Ii.i.LEFTRAIL_ACCOUNTS,interactionType:Object(Ps.getInteractionFromEvent)(t)},s)}),o()(this,"navigateToSettingsTab",(e,t,s,r=!1)=>{t.preventDefault(),t.stopPropagation(),this.context.navigateTo({route:Object(Ui.w)({settingsGroupId:C.Nd.ACCOUNTS,accountId:e,openReauth:r}),i13nModel:s})}),o()(this,"shouldRenderAccount",e=>{const t=e.status,s=e.type;return!(t===C.m.DISABLED&&s===C.n.IMAPIN||t===C.m.DISABLED&&e.partnerCode===C.M||t===C.m.DELETE_IN_PROGRESS||s===C.n.POPIN)}),o()(this,"updateContent",e=>{e&&e.updatePosition()}),o()(this,"renderOffice365Cue",()=>this.accountListRef?Ko.a.createElement(Ei.a,{popoverAnchor:this.accountListRef,isRTL:this.props.isRTL,align:pi.a.CENTER,triggerOn:pi.i.MOUNT,permittedArrowDirections:[pi.h.START],zAltitude:di.Pb.POPOVER.HIGH,ref:e=>{this.imapInPopover=e},borderRadius:pi.e.LOW},Ko.a.createElement(Mi.a,{import:"../molecules/office365_cue/index",onShow:()=>this.updateContent(this.imapInPopover),_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1348))},_moduleResolver:function(){return 1348}})):null)}render(){const e=this.props,t=e.rootAccounts,s=e.activeAccountId,r=e.toggleAccountsList,n=e.expiredAccounts,a=e.showOffice365Cue,o=this.context.getCss(Gu.a),i=this.context.intl.formatMessage,c=t.map(e=>{const t=e.status,a=e.type,o=e.createTime,c=e.accountVerified,l=e.id===s,d=this.context.getCss(Gu.a),E=e.defaultFolder,_=e.description||e.email,u=("ltr"===Object(Vu.getTextDirection)(_)?d.rtlIgnoreDirLTR:d.rtlIgnoreDirRTL)+" "+(l?d.activeText:d.text),p=Object(jl.a)({status:t,type:a,createTime:o}),m=this.state.hoveredAccountId===e.id,S=n.find(t=>t.id===e.id);let h;return E&&E.id&&(r||l)&&this.shouldRenderAccount(e)?(h=S||!c?Ko.a.createElement("span",{className:d.expiredIcon},Ko.a.createElement(Jo.default,{kind:ti.Kinds.EXCLAMATION_ALT,size:ti.Sizes.XS,colorState:ti.ColorStates.WARNING_GRAD_RED,onClick:this.handleExpiredIconClick.bind(this,e),title:i(c?Ku.notSyncingMsg:Ku.notVerifiedMsg)})):p?Ko.a.createElement("div",{className:d.statusIcon},Ko.a.createElement(Wu.a,{size:ti.Sizes.XS,title:i(Ku.syncingMsg)})):m?Ko.a.createElement("span",{className:d.settingGear},Ko.a.createElement(Jo.default,{onClick:this.handleGearIconClick.bind(this,e.id),"data-iskeynav":!0,paddingLess:!0,size:ti.Sizes.XXS,kind:ti.Kinds.SETTINGS,title:i(Ku.accountSettingsMenu),"aria-label":i(Ku.accountSettingsMenu),colorState:ti.ColorStates.INHERITED})):Ko.a.createElement("span",{className:d.unreadCount},E.unread>0?Ko.a.createElement(xu,{contextOfUse:"AccountSwitcher",value:Object(pt.h)(E.unread),"data-test-id":"displayed-count",isActive:l,whiteBackground:this.context.getThemeMode()!==ai.i.LIGHT}):null),Ko.a.createElement(Bu.a,{key:e.email,onMouseOver:this.handleMouseOver.bind(this,e.id),onMouseLeave:this.handleMouseLeave.bind(this,e.id)},Ko.a.createElement("a",{"data-iskeynav":!0,"data-test-id":"account-list-item","data-test-account-email":e.email,"data-test-is-active":l,"data-test-unread-count":E.unread,"data-test-is-expired":!!S,className:d.listItem,href:this.context.getUrlFromRoute({name:C.rd.FOLDER,params:{fid:E.id}}),onClick:this.handleClick.bind(this,E.id),tabIndex:"-1",rel:"noopener"},Ko.a.createElement("span",{className:u,title:_},_),h))):null});return Ko.a.createElement("div",{"data-test-id":"account-list",ref:e=>{this.accountListRef=e}},a&&this.renderOffice365Cue(),Ko.a.createElement("ul",{className:o.accountList},c))}}o()(qu,"contextTypes",{executeAction:Vo.a.func,navigateTo:Vo.a.func,getUrlFromRoute:Vo.a.func.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func,intl:$o.intlShape.isRequired});var Yu=qu,zu=s(722),Qu=s.n(zu);const Zu=Object($o.defineMessages)({compose:{id:"compose_button.compose",defaultMessage:"Compose"}});class Xu extends Ko.a.Component{render(){const e=this.props.appRootPath,t=(0,this.context.intl.formatMessage)(Zu.compose),s=this.context.getCss(Qu.a);return Ko.a.createElement("a",{"data-iskeynav":!0,"data-test-id":"compose-button",href:e+"/compose/",className:s.link,onClick:this.props.onClick,onDrop:this.props.handleDrop,onDragOver:this.props.handleDragOver,onDragEnter:this.props.handleDragEnter,role:"button","aria-label":t,rel:"noopener"},t)}}o()(Xu,"contextTypes",{intl:$o.intlShape,config:Vo.a.object,getCss:Vo.a.func}),o()(Xu,"defaultProps",{appRootPath:"/d"});var $u=Xu,Ju=s(85),ep=s(174),tp=s(724),sp=s.n(tp);class rp extends Ko.a.Component{render(){const e=this.context.getCss(sp.a);return Ko.a.createElement("div",{className:e.divider,onClick:this.props.onClick},Ko.a.createElement("button",{className:e.moreButton,"data-iskeynav":!0}),Ko.a.createElement(ei.b,{kind:ti.Kinds.MORE,colorState:ti.ColorStates.INHERITED,className:e.moreIcon}))}}o()(rp,"defaultProps",{onClick:()=>{}}),o()(rp,"contextTypes",{getCss:Vo.a.func});var np=rp,ap=s(725),op=s.n(ap);const ip=Object($o.defineMessages)({add_mailbox_option:{id:"add_mailbox_option",defaultMessage:"Add Mailbox"}});class cp extends Ko.a.Component{constructor(...e){super(...e),o()(this,"navigateToMailboxesSettings",e=>{e.preventDefault(),e.stopPropagation(),this.props.navigateToRoute({route:Object(Ui.w)({settingsGroupId:C.Nd.ACCOUNTS}),i13nModel:{mKey:Ii.g.TMR_ADD_MAILBOX_CLICK,sec:Ii.i.MEMBERSHIP_REWARDS,interactionType:Ii.e.click}})})}renderPopoverContent(e,t){return Ko.a.createElement(Ei.a,{triggerOn:pi.i.MOUNT,zAltitude:di.Pb.POPOVER.HIGH,popoverAnchor:this.link,offset:20,align:pi.a.START,persistent:!0,permittedArrowDirections:[pi.h.START]},Ko.a.createElement(Mi.a,{import:"../molecules/membership_rewards/add_mailbox_popover",cueName:e,imapInChallengePoints:t,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1300))},_moduleResolver:function(){return 1300}}))}render(){const e=this.context.intl.formatMessage,t=this.props.themeMode,s=t===ai.i.LIGHT?ti.ColorStates.IMPROVED_GRAY_DARK:ti.ColorStates.WHITE,r=Ti()(op.a,{isThemeModeDark:t!==ai.i.LIGHT});return Ko.a.createElement("div",{"data-test-id":"add-mailbox-option",className:r.addMailboxOptionContainer,"data-iskeynav":!0,onClick:this.navigateToMailboxesSettings,ref:e=>{this.link=e}},Ko.a.createElement(ei.b,{kind:ti.Kinds.ADD,size:ti.Sizes.XS,colorState:s,"aria-label":e(ip.add_mailbox_option),title:e(ip.add_mailbox_option)}),e(ip.add_mailbox_option),this.props.showAddMailBoxPopover&&this.renderPopoverContent(C.Eb.ADD_MAILBOX_POPOVER,this.props.imapInChallengePoints))}}o()(cp,"contextTypes",{intl:$o.intlShape.isRequired});var lp=cp,dp=s(114),Ep=s(48),_p=s(592),up=s(375),pp=s.n(up),mp=s(729),Sp=s.n(mp),hp=s(264),Cp=s(226),gp=s(117),Op=s(730),Tp=s.n(Op);const Ap=Ti()(Tp.a),Ip={maxWidth:"230px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},fp=Object($o.defineMessages)({mark_folder_read:{id:"mark_folder_read",defaultMessage:"Mark emails as read"},archive_inbox_messages:{id:"archive_inbox_messages",defaultMessage:"Clean your Inbox"},archive_folder_messages:{id:"archive_folder_messages",defaultMessage:"Archive all emails"},empty_folder_messages:{id:"folder_menu.empty_folder_messages",defaultMessage:"Empty {folderName}"},delete_folder_messages:{id:"delete_folder_messages",defaultMessage:"Delete all emails"},rename_folder:{id:"rename_folder",defaultMessage:"Rename folder"},move_folder:{id:"move_folder",defaultMessage:"Move folder"},delete_folder:{id:"delete_folder",defaultMessage:"Delete folder"},create_subfolder:{id:"create_subfolder",defaultMessage:"Create subfolder"}});class Dp extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleDeleteClick",e=>{e.preventDefault();const t={interactionType:Object(Ps.getInteractionFromEvent)(e),actionData:{depth:this.props.depth}};this.props.onDelete({folder:this.props.folder,i13nModel:t,hasSubFolder:this.props.hasChildren})}),o()(this,"handleRenameClick",e=>{e.preventDefault(),this.props.onRename()}),o()(this,"handleMoveClick",e=>{e.preventDefault(),this.props.onMove()}),o()(this,"handleSubfolderClick",e=>{e.preventDefault(),this.props.onSubfolderCreate()}),o()(this,"handleMarkReadClick",e=>{e.preventDefault();const t={interactionType:Object(Ps.getInteractionFromEvent)(e),actionData:{numMsg:this.props.folder.unread}};this.props.onMarkRead({folder:this.props.folder,i13nModel:t})}),o()(this,"handleArchiveClick",e=>{e.preventDefault(),this.props.onArchive(this.props.folder)}),o()(this,"handleClearClick",e=>{e.preventDefault(),this.props.onClear(this.props.folder)}),o()(this,"getMarkAsReadMenuItem",e=>{const t=this.context.intl.formatMessage;return Ko.a.createElement(Cp.a,{key:e,name:"mark_folder_read",disabled:0===this.props.folder.total||0===this.props.folder.unread,onClick:this.handleMarkReadClick},Ko.a.createElement("div",{style:Ip,title:t(fp.mark_folder_read)},t(fp.mark_folder_read)))}),o()(this,"getArchiveMenuItem",e=>{const t=this.context.intl.formatMessage;return Ko.a.createElement(Cp.a,{key:e,name:"archive_folder_messages",disabled:0===this.props.folder.total,onClick:this.handleArchiveClick},this.props.folder.type===C.Mb.INBOX?Ko.a.createElement("div",{style:Ip,title:t(fp.archive_inbox_messages)},t(fp.archive_inbox_messages)):Ko.a.createElement("div",{style:Ip,title:t(fp.archive_folder_messages)},t(fp.archive_folder_messages)))}),o()(this,"getDeleteMenuItem",e=>{const t=this.props.folder.type,s=0===this.props.folder.total,r=this.context.intl.formatMessage,n=C.Mb.BULK||t===C.Mb.TRASH?r(fp.empty_folder_messages,{folderName:Object(pt.m)(r,t)}):r(fp.delete_folder_messages);return Ko.a.createElement(Cp.a,{key:e,name:"delete_folder_messages",disabled:s,onClick:this.handleClearClick},Ko.a.createElement("div",{style:Ip,title:n},n))}),o()(this,"getRenameFolderMenuItem",e=>{const t=this.context.intl.formatMessage;return Ko.a.createElement(Cp.a,{key:e,name:"rename_folder",disabled:this.props.hasChildren,onClick:this.handleRenameClick},Ko.a.createElement("div",{style:Ip,title:t(fp.rename_folder)},t(fp.rename_folder)))}),o()(this,"getMoveFolderMenuItem",e=>{const t=this.context.intl.formatMessage;return Ko.a.createElement(Cp.a,{key:e,name:"move_folder",disabled:this.props.hasChildren,onClick:this.handleMoveClick},Ko.a.createElement("div",{style:Ip,title:t(fp.move_folder)},t(fp.move_folder)))}),o()(this,"getDeleteFolderMenuItem",e=>{const t=this.context.intl.formatMessage;return Ko.a.createElement(Cp.a,{key:e,name:"delete_folder",onClick:this.handleDeleteClick},Ko.a.createElement("div",{style:Ip,title:t(fp.delete_folder)},t(fp.delete_folder)))}),o()(this,"getCreateFolderMenuItem",e=>{const t=this.context.intl.formatMessage;return Ko.a.createElement(Cp.a,{key:e,name:"create_subfolder",onClick:this.handleSubfolderClick,"data-test-id":"create-subfolder"},Ko.a.createElement("div",{style:Ip,title:t(fp.create_subfolder)},t(fp.create_subfolder)))}),o()(this,"getSeparatorItem",e=>Ko.a.createElement(Bu.a,{key:e,className:Ap.separator})),o()(this,"renderMenuItems",()=>{const e=Object(pt.i)(this.props.folder.type),t=[];return e.map((e,s)=>{switch(e){case C.Lb.MARK_READ:t.push(this.getMarkAsReadMenuItem(s));break;case C.Lb.ARCHIVE:t.push(this.getArchiveMenuItem(s));break;case C.Lb.DELETE:t.push(this.getDeleteMenuItem(s));break;case C.Lb.RENAME_FOLDER:t.push(this.getRenameFolderMenuItem(s));break;case C.Lb.MOVE_FOLDER:this.props.isMoveFolderFeatureEnabled&&t.push(this.getMoveFolderMenuItem(s));break;case C.Lb.DELETE_FOLDER:t.push(this.getDeleteFolderMenuItem(s));break;case C.Lb.CREATE_FOLDER:t.push(this.getCreateFolderMenuItem(s));break;case C.Lb.SEPARATOR:t.push(this.getSeparatorItem(s))}}),t})}render(){return Ko.a.createElement("div",{className:Ap.container},Ko.a.createElement(hi.a,{kind:gp.a.MENU,focusOnMount:!0,onShow:this.props.onShow,onEscape:this.props.onEscape},this.renderMenuItems()))}}o()(Dp,"contextTypes",{intl:$o.intlShape.isRequired}),o()(Dp,"defaultProps",{onEscape:function(){}});var Rp=Dp,bp=s(86),Np=s(190),Mp=s(67);const yp=()=>{},Lp=Object($o.defineMessages)({folder_tooltip:{id:"folder_tooltip",defaultMessage:"{folderName}{isSelected} - {totalNum, plural, =0 {{folderType, select, DRAFT {no drafts} other {no emails}}} =1 {{folderType, select, DRAFT {{totalNum, number} draft} other {{totalNum, number} email}}} =-1 {{folderType, select, DRAFT {} other {}}} other {{folderType, select, DRAFT {{totalNum, number} drafts} other {{totalNum, number} emails}}}} {unreadTooltip} {folderStateTooltip}"},unread_tooltip:{id:"unread_tooltip",defaultMessage:"{numUnreads, plural, other {(# unread)}}"},folder_is_open:{id:"folder_is_open",defaultMessage:"Folder is expanded. Collapse its contents using left arrow."},selected_folder:{id:"selected_folder",defaultMessage:", selected"},folder_is_closed:{id:"folder_is_closed",defaultMessage:"Folder is collapsed. Expand its contents using right arrow."},show_folders:{id:"show_folders",defaultMessage:"Click to show folders"},hide_folders:{id:"hide_folders",defaultMessage:"Click to hide folders"},rename_folder_input_aria_label:{id:"rename_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to rename folder]"},rename_folder_dismiss_input:{id:"rename_folder_dismiss_input",defaultMessage:"Dismiss input"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},empty_trash_tooltip:{id:"empty_trash_tooltip",defaultMessage:"Empty Trash folder"},empty_spam_tooltip:{id:"empty_spam_tooltip",defaultMessage:"Empty Spam folder"}});class Pp extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{dragover:!1,unreadCount:Object(pt.j)(this.props.folder),prevCount:0,showDropDownMenu:!1,showContextMenu:!1}),o()(this,"_getChevronTitle",()=>{const e=this.context.intl.formatMessage;switch(this.props.chevron){case C.Q.LEFT:return e(Lp.show_folders);case C.Q.DOWN:return e(Lp.hide_folders);default:return""}}),o()(this,"getTitleText",()=>{const e=this.props,t=e.folder,s=this.context.intl.formatMessage;let r="",n="";const a=e.isActive?s(Lp.selected_folder):null;switch(this.props.chevron){case C.Q.LEFT:n=s(Lp.folder_is_closed);break;case C.Q.DOWN:n=s(Lp.folder_is_open);break;default:n=""}switch(t.type){case C.Mb.DRAFT:case C.Mb.SENT:case C.Mb.BULK:case C.Mb.TRASH:case C.Mb.ARCHIVE:break;default:r=s(Lp.unread_tooltip,{numUnreads:Object(pt.j)(t)})}return s(Lp.folder_tooltip,{folderName:Object(pt.m)(s,t.type)||t.name,folderType:t.type,totalNum:t.total,unreadTooltip:r,folderStateTooltip:n,isSelected:a})}),o()(this,"_getI13nModel",()=>{const e=this.props.folder;return{mKey:Ii.g[e.type+"_FOLDER"],sec:C.ie[e.type]?Ii.i.LEFTRAIL_SYSFOLDER:Ii.i.LEFTRAIL_USERFOLDER,actionData:{depth:this.props.depth},mKeyGroup:Ii.h.listing}}),o()(this,"handleKeyDown",e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),this.handleNavClick(e);break;case"ArrowLeft":case"ArrowRight":e.stopPropagation(),this.props.onToggleExpansion(e);break;default:return}}),o()(this,"handleNavClick",e=>{if(e.preventDefault(),this.folderMenu&&(e.target===this.folderMenu||this.folderMenu.contains(e.target)))return;const t=this._getI13nModel();t.interactionType=Ii.e.view,this.props.onClick(e,this.props.folder.id,t)}),o()(this,"handleDoubleClick",e=>{const t=this.props.folder;e.stopPropagation(),C.ie[t.type]||this.props.hasChildren||this.props.onRenameStart()}),o()(this,"handleRenameStart",()=>{this.setState({showDropDownMenu:!1,showContextMenu:!1,contextMenuPosition:{x:0,y:0}},()=>this.props.onRenameStart())}),o()(this,"handleRename",({folderName:e,i13nModel:t})=>{t=Object.assign({actionData:{depth:this.props.depth}},t),this.props.onRenameSubmit({originalFolderName:this.props.folder.name,newFolderName:e,folderId:this.props.folder.id,i13nModel:t})}),o()(this,"renderInput",()=>{const e=this.context.intl.formatMessage,t=this.props.folder.parentFolderId||"";return Ko.a.createElement(hp.a,{onInputSubmit:this.handleRename,onDismiss:this.props.onRenameCancel,initialFolderName:this.props.folder.name,ariaLabel:e(Lp.rename_folder_input_aria_label),cancelTitle:e(Lp.rename_folder_dismiss_input),activeAccountId:this.props.activeAccountId,parentFolderId:t})}),o()(this,"renderLabel",e=>{const t=this.props,s=t.folder,r=t.chevron,n=this.props.chevron!==C.Q.NONE;return Ko.a.createElement("span",{className:e.labelContainer,title:this.getTitleText()},n?Ko.a.createElement(mi.a,{title:this._getChevronTitle(),onClick:this.props.onToggleExpansion,className:e.chevron,"data-test-id":"folder-expand-btn"},Ko.a.createElement(ei.b,{kind:ti.Kinds.CHEVRON_UP,colorState:ti.ColorStates.INHERITED,size:ti.Sizes.XS,rotate:r===C.Q.DOWN?ti.Rotate.D180:ti.Rotate.D90})):null,Ko.a.createElement("span",{className:e.label},Ko.a.createElement(Lc.a,{folderId:s.id,"data-test-id":"folder-label"})))}),o()(this,"shouldHandleDrag",()=>-1===[C.Mb.SENT,C.Mb.DRAFT].indexOf(this.props.folder.type)),o()(this,"handleDrop",e=>{if(e.preventDefault(),!this.shouldHandleDrag())return;const t=e.dataTransfer.getData("text/list");let s;try{s=JSON.parse(t)}catch(e){return}const r=s.listId;if(!r)return;this.props.onFolderDrop((s.doSelectAll?Np.a:Np.b)[Mp.c.LIST].move,{destinationFolderId:this.props.folder.id,listId:r,allItemsCount:s.allItemsCount,i13nModel:{interactionType:Object(Ps.getInteractionFromEvent)(e),mKey:Ii.g.DRAG_DROP_MOVE,sec:Ii.i.MSG_LIST,mKeyGroup:Ii.h.moveMsg}}),this.targets=[],this.setState({dragover:!1})}),o()(this,"handleDragEnter",e=>{e.preventDefault(),this.shouldHandleDrag()&&(this.targets||(this.targets=[]),this.targets.push(e.currentTarget),1===this.targets.length&&this.setState({dragover:!0}))}),o()(this,"handleDragLeave",e=>{e.preventDefault(),this.shouldHandleDrag()&&this.targets&&(this.targets.pop(),0===this.targets.length&&this.setState({dragover:!1}))}),o()(this,"handleDragOver",e=>{e.preventDefault(),this.shouldHandleDrag()&&(this.state.dragover||this.setState({dragover:!0}))}),o()(this,"handleContextMenu",e=>{e.preventDefault();const t=this.folderRef.getBoundingClientRect();this.setState({contextMenuPosition:{x:e.clientX-t.left,y:e.clientY-t.top},showContextMenu:!0})}),o()(this,"shouldRenderTrashCanIcon",()=>{const e=this.props;return!(e.isRefreshing||!e.showFolderMenu||!e.isHovered||-1===[C.Mb.TRASH,C.Mb.BULK].indexOf(e.folder.type))}),o()(this,"handleEmptyFolder",e=>{e.preventDefault(),this.props.folder.total>0&&this.props.onClear(this.props.folder)}),o()(this,"shouldRenderUnreadCount",()=>{const e=this.props;return!(e.isRefreshing||e.folder.type!==C.Mb.SENT&&(e.isHovered||e.showFolderMenu))}),o()(this,"getUnreadCountClass",e=>this.state.prevCount>=this.state.unreadCount||-1!==[C.Mb.DRAFT,C.Mb.SENT,C.Mb.SPAM,C.Mb.TRASH].indexOf(this.props.folder.type)?e.unreadWrapper:e.unreadFadeIn),o()(this,"handleMenuAnchorClick",()=>{this.setState({showDropDownMenu:!this.state.showDropDownMenu})}),o()(this,"renderFolderStateIcon",e=>{const t=this.props,s=t.isRefreshing,r=t.folder,n=t.isActive,a=t.highlightUnreadCount,o=this.state.unreadCount,i=this.context.intl.formatMessage,c=this.shouldRenderUnreadCount(),l=this.shouldRenderTrashCanIcon();if(s)return Ko.a.createElement("span",{className:e.loader},Ko.a.createElement(Qd.b,{size:Qd.a.S,"data-test-id":"folder-loading-indicator"}));if(c&&o>0)return Ko.a.createElement("span",{className:e.unreadWrapper},Ko.a.createElement(xu,{contextOfUse:"Folder",value:Object(pt.h)(o),"data-test-id":"displayed-count",isActive:n,highlight:a,whiteBackground:this.context.getThemeMode()!==ai.i.LIGHT}),this.state.showContextMenu&&this.contextMenuAnchor&&this.renderMenu());if(l){const t=i(r.type===C.Mb.TRASH?Lp.empty_trash_tooltip:Lp.empty_spam_tooltip);return Ko.a.createElement("span",{className:e.trashIconWrapper,title:t},Ko.a.createElement(Jo.default,{"data-test-id":"trashcan-icon",kind:ti.Kinds.DELETE,size:ti.Sizes.XXS,colorState:ti.ColorStates.INHERITED,onClick:this.handleEmptyFolder,title:t,ariaLabel:t}),this.state.showContextMenu&&this.contextMenuAnchor&&this.renderMenu())}return Ko.a.createElement("span",{className:e.folderMenu,ref:e=>this.folderMenu=e},Ko.a.createElement("div",{className:e.folderMenuIcon,"data-test-id":"folder-menu-hook",ref:e=>{this.dropDownMenuAnchor=e}},!this.state.showContextMenu&&Ko.a.createElement(Jo.default,{onClick:this.handleMenuAnchorClick,kind:ti.Kinds.INPUT_ARROW_DOWN,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED,title:i(Lp.show_folder_menu),ariaLabel:i(Lp.show_folder_menu)}),(this.state.showDropDownMenu&&this.dropDownMenuAnchor||this.state.showContextMenu&&this.contextMenuAnchor)&&this.renderMenu()))}),o()(this,"handleMenuHide",()=>{this.setState({showDropDownMenu:!1,showContextMenu:!1,contextMenuPosition:{x:0,y:0}},()=>this.props.handleMenuVisibility(!1))}),o()(this,"handleMenuShow",()=>{this.props.handleMenuVisibility(!0)}),o()(this,"renderMenu",()=>{const e=this.state.showDropDownMenu;return Ko.a.createElement(Ei.b,{permittedArrowDirections:[pi.h.UP,pi.h.DOWN],triggerOn:pi.i.MOUNT,arrowSize:pi.b.XS,offset:e?4*di.G:0,align:e?pi.a.CENTER:pi.a.START,overflowScroll:!1,onShow:this.handleMenuShow,onHide:this.handleMenuHide,popoverAnchor:e?this.dropDownMenuAnchor:this.contextMenuAnchor,isArrowVisible:e},Ko.a.createElement(Rp,{"data-test-id":"folder-menu",folder:this.props.folder,onDelete:this.props.onDelete,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,onMarkRead:this.props.onMarkRead,onArchive:this.props.onArchive,onClear:this.props.onClear,onShow:this.props.onFolderMenuShow,onRename:this.handleRenameStart,onMove:this.props.onMove,hasChildren:this.props.hasChildren,depth:this.props.depth,onEscape:this.handleMenuHide,isMoveFolderFeatureEnabled:this.props.isMoveFolderFeatureEnabled}))}),o()(this,"getContainerClassName",e=>{const t=this.props.isActive;return this.state.dragover?t?e.activeDragoverContainer:e.dragoverContainer:t?e.activeContainer:e.container}),o()(this,"handleMouseEnter",()=>{this.props.handleHover(!0)}),o()(this,"handleMouseLeave",()=>{this.props.handleHover(!1)})}static getDerivedStateFromProps(e,t){e.folder.unread<0&&bo.a.error("The user received a negative folder count.");const s=Object(pt.j)(e.folder);return t.unreadCount!==s?{unreadCount:s,prevCount:t.unreadCount||0}:null}componentWillUnmount(){this.targets=null,clearTimeout(this.timerID)}render(){const e=this.props,t=e.folder,s=e.isActive,r=e.isActualFolder,n=e.sortOrder,a=this.props.chevron!==C.Q.NONE,o=this.state.contextMenuPosition;let i;t.isSystem||(i=0===e.depth?a?bp.g:bp.f:a?bp.e:bp.d);const c=this.context.getCss(Sp.a,{indentation:i,showFolderMenu:e.showFolderMenu,isActive:s});return this.props.renamingFolder?this.renderInput():r?Ko.a.createElement("div",{className:this.getContainerClassName(c),"data-test-folder-container":t.name,"data-test-id":"folder-item-container",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onContextMenu:this.handleContextMenu,onClick:this.handleNavClick,"data-iskeynav":!0,tabIndex:-1,ref:e=>{this.folderRef=e}},Ko.a.createElement("span",{style:{position:"absolute",top:o?o.y+"px":0,left:o?o.x+"px":0},ref:e=>{this.contextMenuAnchor=e}}),Ko.a.createElement("a",{href:this.context.getUrlFromRoute({name:C.rd.FOLDER,params:{fid:Object(Hi.hb)(Object(Hi.y)(t.id,n))}}),className:s?c.activeNavContainer:c.navContainer,"data-test-folder-name":t.name,"data-test-id":"folder-list-item",onFocus:this.props.onFocus,onDoubleClick:this.handleDoubleClick,onKeyDown:this.handleKeyDown,"aria-label":this.getTitleText(),"data-test-unread-count":t.unread,"data-test-total-count":t.total,"data-test-is-active":s,tabIndex:-1,rel:"noopener"},this.renderLabel(c),this.renderFolderStateIcon(c))):Ko.a.createElement("div",{className:c.folderLabelContainer},Ko.a.createElement("span",{className:c.label},Ko.a.createElement(ep.a,{name:t.name,"data-test-id":"folder-label"})))}}o()(Pp,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func,getUrlFromRoute:Vo.a.func.isRequired}),o()(Pp,"defaultProps",{onClick:yp,onRenameStart:yp,onRenameSubmit:yp,onRenameCancel:yp,renamingFolder:!1,isActive:!1,isActualFolder:!0,showFolderMenu:!1,depth:0,hasChildren:!1});var vp=Pp;function Fp(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const Up=Object($o.defineMessages)({folders_label:{id:"folders_label",defaultMessage:"Folders"},click_to_show_folders_title:{id:"folder_list.click_to_show_folders_title",defaultMessage:"Click here to Show the Folders"},click_to_hide_folders_title:{id:"folder_list.click_to_hide_folders_title",defaultMessage:"Click here to Hide the Folders"}});class wp extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{expanded:this.props.showCustomFolders}),o()(this,"expand",()=>{this.state.expanded||this.toggle()}),o()(this,"collapse",()=>{this.state.expanded&&this.toggle()}),o()(this,"toggle",()=>{const e=this.state.expanded;this.props.onToggleCustomFolders(!e),this.setState({expanded:!e})}),o()(this,"handleClick",e=>{e.stopPropagation(),e.preventDefault(),this.toggle()}),o()(this,"handleKeyDown",e=>{switch(e.preventDefault(),e.key){case" ":case"Enter":this.toggle();break;case"ArrowLeft":this.collapse();break;case"ArrowRight":this.expand();break;default:return}}),o()(this,"getTitleText",()=>{const e=this.context.intl.formatMessage;return e(this.state.expanded?Up.click_to_hide_folders_title:Up.click_to_show_folders_title)})}render(){const e=this.context.intl.formatMessage,t=this.context.getCss(pp.a,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Fp(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Fp(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({indentation:bp.a},Object(ai.l)(this.context,!0))),s={id:"-1",type:C.Mb.USER,name:e(Up.folders_label),total:-1};return Ko.a.createElement("div",null,Ko.a.createElement("div",{"data-test-id":"toggle-folder-tree","data-iskeynav":!0,onKeyDown:this.handleKeyDown,className:t.folderContainer,onClick:this.handleClick},Ko.a.createElement(vp,{isActive:!1,folder:s,onToggleExpansion:()=>{},chevron:C.Q.NONE,isActualFolder:!1}),Ko.a.createElement("span",{"data-test-id":"toggle-folder-tree-label",className:t.toggleFolderTree,title:this.getTitleText(),"aria-label":this.getTitleText()},Ko.a.createElement($o.FormattedMessage,this.state.expanded?{id:"hide_label",defaultMessage:"Hide"}:{id:"show_label",defaultMessage:"Show"}))),this.props.children&&this.state.expanded?Ko.a.createElement("ul",{className:t.folderTree,"data-test-id":"custom-folder-list"},Ko.a.createElement("li",null,this.props.children)):null)}}o()(wp,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func,getTheme:Vo.a.func});var Gp=wp,Hp=s(76),jp=s(731),kp=s.n(jp);class xp extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{playAnimation:!1,playAnimationForDeals:!1}),o()(this,"getTitleText",()=>{const e=this.context.intl.formatMessage,t=this.props,s=t.type;return e(t.isActive?ki.a["smart_view_selected_"+s]:ki.a[s])}),o()(this,"getFujiIconKind",e=>{switch(e){case"DOCUMENTS":return ti.Kinds.DOCUMENTS_S;case"PHOTOS":return ti.Kinds.TAB_IMAGES;case"TUTORIAL":return ti.Kinds.CAL_MAYBE;case"COUPONS":case"COUPON_EMAILS":return ti.Kinds.SCISSORS;case"GROCERIES":return ti.Kinds.BASKET;case"RECEIPTS":return ti.Kinds.DRAFTS;case"TRAVEL":return ti.Kinds.TRAVEL;case"SUBSCRIPTIONS":return ti.Kinds.SUBSCRIPTIONS;case"ATTACHMENTS":return ti.Kinds.ATTACHMENT;default:return""}}),o()(this,"handleKeyDown",e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),this.props.onClick(e,this.props.type);break;default:return}}),o()(this,"handleNavClick",e=>{this.props.onClick(e,this.props.type)}),o()(this,"handleContextMenu",e=>{e.preventDefault()}),o()(this,"handleHover",e=>{this.props.handleHover(e)}),o()(this,"renderGuidedStarAnimation",(e,t)=>{const s=this.context.getThemeMode(),r=t.gifUrlLight,n=t.gifUrlDark;return t.name===C.yd.SLIDEUP?Ko.a.createElement("div",{className:e.starAnimation},Ko.a.createElement(ei.b,{kind:ti.Kinds.STAR,size:ti.Sizes.S,colorState:s===C.ke.LIGHT?ti.ColorStates.STARRED:ti.ColorStates.STARRED_DARK})):t.name===C.yd.GUIDEDSTAR?Ko.a.createElement("img",{className:e.sparkleGuidedStarAnimation,src:Object(P_.a)(s===C.ke.LIGHT?r:n),"data-test-id":s===C.ke.LIGHT?"guided-stars-light":"guided-stars-dark"}):null}),o()(this,"renderLabel",e=>{const t=this.context.intl.formatMessage(ki.a["smart_view_"+this.props.type]),s=Ko.a.createElement("span",null,t);return Ko.a.createElement("div",{className:e.labelContainer,title:this.getTitleText()},Ko.a.createElement("span",{className:e.label},s))}),o()(this,"getListId",()=>{const e=this.props,t=e.type,s={accountIds:[e.activeAccount.id]},r=Object(Hp.b)(t,s);return Object(Hi.ib)(Object(Hi.d)(r))}),o()(this,"getIconColor",()=>{let e;return e="LIGHT"===this.context.getThemeMode()?this.props.isActive?ti.ColorStates.NORMAL:ti.ColorStates.DISABLED:this.props.isActive?ti.ColorStates.INVERTED:ti.ColorStates.SMARTVIEW_DARK,e}),o()(this,"getIcon",(e,t,s,r,n,a)=>t?Ko.a.createElement("span",{className:e.smartViewIcon+" "+e.rtlRawScaleX},Ko.a.createElement(ei.b,{kind:s,size:r,title:n,colorState:a})):null)}componentWillReceiveProps(e){"STARRED"===e.type&&e.guidedStarAnimation&&e.hasGuidedStarAnimation&&!this.state.playAnimation&&this.setState({playAnimation:!0},()=>setTimeout(()=>{this.setState({playAnimation:!1})},e.guidedStarAnimation.duration)),"COUPONS"===e.type&&e.guidedStarAnimation&&e.hasDealsStarAnimated&&!this.state.playAnimationForDeals&&this.setState({playAnimationForDeals:!0},()=>setTimeout(()=>{this.setState({playAnimationForDeals:!1})},e.guidedStarAnimation.duration))}render(){const e=this.props,t=e.type,s=e.isActive,r=e.guidedStarAnimation,n=void 0===r?{}:r,a=n.name,o=void 0===a?"":a,i=this.getFujiIconKind(t),c=this.getIconColor(),l=!!i,d=this.context.getCss(kp.a,{isActive:s,isActiveAndNoIcon:!l&&s,hasIcon:l,animation:o}),E=this.getListId();let _,u={query:E};switch(t){case C.Ud.TUTORIAL:_=C.rd.TUTORIAL;break;case C.Ud.SUBSCRIPTIONS:_=C.rd.SUBSCRIPTION_LIST;break;case C.Ud.RECEIPTS:case C.Ud.COUPONS:case C.Ud.COUPON_EMAILS:case C.Ud.GROCERIES:case C.Ud.TRAVEL:_=C.rd.LIST,u={serializedListId:E};break;default:_=C.rd.SEARCH}return Ko.a.createElement("a",{href:this.context.getUrlFromRoute({name:_,params:u}),onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),className:s?d.activeContainer:d.container,"data-test-smartview-type":t,"data-test-id":"smartview-list-item",onClick:this.handleNavClick,onContextMenu:this.handleContextMenu,onKeyDown:this.handleKeyDown,"aria-label":this.getTitleText(),"data-test-is-active":s,"data-iskeynav":!0,tabIndex:-1,rel:"noopener"},this.getIcon(d,l,i,ti.Sizes.XS,this.getTitleText(),c,t),this.renderLabel(d),this.state.playAnimation?this.renderGuidedStarAnimation(d,n):null,this.state.playAnimationForDeals?this.renderGuidedStarAnimation(d,n):null)}}o()(xp,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func,getUrlFromRoute:Vo.a.func.isRequired}),o()(xp,"defaultProps",{onClick:()=>{},isActive:!1});var Bp=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.isFeatureEnabled,r=t.getSetting;return{hasDealsStarAnimated:s(C.Kd.HAS_DEALS_STAR_ANIMATION),hasGuidedStarAnimation:s(C.Kd.HAS_GUIDED_STAR_ANIMATION),guidedStarAnimation:r(C.Kd.GUIDED_STAR_ANIMATION)}})(xp);var Vp=Object(qo.connect)((function(e){const t=Object(wi.selectors)(e);return{activeAccount:(0,t.getAccountById)((0,t.getSelectedAccountId)())}}))(class extends Ko.a.Component{render(){return Ko.a.createElement(Bp,this.props)}}),Wp=s(168),Kp=s(732),qp=s.n(Kp);const Yp=Object($o.defineMessages)({search_placeholder:{id:"folder_menu.search",defaultMessage:"Find a folder"},no_result_label:{id:"folder_menu.empty_search_result",defaultMessage:"No folders found"},selectFolderPlaceholder:{id:"select_folder_placeholder",defaultMessage:"Select folder"},placeAtTopLevel:{id:"moveFolderDialog.place_at_top_level",defaultMessage:"Place at top level"}});class zp extends Wo.Component{constructor(e,t){super(e),o()(this,"handleMenuShow",()=>{this.selectedFolderId=null,this.setState({isFilterFocused:!0,isOpen:!0},()=>{this.props.handleMenuVisibility(!0),setTimeout(()=>{this.focusSearch()},0)})}),o()(this,"handleMenuHide",e=>{const t={filterString:"",isFilterActive:!1,isOpen:!1};e&&(this.selectedFolderId=e,t.selectedFolderId=e),this.setState(t,()=>{this.state.selectedFolderId&&this.props.onClick(this.state.selectedFolderId),this.props.handleMenuVisibility(!1),this.focusSelect()})}),o()(this,"focusSelect",()=>{this.selectInput&&this.selectInput.focus()}),o()(this,"focusSearch",()=>{this.searchInput&&this.searchInput.focus()}),o()(this,"handleMenuItemClick",(e,t)=>{t.preventDefault(),t.stopPropagation(),this.handleMenuHide(e)}),o()(this,"handleSearchKeyDown",e=>{this.state.isFilterActive&&e.key===C.Wb.ENTER&&this.selectedFolderId&&this.handleMenuItemClick(this.selectedFolderId,e)}),o()(this,"handleSearchClear",()=>{this.resetSelectedItem(),this.focusSearch()}),o()(this,"handleSearchChange",e=>{this.resetSelectedItem(e.target.value)}),o()(this,"handleSearchFocus",()=>{this.setState({isFilterActive:!0})}),o()(this,"handleSearchBlur",e=>{Object(Zo.findDOMNode)(this.foldersList).contains(e.relatedTarget)||this.handleMenuHide()}),o()(this,"handleKeyDown",e=>{if(this.menuContainer.contains(e.target)||e.target.contains(this.menuContainer))return e.target===this.searchInput.bidiInput&&this.handleSearchKeyDown(e),e.key===C.Wb.ARROW_DOWN?(e.preventDefault(),e.stopPropagation(),this.focusSearch()):void 0}),o()(this,"selectItem",e=>{if(this.foldersContainer){const t=Object(Zo.findDOMNode)(e),s=this.foldersContainer.getBoundingClientRect(),r=t.getBoundingClientRect();(r.top<s.top||r.bottom>s.bottom)&&t.scrollIntoView()}this.selectedFolderId=e.id,this.setState({selectedFolderId:e.id})}),o()(this,"resetSelectedItem",(e="")=>{this.selectedFolderId=null,this.setState({selectedFolderId:null,filterString:e}),this.foldersList&&this.foldersList.resetCursorIndex()}),o()(this,"renderSearchInput",()=>{const e=this.classNames,t=this.state.filterString,s=this.context.intl.formatMessage;return Ko.a.createElement(Bu.a,{key:"folder-search","data-test-id":"item-move-to-folder-id-search"},Ko.a.createElement("div",{className:e.searchInputContainer,onClick:e=>e.stopPropagation()},Ko.a.createElement(ei.b,{kind:ti.Kinds.SEARCH_MINI,size:ti.Sizes.XS,colorState:ti.ColorStates.DISABLED}),Ko.a.createElement(Wp.a,{ref:e=>this.searchInput=e,className:e.searchInput,type:"text",id:"folder-menu-search-input","data-test-id":"folder-menu-search-input",value:t,onClear:this.handleSearchClear,onChange:this.handleSearchChange,onFocus:this.handleSearchFocus,onBlur:this.handleSearchBlur,onKeyDown:e=>{this.foldersList.handleKeyDown(e)},isClearable:!0,placeholder:s(Yp.search_placeholder),autoComplete:"off","data-iskeynav":!0})))}),o()(this,"_getListStyle",e=>{let t=4*di.G,s=2*di.G*(e+2)+di.G;return this.props.isRTL&&(t=2*di.G*(e+2)+di.G,s=4*di.G),{paddingLeft:s+"px",paddingRight:t+"px",width:98.5*di.G+"px"}}),o()(this,"renderEmptyResult",()=>{const e=this.context.intl.formatMessage;return Ko.a.createElement(Bu.a,null,Ko.a.createElement("div",{className:this.classNames.noResultContainer,style:this._getListStyle(0)},e(Yp.no_result_label)))}),o()(this,"renderMenuItems",e=>{const t=this.classNames,s=[],r=this.context.intl.formatMessage;return e.forEach(({id:e,name:n,type:a,level:o,disabled:i})=>{const c=this.selectedFolderId===e;s.push(Ko.a.createElement(Bu.a,{key:e,name:"item-move-folder-id-"+e},Ko.a.createElement(mi.a,{id:e,"data-test-id":"item-move-folder-id-"+e,kind:Si.a.MENUITEM,onClick:this.handleMenuItemClick.bind(this,e),style:this._getListStyle(o),disabled:i,title:Object(pt.m)(r,a)||n,overridingClass:c&&!i?t.highlightedListItem:t.listItem,"data-iskeynav":!0},Ko.a.createElement("span",{className:t.fullLabel},Ko.a.createElement("span",{className:t.itemLabel},Ko.a.createElement(Lc.a,{folderId:e}))))))}),s}),o()(this,"renderPlaceAtTopLevelOption",()=>{const e=this.classNames,t=this.selectedFolderId===bp.c,s=this.context.intl.formatMessage;return Ko.a.createElement(Bu.a,{key:bp.c,className:e.placeAtTopLevel},Ko.a.createElement(mi.a,{id:bp.c,"data-test-id":"item-move-place-top-level",kind:Si.a.MENUITEM,onClick:this.handleMenuItemClick.bind(this,bp.c),style:this._getListStyle(0),title:s(Yp.placeAtTopLevel),overridingClass:t?e.highlightedListItem:e.listItem,"data-iskeynav":!0},Ko.a.createElement("span",{className:e.fullLabel},Ko.a.createElement("span",{className:e.itemLabel}," ",s(Yp.placeAtTopLevel)))))}),o()(this,"handleSelectKeyDown",e=>{const t=this.state.isOpen;switch(e.key){case C.Wb.ENTER:e.preventDefault(),e.stopPropagation();break;case C.Wb.ARROW_DOWN:t||this.handleMenuShow()}}),o()(this,"handleSelectClick",()=>{this.state.isOpen?this.handleMenuHide():this.handleMenuShow()}),o()(this,"renderSelectLabel",()=>{const e=this.context.intl.formatMessage,t=this.classNames,s=this.state,r=s.selectedFolderId,n=s.isOpen?ti.ColorStates.SELECTED:ti.ColorStates.SECOND_LEVEL_GRAY;let a,o;return r===bp.c?o=e(Yp.placeAtTopLevel):(a=this.props.customFolders.find(e=>e.id===r),o=a?a.name:""),Ko.a.createElement("div",{onKeyDown:this.handleSelectKeyDown,onClick:this.handleSelectClick,"data-test-id":"selectbox-input",className:t.selectBox},Ko.a.createElement("input",{readOnly:!0,type:"text",ref:e=>this.selectInput=e,value:o,onKeyDown:this.handleSelectKeyDown,onClick:this.handleSelectClick,className:t.selectInput}),Ko.a.createElement("div",{className:t.selectLabel},r?Ko.a.createElement("div",{className:t.inputWrapper},Ko.a.createElement("span",{title:o,className:t.selectedValue},o)):Ko.a.createElement("span",{className:t.selectPlaceholder,title:o},e(Yp.selectFolderPlaceholder)),Ko.a.createElement("span",{className:t.arrowDown},Ko.a.createElement(ei.b,{size:ti.Sizes.XS,kind:ti.Kinds.INPUT_ARROW_DOWN,colorState:n}))))}),o()(this,"renderDropdownMenu",()=>{const e=this.state,t=e.filterString,s=void 0===t?"":t;if(!e.isOpen)return;const r=this.classNames,n=this.props,a=n.enablePlaceAtTopLevelOption,o=n.customFolders.filter(({name:e})=>-1!==e.toLowerCase().indexOf(s.toLowerCase())),i=o.length;return Ko.a.createElement("div",{className:r.menuContainer},Ko.a.createElement("div",{"data-test-id":"folder-menu",onKeyDown:this.handleKeyDown,tabIndex:di.Lb.FOLDER_SELECTION_MENU,role:"menu",ref:e=>this.menuContainer=e},Ko.a.createElement("ul",{className:r.searchContainer},this.renderSearchInput()),Ko.a.createElement(hi.a,{ref:e=>this.foldersList=e,tabIndex:di.Lb.FOLDER_SELECTION_MENU,onShow:this.handleMenuShow,selectItemInsteadOfFocus:this.selectItem,onHide:this.handleMenuHide,onEscape:this.handleMenuHide,listNavigationOnInputEnabled:!0},0===i&&Ko.a.createElement("ul",{className:r.emptyMessageContainer},this.renderEmptyResult()),Ko.a.createElement("div",null,i>0&&Ko.a.createElement("ul",{ref:e=>this.foldersContainer=e,className:r.folderContainer},a&&this.renderPlaceAtTopLevelOption(),this.renderMenuItems(o))))))}),this.classNames=t.getCss(qp.a),this.state={filterString:"",isOpen:!1,isFilterActive:!1,selectedFolderId:null}}componentDidMount(){setTimeout(()=>{this.focusSelect()},0)}render(){return Ko.a.createElement("div",null,this.renderSelectLabel(),this.renderDropdownMenu())}}zp.contextTypes={getCss:Vo.a.func,getThemeMode:Vo.a.func,intl:$o.intlShape.isRequired};var Qp=Object(qo.connect)((e,{currentFolder:t})=>{const s=Object(wi.selectors)(e),r=s.getEnvironmentSelectors,n=s.getCustomFolderList,a=s.getAccountIdByFolderId,o=(0,s.getFoldersSelectors)().getParentFolderId,i=a(t.id),c=[t.id],l=o(t.id);l&&c.push(l);const d=n(i).filter(e=>c.indexOf(e.id)<0);return{enablePlaceAtTopLevelOption:t&&t.level>0,customFolders:d,isRTL:"rtl"===r().getPageDirection()}},null,null,{withRef:!0})(zp);const Zp=Object($o.defineMessages)({heading:{id:"moveFolderDialog.heading",defaultMessage:"Select a new parent folder"},doneBtn:{id:"done_button_title",defaultMessage:"Done"},cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"}});class Xp extends Ko.a.Component{constructor(e){super(e),o()(this,"state",{selectedFolderId:"",isMenuVisible:!1}),o()(this,"handleConfirm",e=>{e.stopPropagation();const t=this.state.selectedFolderId===bp.c;this.props.onSubmit({destFolderId:t?"":this.state.selectedFolderId,placeFolderAtTopLevel:t})}),o()(this,"handleClose",e=>{e.stopPropagation(),this.state.isMenuVisible&&this.menuRef?this.menuRef.current.getWrappedInstance().handleMenuHide():this.props.onClose()}),o()(this,"handleFolderSelect",e=>{this.setState({selectedFolderId:e})}),o()(this,"handleMenuVisibility",e=>{this.setState({isMenuVisible:e})}),this.menuRef=Ko.a.createRef()}render(){const e=this.props.currentFolder,t=!this.state.selectedFolderId;return Ko.a.createElement(Ju.a,{onAbort:this.handleClose,onConfirm:this.handleConfirm,hideIcon:!0,title:(0,this.context.intl.formatMessage)(Zp.heading),onOuterClick:this.handleClose,disablePrimaryButton:t,acceptLabel:Zp.acceptLabel},Ko.a.createElement(Qp,{onClick:this.handleFolderSelect,currentFolder:e,ref:this.menuRef,handleMenuVisibility:this.handleMenuVisibility}))}}o()(Xp,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func}),o()(Xp,"defaultProps",{});var $p=Xp;function Jp(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function em(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Jp(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Jp(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const tm={},sm=Object($o.defineMessages)({create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}});class rm extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{creatingSubfolder:!1,movingFolder:!1,renamingFolder:!1,isMenuVisible:!1,isHovered:!1}),o()(this,"handleToggle",e=>{const t=this.props.folder.id;e.stopPropagation(),e.preventDefault(),e.key?"ArrowRight"!==e.key||this.props.expanded?"ArrowLeft"===e.key&&this.props.expanded&&this.props.toggleExpansion(t,!1):this.props.toggleExpansion(t,!0):this.props.toggleExpansion(t,!this.props.expanded)}),o()(this,"handleCreateSubfolderStart",()=>{this.setState({creatingSubfolder:!0})}),o()(this,"handleMoveFolderStart",()=>{this.setState({movingFolder:!0})}),o()(this,"handleMoveFolderCancel",()=>{this.setState({movingFolder:!1})}),o()(this,"handleRenameFolderStart",()=>{this.setState({renamingFolder:!0})}),o()(this,"handleRenameFolderSubmit",({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:r})=>{e!==t&&this.props.onRename({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:r}),this.setState({renamingFolder:!1})}),o()(this,"handleMoveFolderSubmit",({destFolderId:e,placeFolderAtTopLevel:t,i13nModel:s={}})=>{this.props.onMove({folderName:this.props.folder.name,folderId:this.props.folder.id,destFolderId:e,placeFolderAtTopLevel:t,i13nModel:s}),this.setState({movingFolder:!1})}),o()(this,"handleRenameFolderCancel",()=>{this.setState({renamingFolder:!1})}),o()(this,"handleCreateSubfolderDone",({folderName:e,i13nModel:t})=>{this.setState({creatingSubfolder:!1}),t=Object.assign({actionData:{depth:this.props.depth+1}},t),this.props.onSubfolderCreate({folderId:this.props.folder.id,subfolderName:e,i13nModel:t})}),o()(this,"handleCreateSubfolderDismiss",()=>{this.setState({creatingSubfolder:!1})}),o()(this,"handleMenuVisibility",e=>{this.setState({isMenuVisible:e})}),o()(this,"handleHover",e=>{this.setState({isHovered:e})}),o()(this,"handleFolderOpen",(e,t,s)=>{const r=this.props.folder;tm[r.id]&&(tm[r.id]=!1),this.props.onOpen(e,t,s)}),o()(this,"getChevronState",()=>{let e=C.Q.NONE;return this.props.hasChildren&&!this.props.folder.isSystem&&(e=this.props.expanded?C.Q.DOWN:C.Q.LEFT),e})}static shouldHighlightUnreadCount(e,t){return t.highlightFolderId!==e.folder.id&&t.unread>0&&e.highestModSeq!==t.highestModSeq&&e.uidNext!==t.uidNext}componentDidUpdate(e){const t=tm[this.props.folder.id]||!1;rm.shouldHighlightUnreadCount(this.props,e)&&!t&&(tm[this.props.folder.id]=!0,this.forceUpdate())}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.folder,r=t.unread,n=t.total,a=t.hasChildren,o=t.parentFolderId;return Ko.a.createElement("li",{style:s.isRTL?{padding:`0 ${8*this.props.depth}px 0 0`}:{padding:`0 0 0 ${8*this.props.depth}px`}},"smartview"===s.kind?Ko.a.createElement(Vp,{onClick:this.props.onSmartViewOpen,type:s.type,total:n,isActive:this.props.highlightFolderId===s.id,handleHover:this.handleHover}):Ko.a.createElement(vp,{folder:em({},s,{unread:r,total:n,hasChildren:a,parentFolderId:o}),sortOrder:this.props.sortOrder,depth:this.props.depth,onClick:this.handleFolderOpen,onRenameStart:this.handleRenameFolderStart,onRenameSubmit:this.handleRenameFolderSubmit,onRenameCancel:this.handleRenameFolderCancel,renamingFolder:this.state.renamingFolder,isActive:this.props.highlightFolderId===s.id,isRefreshing:this.props.highlightFolderId===s.id&&this.props.folderRefreshing,chevron:this.getChevronState(),onToggleExpansion:this.handleToggle,handleMenuVisibility:this.handleMenuVisibility,handleHover:this.handleHover,showFolderMenu:this.state.isHovered||this.state.isMenuVisible,onDelete:this.props.onDelete,onSubfolderCreate:this.handleCreateSubfolderStart,onMove:this.handleMoveFolderStart,onMarkRead:this.props.onMarkRead,onFolderMenuShow:this.props.onFolderMenuShow,onArchive:this.props.onArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onClear,isHovered:this.state.isHovered,highlightUnreadCount:tm[s.id]||!1,activeAccountId:this.props.activeAccountId,hasChildren:a,isMoveFolderFeatureEnabled:this.props.isMoveFolderFeatureEnabled}),this.state.creatingSubfolder?Ko.a.createElement(hp.a,{onInputSubmit:this.handleCreateSubfolderDone,onDismiss:this.handleCreateSubfolderDismiss,ariaLabel:e(sm.create_folder_input_aria_label),indentation:bp.b,activeAccountId:this.props.activeAccountId,parentFolderId:s.id}):null,this.state.movingFolder?Ko.a.createElement($p,{onClose:this.handleMoveFolderCancel,onSubmit:this.handleMoveFolderSubmit,currentFolder:this.props.folder}):null)}}o()(rm,"contextTypes",{intl:$o.intlShape.isRequired});var nm=Object(qo.connect)((e,{folder:t})=>{const s=t.id,r=Object(wi.selectors)(e),n=r.getFolderHighestModSeq,a=(0,r.getFoldersSelectors)(),o=a.getFolderUidNext,i=a.getFolderUnreadCount,c=a.getFolderTotal,l=a.hasChildren,d=a.getParentFolderId;return"folder"===t.kind?{highestModSeq:n(s),uidNext:o(s),unread:i(s),total:c(s),hasChildren:l(s),parentFolderId:d(s)}:{unread:0,total:0}},void 0,void 0,{areOwnPropsEqual:f.a})(rm);function am(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const om=Object($o.defineMessages)({click_to_show_more_title:{id:"folder_list.click_to_show_more_title",defaultMessage:"Click here to Show Folders"},click_to_show_less_title:{id:"folder_list.click_to_show_less_title",defaultMessage:"Click here to Hide Folders"},less_label:{id:"folder_list.less_label",defaultMessage:"Less"},more_label:{id:"folder_list.more_label",defaultMessage:"More"}});class im extends Ko.a.Component{constructor(e){super(e),o()(this,"toggleExpansion",(e,t)=>{const s=this.state.expandedFolders;let r;r=t?Object(dp.a)(s,e):Object(dp.f)(s,s.indexOf(e),1),this.setState({expandedFolders:r}),this.props.onFolderExpandToggle(e,t)}),o()(this,"toggleShowAll",()=>{const e=!this.state.showAllSystemFolders;this.setState({showAllSystemFolders:e}),this.props.handleToggleSystemFolders(e)}),o()(this,"getFolderTreeNodes",({onOpen:e,onRename:t,onMove:s,onDelete:r,onMarkRead:n,onArchive:a,onFolderDrop:o,onClear:i,onSubfolderCreate:c,onFolderMenuShow:l,highlightFolderId:d,folderRefreshing:E,onSmartViewOpen:_})=>this.filterNonExpandedFoldersChildren(this.props.folderNodes,this.state.expandedFolders).map((u,p)=>Ko.a.createElement(nm,{activeAccountId:this.props.activeAccountId,key:u.id,folder:u,onOpen:e,onRename:t,onMove:s,onDelete:r,onMarkRead:n,onArchive:a,onFolderDrop:o,onClear:i,onSubfolderCreate:c,highlightFolderId:d,sortOrder:this.props.sortOrder,folderRefreshing:E,index:p,onSmartViewOpen:_,onFolderMenuShow:l,depth:u.level,toggleExpansion:this.toggleExpansion,expanded:-1!==this.state.expandedFolders.indexOf(u.id),showStarredCue:this.props.showStarredCue,ref:e=>{this.myRef[u.name.toLowerCase()+"Button"]=e},isMoveFolderFeatureEnabled:this.props.isMoveFolderFeatureEnabled}))),o()(this,"filterNonExpandedFoldersChildren",(e,t)=>{const s=[];let r=0;for(let n=0;n<e.length;n++){const a=e[n];if(a.level<r&&(r=a.level),a.level===r){s.push(a);-1!==t.indexOf(a.id)&&(r=a.level+1)}}return s}),o()(this,"onSubfolderCreate",({folderId:e,subfolderName:t,i13nModel:s})=>{this.toggleExpansion(e,!0),this.props.onSubfolderCreate({folderId:e,subfolderName:t,i13nModel:s})}),o()(this,"updateContent",()=>{this.popoverContent&&this.popoverContent.updatePosition()}),o()(this,"renderStarredCue",()=>{const e=this.myRef.starredButton;return this.props.showStarredCue&&e?Ko.a.createElement(Ei.a,{popoverAnchor:e,triggerOn:pi.i.MOUNT,permittedArrowDirections:[pi.h.START],isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},zAltitude:di.Pb.POPOVER.HIGH},Ko.a.createElement(Mi.a,{import:"../../starred_cue",cueName:C.Eb.STARRED_CUE,onShow:this.updateContent,close:e.props.folder.id===this.props.highlightFolderId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1301))},_moduleResolver:function(){return 1301}})):null}),o()(this,"getTitleText",()=>{const e=this.context.intl.formatMessage;return e(this.state.showAllSystemFolders?om.click_to_show_less_title:om.click_to_show_more_title)});const t=Object(dp.a)(e.expandedFolders);this.state={expandedFolders:t,showAllSystemFolders:!!e.showAllSystemFolders},this.myRef={}}componentDidMount(){this.myRef&&Object.keys(this.myRef).length>0&&this.forceUpdate()}render(){const e=this.props,t=e.folderNodes,s=e.onOpen,r=e.onRename,n=e.onMove,a=e.onDelete,i=e.onMarkRead,c=e.onArchive,l=e.onFolderDrop,d=e.onClear,E=e.highlightFolderId,_=e.folderRefreshing,u=e.onFolderMenuShow,p=e.onSmartViewOpen,m=e.collapsible,S=this.context.intl.formatMessage,h=this.context.getCss(pp.a,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?am(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):am(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({indentation:e.indentation},Object(ai.l)(this.context,!0))),C=this.getFolderTreeNodes({onOpen:s,onRename:r,onMove:n,onDelete:a,onMarkRead:i,onArchive:c,onFolderDrop:l,onClear:d,onSubfolderCreate:this.onSubfolderCreate,highlightFolderId:E,folderRefreshing:_,onFolderMenuShow:u,onSmartViewOpen:p}),g=this.state.showAllSystemFolders;let O;return t.length?(O=m?g?C:C.slice(0,5):C,Ko.a.createElement("ul",{className:h.folderTree},O,this.renderStarredCue(),m&&C.length>5?Ko.a.createElement("li",{onClick:this.toggleShowAll,className:h.collapseFolders,"data-test-id":g?"folder-list-collapse":"folder-list-expand",title:this.getTitleText(),"aria-label":this.getTitleText(),"data-iskeynav":!0,tabIndex:-1},g?Ko.a.createElement("span",{className:h.toggle},Ko.a.createElement(ei.b,{kind:ti.Kinds.CHEVRON_UP,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED}),S(om.less_label)):Ko.a.createElement("span",{className:h.toggle},Ko.a.createElement(ei.b,{kind:ti.Kinds.CHEVRON_UP,size:ti.Sizes.XS,rotate:ti.Rotate.D180,colorState:ti.ColorStates.INHERITED}),S(om.more_label))):null)):null}}o()(im,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func,getTheme:Vo.a.func});var cm=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.isFeatureEnabled;return{isRTL:"rtl"===(0,t.getEnvironmentSelectors)().getPageDirection(),isMoveFolderFeatureEnabled:s(C.Eb.MOVE_FOLDER)}},void 0,void 0,{areOwnPropsEqual:f.a})(im),lm=s(733),dm=s.n(lm);function Em(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const _m=Object($o.defineMessages)({views_label:{id:"views_label",defaultMessage:"Views"},click_to_hide_views_title:{id:"click_to_hide_views_title",defaultMessage:"Click here to Hide the Views"},click_to_show_views_title:{id:"click_to_show_views_title",defaultMessage:"Click here to Show the Views"}});class um extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{expanded:this.props.showSmartViews,isHovered:!1}),o()(this,"expand",()=>{this.state.expanded||this.toggleExpand()}),o()(this,"collapse",()=>{this.state.expanded&&this.toggleExpand()}),o()(this,"toggleExpand",()=>{this.props.onToggleSmartViews(!this.state.expanded),this.setState({expanded:!this.state.expanded})}),o()(this,"handleClick",e=>{e.stopPropagation(),e.preventDefault(),this.toggleExpand()}),o()(this,"handleKeyDown",e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),e.preventDefault(),this.toggleExpand();break;case"Arrowleft":e.stopPropagation(),e.preventDefault(),this.collapse();break;case"ArrowRight":e.stopPropagation(),e.preventDefault(),this.expand();break;default:return}}),o()(this,"handleHover",e=>{this.setState({isHoverd:e})}),o()(this,"getTitleText",()=>{const e=this.context.intl.formatMessage;return e(this.state.expanded?_m.click_to_hide_views_title:_m.click_to_show_views_title)}),o()(this,"renderLabel",e=>{const t=(0,this.context.intl.formatMessage)(_m.views_label),s=Ko.a.createElement("span",null,t),r=this.state.expanded;return Ko.a.createElement("div",{"data-test-id":"toggle-smartview-list",className:e.labelContainer,title:this.getTitleText(),onClick:this.handleClick,onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1)},Ko.a.createElement("span",{className:e.label},s),Ko.a.createElement("span",{"data-test-id":"toggle-smartview-list-label",className:e.toggleSmartViews,title:this.getTitleText(),"aria-label":this.getTitleText()},Ko.a.createElement($o.FormattedMessage,r?{id:"hide_views_label",defaultMessage:"Hide"}:{id:"show_views_label",defaultMessage:"Show"})))}),o()(this,"renderSmartviews",()=>{const e=this.props,t=e.onSmartViewOpen,s=e.highlightSmartView;return e.smartViews.map(e=>{const r=e.folder;return Ko.a.createElement("li",{key:r.id},Ko.a.createElement(Vp,{onClick:t,type:Object(Hp.c)(r),isActive:s===r.id,handleHover:this.handleHover,total:r.total,ref:r.name.toLowerCase()+"Button"}),r.name===C.Ud.PHOTOS?this.renderPhotosCue():null,r.name===C.Ud.COUPONS?this.renderCouponsViewCue():null,r.name===C.Ud.COUPON_EMAILS?this.renderCouponsViewCue():null,r.name===C.Ud.SUBSCRIPTIONS?this.renderSubscriptionsViewCue():null,r.name===C.Ud.GROCERIES?this.renderGroceriesViewCue():null)})}),o()(this,"updateContent",e=>{e&&e.updatePosition()}),o()(this,"renderPhotosCue",()=>this.props.showPhotosCue&&this.refs.photosButton?Ko.a.createElement(Ei.a,{popoverAnchor:this.refs.photosButton,isRTL:this.props.isRTL,triggerOn:pi.i.MOUNT,permittedArrowDirections:[pi.h.START],ref:e=>{this.popoverContent=e},zAltitude:di.Pb.POPOVER.HIGH},Ko.a.createElement(Mi.a,{import:"../../photos_cue",cueName:C.Eb.PHOTOS_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.photosButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1302))},_moduleResolver:function(){return 1302}})):null),o()(this,"renderWalmartCue",()=>this.refs.groceriesButton?Ko.a.createElement(Ei.a,{bg:pi.d.NEON_BLUE,borderRadius:pi.e.LOW,popoverAnchor:this.refs.groceriesButton,isRTL:this.props.isRTL,triggerOn:pi.i.MOUNT,permittedArrowDirections:[pi.h.START],ref:e=>{this.popoverContent=e},zAltitude:di.Pb.POPOVER.HIGH},Ko.a.createElement(Mi.a,{import:"../../walmart_cue",cueName:C.Eb.WALMART_CUE,onShow:()=>this.updateContent(this.popoverContent),retailerId:this.props.defaultRetailerId,close:this.refs.groceriesButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1303))},_moduleResolver:function(){return 1303}})):null),o()(this,"renderCouponsViewCue",()=>{const e=this.props,t=e.showCouponsViewCue,r=e.accountId;return(t||e.showDealsViewCue)&&this.refs.couponsButton?Ko.a.createElement(Ei.a,{popoverAnchor:this.refs.couponsButton,isRTL:e.isRTL,triggerOn:pi.i.MOUNT,permittedArrowDirections:[pi.h.START],ref:e=>{this.couponPopoverContent=e},zAltitude:di.Pb.POPOVER.HIGH,bg:pi.d.GRADIENT,borderRadius:pi.e.MEDIUM},Ko.a.createElement("div",{style:t?{display:"block",minHeight:54*di.G+"px"}:{display:"flex",alignItems:"center"}},Ko.a.createElement(Mi.a,t?{import:"../../coupons_view_cue",cueName:C.Eb.COUPONS_VIEW_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1349))},_moduleResolver:function(){return 1349}}:{import:"../../deals/left_rail_cue",route:Object(Ui.x)(C.Ud.COUPONS,{accountIds:r}),cueName:C.Eb.DEALS_VIEW_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,880))},_moduleResolver:function(){return 880}}))):null}),o()(this,"renderGroceriesViewCue",()=>{const e=this.props,t=e.defaultRetailerId,r=e.isGroceriesCue,n=e.isRTL;return e.showWalmartCue?this.renderWalmartCue():r&&this.refs.groceriesButton?Ko.a.createElement(Ei.a,{popoverAnchor:this.refs.groceriesButton,isRTL:n,triggerOn:pi.i.MOUNT,isArrowVisible:!0,permittedArrowDirections:[pi.h.START],ref:e=>{this.couponPopoverContent=e},zAltitude:di.Pb.POPOVER.HIGH},Ko.a.createElement("div",{"data-test-id":"groceries-cue",style:{display:"flex",alignItems:"center"}},Ko.a.createElement(Mi.a,{import:"../../groceries_top_of_msg/groceries_cue",cueName:C.Eb.GROCERIES_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),retailerId:t,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1304))},_moduleResolver:function(){return 1304}}))):void 0})}renderSubscriptionsViewCue(){const e=this.props,t=e.accountId;return e.showSubscriptionsViewCue&&this.refs.subscriptionsButton?Ko.a.createElement(Ei.a,{popoverAnchor:this.refs.subscriptionsButton,isRTL:e.isRTL,triggerOn:pi.i.MOUNT,permittedArrowDirections:[pi.h.START],ref:e=>{this.couponPopoverContent=e},zAltitude:di.Pb.POPOVER.HIGH,bg:pi.d.GRADIENT,borderRadius:pi.e.MEDIUM},Ko.a.createElement("div",{style:{display:"flex",alignItems:"center"}},Ko.a.createElement(Mi.a,{import:"../../deals/left_rail_cue",route:Object(Ui.A)(t),cueName:C.Eb.SUBSCRIPTIONS_VIEW_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),close:this.refs.subscriptionsButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,880))},_moduleResolver:function(){return 880}}))):null}componentDidMount(){this.refs&&Object.keys(this.refs).length>0&&this.forceUpdate()}render(){const e=this.context.getCss(dm.a,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Em(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Em(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({indentation:bp.a},Object(ai.l)(this.context,!0)));return Ko.a.createElement("div",null,Ko.a.createElement("div",{"data-iskeynav":!0,"data-test-id":"keyboard-toggle-smartview-list",onKeyDown:this.handleKeyDown,className:e.smartviewContainer},this.renderLabel(e)),this.state.expanded?Ko.a.createElement("ul",{className:e.smartviewList},this.renderSmartviews()):null)}}o()(um,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func,getTheme:Vo.a.func});var pm=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getRetailersSelectors,r=t.isFeatureEnabled,n=t.isMessageRoute,a=t.getSelectedAccountId,o=(0,t.getEnvironmentSelectors)().getPageDirection,i=r(C.Eb.GROCERIES_VIEW_CUE)&&!r(C.Eb.NO_ADS),c=r(C.Eb.GROCERIES_CUE)&&n(),l=s().getOrderedRetailers;let d="";const E=r(C.Eb.WALMART_CUE),_=r(C.Eb.GROCERY_WITH_PRODUCTS)?"269a179b-bbba-46ed-91ca-f7129757c9c1":"51c655a2-ffa3-4795-b63a-ea8ecc626a21_143ff518-2fed-4c48-87c2-5be4e5637c14";if(i||c||E){const e=l();d=Object(f.b)(e,"0.id",_)}return{brandImage:"",isGroceriesCue:c,isRTL:"rtl"===o(),retailerId:"",retailerName:"",defaultRetailerId:d,accountId:a(),showSubscriptionsViewCue:r(C.Eb.SUBSCRIPTIONS_VIEW_CUE),showWalmartCue:E}})(um),mm=s(734),Sm=s.n(mm);function hm(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}class Cm extends Ko.a.Component{constructor(...e){super(...e),o()(this,"getSmartViews",()=>{const e=Object(pt.o)(),t=this.props,s=t.showAttachmentsView,r={[C.Ud.PHOTOS]:!s,[C.Ud.DOCUMENTS]:!s,[C.Ud.ATTACHMENTS]:s,[C.Ud.SUBSCRIPTIONS]:t.showSubscriptionsView,[C.Ud.TUTORIAL]:t.tutorial,[C.Ud.COUPONS]:t.showCouponsView,[C.Ud.COUPON_EMAILS]:t.showCouponEmailsView,[C.Ud.GROCERIES]:t.showGroceriesView,[C.Ud.RECEIPTS]:t.showReceiptsView,[C.Ud.TRAVEL]:t.travelView};return Object.keys(r).forEach(t=>{if(!r[t]){const s=e.findIndex(e=>e.folder.id===t);e.splice(s,1)}}),e})}render(){const e=this.props,t=e.customFolderList,s=e.systemFolderListWithSmartView,r=e.showMailproFreeTrialUpsell,n=this.getSmartViews(),a=Ti()(Sm.a,{showMailproFreeTrialUpsell:r});return Ko.a.createElement("div",{className:"folder-list "+a.scrollOuter,"data-test-id":"folder-list"},Ko.a.createElement(cm,{activeAccountId:this.props.activeAccountId,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:s.map(e=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?hm(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hm(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{isSystem:!0})),onOpen:this.props.onFolderOpen,onSmartViewOpen:this.props.onSmartViewOpen,onRename:this.props.onFolderRename,onMove:this.props.onFolderMove,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:bp.a,showStarredCue:this.props.showStarredCue,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,collapsible:!0,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.props.handleToggleSystemFolders}),Ko.a.createElement("div",null,Ko.a.createElement("div",{className:a.listSpacer}),Ko.a.createElement(pm,{smartViews:n,showSmartViews:this.props.showSmartViews,onToggleSmartViews:this.props.onToggleSmartViews,onSmartViewOpen:this.props.onSmartViewOpen,highlightSmartView:this.props.highlightFolderId,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showCouponsViewCue:this.props.showCouponsViewCue,showDealsViewCue:this.props.showDealsViewCue})),Ko.a.createElement("div",{className:a.listSpacer}),Ko.a.createElement(Gp,{showCustomFolders:this.props.showCustomFolders,onToggleCustomFolders:this.props.onToggleCustomFolders},Ko.a.createElement(_p.a,{onCreate:this.props.onFolderCreate,indentation:bp.a,activeAccountId:this.props.activeAccountId}),t.length>0?Ko.a.createElement(cm,{activeAccountId:this.props.activeAccountId,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:t,onOpen:this.props.onFolderOpen,onRename:this.props.onFolderRename,onMove:this.props.onFolderMove,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:bp.b,collapsible:!1}):null))}}o()(Cm,"contextTypes",{executeAction:Vo.a.func,config:Vo.a.object});var gm=Cm,Om=s(735),Tm=s.n(Om);function Am(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const Im=Object($o.defineMessages)({confirm_folder_delete_all_title:{id:"confirm.folder_delete_all_title",defaultMessage:"Delete all emails"},confirm_folder_archive_all_title:{id:"confirm.folder_archive_all_title",defaultMessage:"Archive all emails"},confirm_inbox_archive_all_personalized_title:{id:"confirm.confirm_inbox_archive_all_personalized_title",defaultMessage:"{sendingName}, let's clean your Inbox"},confirm_inbox_archive_all_title:{id:"confirm.inbox_archive_all_title",defaultMessage:"Let's clean your Inbox"},archive_emails_button_label:{id:"confirm.archive_emails_button_label",defaultMessage:"Archive emails"}}),fm=["n","m",";"];Object(Pi.b)({group:vi.c,keys:{openCompose:{key:"N",description:Ko.a.createElement($o.FormattedMessage,{id:"shortcut.open_compose",defaultMessage:"Start a {newConvo}",values:{newConvo:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.open_compose_strong",defaultMessage:"New Email Conversation"}))}})},openInbox:{key:"M",description:Ko.a.createElement($o.FormattedMessage,{id:"shortcut.open_inbox",defaultMessage:"Go to {inbox}",values:{inbox:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.open_box_strong",defaultMessage:"Inbox"}))}})},openSettings:{key:";",description:Ko.a.createElement($o.FormattedMessage,{id:"shortcut.open_settings",defaultMessage:"Go to {settings}",values:{settings:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"settings_link_label",defaultMessage:"Settings"}))}})}}});class Dm extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{scrollingUnder:!1,confirmRequested:!1,toggleAccountsList:!0}),o()(this,"handleShortcuts",e=>{const t=String.fromCharCode(e.which).toLowerCase();switch(e.preventDefault(),e.stopPropagation(),t){case"n":this.handleComposeLinkClick(e);break;case"m":this.navigateToInbox(e);break;case";":this.navigateToSettings(e)}}),o()(this,"navigateToFolder",(e,t,{i13nModel:s={},refresh:r=!1}={})=>{const n=this.props,a=n.route,o=n.isSenderRollupEnabled,i=n.conversations,c=n.defaultFolderId,l=n.defaultFolderRoute,d=n.rootAccounts.map(e=>e.defaultFolder).concat(c),E=a.name===C.rd.FOLDER,_=Object(Hi.z)(a),u=Object(Hi.q)(_);if(E&&u===t)return void this.context.executeAction(Li.f,{forceSync:!0,userInitiated:!0,i13nModel:{mKey:Ii.g.NAVIGATE_TO_FOLDER,sec:Ii.i.LEFTRAIL_FOLDER}});const p=(0,Object(wi.selectors)(this.context.store.getState()).getSortOrderForFolderRoute)(),m=-1===d.indexOf(t)?Object(Ui.k)(t,p):l,S=o&&i&&p===C.Yd.SENDER?Object(Ui.v)(t,p):m;this.context.navigateTo({route:S,i13nModel:s,refresh:r})}),o()(this,"navigateToSettings",e=>{const t=this.props.activeSettingsGroupId,s={mKey:Ii.g.NAVIGATE_TO_SETTINGS,sec:Ii.i.HEADER_NAV,interaction_type:Object(Ps.getInteractionFromEvent)(e)};this.context.navigateTo({route:Object(Ui.w)({settingsGroupId:t||C.Nd.PERSONALIZE_INBOX}),i13nModel:s})}),o()(this,"navigateToNewCompose",({i13nModel:e,files:t,name:s,stationeryTheme:r}={})=>{let n=this.props.route.params.csid;const a=Object(wi.selectors)(this.context.store.getState());if(n&&(0,a.isFreshCompose)(n))return;n=Object(Ps.generateUID)();const o={route:Object(Ui.f)(n)};e&&(o.i13nModel=e),t&&(o.files=t),s&&(o.name=s),r&&(o.stationeryTheme=r),this.context.navigateTo(o)}),o()(this,"handleComposeLinkClick",e=>{e.preventDefault();const t={mKey:Ii.g.COMPOSE_BUTTON,sec:Ii.i.LEFTRAIL_COMPOSE,mKeyGroup:Ii.h.composeMsg,interaction_type:Object(Ps.getInteractionFromEvent)(e)};this.navigateToNewCompose({i13nModel:t})}),o()(this,"handleComposeDrop",e=>{e.preventDefault();const t=e.dataTransfer;Array.prototype.slice.call(t&&t.types||[]).some(e=>"Files"===e)&&this.navigateToNewCompose({files:Array.prototype.slice.call(t.files)})}),o()(this,"handleDragOver",e=>{e.preventDefault()}),o()(this,"handleDragScroll",e=>{if(e.preventDefault(),e&&e.clientY){const t=this.folderList,s=t.scrollTop,r=t.scrollHeight,n=((e,t,s,r,n=!0)=>{const a=t.top,o=t.bottom,i=t.height,c=i/8;let l=0;return e<=a+c?(l=n?a/e*10:10,(s-=l)<0&&(s=0)):e>=o-c&&(l=n?e/o*10:10,s+i!==r&&(s+=l)),Math.floor(s)})(e.clientY,t.getBoundingClientRect(),s,r);s!==n&&(t.scrollTop=n)}}),o()(this,"handleDragEnter",e=>{e.preventDefault()}),o()(this,"handleFolderClick",(e,t,s)=>{e.preventDefault(),-1===[C.je.DRAFT,C.je.SENT,C.je.SPAM,C.je.TRASH].indexOf(t)&&t===this.props.activeFolderId&&"folder"===this.props.route.name?this.navigateToFolder(e,t,{i13nModel:s,refresh:!0}):this.navigateToFolder(e,t,{i13nModel:s,refresh:!1})}),o()(this,"handleSmartViewClick",(e,t)=>{const s=this.props,r=s.activeAccount,n=s.defaultRetailerId;let a;const o=t;e.preventDefault();const i={UNREAD:Ii.g.UNREAD_SMARTVIEW,STARRED:Ii.g.STARRED_SMARTVIEW,PHOTOS:Ii.g.PHOTO_SMARTVIEW,DOCUMENTS:Ii.g.DOCUMENT_SMARTVIEW,TUTORIAL:Ii.g.TUTORIAL_SMARTVIEW,COUPONS:Ii.g.COUPONS_SMARTVIEW,GROCERIES:Ii.g.QTNTVIEW_LEFTRAIL,RECEIPTS:Ii.g.RECEIPTS_SMARTVIEW,TRAVEL:Ii.g.TRAVEL_SMARTVIEW,SUBSCRIPTIONS:Ii.g.SUBSCRIPTIONS_SMARTVIEW,ATTACHMENTS:Ii.g.ATTACHMENTS_SMARTVIEW}[o];i&&(a={mKey:i,sec:Ii.i.LEFTRAIL_SMARTVIEW,interactionType:Object(Ps.getInteractionFromEvent)(e)},o!==C.Ud.TUTORIAL&&(a.mKeyGroup=Ii.h.listing,a.interactionType=Ii.e.view),o===C.Ud.GROCERIES&&(a.actionData={reason:{featurefamily:C.Cb.IC,featurename:C.Eb.GROCERIES,viewtype:"grocerystorelist",origin:"leftrail"}}));const c={accountIds:r.id};o===C.Ud.GROCERIES&&(c.name=n),this.context.navigateTo({route:Object(Ui.x)(o,c),i13nModel:a})}),o()(this,"handleFolderDelete",({folder:e,i13nModel:t,hasSubFolder:s})=>{s||e.total>0?this.context.executeAction(vu.d,{folderId:e.id,i13nModel:t}):this.deleteFolder({folderId:e.id,folderName:e.name,i13nModel:t})}),o()(this,"deleteFolder",({folderId:e,folderName:t,i13nModel:s})=>{s=Object.assign({mKey:Ii.g.FOLDER_CONTEXTMENU_DELETE,sec:Ii.i.LEFTRAIL_CONTEXTMENU,mKeyGroup:Ii.h.deleteFldr},s),e===this.props.activeFolderId&&this.navigateToFolder({},this.props.defaultFolderId),this.props.onDeleteFolder({folderId:e,folderName:t,i13nModel:s})}),o()(this,"handleFolderMenuShow",()=>{this.context.executeAction(vu.g,{i13nModel:{mKey:Ii.g.FOLDER_CONTEXTMENU,sec:Ii.i.LEFTRAIL_CONTEXTMENU}})}),o()(this,"handleFolderCreate",({folderName:e,i13nModel:t})=>{const s=this.props.activeAccount;t=Object.assign({mKey:Ii.g.ADD_FOLDER,sec:Ii.i.LEFTRAIL_USERFOLDER,mKeyGroup:Ii.h.createFldr},t),this.context.executeAction(vu.b,{folderName:Object(pt.k)(e,s),accountId:s.id,i13nModel:t})}),o()(this,"handleSubfolderCreate",({folderId:e,subfolderName:t,i13nModel:s})=>{const r=this.props,n=r.activeAccount,a=(0,r.getFolderFullName)(e);s=Object.assign({mKey:Ii.g.ADD_FOLDER,sec:Ii.i.LEFTRAIL_USERFOLDER,mKeyGroup:Ii.h.createFldr},s),this.context.executeAction(vu.b,{folderName:Object(pt.k)(t,n,a),accountId:n.id,i13nModel:s})}),o()(this,"handleFolderRename",({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:r})=>{const n=this.props,a=n.activeAccount,o=(0,n.getFolderFullName)(s),i=o.substr(0,o.lastIndexOf(e)-1)||"";r=Object.assign({mKey:Ii.g.FOLDER_CONTEXTMENU_RENAME,sec:Ii.i.LEFTRAIL_CONTEXTMENU,mKeyGroup:Ii.h.renameFldr},r),this.props.onRenameFolder({folderName:Object(pt.k)(t,a,i),folderId:s,i13nModel:r})}),o()(this,"handleFolderMove",({folderName:e,folderId:t,destFolderId:s,placeFolderAtTopLevel:r,i13nModel:n})=>{const a=this.props,o=a.activeAccount,i=r?"":(0,a.getFolderFullName)(s);n=Object.assign({mKey:Ii.g.FOLDER_CONTEXTMENU_MOVE,sec:Ii.i.LEFTRAIL_CONTEXTMENU,mKeyGroup:Ii.h.move_fldr},n),this.props.onMoveFolder({folderName:Object(pt.k)(e,o,i),folderId:t,i13nModel:n})}),o()(this,"handleFolderMarkRead",({folder:e,i13nModel:t})=>{const s=this.props.streamId;t=Object.assign({mKey:Ii.g.FOLDER_CONTEXTMENU_ALL_READ,sec:Ii.i.LEFTRAIL_CONTEXTMENU,mKeyGroup:Ii.h.markRead},t),this.context.executeAction(vu.f,{streamId:s,listId:this.props.listId,folderId:e.id,unreadCount:e.unread,i13nModel:t})}),o()(this,"handleFolderArchive",e=>{const t=this.props.streamId,s=this.state.selectedFolder,r={mKey:Ii.g.FOLDER_CONTEXTMENU_ALL_ARCHIVE,sec:Ii.i.LEFTRAIL_CONTEXTMENU,interactionType:Object(Ps.getInteractionFromEvent)(e),mKeyGroup:Ii.h.archiveMsg,actionData:{numMsg:s.total}};this.context.executeAction(vu.a,{streamId:t,folderId:s.id,total:s.total,i13nModel:r}),this.hideConfirm()}),o()(this,"handleFolderDrop",(e,t)=>{const s=this.props.streamId,r=Object(wi.selectors)(this.context.store.getState()),n=r.getSelectedStreamItems,a=((0,r.doesStreamExist)(s)?n(s):[]).map(({id:e})=>e);a&&a.length>0&&this.context.executeAction(e,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Am(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Am(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({streamId:s},t,{messageGroupIds:a},1===a.length?{streamItem:{id:a[0],listId:t.listId}}:{}))}),o()(this,"handleExpandFolderToggle",(e,t)=>{const s=this.props.expandedFolders;if(!(0===(0,(0,Object(wi.selectors)(this.context.store.getState()).getFoldersSelectors)().getFolderLevelByFolderId)(e)))return;const r=s.indexOf(e),n=-1!==r;let a;if(t&&!n)a=Object(dp.a)(s,e);else{if(t||!n)return;a=Object(dp.f)(s,r,1)}this.props.changeSettings({name:C.Kd.EXPANDED_FOLDERS,value:a})}),o()(this,"handleToggleSmartViews",e=>{this.props.changeSettings({name:C.Kd.SHOW_SMART_VIEWS,value:e})}),o()(this,"handleToggleCustomFolders",e=>{this.props.changeSettings({name:C.Kd.SHOW_CUSTOM_FOLDERS,value:e})}),o()(this,"handleToggleAccountsLinkClick",e=>{e.preventDefault();const t={mKey:this.state.toggleAccountsList?Ii.g.COLLAPSE_ACCOUNT_SWITCHER:Ii.g.EXPAND_ACCOUNT_SWITCHER,sec:Ii.i.LEFTRAIL_ACCOUNTS,interactionType:Object(Ps.getInteractionFromEvent)(e)};this.context.executeAction(vu.h,{i13nModel:t}),this.setState({toggleAccountsList:!this.state.toggleAccountsList})}),o()(this,"showConfirmDialog",(e,t)=>{this.setState({confirmRequested:!0,confirmType:e,selectedFolder:t})}),o()(this,"hideConfirm",()=>{this.setState({confirmRequested:!1,confirmType:null,selectedFolder:null})}),o()(this,"handleFolderClear",e=>{const t=this.props.streamId,s=this.state.selectedFolder,r={mKey:-1!==[C.Mb.BULK,C.Mb.TRASH].indexOf(s.type)?Ii.g.FOLDER_CONTEXTMENU_EMPTY:Ii.g.FOLDER_CONTEXTMENU_ALL_DELETE,sec:Ii.i.LEFTRAIL_CONTEXTMENU,interactionType:Object(Ps.getInteractionFromEvent)(e),mKeyGroup:Ii.h.deleteMsg,actionData:{numMsg:s.total}};this.context.executeAction(vu.c,{streamId:t,folderId:s.id,total:s.total,i13nModel:r}),this.hideConfirm()}),o()(this,"navigateToInbox",e=>{this.handleFolderClick(e,this.props.defaultFolderId,{mKey:Ii.g.INBOX_FOLDER,sec:Ii.i.LEFTRAIL_SYSFOLDER,interactionType:Object(Ps.getInteractionFromEvent)(e)}),this.folderList&&(this.folderList.scrollTop=0)}),o()(this,"handleScroll",()=>{const e=this.folderList.scrollTop;this.state.scrollingUnder&&e<1?this.setState({scrollingUnder:!1}):!this.state.scrollingUnder&&e>0&&this.setState({scrollingUnder:!0})}),o()(this,"handleToggleSystemFolders",e=>{this.props.changeSettings({name:C.Kd.SHOW_ALL_SYSTEM_FOLDERS,value:e,i13nModel:{mKey:!0===e?Ii.g.SETTINGS_EXPAND_SYSTEM_FOLDERS:Ii.g.SETTINGS_COLLAPSE_SYSTEM_FOLDERS,sec:Ii.i.LEFTRAIL_SYSFOLDER,interactionType:Ii.e.click}})}),o()(this,"renderConfirmDialog",()=>{const e=this.context.intl.formatMessage,t=this.state,s=t.selectedFolder,r=t.confirmType,n=this.props.conversations,a=Ko.a.createElement("strong",null,Ko.a.createElement(ep.a,{folderDisplayType:s.type,name:`"${s.name}"`})),o=this.props.isPermDeleteFolderType(s.id);switch(r){case C.W.CLEAR_FOLDER:return Ko.a.createElement(Ju.a,{title:e(Im.confirm_folder_delete_all_title),onConfirm:this.handleFolderClear,onAbort:this.hideConfirm},Ko.a.createElement($o.FormattedMessage,o?{id:"confirm.folder_delete_all_message",defaultMessage:"Are you sure you want to delete {emailsNum, plural, one {the} other {all}}\n                                      {conversations, select,\n                                        true {{emailsNum, plural,\n                                            one {conversation}\n                                            other {# conversations}\n                                        }}\n                                        false {{emailsNum, plural,\n                                            one {message}\n                                            other {# messages}\n                                        }}\n                                      } from {folderName}?",values:{emailsNum:s.total,folderName:a,conversations:n}}:{id:"confirm.folder_delete_move_all_message",defaultMessage:"Are you sure you want to delete {emailsNum, plural, one {the} other {all}}\n                                      {conversations, select,\n                                        true {{emailsNum, plural,\n                                            one {conversation}\n                                            other {# conversations}\n                                        }}\n                                        false {{emailsNum, plural,\n                                            one {message}\n                                            other {# messages}\n                                        }}\n                                    }, moving {emailsNum, plural, one {it} other {them}} from {folderName} to the Trash?",values:{emailsNum:s.total,folderName:a,conversations:n}}));case C.W.ARCHIVE_FOLDER:{const t=s.type===C.Mb.INBOX,r=Im.confirm_inbox_archive_all_title,o=Im.confirm_inbox_archive_all_personalized_title,i=Im.confirm_folder_archive_all_title,c=Im.archive_emails_button_label,l=this.props.activeAccount.sendingName;let d;return d=t?l?o:r:i,Ko.a.createElement(Ju.a,{title:e(d,{sendingName:l}),onConfirm:this.handleFolderArchive,onAbort:this.hideConfirm,hideIcon:!0,acceptLabel:c},Ko.a.createElement($o.FormattedMessage,t?{id:"confirm.inbox_archive_all_message",defaultMessage:"You can start with a clean inbox by archiving {emailsNum, plural, one {the} other {all}}\n                                        {conversations, select,\n                                            true {{emailsNum, plural,\n                                                one {conversation}\n                                                other {# conversations}\n                                            }}\n                                            false {{emailsNum, plural,\n                                                one {message}\n                                                other {# messages}\n                                            }}\n                                        } (instead of deleting).\n                                        Don't worry, to find {emailsNum, plural, one {it} other {them}} later, simply go to the Archive folder.",values:{emailsNum:s.total,folderName:a,conversations:n}}:{id:"confirm.folder_archive_all_message",defaultMessage:"Are you sure you want to archive {emailsNum, plural, one {the} other {all}}\n                                    {conversations, select,\n                                      true {{emailsNum, plural,\n                                          one {conversation}\n                                          other {# conversations}\n                                      }}\n                                      false {{emailsNum, plural,\n                                          one {message}\n                                          other {# messages}\n                                      }}\n                                    }, moving {emailsNum, plural, one {it} other {them}} from {folderName} to your Archive folder?",values:{emailsNum:s.total,folderName:a,conversations:n}}))}default:return null}})}componentDidMount(){this.context.bindShortcut(fm,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(fm)}render(){const e=this.props,t=e.appRootPath,r=e.tutorial,n=e.activeAccount,a=e.enabledAccountsCount,o=e.isPrimaryAccountDisabled,i=e.showAddMailBox,c=e.showAddMailBoxPopover,l=e.imapInChallengePoints,d=e.themeMode,E=e.navigateToRoute,_=this.context.getCss(Tm.a,{scrollingUnder:this.state.scrollingUnder,isRTL:e.isRTL});return Ko.a.createElement(R_.a,{"data-test-id":"navigation",className:_.container+" navigation",circularNavigation:!1,groupTabIndex:di.Lb.FOLDER_LIST},Ko.a.createElement("div",{ref:e=>{this.composeBtn=e}},Ko.a.createElement($u,{appRootPath:t,onClick:this.handleComposeLinkClick,handleDrop:this.handleComposeDrop,handleDragOver:this.handleDragOver,handleDragEnter:this.handleDragEnter})),Ko.a.createElement("div",{className:_.shadow}),Ko.a.createElement("div",{className:_.folderList,onScroll:this.handleScroll,"data-test-id":"left-rail-scrolling-container",ref:e=>this.folderList=e,onDragOver:this.handleDragScroll,onDrop:e=>e.preventDefault()},a>1||o?Ko.a.createElement(Yu,{activeAccountId:this.props.activeAccount.id,rootAccounts:this.props.rootAccounts,toggleAccountsList:this.state.toggleAccountsList,expiredAccounts:this.props.expiredAccounts,onClick:this.handleFolderClick,showOffice365Cue:this.props.showOffice365Cue,isRTL:this.props.isRTL}):null,i?Ko.a.createElement(lp,{showAddMailBoxPopover:c,imapInChallengePoints:l,themeMode:d,navigateToRoute:E}):null,i&&1===a?Ko.a.createElement(np,null):null,a>1||o?Ko.a.createElement(np,{onClick:this.handleToggleAccountsLinkClick}):null,Ko.a.createElement(gm,{tutorial:r,travelView:this.props.travelView,activeAccountId:this.props.activeAccount.id,customFolderList:this.props.customFolderList,systemFolderListWithSmartView:this.props.systemFolderListWithSmartView,sortOrder:this.props.folderListSortOrder,highlightFolderId:this.props.activeFolderId,folderRefreshing:this.props.folderRefreshing,onFolderOpen:this.handleFolderClick,onFolderDelete:this.handleFolderDelete,onFolderCreate:this.handleFolderCreate,onFolderMarkRead:this.handleFolderMarkRead,onFolderArchive:this.showConfirmDialog.bind(this,C.W.ARCHIVE_FOLDER),onFolderDrop:this.handleFolderDrop,onFolderClear:this.showConfirmDialog.bind(this,C.W.CLEAR_FOLDER),onSubfolderCreate:this.handleSubfolderCreate,onFolderMenuShow:this.handleFolderMenuShow,onFolderRename:this.handleFolderRename,onFolderMove:this.handleFolderMove,onSmartViewOpen:this.handleSmartViewClick,onToggleSmartViews:this.handleToggleSmartViews,showSmartViews:this.props.showSmartViews,onFolderExpandToggle:this.handleExpandFolderToggle,onToggleCustomFolders:this.handleToggleCustomFolders,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showCouponsViewCue:this.props.showCouponsViewCue,showGroceriesView:this.props.showGroceriesView,expandedFolders:this.props.expandedFolders,showCustomFolders:this.props.showCustomFolders,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.handleToggleSystemFolders,showCouponsView:this.props.showCouponsView,showCouponEmailsView:this.props.showCouponEmailsView,showReceiptsView:this.props.showReceiptsView,showDealsViewCue:this.props.showDealsViewCue,showSubscriptionsView:this.props.showSubscriptionsView,showAttachmentsView:this.props.showAttachmentsView,showMailproFreeTrialUpsell:this.props.showMailproFreeTrialUpsell}),this.state.confirmRequested?this.renderConfirmDialog():null,Ko.a.createElement("div",null,Ko.a.createElement(Mi.a,{defer:!0,import:"../../molecules/panel_stack/index",accountId:n.id,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1338))},_moduleResolver:function(){return 1338}}))))}}o()(Dm,"contextTypes",{executeAction:Vo.a.func,navigateTo:Vo.a.func.isRequired,getCss:Vo.a.func,intl:$o.intlShape.isRequired,config:Vo.a.object,bindShortcut:Vo.a.func,unbindShortcut:Vo.a.func,store:Vo.a.object.isRequired});var Rm=Object(qo.connect)((e,{listId:t})=>{const s=Object(wi.selectors)(e),r=s.getRoute,n=s.getSelectedAccountIdByRoute,a=s.getAccountById,o=s.isListStale,i=s.isListRefreshing,c=s.getRootAccountsWithDefaultFolder,l=s.getExpiredAccounts,d=s.getDefaultFolderIdForSelectedAccount,E=s.isPermDeleteFolderType,_=s.getMainStreamListIds,u=s.getCustomFolderList,p=s.getSystemFolderListWithSmartView,m=s.getSmartViewTypeFromListId,S=s.getSmartViewPosition,h=s.isFeatureEnabled,g=s.getSetting,O=s.getSettingsPageRoute,T=s.getEnvironmentSelectors,A=s.getAccountSelectors,I=s.getMailboxesSelectors,D=s.getRetailersSelectors,R=s.getFolderFullName,b=s.getDefaultFolderRoute,N=s.getMembershipRewardsSelectors,M=s.getMailproFreeTrialSelectors,y=r(),L=c(),P=I(),v=a(n(y)),F=o(t)&&i(t),U=Object(Hi.q)(t),w=g("appRootPath"),G=h(C.Eb.CONVERSATIONS),H=P.getAllMailboxes(),j=P.getSelectedMailboxId(),k=H.length>1,x=L.filter(e=>e.status===C.m.ENABLED&&(!k||e.defaultFolder&&e.defaultFolder.id)),B=(0,D().getOrderedRetailers)(),V=h(C.Eb.GROCERY_WITH_PRODUCTS)?"269a179b-bbba-46ed-91ca-f7129757c9c1":"51c655a2-ffa3-4795-b63a-ea8ecc626a21_143ff518-2fed-4c48-87c2-5be4e5637c14",W=Object(f.b)(B,"0.id",V),K=h(C.Eb.ADD_MAILBOX_OPTION),q=h(C.Eb.ADD_MAILBOX_POPOVER);let Y,z;y.name===C.rd.FOLDER||y.name===C.rd.MESSAGE_FROM_FOLDER_LIST?Y=U:y.name===C.rd.TUTORIAL?Y=C.Ud.TUTORIAL:y.name===C.rd.SUBSCRIPTION_LIST?Y=C.Ud.SUBSCRIPTIONS:Object(Hi.P)(t)&&(Y=m(t));const Q=O();Q&&(z=Q.params.settingsGroupId);const Z=Object(Ep.a)(_(r())),X=(0,N().getChallengeDefns)(C.pe.IMAPIN),$=Object(f.b)(X,"rewards.value",""),J=M().getUpsellId(),ee=[C.hc.PRE_SIGNUP_LEFT_PANEL_1,C.hc.PRE_SIGNUP_LEFT_PANEL_2,C.hc.PRE_SIGNUP_LEFT_PANEL_3].indexOf(J)>-1,te=h(C.Eb.MAILPRO_FREE_TRIAL_UPSELLS)&&ee;return{route:y,rootAccounts:L,rootMailBoxes:H,selectedMailboxId:j,conversations:G,isPrimaryAccountDisabled:A().isPrimaryAccountDisabled(),enabledAccountsCount:x.length,activeAccount:v,expandedFolders:g(C.Kd.EXPANDED_FOLDERS),showCustomFolders:h(C.Kd.SHOW_CUSTOM_FOLDERS),showSmartViews:h(C.Kd.SHOW_SMART_VIEWS),folderRefreshing:F,activeFolderId:Y,activeSettingsGroupId:z,expiredAccounts:l(),showAllSystemFolders:h("showAllSystemFolders"),appRootPath:w,tutorial:h(C.Eb.TUTORIAL),travelView:h(C.Eb.TRAVEL_VIEW),showCouponsView:h(C.Eb.DEALS)&&!h(C.Eb.DEALS_VIEW_FOR_INTLS)&&S(C.Ud.COUPONS)===C.Td.SIDE_BAR,showCouponEmailsView:h(C.Eb.DEALS_VIEW_FOR_INTLS),showGroceriesView:h(C.Eb.GROCERIES),showReceiptsView:h(C.Eb.RECEIPTS),showSubscriptionsView:h(C.Eb.SUBSCRIPTION_LIST),showAttachmentsView:h(C.Eb.SMARTVIEW_ATTACHMNENTS),showPhotosCue:h(C.Eb.PHOTOS_CUE),showStarredCue:h(C.Eb.STARRED_CUE),showCouponsViewCue:h(C.Eb.COUPONS_VIEW_CUE),showCategoryFollowingCue:h(C.Eb.CATEGORY_FOLLOWING_CUE),showPkgTrackingCue:h(C.Eb.PKG_TRACKING_CUE),defaultFolderId:d(),defaultFolderRoute:b(d()),streamId:Z,isPermDeleteFolderType:E,customFolderList:u(v.id),systemFolderListWithSmartView:p(v.id),isRTL:"rtl"===T().getPageDirection(),showDealsViewCue:h(C.Eb.DEALS_VIEW_CUE),showOffice365Cue:h(C.Eb.OFFICE365_CUE),isSenderRollupEnabled:h(C.Eb.SENDER_ROLLUP),getFolderFullName:e=>R(e),defaultRetailerId:W,showAddMailBox:K,showAddMailBoxPopover:q,imapInChallengePoints:$,themeMode:g(C.Kd.THEME_MODE),showMailproFreeTrialUpsell:te}},e=>({onMoveFolder:t=>e(Object(Uu.f)(t)),onRenameFolder:t=>e(Object(Uu.i)(t)),onDeleteFolder:t=>e(Object(Uu.c)(t)),changeSettings:t=>e(Object(Fu.b)(t)),navigateToRoute:t=>e(Object(oi.j)(t))}),void 0,{areOwnPropsEqual:f.a,areStatePropsEqual:f.a})(Dm),bm=s(344),Nm=s.n(bm),Mm=s(196),ym=s(376),Lm=s.n(ym),Pm=s(484);class vm extends Wo.Component{constructor(){super(),o()(this,"state",{isPickerOpen:!1}),o()(this,"handleContactContainerClick",e=>{this.pillContainerRef&&e.target&&(e.target.getAttribute("class")||"").indexOf("pill-list")>-1&&this.props.onContactContainerClick()}),o()(this,"onOpen",()=>{this.state.isPickerOpen||this.setState({isPickerOpen:!0},this.props.contactPickerClicked)}),o()(this,"onClose",()=>{this.state.isPickerOpen&&this.setState({isPickerOpen:!1})}),this.pillContainerRef=Ko.a.createRef()}render(){const e=Ti()(Lm.a,{active:this.props.active});return Ko.a.createElement("div",{className:e.module,"data-test-id":"recipient-input"},Ko.a.createElement(_i.a,{ref:e=>this._container=e},Ko.a.createElement(ui.a,{onClick:this.togglePickerStatus},Ko.a.createElement("label",{htmlFor:this.props.for,className:e.label,"data-test-id":"label-input-"+this.props.label.props.defaultMessage},this.props.label)),Ko.a.createElement(Ei.b,{isArrowVisible:!1,triggerOn:pi.i.CLICK,zAltitude:di.Pb.POPOVER.HIGH,onClick:e=>e.stopPropagation(),align:pi.a.START,onShow:this.onOpen,onHide:this.onClose},Ko.a.createElement(Mi.a,{import:"../../contact_picker/index",onClose:()=>this._container.hide(pi.i.CLICK),addContactsToField:this.props.addContactsToField,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1269))},_moduleResolver:function(){return 1269}}))),Ko.a.createElement("div",{className:e.children,"data-test-id":this.props.childrenId,onClick:this.handleContactContainerClick,ref:this.pillContainerRef},this.props.children))}}o()(vm,"defaultProps",{active:!1});var Fm=Object(qo.connect)(null,e=>({contactPickerClicked:()=>e(Object(Pm.openContactPickerDisplay)({i13nModel:{mKey:Ii.g.OPEN_CONTACT_PICKER,sec:Ii.i.CONTACT_PICKER,interactionType:Ii.e.click}}))}))(vm);class Um extends Ko.a.Component{render(){const e=Ti()(Lm.a,{active:this.props.active});return Ko.a.createElement("div",{className:e.module,"data-test-id":"labeled-input"},Ko.a.createElement("label",{htmlFor:this.props.for,className:e.label,onClick:this.props.onLabelClick,"data-test-id":"label-input-"+this.props.label.props.defaultMessage},this.props.label),Ko.a.createElement("div",{className:e.children,"data-test-id":this.props.childrenId},this.props.children))}}o()(Um,"defaultProps",{active:!1});var wm=s(175),Gm=s(138),Hm=s(145),jm=s(112),km=s(739),xm=s.n(km);const Bm=Ti()(xm.a);function Vm({account:e,selected:t,onClick:s}){return Ko.a.createElement(Bu.a,{ariaLabel:e.email,kind:jm.a.ACCOUNT_PICKER,name:e.email},Ko.a.createElement("span",{className:Bm.rtlIgnoreDir},Ko.a.createElement(mi.a,{kind:Si.a.MENUITEM,onClick:s,style:{backgroundColor:t?"#f9faff":""}},Ko.a.createElement("div",{className:Bm.buttonContent},Ko.a.createElement("span",{className:Bm.checkmarkWrapper+" "+Bm.rtlIgnoreMarginR},t&&Ko.a.createElement(ei.b,{kind:ti.Kinds.CHECKMARK,size:ti.Sizes.XS})),Ko.a.createElement("span",null,e.sendingName),Ko.a.createElement("span",{className:Bm.itemAddress+" "+Bm.rtlIgnoreMarginL},e.email)))))}var Wm=s(740),Km=s.n(Wm);const qm=()=>{};class Ym extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleAccountChange",e=>{this.props.selected!==e&&this.props.onChange(e)}),o()(this,"getMenuItems",()=>{const e=this.props,t=e.selected,s=e.dir;return e.sendingAccounts.map(e=>Ko.a.createElement(Vm,{key:e.email,dir:s,account:e,selected:e===t,onClick:this.handleAccountChange.bind(this,e)}))})}render(){const e=this.props,t=e.selected,s=e.sendingAccounts,r=Ti()(Km.a);if(!s.length)return null;const n=Ko.a.createElement("div",{className:r.menuLabelEmail,"data-test-id":"compose-sending-address"},"<"+t.email+">");return 1===this.props.sendingAccounts.length?Ko.a.createElement("div",{tabIndex:0,"aria-label":this.props.selectLabel+" "+t.email,className:r.fromField,ref:"accountSelect"},Ko.a.createElement("span",null,t.sendingName,""),n):Ko.a.createElement("div",{className:r.select},Ko.a.createElement(wm.a,{onFocus:this.props.onFocus,onBlur:this.props.onBlur,className:r.menuContainer},Ko.a.createElement(Gm.a,{"aria-label":this.props.selectLabel+" "+t.email,hasText:!0},Ko.a.createElement("span",{className:r.label},Ko.a.createElement("span",{className:r.labelName},t.sendingName,""),n,Ko.a.createElement(ei.b,{kind:ti.Kinds.CHEVRON_UP,size:ti.Sizes.XXS,rotate:ti.Rotate.D180}))),Ko.a.createElement(Hm.a,null,this.getMenuItems(r))))}}o()(Ym,"defaultProps",{onFocus:qm,onBlur:qm,onChange:qm});var zm=Ym,Qm=s(111),Zm=s.n(Qm),Xm=s(147),$m=s(211),Jm=s.n($m),eS=s(234),tS=s(266),sS=s(212),rS=s(149),nS=s(29),aS=s(345);function oS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function iS(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?oS(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oS(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const cS=s(29).KeyCodes,lS=Object($o.defineMessages)({suggestions_available:{id:"compose.suggestions_available",defaultMessage:"{suggestionsNum, plural, =0 {No suggestions are available.} one {# suggestion is available.} other {# suggestions are available. Use up and down arrows to select.}}"},from_group:{id:"compose.from_group",defaultMessage:"{contactCount, plural, one {# contact} other {# contacts}}"},close_related_contacts:{id:"dropdown.close_related_contacts",defaultMessage:"Close"},related_contacts:{id:"dropdown.related_contacts",defaultMessage:"Related contacts:"}}),dS=/([^\s,;]+?@[^\s,;]+?\.[a-z]+[>)]?)[\s,;]+([^\s,;])/gi,ES=/[;,]+/,_S=()=>{};class uS extends Ko.a.Component{constructor(...e){super(...e),o()(this,"shouldComponentUpdate",(e,t)=>this.state.inputValue!==t.inputValue||!t_()(e.getSuggestions(t.inputValue),this.props.getSuggestions(this.state.inputValue))||!Object(Ps.compareObjectsWithKeys)(this.props,e,["autoBidi","composePillCount","id","inputId","isDragged","isEditing","maxContactsVisible","placeholder","selectedPills","selectedContacts","shiftDelimiters","showCcBcc","showSuggestions","wasRelatedContactsDropdownClosed"])),o()(this,"createSearchRequest",e=>Zm()(this.requestContactSuggestions,e)),o()(this,"inputValueToContact",()=>{const e=this.state.inputValue;e.trim()&&(this.props.autoSuggestionDropdownWillAppear(),this.props.onInputContactAdd(e,this.props.isEditing),this.setState({inputValue:""}))}),o()(this,"handleOnFocus",e=>{this.props.onFocus&&this.props.onFocus(e)}),o()(this,"handleOnBlur",e=>{document.hasFocus()&&this.inputValueToContact(),this.props.onBlur&&this.props.onBlur(e)}),o()(this,"handleInputKeyDown",e=>{const t=this.state.inputValue,s=this.props,r=s.shiftDelimiters,n=s.delimiters,a=e.ctrlKey,o=e.altKey,i=e.metaKey,c=e.shiftKey,l=this._isDelimiterKey(e.which||e.keyCode);a||o||i||t&&(c&&l(r)||!c&&l(n))&&(e.preventDefault(),this.inputValueToContact())}),o()(this,"_isDelimiterKey",e=>t=>-1!==t.indexOf(e)),o()(this,"handleInputChange",e=>{const t=this.constructor.splitByDelimiters(e);t.length>1&&t.splice(0,t.length-1).map(e=>e.trim()).filter(Boolean).forEach(e=>{this.props.onInputContactAdd(e,!1)}),this.props.autoSuggestionDropdownWillAppear(),this.setState({inputValue:t[0]}),this.state.triggerSearchRequest(t[0])}),o()(this,"handleManualPillRemoval",(e,t)=>{t.preventDefault(),this.handlePillRemoval([e])}),o()(this,"handleManualPillEdit",e=>{const t=Object(tS.preparePillContact)(e);this.props.onContactEdit(t)}),o()(this,"handleManualPillUpdate",e=>{this.props.onInputContactAdd(e,!0)}),o()(this,"handlePillRemoval",e=>{this.props.onContactRemove(e)}),o()(this,"handleDropdownSelection",(e,t)=>{(t&&t.getAttribute("data-action"))===nS.DELETE_CONTACT?this.requestDeleteContactSuggestions(e):(this.setState({inputValue:""}),e.disabled||this.props.onContactAdd(iS({},e,{createdTime:Date.now()})))}),o()(this,"handleCloseRelatedContactsPopup",e=>{this.props.closeRelatedContactsForCurrentSession({i13nModel:{interactionType:Ii.e.click,mKey:Ii.g.RELATED_CONTACTS_CLOSED,sec:Ii.i.COMPOSE_CONTACTS}}),this.handleOnBlur(e)}),o()(this,"renderPill",(e,t,s,r)=>{const n=Object(tS.preparePillContact)(e),a=n.name,o=n.email,i=n.isEditing;return Ko.a.createElement(sS.default,{email:o,isCompose:!0,isDisabled:this.props.isDragged||r||i,name:a,createdTime:n.createdTime,popoverDidAppear:this.props.emailPillPopoverDidAppear},Ko.a.createElement(eS.default,{value:a,title:n.title,contactId:e.id,contactEmail:o,isEditing:i,isLastElement:t===s.length-1,isSelected:r,onPillUpdate:this.handleManualPillUpdate,onPillRemove:this.handleManualPillRemoval.bind(this,e),onPillEdit:this.handleManualPillEdit.bind(this,e),handleDrop:this.props.handleDrop,handleDragState:this.props.handleDragState,isDragged:this.props.isDragged&&r,inputField:this.props.id,isCompose:!0,selectedPills:this.props.selectedPills}))}),o()(this,"requestContactSuggestions",()=>{this.props.requestContactSuggestions({i13nModel:{mKey:Ii.g.CONTACT_SUGGEST,sec:Ii.i.COMPOSE_CONTACTS},query:this.state.inputValue})}),o()(this,"handleOnCopy",e=>{let t="";this.props.selectedPills.map(e=>{t+=Object(tS.preparePillContact)(e).title+"; "}),e.clipboardData.setData("text/plain",t)}),o()(this,"requestDeleteContactSuggestions",e=>{this.props.requestDeleteContactSuggestions({contactInfo:e})}),o()(this,"state",{triggerSearchRequest:this.createSearchRequest(50),inputValue:""})}static splitByDelimiters(e){return e.replace(dS,"$1,$2").split(ES)}componentWillReceiveProps(e){e.composePillCount>0&&e.composePillCount!==this.props.composePillCount&&!e.wasRelatedContactsDropdownClosed&&this.state.triggerSearchRequest("")}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.maxContactsVisible,r=t.filterSuggestions,n=t.selectedContacts,a=t.composePillCount,o=t.isEditing,i=t.showSuggestions,c=t.wasRelatedContactsDropdownClosed,l=a>0&&!this.state.inputValue&&!c,d=(0,t.getSuggestions)(this.state.inputValue),E=l&&r(d).length>0?3:s,_=!i||0===a&&!this.state.inputValue||c&&!this.state.inputValue?[]:r(d).slice(0,E),u=Ti()(Jm.a,{showCcBcc:this.props.showCcBcc});return Ko.a.createElement(Xm.Pills,{ref:this.props.suggestionRef,id:this.props.id,inputId:this.props.inputId,autoBidi:this.props.autoBidi,tabIndex:this.props.tabIndex,selected:n,renderPill:this.renderPill,placeholder:0===n.length?this.props.placeholder:"",inputValue:this.state.inputValue,onInputKeyDown:this.handleInputKeyDown,onInputChange:this.handleInputChange,onBlur:this.handleOnBlur,onCopy:this.handleOnCopy,onFocus:this.handleOnFocus,onRemove:this.handlePillRemoval,onSelect:this.handleDropdownSelection,notifyPillSelection:this.props.onPillSelection,messageForIncomingOptions:e(lS.suggestions_available,{suggestionsNum:_.length}),className:u.pills,getMessageForOption:this.props.getMessageForOption,containerClassName:u.pillsContainer,containerChildClassName:u.pillsContainerChild,pillClassName:u.pillOuter,noInitialSelection:!0,dropdownVisibleByDefault:!0,typeaheadInputContainerClassName:u.typeahead,typeaheadInputClassName:`input-${this.props.id} ${u.typeaheadInput}`,typeaheadInputHintClassName:u.typeaheadInputHint,typeaheadAriaStatusClassName:u.typeaheadAriaStatus,typeaheadDropDownClassName:u.typeaheadDropDown,clearSelectedPills:this.props.clearSelectedPills,isEditing:o},l&&_.length>0?Ko.a.createElement(Xm.Option,{className:u.relatedContactsContainer,disabled:!0,value:{disabled:!0}},Ko.a.createElement("span",{className:u.relatedContacts,"data-test-id":"related-contacts-dropdown-header"},e(lS.related_contacts)),Ko.a.createElement("span",{className:u.relatedContactsClose},Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"related-contacts-close-button",kind:ti.Kinds.CLOSE,size:ti.Sizes.XXS,onMouseDown:this.handleCloseRelatedContactsPopup,colorState:ti.ColorStates.FIRST_LEVEL_GRAY,paddingLess:!0,title:e(lS.close_related_contacts)}))):null,_.map(e=>Ko.a.createElement(Xm.Option,{className:u.typeaheadOption,key:e.id,value:e},Ko.a.createElement(aS.default,{option:e}))))}}o()(uS,"contextTypes",{intl:$o.intlShape.isRequired}),o()(uS,"defaultProps",{placeholder:"",tabIndex:-1,maxContactsVisible:6,selectedContacts:[],delimiters:[cS.FF_COMMA,cS.FF_SEMICOLON,cS.SEMICOLON,cS.COMMA,cS.BREAK,cS.TAB],shiftDelimiters:[cS.BREAK,cS.TAB],handleDrop:_S,handleDragState:_S,onPillSelection:_S,selectedPills:[],clearSelectedPills:_S,getSuggestions:_S,filterSuggestions:()=>[],isEditing:!1,requestDeleteContactSuggestions:_S,requestContactSuggestions:_S,showSuggestions:!0,autoSuggestionDropdownWillAppear:_S,emailPillPopoverDidAppear:_S,wasRelatedContactsDropdownClosed:!1});var pS=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e);return{getSuggestions:s.getComposeSuggestions,wasRelatedContactsDropdownClosed:(0,(0,s.getComposeSessionsSelectors)().wasRelatedContactsClosed)(t.csid)}},(e,t)=>({requestContactSuggestions:s=>{const r=t.getContextFrom,n=(0,t.getRecipientList)(),a=r();e(Object(rS.contactSuggestionRequested)(iS({},s,{recipientList:n,contextFrom:a})))},requestDeleteContactSuggestions:s=>{const r=t.getContextFrom,n=(0,t.getRecipientList)(),a=r();e(Object(rS.deleteContactSuggestionRequested)(iS({},s,{recipientList:n,contextFrom:a})))},closeRelatedContactsForCurrentSession:s=>{e(Object(rS.closeRelatedContactsForCurrentSession)(iS({},s,{csid:t.csid})))}}))(uS),mS=s(754),SS=s.n(mS);function hS(e){const t=e.hasFocus,s=b()(e,["hasFocus"]),r=Ti()(SS.a,{hasFocus:t});return Ko.a.createElement("div",zo()({},s,{className:r.input}),e.children)}var CS=s(755),gS=s.n(CS);const OS=Object($o.defineMessages)({save_draft_and_close:{id:"compose.save_draft_and_close",defaultMessage:"Close (and save to drafts)"},show_cc_button_label:{id:"compose.show_cc_button_label",defaultMessage:"CC / BCC"},hide_cc_button_label:{id:"compose.hide_cc_button_label",defaultMessage:"Hide CC / BCC"},show_cc_only_button_label:{id:"compose.show_cc_only_button_label",defaultMessage:"CC"},hide_cc_only_button_label:{id:"compose.hide_cc_only_button_label",defaultMessage:"Hide CC"},bcc_button_label:{id:"compose.bcc_button_label",defaultMessage:"bcc"},from_input_label:{id:"compose.from_input_label",defaultMessage:"From"},to_input_label:{id:"compose.to_input_label",defaultMessage:"To"},cc_input_label:{id:"compose.cc_input_label",defaultMessage:"CC"},bcc_input_label:{id:"compose.bcc_input_label",defaultMessage:"BCC"},select_contact:{id:"compose.select_contact",defaultMessage:"Select contact {email}"},subject_input_placeholder:{id:"compose.subject_input_placeholder",defaultMessage:"Subject"},additional_options:{id:"compose.additional_options",defaultMessage:"Additional options"}});class TS extends Ko.a.Component{constructor(e){super(e),o()(this,"handleSubjectChange",e=>{const t=e.target.value;this.hideEmailHoverCards(!0),this.setState({subject:t},this.onHeaderChange)}),o()(this,"setDragState",e=>{this.setState({isDragged:e})}),o()(this,"handleDragOver",e=>{this.shouldHandleDrop(e.target)&&e.preventDefault()}),o()(this,"updateSelectedPills",e=>{this.state.isEditing||this.setState({selectedPills:e})}),o()(this,"clearSelectedPills",e=>{e&&this.clearPillsCallbacks.push(e),this.clearPillsCallbacks.forEach(e=>e()),this.setState({selectedPills:[]})}),o()(this,"handleDrop",(e,t,s,r)=>{if(e.stopPropagation(),e.preventDefault(),void 0===s&&(!this.shouldHandleDrop(e.target)||""===t))return;const n=e.dataTransfer.getData("text/pills"),a=document.getElementById("drag-img");let o=[],i={},c=0;if(a&&a.parentNode&&a.parentNode.removeChild(a),""===n||!Object(on.isJSONString)(n))return;const l=JSON.parse(n);l&&(i=l.contact),this.state.selectedPills.length>0&&(o=this.state.selectedPills),i&&(i.id||i.email||i.name)&&(c=o.findIndex(({name:e,email:t})=>i.name===e&&i.email===t),-1===c&&o.push(i));const d={mKey:Ii.g.DRAG_CONTACT,sec:Ii.i.COMPOSE_CONTACTS,actionData:{cnt:o.length,from:l.dragFromField.toUpperCase(),to:t.toUpperCase()}};this.props.dragDropContact({i13nModel:d}),this.handleDragContactAdd(t,o,{side:s,id:r}),l.dragFromField!==t&&this.handleContactRemove(l.dragFromField,o,!0),this.setDragState(!1),this.clearSelectedPills()}),o()(this,"handleDragContactAdd",(e,t=[],{side:s="other",id:r})=>{const n=this.state[e],a=n.filter(e=>!t.find(({name:t,email:s})=>e.name===t&&e.email===s)),o={left:0,right:1,other:n.length+1}[s],i=Math.max(0,a.findIndex(e=>e.id===r)+o),c=a.slice(0,i).concat(t).concat(a.slice(i));this.setState({[e]:c},this.onHeaderChange)}),o()(this,"handleContactRemove",(e,t,s)=>{const r=this.state[e];let n=[];if(s){t.filter(e=>!!r.find(({name:t,email:s})=>e.name===t&&e.email===s)).forEach(e=>{const t=r.findIndex(({name:t,email:s})=>e.name===t&&e.email===s);r.splice(t,1)}),n=r}else n=Nm()(r,t);this.setState({[e]:n},this.onHeaderChange)}),o()(this,"handleContactEdit",(e,t)=>{var s=this.state[e].map(e=>e.email===t.email?Object.assign({},e,{isEditing:!0}):e);this.setState({[e]:s,isEditing:!0},this.onHeaderChange)}),o()(this,"messageForOption",e=>e.email?this.context.intl.formatMessage(OS.select_contact,{email:e.email}):e),o()(this,"toggleExtraRecipients",()=>{const e=nS.FocusableRefs.CC,t=nS.FocusableRefs.TO;this.toggleCcBcc(!this.state.showCcBcc,()=>{this.focus(this.state.showCcBcc?e:t)})}),o()(this,"filterSuggestions",(e=[])=>{if(!e.length)return[];const t=this.state.to.concat(this.state.cc,this.state.bcc).reduce((e,{email:t})=>(e[t]=1,e),Object.create(null));return Object.keys(t).length&&(e=e.filter(({email:e})=>!t[e])),e}),o()(this,"handleContactAdd",(e,t)=>{var s=this.state[e];const r=({email:e,id:t,name:s,createdTime:r})=>{const n={createdTime:r};return e&&(n.email=e),t&&(n.id=t),s&&(n.name=s),n};if(Array.isArray(t)||t.hasOwnProperty("list")){const e=Array.isArray(t)?t:t.list;s=s.concat(e.map(r))}else void 0===s.find(e=>e.email===t.email)&&(s.push(r(t)),this.props.addRecipient({i13nModel:{mKey:Ii.g.SELECT_CONTACT,sec:Ii.i.COMPOSE_CONTACTS}}));this.setState({[e]:s},this.onHeaderChange)}),o()(this,"emailPillPopoverDidAppear",e=>{this._popoverReference=e,this.state.isAutosuggestionHidden||this.setState({isAutosuggestionHidden:!0})}),o()(this,"autoSuggestionDropdownWillAppear",()=>{this._popoverReference&&(this._popoverReference.handlePopoverHide(),this._popoverReference=null),this.state.isAutosuggestionHidden&&this.setState({isAutosuggestionHidden:!1})}),o()(this,"handleChangeReplyToSetting",e=>{this.context.navigateTo({route:Object(Ui.w)({settingsGroupId:C.Nd.ACCOUNTS}),i13nModel:{mKey:Ii.g.CHANGE_REPLY_TO_SETTING,sec:Ii.i.REPLY_TO_ALERT_POPOVER,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}),o()(this,"getRecipientList",()=>{const e=this.state,t=e.to,s=e.cc,r=e.bcc;return Object(on.buildRecipients)([t,s,r])}),o()(this,"getContextFrom",()=>this.state.from.email),o()(this,"handleFromChange",e=>{this.setState({from:e},this.onHeaderChange)});const t=this.props,s=t.from,r=t.to,n=t.cc,a=void 0===n?[]:n,i=t.bcc,c=void 0===i?[]:i,l=t.subject;this.state={from:void 0===s?{}:s,to:void 0===r?[]:r,cc:a,bcc:c,subject:void 0===l?"":l,showCcBcc:!!a.length||!!c.length,xButtonHovered:!1,isDragged:!1,isEditing:!1,selectedPills:[],isAutosuggestionHidden:!1},this.clearPillsCallbacks=[]}componentDidUpdate(){const e=this.props,t=e.composeMode,s=e.cc,r=e.bcc,n=e.csid,a=e.onComposeHeaderDelete,o=e.composeParams,i=e.inputFocus.type,c=void 0===i?nS.FocusableRefs.TO:i,l=this.state[c],d=o&&o[c]&&o[c].length?o[c]:[];this.setState(()=>this.props.composeMode!==t?{showCcBcc:!!s.length||!!r.length}:null,()=>{if(d.length){l.every(({email:e})=>e!==d[0].email)&&this.handleContactAdd(c,d),a({csid:n})}})}handleXButtonHover(e){this.setState({xButtonHovered:e})}handleInputContactAdd(e,t,s=!1){const r=Object(tS.createAddress)(t.trim());s?this.handleContactUpdate(e,{email:r.email,name:r.name}):this.handleContactAdd(e,{email:r.email,name:r.name})}hideEmailHoverCards(e){e&&this._popoverReference&&(this._popoverReference.handlePopoverHide(),this._popoverReference=null)}handleFocusChange(e,t){const s=this.props.csid;this.hideEmailHoverCards(t),setTimeout(()=>this.props.updateComposeHeaderFocus({csid:s,inputFocus:{type:e,isFocused:t}}),0)}shouldHandleDrop(e){return this.refs.composeHeaderTop.contains(e)}componentWillUnmount(){this.clearPillsCallbacks.length=0}addContactsToField(e){this.handleContactAdd(this.state.recipientGroup,e)}editContactsToField(e){this.handleContactAdd(this.state.recipientGroup,e)}focus(e){this.refs[e]?this.refs[e].focus():this[e]&&this[e].focus()}componentDidMount(){this.focus(this.props.initialFocus)}toggleCcBcc(e=!1,t=(()=>{})){this.setState({showCcBcc:e},t)}onHeaderChange(){const e=this.state;this.props.onChange({from:e.from,to:e.to,cc:e.cc,bcc:e.bcc,subject:e.subject})}handleContactUpdate(e,t){const s=this.state[e].reduce((e,s)=>s.isEditing?t.email?e.concat(Object.assign({},t)):e:e.concat(s),[]);this.setState({[e]:s,isEditing:!1},this.onHeaderChange)}renderAutoSuggest(e,t,s,r){const n=this.state[e],a=this.props.inputFocus.type===e&&this.props.inputFocus.isFocused,o="message-"+e+"-field",i=this.props[nS.FocusableRefs.TO].length+this.props[nS.FocusableRefs.CC].length+this.props[nS.FocusableRefs.BCC].length;return Ko.a.createElement(Fm,{active:a,label:t,childrenId:"compose-header-field-"+e,identifier:e,"data-test-id":"contact-picker-"+e,addContactsToField:this.handleContactAdd.bind(null,e),onContactContainerClick:this.focus.bind(this,e)},Ko.a.createElement(pS,{filterSuggestions:this.filterSuggestions,suggestionRef:t=>this[e]=t,id:e,inputId:o,autoBidi:!1,selectedContacts:n,onFocus:this.handleFocusChange.bind(this,e,!0),onInputContactAdd:this.handleInputContactAdd.bind(this,e),onContactRemove:this.handleContactRemove.bind(null,e),onContactAdd:this.handleContactAdd.bind(null,e),onContactEdit:this.handleContactEdit.bind(null,e),isEditing:this.state.isEditing,getMessageForOption:this.messageForOption,showCcBcc:this.state.showCcBcc,handleDrop:(t,s,r)=>this.handleDrop(t,e,s,r),handleDragState:this.setDragState,isDragged:this.state.isDragged,onPillSelection:this.updateSelectedPills,selectedPills:this.state.selectedPills,clearSelectedPills:this.clearSelectedPills,getRecipientList:this.getRecipientList,getContextFrom:this.getContextFrom,composePillCount:i,showSuggestions:!this.state.isAutosuggestionHidden&&a,emailPillPopoverDidAppear:this.emailPillPopoverDidAppear,autoSuggestionDropdownWillAppear:this.autoSuggestionDropdownWillAppear,csid:this.props.csid}),r)}renderCloseButton(e){const t=this.context.intl.formatMessage(OS.save_draft_and_close);return Ko.a.createElement("span",{className:e.xButton},Ko.a.createElement(Jo.default,{onClick:this.props.onClose,title:t,"aria-label":t,kind:ti.Kinds.CLOSE,colorState:this.state.xButtonHovered?ti.ColorStates.NORMAL:ti.ColorStates.DISABLED,size:ti.Sizes.XXS}))}renderExtraRecipientBtn(e){if(this.state.cc.length>0||this.state.bcc.length>0)return null;const t=this.context.intl.formatMessage,s=this.props.isBccDisabled,r=t(this.state.showCcBcc?s?OS.hide_cc_only_button_label:OS.hide_cc_button_label:s?OS.show_cc_only_button_label:OS.show_cc_button_label);return Ko.a.createElement(mi.a,{ref:nS.FocusableRefs.CCBTN,className:e,tabIndex:-1,onClick:this.toggleExtraRecipients,kind:Si.a.CHROMELESS,"data-test-id":"btn-cc"},r)}renderEditSubjectMenu(e){return Ko.a.createElement(_i.a,{className:e.additionalOptionsButtonWrapper},Ko.a.createElement(ui.a,null,Ko.a.createElement(Jo.default,{"data-test-id":"additional-compose-options-button",kind:ti.Kinds.CHEVRON_UP,rotate:ti.Rotate.D180,size:ti.Sizes.XS,title:(0,this.context.intl.formatMessage)(OS.additional_options)})),Ko.a.createElement(Ei.b,{triggerOn:pi.i.CLICK,align:pi.a.START,offset:2*di.G},Ko.a.createElement("div",{className:e.additionalOptionsListWrapper},Ko.a.createElement(hi.a,{kind:gp.a.MENU,focusOnMount:!0,"data-test-id":"additional-compose-options-menu"},Ko.a.createElement("li",null,Ko.a.createElement(mi.a,{"data-test-id":"edit-subject",kind:Si.a.MENUITEM,onClick:this.props.onEditSubject},Ko.a.createElement($o.FormattedMessage,{id:"editSubject",defaultMessage:"Edit subject"})))))))}renderReplyToWarning(e){return Ko.a.createElement(_i.a,null,Ko.a.createElement(ui.a,null,Ko.a.createElement("div",{className:e.replyToAnchor,"data-test-id":"reply-to-warning-anchor"},Ko.a.createElement("div",{className:e.replyToAnchorLabel},Ko.a.createElement($o.FormattedMessage,{id:"compose.reply_to_label",defaultMessage:"Reply-to: {replyToAddress}",values:{replyToAddress:this.props.from.replyToAddress}})),Ko.a.createElement(ei.b,{kind:ti.Kinds.ATTENTION,colorState:ti.ColorStates.ADVISORY,size:ti.Sizes.XXS}))),Ko.a.createElement(Ei.b,{triggerOn:pi.i.CLICK,isArrowVisible:!0},Ko.a.createElement("div",{className:e.replyToPopover,"data-test-id":"reply-to-warning-content"},Ko.a.createElement($o.FormattedMessage,{id:"compose.reply_to_description",defaultMessage:"Replies to this message will be sent to {replyToAddress}.",values:{replyToAddress:this.props.from.replyToAddress}}),Ko.a.createElement("div",null,Ko.a.createElement(mi.a,{kind:Si.a.TEXT,onClick:this.handleChangeReplyToSetting},Ko.a.createElement($o.FormattedMessage,{id:"compose.reply_to_settings",defaultMessage:"Change in Settings"}))))))}render(){const e=Ti()(gS.a,{"filled-subject":this.state.subject.length>0,isSubjectDisabled:!this.props.canEditSubject}),t=this.props,s=t.inputFocus,r=t.from,n=r.replyToAddress&&r.replyToAddress!==r.email;return Ko.a.createElement("div",{className:"compose-header "+e.container},this.props.showCloseButton?Ko.a.createElement("div",{className:e.xButtonWrapper,onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1)},this.renderCloseButton(e)):null,Ko.a.createElement("div",{"data-test-id":"compose-header-top",className:e.composeHeaderTop,ref:"composeHeaderTop"},this.props.showFrom?Ko.a.createElement(hS,{hasFocus:s.type===nS.FocusableRefs.FROM&&s.isFocused,"data-test-id":"container-from"},Ko.a.createElement(Um,{active:s.type===nS.FocusableRefs.FROM&&s.isFocused,label:Ko.a.createElement($o.FormattedMessage,OS.from_input_label)},Ko.a.createElement(zm,{dir:this.props.rtl?"rtl":"ltr",selectLabel:this.context.intl.formatMessage(OS.from_input_label),onFocus:this.handleFocusChange.bind(this,nS.FocusableRefs.FROM,!0),onBlur:this.handleFocusChange.bind(this,nS.FocusableRefs.FROM,!1),sendingAccounts:Object(jl.c)(this.props.accounts),selected:this.state.from,onChange:this.handleFromChange}),n&&this.renderReplyToWarning(e))):null,Ko.a.createElement(hS,{hasFocus:s.type===nS.FocusableRefs.TO&&s.isFocused,"data-test-id":"container-to",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,nS.FocusableRefs.TO)},this.props.canEditSubject?null:this.renderEditSubjectMenu(e),this.renderAutoSuggest(nS.FocusableRefs.TO,Ko.a.createElement($o.FormattedMessage,OS.to_input_label),e),this.renderExtraRecipientBtn(e.extraRecipientsBtn)),this.state.showCcBcc?Ko.a.createElement("div",null,Ko.a.createElement(hS,{hasFocus:s.type===nS.FocusableRefs.CC&&s.isFocused,"data-test-id":"container-cc",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,nS.FocusableRefs.CC)},Ko.a.createElement("div",{className:e.ccContainer},this.renderAutoSuggest(nS.FocusableRefs.CC,Ko.a.createElement($o.FormattedMessage,OS.cc_input_label),e))),!this.props.isBccDisabled&&Ko.a.createElement(hS,{hasFocus:s.type===nS.FocusableRefs.BCC&&s.isFocused,"data-test-id":"container-bcc",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,nS.FocusableRefs.BCC)},this.renderAutoSuggest(nS.FocusableRefs.BCC,Ko.a.createElement($o.FormattedMessage,OS.bcc_input_label),e))):null),this.props.showSubject?Ko.a.createElement("div",{className:e.composeSubject},Ko.a.createElement(hS,{hasFocus:s.type===nS.FocusableRefs.SUBJECT&&s.isFocused},this.props.canEditSubject||this.props.composeMode!==C.U.Modes.FORWARD?null:this.renderEditSubjectMenu(e),Ko.a.createElement(Wp.a,{"data-test-id":"compose-subject",onFocus:this.handleFocusChange.bind(this,nS.FocusableRefs.SUBJECT,!0),onBlur:this.handleFocusChange.bind(this,nS.FocusableRefs.SUBJECT,!1),ref:nS.FocusableRefs.SUBJECT,spellCheck:!0,autoCorrect:"off","aria-label":this.context.intl.formatMessage(OS.subject_input_placeholder),className:e.subject,placeholder:this.context.intl.formatMessage(OS.subject_input_placeholder),value:this.state.subject,onChange:this.handleSubjectChange,disabled:!this.props.canEditSubject,onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,"")}))):null)}}o()(TS,"contextTypes",{config:Vo.a.object,navigateTo:Vo.a.func,intl:$o.intlShape.isRequired}),o()(TS,"defaultProps",{subject:"",from:{},to:[],cc:[],bcc:[],inputFocus:{},showSubject:!0,isBccDisabled:!1,canEditSubject:!0,onChange:()=>{}});var AS=TS,IS=s(648),fS=s(135);const DS=C.Wb.TAB,RS=C.Wb.ENTER,bS=C.Wb.ESCAPE,NS=C.Wb.ARROW_UP,MS=C.Wb.ARROW_DOWN,yS=C.Wb.ARROW_LEFT,LS=C.Wb.ARROW_RIGHT;class PS{constructor(e){this.args=e,this.TAG_REGEX=/^[\s]*[@+]([^\s\d\W][\w\s]*)$/,this.keyCodeMapper=[DS,RS,bS,NS,MS],this.dropdownRef=this.args.dropdownRef,this.activeIndexBeginAt=1,this.lineHeight=20}getEventName(e){return"string"==typeof e?e:e&&e.type}contentChanged(e){if("keydown"===this.getEventName(e)&&this.args.isContactSuggestionVisible()){const t=this.args.getContactSuggestions(),s=this.args.getDropdownActiveIndex();this.keyCodeMapper.indexOf(e.key)>-1?(e.preventDefault(),e.stopPropagation()):[LS,yS].indexOf(e.key)>-1&&this.args.toggleDropdown(!1);const r=t.length;if([DS,RS].indexOf(e.key)>-1)this.args.insertContact(t[s-this.activeIndexBeginAt]);else if(e.key===MS){const e=s+1;this.args.updateActiveIndex(e>r?this.activeIndexBeginAt:e)}else if(e.key===NS){const e=s-1;this.args.updateActiveIndex(e<this.activeIndexBeginAt?r:e)}else e.key===bS&&this.args.toggleDropdown(!1)}}onContentMutated(e,t){const s=e.filter(e=>"characterData"===e.type);if(!t.length&&s.length&&this.dropdownRef)try{const e=PS.getRangeFromStartToCursor().startContainer,t=e.textContent,s="Firefox"===Object(f.b)(window,"AppBootstrapData.browserName","")?t.replace(/<br>/,""):t,r=this.TAG_REGEX.exec(s);if(r&&r.length){const t=e.parentElement.getBoundingClientRect(),s=r[r.length-1];if(1===s.length){this.args.handleAutotagDropdownShown({i13nModel:{interactionType:Ii.e.keydown,mKey:Ii.g.AUTOTAG_DROPDOWN_SHOWN,sec:Ii.i.COMPOSE_MSG}})}const n=this.args.rte.getCaretCoordinates().x,a=this.getOffets(),o=t.top-this.args.rte.element.getBoundingClientRect().top,i=t.height;return this.dropdownRef.style.left=a.left+n+10+"px",this.dropdownRef.style.top=a.top+o+i+"px",void this.args.showContactSuggestion(s)}}catch(e){return}this.args.hideContactSuggestion()}static getRangeFromStartToCursor(){const e=window.getSelection(),t=document.createRange();return t.setStart(e.anchorNode,0),t.setEnd(e.anchorNode,e.anchorOffset),t}getOffets(){const e=this.args,t=e.containerRef,s=e.rte.element.getBoundingClientRect(),r=t.getBoundingClientRect();return{top:s.top-(r.top||0),left:s.left-(r.left||0)}}setDropdownElement(e){this.dropdownRef=e}insertContact(e=""){this.args.rte.restoreCaret(),this.args.rte.focus();const t=PS.getRangeFromStartToCursor(),s=t.toString(),r=this.TAG_REGEX.exec(s);let n="";if(r&&r.length&&r.input){n=-1!==r.input.indexOf("+")?"+":-1!==r.input.indexOf("@")&&"@";try{t.setStart(t.startContainer,r.input.indexOf(n))}catch(e){return void bo.a.error("Should not be inserting contact if it is not prefixed with +/@",e)}t.setEnd(t.endContainer,t.endOffset);const s=window.getSelection();s.removeAllRanges(),s.addRange(t);let a="initial";try{a=window.getComputedStyle(s.anchorNode.parentElement).getPropertyValue("font-size")}catch(e){bo.a.error("Unable to get font size",e)}const o=document.createElement("span");o.innerHTML=this._getHighlightedName(n+e,a),t.deleteContents(),t.insertNode(o),t.setStartAfter(o),t.setEndAfter(o),s.removeAllRanges(),s.addRange(t),t.startContainer.parentElement.style.fontSize=a}}_getHighlightedName(e,t){return`<span style="background-color: #DBEDFE;font-size: ${t}" contenteditable="false" tabIndex="-1">${e}</span>&nbsp;`}}var vS=PS;function FS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function US(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?FS(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):FS(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class wS extends Ko.a.Component{constructor(e){super(e),o()(this,"_onXButtonClick",()=>{this.props.closeAutotagForCurrentSession({i13nModel:{interactionType:Ii.e.click,mKey:Ii.g.AUTOTAG_DROPDOWN_CLOSED,sec:Ii.i.COMPOSE_MSG}}),this._closeAutotag()}),o()(this,"insertContact",e=>{if(e.disabled)return;const t={interactionType:Ii.e.click,mKey:Ii.g.AUTOTAG_CONTACT_SELECTED,sec:Ii.i.COMPOSE_MSG};this.toggleDropdown(!1),this.props.addInlineContactSuggestionToCcField(e),this._autotagPlugin.insertContact(e.name),this.props.handleAutotagContactSelected({i13nModel:t})}),o()(this,"_closeAutotag",()=>{this._dropdownRef&&this.toggleDropdown(!1)}),o()(this,"_handleDropdownRef",e=>{this._dropdownRef=this._dropdownRef||Object(Zo.findDOMNode)(e),this._autotagPlugin&&this._autotagPlugin.setDropdownElement(this._dropdownRef)}),this.state={contactActiveIndex:1,isContactSuggestionVisible:!1}}componentDidMount(){this.requestContactSuggestions=Zm()(this.props.requestContactSuggestions,300,{leading:!0}),window.addEventListener("mousedown",this._closeAutotag)}componentWillReceiveProps(e){if(!this._autotagPlugin&&e.editorReference&&e.editorReference.rte){const t=e.containerRef,s=e.editorReference.rte;this._autotagPlugin=new vS({showContactSuggestion:this.showContactSuggestion.bind(this),hideContactSuggestion:this.toggleDropdown.bind(this),handleAutotagDropdownShown:e=>this.props.handleAutotagDropdownShown(e),isContactSuggestionVisible:()=>this.isContactSuggestionVisible(),setEditorState:e=>this.setState(e),updateActiveIndex:e=>this.setState({contactActiveIndex:e}),getContactSuggestions:()=>this.props.contactSuggestions,getDropdownActiveIndex:()=>this.state.contactActiveIndex,wasDropdownClosed:()=>this.props.wasDropdownClosed,insertContact:this.insertContact,toggleDropdown:this.toggleDropdown.bind(this),dropdownRef:this._dropdownRef,containerRef:t,rte:s}),e.editorReference.rte.addPlugin(this._autotagPlugin)}}showContactSuggestion(e=""){e.trim().length>0&&(this.requestContactSuggestions({query:e}),this.toggleDropdown(!0))}toggleDropdown(e=!1){this.state.isContactSuggestionVisible!==e&&this.setState({isContactSuggestionVisible:e,contactActiveIndex:1})}componentWillUnmount(){window.removeEventListener("mousedown",this._closeAutotag)}_getContactOptionItems(e){const t=this.context.intl.formatMessage;return[Ko.a.createElement(fS.Option,{className:e.relatedContactsContainer,disabled:!0,value:{disabled:!0}},Ko.a.createElement("span",{className:e.relatedContacts},Ko.a.createElement($o.FormattedMessage,{id:"autotag_dropdown.add_recipient",defaultMessage:"Add a recipient"})),Ko.a.createElement("span",{className:e.relatedContactsClose},Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"autotag-close-button",kind:ti.Kinds.CLOSE,size:ti.Sizes.XXS,onMouseDown:this._onXButtonClick,colorState:ti.ColorStates.FIRST_LEVEL_GRAY,paddingLess:!0,title:t(lS.close_related_contacts),id:"autotag-close"}))),...this.props.contactSuggestions.map(t=>Ko.a.createElement(fS.Option,{className:e.typeaheadOption,key:t.id,value:t},Ko.a.createElement(aS.default,{option:t,allowContactRemoval:!1})))]}isContactSuggestionVisible(){return!(this.props.wasDropdownClosed||!this.props.contactSuggestions.length||!this.state.isContactSuggestionVisible)}render(){if(!this._autotagPlugin)return null;const e=Ti()(Jm.a,{autotag:!0});return Ko.a.createElement(fS.Dropdown,{ref:this._handleDropdownRef.bind(this),options:this._getContactOptionItems(e),activeIndex:this.state.contactActiveIndex,visible:this.isContactSuggestionVisible(),onMouseDown:this.insertContact,className:e.typeaheadDropDown})}}wS.defaultProps={containerRect:{},wasDropdownClosed:!1},wS.contextTypes={intl:$o.intlShape.isRequired};var GS=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e),r=s.getAutotagSuggestions,n=(0,s.getComposeSessionsSelectors)().wasAutotagDropdownClosed;return{contactSuggestions:r(t.csid),wasDropdownClosed:n(t.csid)}},(e,t)=>({requestContactSuggestions:s=>{e(Object(rS.contactSuggestionRequested)(US({},s,{csid:t.csid})))},closeAutotagForCurrentSession:s=>{e(Object(rS.closeAutotagForCurrentSession)(US({},s,{csid:t.csid})))},handleAutotagDropdownShown:t=>{e(US({type:sc.AUTOTAG_DROPDOWN_SHOWN},t))},handleAutotagContactSelected:t=>{e(US({type:sc.AUTOTAG_CONTACT_SELECTED},t))}}),null,{withRef:!0})(wS),HS=s(761),jS=s.n(HS);const kS=Ti()(jS.a);var xS=class extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{dragOverlayVisible:!1}),o()(this,"handleDragOver",e=>{e.dataTransfer&&Array.prototype.slice.call(e.dataTransfer.types).some(e=>"Files"===e)&&(this.state.dragOverlayVisible||this.setState({dragOverlayVisible:!0}),e.preventDefault(),e.stopPropagation())}),o()(this,"handleDragLeave",e=>{e.preventDefault(),e.stopPropagation(),this.state.dragOverlayVisible&&this.setState({dragOverlayVisible:!1})}),o()(this,"handleDrop",e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files;this.setState({dragOverlayVisible:!1},()=>this.props.onDrop(Array.prototype.slice.call(t)))})}render(){return Ko.a.createElement("div",{onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,className:kS.attachmentDragContainer},this.props.children,this.state.dragOverlayVisible?Ko.a.createElement("div",{className:kS.dragOverlay},Ko.a.createElement("div",{className:kS.dragDescriptionContainer},Ko.a.createElement(ei.b,{kind:ti.Kinds.ATTACH_GENERIC_48,colorState:ti.ColorStates.ATTACH_GENERIC,size:ti.Sizes.L}),Ko.a.createElement("div",{className:kS.dragTextDescription},Ko.a.createElement($o.FormattedMessage,{id:"compose.rte_dragdrop_overlay",defaultMessage:"Drag and drop files here"})))):null)}},BS=s(360),VS=s(267),WS=s(157),KS=s(210),qS=s(767),YS=s.n(qS);const zS=Object($o.defineMessages)({close:{id:"dualActionDialog.close",defaultMessage:"Close"},gdriveLogo:{id:"compose.gdrive_logo",defaultMessage:"Google Drive logo"},dropboxLogo:{id:"compose.dropbox_logo",defaultMessage:"Dropbox logo"},okButton:{id:"largeAttachmentDialog.ok",defaultMessage:"OK"},attachLargeFileFromGDrive:{id:"compose.attachLargeFileFromGDrive.btn",defaultMessage:"Connect Google Drive"},attachLargeFileFromDropbox:{id:"compose.attachLargeFileFromDropbox.btn",defaultMessage:"Connect Dropbox"},bigAttachmentSupport_title:{id:"compose.too_big_attachment_support_title",defaultMessage:"Attach large files from the cloud"}}),QS={[C.eb.GDRIVE]:Object(P_.a)("/img/google_drive.png"),[C.eb.DROPBOX]:Object(P_.a)("/img/dropbox.png")},ZS={margin:`${4*di.G}px ${di.G}px ${5*di.G}px 0`};class XS extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handlePrimaryButtonClick",e=>{e.stopPropagation(),this.props.onPrimaryButtonClick(e)}),o()(this,"handleSecondaryButtonClick",e=>{e.stopPropagation(),this.props.onSecondaryButtonClick(e)}),o()(this,"handleClose",e=>{e.stopPropagation(),this.props.onClose(e)})}render(){const e=this.context.intl.formatMessage,t=this.props.message,s=Ti()(YS.a);return Ko.a.createElement(iE.a,{onClose:this.handleClose},Ko.a.createElement("div",{className:s.container,"data-test-id":"large-attachment-support-dialog"},Ko.a.createElement("div",{className:s.header},Ko.a.createElement("div",{className:s.title,"data-test-id":"title"},e(zS.bigAttachmentSupport_title)),Ko.a.createElement("div",{className:s.close},Ko.a.createElement(Jo.default,{onClick:this.handleClose,kind:ti.Kinds.CLOSE,size:ti.Sizes.XS,title:e(zS.close),"aria-label":e(zS.close),"data-test-id":"close-btn"}))),Ko.a.createElement("div",{className:s.message,"data-test-id":"message"},t),Ko.a.createElement("div",{className:s.linkControls},Ko.a.createElement("div",{className:s.btnLogo,onClick:this.handlePrimaryButtonClick},Ko.a.createElement("img",{className:s.logo,alt:e(zS.gdriveLogo),src:QS[C.eb.GDRIVE]}),Ko.a.createElement("a",{className:s.link,"data-test-id":"primary-btn"},e(zS.attachLargeFileFromGDrive))),Ko.a.createElement("div",{className:s.btnLogo,onClick:this.handleSecondaryButtonClick},Ko.a.createElement("img",{className:s.logo,alt:e(zS.dropboxLogo),src:QS[C.eb.DROPBOX]}),Ko.a.createElement("a",{className:s.link,"data-test-id":"secondary-btn"},e(zS.attachLargeFileFromDropbox)))),Ko.a.createElement("div",{className:s.btnControls},Ko.a.createElement(mi.a,{onClick:this.handleClose,style:ZS,"data-test-id":"ok-btn"},e(zS.okButton)))))}}o()(XS,"contextTypes",{intl:$o.intlShape.isRequired}),o()(XS,"defaultProps",{primaryButtonLabel:zS.defaultprimaryButtonLabel,secondaryActionLabel:zS.defaultsecondaryActionLabel});var $S=XS,JS=s(151),eh=s(367),th=s(104);function sh(e,{csid:t,files:s,newContentIds:r,i13nModel:n}){e.dispatch(sc.FILE_ATTACHMENT_ADDED,{csid:t,files:s,newContentIds:r,i13nModel:n})}var rh=s(159),nh=s(194),ah=s(768),oh=s.n(ah),ih=s(185),ch=s.n(ih),lh=s(125),dh=s(236),Eh=s(92),_h=s(214);function uh(e){0===e.indexOf("mailto:")&&(e=e.substring(7));const t=function(e){if(e&&e.length){const t=e.indexOf("?");if(t>-1&&(e=e.substring(0,t)),e.length){if(0===(e=e.toLowerCase()).indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("ftp://"))return"";if(Object(Ps.isValidEmail)(e))return e}}return""}(e),s=e.indexOf("?");s>-1&&(e=e.substring(s+1));const r=m.a.parse(e);return t&&Object.assign(r,{to:t}),["to","cc","bcc"].forEach(e=>{const t=r[e];t&&"string"==typeof t&&(r[e]=[].concat(t))}),["subject","body"].forEach(e=>{const t=r[e];t&&Array.isArray(t)&&(r[e]=t.pop())}),r}var ph=s(37),mh=s(177),Sh=s(240),hh=s.n(Sh);function Ch(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const gh=["font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;","font-size:13px;","color:#26282a;"].join(""),Oh=/^((?:re|fwd?): )*/i,Th=(e=[])=>{const t={},s=[];return e.forEach(e=>{t[e.email]||(t[e.email]=!0,s.push(e))}),s},Ah=(e,t,{getForwardAttachmentIds:s,getAttachmentById:r})=>{const n=s(e)||[];return n.length&&(t.forwardAttachmentAdded=!0),n.forEach(({id:e})=>{const s=r(e);s.disposition===C.F.Dispositions.ATTACHMENT?t.attachmentsInfo=[...t.attachmentsInfo,s]:t.canApplyDefaultStationery=!1}),t},Ih=({accounts:e=[],listId:t,csid:s,selectors:r,selectedReplySuggestion:n},a)=>{const i=r.getFeaturesSelectors,c=r.getMrdParams,l=r.getAdsSelectors,d=r.doesComposeSessionExist,E=r.findUnsyncedDataByCsid,_=r.doComposeFromRouteQueryParams,u=r.doComposeFromMailToLink,p=r.getComposeMailToLink,m=r.getDraftMessageId,S=r.getForwardCreativeId,h=r.isReplyOrReplyAll,g=r.getReplyingToMessageId,O=r.getSubjectAndSnippetSelectors,T=r.getMessageFromAddress,A=r.getMessageToAddress,I=r.getMessageCcAddress,f=r.getMessageBccAddress,D=r.getMessageTimeStamp,R=r.doesMessageBodyExist,b=r.getReplyToAddress,N=r.isReplyMessage,M=r.isReplyAllMessage,y=r.isForwardMessage,L=r.isMyEmailAddress,P=r.getAttachmentsByMessageId,v=r.getSignatureByAccountEmail,F=r.getMessageBody,U=r.getStationeryTheme,w=r.getComposeUndoStack,G=r.getComposeRedoStack,H=r.getComposeUiState,j=r.getTimeZoneName,k=r.getComposeSessionsSelectors,x=r.isSelectedAccount,B=`${dh.a}_${s}`,V=i().isEnabled(C.Eb.PERSIST_COMPOSE_TEXT_MODE),W={from:Object(on.getFromAddress)(e),to:[],cc:[],bcc:[],subject:"",body:"",canApplyDefaultStationery:!0,stationeryTheme:"",attachmentsInfo:[],htmlAnnotations:[{divIds:[B]}],uiState:{useRichText:!V||i().getSetting(C.Kd.USE_RICH_TEXT),isQuotedTextExpanded:!1},undoStack:[],redoStack:[]},K=i("conversations"),q=v(W.from.email),Y=U(s);let z="";if(Y!==nS.NO_STATIONERY&&(W.stationeryTheme=Y),W.stationeryTheme||(W.stationeryTheme=i().getSetting(C.Kd.STATIONERY_DEFAULT_THEME)),q&&(z=`<div><br/></div><div><br/></div><div class="signature">${q}</div>`),!d(s))return z&&(W.body+=`<div>${z}</div>`),W;const Q=m(s),Z=O().getSubject,X=E(s);if(X)return W.from=X.from||W.from,W.to=X.to||W.to,W.cc=X.cc||W.cc,W.bcc=X.bcc||W.bcc,W.subject=X.subject||W.subject,W.body=X.html||(X.text?`<div>${hh()(X.text)}</div>`:W.body),W.canApplyDefaultStationery=!W.body,W.attachmentsInfo=X.attachmentsInfo||W.attachmentsInfo,W.uiState=X.uiState||W.uiState,W.stationeryTheme=X.stationeryTheme||W.stationeryTheme,W.undoStack=X.undoStack||W.undoStack,W.redoStack=X.redoStack||W.redoStack,Ah(s,W,r);if(Q){const n=R(Q)?F(Q):{},a=n.html,o=void 0===a?"":a,i=n.text,c=void 0===i?"":i,l=n.htmlAnnotations,d=void 0===l?[]:l,E=T(Q)||[];return W.from=Object(on.getFromAddress)(e,(E[0]||{}).email),W.to=A(Q),W.cc=I(Q),W.bcc=f(Q),W.subject=Object(Eh.g)(Z(Q,t)||""),W.body=o||`<div>${hh()(c)}</div>`,W.canApplyDefaultStationery=!W.body,W.htmlAnnotations=d,W.attachmentsInfo=P(Q),W.stationeryTheme=U(s)||W.stationeryTheme,W.undoStack=w(s)||[],W.redoStack=G(s)||[],W.uiState=H(s)||W.uiState,Ah(s,W,r)}if(_(s)){const e=c();return W.to=e.initialTo||[],W.cc=e.initialCc||[],W.bcc=e.initialBcc||[],W.subject=e.initialSubject||"",W.body=e.initialBody&&e.initialBody.content||"",W.canApplyDefaultStationery=!W.body,W.stationeryTheme=e.initialStationeryTheme||W.stationeryTheme,W.showGIFPicker=e.showGIFPicker,W.showStationeryPicker=e.showStationeryPicker,W}if(u(s)){const e=uh(p(s)||"");return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ch(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ch(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},W,{to:(e.to||[]).map(e=>({email:e})),cc:(e.cc||[]).map(e=>({email:e})),bcc:(e.bcc||[]).map(e=>({email:e})),subject:e.subject||"",body:e.body||"",canApplyDefaultStationery:!0})}const $=a.intl.formatMessage,J=S(s);if(J){const e=l().getSponsoredAd(J),t=e.nativeAd,s=void 0===t?{}:t,r=e.pencilAd;return W.subject=(void 0===r?{}:r).adHeadline||"",W.body=[`<div><br/></div>\n            <div><br/></div>\n            <div><br/></div>\n            <div style="${gh}">\n                <div>----- ${$(ph.a.forwarded_message)} -----</div>\n                <div><br/></div>\n                <div>${s.geminiSponsoredAsset||""}</div>\n            </div>`].join(""),W.body+=`<div>${z}</div>`,W.canApplyDefaultStationery=!1,W}Ah(s,W,r);const ee=g(s),te=Object.assign({timeZone:j()},nS.FORMAT_DATE_OPTION);if(ee){const r=N(s),o=M(s),c=y(s),l=[...b(ee)]||!1,d=T(ee)||[],E=Boolean(!!H(s)&&H(s).isQuotedTextExpanded);l.length&&!l.name&&d.length&&l[0].email===d[0].email&&(l[0].name=d[0].name);const _=A(ee),u=I(ee),p=f(ee);if(W.from=Object(on.getFromAddressForReplyForward)(e,{to:_,cc:u,bcc:p}),r||o){const e=-1!==d.findIndex(e=>L(e.email)),t=-1!==l.findIndex(e=>L(e.email));if(r){const s=-1!==d.findIndex(e=>x(e.email));W.to=e&&(!l.length||t&&s)?_.slice(0,1):[...l,...d].slice(0,1)}else if(o){const s=-1!==_.findIndex(e=>L(e.email)),r=(e||t)&&s?[...l,...d].find(e=>L(e.email)):[];W.to=Th([..._,...t?[]:l,...l.length||e?[]:d].filter(e=>e.email!==W.from.email).concat(r)),W.cc=Th([...u].filter(e=>e.email!==W.from.email).filter(e=>!W.to.find(t=>t.email===e.email)))}}const m=Object(Eh.g)(Z(ee,t)||"");if(m){const e=h(s)?"Re: ":"Fw: ";W.subject=e+m.replace(Oh,"")}const S=a.intl.formatDate(1e3*D(ee),te),g=F(ee).html,O=void 0===g?"":g,R=[];if(d.length)if(K&&h(s)){const e=d[0],t=e.name,s=void 0===t?"":t,r=e.email;R.push(`<div>\n                    ${Object(_h.b)($(ph.a.quoted_draft,{date:S,quotedName:s,quotedAddress:r}))}\n                </div>\n                <div><br/></div>\n                <div><br/></div>`)}else R.push(`<div>${$(ph.a.quoted_message_from,{from:Object(_h.b)(Object(on.addressHTMLString)(d[0]))})}</div>`),_.length&&R.push(`<div>${$(ph.a.quoted_message_to,{to:Object(_h.b)(_.map(on.addressHTMLString).join("; "))})}</div>`),u.length&&R.push(`<div>${$(ph.a.quoted_message_cc,{cc:Object(_h.b)(u.map(on.addressHTMLString).join("; "))})}</div>`),R.push(`<div>${$(ph.a.quoted_message_sentdate,{sentDate:S})}</div>`,`<div>${$(ph.a.quoted_message_subject,{subject:hh()(m)})}</div>`,"<div><br/></div>");const v=h(s)?"":`<div>----- ${$(ph.a.forwarded_message)} -----</div>`,U=K?"":"<hr/>";let w=O;return i().isEnabled(C.Eb.CEP_FORWARD)&&c&&!E&&-1===O.indexOf(`<div fwdid=${s} src='mid://${ee}'>`)&&(w=[`<div fwdid=${s} src='mid://${ee}'>`,O,"</div>"].join("")),W.body=[n?`<div>${n}&nbsp;</div>`:"",`<div>${z}</div>\n        <div><br/></div><div><br/></div>\n        ${U}\n        <div id="${Object(_h.a)(B)}" class="${dh.a}">\n            <div style="${gh}">\n                ${v}\n                ${R.join("")}\n                <div>${w}</div>\n            </div>\n        </div>`].join(""),W.canApplyDefaultStationery=!0,W.attachmentsInfo=h(s)?[]:P(ee),W}const se=k().getComposeParams(s);return se&&(W.to=se.to||[],W.body=se.body||W.body,W.subject=se.subject||W.subject,W.isDirty=!0,W.feedbackImgs=se.feedbackImgs||[],W.feedbackFiles=se.feedbackFiles||[]),z&&(W.body+=`<div>${z}</div>`),W.stationeryTheme&&Y!==nS.NO_STATIONERY&&(W.showStationeryPicker=!0),W};var fh=({accounts:e=[],listId:t,csid:s,selectors:r,selectedReplySuggestion:n})=>a=>{const o=Ih({accounts:e,listId:t,csid:s,selectors:r,selectedReplySuggestion:n},a);return Object(I.c)()&&(o.body=o.uiState.useRichText?Object(mh.d)(o.body,r):Object(mh.a)(o.body)),o},Dh=s(603),Rh=s(237),bh=s(377),Nh=s(81);function Mh(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function yh(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Mh(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Mh(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Lh=C.vb.Status,Ph=C.U.Modes,vh=C.F.Dispositions,Fh={[sc.COMPOSE_NO_ADDRESS_DETECTED]:kc,[sc.COMPOSE_ADDRESSING_FAILED]:Bc,[sc.COMPOSE_RECIPIENT_LIMIT_EXCEEDED]:xc},Uh=()=>{},wh=Ti()(oh.a),Gh={_data:{},get(e){return this._data[e]||{}},set(e,t={}){this._data[e]||(this._data[e]={}),Object.assign(this._data[e],t)}};class Hh extends Ko.a.Component{constructor(e,t){super(e,t),o()(this,"restoreCursorPosition",(e=!1)=>{const t=Gh.get(this.props.csid).cursorPositionDetails,s=t&&t.pathToNode||[],r=t&&t.anchorNodeIndex;if(s.length&&r>-1){let n=null;if(t&&t.cursorWithinQuotedText||!1){if(e){const e=Object(Zo.findDOMNode)(this.refs.editorContainer).querySelector("[class$=yahoo_quoted]");n=rh.a.getNodeFromPath(e,s)}}else n=rh.a.getNodeFromPath(this.refs.editor.getRTEWrappedElement()||this.refs.editor.getRTEDOMNode(),s);if(n&&rh.a.isValidStartOffsetForNode(n,r)){n.parentNode.scrollIntoView();const e=document.createRange(),t=window.getSelection();return e.setStart(n,r),e.collapse(!0),t.removeAllRanges(),void t.addRange(e)}}}),o()(this,"_updateWidth",()=>{const e=Object(Zo.findDOMNode)(this.container),t=e&&e.getBoundingClientRect();t&&this.setState({composeWidth:t.width,composeLeft:t.left})}),o()(this,"_restoreScrollPosition",e=>{Object(Zo.findDOMNode)(this.refs.editorContainer).scrollTop=e}),o()(this,"_handleWindowResize",()=>{this._updateWidth(),this.props.onResize()}),o()(this,"onChange",(e,t={})=>{t.type&&Object(Dh.a)(t),t.skipContentChanged||(this.lastEditedTimeStamp=Date.now(),this.props.onChange(yh({},e,{lastEditedTimeStamp:this.lastEditedTimeStamp}),t),this.newContentIds=[])}),o()(this,"handleHeaderChange",e=>{const t=e.to,s=e.cc,r=e.bcc,n=e.subject;this.from=e.from,this.to=t,this.cc=s,this.bcc=r,this.subject=n,this.onChange(this._getUserInputtedValues(),{type:"header_changed"})}),o()(this,"getUnsyncedData",()=>({type:C.Ce.COMPOSE,id:this.props.csid,userInputtedValues:this._getUserInputtedValues()})),o()(this,"handleEditSubject",()=>{this.cursorAnchorNode=null,this.cursorAnchorNodeIndex=null,this.lastEditedTimeStamp=Date.now(),this.context.navigateTo({route:Object(Ui.f)(this.props.csid),isReplyingMessageSubjectEdited:!0})}),o()(this,"handleEditorContentChange",e=>{const t=e.format,s=e.caret,r=e.type;Object(f.f)(this.formatState,t)||(this.formatState=yh({},this.formatState,{},t)),this.onChange(this._getUserInputtedValues(),e),this.props.onContentChanged({caret:s,type:r})}),o()(this,"_getUserInputtedValues",()=>{const e=this.refs.editor.getUndoStack(),t=this.refs.editor.getRedoStack();return{csid:this.props.csid,from:this.from,to:this.to,cc:this.cc,bcc:this.bcc,subject:this.subject,html:this.refs.editor.getRawMessageContent(),htmlAnnotations:this.htmlAnnotations,attachmentsInfo:this.attachmentsInfo,rawFiles:this.rawFiles,newContentIds:this.newContentIds,lastEditedTimeStamp:this.lastEditedTimeStamp,uiState:this.uiState,stationeryTheme:this.stationeryTheme||nS.NO_STATIONERY,undoStack:e,redoStack:t}}),o()(this,"deleteDraft",()=>{const e=(0,this.props.getAdditionalPayloadForDeleteDraft)(),t=this.getDraftStatus();this.context.executeAction(eh.b,Object.assign({listId:this.props.listId,csid:this.props.csid,draftStatus:t,permanent:!0,i13nModel:{mKey:Ii.g.DELETE_DRAFT,sec:Ii.i.COMPOSE_TOOLBAR,interactionType:Ii.e.click,mKeyGroup:Ii.h.deleteMsg}},e))}),o()(this,"send",(e={})=>{const t=e.i13nModel,s=e.forcedSend,r=void 0!==s&&s,n=e.includeOriginalAttachments,a=void 0!==n&&n,o=this.props,i=o.getSavedAttachment,c=this.context.intl.locale,l=(0,o.getOriginalAttachments)(o.csid),d=this._getUserInputtedValues(),E=this.props.getDraftErrors(d),_=this.attachmentsInfo.map(e=>i(e));if(E){const e=E.name,t=E.params;return void(Fh[e]&&this.context.toast({data:t,role:C.Pc.STATUS,message:Fh[e]}))}if(!r&&this.props.shouldShowEmptySubjectAlert(d))return void Object(lh.a)(Ko.a.createElement(KS.a,{title:this.context.intl.formatMessage(ph.a.emptySubjectAlert),primaryButtonLabel:ph.a.emptySubjectAlertSend,secondaryButtonLabel:ph.a.emptySubjectAlertCancel,onPrimaryButtonClick:()=>this.send({forcedSend:!0}),onSecondaryButtonClick:()=>this.focusOnSubject(),onClose:()=>this.focusOnSubject(),hideIcon:!0}),this.context);if(!r&&this.props.shouldShowIncludeOriginalAttachmentsAlert(d))return void Object(lh.a)(Ko.a.createElement(KS.a,{title:this.context.intl.formatMessage(ph.a.includeOriginalAttachmentsAlert),message:this.context.intl.formatMessage(ph.a.includeOriginalAttachmentsAlertMsg),primaryButtonLabel:ph.a.includeOriginalAttachmentsAlertYes,secondaryButtonLabel:ph.a.includeOriginalAttachmentsAlertNo,onPrimaryButtonClick:()=>{this.attachmentsInfo=l.concat(this.attachmentsInfo),this.onChange(this._getUserInputtedValues()),this.send({forcedSend:!0,includeOriginalAttachments:!0})},onSecondaryButtonClick:()=>this.send({forcedSend:!0,includeOriginalAttachments:!1}),onClose:()=>{},hideIcon:!0,dataTestId:"include-original-attachment"}),this.context);if(_.filter(({filename:e})=>!Object(cn.p)(e)).length)return Object(lh.a)(Ko.a.createElement(WS.a,{title:this.context.intl.formatMessage(ph.a.error_title),message:this.unSupportedAttachmentAlertMessage(),helpLink:Object(C.Oe)(c),onAccept:()=>{},onClose:()=>{}}),this.context);(()=>{this.props.onSend(yh({includeOriginalAttachments:a},d,{i13nModel:yh({mKey:Ii.g.SEND,sec:Ii.i.COMPOSE_TOOLBAR,mKeyGroup:Ii.h.send},t)}))})()}),o()(this,"unSupportedAttachmentAlertMessage",()=>{const e=this.context.intl,t=e.locale,s=(0,e.formatMessage)(ph.a.unsupportedFileType);return Ko.a.createElement("div",null,s,Ko.a.createElement(mi.a,{kind:Si.a.CHROMELESS,"data-test-id":"compose_learn_more_btn",onClick:()=>Object(Gc.a)(Object(C.Oe)(t))},Ko.a.createElement("span",{className:wh.button},Ko.a.createElement($o.FormattedMessage,{id:"alert.learn_more_url",defaultMessage:"Learn more"}))))}),o()(this,"getThemeConfig",()=>Object(bh.b)(this.stationeryTheme,this.props.stationeryDefaultTheme)),o()(this,"execEditorCommand",(e,t)=>{switch(e){case nS.ToolbarActions.PLAIN_TEXT:this.stationeryTheme=nS.NO_STATIONERY,this.execEditorCommand(nS.ToolbarActions.UPDATE_STATIONERY,null),this.refs.editor.expandQuote(),this.uiState.useRichText=!1,this.forceUpdate();break;case nS.ToolbarActions.RICH_TEXT:this.uiState.useRichText=!0;break;case nS.ToolbarActions.UPDATE_STATIONERY:this.stationeryTheme=t?t.themeName:nS.NO_STATIONERY;break;case nS.ToolbarActions.FONT_NAME:this.formatState=yh({},this.formatState,{fontFamily:t});break;case nS.ToolbarActions.FONT_SIZE:this.formatState=yh({},this.formatState,{fontSize:t})}const s=document.activeElement;if(this.refs.editor.rte.focus(),this.refs.editor.rte.pushButton(e,t),e===nS.ToolbarActions.INSERT_ORDERED_LIST){const e=window.getSelection().focusNode;if(e&&"FONT"===e.nodeName&&e.parentNode&&"LI"===e.parentNode.nodeName){const t=window.getComputedStyle(e).fontFamily,s=window.getComputedStyle(e).fontSize;e.parentNode.style.fontFamily=t,e.parentNode.style.fontSize=s}if(e&&e.parentNode&&"LI"===e.parentNode.nodeName){const t=e.parentNode;window.getComputedStyle(t).fontSize===Nh.c.HUGE&&t.parentNode&&"OL"===t.parentNode.nodeName&&(t.parentNode.style.paddingLeft="1em")}}e===nS.ToolbarActions.UPDATE_STATIONERY&&this.refs.editor.rte.focus(),s.focus()}),o()(this,"handleToolbarAction",(e,t={})=>{const s=t.data,r=t.i13nModel;switch(r&&this.props.handleToolbarActions({i13nModel:r}),e){case nS.ToolbarActions.FILE_SELECT:this.addFileAttachments(s);break;case nS.ToolbarActions.FILE_SELECT_BTN_CLICKED:break;case nS.ToolbarActions.SEND:this.send();break;case nS.ToolbarActions.DELETE_DRAFT:this.deleteDraft();break;case nS.ToolbarActions.CREATE_LINK:this.execEditorCommand(e,"");break;case nS.ToolbarActions.PLAIN_TEXT:return void this._renderPlainTextWarning();case nS.ToolbarActions.RICH_TEXT:return void this._switchToRichText(s);default:this.execEditorCommand(e,s)}}),o()(this,"_renderPlainTextWarning",()=>{const e=this.context.intl.formatMessage;Object(lh.a)(Ko.a.createElement(KS.a,{title:e(ph.a.switch_to_plain_text_warning_title),message:e(ph.a.switch_to_plain_text_message),primaryButtonLabel:ph.a.switch_to_plain_text_warning_ok,secondaryButtonLabel:ph.a.switch_to_plain_text_warning_cancel,onPrimaryButtonClick:()=>this._switchToPlainText(),onSecondaryButtonClick:Uh,onClose:Uh,hideIcon:!0}),this.context)}),o()(this,"_renderLargeAttachmentDialog",()=>{const e=this.props.cloudStorageEnabled,t=this.context.intl.formatMessage(e?ph.a.bigAttachmentSupport:ph.a.bigAttachment,{maxFileSize:25});Object(lh.a)(e?Ko.a.createElement($S,{message:t,onPrimaryButtonClick:()=>this.openAttachFilesPopover(C.eb.GDRIVE),onSecondaryButtonClick:()=>this.openAttachFilesPopover(C.eb.DROPBOX),onClose:Uh}):Ko.a.createElement(WS.a,{title:this.context.intl.formatMessage(ph.a.error_title),message:t,onAccept:Uh,onClose:Uh}),this.context)}),o()(this,"_switchToRichText",e=>{this.props.changeSettings({name:C.Kd.USE_RICH_TEXT,value:!0}),this.execEditorCommand(nS.ToolbarActions.RICH_TEXT,e)}),o()(this,"_switchToPlainText",()=>{this.props.changeSettings({name:C.Kd.USE_RICH_TEXT,value:!1}),this.execEditorCommand(nS.ToolbarActions.PLAIN_TEXT)}),o()(this,"_handleStationeryDefaultThemeChange",e=>{this.props.changeSettings({name:C.Kd.STATIONERY_DEFAULT_THEME,value:e}),""===e&&(this.stationeryTheme=nS.NO_STATIONERY)}),o()(this,"handleClose",()=>{this.props.onClose&&this.props.onClose({i13nModel:{mKey:Ii.g.CANCEL_COMPOSE,sec:Ii.i.COMPOSE_CLOSE,interactionType:Ii.e.click}})}),o()(this,"handleDrop",e=>{const t=C.F.Dispositions,s=t.ATTACHMENT,r=t.INLINE,n={[s]:[],[r]:[]};e.forEach(e=>n[Object(on.getAttachmentDisposition)(e)].push(e)),n[s].length&&this.addFileAttachments(n[s]),n[r].length&&this.addInlineAttachments(n[r])}),o()(this,"openAttachFilesPopover",e=>{if(this.refs.toolbar&&this.refs.toolbar.getWrappedInstance()){const t=this.refs.toolbar.getWrappedInstance().uploader;if(t&&t.getWrappedInstance())return void t.getWrappedInstance().handleOpenPopover(e)}}),o()(this,"addAttachments",(e,t,{disposition:s,i13nModel:r})=>{if(!this.isValidAttachmentsSize(e))return this.props.addBigAttachment(),this._renderLargeAttachmentDialog();const n=e.map(s===vh.ATTACHMENT?cn.b:cn.a);n.filter(({disposition:e,isFromDataURI:t=!1})=>e===vh.INLINE&&!t).forEach(e=>this.insertInlineAttachment(e)),this.newContentIds=n.map(e=>e.contentId),this.attachmentsInfo=this.attachmentsInfo.concat(n),this.rawFiles=this.newContentIds.reduce((t,s,r)=>yh({},t,{[s]:e[r]}),this.rawFiles),this.onChange(yh({},this._getUserInputtedValues(),{files:e,i13nModel:Object.assign({interactionType:Ii.e.click},r)}),{type:t,skipContentChanged:"addInlineAttachment"===t})}),o()(this,"addInlineAttachments",e=>{this.uiState.useRichText?this.addAttachments(e,"addInlineAttachment",{disposition:vh.INLINE,i13nModel:{mKey:Ii.g.COMPOSE_DRAG_ATTACHMENT,sec:Ii.i.COMPOSE_MSG}}):this.addFileAttachments(e)}),o()(this,"isValidAttachmentsSize",e=>{const t=e.concat(this.attachmentsInfo);return this.getAttachmentSize(t)<=26214400}),o()(this,"handleAttachmentFromRecentFiles",e=>{if(!e)return;if(this.attachmentsInfo.some(({id:t})=>t===e.id))return void this.context.toast({role:C.Pc.STATUS,message:jc});const t=e;return this.isValidAttachmentsSize([t])?t.disposition===vh.INLINE?(this.insertInlineAttachment(t),void(this.attachmentsInfo=this.attachmentsInfo.concat(t))):(this.attachmentsInfo=this.attachmentsInfo.concat(t),this.onChange(yh({},this._getUserInputtedValues(),{files:[t],i13nModel:{mKey:Ii.g.COMPOSE_ADD_ATTACHMENT,sec:Ii.i.COMPOSE_ATTACH_FILES_MENU,interactionType:Ii.e.click}}),{type:"addAttachmentFromRecentFile"}),this.forceUpdate(),void setTimeout(()=>{const e=Object(Zo.findDOMNode)(this._attachmentTray);return e&&e.scrollIntoView()},0)):(this.props.addBigAttachment(),this._renderLargeAttachmentDialog())}),o()(this,"getAttachmentSize",e=>e.length?e.reduce((e,{size:t=0})=>e+t,0):0),o()(this,"moveImageAttachmentInline",e=>{this.attachmentsInfo=this.attachmentsInfo.map(t=>t.contentId===e.contentId?yh({},t,{disposition:vh.INLINE}):t),this.insertInlineAttachment(e),this.onChange(this._getUserInputtedValues(),{type:"attachment_to_inline"}),this.forceUpdate()}),o()(this,"addFileAttachments",e=>{this.addAttachments(e,"addAttachment",{disposition:vh.ATTACHMENT,i13nModel:{mKey:Ii.g.COMPOSE_ADD_ATTACHMENT,sec:Ii.i.COMPOSE_TOOLBAR}}),setTimeout(()=>{const e=Object(Zo.findDOMNode)(this._attachmentTray);return e&&e.scrollIntoView()},0)}),o()(this,"handleAttachmentRemoval",e=>{this.attachmentsInfo=this.attachmentsInfo.filter(({contentId:t})=>t!==e.contentId),this.onChange(yh({},this._getUserInputtedValues(),{removedContentIds:[e.contentId]}),{type:"attachment_removed"})}),o()(this,"handleInlineAttachmentRemoval",e=>{this.attachmentsInfo=this.attachmentsInfo.filter(({contentId:t,disposition:s})=>!(t===e&&s===vh.INLINE)),this.onChange(yh({},this._getUserInputtedValues(),{removedContentIds:[e]}),{type:nS.EDITOR_EVENTS.inline_image_removed})}),o()(this,"moveInlineAttachmentToTray",(e,t)=>{this.attachmentsInfo=this.attachmentsInfo.map(e=>e.contentId===t?yh({},e,{disposition:vh.ATTACHMENT}):e),this.onChange(this._getUserInputtedValues(),{type:"inlined_attachment_to_tray"})}),o()(this,"handleAttachmentTray",e=>{const t=document.createElement("input");t.type="file",t.multiple=!0,t.id="inputFile",t.click(),t.addEventListener("change",t=>{const s=Array.prototype.slice.call(t.target.files);this.handleAttachmentTrayAdd(s,e)})}),o()(this,"handleAttachmentTrayAdd",(e,t)=>{this.context.executeAction(sh,{files:e,csid:t,i13nModel:{mKey:Ii.g.COMPOSE_ADD_ATTACHMENT,sec:Ii.i.COMPOSE_TOOLBAR,interactionType:Ii.e.shortcut}})}),o()(this,"getDraftStatus",()=>{if(this.lastEditedTimeStamp)return this.props.getDraftStatus(this._getUserInputtedValues())}),o()(this,"renderEmojiPreloader",()=>Ko.a.createElement(Mi.a,{bundleName:"lazy_group2",import:"../emoji_picker/emoji_preloader",_moduleLoader:function(){return Promise.all([s.e(0),s.e(5)]).then(s.bind(null,1306))},_moduleResolver:function(){return 1306}})),o()(this,"onMoreMenuClick",()=>{this.props.onMoreMenuClick({i13nModel:{mKey:Ii.g.COMPOSE_OPEN_MORE_MENU,sec:Ii.i.RTE_TOOLBAR}})}),o()(this,"handleShortcuts",e=>{e.preventDefault(),e.stopPropagation();const t="Unidentified"===e.key?String.fromCharCode(e.which):e.key,s=e.metaKey||e.ctrlKey;if(s&&e.keyCode===Fi.b.ENTER)this.send({i13nModel:{interactionType:Ii.e.shortcut}});else if(s&&"S"===t.toUpperCase())this.context.executeAction(Li.f,{forceSync:!0,i13nModel:{mKey:Ii.g.MANUAL_SAVE_DRAFT,sec:Ii.i.COMPOSE_MSG}});else if(e.keyCode===Fi.b.ESCAPE){if(this._autotag&&this._autotag.isContactSuggestionVisible())return void this._autotag._closeAutotag();if(this.refs.toolbar&&this.refs.toolbar.getWrappedInstance()){const e=this.refs.toolbar.getWrappedInstance().emojiPicker;if(e&&e.state.popoverOpen)return void e.closePicker()}this.props.isQuickReply||this.handleClose()}}),o()(this,"focusOnEditor",()=>{this.refs.editor.rte.focus()}),o()(this,"focusOnSubject",()=>{this.header.focus(nS.FocusableRefs.SUBJECT)}),o()(this,"onGifClick",e=>{const t=this.refs.editor,s=(void 0===t?{}:t).rte;s&&rh.a.insertGif(s,this.context.intl.formatMessage,e)}),o()(this,"addEmoji",e=>{const t=this.refs.editor,s=(void 0===t?{}:t).rte;s&&rh.a.insertEmoji(s,this.context.intl.formatMessage,e)}),o()(this,"insertInlineAttachment",e=>{const t=this.refs.editor,s=(void 0===t?{}:t).rte;s&&rh.a.insertInlineAttachment(s,this.context.intl.formatMessage,e)}),o()(this,"insertLink",e=>{const t=this.refs.editor,s=(void 0===t?{}:t).rte;s&&rh.a.insertLink(s,e)}),o()(this,"getAttachments",()=>{const e=this.props.getSavedAttachment;return this.attachmentsInfo.map(t=>e(t))}),o()(this,"previewAttachment",(e,t,s,r=!1)=>{if(!e)return;const n=this.props,a=n.routeName,o=n.draftFolderId,i=n.isFreshCompose,c=n.previewPaneSetting,l=n.routeQuery,d=n.csid,E=(0,n.getComposeMessageGroupId)()||s;if(!E)return;const _=Object(Hi.y)(o),u=i&&a!==C.rd.SEARCH||!Object(Hi.ab)(this.props.listId)?_:this.props.listId,p=l.messagePreview||c!==C.ed.NO&&-1!==[C.rd.FOLDER,C.rd.BASE,C.rd.SEARCH].indexOf(a),m=Object.assign({},a===C.rd.NEW_DRAFT?{newCompose:"1"}:null,p?{messagePreview:"1"}:null,r?{fullscreen:"1"}:null),S=Object(Ui.d)(u,E,e,m,r?d:null);this.context.navigateTo({route:S,i13nModel:{mKey:Ii.g.OPEN_DOC_PREVIEW,sec:r?Ii.i.COMPOSE_ATTACH_FILES_MENU:Ii.i.ATTM_PREVIEW,interactionType:t}})}),o()(this,"addInlineContactSuggestionToCcField",e=>{let t=nS.FocusableRefs.TO;this.props.isFreshCompose||(this.header.toggleCcBcc(!0),t=nS.FocusableRefs.CC),this.header.handleContactAdd(t,e)}),o()(this,"handleEditorFocus",()=>{this.header&&this.header.hideEmailHoverCards(!0)}),o()(this,"handleEditorBlur",()=>{this.cursorAnchorNode=window.getSelection().anchorNode;const e=rh.a.getSelectionRange();this.cursorAnchorNodeIndex=e&&e.startOffset}),o()(this,"moveCursorToSmartReplyLine",()=>{const e=Object(Zo.findDOMNode)(this.refs.editorContainer),t=e?e.querySelector("[class$=yahoo-style-wrap]"):null;if(t)for(const e of t.childNodes)if(e&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE){const t=document.createRange(),s=window.getSelection();t.setStart(e.firstChild,e.firstChild.length),t.collapse(!0),s.removeAllRanges(),s.addRange(t);break}}),o()(this,"_updateToolbarState",e=>{const t=this.refs.toolbar;t&&t.getWrappedInstance().updateState(e)});const r=e.composeFontSize,n=e.composeFontFamily,a=e.isQuotedTextExpanded,i=e.attachmentsToForward,c=e.isPersistComposeTextModeEnabled,l=e.isRichTextModeEnabled,d=e.getContent(t),E=d.to,_=d.cc,u=d.bcc,p=d.subject,m=void 0===p?"":p,S=d.body,h=void 0===S?"":S,g=d.canApplyDefaultStationery,O=void 0!==g&&g,T=d.htmlAnnotations,A=void 0===T?[]:T,I=d.attachmentsInfo,D=void 0===I?[]:I,R=d.stationeryTheme,b=void 0===R?"":R,N=d.showGIFPicker,M=void 0!==N&&N,y=d.showStationeryPicker,L=void 0!==y&&y,P=d.uiState,v=void 0===P?{useRichText:!c||l,isQuotedTextExpanded:a}:P,F=d.undoStack,U=void 0===F?[]:F,w=d.redoStack,G=void 0===w?[]:w,H=d.forwardAttachmentAdded,j=void 0!==H&&H,k=d.isDirty,x=void 0!==k&&k,B=d.feedbackImgs,V=void 0===B?[]:B,W=d.feedbackFiles,K=void 0===W?[]:W,q=e=>e.name?e:yh({},e,{name:e.email});this.from=d.from,this.to=E.map(q),this.cc=_.map(q),this.bcc=u.map(q),this.subject=m,this.content=h,this.forwardAttachmentAdded=j,this.canApplyDefaultStationery=!i.length&&O,this.htmlAnnotations=A,this.attachmentsInfo=D.concat(i.map(({attachment:e})=>e)).concat(V),this.rawFiles={},this.newContentIds=[],this.isDirty=x,this.forwardAttachments=i,this.stationeryTheme=b,this.showGIFPicker=M,this.showStationeryPicker=L,this.formatState={foreColor:Mm.a.DEFAULTS.FG_COLOR,backgroundColor:Mm.a.DEFAULTS.BG_COLOR,fontSize:r||"0",fontFamily:n||""},this.uiState=v,this.undoStack=U,this.redoStack=G,this.cursorAnchorNode=null,this.cursorAnchorNodeIndex=null,this.feedbackImgs=V,this.feedbackFiles=K,this.uiState.useRichText||(this.content=Object(nh.formatPlaintextForDisplay)(this.content)),this.state={imgHoverMenuVisible:!1,composeWidth:null,composeLeft:null,unsupportedFileTypeAlert:!1}}componentDidMount(){const e=this.props,t=e.csid,s=e.isSendFailed,r=e.attachmentsToForward,n=e.onAttachmentForwarded,a=Gh.get(t).scrollPosition;(s(t)||this.forwardAttachmentAdded||this.isDirty)&&(this.lastEditedTimeStamp=Date.now()),this.mousetrap=this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts,this.container),void 0!==a&&this._restoreScrollPosition(a),this._updateWidth(),this._handleWindowResize=ch()(this._handleWindowResize,40),window.addEventListener("resize",this._handleWindowResize),r.length&&(r.forEach(({attachment:e})=>this.insertInlineAttachment(e)),n(t)),this.feedbackImgs.length&&(this.newContentIds=this.feedbackImgs.map(e=>e.contentId),this.rawFiles=this.newContentIds.reduce((e,t,s)=>yh({},e,{[t]:this.feedbackFiles[s]}),this.rawFiles)),this.props.replySuggestion&&this.moveCursorToSmartReplyLine(),this.restoreCursorPosition(!1)}componentDidUpdate(e){e.hasAttachmentPreview!==this.props.hasAttachmentPreview&&this._handleWindowResize(),e.widthChanged!==this.props.widthChanged&&this._updateWidth(),e.composeFontFamily===this.props.composeFontFamily&&e.composeFontSize===this.props.composeFontSize||(this.formatState=yh({},this.formatState,{fontSize:this.props.composeFontSize||"0",fontFamily:this.props.composeFontFamily||""})),e.replySuggestion!==this.props.replySuggestion&&this.moveCursorToSmartReplyLine();const t=this.getDraftStatus();this.props.csid===e.csid&&t===Lh.SENT&&this.props.onSendSuccess&&this.props.onSendSuccess()}componentWillUnmount(){const e=Object(Zo.findDOMNode)(this.refs.editorContainer),t=e.scrollTop,s=this.refs.editor.getRTEDOMNode();let r=[],n=!1;if(s.contains(this.cursorAnchorNode)){const t=e.querySelector("[class$=yahoo_quoted]");t&&t.contains(this.cursorAnchorNode)?(r=rh.a.getPathToNode(t,this.cursorAnchorNode,this.uiState.useRichText),n=!0):r=rh.a.getPathToNode(this.refs.editor.getRTEWrappedElement()||s,this.cursorAnchorNode,this.uiState.useRichText)}this.context.unbindShortcut(this.props.listenKeys,this.mousetrap),Gh.set(this.props.csid,{scrollPosition:t,cursorPositionDetails:{pathToNode:r,anchorNodeIndex:this.cursorAnchorNodeIndex,cursorWithinQuotedText:n}}),clearInterval(this.saveInterval),window.removeEventListener("resize",this._handleWindowResize)}render(){const e=this.props,t=e.accounts,s=e.getComposeFieldToFocus,r=e.composeFontFamily,n=e.composeFontSize,a=e.conversations,o=e.csid,i=e.gif,c=e.isBccDisabled,l=e.canEditSubject,d=e.isQuotedTextExpanded,E=e.onExpandQuotedText,_=e.linkEnhancer,u=e.linkEnhancerUrlBlocklist,p=e.enhancedLinks,m=e.preloadEmoji,S=e.refToComposeContainer,h=e.refToComposeHeader,C=e.showCloseButton,g=e.showEmojiCue,O=e.showFrom,T=e.showStationeryCue,A=e.showSubject,I=e.simpleCompose,f=e.stationery,D=e.stationeryDefaultTheme,R=e.stationeryRestrictedThemes,b=e.toolbarFixed,N=e.uploadEnabled,M=e.cepForward,y=e.isFreshCompose,L=e.composeMode,P=e.addRecipient,v=e.dragDropContact,F=e.composeParams,U=e.onComposeHeaderDelete,w=e.inputFocus,G=e.updateComposeHeaderFocus,H=this.getDraftStatus(),j=this.props.lastSavedTime||0,k=this.context.intl.formatMessage,x=M?d||L!==Ph.FORWARD&&!a:L===Ph.FORWARD||!a,B=H!==Lh.SENDING,V=this.to,W=this.cc,K=s(o),q=this.attachmentsInfo,Y=Gh.get(o).cursorPositionDetails,z=Y&&Y.cursorWithinQuotedText||!1;return Ko.a.createElement(Rh.a,{getUnsyncedData:this.getUnsyncedData},Ko.a.createElement("div",{"data-test-id":"compose",role:"main","aria-label":k(ph.a.compose_view),ref:e=>{this.container=e,S(e)},className:wh.compose},m?this.renderEmojiPreloader():null,Ko.a.createElement(GS,{addInlineContactSuggestionToCcField:this.addInlineContactSuggestionToCcField,editorReference:this.refs.editor,csid:this.props.csid,containerRef:this.container,ref:e=>{e&&(this._autotag=e.getWrappedInstance())}}),Ko.a.createElement(AS,{ref:e=>{this.header=e,h(e)},composeMode:L,onChange:this.handleHeaderChange,onEditSubject:this.handleEditSubject,onClose:this.handleClose,showSubject:A,showFrom:O,showCloseButton:C,from:this.from,composeParams:F,to:V,cc:W,bcc:this.bcc,subject:this.subject,csid:o,accounts:t,initialFocus:K,isBccDisabled:c,canEditSubject:l,addRecipient:P,dragDropContact:v,onComposeHeaderDelete:U,inputFocus:w,updateComposeHeaderFocus:G}),Ko.a.createElement(xS,{onDrop:this.handleDrop},Ko.a.createElement("div",{className:wh.editorContainer,ref:"editorContainer","data-test-id":"compose-editor-container"},Ko.a.createElement(IS.a,{updateToolbarState:this._updateToolbarState,onFocus:this.handleEditorFocus,restoreCursorPosition:this.restoreCursorPosition,ariaLabel:k(ph.a.message_body),autoExpandQuotedText:x,onExpandQuotedText:E,cepForward:M,getAttachments:this.getAttachments,composeFontFamily:r,composeFontSize:n,content:this.content,canApplyDefaultStationery:this.canApplyDefaultStationery,contentEditable:B,csid:o,cursorWithinQuotedText:z,htmlAnnotations:this.htmlAnnotations,initialFocus:K===nS.FocusableRefs.EDITOR,linkEnhancer:_,linkEnhancerUrlBlocklist:u,enhancedLinks:p,onAttachmentShortcut:this.handleAttachmentTray,onContentChange:this.handleEditorContentChange,onImagePaste:this.addInlineAttachments,onImageRemove:this.handleInlineAttachmentRemoval,onKeyDown:this.handleEditorFocus,onSendAsAttachment:this.moveInlineAttachmentToTray,onStationeryDefaultThemeChange:this._handleStationeryDefaultThemeChange,onStationeryThemeChange:this.handleToolbarAction.bind(this,nS.ToolbarActions.UPDATE_STATIONERY),ref:nS.FocusableRefs.EDITOR,scrollableAreaRef:this.refs.editorContainer,stationery:f,getThemeConfig:this.getThemeConfig,undoStack:this.undoStack,redoStack:this.redoStack,linkEnhancerFetch:this.props.linkEnhancerFetch,onLinkEnhancerlinkRemoved:this.props.onLinkEnhancerlinkRemoved,onLinkEnhancerlinkMoveToInline:this.props.onLinkEnhancerlinkMoveToInline,onLinkEnhancerlinkAdded:this.props.onLinkEnhancerlinkAdded,onLinkEnhancerlinkResized:this.props.onLinkEnhancerlinkResized,onLinkEnhancerlinkMoveToBottom:this.props.onLinkEnhancerlinkMoveToBottom,selectedReplySuggestion:this.props.replySuggestion,isRichTextMode:this.uiState.useRichText,onBlur:this.handleEditorBlur,fixImgSrcURL:this.props.fixImgSrcURL}),q.length?Ko.a.createElement(VS.a,{ref:e=>this._attachmentTray=e,onAttachmentRemove:this.handleAttachmentRemoval,onAttachmentPreview:this.previewAttachment,readOnly:!1,allowDownload:!0,onSendAsInlineImage:this.moveImageAttachmentInline,richTextMode:this.uiState.useRichText,getAttachments:this.getAttachments,csid:o}):null),Ko.a.createElement(BS.a,{getDraftStatus:this.getDraftStatus,useRichText:this.uiState.useRichText,ref:"toolbar",showDeleteButton:!I,lastDraftSavedTime:j,formatState:this.formatState,onExecuteAction:this.handleToolbarAction,uploadEnabled:N,focusOnEditor:this.focusOnEditor,fixed:b,width:this.state.composeWidth,left:this.state.composeLeft,showStationeryCue:T&&L===Ph.NEW,showEmojiCue:g&&L===Ph.NEW,isFreshCompose:y,stationeryDefaultTheme:D,stationeryTheme:this.stationeryTheme,stationeryEnabled:f,gifFinderEnabled:i,csid:o,addEmoji:this.addEmoji,insertLink:this.insertLink,onMoreMenuClick:this.onMoreMenuClick,stationeryRestrictedThemes:R,onGifClick:this.onGifClick,showGIFPicker:this.showGIFPicker,showStationeryPicker:this.showStationeryPicker,handleAttachmentFromRecentFiles:this.handleAttachmentFromRecentFiles,previewAttachment:this.previewAttachment}))))}}o()(Hh,"contextTypes",{executeAction:Vo.a.func,intl:$o.intlShape.isRequired,config:Vo.a.object,navigateTo:Vo.a.func,toast:Vo.a.func,bindShortcut:Vo.a.func,unbindShortcut:Vo.a.func,getTheme:Vo.a.func,getStore:Vo.a.func}),o()(Hh,"defaultProps",{showSubject:!0,getDraftStatus:Uh,getComposeFieldToFocus:Uh,refToComposeContainer:Uh,refToComposeHeader:Uh,onChange:Uh,onSend:Uh,onMoreMenuClick:Uh,onExpandQuotedText:Uh,isQuotedTextExpanded:!1,handleToolbarActions:Uh,getComposeMessageGroupId:()=>{},getDraftFolderIdForPrimaryAccount:()=>{},shouldShowIncludeOriginalAttachmentsAlert:()=>!1,shouldShowEmptySubjectAlert:()=>!1,getContent:Uh,cepForward:!1,simpleCompose:!1,showFrom:!1,showCloseButton:!0,isQuickReply:!1,showDeleteButton:!0,styles:{},onContentChanged:Uh,toolbarFixed:!1,onResize:Uh,isBccDisabled:!1,canEditSubject:!0,widthChanged:0,onContactAdd:()=>{},onContactRemove:()=>{},onMultipleContactsAdd:()=>{},getSavedAttachment:e=>e,isSendFailed:()=>!1,listenKeys:[],attachmentsToForward:[],addBigAttachment:Uh});const jh=({csid:e,selectors:t})=>s=>{if(Object(on.hasInvalidComposeField)(s))return!1;const r=t.isReplyOrReplyAll,n=t.hasNonInlineAttachmentsByMessageId,a=t.getReplyingToMessageId,o=t.getMessageFromAddress,i=t.getMessageToAddress,c=t.getMessageCcAddress;if(!(0,t.doesComposeSessionExist)(e)||!r(e))return!1;const l=a(e),d=s.to,E=void 0===d?[]:d,_=s.cc,u=void 0===_?[]:_,p=s.attachmentsInfo;if((void 0===p?[]:p).some(e=>e.disposition===vh.ATTACHMENT))return!1;if(!n(l))return!1;const m=Object(on.buildRecipients)([E,u]),S=Object(on.buildRecipients)([i(l),c(l),o(l)]),h=Nm()(m,S);return Boolean(h.length)},kh=({csid:e,selectors:t})=>s=>{const r=Object(on.hasInvalidComposeField)(s),n=s.subject,a=t.isReplyOrReplyAll,o=t.isForwardMessage;return!r&&(!(!(0,t.doesComposeSessionExist)(e)||a(e)&&!o(e))&&Boolean(!n||!n.trim().length))};var xh=Object(Qo.compose)(Object(qo.connect)((e,{csid:t,listId:s,accounts:r,initialShowSubject:n=!1,canEditSubject:a=!0,composeMode:o})=>{const i=Object(wi.selectors)(e),c=i.getRoute,l=i.getFeaturesSelectors,d=i.isComposeSaveDue,E=i.getComposeUiState,_=i.getComposeFieldToFocus,u=i.getAttachmentByContentId,p=i.getDraftErrors,m=i.getDraftStatus,S=i.isSendRequested,h=i.getGroupIdContainingMessageId,g=i.getComposeSessionsSelectors,O=i.isReplyOrReplyAll,T=i.isForwardMessage,A=i.getDraftMessageId,I=i.getAttachmentsByMessageId,f=i.getMainStreamListIds,D=i.getLinkEnhancerSelectors,R=i.getComposeParams,b=i.getComposeHeaderFocus,N=i.getSelectedAccountId,M=i.getDraftFolderIdByAccountId,y=i.getForwardAttachmentIds,L=i.getAttachmentById,P=(0,i.getInlineImagesAttachmentsSelectors)().getInlineImageByAttachmentId,v=l(),F=v.isEnabled,U=v.getSetting,w=g(),G=w.getInReplyToMessageId,H=w.getInReplyAllToMessageId,j=w.getLastSaveTimeStamp,k=w.isSendFailed,x=w.getSelectedReplySuggestion,B=c(),V=B.name,W=B.query,K=y(t)||[],q=n||a,Y=F("conversations"),z=F(C.Eb.CEP_FORWARD),Q=F(C.Eb.FIX_IMG_SRC),Z=F(C.Kd.STATIONERY_RESTRICTED_THEMES),X=U(C.Kd.LINK_ENHANCER_URL_BLOCK_LIST),$=D().getEnhancedLinks(),J=F(C.Eb.RTL),ee=F(C.Eb.PRELOAD_EMOJI),te=F(C.Eb.GIF),se=F(C.Eb.STATIONERY),re=F(C.Eb.PERSIST_COMPOSE_TEXT_MODE),ne=U(C.Kd.USE_RICH_TEXT),ae=()=>{const e=A(t);return e?h(e):void 0},oe=j(t),ie=M(N()),ce=K.reverse().map(({id:e,timestamp:t})=>({id:e,timestamp:t,attachment:L(e)||P(e)})).filter(({attachment:e})=>e.disposition===vh.INLINE);return{cepForward:z,fixImgSrcURL:Q,getDraftErrors:p,forwardAttachmentIds:K,getContent:fh({accounts:r,csid:t,listId:s,selectors:i,selectedReplySuggestion:x(t)}),replySuggestion:x(t),shouldShowIncludeOriginalAttachmentsAlert:jh({csid:t,selectors:i}),shouldShowEmptySubjectAlert:kh({csid:t,selectors:i}),showSubject:q,getComposeFieldToFocus:()=>_(t),conversations:Y,isSaveDue:d,isSendFailed:k,isSendRequested:S,isQuotedTextExpanded:Boolean(!!E(t)&&E(t).isQuotedTextExpanded),getDraftStatus:e=>m(e),stationeryRestrictedThemes:Z,linkEnhancerUrlBlocklist:X,enhancedLinks:$,rtl:J,getSavedAttachment:e=>{const t=u(e.contentId);return t?yh({},e,{},t,{disposition:e.disposition}):e},preloadEmoji:ee,gif:te,stationery:se,showStationeryCue:F(C.Eb.STATIONERY_CUE),showEmojiCue:F(C.Eb.EMOJI_CUE),stationeryDefaultTheme:U(C.Kd.STATIONERY_DEFAULT_THEME),listenKeys:["ctrl+s","command+s","ctrl+enter","command+enter","escape"],getAdditionalPayloadForDeleteDraft:()=>{const e=A(t),r=ae();return{streamId:Object(Ep.a)(f(c())),messageGroupIds:r?[r]:[],streamItem:{id:r,listId:s,messageIds:e?[e]:[]},messageIds:e?[e]:[]}},getComposeMessageGroupId:ae,routeName:V,isFreshCompose:!(O(t)||T(t)),composeMode:o,getOriginalAttachments:e=>{const t=G(e)||H(e);return t?I(t):[]},lastSavedTime:oe,attachmentsToForward:ce,composeParams:R(t),inputFocus:b(t),draftFolderId:ie,routeQuery:W,previewPaneSetting:U(C.Kd.PREVIEW_PANE),isPersistComposeTextModeEnabled:re,isRichTextModeEnabled:ne,cloudStorageEnabled:F(C.Eb.CLOUD_STORAGE)}}),Object(qo.connect)(void 0,(e,{isSaveDue:t,isSendRequested:s})=>({onMoreMenuClick:t=>e(th.q(t)),handleToolbarActions:t=>e(th.h(t)),onChange:s=>t(s)&&e(th.l(s)),onSend:t=>!s(t.csid)&&e(th.o(t)),onExpandQuotedText:t=>e(th.g(t)),linkEnhancerFetch:t=>e(JS.a(t)),onLinkEnhancerlinkRemoved:t=>e(JS.g(t)),onLinkEnhancerlinkMoveToInline:t=>e(JS.f(t)),onLinkEnhancerlinkAdded:t=>e(JS.d(t)),onLinkEnhancerlinkResized:t=>e(JS.h(t)),onLinkEnhancerlinkMoveToBottom:t=>e(JS.e(t)),addRecipient:t=>e(th.c(t)),dragDropContact:t=>e(th.f(t)),onComposeHeaderDelete:t=>e(th.e(t)),changeSettings:t=>e(Object(Fu.b)(t)),updateComposeHeaderFocus:t=>e(th.r(t)),onAttachmentForwarded:t=>e(th.d(t)),addBigAttachment:()=>e(th.a())})))(Hh),Bh=s(769),Vh=s.n(Bh),Wh=s(216),Kh=s(84);const qh=Ti()(Vh.a);function Yh(e){(0,e.previewMessage)({listId:e.listId,messageIds:[e.messageId]})}function zh(e){const t=e.listId,s=e.messageId;return Ko.a.createElement("div",{"data-test-id":"compose",className:qh.errorContainer},s?function(){return Ko.a.createElement(Wh.a,{expanded:!0,expandable:!1})}():null,t&&s?function(e){return Ko.a.createElement("span",{className:qh.errorWrapper},Ko.a.createElement(ei.b,{kind:ti.Kinds.EXCLAMATION_ALT,size:ti.Sizes.S,colorState:ti.ColorStates.COOL_FAINT}),Ko.a.createElement("span",{"data-test-id":"compose-app-error",className:qh.errorMessage},Ko.a.createElement($o.FormattedMessage,{id:"compose.draft_error_message_retry",defaultMessage:"We couldn't load this draft. {retry}",values:{retry:Ko.a.createElement("a",{className:qh.emptyBodyRetry,onClick:Yh.bind(null,e),"data-test-id":"body-error-retry"},Ko.a.createElement($o.FormattedMessage,{id:"compose.retry_message",defaultMessage:"Retry!"}))}})))}(e):function(){return Ko.a.createElement("span",{className:qh.errorWrapper},Ko.a.createElement(ei.b,{kind:ti.Kinds.EXCLAMATION_ALT,size:ti.Sizes.S,colorState:ti.ColorStates.COOL_FAINT}),Ko.a.createElement("span",{"data-test-id":"compose-app-error",className:qh.errorMessage},Ko.a.createElement($o.FormattedMessage,{id:"compose.draft_error_message_noretry",defaultMessage:"We couldn't load this draft."})))}())}var Qh=Object(qo.connect)(void 0,e=>({previewMessage:t=>e(Object(Kh.m)(t))}))(zh),Zh=s(771),Xh=s.n(Zh);const $h=C.U.Modes,Jh=Ti()(Xh.a);function eC(e){const t=e.csid,s=e.composeDataState,r=e.composeMode,n=e.onClose;if(-1!==[C.od.LOADING,C.od.DOES_NOT_EXIST].indexOf(s))return Ko.a.createElement("div",{className:Jh.loadingContainer},Ko.a.createElement(Qd.b,null));if(s===C.od.ERROR)return Ko.a.createElement(Qh,e);const a=`${t}-${r}`;return Ko.a.createElement(xh,zo()({key:a},e,{csid:t,composeMode:r,onSendSuccess:n}))}var tC=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e),r=s.doesComposeSessionExist,n=s.getDraftMessageId,a=s.getReplyingToMessageId,o=s.isSecureMessage,i=s.doesMessageFullBodyExist,c=s.doesMessageBodyHasError,l=s.isReplyMessage,d=s.isReplyAllMessage,E=s.isForwardMessage,_=s.getCurrentListId,u=s.getFeaturesSelectors,p=s.getTimeZoneName,m=s.getSelectedAccountId,S=s.getSendAccountsByAccountId,h=s.hasMultipleRootAccounts,g=s.getLastEditedTimestampForCompose,O=(0,s.getRoute)(),T=O.params;let A=void 0,I=C.od.DOES_NOT_EXIST,f=$h.NEW;if(-1!==[C.rd.NEW_DRAFT,C.rd.EDIT_DRAFT].indexOf(O.name)&&(A=T.csid),A=A||t.csid,!A||!r(A))return{csid:A,composeDataState:A?C.od.DOES_NOT_EXIST:C.od.ERROR,composeMode:f};const D=u(),R=m(),b=S(R);I=C.od.LOADED;const N=n(A)||a(A);return N&&!g(A)&&(i(N)&&!o(N)||(I=C.od.LOADING),c(N)&&(I=C.od.ERROR)),l(A)&&(f=$h.REPLY),d(A)&&(f=$h.REPLY_ALL),E(A)&&(f=$h.FORWARD),{csid:A,listId:_(),composeDataState:I,composeMode:f,accountId:R,accounts:b,showFrom:h()||b.length>1,dateFormattingOption:{timezone:p(),offset:0},saveInterval:D.getSetting(C.Kd.COMPOSE_SAVE_INTERVAL),linkEnhancer:D.isEnabled(C.Kd.LINK_ENHANCR),composeFontFamily:D.getSetting(C.Kd.COMPOSE_FONT_FAMILY),composeFontSize:D.getSetting(C.Kd.COMPOSE_FONT_SIZE)}},e=>({onClose:t=>e(Object(oi.c)(t))}))(eC),sC=s(772),rC=s.n(sC);const nC=Ti()(rC.a);function aC({children:e}){return Ko.a.createElement("div",{className:nC.compose,"data-test-id":"compose-styler"},e)}var oC=()=>Ko.a.createElement(aC,null,Ko.a.createElement(tC,{initialShowSubject:!0})),iC=s(468),cC=s.n(iC);const lC=(e,t)=>{const s=t.streamId,r=Object(wi.selectors)(e),n=r.getAttachmentIdsByMessageId,a=r.getAttachmentById,o=r.getMessageIdsFromMessageGroupId,i=r.getMessagesSelectors,c=r.getSubjectAndSnippetSelectors,l=r.getFoldersSelectors,d=r.doesStreamExist,E=r.doesMessageBodyExist,_=r.getCursorItem,u=r.isStreamItemSelected,p=r.isFeatureEnabled,m=r.getSetting,S=r.getRouteName,h=r.getAccountIdByFolderId,g=r.getMessageGroupParticipantsInfo,O=r.getMessageFlags,T=r.getMessageFolderId,A=r.isDraftFolder,I=r.getMessageCsid,f=r.isPermDeleteFolderType,D=r.getCouponsSelectors,R=r.getCategoryFollowingSelectors,b=r.getCardGroupsSelectors,N=r.getCardConversationIdByMessageId,M=r.hasSelectedStreamItems,y=t.groupId,L=t.listId,P=t.relevantMessageId,v=t.recentMessageId,F=t.firstMessageId,U=(0,r.getAccountSelectors)(),w=l().getPrimaryFolderTypeByFolderId,H=c(),j=H.getSubject,k=H.getSnippet,x=i(),B=x.shouldNudgeToReply,V=x.isOfficialDomain,W=x.isCertifiedDomain,K=o(y),q=Object(Hi.q)(L),Y=q?w(q):void 0,z=!p(C.Eb.CONVERSATIONS),Q=d(s)&&_(s)||{},Z={id:y,listId:L},X=Y===C.Mb.INBOX,$=d(s)&&M(s),J=!!$&&u(s,Z),ee=Q.id===Z.id&&Q.listId===Z.listId,te=J||ee&&!$;let se=!1,re=!1,ne=!1,ae=!0,oe=!1,ie=!1,ce=[],le="";K.forEach(e=>{const t=O(e),s=T(e);t.answered&&(se=!0,re=!1),t.forwarded&&(se=!1,re=!0),t.flagged&&(ne=!0),t.read||(ae=!1),ie=ie||A(s)});const de=T(P),Ee=h(de),_e=K[K.length-1],ue=R(),pe=ue.isCategoryFollowed,me=ue.isCategoryListLoaded,Se=U.getAccountDescriptionByAccountId(Ee),he=U.getProviderFromAccount(Ee),Ce=p(C.Eb.RSVP),ge=1===K.length&&A(de)?Object(Ui.j)(t.listId,I(K[0])):Object(Ui.p)(t.listId,t.groupId);let Oe=!0;p(C.Eb.NUDGE_TO_REPLY)&&(oe=B(_e)&&!O(_e).answered,oe&&(Oe=!1));const Te=D(),Ae=Te.doesDealExist,Ie=Te.getUnusualDiscount,fe=(0,Te.getCouponCategoriesForMessageGroup)(y);if(X&&(()=>E(_e)+me()>=[C.Eb.DEALS,C.Eb.UNUSUAL_DISCOUNT].filter(e=>p(e)).length)()&&(Oe&&p(C.Eb.SHOW_USER_FOLLOWED_CATEGORIES)&&(ce=fe.filter(e=>pe(e.id)),ce.length>0&&(Oe=!1)),Oe&&p(C.Eb.UNUSUAL_DISCOUNT))){const e=((0,b().getMessageIdsFromCardGroupId)(N(P))||[]).filter(e=>Ae(e)).find(e=>!!Ie(e));e&&(le=Ie(e))}return{messageIds:K,subject:j(F||P,L),snippet:k(v||P,L),isRead:ae,isReplied:se,isForwarded:re,isStarred:ne,getParticipantsInfo:()=>g(y,L),active:ee,selected:J,showHighlightColor:te,isOfficialDomain:V(P),isCertifiedDomain:W(P),showSnippets:p(C.Kd.SNIPPETS),messageListDensity:m(C.Kd.MSG_LIST_DENSITY),listItemHeight:m(C.Kd.LIST_ITEM_HEIGHT),isSpam:Y===C.Mb.BULK,hasDraft:ie,domain:"",showContactSearch:(e=[])=>1===(Object(G.c)(e)||[]).length&&1===K.length&&!Object(Hi.U)(L),showSubjectSearch:z,showDestinationLabel:()=>S()===C.rd.SEARCH,productCategoryList:ce,folderId:de,getAttachments:()=>{const e=K.reduce((e,t)=>e.concat(n(t).map(a)),[]).filter(({filename:e})=>e),t=e.map(e=>e.filename+e.size);return e.filter(({filename:e,size:s},r)=>r===t.indexOf(e+s))},accountProvider:he,accountDescription:Se,rsvpEnabled:Ce,messageRoute:ge,permanentDelete:!!q&&f(q),showNudgeToReply:oe,unusualDiscount:le,fullGPTCategoryList:fe}};var dC=Object(qo.connect)(lC,void 0,void 0,{areStatePropsEqual:(e,t)=>e.messageIds===t.messageIds&&e.folderId===t.folderId&&e.isRead===t.isRead&&e.isReplied===t.isReplied&&e.isForwarded===t.isForwarded&&e.isStarred===t.isStarred&&e.tabIndex===t.tabIndex&&e.selected===t.selected&&e.active===t.active&&e.listItemHeight===t.listItemHeight&&e.showNudgeToReply===t.showNudgeToReply&&(()=>e.productCategoryList.length===t.productCategoryList.length&&!!e.unusualDiscount==!!t.unusualDiscount)()});const EC=Object($o.defineMessages)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},go_to_people_view:{id:"message_group_header.title.go_to_people_view",defaultMessage:"Navigate to people view"}}),_C=Ti()(cC.a);class uC extends Ko.a.Component{constructor(e){super(e),o()(this,"handleStarClick",e=>{const t=this.props.flagged;e.stopPropagation(),!t&&this.props.starAnimation.timeout>0?(this.setState({shouldBurst:!0}),this.timeout=setTimeout(()=>{this.setState({shouldBurst:!1})},this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout)),this.props.onToggleGroupStar(e)}),o()(this,"handleReadClick",e=>{e.stopPropagation(),this.props.onToggleGroupRead(e)}),o()(this,"_navigateToPeopleView",()=>{this.props.navigateToPeopleView({updatedSettingAttributes:[{name:C.Kd.SYSTEM_TABS,value:[C.qb[C.Ud.PEOPLE]+":1"]}],accountId:this.props.accountId})}),this.burstURL=Object(P_.a)(e.starAnimation.lightGifURL),Object(I.e)(this.burstURL),this.state={shouldBurst:!1,flagged:e.flagged}}componentWillReceiveProps(e){const t=this.state;this.state.flagged!==e.flagged&&this.setState({flagged:!this.state.flagged}),!t.flagged&&e.flagged&&this.props.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout(()=>{this.setState({shouldBurst:!1})},e.starAnimation.timeout))}render(){const e=this.props,t=e.subject,s=e.messageCount,r=e.isRead,n=e.flagged,a=e.compactGroupHeader,o=e.folderName,i=e.folderType,c=e.getAccountLabel,l=e.fromPeopleView,d=this.context.intl.formatMessage,E=Ti()(cC.a,{compactGroupHeader:a}),_=Object(pt.m)(d,i)||o,u=c(this.context),p=(u?u+"/":"")+_;return Ko.a.createElement(R_.a,{axis:R_.b.HORIZONTAL,groupTabIndex:di.Lb.MESSAGE_GROUP_HEADER},Ko.a.createElement("header",{"data-test-id":"message-group-header",className:_C.groupHeader},Ko.a.createElement("div",{className:_C.readUnread},Ko.a.createElement(Jo.default,{"data-test-id":"icon-btn-read",title:d(EC[r?"mark_as_unread":"mark_as_read"]),"aria-label":d(EC[r?"message_is_read":"message_is_not_read"]),"aria-pressed":!r,kind:ti.Kinds.CIRCLE,size:ti.Sizes.XS,colorState:r?ti.ColorStates.FAINT:ti.ColorStates.SELECTED,paddingLess:!0,onClick:this.handleReadClick,"data-iskeynav":!0})),Ko.a.createElement("div",{className:_C.subjectRow},Ko.a.createElement("span",{"data-test-id":"message-group-subject",className:_C.subject,title:t||""},t?Ko.a.createElement("span",{"data-test-id":"message-group-subject-text"},Object(xi.e)(t)):Ko.a.createElement("span",null,Ko.a.createElement("span",null,"("),Ko.a.createElement("span",{className:_C.noSubject},Ko.a.createElement($o.FormattedMessage,{id:"message.no_subject",defaultMessage:"No Subject"})),Ko.a.createElement("span",null,")")),s>1?Ko.a.createElement("span",{"data-test-id":"message-group-count",className:_C.messageCount},s):null)),Ko.a.createElement("div",{className:_C.endSideButtonGroup},Ko.a.createElement("div",{className:E.messageGroupDestinationRow},l?Ko.a.createElement(mi.a,{onClick:this._navigateToPeopleView,title:d(EC.go_to_people_view),kind:Si.a.PILL,"data-test-id":"btn-people"},Ko.a.createElement($o.FormattedMessage,{id:"message_group_header.button.people",defaultMessage:"People"})):Ko.a.createElement("span",{className:_C.messageGroupDestinationContainer,title:p,"data-test-id":"message-group-destination"},u?Ko.a.createElement("span",{className:_C.messageGroupDestinationAccount},u):null,u?Ko.a.createElement("span",null,"/"):null,o?Ko.a.createElement("span",{className:_C.messageGroupDestinationFolder},_):null)),Ko.a.createElement("div",{className:E.star,title:d(EC[n?"mark_as_unstarred":"mark_as_starred"]),"data-test-id":"icon-btn-star","aria-label":d(EC[n?"message_is_starred":"message_is_not_starred"]),"aria-pressed":n},this.state.shouldBurst?Ko.a.createElement("img",{src:this.burstURL,style:{height:"24px",width:"24px"}}):Ko.a.createElement(Jo.default,{kind:ti.Kinds.STAR,size:ti.Sizes.S,colorState:n?ti.ColorStates.STARRED:ti.ColorStates.INHERITED,paddingLess:!0,onClick:this.handleStarClick,"data-iskeynav":!0})))))}}o()(uC,"contextTypes",{intl:$o.intlShape.isRequired,executeAction:Vo.a.func}),o()(uC,"defaultProps",{compactGroupHeader:!1,getAccountLabel:()=>{},fromPeopleView:!1});const pC=(e,t)=>s=>{const r=s.intl.formatMessage,n={[C.xb.YAHOO]:r(Gi.a.yahoo_account_description),[C.xb.YAHOO_SB]:r(Gi.a.yahoo_account_description),[C.xb.OUTLOOK]:r(Gi.a.outlook_account_description),[C.xb.AOL]:r(Gi.a.aol_account_description),[C.xb.GOOGLE]:r(Gi.a.gmail_account_description),[C.xb.GOOGLE_APP]:r(Gi.a.gmail_account_description)};return e=e||n[t]};var mC=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e),r=s.getAccountSelectors,n=s.getRelevantMessageIdFromMessageGroupId,a=s.getMessageIdsFromMessageGroupId,o=s.getFeaturesSelectors,i=s.isPeopleMessage,c=s.getMessageFolderId,l=(0,s.getFoldersSelectors)(),d=l.getFolderTypes,E=l.getAccountIdByFolderId,_=l.getFolderName,u=r(),p=u.getAccountDescriptionByAccountId,m=u.getProviderFromAccount,S=t.listId,h=t.messageGroup,g=Object(Ep.a)([S]),O=h.id,T=n(O,S),A=a(O),I=A.length,f=c(T),D=_(f),R=d(f)[0],b=E(f),N=m(b),M=p(b),y=lC(e,{streamId:g,groupId:O,listId:S,relevantMessageId:T,firstMessageId:A.length?A[0]:null}),L=y.subject,P=y.isRead,v=y.isStarred,F=o().getSetting(C.Kd.STAR_ANIMATION);return{subject:L,isRead:P,flagged:v,messageCount:I,folderName:D,folderType:R,getAccountLabel:pC(M,N),starAnimation:F,accountId:b,fromPeopleView:i(O,S)}},e=>({navigateToPeopleView:t=>{e(Object(oi.i)(t))}}))(uC),SC=s(773),hC=s.n(SC);const CC=Ti()(hC.a),gC=()=>{};class OC extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleClick",e=>{e.preventDefault(),e.stopPropagation(),this.props.onReplyAll(e)}),o()(this,"handleButtonGroupClick",e=>{const t=e.target.getAttribute("data-kind");e.preventDefault(),e.stopPropagation(),"text"!==t&&("reply"===t?this.props.onReply(e):"forward"===t?this.props.onForward(e):this.props.onReplyAll(e))})}render(){const e=this.props,t=e.stationeryRestrictedThemes,s=e.rtl,r=e.gif,n=e.stationery;return Ko.a.createElement("div",{className:CC.container,"data-test-id":"quick-reply",onClick:this.handleClick},Ko.a.createElement("div",{"data-test-id":"quick-reply-button-group",className:CC.buttonGroup,onClick:this.handleButtonGroupClick},Ko.a.createElement(hi.a,{kind:gp.a.TOOLBAR,tabIndex:0},Ko.a.createElement($o.FormattedHTMLMessage,{id:"reply_replyall_forward",defaultMessage:'<li class="{listItemClass}"><button tabIndex="-1" data-kind="reply" class="{buttonClass}">Reply</button></li><li class="{listItemClass}" data-kind="text">, </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="replyAll" class="{buttonClass}">Reply All</button></li><li class="{listItemClass}" data-kind="text"> or </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="forward" class="{buttonClass}">Forward</button></li>',values:{buttonClass:CC.button,listItemClass:CC.listItem}}))),Ko.a.createElement(BS.a,{formatState:{},onExecuteAction:gC,focusOnEditor:gC,disabled:!0,stationeryEnabled:n,gifFinderEnabled:r,stationeryRestrictedThemes:t,rtl:s}))}}o()(OC,"contextTypes",{config:Vo.a.object,intl:$o.intlShape.isRequired,executeAction:Vo.a.func.isRequired});var TC=OC,AC=s(774),IC=s.n(AC);let fC;function DC(e,{id:t,renderToTheSide:s,appendNode:r,referenceNode:n={},clearTooltipOn:a={}},o){fC&&Xo.a.unmountComponentAtNode(fC),fC=document.createElement("div"),r.appendChild(fC);const i=function(e,t){class s extends Ko.a.Component{constructor(e){super(e),this.state={reStyle:{}}}componentWillUnmount(){const e=this.props.clearTooltipOn,t=e.scroll,s=e.click,r=e.keydown;t&&t.removeEventListener("scroll",this.clear),s&&s.removeEventListener("click",this.clear),r&&r.removeEventListener("keydown",this.clear),this.clear()}clear(){clearTimeout(this.timeout),t&&(Xo.a.unmountComponentAtNode(t),t=null)}componentDidMount(){this.timeout=setTimeout(()=>{this.clear()},3e3),this.reStyle();const e=this.props.clearTooltipOn,t=e.scroll,s=e.click,r=e.keydown;t&&t.addEventListener("scroll",this.clear),s&&s.addEventListener("click",this.clear),r&&r.addEventListener("keydown",this.clear)}reStyle(){if(this.tooltipChildRef&&this.tooltipChildRef.getBoundingClientRect){const e=this.tooltipChildRef.getBoundingClientRect().height,t=this.props.style,s=void 0===t?{}:t;"number"==typeof s.top&&e>26&&this.setState({reStyle:{top:s.top-10*(Math.ceil(e/26)-1)}})}}render(){const t=this.state.reStyle,s=this.props,r=s.style,n=s.renderToTheSide,a=Ti()(IC.a,{left:n===C.xe.LEFT,right:n===C.xe.RIGHT}),o=Object.assign({},r,t),i=Ko.a.cloneElement(e,{childRef:(e=>this.tooltipChildRef=e).bind(this)});return Ko.a.createElement("div",{className:a.tooltip,title:"",style:o},i)}}return s.contextTypes={intl:$o.intlShape.isRequired},s}(e,fC);let c={};const l=n.positionCalculator,d=n.expanded;l&&(c=l(n.parent,n.child,Object(g.b)(o.config,"rtl"),d)),Xo.a.render(Ko.a.createElement($o.IntlProvider,window.AppIntl,Ko.a.createElement(i,{key:t,renderToTheSide:s,style:c,context:o,clearTooltipOn:a})),fC)}class RC extends Ko.a.Component{render(){return Ko.a.createElement("div",{ref:this.props.childRef},Ko.a.createElement($o.FormattedMessage,{id:"mark_as_read_shortcut_changed",defaultMessage:'Shortcut to "Mark as Read" has changed to SHIFT+K'}))}}o()(RC,"contextTypes",{intl:$o.intlShape.isRequired});var bC=RC;class NC extends Ko.a.Component{render(){return Ko.a.createElement("div",{ref:this.props.childRef},Ko.a.createElement($o.FormattedMessage,{id:"mark_as_unstar_shortcut_changed",defaultMessage:"Shortcut to unstar has changed to SHIFT+L"}))}}o()(NC,"contextTypes",{intl:$o.intlShape.isRequired});var MC=NC,yC=s(495);const LC=Vo.a.string,PC=Vo.a.arrayOf,vC=Vo.a.shape,FC=Vo.a.oneOf,UC=(Vo.a.oneOf(Object(f.h)(C.od)),PC(vC({id:LC.isRequired,listId:LC.isRequired})),FC(Object(f.h)(C.ed)),{timeout:900,lightGifURL:Object(P_.a)("/img/star_jiggle.gif"),darkGifURL:Object(P_.a)("/img/star_jiggle_dark.gif")}),wC="READ",GC="UNREAD",HC="STAR",jC="UNSTAR",kC="DELETE",xC="ARCHIVE",BC="RESTORE",VC="OPEN_MSG",WC="OPEN_PHOTO",KC="OPEN_DOC",qC="CHK_MAIL",YC="ROTATE_PREVIEWPANE",zC="SELECTION_CHANGE",QC="INTERACTION_GROUP_UNREAD",ZC="INTERACTION_GROUP_FLAGGED";var XC=s(361),$C=s(256),JC=s.n($C);const eg=Ti()(JC.a);function tg({onRetry:e,disableRetry:t,isOnline:s}){return Ko.a.createElement("div",{"data-test-id":"message-view-error",className:eg.emptyBody},Ko.a.createElement("span",{style:{flexGrow:1}}),Ko.a.createElement(ei.b,{kind:ti.Kinds.EXCLAMATION_ALT,size:ti.Sizes.S,colorState:ti.ColorStates.WARNING_GRAD_RED}),Ko.a.createElement("span",{className:eg.emptyBodyMessage},Ko.a.createElement($o.FormattedMessage,s?{id:"message.error_message",defaultMessage:"We couldn't load this message. {retry}",values:{retry:t?Ko.a.createElement($o.FormattedMessage,{id:"message.retry_later_message",defaultMessage:"Please try again later."}):Ko.a.createElement("a",{className:eg.emptyBodyRetry,onClick:e,"data-test-id":"body-error-retry"},Ko.a.createElement($o.FormattedMessage,{id:"message.retry_message",defaultMessage:"Retry"}))}}:{id:"message.offline_error_message",defaultMessage:"You are offline"})),Ko.a.createElement("span",{style:{flexGrow:1}}))}const sg=Ti()(JC.a);var rg=class extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{takesLong:!1})}componentDidMount(){this.timeout=setTimeout(function(){this.setState({takesLong:!0})}.bind(this),1e3)}componentWillUnmount(){clearTimeout(this.timeout)}render(){return Ko.a.createElement("div",{className:sg.loadingContainer},this.state.takesLong&&Ko.a.createElement(Qd.b,null))}},ng=s(134),ag=s(604),og=s.n(ag);const ig=Ti()(og.a),cg=Object($o.defineMessages)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class lg extends Ko.a.Component{render(){const e=this.context.intl.formatMessage;return Ko.a.createElement(_i.a,{className:ig.popoverContainer},Ko.a.createElement(ui.a,null,Ko.a.createElement(Jo.default,{kind:ti.Kinds.MORE,size:ti.Sizes.XS,title:e(cg.more_menu_label),"aria-label":e(cg.more_menu_label),colorState:ti.ColorStates.INHERITED,paddingLess:!0,"data-test-id":"more-card-trigger"})),Ko.a.createElement(Ei.b,{triggerOn:pi.i.CLICK,onMouseEnter:this.props.onMoreMenuEnter,onMouseLeave:this.props.onMoreMenuLeave,permittedArrowDirections:[pi.h.DOWN],align:pi.a.START,offset:16,"data-test-id":"more-card-menu"},Ko.a.createElement(Mi.a,zo()({import:"./more_menu_items"},this.props,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1314))},_moduleResolver:function(){return 1314}}),Ko.a.createElement(Mi.b,{loading:!0},Ko.a.createElement(Qd.b,null)))))}}o()(lg,"contextTypes",{executeAction:Vo.a.func,intl:$o.intlShape.isRequired});var dg=lg,Eg=s(779),_g=s.n(Eg);const ug=Ti()(_g.a),pg=Object($o.defineMessages)({message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class mg extends Ko.a.Component{render(){const e=this.context.intl.formatMessage,t=this.props,s=t.onReply,r=t.onReplyAll,n=t.onForward,a=t.onArchive,o=t.onDelete,i=t.onBlockSenders,c=t.onPrint,l=t.onRawMessage,d=t.forwardEnabled,E=t.replyEnabled,_=t.replyAllEnabled,u=t.message,p=t.onRead,m=t.onUnread,S=t.onStar,h=t.onUnstar;return Ko.a.createElement("div",{className:ug.wrapper,"data-test-id":"card-toolbar"},Ko.a.createElement(ng.a,null),Ko.a.createElement("div",{className:ug.container},Ko.a.createElement(hi.a,{kind:gp.a.TOOLBAR,tabIndex:0},Ko.a.createElement(Bu.a,{kind:jm.a.TOOLBAR_ITEM},Ko.a.createElement("span",{className:ug.toolbarItem+" "+ug.rtlRawScaleX},Ko.a.createElement(Jo.default,{"data-test-id":"card-toolbar-button-reply",kind:ti.Kinds.REPLY,size:ti.Sizes.XS,title:e(pg.message_reply),"aria-label":e(pg.message_reply),colorState:ti.ColorStates.INHERITED,onClick:s,disabled:!E,paddingLess:!0}))),Ko.a.createElement(Bu.a,{kind:jm.a.TOOLBAR_ITEM},Ko.a.createElement("span",{className:ug.toolbarItem+" "+ug.rtlRawScaleX},Ko.a.createElement(Jo.default,{"data-test-id":"card-toolbar-button-reply-all",kind:ti.Kinds.REPLY_ALL,size:ti.Sizes.XS,title:e(pg.message_reply_all),"aria-label":e(pg.message_reply_all),colorState:ti.ColorStates.INHERITED,onClick:r,disabled:!_,paddingLess:!0}))),Ko.a.createElement(Bu.a,{kind:jm.a.TOOLBAR_ITEM},Ko.a.createElement("span",{className:ug.toolbarItem+" "+ug.rtlRawScaleX},Ko.a.createElement(Jo.default,{"data-test-id":"card-toolbar-button-forward",kind:ti.Kinds.FORWARD,size:ti.Sizes.XS,title:e(pg.message_forward),"aria-label":e(pg.message_forward),colorState:ti.ColorStates.INHERITED,onClick:n,disabled:!d,paddingLess:!0}))),Ko.a.createElement(Bu.a,{kind:jm.a.TOOLBAR_ITEM},Ko.a.createElement("span",{className:ug.moreMenuItem},Ko.a.createElement(dg,{"data-iskeynav":!0,onArchive:a,onDelete:o,onRawMessage:l,onPrint:c,onBlockSenders:i,message:u,onMoreMenuEnter:this.props.onMoreMenuEnter,onMoreMenuLeave:this.props.onMoreMenuLeave,onRead:p,onUnread:m,onStar:S,onUnstar:h})))),Ko.a.createElement(ng.a,null),Ko.a.createElement("hr",{className:ug.bottomLine})),Ko.a.createElement(ng.a,null))}}o()(mg,"contextTypes",{intl:$o.intlShape.isRequired}),o()(mg,"defaultProps",{replyEnabled:!0,replyAllEnabled:!0,forwardEnabled:!0});var Sg=mg,hg=s(380),Cg=s.n(hg),gg=s(116),Og=s(163),Tg=Object($o.defineMessages)({message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},close:{id:"close",defaultMessage:"Close"},expand_list:{id:"expand_list",defaultMessage:"Expand message cards"},collapse_list:{id:"collapse_list",defaultMessage:"Collapse message cards"},list_is_expanded:{id:"list_is_expanded",defaultMessage:"Conversation is expanded"},list_is_collapsed:{id:"list_is_collapsed",defaultMessage:"Conversation is collapsed"},list_filter_from:{id:"list.filter_from",defaultMessage:"From"},list_filter_to:{id:"list.filter_to",defaultMessage:"To"},list_filter_all:{id:"list.filter_all",defaultMessage:"All"},list_delete_title:{id:"list.confirm_delete_title",defaultMessage:"Delete message"},list_delete_message:{id:"list.confirm_delete_messages",defaultMessage:"Are you sure you want to move {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} to Trash?"},list_perm_delete_message:{id:"list.confirm_permanently_delete_messages",defaultMessage:"Are you sure you want to permanently delete {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}"},list_archive_title:{id:"list.confirm_archive_title",defaultMessage:"Archive message"},list_archive_message:{id:"list.confirm_archive_messages",defaultMessage:"Are you sure you want to archive all {conversations, select, true {conversations} false {messages}}?"},list_move_title:{id:"list.confirm_move_title",defaultMessage:"Move message"},list_move_message:{id:"list.confirm_move_messages",defaultMessage:"Are you sure you want to move all {conversations, select, true {conversations} false {messages}}?"},list_spam_title:{id:"list.confirm_spam_title",defaultMessage:"Spam message"},list_spam_message:{id:"list.confirm_spam_messages",defaultMessage:"Are you sure you want to mark all {conversations, select, true {conversations} false {messages}} as spam?"},list_mark_read_bulk_title:{id:"list_mark_read_bulk_title",defaultMessage:"Mark messages read"},list_mark_read_bulk_messages:{id:"list_mark_read_bulk_messages",defaultMessage:"Are you sure you want to mark all {conversations, select, true {conversations} false {messages}} as read?"},list_mark_unread_bulk_title:{id:"list_mark_unread_bulk_title",defaultMessage:"Mark messages unread"},list_mark_unread_bulk_messages:{id:"list_mark_unread_bulk_messages",defaultMessage:"Are you sure you want to mark all {conversations, select, true {conversations} false {messages}} unread?"},list_mark_starred_bulk_title:{id:"list_mark_starred_bulk_title",defaultMessage:"Star messages"},list_mark_starred_bulk_messages:{id:"list_mark_starred_bulk_messages",defaultMessage:"Are you sure you want to star all {conversations, select, true {conversations} false {messages}}?"},list_mark_unstarred_bulk_title:{id:"list_mark_unstarred_bulk_title",defaultMessage:"Unstar messages"},list_mark_unstarred_bulk_messages:{id:"list_mark_unstarred_bulk_messages",defaultMessage:"Are you sure you want to clear the star from all {conversations, select, true {conversations} false {messages}}?"}});const Ag=e=>{e.preventDefault()},Ig=Ii.i.MSG_BODY;class fg extends Ko.a.Component{constructor(e){super(e),o()(this,"handleBlur",()=>{this.canTakeFocus=!0}),o()(this,"focus",()=>{!this.canTakeFocus&&this.refs.content&&this.props.active&&this.refs.content.focus()}),o()(this,"handleSelectAll",()=>{const e=document.getSelection(),t=document.createRange();t.selectNodeContents(this.refs.content),e.removeAllRanges(),e.addRange(t)}),o()(this,"handleRead",e=>{const t=this.props,s=t.message,r=t.onToggleRead,n={interactionType:Object(Ps.getInteractionFromEvent)(e)};Ag(e),void 0!==e.keyCode&&s.flags.read||r({i13nModel:n})}),o()(this,"handleUnread",e=>{const t=this.props,s=t.message,r=t.onToggleRead,n={interactionType:Object(Ps.getInteractionFromEvent)(e)};Ag(e),void 0===e.keyCode||s.flags.read?r({i13nModel:n}):this.showCoachTooltip({selectedCard:[s],interaction:QC})}),o()(this,"handleReply",e=>{const t=this.props,s=t.messageGroupId,r=t.message,n=t.listId,a=t.onReplyForward,o={mKey:Ii.g.MSG_REPLY,sec:Ig,mKeyGroup:Ii.h.replyMsg,interactionType:Object(Ps.getInteractionFromEvent)(e)};Ag(e),a({i13nModel:o,streamId:Object(Ep.a)([n]),composeMode:C.U.Modes.REPLY,listId:n,messageGroupId:s,messageId:r.id})}),o()(this,"handleBlockSenders",e=>{Object(lh.a)(Ko.a.createElement(yC.a,{emailIds:e,listId:this.props.listId}),this.context)}),o()(this,"handleReplyAll",e=>{const t=this.props,s=t.messageGroupId,r=t.message,n=t.listId,a=t.onReplyForward,o={mKey:Ii.g.MSG_REPLY_ALL,sec:Ig,mKeyGroup:Ii.h.replyAllMsg,interactionType:Object(Ps.getInteractionFromEvent)(e)};Ag(e),a({i13nModel:o,streamId:Object(Ep.a)([n]),composeMode:C.U.Modes.REPLY_ALL,listId:n,messageGroupId:s,messageId:r.id})}),o()(this,"handleForward",e=>{const t=this.props,s=t.messageGroupId,r=t.message,n=t.listId,a=t.onReplyForward,o={mKey:Ii.g.MSG_FORWARD,sec:Ig,mKeyGroup:Ii.h.forwardMsg,interactionType:Object(Ps.getInteractionFromEvent)(e)};Ag(e),a({i13nModel:o,streamId:Object(Ep.a)([n]),composeMode:C.U.Modes.FORWARD,listId:n,messageGroupId:s,messageId:r.id})}),o()(this,"handleArchive",e=>{const t=this.props,s=t.messageGroupId,r=t.message,n=t.listId,a=t.navigateOnMessageAction,o=t.onArchive,i={mKey:Ii.g.MSG_ARCHIVE,sec:Ig,mKeyGroup:Ii.h.archiveMsg,interactionType:Object(Ps.getInteractionFromEvent)(e)};Ag(e),a(),o({messageIds:[r.id],messageGroupIds:[s],listId:n,streamId:Object(Ep.a)([n]),streamItem:{id:s,listId:n,messageIds:[r.id]},conversations:!1,triageActionType:C.ye.ARCHIVE_SELECTED_ITEMS,i13nModel:i})}),o()(this,"handleShareCard",(e,t)=>{this.context.navigateTo({route:Object(Ui.f)(Object(Ps.generateUID)()),initialSubject:e,initialBody:t})}),o()(this,"handleShareCardLinkClick",(e,t)=>{this.props.onLinkEnhancerlinkShare({i13nModel:{mKey:Ii.g.LINK_ENHANCER_SHARE_LINK,sec:Ii.i.MSG_BODY,actionData:{mHref:t,msgId:this.props.message.id,sharedBy:e.currentTarget.innerText}}})}),o()(this,"isPermanentDelete",e=>e.indexOf(C.Mb.BULK)>-1||e.indexOf(C.Mb.TRASH)>-1||e.indexOf(C.Mb.DRAFT)>-1),o()(this,"hideConfirm",()=>{null!==this.state.confirmState&&this.setState({confirmState:null})}),o()(this,"handleDelete",e=>{const t=this.props,s=t.messageGroupId,r=t.message,n=t.listId,a=t.navigateOnMessageAction,o=t.onDelete,i=this.isPermanentDelete(r.folder.types),c={mKey:Ii.g.MSG_DELETE,sec:Ig,mKeyGroup:Ii.h.deleteMsg,interactionType:Object(Ps.getInteractionFromEvent)(e)};Ag(e),null===this.state.confirmState&&i?this.setState({confirmState:{title:Tg.list_delete_title,message:Tg.list_perm_delete_message,onConfirm:this.handleDelete,onAbort:this.hideConfirm},hover:!1}):(a(),o({messageIds:[r.id],messageGroupIds:[s],listId:n,streamId:Object(Ep.a)([n]),streamItem:{id:s,listId:n,messageIds:[r.id]},permanent:this.isPermanentDelete(r.folder.types),isAsync:!1,conversations:!1,triageActionType:C.ye.DELETE_SELECTED_ITEMS,i13nModel:c}),this.hideConfirm())}),o()(this,"renderConfirmDialog",()=>{if(null===this.state.confirmState)return null;const e=this.state.confirmState,t=this.context.intl.formatMessage;return Ko.a.createElement(Ju.a,{title:t(e.title),message:t(e.message,{conversations:!1,count:1}),onConfirm:e.onConfirm,onAbort:e.onAbort})}),o()(this,"handlePrint",e=>{const t={mKey:Ii.g.MSG_HDR_PRINT,sec:Ig,interactionType:Object(Ps.getInteractionFromEvent)(e)};Ag(e);const s=this.props;(0,s.onPrint)({messageGroupId:s.messageGroupId,message:s.message,i13nModel:t})}),o()(this,"handleRawMessage",e=>{const t=this.props.message;Ag(e),this.context.executeAction(_c.p,{messageId:t.id})}),o()(this,"handleToggleExpand",()=>{this.props.onToggleExpand()}),o()(this,"showCoachTooltip",({selectedCard:e=[],interaction:t=""})=>{if(!e.length)return;const s=this.props.expanded,r=e[0].id;let n,a,o,i;switch(t){case QC:a=this.readIconContainer,n=Ko.a.createElement(bC,null),i=C.xe.RIGHT,o=(e,t,s=!1,r=!0)=>{if(!e||!t)return{};const n=e.getBoundingClientRect(),a=n.left,o=n.top,i=n.right,c=t.getBoundingClientRect();return{left:s?"auto":c.right-a-2,top:c.top-o+(r?-4:1),right:s?i-c.left-2:"auto"}};break;case ZC:a=this.starIconContainer,n=Ko.a.createElement(MC,null),i=C.xe.LEFT,o=(e,t,s=!1,r=!1)=>{if(!e||!t)return{};const n=e.getBoundingClientRect(),a=n.left,o=n.top,i=n.right,c=t.getBoundingClientRect();return{right:s?"auto":i-c.right+4,top:c.top-o+(r?-4:1),left:s?c.left-a+4:"auto"}}}a&&DC(n,{id:r,renderToTheSide:i,appendNode:a,referenceNode:{parent:this.refs.content,child:a,positionCalculator:o,expanded:s},clearTooltipOn:{click:this.refs.content,keydown:this.refs.content}},this.context)}),o()(this,"handleStar",e=>{const t=this.props,s=t.message,r=t.onToggleStar,n={interactionType:Object(Ps.getInteractionFromEvent)(e)};Ag(e),void 0!==e.keyCode&&s.flags.flagged?this.showCoachTooltip({selectedCard:[s],interaction:ZC}):r({i13nModel:n})}),o()(this,"handleUnstar",e=>{const t=this.props,s=t.message,r=t.onToggleStar,n={interactionType:Object(Ps.getInteractionFromEvent)(e)};Ag(e),(void 0===e.keyCode||s.flags.flagged)&&r({i13nModel:n})}),o()(this,"handleClick",()=>{this.props.onClick()}),o()(this,"handleKeyDown",e=>{if((e.metaKey||e.ctrlKey)&&"A"===String.fromCharCode(e.which))return Ag(e),e.stopPropagation(),this.handleSelectAll();if(e.ctrlKey||e.metaKey||e.altKey)return;if("Enter"===e.key&&(Ag(e),e.stopPropagation(),this.props.expandable))return this.handleToggleExpand();const t=String.fromCharCode(e.which);switch(t){case"K":if(!e.shiftKey)return e.stopPropagation(),this.handleUnread(e);e.stopPropagation(),this.handleRead(e);break;case"L":if(!e.shiftKey)return e.stopPropagation(),this.handleStar(e);e.stopPropagation(),this.handleUnstar(e)}if(!e.shiftKey&&this.props.bodyState===C.od.LOADED)switch(t){case"R":e.stopPropagation(),this.handleReply(e);break;case"A":e.stopPropagation(),this.handleReplyAll(e);break;case"F":e.stopPropagation(),this.handleForward(e);break;case"P":e.stopPropagation(),this.handlePrint(e)}}),o()(this,"handleHrefLinkClick",e=>{this.props.handleHrefLinkClick({linkTarget:e,message:this.props.message})}),o()(this,"handleToolbarOnMouseEnter",()=>{this.setState({showToolbar:!0})}),o()(this,"handleToolbarOnMouseLeave",()=>{this.setState({showToolbar:!1})}),o()(this,"handleMoreMenuEnter",()=>{this.props.active||this.setState({showToolbar:!0})}),o()(this,"handleMoreMenuLeave",()=>{this.props.active||this.setState({showToolbar:!1})}),o()(this,"handleChangeImageSetting",()=>{this.props.changeSettings({name:C.Kd.SHOW_IMAGES,value:C.Pd.ALWAYS,i13nModel:{name:Ii.g.SHOW_IMG_ALWAYS,sec:Ii.i.MSG_BODY}})}),o()(this,"handleReloadMessage",(e,{full:t,secure:s}={})=>{const r=this.props;(0,r.previewMessage)({listId:r.listId,full:t,secure:s,messageIds:[e]})}),this.canTakeFocus=e.canTakeFocus,this.state={showToolbar:!1,confirmState:null}}componentDidMount(){this.focus()}componentDidUpdate(){this.focus()}render(){const e=this.props,t=e.listId,r=e.messageGroupId,n=e.message,a=e.bodyState,o=e.retryCount,i=e.renderAttachmentTray,c=e.expandable,l=e.expanded,d=e.active,E=e.idx,_=e.totalMessages,u=e.conversations,p=e.showSmartReply,m=e.onToggleRead,S=e.onToggleStar,h=e.isOnline,g=e.logVisibilityStat,O=d||this.state.showToolbar,T=Ti()(Cg.a,{active:d}),A=o>C.pc,I=!u;let f=null;if(l)switch(a){case C.od.DOES_NOT_EXIST:f=h?Ko.a.createElement(rg,null):Ko.a.createElement(tg,{onRetry:this.handleReloadMessage.bind(this,n.id),disableRetry:A,isOnline:h});break;case C.od.ERROR:f=Ko.a.createElement(tg,{onRetry:this.handleReloadMessage.bind(this,n.id),disableRetry:A,isOnline:h});break;case C.od.LOADED:f=Ko.a.createElement("div",{"data-test-id":"message-body-container",onMouseEnter:this.handleToolbarOnMouseEnter,onMouseLeave:this.handleToolbarOnMouseLeave},Ko.a.createElement(XC.a,{groupId:r,headers:n.headers,messageId:n.id,listId:t,folderId:n.folder.id,renderAttachments:i,onMailtoClick:this.props.onMailtoClick,onHrefLinkClick:this.handleHrefLinkClick,onChangeImageSetting:this.handleChangeImageSetting,onShareCard:this.handleShareCard,onShareCardLinkClick:this.handleShareCardLinkClick,onShowQuotedText:this.handleReloadMessage.bind(this,n.id),onShowImages:this.handleReloadMessage.bind(this,n.id),removeCollapseButton:I,quoteExpanded:I,attachments:n.attachments,folder:n.folder,csid:n.csid,logVisibilityStat:g}),Ko.a.createElement("div",{className:T.toolbarHoverArea,"data-test-id":"toolbar-hover-area"},O?Ko.a.createElement(Sg,{onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward,onArchive:this.handleArchive,onDelete:this.handleDelete,onRawMessage:this.handleRawMessage,onBlockSenders:this.handleBlockSenders,message:n,onPrint:e=>this.handlePrint(e,"toolbar"),onMoreMenuEnter:this.handleMoreMenuEnter,onMoreMenuLeave:this.handleMoreMenuLeave,onRead:this.handleRead,onUnread:this.handleUnread,onStar:this.handleStar,onUnstar:this.handleUnstar}):null),p?Ko.a.createElement(Mi.a,{defer:!0,import:"./atoms/reply_suggestions",messageGroupId:r,message:n,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1313))},_moduleResolver:function(){return 1313}}):null);break;default:f=Ko.a.createElement(rg,null)}return Ko.a.createElement("div",{ref:"content","data-test-id":"message-view","data-test-expanded":l,className:T.messageCardContainer+" message-view","data-iskeynav":!0,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onClick:this.handleClick,tabIndex:-1},Ko.a.createElement(Wh.a,{listId:t,groupId:r,conversations:u,message:n,expanded:l,idx:E,totalMessages:_,onToggleStar:S,onToggleRead:m,onToggleExpand:this.handleToggleExpand,expandable:c,onPrint:this.handlePrint,onAttachmentClick:this.props.scrollToAttachmentTray,starRef:e=>this.starIconContainer=e,readRef:e=>this.readIconContainer=e}),f,this.renderConfirmDialog())}}o()(fg,"defaultProps",{active:!1,canTakeFocus:!1}),o()(fg,"contextTypes",{config:Vo.a.object,executeAction:Vo.a.func.isRequired,navigateTo:Vo.a.func,intl:$o.intlShape.isRequired,getStore:Vo.a.func,getTheme:Vo.a.func,store:Vo.a.object});var Dg=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e),r=s.getFeaturesSelectors,n=s.findReplyForwardCsidsOfMessage,a=s.isSent,o=s.isOnline,i=t.message;let c=!1;if(i.id===(0,s.__getLastNonDraftMessageIdByGroupId)(t.messageGroupId)){c=!(n(i.id)||[]).filter(e=>!a(e)).length&&r().isEnabled(C.Eb.SMART_REPLY)}return{showSmartReply:c,isOnline:o()}},e=>({previewMessage:t=>e(Object(Kh.m)(t)),handleHrefLinkClick:t=>e(Object(Kh.g)(t)),onLinkEnhancerlinkShare:t=>e(JS.i(t)),changeSettings:t=>e(Object(Fu.b)(t)),onPrint:t=>e(Object(Kh.n)(t)),onReplyForward:t=>e(Object(Kh.t)(t)),onArchive:t=>e(Object(gg.a)(t)),onDelete:t=>e(Object(Og.a)(t))}))(fg);const Rg=()=>{};var bg=Object(qo.connect)((e,{csid:t})=>(0,Object(wi.selectors)(e).getDraftCardMessage)(t))(e=>{const t=e.idx,s=e.csid,r=e.listId,n=e.active,a=e.message,o=e.conversations,i=e.totalMessages,c=e.messageGroupId,l=e.renderAttachmentTray,d=Ti()(Cg.a,{active:n}),E=!o;return Ko.a.createElement("div",{"data-iskeynav":!0,tabIndex:-1,"data-test-id":"message-view","data-test-expanded":!0,className:d.messageCardContainer+" message-view"},Ko.a.createElement(Wh.a,{idx:t,expanded:!0,expandable:!0,onPrint:Rg,listId:r,message:a,onToggleStar:Rg,onToggleRead:Rg,onToggleExpand:Rg,viglinkClicked:Rg,onAttachmentClick:Rg,groupId:c,conversations:o,totalMessages:i}),Ko.a.createElement("div",{"data-test-id":"message-body-container"},Ko.a.createElement(XC.a,{csid:s,messageId:a.id,folderId:a.folder.id,headers:a.headers,attachments:a.attachments,quoteExpanded:E,renderAttachments:l.bind(null,a),removeCollapseButton:E}),Ko.a.createElement("div",{className:d.toolbarHoverArea,"data-test-id":"toolbar-hover-area"})))});class Ng extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{engaged:!1}),o()(this,"update",()=>{this._isSetup&&this._handleScroll()}),o()(this,"_shouldEnableSmartScroll",()=>document.documentElement.scrollWidth<=window.innerWidth),o()(this,"_handleWindowResize",()=>{this._shouldEnableSmartScroll()?(this._isSetup||this._setup(),this.update()):this._teardown()}),o()(this,"_handleContentChanged",({caret:e})=>{this._isSetup&&e&&this._scrollTargetIntoView(e.y)}),o()(this,"_scrollTargetIntoView",e=>{if(!this._isMounted())return;const t=this._containerNode.getBoundingClientRect(),s=this._targetNode.getBoundingClientRect(),r=e+16+this._headerNode.getBoundingClientRect().height,n=s.top-t.top+r,a=!this.state.engaged&&s.bottom+20>t.bottom;n<0||n>=(this.state.engaged?t.height-nS.TOOLBAR_HEIGHT:t.height)?this.scrollTimer=setTimeout(()=>{this._containerNode.scrollTop=this._targetNode.offsetTop+r-Math.round(t.height/2)},2):a&&(this._containerNode.scrollTop+=s.bottom-t.bottom+20)}),o()(this,"_alignTargetInContainer",()=>{if(!this._isMounted())return;const e=this._targetNode.getBoundingClientRect(),t=this._containerNode.getBoundingClientRect();this._containerNode.scrollTop=e.height<t.height?this._targetNode.offsetTop-(t.height-e.height-20):this._targetNode.offsetTop-12}),o()(this,"_handleScroll",()=>{if(!this._isMounted())return;const e=this._containerNode.getBoundingClientRect(),t=this._targetNode.getBoundingClientRect(),s=this._headerNode.getBoundingClientRect(),r=Math.max(s.height+24,160);t.bottom>e.top&&t.top+r<e.bottom&&t.bottom>e.bottom?this._engage(t.width-nS.HORIZONTAL_PADDING):this._disengage()}),o()(this,"_setup",()=>{this._compose&&(this._containerNode=Object(Zo.findDOMNode)(this.props.scrollContainer),this._targetNode=Object(Zo.findDOMNode)(this)),this._containerNode&&this._targetNode&&this._headerNode&&(this._isSetup=!0,this.update(),this._containerNode.addEventListener("scroll",this._handleScroll))}),o()(this,"_teardown",()=>{clearTimeout(this.scrollTimer),this._containerNode&&this._containerNode.removeEventListener("scroll",this._handleScroll),this._disengage(),this._isSetup=!1}),o()(this,"_engage",()=>{this.state.engaged||this.setState({engaged:!0})}),o()(this,"_disengage",()=>{this.state.engaged&&this.setState({engaged:!1})})}_isMounted(){return this._containerNode&&this._targetNode&&this._headerNode}componentDidMount(){this._handleContentChanged=ch()(this._handleContentChanged,10),this._shouldEnableSmartScroll()&&this._setup(),this._isSetup&&this._alignTargetInContainer()}componentDidUpdate(){!this._isSetup&&this._shouldEnableSmartScroll()&&this._setup()}componentWillUnmount(){this._teardown()}render(){return Ko.a.createElement(tC,zo()({},this.props,{refToComposeContainer:e=>{this._compose=e},refToComposeHeader:e=>{this._headerNode=Object(Zo.findDOMNode)(e)},onContentChanged:this._handleContentChanged,toolbarFixed:this.state.engaged,onResize:this._handleWindowResize}))}}o()(Ng,"contextTypes",{config:Vo.a.object.isRequired});var Mg=Ng,yg=s(780),Lg=s.n(yg);const Pg=Object($o.defineMessages)({comma:{id:"mail_app.comma_with_space",defaultMessage:", "},me:{id:"mail_app.me",defaultMessage:"me"},and:{id:"mail_app.and",defaultMessage:" and "},andNMore:{id:"mobile.message_read.and_n_more",defaultMessage:"& {count} more"}}),vg=({sender:{name:e,email:t},myAddresses:s},r)=>{let n;return n=s[t]?r(Pg.me):e?e.split(" ")[0]:(t||"").split("@")[0],n.length>10+".".length?n.slice(0,10)+".":n};class Fg extends Ko.a.Component{constructor(...e){super(...e),o()(this,"getLabel",(e,t,s)=>e?Ko.a.createElement("span",null,t):Ko.a.createElement("strong",{className:s.strong},t))}shouldComponentUpdate(e){const t=this.props,s=t.senders,r=t.isRead,n=t.transparent,a=t.layoutClassNames,o=t.visibleNum,i=Object.keys(t.myAddresses),c=Object.keys(e.myAddresses);return e.senders.length!==s.length||e.isRead!==r||e.visibleNum!==o||e.transparent!==n||e.layoutClassNames.senders!==a.senders||c.length!==i.length}render(){const e=Ti()(Lg.a,{transparent:this.props.transparent}),t=this.props,s=t.senders,r=t.onClick,n=t.layoutClassNames,a=t.myAddresses,o=t.isRead,i=t.visibleNum,c=this.context.intl.formatMessage,l=(({senders:e,myAddresses:t},s)=>{if(0===e.length)return"";const r=Object(G.c)(e);let n=r.map(e=>vg({sender:e,myAddresses:t},s));if(n=n.filter((e,t,s)=>s.indexOf(e)===t),1===n.length)return r[0].email;const a=n.pop();return n.join(s(Pg.comma))+s(Pg.and)+a})({senders:s,myAddresses:a},c),d=(({senders:e,myAddresses:t,visibleNum:s=1},r)=>{if(0===e.length)return null;if(1===e.length){const s=e[0];return t[s.email]?r(Pg.me):s.name||s.email}const n=[],a=Object(G.c)(e),o=Object(G.b)(a),i=a.map(e=>vg({sender:e,myAddresses:t},r)),c=(({senders:e,priorityIndices:t,visibleNum:s})=>e.length<=s-1?t:t.slice(0,e[0].recent?s-1:s))({senders:a,priorityIndices:o,visibleNum:s}).sort();let l=0;return c.forEach((e,t)=>{const s=i[e];e>l+1?n.push(" .. "):t>0&&n.push(r(Pg.comma)),n.push(s),l=e}),n.join("")})({senders:s,myAddresses:a,visibleNum:i},c);return Ko.a.createElement("div",{className:n.senders,"data-test-id":"senders",role:"gridcell"},Ko.a.createElement("span",{className:e.participants,onClick:r,role:"gridcell",title:l},d?this.getLabel(o,d,e):null))}}o()(Fg,"defaultProps",{myAddresses:{},transparent:!1,visibleNum:3}),o()(Fg,"contextTypes",{intl:$o.intlShape});var Ug=Fg,wg=s(154),Gg=s.n(wg),Hg=s(302),jg=s.n(Hg);var kg=s(121);const xg=[C.Yd.DATE_DESC,C.Yd.DATE_ASC],Bg=[C.Yd.DATE_DESC,C.Yd.DATE_ASC,C.Yd.ATTACHMENT,C.Yd.RELEVANCE],Vg=[C.Yd.DATE_DESC,C.Yd.DATE_ASC,C.Yd.UNREAD,C.Yd.STARRED,C.Yd.SENDER,C.Yd.SUBJECT,C.Yd.ATTACHMENT],Wg=[C.Yd.DATE_DESC,C.Yd.DATE_ASC,C.Yd.UNREAD,C.Yd.STARRED,C.Yd.RECIPIENT,C.Yd.SUBJECT,C.Yd.ATTACHMENT];var Kg=s(357),qg=s(314),Yg=s.n(qg),zg=s(276);const Qg=Ti()(Yg.a),Zg=Object($o.defineMessages)({createNewFolderDescription:{id:"create_new_folder_text",defaultMessage:"Please enter a new folder name:"},duplicate_foldername:{id:"move_new_folder_duplciate_name",defaultMessage:"A folder named {folder_name} already exists. Please choose a different name."},newFolderLabel:{id:"new_folder_lable",defaultMessage:"Create new folder"},createButton:{id:"create_btn_text",defaultMessage:"Create"},folderNameText:{id:"folder_name_text",defaultMessage:"Folder name"},folder_invalid_chars:{id:"new_folder_invalid_chars",defaultMessage:"Folder names may not contain {invalid_chars}"}}),Xg=()=>{};class $g extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{error:"",value:""}),o()(this,"handleConfirm",e=>{e.stopPropagation();const t=this.state.value;if(!Object(Ps.isValidFolderName)(t))return;const s=this.context.intl.formatMessage,r=this.props,n=r.activeAccount;r.allFolders.some(({name:e})=>e===t)?this.setState({error:s(Zg.duplicate_foldername,{folder_name:t})}):this.context.executeAction(vu.b,{folderName:Object(pt.k)(t,n),alertFromModalDialog:!0,accountId:n.id,i13nModel:{mKey:Ii.g.ADD_FOLDER,sec:Ii.i.FILTER_MESSAGES,mKeyGroup:Ii.h.createFldr}})}),o()(this,"handleClose",e=>{e.stopPropagation(),this.props.onClose()}),o()(this,"handleOnChange",e=>{const t=this.context.intl.formatMessage,s=!e||Object(Ps.isValidFolderName)(e);this.setState({value:e,error:s?null:t(Zg.folder_invalid_chars,{invalid_chars:pt.c})})})}componentDidUpdate(e){const t=this.state.value,s=this.props,r=s.customFolders,n=s.streamId,a=e.customFolders.some(({name:e})=>e===t),o=(r.find(({name:e})=>e===t)||{}).id;if(t&&!a&&o){this.props.onMove({streamId:n,destinationFolderId:o,triageActionType:C.ye.MOVE_SELECTED_ITEMS,i13nModel:{mKey:Ii.g.TOOLBAR_MOVE,sec:Ii.i.MSG_LIST_BULK_ACTION,mKeyGroup:Ii.h.moveMsg,interactionType:"click"}}),this.props.onClose()}}render(){const e=this.state,t=e.value,s=e.error,r=this.context.intl.formatMessage;return Ko.a.createElement(Ju.a,{hideIcon:!0,onOuterClick:Xg,onAbort:this.handleClose,onConfirm:this.handleConfirm,acceptLabel:Zg.createButton,disablePrimaryButton:!t||!!s,title:r(Zg.newFolderLabel)},Ko.a.createElement("div",{className:Qg.description},Ko.a.createElement($o.FormattedHTMLMessage,Zg.createNewFolderDescription)),Ko.a.createElement(zg.a,{type:"text",isClearable:!0,focusOnMount:!0,value:t,error:s,id:"create-new-folder",onChange:this.handleOnChange,"data-test-id":"create-new-folder",placeholder:r(Zg.folderNameText)}))}}o()($g,"contextTypes",{intl:$o.intlShape.isRequired,executeAction:Vo.a.func.isRequired});var Jg=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e),r=s.getAccountById,n=s.getCustomFolderList,a=s.getMainStreamListIds,o=s.getSelectedAccountIdByRoute,i=(0,s.getRoute)(),c=a(i),l=Object(Ep.a)(c),d=o(i),E=r(d),_=n(d);return{streamId:l,allFolders:t.allFolders,customFolders:_,activeAccount:E}},e=>({onMove:t=>e(Object(gg.d)(t))}))($g);const eO=Object($o.defineMessages)({multikey_shortcut:{id:"multikey_shortcut",defaultMessage:"{primaryShortcutKey} then {secondaryShortcutKey}"},move_msgs:{id:"move_msgs",defaultMessage:"Move the selected {conversations, select, true {conversations} false {messages}} to another folder"},search_placeholder:{id:"folder_menu.search",defaultMessage:"Find a folder"},no_result_label:{id:"folder_menu.empty_search_result",defaultMessage:"No folders found"}});class tO extends Wo.Component{constructor(e){super(e),o()(this,"_getListStyle",e=>{let t=4*di.G,s=2*di.G*(e+2)+di.G;return this.props.isRTL&&(t=2*di.G*(e+2)+di.G,s=4*di.G),{paddingLeft:s+"px",paddingRight:t+"px",width:62.5*di.G+"px"}}),o()(this,"_handleMenuShow",()=>{this.selectedFolderId=null,this.firstFolderId=null,setTimeout(()=>this.props.isFilterFocused?this._focusFirstMenuItem():this._focusContainer(),0),this.props.onMenuShow()}),o()(this,"_handleMenuHide",()=>{this.setState({filterString:"",isFilterActive:!1,selectedFolderId:null},()=>{this.firstFolderId=null,this.selectedFolderId=null,this.props.onMenuHide()})}),o()(this,"handleKeyDownOnInputField",e=>{if(this.state.isFilterActive&&e.key===C.Wb.ENTER){const t=this.selectedFolderId;if("create-new-folder"===t)return this._handleMenuHide(),void this.renderNewFolderCreationModal();t&&this.handleClick(t,e)}}),o()(this,"selectItem",e=>{if(this.customFoldersList){const t=Object(Zo.findDOMNode)(e),s=this.customFoldersList.getBoundingClientRect(),r=t.getBoundingClientRect();(r.top<s.top||r.bottom>s.bottom)&&t.scrollIntoView()}this.selectedFolderId=e.id,this.setState({selectedFolderId:e.id})}),o()(this,"resetSelectedItem",()=>{this.selectedFolderId=null,this.foldersList.resetCursorIndex()}),o()(this,"renderMenuItems",(e,t)=>{const s=[],r=this.context.intl.formatMessage;return e.forEach(({id:e,name:n,type:a,level:o,disabled:i,shortcut:c})=>{const l=null===this.selectedFolderId&&this.firstFolderId===e&&this.state.isFilterActive&&""!==this.state.filterString;l&&(this.selectedFolderId=i?null:e);const d=this.selectedFolderId===e;s.push(Ko.a.createElement(Bu.a,{key:e,name:"item-move-to-folder-id-"+e},Ko.a.createElement(mi.a,{id:e,"data-test-id":"item-move-to-folder-id-"+e,kind:Si.a.MENUITEM,onClick:this.handleClick.bind(this,e),style:this._getListStyle(o),disabled:!!l||i,title:Object(pt.m)(r,a)||n,overridingClass:d&&!i?t.highlightedListItem:t.listItem,"data-iskeynav":!0},Ko.a.createElement("span",{className:t.fullLabel},Ko.a.createElement("span",{className:t.itemLabel},Ko.a.createElement(Lc.a,{folderId:e})),this.renderDisplayShortcut(a,t,c)))))}),s}),this.state={filterString:"",isFilterActive:!1,selectedFolderId:null},this._handleMenuHide=this._handleMenuHide.bind(this),this._handleMenuShow=this._handleMenuShow.bind(this),this._focusFirstMenuItem=this._focusFirstMenuItem.bind(this),this._focusContainer=this._focusContainer.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleClick=this.handleClick.bind(this),this.renderNewFolderCreationModal=this.renderNewFolderCreationModal.bind(this)}_renderLabel(){return Ko.a.createElement($o.FormattedMessage,{id:"move_button.move_label",defaultMessage:"Move"})}_focusFirstMenuItem(){if(!this.listContainer)return!1;const e=this.listContainer.querySelector("[data-iskeynav]");return e&&e.focus()}_focusContainer(){return this.listContainer&&this.listContainer.focus()}handleClick(e,t){t.preventDefault(),this.props.onClick(e,t),this._handleMenuHide()}handleKeyDown(e,t){if(!this.listContainer.contains(t.target)&&!t.target.contains(this.listContainer))return;if(t.target===this.input.bidiInput)return void this.handleKeyDownOnInputField(t);if(t.key===C.Wb.ARROW_DOWN||t.shiftKey&&"d"===t.key.toLowerCase())return t.preventDefault(),t.stopPropagation(),this._focusFirstMenuItem();const s=e[t.keyCode-48]||e[t.keyCode-96];s&&this.handleClick(s,t)}renderSearchInput(e){const t=this.props.hasShortcuts?"Shift+D":null,s=this.state,r=s.filterString,n=this.context.intl.formatMessage,a=t&&!s.isFilterActive&&""===r,o=Object.assign({},a?{}:{paddingRight:di.G+"px"});return Ko.a.createElement(Bu.a,{key:"folder-search","data-test-id":"item-move-to-folder-id-search"},Ko.a.createElement("div",{className:e.inputContainer,style:o,onClick:e=>e.stopPropagation()},Ko.a.createElement(ei.b,{kind:ti.Kinds.SEARCH_MINI,size:ti.Sizes.XS,colorState:ti.ColorStates.DISABLED}),Ko.a.createElement(Wp.a,{ref:e=>this.input=e,className:e.inputField,type:"text",id:"folder-menu-search-input","data-test-id":"folder-menu-search-input",value:r,onClear:()=>{this.resetSelectedItem(),this.setState({filterString:""}),this._focusFirstMenuItem()},onChange:e=>{this.resetSelectedItem(),this.setState({filterString:e.target.value})},onFocus:()=>this.setState({isFilterActive:!0}),onBlur:()=>this.setState({isFilterActive:!1}),onKeyDown:e=>{this.foldersList.handleKeyDown(e)},isClearable:!0,placeholder:n(eO.search_placeholder),"data-iskeynav":!0}),a?Ko.a.createElement("span",{className:e.shortcut},t):null))}renderEmptyResult(e){const t=this.context.intl.formatMessage;return Ko.a.createElement(Bu.a,null,Ko.a.createElement("div",{className:e.noResultContainer,style:this._getListStyle(0)},t(eO.no_result_label)))}renderAllMailItem(e){const t=(0,this.context.intl.formatMessage)(eO.all_mail_title);null===this.selectedFolderId&&this.firstFolderId===C.v.ALL_MAIL&&this.state.isFilterActive&&""!==this.state.filterString&&(this.selectedFolderId=C.v.ALL_MAIL);const s=this.selectedFolderId===C.v.ALL_MAIL;return Ko.a.createElement(Bu.a,{key:C.v.ALL_MAIL,"data-test-id":"all-mail"},Ko.a.createElement(mi.a,{id:C.v.ALL_MAIL,kind:Si.a.MENUITEM,style:this._getListStyle(0),overridingClass:s?e.highlightedListItem:e.listItem},Ko.a.createElement("span",{className:e.fullLabel},Ko.a.createElement("span",{className:e.itemLabel},Ko.a.createElement(ep.a,{name:t})))))}renderDisplayShortcut(e,t,s){let r;return!this.state.isFilterActive&&this.props.hasShortcuts&&((s||e===C.Mb.INBOX)&&(r=Ko.a.createElement($o.FormattedMessage,zo()({},eO.multikey_shortcut,{values:{primaryShortcutKey:"d",secondaryShortcutKey:""+s}}))),e===C.Mb.ARCHIVE&&(r="e")),r?Ko.a.createElement("span",{className:t.shortcut},r):null}renderNewFolderCreationModal(){const e=this.props,t=e.systemFolders,s=[].concat(e.customFolders).concat(t);Object(lh.a)(Ko.a.createElement(Jg,{allFolders:s}),this.context)}renderAnchorButton(){const e=this.props,t=e.disabled,s=e.showLabel,r=e.isCompact,n=e.onMenuToggle,a=(0,this.context.intl.formatMessage)(eO.move_msgs,{conversations:e.conversations}),o=this.context.getThemeMode()===ai.i.DARK;return Ko.a.createElement("span",null,Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"folder-menu-button","aria-label":a,title:a,kind:ti.Kinds.MOVE_TO_FOLDER,disabled:t,onClick:n,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED,isOnDarkBackground:o,isCompact:r},s&&this._renderLabel()))}renderPopoverContent(e){const t=this.context.getCss(Yg.a),s=this.props,r=s.folderShortcutMap,n=s.excludeAllMailItem,a=s.systemFolders,o=this.state.filterString,i=void 0===o?"":o,c=s.customFolders.filter(({name:e})=>-1!==e.toLowerCase().indexOf(i.toLowerCase())),l=a.filter(({name:e})=>-1!==e.toLowerCase().indexOf(i.toLowerCase())),d=c.length+l.length,E=[].concat(c).concat(l),_=E?E[0]:{};return this.firstFolderId=_?_.id:null,Ko.a.createElement(Ei.b,{triggerOn:e,permittedArrowDirections:[pi.h.UP],zAltitude:di.Pb.POPOVER.HIGH,onShow:this._handleMenuShow,onHide:this._handleMenuHide},Ko.a.createElement("div",{className:t.clippedContainer},Ko.a.createElement("div",{"data-test-id":"folder-menu",className:t.popoverContent,onKeyDown:this.handleKeyDown.bind(this,r),tabIndex:di.Lb.FOLDER_SELECTION_MENU,role:"menu",ref:e=>this.listContainer=e},Ko.a.createElement("ul",{className:t.systemGroup},this.renderSearchInput(t)),Ko.a.createElement(hi.a,{ref:e=>this.foldersList=e,tabIndex:di.Lb.FOLDER_SELECTION_MENU,selectItemInsteadOfFocus:this.selectItem,onEscape:this._handleMenuHide,listNavigationOnInputEnabled:!0},0===d&&Ko.a.createElement("ul",{className:t.lastGroup},this.renderEmptyResult(t)),Ko.a.createElement("div",null,c.length>0&&Ko.a.createElement("ul",{ref:e=>this.customFoldersList=e,className:Gg()(t.customGroup,{[t.lastGroup]:!(l.length>0),[t.systemGroup]:l.length>0})},this.renderMenuItems(c,t)),l.length>0&&Ko.a.createElement("ul",{className:t.lastGroup},!n&&this.renderAllMailItem(t),this.renderMenuItems(l,t)),Ko.a.createElement("ul",{className:t.createFolderAction},Ko.a.createElement(Bu.a,{key:"new-folder",name:"item-move-to-folder-id-new-folder"},Ko.a.createElement(mi.a,{"data-iskeynav":!0,id:"create-new-folder",kind:Si.a.MENUITEM,"data-test-id":"item-move-to-folder-id-new-folder",onClick:this.renderNewFolderCreationModal,overridingClass:"create-new-folder"===this.selectedFolderId?t.highlightedListItem:t.listItem},Ko.a.createElement("span",{className:t.fullLabel},Ko.a.createElement("span",{className:t.itemLabel},Ko.a.createElement($o.FormattedMessage,{id:"move.new_folder",defaultMessage:"Create new folder"})))))))))))}renderPopoverContainer(e){const t=this.context.getCss(Yg.a);return Ko.a.createElement(_i.a,{className:t.popoverContainer},Ko.a.createElement(ui.a,null,this.renderAnchorButton()),this.renderPopoverContent(e))}render(){const e=this.props;return e.onMenuToggle?e.isMenuActive?this.renderPopoverContainer(pi.i.MOUNT):this.renderAnchorButton():this.renderPopoverContainer(pi.i.CLICK)}}tO.contextTypes={intl:$o.intlShape.isRequired,getThemeMode:Vo.a.func,getCss:Vo.a.func,getTheme:Vo.a.func,executeAction:Vo.a.func,getStore:Vo.a.func,store:Vo.a.object,navigateTo:Vo.a.func},tO.defaultProps={showLabel:!0,excludeAllMailItem:!0};var sO=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e),r=s.getEnvironmentSelectors,n=(0,s.getFeaturesSelectors)().isEnabled(C.Eb.CONVERSATIONS);let a=[],o=[];const i={};let c=0;const l=Object(wi.selectors)(e),d=l.getSelectedAccountId,E=l.getSystemFolderListWithSmartView,_=(0,l.getFoldersSelectors)(),u=_.getFolderName,p=_.getPrimaryFolderTypeByFolderId,m=_.getCustomFolderIds,S=_.getAccountIdByFolderId,h=_.getFolderLevelByFolderId,g=t.listId,O=Object(Hi.q)(g),T=O?S(O):d(),A=O?[O]:[],I=[C.Mb.DRAFT,C.Mb.SENT];return a=E(T).reduce((e,{id:t,type:s,kind:r})=>"folder"===r&&-1===I.indexOf(s)?(s===C.Mb.INBOX&&-1===A.indexOf(t)&&c<10&&(i[c]=t),e.concat({id:t,name:u(t),type:s,disabled:-1!==A.indexOf(t),shortcut:s===C.Mb.INBOX&&c<10?c++:void 0})):e,[]),o=m(T).reduce((e,t)=>(-1===A.indexOf(t)&&c<10&&(i[c]=t),e.concat({id:t,name:u(t),type:p(t),level:h(t),disabled:-1!==A.indexOf(t),shortcut:c<10?c++:void 0})),[]),{systemFolders:a,customFolders:o,folderShortcutMap:i,conversations:n,isRTL:"rtl"===r().getPageDirection()}},void 0,void 0,{areStatePropsEqual:(e,t)=>t_()(e.systemFolders,t.systemFolders)&&t_()(e.customFolders,t.customFolders)&&e.folderCount===t.folderCount&&t_()(e.folderShortcutMap,t.folderShortcutMap)&&e.conversations===t.conversations})(tO);const rO=Object($o.defineMessages)({restore_msgs:{id:"restore_from_archive",defaultMessage:"Restore selected {conversations, select, true {conversations} false {messages}} to Inbox"},archive_msgs:{id:"archive_msgs",defaultMessage:"Archive the selected {conversations, select, true {conversations} false {messages}}"}});class nO extends Ko.a.Component{constructor(...e){super(...e),o()(this,"_renderLabel",()=>Ko.a.createElement($o.FormattedMessage,this.props.restore?{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"}:{id:"archive_button.archive_label",defaultMessage:"Archive"}))}render(){const e=this.props,t=e.restore,s=e.disabled,r=e.onClick,n=e.showLabel,a=e.isCompact,o=e.size,i=(0,this.context.intl.formatMessage)(t?rO.restore_msgs:rO.archive_msgs,{conversations:e.conversations}),c=this.context.getThemeMode()===ai.i.DARK;return Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-"+(t?"archive-restore":"archive"),"aria-label":i,title:i,kind:t?ti.Kinds.RESTORE_TO_INBOX:ti.Kinds.ARCHIVE,disabled:s,onClick:r,size:o,colorState:ti.ColorStates.INHERITED,isOnDarkBackground:c,isCompact:a},n&&this._renderLabel())}}o()(nO,"contextTypes",{intl:$o.intlShape.isRequired,getThemeMode:Vo.a.func}),o()(nO,"defaultProps",{size:ti.Sizes.XS,showLabel:!0,onClick:function(){},conversations:!1});var aO=nO,oO=s(605),iO=s(165),cO=s(783),lO=s.n(cO);const dO=Object($o.defineMessages)({select_messages:{id:"selection_controls.menu",defaultMessage:"Select messages"},select_all:{id:"selection_controls.select_all_messages",defaultMessage:"Select all messages"},deselect_all:{id:"selection_controls.deselect_all_messages",defaultMessage:"Deselect all messages"}});class EO extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleCheckboxClicked",e=>{const t=this.props,s=t.onSelectNone,r=t.onSelectAll,n=t.selectionCount;e.preventDefault(),e.stopPropagation(),n>0?s(e,!0):r(e,!0)})}render(){const e=this.context.getCss(lO.a),t=this.context.getThemeMode()===ai.i.DARK,s=this.context.intl,r=s.formatMessage,n=s.formatNumber,a=this.props,o=a.previewpane,i=a.selectionCount,c=void 0===i?0:i;let l=iO.a.NONE;return c>0&&a.allItemsSelected?l=iO.a.ALL:c>0&&(l=iO.a.PARTIAL),Ko.a.createElement("div",{className:e.container},Ko.a.createElement("ul",{className:e.list},Ko.a.createElement(Bu.a,{kind:jm.a.MESSAGE_SELECTION_CHECKBOX},Ko.a.createElement("span",{className:e.checkboxWrapper},Ko.a.createElement(iO.b,{type:l,highContrast:!0,isInverted:t,onClick:this.handleCheckboxClicked,"aria-label":r(c>0?dO.deselect_all:dO.select_all),isOnDarkBackground:t,"data-iskeynav":!0,paddingLess:!0}))),Ko.a.createElement(Bu.a,{kind:jm.a.MESSAGE_SELECTION_CHEVRON},Ko.a.createElement(_i.a,null,Ko.a.createElement(ui.a,null,Ko.a.createElement("span",{className:e.chevronWrapper},Ko.a.createElement(Jo.default,{kind:ti.Kinds.CHEVRON_UP,size:ti.Sizes.XS,rotate:ti.Rotate.D180,title:r(dO.select_messages),"aria-label":r(dO.select_messages),colorState:ti.ColorStates.INHERITED,isOnDarkBackground:t,"data-iskeynav":!0,"data-test-id":"selection-controls-menu-button",paddingLess:!0}))),Ko.a.createElement(Ei.b,{permittedArrowDirections:[pi.h.UP,pi.h.DOWN],triggerOn:pi.i.CLICK,offset:4*di.G,align:pi.a.START,zAltitude:di.Pb.POPOVER.HIGH,onShow:this.props.onMenuShow},Ko.a.createElement("div",{className:e.popoverListWrapper},Ko.a.createElement(hi.a,{focusOnMount:!0,"data-test-id":"selection-controls-menu"},Ko.a.createElement(Bu.a,{name:"select-all"},Ko.a.createElement(mi.a,{onClick:this.props.onSelectAll,kind:Si.a.MENUITEM},Ko.a.createElement($o.FormattedMessage,{id:"select_all",defaultMessage:"All"}))),Ko.a.createElement(Bu.a,{name:"select-none"},Ko.a.createElement(mi.a,{onClick:this.props.onSelectNone,kind:Si.a.MENUITEM},Ko.a.createElement($o.FormattedMessage,{id:"select_none",defaultMessage:"None"}))),Ko.a.createElement(Bu.a,{name:"select-read"},Ko.a.createElement(mi.a,{onClick:this.props.onSelectRead,kind:Si.a.MENUITEM},Ko.a.createElement($o.FormattedMessage,{id:"select_read",defaultMessage:"Read"}))),Ko.a.createElement(Bu.a,{name:"select-unread"},Ko.a.createElement(mi.a,{onClick:this.props.onSelectUnread,kind:Si.a.MENUITEM},Ko.a.createElement($o.FormattedMessage,{id:"select_unread",defaultMessage:"Unread"}))),Ko.a.createElement(Bu.a,{name:"select-starred"},Ko.a.createElement(mi.a,{onClick:this.props.onSelectStarred,kind:Si.a.MENUITEM},Ko.a.createElement($o.FormattedMessage,{id:"select_starred",defaultMessage:"Starred"}))),Ko.a.createElement(Bu.a,{name:"select-unstarred"},Ko.a.createElement(mi.a,{onClick:this.props.onSelectUnstarred,kind:Si.a.MENUITEM},Ko.a.createElement($o.FormattedMessage,{id:"select_unstarred",defaultMessage:"Unstarred"})))))))),Ko.a.createElement(Bu.a,null,Ko.a.createElement("div",null,o===C.ed.NO&&c>0?n(c):""))))}}o()(EO,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func}),o()(EO,"defaultProps",{onMenuShow:()=>{}});var _O=EO;const uO=Object($o.defineMessages)({mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as spam"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as not spam"}});class pO extends Ko.a.Component{constructor(...e){super(...e),o()(this,"_renderLabel",()=>Ko.a.createElement($o.FormattedMessage,this.props.markAsSpam?{id:"spam_icon_label",defaultMessage:"Spam"}:{id:"not_spam_icon_label",defaultMessage:"Not Spam"}))}render(){const e=this.props,t=e.disabled,s=e.markAsSpam,r=e.onClick,n=e.showLabel,a=e.isCompact,o=e.size,i=(0,this.context.intl.formatMessage)(s?uO.mark_msgs_as_spam:uO.mark_msgs_as_not_spam),c=s?"spam":"not-spam",l=this.context.getThemeMode()===ai.i.DARK;return Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-"+c,"aria-label":i,title:i,kind:ti.Kinds.SPAM,disabled:t,onClick:r,size:o,colorState:ti.ColorStates.INHERITED,isOnDarkBackground:l,isCompact:a},n&&this._renderLabel())}}o()(pO,"defaultProps",{size:ti.Sizes.XS,showLabel:!0,onClick:function(){}}),o()(pO,"contextTypes",{intl:$o.intlShape.isRequired,getThemeMode:Vo.a.func});var mO=pO,SO=s(606),hO=s.n(SO);const CO=Ti()(hO.a),gO=Object($o.defineMessages)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class OO extends Ko.a.Component{render(){const e=this.context.intl.formatMessage,t=this.props.disabled,r=this.context.getThemeMode()===ai.i.DARK;return Ko.a.createElement(_i.a,{className:CO.popoverContainer},Ko.a.createElement(ui.a,null,Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"aria-label":e(gO.more_menu_label),title:e(gO.more_menu_label),"data-test-id":"toolbar-more",disabled:t,kind:ti.Kinds.MORE,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED,isOnDarkBackground:r})),Ko.a.createElement(Ei.b,{triggerOn:pi.i.CLICK,permittedArrowDirections:[pi.h.UP],zAltitude:di.Pb.POPOVER.HIGH,onShow:this.props.onMenuShow},Ko.a.createElement("div",{style:{display:"block",minWidth:"200px"}},Ko.a.createElement(Mi.a,zo()({import:"./more_menu_items"},this.props,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1351))},_moduleResolver:function(){return 1351}}),Ko.a.createElement(Mi.b,{loading:!0},Ko.a.createElement(Qd.b,null))))))}}o()(OO,"contextTypes",{executeAction:Vo.a.func,intl:$o.intlShape.isRequired,config:Vo.a.object,getThemeMode:Vo.a.func}),o()(OO,"defaultProps",{onMenuShow:()=>{}});var TO=OO,AO=s(71),IO=s(358),fO=s.n(IO),DO=s(496);function RO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function bO(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?RO(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):RO(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const NO=Ii.i.MSG_LIST_BULK_ACTION,MO=Ii.i.MSG_READ_TOOLBAR,yO=[...gE.d,"d","e","del","backspace","#","shift+e","shift+d","left","right","esc"];class LO extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{showDeleteConfirm:!1,showMoveConfirm:null,moveMenuActive:!1,moveMenuFilterFocused:!1,sortMenuActive:!1}),o()(this,"getClassNames",()=>{const e=this.props,t=e.showLabels,s=e.showActionLabels,r=e.isHamEnabled,n=e.isSpamEnabled,a=e.isArchiveEnabled,o=e.isRestoreEnabled,i=e.isMoveEnabled,c=e.isDeleteEnabled,l=e.isPermDeleteEnabled,d=e.isPreviousEnabled,E=e.isNextEnabled,_=e.enableGroupActions,u=e.enableTriageActions,p=e.hasPrevNext,m=e.previewpaneInPixels,S=this.isListVerticalPreviewMode(),h=this.isFullMessageViewMode();return this.context.getCss(fO.a,{hamSpamDisabled:!r&&!n&&u,archiveRestoreDisabled:!a&&!o&&u,moveDisabled:!i&&u,deletePermDisabled:!c&&!l&&u,groupActionsActive:_,triageActionsActive:u,showTriageActionsLabels:t&&s,verticalSortView:this.isVerticalSortView(),verticalSelectionControlView:this.isverticalSelectionControlView(),selectionControlDisabled:this.disableSelectionControl(),previousDisabled:!d,nextDisabled:!E,fullMessageView:h,listWithVerticalPreview:S,listWithNonVerticalPreview:!S&&!h,closeWrapperMargin:!p&&h,previewpaneInPixels:S&&m})}),o()(this,"getItemSpaceBasedOnPreviewPaneOffset",()=>{const e=this.props,t=e.previewPaneOffset,s=e.previewpaneInPixels;let r={};return this.isListVerticalPreviewMode()&&(r={flexBasis:t>100&&s?t/2+"px":t/2+"%"}),r}),o()(this,"onPreviousItem",e=>{const t=this.props,s=t.listId,r=t.activeGroupId,n=t.isConversationMode,a=Object(wi.selectors)(this.context.store.getState()),o=a.__patchV2MessageGroupItemId__,i=(0,a.getPreviousListItemId)(s,r);if(!i)return;const c=Object(Ui.q)({item:o(i,s),listId:s,isConversationMode:n}),l={mKey:Ii.g.OPEN_MSG,sec:Ii.i.MSG_HEADER,interactionType:Object(Ps.getInteractionFromEvent)(e)};this.context.navigateTo({route:c,streamItem:{listId:s,id:i},i13nModel:l})}),o()(this,"onNextItem",e=>{const t=this.props,s=t.listId,r=t.activeGroupId,n=t.isConversationMode,a=Object(wi.selectors)(this.context.store.getState()),o=a.__patchV2MessageGroupItemId__,i=(0,a.getNextListItemId)(s,r);if(!i)return;const c=Object(Ui.q)({item:o(i,s),listId:s,isConversationMode:n}),l={mKey:Ii.g.OPEN_MSG,sec:Ii.i.MSG_HEADER,interactionType:Object(Ps.getInteractionFromEvent)(e)};this.context.navigateTo({route:c,streamItem:{listId:s,id:i},i13nModel:l})}),o()(this,"handleShortcuts",e=>{const t=this.props,s=t.isArchiveEnabled,r=t.isRestoreEnabled,n=t.hasPrevNext;let a=!1;switch(String.fromCharCode(e.which).toLowerCase()){case"d":a=!0,this.handleMoveMenuShow(e.shiftKey);break;case"e":if(s&&e.shiftKey&&!r){a=!1;break}(s||e.shiftKey&&r)&&(a=!0,this.handleArchive(e));break;case"r":this.enableSingleGroupActions()&&(a=!0,this.handleSingleGroupAction("reply",Ii.e.shortcut));break;case"a":this.enableSingleGroupActions()&&(a=!0,this.handleSingleGroupAction("replyAll",Ii.e.shortcut));break;case"f":this.enableSingleGroupActions()&&(a=!0,this.handleSingleGroupAction("forward",Ii.e.shortcut));break;default:this.context.os===C.Sc.MAC&&e.keyCode===Fi.b.BACKSPACE||e.keyCode===Fi.b.DELETE||e.keyCode===Fi.b.HASHTAG?(a=!0,this.handleDelete(e)):this.props.hasAttachmentPreview||(e.keyCode===Fi.b.ESCAPE?(a=!0,this.handleClose(e)):e.keyCode===Fi.b.LEFT&&n&&this.props.isPreviousEnabled?(a=!0,this.onPreviousItem(e)):e.keyCode===Fi.b.RIGHT&&n&&this.props.isNextEnabled&&(a=!0,this.onNextItem(e)))}a&&(e=>{e.stopPropagation(),e.preventDefault()})(e)}),o()(this,"isListVerticalPreviewMode",()=>this.props.kind===Mp.c.LIST_WITH_PREVIEW_RIGHT),o()(this,"isFullMessageViewMode",()=>this.props.kind===Mp.c.MESSAGE_VIEW),o()(this,"isVerticalSortView",()=>this.props.kind===Mp.c.LIST_WITH_PREVIEW_RIGHT),o()(this,"isverticalSelectionControlView",()=>this.props.kind===Mp.c.LIST_WITH_PREVIEW_RIGHT),o()(this,"enableSingleGroupActions",()=>Mp.b.HAS_SINGLE_GROUP_ACTIONS[this.props.kind]&&this.props.isRafEnabled),o()(this,"disableSelectionControl",()=>{const e=Object(Hi.w)(this.props.listId);return e===C.ac.IMAGES||e===C.ac.DOCUMENTS}),o()(this,"getActionCreators",()=>this.props.shouldDoSelectAll?Np.a[this.props.kind]:Np.b[this.props.kind]),o()(this,"getActionableGroupIds",()=>{const e=this.props,t=e.activeGroupId,s=e.streamId;if(t)return[t];const r=Object(wi.selectors)(this.context.store.getState()),n=r.getSelectedStreamItems;return((0,r.doesStreamExist)(s)?n(s):[]).map(({id:e})=>e)}),o()(this,"isPermDelete",()=>!this.props.isDeleteEnabled&&this.props.isPermDeleteEnabled),o()(this,"isSpam",()=>!!this.props.isSpamEnabled||!this.props.isHamEnabled),o()(this,"isRestore",()=>!this.props.isArchiveEnabled&&this.props.isRestoreEnabled),o()(this,"onToolbarMenuShow",e=>{const t={MoveMenu:{mKey:Ii.g.TOOLBAR_MOVE_MENU,sec:NO},MoreMenu:{mKey:Ii.g.TOOLBAR_MORE_MENU,sec:NO},SelectionMenu:{mKey:Ii.g.TOOLBAR_BULK_CONTEXT_MENU,sec:NO},SortMenu:{mKey:Ii.g.TOOLBAR_SORT_MENU,sec:Ii.i.MSG_LIST_SORT}};if("SortMenu"===e&&this.setState({sortMenuActive:!0}),!t[e])return;const s=t[e],r=s.mKey,n=s.sec;this.context.executeAction(this.getActionCreators().toolbarMenuShown,{i13nModel:{mKey:r,sec:n}})}),o()(this,"onSortMenuClose",()=>{this.setState({sortMenuActive:!1})}),o()(this,"handleSelection",(e,t,s)=>{const r={[C.Hd.ALL+"-checkbox"]:Ii.g.TOOLBAR_SELECTALL_MSG,[C.Hd.NONE+"-checkbox"]:Ii.g.TOOLBAR_SELECT_NONE,[C.Hd.ALL]:Ii.g.TOOLBAR_BULK_CONTEXT_ALL,[C.Hd.NONE]:Ii.g.TOOLBAR_BULK_CONTEXT_NONE,[C.Hd.READ]:Ii.g.TOOLBAR_BULK_CONTEXT_READ,[C.Hd.UNREAD]:Ii.g.TOOLBAR_BULK_CONTEXT_UNREAD,[C.Hd.STARRED]:Ii.g.TOOLBAR_BULK_CONTEXT_STARRED,[C.Hd.UNSTARRED]:Ii.g.TOOLBAR_BULK_CONTEXT_UNSTARRED},n=s?e+"-checkbox":""+e,a=this.getActionCreators(),o=this.props,i=o.listId,c=o.route,l=o.streamId,d=(0,Object(wi.selectors)(this.context.store.getState()).getMainStreamItems)(c);this.context.executeAction(a[e],{listId:i,i13nModel:{mKey:r[n],sec:NO,interactionType:Object(Ps.getInteractionFromEvent)(t)},streamId:l,streamItems:d,selectionType:e})}),o()(this,"handleSingleGroupAction",(e,t=Ii.e.click)=>{const s=this.props,r=s.listId,n=s.activeGroupId;if(n){const s={mKey:Ii.g["TOOLBAR_"+e.toUpperCase()],sec:MO,mKeyGroup:Ii.h[e+"Msg"],interactionType:t};this.context.executeAction(this.getActionCreators()[e],{listId:r,messageGroupId:n,i13nModel:s})}}),o()(this,"handleArchive",e=>{e.preventDefault(),this.props.navigateOnMessageAction();const t=this.getActionCreators(),s=this.getActionableGroupIds(),r={mKey:this.isRestore()?Ii.g.TOOLBAR_RESTORE:Ii.g.TOOLBAR_ARCHIVE,sec:NO,mKeyGroup:this.isRestore()?Ii.h.restore:Ii.h.archiveMsg,interactionType:Object(Ps.getInteractionFromEvent)(e)},n=this.props.conversations;let a;if(a=this.isRestore()?{confirmTitle:AO.a.confirm_restore_title,confirmMessages:AO.a.confirm_restore_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm}:{confirmTitle:AO.a.confirm_archive_title,confirmMessages:AO.a.confirm_archive_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm},!this.props.shouldDoSelectAll||this.state.confirmTitle){if(s.length){const e=this.props,a=e.listId,o=e.allItemsCount,i=e.streamId,c=1===s.length?{id:s[0],listId:a}:void 0;this.context.executeAction(this.isRestore()?t.restore:t.archive,bO({listId:a,streamId:i,streamItem:c,messageGroupIds:s},o&&{allItemsCount:o},{conversations:n,i13nModel:r}))}this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1}),this.hideConfirm()}else this.setState(a)}),o()(this,"handleMove",(e,t)=>{t.preventDefault(),this.props.navigateOnMessageAction();const s=this.props,r=s.listId,n=s.allItemsCount,a=s.conversations,o=s.streamId;if(this.props.shouldDoSelectAll&&!this.state.showMoveConfirm)return void this.setState({showMoveConfirm:e});const i=this.getActionableGroupIds(),c=1===i.length?{id:i[0],listId:r}:void 0;this.context.executeAction(this.getActionCreators().move,bO({destinationFolderId:e,listId:r,messageGroupIds:i},n&&{allItemsCount:n},{conversations:a,streamId:o,streamItem:c,i13nModel:{mKey:Ii.g.TOOLBAR_MOVE,sec:NO,mKeyGroup:Ii.h.moveMsg,interactionType:Object(Ps.getInteractionFromEvent)(t)}})),this.hideMoveConfirm()}),o()(this,"hideMoveConfirm",()=>{this.setState({showMoveConfirm:null})}),o()(this,"handleSpam",e=>{e.preventDefault();const t=this.getActionCreators(),s=this.props,r=s.listId,n=s.allItemsCount,a=s.conversations,o=s.streamId;let i;if(i=this.isSpam()?{confirmTitle:AO.a.confirm_spam_title,confirmMessages:AO.a.confirm_spam_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm}:{confirmTitle:AO.a.confirm_ham_title,confirmMessages:AO.a.confirm_ham_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm},this.props.shouldDoSelectAll&&!this.state.confirmTitle)return void this.setState(i);const c=this.getActionableGroupIds(),l=1===c.length?{id:c[0],listId:r}:void 0;this.props.navigateOnMessageAction(),this.context.executeAction(this.isSpam()?t.markAsSpam:t.markAsNotSpam,bO({listId:r,streamId:o,streamItem:l,messageGroupIds:c},n&&{allItemsCount:n},{conversations:a,i13nModel:{mKey:this.isSpam()?Ii.g.TOOLBAR_SPAM:Ii.g.TOOLBAR_NOT_SPAM,sec:NO,mKeyGroup:this.isSpam()?Ii.h.markSpam:Ii.h.markUnspam,interactionType:Object(Ps.getInteractionFromEvent)(e)}})),this.hideConfirm()}),o()(this,"hideConfirm",()=>{this.setState({confirmTitle:!1})}),o()(this,"handleDelete",e=>{e.preventDefault();const t=this.props,s=t.listId,r=t.navigateOnMessageAction,n=t.allItemsCount,a=t.conversations,o=t.streamId,i=t.isBulkAction,c=this.getActionableGroupIds();if((this.isPermDelete()||i)&&!this.state.showDeleteConfirm)return void this.setState({showDeleteConfirm:!0});const l={mKey:Ii.g.TOOLBAR_DELETE,sec:NO,mKeyGroup:Ii.h.deleteMsg,interactionType:Object(Ps.getInteractionFromEvent)(e)};r();const d=this.context.intl.formatMessage,E=1===c.length?{id:c[0],listId:s}:void 0;this.context.executeAction(this.getActionCreators().delete,bO({listId:s,streamId:o,streamItem:E,messageGroupIds:c,permanent:this.isPermDelete()},n&&{allItemsCount:n},{conversations:a,i13nModel:l,formatMessage:d})),this.hideDeleteConfirm()}),o()(this,"hideDeleteConfirm",()=>{this.state.showDeleteConfirm&&(this.setState({showDeleteConfirm:!1}),this.props.onHideDeleteConfirm())}),o()(this,"handleSort",(e,t)=>{const s={[C.Yd.DATE_DESC]:Ii.g.TOOLBAR_SORT_NEW,[C.Yd.DATE_ASC]:Ii.g.TOOLBAR_SORT_OLD,[C.Yd.UNREAD]:Ii.g.TOOLBAR_SORT_UNREAD,[C.Yd.STARRED]:Ii.g.TOOLBAR_SORT_STARRED,[C.Yd.SENDER]:Ii.g.TOOLBAR_SORT_SENDER,[C.Yd.SUBJECT]:Ii.g.TOOLBAR_SORT_SUBJECT,[C.Yd.ATTACHMENT]:Ii.g.TOOLBAR_SORT_ATTACHMENT,[C.Yd.RELEVANCE]:Ii.g.TOOLBAR_SORT_RELEVANCE},r=this.props,n=r.listId,a=r.route;this.context.navigateTo({route:a.name===C.rd.SEARCH||Object(Hi.X)(a)?Object(Ui.t)(n,{sortOrder:t}):Object(Ui.l)(n,{sortOrder:t}),i13nModel:{mKey:s[t],sec:Ii.i.MSG_LIST_SORT,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}),o()(this,"handleFilterChange",(e,t)=>{const s=Object(Hi.w)(this.props.listId),r={[C.ac.MESSAGES]:"msg",[C.ac.DOCUMENTS]:"docs",[C.ac.IMAGES]:"photo"},n=Ii.g["FILTER_"+t],a=n?{mKey:n,sec:Ii.i.MSG_LIST_BULK_ACTION,interactionType:Object(Ps.getInteractionFromEvent)(e),actionData:{cntxt:r[s]||r[C.ac.MESSAGES]}}:null;this.context.navigateTo({route:{name:C.rd.SEARCH,params:{query:Object(Hi.ib)(Object(Hi.gb)(this.props.listId,{listFilter:t}))}},i13nModel:a})}),o()(this,"handleClose",e=>{const t=this.props,s=t.listId,r=t.streamId,n=t.kind,a=t.route,o={mKey:Ii.g.TOOLBAR_CLOSE_MSG,sec:MO,interactionType:Object(Ps.getInteractionFromEvent)(e)};if(e.key===C.Wb.ESCAPE){if(a.name===C.rd.FOLDER)return;this.props.onClose({listId:s,i13nModel:o})}else n===Mp.c.LIST_WITH_PREVIEW_RIGHT||n===Mp.c.LIST_WITH_PREVIEW_BOTTOM?this.props.closePreviewMessage({streamId:r,listId:s,i13nModel:o}):this.props.onClose({listId:s,i13nModel:o})}),o()(this,"handleNext",e=>{const t=this.props;this.props.loadMoreItems({listId:t.listId,currentGroupId:t.activeGroupId,allItemsSelected:t.allItemsSelected}),this.onNextItem(e)}),o()(this,"handleMoveMenuToggle",e=>{e.stopPropagation(),this.setState({moveMenuActive:!this.state.moveMenuActive&&this.props.enableTriageActions})}),o()(this,"handleMoveMenuShow",e=>{const t=this.props.enableTriageActions,s={moveMenuActive:t};e&&(s.moveMenuFilterFocused=t),this.setState(s),this.onToolbarMenuShow("MoveMenu")}),o()(this,"handleMoveMenuHide",()=>{this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1})}),o()(this,"handleExpandContractClick",e=>{e.stopPropagation(),this.props.onChangeAllMessageCardExpansion({listId:this.props.listId,streamId:this.props.streamId,messageGroupId:this.props.activeGroupId,expansionState:this.props.isCollapseAllEnabled?C.L.COLLAPSED:C.L.EXPANDED})}),o()(this,"handleBackToList",e=>{const t=this.props.listId;this.context.navigateTo({route:Object(Ui.n)(t),i13nModel:{mKey:Ii.g.TOOLBAR_BACK_TO_LIST,sec:Ii.i.MSG_READ_TOOLBAR,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}),o()(this,"renderExpandMessages",e=>{const t=this.props,s=t.isCollapseAllEnabled,r=t.isExpandAllEnabled,n=this.context.intl.formatMessage,a=this.context.getThemeMode()===ai.i.DARK;return s||r?Ko.a.createElement("div",{className:e.expandCollapse},Ko.a.createElement(Jo.default,{title:n(AO.a[s?"collapse_list":"expand_list"]),"aria-label":n(AO.a[s?"list_is_expanded":"list_is_collapsed"]),kind:s?ti.Kinds.COLLAPSE_LIST:ti.Kinds.EXPAND_LIST,size:ti.Sizes.XS,paddingLess:!1,colorState:ti.ColorStates.INHERITED,onClick:this.handleExpandContractClick,"data-iskeynav":!0,isOnDarkBackground:a})):null}),o()(this,"renderSelectionControls",e=>{const t=Object(Hi.w)(this.props.listId),s=this.props,r=s.listId,n=s.allItemsSelected,a=s.previewpane,o=s.selectionCount;if(Object(Hi.P)(r))switch(t){case C.ac.IMAGES:case C.ac.DOCUMENTS:return null}return Ko.a.createElement("div",{className:e.selectionControlsWrapper},Ko.a.createElement(_O,{onMenuShow:this.onToolbarMenuShow.bind(null,"SelectionMenu"),onSelectAll:(e,t)=>this.handleSelection(C.Hd.ALL,e,t),onSelectNone:(e,t)=>this.handleSelection(C.Hd.NONE,e,t),onSelectRead:e=>this.handleSelection(C.Hd.READ,e),onSelectUnread:e=>this.handleSelection(C.Hd.UNREAD,e),onSelectStarred:e=>this.handleSelection(C.Hd.STARRED,e),onSelectUnstarred:e=>this.handleSelection(C.Hd.UNSTARRED,e),selectionCount:o,allItemsSelected:n,previewpane:a}))}),o()(this,"renderArchive",e=>{const t=this.props,s=t.showLabels,r=t.showActionLabels;return Ko.a.createElement(Bu.a,null,Ko.a.createElement("div",{className:e.archiveRestore},Ko.a.createElement(aO,{conversations:t.conversations,disabled:!this.props.enableTriageActions||!(t.isRestoreEnabled||t.isArchiveEnabled),onClick:this.handleArchive,restore:this.isRestore(),showLabel:s&&r})))}),o()(this,"renderMoveMenu",e=>{const t=this.context.intl.formatMessage,s=this.props,r=s.showLabels,n=s.showActionLabels,a=s.disabledMoveTitle,o=s.conversations,i=s.listId,c=!this.props.enableTriageActions||!s.isMoveEnabled,l=c&&a?t(a):t(AO.a.move_msgs,{conversations:o});return Ko.a.createElement(Bu.a,{name:"move-menu-item",title:l},Ko.a.createElement("div",{className:e.move},Ko.a.createElement(sO,{"data-iskeynav":!0,title:l,showLabel:r&&n,tabIndex:-1,disabled:c,isMenuActive:this.state.moveMenuActive,isFilterFocused:this.state.moveMenuFilterFocused,onClick:this.handleMove,onMenuShow:this.handleMoveMenuShow,onMenuHide:this.handleMoveMenuHide,onMenuToggle:this.handleMoveMenuToggle,hasShortcuts:!this.state.moveMenuFilterFocused,primaryShortcutKey:"d",archiveShortcutKey:"e",listId:i})))}),o()(this,"renderDelete",e=>{const t=this.props,s=t.showLabels,r=t.showActionLabels,n=t.enableTriageActions,a=t.conversations,o=t.isPermDeleteEnabled||t.isDeleteEnabled;return Ko.a.createElement(Bu.a,{name:this.isPermDelete()?"perm-delete":"delete"},Ko.a.createElement("div",{className:e.deletePerm},Ko.a.createElement(oO.a,{disabled:!n||!o,onClick:this.handleDelete,permanent:this.isPermDelete(),showLabel:s&&r,conversations:a})))}),o()(this,"renderSpam",e=>{const t=this.props,s=t.showLabels,r=t.showActionLabels,n=t.enableTriageActions,a=t.isSpamEnabled||t.isHamEnabled;return Ko.a.createElement(Bu.a,{name:this.isSpam()?"not-spam":"spam"},Ko.a.createElement("div",{className:e.hamSpam},Ko.a.createElement(mO,{disabled:!n||!a,markAsSpam:this.isSpam(),onClick:this.handleSpam,showLabel:s&&r})))}),o()(this,"renderMoreMenu",e=>{const t=this.props,s=t.listId,r=t.streamId;return Ko.a.createElement(Bu.a,{name:"more-menu-item"},Ko.a.createElement("div",{className:e.more},Ko.a.createElement(TO,{"data-iskeynav":!0,disabled:!t.enableTriageActions,activeGroupId:t.activeGroupId,onMenuShow:this.onToolbarMenuShow.bind(null,"MoreMenu"),listId:s,streamId:r})))}),o()(this,"renderSortMenu",()=>{const e=this.context.getThemeMode()===ai.i.DARK,t=this.context.intl.formatMessage,s=this.props,r=s.currentSortOrder,n=s.showLabels,a=function(e,t,s,r){const n=r?Object(Hi.w)(r):C.ac.MESSAGES;switch(e.name){case C.rd.SEARCH:return n===C.ac.IMAGES||n===C.ac.DOCUMENTS?xg:Bg;default:return t===C.Mb.DRAFT?[C.Yd.DATE_DESC,C.Yd.DATE_ASC,C.Yd.STARRED,C.Yd.SUBJECT]:Object(Hi.X)(e)?[C.Yd.DATE_DESC,C.Yd.DATE_ASC,C.Yd.ATTACHMENT]:s?[C.Yd.DATE_DESC,C.Yd.DATE_ASC,C.Yd.UNREAD,C.Yd.STARRED]:t===C.Mb.SENT?Wg:Vg}}(s.route,s.folderType,s.conversations,s.listId),o=n?t(AO.a.sort_menu):null,i=this.getClassNames(),c=this.getItemSpaceBasedOnPreviewPaneOffset(),l=a.map(e=>Ko.a.createElement(Bu.a,{key:e,name:"sort-by-"+e},Ko.a.createElement(mi.a,{"data-test-id":"sort-by-"+e,kind:Si.a.MENUITEM,onClick:t=>this.handleSort(t,e),style:{position:"relative"}},e===r?Ko.a.createElement("span",{className:i.sortByMenuItemIcon},Ko.a.createElement(ei.b,{kind:ti.Kinds.CHECKMARK,size:ti.Sizes.XXS,colorState:ti.ColorStates.NORMAL})):null,Ko.a.createElement("span",{className:i.sortByMenuItemLabel},t(AO.a["sort_by_"+e])))));return Ko.a.createElement("div",{style:c,className:i.viewMenu},Ko.a.createElement("div",{className:i.sortMenuContainer},Ko.a.createElement(_i.a,null,Ko.a.createElement(ui.a,null,Ko.a.createElement(mi.a,{"data-test-id":"toolbar-sort-menu-button",kind:Si.a.CHROMELESS,tabIndex:-1,"data-iskeynav":!0,isOnDarkBackground:e,ref:e=>{this.sortMenuRef=e}},Ko.a.createElement("span",{className:i.sortByMenu},o,Ko.a.createElement(ei.b,{kind:ti.Kinds.CHEVRON_UP,size:ti.Sizes.XS,rotate:ti.Rotate.D180,colorState:ti.ColorStates.INHERITED})))),Ko.a.createElement(Ei.b,{triggerOn:pi.i.CLICK,permittedArrowDirections:[pi.h.UP],offset:4*di.G,align:pi.a.END,zAltitude:di.Pb.POPOVER.HIGH,"data-test-id":"toolbar-sort-popover",onShow:this.onToolbarMenuShow.bind(null,"SortMenu"),onHide:this.onSortMenuClose},Ko.a.createElement("div",{className:i.popoverListWrapper},Ko.a.createElement(hi.a,{focusOnMount:!0,"data-test-id":"toolbar-sort-menu"},l))))))}),o()(this,"renderListFilter",()=>{const e=this.context.intl.formatMessage,t=Object(Hi.x)(this.props.listId).toLowerCase(),s=this.getClassNames(),r=Ko.a.createElement(Bu.a,{key:t,name:"list-filter-"+t},Ko.a.createElement(mi.a,{"data-test-id":"list-filter-from",kind:Si.a.MENUITEM,onClick:e=>this.handleFilterChange(e,C.bc.FROM)},e(AO.a.list_filter_from)),Ko.a.createElement(mi.a,{"data-test-id":"list-filter-to",kind:Si.a.MENUITEM,onClick:e=>this.handleFilterChange(e,C.bc.TO)},e(AO.a.list_filter_to)),Ko.a.createElement(mi.a,{"data-test-id":"list-filter-all",kind:Si.a.MENUITEM,onClick:e=>this.handleFilterChange(e,C.bc.ALL)},e(AO.a.list_filter_all)));return Ko.a.createElement("div",{className:s.listFilterViewMenu},Ko.a.createElement(_i.a,null,Ko.a.createElement(ui.a,null,Ko.a.createElement(mi.a,{"data-test-id":"toolbar-list-filter-button",kind:Si.a.CHROMELESS,tabIndex:-1,"data-iskeynav":!0},Ko.a.createElement("span",{className:s.listFilterMenu},e(AO.a["list_filter_"+t]),Ko.a.createElement(ei.b,{kind:ti.Kinds.CHEVRON_UP,size:ti.Sizes.XS,rotate:ti.Rotate.D180,colorState:ti.ColorStates.INHERITED})))),Ko.a.createElement(Ei.b,{triggerOn:pi.i.CLICK,offset:5*di.G,align:pi.a.CENTER,zAltitude:di.Pb.POPOVER.HIGH,"data-test-id":"toolbar-list-filter-popover"},Ko.a.createElement("div",{className:s.popoverListWrapper},Ko.a.createElement(hi.a,{focusOnMount:!0,"data-test-id":"toolbar-list-filter-menu"},r)))))}),o()(this,"renderListHeading",()=>{const e=Object(Hi.w)(this.props.listId),t=this.context.intl.formatMessage,s=this.getClassNames();switch(e){case C.ac.IMAGES:return Ko.a.createElement("span",{className:s.listHeading},t(AO.a.photos_from_email));case C.ac.DOCUMENTS:return Ko.a.createElement("span",{className:s.listHeading},t(AO.a.documents))}}),o()(this,"renderTriageActions",()=>{const e=this.getClassNames();return Ko.a.createElement("ul",{className:e.triageActionList},this.renderArchive(e),this.renderMoveMenu(e),this.renderDelete(e),this.renderSpam(e),this.renderMoreMenu(e))}),o()(this,"renderDeleteConfirm",()=>{if(this.state.showDeleteConfirm){const e=this.props,t=e.allItemsSelected,s=e.allItemsCount,r=e.selectAll,n=e.conversations,a=this.context.intl.formatMessage,o=this.getActionableGroupIds(),i={conversations:n,count:r&&t&&s>0?s:o.length};return Ko.a.createElement(Ju.a,{title:a(AO.a.confirm_delete_title),message:a(this.props.isPermDeleteEnabled?AO.a.confirm_permanently_delete_messages:AO.a.confirm_delete_messages,i),onConfirm:this.handleDelete,onAbort:this.hideDeleteConfirm})}return null}),o()(this,"renderMoveConfirm",e=>{if(this.state.showMoveConfirm){const t=this.props,s=t.allItemsSelected,r=t.allItemsCount,n=t.conversations,a=t.selectAll,o=this.context.intl.formatMessage,i=this.getActionableGroupIds(),c={conversations:n,count:a&&s&&r>0?r:i.length};return Ko.a.createElement(Ju.a,{title:o(AO.a.confirm_move_title),message:o(AO.a.confirm_move_messages,c),onConfirm:t=>this.handleMove(e,t),onAbort:this.hideMoveConfirm})}return null}),o()(this,"renderConfirm",(e,t,s,r)=>{const n=this.props,a=n.allItemsSelected,o=n.allItemsCount,i=n.conversations,c=n.selectAll,l=this.context.intl.formatMessage,d=this.getActionableGroupIds(),E={conversations:i,count:c&&a&&o>0?o:d.length};return Ko.a.createElement(Ju.a,{title:l(e),message:l(t,E),onConfirm:s,onAbort:r})}),o()(this,"renderSingleGroupActions",()=>{const e=this.context.intl.formatMessage,t=this.getClassNames(),s=[{kind:ti.Kinds.REPLY,action:"reply",stringKey:"message_reply"},{kind:ti.Kinds.REPLY_ALL,action:"replyAll",stringKey:"message_reply_all"},{kind:ti.Kinds.FORWARD,action:"forward",stringKey:"message_forward"}],r=this.context.getThemeMode()===ai.i.DARK,n=s.map(({kind:s,action:n,stringKey:a})=>{const o=e(AO.a[a]);return Ko.a.createElement(Bu.a,{name:s,key:s,className:t.singleGroupItem+" "+t.rtlRawScaleX},Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-"+s,"aria-label":o,title:o,kind:s,size:ti.Sizes.XS,disabled:!this.props.enableGroupActions,onClick:e=>this.handleSingleGroupAction(n,Object(Ps.getInteractionFromEvent)(e)),colorState:ti.ColorStates.INHERITED,isOnDarkBackground:r}))});return Ko.a.createElement("div",{className:t.singleGroupActions},Ko.a.createElement("ul",{key:"group-actions",className:t.singleGroupActionList},n))}),o()(this,"renderPreviousNext",e=>{const t=this.context.intl.formatMessage,s={conversations:this.props.conversations},r=!this.props.isPreviousEnabled,n=!this.props.isNextEnabled;return Ko.a.createElement("div",{className:e.nextPrevContainer},Ko.a.createElement("span",{className:r?e.nextPrevDisabled:e.nextPrev},Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-previous",kind:ti.Kinds.INPUT_ARROW_DOWN,rotate:ti.Rotate.D180,paddingLess:!0,disabled:r,size:ti.Sizes.S,onClick:this.onPreviousItem,title:t(AO.a.previous,s),"aria-label":t(AO.a.previous,s),colorState:ti.ColorStates.INHERITED})),Ko.a.createElement("span",{className:n?e.nextPrevDisabled:e.nextPrev},Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-next",kind:ti.Kinds.INPUT_ARROW_DOWN,paddingLess:!0,disabled:n,size:ti.Sizes.S,onClick:this.handleNext,title:t(AO.a.next,s),"aria-label":t(AO.a.next,s),colorState:ti.ColorStates.INHERITED})))}),o()(this,"renderCheckboxAndFilters",()=>{const e=this.props,t=e.kind,s=e.showListFilter,r=this.getClassNames(),n=this.getItemSpaceBasedOnPreviewPaneOffset();if(Mp.b.HAS_GROUP_SELECTION[t]||s)return Ko.a.createElement("div",{style:n,className:r.cboxWrapper},Mp.b.HAS_GROUP_SELECTION[t]&&this.renderSelectionControls(r),s&&this.renderListFilter())}),o()(this,"renderUsabiltyOptions",()=>{const e=this.getClassNames(),t=this.context.intl.formatMessage,s=this.props,r=s.kind,n=s.hasAttachmentPreview,a=s.hasPrevNext,o=this.context.getThemeMode()===ai.i.DARK;if(Mp.b.HAS_EXPAND_COLLAPSE[r]||Mp.b.HAS_PREVIOUS_NEXT[r]||Mp.b.HAS_CLOSE[r]&&!n)return Ko.a.createElement("div",{className:e.usabiltyOptions},Mp.b.HAS_EXPAND_COLLAPSE[r]&&this.renderExpandMessages(e),a&&this.renderPreviousNext(e),Mp.b.HAS_CLOSE[r]&&!n?Ko.a.createElement("div",{"data-test-id":"close-wrapper",className:e.closeWrapper},Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-close",disabled:!this.props.enableGroupActions,kind:ti.Kinds.CLOSE,size:ti.Sizes.XS,onClick:this.handleClose,title:t(AO.a.close),"aria-label":t(AO.a.close),colorState:ti.ColorStates.INHERITED,isOnDarkBackground:o})):null)}),o()(this,"renderSearchRelevanceCue",()=>this.sortMenuRef?Ko.a.createElement(Ei.b,{"date-test-id":"search-relevance-cue",popoverAnchor:this.sortMenuRef,isRTL:this.props.isRTL,align:pi.a.END,triggerOn:pi.i.MOUNT,permittedArrowDirections:[pi.h.UP],zAltitude:di.Pb.POPOVER.HIGH,bg:pi.d.GRADIENT,borderRadius:pi.e.MEDIUM,ref:e=>{this.searchRelevanceCuePopoverContent=e}},Ko.a.createElement(Mi.a,{import:"../search_relevance_cue/index",close:this.state.sortMenuActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1315))},_moduleResolver:function(){return 1315}})):null)}shouldComponentUpdate(e){return!e.skipRendering}componentDidMount(){this.context.bindShortcut(yO,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(yO)}render(){const e=this.getClassNames(),t=this.props,s=t.kind,r=t.showSearchRelevanceCue,n=this.state,a=n.confirmTitle,o=n.confirmMessages,i=n.handleConfirm,c=n.hideConfirm;return Ko.a.createElement(R_.a,{axis:R_.b.HORIZONTAL,circularNavigation:!1,className:e.container,"data-test-id":"message-toolbar",groupTabIndex:di.Lb.MESSAGE_LIST_TOOLBAR,role:"toolbar"},this.renderCheckboxAndFilters(),this.props.showBackToList?Ko.a.createElement(Kg.a,{onClick:this.handleBackToList}):null,this.enableSingleGroupActions()&&this.renderSingleGroupActions(),Ko.a.createElement("div",{className:e.mainActionControls},this.props.showTriageActions?this.renderTriageActions():null,this.props.showListHeading?this.renderListHeading():null),this.renderUsabiltyOptions(),Mp.b.HAS_SORT[s]&&this.renderSortMenu(),r&&this.renderSearchRelevanceCue(),Ko.a.createElement("hr",{className:e.bottomLine}),this.renderDeleteConfirm(),this.renderMoveConfirm(this.state.showMoveConfirm),a?this.renderConfirm(a,o,i,c):null)}}o()(LO,"contextTypes",{navigateTo:Vo.a.func.isRequired,executeAction:Vo.a.func.isRequired,intl:$o.intlShape.isRequired,config:Vo.a.object.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func,bindShortcut:Vo.a.func,unbindShortcut:Vo.a.func,store:Vo.a.object.isRequired,os:Vo.a.oneOf(Object(f.h)(C.Sc))}),o()(LO,"defaultProps",{currentSortOrder:C.Yd.DATE_DESC,showLabels:!0,showActionLabels:!0,hasAttachmentPreview:!1,navigateOnMessageAction:()=>{},selectAll:!1,previewpaneInPixels:!1});var PO=Object(qo.connect)((e,t)=>{const s=t.activeGroupId,r=void 0===s?"":s,n=t.kind,a=t.listId,o=t.showLabels,i=t.showActionLabels,c=t.hasAttachmentPreview,l=t.navigateOnMessageAction,d=Object(wi.selectors)(e),E=d.getAction,_=d.getFeaturesSelectors,u=d.getRoute,p=d.__patchV2MessageGroupItemId__,m=d.doesFolderIdExist,S=d.getPrimaryFolderTypeByFolderId,h=d.getFolderIdsByName,g=d.getAllItemsCountForListId,O=d.doesListExist,T=d.getListItemIds,A=d.doesMessageGroupIdExist,I=d.getListItemIdIndex,f=d.isAllCardsExpanded,D=d.getMainStreamListIds,R=d.isFeatureEnabled,b=d.getSelectedAccountId,N=d.getAccountIdsOfSelectedItems,M=u(),y=Object(Hi.q)(a),L=g(a),P=Object(Hi.w)(a),v=Object(Hi.P)(a),F=M.name===C.rd.SEARCH,U=_(),w=R(C.Eb.CONVERSATIONS),G=R(C.Eb.SEARCH_RELEVANCE_CUE)&&F&&!Object(Hi.Y)(a);let H,j;if(r&&A(r)&&(j=p(r,a)),y)m(y)&&(H=S(y));else if(j){const e=Object(Eh.a)(j);H=S(e.folder.id)}if(F){const e=Object(Hi.r)(a),t=e.folderNames;let s=e.folderIds,r=[];t.length&&(s=Es()(t.reduce((e,t)=>e.concat(h(t)),s))),s.length&&(r=s.map(e=>S(e))),1===r.length&&r[0]===C.Mb.ARCHIVE&&(H=r[0])}const k=Object(Ep.a)(D(u())),x=Object(wi.selectors)(e),B=x.getSelectedStreamItems,V=((0,x.doesStreamExist)(k)?B(k):[]).map(({id:e})=>e),W=O(a)?T(a):[],K=I(a,r),q=b(),Y=n===Mp.c.MESSAGE_VIEW,z=W.length>0&&W.length===V.length,Q=F&&!!Object(Hi.n)(a),Z=!(F&&v&&(P===C.ac.IMAGES||P===C.ac.DOCUMENTS)),X=Object(DO.a)({kind:n,activeGroup:j,allCardsExpanded:j?f(a,j.id):null,primaryFolderType:H,listContentType:P}),$=N(k,a),J=X.move&&$.length>1?AO.a.disable_move_msgs_across_accunts:AO.a.disable_move_msgs_default;if(X.move=X.move&&$.length<=1,1===$.length&&(X.move=X.move&&$[0]===q),n===Mp.c.MESSAGE_VIEW){const e=W.length;X.previous=!!e&&K>0,X.next=!!e&&K<e-1}const ee=U.getSetting(C.Kd.PREVIEW_PANE),te=U.getSetting("bulkActionDialogThreshold"),se=R("selectAll");return{enableGroupActions:ee?!!r&&0===V.length:!!r,enableTriageActions:""!==r||V.length>0,isBulkAction:!r&&V.length>=te,isSpamEnabled:!!X.spam,isHamEnabled:!!X.ham,isArchiveEnabled:!!X.archive,isRestoreEnabled:!!X.restore,isMoveEnabled:!!X.move,isDeleteEnabled:!!X.delete,isPermDeleteEnabled:!!X.permDelete,hasPrevNext:!!X.prevNext,isPreviousEnabled:!!X.previous,isNextEnabled:!!X.next,isRafEnabled:!!X.raf,isCollapseAllEnabled:!!X.collapseAll,isExpandAllEnabled:!!X.expandAll,shouldDoSelectAll:se&&z&&!r&&(L>=te||L>V.length),selectionCount:se&&z?L:V.length,skipRendering:E().type===sc.STREAM_CURSOR_MOVED,activeGroupId:r,folderType:H,currentSortOrder:Object(Hi.L)(a),disabledMoveTitle:J,kind:n,listId:a,route:M,showLabels:o,showActionLabels:i,hasAttachmentPreview:c,showBackToList:Y,showListFilter:Q,showTriageActions:Z,showListHeading:!Z,allItemsSelected:z,navigateOnMessageAction:l,allItemsCount:L,previewpane:ee,bulkActionDialogThreshold:te,selectAll:se,conversations:w,streamId:k,isConversationMode:R(C.Eb.CONVERSATIONS),showSearchRelevanceCue:G,previewpaneInPixels:R(C.Eb.PREVIEW_PANE_IN_PIXELS)}},e=>({onChangeAllMessageCardExpansion:t=>e(Object(Kh.a)(t)),onClose:t=>e(Object(oi.c)(t)),closePreviewMessage:t=>e(Object(oi.d)(t)),loadMoreItems:t=>e(Object(kg.a)(t)),onHideDeleteConfirm:t=>e(Object(gg.b)(t))}),void 0,{areOwnPropsEqual:f.a})(LO);function vO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function FO(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?vO(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vO(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const UO=(e={})=>(t,s)=>(0,Object(wi.selectors)(s()).isOldNewMailInboxStyle)()?t((e=>FO({},e,{isRead:!1,type:sc.RECENT_AND_READ_CHANGE_REQUESTED}))(FO({},e))):t((e=>FO({},e,{isRead:!1,type:sc.READ_CHANGE_REQUESTED}))(FO({},e))),wO=e=>FO({},e,{isRead:!0,type:sc.READ_CHANGE_REQUESTED});var GO=e=>(t,s)=>{const r=e.streamItem,n=Object(wi.selectors)(s()),a=n.getMessageFlags,o=n.isOldNewMailInboxStyle,i=(0,n.getMessageIdsFromMessageGroupId)(r.id).every(e=>a(e).read);return o()&&!1===i?t(FO({type:sc.RECENT_AND_READ_CHANGE_REQUESTED},e,{isRead:i})):t(FO({type:sc.READ_CHANGE_REQUESTED},e,{isRead:i}))};function HO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function jO(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?HO(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):HO(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const kO=e=>jO({},e,{isStarred:!1,type:sc.STAR_CHANGE_REQUESTED}),xO=e=>jO({},e,{isStarred:!0,type:sc.STAR_CHANGE_REQUESTED});var BO=e=>(t,s)=>{const r=e.i13nModel,n=e.streamId,a=e.streamItem,o=e.triageActionType,i=Object(wi.selectors)(s()),c=i.getMessageFlags,l=(0,i.getMessageIdsFromMessageGroupId)(a.id).some(e=>c(e).flagged);return t(jO({streamItem:a,streamId:n},r&&{i13nModel:jO({},r,{mKey:l?Ii.g.MARK_MSG_UNSTARRED:Ii.g.MARK_MSG_STARRED})},{isStarred:l,triageActionType:o,type:sc.STAR_CHANGE_REQUESTED}))},VO=s(162);function WO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function KO(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?WO(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):WO(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const qO=Ii.i.MSG_BODY,YO=["shift+p"],zO=Object($o.defineMessages)({conversation_view_label:{id:"message_group_view.conversation_view",defaultMessage:"Conversation View"},message_view_label:{id:"message_group_view.message_view",defaultMessage:"Message View"}}),QO=e=>`${e.csid}-${e.folderType}`,ZO=e=>"MessageGroupView-"+e;class XO extends Ko.a.Component{constructor(e){super(e),o()(this,"getSavedScrollTop",()=>this.initialScrollTop?this.initialScrollTop:this.props.preservedState&&this.props.preservedState.uiState?this.initialScrollTop=this.props.preservedState.uiState.scrollTop:0),o()(this,"navigateOnMessageAction",()=>{const e=this.props;this.props.loadMoreItems({listId:e.listId,currentGroupId:e.messageGroup.id})}),o()(this,"scrollToCardGroup",()=>{if(this.cardGroup){Object(Zo.findDOMNode)(this.cardGroup).scrollIntoView({behavior:"smooth",block:"start"})}}),o()(this,"getUIState",()=>{const e=this._scrollContainer&&Object(Zo.findDOMNode)(this._scrollContainer),t=this.props.preservedState.uiState,s=void 0===t?{}:t;return e?{type:C.Ce.COMPONENT_UI_STATE,hash:ZO(this.props.groupIdStateHash),id:this.props.messageGroup.id,uiState:KO({},s,{scrollTop:e.scrollTop})}:{}}),o()(this,"handleShortcuts",e=>{const t=String.fromCharCode(e.which).toLowerCase(),s=this._getFirstAttachment();"p"===t&&e.shiftKey&&s&&(e.stopPropagation(),e.preventDefault(),Object(cn.m)(s)?this.previewAttachment(s.id,Object(Ps.getInteractionFromEvent)(e)):this.props.onPreviewAttachmentAlert({downloadUrl:s.downloadUrl}))}),o()(this,"previewAttachment",(e,t)=>{const s=this.props,r=s.messageGroup,n=s.route,a=n.query.messagePreview||s.previewPaneSetting!==C.ed.NO&&-1===[C.rd.MESSAGE_FROM_FOLDER_LIST,C.rd.MESSAGE_FROM_SEARCH_LIST].indexOf(n.name)?{messagePreview:"1"}:{},o={mKey:Ii.g.OPEN_DOC_PREVIEW,sec:Ii.i.ATTM_PREVIEW,interactionType:t};this.context.navigateTo({route:Object(Ui.d)(this.props.listId,r.id,e,a),i13nModel:o})}),o()(this,"renderAttachments",e=>{const t=e.attachments,s=e.folder,r=void 0!==s&&s.types.filter(e=>e===C.Mb.BULK).length>0;return t&&t.length?Ko.a.createElement(VS.a,{ref:t=>this._attachmentTrays[e.id]=t,attachments:t,readOnly:!0,allowDownload:!r,mayContainVirus:r,message:e,onAttachmentPreview:this.previewAttachment,shouldShowSpamAttachmentWarning:this.props.shouldShowSpamAttachmentWarning}):null}),o()(this,"scrollToAttachmentTray",e=>{const t=this._attachmentTrays[e];t&&Object(Zo.findDOMNode)(t)&&Object(Zo.findDOMNode)(t).scrollIntoView()}),o()(this,"hasDeco",(e,t)=>t.some(t=>t&&t.id===e)),o()(this,"handleMailtoClick",(e,t)=>{if(!t)return;const s=Object(Ps.generateUID)();this.context.navigateTo({route:Object(Ui.f)(s),mailtoAttr:t,message:e})}),o()(this,"handleMessageRead",(e,{i13nModel:t={}})=>{const s=this.props,r=!e.flags.read;(0,s.onToggleRead)(r,{messageIds:[e.id],streamId:s.streamId,streamItem:{messageIds:[e.id],id:s.messageGroup.id,listId:s.listId},i13nModel:Object.assign({mKey:r?Ii.g.MSG_HDR_MARK_READ:Ii.g.MSG_HDR_MARK_UNREAD,sec:qO,mKeyGroup:r?Ii.h.markRead:Ii.h.markUnread},t)})}),o()(this,"handleMessageStar",(e,{i13nModel:t={}})=>{const s=this.props,r=!e.flags.flagged;(0,s.onToggleStar)(r,{messageIds:[e.id],streamId:s.streamId,streamItem:{messageIds:[e.id],id:s.messageGroup.id,listId:s.listId},i13nModel:Object.assign({mKey:r?Ii.g.MSG_HDR_MARK_STAR:Ii.g.MSG_HDR_MARK_UNSTAR,sec:qO,mKeyGroup:r?Ii.h.markStar:Ii.h.markUnstar},t)})}),o()(this,"_logVisibilityStat",e=>{const t=this.props;yo.a.error("message_visibility_stat",KO({},e,{hasCoupon:t.hasCoupon,conversations:t.conversations,hasCalendarCard:t.hasCalendarCard}))}),o()(this,"renderCard",(e,t,s)=>{const r=this.props,n=r.cards,a=r.bodyStates,o=r.retryCounts,i=r.listId,c=r.messageGroup,l=r.windowDimensions,d=r.hasAttachmentPreview,E=r.canTakeFocus,_=r.conversations,u=r.hasCalendarCard,p=r.canEditSubject,m=r.isSendRequested;let S;const h=t.message,g=QO(t),O=t.messageId,T=t.expansionState,A=a[O],I=o[O],f=this.state.activeItem===g,D=n.findIndex(e=>e.id===t.id),R=[C.L.EXPANDED,C.L.TEMPORARY_EXPANSION].indexOf(T)>-1;if(t.folderType===C.Mb.DRAFT&&m(t.csid))S=Ko.a.createElement(bg,{cardId:g,csid:t.csid,totalMessages:t.total,conversations:_,windowDimensions:l,hasAttachmentPreview:d,renderAttachmentTray:this.renderAttachments});else if(t.folderType===C.Mb.DRAFT){const e=this.context.getCss(jg.a,{conseqCompose:s&&s.folderType===C.Mb.DRAFT,active:f,isDraftError:A===C.od.ERROR});S=Ko.a.createElement("div",{ref:e=>{e&&(this._refs[g]=e,this.adjustBottomMarginForDropdownOverflow(g))},className:e.composeCard,onFocus:this.handleCardActivation.bind(this,t)},Ko.a.createElement(Mg,{ref:e=>this._refs["compose-"+g]=e,csid:t.csid,showCloseButton:!1,isQuickReply:!0,scrollContainer:this._scrollContainer,windowDimensions:l,hasAttachmentPreview:d,canEditSubject:p,widthChanged:this.props.widthChanged}))}else S=Ko.a.createElement(Dg,{ref:g,listId:i,messageGroupId:c.id,message:h,idx:D,totalMessages:t.total,bodyState:A,retryCount:I,expanded:R,logVisibilityStat:this._logVisibilityStat,expandable:n.length>1||u,onToggleExpand:this.handleMessageCardExpansion.bind(this,t),onToggleRead:this.handleMessageRead.bind(this,h),onToggleStar:this.handleMessageStar.bind(this,h),onClick:this.handleCardActivation.bind(this,t),onMailtoClick:this.handleMailtoClick.bind(this,h),renderAttachmentTray:this.renderAttachments.bind(this,h),scrollToAttachmentTray:this.scrollToAttachmentTray.bind(this,h.id),active:f,canTakeFocus:E,navigateOnMessageAction:this.navigateOnMessageAction,conversations:_});return Ko.a.createElement("li",{key:g,className:e.messageCard},S)}),o()(this,"handleStackExpand",(e,t)=>{t.preventDefault();const s=C.L.COLLAPSED;this.props.onChangeMessageCardExpansion({itemsToUpdate:e.cards.map(e=>KO({},e,{expansionState:s}))})}),o()(this,"handleMessageCardExpansion",e=>{const t=e.expansionState===C.L.EXPANDED||e.expansionState===C.L.TEMPORARY_EXPANSION?C.L.COLLAPSED:C.L.EXPANDED;this.props.onChangeMessageCardExpansion(KO({itemsToUpdate:[KO({},e,{expansionState:t})]},t===C.L.EXPANDED?{i13nModel:{mKey:Ii.g.OPEN_MSG,sec:Ii.i.MSG_BODY,mKeyGroup:Ii.h.openMsg}}:{})),this.setState({activeItem:QO(e)})}),o()(this,"handleCardActivation",e=>{const t=QO(e);this.adjustBottomMarginForDropdownOverflow(t),this.setState({activeItem:t}),(e.messageId||e.csid)&&this.props.onFocusMessageCard({listId:this.props.listId,card:e})}),o()(this,"adjustBottomMarginForDropdownOverflow",e=>{if(this._isLastCard(e)&&this._lastCardIsCompose()&&this._refs[e]){const t=this._refs[e],s=t.getBoundingClientRect();if(s.bottom>=document.body.clientHeight)t.style.marginBottom="";else{const e=document.body.clientHeight-s.bottom-1;t.style.marginBottom=e+"px"}}if(!this._isLastCard(e)&&this._isCardCompose(e)&&this._refs[e]){this._refs[e].style.marginBottom=""}}),o()(this,"_isLastCard",e=>{const t=this.props.cards;return!!t.length&&QO(t[t.length-1])===e}),o()(this,"handleKeyDown",(e,t)=>{switch(t.key){case"Enter":return t.preventDefault(),t.stopPropagation(),void this.handleStackExpand(e,t);default:return}}),o()(this,"renderStack",(e,t)=>Ko.a.createElement("li",{className:e.stack,key:t.cards[0].messageId,onClick:this.handleStackExpand.bind(this,t),onKeyDown:this.handleKeyDown.bind(this,t),"data-test-id":"super-collapse-card","data-iskeynav":!0},Ko.a.createElement("div",{className:e.stackLine}),Ko.a.createElement("span",{className:e.stackLabel},Ko.a.createElement($o.FormattedMessage,{id:"super_collapsed_label",defaultMessage:"+{messageNum, number} from {senderList}",values:{messageNum:t.cards.length,senderList:Ko.a.createElement(Ug,{visibleNum:10,senders:Object(Eh.b)(t.cards.map(e=>(Object(h.a)(!e.isDraft,"Stacking drafts is not supported"),e.message))),myAddresses:this.props.myAddresses,layoutClassNames:e})}})),Ko.a.createElement("div",{className:e.stackLine}))),o()(this,"renderCardStacks",e=>{const t=this.props.cards.reduce((e,t)=>{const s=t.expansionState;let r=e[e.length-1];return r&&s===r.cardExpansion||(r={cardExpansion:s,cards:[]},e.push(r)),r.cards.push(t),e},[]).map(t=>t.cardExpansion!==C.L.STACKED||t.cards.length<2||this.props.cards.length<10?t.cards.map((t,s,r)=>this.renderCard(e,t,r[s+1])):this.renderStack(e,t));return Array.prototype.concat.apply([],t)}),o()(this,"markNewlyLoadedBodiesAsRead",({messageGroup:e,bodyStates:t,isAppVisible:s,cards:r},{bodyStates:n,isAppVisible:a})=>{const o=this.state.messagesMarkedAsUnread,i=this.props,c=i.markAsReadInterval,l=i.streamId,d=i.listId,E=i.streamItems,_=i.onToggleRead;if(s&&c!==C.Bc.NEVER){const s=r.filter(e=>{const s=e.message,r=e.expansionState;return!!e.message&&!(s.flags.read||t[s.id]!==C.od.LOADED||r!==C.L.EXPANDED&&r!==C.L.TEMPORARY_EXPANSION||n[s.id]===t[s.id]&&a||-1!==o.indexOf(s.id))});if(s.length){const t=s.map(e=>e.messageId);this.markReadTimer=setTimeout(()=>{_(!0,{itemId:e.id,messageIds:t,streamId:l,streamItem:{id:e.id,listId:d,messageIds:t},streamItems:E,persistStreamItemExpansionStates:r,isAutomatic:!0})},a?1e3*c:1e3)}}}),o()(this,"getUserInitiatedUnreadStatus",(e,t)=>{const s=[...this.state.messagesMarkedAsUnread];return t.forEach(t=>{if(!t.flags.read){const r=e.find(e=>e.id===t.id&&e.flags.read!==t.flags.read);r&&s.push(r.id)}}),s}),o()(this,"handleReplyForward",(e,t)=>{const s=this.props,r=s.listId,n=s.messageGroup;this.props.onReplyForward({i13nModel:t,streamId:s.streamId,composeMode:e,listId:r,streamItem:n?{id:n.id,listId:r}:void 0})}),o()(this,"handleReply",e=>{const t={mKey:Ii.g.QUICK_REPLY,sec:Ii.i.QUICK_COMPOSE,mKeyGroup:Ii.h.replyMsg,interaction_type:Object(Ps.getInteractionFromEvent)(e)};this.handleReplyForward(C.U.Modes.REPLY,t)}),o()(this,"handleReplyAll",e=>{const t={mKey:Ii.g.QUICK_REPLYALL,sec:Ii.i.QUICK_COMPOSE,mKeyGroup:Ii.h.replyAllMsg,interaction_type:Object(Ps.getInteractionFromEvent)(e)};this.handleReplyForward(C.U.Modes.REPLY_ALL,t)}),o()(this,"handleForward",e=>{const t={mKey:Ii.g.QUICK_FORWARD,sec:Ii.i.QUICK_COMPOSE,mKeyGroup:Ii.h.forwardMsg,interaction_type:Object(Ps.getInteractionFromEvent)(e)};this.handleReplyForward(C.U.Modes.FORWARD,t)}),o()(this,"handleToggleGroupRead",e=>{e.preventDefault();const t=this.props,s=t.messageGroup,r=s.messages[0].flags.read;(0,t.onToggleRead)(!r,{streamId:t.streamId,streamItem:s?{id:s.id,listId:t.listId}:void 0,i13nModel:{mKey:r?Ii.g.MSG_GRP_HDR_MARK_UNREAD:Ii.g.MSG_GRP_HDR_MARK_READ,sec:Ii.i.MSG_BODY,mKeyGroup:r?Ii.h.markUnread:Ii.h.markRead}})}),o()(this,"handleToggleGroupStar",e=>{e.preventDefault();const t=this.props,s=t.messageGroup,r=s.messages[0].flags.flagged;(0,t.onToggleStar)(!r,{streamId:t.streamId,streamItem:s?{id:s.id,listId:t.listId}:void 0,i13nModel:{mKey:r?Ii.g.MSG_GRP_HDR_MARK_UNSTAR:Ii.g.MSG_GRP_HDR_MARK_STAR,sec:Ii.i.MSG_BODY,mKeyGroup:r?Ii.h.markUnstar:Ii.h.markStar}})}),o()(this,"_shouldShowLabels",()=>!this.props.hasAttachmentPreview),o()(this,"_getFirstAttachment",()=>{const e=(this.props.messageGroup.messages||[]).find(e=>e.attachments&&e.attachments.length);return e&&e.attachments[0]}),o()(this,"_lastCardIsCompose",()=>{const e=this.props,t=e.cards,s=t[t.length-1];return Boolean(s.folderType===C.Mb.DRAFT&&!(0,e.isSendRequested)(s.csid))}),o()(this,"_isCardCompose",e=>{const t=this.props,s=t.isSendRequested,r=t.cards.find(t=>QO(t)===e);if(!r)return!1;return Boolean(r.folderType===C.Mb.DRAFT&&!s(r.csid))}),o()(this,"renderCardGroup",()=>{var e;const t=this.props,r=t.messageGroup,n=r.messages;return"decos"in n[0]?Ko.a.createElement(Mi.a,{defer:!0,import:"../card_group",lastMessageId:n[n.length-1].id,parentMessageId:n[0].id,messageSubject:null===(e=n[0].headers)||void 0===e?void 0:e.subject,onViewLess:this.scrollToCardGroup,ref:e=>{this.cardGroup=e},couponCards:t.couponCards,currentGroupId:r.id,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1333))},_moduleResolver:function(){return 1333}}):null}),o()(this,"_setScrollContainerRef",e=>{this._scrollContainer=e});const t=e.cards,r=e.hasCalendarCard;this._refs={},this.state={activeItem:!r&&t.length>0&&QO(t[t.length-1]),messagesMarkedAsUnread:[]}}componentWillReceiveProps(e){const t=this.props,s=t.messageGroup,r=t.bodyStates,n=e.messageGroup,a=e.bodyStates;this.props.markAsReadOnUnmount?this.setState({messagesMarkedAsUnread:this.getUserInitiatedUnreadStatus(this.props.messageGroup.messages||[],e.messageGroup.messages)}):!t_()(s,n)&&t_()(r,a)?this.setState({messagesMarkedAsUnread:this.getUserInitiatedUnreadStatus(this.props.messageGroup.messages||[],e.messageGroup.messages)},()=>this.markNewlyLoadedBodiesAsRead(e,this.props)):this.markNewlyLoadedBodiesAsRead(e,this.props)}componentWillMount(){this._attachmentTrays={}}scrollToCard(e,t,s={findNode:Zo.findDOMNode}){const r=s.findNode(this._refs[t]),n=s.findNode(this._scrollContainer),a=this.props,o=a.cards,i=a.hasItemsAtTheTopOfTheCard,c=this.getSavedScrollTop();n&&(c>0?n.scrollTop=this.getSavedScrollTop():i?n.scrollTop=0:(r&&(n.scrollTop=r.offsetTop-Mp.a),0!==o.indexOf(e)&&1!==o.length||(n.scrollTop=0)))}componentDidMount(){this.props.markAsReadOnUnmount||this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{},isAppVisible:this.props.isAppVisible}),this.context.bindShortcut(YO,this.handleShortcuts);let e=this.state.activeItem;const t=this.props.cards.find(({message:e})=>e&&!e.flags.read);t&&(e=QO(t),this.setState({activeItem:e})),this.scrollToCard(t,e)}componentWillUnmount(){const e=this.props,t=e.markAsReadInterval,s=e.showPACNotification,r=e.updatePacNotificationCue;this.context.unbindShortcut(YO),this.props.markAsReadOnUnmount?this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{}}):this.markReadTimer&&t!==C.Bc.IMMEDIATELY&&clearTimeout(this.markReadTimer),s&&r({name:C.Eb.WEB_PAC_NOTIFICATION_CUE})}render(){const e=this.context.getCss(jg.a),t=this.props,r=t.messageGroup,n=t.hasToolbar,a=t.listId,o=t.streamId,i=t.hasAttachmentPreview,c=t.conversations,l=t.gif,d=t.stationery,E=t.hasCalendarCard,_=t.calendarAttachment,u=t.cards,p=t.folderType===C.Mb.BULK,m=Object(Eh.a)(r);return u.length<=0?null:Ko.a.createElement(Rh.a,{getUnsyncedData:this.getUIState},Ko.a.createElement("div",{className:e.container,"data-test-id":"message-group-view"},n&&Ko.a.createElement(PO,{listId:a,streamId:o,kind:Mp.c.MESSAGE_VIEW,activeGroupId:r.id,showLabels:this._shouldShowLabels(),hasAttachmentPreview:i,navigateOnMessageAction:this.navigateOnMessageAction}),Ko.a.createElement("div",{role:"main","data-test-id":"message-group-view-scroller","aria-label":this.context.intl.formatMessage(c?zO.conversation_view_label:zO.message_view_label),ref:this._setScrollContainerRef,className:e.scrollView},this.renderCardGroup(),Ko.a.createElement(mC,{onToggleGroupRead:this.handleToggleGroupRead,onToggleGroupStar:this.handleToggleGroupStar,isRead:m.flags.read,flagged:m.flags.flagged,listId:a,messageGroup:r}),E&&Ko.a.createElement("div",{className:e.rsvpContainer},Ko.a.createElement(Mi.a,{import:"../rsvp_view/index",eventAttachment:_.event,messageId:_.message.id,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,884))},_moduleResolver:function(){return 884}})),Ko.a.createElement(R_.a,{groupTabIndex:di.Lb.MESSAGE_LIST_MAIN,circularNavigation:!1,excludeKeyCodes:["ArrowUp","ArrowDown"]},Ko.a.createElement("ul",{className:Gg()(e.cardsContainer,{danger:p}),"data-test-id":"cards"},this.renderCardStacks(e)),!this._lastCardIsCompose()&&c?Ko.a.createElement(TC,{stationery:d,gif:l,onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward}):null))))}}o()(XO,"contextTypes",{navigateTo:Vo.a.func.isRequired,intl:$o.intlShape.isRequired,config:Vo.a.object.isRequired,getCss:Vo.a.func,bindShortcut:Vo.a.func,unbindShortcut:Vo.a.func}),o()(XO,"defaultProps",{preservedState:{}});var $O=Object(qo.connect)((e,t)=>{let s=[];const r=t.messageGroup,n=t.listId,a=t.conversations,o=t.hasCoupon,i=t.rsvpEnabled&&((e={})=>{const t={};return(e.messages||[]).some(e=>{const s=Object(cn.h)(e.attachments)[0];if(s)return t.message=e,t.event=s,!0}),Object.keys(t).length?t:null})(r),c=!!i,l=Object(wi.selectors)(e),d=l.getMessagesSelectors,E=l.getMessageFromAddress,_=l.getMessageToAddress,u=l.getMessageCcAddress,p=l.getMessageBccAddress,m=l.getMessageDate,S=l.getMessageSnippet,h=l.getCouponsSelectors,g=l.getReconciledUnysncedDataByHash,O=l.getMessageFlags,T=l.getAttachmentsByMessageId,A=l.getFoldersSelectors,I=l.getSubjectAndSnippetSelectors,f=l.isSingleDraftGroup,D=l.isSendRequested,R=l.getMainStreamListIds,b=l.getMessageGroupStreamItemsWithExpansionStates,N=l.getMessageFolderId,M=l.isFeatureEnabled,y=l.getMessageBodiesSelectors,L=l.getGroupIdStateHash,P=l.getMainStreamItems,v=(0,l.getRoute)(),F=Object(Ep.a)(R(v)),U=d(),w=U.getDownloadAllUrl,G=U.getCardConversationId,H=A().getFolderTypes,j=y().hasInlineImage,k=I().getSubject,x=h().getCouponCardsForCardConversationId,B=L(r.id),V=g(ZO(B)),W=!a||f(r.id),K={id:r.id,listId:n},q=P(v);if(o){s=x(G(r.messages[0].id))}const Y=b(K).map(e=>{const t=e.messageId;if(e.folderType===C.Mb.DRAFT)return KO({},e);const s=N(t);return KO({},e,{message:{id:t,flags:O(t),folder:{id:s,types:H(s)},headers:{subject:k(t,n),from:E(t),to:_(t),cc:u(t),bcc:p(t),date:m(t)},snippet:S(t,n),attachments:T(t),downloadAllUrl:w(t)}})}),z=Y.filter(({folderType:e,expansionState:t})=>t===C.L.EXPANDED&&e!==C.Mb.DRAFT).map(({messageId:e})=>e).some(j),Q=M(C.Kd.SHOW_IMAGES),Z=M(C.Eb.INLINE_IMAGES_PROXIED);return{cards:Y,isSendRequested:D,hasCalendarCard:c,calendarAttachment:i,streamId:F,preservedState:V,canEditSubject:W,couponCards:s,showPACNotification:!Q&&(z&&Z),route:v,hasItemsAtTheTopOfTheCard:c||o,groupIdStateHash:B,streamItems:q}},e=>({onChangeMessageCardExpansion:t=>e(Object(Kh.b)(t)),onClose:({route:t,i13nModel:s={}})=>{e(Object(oi.c)({route:t,i13nModel:s}))},loadMoreItems:t=>e(Object(kg.a)(t)),updatePacNotificationCue:t=>e(Object(yi.h)(t)),onToggleRead:(t,s)=>e(t?UO(s):wO(s)),onToggleStar:(t,s)=>e(t?kO(s):xO(s)),onPreviewAttachmentAlert:t=>e(Object(VO.e)(t)),onFocusMessageCard:t=>e(Object(Kh.f)(t)),onReplyForward:t=>e(Object(Kh.s)(t))}))(XO);const JO=Ti()(jg.a);function eT({onRetry:e}){return Ko.a.createElement("div",{className:JO.empty,"data-test-id":"group-error"},Ko.a.createElement("p",null,Ko.a.createElement($o.FormattedMessage,{id:"group_error.failed_to_load",defaultMessage:"We couldn't load this message."})),Ko.a.createElement("a",{className:JO.emptyRetry,onClick:e,"data-test-id":"group-error-retry"},Ko.a.createElement($o.FormattedMessage,{id:"group_error.retry",defaultMessage:"Retry"})))}class tT extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleErrorRetry",()=>{}),o()(this,"renderError",()=>Ko.a.createElement(eT,{onRetry:()=>this.handleErrorRetry()})),o()(this,"renderLoading",()=>Ko.a.createElement(Qd.b,null))}shouldComponentUpdate(e){return!e.skipRendering}render(){const e=this.props,t=e.isAttachmentRouteInFullScreenMode,s=e.messageGroup;if(void 0!==t&&t)return null;switch(e.groupState){case C.od.DOES_NOT_EXIST:case C.od.LOADING:return this.renderLoading();case C.od.ERROR:return this.renderError();case C.od.LOADED:default:{const e=Object(Eh.d)(s);return Ko.a.createElement($O,zo()({},this.props,{key:e?s.messages[0].csid:s.id}))}}}}o()(tT,"defaultProps",{widthChanged:0});var sT=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e),r=s.getAction,n=s.getFeaturesSelectors,a=s.doesMessageGroupIdExist,o=s.getRouteParams,i=s.isMessageGroupRequested,c=s.getDraftMessageId,l=s.getGroupIdContainingMessageId,d=s.doesComposeSessionExist,E=s.isSent,_=s.getWindowDimensions,u=s.isAppVisible,p=s.shouldShowSpamAttachmentWarning,m=s.__patchV2MessageGroupItemId__,S=s.__patchV2MyAddresses__,h=s.getMessageBodyState,g=s.getMessageBodyRetryCount,O=s.getAccountIdFromMessageGroupId,T=t.listId,A=t.hasToolbar,I=void 0===A||A,f={},D={},R=(0,s.getRoute)(),b=o(),N=_(),M=n(),y=M.isEnabled(C.Eb.RSVP),L=!!M.getSetting(C.Kd.PREVIEW_PANE)&&(R.name===C.rd.FOLDER||R.name===C.rd.LIST||R.name===C.rd.SEARCH),P=b.attachmentId&&"1"===R.query.fullscreen,v=b.attachmentId&&"1"!==R.query.fullscreen,F=Object(Hi.db)(T)&&Object(Hi.cb)(T,{read:!1})&&-1!==[C.rd.MESSAGE_FROM_SEARCH_LIST,C.rd.SEARCH].indexOf(R.name)||Object(Hi.L)(T)===C.Yd.UNREAD&&-1!==[C.rd.SEARCH,C.rd.FOLDER].indexOf(R.name),U=M.getSetting(C.Kd.MARK_AS_READ_INTERVAL);let w=t.openedMessageId||b.groupId;if(t.csid){if(!d(t.csid)||E(t.csid))return{groupId:w,groupState:C.od.DOES_NOT_EXIST};if(t.csid&&!t.openedMessageId){const e=c(t.csid);e&&(w=l(e))}}else if(!a(w)||i(w))return{groupId:w,groupState:i(w)?C.od.DOES_NOT_EXIST:C.od.ERROR,hasAttachmentPreview:v,isAttachmentRouteInFullScreenMode:P,hasToolbar:I,canTakeFocus:L};const G=m(w,T),H=S(),j=O(w,T);G.messages.forEach(e=>{f[e.messageId]=h(e.messageId),D[e.messageId]=g(e.messageId)});const k=M.isEnabled(C.Eb.CONVERSATIONS),x=M.isEnabled(C.Eb.GIF),B=M.isEnabled(C.Eb.STATIONERY),V=M.isEnabled(C.Eb.DEALS)&&G.messages[0].decos.some(e=>e&&"CPN"===e.id),W=r().type;return{skipRendering:W===sc.STREAM_CURSOR_MOVED||W===sc.ITEM_LIST_PAGE_SCROLLED,stationery:B,gif:x,conversations:k,bodyStates:f,retryCounts:D,groupState:C.od.LOADED,hasToolbar:I,hasCoupon:V,accountIds:[j],myAddresses:H,messageGroup:G,isAppVisible:u(),hasAttachmentPreview:v,isAttachmentRouteInFullScreenMode:P,windowDimensions:N,markAsReadOnUnmount:F,markAsReadInterval:U,canTakeFocus:L,rsvpEnabled:y,shouldShowSpamAttachmentWarning:p}})(tT),rT=s(784),nT=s.n(rT),aT=s(148),oT=s(785),iT=s.n(oT),cT=s(370);const lT={TOUCH_ENABLED_DESKTOP:"ted",[C.fd.H_SLIDER_POS_V2]:"hsp",[C.fd.V_SLIDER_POS_V2]:"vsp"};class dT extends cT.a{constructor(e){super(e,"YM.CLIENT.PARAMS",{TTL:2592e3,path:"/"})}setClientParam(e,t){e&&Object.values(lT).indexOf(e)>-1&&this.set({[e]:t})}getClientParam(e){return this.get()[e]}getClientParams(){return this.get()}}const ET=C.fd.H_SLIDER_POS,_T=C.fd.V_SLIDER_POS,uT=C.fd.H_SLIDER_POS_V2,pT=C.fd.V_SLIDER_POS_V2,mT={x:{min:{percent:di.lb},max:{percent:di.mb}},y:{min:{pixels:di.nb},max:{pixels:di.kb}}};class ST extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{dragging:!1}),o()(this,"_getLocalStorageKey",(e,t=!1)=>e===C.ed.RIGHT?t?uT:ET:t?pT:_T),o()(this,"_writePreviewPaneSetting",(e,t)=>{this.props.previewpaneCookie&&this.props.previewpaneInPixels&&new dT({window:window}).setClientParam(e,t),Object(CE.j)(e,t)}),o()(this,"_readPreviewPaneSetting",e=>{const t=this.props,s=t.previewpaneCookie,r=t.previewpaneInPixels,n=this._getLocalStorageKey(e,r);return s&&r?new dT({window:window}).getClientParam(n)||Object(CE.i)(this._getLocalStorageKey(e,!0))||Object(CE.i)(this._getLocalStorageKey(e,!1)):Object(CE.i)(n)}),o()(this,"getLimits",e=>{const t=this.props,s=t.previewpane,r=t.isRTL,n=s===C.ed.RIGHT?mT.x:mT.y;let a,o,i,c,l=Object(f.b)(n,"min.percent",0)||0,d=Object(f.b)(n,"min.pixels",0)||0,E=Object(f.b)(n,"max.percent",100)||100,_=Object(f.b)(n,"max.pixels",0)||0;if(r){const t=l,s=d;l=100-E,d=e.width-_,E=100-t,_=e.width-s}s===C.ed.RIGHT?(a=e.left+e.width*l/100,o=e.left+d,i=e.left+e.width*E/100,c=e.left+e.width-_):s===C.ed.BOTTOM?(a=e.top+e.height*l/100,o=e.top+d,i=e.top+e.height*E/100,c=e.top+e.height-_):Object(h.a)(!1,"Unexpected orientation of preview pane during resize: "+s);let u=Math.max(a,o),p=Math.max(Math.min(i,c),u);return r&&(u=Math.min(a,o),p=Math.max(Math.max(i,c),u)),{min:u,max:p}}),o()(this,"getLimitsV2",e=>{const t=this.props,s=t.previewpane;let r,n;return s===C.ed.RIGHT?t.isRTL?(r=e.left+di.rb,n=Math.max(e.left+e.width-di.qb,r)):(r=e.left+di.qb,n=Math.max(e.left+e.width-di.rb,r)):s===C.ed.BOTTOM?(r=e.top+di.sb,n=Math.max(e.top+e.height-di.jb,r)):Object(h.a)(!1,"Unexpected orientation of preview pane during resize: "+s),{min:r,max:n}}),o()(this,"resize",()=>{if(!this.resizer)return;const e=this.props,t=e.previewpane,s=e.previewpaneInPixels,r=e.isRTL,n=this.state,a=n.resize,o=n.dragStart,i=n.resizerStart,c=n.parent,l=this.resizer.getBoundingClientRect();let d,E,_;t===C.ed.RIGHT?(E=i.left-c.rect.left+a.x-o.x,_=c.width,r&&(E=_-E),d=ET):t===C.ed.BOTTOM?(E=i.top-c.rect.top+a.y-o.y,_=c.height,d=_T):Object(h.a)(!1,"Unexpected orientation of preview pane during resize: "+t);let u=100*E/_;this.props.resize(d,s?E:u,_),this.setState({dragStart:{x:a.x,y:a.y},resizerStart:{left:l.left,top:l.top}}),this.resizer.style.marginTop="",this.resizer.style.marginLeft="",this.resizer.style.marginRight="",this._writePreviewPaneSetting(this._getLocalStorageKey(t,!1),u),s?(this._writePreviewPaneSetting(this._getLocalStorageKey(t,!0),E),t===C.ed.RIGHT&&(u=u<di.lb?di.lb:u,u=u>di.mb?di.mb:u),this._writePreviewPaneSetting(this._getLocalStorageKey(t,!1),u)):this._writePreviewPaneSetting(this._getLocalStorageKey(t,!1),u)}),o()(this,"onDragStart",e=>{const t=Xo.a.findDOMNode(this.resizer),s=t.parentNode,r=t.getBoundingClientRect(),n=s.getBoundingClientRect(),a=this.props.previewpaneInPixels?this.getLimitsV2(n):this.getLimits(n),o=e.clientX,i=e.clientY;e.stopPropagation(),e.preventDefault(),this.resizer.style.backgroundColor=di.fb.ycolorGrayG,this.setState({dragging:!0,dragStart:{x:o,y:i},resize:{x:o,y:i},resizerStart:{left:r.left,top:r.top},parent:{rect:n,width:s.clientWidth,height:s.clientHeight},limits:a}),e.dataTransfer&&(this.dragIcon=Object(I.h)(e.dataTransfer,this.dragIcon),e.dataTransfer.setData("text","anything")),this._ffDragFunc=e=>this.onDrag(e),this._ffDragEndFunc=e=>this.onDragEnd(e),document.addEventListener("mousemove",this._ffDragFunc),document.addEventListener("mouseup",this._ffDragEndFunc)}),o()(this,"drag",e=>{const t=this.props,s=t.previewpane,r=t.isRTL,n=this.state,a=n.dragStart,o=n.limits;let i=e.clientX,c=e.clientY;s===C.ed.RIGHT?(i>o.max&&(i=o.max),i<o.min&&(i=o.min),this.setState({resize:{x:i,y:c}}),this.resizer&&(r?this.resizer.style.marginRight=a.x-i+"px":this.resizer.style.marginLeft=i-a.x+"px")):s===C.ed.BOTTOM?(c>o.max&&(c=o.max),c<o.min&&(c=o.min),this.setState({resize:{x:i,y:c}}),this.resizer&&(this.resizer.style.marginTop=c-a.y+"px")):Object(h.a)(!1,"We should not be dragging when there is no preview pane: "+s)}),o()(this,"onDrag",e=>{this.state.dragging&&(e.stopPropagation(),e.preventDefault(),0!==e.clientX&&0!==e.clientY&&(this.throttledDrag?this.throttledDrag(e):this.drag(e),this.throttledResize&&this.throttledResize()))}),o()(this,"onDragEnd",e=>{e.stopPropagation(),e.preventDefault(),Object(I.a)(this.dragIcon),this.dragIcon=null,this.resizer&&(this.resizer.style.backgroundColor=""),this.setState({dragging:!1}),this.resize(),document.removeEventListener("mousemove",this._ffDragFunc),document.removeEventListener("mouseup",this._ffDragEndFunc)})}shouldComponentUpdate(e,t){const s=this.props;return s.isEmpty!==e.isEmpty||s.previewpane!==e.previewpane||!1}componentDidMount(){const e=this.props,t=e.previewpane,s=e.previewpaneInPixels,r=Xo.a.findDOMNode(this.resizer).parentNode,n=this._getLocalStorageKey(C.ed.RIGHT,s),a=this._getLocalStorageKey(C.ed.BOTTOM,s);this.sliderPos={hSliderPos:parseFloat(this._readPreviewPaneSetting(C.ed.RIGHT))||di.ob,vSliderPos:parseFloat(this._readPreviewPaneSetting(C.ed.BOTTOM))||di.pb},s&&(this.sliderPos.hSliderPos<100&&(this.sliderPos.hSliderPos=Math.floor(this.sliderPos.hSliderPos*r.clientWidth/100)),this.sliderPos.vSliderPos<100&&(this.sliderPos.vSliderPos=Math.floor(this.sliderPos.vSliderPos*r.clientHeight/100)),this.sliderPos.hSliderPos&&this._writePreviewPaneSetting(n,this.sliderPos.hSliderPos),this.sliderPos.vSliderPos&&this._writePreviewPaneSetting(a,this.sliderPos.vSliderPos)),t===C.ed.RIGHT?this.props.resize(ET,this.sliderPos.hSliderPos,r.clientWidth):t===C.ed.BOTTOM?this.props.resize(_T,this.sliderPos.vSliderPos,r.clientHeight):Object(h.a)(!1,"Unexpected orientation of preview pane during resize: "+t),this._ffDragStartFunc=e=>this.onDragStart(e),this.resizer.addEventListener("mousedown",this._ffDragStartFunc)}componentDidUpdate(e){const t=this.props.previewpane,s=Xo.a.findDOMNode(this.resizer);t===C.ed.BOTTOM&&e.previewpane===C.ed.RIGHT&&this.props.resize(_T,this.sliderPos.vSliderPos,s.parentNode.clientHeight)}componentWillUnmount(){this.resizer.removeEventListener("mousedown",this._ffDragStartFunc),this._ffDragFunc&&document.removeEventListener("mousemove",this._ffDragFunc),this._ffDragEndFunc&&document.removeEventListener("mouseup",this._ffDragEndFunc)}render(){const e=this.props,t=e.isEmpty,s=this.context.getCss(iT.a,{previewpane:e.previewpane});if(!t){return Ko.a.createElement("div",{ref:e=>this.resizer=e,style:{},className:s.resizer,"data-test-id":"resizer"})}return Ko.a.createElement("div",{ref:e=>this.resizer=e,className:s.deadResizer,"data-test-id":"resizer"})}}o()(ST,"contextTypes",{getCss:Vo.a.func}),o()(ST,"defaultProps",{previewpaneInPixels:!1,previewpaneCookie:!1});var hT=hE(ST),CT=s(786),gT=s.n(CT),OT=s(277);class TT extends Ko.a.Component{constructor(e,t){super(e,t),this.onScroll=this.onScroll.bind(this),this.handleScrollToTopClick=this.handleScrollToTopClick.bind(this),this.elementContainer=Ko.a.createRef(),this.scrollToTopRendered=!1}handleScrollToTopClick(){(0,this.props.forceScrollToTop)()}onScroll(e){const t=this.props,s=t.onScroll,r=t.config,n=r.scrollThresholdPercentage||5,a=e.getScrollPercent();a>n&&!this.scrollToTopRendered?(Xo.a.render(r.render(),this.elementContainer.current),this.scrollToTopRendered=!0):a<n&&this.scrollToTopRendered&&(Xo.a.unmountComponentAtNode(this.elementContainer.current),this.scrollToTopRendered=!1),s(e)}render(){const e=Ti()(gT.a),t=this.props,s=t.scrollTop;return Ko.a.createElement("div",{className:e.listContainer},Ko.a.createElement(t.WrappedList,zo()({},this.props,{onScroll:this.onScroll,scrollTop:s})),Ko.a.createElement("div",{ref:this.elementContainer,onClick:this.handleScrollToTopClick}))}}o()(TT,"defaultProps",{onScroll:()=>{},WrappedList:OT.a,config:{},scrollTop:0});var AT=TT,IT=s(381),fT=s.n(IT),DT=s(62),RT=s(57),bT=s(788),NT=s.n(bT);const MT=Object($o.defineMessages)({flash_sale_countdown_in_seconds:{id:"ad.flash_sale_countdown_in_seconds",defaultMessage:"{days, plural, =0 {} other {{days} days : }}\n            {hrs, plural, =0 {} other {{hrs} hrs : }}\n            {mins, plural, =0 {} other {{mins} mins : }}\n            {secs} secs"},flash_sale_countdown:{id:"ad.flash_sale_countdown",defaultMessage:"{days, plural, =0 {} other {{days} days : }}\n            {hrs, plural, =0 {} other {{hrs} hrs : }}\n            {mins} mins"},deal_extension_countdown:{id:"ad.deal_extension_countdown",defaultMessage:"{days, plural, =0 {} other {{days} days }}\n            {hrs, plural, =0 {} other {{hrs} hrs }}\n            {mins} mins"},ending_soon:{id:"ad.flash_sale_ending_soon",defaultMessage:"Sale ends in {duration}"},expire_in:{id:"ad.expire_in",defaultMessage:"Expires in {duration}"}});class yT extends Wo.Component{constructor(e){super(e),this.timerId=0,this.clearTimers=this.clearTimers.bind(this),this.startTimers=this.startTimers.bind(this),this.state={now:Date.now()}}clearTimers(){this.timerId&&(clearTimeout(this.timerId),this.timerId=0)}startTimers(){if(!this.timerId){const e=this.props.countdownInSeconds?1e3:6e4,t=this.props.flashSaleEndTime-this.state.now;this.timerId=setInterval(()=>{t<=e&&(this.clearTimers(),this.props.flashSaleAdEnded()),this.setState({now:this.state.now+e})},e)}}componentDidMount(){this.startTimers()}componentWillUnmount(){this.clearTimers()}getFormatedTime(e){return e<0&&(e=0),{days:Math.floor(e/864e5),hrs:Math.floor(e/36e5)%24,mins:Math.floor(e/6e4)%60,secs:Math.round(e/1e3)%60}}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.flashSaleTextStyles,r=t.countdownInSeconds,n=t.isMobile,a=t.flashSaleStyles,o=t.isDealExtension,i=t.flashSaleEndTime-this.state.now,c=Ti()(NT.a,{isDarkTheme:this.context.getThemeMode()===ai.i.DARK,flashSaleHighlight:i<864e5}),l=e(r?MT.flash_sale_countdown_in_seconds:MT.flash_sale_countdown,this.getFormatedTime(i));let d=l;if(n){const t=e(MT.deal_extension_countdown,this.getFormatedTime(i));d=o?e(MT.expire_in,{duration:t}):e(MT.ending_soon,{duration:l})}return Ko.a.createElement("div",{className:a||c.flashSaleCountdown},Ko.a.createElement(ei.b,{kind:ti.Kinds.CLOCK,colorState:o?ti.ColorStates.WHITE:ti.ColorStates.STARRED,size:ti.Sizes.XXS}),Ko.a.createElement("span",{className:s||c.flashSaleCountdownText},d))}}yT.contextTypes={intl:$o.intlShape,getThemeMode:Vo.a.func};var LT=Object(qo.connect)(null,e=>({flashSaleAdEnded:()=>e(Object(JE.f)())}))(yT),PT=s(323);const vT=Object($o.defineMessages)({learn_more_btn_label:{id:"learn_more_btn_label",defaultMessage:"Learn More"},watch_btn_label:{id:"watch_btn_label",defaultMessage:"Watch"},sponsored:{id:"ad.sponsored",defaultMessage:"Sponsored"},ad_text_unified:{id:"ad_text_unified",defaultMessage:"Ad"}});class FT extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{previewVideoEnded:!1}),o()(this,"onAdChoiceClicked",e=>{e.stopPropagation(),this.props.onAdChoiceClicked(e)}),o()(this,"renderSponsoredIcon",(e,t)=>Ko.a.createElement("button",{className:e.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},Ko.a.createElement(ei.b,{kind:ti.Kinds.SPONSORED,size:t,colorState:ti.ColorStates.INHERITED}))),o()(this,"onPreviewVideoEnd",()=>{this.setState({previewVideoEnded:!0})}),o()(this,"renderSponsoredImg",e=>{const t=this.props.pencilAdData;if(t.type===RT.s.VideoAdType&&t.previewVideoUrl)return Ko.a.createElement("div",{className:e.previewVideo},this.state.previewVideoEnded?Ko.a.createElement("img",{"data-test-id":"play-icon",className:e.videoOverlay,src:Object(P_.a)("/img/gemini_pencil_play.png")}):null,Ko.a.createElement("video",{muted:!0,className:e.previewVideoPlayer,ref:e=>this.previewVideoPlayer=e},Ko.a.createElement("source",{src:t.previewVideoUrl,type:t.previewVideoContentType})));if(t.adImg){const s=this.props,r=[DT.b.UNIFY_DESIGN_SECOND_AD_L,DT.b.UNIFY_DESIGN_S,DT.b.UNIFY_DESIGN_M,DT.b.UNIFY_DESIGN_L];let n=r[s.msgListDensity];return s.adPosition===C.Nb.MESSAGE_LIST_2&&n===DT.b.UNIFY_DESIGN_L&&(n=r[0]),Ko.a.createElement("div",{className:e.favicon},Ko.a.createElement(PT.a,{size:n,imageSrc:t.adImg,unifyNativeAdFormat:!0}))}}),o()(this,"renderActionButton",(e,{type:t,callToAction:s})=>{const r=s||(0,this.context.intl.formatMessage)(t===RT.s.VideoAdType?vT.watch_btn_label:vT.learn_more_btn_label);return Ko.a.createElement("div",{className:e.actionButtonContainer},Ko.a.createElement(mi.a,{className:e.actionButton,title:r,"data-test-id":"learn-more-btn"},r))}),o()(this,"renderFeedbackMenu",e=>{const t=this.props,s=t.isAdFeedbackV2;if(t.feedbackEnabled)return Ko.a.createElement("div",{className:s?e.feedbackContainer:e.iconContainer,"data-test-id":"ad-feedback-menu"},Ko.a.createElement(pu.a,{size:ti.Sizes.XXS,kind:s?ti.Kinds.MORE:ti.Kinds.CHEVRON_UP,sectionId:t.sectionId,isCompactLayout:t.isCompactLayout,advertiseWithUsEnabled:!0,isAdFeedbackV2:s}))}),o()(this,"renderCompactAd",({classNames:e,formatMessage:t,pencilAdData:s,isFlashSaleAd:r,flashSaleAdInSecondsEnabled:n,isSponsoredAd:a,isVideoAd:o,isAdFeedbackV2:i})=>Ko.a.createElement(Ko.a.Fragment,null,Ko.a.createElement("div",{className:e.gridB1},Ko.a.createElement("div",{className:e.imageContainer},i?Ko.a.createElement("button",{className:e.adTextContainer,onClick:this.onAdChoiceClicked},"Ad"):this.renderSponsoredIcon(e,ti.Sizes.XXS))),Ko.a.createElement("div",{className:e.gridB2},Ko.a.createElement("div",{className:e.message},Ko.a.createElement("div",{className:e.subjectContainer},Ko.a.createElement("span",{"data-test-id":"ad-subject",className:e.subject,"aria-label":s.adSource,title:s.adSource},s.adSource),Ko.a.createElement("div",{className:e.sponsoredContainer},!i&&Ko.a.createElement("button",{className:e.sponsored,onClick:this.onAdChoiceClicked},t(vT.ad_text_unified)),this.renderFeedbackMenu(e))),Ko.a.createElement("div",{"data-test-id":"ad-compact-headline",className:e.adHeadline,"aria-label":s.adHeadline,title:s.adHeadline},s.adHeadline),Ko.a.createElement("div",{className:e.snippetContainer},r?Ko.a.createElement(LT,{flashSaleEndTime:s.flashSaleEndTime,countdownInSeconds:n}):null,!r&&Ko.a.createElement("span",{className:e.snippet,"data-test-id":"ad-summary","aria-label":s.adSummary,title:s.adSummary},s.adSummary),a||o?this.renderActionButton(e,s):null))))),o()(this,"renderNormalAd",({classNames:e,formatMessage:t,pencilAdData:s,msgListDensity:r,isFlashSaleAd:n,flashSaleAdInSecondsEnabled:a,isSponsoredAd:o,isVideoAd:i,isAdFeedbackV2:c})=>Ko.a.createElement(Ko.a.Fragment,null,Ko.a.createElement("div",{className:e.gridB1},Ko.a.createElement("div",{className:e.imageContainer},this.renderSponsoredImg(e)),Ko.a.createElement("div",{className:e.advertiserContainer},Ko.a.createElement("span",{"aria-label":s.adSource,title:s.adSource,className:e.advertiser},s.adSource))),Ko.a.createElement("div",{className:e.spacerContainer},c?Ko.a.createElement("button",{className:e.adTextContainer,onClick:this.onAdChoiceClicked},"Ad"):this.renderSponsoredIcon(e,r===C.Ec.SLIM?ti.Sizes.XS:ti.Sizes.S)),Ko.a.createElement("div",{className:e.gridB2},Ko.a.createElement("div",{className:e.message},Ko.a.createElement("span",{className:e.subject,"aria-label":s.adHeadline,title:s.adHeadline},s.adHeadline),Ko.a.createElement("div",{className:e.snippetContainer},n&&Ko.a.createElement(LT,{flashSaleEndTime:s.flashSaleEndTime,countdownInSeconds:a}),!n&&Ko.a.createElement("span",{className:e.snippet,"data-test-id":"ad-summary","aria-label":s.adSummary,title:s.adSummary},s.adSummary),o||i||n?this.renderActionButton(e,s):null)),Ko.a.createElement("div",{className:e.adContainer},!c&&Ko.a.createElement("button",{className:e.sponsored,onClick:this.onAdChoiceClicked},t(vT.ad_text_unified))),this.renderFeedbackMenu(e))))}componentDidMount(){this.previewVideoPlayer&&this.previewVideoPlayer.play&&(this.previewVideoPlayer.play(),this.previewVideoPlayer.onended=this.onPreviewVideoEnd)}render(){const e=this.props,t=e.pencilAdData,s=e.onClick,r=e.isCompactLayout,n=e.adPosition,a=e.msgListDensity,o=e.flashSaleAdInSecondsEnabled,i=e.isAdFeedbackV2,c=this.context.intl.formatMessage,l=e.flashSaleAdEnabled&&t.type===RT.s.FlashSaleAdType&&t.flashSaleEndTime>Date.now(),d=t.type===RT.s.NativeAdType,E=t.type===RT.s.VideoAdType,_=this.context.getCss(fT.a,{isCompactLayout:r,sponsoredCompactLayout:d&&r,secondPencilAd:n===C.Nb.MESSAGE_LIST_2,msgListDensity:`${r?"compact_":""}${a}`,isFlashSaleAd:l});return Ko.a.createElement("a",{rel:"noreferrer","data-test-id":"pencil-ad-"+n,className:_.link,href:t.clickUrl,tabIndex:"-1","aria-hidden":!0,role:"row",target:"_blank",onClick:s},this[r?"renderCompactAd":"renderNormalAd"]({classNames:_,formatMessage:c,pencilAdData:t,msgListDensity:a,isFlashSaleAd:l,flashSaleAdInSecondsEnabled:o,isSponsoredAd:d,isVideoAd:E,isAdFeedbackV2:i}))}}o()(FT,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func,getTheme:Vo.a.func});var UT=FT,wT=s(607);const GT=Object($o.defineMessages)({ad_text_unified:{id:"ad_text_unified",defaultMessage:"Ad"}}),HT={};class jT extends Ko.a.Component{constructor(...e){super(...e),o()(this,"onAdChoiceClicked",e=>{e.stopPropagation(),this.props.onAdChoiceClicked(e)}),o()(this,"renderSponsoredIcon",(e,t)=>Ko.a.createElement("button",{className:e.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},Ko.a.createElement(ei.b,{kind:ti.Kinds.SPONSORED,size:t,colorState:ti.ColorStates.INHERITED}))),o()(this,"renderSponsoredImg",e=>{const t=this.props,s=t.pencilAdData;if(s.adImg){const r=[DT.b.UNIFY_DESIGN_SECOND_AD_L,DT.b.UNIFY_DESIGN_S,DT.b.UNIFY_DESIGN_M,DT.b.UNIFY_DESIGN_L];let n=r[t.msgListDensity];return t.adPosition===C.Nb.MESSAGE_LIST_2&&n===DT.b.UNIFY_DESIGN_L&&(n=r[0]),Ko.a.createElement("div",{className:e.favicon},Ko.a.createElement(PT.a,{size:n,imageSrc:s.adImg,unifyNativeAdFormat:!0,doNotScaleUpImages:!0}))}}),o()(this,"renderRating",(e,t)=>Ko.a.createElement("div",{className:t.starRatingContainer},Ko.a.createElement(wT.a,{value:parseInt(e,10)/2}))),o()(this,"instrumentSecondSearchAd",()=>{const e=this.props,t=e.pencilAdData,s=e.windowDimensions,r=e.searchAdRendered;if(e.instrumentSecondSearchAd&&this.adContainer&&e.adPosition===C.Nb.MESSAGE_LIST_2&&!HT[t.clickUrl]){const e=this.adContainer.getBoundingClientRect(),n=e.top,a=e.bottom,o=s.innerHeight,i={mKey:Ii.g.SEARCH_AD_RENDERED,sec:Ii.i.MSG_LIST_AD,actionData:{aboveFold:!1}};HT[t.clickUrl]=!0,a>0&&n<o&&(i.actionData.aboveFold=!0),r({i13nModel:i})}}),o()(this,"renderCompactAd",({classNames:e,formatMessage:t,pencilAdData:s,searchKeyword:r})=>Ko.a.createElement(Ko.a.Fragment,null,Ko.a.createElement("div",{className:e.gridB1},Ko.a.createElement("div",{className:e.imageContainer},this.renderSponsoredIcon(e,ti.Sizes.XXS))),Ko.a.createElement("div",{className:e.gridB2},Ko.a.createElement("div",{className:e.message},Ko.a.createElement("div",{className:e.subjectContainer},Ko.a.createElement("span",{"data-test-id":"ad-subject",className:e.subject,"aria-label":s.adSource,title:s.adSource},s.adSource),Ko.a.createElement("div",{className:e.sponsoredContainer},Ko.a.createElement("button",{className:e.sponsored,onClick:this.onAdChoiceClicked},t(GT.ad_text_unified)))),Ko.a.createElement("div",{"data-test-id":"ad-compact-headline",className:e.adHeadline,"aria-label":s.adHeadline,title:s.adHeadline},Object(xi.d)(!0,r,s.adHeadline,e.highlightedTerm)),Ko.a.createElement("div",{className:e.snippetContainer},Ko.a.createElement("span",{className:e.snippet,"data-test-id":"ad-summary","aria-label":s.adSummary,title:s.adSummary},Object(xi.d)(!0,r,s.adSummary,e.highlightedTerm)),s.rating&&this.renderRating(s.rating,e)))))),o()(this,"renderNormalAd",({classNames:e,formatMessage:t,pencilAdData:s,searchKeyword:r,msgListDensity:n})=>Ko.a.createElement(Ko.a.Fragment,null,Ko.a.createElement("div",{className:e.gridB1},Ko.a.createElement("div",{className:e.imageContainer},this.renderSponsoredImg(e)),Ko.a.createElement("div",{className:e.advertiserContainer},Ko.a.createElement("span",{"aria-label":s.adSource,title:s.adSource,className:e.advertiser},s.adSource))),Ko.a.createElement("div",{className:e.spacerContainer},this.renderSponsoredIcon(e,n===C.Ec.SLIM?ti.Sizes.XS:ti.Sizes.S)),Ko.a.createElement("div",{className:e.gridB2},Ko.a.createElement("div",{className:e.message},Ko.a.createElement("span",{className:e.subject,"aria-label":s.adHeadline,title:s.adHeadline},Object(xi.d)(!0,r,s.adHeadline,e.highlightedTerm)),Ko.a.createElement("div",{className:e.snippetContainer},Ko.a.createElement("span",{className:e.snippet,"data-test-id":"ad-summary","aria-label":s.adSummary,title:s.adSummary},Object(xi.d)(!0,r,s.adSummary,e.highlightedTerm)),s.rating?this.renderRating(s.rating,e):null)),Ko.a.createElement("div",{className:e.adContainer},Ko.a.createElement("button",{className:e.sponsored,onClick:this.onAdChoiceClicked},t(GT.ad_text_unified))))))}componentDidMount(){this.instrumentSecondSearchAdTimer=setImmediate(()=>{this.instrumentSecondSearchAd()})}componentWillUnmount(){this.instrumentSecondSearchAdTimer&&clearImmediate(this.instrumentSecondSearchAdTimer)}render(){const e=this.props,t=e.pencilAdData,s=e.onClick,r=e.isCompactLayout,n=e.adPosition,a=e.msgListDensity,o=e.searchKeyword,i=this.context.intl.formatMessage,c=this.context.getCss(fT.a,{noAdFeedback:!0,isCompactLayout:r,secondPencilAd:n===C.Nb.MESSAGE_LIST_2,msgListDensity:`${r?"compact_":""}${a}`});return Ko.a.createElement("a",{rel:"noreferrer","data-test-id":"pencil-ad-"+n,className:`${c.link} ${c.transparentBackgroundLink}`,href:t.clickUrl,tabIndex:"-1","aria-hidden":!0,role:"row",target:"_blank",onClick:s,ref:e=>this.adContainer=e},this[r?"renderCompactAd":"renderNormalAd"]({classNames:c,searchKeyword:o,formatMessage:i,pencilAdData:t,msgListDensity:a}))}}o()(jT,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func,getTheme:Vo.a.func});var kT=jT,xT=s(321);class BT extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleAdClicked",e=>{const t=this.props,s=t.pencilAdData,r=t.listId,n=t.sectionId;if(this.props.pencilAdClicked({i13nModel:{mKey:Ii.g.PENCIL_AD_CLICKED,sec:Ii.i.MSG_LIST_AD,interactionType:Object(Ps.getInteractionFromEvent)(e),actionData:{sectionId:s.sectionId||n,type:s.type}}}),-1!==[RT.s.NativeAdType,RT.s.VideoAdType].indexOf(s.type)){e.preventDefault();const t=Object(f.b)(s,"actionUrls.IMPR_INTERNAL",[]);switch(s.type){case RT.s.NativeAdType:case RT.s.VideoAdType:Object(qd.a)(s.clickUrl,!1),t.forEach((function(e){e=e.replace("$(impr_label)","msm_open"),Object(qd.a)(e,!1)}))}this.context.navigateTo({route:Object(Ui.y)(r,s.creativeId)})}}),o()(this,"onAdChoiceClicked",e=>{e.preventDefault(),e.stopPropagation(),Object(Gc.a)(this.props.aboutAdsUrl)})}shouldComponentUpdate(e){return e.pencilAdData.clickUrl!==this.props.pencilAdData.clickUrl||e.isCompactLayout!==this.props.isCompactLayout||e.viewabiltyContainerNode!==this.props.viewabiltyContainerNode||e.msgListDensity!==this.props.msgListDensity||e.feedbackStatus!==this.props.feedbackStatus||e.showMessageListBanner!==this.props.showMessageListBanner}renderAdListItem(){const e=this.props,t=e.isCompactLayout,s=e.adPosition,r=e.pencilAdData,n=e.flashSaleAdEnabled,a=e.flashSaleAdInSecondsEnabled,o=e.msgListDensity,i=e.sectionId,c=e.isAdFeedbackV2;return r.type===RT.s.SearchAdType?Ko.a.createElement(kT,{key:r.type,onClick:this.handleAdClicked,onAdChoiceClicked:this.onAdChoiceClicked,pencilAdData:r,isCompactLayout:t,adPosition:s,msgListDensity:o,searchKeyword:e.searchKeyword,windowDimensions:e.windowDimensions,searchAdRendered:e.searchAdRendered,instrumentSecondSearchAd:e.instrumentSecondSearchAd}):Ko.a.createElement(UT,{key:r.type,onClick:this.handleAdClicked,onAdChoiceClicked:this.onAdChoiceClicked,pencilAdData:r,isCompactLayout:t,feedbackEnabled:!0,adPosition:s,flashSaleAdEnabled:n,flashSaleAdInSecondsEnabled:a,msgListDensity:o,sectionId:i,isAdFeedbackV2:c})}render(){const e=this.props,t=e.pencilAdData,r=e.viewabiltyContainerNode,n=e.sectionId,a=e.feedbackStatus;if(e.showMessageListBanner&&(!t||t.type!==RT.s.SearchAdType)){const t={upsellId:this.props.upsellId};return Ko.a.createElement(Mi.a,{import:"../../atoms/mailpro_free_trial/message_list_banner",isCompactLayout:e.isCompactLayout,msgListDensity:e.msgListDensity,themeMode:e.themeMode,purchaseMailproFreeTrial:e.purchaseMailproFreeTrial,cueName:C.Eb.MAILPRO_FREE_TRIAL_UPSELLS,computeUserResponse:()=>this.props.upsellId,computeActionData:()=>t,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1316))},_moduleResolver:function(){return 1316}})}if(!t||!t.clickUrl)return null;return a===C.p.STARTED||a===C.p.SUBMITTED||a===C.p.DELETED||a===C.p.LIKED?Ko.a.createElement(gu.a,{sectionId:n}):Ko.a.createElement(mu.a,{pencilAdData:t,sectionId:n,rootNode:r},this.renderAdListItem())}}o()(BT,"contextTypes",{navigateTo:Vo.a.func,intl:$o.intlShape.isRequired,store:Vo.a.object});var VT=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e),r=s.isFeatureEnabled,n=s.getSetting,a=s.getRoute,o=s.getAction,i=s.getWindowDimensions,c=s.getMailproFreeTrialSelectors,l=t.sectionId,d=(0,s.getAdsSelectors)(),E=a(),_=E.name===C.rd.SEARCH,u=n(C.Kd.PREVIEW_PANE)===C.ed.RIGHT,p=n(C.Kd.GEMINI_SECTION_IDS),m=C.Nb.MESSAGE_LIST,S=C.Nb.MESSAGE_LIST_2,h=Object(Hi.z)(E),g=Object(Hi.v)(h),O=d.getAdFeedbackStatus(),T=c().getUpsellId(),A=r(C.Eb.MAILPRO_FREE_TRIAL_UPSELLS)&&T===C.hc.PRE_SIGNUP_PENCIL_BANNER;return{aboutAdsUrl:n(C.Kd.ABOUT_AD_URL),isSearchRoute:_,pencilAdData:d.getPencilAdData(t.sectionId),flashSaleAdEnabled:r(C.Eb.FLASH_SALE_AD),flashSaleAdInSecondsEnabled:r(C.Eb.FLASH_SALE_AD_IN_SECONDS),msgListDensity:n(C.Kd.MSG_LIST_DENSITY),action:o(),isCompactLayout:u,adPosition:l===p[m]?m:S,searchKeyword:g,windowDimensions:i(),instrumentSecondSearchAd:r(C.Eb.INSTRUMENT_SECOND_SEARCH_AD),isAdFeedbackV2:r(C.Eb.AD_FEEDBACK_V2),feedbackStatus:O[l],themeMode:n(C.Kd.THEME_MODE),showMessageListBanner:A,upsellId:T}},e=>({pencilAdClicked:t=>e(Object(JE.m)(t)),searchAdRendered:t=>e(Object(JE.x)(t)),purchaseMailproFreeTrial:t=>e(Object(xT.a)(t))}))(BT),WT=s(83),KT=s(206),qT=s(278),YT=s(192),zT=s(790),QT=s.n(zT);const ZT=Object($o.defineMessages)({coupon_aria_label:{id:"coupon_aria_label",defaultMessage:"{fromName}'s coupon"},openMessage:{id:"coupon.openMessage",defaultMessage:"Open Message"}});class XT extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{hovered:!1,openMailClicked:!1,parentMessageRequested:!1}),o()(this,"handleOpenMail",e=>{const t=this.state.openMailClicked;e.preventDefault(),e.stopPropagation(),t||this.setState({openMailClicked:!0})}),o()(this,"openParentMessage",()=>{const e=this.props,t=e.listId,s=e.groupId,r=e.cardConversationId,n=e.getParentGroupId,a=this.state.parentMessageRequested;if(s){const r={mKey:Ii.g.COUPON_OPENED,sec:Ii.i.COUPONS_LIST,actionData:{cardMid:e.cardMid,fromEmail:e.fromEmail,isClipped:e.clipped,isAffiliatePartnerEnabled:e.isAffiliatePartnerEnabled}};this.props.onCouponClick({route:Object(Ui.p)(t,s),streamItem:{listId:t,id:s},i13nModel:r,full:!0}),this.setState({openMailClicked:!1})}else a||(n(r),this.setState({parentMessageRequested:!0}))}),o()(this,"handleAffiliateLinkClick",e=>{const t=this.props,s=t.cardMid;sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.CARD_INTERACT,sec:Ii.i.COUPONS_LIST,actionData:{xpname:C.u.COUPON_SMART_VIEW_COUPON_LIST_ITEM,msgId:s,brandurl:t.dealLink,cardId:s,slot:Ii.j.COUPON_SMART_VIEW,sndr:t.fromEmail,affiliatePartner:e,featurefamily:C.Cb.IC,interactiontype:Ii.e.click,interacteditem:"deal_email"}}})}),o()(this,"clipCoupon",e=>{e.preventDefault(),e.stopPropagation();this.props.clip({cardMid:this.props.cardMid,i13nModel:{mKey:Ii.g.COUPON_CLIPPED,sec:Ii.i.COUPONS_LIST}})}),o()(this,"unclipCoupon",e=>{e.preventDefault(),e.stopPropagation();this.props.unclip({cardMid:this.props.cardMid,i13nModel:{mKey:Ii.g.COUPON_UNCLIPPED,sec:Ii.i.COUPONS_LIST}})})}componentDidUpdate(){this.state.openMailClicked&&this.openParentMessage()}render(){const e=this.props,t=e.affiliateFeatures,s=e.clipped,r=e.cardMid,n=e.daysUntilExpiry,a=e.dealLink,o=e.description,i=e.domainMap,c=e.fromEmail,l=e.fromName,d=e.hideBottomBorder,E=e.isAffiliatePartnerEnabled,_=e.isInferredDate,u=e.locale,p=e.partner;if(!c||!l||!o)return null;const m=this.context.intl.formatMessage,S=this.context.getTheme(),h=this.context.getThemeMode(),C=Ti()(QT.a,{themeCombo:`${h}_${S}`,themeMode:h,hideBottomBorder:d}),g={target:"_blank",title:o,rel:"noreferrer"};if(E&&a){const e=Object(WT.b)({affiliateLink:a,domainMap:i,email:c,features:t,locale:u,partner:p}),s=e.affiliatePartnerName,r=void 0===s?"":s,n=e.affiliatePartnerUrl;g.href=void 0===n?"":n,g.onClick=()=>this.handleAffiliateLinkClick(r)}else a&&(g.href=a);return Ko.a.createElement("a",zo()({role:"row","data-test-id":"coupon-list-item","aria-label":m(ZT.coupon_aria_label,{fromName:l}),onClick:this.handleOpenMail,className:C.container,key:r,onMouseOver:()=>this.setState({hovered:!0}),onMouseLeave:()=>this.setState({hovered:!1}),rel:"noreferrer"},g),Ko.a.createElement("span",{className:C.avatar},Ko.a.createElement(DT.c,{"data-test-id":"coupon-vendor-xavatar",contact:{email:c},size:DT.b.C,useFallbackImage:!1})),Ko.a.createElement("div",{className:C.subContainer},Ko.a.createElement("div",{className:C.vendorGrid},Ko.a.createElement("span",{"data-test-id":"coupon-vendor-name",className:C.vendorName,title:c},l)),Ko.a.createElement("div",{className:C.infoGrid},s?Ko.a.createElement(mi.a,{className:C.clippedButton,onClick:this.unclipCoupon,"data-test-id":"unclip-coupon-btn"},Ko.a.createElement(ei.b,{kind:ti.Kinds.SCISSORS,size:ti.Sizes.XXS,colorState:ti.ColorStates.INVERTED})):Ko.a.createElement(mi.a,{className:C.unclippedButton,onClick:this.clipCoupon,"data-test-id":"clip-coupon-btn"},Ko.a.createElement(ei.b,{kind:ti.Kinds.SCISSORS,size:ti.Sizes.XXS,colorState:ti.ColorStates.INHERITED})),Ko.a.createElement("span",{"data-test-id":"coupon-description",className:E&&a?C.affiliatePartnerDescription:C.description},o),this.state.hovered?Ko.a.createElement(Jo.default,{kind:ti.Kinds.SELECTED,size:ti.Sizes.XS,onClick:this.handleOpenMail,colorState:ti.ColorStates.INHERITED,className:C.openEmailIcon,title:m(ZT.openMessage),"data-test-id":"open-email-icon"}):null,Ko.a.createElement("div",{className:C.dateWrapper,"data-test-id":"expiry-date-wrapper"},s?Ko.a.createElement("strong",{"data-test-id":"clipped-cpn-expiry-info"},Ko.a.createElement(qT.a,{daysUntilExpiry:n,isInferred:_})):Ko.a.createElement("span",{className:C.unclippedCpnExpiryInfo,"data-test-id":"unclipped-cpn-expiry-info"},Ko.a.createElement(qT.a,{daysUntilExpiry:n,isInferred:_}))))))}}o()(XT,"contextTypes",{intl:$o.intlShape.isRequired,getUrlFromRoute:Vo.a.func,getThemeMode:Vo.a.func,getTheme:Vo.a.func,executeAction:Vo.a.func});var $T=Object(KT.a)(Object(qo.connect)(YT.e,YT.b)(XT)),JT=s(269),eA=s.n(JT),tA=s(307);const sA=Object($o.defineMessages)({RECOMMENDATION:{id:"shopping_cart_ad.recommendation",defaultMessage:"Recommended item"},ADD_TO_CART:{id:"shopping_cart_ad.add_to_cart",defaultMessage:"Item from your shopping cart"},VIEW:{id:"shopping_cart_ad.view",defaultMessage:"Pick up where you left off"},learnMore:{id:"learn_more_btn_label",defaultMessage:"Learn More"}}),rA={};class nA extends Wo.Component{constructor(...e){super(...e),o()(this,"state",{adImageHover:!1}),o()(this,"listNode",document.querySelector('[data-test-id="mail-reader-list-container"]')),o()(this,"onAdChoiceClicked",e=>{e.preventDefault(),e.stopPropagation(),Object(Gc.a)(this.props.aboutAdsUrl)}),o()(this,"onAdImageHoverChange",(e,t)=>{e.preventDefault(),e.stopPropagation(),this.props.adVersion===C.pb.CTR_ON_IMG&&this.setState({adImageHover:t})}),o()(this,"onAdClicked",()=>{this.props.onAdClicked({i13nModel:{mKey:Ii.g.DEALS_SHOPPING_CART_AD_CLICKED,sec:Ii.i.COUPONS_LIST}})})}componentDidMount(){const e=this.props.pencilAd&&this.props.pencilAd.clickUrl;e&&!rA[e]&&(this.shoppingCartBeaconTimer=setImmediate(()=>{rA[e]||(this.props.onAdRendered({i13nModel:{mKey:Ii.g.DEALS_SHOPPING_CART_AD_RENDERED,sec:Ii.i.SHOPPING_CART}}),rA[e]=!0)}))}componentWillUnmount(){clearImmediate(this.shoppingCartBeaconTimer)}render(){const e=this.props,t=e.pencilAd,s=e.adVersion,r=s===C.pb.THEMED_BUTTON,n=this.context.getCss(eA.a,{isWideView:e.isWideView,isCompactView:e.isCompactView,themedAdActivity:r,ctaOnImg:!r}),a=this.context.intl.formatMessage,o=t.clickUrl,i=t.origImg,c=t.productAdActivity,l=t.productAdActivityMessage,d=t.adHeadline,E=t.adSource,_=t.sectionId,u=t.callToAction,p=sA[c]?a(sA[c]):l,m=r?{color:di.Mb}:{};return o?Ko.a.createElement(mu.a,{rootNode:this.listNode,pencilAdData:t,sectionId:_,className:n.viewabilityTracker},Ko.a.createElement("a",{className:n.adContainer,href:o,target:"_blank",rel:"noreferrer",onClick:this.onAdClicked},Ko.a.createElement("div",{className:n.imageContainer,style:{backgroundImage:`url(${i})`},onMouseEnter:e=>this.onAdImageHoverChange(e,!0),onMouseLeave:e=>this.onAdImageHoverChange(e,!1)},s===C.pb.CTR_ON_IMG?Ko.a.createElement("div",{className:n.ctaBackground},Ko.a.createElement("span",{className:n.cta,style:this.state.adImageHover?{visibility:"visible"}:{}},u)):null),Ko.a.createElement("span",{className:n.content},Ko.a.createElement("div",{className:n.fromNameContainer},Ko.a.createElement("span",{className:n.fromName},E),Ko.a.createElement("button",{className:n.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},Ko.a.createElement(ei.b,{kind:ti.Kinds.SPONSORED,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED}))),Ko.a.createElement("span",{className:n.description},d),Ko.a.createElement("span",{className:n.adActivity,style:m},p||a(sA.RECOMMENDATION))))):null}}o()(nA,"defaultProps",{pencilAd:{}}),o()(nA,"contextTypes",{getCss:Vo.a.func,intl:$o.intlShape.isRequired});var aA=Object(qo.connect)(YT.d,YT.c)(nA);class oA extends Wo.Component{constructor(...e){super(...e),o()(this,"handleAffiliateLinkClick",e=>{const t=this.props;sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.CARD_INTERACT,sec:Ii.i.COUPONS_LIST,actionData:{xpname:C.u.COUPON_SMART_VIEW_DEAL_ITEM,msgId:t.parentMessageId,cardId:t.cmid,brandurl:t.dealLink,slot:Ii.j.COUPON_SMART_VIEW,sndr:t.retailer,affiliatePartner:e,featurefamily:C.Cb.IC,interactiontype:Ii.e.click,interacteditem:"deal_card",score:t.relevanceScore}}})})}render(){const e=this.props,t=e.affiliateFeatures,s=e.creativeId,r=e.dealLink,n=e.description,a=e.domainMap,o=e.imageUrl,i=e.isAffiliatePartnerEnabled,c=e.locale,l=e.mainContentWidth,d=e.partner,E=e.retailer,_=void 0===E?"":E,u=e.retailerLogoUrl,p=e.senderEmails,m=l>tA.b,S=l<tA.a,h=this.context.getCss(eA.a,{isWideView:m,isCompactView:S,marginLess:e.marginLess}),C=!s,g=i&&r?Object(WT.b)({affiliateLink:r,domainMap:a,email:(null==p?void 0:p[0])||"",features:t,locale:c,partner:d}):{affiliatePartnerName:"",affiliatePartnerUrl:""},O=g.affiliatePartnerName,T={target:"_blank",title:n,rel:"noreferrer"};return i&&r?(T.href=g.affiliatePartnerUrl||r,T.onClick=()=>this.handleAffiliateLinkClick(O)):r&&(T.href=r),C?Ko.a.createElement("a",zo()({className:h.container},T),Ko.a.createElement("img",{className:h.image,src:o||u||Object(P_.a)("/img/deal_image_placeholder.png")}),Ko.a.createElement("span",{className:h.content},Ko.a.createElement("span",{className:h.fromName},_),Ko.a.createElement("span",{className:h.description},n))):Ko.a.createElement(aA,zo()({},this.props,{isWideView:m,isCompactView:S}))}}o()(oA,"contextTypes",{getCss:Vo.a.func});var iA=Object(KT.a)(Object(qo.connect)(YT.e,YT.b)(oA));class cA extends Ko.a.Component{componentDidMount(){const e=this.props.items,t=void 0===e?[]:e,s=t.map(e=>e.cmid||""),r=t.map(e=>e.relevanceScore||0);sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.CARD_VIEW,sec:Ii.i.COUPONS_LIST,actionData:{featurefamily:C.Cb.IC,slot:Ii.j.COUPON_SMART_VIEW,cardId:s,score:r,xpname:C.u.RECOMMENDED_DEALS}}})}render(){const e=this.context.getCss(eA.a),t=this.props.items;return Ko.a.createElement("div",{className:e.row,"data-test-id":"top-deals-row"},(void 0===t?[]:t).map((e,t)=>Ko.a.createElement(iA,zo()({key:e.cmid||e.creativeId},e,{marginLess:0===t}))))}}o()(cA,"contextTypes",{getCss:Vo.a.func});var lA=s(791),dA=s.n(lA);function EA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function _A({onRetry:e,route:t,isOnline:s},r){const n=r.getCss(dA.a);return s?Ko.a.createElement("div",{"data-test-id":"message-group-list-error",className:n.errorContainer},Ko.a.createElement("p",null,Ko.a.createElement($o.FormattedMessage,{id:"folder_loading_error",defaultMessage:"An error occurred while trying to fetch the items in this list."})),Ko.a.createElement("a",{"data-test-id":"list-loading-error-retry",className:n.listLoadingRetry,onClick:()=>e({route:t})},Ko.a.createElement($o.FormattedMessage,{id:"list_loading_error_retry",defaultMessage:"Retry"}))):Ko.a.createElement("div",{"data-test-id":"message-group-list-error",className:n.errorContainer},Ko.a.createElement("p",null,Ko.a.createElement($o.FormattedMessage,{id:"list_offline_loading_error",defaultMessage:"You are offline."})))}_A.contextTypes={getCss:Vo.a.func};var uA=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.isOnline;return{route:(0,t.normalizeRoute)((0,t.getRoute)()),isOnline:s()}},e=>({onRetry:t=>e(Object(oi.j)(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?EA(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):EA(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{retry:!0,forceSync:!0})))}))(_A),pA=s(792),mA=s.n(pA);const SA=Ti()(mA.a);class hA extends Ko.a.Component{render(){const e=this.props,t=e.count,s=e.formatNumber;return(this.props.x||this.props.y)&&(this.iconStyles={left:this.props.x,top:this.props.y}),Ko.a.createElement("div",{className:this.iconStyles&&SA.dragIcon,style:this.iconStyles?this.iconStyles:{}},Ko.a.createElement(ei.b,{kind:ti.Kinds.INBOX,size:ti.Sizes.XS}),Ko.a.createElement("b",{className:SA.counter},s(t)))}}o()(hA,"defaultProps",{formatNumber:e=>""+e});var CA=Object(qo.connect)((e,{streamId:t})=>{const s=Object(wi.selectors)(e);return{count:Object.keys((0,s.getSelectedItems)(t)).length}})(hA);var gA=Object(qo.connect)((e,t)=>{const s=t.cardMid,r=t.conversationId,n=t.messageId,a=Object(wi.selectors)(e),o=a.getFeaturesSelectors,i=(0,a.getMessagesSelectors)().getFromAddresses,c=o().isEnabled(C.Eb.CONVERSATIONS)?r:n,l=i(s);let d="",E="";return l&&l.length>0&&(d=l[0].email,E=l[0].name),{fromEmail:d,fromName:E,groupId:c}}),OA=s(793),TA=s.n(OA);const AA=Object($o.defineMessages)({receipt_aria_label:{id:"receipt_aria_label",defaultMessage:"{fromName}'s receipt"},receipt_multiple_items:{id:"receipt_multiple_items",defaultMessage:"& {numItems} other {numItems, plural, =1 {item} other {items}}"}});class IA extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleReceiptClick",e=>{e.preventDefault();const t=this.props,s=t.listId,r=t.groupId,n={mKey:Ii.g.RECEIPT_OPENED,sec:Ii.i.RECEIPTS_LIST,actionData:{cardMid:t.cardMid,fromEmail:t.fromEmail}};this.props.onReceiptClick({route:Object(Ui.p)(s,r),streamItem:{listId:s,id:r},i13nModel:n})})}render(){const e=this.props,t=e.fromEmail,s=e.fromName,r=e.itemName,n=e.hideBottomBorder,a=e.price,o=e.currency,i=e.orderDate,c=e.numItems,l=this.context.intl,d=l.formatMessage,E=l.formatNumber,_=this.context.getTheme(),u=this.context.getThemeMode(),p=c<2?null:d(AA.receipt_multiple_items,{numItems:c-1}),m=Ti()(TA.a,{themeCombo:`${u}_${_}`,themeMode:u,hideBottomBorder:n,noItemName:!r}),S=()=>o?E(a,{style:"currency",currency:o}):""+(e=>parseFloat(e.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0]).toFixed(2))(a);return Ko.a.createElement("a",{role:"row","data-test-id":"receipt-list-item","aria-label":d(AA.receipt_aria_label,{fromName:s}),onClick:this.handleReceiptClick,className:m.container},Ko.a.createElement("span",{className:m.avatar},Ko.a.createElement(DT.c,{"data-test-id":"receipt-vendor-xavatar",contact:{email:t},size:DT.b.C,useFallbackImage:!1})),Ko.a.createElement("div",{className:m.subContainer},Ko.a.createElement("div",{className:m.vendorGrid},Ko.a.createElement("span",{"data-test-id":"receipt-vendor-name",className:m.vendorName,title:t},s)),Ko.a.createElement("div",{className:m.infoGrid},Ko.a.createElement("span",{"data-test-id":"receipt-itemName",className:m.itemName},r," ",p),(e=>null!==e&&!isNaN(e))(a)?Ko.a.createElement("span",{"data-test-id":"receipt-price",className:m.price,"aria-label":S()},S()):null,Ko.a.createElement("div",{className:m.dateWrapper,"data-test-id":"date-received-wrapper"},Ko.a.createElement("span",{className:m.date,"data-test-id":"date-received-info"},Ko.a.createElement($o.FormattedDate,{value:new Date(i).toUTCString(),timeZone:"UTC",day:"2-digit",month:"short"}))))))}}o()(IA,"contextTypes",{intl:$o.intlShape.isRequired,getUrlFromRoute:Vo.a.func,getThemeMode:Vo.a.func,getTheme:Vo.a.func,executeAction:Vo.a.func});var fA=gA(IA),DA=s(794),RA=s.n(DA),bA=s(213),NA=s(131),MA=s(797),yA=s.n(MA);function LA(e,t){const s=t.getCss(yA.a);return Ko.a.createElement("div",{"data-test-id":"did-you-mean",className:s.didYouMean},Ko.a.createElement($o.FormattedMessage,{id:"search.did_you_mean",defaultMessage:"No results found. Showing search results for: {suggestedWord}.",values:{suggestedWord:Ko.a.createElement("span",{className:s.didYouMeanWord,"data-test-id":"did-you-mean-word"},e.suggestedWord)}}))}LA.contextTypes={getCss:Vo.a.func};var PA=s(798),vA=s.n(PA);const FA=Object($o.defineMessages)({related_searches:{id:"search.related_searches",defaultMessage:"Related searches:"},related_search:{id:"search.related_search",defaultMessage:"Related search:"}});class UA extends Ko.a.Component{constructor(...e){super(...e),o()(this,"renderPill",(e,t,s,r)=>{const n=e.name,a=e.position,o=e.id,i=e.emails,c=e.email||(void 0===i?[]:i)[0],l=this.context.getThemeMode()===ai.i.DARK;return Ko.a.createElement(sS.default,{key:o+c,email:c,isCompose:!1,name:n},Ko.a.createElement(eS.default,{value:n,title:a,contactId:o,contactEmail:c,isLastElement:t===s.length-1,isSelected:r,onPillClick:()=>this.props.onClick(e),contact:e,useEllipsis:!0,maxWidth:di.wb.S,isDark:l}))})}static filterContacts(e,t){const s=t.map(({email:e})=>e);return e.length&&(e=e.filter(e=>{const t=e.email,r=e.emails;return!!(t||(void 0===r?[]:r)[0])&&-1===s.indexOf(t)})),e}render(){const e=this.props.maxContactsVisible,t=UA.filterContacts(this.props.contacts,[]).slice(0,e),s=t.length>1?FA.related_searches:FA.related_search,r=this.context.getCss(vA.a);return t.length>0&&Ko.a.createElement("div",{className:r.container,"data-test-id":"search-suggest-contact"},Ko.a.createElement("div",{className:r.labelPadding},Ko.a.createElement($o.FormattedMessage,s)),t.map((e,s)=>this.renderPill(e,s,t,!1)))}}o()(UA,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func}),o()(UA,"defaultProps",{tabIndex:-1,maxContactsVisible:2,selectedContacts:[],contacts:[]});var wA=UA;const GA=Object($o.defineMessages)({messages_aria_label:{id:"search.messages_aria_label",defaultMessage:"Messages, selected"},images_aria_label:{id:"search.images_aria_label",defaultMessage:"Images, selected"},documents_aria_label:{id:"search.documents_aria_label",defaultMessage:"Documents, selected"},content_filter_messages:{id:"search.content_filter_messages",defaultMessage:"Messages"},content_filter_images:{id:"photos_label",defaultMessage:"Photos"},content_filter_documents:{id:"search.content_filter_documents",defaultMessage:"Documents"}});class HA extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{imagesHeader:null}),o()(this,"handleContentTypeChange",(e,t)=>{const s=Ii.g["FILTER_"+t],r=s?{mKey:s,sec:Ii.i.HEADER_LIST,interactionType:Object(Ps.getInteractionFromEvent)(e)}:null;this.props.onContentTypeChange({listContentType:t,i13nModel:r})}),o()(this,"renderContentTypeFilter",()=>{const e=this.props.activeContentType,t=this.context.intl.formatMessage,s=e===C.ac.IMAGES,r=e===C.ac.DOCUMENTS;return Ko.a.createElement(bA.a,null,Ko.a.createElement(NA.a,{isSelected:e===C.ac.MESSAGES,onClick:e=>this.handleContentTypeChange(e,C.ac.MESSAGES),"data-test-id":"btn-messages-tab",title:t(GA.content_filter_messages)}),Ko.a.createElement(NA.a,{isSelected:s,onClick:e=>this.handleContentTypeChange(e,C.ac.IMAGES),"data-test-id":"btn-photos-tab",title:t(GA.content_filter_images),ref:e=>{this.state.imagesHeader||this.setState({imagesHeader:e})}}),Ko.a.createElement(NA.a,{isSelected:r,onClick:e=>this.handleContentTypeChange(e,C.ac.DOCUMENTS),"data-test-id":"btn-documents-tab",title:t(GA.content_filter_documents)}),this.renderSearchCue())}),o()(this,"updateContent",()=>{this.popoverContent&&this.popoverContent.updatePosition()}),o()(this,"renderSearchCue",()=>this.props.showSearchCue&&this.state.imagesHeader?Ko.a.createElement(Ei.a,{popoverAnchor:this.state.imagesHeader,align:pi.a.CENTER,triggerOn:pi.i.MOUNT,permittedArrowDirections:[pi.h.UP],offset:16,ref:e=>{this.popoverContent=e},zAltitude:di.Pb.POPOVER.HIGH},Ko.a.createElement(Mi.a,{import:"../molecules/search_header/atoms/search_cue",cueName:C.Eb.SEARCH_CUE,onShow:this.updateContent,close:this.props.activeContentType!==C.ac.MESSAGES,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1352))},_moduleResolver:function(){return 1352}})):null),o()(this,"renderSuggestedWords",()=>{const e=this.props.suggestedWords,t=w()(e,1)[0];return t?Ko.a.createElement(LA,{suggestedWord:t}):null}),o()(this,"renderSuggestedContacts",()=>{const e=this.props,t=e.suggestedContacts;return e.suggestedWords.length?null:!this.props.isPeopleSearch&&t&&t.length>0&&Ko.a.createElement(wA,{contacts:t,onClick:this.props.onContactClick})})}render(){const e=this.context.getCss(RA.a);return Ko.a.createElement("div",null,Ko.a.createElement("div",{className:e.searchHeader,"data-test-id":"search-header"},this.renderContentTypeFilter(),this.renderSuggestedWords(),this.renderSuggestedContacts()))}}o()(HA,"contextTypes",{getCss:Vo.a.func,intl:$o.intlShape.isRequired});var jA=HA;class kA extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleContentTypeChange",({listContentType:e,i13nModel:t})=>{this.context.navigateTo({route:Object(Ui.t)(Object(Hi.gb)(this.props.listId,{listContentType:e})),i13nModel:t})}),o()(this,"handleContactClick",e=>{const t=e.name,s=e.emails,r=e.email||(void 0===s?[]:s)[0];this.context.navigateTo({route:Object(Ui.u)({emailAddresses:r,name:t})})})}render(){return Ko.a.createElement(jA,{suggestedWords:this.props.suggestedWords,onContentTypeChange:this.handleContentTypeChange,onContactClick:this.handleContactClick,isPeopleSearch:Object(Hi.U)(this.props.listId),activeContentType:Object(Hi.w)(this.props.listId),keyword:Object(Hi.v)(this.props.listId),suggestedContacts:this.props.suggestedContacts,showSearchCue:this.props.showSearchCue})}}o()(kA,"contextTypes",{executeAction:Vo.a.func,navigateTo:Vo.a.func.isRequired});var xA=Object(qo.connect)((e,t)=>{const s=Object(Hi.gb)(t.listId,{listContentType:C.ac.PEOPLE,listFilter:C.bc.WITH_KEYWORD}),r=Object(wi.selectors)(e),n=r.doesListExist,a=r.getPeopleListItems,o=r.getListSuggestedWords,i=r.getCurrentListId,c=(0,r.getFeaturesSelectors)(),l=n(s)?a(s):[],d=i();return{suggestedWords:n(d)?o(d):[],suggestedContacts:l,showSearchCue:c.isEnabled(C.Eb.SEARCH_CUE)}})(kA);var BA=Object(qo.connect)((e,t)=>{const s=t.schemaId,r=(0,(0,Object(wi.selectors)(e).getFlightsSelectors)().getFlightCard)(s);return{departureAirportDesc:r.departureAirportDesc,departureAirportCode:r.departureAirportCode,departureAirportName:r.departureAirportName,arrivalAirportDesc:r.arrivalAirportDesc,arrivalAirportCode:r.arrivalAirportCode,arrivalAirportName:r.arrivalAirportName,departureTime:r.departureTime,arrivalTime:r.arrivalTime,flightNumber:r.flightNumber,passengers:r.passengers,providerName:r.providerName,providerIataCode:r.providerIataCode,reservationId:r.reservationId}}),VA=s(23);const WA=Object($o.defineMessages)({viewEmail:{id:"flight.viewEmail",defaultMessage:"View email"},flightNumber:{id:"flight.flightNumber",defaultMessage:"Flight {flightNumber}"},confirmationNumber:{id:"flight.confirmation",defaultMessage:"Confirmation: {reservationId}"},depart:{id:"flight.depart",defaultMessage:"Depart"},arrive:{id:"flight.arrive",defaultMessage:"Arrive"}}),KA={container:{width:"100%",maxWidth:197*di.G+"px",minWidth:109*di.G+"px",border:"1px solid "+di.F,borderRadius:"2px",margin:`0 ${6*di.G}px ${3*di.G}px ${2*di.G}px`},logo:{padding:3*di.G+"px",verticalAlign:"top"},heading:{padding:3*di.G+"px 0 0 0",fontSize:di.C,fontWeight:di.r,color:di.p,verticalAlign:"middle",width:"88%"},headingCell:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",display:"inline-flex",flexFlow:"row nowrap",maxWidth:"100%",verticalAlign:"middle",lineHeight:"28px",padding:0},headingLeft:{flexGrow:1,whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis"},headingRight:{whiteSpace:"nowrap",minWidth:"48px"},dateTimeGroup:{width:"25%",padding:0},airlineGroup:{padding:`0 0 0 ${8*di.G}px`,width:"50%"},date:{color:di.A,fontSize:di.E,padding:0,lineHeight:"20px"},time:{fontSize:di.B,padding:0},bottomRow:{backgroundColor:di.z,height:"32px"},centerInfo:{padding:`0 0 ${3*di.G}px 0`},passengers:{padding:0,fontSize:di.D,verticalAlign:"middle",width:"50%",maxWidth:0,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},reservation:{fontWeight:di.N,padding:`0 0 0 ${8*di.G}px`},tableBasic:{width:"100%",border:0,borderSpacing:0,padding:0},tableFixed:{width:"100%",border:0,borderSpacing:0,padding:0,tableLayout:"fixed"},tdBasic:{padding:0},tdLastColumn:{padding:`0 ${3*di.G}px 0 0`,width:"99%"},viewEmail:{textAlign:"right",padding:4*di.G+"px 0 0 0",width:"99%"},viewEmailLink:{color:di.o,fontSize:di.E}},qA={container:Object.assign({},KA.container,{border:"1px solid "+Object(VA.a)(di.Mb,.2)}),heading:Object.assign({},KA.heading,{color:di.Mb,opacity:.8}),date:Object.assign({},KA.date,{color:di.Mb,opacity:.6}),time:Object.assign({},KA.time,{color:di.Mb,opacity:.8}),bottomRow:Object.assign({},KA.bottomRow,{backgroundColor:Object(VA.a)(di.Mb,.1),color:di.Mb,opacity:.8}),viewEmailLink:Object.assign({},KA.viewEmailLink,{color:di.v})},YA=({actualTime:e,dateFallback:t,isDarkMode:s})=>{const r=function(e){return 25===e.length?Date.parse(e.substr(0,e.length-6)+"-00:00"):Date.parse(e)}(e),n=Number.isNaN(r);return Ko.a.createElement("table",{style:KA.tableBasic},Ko.a.createElement("tbody",null,Ko.a.createElement("tr",null,Ko.a.createElement("td",{style:s?qA.date:KA.date},n?t:Ko.a.createElement($o.FormattedDate,{value:r,timeZone:"UTC",weekday:"short",day:"numeric",month:"short"}))),Ko.a.createElement("tr",null,Ko.a.createElement("td",{style:s?qA.time:KA.time},n?"--":Ko.a.createElement($o.FormattedTime,{value:r,timeZone:"UTC",hour:"numeric",minute:"2-digit"})))))};class zA extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleViewEmail",(e,t)=>{e.preventDefault();const s=this.props;this.context.navigateTo({route:t,streamItem:{listId:s.listId,id:s.groupId},i13nModel:{interactionType:Ii.e.click,mKey:Ii.g.TRAVEL_READ_MSG,sec:Ii.i.TRAVEL_LIST,mKeyGroup:Ii.h.openMsg}})})}render(){const e=this.props,t=e.departureAirportDesc,s=e.departureAirportCode,r=e.departureAirportName,n=e.arrivalAirportDesc,a=e.arrivalAirportCode,o=e.arrivalAirportName,i=e.departureTime,c=e.arrivalTime,l=e.flightNumber,d=e.passengers,E=e.providerName,_=e.providerIataCode,u=e.reservationId,p=e.listId,m=e.groupId,S=Object(Ui.p)(p,m),h=this.context.intl.formatMessage,C=t||r,g=n||o,O=this.context.getThemeMode()===ai.i.DARK;return Ko.a.createElement("div",{style:O?qA.container:KA.container,"data-test-id":"flight-card"},Ko.a.createElement("table",{style:KA.tableBasic},Ko.a.createElement("tbody",null,Ko.a.createElement("tr",null,Ko.a.createElement("td",{style:KA.logo},Ko.a.createElement(DT.c,{contact:{iataCode:_},size:DT.b.C,useFallbackImage:!1,customFallbackImageData:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAeZJREFUeNrsmlFLAkEUhVVWcimNBJdWiAiKCgsq6sf30GNPQU9ZEYaUkaChZUWGG3Six3ZmZ/XujtK57JO7DOebmXvuvWD2+OQ0M8uRy8x4EIAABCAAAQhAAAIQgAAE+L8AjtRCe7tb+Xz4atc3zde392kHKC+VHCd8taOD2tl5PSEGsSsEicpNchwwFBfmpxoAG3xx1UifQTKJH9ud9BmEXSh9BnkbBQMePYMq3YVdCM7oVcpj7Pfvj1Xf0zAg6YMgSBYAeakHgER8c9dqhzKMgq9SUXlbVlf822YrWQAog0S3MKf5ZnNjDUKHw8+/r7pPPTza0rGoetXrvwgA4IixSTvb6/olIj8YLzrd3v1DO5IkF5mRH2G7m0Lg9h7u11SJFMOF6mpbTCFwvJqbZgSAQ+w/DywyVJcrk9YBtJMWAVy3MCkAvFJTm5KO0SgQqMQinj2mHWm92BQAXmSFIfLwY/RCqGsixd88YB6aMSP2RAb1aBBMeklYuGHLiTVDOxH8jkJmUoLidYVYFE+E6/meufrJR03hdhrqDTsLEfWSQ30s9T/z52VDZMx3rKiXGgbErpAt9TIAFtULAGDcsaheJgdMelX0M6ghSdTBLP+tQgACEIAABCAAAQhAAAIQgACW4luAAQAJVQdmI18HzQAAAABJRU5ErkJggg=="})),Ko.a.createElement("td",{style:KA.tdLastColumn},Ko.a.createElement("table",{style:KA.tableBasic},Ko.a.createElement("tbody",null,Ko.a.createElement("tr",null,Ko.a.createElement("td",{style:KA.tdBasic},Ko.a.createElement("table",{style:KA.tableBasic},Ko.a.createElement("tbody",null,Ko.a.createElement("tr",null,Ko.a.createElement("td",{style:O?qA.heading:KA.heading,"data-test-id":"card-heading"},Ko.a.createElement("table",{style:KA.tableFixed},Ko.a.createElement("tbody",null,Ko.a.createElement("tr",null,Ko.a.createElement("td",{style:KA.headingCell},Ko.a.createElement("span",{style:KA.headingLeft},C,s?` (${s})`:""," - ",g," "),Ko.a.createElement("span",{style:KA.headingRight},a?`(${a})`:"")))))),Ko.a.createElement("td",{style:KA.viewEmail},Ko.a.createElement("a",{href:this.context.getUrlFromRoute(S),style:O?qA.viewEmailLink:KA.viewEmailLink,onClick:e=>this.handleViewEmail(e,S),"data-test-id":"view-email"},h(WA.viewEmail)))))))),Ko.a.createElement("tr",null,Ko.a.createElement("td",{style:KA.centerInfo},Ko.a.createElement("table",{style:KA.tableBasic},Ko.a.createElement("tbody",null,Ko.a.createElement("tr",null,Ko.a.createElement("td",{style:KA.dateTimeGroup,"data-test-id":"depart-date"},Ko.a.createElement(YA,{actualTime:i,dateFallback:h(WA.depart),isDarkMode:O})),Ko.a.createElement("td",{style:KA.dateTimeGroup,"data-test-id":"arrive-date"},Ko.a.createElement(YA,{actualTime:c,dateFallback:h(WA.arrive),isDarkMode:O})),Ko.a.createElement("td",{style:KA.airlineGroup},Ko.a.createElement("table",{style:KA.tableBasic},Ko.a.createElement("tbody",null,Ko.a.createElement("tr",null,Ko.a.createElement("td",{style:O?qA.date:KA.date,"data-test-id":"airline-name"},E)),Ko.a.createElement("tr",null,Ko.a.createElement("td",{style:O?qA.time:KA.time,"data-test-id":"flight-no"},h(WA.flightNumber,{flightNumber:l}))))))))))))))),Ko.a.createElement("tr",{style:O?qA.bottomRow:KA.bottomRow},Ko.a.createElement("td",null,""),Ko.a.createElement("td",{style:KA.tdLastColumn},Ko.a.createElement("table",{style:KA.tableBasic},Ko.a.createElement("tbody",null,Ko.a.createElement("tr",null,Ko.a.createElement("td",{style:KA.passengers},d.join(", ")),Ko.a.createElement("td",{style:KA.reservation,"data-test-id":"confirmation"},h(WA.confirmationNumber,{reservationId:u}))))))))))}}o()(zA,"contextTypes",{intl:$o.intlShape.isRequired,navigateTo:Vo.a.func,getUrlFromRoute:Vo.a.func,getThemeMode:Vo.a.func});var QA=BA(zA),ZA=s(362),XA=s(469),$A=s.n(XA);const JA=Object($o.defineMessages)({heading:{id:"Coupons_header.heading",defaultMessage:"Deals from email"},coupons:{id:"Coupons_header.coupons",defaultMessage:"Deals"},emails:{id:"Coupons_header.emails",defaultMessage:"Emails"},categories:{id:"Coupons_header.categories",defaultMessage:"Categories"}}),eI="All";class tI extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleTabChange",(e,{mKey:t,smartViewType:s})=>{const r=Object(Ui.x)(s,{accountIds:Object(Hi.g)(this.props.listId)});this.props.onTabChange({route:r,i13nModel:{mKey:t,sec:Ii.i.SHOPPING_VIEW,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}),o()(this,"getActiveIndex",()=>Object(Hi.w)(this.props.listId)===C.ac.COUPON_CARDS?0:1),o()(this,"handleCategoryClick",e=>{let t;if(e===eI)t=Object(Ui.x)(C.Ud.COUPONS,{accountIds:this.props.activeAccountId});else{const s=Object(Hi.d)(Object(Hp.b)(C.Ud.COUPONS,{keyword:e,accountIds:this.props.activeAccountId})),r=Object(Hi.ib)(s);t={name:C.rd.SEARCH,params:{query:r}}}this.context.navigateTo({route:t,i13nModel:{mKey:Ii.g.CATEGORY_FILTER_CLICKED,sec:Ii.i.SHOPPING_VIEW,actionData:{category:e}}})}),o()(this,"renderCategoryFilter",()=>{const e=this.props,t=e.categories,s=e.listId,r=this.context.getThemeMode(),n=this.context.intl.formatMessage,a=Ti()($A.a,{themeMode:r}),o=Object(Hi.v)(s);if(0!==this.getActiveIndex()||!t||!t.length)return null;const i=[eI].concat(t).map(e=>Ko.a.createElement(Bu.a,{key:e,name:e},Ko.a.createElement(mi.a,{kind:Si.a.MENUITEM,onClick:()=>this.handleCategoryClick(e)},o===e||!o&&e===eI?Ko.a.createElement("span",{className:a.categoryFilterCheckIcon},Ko.a.createElement(ei.b,{kind:ti.Kinds.CHECKMARK,size:ti.Sizes.XS,colorState:ti.ColorStates.NORMAL})):null,Ko.a.createElement("span",{className:a.categoryFilterLabel},e))));return Ko.a.createElement("div",{className:a.categoryFilterContainer},Ko.a.createElement(_i.a,null,Ko.a.createElement(ui.a,null,Ko.a.createElement("div",{className:a.categoryFilterAnchor},Ko.a.createElement("span",{className:a.categoryFilterAnchorLabel},n(JA.categories)),Ko.a.createElement(Jo.default,{"data-iskeynav":!0,paddingLess:!0,"aria-label":"show list",title:"show list","data-test-id":"category-filter-dropdown-button",kind:ti.Kinds.CHEVRON_UP,colorState:ti.ColorStates.INHERITED,size:ti.Sizes.XS,rotate:ti.Rotate.D180,className:a.categoryFilterAnchorButton}))),Ko.a.createElement(Ei.b,{triggerOn:pi.i.CLICK,isArrowVisible:!0},Ko.a.createElement("div",null,Ko.a.createElement(hi.a,{focusOnMount:!0,"data-test-id":"category-filter"},[i])))))})}render(){const e=this.context.intl.formatMessage,t=this.context.getThemeMode(),s=Ti()($A.a,{themeMode:t}),r=e(JA.heading),n=this.getActiveIndex();return Ko.a.createElement("div",null,Ko.a.createElement("div",{className:s.container},this.props.showShoppingHeader?Ko.a.createElement("div",{className:s.tabs},Ko.a.createElement(bA.a,null,Ko.a.createElement(NA.a,{isSelected:0===n,title:e(JA.coupons),onClick:e=>this.handleTabChange(e,{mKey:Ii.g.SHOPPING_COUPONS_VIEW_CLICKED,smartViewType:C.Ud.COUPONS}),"data-test-id":"coupons-tab"}),Ko.a.createElement(NA.a,{isSelected:2===n,title:e(JA.emails),onClick:e=>this.handleTabChange(e,{mKey:Ii.g.SHOPPING_EMAILS_VIEW_CLICKED,smartViewType:C.Ud.SHOPPING_EMAILS}),"data-test-id":"shopping-emails-tab"})),this.renderCategoryFilter()):Ko.a.createElement("div",{className:s.heading,"data-test-id":"coupons-heading","aria-label":r,title:r},r,this.renderCategoryFilter())))}}o()(tI,"contextTypes",{intl:$o.intlShape.isRequired,getThemeMode:Vo.a.func,getTheme:Vo.a.func,navigateTo:Vo.a.func});var sI=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getSmartViewTypeFromRoute,r=t.getSmartViewPosition,n=t.getDealsViewSelectors,a=t.getSelectedAccountId,o=(0,t.getRoute)(),i=s(o),c=Object(Hi.z)(o),l=n().getTopDealCategories();return{listId:c,showShoppingHeader:i===C.Ud.COUPONS&&r(i)===C.Td.TAB_BAR,categories:l,activeAccountId:a()}},e=>({onTabChange:t=>e(Object(oi.j)(t))}))(tI);class rI extends Ko.a.Component{render(){const e=this.context.getThemeMode()===ai.i.DARK,t=this.context.getCss(fO.a),s=this.context.intl.formatMessage,r=this.props,n=r.availableSortOrders,a=r.currentSortOrder,o=r.tabIndex,i=r.showLabel?s(AO.a.sort_menu):null,c=n.map(e=>Ko.a.createElement(Bu.a,{key:e,name:"sort-by-"+e},Ko.a.createElement(mi.a,{"data-test-id":"sort-by-"+e,kind:Si.a.MENUITEM,onClick:t=>this.props.onClick(t,e),style:{position:"relative"}},e===a?Ko.a.createElement("span",{className:t.sortByMenuItemIcon},Ko.a.createElement(ei.b,{kind:ti.Kinds.CHECKMARK,size:ti.Sizes.XXS,colorState:ti.ColorStates.NORMAL})):null,Ko.a.createElement("span",{className:t.sortByMenuItemLabel},s(AO.a["sort_by_"+e])))));return Ko.a.createElement(_i.a,null,Ko.a.createElement(ui.a,null,Ko.a.createElement(mi.a,{"data-test-id":"toolbar-sort-menu-button",kind:Si.a.CHROMELESS,tabIndex:o,"data-iskeynav":!0,isOnDarkBackground:e},Ko.a.createElement("span",{className:t.sortByMenu},i,Ko.a.createElement(ei.b,{kind:ti.Kinds.CHEVRON_UP,size:ti.Sizes.XS,rotate:ti.Rotate.D180,colorState:ti.ColorStates.INHERITED})))),Ko.a.createElement(Ei.b,{triggerOn:pi.i.CLICK,permittedArrowDirections:[pi.h.UP],offset:4*di.G,align:pi.a.END,zAltitude:di.Pb.POPOVER.HIGH,"data-test-id":"toolbar-sort-popover"},Ko.a.createElement("div",{className:t.popoverListWrapper},Ko.a.createElement(hi.a,{focusOnMount:!0,"data-test-id":"toolbar-sort-menu"},c))))}}o()(rI,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func}),o()(rI,"defaultProps",{availableSortOrders:[],currentSortOrder:C.Yd.DATE_DESC,showLabel:!0,tabIndex:-1});var nI=rI,aI=s(803),oI=s.n(aI);function iI(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function cI(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?iI(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):iI(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const lI=()=>({[C.Yd.DATE_DESC]:Ii.g.TOOLBAR_SORT_NEW,[C.Yd.DATE_ASC]:Ii.g.TOOLBAR_SORT_OLD,[C.Yd.UNREAD]:Ii.g.TOOLBAR_SORT_UNREAD,[C.Yd.STARRED]:Ii.g.TOOLBAR_SORT_STARRED}),dI=e=>(t,s)=>{const r=Object(wi.selectors)(s()).isFeatureEnabled,n=r(C.Eb.SENDER_ROLLUP),a=r(C.Eb.CONVERSATIONS);let o={};const i=e.listId,c=e.sortOrder,l=e.i13nModel;n&&a&&(o=c===C.Yd.SENDER?{listContentType:C.ac.SENDERS}:{listContentType:C.ac.MESSAGES});const d=Object(Ui.n)(i,cI({sortOrder:c},o));return t(Object(oi.j)({route:d,i13nModel:cI({mKey:lI()[c],sec:Ii.i.MSG_LIST_SORT},l)}))},EI=Object($o.defineMessages)({documents:{id:"document_label",defaultMessage:"Documents from email"}}),_I=(e,t)=>{const s=t.intl.formatMessage,r=(0,t.getCss)(oI.a,{themeMode:(0,t.getThemeMode)()}),n=e.currentSortOrder,a=e.availableSortOrders,o=e.onSortOrderChange,i=e.listId;return Ko.a.createElement("div",{className:r.documentsViewHeader},Ko.a.createElement("div",{className:r.documentsViewTitle},s(EI.documents)),Ko.a.createElement("div",{className:r.sortMenuContainer},Ko.a.createElement(nI,{currentSortOrder:n,availableSortOrders:a,onClick:(e,t)=>{o({listId:i,sortOrder:t,i13nModel:{interactionType:Object(Ps.getInteractionFromEvent)(e)}})},tabIndex:di.Lb.MESSAGE_LIST_TOOLBAR})))};_I.contextTypes={getCss:Vo.a.func,intl:$o.intlShape,getThemeMode:Vo.a.func};var uI=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e).getAvailableSortOrders;return{currentSortOrder:Object(Hi.L)(t.listId),availableSortOrders:s()}},e=>({onSortOrderChange:t=>e(dI(t))}),void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&t_()(e.availableSortOrders,t.availableSortOrders)})(_I),pI=s(136),mI=s(242),SI=s(470),hI=s.n(SI);const CI=Object($o.defineMessages)({flights_no_upcoming:{id:"empty_results.flights_no_upcoming",defaultMessage:"No upcoming flights"},flights_empty_desc:{id:'empty_results.flights_empty_desc"',defaultMessage:"Connect another mailbox to see all of your {viewType, select, TRAVEL_VIEW_UPCOMING {upcoming} TRAVEL_VIEW_PAST {past}} flights in one place"},flights_no_past:{id:"empty_results.flights_no_past",defaultMessage:"No past flights"},add_a_mailbox:{id:"empty_results.add_a_mailbox",defaultMessage:"Add a mailbox"},coupons_empty_heading:{id:"empty_results.coupons_empty_heading",defaultMessage:"No deals found"},coupons_empty_desc:{id:"empty_results.coupons_empty_desc",defaultMessage:"Connect another mailbox to see all of your deals in one place"},receipts_empty_heading:{id:"empty_results.receipts_empty_heading",defaultMessage:"Have receipts in another email account?"},receipts_empty_desc:{id:"empty_results.receipts_empty_desc",defaultMessage:"Get your order confirmations organized in one place and we can help you save on purchases."},offers_empty_heading:{id:"empty_results.offers_empty_heading",defaultMessage:"Oops"},retailers_empty_desc:{id:"empty_results.retailers_empty_desc",defaultMessage:"Unable to load your deals. Please try later"},offers_empty_desc:{id:"empty_results.offers_empty_desc",defaultMessage:"No deals available"},product_empty_desc:{id:"empty_results.product_empty_desc",defaultMessage:"No products available"},empty_list_alt:{id:"empty_results.empty_list_alt",defaultMessage:"No items"},sync_message:{id:"sync_folder_message",defaultMessage:"We're syncing your mailbox."}});class gI extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleAddMailbox",e=>{e.preventDefault(),this.context.navigateTo({route:Object(Ui.w)({settingsGroupId:C.Nd.ACCOUNTS}),i13nModel:{mKey:Ii.g.SETTINGS_LEFT_RAIL_ACCOUNTS,sec:this.sec,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}),o()(this,"renderAddMailbox",()=>{const e=this.context.getCss(hI.a),t=this.context.intl.formatMessage;return Ko.a.createElement("div",{className:e.addMailbox},Ko.a.createElement("a",{"data-test-id":"add-mailbox",className:e.addMailboxLink,href:this.context.getUrlFromRoute({name:C.rd.SETTINGS,params:{settingsGroupId:C.Nd.ACCOUNTS}}),onClick:this.handleAddMailbox},t(CI.add_a_mailbox)))})}render(){const e=this.props,t=e.listId,s=e.retailerTotalNumber,r=e.isAccountSyncing,n=e.isGroceryWithProduct,a=Object(Hi.x)(t),o=Object(Hi.w)(t),i=this.context.intl.formatMessage,c=this.context.getThemeMode(),l=this.context.getCss(hI.a,{moreDescriptionPadding:o===C.ac.COUPON_CARDS,themeMode:c});switch(o){case C.ac.TRAVEL_CARDS:return this.sec=Ii.i.TRAVEL_LIST,Ko.a.createElement("div",{className:l.container,"data-test-id":"empty-results"},r?Ko.a.createElement("div",{className:l.subContainer,"data-test-id":"sync-travel-results"},Ko.a.createElement("div",null,Ko.a.createElement("img",{"data-test-id":"sync-img",src:a===C.bc.TRAVEL_VIEW_UPCOMING?Object(P_.a)("/img/flights_upcoming.png"):Object(P_.a)("/img/flights_past.png"),"aria-hidden":!0,className:l.travelImage})),Ko.a.createElement("div",{className:l.syncMessage},Ko.a.createElement("div",null,i(CI.sync_message)),Ko.a.createElement("div",{className:l.syncWaitMessage},Ko.a.createElement($o.FormattedMessage,{id:"sync_upcoming_travel_wait_message",defaultMessage:"Check back soon to see your travel."})))):Ko.a.createElement("div",{className:l.subContainer},Ko.a.createElement("div",null,Ko.a.createElement("img",{"data-test-id":"empty-img",src:a===C.bc.TRAVEL_VIEW_UPCOMING?Object(P_.a)("/img/flights_upcoming.png"):Object(P_.a)("/img/flights_past.png"),className:l.travelImage})),Ko.a.createElement("div",{className:l.heading,"data-test-id":"empty-heading"},i(a===C.bc.TRAVEL_VIEW_UPCOMING?CI.flights_no_upcoming:CI.flights_no_past)),Ko.a.createElement("div",{className:l.description,"data-test-id":"empty-desc"},i(CI.flights_empty_desc,{viewType:a})),this.renderAddMailbox()));case C.ac.COUPON_CARDS:return this.sec=Ii.i.COUPONS_LIST,Ko.a.createElement("div",{className:l.container,"data-test-id":"empty-results"},r?Ko.a.createElement("div",{className:l.subContainer,"data-test-id":"sync-coupons-results"},Ko.a.createElement("div",null,Ko.a.createElement("img",{"data-test-id":"sync-img",src:Object(P_.a)("/img/sync_deals_1x.png"),srcSet:Object(P_.a)("/img/sync_deals_2x.png"),"aria-hidden":!0,className:l.couponImage})),Ko.a.createElement("div",{className:l.syncMessage},Ko.a.createElement("div",null,i(CI.sync_message)),Ko.a.createElement("div",{className:l.syncWaitMessage},Ko.a.createElement($o.FormattedMessage,{id:"sync_coupon_wait_message",defaultMessage:"Check back soon to see your coupons."})))):Ko.a.createElement("div",{className:l.subContainer},Ko.a.createElement("div",null,Ko.a.createElement("img",{"data-test-id":"empty-img",src:c===ai.i.DARK?Object(P_.a)("/img/coupon_emptystate_dark.png"):Object(P_.a)("/img/coupon_emptystate_light.png"),className:l.couponImage})),Ko.a.createElement("div",{className:l.heading,"data-test-id":"empty-heading"},i(CI.coupons_empty_heading)),Ko.a.createElement("div",{className:l.description,"data-test-id":"empty-desc"},i(CI.coupons_empty_desc)),this.renderAddMailbox()));case C.ac.REFUND_CARDS:return Ko.a.createElement("div",{className:l.container,"data-test-id":"empty-results"},r?Ko.a.createElement("div",{className:l.subContainer,"data-test-id":"sync-receipts-results"},Ko.a.createElement("div",null,Ko.a.createElement("img",{"data-test-id":"sync-img",src:Object(P_.a)("/img/receipt_empty_state.png"),"aria-hidden":!0,className:l.receiptImage})),Ko.a.createElement("div",{className:l.syncMessage},Ko.a.createElement("div",null,i(CI.sync_message)),Ko.a.createElement("div",{className:l.syncWaitMessage},Ko.a.createElement($o.FormattedMessage,{id:"sync_receipts_wait_message",defaultMessage:"Check back soon to see your receipts."})))):Ko.a.createElement("div",{className:l.subContainer},Ko.a.createElement("div",null,Ko.a.createElement("img",{"data-test-id":"empty-img",src:Object(P_.a)("/img/receipt_empty_state.png"),className:l.receiptImage})),Ko.a.createElement("div",{className:l.heading,"data-test-id":"empty-heading"},i(CI.receipts_empty_heading)),Ko.a.createElement("div",{className:l.description,"data-test-id":"empty-desc"},i(CI.receipts_empty_desc)),this.renderAddMailbox()));case C.ac.OFFER_CARDS:{const e=o===C.ac.OFFER_CARDS,t=Object(P_.a)("/img/grocery_empty_state.png"),a=Object(P_.a)("/img/grocery_background.png"),c=n?CI.product_empty_desc:CI.offers_empty_desc;return Ko.a.createElement("div",{className:e?l.offersContainer:l.container,"data-test-id":"empty-results"},r?Ko.a.createElement("div",{className:l.subContainer,"data-test-id":"sync-offer-results"},Ko.a.createElement("div",null,Ko.a.createElement("img",{"data-test-id":"sync-img",src:t,"aria-hidden":!0,className:l.emptyImage}),Ko.a.createElement("img",{src:a,"aria-hidden":!0,className:l.groceryBackgroundImage})),Ko.a.createElement("div",{className:l.syncMessage},Ko.a.createElement("div",null,i(CI.sync_message)),Ko.a.createElement("div",{className:l.syncWaitMessage},Ko.a.createElement($o.FormattedMessage,{id:"sync_offer_wait_message",defaultMessage:"Check back soon to see your offers."})))):Ko.a.createElement("div",{className:l.subContainer},Ko.a.createElement("div",null,Ko.a.createElement("img",{"data-test-id":"empty-img",src:t,className:l.emptyImage}),Ko.a.createElement("img",{src:a,className:l.groceryBackgroundImage})),Ko.a.createElement("div",{className:e?l.offersHeading:l.heading,"data-test-id":"empty-heading"},e?"":i(CI.offers_empty_heading)),Ko.a.createElement("div",{className:l.groceryDescription,"data-test-id":"empty-desc"},i(e&&s>0?c:CI.retailers_empty_desc,{retailerName:this.props.retailerName}))))}case C.ac.IMAGES:return Ko.a.createElement("div",{className:l.container,"data-test-id":"empty-results"},r?Ko.a.createElement("div",{className:l.subContainer,"data-test-id":"sync-photo-results"},Ko.a.createElement("div",null,Ko.a.createElement("img",{"data-test-id":"sync-img",src:Object(P_.a)("/img/sync_photos_1x.png"),srcSet:Object(P_.a)("/img/sync_photos_2x.png"),"aria-hidden":!0,className:l.documentImage})),Ko.a.createElement("div",{className:l.syncMessage},Ko.a.createElement("div",null,i(CI.sync_message)),Ko.a.createElement("div",{className:l.syncWaitMessage},Ko.a.createElement($o.FormattedMessage,{id:"sync_photos_wait_message",defaultMessage:"Check back soon to see your photos."})))):Ko.a.createElement("div",{className:l.subContainer,"data-test-id":"list-result-empty"},Ko.a.createElement(ng.a,null),Ko.a.createElement("div",{className:l.emptyListText,"data-test-id":"empty-list-message"},Ko.a.createElement($o.FormattedMessage,{id:"empty_photos_result",defaultMessage:"There are no Photos!"})),Ko.a.createElement("div",{className:l.emptyListImage},Ko.a.createElement(mI.a,{kind:pI.a.EMPTY_FOLDER,width:160,height:160,altText:i(CI.empty_list_alt)})),Ko.a.createElement(ng.a,null)));case C.ac.DOCUMENTS:return Ko.a.createElement("div",{className:l.container,"data-test-id":"empty-results"},r?Ko.a.createElement("div",{className:l.subContainer,"data-test-id":"sync-documents-results"},Ko.a.createElement("div",null,Ko.a.createElement("img",{"data-test-id":"sync-img",src:Object(P_.a)("/img/sync_documents_1x.png"),srcSet:Object(P_.a)("/img/sync_documents_2x.png"),"aria-hidden":!0,className:l.documentImage})),Ko.a.createElement("div",{className:l.syncMessage},Ko.a.createElement("div",null,i(CI.sync_message)),Ko.a.createElement("div",{className:l.syncWaitMessage},Ko.a.createElement($o.FormattedMessage,{id:"sync_documents_wait_message",defaultMessage:"Check back soon to see your documents."})))):Ko.a.createElement("div",{className:l.subContainer,"data-test-id":"list-result-empty"},Ko.a.createElement(ng.a,null),Ko.a.createElement("div",{className:l.emptyListText,"data-test-id":"empty-list-message"},Ko.a.createElement($o.FormattedMessage,{id:"empty_documents_result",defaultMessage:"There are no documents!"})),Ko.a.createElement("div",{className:l.emptyListImage},Ko.a.createElement(mI.a,{kind:pI.a.EMPTY_FOLDER,width:160,height:160,altText:i(CI.empty_list_alt)})),Ko.a.createElement(ng.a,null)));case C.ac.SENDERS:case C.ac.MESSAGES:return Ko.a.createElement("div",{className:l.container,"data-test-id":"empty-results"},r?Ko.a.createElement("div",{className:l.subContainer,"data-test-id":"sync-documents-results"},Ko.a.createElement("div",null,Ko.a.createElement("img",{"data-test-id":"sync-img",src:Object(P_.a)("/img/sync_message_1x.png"),srcSet:Object(P_.a)("/img/sync_message_2x.png"),"aria-hidden":!0,className:l.syncInboxImage})),Ko.a.createElement("div",{className:l.syncMessage},Ko.a.createElement("div",null,i(CI.sync_message)),Ko.a.createElement("div",{className:l.syncWaitMessage},Ko.a.createElement($o.FormattedMessage,{id:"sync_inbox_wait_message",defaultMessage:"Check back soon to see your messages."})))):Ko.a.createElement("div",{className:l.subContainer,"data-test-id":"list-result-empty"},Ko.a.createElement(ng.a,null),Ko.a.createElement("div",{className:l.emptyListText,"data-test-id":"empty-list-message"},Ko.a.createElement($o.FormattedMessage,{id:"empty_results.search_result_empty",defaultMessage:"Nothing to see here!"})),Ko.a.createElement("div",{className:l.emptyListImage},Ko.a.createElement(mI.a,{kind:pI.a.EMPTY_FOLDER,width:160,height:160,altText:i(CI.empty_list_alt)})),Ko.a.createElement(ng.a,null)))}return null}}o()(gI,"contextTypes",{getCss:Vo.a.func,intl:$o.intlShape.isRequired,navigateTo:Vo.a.func,getUrlFromRoute:Vo.a.func,getThemeMode:Vo.a.func});var OI=Object(qo.connect)((e,{listId:t})=>{const s=Object(wi.selectors)(e),r=s.getAccountById,n=s.getSelectedAccountId,a=s.isFeatureEnabled,o=(0,s.getRetailersSelectors)(),i=o.getRetailersFromRetailerIds,c=o.getTotalNumberOfRetailers,l=o.isRetailerLinkable,d=Object(Hi.B)(t)||"",E=i([d]),_=Object(f.b)(E,"0.displayName",""),u=c(),p=r(n());return{retailerName:_,retailerTotalNumber:u,isAccountSyncing:Object(jl.a)(p),isGroceryWithProduct:a(C.Eb.GROCERY_WITH_PRODUCTS)&&!l(d)}})(gI),TI=s(320),AI=s(170),II=s(804),fI=s.n(II);const DI=Object($o.defineMessages)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},msgIsRead:{id:"msg_is_read",defaultMessage:"This message is read"},msgIsNotRead:{id:"msg_is_not_read",defaultMessage:"This message is not read"}}),RI=({isDarkThemeMode:e,layoutClassNames:t,isHovered:s,isRead:r,readOnly:n,onClick:a},{getCss:o,intl:i})=>{const c=o(fI.a,{isDarkThemeMode:e}),l=i.formatMessage,d=l(r?DI.markAsUnread:DI.markAsRead);let E,_;return r?s?(E=Ko.a.createElement(ei.b,{"data-test-read":r,kind:ti.Kinds.CIRCLE,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED}),_=Ko.a.createElement("span",{className:c.accessible,"aria-label":l(r?DI.msgIsRead:DI.msgIsNotRead)})):_=Ko.a.createElement("span",{className:c.accessible,"aria-label":l(DI.msgIsRead)}):(E=Ko.a.createElement(ei.b,{"data-test-read":r,kind:ti.Kinds.CIRCLE,size:ti.Sizes.XS,colorState:e?ti.ColorStates.SELECTED_DARK_THEME_MODE:ti.ColorStates.SELECTED}),_=Ko.a.createElement("span",{className:c.accessible,"aria-label":l(DI.msgIsNotRead)})),n?Ko.a.createElement("span",{"data-test-id":"icon-btn-read",title:d,className:c.readIcon,role:"gridcell"},E,_):Ko.a.createElement("span",{className:t.readIcon,role:"gridcell"},Ko.a.createElement(mi.a,{"data-test-id":"icon-btn-read",title:l(r?DI.markAsUnread:DI.markAsRead),onClick:a,onDoubleClick:a,className:c.readIcon},E,_))};RI.defaultProps={isHovered:!1},RI.contextTypes={intl:$o.intlShape,getCss:Vo.a.func};var bI=Ko.a.memo(RI,(e,t)=>t.isRead?t.isRead===e.isRead&&t.isHovered===e.isHovered&&t.readOnly===e.readOnly&&t.isDarkThemeMode===e.isDarkThemeMode&&t.layoutClassNames.readIcon===e.layoutClassNames.readIcon:t.isRead===e.isRead),NI=s(805),MI=s.n(NI);const yI=Object($o.defineMessages)({msgIsReplied:{id:"msg_is_replied",defaultMessage:"Replied"}}),LI=(e,t)=>{const s=e.isDarkThemeMode,r=e.layoutClassNames,n=t.intl.formatMessage,a=t.getCss(MI.a,{isDarkThemeMode:s});return Ko.a.createElement(mi.a,{"data-test-id":"icon-btn-reply","data-test-isreplied":!0,className:`${a.replyIcon} ${r.readIcon}`,role:"gridcell"},Ko.a.createElement("span",{className:a.indicator},Ko.a.createElement(ei.b,{kind:ti.Kinds.REPLY,size:ti.Sizes.XXXS,colorState:s?ti.ColorStates.INHERITED:ti.ColorStates.SECOND_LEVEL_GRAY}),Ko.a.createElement("span",{className:a.accessible,"aria-label":n(yI.msgIsReplied)})))};LI.contextTypes={intl:$o.intlShape,getCss:Vo.a.func};var PI=Ko.a.memo(LI),vI=s(806),FI=s.n(vI);const UI=Object($o.defineMessages)({msgIsForwarded:{id:"msg_is_forwarded",defaultMessage:"Forwarded"}}),wI=(e,t)=>{const s=e.isDarkThemeMode,r=e.layoutClassNames,n=t.intl.formatMessage,a=t.getCss(FI.a,{isDarkThemeMode:s});return Ko.a.createElement(mi.a,{"data-test-isforwarded":!0,"data-test-id":"icon-btn-forward",className:`${a.forwardIcon} ${r.readIcon}`,role:"gridcell"},Ko.a.createElement("span",{className:a.indicator},Ko.a.createElement(ei.b,{kind:ti.Kinds.FORWARD,size:ti.Sizes.XXXS,colorState:s?ti.ColorStates.INHERITED:ti.ColorStates.SECOND_LEVEL_GRAY}),Ko.a.createElement("span",{className:a.accessible,"aria-label":n(UI.msgIsForwarded)})))};wI.contextTypes={intl:$o.intlShape,getCss:Vo.a.func};var GI=Ko.a.memo(wI),HI=s(807),jI=s.n(HI),kI=s(102),xI=s.n(kI);const BI=Object($o.defineMessages)({markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},msgIsStarred:{id:"msg_is_starred",defaultMessage:"Starred"},msgIsNotStarred:{id:"msg_is_not_starred",defaultMessage:"Not starred"}}),VI=(()=>{let e=1;return()=>(e+=1,e%=3,e)})();class WI extends Ko.a.Component{constructor(e){super(e),this.state={shouldBurst:!1,isStarred:e.isStarred},e.isDarkThemeMode?Object(I.e)(UC.darkGifURL):Object(I.e)(UC.lightGifURL),this.burstOnClick=this.burstOnClick.bind(this)}shouldComponentUpdate(e,t){return e.isHovered!==this.props.isHovered?!e.isStarred||this.state.shouldBurst!==t.shouldBurst||this.state.isStarred!==t.isStarred:e.size!==this.props.size||e.readOnly!==this.props.readOnly||e.isStarred!==this.props.isStarred||e.isDarkThemeMode!==this.props.isDarkThemeMode||e.kind!==this.props.kind||e.burstAnimationEnabled!==this.props.burstAnimationEnabled||t.shouldBurst!==this.state.shouldBurst||t.isStarred!==this.state.isStarred}render(){const e=this.props,t=e.layoutClassNames,s=e.isStarred,r=e.isHovered,n=e.isDarkThemeMode,a=e.size,o=e.kind,i=e.readOnly,c=e.burstAnimationEnabled,l=this.context,d=l.intl,E=(0,l.getCss)(jI.a,{isDarkThemeMode:n,size:a}),_=d.formatMessage,u=_(s?BI.markAsUnstarred:BI.markAsStarred);let p,m;return c&&this.state.shouldBurst?p=(e=>{const t=e.isDarkThemeMode?UC.darkGifURL:UC.lightGifURL,s=VI();let r=20,n=20;switch(e.size){case"S":case"M":r=24,n=24}return Ko.a.createElement("img",{src:t,style:{transform:`translateZ(${s}px)`,height:r+"px",width:n+"px"}})})({isDarkThemeMode:n,size:a}):s?(p=Ko.a.createElement(ei.b,{"data-test-starred":s,kind:o,size:a,colorState:n?ti.ColorStates.STARRED_DARK:ti.ColorStates.STARRED}),m=Ko.a.createElement("span",{className:E.accessible,"aria-label":_(BI.msgIsStarred)})):r?(p=Ko.a.createElement(ei.b,{kind:o,size:a,colorState:n?ti.ColorStates.SMARTVIEW_DARK:ti.ColorStates.COOL_FAINT}),m=Ko.a.createElement("span",{className:E.accessible,"aria-label":_(s?BI.msgIsStarred:BI.msgIsNotStarred)})):(p=Ko.a.createElement(ei.b,{"data-test-starred":s,kind:o,size:a,colorState:n?ti.ColorStates.INVERTED_MORE_DIM:ti.ColorStates.FAINT}),m=Ko.a.createElement("span",{className:E.accessible,"aria-label":_(BI.msgIsNotStarred)})),i?Ko.a.createElement("span",{"data-test-id":"icon-btn-star",title:u,className:E.starIcon,role:"gridcell"},p,m):Ko.a.createElement("span",{role:"gridcell"},Ko.a.createElement(mi.a,{"data-test-id":"icon-btn-star",title:u,onClick:this.burstOnClick,onDoubleClick:this.burstOnClick,className:t.starButtonStyle?xI()(E.starIcon,t.starButtonStyle):E.starIcon},Ko.a.createElement("span",{className:E.iconContainer},p,m)))}componentWillReceiveProps(e){this.props.burstAnimationEnabled&&this.state.isStarred!==e.isStarred&&this.setState({isStarred:!this.state.isStarred})}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}burstOnClick(e){const t=this.props.burstAnimationEnabled;this.props.onClick(e),t&&(this.state.isStarred?this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout)):(this.setState({shouldBurst:!0}),this.timeout=setTimeout(()=>{this.setState({shouldBurst:!1})},UC.timeout)))}}WI.defaultProps={size:ti.Sizes.XS,isHovered:!1,kind:ti.Kinds.STAR,burstAnimationEnabled:!1},WI.contextTypes={intl:$o.intlShape,getCss:Vo.a.func};var KI=WI,qI=s(808),YI=s.n(qI);const zI=Object($o.defineMessages)({searchByContact:{id:"search_by_contact",defaultMessage:"Search for messages from this sender"},searchBySubject:{id:"search_by_subject",defaultMessage:"Search for messages with this subject"}}),QI=(e,t)=>{const s=e.searchType===C.Dd.SUBJECT,r=t.getCss(YI.a,{isDarkThemeMode:e.isDarkThemeMode}),n=t.intl.formatMessage;return e.showSearch&&e.isHovered?Ko.a.createElement("span",{className:(s?r.subjectSearchIcon:"")+(e.containerClassName?" "+e.containerClassName:"")},Ko.a.createElement(mi.a,{"data-test-id":"icon-btn-search",title:n(s?zI.searchBySubject:zI.searchByContact),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?r.contactSearchIconCompact:r.searchIcon},Ko.a.createElement("span",null,Ko.a.createElement(ei.b,{kind:ti.Kinds.SEARCH_MINI,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED})))):null};QI.defaultProps={isHovered:!1,isCompact:!1},QI.contextTypes={intl:$o.intlShape,getCss:Vo.a.func};var ZI=Ko.a.memo(QI),XI=s(809),$I=s.n(XI);const JI=Object($o.defineMessages)({deleteMsg:{id:"delete_msg",defaultMessage:"Delete this message"}}),ef=(e,t)=>{const s=t.getCss($I.a,{isDarkThemeMode:e.isDarkThemeMode}),r=t.intl.formatMessage;return e.isHovered?Ko.a.createElement(mi.a,{"data-test-id":"icon-btn-trash",title:r(JI.deleteMsg),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?s.trashIconCompact:s.trashIcon},Ko.a.createElement("span",{className:s.trashCenter},Ko.a.createElement(ei.b,{kind:ti.Kinds.DELETE,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED,"aria-label":r(JI.deleteMsg)}))):Ko.a.createElement(mi.a,{className:s.trashIconAccessible,onClick:e.onClick},Ko.a.createElement("span",{className:s.accessible,"aria-label":r(JI.deleteMsg)}))};ef.defaultProps={isHovered:!1,isCompact:!1},ef.contextTypes={intl:$o.intlShape,getCss:Vo.a.func};var tf=Ko.a.memo(ef),sf=s(810),rf=s.n(sf);const nf=Object($o.defineMessages)({no_subject:{id:"no_subject",defaultMessage:"No Subject"}}),af=(e,t)=>{const s=t.intl.formatMessage,r=t.getCss(rf.a),n=e.subject,a=e.highlightSearchTerm,o=e.layoutClassNames;let i=null;const c=`${r.highlightedTerm} ${o.highlightedTerm}`;return i=n?Object(xi.b)(n,a,c):Ko.a.createElement("span",{className:o.noSubject},"(",s(nf.no_subject),")"),Ko.a.createElement("span",{"data-test-id":"message-subject",className:`${o.subject} ${r.subject}`,role:"gridcell",title:Object(xi.e)(n)},i)};af.defaultProps={highlightSearchTerm:!1},af.contextTypes={intl:$o.intlShape,getCss:Vo.a.func};var of=Ko.a.memo(af),cf=s(811),lf=s.n(cf);const df=(e,t)=>{const s=e.snippet,r=e.highlightSearchTerm,n=e.layoutClassNames,a=t.getCss(lf.a),o=`${a.highlightedTerm} ${n.highlightedTerm}`,i=Object(xi.b)(s,r,o);return Ko.a.createElement("div",{className:a.snippetContainer+(n.snippetContainer?" "+n.snippetContainer:""),"data-test-id":"snippet"},Ko.a.createElement("div",{className:`${a.snippet} ${n.snippet}`,role:"gridcell"},i))};df.contextTypes={getCss:Vo.a.func};var Ef=Ko.a.memo(df),_f=s(812),uf=s.n(_f);const pf=(e,t)=>{const s=t.getCss(uf.a),r=e.count,n=e.roundUpCounts&&r>999?"999+":r;return Ko.a.createElement("span",{"data-test-id":"message-count",className:r>1?`${s.messageCount} ${e.layoutClassNames.messageCount}`:s.accessible,role:"gridcell"},Ko.a.createElement("span",null,Ko.a.createElement("span",{className:s.accessible,"data-test-id":"accessible-message-count"},Ko.a.createElement($o.FormattedMessage,{id:"msg_count",values:{messageCount:n},defaultMessage:"{messageCount, plural,\n                                                one {# message}\n                                                other {# messages}\n                                            }"})),r>1?Ko.a.createElement("span",{"aria-hidden":"true","data-test-id":"visible-message-count"},n):null))};pf.defaultProps={roundUpCounts:!1},pf.contextTypes={getCss:Vo.a.func};var mf=Ko.a.memo(pf),Sf=s(813),hf=s.n(Sf);const Cf=(e,t)=>{const s=t.getCss(hf.a),r=e.hasDraft;return Ko.a.createElement("span",{"data-test-id":"draft-indicator",className:r?`${s.draftIndicator} ${e.layoutClassNames.draftIndicator}`:s.accessible},r?Ko.a.createElement($o.FormattedMessage,{id:"msg_has_draft",defaultMessage:"DRAFT"}):null)};Cf.contextTypes={getCss:Vo.a.func};var gf=Ko.a.memo(Cf,(e,t)=>e.hasDraft===t.hasDraft&&e.layoutClassNames.draftIndicator===t.layoutClassNames.draftIndicator),Of=s(814),Tf=s.n(Of),Af=s(378),If=s(608),ff=s(817),Df=s.n(ff);const Rf=()=>{};class bf extends Wo.Component{constructor(e){super(e),this.navigateTo=this.navigateTo.bind(this)}navigateTo(e){const t=this.props,s=t.listId,r=t.groupId,n={mKey:Ii.g.ATTACHMENT_LIGHTBOX_OPEN,sec:Ii.i.MSG_LIST_MSG,interactionType:Ii.e.click};this.context.navigateTo({route:Object(Ui.d)(s,r,e,{fullscreen:"1"}),i13nModel:n})}render(){const e=this.props,t=e.attachments,s=e.isSpam,r=e.attachmentTraySize,n=Ti()(Df.a),a=t.map((e,t)=>Ko.a.createElement("span",{key:e.id,className:n.attachmentItem,"data-test-id":"attachment-item-"+t},Ko.a.createElement(Af.a,{attachment:e,readOnly:!0,allowDownload:!1,onRemove:Rf,onClick:this.navigateTo.bind(this,e.id),isPreviewEnabled:!s,previewWithoutDownload:!0,smallPreview:!0})));return Ko.a.createElement("div",{"data-test-id":"attachment-popover"},t.length>r?Ko.a.createElement("div",{style:{width:60+100*r},className:n.attachmentsCarouselContainer},Ko.a.createElement(If.b,{itemWidth:100},a)):Ko.a.createElement("div",{className:n.attachmentsPopoverContainer},a))}}bf.contextTypes={getCss:Vo.a.func,navigateTo:Vo.a.func.isRequired};var Nf=bf,Mf=s(95);const yf=(e,t,s)=>Ko.a.createElement("span",{"data-test-id":"attachment-icon",className:e.attachmentIcon},Ko.a.createElement(ei.b,{kind:Object(cn.g)(t),size:ti.Sizes.XS,colorState:s?ti.ColorStates.FAINT:ti.ColorStates.DISABLED}),Ko.a.createElement("span",{className:e.accessible},Ko.a.createElement($o.FormattedMessage,{id:"msg_has_attachments",defaultMessage:"Message has attachments"}))),Lf=({attachments:e,attachmentTraySize:t,isInteractive:r,isDarkThemeMode:n,listId:a,groupId:o,rsvpEnabled:i,isSpam:c},{getCss:l,config:d})=>{const E=l(Tf.a);if(!e.length)return Ko.a.createElement("span",{className:E.accessible,"data-test-id":"accessible-no-attachment"},Ko.a.createElement($o.FormattedMessage,{id:"msg_no_attachment",defaultMessage:"No attachment"}));if(!r)return yf(E,e,n);const _=Object(cn.e)(e,Object(g.a)(d,"previewableInlineAttachmentSize")),u=i?(e=>e.length>0&&Object(cn.d)(e[0].type,e[0].subtype)===C.F.SimplifiedTypes.CAL?e[0]:null)(_):null;return Ko.a.createElement(Mf.c,{arrowSize:pi.b.M,permittedArrowDirections:[pi.h.UP,pi.h.DOWN],triggerOn:Mf.b.HOVER_DELAYED,triggerDelayTime:200,triggerOff:Mf.a.HOVER_OUT,align:pi.a.END,offset:16,persistent:!0,isArrowVisible:!1,zAltitude:di.Pb.POPOVER.MEDIUM},yf(E,e,n),u?Ko.a.createElement("div",null,Ko.a.createElement(Mi.a,{import:"../../../rsvp_view/index",eventAttachment:u,messageId:u.id.split(":")[0],compact:!0,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,884))},_moduleResolver:function(){return 884}})):Ko.a.createElement(Nf,{attachments:_,attachmentTraySize:t,listId:a,isSpam:c,groupId:o}))};Lf.defaultProps={isInteractive:!0,isHovered:!1,attachmentTraySize:3},Lf.contextTypes={getCss:Vo.a.func,config:Vo.a.object};var Pf=Ko.a.memo(Lf);const vf=Object(f.d)(["ACCOUNT","FOLDER","NONE"]);var Ff=s(818),Uf=s.n(Ff);const wf=({messageDestinationLabel:e,accountDescription:t,account:s,folderName:r,folderType:n,layoutClassNames:a},o)=>{const i=Ti()(Uf.a),c=o.intl,l=c.formatMessage,d=c.locale,E={};let _=null;switch(e){case vf.ACCOUNT:{let e=E[d];e||(e=E[d]={[C.xb.YAHOO]:l(Gi.a.yahoo_account_description),[C.xb.YAHOO_SB]:l(Gi.a.yahoo_account_description),[C.xb.OUTLOOK]:l(Gi.a.outlook_account_description),[C.xb.AOL]:l(Gi.a.aol_account_description),[C.xb.GOOGLE]:l(Gi.a.gmail_account_description),[C.xb.GOOGLE_APP]:l(Gi.a.gmail_account_description)});const n=t||e[Object(jl.d)(s)];_=Ko.a.createElement("div",{className:`${i.messageDestinationLabel} ${a.messageDestinationLabel}`,"data-test-id":"account"},Ko.a.createElement("span",{title:n+"/"+r},n));break}case vf.FOLDER:_=Ko.a.createElement("div",{className:`${i.messageDestinationLabel} ${a.messageDestinationLabel}`,title:r,"data-test-id":"folder"},Ko.a.createElement(ep.a,{folderDisplayType:n,name:r}))}return _};wf.contextTypes={intl:$o.intlShape.isRequired};var Gf=wf;var Hf=Object(qo.connect)((e,t)=>{const s=t.layoutClassNames,r=t.folderId,n=Object(wi.selectors)(e),a=n.getAccountSelectors,o=(0,n.getFoldersSelectors)(),i=o.getPrimaryFolderTypeByFolderId,c=o.getFolderName,l=o.getAccountIdByFolderId,d=a(),E=d.getAccountDescriptionByAccountId,_=d.getAccountById,u=(0,d.hasMultipleRootAccounts)()?vf.ACCOUNT:vf.FOLDER,p=i(r),m=c(r),S=l(r);return{accountDescription:E(S),account:_(S),messageDestinationLabel:u,folderName:m,folderType:p,layoutClassNames:s}})(Gf),jf=s(819),kf=s.n(jf);const xf=({layoutClassNames:e={ybadgeIcon:""}},{partner:t,getCss:s,getThemeMode:r})=>{const n=t===C.he.AOL.toLowerCase(),a=s(kf.a,{isAolUser:n}),o=r()===ai.i.DARK;return Ko.a.createElement("span",{"data-test-id":"icon-btn-ybadge",className:`${a.ybadgeIcon} ${e.ybadgeIcon}`},Ko.a.createElement(ei.b,{kind:n?ti.Kinds.AOL_OFFICIAL:ti.Kinds.YBANG,size:n?ti.Sizes.XXS:ti.Sizes.XS,colorState:n?o?ti.ColorStates.WHITE:ti.ColorStates.NORMAL:ti.ColorStates.YBANG}))};xf.contextTypes={getCss:Vo.a.func,getThemeMode:Vo.a.func,partner:Vo.a.string};var Bf=Ko.a.memo(xf),Vf=s(820),Wf=s.n(Vf);(0,Vo.a.oneOf)(Object(f.h)(C.Ec));const Kf=({messageIds:e,isRead:t,isStarred:s,renderItemSelection:r,renderReadIndicators:n,renderContactSearchIcon:a,renderSubjectSearchIcon:o,renderSenders:i,renderStarIcon:c,renderSubject:l,renderSnippet:d,renderMessageDestinationLabel:E,renderMessageCount:_,renderDraftLabel:u,renderAttachmentIcon:p,renderDate:m,renderTrashIcon:S,renderConfirmDialog:h,renderExtractedInfo:C,isHovered:g,showSubjectSearch:O,itemHeight:T,getAttachments:A},{getCss:I})=>{const f=I(Wf.a,{hasJustOneMessage:1===e.length,isRead:t,isStarred:s,showSubjectSearchAndHovered:g()&&O}),D=A();return Ko.a.createElement("div",{className:f.container+" message-list-item",style:{height:T-1}},Ko.a.createElement("div",{className:f.gridB1},Ko.a.createElement("div",{className:f.check,role:"gridcell"},r()),n(f),i(f),a(f)),c(f),Ko.a.createElement("div",{className:f.gridB2},Ko.a.createElement("div",{className:f.message},Ko.a.createElement("div",{className:f.subjectContainer},l(f),_(f),u(f)),o(f),d(f)),C(f),E(f),p(f,D),Ko.a.createElement("div",{className:f.iconB2,role:"gridcell"},m(f),S())),h())};Kf.contextTypes={getCss:Vo.a.func,getThemeMode:Vo.a.func};var qf=Kf,Yf=s(821),zf=s.n(Yf),Qf=s(822),Zf=s.n(Qf);const Xf=({isHovered:e,useTouchTargets:t,messageIds:s,isRead:r,showSnippets:n,renderItemSelection:a,renderContactSearchIcon:o,renderSenders:i,renderStarIcon:c,renderSubject:l,renderSnippet:d,renderMessageCount:E,renderAttachmentIcon:_,renderDate:u,renderReadIndicators:p,renderTrashIcon:m,listItemHeight:S,renderDraftLabel:h,renderConfirmDialog:C,getAttachments:g,msgListDensity:O,renderExtractedInfo:T},{getCss:A})=>{const I=e(),f=g(),D=A(Zf.a,{hasJustOneMessage:1===s.length,isRead:r,hovered:I,extraStarPadding:r&&!I,useTouchTargets:t,hasAttachment:f&&f.length,msgListDensity:O,readDensity:`${r}-${O}`});return Ko.a.createElement("div",{className:D.container+" message-list-item",style:{height:S-1}},Ko.a.createElement("div",{className:D.check,role:"gridcell"},a(D)),Ko.a.createElement("div",{className:D.gridB1},p(D),c(D)),Ko.a.createElement("div",{className:D.message},Ko.a.createElement("div",{className:D.senderRow,"data-test-id":"senderRow",role:"gridcell"},Ko.a.createElement("div",{className:D.groupSection},i(D),I?o(D):null,E(D),h(D)),u(D)),Ko.a.createElement("div",{className:D.bottomRight},Ko.a.createElement("div",{className:D.infoGroup},l(D),n?T(D)||d(D):null),I?null:_(D,f))),I?Ko.a.createElement("div",{className:D.trashIconContainer},m()):null,C())};Xf.contextTypes={getCss:Vo.a.func,getThemeMode:Vo.a.func};var $f=Xf;function Jf(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function eD(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Jf(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Jf(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const tD={[wC]:{i13nModel:{mKey:Ii.g.MARK_MSG_READ,mKeyGroup:Ii.h.markRead,sec:Ii.i.MSG_LIST_MSG},triageActionType:C.ye.READ_CHANGE_SELECTED_ITEMS},[GC]:{i13nModel:{mKey:Ii.g.MARK_MSG_UNREAD,mKeyGroup:Ii.h.markUnread,sec:Ii.i.MSG_LIST_MSG},triageActionType:C.ye.READ_CHANGE_SELECTED_ITEMS},[HC]:{i13nModel:{mKey:Ii.g.MARK_MSG_STARRED,mKeyGroup:Ii.h.markStar,sec:Ii.i.MSG_LIST_MSG},triageActionType:C.ye.STAR_CHANGE_SELECTED_ITEMS},[jC]:{i13nModel:{mKey:Ii.g.MARK_MSG_UNSTARRED,mKeyGroup:Ii.h.markUnstar,sec:Ii.i.MSG_LIST_MSG},triageActionType:C.ye.STAR_CHANGE_SELECTED_ITEMS},[kC]:{i13nModel:{mKey:Ii.g.MSG_LIST_DEL,mKeyGroup:Ii.h.deleteMsg,sec:Ii.i.MSG_LIST_MSG},triageActionType:C.ye.DELETE_SELECTED_ITEMS},[xC]:{i13nModel:{mKey:Ii.g.MSG_LIST_ARCHIVE,mKeyGroup:Ii.h.archiveMsg,sec:Ii.i.MSG_LIST_MSG},triageActionType:C.ye.ARCHIVE_SELECTED_ITEMS},[BC]:{i13nModel:{mKey:Ii.g.MSG_LIST_MV_INBOX,mKeyGroup:Ii.h.restore,sec:Ii.i.MSG_LIST_MSG},triageActionType:C.ye.RESTORE_SELECTED_ITEMS},[VC]:{i13nModel:{mKey:Ii.g.OPEN_MSG,mKeyGroup:Ii.h.openMsg,sec:Ii.i.MSG_LIST_MSG}},[KC]:{i13nModel:{mKey:Ii.g.DOC_OPEN,mKeyGroup:Ii.h.open_doc,sec:Ii.i.DOC_LIST}},[WC]:{i13nModel:{mKey:Ii.g.PHOTO_OPEN,mKeyGroup:Ii.h.open_photo,sec:Ii.i.PHOTO_LIST}},[qC]:{i13nModel:{mKey:Ii.g.CHECK_MAIL,sec:Ii.i.MSG_LIST}},[YC]:{i13nModel:{mKey:Ii.g.SETTINGS_PREVIEW_PANE,sec:Ii.i.SETTINGS_INBOX_TAB}},[zC]:{i13nModel:{mKey:Ii.g.SELECT_MSG,sec:Ii.i.MSG_LIST_MSG}}},sD=(e,t)=>{if(!tD[t])return{};const s=eD({},tD[t]);return e&&(s.i13nModel=eD({},s.i13nModel,{interactionType:Object(Ps.getInteractionFromEvent)(e)})),s};var rD=s(823),nD=s.n(rD);const aD=Object($o.defineMessages)({message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"}});class oD extends Ko.a.Component{constructor(e){super(e),o()(this,"componentDidMount",()=>{const e=this.props.messageIds;sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.NUDGE_TO_REPLY_SHOWN,sec:Ii.i.MSG_LIST,interactionType:Ii.e.callout,actionData:{mid:e[e.length-1]}}})}),o()(this,"handleSingleGroupAction",(e,t=Ii.e.click)=>{const s=this.props,r=s.messageIds,n=s.messageGroupId;if(n){this.context.executeAction(Np.b.LIST_WITH_PREVIEW_BOTTOM[e],{listId:s.listId,messageGroupId:n,i13nModel:{mKey:Ii.g.MSG_LIST_REPLY_ALL,sec:Ii.i.NUDGE_TO_REPLY,mKeyGroup:Ii.h[e],interactionType:t,actionData:{mid:r[r.length-1]}}})}})}render(){const e=this.context,t=e.getCss,s=this.context.intl.formatMessage,r=this.props.isHovered,n=(0,e.getThemeMode)()===ai.i.DARK,a=t(nD.a,{isLightHovered:!n&&r,isDarkHovered:n&&r,isDarkNotHovered:n&&!r}),o=s(aD.message_reply_all);return Ko.a.createElement("div",null,Ko.a.createElement("button",{className:a.nudgeToReply,"aria-label":o,onClick:e=>this.handleSingleGroupAction("replyAll",Object(Ps.getInteractionFromEvent)(e))},Ko.a.createElement(ei.b,{kind:ti.Kinds.REPLY,size:ti.Sizes.XXS,colorState:ti.ColorStates.INHERITED}),"",Ko.a.createElement("div",{className:a.nudgeToReplyText},Ko.a.createElement($o.FormattedMessage,{id:"nudgeToReply",defaultMessage:"REPLY NOW"}))))}}o()(oD,"contextTypes",{intl:$o.intlShape.isRequired,executeAction:Vo.a.func.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func});var iD=s(455);function cD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function lD(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?cD(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cD(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const dD=()=>{},ED=Object($o.defineMessages)({email_aria_label:{id:"email_aria_label",defaultMessage:"{senderNames}'s email"},deselectionAriaLabel:{id:"deselect_message",defaultMessage:"Deselect message"},selectionAriaLabel:{id:"select_message",defaultMessage:"Select message"}}),_D=e=>{e.stopPropagation(),e.preventDefault()};class uD extends Ko.a.Component{constructor(e){super(e),o()(this,"onMouseOver",()=>{this.state.hover||this.props.isScrolling()||this.props.isDragging()||this.setState({hover:!0})}),o()(this,"onMouseLeave",()=>{this.state.hover&&this.setState({hover:!1})}),o()(this,"isHovered",()=>this.state.hover&&!this.props.isScrolling()&&!this.props.isDragging()),o()(this,"isDarkThemeMode",()=>this.context.getThemeMode()===ai.i.DARK),o()(this,"handleClick",e=>{_D(e);const t=this.props,s=t.messageRoute,r=t.unusualDiscount,n=t.productCategoryList,a=t.listId,o=t.groupId,i=t.streamId,c=t.fullGPTCategoryList,l=Object(Ps.getInteractionFromEvent)(e),d=this.participantsInfo.senders,E=void 0===d?[]:d;if(r&&sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.UNUSUAL_DISCOUNT_MAIL_CLICKED,sec:Ii.i.MSG_LIST,actionData:{mid:this.props.messageIds,sndr:Object(Ps.isValidEmail)(E[0].email)?Object(Ps.destructEmailAddressParts)(E[0].email).domainPart:"NODOMAIN.COM",reason:{featurefamily:C.Cb.IC,featurename:C.Eb.UNUSUAL_DISCOUNT_EXISTS}}}}),n.length){const e=Ii.g.CATEGORY_FOLLOWING_MSG_OPEN,t=Ii.e.click,s=Ii.i.MSG_BODY,r={reason:{featurefamily:C.Cb.IC,featurename:C.Eb.CATEGORY_FOLLOW}};setImmediate(()=>{sd.b.sendI13nModel({i13nModel:{mKey:e,interactionType:t,sec:s,actionData:r}})})}if(Array.isArray(c)&&c.length){const e=Ii.g.GPT_CATEGORY_LIST_ON_MSG_OPEN,t=Ii.e.click,s=Ii.i.MSG_BODY,r={listItems:c.filter(e=>e.name).map(e=>e.name)};sd.b.sendI13nModel({i13nModel:{mKey:e,interactionType:t,sec:s,actionData:r}})}if(e.shiftKey){return this.props.onRangeSelected({streamId:i,streamItem:{listId:this.props.listId,id:this.props.groupId}}),void this.props.onClick(e)}this.props.onOpenMessage({listId:a,streamId:i,messageRoute:s,groupId:o,senders:E,i13nModel:{interactionType:l}}),this.props.onClick(e)}),o()(this,"handleDoubleClick",e=>{_D(e),this.openItem(Object(Ps.getInteractionFromEvent)(e)),this.props.onDoubleClick(e)}),o()(this,"openItem",e=>{const t=this.props;(0,t.navigateTo)({route:t.messageRoute,streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:Ii.g.OPEN_MSG,sec:Ii.i.MSG_LIST_MSG,mKeyGroup:Ii.h.openMsg}})}),o()(this,"openContactSearch",e=>{const t=this.participantsInfo.senders;if(1!==t.length)return;const s={emailAddresses:t[0].email,name:t[0].name||t[0].email};this.props.navigateToSearch({route:Object(Ui.u)(s),streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:Ii.g.CONTACT_SEARCH,sec:Ii.i.MSG_LIST_MSG,mKeyGroup:Ii.h.search}})}),o()(this,"openSubjectSearch",e=>{const t={keyword:`subject:"${Object(Eh.g)(this.props.subject)}"`};this.props.navigateToSearch({route:Object(Ui.u)(t),streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:Ii.g.SUBJECT_SEARCH,sec:Ii.i.MSG_LIST_MSG,mKeyGroup:Ii.h.search}})}),o()(this,"handleContactSearchClick",e=>{_D(e),this.openContactSearch(Object(Ps.getInteractionFromEvent)(e)),this.props.onContactSearch()}),o()(this,"handleSubjectSearchClick",e=>{_D(e),this.openSubjectSearch(Object(Ps.getInteractionFromEvent)(e)),this.props.onSubjectSearch()}),o()(this,"handleSelectionChange",e=>{_D(e);const t=this.props,s=t.streamId,r=t.onSelectionChange,n={listId:this.props.listId,id:this.props.groupId};e.shiftKey?(0,t.onRangeSelected)({streamId:s,streamItem:n}):r(lD({streamId:s,streamItem:n},sD(e,zC)))}),o()(this,"handleDeleteClick",e=>{_D(e);const t=this.props,s=t.streamId,r=t.onDelete;if(null===this.state.confirmState&&t.permanentDelete)return void this.setState({confirmState:{title:Tg.list_delete_title,message:Tg.list_perm_delete_message,onConfirm:this.handleDeleteClick,onAbort:this.hideConfirm},hover:!1});r(lD({streamId:s,streamItem:{listId:this.props.listId,id:this.props.groupId}},sD(e,kC))),this.hideConfirm()}),o()(this,"handleReadChange",e=>{_D(e);const t=this.props;(0,t.onReadChange)(lD({streamId:t.streamId,streamItem:{listId:this.props.listId,id:this.props.groupId}},sD(e,t.isRead?GC:wC)))}),o()(this,"handleStarChange",e=>{_D(e);const t=this.props;(0,t.onStarChange)(lD({streamId:t.streamId,streamItem:{listId:this.props.listId,id:this.props.groupId}},sD(e,t.isStarred?jC:HC)))}),o()(this,"handleContextMenu",e=>{if(!this.navLink)return;const t=this.navLink.getBoundingClientRect(),s=this.props,r=s.groupId,n=s.listId,a=s.streamId;_D(e),this.props.onContextMenu({interactionType:Object(Ps.getInteractionFromEvent)(e),messageGroupId:r,listId:n,streamId:a}),this.setState({contextMenuPosition:{x:e.clientX-t.left,y:e.clientY-t.top},showContextMenu:!0})}),o()(this,"handleContextMenuHide",()=>{this.setState({showContextMenu:!1,contextMenuPosition:null})}),o()(this,"hideConfirm",()=>{null!==this.state.confirmState&&this.setState({confirmState:null})}),o()(this,"renderItemSelection",(e={})=>{const t=this.props.selected;return Ko.a.createElement(TI.a,{"data-test-id":"icon-btn-checkbox","aria-label":(0,this.context.intl.formatMessage)(t?ED.deselectionAriaLabel:ED.selectionAriaLabel),isChecked:!!t,onClick:this.handleSelectionChange,onDoubleClick:this.handleSelectionChange,isInverted:this.isDarkThemeMode(),className:e.checkbox})}),o()(this,"renderYBadge",e=>Ko.a.createElement(Bf,{layoutClassNames:e})),o()(this,"renderTrustedIcon",e=>Ko.a.createElement("span",{className:""+e.trustedIcon,"data-test-id":"trusted-icon"},Ko.a.createElement(ei.b,{kind:ti.Kinds.TRUSTED,size:ti.Sizes.XXS,colorState:ti.ColorStates.SUCCESS}))),o()(this,"renderReadIcon",e=>Ko.a.createElement(bI,{isHovered:this.state.hover,isRead:this.props.isRead,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleReadChange,layoutClassNames:e})),o()(this,"renderReplyIcon",e=>Ko.a.createElement(PI,{isDarkThemeMode:this.isDarkThemeMode(),layoutClassNames:e})),o()(this,"renderForwardIcon",e=>Ko.a.createElement(GI,{isDarkThemeMode:this.isDarkThemeMode(),layoutClassNames:e})),o()(this,"renderReadIndicators",e=>{const t=this.props,s=t.isCertifiedDomain,r=t.isRead,n=t.isReplied,a=t.isForwarded;return t.isOfficialDomain?this.renderYBadge(e):s?this.renderTrustedIcon(e):r?n&&!this.state.hover?this.renderReplyIcon(e):a&&!this.state.hover?this.renderForwardIcon(e):this.renderReadIcon(e):this.renderReadIcon(e)}),o()(this,"renderSenders",e=>{const t=this.props,s=this.participantsInfo;return Ko.a.createElement(Ug,{isRead:t.isRead,senders:s.senders,myAddresses:s.myAddresses,onClick:t.onClick,layoutClassNames:e})}),o()(this,"renderContactSearchIcon",e=>{if(this.props.isScrolling())return null;const t=this.props.showContactSearch;return this.isHovered()?Ko.a.createElement(ZI,{isHovered:this.state.hover,showSearch:t(this.participantsInfo.senders),isCompact:!1,searchType:C.Dd.CONTACT,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleContactSearchClick,containerClassName:e.contactSearchIcon}):null}),o()(this,"renderSubjectSearchIcon",e=>{if(this.props.isScrolling())return null;const t=this.props.showSubjectSearch;return this.isHovered()?Ko.a.createElement(ZI,{isHovered:this.state.hover,showSearch:t,isCompact:!1,searchType:C.Dd.SUBJECT,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleSubjectSearchClick,layoutClassNames:e}):null}),o()(this,"getStarIconSize",()=>{if(this.isRightPreviewPaneUser())return ti.Sizes.XS;switch(this.props.msgListDensity){case C.Ec.SLIM:return ti.Sizes.XS;case C.Ec.NORMAL:case C.Ec.RELAXED:return ti.Sizes.S;default:return ti.Sizes.XS}}),o()(this,"renderStarIcon",e=>Ko.a.createElement(KI,{isHovered:this.state.hover,isStarred:this.props.isStarred,size:this.getStarIconSize(),isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleStarChange,layoutClassNames:e,burstAnimationEnabled:!0})),o()(this,"renderMessageCount",e=>Ko.a.createElement(mf,{layoutClassNames:e,count:this.props.messageIds.length})),o()(this,"renderDraftLabel",e=>Ko.a.createElement(gf,{layoutClassNames:e,hasDraft:this.props.hasDraft})),o()(this,"renderSubject",e=>{const t=this.props;return Ko.a.createElement(of,{subject:t.subject,highlightSearchTerm:t.highlightSearchTerm,layoutClassNames:e})}),o()(this,"renderSnippet",e=>{const t=this.props;return t.showSnippets?Ko.a.createElement(Ef,{snippet:t.snippet,highlightSearchTerm:t.highlightSearchTerm,layoutClassNames:e}):null}),o()(this,"renderNudgeToReply",()=>{const e=this.props;return Ko.a.createElement(oD,{messageGroupId:e.groupId,listId:e.listId,messageIds:e.messageIds,isHovered:this.state.hover})}),o()(this,"renderCategoryFollowing",()=>{const e=this.props,t=e.productCategoryList;return t.length?Ko.a.createElement(Mi.a,{import:"../../../category_following",contextOfUse:"messageList",messageGroupId:e.groupId,categoriesList:t,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1350))},_moduleResolver:function(){return 1350}}):null}),o()(this,"renderQuotientUpsellPill",()=>{const e=this.props;return Ko.a.createElement(iD.a,{quotientRetailerName:e.quotientRetailerName,showQuotientUpsellPill:e.showQuotientUpsellPill,messageIds:e.messageIds,senders:this.participantsInfo.senders,quotientRetailerId:e.quotientRetailerId,openLinkModal:e.openLinkModal,isHovered:this.state.hover})}),o()(this,"renderUnusualDiscount",()=>{const e=this.props;return Ko.a.createElement(iD.a,{unusualDiscount:e.unusualDiscount,messageIds:e.messageIds,senders:this.participantsInfo.senders})}),o()(this,"renderContextMenu",e=>{const t=this.state.contextMenuPosition,r=this.props,n=r.listId,a=r.streamId,o=r.moreMenuActions,i=r.onDelete,c=r.onSpam,l=r.onArchive,d=r.onReplyForward;return Ko.a.createElement(Mf.c,{align:pi.a.START,zAltitude:di.Pb.POPOVER.HIGH,triggerOn:Mf.b.MOUNT,triggerOff:Mf.a.CLICK,onShown:r.contextMenuShown,onHide:this.handleContextMenuHide,isArrowVisible:!1,scrollContainer:r.scrollerRef,permittedArrowDirections:[pi.h.UP,pi.h.DOWN],contentComfortThreshold:1,collapseArrowWrapper:!0},Ko.a.createElement("span",{className:e.contextMenuAnchor,style:{top:t.y+"px",left:t.x+"px"}}),t=>Ko.a.createElement("div",{className:e.contextMenuContainer},Ko.a.createElement(Mi.a,{import:"../action_menu_items/index",listId:n,streamId:a,onEscape:this.handleContextMenuHide,onRead:o.onRead,onStar:o.onStar,onUnstar:o.onUnstar,onUnread:o.onUnread,onPrint:o.onPrint,moveToInbox:o.moveToInbox,viewRawMessage:o.viewRawMessage,contextualMenu:!0,onDelete:i,onSpam:c,onArchive:l,onReplyForward:d,onModuleLoadSuccess:t,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,885))},_moduleResolver:function(){return 885}},Ko.a.createElement(Mi.b,{loading:!0},Ko.a.createElement(Qd.b,null)))))}),o()(this,"renderExtractedInfo",()=>{const e=this.props,t=e.unusualDiscount,s=e.showQuotientUpsellPill,r=!!e.productCategoryList.length;if(e.hasDraft)return null;let n=null;return e.showNudgeToReply?n=this.renderNudgeToReply():r?n=this.renderCategoryFollowing():t?n=this.renderUnusualDiscount():s&&(n=this.renderQuotientUpsellPill()),n}),o()(this,"renderMessageDestinationLabel",e=>this.props.showDestinationLabel()?Ko.a.createElement(Hf,{layoutClassNames:e,folderId:this.props.folderId}):null),o()(this,"renderAttachmentIcon",(e,t)=>{const s=this.props,r=s.groupId,n=s.isSpam,a=s.listId,o=s.isScrolling,i=s.rsvpEnabled;return Ko.a.createElement("div",{className:e.attachmentIcon,"data-test-id":"attachment-icon-wrapper",role:"gridcell"},Ko.a.createElement(Pf,{attachments:t,isDarkThemeMode:this.isDarkThemeMode(),listId:a,groupId:r,isSpam:n,attachmentTraySize:4,isInteractive:!o(),layoutClassNames:e,rsvpEnabled:i}))}),o()(this,"renderDate",e=>Ko.a.createElement("time",{className:e.dateWrapper+" date",style:this.isHovered()?{display:"none"}:{},role:"gridcell"},Ko.a.createElement(AI.a,{"data-test-id":"date-time-label",date:new Date(this.props.timestamp)}))),o()(this,"renderTrashIcon",()=>this.props.isScrolling()?null:Ko.a.createElement(tf,{isHovered:this.state.hover,isCompact:this.isRightPreviewPaneUser(),isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleDeleteClick})),o()(this,"renderConfirmDialog",()=>{if(null===this.state.confirmState)return null;const e=this.state.confirmState,t=this.context.intl.formatMessage,s={conversations:this.props.isConversationMode,count:this.props.messageIds.length};return Ko.a.createElement(Ju.a,{title:t(e.title),message:t(e.message,s),onConfirm:e.onConfirm,onAbort:e.onAbort})}),o()(this,"isRightPreviewPaneUser",()=>this.props.previewpane===C.ed.RIGHT),o()(this,"getNavLink",e=>{this.navLink=e}),this.participantsInfo=e.getParticipantsInfo(),this.state={hover:!1,confirmState:null,quotientUpsellPill:!1,showContextMenu:!1,contextMenuPosition:null}}componentWillReceiveProps(e){this.participantsInfo=e.getParticipantsInfo()}componentDidUpdate(e){this.props.active&&!e.active&&Object(Zo.findDOMNode)(this.navLink).focus()}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.isRead,r=t.isStarred,n=t.selected,a=t.onMouseDown,o=t.onMouseUp,i=t.onDragStart,c=t.onDragEnd,l=t.groupId,d=t.messageRoute,E=t.active,_=t.showHighlightColor,u=this.state,p=u.contextMenuPosition,m=u.showContextMenu,S=this.participantsInfo.senders,h={renderItemSelection:this.renderItemSelection,renderReadIndicators:this.renderReadIndicators,renderContactSearchIcon:this.renderContactSearchIcon,renderSubjectSearchIcon:this.renderSubjectSearchIcon,renderSenders:this.renderSenders,renderStarIcon:this.renderStarIcon,renderSubject:this.renderSubject,renderSnippet:this.renderSnippet,renderMessageDestinationLabel:this.renderMessageDestinationLabel,renderMessageCount:this.renderMessageCount,renderDraftLabel:this.renderDraftLabel,renderAttachmentIcon:this.renderAttachmentIcon,renderDate:this.renderDate,renderTrashIcon:this.renderTrashIcon,renderConfirmDialog:this.renderConfirmDialog,renderExtractedInfo:this.renderExtractedInfo},C=this.context.getCss(zf.a),g=n&&p&&m;return Ko.a.createElement("a",{role:"row",className:C.link+(_?" "+C.highlight:"")+(E?" "+C.active:""),"data-test-id":"message-list-item","data-test-active":n,"data-test-starred":r,"data-test-read":s,tabIndex:E?di.Lb.MESSAGE_LIST_MAIN:-1,"aria-label":e(ED.email_aria_label,{senderNames:S.map(e=>e.name).join(", ")}),href:this.context.getUrlFromRoute(d),ref:this.getNavLink,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:a,onMouseUp:o,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onDragStart:i.bind(null,l),onDragEnd:c,onContextMenu:this.handleContextMenu,rel:"noopener"},g?this.renderContextMenu(C):null,this.isRightPreviewPaneUser()?Ko.a.createElement($f,zo()({},h,this.props,{isHovered:this.isHovered})):Ko.a.createElement(qf,zo()({},h,this.props,{isHovered:this.isHovered})))}}o()(uD,"contextTypes",{intl:Vo.a.object,getCss:Vo.a.func,getThemeMode:Vo.a.func,getUrlFromRoute:Vo.a.func.isRequired,timezone:mc.TimezoneType}),o()(uD,"defaultProps",{isScrolling:dD,isDragging:dD,onDragStart:dD,onDrag:dD,onDragEnd:dD,openItem:dD,onMouseUp:dD,onMouseDown:dD,onSelectionChange:dD,onReadChange:dD,onStarChange:dD,onClick:dD,onKeyDown:dD,onDoubleClick:dD,onContactSearch:dD,onSubjectSearch:dD,onDelete:dD,selected:!1,active:!1,highlightSearchTerm:!0,previewpane:0,hasDraft:!1,isOfficialDomain:!1,isCertifiedDomain:!1,permanentDelete:!1,contextMenuEnabled:!1,fullGPTCategoryList:[]});var pD=dC(uD),mD=s(825),SD=s.n(mD);const hD=({isDarkMode:e,itemHeight:t})=>{const s=Ti()(SD.a,{isDarkMode:e});return Ko.a.createElement("div",{className:s.container+" message-list-placeholder",style:{height:t-1}},Ko.a.createElement("div",{className:s.gridB1,role:"gridcell"},Ko.a.createElement("div",{className:s.check})),Ko.a.createElement("div",{className:s.gridB2},Ko.a.createElement("div",{className:s.senderRow},Ko.a.createElement("div",{className:s.sender}),Ko.a.createElement("div",{className:s.date})),Ko.a.createElement("div",{className:s.subject}),Ko.a.createElement("div",{className:s.snippet})))};hD.defaultProps={itemHeight:72};var CD=hD,gD=s(826),OD=s.n(gD);const TD=({isDarkMode:e,itemHeight:t})=>{const s=Ti()(OD.a,{isDarkMode:e});return Ko.a.createElement("div",{className:s.container+" message-list-placeholder",style:{height:t-1}},Ko.a.createElement("div",{className:s.gridB1},Ko.a.createElement("div",{className:s.sender})),Ko.a.createElement("div",{className:s.gridB2},Ko.a.createElement("div",{className:s.subject})),Ko.a.createElement("div",{className:s.date}))};TD.defaultProps={itemHeight:32};var AD=TD,ID=s(188),fD=s(393),DD=s.n(fD);function RD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const bD=Object($o.defineMessages)({deal_separator_all:{id:"deal_separator_all",defaultMessage:"Deals from your inbox"},timechunk_str_today:{id:"timechunk_str_today",defaultMessage:"Today"},timechunk_str_yesterday:{id:"timechunk_str_yesterday",defaultMessage:"Yesterday"},timechunk_str_this_week:{id:"timechunk_str_this_week",defaultMessage:"This week"},timechunk_str_last_week:{id:"timechunk_str_last_week",defaultMessage:"Last week"},timechunk_str_this_month:{id:"timechunk_str_this_month",defaultMessage:"Earlier in {message}"},timechunk_str_this_year:{id:"timechunk_str_this_year",defaultMessage:"Earlier in {message}"},timechunk_str_days:{id:"timechunk_str_days",defaultMessage:"{weekday, select, 0 {Sunday} 1 {Monday} 2 {Tuesday} 3 {Wednesday} 4 {Thursday} 5 {Friday} 6 {Saturday}}"},timechunk_str_months:{id:"timechunk_str_months",defaultMessage:"{month, select, 0 {January} 1 {February} 2 {March} 3 {April} 4 {May} 5 {June} 6 {July} 7 {August} 8 {September} 9 {October} 10 {November} 11 {December}}"},linked_stores_separator:{id:"linked_stores_separator",defaultMessage:"Your stores"},recommended_stores_separator:{id:"recommended_stores_separator",defaultMessage:"Recommended for you"},unlinked_stores_separator:{id:"unlinked_stores_separator",defaultMessage:"More stores"},single_store_separator:{id:"single_store_separator",defaultMessage:"Deals for you"},single_store_product_separator:{id:"single_store_product_separator",defaultMessage:"Suggested for you"}}),ND=C.we.Types;class MD extends Ko.a.PureComponent{render(){const e=this.props,t=e.type,s=e.value,r=e.context,n=e.timeZone,a=r.intl,i=a.formatMessage,c=a.formatDate,l=r.getCss(DD.a,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?RD(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):RD(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e.style,{isDarkThemeMode:r.getThemeMode()===ai.i.DARK,isTimechunk:!0}));let d=null;switch(t){case ND.DAY:d=i(bD.timechunk_str_days,{weekday:s});break;case ND.MONTH:case ND.THIS_MONTH:d=i(bD.timechunk_str_months,{month:s});break;case ND.THIS_YEAR:case ND.YEAR:d=c(s,{year:"numeric",timeZone:n})}const E=t?bD["timechunk_str_"+t.toLowerCase()]:null;let _=null;return _=E?Ko.a.createElement($o.FormattedMessage,zo()({},E,{values:{message:d}})):d,Ko.a.createElement("div",{className:l.container,"data-test-id":"time-chunk-separator"},_)}}class yD extends Ko.a.PureComponent{componentDidMount(){sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.CARD_VIEW,sec:Ii.i.COUPONS_LIST,actionData:{featurefamily:C.Cb.IC,slot:Ii.j.COUPON_SMART_VIEW,xpname:C.u.COUPON_SMART_VIEW_COUPON_LIST_ITEM}}})}render(){const e=this.props,t=e.context,s=t.intl.formatMessage,r=0===e.value,n=t.getCss(DD.a,{isDarkThemeMode:t.getThemeMode()===ai.i.DARK,flex:r,couponSeparator:!0}),a=Object(ai.n)({context:t,includeMedium:!1});return Ko.a.createElement("div",{className:n.container,"data-test-id":"coupon-separator"},Ko.a.createElement("span",{className:n.couponHeader},s(bD.deal_separator_all)),r&&Ko.a.createElement("span",{className:n.partnerAttributionIcon},Ko.a.createElement(ID.a,{isOnDarkBackground:a})))}}class LD extends Ko.a.PureComponent{render(){const e=this.props.isGroceryWithProduct,t=this.context.intl.formatMessage,s=this.context.getCss(DD.a,{black:!0,noDivider:!0,extraMarginInfoText:!0,grocerySeparator:!0});return Ko.a.createElement("div",{className:s.container,"data-test-id":"single-store-separator"},Ko.a.createElement("span",{className:s.infoText},t(e?bD.single_store_product_separator:bD.single_store_separator)))}}LD.contextTypes={intl:$o.intlShape.isRequired,getCss:Vo.a.func.isRequired,getThemeMode:Vo.a.func.isRequired};var PD=s(827),vD=s.n(PD);class FD extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{loadingState:C.dc.IDLE})}componentWillReceiveProps(e){e.forceSync&&this.setState({loadingState:C.dc.START}),this.state.loadingState!==C.dc.START||e.isListRefreshing()||this.setState({loadingState:C.dc.FINISH})}render(){const e=this.context.getCss(vD.a);return Ko.a.createElement("div",{className:(()=>{switch(this.state.loadingState){case C.dc.START:return e.loadingBar;case C.dc.FINISH:return e.loadingBarEnd}return""})(),"data-test-id":"loading-bar"})}}o()(FD,"contextTypes",{getCss:Vo.a.func});var UD=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.isListRefreshing,r=t.getCurrentListId,n=(0,t.getAction)().forceSync,a=void 0!==n&&n,o=r();return{forceSync:a,isListRefreshing:()=>s(o)}})(FD),wD=s(828),GD=s.n(wD);class HD extends Ko.a.Component{constructor(e){super(e),o()(this,"state",{isInView:!1}),o()(this,"_showLoading",e=>{this.setState({isInView:e[0].intersectionRatio>0})}),this.loader=Ko.a.createRef()}shouldComponentUpdate(e,t){return t.isInView!==this.state.isInView}componentDidMount(){void 0!==window.IntersectionObserver&&(this.loaderObserver=new IntersectionObserver(this._showLoading),this.loaderObserver.observe(this.loader.current))}componentWillUnmount(){this.loaderObserver&&(this.loaderObserver.unobserve(this.loader.current),this.loaderObserver.disconnect())}render(){const e=this.context,t=(0,e.getCss)(GD.a,{themeMode:(0,e.getThemeMode)()});return Ko.a.createElement("div",{className:t.container,ref:this.loader},this.state.isInView&&Ko.a.createElement(Qd.b,null))}}o()(HD,"contextTypes",{getCss:Vo.a.func,getThemeMode:Vo.a.func});var jD=s(829),kD=s.n(jD);const xD=Object($o.defineMessages)({select_messages:{id:"selection_controls.menu",defaultMessage:"Select messages"},select_all:{id:"selection_controls.select_all_messages",defaultMessage:"Select all messages"},deselect_all:{id:"selection_controls.deselect_all_messages",defaultMessage:"Deselect all messages"}});class BD extends Wo.Component{constructor(e){super(e),this.handleCheckboxClicked=this.handleCheckboxClicked.bind(this)}handleCheckboxClicked(e){e.preventDefault();const t=this.props,s=t.onSelectAll,r=t.streamId;t.selectedItemsCount>0?(0,t.onSelectNone)(r):s(r)}render(){const e=this.props,t=e.selectedItemsCount,s=e.previewpane,r=e.checkboxType,n=e.streamId,a=e.tabIndex,o=this.context.getCss(kD.a),i=this.context.intl,c=i.formatMessage,l=i.formatNumber,d=this.context.getThemeMode()===ai.i.DARK,E=t;return Ko.a.createElement("div",{className:o.container},Ko.a.createElement("ul",{className:o.list},Ko.a.createElement(Bu.a,{kind:jm.a.MESSAGE_SELECTION_CHECKBOX},Ko.a.createElement("span",{className:o.checkboxWrapper},Ko.a.createElement(iO.b,{type:r,highContrast:!0,isInverted:d,isOnDarkBackground:d,"data-iskeynav":!0,paddingLess:!0,onClick:e=>this.handleCheckboxClicked(e),tabIndex:a}))),Ko.a.createElement(Bu.a,{kind:jm.a.MESSAGE_SELECTION_CHEVRON},Ko.a.createElement(_i.a,null,Ko.a.createElement(ui.a,null,Ko.a.createElement("span",{className:o.chevronWrapper},Ko.a.createElement(Jo.default,{kind:ti.Kinds.CHEVRON_UP,size:ti.Sizes.XS,rotate:ti.Rotate.D180,title:c(xD.select_messages),"aria-label":c(xD.select_messages),colorState:ti.ColorStates.INHERITED,isOnDarkBackground:d,"data-iskeynav":!0,"data-test-id":"selection-controls-menu-button",paddingLess:!0}))),Ko.a.createElement(Ei.b,{permittedArrowDirections:[pi.h.UP,pi.h.DOWN],triggerOn:pi.i.CLICK,offset:4*di.G,align:pi.a.START,zAltitude:di.Pb.POPOVER.HIGH},Ko.a.createElement("div",{className:o.popoverListWrapper},Ko.a.createElement(hi.a,{focusOnMount:!0,"data-test-id":"selection-controls-menu"},Ko.a.createElement(Bu.a,{name:"select-all"},Ko.a.createElement(mi.a,{kind:Si.a.MENUITEM,onClick:()=>this.props.onSelectAll(n),"data-test-id":"select-all-btn"},Ko.a.createElement($o.FormattedMessage,{id:"select_all",defaultMessage:"All"}))),Ko.a.createElement(Bu.a,{name:"select-none"},Ko.a.createElement(mi.a,{kind:Si.a.MENUITEM,onClick:()=>this.props.onSelectNone(n),"data-test-id":"select-none-btn"},Ko.a.createElement($o.FormattedMessage,{id:"select_none",defaultMessage:"None"}))),Ko.a.createElement(Bu.a,{name:"select-read"},Ko.a.createElement(mi.a,{kind:Si.a.MENUITEM,onClick:()=>this.props.onSelectAllRead(n),"data-test-id":"select-all-read-btn"},Ko.a.createElement($o.FormattedMessage,{id:"select_read",defaultMessage:"Read"}))),Ko.a.createElement(Bu.a,{name:"select-unread"},Ko.a.createElement(mi.a,{kind:Si.a.MENUITEM,onClick:()=>this.props.onSelectAllUnread(n),"data-test-id":"select-all-unread-btn"},Ko.a.createElement($o.FormattedMessage,{id:"select_unread",defaultMessage:"Unread"}))),Ko.a.createElement(Bu.a,{name:"select-starred"},Ko.a.createElement(mi.a,{kind:Si.a.MENUITEM,onClick:()=>this.props.onSelectAllStarred(n),"data-test-id":"select-all-starred-btn"},Ko.a.createElement($o.FormattedMessage,{id:"select_starred",defaultMessage:"Starred"}))),Ko.a.createElement(Bu.a,{name:"select-unstarred"},Ko.a.createElement(mi.a,{kind:Si.a.MENUITEM,onClick:()=>this.props.onSelectAllUnstarred(n),"data-test-id":"select-all-unstarred-btn"},Ko.a.createElement($o.FormattedMessage,{id:"select_unstarred",defaultMessage:"Unstarred"})))))))),Ko.a.createElement(Bu.a,null,Ko.a.createElement("div",null,s===C.ed.NO&&E>0?l(E):""))))}}o()(BD,"defaultProps",{tabIndex:-1}),BD.contextTypes={intl:$o.intlShape.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func};var VD=BD;const WD=Object($o.defineMessages)({archive_msgs:{id:"archive_msgs",defaultMessage:"Archive the selected {conversations, select, true {conversations} false {messages}}"}});class KD extends Ko.a.Component{constructor(...e){super(...e),o()(this,"_renderLabel",()=>Ko.a.createElement($o.FormattedMessage,{id:"archive_button.archive_label",defaultMessage:"Archive"}))}render(){const e=this.props,t=e.disabled,s=e.onClick,r=e.showLabel,n=e.isCompact,a=(0,this.context.intl.formatMessage)(WD.archive_msgs,{conversations:e.conversations}),o=this.context.getThemeMode()===ai.i.DARK;return Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-archive","aria-label":a,title:a,kind:ti.Kinds.ARCHIVE,disabled:t,onClick:s,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED,isOnDarkBackground:o,isCompact:n},r&&this._renderLabel())}}o()(KD,"contextTypes",{intl:$o.intlShape.isRequired,getThemeMode:Vo.a.func}),o()(KD,"defaultProps",{showLabel:!0,conversations:!1});var qD=KD;const YD=Object($o.defineMessages)({restore_msgs:{id:"restore_from_archive",defaultMessage:"Restore selected {conversations, select, true {conversations} false {messages}} to Inbox"}});class zD extends Ko.a.Component{constructor(...e){super(...e),o()(this,"_renderLabel",()=>Ko.a.createElement($o.FormattedMessage,{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"}))}render(){const e=this.props,t=e.disabled,s=e.onClick,r=e.showLabel,n=e.isCompact,a=(0,this.context.intl.formatMessage)(YD.restore_msgs,{conversations:e.conversations}),o=this.context.getThemeMode()===ai.i.DARK;return Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-archive-restore","aria-label":a,title:a,kind:ti.Kinds.RESTORE_TO_INBOX,disabled:t,onClick:s,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED,isOnDarkBackground:o,isCompact:n},r&&this._renderLabel())}}o()(zD,"contextTypes",{intl:$o.intlShape.isRequired,getThemeMode:Vo.a.func}),o()(zD,"defaultProps",{showLabel:!0,conversations:!1});var QD=zD;const ZD=Object($o.defineMessages)({perm_delete_msgs:{id:"perm_delete_msgs",defaultMessage:"Permanently delete the selected {conversations, select, true {conversations} false {messages}}"},delete_msgs:{id:"delete_msgs",defaultMessage:"Delete the selected {conversations, select, true {conversations} false {messages}}"}});class XD extends Ko.a.Component{constructor(...e){super(...e),o()(this,"_renderLabel",()=>Ko.a.createElement($o.FormattedMessage,{id:"delete_button.delete_label",defaultMessage:"Delete"}))}render(){const e=this.props,t=e.permanent,s=e.disabled,r=e.onClick,n=e.showLabel,a=e.isCompact,o=(0,this.context.intl.formatMessage)(t?ZD.perm_delete_msgs:ZD.delete_msgs,{conversations:e.conversations}),i=t?"perm-delete":"delete",c=this.context.getThemeMode()===ai.i.DARK;return Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-"+i,"aria-label":o,title:o,kind:ti.Kinds.DELETE,disabled:s,onClick:r,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED,isOnDarkBackground:c,isCompact:a},n&&this._renderLabel())}}o()(XD,"contextTypes",{intl:$o.intlShape.isRequired,getThemeMode:Vo.a.func}),o()(XD,"defaultProps",{showLabel:!0,conversations:!1});var $D=XD;const JD=Object($o.defineMessages)({mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as spam"}});class eR extends Ko.a.Component{constructor(...e){super(...e),o()(this,"_renderLabel",()=>Ko.a.createElement($o.FormattedMessage,{id:"spam_icon_label",defaultMessage:"Spam"}))}render(){const e=this.props,t=e.disabled,s=e.onClick,r=e.showLabel,n=e.isCompact,a=(0,this.context.intl.formatMessage)(JD.mark_msgs_as_spam),o=this.context.getThemeMode()===ai.i.DARK;return Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-spam","aria-label":a,title:a,kind:ti.Kinds.SPAM,disabled:t,onClick:s,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED,isOnDarkBackground:o,isCompact:n},r&&this._renderLabel())}}o()(eR,"contextTypes",{intl:$o.intlShape.isRequired,getThemeMode:Vo.a.func}),o()(eR,"defaultProps",{showLabel:!0});var tR=eR;const sR=Object($o.defineMessages)({mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as not spam"}});class rR extends Ko.a.Component{constructor(...e){super(...e),o()(this,"_renderLabel",()=>Ko.a.createElement($o.FormattedMessage,{id:"not_spam_icon_label",defaultMessage:"Not Spam"}))}render(){const e=this.props,t=e.disabled,s=e.onClick,r=e.showLabel,n=e.isCompact,a=(0,this.context.intl.formatMessage)(sR.mark_msgs_as_not_spam),o=this.context.getThemeMode()===ai.i.DARK;return Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-not-spam","aria-label":a,title:a,kind:ti.Kinds.SPAM,disabled:t,onClick:s,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED,isOnDarkBackground:o,isCompact:n},r&&this._renderLabel())}}o()(rR,"contextTypes",{intl:$o.intlShape.isRequired,getThemeMode:Vo.a.func}),o()(rR,"defaultProps",{showLabel:!0});var nR=rR,aR=s(830),oR=s.n(aR);const iR=Object($o.defineMessages)({more_button_title:{id:"more_button_title",defaultMessage:"More options"}});class cR extends Wo.Component{constructor(e){super(e)}_renderLabel(){return Ko.a.createElement($o.FormattedMessage,{id:"more_button",defaultMessage:"More"})}render(){const e=this.props,t=e.disabled,r=e.showLabel,n=e.isCompact,a=(0,this.context.intl.formatMessage)(iR.more_button_title),o=this.context.getThemeMode()===ai.i.DARK,i=this.context.getCss(oR.a);return Ko.a.createElement(_i.a,{className:i.popoverContainer},Ko.a.createElement(ui.a,null,Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-more","aria-label":a,title:a,kind:ti.Kinds.MORE,disabled:t,size:ti.Sizes.XS,colorState:ti.ColorStates.INHERITED,isOnDarkBackground:o,isCompact:n},r&&this._renderLabel())),Ko.a.createElement(Ei.b,{triggerOn:pi.i.CLICK,permittedArrowDirections:[pi.h.UP],zAltitude:di.Pb.POPOVER.HIGH},Ko.a.createElement(Mi.a,zo()({import:"../action_menu_items/index"},this.props,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,885))},_moduleResolver:function(){return 885}}),Ko.a.createElement(Mi.b,{loading:!0},Ko.a.createElement(Qd.b,null)))))}}cR.contextTypes={intl:$o.intlShape.isRequired,getThemeMode:Vo.a.func,getCss:Vo.a.func},cR.defaultProps={showLabel:!1};var lR=cR,dR=s(270),ER=s.n(dR);const _R=(e,t)=>{const s=e.renderSelectionControls,r=e.renderListFilter,n=e.renderArchive,a=e.renderRestoreToInbox,o=e.renderMove,i=e.renderDelete,c=e.renderSpam,l=e.renderHam,d=e.renderMore,E=e.renderSortMenu,_=e.renderConfirmDialog,u=e.enableTriageActions,p=t.getCss(ER.a);return Ko.a.createElement("div",{className:p.container,"data-test-id":"message-toolbar"},s(p),r(p),Ko.a.createElement("div",{className:p.mainActionControls},Ko.a.createElement("div",{className:u?p.actionListActive:p.actionListDefault},n(p),a(p),o(p),i(p),c(p),l(p),d(p))),E(p),_())};_R.contextTypes={getCss:Vo.a.func};var uR=_R;const pR=(e,t)=>{const s=e.renderSelectionControls,r=e.renderArchive,n=e.renderRestoreToInbox,a=e.renderMove,o=e.renderDelete,i=e.renderSpam,c=e.renderHam,l=e.renderMore,d=e.renderSortMenu,E=e.renderSingleGroupActions,_=e.renderUsabiltyOptions,u=e.renderConfirmDialog,p=e.enableTriageActions,m=e.horizontalOffset,S=e.renderListFilter,h=e.previewpaneInPixels,C=t.getCss(ER.a,{previewpane:e.previewpane,groupActionsActive:e.enableGroupActions,previewpaneInPixels:h});return Ko.a.createElement("div",{className:C.container,"data-test-id":"message-toolbar"},Ko.a.createElement("div",{className:C.leftHalfContainer,style:{flexBasis:m>100&&h?m+"px":m+"%"}},Ko.a.createElement("div",{className:C.leftGrid},s(C),S(C)),d(C)),Ko.a.createElement("div",{className:C.rightHalfContainer},E(C),Ko.a.createElement("div",{className:C.mainActionControls},Ko.a.createElement("div",{className:p?C.actionListActive:C.actionListDefault},r(C),n(C),a(C),o(C),i(C),c(C),l(C))),_(C),u()))};pR.contextTypes={getCss:Vo.a.func};var mR=pR;const SR=(e,t)=>{const s=e.renderSelectionControls,r=e.renderListFilter,n=e.renderArchive,a=e.renderRestoreToInbox,o=e.renderMove,i=e.renderDelete,c=e.renderSpam,l=e.renderHam,d=e.renderMore,E=e.renderSortMenu,_=e.renderSingleGroupActions,u=e.renderUsabiltyOptions,p=e.renderConfirmDialog,m=e.enableTriageActions,S=t.getCss(ER.a,{previewpane:e.previewpane,groupActionsActive:e.enableGroupActions});return Ko.a.createElement("div",{className:S.container,"data-test-id":"message-toolbar"},s(S),r(S),_(S),Ko.a.createElement("div",{className:S.mainActionControls},Ko.a.createElement("div",{className:m?S.actionListActive:S.actionListDefault},n(S),a(S),o(S),i(S),c(S),l(S),d(S))),u(S),E(S),p())};SR.contextTypes={getCss:Vo.a.func};var hR=SR;function CR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const gR=["d","shift+d","r","a","f","p","escape"];var OR=Object(qo.connect)((e,t)=>{const s=t.listId,r=t.streamId,n=t.actions,a=t.route,i=Object(wi.selectors)(e),c=i.getCursorItem,l=i.getSelectedStreamItems,d=i.doesStreamExist,E=i.isAllCardsExpanded,_=i.canShowToolbarItem,u=i.canEnableToolbarItem,p=i.shouldEnableGroupActions,m=i.shouldEnableTriageActions,S=i.isPermDeleteFolderType,h=i.getAvailableSortOrders,g=i.isFeatureEnabled,O=(0,i.getListsSelectors)().getItemIdsSelectors,T=d(r)?l(r):[],A=d(r)?c(r):void 0,I=T.length>0?T:[];A&&0===T.length&&I.push(A);const f=T.length>0&&O(s).getItemIds().length===T.length,D=Object(Hi.q)(s),R=T.length,b=!!A&&E(A.listId,A.id);let N=C.P.NONE;const M=g(C.Eb.SELECT_ALL);T.length&&f?N=C.P.ALL:T.length&&(N=C.P.PARTIAL);const y=g(C.Eb.PREVIEW_PANE_IN_PIXELS);return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?CR(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):CR(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({listenKeys:gR,canShowToolbarItem:_(r),canEnableToolbarItem:u(r),allItemsSelected:f,selectAllBulkEnabled:M,selectedItemsCount:R,cursorItem:A,allCardsExpanded:b,permanentDelete:!!D&&S(D),enableGroupActions:p(r),enableTriageActions:m(r),currentSortOrder:Object(Hi.L)(t.listId),availableSortOrders:h(),checkboxType:N,routeName:a.name,enableSingleGroupActions:1===I.length,previewpaneInPixels:y},n.TOOLBAR)});function TR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function AR(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?TR(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):TR(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const IR=e=>{e.stopPropagation(),e.preventDefault()};class fR extends Wo.Component{constructor(e){super(e),this.componentRenderers={renderSelectionControls:this.renderSelectionControls.bind(this),renderArchive:this.renderArchive.bind(this),renderRestoreToInbox:this.renderRestoreToInbox.bind(this),renderMove:this.renderMove.bind(this),renderDelete:this.renderDelete.bind(this),renderSpam:this.renderSpam.bind(this),renderHam:this.renderHam.bind(this),renderMore:this.renderMore.bind(this),renderSortMenu:this.renderSortMenu.bind(this),renderSingleGroupActions:this.renderSingleGroupActions.bind(this),renderUsabiltyOptions:this.renderUsabiltyOptions.bind(this),renderListFilter:this.renderListFilter.bind(this),renderConfirmDialog:this.renderConfirmDialog.bind(this)},this.state={moveMenuActive:!1,moveMenuFilterFocused:!1,confirmState:null},this.handleSort=this.handleSort.bind(this),this.handleShortcuts=this.handleShortcuts.bind(this),this.handleMoveMenuShow=this.handleMoveMenuShow.bind(this),this.handleMoveMenuHide=this.handleMoveMenuHide.bind(this),this.handleMoveMenuToggle=this.handleMoveMenuToggle.bind(this),this.handleReplyForward=this.handleReplyForward.bind(this),this.handleArchive=this.handleArchive.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleSpam=this.handleSpam.bind(this),this.handleHam=this.handleHam.bind(this),this.handleRestoreToInbox=this.handleRestoreToInbox.bind(this),this.handleMove=this.handleMove.bind(this),this.handleClosePreviewMessage=this.handleClosePreviewMessage.bind(this),this.handleExpandContractClick=this.handleExpandContractClick.bind(this),this.hideConfirm=this.hideConfirm.bind(this),this.handlePrint=this.handlePrint.bind(this)}componentDidMount(){this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts)}shouldComponentUpdate(e,t){const s=this.props.previewpane!==C.ed.NO&&this.props.allCardsExpanded!==e.allCardsExpanded,r=["canShowToolbarItem","canEnableToolbarItem","allCardsExpanded"];return this.props.routeName===e.routeName&&e.routeName!==C.rd.SEARCH&&r.push("cursorItem"),!t_()(u()(this.props,r),u()(e,r))||!t_()(this.state,t)||s}componentWillUnmount(){this.context.unbindShortcut(this.props.listenKeys)}handleShortcuts(e){IR(e);const t=e.which||e.keyCode||-1,s=String.fromCharCode(t).toLowerCase(),r=this.props,n=r.canEnableToolbarItem,a=(0,r.canShowToolbarItem)("raf"),o=n("raf");if(t!==Fi.b.ESCAPE)switch(s){case Fi.a.KEYD:this.props.enableTriageActions&&this.handleMoveMenuShow(e.shiftKey);break;case Fi.a.KEYR:o&&a&&this.handleReplyForward(e,C.U.Modes.REPLY);break;case Fi.a.KEYF:o&&a&&this.handleReplyForward(e,C.U.Modes.FORWARD);break;case Fi.a.KEYA:o&&a&&this.handleReplyForward(e,C.U.Modes.REPLY_ALL);break;case Fi.a.KEYP:this.props.enableSingleGroupActions&&this.handlePrint(e)}else{if(this.props.routeName===C.rd.FOLDER)return;this.props.onClosePage({listId:this.props.listId,i13nModel:{mKey:Ii.g.TOOLBAR_CLOSE_MSG,sec:Ii.i.MSG_READ_TOOLBAR,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}}handleMoveMenuShow(e){if(!this.props.enableTriageActions)return;const t={moveMenuActive:!0};e&&(t.moveMenuFilterFocused=!0),this.setState(t)}handleMoveMenuToggle(e){e.stopPropagation(),this.setState({moveMenuActive:!this.state.moveMenuActive&&this.props.enableTriageActions})}handleMoveMenuHide(){this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1})}handleSort(e,t){const s=this.props;(0,s.onSortOrderChange)({listId:s.listId,sortOrder:t,i13nModel:{interactionType:Object(Ps.getInteractionFromEvent)(e)}})}handleReplyForward(e,t){IR(e);const s=this.props,r=s.onReplyForward,n=s.streamId,a=s.listId;let o,i;switch(t){case C.U.Modes.REPLY:o=Ii.g.TOOLBAR_REPLY,i=Ii.h.replyMsg;break;case C.U.Modes.REPLY_ALL:o=Ii.g.TOOLBAR_REPLYALL,i=Ii.h.replyAllMsg;break;case C.U.Modes.FORWARD:o=Ii.g.TOOLBAR_FORWARD,i=Ii.h.forwardMsg}r({streamId:n,listId:a,composeMode:t,i13nModel:{mKey:o,sec:Ii.i.MSG_READ_TOOLBAR,mKeyGroup:i,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}handleClosePreviewMessage(e){IR(e);const t=this.props;(0,t.onClosePreviewMessage)({streamId:t.streamId,listId:t.listId,i13nModel:{mKey:Ii.g.TOOLBAR_CLOSE_MSG,sec:Ii.i.MSG_READ_TOOLBAR,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}handleExpandContractClick(e){IR(e);const t=this.props;(0,t.onChangeAllMessageCardExpansion)({listId:t.listId,streamId:t.streamId,expansionState:(0,t.canShowToolbarItem)("collapseAll")?C.L.COLLAPSED:C.L.EXPANDED})}handleArchive(e){IR(e);const t=this.props,s=t.streamId,r=t.onArchive;if(!this.state.confirmState&&(t.allItemsSelected&&t.selectAllBulkEnabled))return void this.setState({confirmState:{title:Tg.list_archive_title,message:Tg.list_archive_message,onConfirm:this.handleArchive,onAbort:this.hideConfirm}});r({streamId:s,triageActionType:C.ye.ARCHIVE_SELECTED_ITEMS,i13nModel:{mKey:Ii.g.TOOLBAR_ARCHIVE,sec:Ii.i.MSG_LIST_BULK_ACTION,mKeyGroup:Ii.h.archiveMsg,interactionType:Object(Ps.getInteractionFromEvent)(e)}}),this.hideConfirm()}handleRestoreToInbox(e){IR(e);const t=this.props;(0,t.moveToInbox)({streamId:t.streamId,triageActionType:C.ye.RESTORE_SELECTED_ITEMS,i13nModel:{mKey:Ii.g.TOOLBAR_RESTORE,sec:Ii.i.MSG_LIST_BULK_ACTION,mKeyGroup:Ii.h.restore,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}handleDelete(e){IR(e);const t=this.props,s=t.streamId,r=t.onDelete,n=t.permanentDelete;if(!this.state.confirmState&&(n||t.allItemsSelected&&t.selectAllBulkEnabled))return void this.setState({confirmState:{title:Tg.list_delete_title,message:n?Tg.list_perm_delete_message:Tg.list_delete_message,onConfirm:this.handleDelete,onAbort:this.hideConfirm}});r({streamId:s,triageActionType:C.ye.DELETE_SELECTED_ITEMS,i13nModel:{mKey:Ii.g.TOOLBAR_DELETE,sec:Ii.i.MSG_LIST_BULK_ACTION,mKeyGroup:Ii.h.deleteMsg,interactionType:Object(Ps.getInteractionFromEvent)(e)}}),this.hideConfirm()}hideConfirm(){this.state.confirmState&&this.setState({confirmState:null})}handleSpam(e){const t=this.props,s=t.streamId,r=t.onSpam;if(!this.state.confirmState&&(t.allItemsSelected&&t.selectAllBulkEnabled))return void this.setState({confirmState:{title:Tg.list_spam_title,message:Tg.list_spam_message,onConfirm:this.handleSpam,onAbort:this.hideConfirm}});r({streamId:s,triageActionType:C.ye.SPAM_SELECTED_ITEMS,i13nModel:{mKey:Ii.g.TOOLBAR_SPAM,sec:Ii.i.MSG_LIST_BULK_ACTION,mKeyGroup:Ii.h.markSpam,interactionType:Object(Ps.getInteractionFromEvent)(e)}}),this.hideConfirm()}handleHam(e){const t=this.props;(0,t.moveToInbox)({streamId:t.streamId,triageActionType:C.ye.NOT_SPAM_SELECTED_ITEMS,i13nModel:{mKey:Ii.g.TOOLBAR_NOT_SPAM,sec:Ii.i.MSG_LIST_BULK_ACTION,mKeyGroup:Ii.h.markUnspam,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}handleMove(e,t){const s=this.props,r=s.streamId,n=s.onMove;if(!this.state.confirmState&&(s.allItemsSelected&&s.selectAllBulkEnabled))return void this.setState({confirmState:{title:Tg.list_move_title,message:Tg.list_move_message,onConfirm:()=>this.handleMove(e,t),onAbort:this.hideConfirm}});n(AR({streamId:r},{triageActionType:C.ye.MOVE_SELECTED_ITEMS,destinationFolderId:e,i13nModel:{mKey:Ii.g.TOOLBAR_MOVE,sec:Ii.i.MSG_LIST_BULK_ACTION,mKeyGroup:Ii.h.moveMsg,interactionType:Object(Ps.getInteractionFromEvent)(t)}})),this.hideConfirm()}handleOnRead(e){const t=this.props,s=t.moreMenuActions.onRead;!this.state.confirmState&&t.allItemsSelected&&t.selectAllBulkEnabled?this.setState({confirmState:{title:Tg.list_mark_read_bulk_title,message:Tg.list_mark_read_bulk_messages,onConfirm:()=>this.handleOnRead(e),onAbort:this.hideConfirm}}):(s(e),this.hideConfirm())}handleOnUnread(e){const t=this.props,s=t.moreMenuActions.onUnread;!this.state.confirmState&&t.allItemsSelected&&t.selectAllBulkEnabled?this.setState({confirmState:{title:Tg.list_mark_unread_bulk_title,message:Tg.list_mark_unread_bulk_messages,onConfirm:()=>this.handleOnUnread(e),onAbort:this.hideConfirm}}):(s(e),this.hideConfirm())}handleOnStar(e){const t=this.props,s=t.moreMenuActions.onStar;!this.state.confirmState&&t.allItemsSelected&&t.selectAllBulkEnabled?this.setState({confirmState:{title:Tg.list_mark_starred_bulk_title,message:Tg.list_mark_starred_bulk_messages,onConfirm:()=>this.handleOnStar(e),onAbort:this.hideConfirm}}):(s(e),this.hideConfirm())}handleOnUnstar(e){const t=this.props,s=t.moreMenuActions.onUnstar;!this.state.confirmState&&t.allItemsSelected&&t.selectAllBulkEnabled?this.setState({confirmState:{title:Tg.list_mark_unstarred_bulk_title,message:Tg.list_mark_unstarred_bulk_messages,onConfirm:()=>this.handleOnUnstar(e),onAbort:this.hideConfirm}}):(s(e),this.hideConfirm())}handlePrint(e){e.preventDefault();const t=this.props,s=t.moreMenuActions,r=t.streamId,n=t.listId,a={mKey:Ii.g.TOOLBAR_PRINT,interactionType:Object(Ps.getInteractionFromEvent)(e)};s.onPrint({i13nModel:a,streamId:r,listId:n})}renderSelectionControls(e){const t=this.props,s=t.selectionActions,r=t.selectedItemsCount,n=t.previewpane,a=t.checkboxType,o=t.streamId;return Ko.a.createElement("div",{className:e.cboxWrapper},Ko.a.createElement("div",{className:e.selectionControlsWrapper},Ko.a.createElement(VD,zo()({},s,{selectedItemsCount:r,previewpane:n,checkboxType:a,streamId:o,tabIndex:di.Lb.MESSAGE_LIST_TOOLBAR}))))}renderArchive(e){const t=this.props,s=t.canEnableToolbarItem,r=t.showLabels,n=(0,t.canShowToolbarItem)("archive"),a=s("archive");return n?Ko.a.createElement("div",{className:a?e.toolbarItem:e.toolbarItemDisabled},Ko.a.createElement(qD,{disabled:!a,showLabel:r,onClick:this.handleArchive})):null}renderRestoreToInbox(e){const t=this.props,s=t.canEnableToolbarItem,r=t.showLabels,n=t.isConversationMode,a=(0,t.canShowToolbarItem)("restore"),o=s("archive");return a?Ko.a.createElement("div",{className:o?e.toolbarItem:e.toolbarItemDisabled},Ko.a.createElement(QD,{disabled:!o,showLabel:r,onClick:this.handleRestoreToInbox,isConversationMode:n})):null}renderMove(e){const t=this.props,s=t.canEnableToolbarItem,r=t.showLabels,n=t.listId,a=(0,t.canShowToolbarItem)("move"),o=s("move");return a?Ko.a.createElement("div",{className:o?e.toolbarItem:e.toolbarItemDisabled},Ko.a.createElement(sO,{disabled:!o,showLabel:r,listId:n,onClick:this.handleMove,isMenuActive:this.state.moveMenuActive,isFilterFocused:this.state.moveMenuFilterFocused,hasShortcuts:!this.state.moveMenuFilterFocused,onMenuShow:this.handleMoveMenuShow,onMenuHide:this.handleMoveMenuHide,onMenuToggle:this.handleMoveMenuToggle})):null}renderDelete(e){const t=this.props,s=t.canEnableToolbarItem,r=t.showLabels,n=t.permanentDelete,a=(0,t.canShowToolbarItem)("delete"),o=s("delete");return a?Ko.a.createElement("div",{className:o?e.toolbarItem:e.toolbarItemDisabled},Ko.a.createElement($D,{disabled:!o,showLabel:r,permanent:n,onClick:this.handleDelete})):null}renderSpam(e){const t=this.props,s=t.canEnableToolbarItem,r=t.showLabels,n=(0,t.canShowToolbarItem)("spam"),a=s("spam");return n?Ko.a.createElement("div",{className:a?e.toolbarItem:e.toolbarItemDisabled},Ko.a.createElement(tR,{disabled:!a,showLabel:r,onClick:this.handleSpam})):null}renderHam(e){const t=this.props,s=t.showLabels,r=t.canEnableToolbarItem,n=(0,t.canShowToolbarItem)("ham"),a=r("ham");return n?Ko.a.createElement("div",{className:a?e.toolbarItem:e.toolbarItemDisabled},Ko.a.createElement(nR,{disabled:!a,showLabel:s,onClick:this.handleHam})):null}renderMore(e){const t=this.props,s=t.listId,r=t.canEnableToolbarItem,n=t.moreMenuActions,a=t.streamId,o=t.enableSingleGroupActions,i=t.selectedItemsCount,c=t.previewpane,l=(0,t.canShowToolbarItem)("more"),d=r("more"),E=AR({},n,{onRead:e=>this.handleOnRead(e),onUnread:e=>this.handleOnUnread(e),onStar:e=>this.handleOnStar(e),onUnstar:e=>this.handleOnUnstar(e)});return l?Ko.a.createElement("div",{className:d?e.toolbarItem:e.toolbarItemDisabled},Ko.a.createElement(lR,zo()({disabled:!d,showLabel:!1},E,{listId:s,streamId:a,enableSingleGroupActions:o,selectedItemsCount:i,previewpane:c}))):null}renderSortMenu(e){return Ko.a.createElement("div",{className:e.viewMenu},Ko.a.createElement("div",{className:e.sortMenuContainer},Ko.a.createElement(nI,{currentSortOrder:this.props.currentSortOrder,availableSortOrders:this.props.availableSortOrders,onClick:this.handleSort})))}renderSingleGroupActions(e){const t=this.props,s=t.canEnableToolbarItem,r=(0,t.canShowToolbarItem)("raf"),n=s("raf"),a=this.context.intl.formatMessage,o=this.context.getThemeMode()===ai.i.DARK,i=n?e.singleGroupItem:e.singleGroupItem+" "+e.disabledItem,c=[{kind:ti.Kinds.REPLY,composeMode:C.U.Modes.REPLY,stringKey:"message_reply"},{kind:ti.Kinds.REPLY_ALL,composeMode:C.U.Modes.REPLY_ALL,stringKey:"message_reply_all"},{kind:ti.Kinds.FORWARD,composeMode:C.U.Modes.FORWARD,stringKey:"message_forward"}].map(({kind:e,stringKey:t,composeMode:s})=>{const r=a(Tg[t]);return Ko.a.createElement(Bu.a,{name:e,key:e,className:i,onClick:e=>this.handleReplyForward(e,s)},Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-"+e,"aria-label":r,title:r,kind:e,size:ti.Sizes.XS,disabled:!n,colorState:ti.ColorStates.INHERITED,isOnDarkBackground:o}))});return r?Ko.a.createElement("div",{className:e.singleGroupActions,"data-test-id":"single-group-action"},Ko.a.createElement("ul",{key:"group-actions",className:e.singleGroupActionList},c)):null}renderExpandMessages(e){const t=this.props.canShowToolbarItem,s=this.context.intl.formatMessage,r=this.context.getThemeMode()===ai.i.DARK,n=t("expandAll"),a=t("collapseAll");return n||a?Ko.a.createElement("div",{className:e.expandCollapse,"data-test-id":"expand-messages",onClick:this.handleExpandContractClick},Ko.a.createElement(Jo.default,{title:s(Tg[a?"collapse_list":"expand_list"]),"aria-label":s(Tg[a?"list_is_expanded":"list_is_collapsed"]),kind:a?ti.Kinds.COLLAPSE_LIST:ti.Kinds.EXPAND_LIST,size:ti.Sizes.XS,paddingLess:!1,colorState:ti.ColorStates.INHERITED,"data-iskeynav":!0,isOnDarkBackground:r})):Ko.a.createElement("div",{className:e.hiddenItem})}renderClosePreview(e){const t=this.context.intl.formatMessage,s=this.context.getThemeMode()===ai.i.DARK;return this.props.enableGroupActions?Ko.a.createElement("div",{"data-test-id":"close-wrapper",className:e.closeWrapper,onClick:this.handleClosePreviewMessage},Ko.a.createElement(Jo.default,{"data-iskeynav":!0,"data-test-id":"toolbar-close",kind:ti.Kinds.CLOSE,size:ti.Sizes.XS,disabled:!1,title:t(Tg.close),"aria-label":t(Tg.close),colorState:ti.ColorStates.INHERITED,isOnDarkBackground:s})):null}renderUsabiltyOptions(e){return Ko.a.createElement("div",{className:e.usabiltyOptions,"data-test-id":"usabilty-options"},this.renderExpandMessages(e),this.renderClosePreview(e))}renderListFilter(e){const t=this.props,s=t.onListFilterChange,r=t.showListFilter,n=this.context.getThemeMode()===ai.i.DARK;if(!r)return null;const a=this.context.intl.formatMessage,o=Object(Hi.x)(this.props.listId).toLowerCase(),i=Ko.a.createElement(Bu.a,{key:o,name:"list-filter-"+o},Ko.a.createElement(mi.a,{"data-test-id":"list-filter-from",kind:Si.a.MENUITEM,onClick:e=>s(e,C.bc.FROM)},a(Tg.list_filter_from)),Ko.a.createElement(mi.a,{"data-test-id":"list-filter-to",kind:Si.a.MENUITEM,onClick:e=>s(e,C.bc.TO)},a(Tg.list_filter_to)),Ko.a.createElement(mi.a,{"data-test-id":"list-filter-all",kind:Si.a.MENUITEM,onClick:e=>s(e,C.bc.ALL)},a(Tg.list_filter_all)));return Ko.a.createElement("div",{className:e.listFilterViewMenu,"data-test-id":"toolbar-list-filter"},Ko.a.createElement(_i.a,null,Ko.a.createElement(ui.a,null,Ko.a.createElement(mi.a,{"data-test-id":"toolbar-list-filter-button",kind:Si.a.CHROMELESS,tabIndex:-1,"data-iskeynav":!0,isOnDarkBackground:n},Ko.a.createElement("span",{className:e.listFilterMenu},a(Tg["list_filter_"+o]),Ko.a.createElement(ei.b,{kind:ti.Kinds.CHEVRON_UP,size:ti.Sizes.XS,rotate:ti.Rotate.D180,colorState:ti.ColorStates.INHERITED})))),Ko.a.createElement(Ei.b,{triggerOn:pi.i.CLICK,hideOnContentClick:!0,offset:5*di.G,align:pi.a.CENTER,zAltitude:di.Pb.POPOVER.HIGH,"data-test-id":"toolbar-list-filter-popover"},Ko.a.createElement("div",{className:e.popoverListWrapper},Ko.a.createElement(hi.a,{focusOnMount:!0,"data-test-id":"toolbar-list-filter-menu"},i)))))}renderConfirmDialog(){if(null===this.state.confirmState)return null;const e=this.state.confirmState,t=this.context.intl.formatMessage;let s=0;this.props.selectedItemsCount>0?s=this.props.selectedItemsCount:this.props.cursorItem&&(s=1);const r={conversations:this.props.isConversationMode,count:s};return Ko.a.createElement(Ju.a,{title:t(e.title),message:t(e.message,r),onConfirm:e.onConfirm,onAbort:e.onAbort})}render(){switch(this.props.previewpane){case C.ed.RIGHT:return Ko.a.createElement(mR,zo()({},this.componentRenderers,this.props));case C.ed.BOTTOM:return Ko.a.createElement(hR,zo()({},this.componentRenderers,this.props));default:return Ko.a.createElement(uR,zo()({},this.componentRenderers,this.props))}}}fR.defaultProps={isConversationMode:!1},fR.contextTypes={intl:$o.intlShape.isRequired,navigateTo:Vo.a.func.isRequired,getThemeMode:Vo.a.func,bindShortcut:Vo.a.func,unbindShortcut:Vo.a.func};var DR=OR(fR),RR=s(831),bR=s.n(RR);const NR=Object($o.defineMessages)({photos:{id:"photos_header_label",defaultMessage:"Photos from email"}}),MR=(e,t)=>{const s=t.intl.formatMessage,r=(0,t.getCss)(bR.a,{themeMode:(0,t.getThemeMode)()}),n=e.currentSortOrder,a=e.availableSortOrders,o=e.onSortOrderChange,i=e.listId;return Ko.a.createElement("div",{className:r.photosViewHeader,"data-test-id":"photos-header"},Ko.a.createElement("header",{className:r.photosViewTitle},s(NR.photos)),Ko.a.createElement("div",{className:r.sortMenuContainer},Ko.a.createElement(nI,{currentSortOrder:n,availableSortOrders:a,onClick:(e,t)=>{o({listId:i,sortOrder:t,i13nModel:{interactionType:Object(Ps.getInteractionFromEvent)(e)}})},tabIndex:di.Lb.MESSAGE_LIST_TOOLBAR})))};MR.contextTypes={getCss:Vo.a.func,intl:$o.intlShape,getThemeMode:Vo.a.func};var yR=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e).getAvailableSortOrders;return{currentSortOrder:Object(Hi.L)(t.listId),availableSortOrders:s()}},e=>({onSortOrderChange:t=>e(dI(t))}),void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&t_()(e.availableSortOrders,t.availableSortOrders)})(MR),LR=s(609),PR=s(833),vR=s.n(PR),FR=s(834),UR=s.n(FR);const wR=({selectionCount:e},{intl:t,getCss:s})=>{const r=s(UR.a);return Ko.a.createElement("div",{className:r.container,"data-test-id":"selection-count","data-test-count":e},Ko.a.createElement("div",{className:r.wrapper},Ko.a.createElement("div",{className:r.svgWrapper},Ko.a.createElement(mI.a,{kind:pI.a.SELECTED_MESSAGES,width:pI.b,height:pI.b,altText:" "})),e>0&&Ko.a.createElement("div",{className:r.countWrapper},Ko.a.createElement("span",{className:r.count,"data-test-id":"selection-count-node"},t.formatNumber(e)))))};wR.contextTypes={intl:$o.intlShape,getCss:Vo.a.func};var GR=Object(qo.connect)((e,{listId:t})=>({selectionCount:(0,Object(wi.selectors)(e).getNumberOfSelectedItemsInList)(t)}))(wR);class HR extends Ko.a.Component{shouldComponentUpdate(e){return!e.skipRendering}render(){const e=this.props,t=e.numberOfMessageSelection,s=e.openedGroupId,r=e.csid,n=this.context.getCss(vR.a);return 0===t&&(s||r)?Ko.a.createElement("div",{className:n.messageView},Ko.a.createElement(sT,zo()({},this.props,{hasToolbar:!1,openedMessageId:s,csid:r,widthChanged:0}))):Ko.a.createElement("div",{className:n.blank},Ko.a.createElement(GR,{listId:this.props.listId}))}}o()(HR,"contextTypes",{getCss:Vo.a.func});var jR=Object(qo.connect)((e,{streamId:t})=>{const s=Object(wi.selectors)(e),r=s.doesStreamExist,n=s.getSelectedStreamItems,a=s.isSingleDraftGroup,o=s.doesMessageGroupIdExist,i=s.getCsidForSingleDraftGroup,c=s.getCursorItem,l=s.getAction,d=r(t)?c(t):{},E=d?d.id:void 0,_=r(t)?n(t).length:0,u=!!o(E)&&a(E),p=l().type;return{skipRendering:p===sc.STREAM_CURSOR_MOVED||p===sc.ITEM_LIST_PAGE_SCROLLED,numberOfMessageSelection:_,openedGroupId:E,csid:u?i(E):void 0}},null)(HR),kR=s(835),xR=s.n(kR);const BR=Object($o.defineMessages)({heading:{id:"receipt_header.heading",defaultMessage:"Receipts from email"}});class VR extends Ko.a.Component{render(){const e=this.context.intl.formatMessage,t=this.context.getThemeMode(),s=Ti()(xR.a,{themeMode:t}),r=e(BR.heading);return Ko.a.createElement("div",null,Ko.a.createElement("div",{className:s.heading,"data-test-id":"receipt-heading","aria-label":r,title:r},r))}}o()(VR,"contextTypes",{intl:$o.intlShape.isRequired,getThemeMode:Vo.a.func});var WR=VR,KR=s(836),qR=s.n(KR),YR=s(105),zR=s(93);const QR="view_more",ZR="view_less",XR="view_all_btn",$R="view_less_btn",JR=Object($o.defineMessages)({deal_separator_recommended:{id:"deal_separator_recommended",defaultMessage:"Deals for you"},viewLess:{id:"card_group.view_less",defaultMessage:"View less"},viewMore:{id:"card_group.view_more_cards",defaultMessage:"View more"}});class eb extends Ko.a.Component{render(){const e=this.props,t=e.toggleExpansion,s=e.isExpanded,r=e.isExpandable,n=this.context.intl.formatMessage,a=this.context.getCss(qR.a),o=Object(ai.n)({context:this.context,includeMedium:!1});return Ko.a.createElement("div",{className:a.container,"data-test-id":"top-deals-header"},Ko.a.createElement("div",{className:a.iconContainer},Ko.a.createElement("span",{className:a.header},n(JR.deal_separator_recommended)),Ko.a.createElement("span",{className:a.partnerAttributionIcon},Ko.a.createElement(ID.a,{isOnDarkBackground:o,size:ti.Sizes.XS}))),Ko.a.createElement("div",{className:a.buttonContainer},r?Ko.a.createElement(mi.a,{marginLess:!0,kind:Si.a.THEMED_LIKE_COMPOSE_BUTTON,onClick:()=>t(s),overridingClass:a.expandButton},n(s?JR.viewLess:JR.viewMore)):null))}}o()(eb,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func,getThemeMode:Vo.a.func});var tb=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getMainContentWidth,r=t.getDealsViewSelectors,n=(0,t.getCouponsSelectors)().getRecommendedDeals,a=r().getDealsViewListExpansion,o=n(),i=s();let c=2;i>1e3?c=3:i<650&&(c=1);const l=Object(zR.d)(o,i/c,i);return{isExpanded:a(),isExpandable:l.length>3}},e=>{const t={featurefamily:C.Cb.IC,slot:Ii.j.COUPON_SMART_VIEW,xpname:C.u.RECOMMENDED_DEALS},s={mKey:Ii.g.CARD_INTERACT,sec:Ii.i.COUPONS_LIST,actionData:t};return{toggleExpansion:r=>{t.interactiontype=r?ZR:QR,t.interacteditem=r?$R:XR,e(Object(YR.i)({i13nModel:s}))}}})(eb),sb=s(837),rb=s.n(sb);const nb=Object($o.defineMessages)({heading:{id:"travel_header.heading",defaultMessage:"Travel"},upcoming:{id:"travel_header.upcoming",defaultMessage:"Upcoming"},upcoming_selected:{id:"travel_header.upcoming_selected",defaultMessage:"Upcoming, selected"},past:{id:"travel_header.past",defaultMessage:"Past"},past_selected:{id:"travel_header.past_selected",defaultMessage:"Past, selected"},emails:{id:"travel.emails",defaultMessage:"Emails"},emails_selected:{id:"travel.emails_selected",defaultMessage:"Emails, selected"}});class ab extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleTabChange",(e,{mKeyType:t,smartViewType:s})=>{const r=Ii.g["FILTER_"+t],n=Object(Ui.x)(s,{accountIds:Object(Hi.g)(this.props.listId)});this.context.navigateTo({route:n,i13nModel:{mKey:r,sec:Ii.i.TRAVEL_LIST,interactionType:Object(Ps.getInteractionFromEvent)(e)}})})}render(){const e=Object(Hi.x)(this.props.listId),t=Object(Hi.w)(this.props.listId),s=this.context.intl.formatMessage,r=this.context.getCss(rb.a);return Ko.a.createElement("div",{className:r.container,"data-test-id":"travel-header"},Ko.a.createElement("div",{className:r.heading,"data-test-id":"travel-heading"},s(nb.heading)),Ko.a.createElement("div",{className:r.tabs},Ko.a.createElement(bA.a,null,Ko.a.createElement(NA.a,{isSelected:e===C.bc.TRAVEL_VIEW_UPCOMING,onClick:e=>this.handleTabChange(e,{mKeyType:C.bc.TRAVEL_VIEW_UPCOMING,smartViewType:C.Ud.TRAVEL}),"data-test-id":"btn-upcoming-tab",title:s(nb.upcoming)}),Ko.a.createElement(NA.a,{isSelected:e===C.bc.TRAVEL_VIEW_PAST,onClick:e=>this.handleTabChange(e,{mKeyType:C.bc.TRAVEL_VIEW_PAST,smartViewType:C.Ud.TRAVEL_PAST}),"data-test-id":"btn-past-tab",title:s(nb.past)}),Ko.a.createElement(NA.a,{isSelected:t===C.ac.MESSAGES,onClick:e=>this.handleTabChange(e,{mKeyType:C.ac.MESSAGES,smartViewType:C.Ud.TRAVEL_EMAILS}),"data-test-id":"btn-emails-tab",title:s(nb.emails)}))))}}o()(ab,"contextTypes",{getCss:Vo.a.func,intl:$o.intlShape.isRequired,navigateTo:Vo.a.func});var ob=ab;const ib=(e,t)=>{const s=e.onClose,r=e.onConfirm,n=t.intl.formatMessage,a={conversations:e.isConversationMode,count:e.count};return Ko.a.createElement(Ju.a,{title:n(Tg.list_delete_title),message:n(Tg.list_perm_delete_message,a),onConfirm:e=>{e.stopPropagation(),e.preventDefault(),r(),s()},onAbort:e=>{e.stopPropagation(),e.preventDefault(),s()}})};ib.contextTypes={intl:$o.intlShape};var cb=Object(qo.connect)((e,{streamId:t})=>{const s=Object(wi.selectors)(e),r=s.doesStreamExist,n=s.getSelectedStreamItems,a=s.getCursorItem,o=r(t)?n(t):[],i=r(t)?a(t):void 0;let c=0;return o.length>0?c=o.length:i&&(c=1),{count:c}},void 0)(ib),lb=s(59);function db(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Eb(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?db(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):db(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const _b=e=>Eb({type:sc.STREAM_CURSOR_MOVED},e,{movement:C.fb.DOWN});function ub(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const pb=e=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ub(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ub(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({type:sc.ITEM_LIST_PAGE_SCROLLED},e);function mb(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Sb(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?mb(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mb(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const hb=e=>Sb({type:sc.ALL_STREAM_ITEMS_SELECTED},e),Cb=e=>(t,s)=>{let r=e.streamItem;const n=e.streamId,a=Object(wi.selectors)(s()),o=a.getCursorItem;if((r||(0,a.doesStreamExist)(n))&&(r||(r=o(n)),r))return t(Sb({},e,{type:sc.STREAM_ITEM_TOGGLED,streamItem:r}))},gb=e=>Sb({type:sc.STREAM_ITEMS_SELECTION_CHANGED},e),Ob=e=>Sb({type:sc.STREAM_SELECT_CURSOR_MOVED},e);var Tb=s(315);function Ab(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ib(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ab(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ab(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const fb=["ctrl+e","meta+e","ctrl+a","meta+a","shift+k","shift+l","shift+v","shift+up","shift+down","shift+e","shift+.","shift+,","ctrl+.","ctrl+,","k","l","e","up","down","enter","space","#","del","backspace","pageup","pagedown",",",".","tab"];var Db=Object(Qo.compose)(Object(qo.connect)((e,{listId:t})=>{const s=Object(wi.selectors)(e),r=s.getListsSelectors,n=s.doesStreamExist,a=s.getMainStreamListIds,o=s.getMainStreamItems,i=s.getSetting,c=s.isFeatureEnabled,l=s.getCursorItem,d=s.getEnvironmentSelectors,E=s.getListItemsWithAds,_=s.getReconciledUnysncedDataByHash,u=s.couldShowEmptyFolderVideo,p=s.getWindowDimensions,m=s.isPermDeleteFolderType,S=s.getBreakingNewsSelectors,h=(0,s.getRoute)(),g=a(h),O=Object(Ep.a)(g),T=Object(Hi.w)(t),A=-1!==[C.ac.TRAVEL_CARDS,C.ac.COUPON_CARDS,C.ac.REFUND_CARDS,C.ac.OFFER_CARDS,C.ac.IMAGES,C.ac.DOCUMENTS,C.ac.SENDERS].indexOf(T),I=o(h),f=E(h,I),D=r(),R=D.hasMoreItems,b=D.getListStatus,N=D.doesListExist,M=g.reduce((e,t)=>N(t)?e===C.od.LOADING||e===C.od.ERROR?e:b(t):C.od.LOADING,C.od.DOES_NOT_EXIST),y=c(C.Eb.CONVERSATIONS),L=n(O)?l(O):void 0,P=h.name===C.rd.SEARCH,v=g.some(e=>N(e)&&R(e)),F=Object(Hi.P)(t),U=p().innerHeight,w=i(C.Kd.LIST_ITEM_HEIGHT,{contentType:T}),G=Object(Hi.q)(t),H=c(C.Eb.BREAKING_NEWS_ENABLED),j=S().getNewsArticle(),k=i(C.Kd.BREAKING_NEWS_REFRESH_INTERVAL);return{status:M,route:h,listId:t,streamId:O,cursorItem:L,timeZone:d().getTimeZoneName(),items:f,hasMoreItems:v&&I.length>0,listenKeys:fb,previewpane:i(C.Kd.PREVIEW_PANE),itemListPageThreshold:i(C.Kd.ITEM_LIST_PAGE_THRESHOLD),previewpaneInPixels:c(C.Eb.PREVIEW_PANE_IN_PIXELS),previewpaneCookie:c(C.Eb.PREVIEW_PANE_COOKIE),previewpanePositionsFromServer:i("previewpanePositionsFromServer"),highlightSearchTerm:!(!P||F)&&Object(Hi.h)(t).keyword,hideToolbar:A,showSearchHeader:P&&!F,showListFilter:P&&!F&&!!Object(Hi.n)(t),isConversationMode:y,isRTL:"rtl"===d().getPageDirection(),dealsView:c(C.Eb.DEALS),msgListDensity:i(C.Kd.MSG_LIST_DENSITY),preservedState:_(Object(Hi.eb)(t)),messageBuffer:i(C.Kd.V3_LIST_MESSAGE_BUFFER),numOfPlaceHolder:i(C.Kd.V3_LIST_NUM_OF_PLACEHOLDER),oppositeBufferSize:i(C.Kd.V3_OPPOSITE_BUFFER),showEmptyFolderVideo:u(),bulkActionDialogThreshold:i(C.Kd.BULK_ACTION_DIALOG_THRESHOLD),windowClientHeight:U,mainItemHeight:w,permanentDelete:!!G&&m(G),isBreakingNewsEnabled:H,newsArticle:j,newsRefreshInterval:k,isCouponEmails:c(C.Eb.DEALS_VIEW_FOR_INTLS)}},void 0,void 0,{areStatePropsEqual:(e,t)=>e.streamId===t.streamId&&t_()(e.items,t.items)&&e.status===t.status&&e.previewpane===t.previewpane&&e.windowClientHeight===t.windowClientHeight&&e.isBreakingNewsEnabled===t.isBreakingNewsEnabled&&t_()(e.newsArticle,t.newsArticle)}),Object(qo.connect)(void 0,e=>({actions:{[C.ac.MESSAGES]:{openLinkModal:t=>e(Object(lb.p)(t)),onSelectionChange:t=>e(Cb(t)),onRangeSelected:t=>e((e=>Sb({type:sc.STREAM_ITEMS_RANGE_SELECTED},e))(t)),onDelete:t=>e(Object(Og.a)(t)),onStarChange:t=>e(BO(t)),onReadChange:t=>e(GO(t)),onOpenMessage:t=>e(Object(Kh.l)(t)),navigateToSearch:t=>e(Object(oi.k)(t))},[C.ac.TRAVEL_CARDS]:{},[C.ac.COUPON_CARDS]:{},TOOLBAR:{onSortOrderChange:t=>e(dI(t)),onMove:t=>e(Object(gg.d)(t)),onArchive:t=>e(Object(gg.a)(t)),moveToInbox:t=>e(Object(gg.e)(t)),onDelete:t=>e(Object(Og.a)(t)),onSpam:t=>e(Object(gg.f)(t)),onReplyForward:t=>e(Object(Kh.s)(t)),onClosePreviewMessage:t=>e(Object(oi.d)(t)),onChangeAllMessageCardExpansion:t=>e(Object(Kh.a)(t)),onClosePage:t=>e(Object(oi.c)(t)),moreMenuActions:{onRead:t=>e(UO(t)),onUnread:t=>e(wO(t)),onStar:t=>e(kO(t)),onUnstar:t=>e(xO(t)),onPrint:t=>e(Object(Kh.r)(t)),moveToInbox:t=>e(Object(gg.e)(t)),viewRawMessage:t=>e(Object(oi.s)(t))},selectionActions:{onSelectAll:t=>e(hb({streamId:t})),onSelectNone:t=>e((e=>Sb({type:sc.STREAM_ITEMS_SELECTION_CLEARED},e))({streamId:t})),onSelectAllRead:t=>e(gb({streamId:t,selectionType:C.Hd.READ})),onSelectAllUnread:t=>e(gb({streamId:t,selectionType:C.Hd.UNREAD})),onSelectAllStarred:t=>e(gb({streamId:t,selectionType:C.Hd.STARRED})),onSelectAllUnstarred:t=>e(gb({streamId:t,selectionType:C.Hd.UNSTARRED}))}}},checkMail:()=>e(Object(oi.r)(Ib({forceSync:!0},sD(null,qC)))),onNavigateToRoute:t=>e(Object(oi.j)(t)),onPageScrolled:t=>e(pb({listId:t})),loadMoreItems:t=>e(Object(kg.a)(t)),onKeyDown:(t,s,r)=>{const n=t.which||t.keyCode||-1,a=String.fromCharCode(n).toLowerCase(),o=Object(Hi.w)(r);switch(a){case Fi.a.KEYA:(t.metaKey||t.ctrlKey)&&e(hb({streamId:s}));break;case Fi.a.KEYE:e(t.shiftKey?Object(gg.e)(Ib({streamId:s},sD(t,BC))):Object(gg.a)(Ib({streamId:s},sD(t,xC))));break;case Fi.a.KEYK:e(t.shiftKey?UO(Ib({streamId:s},sD(t,wC))):wO(Ib({streamId:s},sD(t,GC))));break;case Fi.a.KEYL:e(t.shiftKey?xO(Ib({streamId:s},sD(t,jC))):kO(Ib({streamId:s},sD(t,HC))));break;case Fi.a.KEYV:t.shiftKey&&o===C.ac.MESSAGES&&e(Object(Fu.e)(Ib({},sD(t,YC))));break;default:switch(n){case Fi.b.UP:case Fi.b.COMMA:case Fi.b.FF_COMMA:e(t.shiftKey?Ob({streamId:s,movement:C.fb.UP}):(e=>Eb({type:sc.STREAM_CURSOR_MOVED},e,{movement:C.fb.UP}))({streamId:s}));break;case Fi.b.DOWN:case Fi.b.PERIOD:e(t.shiftKey?Ob({streamId:s,movement:C.fb.DOWN}):_b({streamId:s}));break;case Fi.b.SPACE:e(Cb({streamId:s}));break;case Fi.b.DELETE:case Fi.b.BACKSPACE:case Fi.b.HASHTAG:e(t.key===Fi.a.PERIOD?_b({streamId:s}):Object(Og.a)(Ib({streamId:s},sD(t,kC))));break;case Fi.b.ENTER:{let r=VC;switch(o){case C.ac.MESSAGES:r=VC;break;case C.ac.IMAGES:r=WC;break;case C.ac.DOCUMENTS:r=KC}e(Object(oi.m)(Ib({streamId:s},sD(t,r))))}}}},onDragStart:t=>e(Object(gg.c)(t)),syncUnsyncedData:()=>e(Object(oi.r)()),moveToFirstItem:t=>e(_b({streamId:t})),onContextMenu:t=>e((e=>{const t=e.messageGroupId,s=e.listId,r=e.isV2Action,n=e.messageGroupIds;return{type:sc.STREAM_CONTEXT_MENU,messageGroupId:t,i13nModel:e.i13nModel,listId:s,streamId:e.streamId,streamItem:{id:t,listId:s},isV2Action:void 0!==r&&r,messageGroupIds:void 0===n?[]:n}})(t)),onContextMenuShown:t=>e((({i13nModel:e})=>({type:sc.STREAM_CONTEXT_MENU_SHOWN,i13nModel:e}))(t)),onBreakingNewsDismissed:t=>e(Object(Tb.b)(t)),onBreakingNewsRefresh:t=>e(Object(Tb.c)(t)),onBreakingNewsClicked:t=>e(Object(Tb.a)(t)),onBreakingNewsRendered:t=>e(Object(Tb.d)(t))}))),Rb=s(838),bb=s.n(Rb),Nb=s(839),Mb=s.n(Nb);class yb extends Wo.Component{constructor(e,{getCss:t}){super(e),o()(this,"renderSenders",e=>{const t=this.props;return this.props.senders.length?Ko.a.createElement(Ug,{isRead:!t.unreadCount,senders:t.senders,myAddresses:t.myAddresses,onClick:()=>{},layoutClassNames:e}):null}),o()(this,"renderDate",e=>Ko.a.createElement("time",{className:e.dateWrapper+" date",style:this.isHovered()?{display:"none"}:{},role:"gridcell"},Ko.a.createElement(AI.a,{"data-test-id":"date-time-label",date:new Date(this.props.timestamp)}))),o()(this,"renderMessageCount",e=>Ko.a.createElement(mf,{layoutClassNames:e,count:this.props.totalCount,roundUpCounts:!0})),o()(this,"renderSubject",e=>Ko.a.createElement(of,{subject:this.props.subject||"",layoutClassNames:e})),o()(this,"renderAvatar",()=>this.props.senders.length?Ko.a.createElement("div",{style:{padding:"8px"}},this.props.type===C.Id.SENDER?Ko.a.createElement(DT.c,{contact:{email:this.props.senders[0].email},size:DT.b.C}):Ko.a.createElement("div",{className:this.classNames.conversationIcon},Ko.a.createElement(ei.b,{kind:ti.Kinds.PEOPLE,size:ti.Sizes.XS,colorState:ti.ColorStates.INVERTED}))):null),o()(this,"onReadIconClick",e=>{e.stopPropagation(),e.preventDefault()}),o()(this,"renderReadIcon",e=>{const t=this.context.getThemeMode()===C.ve.DARK;return Ko.a.createElement(bI,{isHovered:this.isHovered(),isRead:!this.props.unreadCount,isDarkThemeMode:t,onClick:this.onReadIconClick,layoutClassNames:e})}),o()(this,"onTrashIconClick",e=>{e.stopPropagation(),e.preventDefault()}),o()(this,"renderTrashIcon",()=>{const e=this.context.getThemeMode()===C.ve.DARK;return Ko.a.createElement(tf,{isHovered:this.isHovered(),isCompact:!1,isDarkThemeMode:e,onClick:this.onTrashIconClick})}),o()(this,"onMouseOver",()=>{this.state.hover||this.props.isScrolling()||this.setState({hover:!0})}),o()(this,"onMouseLeave",()=>{this.state.hover&&this.setState({hover:!1})}),o()(this,"isHovered",()=>this.state.hover&&!this.props.isScrolling()),o()(this,"getRouteToNavigate",()=>{const e=this.props,t=e.listId,s=e.id,r=e.senders;return e.type===C.Id.CONV?Object(Ui.p)(t,s):Object(Ui.x)(C.Ud.SENDER_ROLLUP,{emailAddresses:r[0].email,name:r[0].name||r[0].email,folders:Object(Hi.q)(t)})}),o()(this,"handleClick",e=>{e.preventDefault();const t=this.props,s=t.listId,r=t.id,n=t.type,a=t.navigateTo,o=t.onSenderSearch,i=this.getRouteToNavigate();n===C.Id.CONV?a({route:i,streamItem:{listId:s,id:r}}):o({route:i})}),this.classNames=t(Mb.a,{isRead:!e.unreadCount}),this.state={hover:!1}}render(){const e=this.classNames,t=this.getRouteToNavigate();return Ko.a.createElement("a",{role:"row",className:e.link,"data-test-id":"message-list-item",href:this.context.getUrlFromRoute(t),onClick:this.handleClick,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,rel:"noopener"},Ko.a.createElement("div",{className:e.container+" message-list-item"},Ko.a.createElement("div",{className:e.gridB1},this.renderAvatar(),this.renderSenders(e)),this.renderReadIcon(e),Ko.a.createElement("div",{className:e.gridB2},Ko.a.createElement("div",{className:e.message},Ko.a.createElement("div",{className:e.subjectContainer},this.renderSubject(e),this.renderMessageCount(e))),Ko.a.createElement("div",{className:e.iconB2,role:"gridcell"},this.renderDate(e),this.renderTrashIcon()))))}}yb.contextTypes={getCss:Vo.a.func,getThemeMode:Vo.a.func,getUrlFromRoute:Vo.a.func.isRequired};var Lb=Object(qo.connect)(void 0,e=>({onSenderSearch:t=>e(Object(oi.k)(t))}))(yb),Pb=s(840),vb=s.n(Pb);const Fb=Object($o.defineMessages)({sender_rollup_header:{id:"sender_rollup_header.label",defaultMessage:"Emails by sender"}}),Ub=(e,t)=>{const s=t.intl.formatMessage,r=(0,t.getCss)(vb.a,{themeMode:(0,t.getThemeMode)()}),n=e.currentSortOrder,a=e.availableSortOrders,o=e.onSortOrderChange,i=e.onSenderViewBack,c=e.listId,l=Object(Hi.B)(c),d=Object(Hi.w)(c),E=d===C.ac.SENDERS;return Ko.a.createElement("div",{className:r.senderRollupHeader},d===C.ac.MESSAGES&&Ko.a.createElement(Ko.a.Fragment,null,Ko.a.createElement("div",{className:r.senderBackContainer},Ko.a.createElement(Kg.a,{onClick:e=>{e.preventDefault(),i({listId:c})}})),l&&Ko.a.createElement("div",{className:r.senderRollupTitle,"data-test-id":"sender-rollup-sender"},Ko.a.createElement($o.FormattedHTMLMessage,{id:"emails_from",defaultMessage:"Emails from {name}",values:{name:l}}))),E&&Ko.a.createElement(Ko.a.Fragment,null,Ko.a.createElement("header",{className:r.senderRollupTitle},s(Fb.sender_rollup_header)),Ko.a.createElement("div",{className:r.senderSortMenuContainer},Ko.a.createElement(nI,{currentSortOrder:n,availableSortOrders:a,onClick:(e,t)=>{o({listId:c,sortOrder:t,i13nModel:{interactionType:Object(Ps.getInteractionFromEvent)(e)}})},tabIndex:di.Lb.MESSAGE_LIST_TOOLBAR}))))};Ub.contextTypes={getCss:Vo.a.func,intl:$o.intlShape,getThemeMode:Vo.a.func};var wb=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e).getAvailableSortOrders;return{currentSortOrder:Object(Hi.L)(t.listId),availableSortOrders:s()}},e=>({onSortOrderChange:t=>e(dI(t)),onSenderViewBack:t=>{e(Object(oi.l)(t))}}),void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&t_()(e.availableSortOrders,t.availableSortOrders)})(Ub),Gb=s(650),Hb=s(843),jb=s.n(Hb);function kb(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function xb(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?kb(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kb(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Bb=Object($o.defineMessages)({messages_aria_label:{id:"search.messages_aria_label",defaultMessage:"Messages, selected"},images_aria_label:{id:"search.images_aria_label",defaultMessage:"Images, selected"},documents_aria_label:{id:"search.documents_aria_label",defaultMessage:"Documents, selected"},content_filter_messages:{id:"search.content_filter_messages",defaultMessage:"Messages"},content_filter_images:{id:"photos_label",defaultMessage:"Photos"},content_filter_files:{id:"search.content_filter_files",defaultMessage:"Files"},attachments_filter_ALL:{id:"attachments_filter_ALL",defaultMessage:"All messages"},attachments_filter_SENT:{id:"attachments_filter_SENT",defaultMessage:"Sent"},attachments_filter_RECEIVED:{id:"attachments_filter_RECEIVED",defaultMessage:"Received"},attachments_filter_STARRED:{id:"attachments_filter_STARRED",defaultMessage:"Starred"},attachments_filter_ALL_FILES:{id:"attachments_filter_ALL_FILES",defaultMessage:"All file types"},attachments_filter_PDF:{id:"attachments_filter_PDF",defaultMessage:"PDF"},attachments_filter_WORD_DOCUMENT:{id:"attachments_filter_WORD_DOCUMENT",defaultMessage:"Word document"},attachments_filter_SPREADSHEET:{id:"attachments_filter_SPREADSHEET",defaultMessage:"Spreadsheet"},attachments_filter_PRESENTATION:{id:"attachments_filter_PRESENTATION",defaultMessage:"Presentation"},attachments_filter_AUDIO:{id:"attachments_filter_AUDIO",defaultMessage:"Audio"},attachments_filter_VIDEO:{id:"attachments_filter_VIDEO",defaultMessage:"Video"}}),Vb="ALL",Wb="ALL_FILES",Kb={[Vb]:"",["SENT"]:"has:attachment in:sent",["RECEIVED"]:"has:attachment in:inbox",["STARRED"]:"has:attachment is:flagged"},qb={[Wb]:"",["PDF"]:F.d.PDF,["WORD_DOCUMENT"]:F.d.WORD_DOCUMENT,["SPREADSHEET"]:F.d.SPREADSHEET,["PRESENTATION"]:F.d.PRESENTATION,["AUDIO"]:F.d.AUDIO,["VIDEO"]:F.d.VIDEO};class Yb extends Wo.Component{constructor(e,{getCss:t}){super(e),o()(this,"getCategoryFilterOverrides",()=>{const e=this.state.activeCategoryFilter;return e?Kb[e]:""}),o()(this,"handleFilterChange",()=>{const e=this.state,t=e.activeListContentType,s=e.activeMimeType,r={mKey:Ii.g["ATTACHMENT_VIEW_"+t],sec:Ii.i.ATTACHMENT_VIEW,mKeyGroup:Ii.h.listing,actionData:{activeCategoryFilter:e.activeCategoryFilter,activeMimeType:s},interactionType:Ii.e.view},n={listContentType:t,keyword:this.getCategoryFilterOverrides(),mimeType:qb[s]},a={name:C.rd.SEARCH,params:{query:Object(Hi.ib)(Object(Hi.gb)(this.props.listId,xb({},n)))}};this.props.onFilterChange({route:a,i13nModel:r})}),o()(this,"handleContentTypeChange",(e,t)=>{e.persist(),this.setState({activeListContentType:t,activeMimeType:Wb},()=>{this.handleFilterChange(e)})}),o()(this,"handleCategoryFilterChange",(e,t)=>{t.persist(),this.setState({activeCategoryFilter:e},()=>{this.handleFilterChange(t)})}),o()(this,"handleMimeTypeChange",(e,t)=>{t.persist(),this.setState({activeMimeType:e},()=>{this.handleFilterChange(t)})}),o()(this,"renderContentTypeFilter",()=>{const e=Object(Hi.w)(this.props.listId),t=this.context.intl.formatMessage,s=e===C.ac.MESSAGES,r=e===C.ac.IMAGES;return Ko.a.createElement(bA.a,null,Ko.a.createElement(NA.a,{isSelected:e===C.ac.DOCUMENTS,onClick:e=>this.handleContentTypeChange(e,C.ac.DOCUMENTS),"data-test-id":"btn-files-tab",title:t(Bb.content_filter_files)}),Ko.a.createElement(NA.a,{isSelected:r,onClick:e=>this.handleContentTypeChange(e,C.ac.IMAGES),"data-test-id":"btn-photos-tab",title:t(Bb.content_filter_images)}),Ko.a.createElement(NA.a,{isSelected:s,onClick:e=>this.handleContentTypeChange(e,C.ac.MESSAGES),"data-test-id":"btn-messages-tab",title:t(Bb.content_filter_messages)}))}),o()(this,"renderFilterMenu",(e,t,s)=>{const r=this.classNames,n=this.context.intl.formatMessage,a=Object.keys(e).map(e=>Ko.a.createElement(Bu.a,{name:"attachments-filter-"+e,key:e},Ko.a.createElement(mi.a,{kind:Si.a.MENUITEM,onClick:t=>s(e,t)},t===e?Ko.a.createElement("span",{className:r.checkIcon},Ko.a.createElement(ei.b,{kind:ti.Kinds.CHECKMARK,size:ti.Sizes.XS,colorState:ti.ColorStates.NORMAL})):null,Ko.a.createElement("span",{className:r.filterOption},n(Bb["attachments_filter_"+e])))));return Ko.a.createElement("div",{className:r.filterMenuContainer},Ko.a.createElement(_i.a,null,Ko.a.createElement(ui.a,null,Ko.a.createElement("div",{className:r.filterMenu},Ko.a.createElement("span",{className:r.selectedFilter},n(Bb["attachments_filter_"+t])),Ko.a.createElement(Jo.default,{title:n(Bb["attachments_filter_"+t]),"data-iskeynav":!0,paddingLess:!0,kind:ti.Kinds.CHEVRON_UP,colorState:ti.ColorStates.INHERITED,size:ti.Sizes.XS,rotate:ti.Rotate.D180}))),Ko.a.createElement(Ei.b,{triggerOn:pi.i.CLICK,isArrowVisible:!0},Ko.a.createElement("div",null,Ko.a.createElement(hi.a,{focusOnMount:!0},a)))))});const s=e.listId,r=this.getActiveMimeType(s),n=Object(Hi.w)(s),a=this.getActiveCategoryFilter(s);this.state={activeListContentType:n,activeMimeType:r,activeCategoryFilter:a},this.classNames=t(jb.a)}getActiveCategoryFilter(e){const t=Object(Hi.v)(e);return Object.keys(Kb).find(e=>t===Kb[e])||Vb}getActiveMimeType(e){const t=Object(Hi.D)(e);return t&&Object.values(qb).indexOf(t)>-1?t:Wb}render(){const e=this.state,t=e.activeListContentType,s=e.activeCategoryFilter,r=e.activeMimeType,n=this.classNames;return Ko.a.createElement("div",null,Ko.a.createElement("div",{className:n.heading},(0,this.context.intl.formatMessage)(ki.a.smart_view_ATTACHMENTS),Ko.a.createElement("div",{className:n.filtersContainer},this.renderFilterMenu(Kb,s,this.handleCategoryFilterChange),t===C.ac.DOCUMENTS&&this.renderFilterMenu(qb,r,this.handleMimeTypeChange))),Ko.a.createElement("div",{className:n.listContentTypeControls},this.renderContentTypeFilter()))}}Yb.contextTypes={getCss:Vo.a.func,getThemeMode:Vo.a.func,intl:$o.intlShape.isRequired};var zb=Object(qo.connect)(null,e=>({onFilterChange:t=>e(Object(oi.k)(t))}))(Yb),Qb=s(844),Zb=s.n(Qb),Xb=s(479),$b=s(169);var Jb=Object(qo.connect)((e,{listId:t})=>{const s=Object(wi.selectors)(e).getSetting,r=Object(Hi.i)(t);let n="";if(e[$b.key]){const t=((0,Object($b.selectors)(e[$b.key]).getBrandInfo)(r)||{}).name;n=void 0===t?"":t}return{themeMode:s(C.Kd.THEME_MODE),brandName:n}})(({themeMode:e,listId:t,brandName:s=""})=>{const r=Ti()(Zb.a,{themeMode:e}),n=Object(Hi.g)(t);return Ko.a.createElement("div",{className:r.container},Ko.a.createElement(Xb.a,{className:r.linkBack,route:Object(Ui.A)(Array.isArray(n)?n[0]:n),i13nModel:{mKey:Ii.g.TOOLBAR_BACK_TO_LIST,sec:Ii.i.SUBSCRIPTIONS_VIEW}},Ko.a.createElement(ei.b,{kind:ti.Kinds.ARROW_UP,size:ti.Sizes.XS,rotate:ti.Rotate.D270,colorState:e===C.ve.DARK?ti.ColorStates.INVERTED_LESS_DIM:ti.ColorStates.NORMAL}),Ko.a.createElement("span",{className:r.linkBackLabel},Ko.a.createElement($o.FormattedMessage,{id:"back_to_list_btn_title",defaultMessage:"Back"}))),s&&Ko.a.createElement("div",{className:r.title},Ko.a.createElement($o.FormattedHTMLMessage,{id:"emails_from",defaultMessage:"Emails from {name}",values:{name:s}})))});function eN(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function tN(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?eN(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eN(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const sN=()=>{},rN=e=>{e.stopPropagation(),e.preventDefault()},nN=e=>t=>Object(Hi.w)(t)===e,aN=nN(C.ac.TRAVEL_CARDS),oN=nN(C.ac.REFUND_CARDS),iN=Object($o.defineMessages)({list_scroll_to_top:{id:"list.scroll_to_top_button_title",defaultMessage:"Scroll to top"}}),cN=[Fi.b.UP,Fi.b.DOWN,Fi.b.TAB,Fi.b.COMMA,Fi.b.FF_COMMA,Fi.b.PERIOD,Fi.b.SPACE,Fi.b.ENTER];class lN extends Ko.a.Component{constructor(e){super(e),o()(this,"_readPreviewPaneSetting",e=>{if(!this.props.previewpaneInPixels)return null;const t=e===C.ed.RIGHT;if(Object(I.c)()){const e=new dT({window:window});return e.getClientParam(t?C.fd.H_SLIDER_POS_V2:C.fd.V_SLIDER_POS_V2)}return t?this.props.previewpanePositionsFromServer[C.fd.H_SLIDER_POS_V2]:this.props.previewpanePositionsFromServer[C.fd.V_SLIDER_POS_V2]}),o()(this,"handleDragStart",(e,t)=>{const s=this.props,r=s.listId,n=s.streamId;(0,s.onDragStart)({streamId:n,streamItem:{id:e,listId:r},listId:r,messageGroupIds:[e]}),Object(I.j)()?(this.dragIcon||(this.dragIcon=document.createElement("div"),Object(I.i)(this.dragIcon),document.body.appendChild(this.dragIcon)),this.renderDragIcon(n),t.dataTransfer.setDragImage(this.dragIcon,-10,-10)):(t.target.style.maxWidth="1px",t.target.style.height="1px",this.restoreTargetStyle(t.target)),t.dataTransfer.setData("text/list",JSON.stringify({listId:r})),t.dataTransfer.effectAllowed="move"}),o()(this,"handleDragEnd",()=>{this.removeDragIcon()}),o()(this,"renderDragIcon",e=>{Xo.a.render(Ko.a.createElement(qo.Provider,{store:this.context.store},Ko.a.createElement(CA,{formatNumber:this.context.intl.formatNumber,streamId:e})),this.dragIcon)}),o()(this,"removeDragIcon",()=>{this.dragIcon&&(Xo.a.unmountComponentAtNode(this.dragIcon),document.body.removeChild(this.dragIcon),this.dragIcon=null)}),o()(this,"restoreTargetStyle",e=>{setTimeout(()=>{e.style.maxWidth="",e.style.height=""},0)}),o()(this,"_createBreakingNewsRefreshTimer",()=>{this.breakingNewsRefreshTimer=setTimeout(()=>{this.props.onBreakingNewsRefresh(),this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=null),this._createBreakingNewsRefreshTimer()},this.props.newsRefreshInterval)}),this.handleShortcuts=this.handleShortcuts.bind(this),this.handleLoadMoreItems=this.handleLoadMoreItems.bind(this),this.getItemHeight=this.getItemHeight.bind(this),this.formatItem=this.formatItem.bind(this),this.formatPlaceHolder=this.formatPlaceHolder.bind(this),this.navigateTo=this.navigateTo.bind(this),this.handleListFilterChange=this.handleListFilterChange.bind(this),this.renderVirtualList=this.renderVirtualList.bind(this),this.renderPreviewPane=this.renderPreviewPane.bind(this),this.renderResizer=this.renderResizer.bind(this),this.handleSlide=this.handleSlide.bind(this),this.onScrollTop=this.onScrollTop.bind(this),this.forceScrollToTop=this.forceScrollToTop.bind(this),this.onScroll=this.onScroll.bind(this),this.onPageDown=this.onPageDown.bind(this),this.onPageUp=this.onPageUp.bind(this),this.onScrollTopChange=this.onScrollTopChange.bind(this),this.getUIState=this.getUIState.bind(this),this.setStickyTimechunkRef=this.setStickyTimechunkRef.bind(this),this.onVirtualListRenderCompleted=this.onVirtualListRenderCompleted.bind(this),this.reversedTimeChunkIndices=[],this.renderMessageScrollToTopElement=this.renderMessageScrollToTopElement.bind(this),this.pencilAdNodes={},this.scrollTop=0,this.state={hSliderPos:this._readPreviewPaneSetting(C.ed.RIGHT)||di.ob,vSliderPos:this._readPreviewPaneSetting(C.ed.BOTTOM)||di.pb,size:0,stickyTimechunkMounted:!1},this.stickyTimeChunkIndex=void 0,this.useLocalScrollTop=!1,this.recalculateVirtualListClientHeight=!1,this.itemStartIndex=0,this.itemEndIndex=0,this.cursorOutBound=!1,this.breakingNewsScrollAway=!1,this.breakingNewsRendered=!1}getSavedScrollTop(){return this.useLocalScrollTop?(this.useLocalScrollTop=!1,this.scrollTop):(this.scrollTop=this.props.preservedState&&this.props.preservedState.uiState?this.props.preservedState.uiState.scrollTop:0,this.scrollTop)}buildTimeChunkIndices(){const e=[];this.props.items.forEach((t,s)=>{Object(Hi.w)(t.listId)===C.ac.TIMECHUNK&&e.push(s)}),e.reverse(),this.reversedTimeChunkIndices=e}componentDidMount(){this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts),this.buildTimeChunkIndices(),this.lastPageScrollTop=0,this.debouncedScrollTopChange=Zm()(this.onScrollTopChange,200),this.props.items.length&&this.updateStickyHeader(0)}componentWillUnmount(){this.context.unbindShortcut(this.props.listenKeys),clearTimeout(this.stickyHeaderUpdateTimer),clearTimeout(this._previewMessageSyncTimer),this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=null)}componentDidUpdate(e,t){if(this.buildTimeChunkIndices(),0!==this.props.items.length&&0!==this.reversedTimeChunkIndices.length||this.updateStickyHeader(-1),e.windowClientHeight!==this.props.windowClientHeight||e.previewpane!==this.props.previewpane||e.msgListDensity!==this.props.msgListDensity||this.props.previewpane===C.ed.BOTTOM&&this.state.vSliderPos!==t.vSliderPos){if(e.msgListDensity!==this.props.msgListDensity){const t=Math.floor(this.scrollTop/e.mainItemHeight);this.scrollTop=t*this.props.mainItemHeight}this.recalculateVirtualListClientHeight=!0,this.useLocalScrollTop=!0,this.forceUpdate()}else this.recalculateVirtualListClientHeight=!1}UNSAFE_componentWillReceiveProps(e){e.streamId!==this.props.streamId&&(this.cursorOutBound=!1,this.itemStartIndex=0,this.itemEndIndex=0,this.hasShadow=!1,this.stickyTimeChunkIndex=void 0,this.breakingNewsScrollAway=!1,this.breakingNewsRendered=!1,this.scrollTop=0),e.newsArticle.title&&e.newsArticle.title!==this.props.newsArticle.title&&(this.breakingNewsScrollAway=!1,this.breakingNewsRendered=!1)}handleShortcuts(e){const t=e.which||e.keyCode||-1,s=this.props,r=s.previewpane,n=s.syncUnsyncedData,a=s.streamId,o=s.listId,i=s.permanentDelete;if(-1===cN.indexOf(t)||this.container.contains(e.target)||e.target.contains(this.container))if(t!==Fi.b.TAB){if(rN(e),t===Fi.b.UP||t===Fi.b.DOWN){const e=this.context.store.getState().streams[a];if(r!==C.ed.NO&&(clearTimeout(this._previewMessageSyncTimer),this._previewMessageSyncTimer=setTimeout(()=>{n()},C.qc)),e&&e.cursor){const s=this.props.items,r=e.cursor.index;(t===Fi.b.UP&&0!==r&&r<=this.itemStartIndex||t===Fi.b.DOWN&&r!==s.length-1&&r>=this.itemEndIndex)&&(this.cursorOutBound=!0)}}if(t===Fi.b.PAGE_UP&&this.onPageUp(),t===Fi.b.PAGE_DOWN&&this.onPageDown(),t!==Fi.b.DELETE&&t!==Fi.b.BACKSPACE&&t!==Fi.b.HASHTAG||!i)this.props.onKeyDown(e,a,o);else{const t=this.props.isConversationMode;Object(lh.a)(Ko.a.createElement(cb,{streamId:a,listId:o,isConversationMode:t,onConfirm:()=>this.props.onKeyDown(e,a,o),onClose:()=>{}}),this.context)}}else{const t=Object(Hi.w)(o),s=this.context.store.getState().streams[a];s&&s.cursor||t!==C.ac.MESSAGES&&t!==C.ac.DOCUMENTS&&t!==C.ac.IMAGES||e.srcElement.tabIndex!==di.Lb.MESSAGE_LIST_TOOLBAR||(this.props.moveToFirstItem(a),rN(e))}}handleLoadMoreItems(){const e=this.props;return!!e.hasMoreItems&&((0,e.loadMoreItems)({listId:e.listId,streamId:e.streamId}),!0)}navigateTo(){const e=this.props;(0,e.onNavigateToRoute)(tN({streamId:e.streamId,streamItem:e.cursorItem},Object.assign.apply({},arguments)))}formatTimeChunk({index:e,scrollable:t,shadow:s,isUpdateSticky:r}){if(t&&0===e)return null;const n={},a=this.props,o=a.items,i=a.timeZone;return o[e]&&Object(Hi.w)(o[e].listId)===C.ac.TIMECHUNK?(n.leftPadded=!t,n.shadow=s,aN(this.props.listId)&&(n.fixedInTravelCard=!t,n.leftPadded=!1),oN(this.props.listId)&&r&&(n.leftPadded=!1,n.stickyTimechunk=!0),Ko.a.createElement(MD,{style:n,timeZone:i,context:this.context,type:o[e].type,value:o[e].value})):null}formatTravelItem(e){return Ko.a.createElement(QA,{schemaId:e.id,cardConversationId:e.cardConversationId,listId:e.listId,groupId:e.groupId})}formatItem(e,{isScrolling:t,itemIndex:s},r){const n=Object(Hi.w)(e.listId);switch(n){case C.ac.MESSAGES:return Ko.a.createElement(pD,zo()({streamId:this.props.streamId,groupId:e.id,isScrolling:t,navigateTo:this.navigateTo},e,this.props.actions[n],this.props.actions.TOOLBAR,{itemHeight:e.listItemHeight,previewpane:this.props.previewpane,msgListDensity:this.props.msgListDensity,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onFocus:sN,isConversationMode:this.props.isConversationMode,scrollerRef:r,onContextMenu:this.props.onContextMenu,onContextMenuShown:this.props.onContextMenuShown}));case C.ac.TRAVEL_CARDS:return this.formatTravelItem(e);case C.ac.TIMECHUNK:return this.formatTimeChunk({index:s,scrollable:!0});case C.ac.LOAD_MORE:return Ko.a.createElement(HD,null);case C.ac.COUPON_SEPARATOR:return Ko.a.createElement(yD,{type:C.ac.COUPON_SEPARATOR,value:e.id,context:this.context,dealsView:this.props.dealsView});case C.ac.RECOMMENDED_DEALS_HEADER:return Ko.a.createElement(tb,null);case C.ac.COUPON_CARDS:return Object(Hi.F)(e.listId)===C.cc.RECOMMENDED_DEALS?Ko.a.createElement(cA,{items:e.itemRow}):Ko.a.createElement($T,zo()({},e,{onCouponClick:this.navigateTo,isScrolling:t,hideBottomBorder:e.isLastItemInGroup}));case C.ac.SENDERS:return Ko.a.createElement(Lb,zo()({},e,{navigateTo:this.navigateTo,isScrolling:t}));case C.ac.REFUND_CARDS:return Ko.a.createElement(fA,{onReceiptClick:this.navigateTo,schemaId:e.schemaId,listId:e.listId,cardMid:e.cardMid,messageId:e.messageId,conversationId:e.conversationId,orderDate:e.orderDate,itemName:e.itemName,price:e.price,numItems:e.numItems,currency:e.currency,hideBottomBorder:e.isLastItemInGroup});case C.ac.PENCIL_AD:{const t=e.sectionId;return Ko.a.createElement(VT,{anchorRef:t=>this.pencilAdNodes[e.sectionId]=t,viewabiltyContainerScrollTop:this.scrollTop,anchor:this.pencilAdNodes[t],viewabiltyContainerNode:this.container,sectionId:t,listId:this.props.listId})}case C.ac.AD_FEEDBACK:return Ko.a.createElement(gu.a,{sectionId:e.sectionId});case C.ac.IMAGES:return Ko.a.createElement(LR.a,{listId:e.listId,items:e.items,streamId:this.props.streamId});case C.ac.DOCUMENTS:return Ko.a.createElement(ZA.a,{listId:e.listId,item:e,streamId:this.props.streamId});default:return e}}getItemHeight(e,t){switch(Object(Hi.w)(e.listId)){case C.ac.COUPON_SEPARATOR:case C.ac.RECOMMENDED_DEALS_HEADER:return 1!==e.id||this.props.dealsView?di.L:2*di.L;case C.ac.TIMECHUNK:return 0===t?0:di.L;case C.ac.RECEIPT_SEPARATOR:return di.L;case C.ac.LOAD_MORE:return di.S;case C.ac.MESSAGES:return e.listItemHeight;case C.ac.COUPON_CARDS:return Object(Hi.F)(e.listId)===C.cc.RECOMMENDED_DEALS?di.w:di.u;case C.ac.SENDERS:return di.Bb;case C.ac.REFUND_CARDS:return di.xb;case C.ac.TRAVEL_CARDS:return di.Kb;case C.ac.GROCERY_CATEGORIES:return di.s;case C.ac.PENCIL_AD:case C.ac.AD_FEEDBACK:return e.listItemHeight;case C.ac.STORE_SUMMARY:return di.Cb;case C.ac.IMAGES:case C.ac.DOCUMENTS:return e.listItemHeight}}setStickyTimechunkRef(e){this.stickyTimechunkNode=e}renderBreakingNews(e){return Ko.a.createElement(Gb.a,{newsArticle:e.newsArticle,isCompactLayout:e.previewpane===C.ed.RIGHT,breakingNewsDismissed:e.onBreakingNewsDismissed,breakingNewsClicked:e.onBreakingNewsClicked,breakingNewsRendered:e.onBreakingNewsRendered})}createContextProvider(e,t,s){class r extends Ko.a.Component{getChildContext(){return e}render(){return Ko.a.createElement($o.IntlProvider,window.AppIntl,t(s))}}return r.childContextTypes={},Object.keys(e).forEach(e=>{r.childContextTypes[e]=Vo.a.any}),r}updateStickyHeader(e,t=!1){if(!Object(I.c)()||!this.stickyTimechunkNode)return;if(e<0)return this.state.stickyTimechunkMounted&&this.setState({stickyTimechunkMounted:!1}),void Xo.a.unmountComponentAtNode(this.stickyTimechunkNode);const s=e?this.reversedTimeChunkIndices.find(t=>t<e):0,r=t||e>1,n=this.props,a=n.isBreakingNewsEnabled,o=n.newsArticle;if(a&&o.title&&(!this.breakingNewsScrollAway&&this.breakingNewsRendered&&(this.breakingNewsScrollAway=this.stickyTimeChunkIndex!==s),!this.breakingNewsScrollAway&&!o.isRead)){if(!this.breakingNewsRendered){this.breakingNewsRendered=!0,this.state.stickyTimechunkMounted||this.setState({stickyTimechunkMounted:!0});const e=this.createContextProvider(this.context,this.renderBreakingNews,this.props);Xo.a.render(Ko.a.createElement(e,null),this.stickyTimechunkNode),this.breakingNewsRefreshTimer||this._createBreakingNewsRefreshTimer()}return this.stickyTimechunkNode.style.boxShadow=r?"rgba(0, 0, 0, 0.2) 0px 2px 4px":"none",this.hasShadow=r,void(this.stickyTimeChunkIndex=s)}if(this.stickyTimeChunkIndex===s&&0!==e&&this.hasShadow===r&&!this.breakingNewsRendered)return;this.breakingNewsRendered&&(!a&&this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=null),this.stickyTimechunkNode.style.boxShadow="none",this.breakingNewsRendered=!1),this.stickyTimeChunkIndex=s,this.hasShadow=r;const i=this.formatTimeChunk({index:s,scrollable:!1,shadow:r,isUpdateSticky:!0});i&&(this.state.stickyTimechunkMounted||this.setState({stickyTimechunkMounted:!0}),Xo.a.render(Ko.a.createElement($o.IntlProvider,window.AppIntl,Ko.a.createElement(aT.FluxibleComponent,{context:this.context,store:this.context.store},i)),this.stickyTimechunkNode))}onScrollTop(){this.updateStickyHeader(0)}onScroll({scrollTop:e,itemStartIndex:t}){this.useLocalScrollTop||(this.stickyHeaderUpdateTimer&&clearTimeout(this.stickyHeaderUpdateTimer),this.stickyHeaderUpdateTimer=setTimeout(()=>this.updateStickyHeader(t,e>0),0),this.scrollTop=e,this.debouncedScrollTopChange({newScrollTop:e}))}onScrollTopChange({newScrollTop:e}){const t=this.props,s=t.itemListPageThreshold,r=t.onPageScrolled,n=t.listId;Math.abs(e-this.lastPageScrollTop)>s&&(r(n),this.lastPageScrollTop=e)}onVirtualListRenderCompleted({itemStartIndex:e,itemEndIndex:t,itemOffsets:s}){if(this.cursorOutBound){const e=this.context.store.getState().streams[this.props.streamId].cursor.streamItem,t=e?this.props.items.findIndex(t=>t.id===e.id):-1;t>-1&&this.scrollTop!==s[t]?(this.scrollTop=s[t],this.useLocalScrollTop=!0,this.forceUpdate()):this.cursorOutBound=!1}else this.stickyHeaderUpdateTimer&&clearTimeout(this.stickyHeaderUpdateTimer),this.stickyHeaderUpdateTimer=setTimeout(()=>this.updateStickyHeader(e),0),this.itemStartIndex=e,this.itemEndIndex=t}forceScrollToTop(){this.scrollTop=0,this.useLocalScrollTop=!0,this.forceUpdate()}onPageUp(){this.scrollTop=Math.max(this.scrollTop-this.container.clientHeight,0),this.useLocalScrollTop=!0,this.forceUpdate()}onPageDown(){this.scrollTop+=this.container.clientHeight,this.useLocalScrollTop=!0,this.forceUpdate()}getUIState(){const e=this.props,t=e.listId,s=e.streamId;return{type:C.Ce.COMPONENT_UI_STATE,hash:Object(Hi.eb)(t),id:s,uiState:{scrollTop:this.scrollTop}}}renderStaticHeader(){const e=this.props,t=e.listId,s=e.items,r=e.showSearchHeader,n=Object(Hi.w)(t),a=0===s.length;if(Object(Hp.d)(t))return Ko.a.createElement(zb,{listId:t,onContentTypeChange:()=>{}});if(r)return Ko.a.createElement(xA,{listId:t});if(Object(Hp.f)(t))return Ko.a.createElement(ob,{listId:t});if(Object(Hi.F)(t)===C.cc.SUBSCRIPTIONS)return Ko.a.createElement(Jb,{listId:t});if(n===C.ac.SENDERS||Object(Hi.F)(t)===C.Sd[C.Ud.SENDER_ROLLUP])return Ko.a.createElement(wb,{listId:t});switch(n){case C.ac.TRAVEL_CARDS:return Ko.a.createElement(ob,{listId:t});case C.ac.COUPON_CARDS:return Ko.a.createElement(sI,null);case C.ac.REFUND_CARDS:return Ko.a.createElement(WR,{isEmpty:a});case C.ac.IMAGES:return Ko.a.createElement(yR,{listId:t});case C.ac.DOCUMENTS:return Ko.a.createElement(uI,{listId:t});case C.ac.SENDERS:return Ko.a.createElement(wb,{listId:t});default:return null}}renderStickyHeader(e){const t=this.formatTimeChunk({index:0,scrollable:!1});return t?Object(I.c)()?Ko.a.createElement("div",null,Ko.a.createElement("div",{className:e.timeChunkPlaceHolder},t),Ko.a.createElement("div",{"data-test-id":"mail-reader-sticky-header",ref:this.setStickyTimechunkRef,className:e.timechunk})):Ko.a.createElement("div",null,Ko.a.createElement("div",{className:e.timeChunkPlaceHolder},t),Ko.a.createElement("div",{"data-test-id":"mail-reader-sticky-header",className:e.timechunk})):null}renderCheckmailLoadingBar(){return Ko.a.createElement(UD,null)}getScrollToTopElementRenderFunc(e){return this.renderMessageScrollToTopElement(e)}renderMessageScrollToTopElement(e){const t=this.context.intl.formatMessage;return()=>Ko.a.createElement("div",{className:e.messageScrollToTopContainerStyle},Ko.a.createElement(Jo.default,{kind:ti.Kinds.TAP_TO_TOP,size:ti.Sizes.XS,colorState:ti.ColorStates.INVERTED,paddingLess:!0,title:t(iN.list_scroll_to_top)}))}getScrollToTopElementConfig(e,t){return{scrollThresholdPercentage:C.sd,render:this.getScrollToTopElementRenderFunc(t)}}formatPlaceHolder(){const e=Object(Hi.w)(this.props.listId);return e===C.ac.MESSAGES?Ko.a.createElement(this.props.previewpane===C.ed.RIGHT?CD:AD,{isDarkMode:this.context.getThemeMode()===ai.i.DARK,itemHeight:this.props.mainItemHeight}):e===C.ac.DOCUMENTS?Ko.a.createElement(AD,{isDarkMode:this.context.getThemeMode()===ai.i.DARK,itemHeight:this.props.mainItemHeight}):null}renderListResult(e){const t=this.props,s=t.streamId,r=t.items,n=t.listId,a=t.haveScrollToTop,o=t.messageBuffer,i=t.numOfPlaceHolder,c=t.oppositeBufferSize,l=Object(Hi.w)(n),d={height:"auto"},E={padding:`0 ${4*di.G}px`};return r.length?Ko.a.createElement(Rh.a,{getUnsyncedData:this.getUIState},a?Ko.a.createElement(AT,{key:s,items:r,bufferSize:o,getItemHeight:this.getItemHeight,formatItem:this.formatItem,loadMoreItems:this.handleLoadMoreItems,styles:d,onScrollTop:this.onScrollTop,config:this.getScrollToTopElementConfig(l,e),WrappedList:OT.a,onScroll:this.onScroll,scrollTop:this.getSavedScrollTop(),forceScrollToTop:this.forceScrollToTop,formatPlaceHolder:this.formatPlaceHolder,numOfPlaceHolder:i,recalculateClientHeight:this.recalculateVirtualListClientHeight,oppositeBufferSize:c,onRenderCompleted:this.onVirtualListRenderCompleted,enableReactElementCache:!0,itemStyle:E}):Ko.a.createElement(OT.a,{key:s,items:r,bufferSize:100,getItemHeight:this.getItemHeight,formatItem:this.formatItem,loadMoreItems:this.handleLoadMoreItems,styles:d,onScrollTop:this.onScrollTop,onScroll:this.onScroll,scrollTop:this.getSavedScrollTop(),recalculateClientHeight:this.recalculateVirtualListClientHeight,onRenderCompleted:this.onVirtualListRenderCompleted,itemStyle:E})):Ko.a.createElement(OI,{listId:this.props.listId})}renderVirtualList(e){const t=this.props,s=t.status,r=t.items;return s===C.od.ERROR?Ko.a.createElement(uA,null):Ko.a.createElement("div",{className:e.container,"data-test-id":"virtual-list-container"},s===C.od.LOADING&&0===r.length?Ko.a.createElement("div",{className:e.loadingContainer},Ko.a.createElement(Qd.b,null)):this.renderListResult(e))}renderPreviewPane(e){const t=this.props;return Ko.a.createElement("div",{className:e.rightPane,key:"rightpane"},Ko.a.createElement(jR,{listId:t.listId,streamId:t.streamId}))}handleSlide(e,t,s){this.useLocalScrollTop=!0,this.setState({[e]:t,size:s})}handleListFilterChange(e,t){const s=Object(Hi.w)(this.props.listId),r={[C.ac.MESSAGES]:"msg",[C.ac.DOCUMENTS]:"docs",[C.ac.IMAGES]:"photo"},n=Ii.g["FILTER_"+t],a=n?{mKey:n,sec:Ii.i.MSG_LIST_BULK_ACTION,interactionType:Object(Ps.getInteractionFromEvent)(e),actionData:{cntxt:r[s]||r[C.ac.MESSAGES]}}:null;this.navigateTo({route:{name:C.rd.SEARCH,params:{query:Object(Hi.ib)(Object(Hi.gb)(this.props.listId,{listFilter:t}))}},i13nModel:a})}renderResizer(){const e=this.props;return Ko.a.createElement(hT,{key:"previewpane-resizer",isEmpty:!1,previewpane:e.previewpane,previewpaneInPixels:e.previewpaneInPixels,previewpaneCookie:e.previewpaneCookie,resize:this.handleSlide,isRTL:e.isRTL})}getPreviewPaneStyle(e,t){const s=this.state,r=s.hSliderPos,n=s.vSliderPos,a=s.size;let o;return e===C.ed.RIGHT?0!==a&&t?(o=r<di.qb?di.qb:a-r<di.rb?a-di.rb:r,{style:{flexBasis:o+"px"},horizontalOffset:o,showLabels:a-r>700,splitType:e}):{style:{flexBasis:r+"%"},horizontalOffset:r,showLabels:r<=di.ob,splitType:e}:0===a?{style:{flexBasis:n+"%"},splitType:e}:t?(o=n<di.sb?di.sb:a-n<di.jb?a-di.jb:n,{style:{flexBasis:o+"px"},splitType:e}):{style:{flexBasis:n/100*a+"px"},splitType:e}}getPreviewPaneStyleFromCookie(e){const t=this.state,s=t.hSliderPos,r=t.vSliderPos,n=t.size,a=e===C.ed.RIGHT;let o;return o=a?s<di.qb?di.qb:s:r<di.sb?di.sb:r,tN({style:{flexBasis:o+"px"},splitType:e},a?{horizontalOffset:s,showLabels:!(n>0)||n-s>700}:{})}render(){const e=this.props,t=e.previewpane,s=e.showListFilter,r=e.previewpaneInPixels,n=this.state.stickyTimechunkMounted,a=e.previewpaneCookie&&r?this.getPreviewPaneStyleFromCookie(t):this.getPreviewPaneStyle(t,r),o=a.style,i=a.splitType,c=a.horizontalOffset,l=void 0===c?0:c,d=a.showLabels,E=void 0===d||d,_=t!==C.ed.NO,p=this.context.getTheme(),m=Ti()(bb.a,{theme:p,previewpane:t,previewpaneInPixels:r,stickyTimechunkMounted:n}),S=u()(this.props,["items","preservedState","cursorItem"]);return Ko.a.createElement("div",{className:m.mailReader,"data-test-id":"mail-reader","data-test-preview":i,ref:e=>{this.container=e}},this.renderStaticHeader(),Ko.a.createElement("div",{className:m.toolbar,"data-test-id":"mail-reader-toolbar"},this.props.hideToolbar?null:Ko.a.createElement(DR,zo()({},S,{onListFilterChange:this.handleListFilterChange,horizontalOffset:l,showLabels:E,showListFilter:s}))),Ko.a.createElement("div",{className:m.listWrapper},Ko.a.createElement("div",{className:m.listContainer,"data-test-id":"mail-reader-list-container"},_?[Ko.a.createElement("div",{key:"list-pane",className:m.listPane,style:o,ref:"listPane","data-test-id":"left-pane"},this.renderCheckmailLoadingBar(),this.renderStickyHeader(m),this.renderVirtualList(m)),this.renderResizer(m),this.renderPreviewPane(m)]:Ko.a.createElement("div",{key:"list-pane",className:m.fullPane,"data-test-id":"full-pane"},this.renderCheckmailLoadingBar(),this.renderStickyHeader(m),this.renderVirtualList(m)))))}}lN.defaultProps={listenKeys:[],hasMoreItems:!1,loadMoreItems:sN,haveScrollToTop:!1,itemListPageThreshold:825,isBreakingNewsEnabled:!1,newsArticle:{},onNavigateToRoute:sN,newsRefreshInterval:18e4},lN.contextTypes={executeAction:Vo.a.func,getStore:Vo.a.func,getCss:Vo.a.func,getThemeMode:Vo.a.func,getTheme:Vo.a.func,store:Vo.a.object,intl:Vo.a.object,bindShortcut:Vo.a.func,unbindShortcut:Vo.a.func,hideToolbar:Vo.a.bool};var dN=Db(lN),EN=s(189),_N=s(845),uN=s.n(_N);const pN=Object($o.defineMessages)({add:{id:"grocery_item.add",defaultMessage:"Add to cart"},final_cost:{id:"grocery_item.final_cost",defaultMessage:"final cost by weight"},details:{id:"grocery_item.details",defaultMessage:"Details"},ingredients:{id:"grocery_item.ingredients",defaultMessage:"Ingredients"},product_features:{id:"grocery_item.product_features",defaultMessage:"Product Features"},special_features:{id:"grocery_item.special_features",defaultMessage:"Special Features"},quantity:{id:"grocery_item.quantity",defaultMessage:"Net Quantity of Content"}}),mN=()=>{},SN="decrement",hN="increment";class CN extends Ko.a.Component{constructor(...e){super(...e),o()(this,"addItem",e=>{e.stopPropagation();const t=this.props,s=t.item;(0,t.clipOffer)({contextOfUse:C.Pb.GROCERY_ITEM_DETAIL,offer:s,retailerId:t.retailerId,score:s.scoreValue})}),o()(this,"handleChangeProductsQuantity",(e,t)=>{e.stopPropagation();const s=this.props,r=s.deleteProducts,n=s.item,a=s.retailerId,o={offerId:n.offerId,quantity:n.quantity+(t?1:-1)};return o.quantity?(0,s.changeProductsQuantity)({categories:n.categories,contextOfUse:C.Pb.GROCERY_ITEM_DETAIL,interactionType:t?hN:SN,items:[o],offerIndex:-1,retailerId:a,retailerName:s.retailerName,score:n.scoreValue}):r({retailerId:a,items:[o]})}),o()(this,"handleImageError",e=>Object(EN.a)(e,C.jd))}componentDidMount(){sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.CARD_VIEW,sec:Ii.i.QUOTIENT,interactionType:Ii.e.click,actionData:{catetgoryid:this.props.item.categories,featurefamily:C.Cb.IC,offerId:this.props.item.offerId,retailername:this.props.retailerName,xpname:C.Qb.GROCERY_ITEM_DETAIL}}})}_renderAddButton(e){return Ko.a.createElement("div",{className:e.add,"data-test-id":"add",onClick:this.addItem},this.context.intl.formatMessage(pN.add))}_renderChangeQuantity(e){const t=this.props.item,s=t.maxQuantity,r=t.quantity;return Ko.a.createElement("div",{className:e.numberContainer},Ko.a.createElement("div",{className:e.change,"data-test-id":"minus",onClick:e=>this.handleChangeProductsQuantity(e,!1)},Ko.a.createElement(ei.b,{colorState:ti.ColorStates.SELECTED,kind:ti.Kinds.MINUS,size:ti.Sizes.S})),Ko.a.createElement("label",{htmlFor:"quantity"},r),Ko.a.createElement("div",{className:e.change,"data-test-id":"plus",onClick:r===s?mN:e=>this.handleChangeProductsQuantity(e,!0)},Ko.a.createElement(ei.b,{colorState:r===s?ti.ColorStates.SECOND_LEVEL_GRAY:ti.ColorStates.SELECTED,kind:ti.Kinds.ADD,size:ti.Sizes.S})))}render(){const e=this.context.intl.formatMessage,t=Ti()(uN.a),s=this.props,r=s.item,n=s.retailerName;return Ko.a.createElement("div",{className:t.container},Ko.a.createElement("div",{className:t.header},Ko.a.createElement("img",{className:t.image,src:r.highResImgUrl,onError:this.handleImageError}),Ko.a.createElement("div",{className:t.right},Ko.a.createElement("div",{className:t.retailer},n),Ko.a.createElement("div",{className:t.description},r.description),Ko.a.createElement("div",{className:t.value},Ko.a.createElement("span",null,"$",r.value,"Each"===r.eligibleUnitText&&Ko.a.createElement("span",null,"ea")),r.unitPriceDisplay&&Ko.a.createElement("span",{className:t.unit},r.unitPriceDisplay)),r.unitPriceDisplay&&Ko.a.createElement("div",{className:t.cost},e(pN.final_cost)),r.activated?this._renderChangeQuantity(t):this._renderAddButton(t))),Ko.a.createElement("div",{className:t.details},Ko.a.createElement("div",{className:t.title},e(pN.details)),r.ingredients&&Ko.a.createElement(Ko.a.Fragment,null,Ko.a.createElement("div",{className:t.subtitle},e(pN.ingredients)),Ko.a.createElement("div",{className:t.subtext},r.ingredients)),r.shortDescription&&Ko.a.createElement(Ko.a.Fragment,null,Ko.a.createElement("div",{className:t.subtitle},e(pN.product_features)),Ko.a.createElement("div",{className:t.subtext},r.shortDescription)),r.specialFeatures&&Ko.a.createElement(Ko.a.Fragment,null,Ko.a.createElement("div",{className:t.subtitle},e(pN.special_features)),Ko.a.createElement("div",{className:t.subtext},r.specialFeatures)),r.servingSize&&Ko.a.createElement(Ko.a.Fragment,null,Ko.a.createElement("div",{className:t.subtitle},e(pN.quantity)),Ko.a.createElement("div",{className:t.subtext},r.servingSize))))}}o()(CN,"contextTypes",{intl:$o.intlShape.isRequired});var gN=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e),r=s.getOffersSelectors,n=s.getRetailersSelectors,a=(0,s.getActivatedOffersSelectors)().getActivatedOffer,o=r().getOffer,i=n().getDisplayNameFromRetailerId;return{item:o(t.itemId)||a(t.itemId),retailerName:i(t.retailerId)}},e=>({changeProductsQuantity:t=>e(Object(lb.e)(t)),clipOffer:t=>e(Object(lb.b)(t)),deleteProducts:t=>e(Object(lb.h)(t))}))(CN),ON=s(394),TN=s.n(ON);const AN=Object(P_.a)(C.Je),IN=Object($o.defineMessages)({grocery_helper_modal_header:{id:"grocery_helper_modal.header",defaultMessage:"Grocery coupons made easy!"},grocery_product_helper_modal_header:{id:"grocery_helper_modal.grocery_product_helper_modal_header",defaultMessage:"Easy online grocery shopping"},grocery_helper_modal_sub_header:{id:"grocery_helper_modal.grocery_helper_modal_sub_header",defaultMessage:"Yahoo Mail and Walmart are now partnering to offer you an easier way to get groceries."},grocery_helper_modal_first:{id:"grocery_helper_modal.first",defaultMessage:"Add coupons you like"},grocery_helper_modal_second:{id:"grocery_helper_modal.second",defaultMessage:"Enter {proxyTypeValue} you use at the store"},grocery_helper_modal_third:{id:"grocery_helper_modal.third",defaultMessage:"Use {proxyTypeValue} at the {retailerName} checkout counter, to have discounts applied automatically"},grocery_helper_modal_primary_button:{id:"grocery_helper_modal.primary_button",defaultMessage:"Got it"},grocery_helper_modal_close:{id:"grocery_helper_modal.close",defaultMessage:"Close"},product_step_1:{id:"grocery_helper_modal.product_step_1",defaultMessage:"Build your basket"},product_step_2:{id:"grocery_helper_modal.product_step_2",defaultMessage:"Checkout with Walmart"},product_sub_step_1:{id:"grocery_helper_modal.product_sub_step_1",defaultMessage:"Add items to your Walmart shopping cart"},product_sub_step_2:{id:"grocery_helper_modal.product_sub_step_2",defaultMessage:"Click the Checkout button to send your full shopping cart to Walmart <br>\n            *Price and availability may vary across stores"}});class fN extends Ko.a.Component{constructor(...e){super(...e),o()(this,"getRapidEvent",(e,t)=>({i13nModel:{mKey:e,interactionType:Object(Ps.getInteractionFromEvent)(t)}})),o()(this,"handleOverlayClick",e=>{e.preventDefault(),e.stopPropagation()}),o()(this,"onClose",e=>{this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),o()(this,"_renderStep",(e,t,s)=>{const r=this.context.intl.formatMessage,n=this.props,a=n.retailerName,o=n.proxyType===C.ld.Phone?"phone number":"loyalty card number",i=Ti()(TN.a);return Ko.a.createElement("div",{className:i.step},Ko.a.createElement("div",{className:i.stepNumber},s),Ko.a.createElement("div",{className:i.icon},Ko.a.createElement(ei.b,{kind:e,size:ti.Sizes.S,colorState:ti.ColorStates.IMPROVED_GRAY_DARK})),Ko.a.createElement("div",{className:i.detailedStep},r(t,{proxyTypeValue:o,retailerName:a})))}),o()(this,"_renderProductStep",(e,t,s)=>{const r=Ti()(TN.a),n=this.context.intl.formatMessage;return Ko.a.createElement("div",{className:r.step},Ko.a.createElement("div",{className:r.productStepNumber},"0"+s),Ko.a.createElement("div",{className:r.detailedProductStep},n(e),Ko.a.createElement("div",{className:r.subDetailedStep},Ko.a.createElement($o.FormattedHTMLMessage,t))))})}render(){const e=this.props,t=e.isGroceryWithProduct,s=e.groceriesWithProductCue,r=e.brandImage,n=this.context.intl.formatMessage,a={alignSelf:"center",height:9*di.G+"px",width:78.5*di.G+"px",fontWeight:di.r},o=Ti()(TN.a);return Ko.a.createElement(iE.a,{onClose:this.handleOverlayClick},Ko.a.createElement("div",{className:o.dialog,"data-test-id":"single-store-helper-modal"},Ko.a.createElement("div",{className:o.close},Ko.a.createElement(Jo.default,{"aria-label":n(IN.grocery_helper_modal_close),"data-test-id":"close-button",kind:ti.Kinds.CLOSE,onClick:s?this.onClose:this.props.onClose,size:ti.Sizes.XS,title:n(IN.grocery_helper_modal_close)})),Ko.a.createElement("img",{className:t?o.walmartLogo:o.logo,"data-test-id":"image",src:t?r:AN}),Ko.a.createElement("span",{className:o.header},n(t?IN.grocery_product_helper_modal_header:IN.grocery_helper_modal_header)),t?Ko.a.createElement("div",{className:o.subHeader},n(IN.grocery_helper_modal_sub_header)):null,t?Ko.a.createElement("div",{className:o.productBody},this._renderProductStep(IN.product_step_1,IN.product_sub_step_1,1),this._renderProductStep(IN.product_step_2,IN.product_sub_step_2,2)):Ko.a.createElement("div",{className:o.body},this._renderStep(ti.Kinds.ADDATTACHMENT,IN.grocery_helper_modal_first,1),this._renderStep(ti.Kinds.CONTACTCARD_OUTLINE,IN.grocery_helper_modal_second,2),this._renderStep(ti.Kinds.CART,IN.grocery_helper_modal_third,3)),Ko.a.createElement(mi.a,{"aria-label":n(IN.grocery_helper_modal_primary_button),"data-test-id":"primary-button",kind:Si.a.PRIMARY,marginLess:!0,onClick:s?this.onClose:this.props.onClose,style:a,title:n(IN.grocery_helper_modal_primary_button)},n(IN.grocery_helper_modal_primary_button))))}}o()(fN,"contextTypes",{intl:$o.intlShape.isRequired});var DN=Object(xd.a)(class extends Ko.a.Component{render(){const e=this.props;return Ko.a.createElement(fN,{onClose:e.onClose,retailerName:e.retailerName,proxyType:e.proxyType,groceriesWithProductCue:e.groceriesWithProductCue,cueName:e.cueName,isGroceryWithProduct:e.isGroceryWithProduct,brandImage:e.brandImage})}}),RN=s(846),bN=s.n(RN);const NN=Object($o.defineMessages)({helper_text:{id:"single_store.helper_text",defaultMessage:"How it works"},header:{id:"single_store.header",defaultMessage:"Groceries"},item_detail:{id:"single_store.item_detail",defaultMessage:"Item detail"}});class MN extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{showHelperModal:!1,showCue:!0}),o()(this,"hideHelperModal",()=>{this.setState({showHelperModal:!1})}),o()(this,"hideCue",()=>{this.setState({showCue:!1})}),o()(this,"handleBackButtonClick",()=>{const e=this.props,t=e.accountIds,s=e.prevRoute,r=e.retailerId,n=e.itemDetailId&&!s.route.url.includes("id!")?s.route:Object(Ui.x)(C.Ud.GROCERIES,{accountIds:t,name:r});this.context.navigateTo({route:n})}),o()(this,"renderHelperModalCue",(e,t)=>{const s=this.props;return Ko.a.createElement(DN,{onClose:this.hideCue,retailerName:e,groceriesWithProductCue:s.groceriesWithProductCue,proxyType:t,cueName:C.Eb.GROCERIES_PRODUCT_CUE,isGroceryWithProduct:s.isGroceryWithProduct,brandImage:s.brandImage})}),o()(this,"renderHowItWorks",e=>{const t=this.context.intl.formatMessage;return Ko.a.createElement("div",{className:e.helpContainer,"data-test-id":"helper",onClick:()=>this.setState({showHelperModal:!0})},Ko.a.createElement(ei.b,{colorState:ti.ColorStates.IMPROVED_GRAY_DARK,kind:ti.Kinds.INFO,size:ti.Sizes.XS}),Ko.a.createElement("div",{className:e.text},t(NN.helper_text)))})}render(){const e=this.props,t=e.brandImage,s=e.categoryName,r=e.isCategorySearch,n=e.isGroceryWithProduct,a=e.itemDetailId,o=e.retailerIndex,i=e.retailers,c=this.context.intl.formatMessage,l=this.context.getThemeMode(),d=Ti()(bN.a,{themeMode:l}),E=i[o]||{},_=E.displayName,u=void 0===_?"Retailer":_,p=E.proxyType,m=void 0===p?"":p;let S=c(NN.header);return a?S=c(NN.item_detail):r&&(S=s),Ko.a.createElement("div",{className:d.container,"data-test-id":"groceries_head"},Ko.a.createElement("div",{className:d.heading},r||a?Ko.a.createElement("div",{className:d.backButton,"data-test-id":"offers-back-button",onClick:this.handleBackButtonClick},Ko.a.createElement(ei.b,{colorState:ti.ColorStates.LESS_IMPORTANT,kind:ti.Kinds.ARROW_UP,rotate:ti.Rotate.D270,size:ti.Sizes.S})):null,Ko.a.createElement("div",{"aria-label":"header","data-test-id":"offers-header"},S),Ko.a.createElement("div",{className:d.infoText},this.renderHowItWorks(d)),this.props.groceriesWithProductCue&&this.props.isGroceryWithProduct&&this.state.showCue?this.renderHelperModalCue(u,m):null,this.state.showHelperModal?Ko.a.createElement(fN,{onClose:this.hideHelperModal,retailerName:u,proxyType:m,isGroceryWithProduct:n,brandImage:t}):null))}}o()(MN,"contextTypes",{getThemeMode:Vo.a.func,intl:$o.intlShape.isRequired,navigateTo:Vo.a.func});var yN=s(316),LN=s(848),PN=s.n(LN);const vN=Object($o.defineMessages)({close:{id:"select_stores_menu.helper_text",defaultMessage:"Close"}});class FN extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{selectedItem:"",groceriesHeadDimensions:{width:0}}),o()(this,"onClick",(e,t,s)=>{const r=this.props.onClick;this.setState({selectedItem:t}),r&&r(e,t,s)})}componentDidMount(){const e=this.props.groceriesHead;if(!e)return;const t=Xo.a.findDOMNode(e).getBoundingClientRect();this.setState({groceriesHeadDimensions:t})}render(){const e=this.context.getCss(PN.a),t=this.props,s=t.close,r=this.context.intl.formatMessage,n=this.state,a={width:n.groceriesHeadDimensions.width},o=n.selectedItem||t.defaultItem.displayName,i={backgroundColor:di.K},c=t.items.map((t,s)=>Ko.a.createElement("a",{"data-test-id":"select-retailer-card-"+t.displayName,key:t.displayName,onClick:e=>this.onClick(e,t.displayName,s),className:e.retailerContainer,style:t.displayName===o?i:null},Ko.a.createElement("div",{"data-test-id":"select-retailer-icon",className:e.icon},Ko.a.createElement("img",{className:e.image,src:t.brandImage})),Ko.a.createElement("div",{"data-test-id":"select-retailer-header",className:e.header},t.displayName)));return Ko.a.createElement("div",{className:e.container,style:a},Ko.a.createElement("div",{className:e.menuContainer},c),Ko.a.createElement("div",{"data-test-id":"select-retailer-close",className:e.close,onClick:()=>s({})},Ko.a.createElement(ei.b,{kind:ti.Kinds.CHEVRON_UP,colorState:ti.ColorStates.SELECTED,size:ti.Sizes.S}),r(vN.close)))}}o()(FN,"contextTypes",{getCss:Vo.a.func,intl:$o.intlShape.isRequired}),o()(FN,"defaultProps",{items:[]});var UN=s(78),wN=s(203),GN=s(382),HN=s(851),jN=s.n(HN);const kN=Object($o.defineMessages)({retailer_unlink_modal_header:{id:"retailer_unlink_modal.header",defaultMessage:"Are you sure you want to unlink<br/> <b>{retailerName} card {loyaltyId}</b>?"},retailer_unlink_modal_points:{id:"retailer_unlink_modal.points",defaultMessage:"From within Yahoo Mail groceries:"},retailer_unlink_modal_first:{id:"retailer_unlink_modal.first",defaultMessage:"You won't be able to receive and add coupons with this loyalty card."},retailer_unlink_modal_second:{id:"retailer_unlink_modal.second",defaultMessage:"All information associated with this card will be permanently deleted."},retailer_unlink_modal_body:{id:"retailer_unlink_modal.body",defaultMessage:"After unlinking, you won't be able to add coupons to this loyalty card from Yahoo Mail anymore."},retailer_unlink_modal_primary_button:{id:"retailer_unlink_modal.primary_button",defaultMessage:"Unlink"},retailer_unlink_modal_secondary_button:{id:"retailer_unlink_modal.secondary_button",defaultMessage:"Cancel"},retailer_unlink_modal_close:{id:"retailer_unlink_modal.close",defaultMessage:"Close"}});class xN extends Ko.a.Component{constructor(...e){super(...e),o()(this,"unlinkHandler",()=>{const e=this.props,t=e.accountIds,s=e.onClose,r=e.retailerId;(0,e.unlinkRetailerRequested)({retailerId:r}),s(),this.context.navigateTo({route:Object(Ui.x)(C.Ud.GROCERIES,{accountIds:t,name:r})})})}render(){const e=this.props,t=e.loyaltyId,s=e.onClose,r=e.retailerName,n=this.context.intl.formatMessage,a=Ti()(jN.a);return Ko.a.createElement(iE.a,{onClose:s},Ko.a.createElement("div",{className:a.dialog,"data-test-id":"retailer-unlink-modal"},Ko.a.createElement("div",{className:a.svgContainer},Ko.a.createElement(ei.b,{colorState:ti.ColorStates.WARNING_GRAD_RED,kind:ti.Kinds.EXCLAMATION_ALT,size:ti.Sizes.M})),Ko.a.createElement("div",{className:a.container},Ko.a.createElement("div",{className:a.header},Ko.a.createElement($o.FormattedHTMLMessage,zo()({},kN.retailer_unlink_modal_header,{values:{retailerName:r,loyaltyId:t}}))),Ko.a.createElement("div",{className:a.body},n(kN.retailer_unlink_modal_body)),Ko.a.createElement("div",null,Ko.a.createElement(mi.a,{"aria-label":n(kN.retailer_unlink_modal_primary_button),"data-test-id":"primary-button",kind:Si.a.PRIMARY,overridingClass:a.primaryButton,onClick:this.unlinkHandler,title:n(kN.retailer_unlink_modal_primary_button)},n(kN.retailer_unlink_modal_primary_button)),Ko.a.createElement(mi.a,{"aria-label":n(kN.retailer_unlink_modal_secondary_button),"data-test-id":"secondary-button",kind:Si.a.SECONDARY,onClick:s,title:n(kN.retailer_unlink_modal_secondary_button)},n(kN.retailer_unlink_modal_secondary_button))))))}}o()(xN,"contextTypes",{intl:$o.intlShape.isRequired,navigateTo:Vo.a.func});var BN=Object(qo.connect)((e,{retailerId:t=""})=>({loyaltyId:(0,(0,Object(wi.selectors)(e).getRetailersSelectors)().getLoyaltyIdFromRetailerId)(t)}),e=>({unlinkRetailerRequested:t=>e(Object(lb.B)(t))}))(xN),VN=s(852),WN=s.n(VN);const KN=Object($o.defineMessages)({link_phone:{id:"single_store.link_phone",defaultMessage:"Link phone number"},link_loyalty:{id:"single_store.link_loyalty",defaultMessage:"Link loyalty card number"},select_store_text:{id:"store_summary.select_store",defaultMessage:"Price and availability depend on Walmart store location."},store:{id:"store_summary.store",defaultMessage:"Select your store"},unlink:{id:"store_summary.unlink",defaultMessage:"Unlink"},other_stores:{id:"store_summary.other_stores",defaultMessage:"Other stores"},more:{id:"store_summary.more",defaultMessage:"more"},change_store:{id:"store_summary.change_store",defaultMessage:"Change store"}});class qN extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{currentZipCode:"",showLocationsMenu:!1,showQuotientModal:!1,showStoresList:!1,showUnlinkModal:!1}),o()(this,"handleSelectStoresButtonClick",()=>{this.setState({showStoresList:!this.state.showStoresList})}),o()(this,"handleSelectStoresPaneClick",({overlayClicked:e})=>{e||this.setState({showStoresList:!1,showLocationsMenu:!1})}),o()(this,"handleLocationsMenuClick",()=>{this.setState({showLocationsMenu:!this.state.showLocationsMenu})}),o()(this,"selectStoreLocation",e=>{const t=this.props;(0,t.updatePreferredStore)({location:e,retailerId:t.retailerId}),this.setState({showLocationsMenu:!1})}),o()(this,"updateCurrentZipCode",e=>{this.setState({currentZipCode:e})}),o()(this,"selectRetailer",(e,t,s)=>{const r=this.props,n=r.accountIds,a=r.retailers[s],o=a.id,i={mKey:Ii.g.QTNTVIEW_SMARTVIEW_ACTION,sec:Ii.i.QUOTIENT,actionData:{reason:{featurefamily:C.Cb.IC,featurename:C.Eb.GROCERIES,viewtype:"grocerystorelist",actiontype:a.linked?"viewcoupon":"linkstore",origin:"smartview"}}};(0,r.navigateToRoute)({route:Object(Ui.x)(C.Ud.GROCERIES,{accountIds:n,name:o}),i13nModel:i}),this.setState({showStoresList:!1})}),o()(this,"linkHandler",()=>this.setState(this.props.linked?{showUnlinkModal:!0}:{showQuotientModal:!0})),o()(this,"closeUnlinkModal",()=>{this.setState({showUnlinkModal:!1})}),o()(this,"closeQuotientModal",()=>{this.setState({showQuotientModal:!1})}),o()(this,"_renderImage",(e,t,s,r)=>Ko.a.createElement("div",{"data-test-id":"select-stores-image",className:e.otherImageContainer,key:t,onClick:e=>this.selectRetailer(e,t,r)},Ko.a.createElement("img",{className:e.otherImage,onError:e=>Object(EN.a)(e,C.jd),src:s}),Ko.a.createElement("div",{className:e.overlayContainer},Ko.a.createElement("div",{className:e.otherOverlay})))),o()(this,"renderSelectAddress",e=>{const t=this.props,s=t.doesPreferredStoreExist,r=t.groceriesChangeStoreRef,n=t.groceriesStoreSummaryRef,a=t.isGroceryWithProduct,o=t.linked,i=t.retailerId,c=t.retailerName,l=this.context.intl.formatMessage,d=this.state.showLocationsMenu,E="Phone"===t.proxyType?KN.link_phone:KN.link_loyalty,_=t.preferredStore.address||{},u=_.streetAddress,p=_.addressLocality,m=_.addressRegion,S=_.postalCode,h=s&&u&&p&&m&&S?`${u}, ${p}, ${m} ${S.substr(0,5)}`:"";return a&&!s?Ko.a.createElement("div",{className:e.groceryWithProduct},l(KN.select_store_text),"",Ko.a.createElement("span",{className:e.store,"data-test-id":"show-location-menu-button",onClick:this.handleLocationsMenuClick},l(KN.store)),d&&Ko.a.createElement(wN.a,{key:"store-locations-pane","data-test-id":"store-locations-pane",alignTo:n.current,alignmentPoints:[UN.a.TopLeft,UN.a.BottomLeft],useShim:!0,onClick:this.handleSelectStoresPaneClick},Ko.a.createElement(yN.a,{currentZipCode:this.state.currentZipCode,retailerId:i,retailerName:c,selectStoreLocation:this.selectStoreLocation,updateCurrentZipCode:this.updateCurrentZipCode}))):a?Ko.a.createElement("div",null,!!h&&Ko.a.createElement("div",{className:e.selectedAddress},h),Ko.a.createElement("div",{className:e.changeStore,onClick:this.handleLocationsMenuClick,ref:r},l(KN.change_store)),d&&Ko.a.createElement(wN.a,{"data-test-id":"store-locations-pane",key:"store-locations-pane",alignTo:n.current,alignmentPoints:[UN.a.TopLeft,UN.a.BottomLeft],useShim:!0,onClick:this.handleSelectStoresPaneClick},Ko.a.createElement(yN.a,{currentZipCode:this.state.currentZipCode,retailerId:i,retailerName:c,selectStoreLocation:this.selectStoreLocation,updateCurrentZipCode:this.updateCurrentZipCode}))):Ko.a.createElement("span",{"data-test-id":"link-handler",className:e.link,onClick:this.linkHandler},l(o?KN.unlink:E))}),o()(this,"renderSelectStore",e=>{var t;const s=this.props,r=s.groceriesStoreSummaryRef,n=s.retailerIndex,a=s.retailers,o=this.context.intl.formatMessage,i=a.filter(e=>e.index!==n).slice(0,2),c=this.state.showStoresList,l=a.map(e=>({displayName:e.displayName,brandImage:e.brandImage})),d={width:(null==r||null===(t=r.current)||void 0===t?void 0:t.getBoundingClientRect().width)||"unset",height:"100%",background:"rgba(38, 40, 42, 0.5)",overflowX:"hidden",overflowY:"auto"};return Ko.a.createElement("div",{className:e.selectStoreContainer},Ko.a.createElement("div",{className:e.separator}),Ko.a.createElement("div",{"data-test-id":"other-stores",className:e.otherStoresContainer},Ko.a.createElement("div",{className:e.otherStoresTitle},o(KN.other_stores)),Ko.a.createElement("div",{className:e.otherStoresImages},i.map(({brandImage:t,displayName:s,index:r})=>this._renderImage(e,s,t,r)),Ko.a.createElement("div",{"data-test-id":"select-stores-button",className:e.moreStoresContainer,onClick:this.handleSelectStoresButtonClick},"+",a.length-i.length-1," ",o(KN.more),c&&Ko.a.createElement(wN.a,{key:"store-list-pane",alignTo:r.current,alignmentPoints:[UN.a.TopLeft,UN.a.BottomLeft],useShim:!0,onClick:this.handleSelectStoresPaneClick,customInlineStyles:d},Ko.a.createElement(FN,{defaultItem:l[n],groceriesHead:r.current,items:l,onClick:this.selectRetailer,close:this.handleSelectStoresPaneClick}))))))})}componentDidMount(){if(this.setState({showLocationsMenu:this.props.showSelectLocationMenu}),"269a179b-bbba-46ed-91ca-f7129757c9c1"===this.props.retailerId){var e,t;const s=null===(e=window)||void 0===e||null===(t=e.AppBootstrapData)||void 0===t?void 0:t.groceryBeaconHash;s&&Object(qd.b)(`https://www.googletagmanager.com/ns.html?id=GTM-KPZHTFH&type=wlmtgcry&cat=lpwmrtab&u1=${s}&u45=[purchaserType]`)}}componentWillReceiveProps({isWindowResizingDone:e}){e&&this.setState({showStoresList:!1,showLocationsMenu:!1})}render(){const e=this.props,t=e.accountIds,s=e.brandImage,r=e.groceriesStoreSummaryRef,n=e.linked,a=e.loyaltyId,o=e.retailerId,i=e.retailerName,c=e.retailers,l=Ti()(WN.a),d=a&&"***"+a.slice(-4);return Ko.a.createElement("div",{className:l.container,"data-test-id":"store-summary",ref:r},Ko.a.createElement("div",{className:l.cardContainer,"data-test-id":"store-details"},Ko.a.createElement("div",{className:l.imageContainer},Ko.a.createElement("img",{className:l.image,"data-test-id":"store-image",onError:e=>Object(EN.a)(e,C.jd),src:s}),Ko.a.createElement("div",{className:l.overlayContainer},Ko.a.createElement("div",{className:l.overlay}))),Ko.a.createElement("div",{className:l.messageContainer},Ko.a.createElement("span",{"data-test-id":"store-name"},Ko.a.createElement("span",{className:l.retailer},i)),Ko.a.createElement("span",{className:l.loyaltyInfo},n?Ko.a.createElement("span",{className:l.loyaltyNumber,"data-test-id":"loyalty-id"},d):null,this.renderSelectAddress(l)))),c.length>1?this.renderSelectStore(l):null,this.state.showUnlinkModal?Ko.a.createElement(BN,{"data-test-id":"retailer-unlink-model",accountIds:t,onClose:this.closeUnlinkModal,retailerId:o,retailerName:i}):null,this.state.showQuotientModal?Ko.a.createElement(GN.a,{"data-test-id":"quotient-modal",retailerId:o,onSuccess:this.closeQuotientModal,onClose:this.closeQuotientModal,parentName:"grocerystorelist"}):null)}}o()(qN,"contextTypes",{intl:$o.intlShape.isRequired});var YN=Object(qo.connect)((e,{retailerId:t="",retailers:s,retailerIndex:r})=>{const n=Object(wi.selectors)(e),a=n.isFeatureEnabled,o=n.isWindowResizingDone,i=(0,n.getRetailersSelectors)(),c=i.doesPreferredStoreExist,l=i.getLoyaltyIdFromRetailerId,d=i.getPreferredStore,E=i.getProxyTypeFromRetailerId,_=i.isLinkedRetailer,u=i.isRetailerLinkable,p=i.showSelectLocationMenu,m=(s[r]||{}).displayName,S=void 0===m?"Retailer":m;return{brandImage:(0,i.getBrandImageFromRetailerId)(t),doesPreferredStoreExist:c(t),isGroceryWithProduct:a(C.Eb.GROCERY_WITH_PRODUCTS)&&!u(t),isWindowResizingDone:o(),linked:_(t),loyaltyId:l(t),preferredStore:d(t),proxyType:E(t),retailerName:S,showSelectLocationMenu:p(t)&&!c(t)}},e=>({navigateToRoute:t=>e(Object(oi.j)(t)),updatePreferredStore:t=>e(Object(lb.E)(t))}))(qN),zN=s(258),QN=s.n(zN),ZN=s(853),XN=s.n(ZN);const $N=Object($o.defineMessages)({title:{id:"grocery_categories.title",defaultMessage:"Top categories"},productTitle:{id:"grocery_categories.productTitle",defaultMessage:"Recommended categories"},view_less:{id:"grocery_categories.view_less",defaultMessage:"View less"},view_all:{id:"grocery_categories.view_all",defaultMessage:"View all categories"}});class JN extends Ko.a.Component{constructor(...e){super(...e),o()(this,"filterOffers",(e,t)=>{const s=Object(Hi.u)(e.id);this._i13nModel({mKey:Ii.g.CARD_INTERACT,category:e,index:t}),this.context.navigateTo({route:Object(Ui.m)(this.props.retailerId,s)})})}componentDidMount(){const e=this.props;e.isGroceryWithProduct&&e.categoryRows.length&&this._i13nModel({mKey:Ii.g.CARD_VIEW})}componentDidUpdate(e){const t=this.props;t.isGroceryWithProduct&&0===e.categoryRows.length&&t.categoryRows.length&&this._i13nModel({mKey:Ii.g.CARD_VIEW})}_i13nModel({mKey:e,category:t,index:s}){const r=this.props,n=[],a=[],o={featurefamily:C.Cb.IC,retailername:r.retailerName,xpname:C.Qb.CATEGORY_RECO};r.categoryRows[0].forEach(({id:e,scoreValue:t})=>{n.push(e),a.push(t)}),e===Ii.g.CARD_VIEW?(o.categoryid=n,o.score=a):e===Ii.g.CARD_INTERACT&&(o.categoryid=t.id,o.position=s,o.score=t.scoreValue),sd.b.sendI13nModel({i13nModel:{mKey:e,sec:Ii.i.QUOTIENT,actionData:o}})}renderCategoryBlock(e,t,s){return Ko.a.createElement("div",{key:e.id,className:t.block,"data-test-id":"grocery-category",style:{backgroundImage:`url('${e.logo}'), linear-gradient(to bottom, rgba(8, 8, 8, 0.1), rgba(8, 8, 8, 0.1) 40%, rgba(8, 8, 8, 0.6))`},onClick:()=>this.filterOffers(e,s)},Ko.a.createElement("span",{className:t.name},e.displayName))}render(){const e=this.context.intl.formatMessage,t=Ti()(XN.a),s=this.props,r=s.categoryRows,n=s.isCategoriesExpanded,a=s.isGroceryWithProduct,o=s.retailerId,i=s.toggleGroceryCategoriesExpansion,c=QN()(r),l=c[0],d=void 0===l?[]:l,E=c.slice(1);let _=0;return Ko.a.createElement("div",{className:t.container},Ko.a.createElement("div",{className:t.headerBar},Ko.a.createElement("span",{className:t.title},e(a?$N.productTitle:$N.title)),E.length?Ko.a.createElement("span",{className:t.expand,"data-test-id":"viewToggle",onClick:()=>i(o)},e(n?$N.view_less:$N.view_all)):null),Ko.a.createElement("div",{className:t.imgContainer,key:_++},d.map((e,s)=>this.renderCategoryBlock(e,t,s))),n?E.map(e=>Ko.a.createElement("div",{className:t.imgContainer,key:_++},e.map((e,s)=>this.renderCategoryBlock(e,t,s)))):null)}}o()(JN,"contextTypes",{intl:$o.intlShape.isRequired,navigateTo:Vo.a.func});var eM=Object(qo.connect)((e,{retailerId:t})=>{const s=Object(wi.selectors)(e),r=s.getMainContentWidth,n=s.isFeatureEnabled,a=(0,s.getRetailersSelectors)(),o=a.getCategoriesFromRetailerId,i=a.getCategoriesFromRetailerIdV2,c=a.isCategoriesExpanded,l=a.isRetailerLinkable,d=n(C.Eb.GROCERY_WITH_PRODUCTS)?i(t)||[]:o(t)||[],E=Object(zR.d)(d,di.t,r()-40),_=n(C.Eb.GROCERY_WITH_PRODUCTS)&&!l(t);return{categoryRows:E,isCategoriesExpanded:c(t),isGroceryWithProduct:_}},e=>({toggleGroceryCategoriesExpansion:t=>e(Object(lb.z)(t))}))(JN),tM=s(359),sM=s(854),rM=s.n(sM);var nM=Object(qo.connect)((e,{listId:t,route:s})=>{const r=Object(wi.selectors)(e),n=r.getMainStreamListIds,a=r.getOffersSelectors,o=r.getPreviousPage,i=r.getRetailersSelectors,c=r.isFeatureEnabled,l=r.getSelectedAccountId,d=(0,r.getListsSelectors)(),E=d.doesListExist,_=d.getListStatus,u=n(s),p=i(),m=p.getOrderedRetailers,S=p.isRetailerLinkable,h=p.getAllGroceryCategories,g=p.getBrandImageFromRetailerId,O=p.getCategoriesFromRetailerIdV2,T=Object(Hi.v)(t),A=Object(Hi.E)(T),I=o(),f=u.reduce((e,t)=>A?C.od.LOADED:E(t)?e===C.od.LOADING||e===C.od.ERROR?e:_(t):C.od.LOADING,C.od.DOES_NOT_EXIST),D=a(),R=f===C.od.DOES_NOT_EXIST?[]:(0,D.getOfferStreamItems)(t),b=Object(Hi.B)(t)||"",N=m(),M=N.findIndex(e=>e.id===b),y=[l()],L=g(b),P=c(C.Eb.GROCERY_WITH_PRODUCTS)&&!S(b),v=c(C.Eb.GROCERIES_PRODUCT_CUE),F=Object(Hi.Q)(T),U=Object(Hi.j)(T);let w;if(c(C.Eb.GROCERY_WITH_PRODUCTS)){w=(O(b).find(e=>e.id===U)||{}).displayName||"Category"}else{const e=h();w=((null==e?void 0:e[U])||{}).displayName||"Category"}return{accountIds:y,brandImage:L,categoryName:w,groceriesWithProductCue:v,isCategorySearch:F,isGroceryWithProduct:P,itemDetailId:A,items:R,keyword:T,listId:t,prevRoute:I,retailerId:b,retailerIndex:M,retailers:N,route:s,status:f}},void 0,void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&e.status===t.status&&e.groceriesWithProductCue===t.groceriesWithProductCue&&t_()(e.retailers,t.retailers)&&t_()(e.items,t.items)&&t_()(e.accountIds,t.accountIds)})(class extends Ko.a.Component{constructor(e){super(e),o()(this,"handleScroll",()=>{const e=(this.props.isCategorySearch?this.innerScrollRef:this.outerScrollRef).current||{};e.clientHeight+e.scrollTop>=e.scrollHeight&&sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.GROCERY_END_OF_SCROLL,sec:Ii.i.QUOTIENT}})}),this.outerScrollRef=Ko.a.createRef(),this.innerScrollRef=Ko.a.createRef(),this.groceriesChangeStoreRef=Ko.a.createRef(),this.groceriesStoreSummaryRef=Ko.a.createRef()}componentDidMount(){const e=this.props;e.isGroceryWithProduct&&!e.isCategorySearch&&e.items.length&&this._i13nModel(C.Qb.GROCERY_RECO)}componentDidUpdate(e){const t=this.props,s=t.keyword,r=t.items,n=t.isCategorySearch,a=t.isGroceryWithProduct;a&&!n&&!s&&0===e.items.length&&r.length?this._i13nModel(C.Qb.GROCERY_RECO):a&&n&&0===e.items.length&&r.length?this._i13nModel(C.Qb.GROCERY_CATEGORY_RESULTS):a&&!n&&s&&0===e.items.length&&r.length&&this._i13nModel(C.Qb.GROCERY_SRP)}_i13nModel(e){var t;const s=this.props,r=s.keyword,n=s.retailerIndex,a=s.retailers,o=[],i=[];s.items.forEach(({offerId:e,scoreValue:t})=>{o.push(e),i.push(t)});const c={featurefamily:C.Cb.IC,offerid:o,retailername:null===(t=a[n])||void 0===t?void 0:t.displayName,score:i,xpname:e};e===C.Qb.GROCERY_CATEGORY_RESULTS?c.categoryid=Object(Hi.j)(r):e===C.Qb.GROCERY_SRP&&(c.query=r),sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.CARD_VIEW,sec:Ii.i.QUOTIENT,actionData:c}})}renderItems(e){const t=this.props,s=t.isCategorySearch,r=t.items,n=t.keyword.trim()||"";let a;return a=s?C.Pb.GROCERY_CATEGORY_SEARCH:n?C.Pb.GROCERY_STORE_SEARCH:C.Pb.GROCERY_STORE_VIEW,Ko.a.createElement("section",{className:e.itemContainer,ref:this.innerScrollRef},r.map(({brandName:e,categories:t,changeQuantityStatus:s="",dateDiff:r,description:o,discountType:i,imageUrl:c,maxQuantity:l,offerId:d,offerValue:E="",quantity:_,scoreValue:u,unitPriceDisplay:p},m)=>Ko.a.createElement(tM.a,{brandName:e,categories:t,changeQuantityStatus:s,contextOfUse:a,dateDiff:r,discountType:i,groceriesChangeStoreRef:this.groceriesChangeStoreRef,groceriesStoreSummaryRef:this.groceriesStoreSummaryRef,imageUrl:c,key:d,maxQuantity:l,offerDescription:o,offerId:d,offerIndex:m,offerValue:E,quantity:_,score:u,search:n,unitPriceDisplay:p})))}renderGroceriesResult(e){var t;const s=this.props,r=s.accountIds,n=s.isCategorySearch,a=s.isGroceryWithProduct,o=s.itemDetailId,i=s.items,c=s.listId,l=s.retailerId,d=s.retailerIndex,E=s.retailers,_=s.status;return _===C.od.ERROR?Ko.a.createElement(OI,{listId:c}):_===C.od.LOADING?Ko.a.createElement("div",{className:e.LoadingIndicatorPositionBox},Ko.a.createElement(Qd.b,null)):o?Ko.a.createElement(gN,{itemId:o,retailerId:l}):0===i.length?Ko.a.createElement(OI,{listId:c}):n?this.renderItems(e):Ko.a.createElement(Ko.a.Fragment,null,Ko.a.createElement(YN,{accountIds:r,groceriesChangeStoreRef:this.groceriesChangeStoreRef,groceriesStoreSummaryRef:this.groceriesStoreSummaryRef,retailerId:l,retailerIndex:d,retailers:E}),Ko.a.createElement("div",{className:e.groceryResultContainer,ref:this.outerScrollRef},Ko.a.createElement(eM,{retailerId:l,retailerName:null===(t=E[d])||void 0===t?void 0:t.displayName}),Ko.a.createElement(LD,{type:C.ac.SINGLE_STORE_SEPARATOR,isGroceryWithProduct:a}),this.renderItems(e)))}render(){const e=this.props,t=e.accountIds,s=e.brandImage,r=e.categoryName,n=e.groceriesWithProductCue,a=e.isCategorySearch,o=e.isGroceryWithProduct,i=e.itemDetailId,c=e.prevRoute,l=e.retailerId,d=e.retailerIndex,E=e.retailers,_=Ti()(rM.a,{isCategorySearch:a});return Ko.a.createElement("div",{className:_.groceryContainer,"data-test-id":"grocery-container",onScroll:this.handleScroll},Ko.a.createElement(MN,{accountIds:t,brandImage:s,categoryName:r,groceriesWithProductCue:n,isCategorySearch:a,isGroceryWithProduct:o,itemDetailId:i,prevRoute:c,retailerId:l,retailerIndex:d,retailers:E}),this.renderGroceriesResult(_))}});const aM=Object($o.defineMessages)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural, =0 {Message list.} one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.} other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}}"}});class oM extends Ko.a.Component{render(){const e=this.props,t=e.previewpane,s=e.listId,r=e.haveScrollToTop,n=e.showEmptyFolderVideo,a=e.route,o=this.context.intl.formatMessage,i=this.context.getCss(nT.a);return n?null:Object(Hi.w)(s)===C.ac.OFFER_CARDS?Ko.a.createElement(nM,{listId:s,route:a}):Ko.a.createElement("div",{className:i.container,"data-test-id":"mail-reader-container",role:"main","aria-label":o(aM.message_list,{previewpane:t})},Ko.a.createElement(dN,{listId:s,haveScrollToTop:r}))}}o()(oM,"contextTypes",{intl:$o.intlShape.isRequired,getCss:Vo.a.func});var iM=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getFeaturesSelectors,r=t.getRoute,n=t.isFeatureEnabled,a=t.couldShowEmptyFolderVideo,o=(0,t.getCurrentListId)(),i=r(),c=s(),l=function(e){const t=Object(Hi.w)(e);return t===C.ac.MESSAGES||t===C.ac.IMAGES||t===C.ac.DOCUMENTS}(o);return{previewpane:c.getSetting(C.Kd.PREVIEW_PANE),listId:o,haveScrollToTop:l,showEmptyFolderVideo:n(C.Eb.EMPTY_FOLDER_VIDEO)&&a(),route:i}},e=>({changeSettings:t=>e(Object(Fu.b)(t))}))(oM);const cM={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"};var lM=class extends Ko.a.Component{render(){return Ko.a.createElement(Mi.a,{import:"../../../../molecules/settings/settings",_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1319))},_moduleResolver:function(){return 1319}},Ko.a.createElement(Mi.b,{loading:!0},Ko.a.createElement("div",{style:cM},Ko.a.createElement(Qd.b,null))))}};class dM extends Ko.a.Component{constructor(...e){super(...e),o()(this,"navigateToNewSponsoredCompose",()=>{const e=Object(Ps.generateUID)();this.context.navigateTo({route:Object(Ui.f)(e),forwardCreativeId:this.props.creativeId})}),o()(this,"saveSponsoredMessage",()=>{this.props.saveSponsoredMessage({subject:this.props.subject,asset:this.props.asset}),this.context.navigateTo({route:Object(Ui.n)(this.props.listId)})}),o()(this,"onClose",({i13nModel:e={}}={})=>{this.props.onClose({listId:this.props.listId,i13nModel:e})}),o()(this,"getVideoConfig",()=>{const e=this.props,t=e.videoAd;return{site:e.site,expName:e.expName,expType:e.expType,autoplay:!0,html5:!0,mute:!0,pageSpaceId:e.pageSpaceId,playlist:{mediaItems:[{id:e.geminiVideoAdId,images:{thumbnail:t.thumbnail}}]},YVAP:{standaloneAd:{gemini:{mediaInfo:t.videoMediaAssets,clickUrl:t.clickUrl,landingUrl:e.landingUrl},rules:t.rules,beacons:t.actionUrls}},replayonlyendscreen:!0,ccOnMute:!0,region:this.context.region}})}shouldComponentUpdate(e){const t=Object(f.b)(e,"videoAd.clickUrl"),s=Object(f.b)(this.props,"videoAd.clickUrl");return!!e.asset&&e.asset!==this.props.asset||!!t&&t!==s}render(){const e=this.props.conversations;return this.props.isLoadingGeminiAsset?null:Ko.a.createElement(Mi.a,{import:"../../../molecules/ads/sponsored_message_read",asset:this.props.asset,listId:this.props.listId,subject:this.props.subject,actionUrls:this.props.actionUrls,forwardCreative:this.props.videoAd?null:this.navigateToNewSponsoredCompose,saveSponsoredMessage:this.props.videoAd?null:this.saveSponsoredMessage,onClose:this.onClose,videoConfig:this.props.videoAd&&this.getVideoConfig(),source:this.props.source,description:this.props.description,action:Object(f.b)(this.props,"videoAd.callToAction"),emailAddress:this.props.emailAddress,accountName:this.props.accountName,embeddedLandingUrls:this.props.embeddedLandingUrls,conversations:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1329))},_moduleResolver:function(){return 1329}})}}o()(dM,"displayName","SponsoredMessage"),o()(dM,"contextTypes",{region:Vo.a.string,navigateTo:Vo.a.func});var EM=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getAdsSelectors,r=t.getRoute,n=t.getAccountSelectors,a=t.getCurrentSpaceId,o=t.isLoadingGeminiAsset,i=t.getSelectedAccountId,c=(0,t.getFeaturesSelectors)(),l=r(),d=Object(f.b)(l,"params.creativeId"),E=a(),_=Object(Hi.z)(l),u=s(),p=c.isEnabled(C.Eb.CONVERSATIONS),m=u.getSponsoredAd,S=c.getSetting(C.Kd.GEMINI_VIDEO_AD_ID),h=c.getSetting(C.Kd.GEMINI_VIDEO_AD_SITE),g=c.getSetting(C.Kd.GEMINI_VIDEO_AD_EXP_NAME),O=c.getSetting(C.Kd.GEMINI_VIDEO_AD_EXP_TYPE),T=m(d)||{},A=T.nativeAd,I=void 0===A?{}:A,D=T.pencilAd,R=void 0===D?{}:D,b=T.videoAd,N=Object(f.b)(I,"actionUrls",{}),M=n(),y=M.getAccountNameByAccountId,L=M.getAccountEmailByAccountId,P=i(),v=y(P),F=L(P);return{videoAd:b,pageSpaceId:E,geminiVideoAdId:S,site:h,expName:g,expType:O,creativeId:d,listId:_,asset:I.geminiSponsoredAsset,subject:R.adHeadline,actionUrls:N,source:R.adSource,description:R.adSummary,accountName:v,emailAddress:F,embeddedLandingUrls:I.embeddedLandingUrls,isLoadingGeminiAsset:o(),landingUrl:R.landingUrl,conversations:p}},e=>({saveSponsoredMessage:t=>e(Object(JE.u)(t)),onClose:t=>e(Object(oi.c)(t))}))(dM),_M=s(855),uM=s.n(_M);const pM=Ti()(uM.a);var mM=Object(qo.connect)(e=>({newMailVideoId:(0,Object(wi.selectors)(e).getFeaturesSelectors)().getSetting("newMailVideoId")}))(class extends Ko.a.Component{render(){return Ko.a.createElement(Mi.a,{import:"../../../../molecules/tutorial/index",newMailVideoId:this.props.newMailVideoId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1336))},_moduleResolver:function(){return 1336}},Ko.a.createElement(Mi.b,{loading:!0},Ko.a.createElement("div",{className:pM.container},Ko.a.createElement(Qd.b,null))))}});const SM={[C.ad.COMPOSE]:oC,[C.ad.MESSAGE]:sT,[C.ad.MAIL_READER]:iM,[C.ad.SETTINGS]:lM,[C.ad.SPONSORED_MESSAGE]:EM,[C.ad.TUTORIAL]:mM,[C.ad.SUBSCRIPTION_LIST]:function(e){return Ko.a.createElement(Mi.a,zo()({import:"./subscription_list",bundleName:"subscriptions"},e,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(7)]).then(s.bind(null,1305))},_moduleResolver:function(){return 1305}}),Ko.a.createElement(Mi.b,{loading:!0},Ko.a.createElement("div",{style:{height:"100%"}},Ko.a.createElement(Qd.b,{flex:!0}))))}};const hM={[C.rd.LIST]:SM[C.ad.MAIL_READER],[C.rd.BASE]:SM[C.ad.MAIL_READER],[C.rd.FOLDER]:SM[C.ad.MAIL_READER],[C.rd.SEARCH]:SM[C.ad.MAIL_READER],[C.rd.MESSAGE_FROM_LIST]:SM[C.ad.MESSAGE],[C.rd.MESSAGE_FROM_SEARCH_LIST]:SM[C.ad.MESSAGE],[C.rd.MESSAGE_FROM_FOLDER_LIST]:SM[C.ad.MESSAGE],[C.rd.NEW_DRAFT]:SM[C.ad.COMPOSE],[C.rd.EDIT_DRAFT]:SM[C.ad.COMPOSE],[C.rd.SPONSORED_MESSAGE]:SM[C.ad.SPONSORED_MESSAGE],[C.rd.SETTINGS]:SM[C.ad.SETTINGS],[C.rd.TUTORIAL]:SM[C.ad.TUTORIAL],[C.rd.SUBSCRIPTION_LIST]:SM[C.ad.SUBSCRIPTION_LIST]};var CM=Object(qo.connect)(e=>({route:(0,Object(wi.selectors)(e).getRoute)()}),e=>({changeSettings:t=>e(Object(Fu.b)(t))}))(class extends Ko.a.Component{render(){return Ko.a.createElement(hM[this.props.route.name],this.props)}});function gM(e,t){e.dispatch(sc.WINDOW_RESIZING,t)}function OM(e){e.dispatch(sc.WINDOW_RESIZED)}var TM=s(856),AM=s.n(TM),IM=s(253);function fM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const DM=C.hc.PRE_SIGNUP_LIGHTBOX,RM=C.hc.FREE_TRIAL_ENDING_NOTICATION_2,bM=C.hc.FREE_TRIAL_LAST_DAY_NOTIFICATION,NM=C.hc.FREE_TRIAL_EXPIRED_NOTIFICATION,MM=Object($o.defineMessages)({main_nav:{id:"landmark.folders_nav",defaultMessage:"Folder"}});class yM extends Ko.a.Component{constructor(...e){super(...e),o()(this,"_renderMainNav",e=>Ko.a.createElement("nav",{className:e.mainNavigation,role:"navigation","aria-label":(0,this.context.intl.formatMessage)(MM.main_nav),"data-yaft-module":"norrin_navigation"},Ko.a.createElement(Rm,this.props))),o()(this,"_renderLeftRail",e=>Ko.a.createElement("div",{className:this.props.hasWideLogo?e.leftRailWide:e.leftRail,"data-test-id":"mail-left-rail"},this._renderMainNav(e))),o()(this,"_renderRightRail",()=>{const e=this.props;return Ko.a.createElement(Pu,{hasAttachmentPreview:e.hasAttachmentPreview,windowDimensions:e.windowDimensions})}),o()(this,"_renderCue",e=>{switch(e){case C.Eb.ADBLOCK_UPSELL_CUE:return Ko.a.createElement(Mi.a,{import:"../adblock_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1275))},_moduleResolver:function(){return 1275}});case C.Eb.RIGHT_RAIL_AD_FREE_UPSELL_CUE:return Ko.a.createElement(Mi.a,{import:"../right_rail_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1337))},_moduleResolver:function(){return 1337}});case C.Eb.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE:return Ko.a.createElement(Mi.a,{import:"../adblock_to_nodin_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1276))},_moduleResolver:function(){return 1276}});case C.Eb.ADBLOCK_DELAY_DISMISS_CUE:return Ko.a.createElement(Mi.a,{import:"../adblock_delay_dismiss_cue",cueName:e,computeActionData:()=>({renderCount:Object(IM.a)()+1}),_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1343))},_moduleResolver:function(){return 1343}});default:return}}),o()(this,"_renderUpdateWiderMailCue",()=>Ko.a.createElement(Mi.a,{import:"../update_wider_mail_cue",cueName:C.Eb.UPDATE_WIDER_MAIL_CUE,userDisplayName:this.props.userDisplayName,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1277))},_moduleResolver:function(){return 1277}})),o()(this,"_renderThemesCueV3",()=>Ko.a.createElement(Mi.a,{import:"../themes_cue_v3",cueName:C.Eb.THEMES_CUE_V3,userDisplayName:this.props.userDisplayName,photoThemes:this.props.photoThemes,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1278))},_moduleResolver:function(){return 1278}})),o()(this,"_renderNpsSurveyCue",()=>Ko.a.createElement(Mi.a,{import:"../nps_survey_cue",cueName:C.Eb.NPS_SURVEY_CUE,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1344))},_moduleResolver:function(){return 1344}})),o()(this,"_renderNewUserTasksCue",()=>Ko.a.createElement(Mi.a,{import:"../new_onboarding_cue_v1",cueName:C.Eb.NEW_USER_TASKS_CUE,userDisplayName:this.props.userDisplayName,photoThemes:this.props.photoThemes,newUserTasksCue:this.props.newUserTasksCue,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1327))},_moduleResolver:function(){return 1327}})),o()(this,"_renderPartnerReconsentBanner",()=>Ko.a.createElement(Mi.a,{import:"../reconsent_cue",cueName:C.Eb.PARTNER_RECONSENT_BANNER,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1279))},_moduleResolver:function(){return 1279}})),o()(this,"_renderLockerFeatureCueBanner",()=>Ko.a.createElement(Mi.a,{import:"../locker_feature_cue",cueName:C.Eb.LOCKER_FEATURE_CUE,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1280))},_moduleResolver:function(){return 1280}})),o()(this,"_renderLastPassFreeTrialUpsell",()=>Ko.a.createElement(Mi.a,{import:"../lastpass_freetrial",cueName:C.Eb.LASTPASS_FREETRIAL_UPSELL,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1281))},_moduleResolver:function(){return 1281}})),o()(this,"tmrOnboardingCueActionData",()=>({atosStatus:this.props.tmrAtosStatus,tmrOnboardingCount:this.props.tmrOnboardingCount,userSegmentId:this.props.userSegmentId})),o()(this,"_renderMembershipRewardsOnboarding",()=>Ko.a.createElement(Mi.a,{import:"../membership_rewards/onboarding_cue",cueName:C.Eb.TMR_ONBOARDING_CUE,computeActionData:this.tmrOnboardingCueActionData,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1282))},_moduleResolver:function(){return 1282}})),o()(this,"_renderSubscriptionUpsell",()=>Ko.a.createElement(Mi.a,{import:"../subscription_upsells/index",_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1331))},_moduleResolver:function(){return 1331}})),o()(this,"_renderYMobilePromoUpsells",()=>Ko.a.createElement(Mi.a,{import:"../ymobile_promo_upsells/index",_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1345))},_moduleResolver:function(){return 1345}})),o()(this,"_renderFreeTrialLightboxNotification",()=>{const e={upsellId:this.props.upsellId};return Ko.a.createElement(Mi.a,{import:"../../atoms/mailpro_free_trial/lightbox_notification",cueName:C.Eb.MAILPRO_FREE_TRIAL_UPSELLS,computeUserResponse:()=>this.props.upsellId,computeActionData:()=>e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1283))},_moduleResolver:function(){return 1283}})}),o()(this,"_executeWindowResizingAction",()=>{this._innerContainer&&this.context.executeAction(gM,{screenWidth:window.screen.width,screenHeight:window.screen.height,innerWidth:window.innerWidth,innerHeight:window.innerHeight,contentAndRightRailWidth:this._innerContainer.clientWidth,contentAndRightRailHeight:this._innerContainer.clientHeight,ybarHeight:this.ybarHeight})}),o()(this,"_updateAppMinWidth",e=>{e.hasAttachmentPreview||e.previewPaneSetting===C.ed.RIGHT?document.body.classList.add("norrin-wide"):document.body.classList.remove("norrin-wide")})}componentWillReceiveProps(e){this.props.hasAttachmentPreview===e.hasAttachmentPreview&&this.props.previewPaneSetting===e.previewPaneSetting||this._updateAppMinWidth(e)}componentDidMount(){const e=document.querySelectorAll("#ybar");this.ybarHeight=e&&e.length&&e[0].clientHeight||0,this._updateAppMinWidth(this.props),this._executeWindowResizingAction(),window.addEventListener("resize",this._executeWindowResizingAction)}componentDidUpdate(){this.props.isWindowResizingDone&&this.context.executeAction(OM)}componentWillUnmount(){this._innerContainer=null,window.removeEventListener("resize",this._executeWindowResizingAction)}render(){const e=this.props,t=e.isSettings,r=this.context.getCss(AM.a,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?fM(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fM(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({verticalPreviewPane:e.previewPaneSetting===C.ed.RIGHT},Object(ai.l)(this.context)));return Ko.a.createElement("div",{className:r.shadedContainer,"data-test-id":"content-area"},Ko.a.createElement("div",{className:r.container,"data-test-id":"content-below-tabs"},t?null:this._renderLeftRail(r),this.props.showAccountAuthWindow&&Ko.a.createElement(Mi.a,{import:"../../molecules/account_auth_window",_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,588))},_moduleResolver:function(){return 588}}),this.props.showThemesCueV3&&this._renderThemesCueV3(),this.props.newUserTasksCue&&this._renderNewUserTasksCue(),this.props.showNpsSurveyCue&&this._renderNpsSurveyCue(),this.props.showAdBlockUpsellCue&&this._renderCue(C.Eb.ADBLOCK_UPSELL_CUE),this.props.showAdBlockToNodinCue&&this._renderCue(C.Eb.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE),this.props.showAdBlockDelayDismissCue&&this._renderCue(C.Eb.ADBLOCK_DELAY_DISMISS_CUE),this.props.showRightRailAdFreeUpsellCue&&this._renderCue(C.Eb.RIGHT_RAIL_AD_FREE_UPSELL_CUE),this.props.showUpdateWiderMailCue&&this._renderUpdateWiderMailCue(),this.props.showPartnerReconsentBanner&&this._renderPartnerReconsentBanner(),this.props.showLockerFeaturecue&&this._renderLockerFeatureCueBanner(),this.props.showDispatcherUpsell&&Ko.a.createElement(Mi.a,{import:"../dispatcher_upsells/index",_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1346))},_moduleResolver:function(){return 1346}}),this.props.showSubscriptionUpsell&&this._renderSubscriptionUpsell(),this.props.showYMobilePromoUpsells&&this._renderYMobilePromoUpsells(),this.props.showLastPassFreeTrialUpsell&&this._renderLastPassFreeTrialUpsell(),this.props.showMembershipRewardsOnboarding&&this._renderMembershipRewardsOnboarding(),this.props.showLightboxNotification&&this._renderFreeTrialLightboxNotification(),Ko.a.createElement("div",{className:r.widthRestrictor,ref:e=>{this._innerContainer=e},id:"mail-app-component-container"},Ko.a.createElement("div",{className:r.mainContent,"data-yaft-module":"norrin_main","data-test-id":"mail-app-component",id:"mail-app-component"},Ko.a.createElement(CM,this.props)),t?null:this._renderRightRail())))}}o()(yM,"contextTypes",{executeAction:Vo.a.func,intl:$o.intlShape.isRequired,getCss:Vo.a.func,config:Vo.a.object,getThemeMode:Vo.a.func,getTheme:Vo.a.func});var LM=Object(qo.connect)(e=>{var t;const s=Object(wi.selectors)(e),r=s.isFeatureEnabled,n=s.getSetting,a=s.getWindowDimensions,o=s.isWindowResizingDone,i=s.getRoute,c=s.getRouteParams,l=s.getLaunchError,d=s.getSortOrderForFolderRoute,E=s.getSelectedAccountId,_=s.getAccountNameByAccountId,u=s.getSocialAccountSelectors,p=s.getMembershipRewardsSelectors,m=s.getFeatureCueSelectors,S=s.getEnvironmentSelectors,h=s.getMailproFreeTrialSelectors,g=n(C.Kd.PREVIEW_PANE),O=l(),T=i(),A=c(),I=Object(Hi.z)(T),f=r(C.Kd.HIDE_AD),D=r("photoThemes"),R=n(C.Kd.PARTNER_BRAND),b=A.attachmentId&&"1"!==T.query.fullscreen,N=_(E()),M=(null===(t=S().getUserSegmentData().WEB_DESKTOP)||void 0===t?void 0:t.segment_id)||"",y=h().getUpsellId(),L=[DM,RM,bM,NM].indexOf(y)>-1,P=r(C.Eb.MAILPRO_FREE_TRIAL_UPSELLS)&&L,v=n(C.Kd.SUBSCRIPTION_UPSELL_PRODUCT_CODE).productCode,F=r(C.Eb.DISPATCHER_UPSELLS)&&!!n(C.Kd.DISPATCHER_UPSELL_DATA);return{listId:I,previewPaneSetting:g,windowDimensions:a(),isWindowResizingDone:o(),folderListSortOrder:d(),isSettings:T.name===C.rd.SETTINGS,hideAdUpsellSetting:f,hasAttachmentPreview:b,photoThemes:D,partnerBrand:R,userDisplayName:N,launchError:O,newUserTasksCue:r(C.Eb.NEW_USER_TASKS_CUE),showNpsSurveyCue:r(C.Eb.NPS_SURVEY_CUE),showThemesCueV3:r(C.Eb.THEMES_CUE_V3),showUpdateWiderMailCue:r(C.Eb.UPDATE_WIDER_MAIL_CUE),showAdBlockUpsellCue:r(C.Eb.ADBLOCK_UPSELL_CUE),showAdBlockToNodinCue:r(C.Eb.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE),showAdBlockDelayDismissCue:r(C.Eb.ADBLOCK_DELAY_DISMISS_CUE),showRightRailAdFreeUpsellCue:r(C.Eb.RIGHT_RAIL_AD_FREE_UPSELL_CUE),showPartnerReconsentBanner:r(C.Eb.PARTNER_RECONSENT_BANNER),showLockerFeaturecue:r(C.Eb.LOCKER_FEATURE_CUE),showLastPassFreeTrialUpsell:r(C.Eb.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE)&&r(C.Eb.LASTPASS_FREETRIAL_UPSELL),showYMobilePromoUpsells:r(C.Eb.YMOBILE_PROMO_UPSELLS),showSubscriptionUpsell:r(C.Eb.SUBSCRIPTION_UPSELLS)&&!!v,hasAds:r(C.Eb.ADS),hasWideLogo:r(C.Kd.HAS_WIDE_LOGO),showAccountAuthWindow:u().showAuthWindow(),showMembershipRewardsOnboarding:r(C.Eb.TMR_ONBOARDING_CUE),tmrAtosStatus:p().getAtosStatus(),tmrOnboardingCount:m().getUserResponse(C.Eb.TMR_ONBOARDING_CUE),userSegmentId:M,showLightboxNotification:P,upsellId:y,showDispatcherUpsell:F}})(yM);function PM(e,{listId:t}){e.dispatch(sc.BROWSER_NOTIFICATIONS_DISPLAYED,{listId:t})}var vM=s(300);function FM(e){return{timestamp:1e3*e.headers.date,id:e.id,folderId:e.folder.id}}function UM(e){return{titleFormatOptions:function(e){return{newMessageCount:e.length}}(e),bodyFormatOptions:function(e){const t=function(e){return Es()(e.map(wM))}(e),s={senderCount:t.length};t.length>=1&&(s.senderOne=t[0]);t.length>=2&&(s.senderTwo=t[1]);t.length>=3&&(s.senderThree=t[2]);t.length>3&&(s.remainingSenderCount=t.length-3);return s}(e)}}function wM(e){const t=e.headers.from[0]||{};return t.name||t.email||""}class GM extends Ko.a.Component{constructor(...e){super(...e),o()(this,"_displayNotification",({title:e,options:t,onClick:s})=>{const r=new window.Notification(e,t);s&&r.addEventListener("click",s)})}componentDidMount(){const e=this.props.notification;this._displayNotification({title:e.title,options:e.options,onClick:e.onClick})}render(){return null}}o()(GM,"contextTypes",{config:Vo.a.object});var HM=GM;const jM=Object(P_.a)("/img/desktop_notification_icon_1x.png"),kM=Object($o.defineMessages)({summaryNotificationTitle:{id:"summary_notification_title",defaultMessage:"You have {newMessageCount, number} new messages"},summaryNotificationBody:{id:"summary_notification_body",defaultMessage:"From {senderCount, plural, =1 {{senderOne}} =2 {{senderOne} and {senderTwo}} =3 {{senderOne}, {senderTwo}, and {senderThree}} other {{senderOne}, {senderTwo}, {senderThree}, and {remainingSenderCount} more}}"},singleNotificationMissingSubject:{id:"single_notification_missing_subject",defaultMessage:"No Subject"}});class xM extends Ko.a.Component{constructor(...e){super(...e),o()(this,"_transformMessageGroupsToNotifications",e=>{const t=this._filterSystemFolders(e),s=this._filterMessageGroups(t);return 0===s.length?[]:s.length>1?[this._generateSummaryNotification(s)]:this._generateSingleNotifications(s)}),o()(this,"_filterMessageGroups",e=>this.props.peopleNotifications?e.filter(e=>function(e){return"P"===e.classification}(e.messages[e.messages.length-1])):e),o()(this,"_filterSystemFolders",e=>e.filter(e=>{const t=e.messages[e.messages.length-1];return!t.folder.isSystem||Object(pt.n)(t.folder)===C.Mb.INBOX})),o()(this,"_generateSummaryNotification",e=>{const t=this.context.intl.formatMessage,s=e.map(e=>e.messages[e.messages.length-1]),r=UM(s),n=r.bodyFormatOptions,a=t(kM.summaryNotificationTitle,r.titleFormatOptions),o=t(kM.summaryNotificationBody,n),i=this._getSummaryNotificationIcon(),c=FM(s[0]);return this._transformNotification({title:a,body:o,icon:i,timestamp:c.timestamp,id:c.id,folderId:c.folderId})}),o()(this,"_generateSingleNotifications",e=>{const t=this.context.intl.formatMessage;return e.map(e=>{const s=e.messages[e.messages.length-1],r=function(e){return wM(e)}(s),n=function(e){return e.headers.subject}(s)||t(kM.singleNotificationMissingSubject),a=this._getSingleNotificationIcon(s),o=FM(s);return this._transformNotification({title:r,body:n,icon:a,timestamp:o.timestamp,id:o.id,folderId:o.folderId,groupId:e.id})})}),o()(this,"_transformNotification",({title:e,body:t,icon:s,timestamp:r,id:n,folderId:a,groupId:o})=>({title:e,options:{body:t,icon:s,lang:this.context.intl.locale,timestamp:r,tag:n},onClick:this._getClickHandler({folderId:a,groupId:o})})),o()(this,"_getSummaryNotificationIcon",()=>jM),o()(this,"_getSingleNotificationIcon",e=>{const t={email:e.headers.from.length?e.headers.from[0].email:""};return Object(vM.a)(t,"160",jM)}),o()(this,"_getClickHandler",({folderId:e,groupId:t})=>s=>{s.preventDefault(),s.target.close(),window.focus(),this.context.navigateTo({route:t?Object(Ui.p)(Object(Hi.y)(e),t):Object(Ui.k)(e)})})}componentDidMount(){this.context.executeAction(PM,{listId:this.props.listId})}render(){const e=this._transformMessageGroupsToNotifications(this.props.messageGroups);return Ko.a.createElement("div",null,e.map(e=>Ko.a.createElement(HM,{key:e.options.tag,notification:e})))}}o()(xM,"contextTypes",{intl:$o.intlShape,config:Vo.a.object,executeAction:Vo.a.func,navigateTo:Vo.a.func});var BM=xM;function VM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}class WM extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{hasPermission:!1}),o()(this,"requestPersmission",()=>{window.Notification.requestPermission(e=>{"granted"===e&&this.setState({hasPermission:!0})})})}componentDidMount(){this._allItemsNotSeen=[],window.Notification&&this.requestPersmission()}componentDidUpdate(){this.props.isAppVisible&&(this._allItemsNotSeen=[])}render(){const e=this.props,t=e.items,s=e.listContentType,r=e.listId,n=e.peopleNotifications;return 0!==t.length&&this.state.hasPermission&&!e.isAppVisible&&this.context.isLatestWindow()?(s===C.ac.MESSAGES&&(this._allItemsNotSeen=[...this._allItemsNotSeen,...t]),Ko.a.createElement("div",null,s===C.ac.MESSAGES?Ko.a.createElement(BM,{peopleNotifications:n,messageGroups:this._allItemsNotSeen,listId:r}):null)):null}}o()(WM,"contextTypes",{config:Vo.a.object,isLatestWindow:Vo.a.func.isRequired}),o()(WM,"defaultProps",{items:[]});var KM=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getActionTimeStamp,r=t.getApplicationLastVisibleTimeStamp,n=t.isAppVisible,a=t.doesListExist,i=t.getMessageListItemsSinceTimestamp,c=t.__patchV2MessageGroupItem__,l=t.isFeatureEnabled,d=(0,t.getCurrentListId)(),E=Object(Hi.w)(d),_=n()?s():r(),u=a(d)?i(d,_):[],p=l("peopleNotifications"),m=u.map(e=>c(e,d));return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?VM(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):VM(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},m.length?{items:m}:{},{listContentType:E,listId:d,isAppVisible:n(),peopleNotifications:p})})(WM),qM=ve.a.create("norrin/push_notifications"),YM=s(386),zM=ve.a.create("norrin/push_notifications");const QM=async()=>(QM.db||(QM.db=await Object(YM.a)("tap-sdk",1,{upgrade(e){e.createObjectStore("tap_registration"),e.createObjectStore("tap_subscription")}})),QM.db),ZM={get:async e=>(await QM()).get("tap_registration",e),async set(e,t){const s=await QM();await s.put("tap_registration",t,e)},async delete(e){const t=await QM();await t.delete("tap_registration",e)},getSubscription:async()=>(await QM()).get("tap_subscription","subscription"),async saveSubscription(e){const t=await QM();await t.put("tap_subscription",e,"subscription")},async migrate(){const e=await Object(CE.h)(CE.d,CE.e);if(e){const t=zM.feature("idb_migration");try{const s=await Promise.all([Object(CE.h)(CE.d,CE.b),Object(CE.h)(CE.d,CE.c)]),r=w()(s,2),n=r[0],a=r[1];await ZM.set("registrationId",e),n&&await ZM.set("subscriptionIds",n),a&&await ZM.set("timestamp",a),await Promise.all([Object(CE.g)(CE.d,CE.e),Object(CE.g)(CE.d,CE.b),Object(CE.g)(CE.d,CE.c),Object(CE.g)(CE.d,CE.a)]),t.logSuccess()}catch(e){t.logFailure(e)}}}};var XM=ZM,$M=s(180);let JM;function ey(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}!function(e){e.ADD="add",e.UPDATE="update",e.DELETE="delete"}(JM||(JM={}));function ty(e){return`mail/new_mail_v4|notify|${e}|deco:FTI`}var sy=class extends S.a{constructor(e){super(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ey(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ey(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{loggerName:"tap_client_request"})),o()(this,"ymreqid",void 0),o()(this,"appId",void 0);const t=e.appId;this.ymreqid=new D.a(e.guidHash,$M.f,$M.c).generate(),this.appId=t}async register(e,t,s){var r;const n=new y.b(C.Sb.POST,"https://yahoo-client.tap.yahoo.com/v1/registration/?"+m.a.stringify({mailAppId:this.appId,ymreqid:this.ymreqid}));if(n.withCredentials=!0,n.setHeader("Content-Type","application/json"),"update"===e){if(!s)throw new TypeError("Expected a registrationId but got "+s);n.setHeader("x-rivendell-regid",s)}const a=t.toJSON(),o=null===(r=a.endpoint)||void 0===r?void 0:r.substring(a.endpoint.lastIndexOf("/")+1);if(!o)throw new Error("Failed to compute deviceId");if(!a.keys)throw new Error("Expected parsedSubscription.keys");const i=n.send(JSON.stringify({app:{id:"com.yahoo.mail.browser.chrome"},deviceIds:{legacyDeviceId:o},pushInfo:{pushToken:o,pushService:"chrome",osNotificationEnabled:!0,appNotificationEnabled:!0,keys:{algo:"p256dh",publicKey:a.keys.p256dh,sharedSecret:a.keys.auth}}})).then(e=>{var t;const s=null===(t=e.body)||void 0===t?void 0:t.registrationId;if(!s)throw new O.a("PushNotifications.MissingRegistrationId");return{registrationId:s}});return this.logRequest(i,{apiName:"register",appId:this.appId,operation:e,ymreqid:this.ymreqid}),i}async addRegistration(e){return this.register("add",e)}async updateRegistration(e,t){return this.register("update",e,t)}async associate(e,t,s){const r=new y.b(C.Sb.POST,"https://yahoo-client.tap.yahoo.com/v1/association/?"+m.a.stringify({mailAppId:this.appId,ymreqid:this.ymreqid}));r.withCredentials=!0,r.setHeader("x-rivendell-regid",e),r.setHeader("Content-Type","application/json");const n={operation:t,useGuidAsValue:!0};s&&(n.attributes={tags:s.map(ty)});const a=r.send(JSON.stringify(n));this.logRequest(a,{apiName:"associate",operation:t,appId:this.appId,ymreqid:this.ymreqid}),await a}async addAssociation(e,t){return this.associate(e,JM.ADD,t)}async updateAssociation(e,t){return this.associate(e,JM.UPDATE,t)}async deleteAssociation(e){return this.associate(e,JM.DELETE)}},ry=s(181);const ny="default",ay="denied",oy="noop",iy="renew-subscription",cy="subscribe";async function ly(e,{guidHash:t,appId:s}){if(!Object(ry.a)())throw new Error("Service Workers not supported");const r=qM.feature("push_notifications_subscription",{subscriptionIds:e,migrateToTAP:!0});let n;try{return n=await async function(e,{guidHash:t,appId:s}){const r=await window.navigator.serviceWorker.ready,n=await r.pushManager.subscribe({userVisibleOnly:!0});if(!n)throw new Error("registration_failure");await async function(e,{guidHash:t,appId:s}){try{const r=new sy({guidHash:t,appId:s}),n=(await r.addRegistration(e)).registrationId;await XM.set("registrationId",n)}catch(e){throw yo.a.error("tap_subscription_error",{message:e.message||"",name:e.name,statusCode:e.statusCode||"",responseText:e.data?e.data.responseText:""}),e}}(n,{guidHash:t,appId:s}),await uy(e,{guidHash:t,appId:s})}(e,{guidHash:t,appId:s}),r.logSuccess(),n}catch(e){throw r.logFailure(e),await dy({guidHash:t,appId:s}),e}}async function dy({guidHash:e,appId:t}){if(!Object(ry.a)())throw new Error("Service Workers not supported");const s=qM.feature("push_notifications_unsubscribe",{migrateToTAP:!0}),r=await window.navigator.serviceWorker.getRegistration();if(!r)return void s.logFailure(new Error("Service worker not subscribed"));const n=r&&await r.pushManager.getSubscription();if(n){if(!await n.unsubscribe()){const e=new Error("Unsubscribe failed");throw s.logFailure(e),e}return s.logSuccess(),async function({guidHash:e,appId:t}){const s=await XM.get("registrationId"),r=new sy({guidHash:e,appId:t});if(!s)return;await r.deleteAssociation(s),await XM.delete("registrationId")}({guidHash:e,appId:t})}}function Ey(){var e;return null===(e=window.Notification)||void 0===e?void 0:e.permission}function _y(e,t,s){if(!e)return;return e.postMessage({type:t,data:s})}async function uy(e,{guidHash:t,appId:s},r="add"){const n=await XM.get("registrationId"),a=new sy({guidHash:t,appId:s});switch(r){case"add":return a.addAssociation(n,e);case"update":return a.updateAssociation(n,e)}}var py=s(254),my=s.n(py);function Sy(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}async function hy(e){const t=e.strings,s=e.subscriptionIds,r=e.subscriptionIdsString,n=e.disablePushNotifications,a=e.isPreviousActionNotificationsEnabled,i=e.onGrantedPermissions,c=e.subscriptionValidityPeriod,l=e.guidHash,d=e.appId,E=e.intl;let _=oy,u=!1;try{await Object(CE.f)();const e=Ey(),n=await async function(){if(!Object(ry.a)())return null;try{const e=await window.navigator.serviceWorker.getRegistration();return e?e.pushManager.getSubscription():null}catch(e){return null}}();await XM.migrate();const a=await XM.get("registrationId"),p=await XM.get("subscriptionIds"),m=Number(await XM.get("timestamp"))||0,S=r===p&&my()(Date.now(),m)<=c;if(u=!!a,n?u?S||(_=iy,await function(e,{guidHash:t,appId:s}){return uy(e,{guidHash:t,appId:s},"update")}(s,{guidHash:l,appId:d})):(_=cy,await dy({guidHash:l,appId:d})):_=cy,_===cy&&await ly(s,{guidHash:l,appId:d}),n){const e=await XM.getSubscription();(null==e?void 0:e.endpoint)!==n.endpoint&&await async function(e,t,{guidHash:s,appId:r}){const n=qM.feature("update_registration");try{await new sy({guidHash:s,appId:r}).updateRegistration(t,e),n.logSuccess()}catch(e){throw n.logFailure(e),e}}(a,n,{guidHash:l,appId:d}),await XM.saveSubscription(n)}if(_!==oy&&await XM.set("timestamp",String(Date.now())),await XM.set("subscriptionIds",r),async function(e){if(Object(ry.a)())if(window.navigator.serviceWorker.controller)_y(window.navigator.serviceWorker.controller,"translations",e);else{_y((await navigator.serviceWorker.ready).active,"translations",e)}}({actionStrings:Object.keys(t).reduce((e,s)=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Sy(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Sy(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{[s]:E.formatMessage(t[s])}),{})}),e===ny&&i(),_===oy)return;yo.a.feature("push_notifications_subscription_complete",{scenario:_,migrateToTAP:!0,previousRegistrationExists:u}).logSuccess()}catch(e){const t={scenario:_},s=Ey();s===ay&&(t.i13nModel={mKey:Ii.g.PUSH_NOTIFICATIONS_REQUEST_REJECTED,sec:Ii.i.NOTIFICATION_ACTION});const r=a||s===ay;yo.a.feature("push_notifications_subscription_complete",{scenario:_,migrateToTAP:!0,previousRegistrationExists:u,browserPermissionState:s,shouldDisablePush:r}).logFailure(e),r&&n(t)}}function Cy(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const gy=Object($o.defineMessages)({mark_as_read:{id:"read_icon_label",defaultMessage:"Mark as read"},delete:{id:"delete_icon_label",defaultMessage:"Delete"}});class Oy extends Ko.a.Component{componentDidMount(){const e=this.context,t=e.guidHash,s=e.appId;this.props.notificationsEnabled?this._ensurePushIsSubscribed():dy({guidHash:t,appId:s}).catch(e=>{yo.a.error("unsubscribe_stray_sw",{error:e})})}componentDidUpdate(e){const t=this.props,s=t.notificationsEnabled,r=t.subscriptionIdsString,n=this.context;!s&&e.notificationsEnabled?dy({guidHash:n.guidHash,appId:n.appId}).catch(e=>{yo.a.error("user_disabled_notifications",{error:e})}):!s||e.notificationsEnabled&&r===e.subscriptionIdsString||this._ensurePushIsSubscribed()}render(){return null}_ensurePushIsSubscribed(){const e=this.props,t=this.context;return hy({isPreviousActionNotificationsEnabled:e.isPreviousActionNotificationsEnabled,strings:gy,subscriptionIds:e.subscriptionIds,subscriptionIdsString:e.subscriptionIdsString,disablePushNotifications:e.disablePushNotifications,onGrantedPermissions:e.onGrantedPermissions,subscriptionValidityPeriod:e.subscriptionValidityPeriod,guidHash:t.guidHash,appId:t.appId,intl:t.intl})}}o()(Oy,"contextTypes",{guidHash:Vo.a.string,appId:Vo.a.string,intl:$o.intlShape.isRequired});var Ty=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getSetting,r=t.getAction,n=(0,t.getAccountSelectors)().getAccountSubscriptionIds(),a=s("pushSubscriptionValidity"),o=r();return{isPreviousActionNotificationsEnabled:o.type===sc.FEATURE_ENABLED&&o.name===C.Eb.SHOULD_SW_SUBSCRIBE&&!0===o.value,subscriptionIds:n,subscriptionIdsString:n.sort().join(","),subscriptionValidityPeriod:a}},e=>({disablePushNotifications:t=>e(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Cy(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Cy(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({type:sc.FEATURE_DISABLED,name:C.Eb.PUSH_NOTIFICATIONS},t)),onGrantedPermissions:()=>e({type:sc.PUSH_NOTIFICATIONS_REQUEST_GRANTED,i13nModel:{mKey:Ii.g.PUSH_NOTIFICATIONS_REQUEST_GRANTED,sec:Ii.i.NOTIFICATION_ACTION}})}))(Oy);var Ay=Object(qo.connect)(e=>{const t=(0,Object(wi.selectors)(e).getFeaturesSelectors)();return{notificationsEnabled:t.getSetting(C.Kd.NOTIFICATION),notificationMode:t.getSetting(C.Kd.NOTIFICATION_MODE)}})(class extends Ko.a.Component{render(){const e=this.props,t=e.notificationsEnabled,s=e.notificationMode;return s===C.Nc.PUSH?Ko.a.createElement(Ty,{notificationsEnabled:t}):s===C.Nc.BROWSER&&t?Ko.a.createElement(KM,null):null}});const Iy=Object(P_.a)("/html/status.html");var fy={STATUS_PAGE_URL:Iy,ping:function(){return new y.b("HEAD",Iy,{timeout:9e3}).send()}};var Dy=Object(qo.connect)(e=>({isEnabled:Object(wi.selectors)(e).isFeatureEnabled(C.Eb.OFFLINE_CHECKING)}),e=>({onChange:t=>e((({online:e})=>(t,s)=>{const r=Object(wi.selectors)(s()),n=r.isFeatureEnabled;(0,r.isOnline)()!==e&&t({type:sc.ONLINE_STATUS_CHANGED,online:e,rotateAdsOnline:n(C.Eb.ROTATE_ADS_ONLINE)})})(t))}))(class extends Ko.a.Component{constructor(...e){super(...e),o()(this,"checking",!1),o()(this,"handleOfflineEvent",()=>{this.checking&&this.stopChecking(),this.setOffline()}),o()(this,"handleOnlineEvent",()=>{this.checking?this.check():this.startChecking()}),o()(this,"handleNetworkRequestFailure",e=>{e.url!==fy.STATUS_PAGE_URL&&this.startChecking()}),o()(this,"handleNetworkRequestSuccess",()=>{this.checking&&(this.stopChecking(),this.setOnline())}),o()(this,"check",()=>{navigator&&void 0!==navigator.onLine&&!1===navigator.onLine||fy.ping().then(()=>{this.stopChecking(),this.setOnline()},()=>{this.checking&&(this.setOffline(),setTimeout(this.check,1e4))})}),o()(this,"startChecking",()=>{this.checking||(this.checking=!0,this.check())}),o()(this,"stopChecking",()=>{this.checking=!1}),o()(this,"setOnline",()=>{this.props.onChange({online:!0})}),o()(this,"setOffline",()=>{this.props.onChange({online:!1})})}shouldComponentUpdate(){return!1}componentDidMount(){this.props.isEnabled&&(window.addEventListener("offline",this.handleOfflineEvent),window.addEventListener("online",this.handleOnlineEvent),y.b.on("error",this.handleNetworkRequestFailure),y.b.on("success",this.handleNetworkRequestSuccess))}componentWillUnmount(){window.removeEventListener("offline",this.handleOfflineEvent),window.removeEventListener("online",this.handleOnlineEvent),y.b.off("error",this.handleNetworkRequestFailure),y.b.off("success",this.handleNetworkRequestSuccess)}render(){return null}}),Ry=s(294),by=s(303);let Ny=!1;const My=ve.a.create("norrin/darla"),yy="meta.y.slotData.trusted_custom",Ly=["LREC","MON","LREC4"],Py=Object($o.defineMessages)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},upsell_message_caption:{id:"ad.upsell_message_caption",defaultMessage:"Want an ad-free inbox? Upgrade to {YahooMailProBrand}."}});class vy extends Ko.a.Component{constructor(...e){super(...e),o()(this,"updateAds",(e,t)=>{e.forEach(e=>{const s=document.querySelector("#slot_"+e);s&&(-1===t.indexOf(e)?s.classList.add("rail_ad_hidden"):s.classList.remove("rail_ad_hidden"))})}),o()(this,"fetchCurveBallImage",()=>new y.b("GET","https://s.yimg.com/av/curveball/ads/pr/RESIZE/82x82/e0c798d5985f074be65e92bcccdb8456.jpeg").send()),o()(this,"_onSuccess",(e,t)=>{const s=window.DARLA,r=this.props,n=r.spaceId,a=r.rootSpaceId,o=r.darlaLookAhead,i=r.lrecMonAdArbitration&&t.filter(e=>Ly.indexOf(e)>-1);if(i&&i.length&&this.updateAds(Ly,i),this.allPosRenderLogger&&this.allPosRenderLogger.logSuccessAndLatency(),this.posRenderLoggers={},this.renderedPositions&&this.renderedPositions.length&&this._executeDarlaAdHandlerAction({spaceId:n.toString(),positions:this.renderedPositions}),o){s.prefetched().length&&s.render(),s.add("prefetch",{name:"prefetch",ps:this.context.getAdPositions().darla.join(","),sp:a,npv:1,ssl:1}),s.prefetch("prefetch")}}),o()(this,"_onStartParse",()=>{const e=this.context.getAdPositions().darla.join(",");this.parseLogger=My.feature("darla_ad_parse",{adPositions:e,intl:this.context.region})}),o()(this,"_onFinishParse",(e,t)=>{if(!t)return this.parseLogger.logFailure(),void this._executeDarlaAdHandlerAction({error:"Missing ad details"});this.parseLogger.logSuccessAndLatency();const s=this.props.lrecMonAdArbitration,r=t.ps();let n=[];s&&r.find(e=>{const s=Object(f.b)(t.item(e),"meta.y.facStatus.exclusionStatus.winners.0.positions","");return s&&(n=s.split(",")),s}),r.forEach(e=>{const r=t.item(e)||{},a=r.bookID,o=r.adID,i=r.creativeID,c=r.placementID,l=r.hasErr;if(s&&l&&n.length&&!n.includes(e))return;const d=My.feature("darla_ad_call",{adPosition:e,bookId:a,adId:o,creativeId:i,placementId:c,intl:this.context.region});l?d.logFailure():d.logSuccessAndLatency()})}),o()(this,"_onStartRequest",()=>{const e=this.context.getAdPositions().darla.join(",");this.fetchLogger=My.feature("darla_ad_fetch_call",{adPositions:e,rotationActionType:this.props.actionType,intl:this.context.region})}),o()(this,"_onFinishRequest",()=>{this.fetchLogger.logSuccessAndLatency()}),o()(this,"_onRequestTimeout",()=>{this.fetchLogger.logFailure(),this._executeDarlaAdHandlerAction({error:"Request timeout"})}),o()(this,"_onStartPrefetchRequest",()=>{const e=this.context.getAdPositions().darla.join(",");this.prefetchLogger=My.feature("darla_ad_prefetch_call",{adPositions:e,rotationActionType:this.props.actionType,intl:this.context.region})}),o()(this,"_onFinishPrefetchRequest",(e,t)=>{200===t?this.prefetchLogger.logSuccessAndLatency():(this.prefetchLogger.logFailure(),this._executeDarlaAdHandlerAction({error:"Prefetch request error: "+t}))}),o()(this,"_onBeforeStartPosRender",e=>{if(this.props.premiumAdDetection){const t=window.DARLA,s="true"===Object(f.b)(e,yy),r=e.pos,n=t.render.RenderMgr.get(r),a="true"===Object(f.b)(n,yy);if(a&&s)return this.props.adRotationSkipped({i13nModel:{isBeaconEvent:!0,eventName:Ii.a.AD_ROTATION_SKIPPED,pos:r}}),!0;!a&&s?this.props.premiumAdStarted({i13nModel:{isBeaconEvent:!0,eventName:Ii.a.PREMIUM_AD_STARTED,pos:r}}):a&&!s&&this.props.premiumAdStopped({i13nModel:{isBeaconEvent:!0,eventName:Ii.a.PREMIUM_AD_STOPPED,pos:r}})}}),o()(this,"_onStartPosRender",e=>{const t=e.pos;this.posRenderLoggers[t]=My.feature("darla_ad_pos_render",{adPosition:t,intl:this.context.region})}),o()(this,"getAdDebugUrl",(e="")=>{const t={DspId:"adSourceId",SeatId:"buyerId",DspCrId:"buyerCreativeId"};let s="http://app-ads-preview.production.omega.gq1.yahoo.com:4080/api/v1/ad-preview?";const r=e.match(/Oath SSP BannerAd (.*?) -->/),n=r?r[1]:null,a=[];return n?(n.split(", ").forEach(e=>{const s=e.split(":");t[s[0]]&&a.push(`${t[s[0]]}=${s[1]}`)}),s+=a.join("&"),s):""}),o()(this,"_onFinishPosRender",(e,t,s)=>{const r=this.posRenderLoggers[e];this.renderedPositions&&this.renderedPositions.push({bookId:s.bookID,position:s.pos,debugUrl:this.getAdDebugUrl(s.html)}),r&&r.logSuccessAndLatency()}),o()(this,"_onRenderTimeout",()=>{Object.keys(this.posRenderLoggers).forEach(e=>{this.posRenderLoggers[e].logFailure()})}),o()(this,"_executeDarlaAdHandlerAction",e=>{this._darlaHandlerTimer=setImmediate(()=>{this.props.darlaAdHandler(e||{spaceId:"",positions:[]})})}),o()(this,"_startMessageReadAdRotation",()=>{if(this.props.ABPStaticAds)return;const e=this.props,t=e.messageReadAdRotationInterval;e.messageReadAdRotationV1&&(this._stopMessageReadAdRotation(),this._messageReadAdRotationTimer=setTimeout(this._messageReadAdRotationCallback,t))}),o()(this,"_messageReadAdRotationCallback",()=>{const e=this.props,t=e.messageReadAdRotationTimestampV1,s=e.messageReadAdRotationIdleInterval;e.messageReadAdRotationV2?(this._messageReadAdRotationTimeToIdle-=this.props.messageReadAdRotationInterval,this._messageReadAdRotationTimeToIdle>0&&this.props.messageReadAdRotationTimer()):Date.now()<=t+s&&(this.props.messageReadAdRotationTimer(),this._startMessageReadAdRotation())}),o()(this,"_stopMessageReadAdRotation",()=>{clearTimeout(this._messageReadAdRotationTimer),this._messageReadAdRotationTimer=null}),o()(this,"_connectToWiderMailExtension",()=>{const e=location.pathname,t=new RegExp(`^(${C.ze})/test`);let s=[],r=[];if(t.test(e)||"undefined"==typeof chrome||void 0===chrome.runtime||void 0===chrome.runtime.connect)return;const n=this.props,a=n.disableWiderMailExtension,o=n.chromeLongtermExtensionList,i=n.legacyExtnDetected;n.chromeExtensionAllowlist.forEach(e=>{const t=chrome.runtime.connect(e);t&&s.push(t),t.onDisconnect.addListener(e=>{s=s.filter(t=>t!==e),0===s.length&&a()})}),o.forEach(e=>{const t=chrome.runtime.connect(e);t&&r.push(t),t.onDisconnect.addListener(e=>{r=r.filter(t=>t!==e),0===r.length&&i()})})}),o()(this,"updateAdblockUiId",()=>{const e=this.props,t=e.adblockPreviousUi;let s=1;t<C.r.length&&(s=t+1);(0,e.adblockUIUpdate)({uiId:s,i13nModel:{mKey:Ii.g.ADBLOCK_UI_UPDATE,sec:Ii.i.FEATURE_CUE,actionData:{uiId:s}}})}),o()(this,"dispatchAdbDetected",(e="")=>{const t=this.props,s=t.isMailPro,r=t.adblockDetected,n={};e&&(n.errorCode=e),r({mKey:Ii.g.ADBLOCK_DETECTED,sec:Ii.i.FEATURE_CUE,actionData:n}),this.props.adblockUpsellCue&&!s&&this.updateAdblockUiId()})}detectABP(){return new Promise(e=>{let t=null,s=null;const r=new Image,n=new Image;r.onload=()=>{t=!0,null!==s&&!1===s&&e(!0)},r.onerror=()=>e(!1),n.onload=()=>e(!1),n.onerror=()=>{s=!1,null!==t&&!0===t&&e(!0)},r.src="https://mail.yahoo.com/px.gif?ch=1",n.src="https://mail.yahoo.com/px.gif?ch=2"})}componentWillUpdate(e){const t=this.props,s=t.isMessageReadAdRotationActive,r=t.adRotationId,n=t.messageReadAdRotationIdleInterval,a=t.messageReadAdRotationTimestampV1,o=t.messageReadAdRotationV1,i=r!==e.adRotationId&&e.adRotationId-r>t.timeToWaitSinceLastAdCall,c=t.messageReadAdRotationTimestampV2!==e.messageReadAdRotationTimestampV2;t.messageReadAdRotationV2?s&&!e.isMessageReadAdRotationActive?this._stopMessageReadAdRotation():!e.isMessageReadAdRotationActive||s&&!i||(this._messageReadAdRotationTimeToIdle=c?this._messageReadAdRotationTimeToIdle:n,this._startMessageReadAdRotation()):o&&(a&&!e.messageReadAdRotationTimestampV1?this._stopMessageReadAdRotation():a!==e.messageReadAdRotationTimestampV1&&this._startMessageReadAdRotation())}detectAdblocker(){const e=["OUTBOUND"];this.props.isOnline&&(!window.DARLA&&this.props.hasGeminiBeenBlocked?this.dispatchAdbDetected():window.DARLA||this.fetchCurveBallImage().catch(t=>{if(t.errorCode&&-1!==e.indexOf(t.errorCode))this.dispatchAdbDetected(t.errorCode);else{(0,this.props.adblockBeaconFailed)({mKey:Ii.g.ADBLOCK_BEACON_FAILED,sec:Ii.i.FEATURE_CUE,actionData:{errorCode:t.errorCode||""}})}}))}componentDidMount(){const e=this.props,t=e.isAdBlocked,s=e.isOnline,r=e.abpDetected,n=e.hasGeminiBeenBlocked,a=e.geminiError;this._messageReadAdRotationTimer=null,this.fetchLogger=null,this.prefetchLogger=null,this.parseLogger=null,this.allPosRenderLogger=null,this.reconfigLogger=null,this.posRenderLoggers={},this.renderedPositions=[],this.props.isWiderMailExtnEnabled?this._connectToWiderMailExtension():this.detectABP().then(e=>{e?r({mKey:Ii.g.ABP_DETECTED,sec:Ii.i.RIGHT_RAIL,actionData:{hasGeminiBeenBlocked:n,geminiError:a}}):t||e||!s||(this._detectAdblockTimer=setTimeout(this.detectAdblocker.bind(this),2e4))})}componentDidUpdate(e){const t=this.props,s=t.spaceId,r=t.spaceIds,n=t.route,a=t.debugDarla,o=t.darlaLookAhead,i=t.darlaPrefetch,c=t.darlaPrefetchLaunchSyncer,l=t.nukeDisplayAdsOnInactive,d=t.mailProEligible,E=t.timeToWaitSinceLastAdCall,_=t.adFeedbackStarted,u=t.adRotationId,p=t.abortDarlaInProgress,m=t.darlaHostname,S=t.isRRCompactSize,h=t.isABPDetected,C=t.isMessageReadActiveCompose,g=t.noAdRotationOnCompose;if(!this.props.hasAds)return;const O=this.context.getAdPositions();if(l&&!e.nukeDisplayAdsOnInactive&&window.DARLA&&Object(f.b)(window.DARLA,"render.RenderMgr")&&(!g||!C)){const e=window.DARLA,t=O.darla.some(t=>{const s=e.render.RenderMgr.get(t);return s&&"true"===Object(f.b)(s,yy)});return void(e&&"function"==typeof e.inProgress&&!e.inProgress()&&!t&&Object(f.b)(e,"render.RenderMgr.nuke",!1)&&e.render.RenderMgr.nuke())}let T=u!==e.adRotationId&&u-e.adRotationId>E||e.isRRCompactSize!==S||e.isABPDetected!==h||e.isMessageReadActiveCompose!==C&&!C;if(this.props.noForceDisplayAdRotationOnRouteChange||(T=T||s!==e.spaceId),T&&!_&&0!==O.darla.length&&!this.props.isWiderMailExtnEnabled)if(Ny){if(window.DARLA){const e=window.DARLA;if(!(e.inProgress&&e.abort&&e.config&&e.addPos&&e.add&&e.render&&e.event))return;if(e.inProgress()){if(!p)return;e.abort()}if(document.activeElement){const e=document.activeElement,t=e.id;if("TEXTAREA"===e.tagName.toUpperCase()&&(-1!==t.indexOf("LREC")||-1!==t.indexOf("SKY")))return}this.renderedPositions=[],e.add("rotate",{name:"rotate",ps:O.darla.join(","),sp:s,npv:1,ssl:1}),this.props.darlaPostRender?setTimeout(this.rotateAds.bind(this,O),0):this.rotateAds(O)}}else{const e=this.context.intl.formatMessage,t={CTTRate:0,upsell:d,upsellMsg:e(Py.upsell_message_caption,{YahooMailProBrand:e(Py.yahoo_mail_pro_branding)}),onStartRequest:this._onStartRequest,onFinishRequest:this._onFinishRequest,onStartPrefetchRequest:this._onStartPrefetchRequest,onFinishPrefetchRequest:this._onFinishPrefetchRequest,onStartParse:this._onStartParse,onFinishParse:this._onFinishParse,onStartPosRender:this._onStartPosRender,onFinishPosRender:this._onFinishPosRender,onRenderTimeout:this._onRenderTimeout,onRequestTimeout:this._onRequestTimeout,onSuccess:this._onSuccess,onBeforeStartPosRender:this._onBeforeStartPosRender,tpbURI:Object(WT.g)(this.context.region),d:a?1:0,debug:a?1:0,servicePath:`https://${m}/sdarla/php/fc.php`,events:{DEFAULT:{ref:Object(WT.d)(window.location.hostname,n)}}},s=window.AppBootstrapData.buckets,l=Object(WT.e)({darlaGeminiArbitration:this.props.darlaGeminiArbitration},s,{hostname:m});if(l&&(t.events.DEFAULT.sa=l),window.DARLA){const e=window.DARLA.config,s=e(Object.assign({},e(),t));this._darlaRenderTimer=setTimeout(()=>{window.DARLA.render()},0),this.reconfigLogger=My.feature("darla_ad_reconfig",{adPositions:O.darla.join(","),intl:this.context.region,darlaLookAhead:o,darlaPrefetch:i,darlaPrefetchLaunchSyncer:c}),"OK"===s?this.reconfigLogger.logSuccess():this.reconfigLogger.logFailure({status:s,actionInProgress:"FAIL--522"===s?window.DARLA.inProgress():null})}else if(window.DARLA_CONFIG&&!1===window.DARLA_CONFIG.auto_render)window.DARLA_CONFIG=Object.assign(window.DARLA_CONFIG||{},t,{auto_render:!0});else{const e=this.context.locale.name||"en-US";let s=`${`https://${m}/sdarla/php/client.php`}?f=${Object(WT.f)(r,n.name)}&l=${O.darla.join(",")}&npv=1&ssl=1&lang=${e}`;window.DARLA_CONFIG||(window.DARLA_CONFIG=Object.assign({},$_.c,{lang:e})),window.DARLA_CONFIG=Object.assign(window.DARLA_CONFIG||{},t);const o=Object(f.b)(window,"DARLA_CONFIG.events.DEFAULT.ref",!1);o&&(s+="&ref="+encodeURIComponent(o)),s+=l?"&sa="+encodeURIComponent(encodeURIComponent(l)):"",a&&(s+="&debug=1&d=1"),Ry.a.loadScript(s)}Ny=!0}}rotateAds(e){const t=window.DARLA,s=this.props.darlaLookAhead,r=t.prefetched(),n=!(!s||!r.length);if(this.allPosRenderLogger=My.feature("darla_ad_all_pos_render",{adPositions:e.darla.join(","),intl:this.context.region,renderFromCache:n}),n){e.darla.every(e=>-1!==r.indexOf(e))?t.render():t.event("rotate")}else t.event("rotate")}componentWillUnmount(){this._detectAdblockTimer&&clearTimeout(this._detectAdblockTimer),this._darlaRenderTimer&&clearTimeout(this._darlaRenderTimer),this._darlaHandlerTimer&&clearImmediate(this._darlaHandlerTimer)}render(){return null}}o()(vy,"contextTypes",{getAdPositions:Vo.a.func,config:Vo.a.object,region:Vo.a.string,locale:Vo.a.object,intl:$o.intlShape.isRequired});var Fy=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.getAdsSelectors,r=t.getCurrentSpaceId,n=t.getRoute,a=t.isMessageReadAdRotationActive,o=t.getAction,i=t.isNarrowScreen,c=t.isOnline,l=(0,t.getFeaturesSelectors)(),d=l.getSetting,E=l.isEnabled,_=s(),u=_.getAdRotationId,p=_.getFeedbackStartedSectionIds,m=_.hasGeminiBeenBlocked,S=_.getAllGeminiError,h=_.isAdBlocked,g=_.getMessageReadAdRotationTimestamp,O=_.getMessageReadAdRotationTimestampV2,T=_.getMessageReadAdRotationActive,A=_.isABPDetected,I=n();return{messageReadAdRotationTimestampV1:g(),messageReadAdRotationTimestampV2:O(),adRotationId:u(),adFeedbackStarted:p().length>0,hasAds:E(C.Eb.ADS),darlaLookAhead:E(C.Eb.DARLA_LOOKAHEAD),darlaPrefetch:E(C.Eb.DARLA_PREFETCH),darlaPrefetchLaunchSyncer:E(C.Eb.DARLA_PREFETCH_LAUNCH_SYNCER),debugDarla:E(C.Eb.DEBUG_DARLA),isMessageReadActiveCompose:!T()&&(I.name===C.rd.MESSAGE_FROM_FOLDER_LIST||I.name===C.rd.MESSAGE_FROM_SEARCH_LIST||I.name===C.rd.MESSAGE_FROM_LIST),route:I,spaceId:r(),spaceIds:d(C.Kd.SPACE_IDS),rootSpaceId:d(C.Kd.SPACE_IDS).root,messageReadAdRotationV1:E(C.Eb.MESSAGE_READ_AD_ROTATION),lrecMonAdArbitration:E(C.Eb.LREC_MON_AD_ARBITRATION),messageReadAdRotationInterval:d(C.Kd.MESSAGE_READ_AD_ROTATION_INTERVAL),messageReadAdRotationIdleInterval:d(C.Kd.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL),isWiderMailExtnEnabled:E(C.Eb.IS_WIDER_MAIL_EXTN_ENABLED),nukeDisplayAdsOnInactive:E(C.Eb.NUKE_DISPLAY_ADS_ON_INACTIVE),mailProEligible:E(C.Eb.MAIL_PRO_ELIGIBLE),premiumAdDetection:E(C.Eb.PREMIUM_AD_DETECTION),timeToWaitSinceLastAdCall:d(C.Kd.TIME_TO_WAIT_SINCE_LAST_AD_CALL),chromeExtensionAllowlist:d(C.Kd.CHROME_EXTENSION_ALLOWLIST),chromeLongtermExtensionList:d(C.Kd.CHROME_LONGTERM_EXTENSION_LIST),abortDarlaInProgress:E(C.Eb.ABORT_DARLA_IN_PROGRESS),hasGeminiBeenBlocked:m(),geminiError:S(),isOnline:c(),isAdBlocked:h(),messageReadAdRotationV2:E(C.Eb.MESSAGE_READ_AD_ROTATION_V2),isMessageReadAdRotationActive:a(),actionType:o().type,adblockUpsellCue:E(C.Eb.ADBLOCK_UPSELL_CUE),adblockPreviousUi:d(C.Kd.AD_BLOCK_FEATURE_CUE_ID),isMailPro:E(C.Eb.MAIL_PRO),darlaPostRender:E(C.Eb.DARLA_POST_RENDER),darlaGeminiArbitration:E(C.Eb.DARLA_GEMINI_ARBITRATION),darlaHostname:d(C.Kd.DARLA_HOSTNAME),ABPStaticAds:E(C.Eb.ABP_STATIC_ADS),noForceDisplayAdRotationOnRouteChange:E(C.Eb.NO_FORCE_DISPLAY_AD_ROTATION_ON_ROUTE_CHANGE),isRRCompactSize:i()&&!E(C.Eb.WIDE_RIGHT_RAIL),isABPDetected:A(),noAdRotationOnCompose:E(C.Eb.NO_AD_ROTATION_ON_COMPOSE)}},e=>({darlaAdHandler:t=>e(Object(JE.d)(t)),messageReadAdRotationTimer:()=>e(Object(JE.l)()),disableWiderMailExtension:()=>e(Object(JE.e)()),legacyExtnDetected:()=>e(Object(JE.k)()),adRotationSkipped:t=>e(Object(JE.b)(t)),premiumAdStarted:t=>e(Object(JE.n)(t)),premiumAdStopped:t=>e(Object(JE.o)(t)),adblockDetected:t=>e(Object(by.c)({i13nModel:t})),adblockUIUpdate:t=>e(Object(by.d)(t)),abpDetected:t=>e(Object(by.a)({i13nModel:t})),adblockBeaconFailed:t=>e(Object(by.b)({i13nModel:t}))}))(vy);var Uy=()=>(Object(Wo.useEffect)(()=>{const e=qM.feature("service_worker_ready");return navigator.serviceWorker?navigator.serviceWorker.ready.then(()=>e.logSuccess(),t=>e.logFailure(t)):e.logFailure(new TypeError("navigator.serviceWorker is undefined")),()=>{}},[]),null);const wy=Object($o.defineMessages)({tabs_nav:{id:"landmark.tabs",defaultMessage:"Tabs"},heading_cheatsheet:{id:"keyboardShortcut.heading_cheatsheet",defaultMessage:"Press question mark key to invoke the keyboard shortcuts cheatsheet"}});class Gy extends Ko.a.Component{constructor(...e){super(...e),o()(this,"_handleVisibilityChange",e=>{let t;if("blur"===e.type){const e=document.activeElement;if(e&&"iframe"===e.tagName.toLowerCase())return;t=!1}else t="focus"===e.type||"visible"===document.visibilityState;this.context.executeAction(Li.d,{isVisible:t})}),o()(this,"getStateFromStores",()=>{const e=Object(wi.selectors)(this.context.store.getState()),t=e.getEnvironmentSelectors,s=e.getAccountById,r=e.getSelectedAccountId,n=(0,e.getFeaturesSelectors)(),a=n.isEnabled("focusBasedVisibilityDetection"),o=n.isEnabled(C.Eb.YBAR_FUJI2_THEME),i=o&&!n.isEnabled(C.Eb.SHOW_YBAR_FUJI2_DIALPAD),c=n.isEnabled("offlineChecking"),l=n.isEnabled(C.Eb.TIMEZONE_CHECK),d=n.isEnabled(C.Eb.SMARTVIEW_CATEGORIES_ENABLED),E=n.isEnabled(C.Eb.EMPTY_FOLDER_VIDEO),_=n.isEnabled(C.Eb.THEMES_CUE_V3),u=n.isEnabled(C.Eb.IS_WIDER_MAIL_EXTN_ENABLED),p=n.isEnabled(C.Eb.ADS),m=n.isEnabled(C.Eb.EXTRACTIONS_FEEDBACK),S=n.isEnabled(C.Kd.HAS_WIDE_LOGO),h=n.getSetting("logoUrl"),g=n.getSetting("logoSrcSet"),O="rtl"===t().getPageDirection(),T=s(r()),A=Object(jl.a)(T);return{focusBasedVisibilityDetection:a,offlineChecking:c,timezoneCheck:l,smartViewCategoriesEnabled:d,emptyFolderVideo:E,isThemesCueShown:_,isWiderMailExtnEnabled:u,hasAds:p&&!A,isExtractionsFeedbackEnabled:m,hasWideLogo:S,logoUrl:h,logoSrcSet:g,isRTL:O,ybarFuji2Enabled:o,ybarFuji2TopNavigation:i}})}componentDidMount(){const e=this.getStateFromStores().focusBasedVisibilityDetection;window.addEventListener("visibilitychange",this._handleVisibilityChange),e&&(window.addEventListener("blur",this._handleVisibilityChange),window.addEventListener("focus",this._handleVisibilityChange)),this.context.executeAction(Li.c),window.addEventListener("load",()=>{Promise.resolve(this.context.executeAction(Li.a))})}componentWillUnmount(){const e=this.getStateFromStores().focusBasedVisibilityDetection;window.removeEventListener("visibilitychange",this._handleVisibilityChange),e&&(window.removeEventListener("blur",this._handleVisibilityChange),window.removeEventListener("focus",this._handleVisibilityChange))}render(){const e=this.props,t=!!e.multiTaskModeSetting,r=this.context.intl.formatMessage,n=this.getStateFromStores(),a=n.offlineChecking,o=n.timezoneCheck,i=n.smartViewCategoriesEnabled,c=n.emptyFolderVideo,l=n.isThemesCueShown,d=n.isWiderMailExtnEnabled,E=n.hasAds,_=n.isExtractionsFeedbackEnabled,u=n.logoUrl,p=n.logoSrcSet,m=n.isRTL,S=this.context.getCss(mE.a,{tabs:t,ads:E,wideLogo:n.hasWideLogo,ybarFuji2Enabled:n.ybarFuji2Enabled,ybarFuji2TopNavigation:n.ybarFuji2TopNavigation});return Ko.a.createElement(uE.a,{logoUrl:u,logoSrcSet:p,isRTL:m,className:S.errorContainer},Ko.a.createElement($E,{className:S.inputModeWrapper,key:d?"widerMailExtnEnabled":"widerMailExtnDisabled"},Ko.a.createElement("div",{className:S.bgContainer},Ko.a.createElement("div",{id:"app","data-test-id":"mail-app",className:S.container,tabIndex:-1},Ko.a.createElement(Mi.a,{defer:!0,import:"../../molecules/timezone_check",timezoneCheck:o,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1270))},_moduleResolver:function(){return 1270}}),E?Ko.a.createElement(_E,null):null,Ko.a.createElement("section",{className:S.appHeader,role:"banner","data-yaft-module":"norrin_header"},Ko.a.createElement("div",{className:S.ybar}),(t||i)&&Ko.a.createElement("div",{className:S.tabWrapper,role:"navigation","aria-label":r(wy.tabs_nav)},Ko.a.createElement("div",{className:S.tabSpace},""),Ko.a.createElement("div",{className:S.tab},Ko.a.createElement(Zi,null)))),Ko.a.createElement(tc,{toastMap:zd}),Ko.a.createElement(QE,null),Ko.a.createElement(Xi.a,null),Ko.a.createElement(oE,null),Ko.a.createElement(Ay,null),a&&Ko.a.createElement(Dy,null),Ko.a.createElement(LM,e),E&&Ko.a.createElement(Fy,null),Ko.a.createElement(Mi.a,{defer:!0,import:"./controller_views/print",_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1326))},_moduleResolver:function(){return 1326}}),Ko.a.createElement(Mi.a,{defer:!0,import:"./controller_views/heartbeat",_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1271))},_moduleResolver:function(){return 1271}}),c&&!l&&Ko.a.createElement(Mi.a,{defer:!0,import:"../../molecules/empty_folder_video",_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1335))},_moduleResolver:function(){return 1335}}),Ko.a.createElement(Mi.a,{defer:!0,import:"../../molecules/downloader/index",_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1339))},_moduleResolver:function(){return 1339}}),_&&Ko.a.createElement(Mi.a,{defer:!0,bundleName:"feedback",import:"../../molecules/feedback",_moduleLoader:function(){return s.e(3).then(s.bind(null,1272))},_moduleResolver:function(){return 1272}}),Ko.a.createElement(Uy,null))),Ko.a.createElement("div",{className:S.accessible,role:"heading","aria-label":r(wy.heading_cheatsheet)})))}}o()(Gy,"contextTypes",{executeAction:Vo.a.func,config:Vo.a.object,store:Vo.a.object,intl:$o.intlShape.isRequired,getCss:Vo.a.func});var Hy=(e=>function(e){var t,s;return s=t=class extends Ko.a.Component{constructor(...e){super(...e),o()(this,"_isLatestWindow",()=>{const e=Object(CE.i)("windowIds");let t=!0;return e&&this._windowId!==parseInt(e.split(",").pop(),10)&&(t=!1),t}),o()(this,"_getWindowId",()=>this._windowId),o()(this,"_addNewWindow",()=>{if(this._windowId)return;let e=Object(CE.i)("windowIds");this._windowId=Math.floor(Date.now()/1e3),e?e+=","+this._windowId:e=this._windowId,Object(CE.j)("windowIds",e)}),o()(this,"_removeWindow",()=>{let e=Object(CE.i)("windowIds");if(!e)return;const t=e.split(",");e=t.filter(e=>this._windowId.toString()!==e).join(","),Object(CE.j)("windowIds",e)})}getChildContext(){return{getWindowId:this._getWindowId,isLatestWindow:this._isLatestWindow}}componentDidMount(){this._addNewWindow(),window.addEventListener("beforeunload",this._removeWindow)}componentWillUnmount(){this._removeWindow()}render(){return Ko.a.createElement(e,this.props)}},o()(t,"displayName","WindowManager"),o()(t,"childContextTypes",{getWindowId:Vo.a.func,isLatestWindow:Vo.a.func}),s}(e))(hE(((e,{toastWrapper:t})=>{class s extends Wo.Component{constructor(e,t){super(e);const s=(0,Object(wi.selectors)(t.store.getState()).getFeaturesSelectors)();this.showToast=this.showToast.bind(this),this.closeToast=this.closeToast.bind(this),this.clearToastTimeoutHandler=this.clearToastTimeoutHandler.bind(this),this.resumeToast=this.resumeToast.bind(this),this.getRole=this.getRole.bind(this),this.notificationTTL=s.getSetting("notificationTTL")||5e3,this.toastTimeoutHandler=null}getChildContext(){return{toast:this.showToast}}getRole(e){return e.requireInteraction?C.Pc.ALERT_DIALOG:e.type===C.Qc.NORMAL?C.Pc.STATUS:C.Pc.ALERT}renderToastWrapperSubtree({toast:e,role:s}){Xo.a.unstable_renderSubtreeIntoContainer(this,Ko.a.createElement(t,{toast:e,role:s,onClose:this.closeToast,onPause:this.clearToastTimeoutHandler,onResume:this.resumeToast}),this.toastContainerNode)}showToast(e){Object(I.c)()&&(this.lastToast&&Object(f.b)(e,"priority",C.Oc.LOW)<Object(f.b)(this.lastToast,"priority",C.Oc.LOW)||(this.clearToastTimeoutHandler(),this.lastToast=e,this.renderToastWrapperSubtree({toast:e,role:this.getRole(e)}),e.requireInteraction||(this.toastTimeoutHandler=setTimeout(this.closeToast,this.notificationTTL))))}closeToast(){this.lastToast&&(this.renderToastWrapperSubtree({toast:null,role:this.getRole(this.lastToast)}),delete this.lastToast),this.clearToastTimeoutHandler()}clearToastTimeoutHandler(){this.toastTimeoutHandler&&clearTimeout(this.toastTimeoutHandler)}resumeToast(){this.toastTimeoutHandler=setTimeout(()=>this.closeToast(),this.notificationTTL)}componentDidMount(){this.toastContainerNode=document.createElement("div");const e=document.getElementById("app");e&&(e.appendChild(this.toastContainerNode),this.renderToastWrapperSubtree({toast:null,role:C.Pc.STATUS}))}componentWillUnmount(){this.closeToast()}render(){return Ko.a.createElement(e,this.props)}}return s.contextTypes={store:Vo.a.object},s.childContextTypes={toast:Vo.a.func},s})(function(e){var t,s;return s=t=class extends Ko.a.Component{constructor(...e){super(...e),o()(this,"adPositions",{darla:[],pencil:[]})}getChildContext(){return{registerAdPosition:({darlaPos:e,pencilPos:t})=>{e&&(this.adPositions.darla=Es()(this.adPositions.darla.concat(e))),t&&(this.adPositions.pencil=Es()(this.adPositions.pencil.concat(t)))},removeAdPosition:({darlaPos:e,pencilPos:t})=>{e&&(this.adPositions.darla=this.adPositions.darla.filter(t=>t!==e)),t&&(this.adPositions.pencil=this.adPositions.pencil.filter(e=>e!==t))},getAdPositions:()=>this.adPositions}}render(){return Ko.a.createElement(e,this.props)}},o()(t,"childContextTypes",{registerAdPosition:Vo.a.func,removeAdPosition:Vo.a.func,getAdPositions:Vo.a.func}),s}(Gy),{appName:C.B.MAIL_APP,toastWrapper:eE})));hE(Gy);var jy=s(857),ky=s.n(jy),xy=s(487),By=s(860),Vy=s.n(By),Wy=s(355);const Ky=Object(P_.a)("/img/festive_graphic.png"),qy=Ti()(Vy.a),Yy=[C.xb.GOOGLE,C.xb.OUTLOOK,C.xb.AOL],zy={padding:0,height:9*di.G+"px",width:37*di.G+"px",margin:2*di.G+"px 0 0 0"},Qy=Object($o.defineMessages)({header_message:{id:"external_users_header_message",defaultMessage:"Add your existing mailboxes to {mailBrandNameString}"},switch_account:{id:"external_users_switch_account",defaultMessage:"Switch account"}}),Zy=({accountType:e,userName:t,onNext:s,onProviderSelect:r},n)=>{const a=n.intl,o=a.locale,i=a.formatMessage,c=n.region,l=Object(jl.e)(t);l===C.xb.VERIZON_MEDIA&&-1===Yy.indexOf(C.xb.VERIZON_MEDIA)&&Yy.push(C.xb.VERIZON_MEDIA);const d=e=>{r(e),s&&s()},E=Ko.a.createElement("b",{className:qy.userName},t);return Ko.a.createElement("div",{className:qy.upsellPage},Ko.a.createElement("img",{className:qy.image,alt:i(Qy.header_message),src:Ky}),Ko.a.createElement("h1",{className:qy.header},Ko.a.createElement($o.FormattedMessage,zo()({},Qy.header_message,{values:{mailBrandNameString:n.mailBrandNameString}}))),Ko.a.createElement("div",{className:qy.body},Ko.a.createElement("div",{className:qy.description},Ko.a.createElement($o.FormattedMessage,e===C.n.PHONE?{id:"external_phone_login_message",defaultMessage:"You're signed in with phone number {userName}",values:{userName:E}}:{id:"external_email_login_message",defaultMessage:"You're signed in as {userName}.",values:{userName:E}}),"",Ko.a.createElement("a",{className:qy.switchAccount,href:Object(C.Ne)(c,o),title:i(Qy.switch_account)},Ko.a.createElement($o.FormattedMessage,Qy.switch_account))),Ko.a.createElement("div",{className:qy.description},Ko.a.createElement($o.FormattedMessage,l?{id:"external_users_known_imap_description",defaultMessage:"You can read, compose and sort all your {name} messages from Yahoo Mail.",values:{name:Object(jl.f)(l)}}:{id:"external_users_unkown_imap_description",defaultMessage:"You can access your Google, Outlook and AOL mailboxes, all from within Yahoo Mail."})),Ko.a.createElement("div",{className:qy.providersOption},Ko.a.createElement("ol",{className:qy.accountList},Yy.filter(e=>!l||l===e).map(e=>Ko.a.createElement("li",{key:e,className:qy.listItem,"data-test-id":"supported-imap-providers"},Ko.a.createElement(Wy.a,{provider:e}),Ko.a.createElement(mi.a,{style:zy,kind:Si.a.PRIMARY,"data-test-id":`add-account-${e}-btn`,onClick:d.bind(null,e)},Ko.a.createElement($o.FormattedMessage,l?{id:"user_registration_sign_in_btn",defaultMessage:"Sign in to {name}",values:{name:Object(jl.f)(l)}}:{id:"user_registration_add_account",defaultMessage:"Add account"}))))))),Ko.a.createElement("div",{className:qy.footer},!l&&Ko.a.createElement($o.FormattedMessage,{id:"external_supported_providers",defaultMessage:"We only support these providers as of now"})))};Zy.contextTypes={intl:$o.intlShape,region:Vo.a.string,mailBrandNameString:Vo.a.string};var Xy=Zy,$y=s(861),Jy=s.n($y);const eL=Ti()(Jy.a);var tL=({provider:e})=>Ko.a.createElement("div",{className:eL.leftRailItemsContainer},Ko.a.createElement("button",{className:eL.link,disabled:!0},Ko.a.createElement($o.FormattedMessage,{id:"user_registration_compose_btn",defaultMessage:"Compose"})),e&&Ko.a.createElement("div",{className:eL.accountslist,"data-test-id":"known-imap-provider"},Ko.a.createElement("span",{className:eL.accountsListItem,"data-test-id":"imap-provider-name"},Object(jl.f)(e)),Ko.a.createElement("div",{className:eL.moreIcon},Ko.a.createElement("span",{className:eL.iconContainer},Ko.a.createElement(ei.b,{kind:ti.Kinds.MORE,size:ti.Sizes.XXXS,colorState:ti.ColorStates.SECOND_LEVEL_GRAY})))),Ko.a.createElement("ul",{className:eL.folderList},Object(dp.e)(9).map(e=>Ko.a.createElement("li",{key:e,className:eL.listItem},Ko.a.createElement("div",{className:eL.folderName,style:{width:e%3*10+28+"px"}})))),Ko.a.createElement("div",{className:eL.header},Ko.a.createElement("div",{className:eL.folderName,style:{width:"41px"}}),Ko.a.createElement("div",{className:eL.folderName,style:{width:"25px"}})),Ko.a.createElement("ul",{className:eL.list},[ti.Kinds.TAB_IMAGES,ti.Kinds.DOCUMENTS_S,ti.Kinds.CAL_MAYBE].map((e,t)=>{const s=t%3*10+28+"px";return Ko.a.createElement("li",{key:e,className:eL.listItem},Ko.a.createElement(ei.b,{kind:e,size:ti.Sizes.XS,colorState:ti.ColorStates.SECOND_LEVEL_GRAY}),Ko.a.createElement("div",{className:eL.folderName,style:{width:s}}))}))),sL=s(109),rL=s(497),nL=s(498),aL=s(610);function oL(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function iL(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?oL(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oL(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const cL=()=>{},lL=Ti()(ky.a),dL=Object($o.defineMessages)({back_button_title:{id:"external_users_back_btn_title",defaultMessage:"Back"},sign_in_button_title:{id:"external_users_sign_in_btn_title",defaultMessage:"Sign in"},cancel_button_title:{id:"external_users_cancel_btn_title",defaultMessage:"Cancel"},relaunch_button_title:{id:"external_users_oauth_relaunch_button_title",defaultMessage:"Relaunch window"}});class EL extends Ko.a.Component{constructor(...e){super(...e),o()(this,"state",{email:"",selectedProvider:""}),o()(this,"handleChange",(e,t)=>{const s=this.props.onEmailProviderSelected;this.state[e]!==t&&("provider"===e?this.setState({email:"",selectedProvider:t},()=>{t&&s({i13nModel:{interactionType:Ii.e.nav,mKey:Ii.g.USERNAME_PHONE_REG_ADD_PROVIDER,sec:Ii.i.USERNAME_PHONE_REG,actionData:{selectedProvider:t}}})}):this.setState({[e]:t}))}),o()(this,"handleCancelAuthorize",({status:e,provider:t,email:s})=>{this.props.onAuthorizationCanceled({i13nModel:{interactionType:Ii.e.click,mKey:Ii.g.USERNAME_PHONE_REG_CANCEL_AUTHORIZE,sec:Ii.i.USERNAME_PHONE_REG,actionData:{status:e,provider:t,email:s}}})}),o()(this,"handleCreateAccount",e=>{const t={interactionType:Ii.e.nav,mKey:Ii.g.USERNAME_PHONE_REG_ADD_ACCOUNT,sec:Ii.i.USERNAME_PHONE_REG,actionData:{email:e.email}};(0,this.props.onAddNewAccount)(iL({},Object(jl.g)(e),{i13nModel:t}))}),o()(this,"_renderSignInComponentTitle",()=>Ko.a.createElement("h5",{className:lL.titleLabel},Ko.a.createElement($o.FormattedMessage,{id:"external_users_add_mailbox_header",defaultMessage:"You are almost done!"}))),o()(this,"_resetProvider",(e=cL)=>{this.setState({selectedProvider:""},e)}),o()(this,"_renderSignInComponentNav",({onPrevious:e,onNext:t,isStepValid:s})=>{const r=this.context.intl.formatMessage;return Ko.a.createElement("div",{className:lL.navWrapper},Ko.a.createElement(mi.a,{kind:Si.a.SECONDARY,title:r(dL.back_button_title),"data-test-id":"username-phone-reg-back-btn",onClick:this._resetProvider.bind(this,e)},Ko.a.createElement($o.FormattedMessage,dL.back_button_title)),Ko.a.createElement(mi.a,{onClick:t,disabled:!s(),kind:Si.a.PRIMARY,"data-test-id":"username-phone-reg-signin-btn",title:r(dL.sign_in_button_title)},Ko.a.createElement($o.FormattedMessage,dL.sign_in_button_title)))}),o()(this,"_renderOAuthComponentNav",({onPrevious:e,onNext:t})=>{const s=this.context.intl.formatMessage;return Ko.a.createElement("div",{className:lL.navWrapper},Ko.a.createElement(mi.a,{kind:Si.a.SECONDARY,title:s(dL.back_button_title),onClick:e},Ko.a.createElement($o.FormattedMessage,dL.back_button_title)),Ko.a.createElement(mi.a,{onClick:t,kind:Si.a.PRIMARY,"data-test-id":"username-phone-reg-relaunch-btn",title:s(dL.relaunch_button_title)},Ko.a.createElement($o.FormattedMessage,dL.relaunch_button_title)))}),o()(this,"_renderOAuthComponentTitle",()=>Ko.a.createElement("h5",{className:lL.titleLabel},Ko.a.createElement($o.FormattedMessage,{id:"oAuth_signIn_text",defaultMessage:"Sign in to your account"})))}_doesEmailAlreadyExist(e){return!!this.props.accounts.find(t=>t.email===e)}_getSteps(){const e=this.state,t=e.email,s=e.selectedProvider,r=this.props,n=r.userName,a=r.accountType,o=r.appRootPath,i=r.accounts,c=Object(jl.e)(n),l=[Ko.a.createElement(Xy,{key:"upsell",userName:n,accountType:a,onProviderSelect:this.handleChange.bind(this,"provider")})];if(this._doesEmailAlreadyExist(n)&&c){return l.push(Ko.a.createElement(()=>this._getError(),{key:"external-accounts-error"})),l}return c||l.push(Ko.a.createElement(nL.a,{key:"address",email:t,accounts:i,onAuthorizeAccount:cL,provider:s,onChange:this.handleChange,renderNavComponent:this._renderSignInComponentNav,renderTitleComponent:this._renderSignInComponentTitle})),l.push(Ko.a.createElement(rL.a,{key:"signin",hideCancelButton:!0,handleAddSuccess:cL,onAuthorizeAccount:cL,appRootPath:o,onAuthorize:this.handleCreateAccount,onCancelAuthorize:this.handleCancelAuthorize,email:c?n:t,provider:c||s,renderNavComponent:this._renderOAuthComponentNav,renderTitleComponent:this._renderOAuthComponentTitle})),l.push(Ko.a.createElement(aL.a,{key:"add-confirm",isSyncing:!0})),l}_getError(){const e=this.props.userName;return Ko.a.createElement("div",{className:lL.errorContainer,"data-test-id":"external-accounts-error"},this._renderOAuthComponentTitle(),Ko.a.createElement("div",{className:lL.errorWrapper},Ko.a.createElement("div",{className:lL.errorIcon},Ko.a.createElement(ei.b,{size:ti.Sizes.XS,kind:ti.Kinds.EXCLAMATION_ALT,colorState:ti.ColorStates.WARNING_GRAD_RED})),Ko.a.createElement($o.FormattedMessage,{id:"unr_error_account_add_failed",defaultMessage:"Your email {email} already exists.\n                        If you deleted the mailbox recently, please wait for a few minutes\n                        until the process is complete and try again",values:{email:Ko.a.createElement("strong",null,e)}})),Ko.a.createElement("div",{className:lL.navWrapper},Ko.a.createElement(mi.a,{kind:Si.a.SECONDARY,onClick:()=>window.location.reload(),title:this.context.intl.formatMessage(dL.back_button_title)},Ko.a.createElement($o.FormattedMessage,dL.back_button_title))))}componentDidMount(){this.props.onLoadComplete({i13nModel:{interactionType:Ii.e.nav,mKey:Ii.g.USERNAME_PHONE_REG_ONBOARDING,sec:Ii.i.USERNAME_PHONE_REG}})}render(){const e=this.props.userName,t=this.state.selectedProvider,s=Object(jl.e)(e);return Ko.a.createElement("div",{id:"app",className:lL.wrapper},Ko.a.createElement("div",{className:lL.shadedContainer},Ko.a.createElement("div",{className:lL.container,"data-test-id":"username-phone-reg-upsell"},Ko.a.createElement("nav",{className:lL.leftRail},Ko.a.createElement(tL,{provider:s||t})),Ko.a.createElement("main",{className:lL.widthRestricter},Ko.a.createElement("section",{className:lL.mainContent},Ko.a.createElement(xy.a,null,this._getSteps())),Ko.a.createElement("aside",{className:lL.rightRail})))))}}o()(EL,"contextTypes",{intl:$o.intlShape.isRequired});var _L=Object(qo.connect)((function(e){const t=Object(wi.selectors)(e),s=t.getAccountSelectors,r=t.getAllAccounts,n=(0,t.getFeaturesSelectors)().getSetting("appRootPath");return{accountType:(s().getPrimaryAccount()||{}).type,appRootPath:n,accounts:r()}}),(function(e){return{onLoadComplete:t=>e(iL({type:sc.USER_NAME_PHONE_REG_UPSELL_LOADED},t)),onAuthorizationCanceled:t=>e(iL({type:sc.USER_NAME_PHONE_REG_CANCEL_AUTH},t)),onAddNewAccount:t=>e(Object(sL.a)(t)),onEmailProviderSelected:t=>e(Object(sL.j)(t))}}))(EL),uL=s(268);function pL(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function mL(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?pL(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pL(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var SL=({onDismiss:e,description:t,dismissLabel:s,title:r})=>Ko.a.createElement(WS.a,{onClose:e,onAccept:e,title:r,message:t,acceptText:s,hideClose:!0});const hL=({title:e,description:t,onDismiss:s,onConfirm:r,dismissLabel:n,confirmLabel:a},{intl:o})=>Ko.a.createElement(Ju.a,{hideIcon:!0,title:e,message:t,onConfirm:r,onAbort:s,acceptLabel:a||o.formatMessage({id:"confirm.accept",description:"Accept button label on confirm dialog",defaultMessage:"OK"}),cancelLabel:n||o.formatMessage({id:"confirm.cancel",description:"Cancel button label on confirm dialog",defaultMessage:"Cancel"})});hL.contextTypes={intl:$o.intlShape};var CL=hL;let gL=Object(qo.connect)((function(e){const t=Object(wi.selectors)(e),s=t.getFeaturesSelectors,r=(0,t.getAccountSelectors)().userHasRegisteredAccount(),n=s().isEnabled(C.Kd.MAIL_TABS);return{userName:s().getSetting(C.Kd.LOGIN_NAME),multiTaskModeSetting:n,userHasRegisteredAccount:r}}))((function({userHasRegisteredAccount:e,multiTaskModeSetting:t,userName:s,context:r}){return e?Ko.a.createElement(Hy,{multiTaskModeSetting:t,context:r}):Ko.a.createElement(_L,{userName:s})}));gL=((e,{alert:t,confirm:s,prompt:r})=>{class n extends Wo.Component{constructor(...e){super(...e),o()(this,"showAlert",e=>{if(!t)throw new TypeError("Missing Alert component");if(!Object(I.c)())return;this.renderDialogSubtree(C.ub.ALERT,mL({},e,{onDismiss:(()=>{this.renderDialogSubtree(C.ub.ALERT,{},!1),e.onDismiss&&e.onDismiss()}).bind(this)}))}),o()(this,"showConfirm",e=>{if(!s)throw new TypeError("Missing Confirm component");if(!Object(I.c)())return;this.renderDialogSubtree(C.ub.CONFIRM,mL({},e,{onDismiss:(()=>{this.renderDialogSubtree(C.ub.CONFIRM,{},!1),e.onDismiss&&e.onDismiss()}).bind(this),onConfirm:(()=>{this.renderDialogSubtree(C.ub.CONFIRM,{},!1),e.onConfirm()}).bind(this)}))}),o()(this,"showPrompt",e=>{if(!r)throw new TypeError("Missing Prompt component");if(!Object(I.c)())return;this.renderDialogSubtree(C.ub.PROMPT,mL({},e,{onDismiss:(()=>{this.renderDialogSubtree(C.ub.PROMPT,{},!1),e.onDismiss&&e.onDismiss()}).bind(this),onConfirm:(t=>{this.renderDialogSubtree(C.ub.PROMPT,{},!1),e.onConfirm(t)}).bind(this)}))})}getChildContext(){return{alert:this.showAlert,confirm:this.showConfirm,prompt:this.showPrompt}}componentDidMount(){this.dialogContainerNode=document.createElement("div"),this.dialogContainerNode.id="mobile-dialog";document.body.appendChild(this.dialogContainerNode)}renderDialogSubtree(e,n,a=!0){const o=mL({},n,{layerRootId:"mobile-dialog"});e===C.ub.ALERT?Xo.a.unstable_renderSubtreeIntoContainer(this,a?Ko.a.createElement(t,o):Ko.a.createElement("span",null),this.dialogContainerNode):e===C.ub.CONFIRM?Xo.a.unstable_renderSubtreeIntoContainer(this,a?Ko.a.createElement(s,o):Ko.a.createElement("span",null),this.dialogContainerNode):e===C.ub.PROMPT&&Xo.a.unstable_renderSubtreeIntoContainer(this,a?Ko.a.createElement(r,o):Ko.a.createElement("span",null),this.dialogContainerNode)}render(){return Ko.a.createElement(e,this.props)}}return n.childContextTypes={alert:Vo.a.func,confirm:Vo.a.func,prompt:Vo.a.func},n})(gL,{alert:SL,confirm:CL}),gL=Object(uL.a)(gL),gL=Object(aT.provideContext)(gL,{config:Vo.a.object,store:Vo.a.object,loader:mc.LoaderType,timezone:mc.TimezoneType,region:Vo.a.string,locale:mc.LocaleShape,os:Vo.a.string,rapidParams:Vo.a.object,usmLogString:Vo.a.string,credstoreClient:mc.CredstoreClientType,cloudStorageClient:mc.CloudStorageClientType,cspToken:Vo.a.string,linkEnhancerClient:mc.LinkEnhancerClientType,partner:Vo.a.string,mailBrandNameString:Vo.a.string,yahooBrandNameString:Vo.a.string,appId:Vo.a.string});var OL=gL;function TL(e,{bundleMapURL:t}={}){return t?function(e){return new y.b("GET",e).setHeader("Accept","application/json").send().then(e=>JSON.parse(e.text))}(t).then(t=>(window.__lazyBundles=t,AL(e,t))):new Promise(t=>t(AL(e,window.__lazyBundles)))}function AL(e,t){const s=t.urls[t.urlIndexForEntry[e]];if(!s)throw new Error("Unknown bundle URL for module "+e);return s}class IL{constructor({disabled:e}={}){this._cache={},this._disabled=e}locate(e,{bundleMapURL:t}){return TL(e,{bundleMapURL:t})}fetch(e,{cache:t}){if(!t)return Ry.a.loadScript(e);const s=this._cache;return s[e]||(s[e]=Ry.a.loadScript(e)),s[e]}loadModule(e,{cache:t=!0,bundleMapURL:s}={}){if(this._disabled)return Promise.reject(new Error("Lazy loading disabled"));const r={cache:t,bundleMapURL:s};return this.locate(e,r).then(e=>this.fetch(e,r))}}function fL(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function DL(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?fL(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fL(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var RL={name:"MailFluxibleContextPlugin",plugContext(e){let t=e.config,s=e.guidHash,r=e.mailWssid,n=e.mailboxAttributes,a=e.crumb,o=e.signoutCrumb,i=e.guid,c=e.csid,l=e.timezone,d=e.environment,E=e.region,_=e.os,u=e.browserName,p=e.farm,m=e.partner,S=e.usmLogString,h=e.locale,C=e.localeData,g=e.cspToken,O=e.__initializeFeatures__,T=e.queryStringOverrides,A=e.buildNumber,f=e.launchTime,D=e.loggerParams,R=e.encryptedQueryParams,b=e.mailBrandNameString,N=e.yahooBrandNameString,M=e.appId;return{plugComponentContext(e,r){const n=r.store,i=r.apiClients,c=void 0===i?{}:i;e.crumb=a,e.signoutCrumb=o,e.config=t,e.loader=new IL,e.timezone=l,e.region=E,e.usmLogString=S,e.os=_,e.browserName=u,e.locale=Object.assign({name:h},C),e.cspToken=g,e.store=n,e.mailAPIClient=c.mailAPIClient,e.credstoreClient=c.credstoreClient,e.linkEnhancerClient=c.linkEnhancerClient,e.cloudStorageClient=c.cloudStorageClient,e.partner=m,e.mailBrandNameString=b,e.yahooBrandNameString=N,e.appId=M,e.guidHash=s},plugActionContext(e,s){const r=s.store;e.encryptedQueryParams=R,e.config=t,e.store=r,e.mailboxAttributes=n,e.timezone=l,e.dispatch=(e,t)=>r.dispatch(DL({},t,{type:e})),Object.assign(e,DL({},s.apiClients,{csid:c}))},plugStoreContext(){},dehydrate:()=>({buildNumber:A,config:t,launchTime:f,guidHash:s,mailWssid:r,guid:i,crumb:a,signoutCrumb:o,mailboxAttributes:n,csid:c,locale:h,localeData:C,timezone:l,region:E,usmLogString:S,cspToken:g,os:_,browserName:u,farm:p,partner:m,environment:d,__initializeFeatures__:O,queryStringOverrides:T,loggerParams:Object(I.c)()?{}:D,encryptedQueryParams:R,mailBrandNameString:b,yahooBrandNameString:N,appId:M}),rehydrate(e){A=e.buildNumber,t=e.config,s=e.guidHash,r=e.mailWssid,a=e.crumb,o=e.signoutCrumb,i=e.guid,c=e.csid,f=e.launchTime,h=e.locale,C=e.localeData,l=e.timezone,E=e.region,S=e.usmLogString,_=e.os,u=e.browserName,p=e.farm,m=e.partner,d=e.environment,O=e.__initializeFeatures__,T=e.queryStringOverrides,D=e.loggerParams,g=e.cspToken,R=e.encryptedQueryParams,n=e.mailboxAttributes,b=e.mailBrandNameString,N=e.yahooBrandNameString,M=e.appId}}}},bL=s(128);function NL(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const ML=Object($o.defineMessages)({hasUnsavedMessage:{id:"warning.has_unsaved_message",defaultMessage:"You are about to leave with unsaved data. Continue?"},confirmRouteChangeModalTitle:{id:"warning.confirm_route_change_modal_title",defaultMessage:"Do You Want to Leave This Page?"},confirmRouteChangeModalBody:{id:"warning.confirm_route_change_modal_body",defaultMessage:"Changes you made may not be saved."},confirmRouteChangeModalLeaveButton:{id:"warning.confirm_route_change_modal_leave_button_text",defaultMessage:"Leave"},confirmRouteChangeModalCancelButton:{id:"warning.confirm_route_change_modal_cancel_button_text",defaultMessage:"Cancel"},unloadPromptMessage:{id:"warning.unsaved_data_unload_prompt_message",defaultMessage:"Changes you made may not be saved."}});var yL=s(161),LL=s.n(yL);const PL=Object(f.d)(["mrdparam","search_keyword","to_list","mailboxId"]);let vL;!function(e){e.YM_MAIL_CONV="YM_MAIL_CONV",e.MOBILE_CONV="MOBILE_CONV",e.YM_MAIL_THM="YM_MAIL_THM",e.YM_TZ="YM_TZ",e.YM_LAST_OBSERVED_TZ="YM_LAST_OBSERVED_TZ",e.YM_MAIL_TABS="YM_MAIL_TABS",e.UDB_PREVIEW_PANE="UDB_PREVIEW_PANE",e.YM_MAIL_SCOUT="YM_MAIL_SCOUT",e.YM_FE_PREVIOUS="YM_FE_PREVIOUS",e.YM_FE_HISTORY="YM_FE_HISTORY",e.YMV="YMV"}(vL||(vL={}));Object(f.d)(["sky.mail.yahoo.com","rogers.mail.yahoo.com"]);function FL(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function UL(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?FL(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):FL(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function wL(e,t){if(!t)return[];const s=Object(wi.selectors)(e),r=s.isDraftGroup,n=s.doesGroupHasStaleMessageId,a=(0,s.getMaxTabCounts)(),o=[...e.pages,t];if(o&&o.length<=a)return[];const i=o.reduce((e,t)=>ji(t)?e.concat(t):e,[]),c=i.reduce((e,t)=>ji(t)&&!r(t.params.groupId)?e.concat(t):e,[]);if(c.length<=a)return[];const l=c.length-a,d=c.sort((e,t)=>(e.timestamp||0)-(t.timestamp||0)).slice(0,l);return[...i.reduce((e,t)=>n(t)?e.concat(t):e,[]),...d]}var GL=(e,t)=>{const s=Object(wi.selectors)(e),r=s.normalizeRoute,n=s.getRoute,a=s.getPreviousRoute,o=s.getSetting,i=s.isSingleDraftGroup,c=s.findUnsyncedDataByCsid,l=s.getLastSaveTimeStampForDraft,d=s.getPages,E=s.doesRouteContainFailure,_=s.getSmartViewPageByType,u=s.getQueryParams,p=s.getStreamsSelectors,m=s.getSelectedAccountId,S=s.getDraftFolderIdByAccountId,h=s.getSmartViewTypeFromRoute,g=s.getSmartViewPosition,O=s.getSettingsPageRoute,T=s.isMobileRoute,A=s.createPageForRoute,I=s.getCurrentHistoryState,D=s.isFeatureEnabled,R=s.isOldNewMailInboxStyle,b=t.route,N=t.actionTimestamp;switch(t.type){case sc.INITIAL_STATE:{const e=n(),s=Object(Hi.z)(e),a=Object(Hi.q)(s),o=R(),i=t.folderId,c=t.launchError,l=t.encryptedQueryParams,d=void 0===l?{}:l,E=t.folders,_=u(),p="1"===_.openGIFPicker,m="1"===_.openStationery;let S;if(e.timestamp=N,d[PL.mrdparam]&&Object(f.h)(d[PL.mrdparam]).some(Boolean)&&(S=d[PL.mrdparam]),p&&(S=UL({},S||{},{showGIFPicker:p})),m&&(S=UL({},S||{},{showStationeryPicker:m})),t=UL({},t,{route:e,mrdParams:S}),!i&&!Object(Hi.S)(e))return t;const h=i||a;let g=r(Object(Ui.k)(h));const O=E.find(e=>{if(e.folder.types.includes(C.Mb.INBOX)&&e.folder.id===h)return e});let T=!1;if(O)if(!o||e.name!==C.rd.FOLDER&&e.name!==C.rd.BASE)o||!Object(Hi.S)(e)&&e.name!==C.rd.BASE||(g=r(Object(Ui.k)(h)),T=!0);else{const e=O.folder.accountId;g=r(Object(Ui.x)(C.Ud.NEWMAIL,{accountIds:[e],folders:[h]})),T=!0}return(e.name===C.rd.BASE||c&&g&&g.name||T)&&(t=UL({},t,{route:g,listId:Object(Hi.z)(g)})),t}case sc.OPEN_PAGE_REQUESTED:{const s=n();switch(b.name){case C.rd.NEW_DRAFT:{const e=b.params,n=void 0===e?{}:e,a=s.params,o=void 0===a?{}:a,i=s.name===b.name&&(l(o.csid)||Boolean(c(o.csid)));return UL({},t,{route:UL({},r(b),{timestamp:N}),previousRoute:s,forceNewPage:i,csid:n.csid})}case C.rd.SEARCH:{const e=Object(Hi.z)(b),n=Object(Hi.W)(b)?h(b):null,a=n?_(n):null,o=n?!!a:s&&s.name===C.rd.SEARCH&&!Object(Hi.Y)(Object(Hi.z)(s));return UL({},t,{route:UL({},r(b),{timestamp:N}),previousRoute:a||s,forceNewPage:!a&&Object(Hi.Y)(e),replaceRoute:o})}case C.rd.LIST:{const e=Object(Hi.W)(b)?h(b):null,n=e?_(e):null;return UL({},t,{route:UL({},r(b),{timestamp:N}),previousRoute:n||s,replaceRoute:!!n})}case C.rd.SETTINGS:{const e=O()||null;return UL({},t,{route:UL({},r(b),{timestamp:N}),previousRoute:e||s,replaceRoute:!!e})}default:{const n=b&&{route:UL({},r(b),{timestamp:N})};return UL({},t,{},n,{previousRoute:s,tabsToRemove:wL(e,n.route)})}}}case sc.CLOSE_ALL_PAGES_REQUESTED:return UL({},t,{pagesToClose:d().filter(e=>{if(e.name===C.rd.FOLDER)return!1;const t=Object(Hi.W)(e)?h(e):null;return!(t&&g(t)===C.Td.TAB_BAR)})});case sc.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{const e=t.previousRoute||a();if(T(e)){const s=I(),n=Object(Ui.j)(t.listId,t.csid),a=A(n,1,s);return UL({},t,{previousRoute:e,route:UL({},r(n),{timestamp:N}),nextPage:a})}return o(C.Eb.CONVERSATIONS)?D(C.Eb.MESSAGE_LIST_CONTEXT_MENU)&&t.triggeredFromContextMenu?UL({},t,{route:r(Object(Ui.p)(t.listId,t.groupId,e.query)),previousRoute:e}):UL({},t,{route:b&&UL({},r(t.route),{timestamp:N})||n(),previousRoute:e}):UL({},t,{previousRoute:e,route:UL({},r(Object(Ui.f)(t.csid,{},e)),{timestamp:N})})}case sc.SETTINGS_CHANGE_REQUESTED:{const e=n(),s=d(),a=()=>s.some(e=>e.name===C.rd.SETTINGS);return e.timestamp=N,t.name===C.Kd.MAIL_TABS&&t.value&&e.name!==C.rd.SETTINGS&&!a()?UL({},t,{previousRoute:e,route:e,pages:[...s,r(Object(Ui.w)({settingsGroupId:C.Nd.PERSONALIZE_INBOX}))]}):UL({},t,{previousRoute:e,route:e})}case sc.SYNC_DATA:{const e=t.previousRoute||a(),s=b&&r(t.route)||n();return s.timestamp=N,UL({},t,{route:s,previousRoute:e,pages:d()})}case sc.V3_MESSAGE_SEND_FAILED:{let e;const s=d(),o=n(),c=t.csid,l=t.groupId,_=t.listId,u=t.previousRoute||a();o.timestamp=N,s.length||s.push(o);const h=Object(Hi.z)(o),g=D(C.Eb.CONVERSATIONS),O=Object(Ep.a)([h]),T=p(),A=T.getCursorSelectors,I=(0,T.doesStreamExist)(O)&&A(O).getCursorItem()||{},f=I.id,R=I.listId;if(l)if(i(l)||!g){const t=S(m()),s=Object(Hi.y)(t);e=Object(Ui.j)(s,c,o.query)}else e=Object(Ui.p)(_,l,o.query);else e=Object(Ui.f)(c,o.query);const b=is()(s.slice(1),e=>e.params&&l&&e.params.groupId===l||E(e)),M=w()(b,2),y=M[0],L=M[1];return UL({},t,l&&l===f&&R===_?{route:o,previousRoute:u,sendFailureRoute:e,pages:LL()([s[0],...y,...L],"url")}:{route:o,previousRoute:u,pages:LL()([s[0],r(e),...y,...L],"url"),sendFailureRoute:e})}default:{const e=t.previousRoute||a(),s=b||n();return s.timestamp=N,UL({},t,{route:s,previousRoute:e})}}};function HL(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function jL(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?HL(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):HL(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var kL=(e,t)=>{const s=Object(wi.selectors)(e),r=s.getMainStreamItems,n=s.getRoute,a=t.streamItems;let o=t.streamId;switch(t.type){case sc.CLOSE_PAGE_REQUESTED:{const e=t.route,s=Object(Hi.z)(e);return o||(o=Object(Ep.b)(s,e.params.groupId)),jL({},t,{streamId:o})}case sc.STREAM_CURSOR_MOVED:case sc.STREAM_SELECT_CURSOR_MOVED:case sc.STREAM_ITEMS_RANGE_SELECTED:case sc.STREAM_CONTEXT_MENU:case sc.STREAM_ITEM_TOGGLED:case sc.STREAM_ITEMS_SELECTION_CLEARED:case sc.STREAM_ITEMS_SELECTION_CHANGED:case sc.ALL_STREAM_ITEMS_SELECTED:case sc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case sc.V3_MESSAGE_SEND_SUCCEEDED:case sc.CHECK_MAIL_RECEIVED_WITH_UPDATES:case sc.CHANGE_FOLDER_SUCCEEDED:case sc.SEARCH_LIST_ITEMS_RECEIVED:case sc.UNDO_MOVE_SUCCEEDED:case sc.MORE_MESSAGES_REQUEST_SUCCESS:case sc.MORE_SEARCH_LIST_ITEMS_RECEIVED:case sc.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case sc.GIF_FETCH_SUCCEEDED:case sc.MORE_COUPONS_SUCCESS:case sc.MORE_RECEIPTS_SUCCESS:case sc.RECEIPTS_LIST_SUCCEEDED:case sc.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case sc.COUPONS_LIST_SUCCEEDED:case sc.EXTRACT_COUPON_SUCCEEDED:case sc.TRAVEL_LIST_SUCCEEDED:case sc.COUPONS_ADD_TAG_DECO_REQUESTED:case sc.MORE_TRAVEL_ITEMS_SUCCEEDED:case sc.ITEMS_DRAG_STARTED:case sc.MOVE_ITEMS_REQUESTED:case sc.MOVE_AND_READ_CHANGE_REQUESTED:case sc.DELETE_ITEMS_REQUESTED:case sc.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case sc.READ_CHANGE_REQUESTED:case sc.STAR_CHANGE_REQUESTED:case sc.RECENT_AND_READ_CHANGE_REQUESTED:case sc.PREVIEW_MESSAGE_REQUESTED:return jL({},t,{streamItems:a||r(n())});case sc.OPEN_PAGE_REQUESTED:if(t.streamItem)return jL({},t,{streamItems:a||r(n())});break;case sc.UPDATE_ITEMS_FAILED:if(t.deletedMessages&&t.deletedMessages.length>0)return jL({},t,{streamItems:a||r(n())})}return t},xL=s(91);function BL(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function VL(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?BL(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):BL(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const WL=(e,t,s,r,n,a,o,i,c,l)=>{const d=Object(Hi.w)(e);let E=void 0;if(void 0!==a&&(E=a),E||void 0===s||(E=Boolean(s)),E||void 0===r||(E=Boolean(r)),void 0!==c&&(c===sc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED||c===sc.V3_MESSAGE_SEND_SUCCEEDED))return{};switch(d){case C.ac.MESSAGES:case C.ac.TRAVEL_CARDS:case C.ac.COUPON_CARDS:case C.ac.REFUND_CARDS:case C.ac.RECEIPT_CARDS:return{[e]:{itemIds:(l&&Object(Hi.F)(e)===C.Sd[C.Ud.COUPON_EMAILS]?t.filter(e=>e.messages.some(e=>Object(Wt.l)(e.decos,C.Cc.CPN))):t).map(e=>e.id),nextItemsUrl:s,offset:r,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case C.ac.DOCUMENTS:case C.ac.IMAGES:return{[e]:{itemIds:t.map(({attachment:e})=>e.id),nextItemsUrl:s,offset:r,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case C.ac.GIFS:return{[e]:{itemIds:t.map(e=>e.id),nextItemsUrl:s,offset:r,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case C.ac.CLOUD_STORAGE_ITEMS:return{[e]:{itemIds:t.map(e=>e.id),nextItemsUrl:s,offset:r,hasMoreItems:E}};case C.ac.SENDERS:return{[e]:{itemIds:t.map(e=>e.id),hasMoreItems:E,offset:r}};case C.ac.PEOPLE:return{[e]:{itemIds:t.map(({contactDetails:e})=>e.xobniId),nextItemsUrl:s,offset:r,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case C.ac.CONTACTS:return{[e]:{itemIds:t.map(({id:e})=>e),nextItemsUrl:s,offset:r,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case C.ac.OFFER_CARDS:return{[e]:{itemIds:t.map(({offerId:e})=>e),nextItemsUrl:s,offset:r,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case C.ac.SUBSCRIPTIONS:return{[e]:{itemIds:t.map(({id:e})=>e),nextItemsUrl:s,offset:r,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case C.ac.SUBHUB_RECOMMENDATION_LIST:return{[e]:{itemIds:t.map(({id:e})=>e),nextItemsUrl:s,offset:r,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}}}return{}},KL=(e,t)=>{switch(Object(Hi.w)(e)){case C.ac.GIFS:return t.reduce((e,t)=>VL({},e,{[t.id]:t}),{})}return{}},qL=(e,t)=>{switch(Object(Hi.w)(e)){case C.ac.CLOUD_STORAGE_ITEMS:return t.reduce((e,t)=>VL({},e,{[t.id]:t}),{})}return{}},YL=(e,t,s)=>{switch(Object(Hi.w)(t)){case C.ac.COUPON_CARDS:case C.ac.TRAVEL_CARDS:case C.ac.REFUND_CARDS:case C.ac.RECEIPT_CARDS:return s.reduce((e,t)=>VL({},e,{[t.id]:(e[t.id]||[]).concat(t.messages.map(e=>e.id))}),{});case C.ac.MESSAGES:{const r=(0,e.getFoldersSelectors().getMessageGroupFolderType)(Object(Hi.q)(t)||"");return s.reduce((e,t)=>VL({},e,{[t.id]:{[r]:((e[t.id]||{})[r]||[]).concat(t.messages.map(e=>e.id))}}),{})}}return{}},zL=(e,t,s)=>{const r=Object(Hi.w)(t),n=e.doesMessageIdExist,a=e.getMessageCsid;switch(r){case C.ac.MESSAGES:case C.ac.TRAVEL_CARDS:case C.ac.COUPON_CARDS:case C.ac.REFUND_CARDS:case C.ac.SENDERS:case C.ac.RECEIPT_CARDS:return s.reduce((e,t)=>VL({},e,{},t.messages.reduce((e,t)=>{let s=null;return s=!s&&n(t.id)?a(t.id):t.csid?t.csid:Object(Ps.generateUID)(),VL({},e,{[t.id]:VL({},u()(t,["snippet","attachments","headers","schemaCards"]),{headers:u()(t.headers,["subject"])},s?{csid:s}:{})})},{})),{})}return{}},QL=(e,t,s)=>{const r=Object(Hi.w)(t),n=e.getAttachmentsSelectors(),a=n.getContentIdByAttachmentId,o=n.doesAttachmentExistById;switch(r){case C.ac.MESSAGES:return s.reduce((e,t)=>VL({},e,{},t.messages.reduce((e,t)=>VL({},e,{},(t.attachments||[]).reduce((e,s)=>{const r=o(s.id)&&a(s.id)?a(s.id):Object(cn.c)();return VL({},e,{[s.id]:VL({},s,{conversationId:s.conversationId||t.conversationId,contentId:r,dataId:r})})},{})),{})),{});case C.ac.DOCUMENTS:case C.ac.IMAGES:return s.reduce((e,{attachment:t})=>{const s=o(t.id)?a(t.id):Object(cn.c)();return VL({},e,{[t.id]:VL({},t,{contentId:s,dataId:s})})},{});case C.ac.CLOUD_STORAGE_ITEMS:return s.reduce((e,t)=>{const s=t.name,r=t.mimeType,n=t.thumbnail,i=t.downloadLink,c=`${t.mid}:${t.partId}`,l=Object(cn.j)(r),d=l.type,E=l.subtype,_=o(c)?a(c):Object(cn.c)();return VL({},e,{[c]:VL({},t,{contentId:_,dataId:_,filename:s,id:c,virus:"N",thumbnailUrl:n||"",downloadUrl:i,type:d,subtype:E})})},{})}return{}},ZL=(e,t)=>{switch(Object(Hi.w)(e)){case C.ac.MESSAGES:return t.reduce((e,t)=>VL({},e,{},t.messages.reduce((e,t)=>VL({},e,{[t.id]:(t.attachments||[]).map(e=>e.id)}),{})),{});case C.ac.DOCUMENTS:case C.ac.IMAGES:return t.reduce((e,{attachment:t,message:s})=>VL({},e,{[s.id]:[...e[s.id]||[],t.id]}),{});case C.ac.CLOUD_STORAGE_ITEMS:return t.reduce((e,t)=>VL({},e,{[t.mid]:[...e[t.mid]||[],`${t.mid}:${t.partId}`]}),{})}return{}},XL=(e,t)=>{switch(Object(Hi.w)(e)){case C.ac.MESSAGES:case C.ac.TRAVEL_CARDS:case C.ac.COUPON_CARDS:case C.ac.REFUND_CARDS:case C.ac.RECEIPT_CARDS:return t.reduce((e,t)=>VL({},e,{},t.messages.reduce((e,t)=>VL({},e,{[t.id]:(t.schemaCards||[]).map(({id:e,type:t})=>({id:e,type:t}))}),{})),{})}return{}},$L=(e,t)=>{switch(Object(Hi.w)(e)){case C.ac.MESSAGES:case C.ac.TRAVEL_CARDS:case C.ac.REFUND_CARDS:case C.ac.SENDERS:case C.ac.RECEIPT_CARDS:return t.reduce((t,s)=>VL({},t,{},s.messages.reduce((t,{id:s,headers:r={}})=>VL({},t,{[s]:{[e]:r.subject}}),{})),{});case C.ac.DOCUMENTS:case C.ac.IMAGES:return t.reduce((t,s)=>VL({},t,{[s.message.id]:{[e]:s.message.subject}}),{})}return{}},JL=(e,t)=>{switch(Object(Hi.w)(e)){case C.ac.MESSAGES:case C.ac.TRAVEL_CARDS:return t.reduce((t,s)=>VL({},t,{},s.messages.reduce((t,s)=>VL({},t,{[s.id]:{[e]:Object(xL.e)(s.snippet)}}),{})),{})}return{}},eP=(e,t)=>{switch(Object(Hi.w)(e)){case C.ac.PEOPLE:return t.reduce((e,t)=>VL({},e,{[t.contactDetails.xobniId]:t.contactDetails}),{})}return{}},tP=(e,t)=>{switch(Object(Hi.w)(e)){case C.ac.MESSAGES:case C.ac.TRAVEL_CARDS:case C.ac.COUPON_CARDS:case C.ac.REFUND_CARDS:case C.ac.RECEIPT_CARDS:return t.reduce((e,t)=>VL({},e,{},t.messages.reduce((e,t)=>VL({},e,{},(t.schemaCards||[]).reduce((e,t={})=>VL({},e,{[t.id]:VL({},t)}),{})),{})),{})}return{}},sP=(e,t,s={})=>{switch(Object(Hi.w)(e)){case C.ac.COUPON_CARDS:return[].concat(Object.keys(s).map(e=>({id:e,messages:[s[e]]})));default:return t.concat(Object.keys(s).map(e=>({id:e,messages:[s[e]]})))}},rP=(e,t,s,r,n,a,o,i={},c,l,d=[],E)=>{const _=e.doesFolderIdExist,u=(0,e.isFeatureEnabled)(C.Eb.DEALS_VIEW_FOR_INTLS),p=Object(Hi.w)(t),m={};let S=s;return d.forEach(e=>{m[e.folder.id]=!0}),p===C.ac.MESSAGES&&(S=s.filter(e=>{const t=e.messages.filter(e=>_(e.folder.id)||m[e.folder.id]);return e.messages=t,e.messages.length>0})),{lists:WL(t,S,r,n,a,o,c,l,E,u),groupIdToMessageIdsMap:YL(e,t,S),messages:zL(e,t,sP(t,S,i)),attachments:QL(e,t,S),attachmentIdToMessageIdMap:ZL(t,S),subjects:$L(t,S),snippets:JL(t,S),gifItems:KL(t,S),schemaCards:tP(t,S),messageIdToSchemaIdsMap:XL(t,S),people:eP(t,S),cloudStorageItems:qL(t,S)}},nP=(e={},t,s="",r=[])=>{const n=[];return Object.keys(C.ac).forEach(a=>{Object.keys(e[a]||{}).forEach(o=>{const i=Object(Hi.gb)(s,{listContentType:a,listFilter:o}),c=e[a][o];c&&n.push(rP(t,i,c.items,c.nextItemsUrl,c.offset,c.totalHits,c.hasMoreItems,void 0,c.lmv3Query,c.suggestedWords,r))})}),n},aP=(e,t)=>{const s=e.getContentIdByAttachmentId,r=e.doesAttachmentExistById,n=Object.keys(t.messageMetadataMap);return{attachments:n.reduce((e,n)=>{const a=t.messageMetadataMap[n].attachments;return VL({},e,{},(void 0===a?[]:a).reduce((e,t)=>{const n=r(t.id)?s(t.id):Object(cn.c)();return VL({},e,{[t.id]:VL({},t,{contentId:n,dataId:n})})},{}))},{}),attachmentIdToMessageIdMap:n.reduce((e,s)=>{const r=t.messageMetadataMap[s].attachments;return VL({},e,{[s]:(void 0===r?[]:r).map(({id:e})=>e)})},{})}},oP=e=>Object.keys(e).reduce((t,s)=>VL({},t,{},e[s].length?Object.assign.apply({},e[s].map(e=>({[e]:s}))):{}),{}),iP=(e,t,s)=>{const r=s.getMessageCsid,n=s.getMessageIdsFromMessageGroupId,a=s.isFeatureEnabled,o=e.reduce((e,t)=>Object.keys(t).reduce((e,s)=>VL({},e,"attachmentIdToMessageIdMap"===s?{[s]:VL({},e[s],{},oP(t[s]))}:{[s]:VL({},e[s],{},t[s])}),e),{});if(a(C.Eb.CONVERSATIONS))switch(t.type){case sc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case sc.V3_MESSAGE_SAVE_SUCCEEDED:{const e=(0,s.getFoldersSelectors().getMessageGroupFolderType)(Object(Hi.q)(t.listId)||"");o.groupIdToMessageIdsMap=Object.keys(o.groupIdToMessageIdsMap||{}).reduce((s,a)=>{const o=(n(a)||[]).filter(e=>r(e)!==t.csid).concat(t.message.id);return VL({},s,{[a]:{[e]:o}})},{})}}if(t.type===sc.CHECK_MAIL_RECEIVED_WITH_UPDATES&&o.lists){const e=t.listId,r=s.getListItemIds,n=(0,s.doesListExist)(e)?r(e):[];o.lists[e].itemIds=Object(Hi.kb)(n,o,e)}return o};var cP=(e,t)=>{const s=Object(wi.selectors)(e),r=[];switch(t.type){case sc.OPEN_PAGE_REQUESTED:{var n;const e=Object(Hi.z)(t.route),r=t.attachments,i=void 0===r?[]:r;if(i.length){const r=i[0],n=s.getAttachmentsSelectors(),a=n.doesAttachmentExistById,o=n.getContentIdByAttachmentId,c=r.contentId,l=void 0===c?a(r.id)?o(r.id):Object(cn.c)():c;return VL({},t,{listId:e,listData:{attachments:{[r.id]:VL({},r,{contentId:l,dataId:l})}}})}const c=-1!==[C.rd.FOLDER,C.rd.SEARCH,C.rd.CONTACTS,C.rd.SUBSCRIPTION_LIST,C.rd.NEW_DRAFT,C.rd.SETTINGS].indexOf((null===(n=t.route)||void 0===n?void 0:n.name)||"")||Object(Hi.x)(e)===C.bc.OLDMAIL;if(s.isOldNewMailInboxStyle()&&c){const r=[],n=s.getMessageGroupsSelectors,i=s.getMessageFlags,c=(0,s.getListsSelectors)(),l=c.getItemIds,d=c.getListIdsByListFilter,E=n(),_=E.doesMessageGroupIdExist,u=E.getAllMessageIdsFromMessageGroupId,p=d(C.bc.NEWMAIL),m=d(C.bc.OLDMAIL);var a,o;if(null==p?void 0:p.length)return r.push({listId:p[0],itemsToRemove:[...l(p[0]).filter(e=>(_(e)&&u(e)).every(e=>i(e).read))]}),(null==m?void 0:m.length)&&(null===(a=r[0])||void 0===a||null===(o=a.itemsToRemove)||void 0===o?void 0:o.length)&&r.push({listId:m[0],itemsToAdd:r[0].itemsToRemove}),VL({},t,{listsToUpdate:r,listId:e})}return VL({},t,{listId:e})}case sc.MESSAGE_AUTO_SAVE_SUCCEEDED:case sc.MESSAGE_SAVE_SUCCEEDED:{const e=t.groupId,n=t.message,a=t.listId;e&&n&&a&&r.push(rP(s,t.listId,[{id:e,messages:[n]}]));break}case sc.MESSAGE_BODIES_RECEIVED:case sc.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:if(!Object.keys(t.messageMetadataMap).length)return t;r.push(VL({messageMetadataMap:t.messageMetadataMap},aP(s.getAttachmentsSelectors(),t))),r.push(...nP(t.response,s,t.listId));break;case sc.ASTRA_BATCH_API_SUCCEEDED:{var i,c;const e=s.getPrimaryAccountId,n=(null===(i=t.response)||void 0===i||null===(c=i.recommendedDeals)||void 0===c?void 0:c.recommendedDeals)||[];if(n.length){const t=Object(Hi.e)({referrer:C.Sd.COUPONS,accountIds:[e()]});r.push(rP(s,t,n))}break}case sc.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:{const e=s.getCurrentListId;t.categories.forEach(({gifs:t,queryString:n})=>{const a=Object(Hi.gb)(e(),{listContentType:C.ac.GIFS,keyword:n.toLowerCase(),listFilter:C.bc.GIFS});r.push(rP(s,a,t.items,t.nextItemsUrl,t.offset,t.totalHits,t.hasMoreItems))});break}case sc.GIF_FETCH_REQUESTED:{const e=s.getCurrentListId;return VL({},t,{listId:Object(Hi.gb)(e(),{listContentType:C.ac.GIFS,keyword:t.query,listFilter:C.bc.GIFS})})}case sc.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED:{const e=s.getCurrentListId,r=(0,s.getSelectedAccountId)();return VL({},t,{listId:Object(Hi.gb)(e(),{listContentType:C.ac.CLOUD_STORAGE_ITEMS,keyword:t.query,name:t.source,folders:[t.path],listFilter:C.bc.CLOUD_STORAGE_ITEMS,accountIds:[r]})})}case sc.V3_MESSAGE_SAVE_SUCCEEDED:case sc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:{const e=s.getMessageIdsFromMessageGroupId,n=s.doesMessageGroupIdExist,a=s.getAttachmentIdsByMessageId,o=s.getAttachmentById,i=s.getMessageSubject,c=s.getMessageSnippet,l=s.__getMessageWithFlagsAndFolderId,d=(0,s.getFoldersSelectors)().__get__,E=t.message,_=t.listId,u=t.conversationsMode?E.conversationId:E.id,p={id:u};if(n(u)){const t=e(u),s=[];t.forEach(e=>{const t=l(e),r=a(e).map(o).filter(Boolean);s.push(VL({},t,{id:e,attachments:r,attachmentCount:r.length,folder:d(t.folderId||t.folderOfDelivery),snippet:c(e,_),headers:VL({},t.headers,{subject:i(e,_)})}))}),s.push(E),p.messages=s}else p.messages=[E];r.push(rP(s,Object(Hi.gb)(t.listId,{listContentType:C.ac.MESSAGES}),[p],t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,void 0,void 0,void 0,t.type));break}case sc.INITIAL_STATE:case sc.UNDO_MOVE_SUCCEEDED:case sc.CHECK_MAIL_RECEIVED_WITH_UPDATES:case sc.CHANGE_FOLDER_SUCCEEDED:case sc.MORE_MESSAGES_REQUEST_SUCCESS:case sc.PARENT_MESSAGE_METADATA_SUCCEEDED:case sc.MESSAGE_GROUP_WITH_BODIES_RECEIVED:if(t.messageGroupList&&r.push(rP(s,t.listId,t.messageGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders,"")),t.messageGroup&&r.push(rP(s,Object(Hi.gb)(t.listId,{listContentType:C.ac.MESSAGES}),[t.messageGroup],t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.messageGroups&&r.push(rP(s,Object(Hi.gb)(t.listId,{listContentType:C.ac.MESSAGES}),t.messageGroups,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.draftMessage&&r.push(rP(s,t.listId,t.draftMessage,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.response&&r.push(...nP(t.response,s,t.listId,t.folders)),t.message&&t.type===sc.INITIAL_STATE){const e=t.message,n=e.csid;if(!Object.keys(t.messageMetadataMap).length)return t;r.push(VL({},aP(s.getAttachmentsSelectors(),t),{messages:{[e.id]:VL({},u()(e,["snippet","attachments","headers","schemaCards"]),{headers:u()(e.headers,["subject"])},n?{csid:n}:{})},subjects:{[e.id]:{[t.listId]:e.headers.subject}},snippets:{[e.id]:{[t.listId]:e.snippet}}})),t.draftMessageId||(t.draftMessageId=t.message.id)}break;case sc.POST_LAUNCH_SYNC_SUCCEEDED:t.cardGroupList&&r.push(rP(s,Object(Hi.gb)("{}",{listContentType:C.ac.COUPON_CARDS,listFilter:C.bc.SAVED_COUPON_CARDS,referrer:C.cc[C.Ud.COUPONS]}),t.cardGroupList.filter(e=>e&&e.messages.some(e=>e.decos&&e.decos.some(e=>e&&"CPN"===e.id)))));break;case sc.COUPONS_LIST_SUCCEEDED:case sc.MORE_COUPONS_SUCCESS:r.push(rP(s,t.listId,t.cardGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems));break;case sc.EXTRACT_COUPON_SUCCEEDED:case sc.RECEIPTS_LIST_SUCCEEDED:case sc.MORE_RECEIPTS_SUCCESS:case sc.TRAVEL_LIST_SUCCEEDED:case sc.MORE_TRAVEL_ITEMS_SUCCEEDED:r.push(rP(s,t.listId,t.cardGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,t.parentMessagesMap));break;case sc.MORE_SEARCH_LIST_ITEMS_RECEIVED:{const e=t.listId,n=t.listContentBlock,a=void 0===n?{}:n;e&&a&&r.push(rP(s,e,a.items,a.offset?a.nextItemsUrl:"",a.offset,a.totalHits,a.hasMoreItems&&!!a.offset));break}case sc.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:{const e=t.listId,s=t.contacts,r=s.reduce((e,t)=>{const s=t.xobniId;return e.contactEmailToId[t.id]=s,void 0!==e.idToContact[t.xobniId]?(e.idToContact[t.xobniId].emails=Es()([...e.idToContact[t.xobniId].emails,...t.emails]),e):(e.contacts=[...e.contacts,t],e.idToContact[s]=t,e)},{contacts:[],idToContact:{},contactEmailToId:{}}),n=s.map(({id:e})=>e);return VL({},t,{listData:{lists:{[e]:{itemIds:n,totalHits:n.length}}},contacts:r.contacts,contactEmailToId:r.contactEmailToId})}case sc.CONTACTS_PANE_CREATE_GROUP_REQUESTED:{const e=t.contacts,r=s.getContactListSelectors,n=(0,s.getListsSelectors)().getItemIdsSelectors,a=r().getContactById,o=VL({},t),i=[],c=Object(Hi.k)(C.bc.GROUPS),l=n(c).getItemIds();return o.tempGroupId="temp:"+Object(Ps.generateUID)(),o.tempListId=Object(Hi.k)(C.bc.GROUPS,o.tempGroupId),l.push(o.tempGroupId),o.endpoints=[],e.forEach(({itemType:e})=>{i.push(e),o.endpoints.push(VL({},e,{name:a(e.id).name}))}),o.listData={},o.listData.lists={[o.tempListId]:{itemIds:i,totalHits:i.length},[c]:{itemIds:l,totalHits:l.length}},o}case sc.CONTACTS_PANE_SAVE_GROUP_REQUESTED:{const e=t.groupId,r=t.newGroup,n=t.oldGroup,a=(0,s.getContactListSelectors)().getContactById,o=VL({},t),i=n.contacts,c=void 0===i?[]:i,l=r.contacts,d=void 0===l?[]:l,E=[],_={},u=c.reduce((e,t)=>(e[t.id]=!0,e),{});return r.name!==n.name&&(o.newName=r.name),o.listId=Object(Hi.k)(C.bc.GROUPS,e),o.addedEndpoints=[],d.forEach(({itemType:e,id:t})=>{E.push(e),_[t]=!0,u[t]||o.addedEndpoints.push(VL({},e,{name:a(e.id).name}))}),o.removedEndpoints=c.reduce((e,{itemType:t,id:s})=>_[s]?e:e.concat(t),[]),o.doUpdatesExist=!!(o.newName||o.addedEndpoints.length||o.removedEndpoints.length),o.listData={},(o.addedEndpoints.length||o.removedEndpoints.length)&&(o.listData.lists={[o.listId]:{itemIds:E,totalHits:E.length}}),o}case sc.CONTACTS_GROUP_FETCH_SUCCEEDED:{const e=t.listId,s=t.contacts,r=(void 0===s?[]:s).map(e=>b()(e,["name"]));return VL({},t,{listData:{lists:{[e]:{itemIds:r,totalHits:r.length}}}})}case sc.CONTACTS_LIST_FETCH_SUCCEEDED:{const e=t.contacts,s=t.characters,r=t.groupIds,n=t.selectedGroup,a=(void 0===s?[]:s).length>0,o={};let i={};const c=n?Object(Hi.gb)(t.listId,{keyword:n}):t.listId;if(e&&(i=e.reduce((e,{category:t,contacts:s,remainingCount:r})=>{const n=Object(Hi.gb)(c,{name:t});return VL({},e,{},WL(n,s,"",0,s.length+r,r>0))},{})),r){o[Object(Hi.k)(C.bc.GROUPS)]={itemIds:r,totalHits:r.length,nextItemsUrl:"",offset:0,hasMoreItems:!1,lmv3Query:void 0,suggestedWords:void 0}}return VL({},t,a||!e?{listData:{lists:VL({},i,{},o)}}:{listId:c,listData:{lists:VL({},i,{},o,{[c]:{itemIds:Object.keys(i),nextItemsUrl:"",offset:0,totalHits:e.length,hasMoreItems:!1,lmv3Query:void 0,suggestedWords:void 0}})}})}case sc.FETCH_ALL_CONTACTS_SUCCESS:{const e=t.listId,s=t.contacts,r=[];return(void 0===s?[]:s).forEach(e=>{r.push(e.id)}),VL({},t,{listId:e,listData:{lists:{[e]:{itemIds:r,totalHits:r.length}}}})}case sc.CONTACTS_GROUP_DELETE_REQUESTED:{const e=t.groupId,r=s.getCustomContactGroups,n=Object(Hi.k)(C.bc.GROUPS),a=r().filter(t=>t!==e);return VL({},t,{listId:n,newGroupId:a[0]?a[0]:null,listData:{lists:{[n]:{itemIds:a,totalHits:a.length}}}})}case sc.CONTACTS_GROUP_DELETE_FAILED:{const e=t.groupId,r=s.getCustomContactGroups,n=Object(Hi.k)(C.bc.GROUPS),a=r().concat(e);return VL({},t,{listId:n,listData:{lists:{[n]:{itemIds:a,totalHits:a.length}}}})}case sc.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case sc.SEARCH_LIST_ITEMS_RECEIVED:case sc.GIF_FETCH_SUCCEEDED:case sc.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:r.push(...nP(t.response,s,t.listId));break;case sc.COUPONS_REMOVE_TAG_DECO_REQUESTED:case sc.COUPONS_ADD_TAG_DECO_REQUESTED:{const e=t.schemaCard,n=t.listId,a=t.messageDecosPayloads.map(({messageId:t})=>({id:t,messages:[{id:t,schemaCards:[e]}]}));r.push(rP(s,n,a));break}case sc.OFFERS_LIST_SUCCEEDED:{const e=t.listId,n=t.offers,a=t.search,o=s.getOffersSelectors,i=(0,s.isFeatureEnabled)(C.Eb.GROCERY_WITH_PRODUCTS),c=o().getFilteredOffers,l=Object(Hi.gb)(e,{keyword:""}),d=n.filter(e=>!e.activated),E=!i&&a?c(d,a):d;i&&a||r.push(rP(s,l,d)),e!==l&&r.push(rP(s,e,E));break}case sc.ACTIVATED_OFFERS_LIST_SUCCEEDED:r.push(rP(s,t.listId,t.offers));break;case sc.ACTIVATE_OFFER_SUCCEEDED:{const e=t.listId,n=t.offers,a=t.retailerId;if(Object(Hi.w)(e)!==C.ac.MESSAGES)r.push(rP(s,e,n));else{const t=Object(Hi.gb)(e,{listContentType:C.ac.OFFER_CARDS,name:a,emailAddresses:[],contactIds:[],referrer:C.Eb.GROCERIES});r.push(rP(s,t,n))}break}case sc.DELETE_GROCERY_ITEMS_SUCCEEDED:{const e=t.listId,n=t.offers,a=n.filter(e=>"Unavailable"!==e.status),o=Object(Hi.gb)(e,{listFilter:C.bc.RECOMMENDED_OFFER_CARDS});r.push(rP(s,e,n)),r.push(rP(s,o,a));break}case sc.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:{const e=t.sortOrder,n=t.accountId,a=(t.response.subscription.email||{}).brand,o=(void 0===a?[]:a).map(e=>VL({},e,{id:`${e.name}:${n}`,subscriptions:e.subscriptions.filter(e=>"true"===e.isUsb)})),i=Object(Hi.N)(e,n);t.brand=o,r.push(rP(s,i,o));break}case sc.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:{const e=t.sortOrder,n=t.accountId,a=(t.response.subscription.email||{}).brand,o=(void 0===a?[]:a).map(e=>VL({},e,{id:`${e.name}:${n}`})),i=Object(Hi.M)(e);t.brand=o,r.push(rP(s,i,o));break}case sc.SENDER_ROLLUP_SUCCEEDED:case sc.MORE_SENDER_ROLLUP_SUCCEEDED:r.push(rP(s,t.listId,t.senderRollup,void 0,t.offset,void 0,t.hasMoreItems));break;default:return t}return VL({},t,{listData:iP(r,t,s)})};function lP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function dP(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?lP(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lP(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var EP=(e,t)=>{const s=t.folders,r=void 0===s?[]:s;switch(t.type){case sc.RENAME_FOLDER_REQUESTED:case sc.MOVE_FOLDER_REQUESTED:{const s=t.folderId,r=t.folderName,n=Object(wi.selectors)(e),a=n.getFoldersSelectors,o=(0,n.getAccountIdByFolderId)(s),i=a(),c=i.getFolderPath,l=(0,i.getFolderIdsByAccountId)(o),d=c(s)+"/",E=r+"/";return dP({},t,{subfolders:l.filter(e=>-1!==c(e).indexOf(d)&&e!==s).map(e=>({folderId:e,folderName:c(e).replace(d,E)}))})}case sc.INITIAL_STATE:case sc.UNDO_MOVE_SUCCEEDED:case sc.CHECK_MAIL_RECEIVED_WITH_UPDATES:case sc.CHANGE_FOLDER_SUCCEEDED:case sc.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case sc.SEARCH_LIST_ITEMS_RECEIVED:return r.length?dP({},t,{folderMap:Object(pt.f)(r)}):t;case sc.CREATE_FOLDER_SUCCEEDED:case sc.RENAME_FOLDER_SUCCEEDED:case sc.MOVE_FOLDER_SUCCEEDED:{const e=t.folder,s=t.subfolders;return dP({},t,{folderMap:dP({[e.id]:e},(void 0===s?[]:s).reduce((e,t)=>dP({},e,{[t.id]:t}),{}))})}default:return t}};function _P(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function uP(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_P(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_P(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var pP=(e,t)=>{const s=t.streamId,r=Object(wi.selectors)(e),n=r.doesStreamExist,a=r.getSelectedStreamItems,o=r.getCursor;if(!s)return t;switch(t.type){case sc.STREAM_ITEM_TOGGLED:case sc.STREAM_CONTEXT_MENU:case sc.ITEMS_DRAG_STARTED:return uP({},t,{selectionPayload:{oldSelectedItems:n(s)?a(s):[]}});case sc.V3_MESSAGE_SAVE_SUCCEEDED:case sc.MESSAGE_SAVE_SUCCEEDED:case sc.MESSAGE_AUTO_SAVE_SUCCEEDED:case sc.STREAM_CURSOR_MOVED:case sc.STREAM_SELECT_CURSOR_MOVED:case sc.STREAM_ITEMS_RANGE_SELECTED:case sc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case sc.V3_MESSAGE_SEND_SUCCEEDED:case sc.CHECK_MAIL_RECEIVED_WITH_UPDATES:case sc.CHANGE_FOLDER_SUCCEEDED:case sc.SEARCH_LIST_ITEMS_RECEIVED:case sc.UNDO_MOVE_SUCCEEDED:case sc.MORE_MESSAGES_REQUEST_SUCCESS:case sc.MORE_SEARCH_LIST_ITEMS_RECEIVED:case sc.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case sc.GIF_FETCH_SUCCEEDED:case sc.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case sc.MORE_COUPONS_SUCCESS:case sc.MORE_RECEIPTS_SUCCESS:case sc.RECEIPTS_LIST_SUCCEEDED:case sc.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case sc.COUPONS_LIST_SUCCEEDED:case sc.EXTRACT_COUPON_SUCCEEDED:case sc.TRAVEL_LIST_SUCCEEDED:case sc.COUPONS_ADD_TAG_DECO_REQUESTED:case sc.MORE_TRAVEL_ITEMS_SUCCEEDED:return uP({},t,{selectionPayload:{oldCursor:n(s)?o(s):void 0,oldSelectedItems:n(s)?a(s):[]}});case sc.DELETE_ITEMS_REQUESTED:case sc.MOVE_ITEMS_REQUESTED:case sc.MOVE_AND_READ_CHANGE_REQUESTED:if(void 0!==t.route&&t.route.params.fid===C.je.SPAM&&(t.triageActionType===C.ye.NOT_SPAM_SELECTED_ITEMS||t.triageActionType===C.ye.DELETE_SELECTED_ITEMS))return uP({},t,{streamItems:void 0})}return t},mP=s(150);const SP=({state:e,featureName:t,featureCueTimestamps:s})=>{const r=Object(wi.selectors)(e).getFeaturesSelectors(),n=r.isEnabled,a=r.getSetting,o=n(C.Eb.PUSH_NOTIFICATIONS),i=!!a(C.Kd.NOTIFICATION),c=n("browserNotifications"),l=a(C.Kd.PUSH_NOTIFICATIONS_EXPERIMENT),d=s[C.Eb.MOBILE_ONBOARDING_CUE]||0;return!!(Object(wi.selectors)(e).isMobileRoute()&&i&&o&&c&&d&&my()(new Date,1e3*d)>=7&&((e,t)=>-1!=={[C.Eb.PUSH_NOTIFICATIONS_CUE_LAUNCH]:[C.id.DEFAULT,C.id.LAUNCHV01],[C.Eb.PUSH_NOTIFICATIONS_CUE_PTR]:[C.id.PTRV01,C.id.PTRV02],[C.Eb.PUSH_NOTIFICATIONS_CUE_COMPOSE]:[C.id.COMPOSEV01]}[e].indexOf(t))(t,l)&&Ey()===ny)};var hP=s(115),CP=s(308);let gP=0;const OP={[C.Eb.PUSH_NOTIFICATIONS_CUE_LAUNCH]:SP,[C.Eb.PUSH_NOTIFICATIONS_CUE_PTR]:SP,[C.Eb.PUSH_NOTIFICATIONS_CUE_COMPOSE]:SP,[C.Eb.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE]:({state:e})=>{const t=Object(wi.selectors)(e).getAdsSelectors(),s=t.isABPDetected;return(0,t.isAdBlocked)()||s()},[C.Eb.ADBLOCK_DELAY_DISMISS_CUE]:({state:e,action:t})=>{const s=Object(wi.selectors)(e).getFeaturesSelectors().getSetting,r=Object(wi.selectors)(e).getAdsSelectors(),n=r.isAdBlocked,a=r.isABPDetected,o=r.getAdblockDelayDismissQualifiedActionCount,i=s(C.Kd.ADBLOCK_DELAY_DISMISS_SETTINGS),c=i.actionCount,l=i.maxRenderCount,d=Object(IM.a)();switch(t.type){case sc.ABP_DETECTED:case sc.ADBLOCK_DETECTED:return!d;case sc.OPEN_PAGE_REQUESTED:case sc.PREVIEW_MESSAGE_REQUESTED:{if(!n()&&!a())return!1;const e=o();return d<l&&e>=c}}return!1},[C.Eb.ADBLOCK_UPSELL_CUE]:({state:e,featureCueTimestamps:t})=>{const s=Object(wi.selectors)(e).getFeaturesSelectors(),r=s.isEnabled,n=(0,s.getSetting)(C.Kd.ADBLOCK_UPSELL_CUE_INTERVAL),a=Date.now()-1e3*t[C.Eb.ADBLOCK_UPSELL_CUE];return r(C.Eb.MAIL_PRO)?!t[C.Eb.ADBLOCK_UPSELL_CUE]:a>n},[C.Eb.BLOCK_SENDER_CUE]:({state:e,action:t})=>{const s=Object(wi.selectors)(e),r=s.canDisplayBlockSenderMenuItemForMessageId,n=s.doesMessageGroupIdExist,a=s.getMessageIdsFromMessageGroupId,o=Object(f.b)(t,"route.params.groupId");if(!o)return!1;if(!n(o))return!1;const i=a(o);return 1===i.length&&r(i[0])},[C.Eb.AOL_ONBOARDING_CUE_ML]:({action:e})=>{const t=e.route,s=void 0===t?{}:t;return!(s.name!==C.rd.BASE&&s.name!==C.rd.FOLDER&&!Object(Hi.S)(s)&&!Object(Hi.Z)(s)&&s.name!==C.rd.SUBSCRIPTION_LIST&&s.name!==C.rd.CONTACTS)},[C.Eb.AOL_ONBOARDING_CUE_MR]:({action:e})=>{const t=e.route,s=void 0===t?{}:t;return s.name===C.rd.MESSAGE_FROM_SEARCH_LIST||s.name===C.rd.MESSAGE_FROM_FOLDER_LIST||s.name===C.rd.MESSAGE_FROM_LIST},[C.Eb.AOL_ONBOARDING_CUE_CP]:({action:e})=>{const t=e.route,s=void 0===t?{}:t;return s.name===C.rd.NEW_DRAFT||s.name===C.rd.EDIT_DRAFT},[C.Eb.PARTNER_RECONSENT_BANNER]:({state:e})=>{const t=Object(wi.selectors)(e),s=t.isDraftRoute;return!(0,t.isComposeRoute)()&&!s()&&(Object(I.c)()&&window.OathReConsent&&window.OathReConsent.hasInlineBanner)},[C.Eb.LOCKER_FEATURE_CUE]:()=>window.__locker__&&"function"==typeof window.__locker__.isRenderFeatureTooltip&&window.__locker__.isRenderFeatureTooltip(),[C.Eb.NPS_SURVEY_CUE]:({state:e,action:t})=>{const s=Object(wi.selectors)(e),r=s.getPrescribedNumberOfColumns,n=s.getWindowDimensions,a=(0,s.getSetting)(C.Kd.PREVIEW_PANE)!==C.ed.NO,o=2===r(),i=t.route,c=t.previousRoute,l=void 0===c?{}:c;if(n().innerHeight<625)return!1;switch(t.type){case sc.OPEN_PAGE_REQUESTED:if(i.name===C.rd.FOLDER&&l.name===C.rd.MESSAGE_FROM_FOLDER_LIST)return!0;if(o&&i.name===C.rd.MESSAGE_FROM_FOLDER_LIST&&(gP++,gP>1))return!0;break;case sc.PREVIEW_MESSAGE_REQUESTED:case sc.STREAM_CURSOR_MOVED:if(a&&i.name===C.rd.FOLDER&&(gP++,gP>1))return!0;break;case sc.CLOSE_PAGE_REQUESTED:if(t.route.name===C.rd.MESSAGE_FROM_FOLDER_LIST)return!0;break;case sc.UPDATE_ITEMS_SUCCEEDED:if(t.route.name===C.rd.FOLDER&&l.name!==C.rd.FOLDER)return!0;break}return!1},[C.Eb.CONVERSATIONS_CUE]:({state:e})=>!!Object(wi.selectors)(e).isFeatureEnabled(C.Eb.CONVERSATIONS),[C.Eb.LASTPASS_FREETRIAL_UPSELL]:({state:e})=>{const t=Object(wi.selectors)(e),s=t.isFeatureEnabled;return(0,t.getWindowDimensions)().innerHeight>625&&s(C.Eb.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE)},[C.Eb.NEED_TO_KNOW_NEWS_CUE]:({state:e})=>{const t=Object(wi.selectors)(e),s=t.isFeatureEnabled,r=t.getSetting,n=t.getFeatureCueSelectors,a=(0,t.getQueryParams)();return!!n().isReshowInSessionEnabled(C.Eb.NEED_TO_KNOW_NEWS_CUE)&&((!a[".src"]||"fp"!==a[".src"]||!s(C.Eb.HIDE_NTK_FOR_HOMEPAGE_USERS))&&(!(s(C.Eb.HIDE_NTK_FOR_SMALLER_SCREEN)&&Object(I.c)()&&screen&&screen.width<di.c)&&!!(()=>{const e=r(C.Kd.SCOUT_ONBOARDING);if(e&&0===e.length)return!1;const t=Object(hP.a)(e,C.Eb.NEED_TO_KNOW_NEWS_CUE);if(t){const e=Math.floor(Date.now()/1e3),s=r(C.Kd.NEED_TO_KNOW_NEWS_CUE_INTERVAL),n=e-parseInt(t,10);return n>0&&n>s}return!0})()))},[C.Eb.MOBILE_PAC_NOTIFICATION_CUE]:({state:e,action:t})=>{const s=Object(wi.selectors)(e),r=s.isFeatureEnabled,n=(0,s.getFeatureCueSelectors)(),a=t.route,o=void 0===a?{}:a;return(o.name===C.rd.MESSAGE_FROM_SEARCH_LIST||o.name===C.rd.MESSAGE_FROM_FOLDER_LIST||o.name===C.rd.MESSAGE_FROM_LIST)&&(!(0,n.isShown)(C.Eb.MOBILE_ONBOARDING_CUE)&&!r(C.Kd.SHOW_IMAGES))},[C.Eb.OFFICE365_CUE]:({state:e})=>{const t=Object(wi.selectors)(e),s=t.getAccountSelectors,r=t.getMailboxesSelectors,n=(0,t.getRootAccountsWithDefaultFolder)(),a=s().isPrimaryAccountDisabled(),o=r().getAllMailboxes().length>1;return n.filter(e=>e.status===C.m.ENABLED&&(!o||e.defaultFolder&&e.defaultFolder.id)).length>1||a},[C.Eb.COUPON_LANDSHARK_CUE]:({state:e,action:t,featureCueTimestamps:s})=>{const r=Object(wi.selectors)(e),n=r.getFeatureCueSelectors,a=r.doesMessageGroupIdExist,o=r.getMessageIdsFromMessageGroupId,i=(0,r.getMessagesSelectors)().getDecos,c=n().isShown,l=s[C.Eb.MOBILE_ONBOARDING_CUE]||0,d=new Date,E=Object(f.b)(t,"route.params.groupId");if(!E)return!1;if(!a(E))return!1;const _=o(E),u=i(_[0]),p=Object(Wt.l)(u,[C.Cc.CPN]);return 1===_.length&&p&&!c(C.Eb.MOBILE_ONBOARDING_CUE)&&Object(mP.differenceInDays)(d,1e3*l)>1},[C.Eb.PKG_TRACKING_CUE]:({state:e,action:t})=>{var s,r;const n=Object(wi.selectors)(e),a=n.doesMessageGroupIdExist,o=n.getMessageIdsFromMessageGroupId,i=(0,n.getMessagesSelectors)().getDecos,c=null==t||null===(s=t.route)||void 0===s||null===(r=s.params)||void 0===r?void 0:r.groupId;if(!c)return!1;if(!a(c))return!1;const l=i(o(c)[0]);return Object(Wt.l)(l,[C.Cc.PKG])},[C.Eb.GROCERIES_PRODUCT_CUE]:({state:e,action:t,featureCueUserResponse:s})=>{var r,n;const a=(0,Object(wi.selectors)(e).getRetailersSelectors)(),o=null==t?void 0:t.listId;let i=!(0,a.isRetailerLinkable)(Object(Hi.B)(o)||"");return(null===(r=s[C.Eb.WALMART_CUE])||void 0===r?void 0:r.includes("1"))&&(null===(n=s[C.Eb.GROCERIES_PRODUCT_CUE])||void 0===n?void 0:n.includes("1"))&&(i=!1),i},[C.Eb.TMR_ICON_NOTIFICATION]:({state:e,action:t,featureCueTimestamps:s,featureCueUserResponse:r})=>{const n=e=>{if(e===C.oe.EXPIRED||e===C.oe.NO_STATE){const e=s[C.Eb.TMR_ICON_NOTIFICATION],t=Date.now()-1e3*e;return!e||t>864e5&&r[C.Eb.TMR_ICON_NOTIFICATION]<=3}if(e===C.oe.SUSPENDED)return!1;if(e===C.oe.AGREED){if(t.type===sc.FEATURE_CLOSED)return!0;const e=Object(f.b)(t,"data.lastRegisteredActions",[]).filter(e=>e.rewardsActionType===C.ne.DAILY_CHECKIN)[0].completedChallenges;return!!e.length&&e.some(e=>e.tag===C.pe.DAILY_CHECKIN)}return!1};switch(t.type){case sc.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:return n(Object(f.b)(t,"data.atos.atosStatus",""));case sc.FEATURE_CLOSED:if(t.name!==C.Eb.TMR_ONBOARDING_CUE)return!1;return n((0,Object(wi.selectors)(e).getMembershipRewardsSelectors)().getAtosStatus());case sc.TMR_REGISTER_ACTION_SUCCESS:{const e=Object(f.b)(t,"data.completedChallenges");return!!e.length&&e.some(e=>Object.keys(C.pe).indexOf(e.tag)>-1)}default:return!1}},[C.Eb.TMR_ONBOARDING_CUE]:({state:e,action:t,featureCueUserResponse:s})=>{const r=Object(f.b)(t,"data.atos.atosStatus","");if(!s[C.Eb.TMR_ONBOARDING_CUE])return!!r&&r!==C.oe.SUSPENDED;return(0,Object(wi.selectors)(e).isFeatureEnabled)(C.Eb.TMR_ONBOARDING_REMINDER)&&r===C.oe.NO_STATE},[C.Eb.TMR_MOBILE_ONBOARDING_CUE]:({state:e,action:t,featureCueUserResponse:s,featureCueTimestamps:r})=>{const n=Object(f.b)(t,"data.atos.atosStatus","");if(n===C.oe.AGREED&&!s[C.Eb.TMR_MOBILE_ONBOARDING_CUE])return!0;if(!s[C.Eb.TMR_MOBILE_ONBOARDING_CUE]||s[C.Eb.TMR_MOBILE_ONBOARDING_CUE]<3)return n===C.oe.EXPIRED||n===C.oe.NO_STATE;const a=(0,Object(wi.selectors)(e).isFeatureEnabled)(C.Eb.TMR_ONBOARDING_REMINDER),o=r[C.Eb.TMR_MOBILE_ONBOARDING_CUE],i=Date.now()-1e3*o;return a&&i>2592e6&&n===C.oe.NO_STATE},[C.Eb.TMR_MOBILE_DAILY_CHECKIN_CUE]:({state:e,action:t})=>{const s=Object(f.b)(t,"data.lastRegisteredActions",[]);if(s.length){const e=s.filter(e=>e.rewardsActionType===C.ne.DAILY_CHECKIN)[0].completedChallenges;return!!e.length&&e.some(e=>e.tag===C.pe.DAILY_CHECKIN)}return!!(0,Object(wi.selectors)(e).getMembershipRewardsSelectors)().pointsReceivedOnTaskCompletion(C.pe.DAILY_CHECKIN)},[C.Eb.TMR_MOBILE_IMAPIN_CUE]:({action:e})=>{const t=Object(f.b)(e,"data.completedChallenges");return!!t.length&&t.some(e=>e.tag===C.pe.IMAPIN)},[C.Eb.ADD_MAILBOX_POPOVER]:({state:e,action:t})=>{switch(t.type){case sc.MEMBERSHIP_REWARDS_LAUNCH_SUCCESS:if(Object(f.b)(t,"data.atos.atosStatus","")===C.oe.AGREED){return!Object(f.b)(t,"data.mailChallengesProgress","").some(e=>e.tag===C.pe.IMAPIN&&e.repeatedTimes>=1)}return!1;case sc.FEATURE_CLOSED:{if(t.name!==C.Eb.TMR_ICON_NOTIFICATION)return!1;const s=Object(wi.selectors)(e).getMembershipRewardsSelectors;if(s().getAtosStatus()===C.oe.AGREED){return!s().isImapInCompleted()}return!1}default:return!1}},[C.Eb.YMOBILE_PROMO_UPSELLS]:({state:e,action:t})=>{switch(t.type){case sc.LAUNCH_COMPLETED:{const t=Object(wi.selectors)(e),s=t.getSetting,r=t.getFoldersSelectors,n=(0,t.getRoute)(),a=s(C.Kd.YMOBILE_UPSELL_VERSION);if(n.name!==C.rd.FOLDER||!a)return!1;const o=r().getPrimaryFolderTypeByFolderId,i=Object(Hi.z)(n),c=o(Object(Hi.q)(i));return c!==C.Mb.SPAM&&c!==C.Mb.TRASH}}return!1},[C.Eb.SUBSCRIPTION_UPSELLS]:CP.b,[C.Eb.DISPATCHER_UPSELLS]:CP.a,[C.Eb.MAILPRO_FREE_TRIAL_UPSELLS]:({state:e,action:t,featureCueTimestamps:s,featureCueUserResponse:r})=>{const n=C.hc.INVALID,a=C.hc.PRE_SIGNUP_LIGHTBOX,o=C.hc.PRE_SIGNUP_LEFT_PANEL_3,i=C.hc.POST_SIGNUP_THANKYOU_TOAST,c=C.hc.FREE_TRIAL_ENDING_NOTICATION_1,l=C.hc.FREE_TRIAL_ENDING_NOTICATION_2,d=C.hc.FREE_TRIAL_LAST_DAY_NOTIFICATION,E=C.hc.FREE_TRIAL_EXPIRED_NOTIFICATION,_=C.hc.MAILPRO_SIGNUP_THNAKYOU_TOAST,u=Object(wi.selectors)(e),p=u.getEnvironmentSelectors,m=u.getSetting,S=(0,u.isFeatureEnabled)(C.Eb.ADS),h=s[C.Eb.MAILPRO_FREE_TRIAL_UPSELLS]||0;let g=C.rc;const O=m(C.Kd.MOCKED_RECURRING_INTERVAL),T=m(C.Kd.DAYS_IN_TRIAL_TEST_PARAM),A=m(C.Kd.FTWCC_ELIGIBLE_UPSELLS);O>0&&(g=1e3*O);const I=parseInt(r[C.Eb.MAILPRO_FREE_TRIAL_UPSELLS],10)||0;switch(t.type){case sc.LAUNCH_COMPLETED:return S&&(I===n||-1===T)&&A.includes(a);case sc.LIST_MAILPRO_SUBSCRIPTIONS_SUCCESS:{const e=t.data||{},s=e.hasFreeTrialInSubList,r=e.inFreeTrial,n=e.trialStartDate,u=e.trialEndDate,m=e.hasUpgradedToMailpro;if(S&&!s&&I>=a&&I<o){return Date.now()-1e3*h>g&&A.includes(I+1)}if(!S&&m)return A.includes(_);if(!S&&r){const e=Object(mP.differenceInDays)((new Date).getTime(),n)+1;if(I<i&&e>0&&e<7)return A.includes(i);if(I<c&&e>=7&&e<=11){return Date.now()-1e3*h>g&&A.includes(c)}if(I<l&&e>=12&&e<=13){var f;const e=(null===(f=p().getUserSegmentData().WEB_DESKTOP)||void 0===f?void 0:f.segment_id)||"";if(["4","5"].indexOf(e)>-1)return!1;return Date.now()-1e3*h>g&&A.includes(l)}if(I<d&&14===e)return A.includes(d)}return!!(S&&u&&Object(mP.isAfter)((new Date).getTime(),u)&&Object(mP.isBefore)(1e3*h,u))&&A.includes(E)}default:return!1}}};function TP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function AP(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?TP(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):TP(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const IP=(e,t={})=>{const s=(e,s="value")=>null===s?t[e]:(t[e]||{})[s],r=t[C.xc.BLOCK_IMAGES]?!t[C.xc.BLOCK_IMAGES].value:void 0;return Object.keys(t).length?{[C.Kd.THEME]:s(e?C.xc.MOBILE_THEME:C.xc.THEME),[C.Kd.THEME_MODE]:s(e?C.xc.MOBILE_THEME_MODE:C.xc.THEME_MODE),[C.Kd.MSG_LIST_DENSITY]:s(C.xc.MSG_LIST_DENSITY),[C.Kd.PREVIEW_PANE]:s(C.xc.PREVIEW_PANE),[C.Kd.SNIPPETS]:s(e?C.xc.MOBILE_SNIPPETS:C.xc.SNIPPETS),[C.Kd.COMPOSE_FONT_FAMILY]:s(C.xc.COMPOSE_FONT_FAMILY),[C.Kd.COMPOSE_FONT_SIZE]:s(C.xc.COMPOSE_FONT_SIZE),[C.Kd.DESKTOP_NOTIFICATION]:s(C.xc.DESKTOP_NOTIFICATION),[C.Kd.MOBILE_NOTIFICATION]:s(C.xc.MOBILE_NOTIFICATION),[C.Kd.MARK_AS_READ_INTERVAL]:s(C.xc.MARK_AS_READ_INTERVAL),[C.Kd.DELIVERY_BLOCKED_SENDERS]:s(C.xc.DELIVERY_BLOCKED_SENDERS,"senders"),[C.Kd.SHOW_IMAGES]:e?s(C.xc.MOBILE_SHOW_IMAGES):r,[C.Kd.LINK_ENHANCR]:s(C.xc.LINK_ENHANCER),[C.Kd.CONSENT_EVENTS]:s(C.xc.CONSENT_EVENTS),[C.Kd.VACATION_PREFERENCES]:s(C.xc.VACATION_PREFERENCES,null),[C.Kd.DEA_BASE_NAME]:s(C.xc.DEA_BASE_NAME,null),[C.Kd.MAILBOX_SIZE]:s(C.xc.MAILBOX_SIZE,null),[C.Kd.MESSAGE_FILTERS]:s(C.xc.MESSAGE_FILTERS,"filters"),[C.Kd.ACTION_AFTER_MSG_MOVE]:s(C.xc.ACTION_AFTER_MSG_MOVE),[C.Kd.SHOW_CUSTOM_FOLDERS]:s(C.xc.SHOW_CUSTOM_FOLDERS),[C.Kd.SHOW_SMART_VIEWS]:s(C.xc.EXPAND_SMART_VIEWS),[C.Kd.MAIL_TABS]:s(C.xc.MAIL_TABS),[C.Kd.HIDE_AD]:s(C.xc.HIDE_AD),[C.Kd.EXPANDED_FOLDERS]:s(C.xc.EXPANDED_FOLDERS),[C.Kd.STATIONERY_DEFAULT_THEME]:s(C.xc.STATIONERY_DEFAULT_THEME),[C.Kd.RECENTLY_USED_EMOJIS]:s(C.xc.RECENTLY_USED_EMOJIS),[C.Kd.SYSTEM_TABS]:s(C.xc.SYSTEM_TABS),[C.Kd.SCOUT_ONBOARDING]:s(C.xc.SCOUT_ONBOARDING),[C.Kd.AD_BLOCK_FEATURE_CUE_ID]:s(C.xc.AD_BLOCK_FEATURE_CUE_ID),[C.Kd.PREFERRED_AD_FORMAT]:s(C.xc.PREFERRED_AD_FORMAT),[C.Kd.USE_RICH_TEXT]:s(C.xc.USE_RICH_TEXT),[C.Kd.BREAKING_NEWS_SETTINGS]:s(C.xc.BREAKING_NEWS),[C.Kd.PACKAGE_TRACKING_SETTINGS]:s(C.xc.PACKAGE_TRACKING),[C.Kd.AMP_EMAIL]:s(C.xc.AMP_EMAIL,"ampEmail"),[C.Kd.AUTO_OPEN_FIRST_MESSAGE]:s(C.xc.AUTO_OPEN_FIRST_MESSAGE,C.xc.AUTO_OPEN_FIRST_MESSAGE),[C.Kd.INBOX_STYLE]:s(C.xc.INBOX_STYLE,C.xc.INBOX_STYLE),[C.Eb.IS_REINDEXABLE]:s(C.xc.IS_REINDEXABLE,C.xc.IS_REINDEXABLE),[C.Kd.MIGRATION_STATUS]:s(C.xc.MIGRATION_STATUS,C.xc.MIGRATION_STATUS)}:{}};var fP=({__initializeFeatures__:e,featureSequence:t={},featureCueTimestamps:s={},featureCueUserResponse:r={},config:n={},queryStringOverrides:a={}})=>(o,i)=>{const c=i.type,l=i.name,d=i.mailboxAttributes,E=b()(i,["type","name","mailboxAttributes"]),_=t[c]||[],u=(({state:e={},action:t={},initializedFeatures:s={},featureCueTimestamps:r={},featureCueUserResponse:n={}})=>a=>{const o=s[a]||{},i=Object(wi.selectors)(e).getFeaturesSelectors().isEnabled,c=i(C.Eb.SCOUT_PREDICATE);if(i(C.Eb.SCOUT_RECURRING)&&o.isFeatureCue&&o.recurringInterval&&r[a]&&!o.reShowInSession){const e=Math.floor(Date.now()/1e3)-parseInt(r[a],10);if(e>0&&e<o.recurringInterval)return!1}return!c||"function"!=typeof OP[a]||OP[a]({state:e,action:t,featureName:a,featureCueTimestamps:r,featureCueUserResponse:n})})({state:o,action:i,initializedFeatures:e,featureCueTimestamps:s,featureCueUserResponse:r});switch(c){case sc.LAUNCH_PAGE_REQUESTED:return AP({},i,{features:AP({},n)});case sc.INITIAL_STATE:{const t=_.filter(u),s=w()(t,1)[0],c=(d||{}).responses,l=Object(wi.selectors)(o).isMobileRoute(),p=IP(l,c);a!=={}&&Object.assign(p,a);const m=Object.keys(e).reduce((t,r)=>(t[r]=(r===s||!!e[r].enabled)&&u(r),t),{}),S=Object.keys(n).filter(e=>"boolean"!=typeof n[e]&&!(e in p)).reduce((e,t)=>(e[t]=n[t],e),p);return AP({},i,{features:Object.assign({},m,S,E.optedOutMarketingProducts?{[C.Kd.MARKETING_PREFERENCES_SETTING]:E.optedOutMarketingProducts}:null),nextFeature:s||"",featureCues:Object.keys(e).filter(t=>e[t].isFeatureCue).reduce((t,s)=>AP({},t,{[s]:{isShown:!1,isKeySaved:!1,isPersistent:!!e[s].isPersistent,subkey:e[s].subkey,userResponse:r[s]||"0",action:e[s].action||[],nextFeatureCues:e[s].nextFeatureCues||{},recurringInterval:e[s].recurringInterval||0,reShowInSession:e[s].reShowInSession||!1,isFeatureCue:!0}}),{})})}case sc.SETTINGS_BLOCKED_SENDERS_RECEIVED:case sc.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:case sc.COMPOSE_ATTRIBUTES_RECEIVED:case sc.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:{const e=i.mailboxAttributes,t=Object(wi.selectors)(o).isMobileRoute();return AP({},i,{features:IP(t,e)})}case sc.LEGACY_WIDERMAIL_EXTN_DETECTED:case sc.FEATURE_TRY_NOW_REQUESTED:case sc.FEATURE_DISABLED:case sc.FEATURE_CLOSED:case sc.FEATURE_CUE_NOTIFICATION_CLOSED:{if(!l)return i;const t=(e[l]||{}).nextFeatureCues,s=(void 0===t?{}:t)[c];return AP({},E,{name:l,type:c,nextFeature:s&&u(s)?s:null})}case sc.APPLICATION_VISIBILITY_DID_CHANGE:{const e=Object(wi.selectors)(o).isFeatureEnabled;return i.isVisible&&e(C.Eb.SHOW_NTK_ON_VISIBILITY_CHANGE)?AP({},i,{showNTK:u(C.Eb.NEED_TO_KNOW_NEWS_CUE)}):i}case sc.TMR_REGISTER_ACTION_SUCCESS:return AP({},i,{showTMRNotification:u(C.Eb.TMR_ICON_NOTIFICATION),showTMRMobileImapInCue:u(C.Eb.TMR_MOBILE_IMAPIN_CUE)});default:{const e=Object(wi.selectors)(o),t=e.isOldNewMailInboxStyle(),s=e.getFeatureCueSelectors().shownFeatures().filter(Object(wi.selectors)(o).getFeaturesSelectors().isEnabled),r=w()(s,1)[0]?[]:_.filter(e=>!Object(wi.selectors)(o).getFeatureCueSelectors().isShown(e)).filter(u),n=w()(r,1)[0];return n&&(n!==C.Eb.TMR_ICON_NOTIFICATION||u(C.Eb.TMR_ICON_NOTIFICATION))?AP({},i,{nextFeature:n,isOldNewMailStyle:t}):AP({},i,{isOldNewMailStyle:t})}}};function DP(e,t,s){const r=s.isMessageRoute,n=s.getRoute,a=t.folder,o=t.destinationFolder,i=Object(pt.n)(o),c=Object(pt.n)(a),l=n();let d=function(e){const t={[C.Mb.INBOX]:1,[C.Mb.USER]:1,[C.Mb.ARCHIVE]:1,[C.Mb.BULK]:2,[C.Mb.TRASH]:2,[C.Mb.SENT]:3,[C.Mb.DRAFT]:4};return e.reduce((e,s)=>{const r=t[e]||100;return r<(t[s]||100)?r:s},"")}(e);if(d||(d="KEYWORD"),!function(e,t){return e.accountId===t.accountId}(a,o))return!1;if(a.id===o.id&&i!==C.Mb.TRASH)return!1;switch(d){case C.Mb.INBOX:case C.Mb.USER:case C.Mb.ARCHIVE:if(r()&&!t.isExplicitlySelected)return c!==C.Mb.DRAFT;if(bP(c))return t.isExplicitlySelected;if(RP(c)){const e=l.name===C.rd.Search||l.name===C.rd.MESSAGE_FROM_SEARCH_LIST;return t.isExplicitlySelected||e}return!NP(c)&&!NP(i);case C.Mb.SENT:if(r()&&!t.isExplicitlySelected)return c!==C.Mb.DRAFT;if(bP(c))return t.isExplicitlySelected;if(!RP(c)){const e=l.name===C.rd.Search||l.name===C.rd.MESSAGE_FROM_SEARCH_LIST;return t.isExplicitlySelected||e}return!NP(i);case C.Mb.DRAFT:return r()&&!t.isExplicitlySelected?c!==C.Mb.DRAFT:c===C.Mb.DRAFT&&(i===C.Mb.TRASH||i===C.Mb.SENT);case C.Mb.TRASH:case C.Mb.BULK:return!NP(i);case"KEYWORD":return bP(c)?i===C.Mb.TRASH:RP(c)?i!==C.Mb.DRAFT&&i!==C.Mb.BULK:!NP(i);default:return!1}}function RP(e){return e===C.Mb.SENT}function bP(e){return e===C.Mb.DRAFT}function NP(e){return e===C.Mb.DRAFT||e===C.Mb.SENT}var MP={isReadMessage:e=>e.flags.read,isUnreadMessage:e=>!e.flags.read,isStarredMessage:e=>e.flags.flagged,isUnstarredMessage:e=>!e.flags.flagged,isRecentlySentMessage:e=>t=>e.isSendRequested(t.csid),isMoveableMessage:(e,t)=>s=>DP(e,s,t),isFromSenders:e=>t=>function(e,t){if(t.fromAddresses&&t.fromAddresses.some(t=>-1!==e.indexOf(t.email)))return!0;return!1}(e,t),isRecentOrUnreadMessage:e=>e.flags.recent||!e.flags.read,isMoveableOrReadMessage:(e,t)=>s=>DP(e,s,t)||s.flags.read,isMoveableOrUnreadMessage:(e,t)=>s=>DP(e,s,t)||!s.flags.read,default:()=>!1},yP=s(99);function LP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function PP(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?LP(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):LP(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const vP=C.Mb.TRASH,FP=C.Mb.BULK,UP=C.Mb.DRAFT,wP=e=>1===e.length&&/[a-z]/i.test(e),GP=e=>-1!==[C.ye.READ_CHANGE_FOLDER_ITEMS,C.ye.ARCHIVE_FOLDER_ITEMS,C.ye.DELETE_FOLDER_ITEMS,C.ye.DELETE_ALL_FROM_SENDERS].indexOf(e),HP=({keyword:e,acctId:t,folderId:s,senderEmailIds:r,filterUnread:n=!1})=>{if(r.length>0)return s?`folderId:${s} count:10000`+r.reduce((e,t)=>e+" fromEmail:"+t,""):`acctId:${t} count:10000`+r.reduce((e,t)=>e+" fromEmail:"+t,"");let a=s?`folderId:${s} count:10000`:"keyword:"+e;return n&&(a+=" is:unread"),a};function jP(e={},t,s){const r=e.folder,n=e.destinationFolder;if(!r)return!1;if([sc.READ_CHANGE_REQUESTED,sc.STAR_CHANGE_REQUESTED,sc.RECENT_AND_READ_CHANGE_REQUESTED,sc.MOVE_AND_READ_CHANGE_REQUESTED].includes(s))return!1;const a=t(r.id),o=n?t(n.id):void 0;return!(Object(Hi.w)(e.listId)!==C.ac.MESSAGES||!e.isAffected)&&((!o||a!==FP||o===vP)&&((s!==sc.MOVE_ITEMS_REQUESTED||-1===[vP,FP].indexOf(a))&&-1!==[vP,FP,UP].indexOf(a)))}const kP=e=>-1!==[C.ac.MESSAGES,C.ac.IMAGES,C.ac.DOCUMENTS,C.ac.COUPON_CARDS,C.ac.TRAVEL_CARDS,C.ac.REFUND_CARDS].indexOf(Object(Hi.w)(e)),xP=(e,t)=>s=>{const r=t.destinationFolderType,n=t.checkForDuplicates,a=Object(wi.selectors)(e),o=a.doesMessageGroupIdExist,i=a.getMessagesSelectors,c=a.getFeaturesSelectors,l=a.getAttachmentIdsByMessageId,d=a.getMessageCsid,E=a.getMessageFolderId,_=a.getMessageIdsFromMessageGroupId,u=a.getAccountById,p=a.getMessageModSeq,m=(0,a.getFoldersSelectors)(),S=m.getAccountIdByFolderId,h=m.getFolderIdsFromFolderType,g=m.getPrimaryFolderTypeByFolderId,O=i(),T=O.getConversationId,A=O.getFromAddresses,I=c().isEnabled,f=((e,t)=>s=>{const r=t.type,n=(0,Object(wi.selectors)(e).getMessageFlags)(s)||{};switch(r){case sc.V3_MESSAGE_SEND_SUCCEEDED:case sc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:{const e=t.message,r=(void 0===e?{}:e).inReplyTo,a=void 0===r?{}:r,o=a.messageReference,i=a.replied,c=a.forwarded;if((void 0===o?{}:o).id===s)return PP({},n,{},i?{answered:!0}:null,{},c?{forwarded:!0}:null)}}return n})(e,t),D=I(C.Eb.CONVERSATIONS);return s.filter(e=>kP(e.listId)&&o(e.id)).map(e=>{const a=_(e.id);return a.map(o=>{const i=E(o),c=S(i),_=u(c),m=r?h(r,c)[0]:t.destinationFolderId,O=m?WP(m,g(m),S(m)):void 0,I=D?T(o):o,R=(e.messageIds||[]).indexOf(o)>=0||1===a.length,b=!e.messageIds&&a.indexOf(o)>=0,N=A(o),M=(({count:e,checkForDuplicates:t=!1,account:s,destinationFolder:r,conversations:n})=>(t||e<=C.kb)&&!!r&&(-1!==r.types.indexOf(C.Mb.TRASH)||-1!==r.types.indexOf(C.Mb.BULK))&&n&&"IMAPIN"===s.type&&-1!==C.a.indexOf(s.serverUri))({count:s.length,checkForDuplicates:n,account:_,destinationFolder:O,conversations:D});return PP({},e,{messageId:o,csid:d(o),modSeq:p(o),isExplicitlySelected:R,isImplicitlySelected:b,groupId:I,folder:WP(i,g(i),c),destinationFolder:O,flags:f(o),attachmentIds:l(o),fromAddresses:N,deleteDuplicates:M})})}).reduce((e,t)=>e.concat(t),[])},BP=(e,t)=>s=>{const r=xP(e,t);return[...s.filter(e=>-1===[C.ac.MESSAGES,C.ac.COUPON_CARDS].indexOf(Object(Hi.w)(e.listId))),...r(s)]},VP=(e,t)=>{const s=t.streamId,r=t.streamItem,n=Object(wi.selectors)(e),a=n.doesStreamExist,o=n.getSelectedStreamItems,i=n.getCursorItem,c=a(s)?i(s):void 0,l=a(s)?o(s):[];let d=[];r?d=[r]:t.batchRemoveItems&&t.batchDelete?d=t.batchRemoveItems:t.allSelected?d=t.streamItems.map(({id:e,listId:t})=>({id:e,listId:t})):l.length?d=l:c&&(d=[c]);return BP(e,t)(d)};function WP(e,t,s){return{id:e,types:[t],accountId:s}}const KP=(e,t)=>{const s=Object(wi.selectors)(e),r=s.doesListExist,n=s.getListsSelectors,a=(0,s.getContactListSelectors)().getContactById,o=n(),i=o.getListIdsByListFilter,c=o.getItemIds,l=Object(Hi.k)(C.bc.USER_CREATED_CONTACTS,""),d=Object(Hi.k)(C.bc.GROUPS,C.jb),E=i(C.bc.IMPORTANT_CONTACTS),_=i(C.bc.GROUPS),u=Object(Hi.k)(C.bc.PRINT_CONTACTS),p=[l];switch(r(d)&&p.push(d),t.type){case sc.CONTACTS_SORT_ORDER_CHANGED:case sc.CREATE_CONTACT_SUCCEEDED:return r(u)&&p.push(u),p;case sc.CONTACT_SAVE_SUCCEEDED:{var m;const e=t.contact.id,s=(null===(m=a(e))||void 0===m?void 0:m.emails)||[];return E.forEach(e=>{c(e).some(e=>s.some(t=>t===e))&&p.push(e)}),_.forEach(t=>{c(t).some(t=>"object"==typeof t?e===t.id:e===t)&&p.push(t)}),p}default:return p}},qP=(e,t,s=[])=>{const r=Object(wi.selectors)(e),n=r.getListsSelectors,a=(0,r.getFoldersSelectors)(),o=a.getFolderIdsByName,i=a.doesFolderIdExist,c=n(),l=c.getListIdsByContentType,d=c.getItemIds;switch(t.type){case sc.CONTACTS_SORT_ORDER_CHANGED:return KP(e,t).map(e=>({listId:e}));case sc.COUPONS_REMOVE_TAG_DECO_REQUESTED:return l(C.ac.COUPON_CARDS).map(e=>({listId:e}));case sc.CREATE_CONTACT_SUCCEEDED:return[{listId:t.streamItem.listId},...KP(e,t).map(e=>({listId:e}))];case sc.CONTACT_SAVE_SUCCEEDED:{const s=t.streamItem;return[{listId:s.listId},{listId:s.oldListId},...KP(e,t).map(e=>({listId:e}))]}case sc.DELETE_CONTACT_REQUESTED:{const s=(0,Object(wi.selectors)(e).getContactListSelectors)().getContactById,r=t.streamItems.reduce((e,{id:t})=>e.concat(s(t).emails),[]);return l(C.ac.CONTACTS).concat(l(C.ac.PEOPLE).filter(e=>Object(Hi.F)(e)===C.cc.CONTACT_DETAILS)).reduce((e,s)=>{const n=d(s);let a=!1;const o=Object(Hi.x)(s);return o===C.bc.PRINT_CONTACTS?e.concat({listId:s,markAsDirty:!1}):o===C.bc.IMPORTANT_CONTACTS||o===C.bc.GROUPS?(a=n.some(e=>r.some(t=>"object"==typeof e?e.type===yP.b.EMAIL&&t===e.value:t===e)),a?e.concat({listId:s,itemsToUpdate:r}):e):(a=n.some(e=>t.streamItems.some(t=>e===t.id)),a?e.concat({listId:s}):e)},[])}}return l(C.ac.MESSAGES).map(e=>{const t=Object(Hi.r)(e),s=t.folderIds,r=void 0===s?[]:s,n=t.folderNames;return{listId:e,folderIds:(void 0===n?[]:n).reduce((e,t)=>e.concat(o(t)),[]).concat(r).filter(i)}}).concat(l(C.ac.IMAGES).map(e=>({listId:e}))).concat(l(C.ac.DOCUMENTS).map(e=>({listId:e}))).filter(({listId:e})=>-1===s.indexOf(e))};function YP(e,t){const s=t.type,r=t.itemToUpdate,n=Object(wi.selectors)(e),a=(0,n.getFoldersSelectors)(),o=a.doesFolderIdExist,i=a.getPrimaryFolderTypeByFolderId,c=a.getFolderIdsByName;switch(s){case sc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case sc.V3_MESSAGE_SEND_SUCCEEDED:return MP.isRecentlySentMessage(n);case sc.UNDO_MOVE_REQUESTED:case sc.MOVE_ITEMS_REQUESTED:case sc.DELETE_ITEMS_REQUESTED:{const e=Object(Hi.r)(r.listId),t=e.folderIds,s=void 0===t?[]:t,a=e.folderNames,l=(void 0===a?[]:a).reduce((e,t)=>e.concat(c(t)),[]).concat(s).filter(o).map(i);return MP.isMoveableMessage(l,n)}case sc.MOVE_AND_READ_CHANGE_REQUESTED:{Object(h.a)("boolean"==typeof t.isRead,`Action ${s} does not have isRead prop.`);const e=Object(Hi.r)(r.listId),a=e.folderIds,l=void 0===a?[]:a,d=e.folderNames,E=(void 0===d?[]:d).reduce((e,t)=>e.concat(c(t)),[]).concat(l).filter(o).map(i);return t.isRead?MP.isMoveableOrReadMessage(E,n):MP.isMoveableOrUnreadMessage(E,n)}case sc.BLOCK_SENDERS_WITH_DELETE_REQUESTED:{const e=t.deleteItemsFromSenders;return MP.isFromSenders(void 0===e?[]:e)}case sc.READ_CHANGE_REQUESTED:return Object(h.a)("boolean"==typeof t.isRead,`Action ${s} does not have isRead prop.`),t.isRead?MP.isReadMessage:MP.isUnreadMessage;case sc.RECENT_AND_READ_CHANGE_REQUESTED:return MP.isRecentOrUnreadMessage;case sc.STAR_CHANGE_REQUESTED:return Object(h.a)("boolean"==typeof t.isStarred,`Action ${s} does not have isStarred prop.`),t.isStarred?MP.isStarredMessage:MP.isUnstarredMessage;default:Object(h.a)(!1,`Action ${s} does not have an associated rule with it.`)}}var zP=(e,t)=>{const s=t.type,r=t.streamId,n=t.streamItem,a=t.staleFolderIds;let o;if(s===sc.CHECK_MAIL_RECEIVED_WITH_UPDATES&&(void 0===a?[]:a).length)return PP({},t,{listsToUpdate:qP(e,t)});if(s===sc.OPEN_PAGE_REQUESTED){const s=Object(wi.selectors)(e),r=s.getListStatus,n=t.forceSync,a=void 0!==n&&n,o=t.listId,i=t.i13nModel,c=(void 0===i?{}:i).mKey===Ii.g.SEARCH_BUTTON;if((0,s.doesListExist)(o)&&r(o)===C.od.ERROR&&(a||c))return PP({},t,{listsToUpdate:[{listId:o}],forceSync:!0})}if(s===sc.UPDATE_ITEMS_SUCCEEDED&&GP(t.triageActionType))return PP({},t,{listsToUpdate:qP(e,t),forceSync:!0});if(s===sc.UPDATE_ITEMS_FAILED){const s=t.deletedMessages,r=void 0===s?[]:s;if(0===r.length)return t;const n=Object(wi.selectors)(e),a=n.getGroupIdContainingMessageId,o=n.getMessageFolderId,i=n.getMessageIdsFromMessageGroupId,c=n.getAccountIdByFolderId,l=n.getPrimaryFolderTypeByFolderId,d=n.getMessageFlags,E=n.getAttachmentIdsByMessageId,_=(0,n.getRoute)(),u=Object(Hi.z)(_),p=[];return r.forEach(e=>{const t=a(e.id),s=o(e.id),r=Object(Hi.y)(s),n=i(t,r),_=c(s),u=l(s);n.forEach(n=>{p.push({id:t,groupId:t,messageId:n,listId:r,isAffected:n===e.id,folder:WP(s,u,_),flags:d(n),attachmentIds:E(n),permanentDelete:!0})})}),p.length>0?PP({},t,{itemsToDelete:p,listsToUpdate:[{listId:u}],listsToRemove:qP(e,t,[u]).map(({listId:e})=>e)}):t}if(s===sc.CONTACTS_SORT_ORDER_CHANGED)return PP({},t,{listsToUpdate:qP(e,t)});if(!r&&s!==sc.DELETE_CONTACT_REQUESTED&&s!==sc.CONTACT_SAVE_SUCCEEDED&&s!==sc.CREATE_CONTACT_SUCCEEDED)return t;switch(s){case sc.UNDO_MOVE_AND_READ_REQUESTED:case sc.UNDO_MOVE_REQUESTED:o=t.itemsToUpdate;break;case sc.V3_MESSAGE_SAVE_SUCCEEDED:{const s=Object(wi.selectors)(e),a=s.getCursorItem,i=(0,s.doesStreamExist)(r)?a(r):void 0,c=BP(e,t);if(o=i?c([i]):void 0,!o)break;o=o.map(e=>e.csid===t.csid?PP({},e,{newId:n.id,isAffected:!0}):e);break}case sc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case sc.V3_MESSAGE_SEND_SUCCEEDED:case sc.MOVE_ITEMS_REQUESTED:case sc.MOVE_AND_READ_CHANGE_REQUESTED:case sc.DELETE_ITEMS_REQUESTED:case sc.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case sc.READ_CHANGE_REQUESTED:case sc.RECENT_AND_READ_CHANGE_REQUESTED:case sc.STAR_CHANGE_REQUESTED:{const n=Object(wi.selectors)(e),a=n.getStreamSelectionType,i=n.getRoute,c=n.getFeaturesSelectors,l=n.doesStreamExist,d=(0,n.getFoldersSelectors)().getPrimaryFolderTypeByFolderId,E=(l(r)&&a(r))===C.Hd.ALL,_=(0,c().isEnabled)(C.Eb.SELECT_ALL),u=E&&_;if(GP(t.triageActionType)||u){const r=t.folderId,n=t.flags,a=t.destinationFolderId,c=t.destinationFolderType,l=t.permanent,E=void 0!==l&&l,_=t.listId||Object(Hi.z)(i()),u=r||Object(Hi.q)(_),p=n||(e=>{switch(e.type){case sc.READ_CHANGE_REQUESTED:return{read:!e.isRead};case sc.STAR_CHANGE_REQUESTED:return{flagged:!e.isStarred}}return{}})(t),m=((e,t)=>({acctId:s,folderId:r,flags:n={},destinationFolderId:a,destinationFolderType:o,permanentDelete:i,listId:c,senderEmailIds:l=[]})=>{const d=(0,Object(wi.selectors)(e).getFoldersSelectors)(),E=d.getAccountIdByFolderId,_=d.getPrimaryFolderTypeByFolderId,u=d.getFolderIdsFromFolderType,p=r?E(r):s;a||(a=o?u(o,p)[0]:void 0);const m=a?WP(a,_(a),E(a)):void 0;return{folder:r?WP(r,_(r),p):void 0,listId:c,messageQuery:HP({keyword:r?void 0:Object(Hi.v)(c),acctId:s,folderId:r,senderEmailIds:l,filterUnread:t.triageActionType===C.ye.READ_CHANGE_FOLDER_ITEMS}),isAffected:!0,permanentDelete:i,flags:n,destinationFolder:m}})(e,t),S=Object(wi.selectors)(e).getSelectedAccountId,h=!(!u||-1===[C.Mb.BULK,C.Mb.TRASH].indexOf(d(u)));if(s===sc.BLOCK_SENDERS_WITH_DELETE_REQUESTED){const r=t.deleteItemsFromSenders,n=void 0===r?[]:r;o=[m({acctId:S(),folderId:h?u:void 0,flags:{},destinationFolderId:a,destinationFolderType:c,permanentDelete:E,listId:_,senderEmailIds:n})],o=o.concat(VP(e,t).filter(s=>YP(e,PP({},t,{itemToUpdate:s}))(s)).map(e=>{let t=Object.assign({},e,{isAffected:!0});return jP(t,d,s)&&(t.permanentDelete=!0,t=Object(f.g)(t,["destinationFolder"])),t}))}else o=[m({folderId:u,flags:p,destinationFolderId:a,destinationFolderType:c,permanentDelete:E,listId:_})];break}o=VP(e,t).map(r=>{const n=YP(e,PP({},t,{itemToUpdate:r}));let a=PP({},r,{isAffected:(r.isExplicitlySelected||r.isImplicitlySelected)&&kP(r.listId)&&n(r)});!a.destinationFolder&&(s===sc.DELETE_ITEMS_REQUESTED||s===sc.MOVE_ITEMS_REQUESTED)||jP(a,d,s)?(a.permanentDelete=!0,a=Object(f.g)(a,["destinationFolder"])):a.permanentDelete=!1;const o=Object(f.b)(r,"destinationFolder.types",[]),i=Object(f.b)(r,"folder.types",[]);return a.isSpamMove=!1,a.isHamMove=!1,s!==sc.DELETE_ITEMS_REQUESTED&&s!==sc.MOVE_ITEMS_REQUESTED||a.permanentDelete||(-1!==o.indexOf(C.Mb.BULK)?a.isSpamMove=!0:-1!==i.indexOf(C.Mb.BULK)&&(a.isHamMove=!0)),a});break}case sc.COUPONS_REMOVE_TAG_DECO_REQUESTED:o=t.messageDecosPayloads.map(e=>({id:e.messageId,isAffected:!0}));break;case sc.DELETE_CONTACT_REQUESTED:{const s=Object(wi.selectors)(e),r=s.getContactListSelectors,n=(0,s.getListsSelectors)().getItemIds,a=r(),i=a.getContactById,c=(0,a.getCurrentPaneListId)();t.streamId=c,t.streamItems=t.streamItem?[t.streamItem]:t.streamItems,o=t.streamItems.map(e=>{const t=i(e.id);return PP({},e,{listId:n(c).find(t=>n(t).indexOf(e.id)>=0),editToken:t.editToken,emails:t.emails,isAffected:!0})});break}case sc.CREATE_CONTACT_SUCCEEDED:{const s=(0,(0,Object(wi.selectors)(e).getContactListSelectors)().getCurrentPaneListId)(),r=t.contact.name.charAt(0);t.streamId=s,t.streamItem={streamId:s,id:t.contact.id,listId:Object(Hi.gb)(Object(Hi.k)(C.bc.USER_CREATED_CONTACTS,""),{name:wP(r)?r.toUpperCase():"#"})},o=[PP({},t.streamItem,{isAffected:!0})];break}case sc.CONTACT_SAVE_SUCCEEDED:{const s=(0,Object(wi.selectors)(e).getContactListSelectors)(),r=s.getContactById,n=(0,s.getCurrentPaneListId)(),a=r(t.contact.id),i=a.name,c=wP(i.charAt(0))?i.charAt(0).toUpperCase():"#",l=t.contact.name.charAt(0),d=a.emails?a.emails.filter((e,s)=>e!==t.contact.emails[s]):[],E=Object(Hi.gb)(Object(Hi.k)(C.bc.USER_CREATED_CONTACTS,""),{name:wP(l)?l.toUpperCase():"#"}),_=Object(Hi.gb)(Object(Hi.k)(C.bc.USER_CREATED_CONTACTS,""),{name:c});t.streamId=n,t.streamItem={streamId:n,id:t.contact.id,listId:E,oldListId:_,changedEmails:d},o=[PP({},t.streamItem,{isAffected:!0})];break}}let i=[];if(!(t.type!==sc.DELETE_ITEMS_REQUESTED&&t.type!==sc.MOVE_ITEMS_REQUESTED||t.destinationFolderType!==C.Mb.TRASH&&t.destinationFolderType!==C.Mb.BULK)){const t=(0,Object(wi.selectors)(e).getListsSelectors)().getListIdsByContentType;i=[].concat(t(C.ac.COUPON_CARDS)).concat(t(C.ac.REFUND_CARDS))}return o?PP({},t,{itemsToUpdate:o,listsToUpdate:qP(e,t,i),listsToRemove:i}):t};function QP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ZP(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?QP(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):QP(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var XP=(e,t)=>{const s=t.simpleBody,r=t.messageIds,n=void 0===r?[]:r,a=t.messageBodiesMap,o=void 0===a?{}:a,i=t.messageMetadataMap,c=void 0===i?{}:i,l=t.errorMessageIds,d=void 0===l?[]:l;switch(t.type){case sc.INITIAL_STATE:case sc.MESSAGE_BODIES_RECEIVED:case sc.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case sc.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:{const e=Object.keys(o);if(!e.length&&!d.length)return t;const s=e.reduce((e,t)=>{const s=(c[t]||{}).csid;return ZP({},e,{[t]:{body:o[t]}},s?{[s]:{body:o[t]}}:{})},{}),r=d.reduce((e,t)=>ZP({},e,{[t]:{}}),{});return ZP({},t,{v3MessageBodiesMap:ZP({},s,{},r)})}case sc.MESSAGE_AUTO_SAVE_SUCCEEDED:case sc.MESSAGE_SAVE_SUCCEEDED:case sc.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case sc.V3_MESSAGE_SAVE_SUCCEEDED:case sc.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return ZP({},t,{v3MessageBodiesMap:ZP({[t.message.id]:{body:s}},t.csid?{[t.csid]:{body:s}}:{})});case sc.MESSAGE_GROUP_OPENED:case sc.MESSAGE_BODIES_FAILED:return n.length?ZP({},t,{v3MessageBodiesMap:n.reduce((e,t)=>ZP({},e,{[t]:{}}),{})}):t;case sc.PREVIEW_MESSAGE_REQUESTED:case sc.OPEN_PAGE_REQUESTED:{const s=t.streamItem,r=void 0===s?{}:s,n=r.id,a=r.listId;if(n&&a){const s=Object(wi.selectors)(e),r=s.getMessageBodyState,o=s.getMessageBodyRetryCount,i=((0,s.getMessageIdsFromMessageGroupId)(n,a)||[]).reduce((e,t)=>{const s=r(t),n=o(t);return s===C.od.ERROR&&n<=C.pc?ZP({},e,{[t]:{}}):e},{});return ZP({},t,{v3MessageBodiesMap:i})}return t}default:return t}};function $P(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function JP(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$P(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$P(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const ev=C.U.Modes;var tv=(e,t)=>{switch(t.type){case sc.V3_MESSAGE_SEND_REQUESTED:{const s=Object(wi.selectors)(e).getRoute;return JP({},t,{listId:Object(Hi.z)(s())})}case sc.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return JP({},t,{inReplyToMessageId:t.composeMode===ev.REPLY?t.message.id:null,inReplyAllToMessageId:t.composeMode===ev.REPLY_ALL?t.message.id:null,inForwardToMessageId:t.composeMode===ev.FORWARD?t.message.id:null});default:return t}};function sv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var rv=({internal:e=!1})=>(t,s)=>{switch(s.type){case sc.INITIAL_STATE:return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?sv(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sv(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},s,{internal:e});default:return s}};function nv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function av(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?nv(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):nv(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var ov=(e,t)=>{switch(t.type){case sc.DELETE_ITEMS_REQUESTED:case sc.MOVE_ITEMS_REQUESTED:if(t.fromMessageGroupView){const s=Object(wi.selectors)(e),r=s.getSetting,n=(0,s.getAdsSelectors)();return av({},t,{messageReadAdRotationTimestamp:n.getMessageReadAdRotationTimestamp(),messageReadAdRotationActive:n.getMessageReadAdRotationActive(),messageReadAdRotationIdleInterval:r(C.Kd.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL)})}break;case sc.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case sc.MESSAGE_CARD_EXPANSION_CHANGED:case sc.MESSAGE_CARD_FOCUSED:case sc.APPLICATION_VISIBILITY_DID_CHANGE:case sc.OPEN_PAGE_REQUESTED:{const s=Object(wi.selectors)(e),r=s.getAdsSelectors,n=s.getSetting,a=(0,s.getFeaturesSelectors)().isEnabled,o=r();return av({},t,{messageReadAdRotationTimestamp:o.getMessageReadAdRotationTimestamp(),messageReadAdRotationActive:o.getMessageReadAdRotationActive(),messageReadAdRotationIdleInterval:n(C.Kd.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL),noAdRotationOnCompose:a(C.Eb.NO_AD_ROTATION_ON_COMPOSE)})}}return t},iv=s(368);function cv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function lv(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?cv(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cv(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var dv=(e,t)=>{switch(t.type){case sc.OPEN_PAGE_REQUESTED:{if(t.route.name===C.rd.SPONSORED_MESSAGE){const s=(0,Object(wi.selectors)(e).getAdsSelectors)(),r=s.getGeminiAdDataFromCreativeId,n=s.getSponsoredAd,a=Object(f.b)(t,"route.params",{}).creativeId;return n(a)?t:lv({},t,{sponsoredAd:r(a)})}if(t.route.name!==C.rd.MESSAGE_FROM_FOLDER_LIST&&t.route.name!==C.rd.MESSAGE_FROM_SEARCH_LIST)return t;const s=Object(wi.selectors)(e),r=s.getMessageFromAddress,n=s.doesMessageIdExist,a=s.getMessageIdsFromMessageGroupId,o=(0,s.getFeaturesSelectors)().isEnabled,i=Object(f.b)(t,"route.params.groupId",null);if(i&&o(C.Eb.GEMINI_CONTEXTUAL_ADS)){const e=a(i),s=e&&e[0],o=n(s)&&r(s);return lv({},t,{geminiCategories:o&&Object(iv.a)(o)})}break}}return t},Ev=s(219),_v=s(318);function uv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function pv(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?uv(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uv(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var mv=(e,t)=>{switch(t.type){case sc.STAR_CHANGE_REQUESTED:case sc.READ_CHANGE_REQUESTED:{const s=t.streamItem,r=t.streamId,n=Object(wi.selectors)(e),a=n.doesStreamExist,o=n.getCursorItem,i=n.getSetting,c=n.isMessageRoute,l=n.getMessageGroupStreamItemsWithExpansionStates,d=n.getTabPages,E=(0,n.getStreamsSelectors)().getSelectedItemsSelectors,_=(a(r)?E(r):{}).isItemSelected,u=a(r)?o(r):{},p=i(C.Kd.PREVIEW_PANE);if(s&&!t.isAutomatic&&(p&&t_()(s,u)&&!_(s)||c())){const e=l(s);return pv({},t,{persistStreamItemExpansionStates:e})}if(t.isAutomatic&&!d().find(e=>{var s;return e.params.groupId&&e.params.groupId===(null===(s=t.streamItem)||void 0===s?void 0:s.id)})){const e=t.messageIds,s=void 0===e?[]:e,r=t.persistStreamItemExpansionStates;return pv({},t,{persistStreamItemExpansionStates:r.map((e,t)=>-1!==s.indexOf(e.messageId)?pv({},e,{expansionState:C.L.TEMPORARY_EXPANSION}):t>0&&-1!==s.indexOf(r[t-1].messageId)?e.expansionState===C.L.COLLAPSED?pv({},e,{expansionState:C.L.TEMPORARY_COLLAPSE}):e:t<r.length-1&&-1!==s.indexOf(r[t+1].messageId)&&e.expansionState===C.L.COLLAPSED?pv({},e,{expansionState:C.L.TEMPORARY_COLLAPSE}):e)})}return t}case sc.OPEN_PAGE_REQUESTED:case sc.PREVIEW_MESSAGE_REQUESTED:case sc.STREAM_ITEM_TOGGLED:case sc.STREAM_CONTEXT_MENU:case sc.STREAM_ITEMS_MULTIPLE_TOGGLE:case sc.STREAM_ITEMS_RANGE_SELECTED:{const s=Object(wi.selectors)(e),r=s.getDefaultTemporaryExpansionStatesForMessageGroupStreamItems,n=(0,s.getStreamsSelectors)(),a=t.streamItem;if(!a)return t;if(!(0,n.doesExpansionStateExist)(Object(Ep.b)(a.listId,a.id))){const e=r(a);return pv({},t,{temporaryExpansionState:e})}return t}case sc.STREAM_CURSOR_MOVED:case sc.STREAM_SELECT_CURSOR_MOVED:{const s=Object(wi.selectors)(e),r=s.getDefaultTemporaryExpansionStatesForMessageGroupStreamItems,n=s.doesStreamExist,a=s.getCursor,o=t.streamId,i=t.streamItems,c=void 0===i?[]:i,l=t.movement,d=Object(_v.b)(c);if(0===d.length)return t;const E=(n(o)?Object(Ev.b)(a(o),l,d):Object(Ev.b)({index:-1},l,d)).streamItem;if(!n(Object(Ep.b)(E.listId,E.id))){const e=r(E);return pv({},t,{temporaryExpansionState:e})}return t}case sc.CLOSE_PAGE_REQUESTED:{const s=t.listId,r=t.streamId,n=Object(wi.selectors)(e),a=n.doesStreamExist,o=n.getCursorItem;let i=!1;if(s&&a(s)){const e=o(s)||{};Object(Ep.b)(e.listId,e.id)===r&&(i=!0)}return pv({},t,{shouldPersistStream:i})}case sc.PREVIEW_MESSAGE_CLOSED:{const s=t.streamId,r=Object(wi.selectors)(e),n=r.doesStreamExist,a=r.getCursorItem,o=r.getTabPages,i=[];if(s&&n(s)){const e=a(s)||{},t=Object(Ep.b)(e.listId,e.id);n(t)&&!o().find(t=>t.params.groupId&&t.params.groupId===e.id)&&i.push(t)}return pv({},t,{expansionStatesToRemove:i})}default:return t}};function Sv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const hv="abcdefghijklmnopqrstuvwxyz0123456789.!#$%&'*+-/=?^_`{|}~".split("");var Cv=(e,t)=>{switch(t.type){case sc.CONTACT_SUGGESTIONS_REQUESTED:{const s=Object(wi.selectors)(e).getComposeSuggestionsFromImportantsByQuery,r=s({query:t.query,contextEmail:t.contextFrom});return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Sv(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Sv(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{contacts:r,nextContacts:r.length?hv.reduce((e,r)=>{const n=t.query+r;return e[n]=s({query:n,contextEmail:t.contextFrom}),e},{}):{}})}}return t};function gv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ov(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?gv(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gv(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Tv=(e,t)=>{switch(t.type){case sc.PAC_CUE_MARK_AS_SHOWN_REQUESTED:{const s=(0,(0,Object(wi.selectors)(e).getFeaturesSelectors)().getSetting)(C.Kd.SCOUT_ONBOARDING),r=Object(hP.b)(s,C.Eb.WEB_PAC_NOTIFICATION_CUE)+1;return Ov({},t,{userResponse:r,shownMaxTimes:r>=C.Ee})}case sc.FEATURE_CLOSED:case sc.FEATURE_TRY_NOW_REQUESTED:{const s=Object(wi.selectors)(e),r=s.getFeaturesSelectors,n=(0,s.getFeatureCueSelectors)().isPersistent,a=r(),o=t.name;if(t.userResponse)return t;const i=(0,a.getSetting)(C.Kd.SCOUT_ONBOARDING),c=Object(hP.b)(i,o);return Ov({},t,{userResponse:n(o)?c+1:c})}case sc.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:{const s=Object(wi.selectors)(e),r=s.getFeaturesSelectors,n=(0,s.getFeatureCueSelectors)().isPersistent,a=r(),o=t.name;if(t.userResponse)return t;const i=(0,a.getSetting)(C.Kd.SCOUT_ONBOARDING),c=Object(hP.b)(i,o);return Ov({},t,{userResponse:n(o)?c:c+1})}default:return t}},Av=s(164);function Iv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var fv=(e,t)=>{const s=t.streamItems,r=t.selectionType;switch(t.type){case sc.STREAM_ITEMS_SELECTION_CHANGED:case sc.ALL_STREAM_ITEMS_SELECTED:return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Iv(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Iv(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{selectedItems:s.filter(t=>Object(Av.f)(t,r,Object(wi.selectors)(e)))});default:return t}};function Dv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var Rv=(e,t)=>{switch(t.type){case sc.RIGHT_RAIL_COMMS_ICON_CLICKED:return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Dv(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Dv(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{isPaneVisible:!!(0,Object(wi.selectors)(e).getActionableRightRailPane)()});default:return t}};function bv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var Nv=(e,t)=>{const s=Object(wi.selectors)(e);switch(t.type){case sc.CHECK_MAIL_RECEIVED_WITH_UPDATES:case sc.MESSAGE_BODIES_RECEIVED:case sc.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{var r;const e=null===(r=t.listData)||void 0===r?void 0:r.messages;return(0,s.getUnsyncedDataToSync)().filter(e=>e.type===C.Ce.MESSAGE_ITEM_TO_UPDATE).forEach(t=>{var s;((null===(s=t.userInputtedValues)||void 0===s?void 0:s.messageItemsToSync)||[]).forEach(t=>{const s=t.messageId,r=t.flags,n=t.updateTypes.some(e=>-1!==[C.Gc.READ,C.Gc.STAR,C.Gc.HAM,C.Gc.SPAM].indexOf(e));e&&e[s]&&n&&(e[s].flags=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?bv(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bv(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e[s].flags,{},r))})}),t}default:return t}},Mv=s(366);var yv=(e,t)=>{const s=Object(wi.selectors)(e),r=s.getDraftMessageId;if(t.type===sc.LAUNCH_COMPLETED)return[];if(t.v3MessageBodiesMap){return Object.keys(t.v3MessageBodiesMap)}const n=Object(Mv.a)(s),a=n.groupIds,o=void 0===a?[]:a,i=n.messageIds,c=void 0===i?[]:i,l=n.csid;return o.length>0?((e,t)=>{const s=e.getMessageIdsFromMessageGroupId,r=e.doesMessageGroupIdExist,n=e.doesMessageBodyExist;return t.reduce((e,t)=>{if(!r(t))return e;const a=s(t).filter(e=>n(e));return[...e,...a]},[])})(s,o):c.length>0?c:l&&r(l)?[r(l)]:[]},Lv=s(365);var Pv=(e,t)=>{const s=[];switch(t.type){case sc.LAUNCH_COMPLETED:case sc.OPEN_PAGE_REQUESTED:case sc.DOCUMENT_FETCH_REQUESTED:{const t=Object(wi.selectors)(e),r=Object(Lv.a)(t);r&&s.push(r);break}case sc.DOCUMENT_FETCH_SUCCEEDED:case sc.DOCUMENT_FETCH_FAILED:t.documentId&&s.push(t.documentId)}return s};function vv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var Fv=(e,t)=>{const s=Object(wi.selectors)(e),r=s.getSetting,n=s.getRecentlyUsedStateSelectors,a=yv(e,t),i=Pv(e,t),c={messageBodies:[],documents:[]},l={messageBodiesToRemove:[],documentsToRemove:[]},d=r(C.Kd.MAX_NUMBER_OF_MESSAGE_BODIES),E=r(C.Kd.MAX_NUMBER_OF_DOCUMENTS);if(a.length>0){const e=n().getRecentlyUsedMessageBodiesIds(),t=Math.max(d,a.length),s=Es()(a.concat(e));c.messageBodies=s.slice(0,t),l.messageBodiesToRemove=s.slice(t)}if(i.length>0){const e=n().getRecentlyUsedDocumentsIds(),t=Es()(i.concat(e));c.documents=t.slice(0,E),l.documentsToRemove=t.slice(E)}return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?vv(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vv(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{recentlyUsedState:c,statesToRemove:l})};function Uv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function wv(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Uv(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Uv(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Gv=(e,t)=>{const s=Object(wi.selectors)(e),r=s.isFeatureEnabled,n=s.getFeatureCueSelectors,a=(0,s.getSetting)(C.Kd.DAYS_IN_TRIAL_TEST_PARAM),o=r(C.Eb.ADS),i=C.gc.NOT_SUBSCRIBED,c=C.gc.SUBSCRIBED,l=C.gc.EXPIRED,d=C.gc.UPGRADED_TO_MAILPRO,E=C.hc.INVALID,_=C.hc.PRE_SIGNUP_LIGHTBOX,u=C.hc.PRE_SIGNUP_PENCIL_BANNER,p=C.hc.PRE_SIGNUP_LEFT_PANEL_1,m=C.hc.PRE_SIGNUP_LEFT_PANEL_2,S=C.hc.PRE_SIGNUP_LEFT_PANEL_3,h=C.hc.POST_SIGNUP_THANKYOU_TOAST,g=C.hc.FREE_TRIAL_ENDING_NOTICATION_1,O=C.hc.FREE_TRIAL_ENDING_NOTICATION_2,T=C.hc.FREE_TRIAL_LAST_DAY_NOTIFICATION,A=C.hc.FREE_TRIAL_EXPIRED_NOTIFICATION,I=C.hc.MAILPRO_SIGNUP_THNAKYOU_TOAST;if(!r(C.Eb.MAILPRO_FREE_TRIAL))return t;const f=n().getUserResponse(C.Eb.MAILPRO_FREE_TRIAL_UPSELLS),D=parseInt(f,10)||0;switch(t.type){case sc.LAUNCH_COMPLETED:if(o&&(D===E||-1===a)){return wv({},t,{mailproFreeTrialUpsellId:_,subscriptionStatus:i})}if(o&&D===S){return wv({},t,{subscriptionStatus:i})}if(o&&D===A){return wv({},t,{subscriptionStatus:l})}if(!o&&D===I){return wv({},t,{subscriptionStatus:d})}return t;case sc.LIST_MAILPRO_SUBSCRIPTIONS_SUCCESS:{const e=t.data||{},s=e.trialEndDate,r=e.hasUpgradedToMailpro,n=e.inFreeTrial,a=e.trialStartDate,C=e.hasFreeTrialInSubList;if(o&&!C&&D>=_&&D<S){const e=i;let s=0;switch(D){case _:s=u;break;case u:s=p;break;case p:s=m;break;case m:s=S}return wv({},t,{mailproFreeTrialUpsellId:s,subscriptionStatus:e})}if(!o&&r){return wv({},t,{mailproFreeTrialUpsellId:I,subscriptionStatus:d})}if(!o&&n){const e=Object(mP.differenceInDays)((new Date).getTime(),a)+1;let s=E;return D<h&&e>0&&e<7?s=h:D<g&&e>=7&&e<=11?s=g:D<O&&e>=12&&e<=13?s=O:D<T&&14===e&&(s=T),wv({},t,{mailproFreeTrialUpsellId:s,subscriptionStatus:c})}if(o&&s&&Object(mP.isAfter)(new Date,s)){return wv({},t,{mailproFreeTrialUpsellId:A,subscriptionStatus:l})}return t}}return t};function Hv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function jv(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Hv(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Hv(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var kv=(e,t)=>{const s=t.type;if((0,Object(wi.selectors)(e).getEnvironmentSelectors().getPartner)().toUpperCase()!==C.he.AOL)return t;switch(s){case sc.INITIAL_STATE:{const e=t.accounts,s=(void 0===e?[]:e).filter(e=>e.isPrimary)[0];return jv({},t,{primaryAccountSendingName:(null==s?void 0:s.sendingName)||""})}case sc.ALIAS_EMAIL_CREATE_SUCCEEDED:case sc.ACCOUNT_ADD_SUCCEEDED:return jv({},t,{primaryAccountSendingName:(0,Object(wi.selectors)(e).getAccountSelectors().getPrimaryAccountSendingName)()});default:return t}};var xv=e=>[rv(e),GL,kv,kL,cP,pP,EP,tv,zP,fP(e),XP,Nv,Fv,ov,dv,mv,fv,Rv,Cv,Tv,Gv],Bv=s(384),Vv=s(198),Wv=s(863),Kv=s.n(Wv);const qv=Ti()(Kv.a),Yv=Object($o.defineMessages)({chevron_title:{id:"advanced_search.chevron_title",defaultMessage:"Toggle advanced search pane"}});class zv extends Ko.a.Component{constructor(...e){super(...e),o()(this,"handleOnClick",e=>{const t={mKey:Ii.g.ADVANCED_SEARCH,interactionType:Object(Ps.getInteractionFromEvent)(e)};this.props.onClick({i13nModel:t})})}render(){const e=this.context.intl.formatMessage,t=this.props;return Ko.a.createElement("div",{className:qv.buttonContainer,"data-test-id":"advanced-search-button"},Ko.a.createElement(L_.a,{tabIndex:t.tabIndex,kind:ti.Kinds.CHEVRON_UP,colorStates:{normal:ti.ColorStates.DISABLED,hovered:ti.ColorStates.SELECTED},size:ti.Sizes.S,rotate:t.chevronDown?ti.Rotate.D180:null,title:e(Yv.chevron_title),"aria-label":e(Yv.chevron_title),onClick:this.handleOnClick,paddingLess:!0}))}}o()(zv,"contextTypes",{intl:$o.intlShape.isRequired}),o()(zv,"defaultProps",{chevronDown:!0});var Qv=zv,Zv=s(499),Xv=s(217),$v=s(201),Jv=s.n($v);function eF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function tF(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?eF(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eF(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const sF=Ti()(Jm.a),rF=Object($o.defineMessages)({search_button_title:{id:"search.search_button_title",defaultMessage:"Search"},search_placeholder:{id:"search.search_box_placeholder",defaultMessage:"Find messages, documents, photos or people"},search_coupons_placeholder:{id:"search.search_coupons_placeholder",defaultMessage:"Search deals in your inbox"},search_products_placeholder:{id:"search.search_products_placeholder",defaultMessage:"Search for products to add to your cart"},search_offers_placeholder:{id:"search.search_offers_placeholder",defaultMessage:"Search coupons in {retailerName}"},search_aria_label:{id:"search.search_aria_label",defaultMessage:"Search box. Find messages, documents, photos or people"},search_keyword_placeholder:{id:"search.keyword_placeholder",defaultMessage:"Add keywords"},suggestions_available:{id:"search.suggestions_available",defaultMessage:"{suggestionsNum, plural, =0 {No suggestions are available.} one {# suggestion is available.} other {# suggestions are available. Use up and down arrows to select.}}"},suggestedSearchesHeader:{id:"search.suggestedSearchesHeader",defaultMessage:"Suggested searches"},groceryCouponsHeader:{id:"search.groceryCouponsHeader",defaultMessage:"Coupons"},noCouponsHeader:{id:"search.noCouponsHeader",defaultMessage:"No Coupons Found"}}),nF=Ii.i.HEADER_SEARCH,aF={[C.ge.PERSON]:"P",[C.ge.KEYWORD]:"K",[C.ge.WEB_SEARCH]:"W",[C.ge.HEADER]:"H",[C.ge.RECENT]:"R",[C.ge.EMAIL]:"E"},oF=Object(f.d)(["CONTACT","FOLDER","COUPON_INDICATOR"]);class iF extends Ko.a.Component{constructor(e){super(e),o()(this,"handleSearchFocus",e=>{const t=this.props,s=t.retailerName;(0,t.onSearchBarFocus)({i13nModel:t.smartViewSearch===C.Ud.GROCERIES?{mKey:Ii.g.QTNT_START_SEARCH,sec:nF,interactionType:Object(Ps.getInteractionFromEvent)(e),actionData:{reason:{featurefamily:C.Cb.IC,featurename:C.Eb.GROCERIES,retailername:s}}}:{mKey:Ii.g.SEARCH_BAR,sec:nF,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}),o()(this,"handleBasicSearchSubmit",(e,t={})=>{const s=this.props,r=s.isGroceryWithProducts,n=s.retailerName,a=s.smartViewSearch,o=this.state.pillCoupon,i="string"==typeof this.state.inputValue?this.state.inputValue.trim():"",c=a===C.Ud.GROCERIES&&o;let l={};l=tF(c&&r?{i13nModel:{mKey:Ii.g.GROCERY_SEARCH_FIRE,interactionType:Object(Ps.getInteractionFromEvent)(e),actionData:{featurefamily:C.Cb.IC,retailername:n,query:i}}}:c?{i13nModel:{mKey:Ii.g.QTNT_SEARCH,interactionType:Object(Ps.getInteractionFromEvent)(e),actionData:{reason:{featurefamily:C.Cb.IC,featurename:C.Eb.GROCERIES,retailername:n,query:i}}}}:{i13nModel:{mKey:Ii.g.SEARCH_BUTTON,interactionType:Object(Ps.getInteractionFromEvent)(e)}},t),this.handleSearchSubmit(l)}),o()(this,"handleAdvancedSearchSubmit",e=>{this.handleSearchSubmit({i13nModel:{mKey:Ii.g.ADVANCED_SEARCH_BUTTON,interactionType:Object(Ps.getInteractionFromEvent)(e)}})}),o()(this,"handleSearchSubmit",e=>{var t;let s="string"==typeof this.state.inputValue?this.state.inputValue.trim():"";const r=this.props,n=r.isGroceryWithProducts,a=this.state,o=a.pillCoupon,i=a.pillContact,c=a.pillFolder,l=!1!==e.applyFocus,d=r.smartViewSearch===C.Ud.GROCERIES&&o,E=tF({smartViewSearch:o,emailAddresses:i.emailAddresses,name:d?this.props.name:i.name,keyword:s},e.query),_=Object.assign({sec:nF,mKeyGroup:Ii.h.search},e.i13nModel);var u;n&&d&&(null===(t=e.query)||void 0===t?void 0:t.keyword)&&(s=null===(u=e.query)||void 0===u?void 0:u.keyword);this.timer&&(clearTimeout(this.timer),delete this.timer),c.accountId&&Object.assign(E,{accountIds:[c.accountId]}),c.folderId&&Object.assign(E,{folders:[c.folderId]}),this.setState({inputValue:s,showInputHint:!1,showAdvancedSearchPane:!1},()=>{this.props.onSearchSubmit({query:E,i13nModel:_})}),l&&document.activeElement&&document.activeElement.blur()}),o()(this,"handleSearchChange",(e,{suggestionsKeyword:t="",folders:s,accountIds:r}={},n={})=>{const a=this.props,o=a.onSearchChange,i=this.state,c={inputValue:e,showInputHint:!0,showAdvancedSearchPane:!(a.smartViewSearch===C.Ud.OFFERS&&i.pillCoupon)&&i.showAdvancedSearchPane};s&&Object.assign(c,{pillFolder:{accountId:"",folderId:s[0]||"",type:oF.FOLDER}}),r&&Object.assign(c,{pillFolder:{accountId:r[0]||"",folderId:"",type:oF.FOLDER}}),this.setState(c,()=>{o(e,{suggestionsKeyword:t},n)})}),o()(this,"handleInputChange",e=>{this.handleSearchChange(e,{},{fetchEmailSuggestions:!0})}),o()(this,"handleWebSearch",()=>{this.props.onWebSearchSubmit(this.state.inputValue)}),o()(this,"handleSearchSuggestionSelect",e=>{const t=this.state,s=t.pillCoupon,r=t.pillFolder,n=t.inputValue,a=s===C.Ud.GROCERIES?this.props.getSuggestions(n):this.getSuggestions();if(e===C.ge.WEB_SEARCH)return void this.handleWebSearch();if(s===C.Ud.GROCERIES){if(!(null==a?void 0:a.length))return;return void this.handleSearchSubmit({query:{keyword:a[e-1]},i13nModel:{mKey:Ii.g.GROCERY_SA_SELECT,mKeyGroup:Ii.h.search,actionData:{query:a[e-1],querytype:"suggest",featurefamily:C.Cb.IC}}})}const o=a[e-1],i=a.map(e=>aF[e.type]),c=a.map(e=>{switch(e.type){case C.ge.PERSON:return this.suggestionValue(e).name;case C.ge.HEADER:return"HEADER";case C.ge.KEYWORD:case C.ge.RECENT:case C.ge.EMAIL:return e.name;default:Object(h.a)(!1,"All suggestion type must be handled here.")}});let l;const d=""===n;switch(o.type){case C.ge.PERSON:l=d?Ii.g.SEARCH_EMPTY_PEOPLE_SUGGEST:Ii.g.SEARCH_PEOPLE_SUGGEST;break;case C.ge.KEYWORD:l=d?Ii.g.SEARCH_EMPTY_KWRD_SUGGEST:Ii.g.SEARCH_KWRD_SUGGEST;break;case C.ge.EMAIL:l=d?Ii.g.SEARCH_EMPTY_EMAIL_SUGGEST:Ii.g.SEARCH_EMAIL_SUGGEST;break;default:l=d?Ii.g.SEARCH_EMPTY_RECENT_SUGGEST:Ii.g.SEARCH_RECENT_SUGGEST}const E={mKey:l,sec:nF,mKeyGroup:Ii.h.search,actionData:{suggPos:e,prefix:n,suggType:i,suggVal:c}};let _={};switch(r.accountId&&(_=tF({},_,{accountIds:[r.accountId]})),r.folderId&&(_=tF({},_,{folders:[r.folderId]})),o.type){case C.ge.PERSON:{const e=this.suggestionValue(o),t=e.emailAddresses,r=e.name;_=tF({},_,{emailAddresses:t,name:r,contactIds:[e.contactId]}),this.props.onSearchSubmit({query:_,smartViewSearch:s,i13nModel:E}),this.setState({pillContact:{name:r,emailAddresses:t,type:oF.CONTACT},activeSuggestion:null,inputValue:""});break}case C.ge.RECENT:case C.ge.KEYWORD:{const e=o.name;_=tF({},_,{keyword:e}),this.props.onSearchSubmit({query:_,smartViewSearch:s,i13nModel:E}),this.setState({activeSuggestion:null,inputValue:e});break}case C.ge.HEADER:break;case C.ge.EMAIL:{const e=o.messageId,t=o.conversationId,s=this.props.conversations?t:e,r=Object(Hi.d)({keyword:o.name});this.context.navigateTo({route:Object(Ui.r)({groupId:s,listId:r}),i13nModel:E});break}default:Object(h.a)(!1,"All suggestion type must be handled here.")}}),o()(this,"deleteRecent",e=>{e&&e.name&&this.props.deleteRecentSearch({query:e.name})}),o()(this,"handleAdvancedSearchKeyDown",e=>{const t=this.props,s=t.retailerName,r=t.smartViewSearch===C.Ud.GROCERIES&&this.state.pillCoupon;switch(Object(fS.getEventKey)(e)){case"Escape":this.setState({showAdvancedSearchPane:!1});break;case"Enter":(this.state.inputValue||this.state.pillFolder.accountId||this.state.pillFolder.folderId)&&this.handleAdvancedSearchSubmit(e);break;case"Tab":e.preventDefault()}r&&(this.timer&&(clearTimeout(this.timer),delete this.timer),this.timer=setTimeout(function(){const e=this.state.inputValue;if(this.timer&&(delete this.timer,e)){sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.QTNT_SEARCH,sec:nF,interactionType:Ii.e.keydown,actionData:{reason:{featurefamily:C.Cb.IC,featurename:C.Eb.GROCERIES,retailername:s,query:e}}}})}}.bind(this),2e3))}),o()(this,"isCursorEndOfInput",e=>{const t=this.state.inputValue;return!t||e.target.selectionEnd===t.length}),o()(this,"handleKeydown",e=>{let t;const s=this.props.smartViewSearch,r=this.getSuggestions(),n=Object(fS.getEventKey)(e);switch(n){case"Enter":this.handleBasicSearchSubmit(e);break;case"ArrowUp":case"ArrowDown":break;case"ArrowRight":this.isCursorEndOfInput(e)&&r&&this.autoFillSearchbox(r,n,()=>{});break;case"Tab":!this.hasPillContact()&&r&&this.state.inputValue&&(this.autoFillSearchbox(r,n,e=>this.handleSearchSuggestionSelect(e+1)),e.preventDefault());break;case"Escape":this.setState({activeSuggestion:null});break;case"Backspace":{const e=this.getPills();if(t={inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null},""===this.state.inputValue&&e.length){switch(e[e.length-1].type){case oF.COUPON_INDICATOR:-1===[C.Ud.GROCERIES,C.Ud.COUPONS].indexOf(s)&&(t.pillCoupon=!1);break;case oF.FOLDER:t.pillFolder={};break;case oF.CONTACT:t.pillContact={};break;default:Object(h.a)(!1,"all pill types should be handled here")}}this.setState(t);break}default:this.setState({inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null})}}),o()(this,"renderSuggestionHeader",(e,t)=>{const s=Ti()(Jv.a,{firstEntry:e.firstEntry});let r;switch(e.headerType){case C.ee.KEYWORD:r=Ko.a.createElement($o.FormattedMessage,{id:"search.header_search_suggestion",defaultMessage:"Suggested searches"});break;case C.ee.RECENT:r=Ko.a.createElement($o.FormattedMessage,{id:"search.header_recent_searches",defaultMessage:"Recent searches"});break;case C.ee.PERSON:r=Ko.a.createElement($o.FormattedMessage,{id:"search.header_people_suggestions",defaultMessage:"Top contacts"});break;case C.ee.EMAIL:r=Ko.a.createElement($o.FormattedMessage,{id:"search.header_email_suggestions",defaultMessage:"Messages"})}return Ko.a.createElement(Xm.Option,{key:"header-"+e.headerType,value:t+1,test:1,disabled:!0},Ko.a.createElement("div",{className:s.headerLabel},r))}),o()(this,"renderSuggestion",(e,t)=>{const s=this.state.inputValue;let r=null;return r=e.type&&e.type===C.ge.HEADER?this.renderSuggestionHeader(e,t):Ko.a.createElement(Xm.Option,{key:t,value:t+1},Ko.a.createElement(Zv.a,{suggestion:e,inputValue:s,deleteRecent:this.deleteRecent})),r}),o()(this,"getSuggestions",()=>{const e=this.props,t=e.importantContacts,s=e.recentSearches,r=this.state.inputValue,n=this.props.getSearchSuggestions(e.suggestionsQuery),a=Array.isArray(n)?s:[];return Object(Xv.d)(n,t,a,r,this.context.partner)}),o()(this,"renderContactPill",(e,t,s,r)=>{const n=e.emailAddresses&&e.emailAddresses[0],a=e.name||n;if(n)return Ko.a.createElement(eS.default,{value:a,title:n?`${a} <${n}>`:a,useEllipsis:!0,maxWidth:di.wb.L,contactEmail:n,isLastElement:t===s.length-1,isSelected:r,onPillRemove:this.clearContactPill})}),o()(this,"renderPill",(e,t,s,r)=>e.type===oF.COUPON_INDICATOR?this.props.smartViewSearch===C.Ud.GROCERIES?this.renderOffersIndicator():this.renderCouponIndicator():e.type===oF.FOLDER?this.renderFolderPill(e,t,s,r):e.type===oF.CONTACT?this.renderContactPill(e,t,s,r):null),o()(this,"clearContactPill",()=>{this.setState({pillContact:{}})}),o()(this,"clearFolderPill",()=>{this.setState({pillFolder:{}})}),o()(this,"hasPillContact",()=>{const e=this.state.pillContact,t=e.emailAddresses;return!(!e.name&&!(void 0===t?[]:t)[0])}),o()(this,"hasPillFolder",()=>{const e=this.state.pillFolder;return!!(e.accountId&&1!==this.props.accountList.length||e.folderId)}),o()(this,"getAccountDescription",e=>{const t=this.context.intl.formatMessage,s=e.description,r=Object(jl.d)(e);if(s)return s;switch(r){case C.xb.YAHOO:case C.xb.YAHOO_SB:return t(Gi.a.yahoo_account_description);case C.xb.GOOGLE:case C.xb.GOOGLE_APP:return t(Gi.a.gmail_account_description);case C.xb.OUTLOOK:return t(Gi.a.outlook_account_description);case C.xb.AOL:return t(Gi.a.aol_account_description);default:return t(Gi.a.unknown_account_description)}}),o()(this,"normalizeFolderPill",()=>{const e=this.state.pillFolder,t=e.accountId,s=e.folderId,r=this.props.accountList,n=this.context.intl.formatMessage;let a,o;if(t&&(o=r.find(e=>e.id===t),a=this.getAccountDescription(o)),s){const e=this.props.getFolderName(s),t=this.props.getAccountIdByFolderId(s),i=this.props.getFolderDisplayTypeByFolderId(s),c=Object(pt.m)(n,i)||e;o=r.find(e=>e.id===t),a=1===r.length?c:this.getAccountDescription(o)+"/"+c}return{label:a,email:o.email,type:oF.FOLDER}}),o()(this,"renderFolderPill",(e,t,s,r)=>{const n=e.label;return Ko.a.createElement(eS.default,{value:n,title:n,useEllipsis:!0,maxWidth:di.wb.L,contactEmail:e.email,isLastElement:t===s.length-1,isSelected:r,onPillRemove:this.clearFolderPill,isFolderPill:!0,pillFujiKind:ti.Kinds.FOLDER,pillFujiColorState:ti.ColorStates.SECOND_LEVEL_GRAY,pillFujiSize:ti.Sizes.XXS})}),o()(this,"getPills",()=>{const e=[];return this.state.pillCoupon&&e.push({type:oF.COUPON_INDICATOR}),this.hasPillFolder()&&e.push(this.normalizeFolderPill(this.state.pillFolder)),this.hasPillContact()&&e.push(this.state.pillContact),e}),o()(this,"renderWebSearchSuggestion",()=>{const e=this.state.inputValue,t=C.ge.WEB_SEARCH,s=this.getSuggestions(),r=Ti()(Jv.a,{showPeopleSuggestion:s.length>0&&!this.hasPillContact()});return Ko.a.createElement(Xm.Option,{value:t},Ko.a.createElement("div",{className:r.suggestionWebOptionBorder}),Ko.a.createElement("div",{className:r.suggestionWebOption},Ko.a.createElement("span",{className:r.suggestionWebIcon},Ko.a.createElement(ei.b,{kind:ti.Kinds.SEARCH_WEB,size:ti.Sizes.S,colorState:ti.ColorStates.NORMAL_LESS_DIM})),Ko.a.createElement("span",{className:r.suggestionWebLabel},Ko.a.createElement($o.FormattedMessage,{id:"search.search_web_query",defaultMessage:"Search the web for {formattedWebSearchQuery}",values:{formattedWebSearchQuery:Ko.a.createElement("span",{className:r.suggestionWebQuery},Ko.a.createElement("b",null,Ko.a.createElement("q",null,e)))}}))))}),o()(this,"suggestionValue",e=>({name:e.name,emailAddresses:e.emailIds,contactId:e.serviceId})),o()(this,"getInputHint",()=>{const e=this.state,t=e.inputValue,s=e.showInputHint,r=e.activeSuggestion,n=e.showAdvancedSearchPane,a=this.getSuggestions().filter(e=>e.type!==C.ge.HEADER);if(!a||!a[0])return"";const o=this.suggestionValue(a[0]),i=o.name,c=o.emailAddresses,l=(void 0===c?[]:c)[0],d=new RegExp("^"+Object(xL.a)(t),"i");return!t||!s||r||this.hasPillContact()||n?"":i&&d.test(i)?t+i.slice(t.length):l&&d.test(l)?t+l.slice(t.length):""}),o()(this,"updatedSelectedSuggestion",e=>{const t=this.getSuggestions();this.hasPillContact()||this.setState({activeSuggestion:t[e]})}),o()(this,"getTypeaheadDisplayText",()=>{const e=this.state,t=e.activeSuggestion,s=e.inputValue;return t&&this.suggestionValue(t).name||s}),o()(this,"handleAdvancedSearchButtonClick",({i13nModel:e})=>{this.setState({showAdvancedSearchPane:!this.state.showAdvancedSearchPane}),this.props.onSearchBarFocus({i13nModel:e})}),o()(this,"handleAdvancedSearchPaneClick",({overlayClicked:e})=>{e||this.setState({showAdvancedSearchPane:!1})}),o()(this,"handleMouseOver",()=>{this.props.recentSearchesCallStatus===C.od.DOES_NOT_EXIST&&this.props.requestRecentSearches()}),o()(this,"renderAdvancedSearch",()=>{const e=this.props,t=e.retailerName,r=e.getSearchSuggestions,n=e.suggestionsQuery,a=e.accountList,o=e.activeAccountId,i=e.smartViewSearch,c=e.getContactByEmail,l=e.ybarFujiTheme,d=[];let E=Object(Xv.b)(r(n));E=Object(Xv.c)(E);const _=this.state,u=_.showAdvancedSearchPane,p=_.searchBoxDimensions,m=_.inputValue,S=_.pillFolder,h=_.pillCoupon,C=S.accountId,g=S.folderId;if(d.push(Ko.a.createElement(Qv,{tabIndex:di.Lb.APP_HEADER_SEARCHBOX,key:"advanced-search-button",onClick:this.handleAdvancedSearchButtonClick,chevronDown:!u})),u){const e={inputValue:m,accountIds:C?[C]:[],folders:g?[g]:[]},r={width:p.width};d.push(Ko.a.createElement(wN.a,{key:"advanced-search-pane",alignTo:this.refs.searchField,alignmentPoints:[UN.a.TopLeft,UN.a.BottomLeft],useShim:!0,onClick:this.handleAdvancedSearchPaneClick,onKeyDown:this.handleAdvancedSearchKeyDown},Ko.a.createElement(Mi.a,h?{import:"../search_popup",containerStyle:r,smartViewSearch:i,inputValue:m,retailerName:t,onSearchSubmit:this.handleSearchSubmit,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1317))},_moduleResolver:function(){return 1317}}:{import:"../advanced_search_pane/atoms/advanced_search_pane",style:r,accountList:a,searchInput:e,suggestions:E,activeAccountId:o,getContactByEmail:c,onSearchChange:this.handleSearchChange,onSearchSubmit:this.handleAdvancedSearchSubmit,ybarFujiTheme:l,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1322))},_moduleResolver:function(){return 1322}})))}return d}),this.groceriesSearchCueRef=Ko.a.createRef();const t=e.searchQuery,r=e.smartViewSearch,n=e.originalSearchQuery,a=t.keyword,i=void 0===a?"":a,c=t.name,l=void 0===c?"":c,d=t.emailAddresses,E=void 0===d?[]:d,_=t.accountIds,u=void 0===_?[]:_,p=t.folders,m=void 0===p?[]:p,S=r===C.Ud.GROCERIES&&""===i&&n.search?n.search:i,g=1===(null==u?void 0:u.length)&&u[0]||"",O=w()(m,1)[0];this.state={inputValue:S,pillContact:{name:l,emailAddresses:E,type:oF.CONTACT},pillCoupon:r,activeSuggestion:null,showInputHint:!1,showAdvancedSearchPane:!1,searchBoxDimensions:null,pillFolder:{accountId:g,folderId:void 0===O?"":O,type:oF.FOLDER}}}componentDidMount(){const e=this.refs.searchField;if(this.props.setRef&&this.props.setRef(this.refs.input),!e)return;const t=Xo.a.findDOMNode(e).getBoundingClientRect();this.setState({searchBoxDimensions:t})}componentWillReceiveProps({searchQuery:e,originalSearchQuery:t,isWindowResizingDone:s,smartViewSearch:r}){const n=this.props,a=n.searchQuery,o=n.originalSearchQuery,i=n.smartViewSearch,c=this.state.pillCoupon,l=Object(Hi.d)(a),d=Object(Hi.d)(e),E=e.accountIds,_=E&&1===E.length,u=i===C.Ud.GROCERIES&&c,p=l!==d||(o&&u?o.listFilter:"")!==(t&&u?t.listFilter:"");if(i!==r&&this.setState({pillCoupon:r}),p&&this.setState({inputValue:e.keyword,pillContact:{name:e.name,emailAddresses:e.emailAddresses,type:oF.CONTACT},pillFolder:{accountId:_&&E[0]||"",folderId:e.folders&&e.folders[0]||"",type:oF.FOLDER}}),s){const e=Xo.a.findDOMNode(this.refs.searchField).getBoundingClientRect();this.setState({showAdvancedSearchPane:!1,searchBoxDimensions:e})}}autoFillSearchbox(e,t,s){const r=e.findIndex(e=>e.type!==C.ge.HEADER);if(-1!==r){const n=this.suggestionValue(e[r]).name;s(r),"Tab"===t&&e[r].type===C.ge.PERSON||this.setState({inputValue:n||this.state.inputValue,activeSuggestion:null})}}renderCouponIndicator(){const e=Ti()(Jv.a),t=this.context.intl.formatMessage;return Ko.a.createElement("div",{className:e.couponIndicator},Ko.a.createElement(ei.b,{kind:ti.Kinds.SCISSORS,size:ti.Sizes.XS,colorState:ti.ColorStates.SELECTED}),t(ki.a.smart_view_COUPONS))}renderOffersIndicator(){const e=this.props.retailerName,t=Ti()(Jv.a);return Ko.a.createElement("div",{className:t.couponIndicator,ref:this.groceriesSearchCueRef},Ko.a.createElement(ei.b,{kind:ti.Kinds.BASKET,size:ti.Sizes.XS,colorState:ti.ColorStates.SELECTED}),"",e,"")}renderEmptyCouponsHeader(){const e=Ti()(Jv.a,{groceriesSingleStore:!0});return Ko.a.createElement(Xm.Option,{value:"grocery"},Ko.a.createElement("div",{className:e.searchResultsTitle},(0,this.context.intl.formatMessage)(rF.noCouponsHeader)))}renderFilteredOffers(e){const t=Ti()(Jv.a,{groceriesSingleStore:!0});return Ko.a.createElement(Xm.Option,{value:"grocery"},Ko.a.createElement("div",{className:t.searchResultsTitle},(0,this.context.intl.formatMessage)(rF.groceryCouponsHeader)),e.map(({brandName:e,dateDiff:t,description:s,imageUrl:r,offerId:n,offerValue:a=""})=>Ko.a.createElement(tM.a,{brandName:e,dateDiff:t,imageUrl:r,key:n,offerDescription:s,offerId:n,offerValue:a,contextOfUse:"SingleStoreSearchAssist",search:this.state.inputValue})))}renderGrocerySearchSuggestion(e,t){const s=Ti()(Jv.a,{groceriesSingleStore:!0});return Ko.a.createElement(Xm.Option,{key:t,value:t+1},Ko.a.createElement("div",{className:s.recentSearch,"data-test-id":"search-submit-button",key:e},Ko.a.createElement("div",{className:s.searchIcon},Ko.a.createElement(ei.b,{kind:ti.Kinds.SEARCH,size:ti.Sizes.S,colorState:ti.ColorStates.FIRST_LEVEL_GRAY})),Ko.a.createElement("span",null,e)))}renderGrocerySearchAssist(){const e=this.props,t=e.isGroceryWithProducts,s=e.getSuggestions,r=(0,e.filterOffers)(this.state.inputValue),n=s(this.state.inputValue);return t&&!(null==n?void 0:n.length)?null:t?n.map(this.renderGrocerySearchSuggestion):r.length?this.renderFilteredOffers(r):this.renderEmptyCouponsHeader()}renderGroceriesSearchCue(){return Ko.a.createElement(Ei.a,{popoverAnchor:this.groceriesSearchCueRef,triggerOn:pi.i.MOUNT,isArrowVisible:!0,permittedArrowDirections:[pi.h.UP],zAltitude:di.Pb.POPOVER.HIGH},Ko.a.createElement("div",{"data-test-id":"groceries-search-cue",style:{display:"flex",alignItems:"center"}},Ko.a.createElement(Mi.a,{import:"../groceries_search_cue",cueName:C.Eb.GROCERIES_SEARCH_CUE,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1318))},_moduleResolver:function(){return 1318}})))}render(){const e=this.props,t=e.isGroceryWithProducts,s=e.smartViewSearch,r=e.groceriesSearchCue,n=e.retailerName,a=e.ybarFujiTheme,o=this.context.intl.formatMessage,i=this.state,c=i.inputValue,l=i.pillCoupon,d=l?{[C.Ud.COUPONS]:rF.search_coupons_placeholder,[C.Ud.GROCERIES]:t?rF.search_products_placeholder:rF.search_offers_placeholder}[s]:null,E=this.hasPillContact()?rF.search_keyword_placeholder:rF.search_placeholder,_=o(l?d:E,{retailerName:n}),u=s===C.Ud.GROCERIES&&l,p=Ti()(Jv.a,{groceriesSingleStore:!!u,hasPill:this.hasPillContact()||this.hasPillFolder()||l,hasContactPill:this.hasPillContact(),ybarFujiTheme:a}),m=this.getSuggestions(),S=this.context.intl.formatMessage(rF.suggestions_available,{suggestionsNum:m.length}),h=!this.hasPillContact()&&!u,g=c&&!u,O=!s||!l;return Ko.a.createElement("div",{className:p.container,"data-test-id":"search-box",onMouseOver:this.handleMouseOver},Ko.a.createElement("div",{className:p.searchInputContainer,ref:"searchField"},Ko.a.createElement(Xm.Pills,{ref:"input","data-test-id":"search-box-input",multiple:!1,initialActiveIndex:-1,className:xI()(sF.pills,p.pills),containerClassName:xI()(sF.pillsContainer,p.pillsContainer),containerChildClassName:sF.pillsContainerChild,pillClassName:sF.pillOuter,ariaLabel:o(rF.search_aria_label),placeholder:_,typeaheadInputClassName:p.searchInput,typeaheadInputContainerClassName:p.typeaheadInputContainer,typeaheadInputHintClassName:p.searchHint,typeaheadDropDownClassName:p.suggestionDropdown,inputValue:this.getTypeaheadDisplayText(),onFocus:this.handleSearchFocus,onInputKeyDown:this.handleKeydown,onInputChange:this.handleInputChange,selected:this.getPills(),onSelect:this.handleSearchSuggestionSelect,inputTabIndex:di.Lb.APP_HEADER_SEARCHBOX,hintValue:this.getInputHint(),onActiveIndexChange:this.updatedSelectedSuggestion,renderPill:this.renderPill,messageForIncomingOptions:S,typeaheadAriaStatusClassName:p.typeaheadAriaStatus,inputMaxLength:2e3},h?m.map(this.renderSuggestion):null,g?this.renderWebSearchSuggestion():null,u&&this.renderGrocerySearchAssist()),t&&r&&this.renderGroceriesSearchCue(),O?this.renderAdvancedSearch():null),Ko.a.createElement(Jo.default,{className:p.searchButton,"data-test-id":"search-basic-btn",tabIndex:di.Lb.APP_HEADER_SEARCHBOX,title:o(rF.search_button_title),"aria-label":o(rF.search_button_title),kind:ti.Kinds.SEARCH,size:ti.Sizes.S,onClick:this.handleBasicSearchSubmit,colorState:ti.ColorStates.INVERTED,"data-iskeynav":!0,paddingLess:!0}))}}o()(iF,"contextTypes",{navigateTo:Vo.a.func.isRequired,intl:$o.intlShape.isRequired,partner:Vo.a.string}),o()(iF,"defaultProps",{filterOffers:()=>{},importantContacts:[],suggestionsQuery:"",searchQuery:{},onSearchChange:()=>{},onSearchBarFocus:()=>{}});var cF=Object(qo.connect)((e,t)=>{const s=Object(wi.selectors)(e),r=s.getSearchSuggestions,n=s.isFeatureEnabled,a=s.getContactListSelectors,o=s.getOffersSelectors,i=s.getRetailersSelectors,c=s.getRecentSearchesSelectors,l=(0,s.getFoldersSelectors)(),d=l.getAccountIdByFolderId,E=l.getFolderDisplayTypeByFolderId,_=l.getFolderName,u=n(C.Eb.CONVERSATIONS),p=n(C.Eb.YBAR_FUJI2_THEME),m=n(C.Eb.GROCERIES_SEARCH_CUE),S=i(),h=S.getSearchAssist,g=S.isRetailerLinkable,O=n(C.Eb.GROCERY_WITH_PRODUCTS)&&!g(t.name),T=o(),A=T.getFilteredOffers,I=(0,T.getOfferStreamItems)(Object(Hi.gb)("{}",{name:t.name,listContentType:C.ac.OFFER_CARDS,listFilter:C.bc.RECOMMENDED_OFFER_CARDS,referrer:C.cc[C.Ud.GROCERIES]}));return{filterOffers:e=>A(I,e).slice(0,7),getSuggestions:e=>h(t.name,e),getFolderName:_,getContactByEmail:a().getContactByEmail,getAccountIdByFolderId:d,getFolderDisplayTypeByFolderId:E,getSearchSuggestions:r,isGroceryWithProducts:O,conversations:u,ybarFujiTheme:p,groceriesSearchCue:m,recentSearchesCallStatus:(0,c().getRecentSearchesCallStatus)()}},e=>({requestRecentSearches:t=>e(Object(Vv.d)(t))}),void 0,{areOwnPropsEqual:f.a})(iF),lF=s(178),dF=s(310);function EF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function _F(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?EF(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):EF(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}Object(Pi.b)({group:vi.c,keys:{focusOnSearch:{key:"S,/",description:Ko.a.createElement("strong",null,Ko.a.createElement($o.FormattedMessage,{id:"shortcut.focus_search",defaultMessage:"Search"}))}}});const uF=Ii.i.HEADER_SEARCH;class pF extends Ko.a.Component{constructor(e){super(e),o()(this,"handleShortcuts",e=>{const t=e.which||e.keyCode,s=String.fromCharCode(t).toLowerCase();e.preventDefault(),e.stopPropagation(),"s"!==s&&t!==Fi.b.SLASH||this.focusOnSearch(e)}),o()(this,"getSmartViewSearchRoute",e=>{const t=e.smartViewSearch,s=e.name,r=e.keyword,n=e.emailAddresses;if(t===C.Ud.GROCERIES)return Object(Ui.m)(s,r);const a=Object(Hi.d)(Object(Hp.b)(t,_F({},e,{accountIds:this.props.activeAccountId}))),o=Object(Hi.ib)(a);return r||s||n&&n.length?{name:C.rd.SEARCH,params:{query:o},query:{}}:Object(Ui.x)(C.Ud.COUPONS,{accountIds:this.props.activeAccountId})}),o()(this,"handleSearchSubmit",({query:e,i13nModel:t})=>{let s;s=e.smartViewSearch?this.getSmartViewSearchRoute(e):Object(Ui.u)(e),s||(s=Object(Ui.u)({accountIds:this.props.accountList.map(e=>e.id)})),this.props.onSearchSubmit({route:s,i13nModel:t})}),o()(this,"handleSearchChange",(e,{suggestionsKeyword:t=""}={},{fetchSuggestions:s=!0,fetchEmailSuggestions:r=!1}={})=>{const n=this.props,a=n.isGroceryWithProducts,o=n.onSuggestionsRequest,i=n.name,c=n.grocerySearchAssistRequested;this.setState({suggestionsQuery:t||e},()=>{a&&c(this.state.suggestionsQuery,i),s&&o({query:this.state.suggestionsQuery,fetchEmailSuggestions:r})})}),o()(this,"handleWebSearch",e=>{const t=encodeURIComponent(e),s=this.props.webSearchURL;Object(Gc.a)(s.replace("%QUERY%",t))}),o()(this,"focusOnSearch",e=>{e.preventDefault(),this.searchBoxInputRef&&this.searchBoxInputRef.focus()}),o()(this,"setRef",e=>{this.searchBoxInputRef=e});const t=e.searchQuery.keyword;this.state={suggestionsQuery:void 0===t?"":t}}componentDidMount(){this.context.bindShortcut(["s","/"],this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(["s","/"])}componentWillReceiveProps({searchQuery:e={}}={}){const t=e.keyword||"",s=this.state.suggestionsQuery,r=this.props.searchQuery;Object(Hi.d)(r)!==Object(Hi.d)(e)&&s!==t&&this.setState({suggestionsQuery:t})}render(){return Ko.a.createElement(cF,zo()({},this.props,{suggestionsQuery:this.state.suggestionsQuery,onSearchSubmit:this.handleSearchSubmit,onSearchChange:this.handleSearchChange,onWebSearchSubmit:this.handleWebSearch,setRef:this.setRef}))}}o()(pF,"contextTypes",{getStore:Vo.a.func.isRequired,bindShortcut:Vo.a.func,unbindShortcut:Vo.a.func}),o()(pF,"defaultProps",{searchQuery:{}});var mF=Object(qo.connect)(e=>{const t=Object(wi.selectors)(e),s=t.isFeatureEnabled,r=t.getRoute,n=t.getSelectedAccountId,a=t.isWindowResizingDone,o=t.getAccountsForSearch,i=t.getRecentSearchesSelectors,c=t.getSmartViewTypeFromRoute,l=t.getSetting,d=(0,t.getRetailersSelectors)(),E=d.getDisplayNameFromRetailerId,_=d.isRetailerLinkable,u=n(),p=r(),m=p.name===C.rd.SEARCH,S=(0,i().getRecentSearches)(),h=o(),g=Object(Hi.z)(p);let O=g;const T=c(p),A=Object(Hi.v)(O)||"",I=Object(Hi.B)(O)||"",f=E(I),D=s(C.Eb.GROCERY_WITH_PRODUCTS)&&!_(I),R=(s(C.Eb.DEALS)&&T===C.Ud.COUPONS||T===C.Ud.GROCERIES&&I)&&T,b=l(C.Kd.WEB_SEARCH_URL);return!Object(Hi.P)(O)||R&&m||(O=Object(Hi.d)({})),_F({},m?{searchQuery:Object(Hi.h)(O)}:{},{originalSearchQuery:Object(Hi.h)(g),isWindowResizingDone:a(),accountList:h,activeAccountId:n(),recentSearches:S,accountId:u,smartViewSearch:R,name:I,keyword:A,retailerName:f,isGroceryWithProducts:D,webSearchURL:b})},e=>({onSearchSubmit:t=>e(Object(oi.k)(t)),onSearchBarFocus:({i13nModel:t})=>e(Object(lF.b)({i13nModel:Object.assign({sec:uF},t)})),onSuggestionsRequest:t=>e(Object(dF.a)(t)),deleteRecentSearch:t=>e(Object(Vv.f)(t)),grocerySearchAssistRequested:(t,s)=>e(Object(lb.n)(t,s))}),void 0,{areStatePropsEqual:f.a})(pF),SF=s(865),hF=s.n(SF);const CF=Ti()(hF.a);var gF=()=>Ko.a.createElement("div",{className:CF.searchBoxContainer},Ko.a.createElement("div",{className:CF.searchBoxInput},Ko.a.createElement($o.FormattedMessage,{id:"user_registration_search_box",defaultMessage:"Find messages, documents, photos or people"})),Ko.a.createElement(Jo.default,{disabled:!0,paddingLess:!0,size:ti.Sizes.S,kind:ti.Kinds.SEARCH,"data-test-id":"search-basic-btn",className:CF.searchButton,colorState:ti.ColorStates.INVERTED}));var OF=Object(qo.connect)((function(e){return{userHasRegisteredAccount:(0,Object(wi.selectors)(e).getAccountSelectors)().userHasRegisteredAccount()}}))(({userHasRegisteredAccount:e})=>Ko.a.createElement(e?mF:gF,null));var TF=Object(aT.provideContext)(hE(Object(uL.a)(OF)),{config:Vo.a.object,store:Vo.a.object,loader:Vo.a.object,appId:Vo.a.string,partner:Vo.a.string,timezone:mc.TimezoneType});function AF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const IF=xo[C.B.MAIL_APP],fF=IF.paths,DF=IF.container,RF=IF.cssBundles,bF=IF.jsBundles;var NF={name:C.B.MAIL_APP,component:OL,confirmMiddleware:(e,t)=>s=>{Object(I.c)()&&window.addEventListener("beforeunload",e=>{try{const r=Object(wi.selectors)(s.getState()),n=r.showUnsyncedDataWarning,a=(0,r.isFeatureEnabled)("promptToSync")&&(n()||t().some(e=>e.preventRouteChange)),o=window.AppIntl.messages[ML.hasUnsavedMessage.id];if(a)return e.returnValue=o,o}catch(e){yo.a.error("confirm_middleware_redux_store_getstate_error",function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?NL(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):NL(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},window.AppBootstrapData.loggerParams,{name:e.name||"",startTime:Date.now(),message:e.message||"",stack:new bL.a(e).toString()}))}});let r=!1;return t=>n=>{const a=Object(wi.selectors)(s.getState()),o=a.isFeatureEnabled;if((0,a.getRoute)().name){if(r)return;if(n.route&&n.previousRoute!==n.route&&o("promptToSync")&&n.unsyncedData.some(e=>e.preventRouteChange))return Object(lh.a)(Ko.a.createElement(KS.a,{primaryButtonLabel:ML.confirmRouteChangeModalLeaveButton,secondaryButtonLabel:ML.confirmRouteChangeModalCancelButton,customTitle:Ko.a.createElement($o.FormattedMessage,ML.confirmRouteChangeModalTitle),showCustomTitle:!0,message:Ko.a.createElement($o.FormattedMessage,ML.confirmRouteChangeModalBody),onPrimaryButtonClick:()=>{r=!1,t(n)},onSecondaryButtonClick:()=>{r=!1},onClose:()=>{r=!1}}),e.getComponentContext()),void(r=!0)}return t(n)}},routes:Object.keys(fF).reduce((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?AF(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):AF(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{[t]:{method:"GET",path:fF[t]}}),{}),stores:[],plugins:[RL],cssBundles:RF,jsBundles:bF,container:DF,apiClientConstructors:c()(Ho.apiClientConstructors,{}),batchMethods:c()(Ho.batchMethods,{}),rootReducer:wi.default,selectors:wi.selectors,enhancers:xv,actionSyncers:Bv.a,searchComponent:TF},MF=(s(1188),s(1218),s(472)),yF=s(866),LF=s.n(yF),PF=s(867),vF=s.n(PF),FF=s(868),UF=s.n(FF),wF=s(221),GF=s(869);function HF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const jF=ve.a.create("norrin/actions"),kF=ve.a.create("norrin/action_error");var xF=({crumb:e,loggerParams:t={}})=>()=>s=>r=>{const n=r.error,a=r.type,i=r.route,c=void 0===i?{}:i,l=r.tabRecencyRank;if(n)try{let e=null;e="string"==typeof n?{message:n}:Object.assign({},n.data||{},function(e=null){if(!e)return{};const t=new bL.a(e);return{name:e.name||"",message:Object(xL.c)(e.message||""),stack:t.toString()}}(n)),kF.fatal(a+" failed",{error:e})}catch(e){kF.fatal(a+" failed",{message:"actionErrorLogger exception"})}let d=!1;"undefined"!=typeof window&&"function"==typeof window.matchMedia&&(d=window.matchMedia("(prefers-color-scheme: dark)").matches);const E=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?HF(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):HF(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{action:a,prefersDark:d,crumb:e});a===sc.OPEN_PAGE_REQUESTED&&(E.routeName=c.name,E.routeUrl=c.url,void 0!==l&&(E.tabRecencyRank=l)),[sc.MESSAGE_AUTO_SAVE_FAILED,sc.MESSAGE_AUTO_SAVE_REQUESTED,sc.MESSAGE_AUTO_SAVE_SUCCEEDED,sc.MESSAGE_SAVE_FAILED,sc.MESSAGE_SAVE_REQUESTED,sc.MESSAGE_SAVE_SUCCEEDED,sc.SEND_FAILURE,sc.SEND].indexOf(a)>-1&&(E.csid=r.csid),[sc.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES,sc.CHECK_MAIL_RECEIVED_WITH_UPDATES].indexOf(a)>-1&&(E.isAppVisible=r.isAppVisible),"undefined"!=typeof performance&&performance.now&&(E.elapsedTime=performance.now());const _=jF.feature("flux_action",E);"undefined"!=typeof window&&window.requestAnimationFrame(_.logLatency);const u=s(r);return _.data.sametickTime=Date.now()-_.startTime,"undefined"==typeof window&&_.logLatency(),u};function BF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function VF(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?BF(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):BF(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var WF=(e,{unsyncedDataManager:t,performance:s={},selectors:r})=>{const n=(e=>(t,s)=>e.reduce((e,s)=>s(t,e),s))(e);return e=>a=>o=>{if(o.unsyncedData)throw new Error("RESERVED_ACTION_PAYLOAD_KEY",'"unsyncedData" is reserved key for handling flux work flows in mail. Please use "PreserveDataOnUnmount" component to save data during unmount');const i=Date.now(),c=s.now?s.now():0,l=e.getState(),d=r(l),E=d.getReconciledUnsyncedData,_=d.getRequestHashForUnsyncedDataItem,u=(0,d.getCurrentHistoryState)();return a(n(l,VF({},o,{actionTimestamp:i,elapsedTimeFromSessionStart:c,historyState:u,unsyncedData:[].concat(E()).concat(t.getUnsyncedData()).filter(e=>{if(!e||!e.type)return!1;if(e.isAutoGenerated){const s=_(e);return!t.isUnsyncedDataItemSyncedByRequestHash(s)}return!0}).map(e=>e.timestamp?e:VF({},e,{timestamp:i}))})))}};function KF(){const e={c1:2,c2:7241469,ns__t:Date.now(),c8:" ",c9:" "};if(Object(I.c)()){const t=window.location,s=encodeURI(`${t.origin}/comscore_beacon${t.pathname}/page_view.htm`),r=(window.AppBootstrapData||{}).comScore;r&&-1!==r.LTT&&(e.c14=r.LTT),r&&-1!==r.ageCode&&-1!==r.genderCode&&(e.c15=r.ageCode+"$"+r.genderCode),e.c7=s}return e}var qF=s(260);function YF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function zF(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?YF(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):YF(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function QF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function ZF(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?QF(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):QF(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const XF=(e,t,{selectors:s},r={})=>{const n=s(e),a=n.isFeatureEnabled,o=n.doesListExist,i=n.getListItemIds,c=n.getGroupIdContainingMessageId,l=n.getMessageIdsFromMessageGroupId,d=n.getMessageFlags,E=(0,n.getRoute)(),_=Object(Hi.z)(E),u=o(_)?i(_):[],p=a(C.Eb.CONVERSATIONS);a(C.Eb.MKTG_BEACON)&&(sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.MARKETING_BEACON,sec:Ii.i.LAUNCH}}),function(){const e={src:6589630,type:"nrn",cat:"nrnfsttm",u1:window.AppBootstrapData.userBeaconHash,u2:"",dc_lat:"",dc_rdid:"",tag_for_child_directed_treatment:"",ord:1};Object(qd.c)("https://6589630.fls.doubleclick.net/activityi;"+m.a.stringify(e,";")+"?")}()),a(C.Eb.NEWUSER_MKTG_BEACON)&&(sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.NEWUSER_MARKETING_BEACON,sec:Ii.i.LAUNCH}}),function(){const e={src:6518610,type:"mbrship",cat:"mshipcfm",u1:window.AppBootstrapData.userBeaconHash,u2:"new",dc_lat:"",dc_rdid:"",tag_for_child_directed_treatment:"",ord:1};Object(qd.c)("https://6518610.fls.doubleclick.net/activityi;"+m.a.stringify(e,";")+"?")}()),E.query&&"ie2edge"===E.query.reason&&sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.IE_TO_EDGE,sec:Ii.i.LAUNCH}}),a(C.Eb.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE)&&sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.LASTPASS_FREETRIAL_UPSELL_VIEW_ELIGIBLE,sec:Ii.i.LASTPASS_FREETRIAL_UPSELL,interactionType:Ii.e.nav}});const S=[],h=[],g=u?u.filter(e=>{const t=e&&(p?e:c(e)),s=e&&-1===S.indexOf(t);return s&&S.push(t),s}).map((e,t)=>{const s=p?e:c(e),r=l(s),n=r.some(e=>d(e).flagged),a=r.every(e=>d(e).read);return h.push(...r),{i:t,grpId:s,cnt:r.length,is_star:n?1:0,is_unrd:a?0:1}}).slice(0,20):[],O=a(C.Eb.COMMERCIAL_ANALYSIS_OF_CONTENT),T=a(C.Eb.SHOW_HUMAN_READABLE_CONSENT_SETTING);sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.LAUNCH,sec:Ii.i.LAUNCH,mKeyGroup:Ii.h.listing,interactionType:Ii.e.view,actionData:{pos_info:g,commercialAnalysisOptedIn:O,humanReviewOptedIn:T,canSellPersonalInfo:r.canSellPersonalInfo,msgId:h.slice(0,20).join(",")}}})},$F=Object(qF.a)();var JF=(e,t,{AppBootstrapData:s,selectors:r})=>{if(!Object(I.c)())return;const n=$F(e,{browserLoggerParams:window.BrowserLoggerParams}),a=n.spaceId,o=n.pageParams;a&&(e=>{Object(I.c)()&&Object(f.b)(window,"YAHOO.i13n")&&(window.YAHOO.i13n.SPACEID=e)})(a),void 0!==(null==s?void 0:s.userHash)&&o&&(o.actnData=JSON.stringify(ZF({},o.actnData,{hash:s.userHash})));const i=r(e),c=i.isFeatureEnabled,l=i.isOriginSearchRoute,d=sd.b.getRapidInstance(),E={spaceid:a,test_id:s.usmLogString,keys:o,dwell_on:!0,extendbcookie:!0},_={canSellPersonalInfo:s.canSellPersonalInfo};if(!d){if(t.i13nModel){const e=t.i13nModel.actionData;t.i13nModel=ZF({},t.i13nModel,{actionData:ZF({},void 0===e?{}:e,{firstLaunch:!0})})}sd.b.init({rapid:E}),XF(e,0,{selectors:r},_)}if(t.i13nModel&&(t.i13nModel.isBeaconEvent?sd.b.sendBeaconEvent(t,e):sd.b.sendI13nModel(t,e,l())),!a)return;d&&d.reInit(E),((e,t)=>{ve.a.set(t),e&&e.beaconPageview()})(sd.b.getRapidInstance(),o),c(C.Eb.COM_SCORE_BEACONING)&&function(){const e=KF(),t=e.c7;Object(qd.a)(t,!1),window.COMSCORE&&window.COMSCORE.beacon&&window.COMSCORE.beacon(e)}();const u=function(e,t){let s={};const r=Object(wi.selectors)(e),n=r.getRoute,a=r.isFeatureEnabled,o=r.couldShowEmptyFolderVideo,i=r.getParticipantInFocus,c=r.getSmartViewTypeFromListId,l=r.listExistsAndIsEmpty,d=(0,r.getFoldersSelectors)(),E=d.doesFolderIdExist,_=d.getFolderName,u=a(C.Eb.EMPTY_FOLDER_VIDEO),p=n(),m=(p.params||{}).fid,S=Object(Hi.z)(p),h=a(C.Eb.RELATED_SEARCHES_CARD),g=(i()||{}).email,O=void 0===g?"":g,T=Object(Hi.w)(S),A=a(C.Eb.LASTPASS_UPSELL);if(!A||t.type!==sc.OPEN_PAGE_REQUESTED&&t.type!==sc.PREVIEW_MESSAGE_REQUESTED||(s=zF({},s,{showLastpassUpsell:A})),!h||t.type!==sc.OPEN_PAGE_REQUESTED&&t.type!==sc.PREVIEW_MESSAGE_REQUESTED||(s=zF({},s,{relatedSearchesCard:h,emailAddress:O,route:p})),o()){const e=Object(Hi.Y)(S);let t=E(m)?_(m):"";t=!t&&e?c(S).toLowerCase():"string"==typeof t?t.split("/").pop():t,s=zF({},s,{emptyFolderVideo:u,folderName:t,route:p})}if(T===C.ac.TRAVEL_CARDS&&l(S)){const e=Object(Hi.x)(S);s=zF({},s,{eventName:Ii.a.SEARCH_ZERO_RESULTS,etrg:"change",outcome:e===C.bc.TRAVEL_VIEW_UPCOMING?Ii.b.TRAVEL_UPCOMING:Ii.b.TRAVEL_PAST})}return a(C.Eb.DEALS)&&(s=zF({},s,{retailerFilter:!0})),Object.keys(s).length?s:null}(e,t);u&&sd.b.sendI13nModel({i13nModel:{mKey:Ii.g.FEATURE_VIEWED,sec:Ii.i.FEATURE_VIEWABILITY,interactionType:Ii.e.nav,actionData:u}})},eU=s(191);function tU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}const sU=Object(I.c)()&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:()=>e=>e,rU=()=>({hash:C.Ce.POST_LUNCH_TO_SYNC,timestamp:0,type:C.Ce.POST_LUNCH_TO_SYNC,userInputtedValues:{}});var nU=function(e,t,s){const r=Object(Qo.createStore)(e,Object(I.c)()?function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?tU(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tU(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{unsyncedData:t&&t.unsyncedData?[...t.unsyncedData,rU()]:[rU()]}):t,Object(Qo.compose)(Object(Qo.applyMiddleware)(...s),sU()));r.injectedReducers={};const n=r.dispatch.bind(r),a=r.getState.bind(r);return r.currentActionType=null,r.getState=()=>{try{return a()}catch(e){throw yo.a.error("redux_store_getState_error_during_dispatch_progress",{action:r.__debuglastAction,startTime:Date.now()}),e}},r.dispatch=e=>{const t=e.type;try{r.currentActionType&&yo.a.error("redux_overlapping_dispatch",{curAction:r.currentActionType,action:t,startTime:Date.now()}),r.currentActionType=t,r.__debuglastAction=t;return n(e)}catch(e){throw Object(I.c)()?(e.name="REDUX_DISPATCH",e.data={action:t}):yo.a.error("redux_server_dispatch_error",{action:t,errorMessage:Object(xL.c)(e.message||"")}),e}finally{r.currentActionType=null}},r};const aU="WAITING",oU="ISSUED",iU="COMPLETED";function cU(){this.queue=[]}cU.prototype.sync=function(e,t,s=!1,r=!1){if("function"!=typeof e)throw new Error("Mutex.prototype.sync requires a callback function");return new Promise((n,a)=>{this.queue.push({id:t,issueInParallel:s,isSafeToRejectEarly:r,timer:void 0,status:aU,callback:e,resolve:n,reject:a}),bo.a.debug(`Mutex: ${t} was just added to the queue.`),function(e){const t=`[${e.slice(0,10).map(({id:e})=>e).join(", ")}]`;bo.a.debug("Mutex: The first ten elements of the queue are "+t)}(this.queue),this.next()})},cU.prototype.next=function(){if(!this.queue.length)return;let e=!1;this.queue=this.queue.filter(e=>e.status!==iU);for(let t=0;t<this.queue.length;t++){const s=this.queue[t];switch(s.status){case aU:if(!s.issueInParallel&&e)return;s.status=oU,e=!0;try{this.execute(s)}catch(e){this.reject(s,e)}if(!s.issueInParallel)return;break;case oU:if(e=!0,!s.issueInParallel)return}}},cU.prototype.execute=function(e){const t=this.resolve.bind(this,e),s=this.reject.bind(this,e);e.isSafeToRejectEarly&&(e.timer=setTimeout(()=>{bo.a.debug(`Mutex: clearing ${e.id} from queue because it timed out.`),bo.a.error(`Mutex: clearing ${e.id} from queue because it timed out.`);const t=this.queue.reduce((e,t)=>e.concat(`${t.id}:${t.status}`),[]).join(","),r=new O.a("RequestQueue.Timeout",{errorCode:"REQUEST_QUEUE_TIMEOUT",statusCode:0,qStatus:t});s(r)},12e4));const r=e.callback(t,s);(function(e){return void 0!==e&&(e instanceof Promise||!(!e.then||!e.catch))})(r)&&r.then(t,s)},cU.prototype.resolve=function(e,t){e.resolve(t),e.status=iU,bo.a.debug(`Mutex: ${e.id} was RESOLVED.`),e.timer&&clearTimeout(e.timer),this.next()},cU.prototype.reject=function(e,t){e.reject(t),e.status=iU,bo.a.debug(`Mutex: ${e.id} was REJECTED.`),e.timer&&clearTimeout(e.timer),this.next()};var lU=cU;const dU=Object(f.d)(["launch.skeleton","launch.folder","launch.message","launch.compose","launch.messageGroup","postLaunch.getComposeAttributes","postLaunch.postSync","folderChange.getList","folders.get","folders.delete","folders.create","folders.rename","folderList.delete","folderList.update","mailbox.syncNow","mailbox.getAttributes","mailSearch","messages.saveV3","messages.autoSaveV3","sponsoredMessages.save","messages.saveWithAttachment","messages.send","messages.updateDecos","messages.getDeletedMessages","messages.UnifiedUpdate","messages.readFlagUpdate","messages.starFlagUpdate","messages.move","messages.delete","messages.getBodies","messages.getCompose","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messages.prefetchGetBodies","messages.prefetchGetBodiesFull","messages.prefetchGetExtractedBodies","messages.prefetchGetExtractedBodiesFull","messages.getBodiesFallback","messages.getBodiesFullFallback","messages.getExtractedBodiesFallback","messages.getExtractedBodiesFullFallback","messages.getRawMessage","messages.prefetchGetBodiesFallback","messages.prefetchGetBodiesFullFallback","messages.prefetchGetExtractedBodiesFallback","messages.prefetchGetExtractedBodiesFullFallback","messages.saveAndSend","messages.saveAndSendWithAttachment","messages.saveRawMessage","messages.trashAndDelete","messages.getExtractions","messageGroups.get","messageGroups.getFallback","messageGroups.getList","messageCards.getList","couponCards.getParentMessage","consolidatedCoupons.getList","refundCards.getList","undo.list","checkMail","getReceipts","getMoreReceipts","document.fetch","task.status","task.abort","settings.get","settings.getFeatureAttributes","settings.setBaseName","settings.setBaseNameJWS","settings.saveMessageFilters","settings.saveBlockedSenders","saveArrayAttributes","settings.saveVacationPreferences","settings.saveWebMailboxAttributes","settings.saveWebMailboxMultiAttributes","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","searchSuggestions","searchSuggestionsStream","recentSearches","searchItems","searchGifs","cloudStorageItems","searchTenorGifs","getContentProviders","linkContentProvider","search","unseenCount.reset","udb.read","udb.write","account.getAlerts","account.updateAlerts","cards.create","accounts.get","senders.getList","subscriptionDetail.getList","marketingPreferences.read","marketingPreferences.unsubscribe"]),EU=Object(f.d)(["mailSearch","messages.saveV3","messages.autoSaveV3","messages.saveAndSend","messages.send","messages.getBodies","messages.getCompose","messages.getDeletedMessages","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messages.prefetchGetBodies","messages.prefetchGetBodiesFull","messages.prefetchGetExtractedBodies","messages.prefetchGetExtractedBodiesFull","messages.getBodiesFallback","messages.getBodiesFullFallback","messages.getExtractedBodiesFallback","messages.getExtractedBodiesFullFallback","messages.prefetchGetBodiesFallback","messages.prefetchGetBodiesFullFallback","messages.prefetchGetExtractedBodiesFallback","messages.prefetchGetExtractedBodiesFullFallback","messageGroups.get","document.fetch","searchGifs","cloudStorageItems","searchTenorGifs","localStores","linkRetailer","unlinkRetailer","activateOffer","getOffers","getActivatedOffers","searchSuggestions","searchSuggestionsStream","recentSearches","settings.get","settings.getFeatureAttributes","settings.saveBlockedSenders","settings.saveVacationPreferences","settings.setBaseName","settings.setBaseNameJWS","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","task.status","unseenCount.reset","account.getAlerts","account.updateAlerts","postLaunch.postSync","mailbox.syncNow","marketingPreferences.read","marketingPreferences.unsubscribe"]);function _U(){this.checkMailRequestWrappers=[],this.mutex=new lU}_U.prototype.add=function(e,t){return this._isSafeToRejectEarly(t)||this._rejectAndRemoveCheckMailsFromQueue(),this._canGoInParallel(t)?e():this._addToRequestQueue(e,t)},_U.prototype.addStream=function(e,t){return this._canGoInParallel(t)?e():this._addStreamToRequestQueue(e,t)},_U.prototype._canGoInParallel=function(e){if(!dU[e])throw new Error(["Unknown API call name: `"+JSON.stringify(e)+"`","Make sure that all the request of the API client are added to","ALL_REQUESTS list. This is done to make sure all new API requests","are aware of the serialization logic and nothing goes out of sync and","potentially breaks application data integrity. @see","https://docs.google.com/document/d/1yOwsTIcXla6CeIn42W9VKfd9JjJ1ajAtfE6CH6PfjeM","for more info."].join("\n"));return!!EU[e]},_U.prototype._addToRequestQueue=function(e,t){return this._isCheckMail(t)||this._rejectAndRemoveCheckMailsFromQueue(),new Promise((s,r)=>(this._isCheckMail(t)&&this.checkMailRequestWrappers.push({reject:r}),this._sync(e,t,this._isWriteToBackend(t),this._isSafeToRejectEarly(t)).then(s,r)))},_U.prototype._addStreamToRequestQueue=function(e,t){this._isCheckMail(t)||this._rejectAndRemoveCheckMailsFromQueue();const s=M()();return this.mutex.sync((t,r)=>{const n=e();n.pipe(s),n.on("end",t),n.on("error",e=>{s.emit("error",e),r()})},t,this._isWriteToBackend(t),this._isSafeToRejectEarly(t)),s},_U.prototype._sync=function(e,t,s,r){return this.mutex.sync((function(){return e()}),t,!s,r)},_U.prototype._rejectAndRemoveCheckMailsFromQueue=function(){this.checkMailRequestWrappers.forEach(e=>{e.reject(new O.a("RequestQueue.Rejected",{errorCode:"REQUEST_QUEUE_REJECTED",statusCode:0}))}),this.checkMailRequestWrappers=[]},_U.prototype._isCheckMail=function(e){return"checkMail"===e},_U.prototype._isSafeToRejectEarly=function(e){return"messages.saveV3"!==e&&"messages.autoSaveV3"!==e&&"messages.saveWithAttachment"!==e&&"messages.saveAndSend"!==e&&"messages.send"!==e&&"messages.saveAndSendWithAttachment"!==e},_U.prototype._isWriteToBackend=function(e){return"messages.update"===e||"settings.saveWebMailboxAttributes"===e||"messages.updateDecos"===e||"messages.updateV3"===e||"messages.UnifiedUpdate"===e||"messages.delete"===e||"messages.trashAndDelete"===e||"cards.create"===e||"settings.saveBlockedSenders"===e||"saveArrayAttributes"===e};var uU=_U,pU=s(193);function mU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}class SU{constructor(e,{apiClientConstructors:t,batchMethods:s,isOnline:r}){const n=new uU;Object.keys(t).forEach(a=>{const i=t[a],c=Object(g.a)(e.config,"bootcampHostURL"),l=e.buckets;this[a]=new i(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?mU(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mU(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{endpoints:Object(pU.b)(e.userNamespace),wssid:e.mailWssid,bootcampHost:c,isOnline:r,batchMethods:s,requestQueue:n},"bootcampClient"===a?{buckets:l}:{}))})}setMailBoxParams(e,t){const s=()=>{const s=t(e.getState()),r=s.getAccountSelectors,n=s.getSelectedAccountId,a=(0,s.getSelectedMailboxId)();if(!a)return{};const o=r(),i=o.getAccountEmailByAccountId,c=o.getAccountTypeByAccountId,l=n();return{mailboxid:a,mailboxId:a,mailboxemail:i(l),mailboxtype:c(l)}};Object.keys(this).filter(e=>this[e].setMailboxParams).forEach(e=>{this[e].setMailboxParams(s)})}}function hU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function CU(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?hU(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hU(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const gU=(e,t)=>{setTimeout(()=>{e(),gU(e,t)},t)};class OU{constructor(){this.listeners=[],this.syncAttempts={}}_getUnsyncedData(){return this.listeners.map(e=>e())}_registerHandler(e){return this.listeners.push(e),{remove:()=>{this.listeners=this.listeners.filter(t=>t!==e)}}}_isUnsyncedDataItemSyncedByRequestHash(e){return(this.syncAttempts[e]||{}).synced||!1}}function TU({store:e,apiClients:t,selectors:s,actionSyncers:r,logger:n,unsyncedDataManager:a}){const o=(o=!0)=>{const i=s(e.getState()),c=i.getAction,l=i.getUnsyncedDataToSync,d=i.getRequestHashForUnsyncedDataItem;if(!(0,i.isOnline)()||Object(I.c)()&&navigator&&void 0!==navigator.onLine&&!1===navigator.onLine)return;const E=c(),_=Date.now();a.syncAttempts=Object.keys(a.syncAttempts).reduce((e,t)=>{const s=a.syncAttempts[t]||{};return o&&s.synced&&_-s.timestamp>s.syncDefer&&_-s.timestamp>s.syncThrottle?e:CU({},e,{[t]:s})},{});[...l()].sort((e,t)=>e.timestamp-t.timestamp).map(e=>{const t=d(e),s=a.syncAttempts[t]||{};return CU({},e,{timestamp:s.synced?s.timestamp:e.timestamp,syncDefer:e.syncDefer||0,syncThrottle:void 0!==e.syncThrottle?e.syncThrottle:C.Ae,requestHash:t})}).filter(e=>{const t=a.syncAttempts[e.requestHash];return!(e.isAutoGenerated&&!o)&&(t?!t.syncing&&(t.synced&&_-t.timestamp>e.syncDefer&&_-t.timestamp>e.syncThrottle):!a.syncAttempts[e.requestHash]&&_-e.timestamp>=e.syncDefer)}).map(o=>{const i=()=>{const t=s(e.getState()),r=t.getUnsyncedDataToSyncByRequestHash,i=t.getRoute,c=Date.now();if(a.syncAttempts[o.requestHash].synced=!0,a.syncAttempts[o.requestHash].syncing=!1,a.syncAttempts[o.requestHash].timestamp=c,!Object(I.c)())return;const l=r(o.requestHash,c);o.isAutoGenerated||!l||l.repeat||(a.syncAttempts[o.requestHash].syncing=!0,n.error("unsyncedData_manager_error",{unsyncedDataType:o.type,requestHash:o.requestHash,actionType:E.type,routeName:i().name,errorMessage:"UnsyncedDataItem is already synced. Probably it is not removed in the reconciler step"}))};a.syncAttempts[o.requestHash]={synced:!1,syncing:!0,timestamp:E.actionTimestamp,syncDefer:o.syncDefer,syncThrottle:o.syncThrottle};const c=E.type!==sc.SYNC_DATA&&r[o.type]?[].concat(r[o.type]):r[sc.SYNC_DATA].filter(e=>Object(I.c)()||e.isomorphic).map(e=>e.syncer),l=E.type===sc.SYNC_DATA||!r[o.type];((s,r,n=!0)=>Promise.all((s||[]).map(s=>{const a=s(e,r,t);if(n&&(!a||"function"!=typeof a.then))throw new Error(s.name+" Syncer function should return promise");return a})).catch(e=>{throw e}))(c,CU({},o.userInputtedValues,{unsyncedDataItemRequestHash:o.requestHash,unsyncedDataType:o.type,syncAttempts:a.syncAttempts[o.requestHash]}),l).then(i,i)})};if(Object(I.c)()){const t=!1;e.subscribe(()=>Promise.resolve(o())),gU(()=>o(t),100)}return o}class AU{constructor(e){o()(this,"explicitTimeoutRequested",void 0),o()(this,"nextTime",void 0),this.explicitTimeoutRequested=!1,this.nextTime=e}deferNextUntil(e){this.explicitTimeoutRequested=!0,e<this.nextTime&&(this.nextTime=e)}}class IU{constructor(e){o()(this,"task",void 0),o()(this,"reschedule",void 0),o()(this,"timeoutHandle",void 0),o()(this,"idleCallbackHandle",void 0),o()(this,"name",void 0),o()(this,"lastInvokeTime",void 0),o()(this,"logMessages",void 0),o()(this,"logEnabled",void 0),this.task=e,this.reschedule=!1,this.name=e.name||""+(1e4*Math.random()|0),this.lastInvokeTime=0,this.logMessages=[],this.logEnabled=!0}flushLog(){this.logEnabled&&(bo.a.debug(`Scheduler<${this.name}>: ${this.logMessages.join("; ")}`.trim()),this.logMessages=[])}log(e){this.logEnabled&&this.logMessages.push(e)}clearTimersIfNecessary(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null),this.idleCallbackHandle&&(window.cancelIdleCallback(this.idleCallbackHandle),this.idleCallbackHandle=null,this.log("Canceled idle callback"))}executeTask(e,t,s){const r=s.timeRemaining();this.log(e?"Executing priority task":`Executing idle task; timeSinceScheduled = ${Date.now()-this.lastInvokeTime}ms, timeRemaining = ${r}ms`);const n=Date.now();this.task(e,t,s);const a=Date.now()-n;this.log(`Completed in ${a}ms`),a>r&&this.log(`Warning: Overran idle budget by ${a-r}ms!`)}invoke(e=!1,t=3e4){this.clearTimersIfNecessary(),this.lastInvokeTime=Date.now();const s=new AU(t);if(e||!window.requestIdleCallback){this.executeTask(e,s,{didTimeout:!1,timeRemaining:()=>Number.MAX_VALUE})}else this.idleCallbackHandle=window.requestIdleCallback(t=>this.executeTask(e,s,t),{timeout:5e3}),this.log("Requested idle callback");this.reschedule&&(this.timeoutHandle=setTimeout(this.invoke.bind(this,!1),s.nextTime),this.log(`Scheduling idle callback in ${s.nextTime}ms`)),this.flushLog()}silence(){this.logEnabled=!1}runWhenIdle({timeout:e=-1}={}){this.reschedule=!0,e>0?this.invoke(!1,e):this.invoke()}runImmediately(){this.invoke(!0)}runImmediatelyWithoutPriority(){this.invoke(!1)}}function fU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function DU(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?fU(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fU(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function RU({store:e,apiClients:t,selectors:s,actionSyncers:r,logger:n,unsyncedDataManager:a}){const o=new IU((o,i)=>{const c=s(e.getState()),l=c.getAction,d=c.getUnsyncedDataToSync,E=c.getRequestHashForUnsyncedDataItem;if(!(0,c.isOnline)()||Object(I.c)()&&navigator&&void 0!==navigator.onLine&&!1===navigator.onLine)return;const _=l(),u=Date.now();a.syncAttempts=Object.keys(a.syncAttempts).reduce((e,t)=>{const s=a.syncAttempts[t]||{};return o&&s.synced&&u-s.timestamp>s.syncDefer&&u-s.timestamp>s.syncThrottle?e:DU({},e,{[t]:s})},{});[...d()].sort((e,t)=>e.timestamp-t.timestamp).map(e=>{const t=E(e),s=a.syncAttempts[t]||{};return DU({},e,{timestamp:s.synced?s.timestamp:e.timestamp,syncDefer:e.syncDefer||0,syncThrottle:void 0!==e.syncThrottle?e.syncThrottle:C.Ae,requestHash:t})}).filter(e=>{const t=a.syncAttempts[e.requestHash];if(e.isAutoGenerated&&!o)return!1;const s=u-e.timestamp;if(t){if(t.syncing)return!1;const s=u-t.timestamp;return!!(t.synced&&s>e.syncDefer&&s>e.syncThrottle)||void i.deferNextUntil(Math.max(e.syncDefer-s,e.syncThrottle-s))}if(s>=e.syncDefer)return!0;i.deferNextUntil(e.syncDefer-s)}).map(o=>{const i=()=>{const t=s(e.getState()),r=t.getUnsyncedDataToSyncByRequestHash,i=t.getRoute,c=Date.now();a.syncAttempts[o.requestHash].synced=!0,a.syncAttempts[o.requestHash].syncing=!1,a.syncAttempts[o.requestHash].timestamp=c;const l=r(o.requestHash,c);o.isAutoGenerated||!l||l.repeat||(a.syncAttempts[o.requestHash].syncing=!0,n.error("unsyncedData_manager_error",{unsyncedDataType:o.type,requestHash:o.requestHash,actionType:_.type,routeName:i().name,errorMessage:"UnsyncedDataItem is already synced. Probably it is not removed in the reconciler step"}))};a.syncAttempts[o.requestHash]={synced:!1,syncing:!0,timestamp:_.actionTimestamp,syncDefer:o.syncDefer,syncThrottle:o.syncThrottle};const c=_.type!==sc.SYNC_DATA&&r[o.type]?[].concat(r[o.type]):r[sc.SYNC_DATA].filter(e=>Object(I.c)()||e.isomorphic).map(e=>e.syncer),l=_.type===sc.SYNC_DATA||!r[o.type];((s,r,n=!0)=>Promise.all((s||[]).map(s=>{const a=s(e,r,t);if(n&&(!a||"function"!=typeof a.then))throw new Error(s.name+" Syncer function should return promise");return a})).catch(e=>{throw e}))(c,DU({},o.userInputtedValues,{unsyncedDataItemRequestHash:o.requestHash,unsyncedDataType:o.type,syncAttempts:a.syncAttempts[o.requestHash]}),l).then(i,i)})});return Object(I.c)()&&(e.subscribe(()=>o.runImmediately()),o.runWhenIdle()),o.runImmediately.bind(o)}const bU=Object.values(sc);var NU=({store:e,selectors:t,navigateToRoute:s,routesInfo:r,getRouteInfo:n})=>{const a=t(e.getState()),o=a.getRouteUrl,i=a.getSelectedMailboxId,c=a.getAccountSelectors,l=(0,a.getRoute)(),d=Object(Ui.D)(r,n(location.href));i()&&!Object(Ui.F)(l,d)&&c().userHasRegisteredAccount()&&history.replaceState(0,null,o()),e.subscribe(()=>{const s=t(e.getState()),r=s.getCurrentHistoryState,n=(0,s.getAction)(),a=n.historyState,o=n.type,i=n.popstate;let c=[];a&&(c=a.historyStack);const l=r(),d=l.historyStack,E=l.activePageIndex;if(!bU.includes(o)||function(e,t){return e.length===t.length&&e.every((e,s)=>e.backIdx===t[s].backIdx&&Object(Ui.F)(e.route,t[s].route))}(d,c))return;const _=d[E].route.url;switch(o){case sc.INITIAL_STATE:case sc.LAUNCH_COMPLETED:return void history.replaceState(0,null,_);default:return void(void 0===i&&history.pushState(history.state+1,null,_))}}),window.addEventListener("popstate",a=>{let o,i=Object(Ui.D)(r,n(location.href)),c=a.state,l=!1;const d=t(e.getState()),E=d.getReconciledValidPage,_=(0,d.getCurrentHistoryState)().historyStack;if(c<0||c>=_.length)c=0,l=!0;else{if(!c&&0!==c)return;Object(Ui.F)(i,_[c].route)||(c=0,l=!0)}const u=E(i,!0);u&&(o=u,i=Object(Ui.D)(r,o.route)),history.replaceState(c,null,i.url),e.dispatch(s({route:i,popstate:c,nextPage:o,startOverStack:l}))})},MU=s(130);function yU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var LU=({store:e,selectors:t,getRouteInfo:s,routesInfo:r,AppBootstrapData:n,routesConfig:a},i)=>c=>new Promise((l,d)=>{e.subscribe(()=>{const s=(0,t(e.getState()).getAction)(),r=s.error;switch(s.type){case sc.INITIAL_STATE:l();break;case sc.LAUNCH_ERROR:d(r)}});let _=Object(Ui.D)(r,s(c));_.name===C.rd.NEW_DRAFT&&!_.params.csid&&n.params&&n.params.csid&&(_=Object(Ui.D)(r,Object(Ui.f)(n.params.csid),_.query));const p=u()(n,"cookie");e.dispatch(Object(MU.c)(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?yU(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yU(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},p,{route:_,routesConfig:a}))),E()(i)&&i()}),PU=(e,{apiClientConstructors:t,batchMethods:s,confirmMiddleware:r,routes:n,rootReducer:a,storeSubscribers:o,selectors:i,enhancers:c,actionSyncers:l},d,{isOnline:_}={},u)=>{const p=new SU(e,{apiClientConstructors:t||{},batchMethods:s||{},isOnline:_}),S=function(){const e=new OU;return e.getUnsyncedData=e._getUnsyncedData.bind(e),e.registerHandler=e._registerHandler.bind(e),e.isUnsyncedDataItemSyncedByRequestHash=e._isUnsyncedDataItemSyncedByRequestHash.bind(e),e}(),h=Object(I.c)()&&window.performance?window.performance:void 0,g=[xF({crumb:e.crumb,loggerParams:Object(I.c)()?{}:e.loggerParams}),GF.a.withExtraArgument(p),WF(c(e),{unsyncedDataManager:S,performance:h,selectors:i})];r&&E()(r)&&g.push(r(u,S.getUnsyncedData));const O=nU(a,d,g);O.registerUnsyncedDataHandler=S.registerHandler,p.setMailBoxParams(O,i);const T=(xo[e.appName]||{}).appRootPath||C.mb,A=Object.keys(n).map(e=>({name:e,path:T+n[e].path})),f=Object(Ui.C)({appName:e.appName,routesConfig:A}),D={AppBootstrapData:e,store:O,selectors:i,apiClients:p,unsyncedDataManager:S,actionSyncers:l,i13n:JF,logger:bo.a,routesConfig:A,routesInfo:f,getRouteInfo:e=>{const t=Object(eU.parse)(e),s=t.pathname,r=t.query,n=f.find(e=>e.pattern.match(s));return n?{name:n.name,params:n.pattern.match(s),query:m.a.parse(r),url:e}:{}},navigateToRoute:oi.j};let R;Object(I.c)()&&((({store:e,selectors:t,AppBootstrapData:s,apiClients:r,i13n:n})=>{e.subscribe(()=>{const a=e.getState(),o=t(a),i=o.isOnline,c=(0,o.getAction)();!i()||Object(I.c)()&&navigator&&!1===navigator.onLine||setTimeout((function(){n(a,c,{AppBootstrapData:s,apiClients:r,selectors:t})}),0)})})(D),NU(D)),o&&o.forEach(e=>{e(D)}),R=i(O.getState()).isFeatureEnabled(C.Eb.SYNC_DATA_ONLY_WHEN_NEEDED)?RU(D):TU(D);return{store:O,prepareDataForUrl:LU(D,R),apiClients:p}},vU=s(385),FU=s(870);function UU(e,t,s){const r=function(e,t){return Object(FU.parse)(e)[t]||""}(e,t);if(r){const e=function(e,t){let s="";return e.split("&").forEach(e=>{const r=e.split("="),n=w()(r,2);n[0]===t&&(s=n[1])}),s}(r,s);if(e)return e}return""}function wU(){return UU(document.cookie,"Y","l").trim()}function GU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function HU(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?GU(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):GU(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var jU=e=>(t,{selectors:s})=>{class r extends Ko.a.Component{constructor(...e){super(...e),o()(this,"lastVisited",{})}getChildContext(){return{navigateTo:t=>{let r=t.i13nModel,n=t.route,a=t.hashParams,o=void 0===a?{}:a,i=b()(t,["i13nModel","route","hashParams"]);const c=Date.now(),l=(0,s(e.store.getState()).normalizeRoute)(n),d=HU({},i,{perfHeader:{requestStart:c},cacheControl:{lastVisited:this.lastVisited[l.url]},route:l,hashParams:o});this.lastVisited[l.url]=c,this.props.navigateToRoute(HU({i13nModel:r},d))},getUrlFromRoute:t=>(0,s(e.store.getState()).normalizeRoute)(t).url||""}}render(){return Ko.a.createElement(t,u()(this.props,"store"))}}o()(r,"displayName","RouterProvider"),o()(r,"childContextTypes",{navigateTo:Vo.a.func,getUrlFromRoute:Vo.a.func});return Object(qo.connect)(e=>({route:(0,s(e).getRoute)()}),e=>({navigateToRoute:t=>e(Object(oi.j)(t))}),void 0,{areStatePropsEqual:e=>Boolean(e.route)})(r)},kU=s(871),xU=s.n(kU),BU=ve.a.create("norrin/rum");let VU=!1,WU={},KU={};function qU(e,t={}){const s=sd.b.getRapidInstance();s&&s.beaconPerformanceData(e);let r={};if(e.perf_commontime&&e.perf_commontime.initialPageLoad){let t={};if(window.performance&&window.performance.timing){const e=window.performance.timing,s=window.appServerTimings;if(t={firstByte:e.responseStart-e.connectEnd,onLoad:e.loadEventStart-e.navigationStart,serverResp:e.responseEnd-e.requestStart,domInt:e.domInteractive-e.navigationStart},Array.isArray(s))for(let e=0;e<s.length;e++){const r=w()(s[e],2);t[r[0]]=r[1]}}r=Object.assign(t,e.perf_commontime.initialPageLoad)}e.perf_usertime&&e.perf_usertime.utm&&Object.assign(r,e.perf_usertime.utm),t.additionalLogData&&"object"==typeof t.additionalLogData&&Object.assign(r,t.additionalLogData),Object(f.c)(r)||BU.feature("rum_beacon",r).logSuccess()}function YU(){QU()}function zU(e,t,s){return"common"===e?(WU.perf_commontime||(WU.perf_commontime={}),WU.perf_commontime.initialPageLoad||(WU.perf_commontime.initialPageLoad={}),WU.perf_commontime.initialPageLoad[t]=s,!0):"user"===e&&(WU.perf_usertime||(WU.perf_usertime={}),WU.perf_usertime.utm||(WU.perf_usertime.utm={}),WU.perf_usertime.utm[t]=s,!0)}function QU(){qU({perf_navigationtime:2},{additionalLogData:KU}),WU={},KU={}}function ZU(){qU(WU,{additionalLogData:KU}),WU={},KU={}}function XU(){const e=window,t=e.YAFT;return!!(e.performance&&VU&&t&&t.AFT2)}function $U(e){XU()&&window.YAFT.AFT2.end(function(e){return(t,s)=>{if(XU()&&!s){const s=Math.round(t.aft),r=Math.round(t.visuallyComplete),n={perf_commontime:{afterPageLoad:{AFT:s,AFT2:s,STR:Math.round(t.startRender),VIC:r}}},a=sd.b.getRapidInstance();a&&a.beaconPerformanceData(n,e)}}}(e))}function JU(e,t,s=!0){const r=window.YAFT,n=window.performance;if(!n||VU)return!1;if(VU=!0,s&&(n&&n.timing&&n.timing.loadEventEnd?QU():window.addEventListener("load",YU,!1)),r){const s={modules:e.modules,modulesExclude:[],modulesAft2Container:e.aft2container,canShowVisualReport:e.yaftCanShowVisualReport,maxWaitTime:4e3,generateHAR:!0,useNativeStartRender:!0};let a=0;n.getEntriesByName&&n.getEntriesByName("norrinStartRender").length&&(a=n.getEntriesByName("norrinStartRender")[0].startTime,s.customStartRender=function(){return a}),r.init(s,(function(e,s){const r=function(e,t){if(t)return!1;const s=Math.round(e.aft),r=Math.round(e.visuallyComplete),n=Math.round(e.startRender);return s&&(zU("common","AFT",s),zU("common","AFT1",s)),r&&zU("common","VIC",r),n&&zU("common","STR",n),!0}(e,s);t?t():r&&ZU()})),a&&r.triggerCustomTiming("norrin_main",a,a)}return!0}function ew(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function tw(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ew(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ew(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const sw=Object(qF.a)(),rw={MESSAGE_LIST:"message_list",MESSAGE_SEND:"message_send",MAIL_SEARCH:"search_latency",COMPOSE_SHOW:"compose_show",MESSAGE_READ:"message_read",FOLDER_SWITCH:"folder_switch",[C.rd.FOLDER]:"folder_switch",[C.rd.LIST]:"search_latency",[C.rd.SEARCH]:"search_latency",[C.rd.EDIT_DRAFT]:"compose_show",[C.rd.NEW_DRAFT]:"compose_show",[C.rd.MESSAGE_FROM_FOLDER_LIST]:"message_read",[C.rd.MESSAGE_FROM_SEARCH_LIST]:"message_read",[C.rd.MESSAGE_FROM_LIST]:"message_read",[C.rd.SETTINGS]:"settings",[C.rd.SPONSORED_MESSAGE]:"message_read",[C.rd.TUTORIAL]:"tutorial"},nw=tw({},{COMPOSE_READY:"MTTC",TIME_TO_INTERACTIVE:"MTTI",CLIENT_RENDER_TIME:"app_client_render",CLIENT_HEAD_TO_END:"app_head_end"},{},rw),aw=Object.values(rw),ow=e=>e.requestedActionType!==sc.LAUNCH_COMPLETED&&aw.indexOf(e.rumMetricKey)>-1;let iw=!1;const cw=e=>{if(!e)return;let t=0;const s=e.additionalLogData,r=void 0===s?{}:s;"undefined"!=typeof performance&&performance.now&&(t=r.elapsedTime=Math.floor(performance.now())),r&&function(e){KU=Object.assign({},e)}(tw({},r,{elapsedTime:t}));const n=Math.round(e.latency?e.latency:Date.now()-e.requestedTime);BU.debug(`UserPerf: ${e.rumMetricKey}:  ${n} : ${JSON.stringify(r)}`),zU("user",e.rumMetricKey,n),ZU()},lw=e=>{let t=[];const s=(()=>{let e,t={};return(s,r)=>{const n=[],a=s.getRoute,o=s.getCursorItem,i=s.doesStreamExist,c=s.getSetting,l=(0,s.getAction)()||{},d=l.type,E=l.csid,_=a()||{};if(!e&&_.name&&(e=_),d!==sc.LAUNCH_COMPLETED||iw){if(d===sc.V3_MESSAGE_SEND_REQUESTED)n.push({hash:E,rumMetricKey:nw.MESSAGE_SEND,requestedTime:l.actionTimestamp,csid:E});else if(!Object(Ui.F)(_,e)&&nw[_.name])e=_,n.push({hash:_.url,rumMetricKey:nw[_.name],requestedTime:l.actionTimestamp,route:_});else if(l.streamId&&i(l.streamId)&&c(C.Kd.PREVIEW_PANE)!==C.ed.NO&&(_.name===C.rd.FOLDER||_.name===C.rd.SEARCH||_.name===C.rd.LIST)){const e=o(l.streamId);!e||e.id===t.id&&e.listId===t.listId||Object(Hi.w)(e.listId)!==C.ac.MESSAGES||(n.push({hash:`${e.listId}-${e.id}`,rumMetricKey:nw.MESSAGE_READ,requestedTime:l.actionTimestamp,cursorItem:e}),t=e)}}else{const e=window.performance,t=Date.now(),s=e.now(),a=e.timing.responseStart-e.timing.navigationStart;let o=s;iw=!0,e.getEntriesByName&&e.getEntriesByName("norrinStartRender").length&&(o=e.getEntriesByName("norrinStartRender")[0].startTime),n.push({hash:nw.MESSAGE_LIST,rumMetricKey:nw.MESSAGE_LIST,latency:o},{hash:nw.COMPOSE_READY,rumMetricKey:nw.COMPOSE_READY,latency:s},{hash:nw.TIME_TO_INTERACTIVE,rumMetricKey:nw.TIME_TO_INTERACTIVE,latency:s},{hash:nw.CLIENT_RENDER_TIME,rumMetricKey:nw.CLIENT_RENDER_TIME,latency:t-r},{hash:nw.CLIENT_HEAD_TO_END,rumMetricKey:nw.CLIENT_HEAD_TO_END,latency:s-a})}return n.map(e=>tw({},e,{requestedActionType:e.requestedActionType||d}))}})();return r=>{const n=Object(wi.selectors)(r),a=n.getRouteName;t=t.concat(s(n,e)),t.length&&ow(t[0])&&function(){XU()&&window.YAFT.AFT2.start()}(),LL()(xU()(t,"requestedTime","desc"),"hash").map(e=>{try{return((e,t)=>{const s=t.doesListExist,r=t.doesMessageGroupIdExist,n=t.getMessageIdsFromMessageGroupId,a=t.doesMessageFullBodyExist,o=t.doesMessageBodyExist,i=t.getDraftMessageId,c=t.getListsSelectors,l=t.doesComposeSessionExist,d=t.isSent,E=t.isMessageRoute,_=t.getSetting,u=t.getAttachmentCountByMessageId,p=t.doesMessageIdExist,m=t.getMessagesSelectors,S=t.getMessageBodiesSelectors,h=t.getPages,g=t.getDocumentSelectors,O=(0,t.getAction)()||{},T=O.type,A=c().getListStatus,I=S().getMessageBodiesCount,f=m().getMessagesCount,D=g().getDocumentsCount,R=(e.route||{}).params,b=void 0===R?{}:R;switch(e.rumMetricKey){case nw.COMPOSE_SHOW:{const t=b.csid;if(!t||!l(t))return e;const s=i(t);return s?a(s)?tw({},e,{additionalLogData:{isCached:e.requestedActionType===T},requestCompleted:!0}):e:tw({},e,{additionalLogData:{isCached:e.requestedActionType===T},requestCompleted:!0})}case nw.FOLDER_SWITCH:case nw.MAIL_SEARCH:{const t=Object(Hi.z)(e.route);return s(t)&&A(t)===C.od.LOADED?tw({},e,{additionalLogData:{metaDataCount:f(),GSBCount:I(),documents:D(),pageCount:h().length,isCached:e.requestedActionType===T},requestCompleted:!0}):e}case nw.MESSAGE_READ:{let t=b.groupId;const s=e.cursorItem,a=!E()&&_(C.Kd.PREVIEW_PANE)!==C.ed.NO;if(!t&&s&&(t=s.id),!r(t))return e;const i=n(t)||[];return i.some(e=>o(e))?tw({},e,{additionalLogData:{metaDataCount:f(),GSBCount:I(),documents:D(),pageCount:h().length,numberOfMessages:i.length,previewPane:a,isCached:e.requestedActionType===T},requestCompleted:!0}):e}case nw.MESSAGE_SEND:if(!l(e.csid)||d(e.csid)){const t=(O.message||{}).id,s=p(t)&&u(t)||0;return tw({},e,{additionalLogData:{isCached:e.requestedActionType===T,sendMethod:T,attachmentCount:s},requestCompleted:!0})}return e;case nw[C.rd.SETTINGS]:case nw[C.rd.TUTORIAL]:return tw({},e,{additionalLogData:{isCached:e.requestedActionType===T},requestCompleted:!0})}return e})(e,n)}catch(t){return Object(wF.a)("RUM error",t.fileName||location.href,t.lineNumber||"",t.column||"",t),e.errorOccured=!0,e}}).filter(e=>e.requestCompleted||e.latency||e.errorOccured).map(e=>{t=t.filter(t=>t.rumMetricKey!==e.rumMetricKey);const s=Date.now();window.requestAnimationFrame(()=>{if(e.additionalLogData=Object.assign({},e.additionalLogData||{},{renderFrameTime:Math.round(Date.now()-s),actionType:e.requestedActionType,routeName:a()}),ow(e)){const e=sw(r,{browserLoggerParams:window.BrowserLoggerParams}).pageParams;$U(tw({},void 0===e?{}:e))}cw(e)})})}};var dw=(e,t={})=>{if(!window.performance)return{recordRUM:()=>{}};const s=()=>{let e=["norrin_"],s=["mail-app-component-container"];t.appName===C.B.MOBILE_APP&&(e=["base-screen-main-container"],s=["mobile-app-container"]),JU({yaftCanShowVisualReport:t.isInternalIP,modules:e,aft2container:s})};return window.addEventListener?window.addEventListener("DOMContentLoaded",s,!1):window.attachEvent&&window.attachEvent("DOMContentLoaded",s),{recordRUM:lw(e)}},Ew=s(313);const _w=async()=>(_w.db||(_w.db=await Object(YM.a)("logger-storage",1,{upgrade(e){e.createObjectStore("logger-params")}})),_w.db);var uw=async e=>{const t=await _w();await t.put("logger-params",e,"logger-params")};function pw(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function mw(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?pw(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pw(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Sw(e){Error.stackTraceLimit&&Error.stackTraceLimit<=10&&(Error.stackTraceLimit=20),window.setImmediate||(window.setImmediate=e=>setTimeout(e,0),window.clearImmediate=e=>clearTimeout(e)),window.onerror=wF.a,window.YAHOO.i13n.WEBWORKER_FILE=C.md,window.initialScrambledLogin=wU(),function(){window.navigator&&window.navigator.sendBeacon?(window.navigator._sendBeacon=window.navigator.sendBeacon,window.navigator.sendBeacon=function(){try{return window.navigator._sendBeacon.apply(this,arguments)}catch(e){const t=new bL.a(e);return yo.a.error("navigator.sendBeacon_exception",{url:arguments[0]||"",name:e.name||"",message:Object(xL.c)(e.message||""),stack:t.toString()}),!1}}):yo.a.error("navigator.sendBeacon_exception",{message:"navigator.sendBeacon is not supported"})}(),function(){if(window.ResizeObserver){const e=window.ResizeObserver;let t=null;class s extends e{constructor(e){super(s=>{t&&clearTimeout(t),t=setTimeout(()=>{e.apply(this,[s]),t=null},16)})}}window.ResizeObserver=s}}();const t=e=>{try{"string"==typeof window[e]&&(window[e]=JSON.parse(window[e]))}catch(t){const s=new bL.a(t).getFirstStackInfo(),r=s.source,n=s.lineno,a=s.colno;Object(wF.a)(`App error parsing ${e} string data`,r,n,a,t)}};t("AppBootstrapData"),t("AppState"),t("AppIntl");const s=window,r=s.AppState,n=void 0===r?{}:r,a=s.AppBootstrapData,o=s.ReactIntlLocaleData,i=s.BrowserLoggerParams,c=s.LaunchErrorObj,l=void 0===c?{}:c,d=n.reduxState,E=void 0===d?{}:d,_=E.action,u=E.featureCues,p=void 0===u?{}:u,m=(void 0===_?{}:_).features,S=void 0===m?{}:m,h=Object.keys(S).filter(e=>"boolean"==typeof S[e]).reduce((e,t)=>mw({},e,{[t]:mw({},p[t],{enabled:S[t]})}),{}),g=p;a.config=mw({},{spaceids:{root:a.appName===C.B.MOBILE_APP?959521427:159600001},loggerSettings:{timeout:5e3,interval:3e4,limit:500,timer_limit:13}},{},S,{},a.config),a.__initializeFeatures__=mw({},h,{},g,{},a.__initializeFeatures__);const A=n.reduxState?function(e){return{context:{plugins:{MailFluxibleContextPlugin:{buildNumber:e.buildNumber,config:e.config,guidHash:e.guidHash,mailWssid:e.mailWssid,crumb:e.crumb,signoutCrumb:e.signoutCrumb,guid:e.guid,csid:e.csid,launchTime:e.launchTime,locale:e.locale,localeData:e.localeData,timezone:e.timezone,region:e.region,usmLogString:e.usmLogString,os:e.os,browserName:e.browserName,farm:e.farm,partner:e.partner,environment:e.environment,__initializeFeatures__:e.__initializeFeatures__,queryStringOverrides:e.queryStringOverrides,loggerParams:e.loggerParams,cspToken:e.cspToken,encryptedQueryParams:e.encryptedQueryParams,mailboxAttributes:e.mailboxAttributes,mailBrandNameString:e.mailBrandNameString,yahooBrandNameString:e.yahooBrandNameString,appId:e.appId}}}}}(a):void 0;E&&E.environment&&E.environment.windowDimensions&&(E.environment.windowDimensions=mw({},E.environment.windowDimensions,{clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight,innerWidth:window.innerWidth,innerHeight:window.innerHeight})),window.YAHOO.i13n.SPACEID=a.config.spaceids.root,window.YAHOO.i13n.TEST_ID=a.usmLogString;const D=a&&a.config||A.context.plugins.MailFluxibleContextPlugin.config;let R=location.pathname;const b=location.search,N=new RegExp(`^(${C.ze})/test`),M=N.test(R);M||(function(e){const t=e.loggerSettings,s=t.timeout,r=t.interval,n=t.limit,a=t.timer_limit;ve.a.set(i),"debug"===e.logLevel&&ve.a.read(UF()());ve.a.read(vF()({endpoint:e.endpoint,interval:r,timeout:s,limit:n,timer_limit:a})),ve.a.level(e.logLevel||"error")}(mw({},D,{endpoint:a.appName===C.B.MOBILE_APP?C.sc:C.lb})),function(e){if(!e.mailtoProtocolHandler)return;const t=()=>{"registerProtocolHandler"in navigator&&navigator.registerProtocolHandler("mailto",`https://${window.location.hostname}/mrd/mail/any/compose?src=mailto&url=%s`,a.mailBrandNameString)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}(D)),D.reportingObserver&&function(){if(void 0!==window.ReportingObserver){new window.ReportingObserver((e,t)=>{for(const t of e){const e=t.body,s=void 0===e?{}:e;yo.a.error("reporting_observer_exception",{type:t.type,url:t.url,id:s.id,sourceFile:s.sourceFile,message:s.message})}},{buffered:!0}).observe()}}(),"object"==typeof o&&Object.keys(o).forEach(e=>Object($o.addLocaleData)(o[e]));const y=function(e){const t=new LF.a;return e.plugins.forEach(e=>{t.plug(e)}),t}(e),L=a.route?"launch_"+a.route.toLowerCase():"unknown",P=bo.a.feature(L,{ssr:!!A}),v=()=>{if(!window.context)return()=>!0;return(0,(0,e.selectors(window.context.store.getState()).getOnlineSelectors)().isOnline)()},F=Object(Ps.getAppContainerId)(e);function U(t,s){const r=dw(Date.now(),{isInternalIP:a.internal,appName:a.appName}).recordRUM;if(!s.store){const t=PU(a,e,E,{isOnline:v},s);s.store=t.store,s.apiClients=t.apiClients}if(t)return void w(s,t);window.context=s;const n=mw({},i,{},a.loggerParams);uw(n);const o=jU(s.getComponentContext()),c=function(){return a.config.useReactHydrate?Xo.a.hydrate.bind(Xo.a):Xo.a.render.bind(Xo.a)}();e.render=t=>{const n=o((t||e).component,e);s.store.subscribe(()=>{const t=s.store.getState(),n=(0,e.selectors(t).getAction)();!function(){if(!Object(I.c)())return;const e=window.initialScrambledLogin,t=wU();if(e&&t&&e!==t){const s={reason:T.f.DIFFERENT_USER,statusCode:401,errorCode:"AUTH",refresh:!0,originalLogin:e,currentLogin:t},r=bo.a.feature("error_handler",s),n=new O.a(T.b,s);r.logFailure(n)}}();const a=n.error||n.err||null;if(a)switch(a.name){case T.d:return Object(I.f)({partner:s.partner||"",reason:"missing_crumb"});case T.c:return Object(I.f)({partner:s.partner||"",reason:"invalid_crumb"});case T.b:if(a.getDataByName("refresh",!1))return Object(I.f)({partner:s.partner||"",reason:"invalid_cred"})}r(t)});let a=null,i=null;try{a=document.getElementById(F);const t=Ko.a.createElement(MF.AppContainer,null,Ko.a.createElement($o.IntlProvider,window.AppIntl,Ko.a.createElement(qo.Provider,{store:s.store},Ko.a.createElement(Ew.a.Provider,{value:s.getComponentContext()},Ko.a.createElement(aT.FluxibleComponent,{context:s.getComponentContext()},Ko.a.createElement(n,null))))));if(c(t,a),i=document.getElementById("mail-search"),D.ybar&&i){const t=e.searchComponent?o(e.searchComponent,e):null,r=Ko.a.createElement(MF.AppContainer,null,Ko.a.createElement($o.IntlProvider,window.AppIntl,Ko.a.createElement(qo.Provider,{store:s.store},Ko.a.createElement(Ew.a.Provider,{value:s.getComponentContext()},Ko.a.createElement(aT.FluxibleComponent,{context:s.getComponentContext()},t?Ko.a.createElement(t,null):null)))));c(r,i)}P.logSuccessAndLatency()}catch(e){const t=new bL.a(e).getFirstStackInfo(),s=t.source,r=t.lineno,n=t.colno;e.data={rootContainerExist:a?"1":"0",mailSearchExist:i?"1":"0"},Object(wF.a)("Rendering App error",s,r,n,e)}},window.setTimeout(e.render,10)}function w(e,t=null){const s=!!t;t=t||l,window.context=e,Xo.a.render(Ko.a.createElement($o.IntlProvider,window.AppIntl,Ko.a.createElement(aT.FluxibleComponent,{context:e.getComponentContext()},Ko.a.createElement(vU.a,{appName:a.appName,error:t,hideLogo:s,crumb:a.crumb,isRTL:a.config.rtl,showCTAInErrorPage:a.config.showCTAInErrorPage,mailBrandNameString:a.mailBrandNameString,partner:a.partner,endpoints:a.endpoints}))),document.getElementById(F))}const G=y.createContext(function(){return{appId:a.appId,guidHash:a.guidHash,mailWssid:a.mailWssid,crumb:a.crumb,signoutCrumb:a.signoutCrumb,guid:a.guid,timezone:a.timezone,region:a.region,config:D,os:a.os,browserName:a.browserName,queryStringOverrides:a.queryStringOverrides,__initializeFeatures__:a.__initializeFeatures__,csid:Object(Ps.generateUID)(),partner:a.partner,localeData:a.localeData,cspToken:a.cspToken,usmLogString:a.usmLogString,encryptedQueryParams:a.encryptedQueryParams,mailboxAttributes:a.mailboxAttributes,mailBrandNameString:a.mailBrandNameString,yahooBrandNameString:a.yahooBrandNameString}}());if(Object(f.c)(l)){if(A)y.rehydrate(A,U);else if(a){M&&(ve.a.disable(),R=R.replace(N,(e,t)=>t),history.replaceState(null,null,R+b));const t=PU(a,e,E,{isOnline:v},G),s=t.prepareDataForUrl,r=t.apiClients;G.store=t.store,G.apiClients=r,s(R+b).then(()=>U(void 0,G)).catch(e=>w(G,e))}}else w(G)}var hw=()=>{const e=new y.b(y.a.GET,"/d/fetchappbootstrapdata");return e.setHeader("Accept","application/json"),e.send()},Cw=s(486),gw=s(305),Ow=s.n(gw);const Tw={};function Aw(e,t){let s,r,n;return t.some(t=>Object.keys(t.paths).some(a=>{const o=function(e,t){if(!Tw[t]){const e=[];Tw[t]={regexp:Ow()(t,e),keys:e}}const s=Tw[t].regexp.exec(e);return s&&function(e,t){return e.reduce((function(e,s,r){return e[s.name]=t[r+1],e}),{})}(Tw[t].keys,s)}(e.path,(t.appRootPath||C.mb)+t.paths[a]);return!!o&&(s=a,r=o,t.ssrUnsupportedRoutes&&(n=-1!==t.ssrUnsupportedRoutes.indexOf(s)),!0)})),{route:s,ssrUnsupportedRoute:n,params:r}}var Iw=s(872),fw=s.n(Iw);var Dw=async function(){let e=null;try{e=await hw()}catch(e){var t;const s=JSON.parse((null==e||null===(t=e.data)||void 0===t?void 0:t.responseText)||"{}");return void([T.b,T.c,T.d].includes(s.name)&&(window.location.href="https://login.yahoo.com/?.src=ym"))}if(!(e&&e.body&&e.body.AppBootstrapData&&e.body.AppIntl))return;window.AppBootstrapData=(({heartBeatCheckInterval:e,httpRetry:t,isBizMail:s,pageDirection:r,throttleAPIList:n,userSegmentData:a,comScore:o,doNotSellLabel:i,doNotSellUrl:c,jurisdiction:l,buckets:d,calendarWssid:E,crumb:_,farm:u,guid:p,guidHash:m,userHash:S,locale:h,localeData:g,loggerParams:O,mailBrandNameString:T,mailWssid:A,mailboxAttributes:I,majorVersion:f,os:D,osMajorVersion:R,osMinorVersion:b,osPatchVersion:N,partner:M,region:y,selectedMailbox:L,usmLogString:P,shardId:v,signoutCrumb:F,timezone:U,userBeaconHash:w,yahooBrandNameString:G,browserName:H,browserVersion:j,canSellPersonalInfo:k,ABPTestAccounts:x,feDev:B,feUser:V,cspToken:W,encryptedQueryParams:K,environment:q,internal:Y,remoteAddress:z,colo:Q,tmrTestAccounts:Z,config:X,__initializeFeatures__:$,featureCueTimestamps:J,featureCueUserResponse:ee,featureSequence:te})=>{const se=window.location,re=se.host,ne=se.protocol,ae=se.search,oe=se.hostname.endsWith(".aol.com"),ie={name:oe?C.N.AOL:C.N.YAHOO,endpoints:oe?Object(pU.b)(C.N.AOL):Object(pU.b)(C.N.YAHOO)},ce=Object(Ps.getAppInfoFromUrl)("/d",ie),le=ce.appId,de=ce.appName,Ee=Aw({path:"/d"},jo),_e=Ee.route,ue=Ee.ssrUnsupportedRoute,pe=Ee.params,me=Date.now(),Se=fw.a.parse(ae);return history.replaceState(null,null,"/d"+ae),{userNamespace:ie.name,appId:le,appName:de,endpoints:ie.endpoints,url:ne+"://"+re+"/d",launchTime:me,startTime:me,referer:"https://"+re,route:_e,params:pe,ssrUnsupportedRoute:ue,queryStringOverrides:Se,heartBeatCheckInterval:e,httpRetry:t,isBizMail:s,pageDirection:r,throttleAPIList:n,userSegmentData:a,comScore:o,doNotSellLabel:i,doNotSellUrl:c,jurisdiction:l,buckets:d,calendarWssid:E,crumb:_,farm:u,guid:p,guidHash:m,userHash:S,locale:h,localeData:g,loggerParams:O,mailBrandNameString:T,mailWssid:A,mailboxAttributes:I,majorVersion:f,os:D,osMajorVersion:R,osMinorVersion:b,osPatchVersion:N,partner:M,region:y,selectedMailbox:L,usmLogString:P,shardId:v,signoutCrumb:F,timezone:U,userBeaconHash:w,yahooBrandNameString:G,browserName:H,browserVersion:j,canSellPersonalInfo:k,ABPTestAccounts:x,feDev:B,feUser:V,cspToken:W,encryptedQueryParams:K,environment:q,internal:Y,remoteAddress:z,colo:Q,tmrTestAccounts:Z,config:X,__initializeFeatures__:$,featureCueTimestamps:J,featureCueUserResponse:ee,featureSequence:te}})(e.body.AppBootstrapData),window.AppIntl=e.body.AppIntl;const s=window.AppBootstrapData,r=s.config,n=s.partner,a=s.mailboxAttributes,o=document.getElementById("themer"),i=r.hasMappedTheme,c=i&&r.theme||a[C.xc.THEME]&&a[C.xc.THEME].value,l=i&&r.themeMode||a[C.xc.THEME_MODE]&&a[C.xc.THEME_MODE].value;o.innerHTML=Object(Cw.a)(c,l,n)};t.default=async function(){if(!Object(I.c)()||window.AppBootstrapData||(await Dw(),window.AppBootstrapData))return Sw(NF)}()}]);