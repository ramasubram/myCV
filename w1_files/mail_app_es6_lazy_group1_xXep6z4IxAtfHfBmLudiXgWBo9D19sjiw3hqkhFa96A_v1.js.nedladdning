(window.webpackJsonp=window.webpackJsonp||[]).push([[4],Array(500).concat([function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(1),r=a.n(i),o=a(7),l=a.n(o),c=a(6),d=a(0),m=a(13),_=a(10),u=a(8),p=a(14),h=a(44);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var E=Object(m.connect)((e,{listContentType:t})=>{const a=Object(_.selectors)(e),n=a.doesListExist,i=a.getMessageListItems,r=a.getAttachmentListItems,o=a.getSubjectAndSnippetSelectors,l=a.getMessageIdsFromMessageGroupId,c=(0,a.getRoute)(),m=Object(u.z)(c);let h=[];const E=Object(u.gb)(m,{listContentType:t,listFilter:d.bc.FROM}),b={name:c.name,params:Object.assign({},c.params,{query:Object(u.ib)(E)})},f=o().getSubject;switch(t){case d.ac.MESSAGES:h=n(E)?i(E).slice(0,3):[],h.forEach(e=>{e.subject=f(e.firstMessageId||e.relevantMessageId,m),e.messageCount=l(e.id).length,e.messageRoute=Object(p.p)(m,e.id)});break;case d.ac.IMAGES:case d.ac.DOCUMENTS:h=n(E)?r(E).slice(0,3):[],h=h.map(e=>function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{listContentType:t}))}return{listId:m,items:h,allRoute:b,listContentType:t}},e=>({onNavigateToRoute:t=>e(Object(h.j)(t))})),b=a(609),f=a(362),C=a(170),S=a(1705),y=a.n(S),T=a(5),v=a(22);class I extends r.a.Component{constructor(e){super(e),this.handleMessageOpen=this.handleMessageOpen.bind(this)}renderSubject(e,t){return r.a.createElement("span",{"data-test-id":"message-subject",className:t.subject,role:"gridcell",title:e},e||r.a.createElement("span",null,r.a.createElement("span",null,"("),r.a.createElement("span",{className:t.noSubject},r.a.createElement(c.FormattedMessage,{id:"message.no_subject",defaultMessage:"No Subject"})),r.a.createElement("span",null,")")))}renderMessageCount(e,t){return e>1?r.a.createElement("span",{className:t.messageCount},e):null}handleMessageOpen(e){e.preventDefault();const t=this.props;(0,t.navigateToRoute)({route:t.item.messageRoute,i13nModel:{mKey:T.g.RIGHT_RAIL_MSG_OPEN,sec:T.i.RIGHT_RAIL,mKeyGroup:T.h.openMsg,interactionType:T.e.click}})}render(){const e=this.props.item,t=this.context.getThemeMode,a=new Date(e.timestamp),n=t(),s=this.context.getCss(y.a,{lightThemeMode:n===v.i.LIGHT});return r.a.createElement("a",{role:"row","data-test-id":"message-list-item","aria-label":"",className:"message-list-item",rel:"noopener",onClick:this.handleMessageOpen},r.a.createElement("div",{className:s.message},r.a.createElement("div",{className:s.subjectContainer},this.renderSubject(e.subject,s),this.renderMessageCount(e.messageCount,s)),r.a.createElement("span",{className:s.dateWrapper},r.a.createElement("time",null,r.a.createElement(C.a,{"data-test-id":"date-time-label",date:a})))))}}I.contextTypes={getCss:l.a.func.isRequired,getThemeMode:l.a.func.isRequired};var M=I,A=a(479),N=a(4),k=a(17),O=a(1706),D=a.n(O);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const R=Object(c.defineMessages)({openAllMessages:{id:"search.open_all_messages",defaultMessage:"Open all messages"},messagesHeader:{id:"search.messages_brief_header",defaultMessage:"Messages"},openAllDocuments:{id:"search.open_all_documents",defaultMessage:"Open all documents"},documentsHeader:{id:"search.docs_brief_header",defaultMessage:"Documents"},openAllPhotos:{id:"search.open_all_photos",defaultMessage:"Open all photos"},photosHeader:{id:"search.photo_brief_header",defaultMessage:"Photos"}});class w extends r.a.Component{getHeaderTitle(){const e=this.context.intl.formatMessage;switch(this.props.listContentType){case d.ac.MESSAGES:return e(R.messagesHeader);case d.ac.IMAGES:return e(R.photosHeader);case d.ac.DOCUMENTS:return e(R.documentsHeader);default:return""}}getListContent(){switch(this.props.listContentType){case d.ac.MESSAGES:return this.getMessages();case d.ac.IMAGES:return this.getPhotos();case d.ac.DOCUMENTS:return this.getDocuments();default:return""}}getMessages(){const e=this.props,t=e.listId,a=e.onNavigateToRoute;return e.items.map(e=>r.a.createElement(M,{key:e.id,listId:t,item:e,navigateToRoute:a}))}getPhotos(){const e=this.props,t=e.listId;return r.a.createElement(b.a,{listId:t,items:e.items,streamId:t,isBriefView:!0})}getDocuments(){const e=this.props,t=e.listId;return e.items.map(e=>r.a.createElement(f.a,{key:e.id,listId:t,item:e,streamId:t,isBriefView:!0}))}getOpenAllLink(e){const t=this.props,a=t.allRoute,n=this.context.intl.formatMessage;let s={},i="";switch(t.listContentType){case d.ac.MESSAGES:s={mKey:T.g.RIGHT_RAIL_MSG_OPEN_ALL,sec:T.i.RIGHT_RAIL},i=R.openAllMessages;break;case d.ac.IMAGES:s={mKey:T.g.RIGHT_RAIL_PHOTO_OPEN_ALL,sec:T.i.RIGHT_RAIL},i=R.openAllPhotos;break;case d.ac.DOCUMENTS:s={mKey:T.g.RIGHT_RAIL_DOC_OPEN_ALL,sec:T.i.RIGHT_RAIL},i=R.openAllDocuments}return r.a.createElement(A.a,{className:e.allLink,route:a,i13nModel:s,title:n(i)},r.a.createElement(c.FormattedMessage,{id:"related_content_card.all_link",defaultMessage:"All"}),r.a.createElement(k.b,{"aria-hidden":!0,kind:N.Kinds.CHEVRON_UP,rotate:N.Rotate.D90,size:N.Sizes.XS,colorState:N.ColorStates.INHERITED}))}render(){if(!this.props.items.length)return null;const e=Object(v.l)(this.context,!0),t=this.context.getCss(D.a,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e));return r.a.createElement("section",{className:t.container},r.a.createElement("header",{className:t.briefHeader},r.a.createElement("h4",{className:t.briefTitle},this.getHeaderTitle()),this.getOpenAllLink(t)),r.a.createElement("div",{className:t.briefContent},this.getListContent()))}}w.contextTypes={intl:c.intlShape.isRequired,getTheme:l.a.func,getThemeMode:l.a.func,getCss:l.a.func.isRequired};t.default=E(w)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(6),r=a(13),o=a(1393),l=(a(7),a(51),a(44));const c=Object(i.defineMessages)({new:{id:"dealsview_cue.new",defaultMessage:"New!"}});t.default=Object(r.connect)(void 0,(e,{route:t})=>({onClick:()=>e(Object(l.j)({route:t}))}))(({cueName:e,onShow:t,onClick:a,close:n})=>s.a.createElement(o.default,{clickable:!0,cueName:e,message:c.new,onClick:a,onShow:t,close:n}))},function(e,t,a){"use strict";a.r(t),a.d(t,"CHECK_HOVER_TIME",(function(){return N}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(12),m=a.n(d),_=a(1737),u=a.n(_),p=a(90),h=a(17),g=a(18),E=a(25),b=a(32),f=a(95),C=a(15),S=a(63),y=a(11),T=a(117),v=a(29),I=a(159),M=a(4),A=(a(9),a(1394));const N=500,k=Object(c.defineMessages)({expand_image:{id:"compose.inline_image.resize.large",defaultMessage:"Large"},shrink_image:{id:"compose.inline_image.resize.small",defaultMessage:"Small"},send_as_attachment:{id:"compose.inline_image.send_as_attachment",defaultMessage:"Send as attachment"},remove_image:{id:"compose.inline_image.remove",defaultMessage:"Remove image"},img_overlay_button_title:{id:"compose.inline_image.more_option_button",defaultMessage:"More options"},resize_to_mini_size:{id:"compose.link_enhancer.resize_mini",defaultMessage:"Small"},resize_to_medium_size:{id:"compose.link_enhancer.resize_medium",defaultMessage:"Medium"},resize_to_cover_size:{id:"compose.link_enhancer.resize_cover",defaultMessage:"Large"},move_card_to_bottom:{id:"compose.link_enhancer.move_bottom",defaultMessage:"Move to bottom"},move_card_inline:{id:"compose.link_enhancer.move_inline",defaultMessage:"Move inline"},remove_card:{id:"compose.link_enhancer.remove",defaultMessage:"Remove"}});class O extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{shown:!1,isSelected:!1}),s()(this,"_removeEventListeners",()=>{this.props.editor&&(this.props.editor.element.removeEventListener("click",this.deselectImage),this.props.editor.element.removeEventListener("keydown",this.deselectImage))}),s()(this,"_repositionOverlay",()=>{I.a.fixOverlayPosition({hoveredElement:this._hoveredElement,overlay:this._overlay,scrollableContainer:this.props.scrollableAreaRef,editor:this.props.editor})}),s()(this,"handleMouseOver",()=>{clearTimeout(this.hideTimeout),this.state.shown&&this._hoveredElement===this.props.hoveredElement||(this._hoveredElement=this.props.hoveredElement,this.setState({shown:!0,isSelected:!1},this.hoverCheckTimer))}),s()(this,"hoverCheckTimer",()=>{this.props.editor.element.contains(this._hoveredElement)?(this._repositionOverlay(),this._interval=setTimeout(this.hoverCheckTimer,N)):this._hideOverlay()}),s()(this,"handleMouseOut",e=>{clearTimeout(this.hideTimeout),this.state.isSelected||(this.props.editor.element.contains(e.relatedTarget)&&e.target===this._overlay?this._hideOverlay():this.hideTimeout=setTimeout(this._hideOverlay,200))}),s()(this,"_hideOverlay",()=>{this._overlay&&Object.assign(this._overlay.style,{position:"absolute",left:v.IMAGE_OVERLAY_INITIAL_LEFT,width:0,height:0}),this.setState({shown:!1,isSelected:!1}),this._hoveredElement=null,this._interval=clearTimeout(this._interval)}),s()(this,"selectImage",()=>{if(this._hoveredElement){const e=document.createRange(),t=window.getSelection();if(this._hoveredElement.className.indexOf(v.INLINE_IMAGE_PLUGIN_CLASSES.ONLINE_GIF_CLASS)>=0){const t=I.a.findGifWrapper(this._hoveredElement);if(!t)return;e.selectNode(t)}else e.selectNode(this._hoveredElement);t.removeAllRanges(),t.addRange(e),this.props.editor.element.classList.add(v.HIDE_SELECTION_CLASS),this.props.editor.element.addEventListener("click",this.deselectImage),this.props.editor.element.addEventListener("keydown",this.deselectImage),this.setState({isSelected:!0})}}),s()(this,"removeImg",()=>{this._hoveredElement&&I.a.removeInlineImage(this.props.editor,this._hoveredElement,()=>{this._hoveredElement.hasAttribute("data-id")&&this.props.onImageRemove(this._hoveredElement.getAttribute("data-id")),this._hideOverlay()})}),s()(this,"_sendAsAttachment",()=>{this._hoveredElement&&(this.props.onSendAsAttachment(this._hoveredElement),this._hoveredElement.parentNode.removeChild(this._hoveredElement),this.props.editor.contentChanged({type:v.EDITOR_EVENTS.inline_to_non_inline_attachment}),this._hideOverlay())}),s()(this,"_onImageResize",e=>{this.props.onImageResize(e),this._hideOverlay()}),s()(this,"renderMenu",()=>{const e=this.state.shown,t=this.props,a=t.overlayType,n=t.imageSize,s=t.showSendAsAttachmentBtn,i=t.cardSize,r=m()(u.a,{shown:e}),o=this.context.intl.formatMessage,c=v.CURRENT_IMAGE_SIZE_STATUS.SMALL,d=v.CURRENT_IMAGE_SIZE_STATUS.LARGE;switch(a){case v.RTEHoverOverlayTypes.IMAGE:return l.a.createElement(S.a,{kind:T.a.MENU,focusOnMount:!0},l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:()=>this._onImageResize(c),kind:E.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"small"},n===c&&l.a.createElement("div",{className:r.checkmarkIcon},l.a.createElement(h.b,{kind:M.Kinds.CHECKMARK,colorState:M.ColorStates.NORMAL,size:M.Sizes.XS})),l.a.createElement("div",{className:r.paddingLeft},o(k.shrink_image)))),l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:()=>this._onImageResize(d),kind:E.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"large"},n===d&&l.a.createElement("div",{className:r.checkmarkIcon},l.a.createElement(h.b,{kind:M.Kinds.CHECKMARK,colorState:M.ColorStates.NORMAL,size:M.Sizes.XS})),l.a.createElement("div",{className:r.paddingLeft},o(k.expand_image)))),l.a.createElement("div",{className:r.divider}),s&&l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this._sendAsAttachment,kind:E.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"send-as-attachment"},l.a.createElement("div",{className:r.paddingLeft},o(k.send_as_attachment)))),l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.removeImg,kind:E.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"img-hover-remove"},l.a.createElement("div",{className:r.paddingLeft},o(k.remove_image)))));case v.RTEHoverOverlayTypes.LINK_ENHANCER_CARD:return i!==A.b.APPEND?l.a.createElement(S.a,{kind:T.a.MENU,focusOnMount:!0},l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.props.onCardResize.bind(null,A.b.MINI),kind:E.a.MENUITEM_PARENT_TEXT_COLOR},i===A.b.MINI&&l.a.createElement("div",{className:r.checkmarkIcon},l.a.createElement(h.b,{kind:M.Kinds.CHECKMARK,colorState:M.ColorStates.NORMAL,size:M.Sizes.XS})),l.a.createElement("div",{className:r.paddingLeft},this.context.intl.formatMessage(k.resize_to_mini_size)))),l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.props.onCardResize.bind(null,A.b.MEDIUM),kind:E.a.MENUITEM_PARENT_TEXT_COLOR},i===A.b.MEDIUM&&l.a.createElement("div",{className:r.checkmarkIcon},l.a.createElement(h.b,{kind:M.Kinds.CHECKMARK,colorState:M.ColorStates.NORMAL,size:M.Sizes.XS})),l.a.createElement("div",{className:r.paddingLeft},this.context.intl.formatMessage(k.resize_to_cover_size)))),l.a.createElement("div",{className:r.divider}),l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.props.onCardMove,kind:E.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"move-bottom"},l.a.createElement("div",{className:r.paddingLeft},this.context.intl.formatMessage(k.move_card_to_bottom)))),l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.props.onCardRemove,kind:E.a.MENUITEM_PARENT_TEXT_COLOR},l.a.createElement("div",{className:r.paddingLeft},this.context.intl.formatMessage(k.remove_card))))):l.a.createElement(S.a,{kind:T.a.MENU,focusOnMount:!0},l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.props.onCardResize.bind(null,A.b.MEDIUM),kind:E.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"move-inline"},this.context.intl.formatMessage(k.move_card_inline))),l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.props.onCardRemove,kind:E.a.MENUITEM_PARENT_TEXT_COLOR},this.context.intl.formatMessage(k.remove_card))));default:return null}})}componentDidMount(){this.deselectImage=()=>{this._removeEventListeners(),this.props.editor.element.classList.remove(v.HIDE_SELECTION_CLASS),this._hideOverlay()},this.props.onload&&this.props.onload()}componentWillUnmount(){this._removeEventListeners(),clearTimeout(this.hideTimeout),clearTimeout(this._interval)}render(){const e=this.state,t=e.shown,a=e.isSelected,n=m()(u.a,{shown:t,isSelected:a});return l.a.createElement("div",{className:n.hoverContainer,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:e=>e.target===this._overlay&&this.selectImage(),"data-test-id":"img-hover-overlay-container",ref:e=>this._overlay=e},t&&l.a.createElement(f.c,{permittedArrowDirections:[C.h.ANY],zAltitude:y.Pb.POPOVER.MEDIUM,align:C.a.END,triggerOn:f.b.CLICK,triggerOff:f.a.CLICK,className:n.popoverContainer,onContentMouseOver:this.handleMouseOver,onContentMouseOut:this.handleMouseOut,isArrowVisible:!1},l.a.createElement("div",{className:n.icon},l.a.createElement(p.a,{kind:M.Kinds.MORE,colorStates:{normal:M.ColorStates.COOL_FAINT,hovered:M.ColorStates.SELECTED},size:M.Sizes.XXS,title:(0,this.context.intl.formatMessage)(k.img_overlay_button_title)})),l.a.createElement("div",{className:n.menuContainer},this.renderMenu())))}}s()(O,"contextTypes",{intl:c.intlShape.isRequired,bindShortcut:r.a.func,unbindShortcut:r.a.func}),s()(O,"defaultProps",{onImageRemove:()=>{}}),t.default=O},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return c}));a(7);var n=a(1),s=a.n(n),i=a(6),r=a(1405),o=a(0);const l=Object(i.defineMessages)({header:{id:"stationery.cue_header",defaultMessage:"Send your emails with style"},body:{id:"stationery.cue_body",defaultMessage:"Make your emails stand out with artist-designed stationery from Paperless Post."}});function c({onTryNow:e,close:t}){return s.a.createElement(r.a,{headerText:l.header,bodyText:l.body,cueName:o.Eb.STATIONERY_CUE,onTryNow:e,close:t,onMayBeLater:()=>{}})}},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return c}));a(7);var n=a(1),s=a.n(n),i=a(6),r=a(1437),o=a(0);const l=Object(i.defineMessages)({header_text:{id:"select_locations_cue.header_text",defaultMessage:"Did we find the nearest store to you?"},body_text:{id:"select_locations_cue.body_text",defaultMessage:"Pickup from this Walmart location after checkout."},primary_button_text:{id:"select_locations_cue.primary_button_text",defaultMessage:"Yes, perfect"},secondary_button_text:{id:"select_locations_cue.secondary_button_text",defaultMessage:"No, change store"}});class c extends s.a.Component{render(){return s.a.createElement(r.a,{bodyText:l.body_text,cueName:o.Eb.GROCERIES_LOCATIONS_CUE,headerText:l.header_text,mayBeLaterButtonText:l.secondary_button_text,onMayBeLater:this.props.onClose,onTryButton:this.props.onClick,tryButtonText:l.primary_button_text})}}},function(e,t,a){"use strict";a.r(t),a.d(t,"RsvpView",(function(){return H}));var n=a(33),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(13),_=a(6),u=a(155),p=a(51),h=a(58),g=a(0),E=a(10),b=a(272),f=a(4);const C=Object(_.defineMessages)({WHEN:{id:"rsvp.when",defaultMessage:"When"},WHERE:{id:"rsvp.where",defaultMessage:"Where"},GOING_MSG:{id:"rsvp.going",defaultMessage:"Yes, I'm going"},EDIT:{id:"rsvp.edit",defaultMessage:"Edit"},MAY_BE_GOING_MSG:{id:"rsvp.maybe",defaultMessage:"I might go"},NOT_GOING_MSG:{id:"rsvp.no",defaultMessage:"No, I'm not going"},WHO:{id:"rsvp.who",defaultMessage:"Who"},VIDEO_CALL:{id:"rsvp.videoCall",defaultMessage:"Video Call"},YES:{id:"rsvp.response.yes",defaultMessage:"Yes"},MAYBE:{id:"rsvp.response.maybe",defaultMessage:"Maybe"},NO:{id:"rsvp.response.no",defaultMessage:"No"},ACCEPTED:{id:"rsvp.response.accepted",defaultMessage:"Accepted"},TENTATIVE:{id:"rsvp.response.tentative",defaultMessage:"tentative"},DECLINED:{id:"rsvp.response.declined",defaultMessage:"Declined"},LOAD_ERROR:{id:"rsvp.error",defaultMessage:"An error occurred retrieving the invite information."},RELOAD:{id:"rsvp.reload",defaultMessage:"Reload"},NUMBER_GUESTS_INVITED:{id:"rsvp.guestsInvited",defaultMessage:"{amount} {amount, plural, one {guest} other {guests}} invited"}}),S={ACCEPT:"ACCEPTED",MAYBE:"TENTATIVE",DECLINE:"DECLINED"};var y=a(20),T=a(17),v=a(129),I=a.n(v),M=a(12),A=a.n(M),N=a(1763),k=a.n(N);function O(e,t){const a=A()(k.a,{compact:e.compact}),n=t.intl,s=n.formatMessage,i=n.formatDate,r=e.inviteInfo,o=r.startTime,l=r.endTime,c=r.location,m=r.summary,u=r.isSameDay,p=r.attendees,h=r.videoLink,g={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},E={hour:"numeric",minute:"numeric"},b=o?i(o,u?E:g):null,S=l?i(l,u?E:g):null,y=p.length<=2?p.join(", "):s(C.NUMBER_GUESTS_INVITED,{amount:p.length}),v=[{shouldRender:b&&S,icon:f.Kinds.CLOCK,heading:s(C.WHEN),description:`${b} - ${S}`},{shouldRender:!!c,icon:f.Kinds.LOCATION_MARKER,heading:s(C.WHERE),description:d.a.createElement("div",{className:a.ellipsisText},I()(c))},{shouldRender:!!y,icon:f.Kinds.GUEST_LIST,heading:s(C.WHO),description:d.a.createElement("div",{className:a.ellipsisText},y)},{shouldRender:!!h,icon:f.Kinds.VIDEO_CALL,heading:s(C.VIDEO_CALL),description:d.a.createElement("a",{className:a.videoLink,href:h,target:"_blank",rel:"noreferrer"},d.a.createElement("div",{className:a.ellipsisText},h))}].filter(e=>e.shouldRender).slice(0,e.compact?2:4),M=v.map(e=>d.a.createElement("div",{key:e.icon,className:v.length>2?a.infoItem:a.infoItemFull},d.a.createElement("div",{className:a.iconContainer},d.a.createElement(T.b,{kind:e.icon,colorState:f.ColorStates.SECOND_LEVEL_GRAY})),d.a.createElement("div",{className:a.infoDetails},d.a.createElement("span",{className:a.infoHeading},e.heading),d.a.createElement("div",{className:a.infoDescription},e.description)))),N=e.isValidInvite;return d.a.createElement("div",{className:a.infoTable},d.a.createElement("div",{className:a.headingContainer},d.a.createElement("div",{className:a.title},d.a.createElement("div",{className:a.ellipsisText},I()(m))),N?d.a.createElement("a",{onClick:e.handleCalendarURLClick,className:a.calendarLink,href:e.calendarURL,target:"_blank",rel:"noopener"},d.a.createElement(_.FormattedMessage,{id:"rsvp.calendarLink",defaultMessage:"View on Calendar"})):null),d.a.createElement("div",{className:a.contentContainer},M))}O.contextTypes={intl:_.intlShape};var D=a(1764),P=a.n(D);function R(e,t){const a=e.size,n=e.inviteInfo.startTime,s=t.intl.formatDate,i=t.getTheme,r=A()(P.a,{size:a,["theme-"+i()]:!0});if(!n)return null;const o=`${s(n,{weekday:"short"})}, ${s(n,{month:"short"})}`;return d.a.createElement("div",{className:r.container},d.a.createElement(T.b,{kind:f.Kinds.CALENDAR_EMPTY,colorState:f.ColorStates.INVERTED,size:e.size}),d.a.createElement("div",{style:{WebkitBackgroundClip:"text"},className:r.dateText},n.getDate()),d.a.createElement("div",{className:r.subText},o.toUpperCase()))}R.contextTypes={getTheme:l.a.func,intl:_.intlShape};var w=a(1765),F=a.n(w);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const L=A()(F.a);class B extends d.a.Component{constructor(e){super(e),r()(this,"loadChange",()=>{this.setState({load:!this.state.load})}),r()(this,"showEditChange",()=>{this.setState({showEdit:!this.state.showEdit})}),r()(this,"renderResponse",()=>{const e=this.context.intl.formatMessage,t=this.props.inviteInfo;if(!this.state.load)switch((void 0===t?{}:t).response){case S.ACCEPT:return d.a.createElement("div",{className:L.yes},d.a.createElement("span",{className:L.icon},d.a.createElement(T.b,{kind:f.Kinds.CAL_ACCEPT,size:f.Sizes.XS,colorState:f.ColorStates.SUCCESS})),e(C.GOING_MSG));case S.MAYBE:return d.a.createElement("div",{className:L.maybe},d.a.createElement("span",{className:L.icon},d.a.createElement(T.b,{kind:f.Kinds.CAL_MAYBE,size:f.Sizes.XS,colorState:f.ColorStates.FIRST_LEVEL_ORANGE})),e(C.MAY_BE_GOING_MSG));case S.DECLINE:return d.a.createElement("div",{className:L.no},d.a.createElement("span",{className:L.icon},d.a.createElement(T.b,{kind:f.Kinds.CAL_DECLINE,size:f.Sizes.XS,colorState:f.ColorStates.WARNING})),e(C.NOT_GOING_MSG))}}),r()(this,"responseNoReply",()=>{const e=this.context.intl.formatMessage,t=this.props,a=t.inviteInfo,n=(void 0===a?{}:a).response,s=t.respondToInvite,i=t.replyLinks,o=t.calendarURL,l=t.handleCalendarURLClick,c=t.isValidInvite,m=[{replyString:S.ACCEPT,displayMessage:e(C.YES)},{replyString:S.MAYBE,displayMessage:e(C.MAYBE)},{replyString:S.DECLINE,displayMessage:e(C.NO)}].map(e=>function(e){const t=e.replyString,a=e.displayMessage,n=e.respondToInvite,s=e.replyLinks,i=e.onShowEditChange,r=e.onLoadShow,o=s&&s[t],l=e.inviteResponse===t,c=A()(F.a,{isChecked:l});return d.a.createElement("a",{key:t,onClick:e=>{o?window.open(o,"_blank"):(e.preventDefault(),e.stopPropagation(),l||r(),n(t)),i()},"data-test-id":t,className:c.replyText,href:"#"},a)}(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({onLoadShow:this.loadChange,onShowEditChange:this.showEditChange,respondToInvite:s,inviteResponse:n,replyLinks:i},e)));return c?d.a.createElement("div",{className:L.confirmationText},d.a.createElement("span",{className:L.text},d.a.createElement(_.FormattedMessage,{id:"rsvp.eventReply",defaultMessage:"Are you going?"})),this.state.load&&d.a.createElement("div",{className:L.loadingContainer,"data-test-id":"rsvp-loader"},d.a.createElement(h.b,{size:h.a.S})),this.state.showEdit?m:d.a.createElement("div",{className:L.showEdit},this.renderResponse(),d.a.createElement("a",{onClick:this.showEditChange,className:L.edit,href:"#"},e(C.EDIT)))):d.a.createElement("div",{className:L.confirmationText},d.a.createElement("a",{onClick:l,className:L.calendarLink,href:o,target:"_blank",rel:"noopener"},d.a.createElement(_.FormattedMessage,{id:"rsvp.goToCalendarLink",defaultMessage:"Go to Calendar"})))}),r()(this,"responseReply",()=>{const e=this.context.intl.formatMessage,t=this.props.inviteInfo,a=void 0===t?{}:t,n=a.firstAttendeeEmail;switch(a.firstAttendeeStatus){case S.ACCEPT:return d.a.createElement("div",{className:L.confirmationText},n,":",d.a.createElement("div",{className:L.yes},d.a.createElement("span",{className:L.icon},d.a.createElement(T.b,{kind:f.Kinds.CAL_ACCEPT,size:f.Sizes.XS,colorState:f.ColorStates.SUCCESS})),e(C.ACCEPTED)));case S.MAYBE:return d.a.createElement("div",{className:L.confirmationText},n,":",d.a.createElement("div",{className:L.maybe},d.a.createElement("span",{className:L.icon},d.a.createElement(T.b,{kind:f.Kinds.CAL_MAYBE,size:f.Sizes.XS,colorState:f.ColorStates.FIRST_LEVEL_ORANGE})),e(C.TENTATIVE)));case S.DECLINE:return d.a.createElement("div",{className:L.confirmationText},n,":",d.a.createElement("div",{className:L.no},d.a.createElement("span",{className:L.icon},d.a.createElement(T.b,{kind:f.Kinds.CAL_DECLINE,size:f.Sizes.XS,colorState:f.ColorStates.WARNING})),e(C.DECLINED)))}});const t=e.inviteInfo;this.state={showEdit:"NEEDS_ACTION"===(void 0===t?{}:t).response,load:!1}}componentWillReceiveProps(e){const t=this.props.inviteInfo,a=e.inviteInfo;(void 0===t?{}:t).response!==(void 0===a?{}:a).response&&this.loadChange()}render(){const e=this.props.inviteInfo;return d.a.createElement("div",{"data-test-id":"container",className:L.container},"REPLY"!==(void 0===e?{}:e).state?this.responseNoReply():this.responseReply())}}r()(B,"contextTypes",{intl:_.intlShape});var j=a(1766),U=a.n(j);class H extends d.a.Component{constructor(...e){super(...e),r()(this,"getReplyLinks",()=>{const e=this.props.messageBodyHtml,t={};if(e&&Object(y.c)()){const a=Object(u.getInertElement)(e).querySelectorAll("a"),n={[S.ACCEPT]:"Yes",[S.MAYBE]:"Maybe",[S.DECLINE]:"No"};Object.keys(n).forEach(e=>{const s=n[e],i=Array.prototype.find.apply(a,[e=>e.innerHTML.indexOf(s)>=0]);t[e]=i?i.href:null})}return Object.keys(t).every(e=>t[e])?t:null}),r()(this,"renderRsvpReply",()=>{const e=this.props,t=e.inviteInfo,a=e.rsvpResponseEnabled,n=e.senderEmailAddress,s=e.calendarURL,i=e.parseRsvpReplyLinks&&this.getReplyLinks();if(a||i)return d.a.createElement(B,{inviteInfo:t,respondToInvite:e=>this._respondToInvite(e),replyLinks:i||null,senderEmailAddress:n,calendarURL:s,handleCalendarURLClick:this._navigateToCalendar,isValidInvite:this._isValidInvite()})}),r()(this,"_isValidInvite",()=>{const e=this.props,t=e.inviteInfo,a=void 0===t?{}:t,n=a.organizerEmail,s=a.attendees,i=e.senderEmailAddress;return!(!i||"string"!=typeof i||!this.props.inviteInfo)&&(!(!n||"string"!=typeof n||n.toLowerCase()!==i.toLowerCase())||s&&-1!==s.findIndex(e=>"string"==typeof e&&e.toLowerCase()===i.toLowerCase()))}),r()(this,"_getInviteInfo",()=>{const e=this.props;(0,e.getInviteInfo)({messageId:e.messageId,params:{downloadUrl:e.eventAttachment.downloadUrl,timezoneName:this.context.timezone.name}})}),r()(this,"_respondToInvite",e=>{const t=this.props;(0,t.respondToInvite)({response:e,oldResponse:t.inviteInfo.response,uid:t.uid,messageId:t.messageId,email:t.inviteInfo.email})}),r()(this,"_navigateToCalendar",()=>{const e=this.props;(0,e.navigateToCalendar)({messageId:e.messageId})})}componentDidMount(){this.props.inviteStatus||this._getInviteInfo()}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.inviteStatus,n=t.inviteInfo,s=t.compact,i=t.calendarURL,r=A()(U.a,{compact:s}),o={ERROR:d.a.createElement("div",{className:r.errorMessage},e(C.LOAD_ERROR)),LOADING:d.a.createElement("div",{className:r.loadingContainer},d.a.createElement(h.b,{size:h.a.S})),READY:d.a.createElement("div",{className:r.container},d.a.createElement(R,{inviteInfo:n,size:s?f.Sizes.L:f.Sizes.XL}),d.a.createElement("div",{className:r.content},d.a.createElement(O,{inviteInfo:n,compact:s,calendarURL:i,handleCalendarURLClick:this._navigateToCalendar,isValidInvite:this._isValidInvite()}),this.renderRsvpReply()))};return o[a]?d.a.createElement("div",{className:r.wrapper},o[a]):null}}r()(H,"contextTypes",{intl:_.intlShape,timezone:p.TimezoneType});t.default=Object(m.connect)((e,t)=>{const a=t.messageId,n=Object(E.selectors)(e),i=n.getFeaturesSelectors,r=n.getMessageBodiesSelectors,o=n.getMessageFromAddress,l=(0,n.getCalendarSelectors)(),c=i(),d=c.isEnabled(g.Eb.RSVP_RESPONSE),m=c.isEnabled(g.Eb.PARSE_RSVP_REPLY_LINKS),_=r(),u=l.getInviteStatus(a),p="READY"===u?l.getInviteUid(a):null,h=l.getInviteInfo(a),b=c.getSetting(g.Kd.CALENDAR_URL),f=_.doesMessageBodyExist(a)&&_.get(a),C=o(a)||[],S=s()(C,1)[0];return{messageBodyHtml:f&&f.html||"",rsvpResponseEnabled:d,parseRsvpReplyLinks:m,inviteStatus:u,inviteInfo:h,uid:p,calendarURL:b,senderEmailAddress:S&&S.email}},e=>({getInviteInfo:t=>e(Object(b.c)(t)),respondToInvite:t=>e(Object(b.e)(t)),navigateToCalendar:t=>e(Object(b.d)(t))}))(H)},function(e,t,a){"use strict";a.r(t),a.d(t,"mapStateToProps",(function(){return Z})),a.d(t,"mapDispatchToProps",(function(){return V})),a.d(t,"_ActionMenuItems",(function(){return q}));var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(13),_=a(12),u=a.n(_),p=a(6),h=a(10),g=a(63),E=a(117),b=a(1444),f=a.n(b);const C=u()(f.a);var S=e=>{const t=e.renderMarkAsUnread,a=e.renderMarkAsStarred,n=e.renderMarkAsUnstarred,s=e.renderBlockSenders,i=e.renderViewRawMessage,r=e.renderPrint,o=e.renderListSeparator,l=e.renderFilterMessagesLikeThis,c=e.renderUnsubscribe,m=e.renderAddToContacts,_=e.renderExtractionsFeedback;return d.a.createElement("div",{"data-test-id":"more-menu-list-container",className:C.container},d.a.createElement(g.a,{kind:E.a.MENU,focusOnMount:!0,"data-test-id":"more-menu",key:"more-menu",circularNavigation:!1},(0,e.renderMarkAsRead)("Shift+K"),t("K"),a("L"),n("Shift+L"),s(),o(),c(),l(),i(),r("P"),m(),_()))};const y=u()(f.a);var T=e=>{const t=e.renderReplyAll,a=e.renderForward,n=e.renderMarkAsRead,s=e.renderMarkAsUnread,i=e.renderMarkAsStarred,r=e.renderMarkAsUnstarred,o=e.renderBlockSenders,l=e.renderViewRawMessage,c=e.renderPrint,m=e.renderListSeparator,_=e.renderArchive,u=e.renderDelete,p=e.renderSpam,h=e.renderFilterMessagesLikeThis,b=e.renderUnsubscribe,f=e.renderAddToContacts;return d.a.createElement("div",{"data-test-id":"contextual-menu-list-container",className:y.container},d.a.createElement(g.a,{kind:E.a.MENU,focusOnMount:!0,"data-test-id":"contextual-menu",key:"contextual-menu",circularNavigation:!1,onEscape:e.onEscape},(0,e.renderReply)(),t(),a(),m(),n(),s(),i(),r(),o(),m(),_(),u(),p(),m(),b(),h(),l(),c(),f()))},v=a(0),I=a(5),M=a(16),A=a(32),N=a(495),k=a(125),O=Object(p.defineMessages)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},blockSenders:{id:"block_messages_from_senders",defaultMessage:"Block senders"},viewRawMessage:{id:"view_raw_message_title",defaultMessage:"View raw message"},viewNewestRawMessage:{id:"view_raw_message_newest",defaultMessage:"View newest raw message"},markedAsRead:{id:"marked_as_read",defaultMessage:"Message is already marked as read"},markedAsUnread:{id:"marked_as_unread",defaultMessage:"Message is already marked as unread"},markedAsStarred:{id:"marked_as_starred",defaultMessage:"Message is already marked as starred"},markedAsUnstarred:{id:"marked_as_unstarred",defaultMessage:"Message is already marked as not starred"},disableBlockSenders:{id:"disable_block_messages_from_senders",defaultMessage:"You may have reached the 1000 limit or the sender cannot be blocked"},disableViewRawMessage:{id:"disable_view_raw_message",defaultMessage:"raw message is not available"},printMessage:{id:"print_message_title",defaultMessage:"Print message"},printNewestMessage:{id:"print_message_newest",defaultMessage:"Print newest"},reply:{id:"message.toolbar.reply",defaultMessage:"Reply"},replyAll:{id:"message.toolbar.replyAll",defaultMessage:"Reply All"},forward:{id:"message.toolbar.forward",defaultMessage:"Forward"},archive:{id:"archive_icon_label",defaultMessage:"Archive"},restore:{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"},delete:{id:"delete_icon_label",defaultMessage:"Delete"},spam:{id:"spam_icon_label",defaultMessage:"Spam"},ham:{id:"not_spam_icon_label",defaultMessage:"Not Spam"},filterMessagesLikeThis:{id:"filter_messages_like_this",defaultMessage:"Filter messages like this..."},addToContacts:{id:"more_menu.add_to_contact",defaultMessage:"Add Sender to Contacts"},extractionsFeedback:{id:"more_menu.extractions_feedback",defaultMessage:"Give extractions feedback"}}),D=a(67),P=a(496),R=a(82),w=a(1442),F=a(8),x=a(1492),L=a(1493),B=a(1268),j=a(80),U=(a(9),a(24));const H=u()(f.a),W=v.U.Modes;class G extends c.Component{constructor(e){super(e),r()(this,"handleExtractionsFeedback",e=>{e.preventDefault(),setTimeout(()=>Object(k.a)(d.a.createElement(U.a,{bundleName:"feedback",import:"../../../feedback/atoms/feedback_modal",groupId:this.props.selectedGroupIds[0],_moduleLoader:function(){return a.e(3).then(a.bind(null,1410))},_moduleResolver:function(){return 1410}}),this.context),100)}),this.handleReply=this.handleReply.bind(this),this.handleReplyAll=this.handleReplyAll.bind(this),this.handleForward=this.handleForward.bind(this),this.handleViewRawMessage=this.handleViewRawMessage.bind(this),this.handleMarkAsRead=this.handleMarkAsRead.bind(this),this.handleMarkAsUnread=this.handleMarkAsUnread.bind(this),this.handleMarkAsStarred=this.handleMarkAsStarred.bind(this),this.handleMarkAsUnstarred=this.handleMarkAsUnstarred.bind(this),this.handleArchive=this.handleArchive.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleSpam=this.handleSpam.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.handlePrint=this.handlePrint.bind(this),this.renderBlockSendersDialog=this.renderBlockSendersDialog.bind(this),this.renderConfirmDialogForDelete=this.renderConfirmDialogForDelete.bind(this),this.renderFilterMessagesLikeThisDialog=this.renderFilterMessagesLikeThisDialog.bind(this),this.handleAddToContacts=this.handleAddToContacts.bind(this),this.handleExtractionsFeedback=this.handleExtractionsFeedback.bind(this),this.componentRenderers={renderMarkAsRead:this.renderMarkAsRead.bind(this),renderMarkAsUnread:this.renderMarkAsUnread.bind(this),renderMarkAsStarred:this.renderMarkAsStarred.bind(this),renderMarkAsUnstarred:this.renderMarkAsUnstarred.bind(this),renderBlockSenders:this.renderBlockSenders.bind(this),renderPrint:this.renderPrint.bind(this),renderViewRawMessage:this.renderViewRawMessage.bind(this),renderListSeparator:this.renderListSeparator.bind(this),renderReply:this.renderReply.bind(this),renderReplyAll:this.renderReplyAll.bind(this),renderForward:this.renderForward.bind(this),renderArchive:this.renderArchive.bind(this),renderDelete:this.renderDelete.bind(this),renderSpam:this.renderSpam.bind(this),renderFilterMessagesLikeThis:this.renderFilterMessagesLikeThis.bind(this),renderUnsubscribe:this.renderUnsubscribe.bind(this),renderAddToContacts:this.renderAddToContacts.bind(this),renderExtractionsFeedback:this.renderExtractionsFeedback.bind(this)}}componentDidMount(){const e=this.props,t=e.shouldFetchContactDetails,a=e.getContactDetails,n=e.emailIds;(e.enableBlockSenders||e.enableFilterMessagesLikeThis)&&e.settingsApiCallStatus!==v.od.LOADED&&(0,e.fetchFiltersAndBlockedSenders)(),t&&a({email:n[0],isCompose:!1})}handleReply(e){e.preventDefault();const t=this.props,a=t.listId,n=t.streamId;(0,t.onReplyForward)({i13nModel:Object.assign({mKey:I.g.TOOLBAR_REPLY,sec:I.i.MSG_LIST_CONTEXT_MENU,mKeyGroup:I.h.replyMsg,interactionType:Object(M.getInteractionFromEvent)(e)}),streamId:n,composeMode:W.REPLY,listId:a,triggeredFromContextMenu:!0})}handleReplyAll(e){e.preventDefault();const t=this.props,a=t.listId,n=t.streamId;(0,t.onReplyForward)({i13nModel:Object.assign({mKey:I.g.TOOLBAR_REPLYALL,sec:I.i.MSG_LIST_CONTEXT_MENU,mKeyGroup:I.h.replyAllMsg,interactionType:Object(M.getInteractionFromEvent)(e)}),streamId:n,composeMode:W.REPLY_ALL,listId:a,triggeredFromContextMenu:!0})}handleForward(e){e.preventDefault();const t=this.props,a=t.listId,n=t.streamId;(0,t.onReplyForward)({i13nModel:Object.assign({mKey:I.g.TOOLBAR_FORWARD,sec:I.i.MSG_LIST_CONTEXT_MENU,mKeyGroup:I.h.forwardMsg,interactionType:Object(M.getInteractionFromEvent)(e)}),streamId:n,composeMode:W.FORWARD,listId:a,triggeredFromContextMenu:!0})}handleViewRawMessage(e){e.preventDefault();const t=this.props;(0,t.viewRawMessage)({messageGroupIds:t.selectedGroupIds,i13nModel:{mKey:I.g.TOOLBAR_VIEW_RAW,interactionType:Object(M.getInteractionFromEvent)(e),sec:I.i.MSG_LIST_CONTEXT_MENU}})}handleMarkAsRead(e){e.preventDefault();const t=this.props,a=t.streamId;(0,t.onRead)({i13nModel:{mKey:I.g.TOOLBAR_MARK_READ,interactionType:Object(M.getInteractionFromEvent)(e),mKeyGroup:I.h.markRead,sec:I.i.MSG_LIST_CONTEXT_MENU},streamId:a,triageActionType:v.ye.READ_CHANGE_SELECTED_ITEMS})}handleMarkAsUnread(e){e.preventDefault();const t=this.props,a=t.streamId;(0,t.onUnread)({i13nModel:{mKey:I.g.TOOLBAR_MARK_UNREAD,interactionType:Object(M.getInteractionFromEvent)(e),mKeyGroup:I.h.markUnread,sec:I.i.MSG_LIST_CONTEXT_MENU},streamId:a,triageActionType:v.ye.READ_CHANGE_SELECTED_ITEMS})}handleMarkAsStarred(e){e.preventDefault();const t=this.props,a=t.streamId;(0,t.onStar)({i13nModel:{mKey:I.g.TOOLBAR_MARK_STARRED,interactionType:Object(M.getInteractionFromEvent)(e),mKeyGroup:I.h.markStar,sec:I.i.MSG_LIST_CONTEXT_MENU},streamId:a,triageActionType:v.ye.STAR_CHANGE_SELECTED_ITEMS})}handleMarkAsUnstarred(e){e.preventDefault();const t=this.props,a=t.streamId;(0,t.onUnstar)({i13nModel:{mKey:I.g.TOOLBAR_MARK_UNSTARRED,interactionType:Object(M.getInteractionFromEvent)(e),mKeyGroup:I.h.markUnstar,sec:I.i.MSG_LIST_CONTEXT_MENU},streamId:a,triageActionType:v.ye.STAR_CHANGE_SELECTED_ITEMS})}handlePrint(e){e.preventDefault();const t=this.props,a=t.streamId,n=t.listId;(0,t.onPrint)({i13nModel:{mKey:I.g.TOOLBAR_PRINT,interactionType:Object(M.getInteractionFromEvent)(e)},streamId:a,listId:n})}handleArchive(e){e.preventDefault();const t=this.props,a=t.onArchive,n=t.moveToInbox,s=t.streamId,i=t.enabledActionsForFolderType,r=!i.archive&&i.restore,o={mKey:r?I.g.TOOLBAR_RESTORE:I.g.TOOLBAR_ARCHIVE,sec:I.i.MSG_LIST_CONTEXT_MENU,mKeyGroup:r?I.h.restore:I.h.archiveMsg,interactionType:Object(M.getInteractionFromEvent)(e)};r?n({streamId:s,triageActionType:v.ye.RESTORE_SELECTED_ITEMS,i13nModel:o}):a({streamId:s,triageActionType:v.ye.ARCHIVE_SELECTED_ITEMS,i13nModel:o})}handleDelete(e){e.preventDefault();const t=this.props,a=t.onDelete,n=t.streamId,s=t.enabledActionsForFolderType,i=t.isBulkAction,r=!s.delete&&s.permDelete,o={mKey:I.g.TOOLBAR_DELETE,sec:I.i.MSG_LIST_CONTEXT_MENU,mKeyGroup:I.h.deleteMsg,interactionType:Object(M.getInteractionFromEvent)(e)};r||i?this.renderConfirmDialogForDelete(r?w.a.PERM_DELETE:w.a.DELETE):a({streamId:n,triageActionType:v.ye.DELETE_SELECTED_ITEMS,i13nModel:o})}handleSpam(e){e.preventDefault();const t=this.props,a=t.onSpam,n=t.moveToInbox,s=t.streamId,i=t.enabledActionsForFolderType.spam,r={mKey:i?I.g.TOOLBAR_SPAM:I.g.TOOLBAR_NOT_SPAM,sec:I.i.MSG_LIST_CONTEXT_MENU,mKeyGroup:i?I.h.markSpam:I.h.markUnspam,interactionType:Object(M.getInteractionFromEvent)(e)};i?a({streamId:s,triageActionType:v.ye.SPAM_SELECTED_ITEMS,i13nModel:r}):n({streamId:s,triageActionType:v.ye.NOT_SPAM_SELECTED_ITEMS,i13nModel:r})}handleAddToContacts(e){e.preventDefault();const t=this.props;t.enableAddToContacts&&this.props.addToContacts({email:t.emailIds[0],isCompose:!1,name:v.pd.CONTACTS_PANE,id:t.idForSender,i13nModel:{mKey:I.g.TOOLBAR_ADD_TO_CONTACTS,sec:I.i.MSG_LIST_CONTEXT_MENU,interactionType:Object(M.getInteractionFromEvent)(e)}})}handleKeydown(e,t){/^( |Enter)$/.test(t.key)&&(t.preventDefault(),e(t))}renderOption({isEnabled:e,name:t,handler:a,labelId:n,shortcutLabel:s}){const i=(0,this.context.intl.formatMessage)(O[n]);return e?d.a.createElement(A.a,{name:t,"data-test-id":t,title:i},d.a.createElement("a",{tabIndex:-1,onClick:a,onKeyDown:e=>this.handleKeydown(a,e),className:H.button},d.a.createElement("span",{className:H.label,title:i},i),s?d.a.createElement("span",null,s):null)):null}renderReply(e){return this.renderOption({isEnabled:this.props.enableSingleGroupActions,name:"reply-message",handler:this.handleReply,labelId:"reply",shortcutLabel:e})}renderReplyAll(e){return this.renderOption({isEnabled:this.props.enableSingleGroupActions,name:"reply-all-message",handler:this.handleReplyAll,labelId:"replyAll",shortcutLabel:e})}renderForward(e){return this.renderOption({isEnabled:this.props.enableSingleGroupActions,name:"forward-message",handler:this.handleForward,labelId:"forward",shortcutLabel:e})}renderMarkAsRead(e){return this.renderOption({isEnabled:this.props.enableMarkAsRead,name:"mark-as-read",handler:this.handleMarkAsRead,labelId:"markAsRead",shortcutLabel:e})}renderMarkAsUnread(e){return this.renderOption({isEnabled:this.props.enableMarkAsUnread,name:"mark-as-unread",handler:this.handleMarkAsUnread,labelId:"markAsUnread",shortcutLabel:e})}renderMarkAsStarred(e){return this.renderOption({isEnabled:this.props.enableStar,name:"mark-as-starred",handler:this.handleMarkAsStarred,labelId:"markAsStarred",shortcutLabel:e})}renderMarkAsUnstarred(e){return this.renderOption({isEnabled:this.props.enableUnstar,name:"mark-as-unstarred",handler:this.handleMarkAsUnstarred,labelId:"markAsUnstarred",shortcutLabel:e})}renderBlockSenders(){const e=this.props,t=e.enableBlockSenders,a=e.settingsApiCallStatus,n=(0,this.context.intl.formatMessage)(O.blockSenders);return t?d.a.createElement(A.a,{name:"block-senders","data-test-id":"block-senders",title:n},d.a.createElement("a",{tabIndex:-1,onClick:this.renderBlockSendersDialog,onKeyDown:e=>this.handleKeydown(this.renderBlockSendersDialog,e),className:u()(f.a,{disabled:a!==v.od.LOADED}).button},d.a.createElement("span",{className:H.label,title:n},n))):null}renderBlockSendersDialog(){Object(k.a)(d.a.createElement(N.a,{messageGroupIds:this.props.selectedGroupIds,listId:this.props.listId}),this.context)}renderConfirmDialogForDelete(e){const t=this.props,a=t.folderType,n=t.listId,s=t.selectedGroupIds,i=t.streamId,r=t.conversations;Object(k.a)(d.a.createElement(x.a,{selectedGroupIds:s,streamId:i,listId:n,allItemsCount:0,doSelectAll:!1,folderType:a,conversations:r,contextMenuAction:e}),this.context)}renderArchive(e){const t=this.props,a=t.enabledActionsForFolderType,n=a.archive,s=a.restore,i=!n&&s;return this.renderOption({isEnabled:t.enableTriageActions&&(n||s),name:i?"restore-message":"archive-mesage",handler:this.handleArchive,labelId:i?"restore":"archive",shortcutLabel:e})}renderDelete(e){return this.renderOption({isEnabled:this.props.enableTriageActions,name:"delete-message",handler:this.handleDelete,labelId:"delete",shortcutLabel:e})}renderSpam(e){const t=this.props,a=t.enabledActionsForFolderType,n=a.spam;return this.renderOption({isEnabled:t.enableTriageActions&&(n||a.ham),name:n?"mark-as-spam-message":"mark-not-spam-mesage",handler:this.handleSpam,labelId:n?"spam":"ham",shortcutLabel:e})}renderUnsubscribe(){const e=this.props.messageIds;return 1===e.length&&d.a.createElement(A.a,{name:"unsubscribe-message","data-test-id":"unsubscribe-message"},d.a.createElement(B.default,{messageId:e[0],menuMode:!0}))}renderFilterMessagesLikeThis(){const e=this.props,t=e.enableFilterMessagesLikeThis,a=e.settingsApiCallStatus,n=(0,this.context.intl.formatMessage)(O.filterMessagesLikeThis);return t?d.a.createElement(A.a,{name:"filter-messages-like-this","data-test-id":"filter-messages-like-this",title:n},d.a.createElement("a",{tabIndex:-1,onClick:this.renderFilterMessagesLikeThisDialog,onKeyDown:e=>this.handleKeydown(this.renderFilterMessagesLikeThisDialog,e),className:u()(f.a,{disabled:a!==v.od.LOADED}).button},d.a.createElement("span",{className:H.label,title:n},n))):null}renderFilterMessagesLikeThisDialog(){const e=this.props.messageIds;0!==e.length&&Object(k.a)(d.a.createElement(L.a,{messageId:e[0]}),this.context)}renderAddToContacts(){const e=this.props,t=e.showAddToContacts,a=e.enableAddToContacts,n=(0,this.context.intl.formatMessage)(O.addToContacts);return t?d.a.createElement(c.Fragment,null,d.a.createElement(A.a,{className:H.separator}),d.a.createElement(A.a,{name:"add-to-contacts","data-test-id":"add-to-contacts",title:n},d.a.createElement("a",{tabIndex:-1,onClick:this.handleAddToContacts,onKeyDown:e=>this.handleKeydown(this.handleAddToContacts,e),className:u()(f.a,{disabled:!a}).button},d.a.createElement("span",{className:H.label,title:n},n)))):null}renderExtractionsFeedback(){const e=this.props,t=e.enableExtractionsFeedback,a=e.selectedGroupIds,n=e.selectedItemsCount,s=-1!==[v.ed.BOTTOM,v.ed.RIGHT].indexOf(e.previewpane),i=t&&s&&0===n&&1===a.length,r=(0,this.context.intl.formatMessage)(O.extractionsFeedback);return i?d.a.createElement(c.Fragment,null,d.a.createElement(A.a,{className:H.separator}),d.a.createElement(A.a,{name:"extractions-feedback","data-test-id":"extractions-feedback",title:r},d.a.createElement("a",{tabIndex:-1,onClick:this.handleExtractionsFeedback,onKeyDown:e=>this.handleKeydown(this.handleExtractionsFeedback,e),className:H.button},d.a.createElement("span",{className:H.label,title:r},r)))):null}renderPrint(e){const t=this.props;return this.renderOption({isEnabled:t.enableSingleGroupActions,name:"print-message",handler:this.handlePrint,labelId:t.isSingleMessage?"printMessage":"printNewestMessage",shortcutLabel:e})}renderViewRawMessage(){const e=this.props;return this.renderOption({isEnabled:e.enableSingleGroupActions,name:"raw-message",handler:this.handleViewRawMessage,labelId:e.isSingleMessage?"viewRawMessage":"viewNewestRawMessage",shortcutLabel:void 0})}renderListSeparator(){return this.props.enableSingleGroupActions?d.a.createElement(A.a,{className:H.separator}):null}render(){const e=this.props,t=e.onEscape;return e.contextualMenu?d.a.createElement(T,s()({},this.componentRenderers,{onEscape:t})):d.a.createElement(S,this.componentRenderers)}}G.defaultProps={contextualMenu:!1},G.contextTypes={intl:p.intlShape.isRequired,getCss:l.a.func,getTheme:l.a.func,getThemeMode:l.a.func,executeAction:l.a.func,getStore:l.a.func,store:l.a.object,navigateTo:l.a.func};const Z=(e,t)=>{const a=Object(h.selectors)(e),n=a.getFeaturesSelectors,s=a.getMessageFlags,i=a.getMessageIdsFromMessageGroupId,r=a.getSenderEmailIdsFromMessageGroup,o=a.getSettingsSelectors,l=a.isDraftMessage,c=a.doesStreamExist,d=a.getSelectedStreamItems,m=a.getCursorItem,_=a.doesFolderIdExist,u=a.getPrimaryFolderTypeByFolderId,p=a.getParticipant,g=a.getSelectedAccountId,E=a.getPrimaryAccountId,b=a.getContactListSelectors,f=t.listId,C=t.contextualMenu,S=t.streamId,y=c(S)?d(S):[],T=c(S)?m(S):void 0,I=y.length>0?y:[];T&&0===y.length&&I.push(T);const M=I.map(({id:e})=>e),A=n(),N=r(M),k=A.getSetting(v.Kd.DELIVERY_BLOCKED_SENDERS),O=A.isEnabled(v.Kd.CONVERSATIONS),R=A.getSetting(v.Kd.BULK_ACTION_DIALOG_THRESHOLD),w=M.length>=R,x=1===M.length,L=x?i(M[0]):[],B=1===L.length,j=o().getFiltersAndBlockedSendersApiCallStatus,U=x&&!l(L[0]),H=A.isEnabled(v.Eb.BLOCK_SENDERS)&&N.length>0&&k.length<v.Ld.blockedSenders;let W=!1,G=!1,Z=!1,V=!1;const q=b(),z=q.isUserAddedContact,Y=(0,q.getContactIdByEmail)(N[0]);if(A.isEnabled(v.Eb.FILTER_MESSAGES_LIKE_THIS)&&U){const e=p(L[0]),t=A.getSetting(v.Kd.MESSAGE_FILTERS),a=A.isEnabled(v.Eb.ADD_EDIT_FROM_LIST_CARD);if(W=E()===g()&&e&&e.email&&t.length<v.Ld.filters,a){let e=!1,t=!1;void 0===N[0]?e=!0:t=z(Y),G=B&&!e,Z=G&&!t,V=Z&&!Y}}let K,X=v.od.LOADING;(H||W)&&(X=j());let Q={};if(C){const e=Object(F.q)(f);e&&_(e)&&(K=u(e)),Q=Object(P.a)({kind:D.c.LIST,primaryFolderType:K,listContentType:v.ac.MESSAGES})}const J=A.isEnabled(v.Eb.EXTRACTIONS_FEEDBACK);return{isSingleMessage:B,settingsApiCallStatus:X,selectedGroupIds:M,enableMarkAsRead:!x||L.some(e=>!s(e).read),enableMarkAsUnread:!x||L.some(e=>s(e).read),enableStar:!x||L.some(e=>!s(e).flagged),enableUnstar:!x||L.some(e=>s(e).flagged),enableBlockSenders:H,enableFilterMessagesLikeThis:W,enableSingleGroupActions:U,enableTriageActions:M.length>0,folderType:K,enabledActionsForFolderType:Q,isBulkAction:w,conversations:O,messageIds:L,showAddToContacts:G,enableAddToContacts:Z,shouldFetchContactDetails:V,emailIds:N,idForSender:Z?Y:null,enableExtractionsFeedback:J}},V=e=>({fetchFiltersAndBlockedSenders:t=>e(Object(R.q)(t)),addToContacts:t=>e(Object(j.a)(t)),getContactDetails:t=>e(Object(j.e)(t))}),q=G;t.default=Object(m.connect)(Z,V)(G)},function(e,t,a){"use strict";a.r(t),a.d(t,"Stationery",(function(){return X})),a.d(t,"mapStateToProps",(function(){return Q})),a.d(t,"mapDispatchToProps",(function(){return J}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(28),d=a(6),m=a(13),_=a(10),u=a(608),p=a(69),h=a(0),g=a(1745),E=a.n(g),b=a(12),f=a.n(b);const C=f()(E.a),S=Object(d.defineMessages)({featured:{id:"featured",defaultMessage:"Featured"},everyday:{id:"everyday",defaultMessage:"Everyday"},birthday:{id:"birthday",defaultMessage:"Birthday"},seasonal:{id:"seasonal",defaultMessage:"Seasonal"}});class y extends l.a.Component{constructor(...e){super(...e),s()(this,"handleClick",e=>{e!==this.props.selectedCategory&&this.props.onCategoryChange(e)}),s()(this,"renderCategories",()=>{const e=this.context.intl.formatMessage,t=this.props.selectedCategory;return Object.keys(h.ae).map(a=>{const n=a===t,s=f()(E.a,{selected:n}),i=e(S[a]);return l.a.createElement("li",{key:a,className:s.category,onClick:this.handleClick.bind(this,a),title:i},l.a.createElement("span",null,i))})})}render(){return l.a.createElement("div",{className:C.categoryContainer},l.a.createElement("ul",{className:C.categoryList},this.renderCategories()))}}s()(y,"contextTypes",{intl:d.intlShape.isRequired});var T=y,v=a(1746),I=a.n(v);const M=f()(I.a),A=Object(d.defineMessages)({default_text:{id:"compose.default_text",defaultMessage:"Default"},clear_text:{id:"compose.clear_text",defaultMessage:"Clear"},none_text:{id:"compose.none_text",defaultMessage:"None"}});var N=class extends l.a.Component{constructor(...e){super(...e),s()(this,"renderThumbnailImage",()=>{const e=this.props.defaultThemeObject;return e.uniqueId?l.a.createElement("img",{"data-test-id":"default-theme-thumbnail",className:M.themeThumbnailImage,src:e.url}):l.a.createElement("div",{className:M.themeThumbnailImage})}),s()(this,"_onDefaultThemeChange",e=>{e.stopPropagation(),this.props.onDefaultThemeChange()})}render(){const e=this.props.defaultThemeObject;return l.a.createElement("div",{className:M.defaultThemeContainer},l.a.createElement("div",{className:M.defaultText},l.a.createElement(d.FormattedMessage,A.default_text)),this.renderThumbnailImage(),e.uniqueId?l.a.createElement("div",{"data-test-id":"clear-default-button",className:M.clearText,onClick:this._onDefaultThemeChange},l.a.createElement(d.FormattedMessage,A.clear_text)):l.a.createElement("div",{className:M.noneText},l.a.createElement(d.FormattedMessage,A.none_text)))}},k=a(1747),O=a.n(k),D=a(1490),P=(a(9),a(29));const R=Object(d.defineMessages)({clear_default:{id:"compose.clear_default",defaultMessage:"Clear Default"},set_as_default:{id:"compose.set_as_default",defaultMessage:"Set as Default"}});class w extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{isHovered:!1}),s()(this,"handleHover",e=>{this.setState({isHovered:e})}),s()(this,"handleItemClick",e=>{this.props.onItemChange(e)})}render(){const e=this.props,t=e.item,a=e.isSelected,n=e.isDefault,s=e.toolbarKind,i=this.context.intl.locale,r="en"!==Object(D.a)(i),o=this.state.isHovered,c=f()(O.a,{selected:a,hideStationeryTitle:r,toolbarKind:s}),m=a&&o&&n,_=this.props.showSetDefault&a&&o&&!n;return l.a.createElement("div",{"data-test-id":"stationery-carousel-item",onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),onClick:this.handleItemClick.bind(this,t.uniqueId),className:c.item},l.a.createElement("div",{className:c.thumbnailContainer},m?l.a.createElement("div",{"data-test-id":"clear-default-button",className:c.selectionOverlay,onClick:e=>{e.stopPropagation(),this.props.onDefaultItemClear()}},l.a.createElement(d.FormattedMessage,R.clear_default)):null,_?l.a.createElement("div",{"data-test-id":"set-default-button",className:c.selectionOverlay,onClick:e=>{e.stopPropagation(),this.props.onDefaultItemChange(t.uniqueId)}},l.a.createElement(d.FormattedMessage,R.set_as_default)):null,l.a.createElement("img",{className:c.itemThumbnailImage,src:t.url})),r?null:l.a.createElement("span",{className:c.itemName,title:t.themeDisplayName},t.themeDisplayName),l.a.createElement("span",{className:c.itemProviderName,title:t.themeProviderName},t.themeProviderName))}}s()(w,"defaultProps",{showSetDefault:!0}),s()(w,"contextTypes",{intl:d.intlShape.isRequired});var F=w,x=a(1748),L=a.n(x),B=a(600),j=a.n(B),U=a(21),H=a(5),W=a(4),G=a(185),Z=a.n(G);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const z=120,Y=92,K=Object(d.defineMessages)({close:{id:"stationery_popup.btn_close",defaultMessage:"Close"}});class X extends l.a.Component{constructor(e,t){super(e,t),s()(this,"getInitialSelectedCategory",e=>{const t=this.props,a=(0,t.getThemeConfig)(e,t.defaultTheme);if(a){const e=a.categories;return(void 0===e?"":e).split(",")[0]}return Object.keys(h.ae)[0]}),s()(this,"handleCategoryChange",e=>{this.setState({selectedCategory:e},()=>{this._carousel.setAnimation(!1),this._carousel.setOffset(0)})}),s()(this,"updateTheme",e=>{e!==this.state.selectedTheme&&(this.setState({selectedTheme:e}),this._carousel.setAnimation(!0));const t=this.props.getThemeConfig(e,this.props.defaultTheme);this.props.onThemeChange(e?t:null,this._getI13nModel(t))}),s()(this,"_getI13nModel",e=>e?{mKey:H.g.COMPOSE_ADD_STATIONERY,sec:H.i.RTE_TOOLBAR,actionData:{uniqueThemeName:e.uniqueThemeName}}:{mKey:H.g.COMPOSE_CLEAR_STATIONERY,sec:H.i.RTE_TOOLBAR}),s()(this,"handleClearStationery",()=>{this.updateTheme(null)}),s()(this,"handleClearDefaultStationery",()=>{this.props.defaultTheme===this.state.selectedTheme&&this.props.onThemeChange(this.props.getThemeConfig(this.state.selectedTheme,"")),this.props.handleDefaultThemeChange({nextTheme:"",i13nModel:this._getI13nModel()})}),s()(this,"setDefaultStationery",e=>{const t=this.props.getThemeConfig(this.state.selectedTheme,e);this.props.onThemeChange(t),this.props.handleDefaultThemeChange({nextTheme:t.uniqueThemeName,i13nModel:this._getI13nModel(t)})}),s()(this,"getItems",()=>{const e=this.props;return j.a.getByCategories([this.state.selectedCategory,...e.categoriesToShow],{locale:this.context.intl.locale,showRestrictedThemes:e.stationeryRestrictedThemes,enableThemeDateRange:!0}).map(this._themeObjectMapper)}),s()(this,"getDefaultThemeObject",()=>{for(const e in j.a.config.stationeryThemes){const t=j.a.config.stationeryThemes[e];if(t.uniqueThemeName===this.props.defaultTheme)return this._themeObjectMapper(q({},t,{themeVersion:j.a.config.themeVersions[e]}))}return{}}),s()(this,"_themeObjectMapper",e=>{const t=e.uniqueThemeName;return{uniqueId:t,url:`${j.a.config.stationeryMobThmPath}${e.themeVersion}/${t}/${e.thmbnailImg}`,themeDisplayName:e.themeDisplayName,themeProviderName:e.themeProviderName}}),s()(this,"getCurrentIndex",e=>{const t=this.state.selectedTheme;return t?e.findIndex(e=>e.uniqueId===t):-1}),s()(this,"navigate",e=>{const t=this.getItems(),a=this.getCurrentIndex(t)+e;a>=0&&a<t.length&&this.updateTheme(t[a].uniqueId)}),s()(this,"handleKeyDown",(e={})=>{switch(e.key){case"ArrowLeft":this.navigate(-1);break;case"ArrowRight":this.navigate(1);break;case"Escape":case"Enter":this.props.onHide();break;default:return}e.stopPropagation(),e.preventDefault()}),s()(this,"_navigateIfElementNotInTheView",(e,t)=>{const a=e.getBoundingClientRect(),n=t.getBoundingClientRect(),s=n.left+n.width,i=a.left+a.width;a.left<n.left?this._carousel.navHandle(u.a.PREV,n.width-a.width):s<i&&this._carousel.navHandle(u.a.NEXT,a.left-n.left-a.width)}),s()(this,"_handleSelectedNode",(e,t)=>{e&&this.state.selectedTheme===t.uniqueId&&this.selectedItem!==e&&this._carousel&&this._carousel.carousel&&(this.selectedItem=e,this._navigateIfElementNotInTheView(Object(c.findDOMNode)(this.selectedItem),Object(c.findDOMNode)(this._carousel.carousel)))}),s()(this,"renderItem",e=>l.a.createElement(F,{item:e,isDefault:this.props.defaultTheme===e.uniqueId,isSelected:this.state.selectedTheme===e.uniqueId,onDefaultItemClear:this.handleClearDefaultStationery,onDefaultItemChange:this.setDefaultStationery,onItemChange:this.updateTheme,toolbarKind:this.props.toolbarKind,showSetDefault:this.props.showStationerySetDefault,ref:t=>this._handleSelectedNode(t,e)})),s()(this,"renderItems",()=>this.getItems().map((e,t)=>l.a.createElement("div",{key:e.uniqueId+t},this.renderItem(e)))),s()(this,"handleXButtonHover",e=>{this.setState({xButtonHovered:"mouseenter"===e.type})}),s()(this,"_setCarouselReference",e=>{e&&e!==this._carousel&&(this._carousel=e)}),s()(this,"_carouselDidMount",()=>{this.forceUpdate()}),s()(this,"stopPropagation",e=>{e.stopPropagation()});const a=e.selectedTheme||e.defaultTheme,n=e.selectedCategory||this.getInitialSelectedCategory(a);this.handleKeyDown=Z()(this.handleKeyDown,100),this.state={selectedTheme:a,selectedCategory:n,xButtonHovered:!1}}static getDerivedStateFromProps(e,t){return e.selectedTheme!==t.selectedTheme?{selectedTheme:e.selectedTheme}:null}render(){const e=this.state,t=e.selectedCategory,a=e.selectedTheme,n=this.props,s=n.rtl,i=n.width,r=n.left,o=n.right,c=n.bottom,m=n.showDefaultTheme,_=n.showThemeCategories,p=n.toolbarKind,h=n.isRTL,g=!(!a||a===P.NO_STATIONERY),E=this.context.intl.formatMessage,b=f()(L.a,{toolbarKind:p});return l.a.createElement("section",{ref:e=>(this._stationeryContainer=e)&&(!(c>0)||this._stationeryContainer.focus()),"data-test-id":"stationery-menu",onClick:this.stopPropagation,className:b.wrapperContainer,tabIndex:0,onKeyDown:this.handleKeyDown,style:q({width:Math.max(i,P.STATIONERY_MIN_WIDTH)+"px"},!h&&{left:r+window.scrollX+"px"},{},h&&{right:window.innerWidth-o-window.scrollX+"px"},{bottom:c+"px"})},m?l.a.createElement(N,{defaultThemeObject:this.getDefaultThemeObject(),onDefaultThemeChange:this.handleClearDefaultStationery}):null,_?l.a.createElement(T,{selectedCategory:t,onCategoryChange:this.handleCategoryChange}):null,l.a.createElement("div",{className:b.stationeryContainer},l.a.createElement("div",{className:b.clearStationeryButtonContainer},g?l.a.createElement("span",{"data-test-id":"clear-stationery",className:b.clearStationeryButton,onClick:this.handleClearStationery},l.a.createElement(d.FormattedMessage,{id:"compose.clear_stationery",defaultMessage:"Clear Stationery"})):null,l.a.createElement("span",{className:b.closeWrapper,onMouseEnter:this.handleXButtonHover,onMouseLeave:this.handleXButtonHover},l.a.createElement(U.default,{"data-iskeynav":!0,"data-test-id":"stationery-close-button",kind:W.Kinds.CLOSE,size:W.Sizes.XXS,onClick:this.props.onHide,title:E(K.close),colorState:this.state.xButtonHovered?W.ColorStates.NORMAL:W.ColorStates.DISABLED}))),l.a.createElement("div",{className:b.carouselContainer},l.a.createElement(u.b,{itemWidth:p===P.ToolbarTypes.VACATION_RESPONSE_SETTINGS?Y:z,toolbarKind:p,rtl:s,initialAnimation:!1,ref:this._setCarouselReference,didMount:this._carouselDidMount,isRTL:h},this.renderItems()))))}}s()(X,"contextTypes",{executeAction:r.a.func,config:r.a.object.isRequired,intl:d.intlShape.isRequired}),s()(X,"defaultProps",{left:0,width:0,bottom:0,showDefaultTheme:!0,showThemeCategories:!0,categoriesToShow:[]});const Q=e=>({isRTL:"rtl"===(0,Object(_.selectors)(e).getEnvironmentSelectors)().getPageDirection()}),J=e=>({handleDefaultThemeChange:({nextTheme:t,i13nModel:a})=>e(Object(p.b)({name:h.Kd.STATIONERY_DEFAULT_THEME,value:t,i13nModel:a}))});t.default=Object(m.connect)(Q,J)(X)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"UnsubscribeButton",(function(){return D})),a.d(t,"mapStateToProps",(function(){return P}));var n=a(1),s=a.n(n),i=a(7),r=a.n(i),o=a(13),l=a(6),c=a(10),d=a(1755),m=a.n(d),_=a(5),u=a(18),p=a(1756),h=a.n(p),g=a(21),E=a(4),b=a(25),f=a(11),C=a(107),S=a(16),y=a(261),T=a(45);const v=Object(l.defineMessages)({confirm:{id:"unsubscribe_confirm.unsubscribe",defaultMessage:"Unsubscribe"},cancel:{id:"unsubscribe_confirm.cancel",defaultMessage:"Cancel"},ok:{id:"unsubscribe_confirm.ok",defaultMessage:"OK"},close:{id:"unsubscribe_confirm.close",defaultMessage:"close"},explanation:{id:"unsubscribe_confirm.explanation",defaultMessage:"We will send an unsubscribe request to this sender. You may continue to receive emails from this sender until they remove you from the list."}});class I extends s.a.Component{constructor(){super(),this.handleConfirm=this.handleConfirm.bind(this),this.handleDialogDismiss=this.handleDialogDismiss.bind(this)}handleConfirm(e){const t=this.props,a=t.unsubscribeByEmailRequested,n=t.messageId,s={interactionType:Object(S.getInteractionFromEvent)(e),mKey:_.g.UNSUB_CONFIRM,sec:_.i.UNSUB_PANE,mKeyGroup:_.h.unsub};e.stopPropagation(),e.preventDefault(),a({i13nModel:s,messageId:n}),this.props.onClose()}handleDialogDismiss(e){const t={interactionType:Object(S.getInteractionFromEvent)(e),mKey:_.g.UNSUB_DISMISS,sec:_.i.UNSUB_PANE};e.stopPropagation(),e.preventDefault(),T.b.sendI13nModel(t),this.props.onClose()}renderMainContent(e){const t=this.context.intl.formatMessage;return s.a.createElement("div",{className:e.mainContent,"data-test-id":"unsubscribe-popup-confirm"},s.a.createElement("div",null,s.a.createElement("div",{className:e.text},s.a.createElement(l.FormattedMessage,{id:"unsubscribe_confirm.text",defaultMessage:"Unsubscribe from {email}?",values:{email:s.a.createElement("span",{style:{fontWeight:f.r}},this.props.fromAddress)}})),s.a.createElement("div",{className:e.explanation},t(v.explanation))),s.a.createElement("div",{className:e.bottom},s.a.createElement(u.a,{onClick:this.handleConfirm,marginLess:!0,"arial-label":t(v.confirm),title:t(v.confirm),"data-test-id":"unsubscribe-popup-confirm-btn",style:{padding:`${1.5*f.G}px ${5*f.G}px`}},s.a.createElement("div",{className:e.buttonText},t(v.confirm))),s.a.createElement(u.a,{className:e.cancel,onClick:this.handleDialogDismiss,kind:b.a.SECONDARY_BORDERLESS,"arial-label":t(v.cancel),title:t(v.cancel),"data-test-id":"unsubscribe-popup-cancel-btn"},s.a.createElement("div",{className:e.buttonText},t(v.cancel)))))}render(){const e=(0,this.context.getCss)(h.a),t=this.context.intl.formatMessage;return s.a.createElement(C.a,{onClose:this.handleDialogDismiss},s.a.createElement("div",{className:e.container,"data-test-id":"unsubscribe-popup"},this.renderMainContent(e),s.a.createElement("div",{className:e.close},s.a.createElement(g.default,{kind:E.Kinds.CLOSE,size:E.Sizes.XS,onClick:this.handleDialogDismiss,title:t(v.close),"data-test-id":"unsubscribe-popup-close-btn"}))))}}I.contextTypes={getCss:r.a.func,intl:l.intlShape.isRequired};var M=Object(o.connect)(void 0,e=>({unsubscribeByEmailRequested:t=>e(Object(y.e)(t))}))(I),A=a(125),N=a(0),k=a(36);const O=Object(l.defineMessages)({label:{id:"unsubscribe_button.unsubscribe",defaultMessage:"Unsubscribe"},subject:{id:"unsubscribe_button.subject",defaultMessage:"Unsubscribe"},body:{id:"unsubscribe_button.body",defaultMessage:"Please unsubscribe and remove me from this email list immediately."}});class D extends s.a.Component{constructor(){super(),this.handleClick=this.handleClick.bind(this)}handleClick(e){const t=this.props.menuMode,a=this.renderPopup(),n={interactionType:Object(S.getInteractionFromEvent)(e),mKey:_.g.UNSUB_BUTTON,sec:t?_.i.MSG_READ_TOOLBAR:_.i.MSG_HEADER};e.preventDefault(),e.stopPropagation(),T.b.sendI13nModel(n),Object(A.a)(a,this.context)}renderPopup(){const e=this.props;return s.a.createElement(M,{onClose:()=>{},fromAddress:e.fromAddress.email,messageId:e.messageId})}renderAnchor(e,t){return s.a.createElement("span",{className:e.container},s.a.createElement("a",{className:e.button,onClick:this.handleClick,"aria-label":t,title:t,"data-test-id":"unsubscribe-button"},t))}renderMenuItem(e){return s.a.createElement(u.a,{onClick:this.handleClick,kind:b.a.MENUITEM,title:e,"data-test-id":"unsubscribe-menu-item"},e)}render(){const e=this.props,t=e.showUnsubscribe,a=e.unsubscribeEnabled,n=e.cardExpanded,s=e.menuMode,i=(0,this.context.intl.formatMessage)(O.label);if(a&&t){const e=(0,this.context.getCss)(m.a,{cardExpanded:n,menuMode:s});return s?this.renderMenuItem(i):this.renderAnchor(e,i)}return null}}D.defaultProps={cardExpanded:!0,menuMode:!1},D.contextTypes={getCss:r.a.func,intl:l.intlShape,store:r.a.object.isRequired,executeAction:r.a.func,getStore:r.a.func};const P=(e,t)=>{const a=t.message,n=t.messageId,s=t.cardExpanded,i=void 0===s||s,r=Object(c.selectors)(e),o=r.getMessagesSelectors,l=r.isSpamMessage,d=r.isTrashMessage,m=(0,r.getFeaturesSelectors)().isEnabled(N.Eb.UNSUBSCRIBE_FROM_MESSAGE),_=n||a.id;return{showUnsubscribe:_&&Object(k.l)(o().getDecos(_),N.Cc.USB)&&i&&!l(_)&&!d(_),unsubscribeEnabled:m,fromAddress:_&&o().getFromAddresses(_)[0],messageId:_}};t.default=Object(o.connect)(P,void 0)(D)},function(e,t,a){"use strict";a.r(t),a.d(t,"ContactPicker",(function(){return G}));var n=a(3),s=a.n(n),i=(a(7),a(1)),r=a.n(i),o=a(6),l=a(13),c=a(1433),d=a.n(c),m=a(12),_=a.n(m),u=a(1395),p=a(17),h=a(4),g=a(18),E=a(25),b=a(396),f=a(99),C=a(9),S=a(8),y=a(10),T=a(0),v=a(91),I=a(5);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const N=Object(o.defineMessages)({limitReachedText:{id:"compose.contact_picker_selected_count_limit",defaultMessage:"Limit reached"}});class k extends i.Component{constructor(...e){super(...e),s()(this,"state",{selectedContacts:{}}),s()(this,"scrollPositions",{}),s()(this,"onScroll",({scrollTop:e,listId:t})=>{this.scrollPositions[t]=e}),s()(this,"onContactPickerClose",()=>this.props.onClose()),s()(this,"onContactClick",({itemType:e})=>{const t=this.state.selectedContacts,a=Object(f.c)(e);let n;if(t[a])n=Object(C.g)(t,[a]);else{if(Object.keys(t).length>=b.b)return;n=A({},t,{[a]:e})}this.setState({selectedContacts:n})}),s()(this,"handleSelectAndDeselectAll",()=>{const e=this.state.selectedContacts,t=this.props.contacts,a=t.length,n=Object.keys(e).length;if(n===b.b||n===a)return void this.setState({selectedContacts:{}});const s=t.filter(({itemType:t})=>!e[Object(f.c)(t)]),i=s.length,r=s.slice(0,i<=b.b-n?i:b.b-n).reduce((e,{id:t,itemType:a})=>(e[t]=a,e),A({},e));this.setState({selectedContacts:r})}),s()(this,"addContactsToField",()=>{const e=this.state.selectedContacts,t=this.props.getContactById,a=Object(C.h)(e);if(a.length>0){const e=a.map(({id:e,value:a})=>({email:a,id:e,name:t(e).name}));this.props.addContactsToField(e),this.onContactPickerClose()}})}render(){const e=this.props,t=e.listId,a=e.contacts,n=this.state.selectedContacts,s=a.length,l=Object.keys(n).length,c=!l,m=l>=b.b,C=0===s,S=l===b.b||l===s,y=_()(d.a,{bottomDisabled:c,maxCountReached:m});return r.a.createElement(i.Fragment,null,r.a.createElement("div",{className:y.resultsContainer,"data-test-id":"contact-picker-result"},r.a.createElement(u.a,{listId:t,applyTheme:!1,contactItemProps:{allowMultiSelect:!0,onClick:this.onContactClick,isContactSelected:({itemType:e})=>!!n[Object(f.c)(e)],i13nSection:I.i.CONTACT_PICKER},items:a,scrollPositions:this.scrollPositions,onScroll:this.onScroll})),r.a.createElement("div",{className:y.bottomSection},r.a.createElement("div",{className:y.buttonGroup},r.a.createElement(g.a,{disabled:c,onClick:this.addContactsToField,overridingClass:y.doneButton,"data-test-id":"done"},r.a.createElement(o.FormattedMessage,{defaultMessage:"Done",id:"compose.contact_picker_done"})),r.a.createElement(g.a,{kind:E.a.CHROMELESS,onClick:this.onContactPickerClose,"data-test-id":"cancel",overridingClass:y.cancelButton},r.a.createElement(o.FormattedMessage,{defaultMessage:"Cancel",id:"compose.contact_picker_cancel"}))),r.a.createElement("div",{className:y.itemCounts},r.a.createElement(g.a,{kind:E.a.CHROMELESS,onClick:this.handleSelectAndDeselectAll,disabled:C,"data-test-id":"select-all-toggle",overridingClass:y.toggleButton},r.a.createElement(o.FormattedMessage,S?{defaultMessage:"Deselect all",id:"compose.contact_picker_deselect_all"}:{defaultMessage:"Select all",id:"compose.contact_picker_select_all"})),r.a.createElement("div",{className:y.limitReached},m&&r.a.createElement("div",{className:y.icon,title:this.context.intl.formatMessage(N.limitReachedText)},r.a.createElement(p.b,{kind:h.Kinds.ATTENTION,size:h.Sizes.XS,colorState:h.ColorStates.WARNING})),r.a.createElement("span",{className:y.count},r.a.createElement(o.FormattedMessage,{defaultMessage:"{numOfSelectedContacts, number}/100 selected",values:{numOfSelectedContacts:l},id:"compose.contact_picker_selected_count"}))))))}}s()(k,"contextTypes",{intl:o.intlShape});var O=Object(l.connect)((e,{query:t})=>{const a=Object(y.selectors)(e),n=a.getContactListItems,s=(0,a.getContactListSelectors)(),i=s.getContactById,r=(0,s.getSelectedGroup)(b.a),o=Object(S.k)(T.bc.GROUPS,r);return{contacts:n(o).filter(({itemType:e={}})=>{const a=e.value,n=e.id,s=e.type===f.b.EMAIL;if(!t||!s)return s;const r=new RegExp(`\\b${Object(v.a)(t.trim())}\\w*`,"i"),o=i(n).name,l=void 0===o?"":o;return(a||l)&&r.test(l+" "+a)}),listId:o,getContactById:i}})(k),D=a(1434),P=a.n(D),R=a(1383),w=a(276),F=a(484),x=a(16);const L=_()(P.a),B=Object(o.defineMessages)({searchPlaceholder:{id:"compose.contact_picker.search_placeholder",defaultMessage:"Search for a contact"}}),j=(e,t)=>{const a=e.query,n=e.onSearchChange,s=e.groupsList,i=void 0===s?[]:s,o=e.selectedGroup,l=e.fetchContactGroupData;return r.a.createElement("div",{className:L.searchContainer},r.a.createElement("div",{className:L.flexbox},r.a.createElement("div",{className:L.searchFlex},r.a.createElement(w.a,{focusOnMount:!0,className:L.searchInput,type:"text",placeholder:(0,t.intl.formatMessage)(B.searchPlaceholder),"data-test-id":"query-input",value:a,isClearable:!1,onChange:n}),r.a.createElement("span",{className:L.inputSearchIcon,"aria-hidden":!0},r.a.createElement(p.b,{kind:h.Kinds.SEARCH,size:h.Sizes.XS,colorState:h.ColorStates.DISABLED,"aria-hidden":!0}))),r.a.createElement("div",{className:L.selectFlex},r.a.createElement(R.a,{list:[T.jb,...i],onChange:l,selectedItem:o}))))};j.contextTypes={intl:o.intlShape};var U=Object(l.connect)(e=>({groupsList:(0,Object(y.selectors)(e).getCustomContactGroups)()}),e=>({fetchContactGroupData:(t,a)=>{e(Object(F.contactPickerGroupChanged)({value:t,i13nModel:{mKey:I.g.CHANGE_USER_GROUP,sec:I.i.CONTACT_PICKER,interactionType:Object(x.getInteractionFromEvent)(a)}}))}}))(j),H=a(1435),W=a.n(H);class G extends r.a.Component{constructor(...e){super(...e),s()(this,"state",{query:""}),s()(this,"onSearchChange",e=>this.setState({query:e}))}render(){const e=this.props,t=e.selectedGroup,a=e.onClose,n=e.addContactsToField,s=this.state.query,i=.3*document.body.clientWidth,o=_()(W.a);return r.a.createElement("div",{className:o.contactPickerContainer,style:{width:i},"data-test-id":"contact-picker"},r.a.createElement(U,{query:s,onSearchChange:this.onSearchChange,selectedGroup:t}),r.a.createElement(O,{query:s,addContactsToField:n,onClose:a}))}}t.default=Object(l.connect)(e=>({selectedGroup:(0,(0,Object(y.selectors)(e).getContactListSelectors)().getSelectedGroup)(b.a)}))(G)},function(e,t,a){"use strict";a.r(t),a.d(t,"TimezoneCheck",(function(){return h})),a.d(t,"mapStateToProps",(function(){return g})),a.d(t,"resetInitialized",(function(){return E}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(354),d=a(51),m=a(13),_=a(10),u=a(0);let p=!1;class h extends l.a.Component{componentDidMount(){const e=this.context.timezone,t=this.props;if(!t.timezoneCheck||!e||p||t.themeCueShown)return;p=!0,this.context.executeAction(c.a,{geoLocation:e.geoLocation,serverInferredTimezone:e.name,lastObservedTimezone:e.lastObservedTimezone})}render(){return null}}s()(h,"contextTypes",{config:r.a.object,timezone:d.TimezoneType,executeAction:r.a.func});const g=e=>({themeCueShown:(0,Object(_.selectors)(e).getFeatureCueSelectors)().shownFeatures().indexOf(u.Eb.THEMES_CUE_V3)>=0});function E(){p=!1}t.default=Object(m.connect)(g)(h)},function(e,t,a){"use strict";a.r(t),a.d(t,"HeartbeatControllerView",(function(){return b})),a.d(t,"mapStateToProps",(function(){return f})),a.d(t,"mapDispatchToProps",(function(){return C}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(13),d=a(10),m=a(157),_=a(85),u=a(6),p=a(0),h=(a(9),a(5)),g=a(44);const E=Object(u.defineMessages)({title:{id:"confirm.reload_title",defaultMessage:"Please reload your browser"},message:{id:"confirm.force_reload_message",defaultMessage:"A new update of {mailBrandNameString} is available! We fixed some critical bugs and performance issues."},acceptLabel:{id:"confirm.accept_reload",defaultMessage:"Reload"},cancelLabel:{id:"confirm.cancel_try_later",defaultMessage:"Try it later"},forcedAcceptLabel:{id:"confirm.forced_accept_reload",defaultMessage:"Reload now to proceed"}});class b extends l.a.Component{constructor(...e){super(...e),s()(this,"reloadConfirmed",()=>{const e=this.props.refreshType;this.props.reloadApp({i13nModel:{mKey:e===p.A.PERIODIC_REFRESH?h.g.PERIODIC_RELOAD_ACCEPTED:h.g.EMERGENCY_RELOAD_ACCEPTED,sec:e===p.A.PERIODIC_REFRESH?h.i.PERIODIC_RELOAD:h.i.EMERGENCY_RELOAD}}),window.location.reload()}),s()(this,"cancelReload",()=>{this.props.cancelReload({i13nModel:{mKey:h.g.EMERGENCY_RELOAD_CANCELED,sec:h.i.EMERGENCY_RELOAD}})})}shouldComponentUpdate(e){return e.refreshType!==this.props.refreshType}render(){const e=this.props.refreshType,t=this.context.intl.formatMessage,a=this.context.mailBrandNameString;let n=null;if(e===p.A.PERIODIC_REFRESH?n=l.a.createElement("div",null,l.a.createElement(m.a,{title:t(E.title),message:t(E.message,{mailBrandNameString:a}),onAccept:this.reloadConfirmed,hideClose:!0,acceptLabel:E.forcedAcceptLabel})):e===p.A.EMERGENCY_REFRESH&&(n=l.a.createElement("div",null,l.a.createElement(_.a,{title:t(E.title),onConfirm:this.reloadConfirmed,onAbort:this.cancelReload,acceptLabel:E.acceptLabel,cancelLabel:E.cancelLabel},l.a.createElement(u.FormattedMessage,{id:"confirm.reload_message",defaultMessage:"A new version of {mailBrandNameString} is available! We have improved the speed, reliability and security of your mail.",values:{mailBrandNameString:a}})))),n){const t={mKey:e===p.A.PERIODIC_REFRESH?h.g.PERIODIC_RELOAD_SHOWED:h.g.EMERGENCY_RELOAD_SHOWED,sec:e===p.A.PERIODIC_REFRESH?h.i.PERIODIC_RELOAD:h.i.EMERGENCY_RELOAD};setImmediate(()=>this.props.showReload({i13nModel:t}))}return n}}function f(e){return{refreshType:(0,Object(d.selectors)(e).getBuildRefreshStatus)()}}s()(b,"contextTypes",{intl:u.intlShape.isRequired,mailBrandNameString:r.a.string});const C=e=>({showReload:t=>e(Object(g.o)(t)),cancelReload:t=>e(Object(g.a)(t)),reloadApp:t=>e(Object(g.n)(t))});t.default=Object(c.connect)(f,C)(b)},,function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(12),m=a.n(d),_=a(1508),u=a.n(_),p=a(16),h=a(319),g=a(489),E=a(4),b=a(21);const f=Object(c.defineMessages)({headerText:{id:"all_tabs_plus_cue.header2",defaultMessage:"Want a faster way to read your email?"},bodyText:{id:"all_tabs_plus_cue.body2",defaultMessage:"Turn on People view to see messages from people, not businesses, in one place."},close:{id:"all_tabs_plus_cue.close",defaultMessage:"Close"}});class C extends l.a.Component{constructor(...e){super(...e),s()(this,"onClose",e=>{this.props.onClose({i13nModel:{interactionType:Object(p.getInteractionFromEvent)(e)}})}),s()(this,"onTryNow",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_try_now",interactionType:Object(p.getInteractionFromEvent)(e)}})})}render(){const e=this.context,t=e.getTheme,a=e.intl.formatMessage,n=m()(u.a,{[""+t()]:!0});return l.a.createElement("div",{role:"navigation"},l.a.createElement("div",{className:n.container,role:"alert","aria-labelledby":"all-tabs-plus-cue-heading","aria-describedby":"all-tabs-plus-cue-desc",ref:"allTabsPlusCueContent",tabIndex:"-1"},l.a.createElement("div",{className:n.coloredBar}),l.a.createElement("div",{className:n.header},l.a.createElement("span",{id:"all-tabs-plus-cue-heading",className:n.headerText},l.a.createElement(c.FormattedMessage,f.headerText))),l.a.createElement("div",{className:n.body,id:"all-tabs-plus-cue-desc"},l.a.createElement(c.FormattedMessage,f.bodyText)),l.a.createElement(g.a,{isCueMode:!0,useCalloutButton:!0,onTryNow:this.onTryNow})),l.a.createElement("div",{className:n.close},l.a.createElement(b.default,{onClick:this.onClose,kind:E.Kinds.CLOSE_MINI,size:E.Sizes.XS,colorState:E.ColorStates.IMPROVED_GRAY_DARK,title:a(f.close),"aria-label":a(f.close),"data-test-id":"all-tabs-plus-cue-close"})))}}s()(C,"contextTypes",{getCss:r.a.func,intl:c.intlShape,getTheme:r.a.func.isRequired}),t.default=Object(h.a)(C)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(12),m=a.n(d),_=a(1509),u=a.n(_),p=a(16),h=a(319),g=a(21),E=a(4);const b=m()(u.a),f=Object(c.defineMessages)({headerText:{id:"people_smartview_cue.header2",defaultMessage:"Want a faster way to read your email?"},bodyText:{id:"people_smartview_cue.body2",defaultMessage:"See your messages that are from real people, not businesses."},close:{id:"people_smartview_cue.close",defaultMessage:"Close"}});class C extends l.a.Component{constructor(...e){super(...e),s()(this,"onClose",e=>{this.props.onClose({i13nModel:{interactionType:Object(p.getInteractionFromEvent)(e)}})})}render(){const e=this.context.intl.formatMessage;return l.a.createElement("div",{role:"navigation"},l.a.createElement("div",{className:b.container,role:"alert","aria-labelledby":"people-smartview-cue-heading","aria-describedby":"people-smartview-cue-desc",tabIndex:"-1"},l.a.createElement("div",{className:b.animation}),l.a.createElement("div",{className:b.header},l.a.createElement("div",{id:"people-smartview-cue-heading",className:b.headerText},l.a.createElement(c.FormattedMessage,f.headerText)),l.a.createElement("div",{className:b.bodyText,id:"people-smartview-cue-desc"},l.a.createElement(c.FormattedMessage,f.bodyText))),l.a.createElement("div",{className:b.close},l.a.createElement(g.default,{onClick:this.onClose,kind:E.Kinds.CLOSE_MINI,size:E.Sizes.XS,colorState:E.ColorStates.IMPROVED_GRAY_DARK,title:e(f.close),"aria-label":e(f.close),"data-test-id":"people-smartview-cue-close"}))))}}s()(C,"contextTypes",{getCss:r.a.func,intl:c.intlShape}),t.default=Object(h.a)(C)},function(e,t,a){"use strict";a.r(t),a.d(t,"AdBlockUpsellCue",(function(){return w})),a.d(t,"mapStateToProps",(function(){return F})),a.d(t,"mapDispatchToProps",(function(){return x}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1366),m=a(319),_=a(12),u=a.n(_),p=a(1510),h=a.n(p),g=a(25),E=a(21),b=a(4),f=a(478),C=a(16),S=a(10),y=a(13),T=a(49),v=a(18),I=a(0),M=a(303),A=a(5),N=a(11),k=a(108),O=a(9),D=a(182),P=a(94);const R=Object(c.defineMessages)({yahooMailProBranding:{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"},yahooWiderMailExtensionBranding:{id:"mail.yahoo_wider_mail_extension_branding",defaultMessage:"{widerMail} extension"},yahooWiderMailBranding:{id:"mail.yahoo_wider_mail_upsell_branding",defaultMessage:"Wider Mail"},close:{id:"adBlock_upsell_close_icon",defaultMessage:"Close"},adBlockUpsellUserName:{id:"adBlock_upsell_user_name",defaultMessage:"Hi {accountName}!"},adBlockUpsellMessage1:{id:"adBlock_upsell_v6_welcome_message_1",defaultMessage:"Your ad blocker may be interfering with Mail features"},adBlockUpsellMessage2:{id:"adBlock_upsell_v6_welcome_message_2",defaultMessage:"Help us provide you with the best free email!"},adBlockUpsellMessage3:{id:"adBlock_upsell_v6_welcome_message_3",defaultMessage:"We noticed you are using an ad blocker. Please consider whitelisting {mailBrandNameString}"},adBlockUpsellMessage4:{id:"adBlock_upsell_v6_welcome_message_4",defaultMessage:"Haven’t turned off your ad blocker?"},adBlockUpsellDescription1:{id:"adBlock_upsell_v6_description_1",defaultMessage:"Ad blockers insert code into your inbox to block ads, which can negatively impact email performance and make some features stop working. We recommend whitelisting {mailBrandNameString} to avoid these issues and get the best experience."},adBlockUpsellDescription2:{id:"adBlock_upsell_v6_description_2",defaultMessage:"Our world-class email service is provided to you for free in part due to advertising. Please help us by whitelisting {mailBrandNameString}."},adBlockUpsellDescription3:{id:"adBlock_upsell_v6_description_3",defaultMessage:"It only takes a minute!"},feedback:{id:"adblock_upsell_v6_feedback",defaultMessage:"Have feedback?"},adblockUpsellV6LetDoText:{id:"adblock_upsell_v6_let_do_text",defaultMessage:"Let’s do it!"},adblockUpsellV6BackBtnText:{id:"adblock_upsell_v6_back_btn_text",defaultMessage:"Back"},adblockUpsellV6WhitelistBtnText:{id:"adblock_upsell_v6_whitelist_btn_text",defaultMessage:"Whitelist Us!"},adblockUpsellV6Page2Msg:{id:"adblock_upsell_v6_page2_msg",defaultMessage:"How to whitelist {mailBrandNameString}"},adblockUpsellV6DoneBtnText:{id:"adblock_upsell_v6_done_btn_text",defaultMessage:"I'm done"},adblockUpsellWhitelistStep1:{id:"adblock_upsell_v6_whitelist_step_1",defaultMessage:"Step 1"},adblockUpsellWhitelistStep2:{id:"adblock_upsell_v6_whitelist_step_2",defaultMessage:"Step 2"},adblockUpsellWhitelistStep3:{id:"adblock_upsell_v6_whitelist_step_3",defaultMessage:"Step 3"},adblockUpsellWhitelistStep1Des:{id:"adblock_upsell_v6_whitelist_step_1_Des",defaultMessage:"Click on an icon like the ones below in your browser."},adblockUpsellWhitelistStep3Des:{id:"adblock_upsell_v6_whitelist_step_3_Des",defaultMessage:"Refresh {mailBrandNameString}."},adblockUpsellV6WhitelistStep2Des:{id:"adblock_upsell_v6_whitelist_step_2_Des",defaultMessage:'Select the option to display ads for mail.yahoo.com by clicking either "<span class="{boldTextStyle}">Don’t run on pages on this domain</span>",  "<span class="{boldTextStyle}">Enabled on this site</span>", "<span class="{boldTextStyle}">Trust Site</span>" or similar. The exact text will differ depending on the ad blocker you are using.'},adblockUpsellSubDescription:{id:"adblock_upsell_sub_description",defaultMessage:"If you prefer an ad-free experience, consider upgrading to {mailProLink} or getting our {installWiderMailLink}, which hides ads on the right side."},adblockUpsellSubDescriptionMailproOnly:{id:"adblock_upsell_sub_description_mailpro_only",defaultMessage:"If you prefer an ad-free experience, consider upgrading to {mailProLink}"},adblockUpsellSubDescriptionWiderMailOnly:{id:"adblock_upsell_sub_description_wider_mail_only",defaultMessage:"If you prefer an ad-free experience, consider getting our {installWiderMailLink}, which hides ads on the right side."},adblockUpsellV6FooterText:{id:"adblock_upsell_v6_footer_text",defaultMessage:'For more detailed instructions, visit our <a class="{upsellOptionLinkStyle}" target="_blank" rel="noreferrer" href="{adBlockPayupHelpUrl}">help page</a>.'}});class w extends l.a.Component{constructor(){super(),s()(this,"getRapidEvent",(e,t)=>({i13nModel:{mKey:e,interactionType:Object(C.getInteractionFromEvent)(t)}})),s()(this,"statOptionClick",(e,t)=>{(0,this.props.onAdblockUpsellOptionClick)({mKey:e,sec:A.i.FEATURE_CUE,interactionType:Object(C.getInteractionFromEvent)(t)})}),s()(this,"onClose",e=>{this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),s()(this,"handleOverlayClick",e=>{e.preventDefault(),e.stopPropagation(),this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),s()(this,"handleGetExtension",e=>{let t=Object(O.b)(window,"AppBootstrapData.browserName","");if(t=t.toLowerCase(),"chrome"===t){const e=this.props.widerMailExtensionUrl;Object(P.a)(e)}else"firefox"===t&&(location.href="https://addons.mozilla.org/firefox/downloads/latest/yahoo-wider-mail/addon-727603-latest.xpi?src=ymail",this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e)))}),s()(this,"getWhitelistStep2Description",e=>(0,this.context.intl.formatMessage)(R.adblockUpsellV6WhitelistStep2Des,{boldTextStyle:e.boldText})),s()(this,"adBlockUpsellMessage",()=>{const e=this.context.intl.formatMessage,t=this.context.mailBrandNameString;switch(this.props.adblockCurrentUi){case I.q.UI_1:return e(R.adBlockUpsellMessage1);case I.q.UI_3:return e(R.adBlockUpsellMessage3,{mailBrandNameString:t});case I.q.UI_4:return e(R.adBlockUpsellMessage4)}}),s()(this,"getDescriptionText",()=>{const e=this.context.intl.formatMessage,t=this.context.mailBrandNameString;switch(this.props.adblockCurrentUi){case I.q.UI_1:return e(R.adBlockUpsellDescription1,{mailBrandNameString:t});case I.q.UI_3:return e(R.adBlockUpsellDescription2,{mailBrandNameString:t});case I.q.UI_4:return e(R.adBlockUpsellDescription3)}}),s()(this,"getFooterText",e=>{const t=this.context,a=t.intl,n=a.formatMessage,s=D.f.link(a.locale,t.partner);return n(R.adblockUpsellV6FooterText,{upsellOptionLinkStyle:e.upsellOptionLink,adBlockPayupHelpUrl:s})}),s()(this,"togglePage",e=>{this.setState({page:e})}),s()(this,"handleClick",(e,t)=>{let a;switch(e){case"goToMailPro":a="cue_"+this.props.cueName+"_mailPro";break;case"goToAdBlockHelp":a="cue_"+this.props.cueName+"_whitelist";break;case"getExtension":a="cue_"+this.props.cueName+"_getExtension",this.handleGetExtension(t);break;case"changeUi":1===this.state.page?(a="cue_"+this.props.cueName+"_page_navigate_2",this.togglePage(2)):(a="cue_"+this.props.cueName+"_page_navigate_1",this.togglePage(1));break;default:a="cue_"+this.props.cueName+"_success"}this.statOptionClick(a,t)}),s()(this,"getUpsellImage",()=>{if(1===this.state.page){switch(this.props.adblockCurrentUi){case I.q.UI_1:return"/img/adblock_upsell_emoji_v6_1.png";case I.q.UI_3:case I.q.UI_4:return"/img/adblock_upsell_emoji_v6_2.png"}return"/img/adblock_upsell_emoji_v6_1.png"}return"/img/adblock_upsell_emoji_v6_step2.png"}),s()(this,"onDoneClick",()=>{this.props.onFeatureCueClosed({mKey:"cue_"+this.props.cueName+"_whitelist_done",sec:A.i.FEATURE_CUE,interactionType:A.e.click}),window.location.reload()}),s()(this,"getSubDecriptiontext",e=>{const t=this.props,a=t.isMailPro,n=t.isMailProEligible,s=t.widerMailExtnEnabled,i=t.isWiderMailEligible,r=this.context.intl.formatMessage,o=`<a data-button-id="goToMailPro" class="${e.upsellOptionLink}" target="_blank" rel="noreferrer" href="${this.props.adFreeMailUrl}">${r(R.yahooMailProBranding)}</a>`,c=`<a data-button-id="getExtension" class="${e.upsellOptionLink}">${r(R.yahooWiderMailExtensionBranding,{widerMail:r(R.yahooWiderMailBranding)})}</a>`;let d=null;return!a&&n&&!s&&i?d=l.a.createElement("span",{className:e.subDescription},l.a.createElement("span",{"data-test-id":"mailpro-widermail-text",onClick:e=>this.handleClick(e.target.getAttribute("data-button-id"),e),dangerouslySetInnerHTML:{__html:r(R.adblockUpsellSubDescription,{mailProLink:o,installWiderMailLink:c})}})):!a&&n?d=l.a.createElement("span",{className:e.subDescription},l.a.createElement("span",{"data-test-id":"mailpro-text",onClick:e=>this.handleClick(e.target.getAttribute("data-button-id"),e),dangerouslySetInnerHTML:{__html:r(R.adblockUpsellSubDescriptionMailproOnly,{mailProLink:o})}})):!s&&i&&(d=l.a.createElement("span",{className:e.subDescription},l.a.createElement("span",{"data-test-id":"widermail-text",onClick:e=>this.handleClick(e.target.getAttribute("data-button-id"),e),dangerouslySetInnerHTML:{__html:r(R.adblockUpsellSubDescriptionWiderMailOnly,{installWiderMailLink:c})}}))),d}),this.state={page:1}}render(){const e=this.context.intl.formatMessage,t=this.context.mailBrandNameString,a=this.onClose,n=this.props,s=n.accountName,i=n.isMailProEligible,r=n.isWiderMailEligible,o=n.isMailPro,c=n.widerMailExtnEnabled,m=n.cueName,_=n.adblockCurrentUi,p=u()(h.a,{pageTwoUi:2===this.state.page,centerDescriptionText:_===I.q.UI_4});return l.a.createElement(d.a,{onClose:this.handleOverlayClick,onOuterClick:()=>{},kind:f.a.DARK,ariaLabelledBy:"upsell-welcome-message",ariaDescribedBy:"upsell-description"},l.a.createElement("div",{"data-test-id":m,className:p.container},l.a.createElement("div",{className:p.close},l.a.createElement(E.default,{onClick:a,kind:b.Kinds.CLOSE,size:b.Sizes.XS,colorState:b.ColorStates.NORMAL,title:e(R.close),"aria-label":e(R.close),"data-test-id":"close-cue-button"})),l.a.createElement("div",{"data-test-id":"header",className:p.headerSection},l.a.createElement("img",{src:Object(T.a)(this.getUpsellImage())})),l.a.createElement("div",{className:p.heading},1===this.state.page?l.a.createElement("div",null,l.a.createElement("span",null,e(R.adBlockUpsellUserName,{accountName:s})),l.a.createElement("span",{className:p.subHeadingText},this.adBlockUpsellMessage())):l.a.createElement("span",null,e(R.adblockUpsellV6Page2Msg,{mailBrandNameString:t}))),l.a.createElement("div",{className:p.description,"data-test-id":"upsell-description"},1===this.state.page?l.a.createElement("div",null,this.getDescriptionText(),(r&&!c||i&&!o)&&!(_===I.q.UI_4)&&l.a.createElement("div",null,l.a.createElement("span",null,l.a.createElement("br",null)),this.getSubDecriptiontext(p))):l.a.createElement("div",null,l.a.createElement("div",{className:p.allowlistStepContainer},l.a.createElement("div",{className:p.stepCountContainer},e(R.adblockUpsellWhitelistStep1)),l.a.createElement("div",{className:p.stepDetailContainer},e(R.adblockUpsellWhitelistStep1Des),l.a.createElement("img",{className:p.adblockersContainer,src:Object(T.a)("/img/adblocker_examples.png")}))),l.a.createElement("div",{className:p.allowlistStepContainer},l.a.createElement("div",{className:p.stepCountContainer},e(R.adblockUpsellWhitelistStep2)),l.a.createElement("div",{className:p.stepDetailContainer},l.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.getWhitelistStep2Description(p)}}))),l.a.createElement("div",{className:p.allowlistStepContainer},l.a.createElement("div",{className:p.stepCountContainer},e(R.adblockUpsellWhitelistStep3)),l.a.createElement("div",{className:p.stepDetailContainer},e(R.adblockUpsellWhitelistStep3Des,{mailBrandNameString:t}))))),l.a.createElement("div",{className:p.adblockUpsellBtnContainer,"data-test-id":"adblock-upsell-btn-container"},1===this.state.page&&l.a.createElement("a",{className:p.optionButtonContainer},l.a.createElement(v.a,{"data-test-id":"navigate-to-page-2",onClick:this.handleClick.bind(this,"changeUi"),kind:g.a.PRIMARY,marginLess:!0},l.a.createElement("span",{className:p.optionButton},e(_===I.q.UI_4?R.adblockUpsellV6LetDoText:R.adblockUpsellV6WhitelistBtnText)))),2===this.state.page&&l.a.createElement("span",null,l.a.createElement("a",{className:p.optionButtonContainer},l.a.createElement(v.a,{"data-test-id":"navigate-to-page-1",onClick:this.handleClick.bind(this,"changeUi"),kind:g.a.SECONDARY,marginLess:!0,style:{width:32*N.G+"px"}},l.a.createElement("span",{className:p.optionButton},e(R.adblockUpsellV6BackBtnText)))),l.a.createElement("a",{className:p.optionButtonContainer},l.a.createElement(v.a,{"data-test-id":"whitelist-done",onClick:this.onDoneClick,kind:g.a.PRIMARY,marginLess:!0,style:{width:32*N.G+"px",marginLeft:4*N.G+"px"}},l.a.createElement("span",{className:p.optionButton},e(R.adblockUpsellV6DoneBtnText)))))),l.a.createElement("div",null,2===this.state.page&&l.a.createElement("div",{className:p.footerText,onClick:this.handleClick.bind(this,"goToAdBlockHelp"),dangerouslySetInnerHTML:{__html:this.getFooterText(p)}}))))}}s()(w,"contextTypes",{intl:c.intlShape,mailBrandNameString:r.a.string});const F=e=>{const t=Object(S.selectors)(e),a=t.getAccountSelectors,n=t.getSelectedAccountId,s=(0,t.getFeaturesSelectors)(),i=(0,a().getAccountNameByAccountId)(n()),r=s.isEnabled(I.Eb.MAIL_PRO_ELIGIBLE),o=s.getSetting(I.Kd.AD_FREE_MAIL_URL),l=s.getSetting(I.Kd.WIDER_MAIL_EXTENSION_URL),c=s.isEnabled(I.Eb.WIDER_MAIL_ELIGIBLE),d=s.isEnabled(I.Eb.MAIL_PRO),m=s.isEnabled(I.Eb.IS_WIDER_MAIL_EXTN_ENABLED),_=s.getSetting(I.Kd.FEEDBACK_URL),u=s.getSetting(I.Kd.AD_BLOCK_FEATURE_CUE_ID);return{isMailProEligible:r,accountName:i,adFreeMailUrl:o,isWiderMailEligible:c,widerMailExtensionUrl:l,isMailPro:d,widerMailExtnEnabled:m,feedbackURL:_,adblockCurrentUi:I.r[u-1]}},x=e=>({onAdblockUpsellOptionClick:t=>e(Object(M.e)({i13nModel:t})),onFeatureCueClosed:t=>e(Object(k.a)({i13nModel:t}))});t.default=Object(m.a)(Object(y.connect)(F,x)(w))},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1366),m=a(319),_=a(12),u=a.n(_),p=a(1512),h=a.n(p),g=a(25),E=a(478),b=a(16),f=a(10),C=a(13),S=a(49),y=a(18),T=a(0),v=a(5),I=a(182),M=a(45),A=a(98),N=a(94);const k=Object(c.defineMessages)({adblockToNodinPage1Message1:{id:"adblock_to_nodin_page1_message1",defaultMessage:"Looks like your ad-blocker is on"},adblockToNodinPage1Message2:{id:"adblock_to_nodin_page1_message2",defaultMessage:"Please consider supporting us with one of the options below:"},adblockToNodinPage1Message3:{id:"adblock_to_nodin_page1_message3",defaultMessage:"How to unblock ads?"},adblockToNodinPage1Message4:{id:"adblock_to_nodin_page1_message4",defaultMessage:"Our world-class email service is provided to you for free in part due to advertising."},adblockToNodinPageConrimationTitle:{id:"ad_confirmation",defaultMessage:"Are you sure?"},adblockToNodinPage1Btn1:{id:"ad_unblock_ads",defaultMessage:"Unblock ads"},adblockToNodinPage1Btn2:{id:"ad_upsell_label_with_price",defaultMessage:"Go ad-free for {mailproPricing}/month"},adblockToNodinPage1Footer2:{id:"adblock_to_nodin_page1_confirmation_footer",defaultMessage:"Switch to basic Mail, with fewer features"},adblockToNodinUnblockStep1:{id:"adblock_upsell_v6_unblock_step_1",defaultMessage:"Step 1"},adblockToNodinUnblockStep2:{id:"adblock_upsell_v6_unblock_step_2",defaultMessage:"Step 2"},adblockToNodinUnblockStep3:{id:"adblock_upsell_v6_unblock_step_3",defaultMessage:"Step 3"},adblockToNodinUnblockStep1Des:{id:"adblock_upsell_v6_unblock_step_1_Des",defaultMessage:"Click on an icon like the ones below in your browser."},adblockToNodinUnblockStep2Des:{id:"adblock_upsell_v6_unblock_step_2_Des",defaultMessage:'Select the option to display ads for mail.yahoo.com by clicking either "<span class="{boldTextStyle}">Don’t run on pages on this domain</span>",  "<span class="{boldTextStyle}">Enabled on this site</span>", "<span class="{boldTextStyle}">Trust Site</span>" or similar. The exact text will differ depending on the ad blocker you are using.'},adblockToNodinUnblockStep3Des:{id:"adblock_upsell_v6_unblock_step_3_Des",defaultMessage:"Refresh {mailBrandNameString}."},adblockToNodinBackBtn:{id:"adblock_upsell_v6_back_btn_text",defaultMessage:"Back"},adblockToNodinPage2Footer_v2:{id:"adblockToNodinPage2Footer_v2",defaultMessage:'For more detailed instructions, visit our <a class="{upsellOptionLinkStyle}" target="_blank" rel="noreferrer" tabindex="0" href="{adBlockPayupHelpUrl}" title="help page">help page</a>.'},adblockToNodinDone:{id:"adblock_upsell_v6_done_btn_text",defaultMessage:"I'm done"},adblockToNodinConfirmationDescription:{id:"adblock_to_nodin_confirmation_description",defaultMessage:"The basic version of Yahoo Mail doesn't support rich text formatting, drag-and-drop folder organization and other features you may use often."},adblockToNodinConfirmationBtn1:{id:"adblock_to_nodin_back",defaultMessage:"Back to my options"},adblockToNodinConfirmationBtn2:{id:"adblock_to_nodin_confirmation_btn1",defaultMessage:"Continue to basic Mail"}}),O="goToMailPro",D="unblockDone",P="goToAdBlockHelp",R="changeUi",w="basicMail",F="footerClicked";class x extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{page:1,dismissed:!1}),s()(this,"getUnblockStep2Description",e=>(0,this.context.intl.formatMessage)(k.adblockToNodinUnblockStep2Des,{boldTextStyle:e.boldText})),s()(this,"getFooterText",e=>{const t=this.context,a=t.intl,n=a.formatMessage,s=I.f.link(a.locale,t.partner);return n(k.adblockToNodinPage2Footer_v2,{upsellOptionLinkStyle:e.upsellOptionLink,adBlockPayupHelpUrl:s})}),s()(this,"togglePage",(e,t=!1)=>{this.setState({page:e,dismissed:t})})}componentDidMount(){Object(A.a)(this.props.mailProUpsellImpressionURL,!1)}handleClick(e,t){const a=this.props,n=a.cueName,s=a.mailProUpsellClickURL;let i;switch(e){case O:return M.b.sendI13nModel({i13nModel:{mKey:"cue_"+n+"_mailPro",sec:v.i.FEATURE_CUE,interactionType:Object(b.getInteractionFromEvent)(t)}}),void Object(N.a)(s);case D:i="cue_"+n+"_unblock_done";break;case P:i="cue_"+n+"_unblock";break;case w:i="cue_"+n+"_basicMail";break;case R:1===this.state.page?(i="cue_"+n+"_page_navigate_2",this.togglePage(2)):(i="cue_"+n+"_page_navigate_1",this.togglePage(1));break;case F:i="cue_"+n+"_confirmation_navigate",this.togglePage(2,!0)}M.b.sendI13nModel({i13nModel:{mKey:i,sec:v.i.FEATURE_CUE,interactionType:Object(b.getInteractionFromEvent)(t)}})}getImageUrl(){return 2===this.state.page?this.state.dismissed?Object(S.a)("/img/adblock_upsell_emoji.png"):Object(S.a)("/img/adblock_upsell_emoji_v6_step2.png"):Object(S.a)("/img/adblock_upsell_emoji_v6_2.png")}renderUnblockSteps(e){const t=this.context,a=t.intl.formatMessage,n=t.mailBrandNameString;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.unblockStepContainer},l.a.createElement("div",{className:e.stepCountContainer},a(k.adblockToNodinUnblockStep1)),l.a.createElement("div",{className:e.stepDetailContainer},a(k.adblockToNodinUnblockStep1Des),l.a.createElement("img",{className:e.adblockersContainer,src:Object(S.a)("/img/adblocker_examples.png")}))),l.a.createElement("div",{className:e.unblockStepContainer},l.a.createElement("div",{className:e.stepCountContainer},a(k.adblockToNodinUnblockStep2)),l.a.createElement("div",{className:e.stepDetailContainer},l.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.getUnblockStep2Description(e)}}))),l.a.createElement("div",{className:e.unblockStepContainer},l.a.createElement("div",{className:e.stepCountContainer},a(k.adblockToNodinUnblockStep3)),l.a.createElement("div",{className:e.stepDetailContainer},a(k.adblockToNodinUnblockStep3Des,{mailBrandNameString:n}))))}renderSecondPage(e){const t=this.context.intl.formatMessage,a=this.props,n=a.nodinHost,s=a.globalHost,i=this.state.dismissed;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.heading},t(i?k.adblockToNodinPageConrimationTitle:k.adblockToNodinPage1Message3)),l.a.createElement("div",{className:e.description},i?t(k.adblockToNodinConfirmationDescription):this.renderUnblockSteps(e)),i?l.a.createElement("div",{className:e.btnContainer},l.a.createElement(y.a,{onClick:e=>this.handleClick(R,e),kind:g.a.PRIMARY,marginLess:!0,tabIndex:0,"aria-label":t(k.adblockToNodinConfirmationBtn1),title:t(k.adblockToNodinConfirmationBtn1)},t(k.adblockToNodinConfirmationBtn1)),l.a.createElement("a",{target:"_self",rel:"noreferrer noopener",onClick:e=>this.handleClick(w,e),tabIndex:0,"aria-label":t(k.adblockToNodinConfirmationBtn2),title:t(k.adblockToNodinConfirmationBtn2),href:n+"?adblock=1",className:e.secondaryButton},t(k.adblockToNodinConfirmationBtn2))):l.a.createElement("div",{className:e.footerContainer},l.a.createElement("div",{className:e.btnContainer},l.a.createElement("a",{target:"_self",rel:"noreferrer noopener",tabIndex:0,onClick:e=>this.handleClick(D,e),title:t(k.adblockToNodinDone),"aria-label":t(k.adblockToNodinDone),href:s,"data-test-id":"refresh-link",className:e.primaryButton},t(k.adblockToNodinDone)),l.a.createElement(y.a,{onClick:e=>this.handleClick(R,e),kind:g.a.SECONDARY,marginLess:!0,tabIndex:0,"aria-label":t(k.adblockToNodinBackBtn),title:t(k.adblockToNodinBackBtn),"data-test-id":"back-button"},t(k.adblockToNodinBackBtn))),l.a.createElement("div",{className:e.footerText,onClick:e=>this.handleClick(P,e),"data-test-id":"adblock-help-link",dangerouslySetInnerHTML:{__html:this.getFooterText(e)}})))}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.isMailProEligible,n=t.cueName,s=t.mailproPricing,i=u()(h.a,{pageTwoUi:2===this.state.page,renderConfirmation:this.state.dismissed});return l.a.createElement(d.a,{onClose:()=>{},onOuterClick:()=>{},kind:E.a.DARK,ariaLabelledBy:"adblock-unblock-cue",ariaDescribedBy:"adblock-unblock-cue"},l.a.createElement("div",{"data-test-id":n,className:i.container},l.a.createElement("img",{className:i.headerSection,src:this.getImageUrl()}),1===this.state.page?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:i.heading},e(k.adblockToNodinPage1Message1)),l.a.createElement("div",{className:i.description},e(k.adblockToNodinPage1Message4)," ",e(k.adblockToNodinPage1Message2)),l.a.createElement("div",{className:i.btnContainer},a&&l.a.createElement(y.a,{kind:g.a.PRIMARY,onClick:e=>this.handleClick(R,e),overridingClass:i.primaryButton,tabIndex:0,"aria-label":e(k.adblockToNodinPage1Btn1),title:e(k.adblockToNodinPage1Btn1),marginLess:!0},e(k.adblockToNodinPage1Btn1)),l.a.createElement(y.a,{onClick:e=>this.handleClick(O,e),kind:a?g.a.SECONDARY:g.a.PRIMARY,tabIndex:0,"aria-label":e(k.adblockToNodinPage1Btn2,{mailproPricing:s}),title:e(k.adblockToNodinPage1Btn2,{mailproPricing:s}),marginLess:!0,overridingClass:i.optionButton},e(k.adblockToNodinPage1Btn2,{mailproPricing:s})))):null,l.a.createElement("div",{className:i.footerContainer},1===this.state.page?l.a.createElement(y.a,{kind:g.a.TEXT,tabIndex:0,"aria-label":e(k.adblockToNodinPage1Footer2),title:e(k.adblockToNodinPage1Footer2),"data-test-id":"footer",onClick:e=>this.handleClick(F,e),overridingClass:i.footerLink},e(k.adblockToNodinPage1Footer2)):this.renderSecondPage(i))))}}s()(x,"contextTypes",{intl:c.intlShape,mailBrandNameString:r.a.string});t.default=Object(m.a)(Object(C.connect)(e=>{const t=Object(f.selectors)(e),a=t.getEnvironmentSelectors,n=t.getSetting,s=(0,t.getFeaturesSelectors)(),i=s.isEnabled(T.Eb.MAIL_PRO_ELIGIBLE),r=a().getEndpoint(T.yb.GLOBAL_HOST),o=a().getEndpoint(T.yb.GLOBAL_NODIN_HOST),l=n(T.Kd.MAIL_PRO_MONTHLY_PRICE),c=s.getSetting(T.Kd.MAILPRO_UPSELL_INSTRUMENTATION_URL);return{isMailProEligible:i,globalHost:r,nodinHost:o,mailProUpsellImpressionURL:c.adblockUpsellImpressionURL,mailProUpsellClickURL:c.adblockUpsellClickURL,mailproPricing:l}},null)(x))},function(e,t,a){"use strict";a.r(t),a.d(t,"UpdateWiderMailCue",(function(){return M})),a.d(t,"mapStateToProps",(function(){return A}));var n=a(3),s=a.n(n),i=(a(7),a(1)),r=a.n(i),o=a(13),l=a(203),c=a(18),d=a(12),m=a.n(d),_=a(1515),u=a.n(_),p=a(6),h=a(25),g=a(4),E=a(10),b=a(0),f=a(319),C=a(16),S=a(90),y=a(94),T=a(49);const v=m()(u.a),I=Object(p.defineMessages)({heading:{id:"update_wider_mail_cue.header",defaultMessage:"Don't miss out! Your extension is going away"},description:{id:"update_wider_mail_cue.description",defaultMessage:"Upgrade to the latest version of Yahoo Search (formerly Wider Mail) to remove ads on the right."},getExtension:{id:"update_wider_mail_cue.btn_get_extension",defaultMessage:"Get extension"},maybeLater:{id:"update_wider_mail_cue.btn_maybe_later",defaultMessage:"Maybe later"},close:{id:"update_wider_mail_cue.btn_close",defaultMessage:"Close"}});class M extends r.a.Component{constructor(...e){super(...e),s()(this,"onGetExtension",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_get_extension",interactionType:Object(C.getInteractionFromEvent)(e)}}),Object(y.a)(this.props.widerMailExtensionUrl)}),s()(this,"onMaybeLater",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_later",interactionType:Object(C.getInteractionFromEvent)(e)}})}),s()(this,"onClose",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",interactionType:Object(C.getInteractionFromEvent)(e)}})})}render(){const e=this.context.intl.formatMessage;return r.a.createElement(l.a,null,r.a.createElement("div",{"data-test-id":"cue-update-wider-mail-extension",className:v.container},r.a.createElement("div",{"data-test-id":"close-wrapper",className:v.closeWrapper},r.a.createElement(S.a,{"data-iskeynav":!0,"data-test-id":"cue-close-button",kind:g.Kinds.CLOSE,size:g.Sizes.XS,onClick:this.onClose,title:e(I.close),colorStates:{normal:g.ColorStates.DISABLED,hovered:g.ColorStates.SELECTED},tabIndex:0})),r.a.createElement("div",{className:v.imageContainer,"data-test-id":"cue-image-container"},r.a.createElement("img",{src:Object(T.a)("/img/widermail.gif"),srcSet:Object(T.a)("/img/widermail_2x.gif")+" 2x","aria-hidden":!0})),r.a.createElement("div",{className:v.content},r.a.createElement("div",{className:v.mainBody},r.a.createElement("h1",{className:v.heading},r.a.createElement(p.FormattedMessage,I.heading)),r.a.createElement("p",{className:v.bodyTextContainer},r.a.createElement(p.FormattedMessage,I.description)),r.a.createElement("div",{className:v.ctaButtonContainer},r.a.createElement(c.a,{"data-test-id":"cue-get-extension-button",kind:h.a.PRIMARY,marginLess:!0,onClick:this.onGetExtension,tabIndex:0,title:e(I.getExtension)},r.a.createElement(p.FormattedMessage,I.getExtension)),r.a.createElement(c.a,{onClick:this.onMaybeLater,kind:h.a.CHROMELESS,"data-test-id":"cue-maybe-later-button",title:e(I.maybeLater),overridingClass:v.maybeLaterText},r.a.createElement(p.FormattedMessage,I.maybeLater)))))))}}s()(M,"contextTypes",{intl:p.intlShape.isRequired});const A=e=>({widerMailExtensionUrl:(0,Object(E.selectors)(e).getFeaturesSelectors)().getSetting(b.Kd.WIDER_MAIL_EXTENSION_URL)});t.default=Object(f.a)(Object(o.connect)(A)(M))},function(e,t,a){"use strict";a.r(t),a.d(t,"ANIMATION_INTERVAL",(function(){return F})),a.d(t,"resetThemeLocalDefaults",(function(){return x})),a.d(t,"mapStateToProps",(function(){return j})),a.d(t,"mapDispatchToProps",(function(){return U})),a.d(t,"DisconnectedThemesCueV3",(function(){return H}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1366),m=a(319),_=a(12),u=a.n(_),p=a(1516),h=a.n(p),g=a(18),E=a(25),b=a(21),f=a(4),C=a(478),S=a(16),y=a(69),T=a(1412),v=a(1413),I=a(5),M=a(0),A=a(10),N=a(13),k=a(185),O=a.n(k),D=a(486),P=a(45);let R=null,w=null;const F=1e3;function x(){R=null,w=null}const L=Object(c.defineMessages)({done:{id:"themes_cue.done",defaultMessage:"Done"},close:{id:"themes_cue.close",defaultMessage:"Close"},tryNow:{id:"themes_cue.trynow",defaultMessage:"Try now"},pickTheme:{id:"themes_cue.picktheme",defaultMessage:"Make your inbox your own by picking a theme."}});class B extends l.a.Component{constructor(e,t){super(e,t),s()(this,"updateThemeAndThemeMode",(e,t)=>{this.props.updateThemeAndThemeMode({updatedSettingAttributes:[{name:M.Kd.THEME,value:e},{name:M.Kd.THEME_MODE,value:t}]})}),s()(this,"updateTheme",e=>{if(R===e.currentTarget.value)return;R=e.currentTarget.value;const t={mKey:"cue_themesCueV3_updateThm",sec:I.i.FEATURE_CUE,interactionType:Object(S.getInteractionFromEvent)(e)};this.setState({theme:R},()=>{this.updateThemeVariableStyles(R,this.state.themeMode),P.b.sendI13nModel(t)})}),s()(this,"updateThemeMode",e=>{if(w===e.currentTarget.value)return;w=e.currentTarget.value;const t={mKey:"cue_themesCueV3_updateThmMode",sec:I.i.FEATURE_CUE,interactionType:Object(S.getInteractionFromEvent)(e)};this.setState({themeMode:w},()=>{this.updateThemeVariableStyles(this.state.theme,w),this.props.changeSettings({name:M.Kd.THEME_MODE,value:w,i13nModel:t})})}),s()(this,"handleOuterScroll",()=>{this.handleOuterAction()}),s()(this,"handleOuterAction",()=>{this.setState({animated:!0}),this.timeout=setTimeout(()=>{this.setState({animated:!1})},F)}),s()(this,"onDone",e=>{const t=this.props,a=t.isReturningUser,n=t.hasMappedTheme;this.updateThemeAndThemeMode(R,w),setImmediate(()=>{this.props.onClose({i13nModel:{mKey:"cue_themesCueV3_success",interactionType:Object(S.getInteractionFromEvent)(e),actionData:{isReturningUser:a,hasMappedTheme:n,finalThemeSelection:R}}})})}),s()(this,"onClose",e=>{const t=this.props,a=t.isReturningUser,n=t.hasMappedTheme;this.updateThemeAndThemeMode(R,w),setImmediate(()=>{this.props.onClose({i13nModel:{mKey:"cue_themesCueV3_close",interactionType:Object(S.getInteractionFromEvent)(e),actionData:{isReturningUser:a,hasMappedTheme:n,finalThemeSelection:R}}})})}),R=R||t.getTheme(),w=w||t.getThemeMode(),this.state={animated:!1,theme:R,themeMode:w}}componentDidMount(){this.handleOuterScroll=O()(this.handleOuterScroll,1e3),window.addEventListener("wheel",this.handleOuterScroll)}updateThemeVariableStyles(e,t){document.getElementById("themer").innerHTML=Object(D.a)(e,t)}render(){const e=this.context.intl.formatMessage,t=this.onClose,a=this.updateTheme,n=this.updateThemeMode,s=this.onDone,i=this.handleOuterAction,r=this.props,o=r.userDisplayName,m=r.isReturningUser,_=r.hasMappedTheme,p=r.photoThemes,S=r.partnerBrand,y=this.state,I=y.animated,M=y.theme,A=y.themeMode,N=u()(h.a,{animated:I});return l.a.createElement(d.a,{onClose:t,onOuterClick:i,kind:C.a.LIGHT,ariaLabelledBy:"themes-cue-title",ariaDescribedBy:"themes-cue-description"},l.a.createElement("div",{className:N.container,"data-test-id":"themes-cue"},l.a.createElement("div",{className:N.separator}),l.a.createElement("div",{className:N.close},l.a.createElement(b.default,{onClick:t,kind:f.Kinds.CLOSE,size:f.Sizes.XS,title:e(L.close),"aria-label":e(L.close),"data-test-id":"themes-cue-close"})),l.a.createElement("div",{"data-test-id":"content",className:N.content},l.a.createElement("div",{className:N.heading,id:"themes-cue-title"},l.a.createElement(c.FormattedMessage,{id:"themes.cue_welcome_new_user",defaultMessage:"Welcome, {userDisplayName}!",values:{userDisplayName:o}})),l.a.createElement("div",{className:N.description,id:"themes-cue-description"},l.a.createElement(c.FormattedMessage,m?L.pickTheme:_?{id:"themes.cue_mapped_theme_msg",defaultMessage:"Based on your prior mailbox, we picked this theme just for you. We think you’ll love it."}:L.pickTheme)),l.a.createElement("div",{className:N.settingCover},l.a.createElement(T.a,{themeSetting:M,onChange:a,cueMode:!0,photoThemes:p,partnerBrand:S,liteVersion:!0})),l.a.createElement("div",{className:N.settingCover},l.a.createElement("div",{className:N.settings},l.a.createElement(v.a,{themeSetting:M,themeModeSetting:A,onChange:n,cueMode:!0,liteVersion:!0}))),l.a.createElement("div",{className:N.buttonContainer},l.a.createElement(g.a,{style:{height:"30px",lineHeight:"22px",width:"128px"},onClick:s,title:e(L.done),"data-test-id":"themes-cue-done",kind:E.a.SECONDARY,"aria-label":e(L.done),paddingLess:!0},l.a.createElement(c.FormattedMessage,L.done))))))}componentWillUnmount(){window.removeEventListener("wheel",this.handleOuterScroll),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}}s()(B,"contextTypes",{intl:c.intlShape,executeAction:r.a.func,getTheme:r.a.func,getThemeMode:r.a.func,config:r.a.object.isRequired,mailBrandNameString:r.a.string});const j=e=>{const t=(0,Object(A.selectors)(e).getFeaturesSelectors)();return{isReturningUser:t.isEnabled(M.Eb.IS_RETURNING_USER),hasMappedTheme:t.isEnabled(M.Eb.HAS_MAPPED_THEME),partnerBrand:t.getSetting(M.Kd.PARTNER_BRAND)}},U=e=>({updateThemeAndThemeMode:t=>e(Object(y.n)(t)),changeSettings:t=>e(Object(y.b)(t))}),H=Object(m.a)(B);t.default=Object(m.a)(Object(N.connect)(j,U)(B))},function(e,t,a){"use strict";a.r(t),a.d(t,"ReConsentCue",(function(){return o}));a(7);var n=a(1),s=a.n(n),i=a(319),r=a(5);class o extends s.a.Component{componentDidMount(){this.bannerIntervalId=setInterval(()=>{window.OathReConsent&&!1===window.OathReConsent.isActive&&this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",sec:r.i.FEATURE_CUE,interactionType:r.e.click}})},1e3)}componentWillUnmount(){this.bannerIntervalId&&(this.bannerIntervalId=clearInterval(this.bannerIntervalId))}render(){return window.OathReConsent&&"function"==typeof window.OathReConsent.showBanner&&window.OathReConsent.showBanner(),null}}t.default=Object(i.a)(o)},function(e,t,a){"use strict";a.r(t),a.d(t,"LockerFeatureCue",(function(){return o}));a(7);var n=a(1),s=a.n(n),i=a(319),r=a(5);class o extends s.a.Component{componentDidMount(){let e=0;this.lockerRenderfeatureIntervalId=setInterval(()=>{window.__locker__&&"function"==typeof window.__locker__.isLockerLoaded&&window.__locker__.isLockerLoaded()&&"function"==typeof window.__locker__.renderFeatureToolTip?(this.lockerRenderfeatureIntervalId&&(this.lockerRenderfeatureIntervalId=clearInterval(this.lockerRenderfeatureIntervalId)),window.__locker__.renderFeatureToolTip(),this.lockerIntervalId=setInterval(()=>{window.__locker__.hasLockerFeatureCueClosed()&&this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",sec:r.i.FEATURE_CUE,interactionType:r.e.click}})},1e3)):this.lockerRenderfeatureIntervalId&&5==++e&&clearInterval(this.lockerRenderfeatureIntervalId)},1e3)}componentWillUnmount(){this.lockerIntervalId&&(this.lockerIntervalId=clearInterval(this.lockerIntervalId))}render(){return null}}t.default=Object(i.a)(o)},function(e,t,a){"use strict";a.r(t),a.d(t,"LastPassFreeTrialUpsell",(function(){return D})),a.d(t,"mapStateToProps",(function(){return P}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(1527),d=a.n(c),m=a(10),_=a(13),u=a(6),p=a(0),h=a(18),g=a(25),E=a(98),b=a(203),f=a(319),C=a(90),S=a(4),y=a(16),T=a(49),v=a(2),I=a(94);const M="/img/icon_computer.png",A="/img/icon_computer_2x.png",N="/img/yahoo_new_logo_transparent.png",k="/img/yahoo_new_logo_transparent_2x.png",O=Object(u.defineMessages)({header_no_image:{id:"lastpass_freetrial_header_text",defaultMessage:"Password overload? Let us help"},header_with_image:{id:"lastpass_freetrial_header_image_text",defaultMessage:"Ease the password hassle."},subheader:{id:"lastpass_freetrial_subheader_text",defaultMessage:"Let us help."},body:{id:"lastpass_freetrial_body_text",defaultMessage:"Never forget or mistype another password. As a part of the Yahoo family you get a free* 30-day trial of LastPass."},ctaText:{id:"lastpass_freetrial_cta_text",defaultMessage:"Try LastPass free*"},close:{id:"lastpass_freetrial_close",defaultMessage:"Close"}});class D extends l.a.Component{constructor(...e){super(...e),s()(this,"onExternalClick",()=>{const e=this.props;e.isCueActive&&this.props.onClose({i13nModel:{mKey:"cue_"+e.cueName+"_outerclick_close",actionData:{version:e.version}}})}),s()(this,"onClose",e=>{const t=this.props,a=t.cueName,n=t.version;this.sendExternalClickEventOnUnmount=!1,this.props.onClose({i13nModel:{mKey:"cue_"+a+"_close",interactionType:Object(y.getInteractionFromEvent)(e),actionData:{version:n}}})}),s()(this,"onTryNow",(e,t)=>{const a=this.props,n=a.cueName,s=a.version;this.sendExternalClickEventOnUnmount=!1,this.props.onClose({i13nModel:{mKey:"cue_"+n+"_try_now",interactionType:Object(y.getInteractionFromEvent)(t),actionData:{version:s}}}),Object(I.a)(e)})}componentDidMount(){const e=this.props.impressionTracker;Object(E.a)(e,!1),this.sendExternalClickEventOnUnmount=!0}componentDidUpdate(){this.props.userInteractedWithMail&&(this.sendExternalClickEventOnUnmount=!1,this.onExternalClick())}componentWillUnmount(){this.sendExternalClickEventOnUnmount&&this.onExternalClick()}render(){const e=this.props,t=e.version,a=e.redirectUrl,n=this.context.intl.formatMessage,s=this.context.getCss(d.a,{noImage:"NO_IMAGE"===t});return l.a.createElement(b.a,null,l.a.createElement("div",{className:s.lastPassContainer},l.a.createElement("div",{className:s.purpleHeader},l.a.createElement("img",{className:s.logo,src:Object(T.a)(N),srcSet:Object(T.a)(k)+" 2x","aria-hidden":!0}),l.a.createElement("div",{"data-test-id":"close-wrapper",className:s.closeWrapper},l.a.createElement(C.a,{"data-iskeynav":!0,"data-test-id":"cue-close-button",kind:S.Kinds.CLOSE,size:S.Sizes.XS,onClick:this.onClose,title:n(O.close),colorStates:{normal:S.ColorStates.WHITE,hovered:S.ColorStates.INVERTED_DIM}}))),l.a.createElement("div",{className:s.lastPassContent},l.a.createElement("div",{className:s.lastPassTextContainer},l.a.createElement(l.a.Fragment,null,"NO_IMAGE"===t?l.a.createElement("span",{className:s.headerText},n(O.header_no_image)):l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:s.headerText},n(O.header_with_image)),l.a.createElement("span",{className:s.subHeaderText},n(O.subheader)))),"NO_IMAGE"===t?l.a.createElement("span",{className:s.bodyTextContainer},n(O.body)):null,l.a.createElement(h.a,{title:n(O.ctaText),"data-test-id":"try-it-button",kind:g.a.PRIMARY,"aria-label":n(O.ctaText),marginLess:!0,overridingClass:s.ctaButton,onClick:this.onTryNow.bind(null,a)},n(O.ctaText))),"NO_IMAGE"===t?null:l.a.createElement("img",{className:s.image,src:Object(T.a)(M),srcSet:Object(T.a)(A)+" 2x","aria-hidden":!0}))))}}D.contextTypes={intl:u.intlShape.isRequired,getCss:r.a.func};const P=e=>{const t=Object(m.selectors)(e),a=t.getAction,n=t.isFeatureEnabled,s=(0,t.getSetting)(p.Kd.LASTPASS_FREETRIAL_UPSELL_SETTINGS),i=[v.OPEN_PAGE_REQUESTED,v.PREVIEW_MESSAGE_REQUESTED,v.CLOSE_PAGE_REQUESTED].indexOf(a().type)>=0,r=n(p.Eb.LASTPASS_FREETRIAL_UPSELL);return{version:s.version,redirectUrl:s.redirectUrl,impressionTracker:s.impressionTracker,userInteractedWithMail:i,isCueActive:r}};t.default=Object(f.a)(Object(_.connect)(P,null)(D))},function(e,t,a){"use strict";a.r(t),a.d(t,"OnboardingCue",(function(){return k})),a.d(t,"mapStateToProps",(function(){return O})),a.d(t,"mapDispatchToProps",(function(){return D}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(13),d=a(6),m=a(1366),_=a(478),u=a(319),p=a(16),h=a(1528),g=a.n(h),E=a(49),b=a(10),f=a(18),C=a(25),S=a(17),y=a(4),T=a(1379),v=a(0),I=a(204),M=a(480),A=a(5);const N=Object(d.defineMessages)({rewards_onboarding_username:{id:"rewards_onboarding_username",defaultMessage:"Hi {accountName}!"},rewards_onboarding_subtitle:{id:"rewards_onboarding_subtitle",defaultMessage:"Wanna earn points and redeem rewards for free?"},rewards_onboarding_title:{id:"rewards_onboarding_title",defaultMessage:"Hi! Wanna earn points and redeem rewards for free?"},rewards_onboarding_description:{id:"rewards_onboarding_description",defaultMessage:"{mailBrandingString} now launch Yahoo Rewards Program, check your mailbox every day and earn YPoints to redeem rewards."},rewards_cta_join_now:{id:"rewards_cta_join_now",defaultMessage:"Join Now"},rewards_cta_get_started:{id:"rewards_cta_get_started",defaultMessage:"Get Started"}});class k extends l.a.Component{constructor(...e){super(...e),s()(this,"getRapidEvent",(e,t)=>{const a=this.props.atosInfo.atosStatus;return{i13nModel:{mKey:e,interactionType:Object(p.getInteractionFromEvent)(t),actionData:{atosStatus:a}}}}),s()(this,"onClose",e=>{this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),s()(this,"handleOverlayClick",e=>{e.preventDefault(),e.stopPropagation(),this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_escape",e))}),s()(this,"buttonClick",e=>{const t=this.props,a=t.atosInfo,n=a.atosStatus,s=a.url,i=t.membershipRewardsIconToggled,r=t.tmrNavigateToAtos,o=t.cueName;n===v.oe.AGREED?((0,t.onClose)(this.getRapidEvent("cue_"+o+"_success",e)),i({name:v.pd.MEMBERSHIP_REWARDS})):(r({i13nModel:{mKey:A.g.TMR_NAVIGATE_TO_ATOS,sec:A.i.MEMBERSHIP_REWARDS,interactionType:A.e.click,actionData:{atosStatus:n,cueName:o}}}),window.open(s+`?.done=${encodeURIComponent(T.c)}&.src=${T.a[this.context.region]||"media-tw"}`,"_self"))})}render(){const e=this.props,t=e.accountName,a=e.atosInfo.atosStatus,n=this.context.getCss(g.a),s=this.context.intl.formatMessage,i=s(a===v.oe.AGREED?N.rewards_cta_get_started:N.rewards_cta_join_now),r="hk"===this.context.region?"/img/tmr_hk_onboarding_cue.svg":"/img/tmr_tw_onboarding_cue.svg";return l.a.createElement(m.a,{onClose:this.handleOverlayClick,onOuterClick:()=>{},kind:_.a.DARK,ariaLabelledBy:"tmr-onboarding-cue",ariaDescribedBy:"tmr-onboarding-cue"},l.a.createElement("div",{"data-test-id":this.props.cueName,className:n.container},l.a.createElement("div",{className:n.close,onClick:this.onClose},l.a.createElement(S.b,{kind:y.Kinds.CLOSE,size:y.Sizes.XS,colorState:y.ColorStates.INHERITED})),l.a.createElement("img",{className:n.cueImg,src:Object(E.a)(r)}),l.a.createElement("div",{className:n.containerText},t?l.a.createElement("div",{className:n.containerTitle},l.a.createElement("span",{className:n.titleText},s(N.rewards_onboarding_username,{accountName:t})),l.a.createElement("span",null,s(N.rewards_onboarding_subtitle))):l.a.createElement("div",{className:n.containerTitle},s(N.rewards_onboarding_title)),l.a.createElement("div",{className:n.containerDescription},s(N.rewards_onboarding_description,{mailBrandingString:s(I.a.mailBrandName)})),l.a.createElement(f.a,{title:i,"data-test-id":"tmr-onboarding-cue-cta",kind:C.a.PRIMARY,"aria-label":i,marginLess:!0,overridingClass:n.ctaButton,onClick:this.buttonClick},i))))}}k.contextTypes={getCss:r.a.func,intl:d.intlShape,region:r.a.string};const O=e=>{const t=Object(b.selectors)(e),a=t.getSelectedAccountId,n=t.getMembershipRewardsSelectors;return{accountName:(0,(0,t.getAccountSelectors)().getAccountNameByAccountId)(a()),atosInfo:n().getAtosInfo()}},D=e=>({membershipRewardsIconToggled:t=>e(Object(M.a)(t)),tmrNavigateToAtos:t=>e(Object(M.d)(t))});t.default=Object(u.a)(Object(c.connect)(O,D)(k))},function(e,t,a){"use strict";a.r(t),a.d(t,"LightboxNotification",(function(){return B})),a.d(t,"mapStateToProps",(function(){return j})),a.d(t,"mapDispatchToProps",(function(){return U}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(13),d=a(6),m=a(12),_=a.n(m),u=a(1366),p=a(319),h=a(478),g=a(1532),E=a.n(g),b=a(5),f=a(0),C=a(49),S=a(17),y=a(4),T=a(18),v=a(25),I=a(10),M=a(321),A=a(58),N=a(98),k=a(94);const O=f.gc.NOT_SUBSCRIBED,D=f.gc.SUBSCRIBED,P=f.hc.PRE_SIGNUP_LIGHTBOX,R=f.hc.FREE_TRIAL_ENDING_NOTICATION_2,w=f.hc.FREE_TRIAL_LAST_DAY_NOTIFICATION,F=f.hc.FREE_TRIAL_EXPIRED_NOTIFICATION,x=[y.Kinds.NO_ADS,y.Kinds.NUMBER_ONE,y.Kinds.STOPWATCH_DASHES],L=Object(d.defineMessages)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},gift_from_yahoo_title:{id:"gift_from_yahoo_title",defaultMessage:"{yahooBrandNameString} has a gift for you!"},days_left_of_trial_title:{id:"days_left_of_trial_title",defaultMessage:"{leftDays, plural, one {# day left of your preview} other {# days left of your preview}}"},last_day_of_trial_title:{id:"last_day_of_trial_title",defaultMessage:"Last day of your preview"},end_of_trial_title:{id:"end_of_trial_title",defaultMessage:"Your preview has ended"},mailpro_free_trial_onboarding_subtitle:{id:"mailpro_free_trial_onboarding_subtitle",defaultMessage:"Enjoy ad-free mail and more for {daysDuration} days."},mailpro_free_trial_subtitle:{id:"mailpro_free_trial_subtitle",defaultMessage:"Upgrade now to keep {YahooMailProBrand} benefits after your preview ends."},end_of_trial_subtitle:{id:"end_of_trial_subtitle",defaultMessage:"Want to keep using {YahooMailProBrand}? You can still get the ad-free premium mail experience for only {mailproPricing} / month."},no_ads_across_all_devices:{id:"no_ads_across_all_devices",defaultMessage:"No ads across all devices"},priority_customer_support:{id:"priority_customer_support",defaultMessage:"Priority customer support"},even_faster_performance:{id:"even_faster_performance",defaultMessage:"Even faster performance"},mailpro_free_trial_cta_remove_ads:{id:"mailpro_free_trial_cta_remove_ads",defaultMessage:"Remove ads"},try_again:{id:"launch.error.try.again",defaultMessage:"Try again"},mailpro_free_trial_cta_upgrade:{id:"mailpro_free_trial_cta_upgrade",defaultMessage:"Upgrade to {YahooMailProBrand}"},mailpro_free_trial_cta_keep:{id:"mailpro_free_trial_cta_keep",defaultMessage:"Keep using {YahooMailProBrand}"},not_now:{id:"onboarding.buttons.not_now",defaultMessage:"Not now"},go_back_to_yahoo_mail:{id:"go_back_to_yahoo_mail",defaultMessage:"Go back to ad supported {yahooBrandNameString} Mail"},error_text:{id:"error_text",defaultMessage:"Error!"}});class B extends l.a.Component{constructor(...e){super(...e),s()(this,"getTextStrings",e=>{const t=this.context.yahooBrandNameString,a=this.props,n=a.purchaseFreeTrialFailed,s=a.leftDays,i=a.mailproPricing;switch(a.upsellId){case P:return{titleText:e(L.gift_from_yahoo_title,{yahooBrandNameString:t}),subTitleText:e(L.mailpro_free_trial_onboarding_subtitle,{daysDuration:f.fc}),ctaButtonText:e(n?L.try_again:L.mailpro_free_trial_cta_remove_ads),buttonText:e(L.not_now)};case R:case w:{let t=e(L.last_day_of_trial_title);s>0&&(t=e(L.days_left_of_trial_title,{leftDays:s}));return{titleText:t,subTitleText:e(L.mailpro_free_trial_subtitle,{YahooMailProBrand:e(L.yahoo_mail_pro_branding)}),ctaButtonText:e(L.mailpro_free_trial_cta_upgrade,{YahooMailProBrand:e(L.yahoo_mail_pro_branding)}),buttonText:e(L.not_now)}}case F:return{titleText:e(L.end_of_trial_title),subTitleText:e(L.end_of_trial_subtitle,{YahooMailProBrand:e(L.yahoo_mail_pro_branding),mailproPricing:i}),ctaButtonText:e(L.mailpro_free_trial_cta_keep,{YahooMailProBrand:e(L.yahoo_mail_pro_branding)}),buttonText:e(L.go_back_to_yahoo_mail,{yahooBrandNameString:t})}}}),s()(this,"handleCloseClick",()=>{const e=this.props;(0,e.onClose)({i13nModel:{mKey:"lightbox_"+e.cueName+"_dismiss_"+e.upsellId,sec:b.i.MAILPRO_FREE_TRIAL,interactionType:b.e.click}})}),s()(this,"handleOverlayClick",()=>{this.props.onClose({i13nModel:{mKey:"lightbox_"+this.props.cueName+"_escape_"+this.props.upsellId,sec:b.i.MAILPRO_FREE_TRIAL,interactionType:b.e.click}})}),s()(this,"handleButtonClick",()=>{const e=this.props,t=e.onClose,a=e.purchaseMailproFreeTrial,n=e.cueName,s=e.leftDays,i=e.upsellId,r={[R]:e.lightboxEndingClickURL,[w]:e.lightboxLastDayClickURL,[F]:e.lightboxEndOfTrialClickURL};switch(i){case P:return void a({i13nModel:{mKey:"lightbox_"+n+"_subscription",sec:b.i.MAILPRO_FREE_TRIAL,interactionType:b.e.click}});case R:case w:case F:Object(k.a)(r[i]),t({i13nModel:{mKey:"lightbox_"+n+"_upgrade_"+i,sec:b.i.MAILPRO_FREE_TRIAL,actionData:{leftDays:s},interactionType:b.e.click}})}})}componentDidMount(){const e=this.props,t=e.upsellId,a={[R]:e.lightboxEndingImpressionURL,[w]:e.lightboxLastDayImpressionURL,[F]:e.lightboxEndOfTrialImpressionURL};t!==P&&Object(N.a)(a[t],!1)}componentDidUpdate(e){e.subscriptionStatus===O&&this.props.subscriptionStatus===D&&window.location.reload(!0)}renderErrorMessage(e,t){return l.a.createElement("div",{className:e.errorMessageContainer},l.a.createElement(S.b,{kind:y.Kinds.EXCLAMATION_ALT,size:y.Sizes.XS,colorState:y.ColorStates.WARNING_GRAD_RED}),t(L.error_text))}renderIcons(e,t,a){const n=this.context.intl.formatMessage;let s="",i="";switch(e){case y.Kinds.NO_ADS:s=L.no_ads_across_all_devices,i=a.iconBackground_noAds;break;case y.Kinds.NUMBER_ONE:s=L.priority_customer_support,i=a.iconBackground_numberOne;break;case y.Kinds.STOPWATCH_DASHES:s=L.even_faster_performance,i=a.iconBackground_stopWatch}return l.a.createElement("div",{className:a.container,key:"lightbox_icon_"+t},l.a.createElement("div",{className:i},l.a.createElement(S.b,{kind:e,size:y.Sizes.XL,colorState:y.ColorStates.INHERITED})),l.a.createElement("span",{className:a.text},n(s)))}renderImg(e,t){return t===F?l.a.createElement("div",{className:e.imgContainer,"data-test-id":"mailpro-free-trial-expired"},l.a.createElement("img",{className:e.endTrialImg,src:Object(C.a)("/img/mailpro_upsell_desktop_mobile_1x.png"),srcSet:Object(C.a)("/img/mailpro_upsell_desktop_mobile_2x.png")+" 2x"}),l.a.createElement("img",{className:e.mailproLogo,src:Object(C.a)("/img/mail_pro_english_white_1x.png"),srcSet:Object(C.a)("/img/mail_pro_english_white_2x.png")+" 2x"})):null}renderCtaButton(e,t){return this.props.purchaseFreeTrialInProgress?l.a.createElement("div",{className:e.loadingIndicator},l.a.createElement(A.b,null)):l.a.createElement(T.a,{title:t,"data-test-id":"mailpro-free-trial-lightbox-cta",kind:v.a.PRIMARY,"aria-label":t,marginLess:!0,overridingClass:e.ctaButton,onClick:this.handleButtonClick},t)}render(){const e=this.props,t=e.purchaseFreeTrialInProgress,a=e.purchaseFreeTrialFailed,n=e.upsellId,s=this.context.intl.formatMessage,i=this.getTextStrings(s),r=i.titleText,o=i.subTitleText,c=i.ctaButtonText,d=i.buttonText,m=_()(E.a,{endSubLightbox:n===F,hideNotNowButton:n===P&&(a||t)});return l.a.createElement(u.a,{onClose:this.handleOverlayClick,onOuterClick:()=>{},kind:h.a.DARK,ariaLabelledBy:"mailpro-free-trial-onboarding-cue",ariaDescribedBy:"mailpro-free-trial-onboarding-cue"},l.a.createElement("div",{"data-test-id":"mailpro-free-trial-lightbox",className:m.cueContainer},l.a.createElement("div",{className:m.close,onClick:this.handleCloseClick},l.a.createElement(S.b,{kind:y.Kinds.CLOSE,size:y.Sizes.XS,colorState:y.ColorStates.INHERITED})),this.renderImg(m,n),l.a.createElement("div",{className:m.upsellContainer},l.a.createElement("div",{className:m.titlesContainer},l.a.createElement("span",{className:m.title},r),l.a.createElement("span",{className:m.subTitle},o)),n!==F&&l.a.createElement("div",{"data-test-id":"icons-container",className:m.iconsContainer},x.map((e,t)=>this.renderIcons(e,t,m))),l.a.createElement("div",{className:m.buttonsContainer},a&&this.renderErrorMessage(m,s),this.renderCtaButton(m,c),l.a.createElement(T.a,{title:d,"data-test-id":"mailpro-free-trial-lightbox-dismiss-button",kind:v.a.TEXT,"aria-label":d,overridingClass:m.dismissButton,onClick:this.handleCloseClick},d)))))}}s()(B,"contextTypes",{intl:d.intlShape,yahooBrandNameString:r.a.string});const j=e=>{const t=Object(I.selectors)(e),a=t.getSetting,n=(0,t.getMailproFreeTrialSelectors)(),s=n.getSubscriptionStatus,i=n.isPurchaseFreeTrialFailed,r=n.getDaysLeftInTrial,o=n.getUpsellId,l=(0,n.isPurchaseFreeTrialInProgress)(),c=s(),d=i(),m=r(),_=o(),u=a(f.Kd.MAIL_PRO_MONTHLY_PRICE),p=a(f.Kd.MAILPRO_UPSELL_INSTRUMENTATION_URL);return{purchaseFreeTrialInProgress:l,subscriptionStatus:c,purchaseFreeTrialFailed:d,leftDays:m,mailproPricing:u,upsellId:_,lightboxEndingImpressionURL:p.lightboxEndingImpressionURL,lightboxEndingClickURL:p.lightboxEndingClickURL,lightboxLastDayImpressionURL:p.lightboxLastDayImpressionURL,lightboxLastDayClickURL:p.lightboxLastDayClickURL,lightboxEndOfTrialImpressionURL:p.lightboxEndOfTrialImpressionURL,lightboxEndOfTrialClickURL:p.lightboxEndOfTrialClickURL}},U=e=>({purchaseMailproFreeTrial:t=>e(Object(M.a)(t))});t.default=Object(p.a)(Object(c.connect)(j,U)(B))},,,function(e,t,a){"use strict";a.r(t),a.d(t,"RightRailContactCard",(function(){return d})),a.d(t,"mapStateToProps",(function(){return m}));a(7);var n=a(1),s=a.n(n),i=a(13),r=a(501),o=a(10),l=a(8),c=a(0);class d extends s.a.Component{render(){const e=this.props,t=e.email;return e.hideContactCard?null:s.a.createElement(r.a,{key:"contactCard"+t,isInRightRail:!0,email:t,name:e.name,messageIds:e.msgId,isCompose:!1,showContactSummary:e.showContactSummary})}}const m=e=>{const t=Object(o.selectors)(e),a=t.getCurrentListId,n=t.getParticipantInFocus,s=t.getGroupId,i=t.getMessageIdsFromMessageGroupId,r=t.isMyEmailAddress,d=(0,t.isFeatureEnabled)(c.Eb.MESSAGE_READ_CONTACT_CARD),m=d?n():{email:Object(l.n)(a())},_=i(s()),u=m||{},p=u.email,h=u.name;return{email:p,hideContactCard:r(p),msgId:_,name:h,showContactSummary:!d}};t.default=Object(i.connect)(m)(d)},,,function(e,t,a){"use strict";a.r(t),a.d(t,"SubscriptionAd",(function(){return f})),a.d(t,"mapStateToProps",(function(){return C}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(10),m=a(0),_=a(13),u=a(62),p=a(18),h=a(1707),g=a.n(h),E=a(323);const b=Object(c.defineMessages)({header:{id:"subscriptionAd.defaultHeader",defaultMessage:"Other subscriptions you might like"}});class f extends l.a.Component{constructor(...e){super(...e),s()(this,"renderSubscriptionAdItem",e=>{if(!e||!e.pencilAd)return null;const t=this.context.getCss(g.a),a=e.pencilAd;return l.a.createElement("a",{className:t.item,key:a.clickUrl,href:a.clickUrl,rel:"noreferrer",target:"_blank"},l.a.createElement("div",{className:t.avator},l.a.createElement(E.a,{size:u.b.M,imageSrc:a.adImg})),l.a.createElement("div",null,l.a.createElement("div",{className:t.headline},a.adSource),l.a.createElement("div",{className:t.summary},a.adSummary),l.a.createElement(p.a,{marginLess:!0},a.callToAction)))})}render(){const e=this.context.intl.formatMessage,t=this.context.getCss(g.a),a=this.props.subscriptionAdData;return a.length?l.a.createElement("div",{className:t.container},l.a.createElement("div",{className:t.header},e(b.header)),a.map(e=>this.renderSubscriptionAdItem(e))):null}}s()(f,"contextTypes",{intl:c.intlShape.isRequired,getCss:r.a.func});const C=e=>{const t=Object(d.selectors)(e),a=t.getSetting;return{subscriptionAdData:(0,(0,t.getAdsSelectors)().getGeminiAdDataInArray)(a(m.Kd.GEMINI_SECTION_IDS)[m.Nb.SUBSCRIPTION])}};t.default=Object(_.connect)(C)(f)},function(e,t,a){"use strict";a.r(t),a.d(t,"RightRailNativeAd",(function(){return p})),a.d(t,"mapStateToProps",(function(){return h}));var n=a(7),s=a.n(n),i=a(1),r=a.n(i),o=a(13),l=a(9),c=(a(51),a(10)),d=a(62),m=a(1708),_=a.n(m),u=a(323);class p extends i.Component{render(){const e=this.props.pencilAdData,t=e.adHeadline,a=e.adImg,n=e.adSummary,s=e.clickUrl,i=e.adSource,o=this.context.getCss(_.a,{narrowScreen:this.props.isNarrowScreen});return r.a.createElement("div",{className:o.container},r.a.createElement("a",{href:s,rel:"noreferrer",target:"_blank",className:o.header},r.a.createElement("div",{className:o.avator},a&&r.a.createElement(u.a,{size:d.b.M,imageSrc:a})),r.a.createElement("div",{className:o.headline},t)),r.a.createElement("div",{className:o.summary},n),r.a.createElement("a",{href:s,rel:"noreferrer",target:"_blank",className:o.source},i))}}const h=e=>{const t=Object(c.selectors)(e),a=t.getAdsSelectors,n=t.isNarrowScreen,s=(0,t.getRoute)(),i=Object(l.b)(s,"params.creativeId"),r=((0,a().getSponsoredAd)(i)||{}).pencilAd;return{isNarrowScreen:n(),pencilAdData:r}};p.contextTypes={getCss:s.a.func},t.default=Object(o.connect)(h)(p)},function(e,t,a){"use strict";a.r(t),a.d(t,"RelatedSearchesCard",(function(){return T})),a.d(t,"mapStateToProps",(function(){return v})),a.d(t,"mapDispatchToProps",(function(){return I}));var n=a(7),s=a.n(n),i=a(1),r=a.n(i),o=a(13),l=a(6),c=a(447),d=a(10),m=a(549),_=a(1709),u=a.n(_),p=a(5),h=a(0),g=a(22),E=a(94),b=a(17),f=a(4),C=a(23);const S=Object(l.defineMessages)({header:{id:"relatedSearchesCard.header",defaultMessage:"Learn more about {domainName}"},fallbackHeader:{id:"relatedSearchesCard.fallbackHeader",defaultMessage:"Learn more"}}),y={default:1,numberList:2,tagCard:3,hoverRow:4,cornerFold:5};class T extends i.Component{constructor(){super(),this.state={hoveredQuery:null}}onQueryClick(e,t){const a=this.props,n=a.handleRelatedSearchesCardClicked,s=a.styleVariation,i=a.emailAddress;e.preventDefault(),n({i13nModel:{mKey:p.g.RELATED_SEARCHES_CARD_CLICKED,sec:p.i.RIGHT_RAIL_RELATED_SEARCHES_CARD,interactionType:p.e.click,actionData:{query:t,emailAddress:i}}}),Object(E.a)(`https://search.yahoo.com/search?p=${encodeURIComponent(t)}&fr=amplify_m2s_rr&type=norrin_rr${y[s]}`)}renderQueryList(e,t){const a=this.props,n=a.relatedSearchesForDomain,s=a.styleVariation,i=this.state.hoveredQuery,o=this.context.getTheme(),l=g.k[o].COMPOSE_BUTTON_COLOR,c=t?"#188fff":l,d={backgroundColor:Object(C.a)(l,.4)},m={borderBottomColor:c},_={backgroundColor:Object(C.a)(l,.4)},u={display:"flex"};return t||(m.borderLeftColor=Object(C.a)(l,.4)),this.randomQueries=this.randomQueries||n.slice().sort(()=>.5-Math.random()).slice(0,5),this.randomQueries.map(a=>{const n=i===a.query;return r.a.createElement("li",{className:e.query,key:a.query,onClick:e=>this.onQueryClick(e,a.query),onMouseEnter:()=>this.setState({hoveredQuery:a.query}),onMouseLeave:()=>this.setState({hoveredQuery:null}),style:n&&!t&&"cornerFold"===s?_:{}},a.query,r.a.createElement("span",{className:e.searchIcon,style:n&&"tagCard"!==s&&"numberList"!==s?u:{}},r.a.createElement(b.b,{kind:f.Kinds.SEARCH_MINI,size:f.Sizes.XS,colorState:f.ColorStates.INHERITED})),r.a.createElement("span",{className:e.square,style:n&&!t?d:{}}),r.a.createElement("span",{className:e.corner,style:n?m:{}}))})}render(){const e=this.props,t=e.relatedSearchesForDomain,a=e.contactName,n=this.context.intl.formatMessage,s=a?n(S.header,{domainName:a}):n(S.fallbackHeader),i=this.context.getThemeMode()===g.i.LIGHT,o=this.context.getCss(u.a,{[i?this.props.styleVariation:"darkTheme_"+this.props.styleVariation]:!0});return t&&t.length?r.a.createElement("div",{"data-test-id":"related-searches-card",className:o.container},r.a.createElement("h1",{className:o.header},s),r.a.createElement("ul",{className:o.queryList},r.a.createElement("span",{className:o.circle}),r.a.createElement("span",{className:o.webSearchIcon},r.a.createElement(b.b,{kind:f.Kinds.SEARCH_WEB,size:f.Sizes.XXXL,colorState:f.ColorStates.ICON_HOVER_BGCOLOR})),this.renderQueryList(o,i))):null}}T.contextTypes={getCss:s.a.func,intl:l.intlShape,getThemeMode:s.a.func,getTheme:s.a.func};const v=e=>{const t=Object(d.selectors)(e),a=t.getAdsSelectors,n=t.getContactListSelectors,s=t.getSetting,i=((0,t.getParticipantInFocus)()||{}).email,r=a().getRelatedSearches,o=n().getContacts,l=r(),c=Object(m.a)(l,i),_=s(h.Kd.RELATED_SEARCHES_CARD_STYLE),u=o();let p="";for(const e in u){const t=u[e],a=t.emails,n=t.name,s=void 0===n?"":n;if((void 0===a?[]:a).indexOf(i)>-1){p=s;break}}return{relatedSearchesForDomain:c,emailAddress:i,contactName:p,styleVariation:_}},I=e=>({handleRelatedSearchesCardClicked:t=>e(Object(c.a)(t))});t.default=Object(o.connect)(v,I)(T)},function(e,t,a){"use strict";a.r(t),a.d(t,"RetailerFilter",(function(){return T}));var n=a(3),s=a.n(n),i=a(1),r=a.n(i),o=a(7),l=a.n(o),c=a(13),d=a(10),m=a(6),_=a(62),u=a(1712),p=a.n(u),h=a(8),g=a(76),E=a(0),b=a(5),f=a(14),C=a(17),S=a(4);const y=Object(m.defineMessages)({header:{id:"retailer_filter.header",defaultMessage:"Filter by sender"},viewAll:{id:"retailer_filter.viewAll",defaultMessage:"View all"},viewLess:{id:"retailer_filter.viewLess",defaultMessage:"View less"},allRetailers:{id:"retailer_filter.allRetailers",defaultMessage:"All retailers"}});class T extends i.Component{constructor(){super(),this.handleRetailerClick=this.handleRetailerClick.bind(this)}handleRetailerClick({name:e,email:t,allRetailers:a}){const n=this.props,s=n.activeAccountId,i={mKey:b.g.RETAILER_FILTER_CLICKED,sec:b.i.RIGHT_RAIL,actionData:{retailer:e}};if(n.selectedRetailer===e||a)this.context.navigateTo({route:Object(f.x)(E.Ud.COUPONS,{accountIds:s}),i13nModel:i});else{const a={name:e,emailAddresses:[t],accountIds:s},n=Object(h.d)(Object(g.b)(E.Ud.COUPONS,a)),r=Object(h.ib)(n);this.context.navigateTo({route:{name:E.rd.SEARCH,params:{query:r}},i13nModel:i})}}renderRetailerList(e){const t=this.props,a=t.selectedRetailer,n=this.context.intl.formatMessage,s=[...t.retailers];return s.unshift({allRetailers:!0}),s.map(({name:t="",email:s="",allRetailers:i=!1})=>r.a.createElement("li",{className:!a&&i||t===a?e.retailerSelected:e.retailer,key:t,onClick:()=>this.handleRetailerClick({name:t,email:s,allRetailers:i})},r.a.createElement("div",{className:i?e.tagContainer:null},i?r.a.createElement("div",{className:e.tag},r.a.createElement(C.b,{kind:S.Kinds.TAG_FILL,size:S.Sizes.S,colorState:S.ColorStates.PURPLE})):r.a.createElement(_.c,{contact:{email:s},size:_.b.M})),r.a.createElement("span",{className:e.retailerName},i?n(y.allRetailers):t)))}render(){const e=this.context.getCss(p.a);return this.props.retailers&&this.props.retailers.length?r.a.createElement("div",{className:e.container,"data-test-id":"retailer-filter"},r.a.createElement("h2",{className:e.header},(0,this.context.intl.formatMessage)(y.header)),r.a.createElement("ul",{className:e.retailers},this.renderRetailerList(e))):null}}s()(T,"contextTypes",{getCss:l.a.func,intl:m.intlShape.isRequired,navigateTo:l.a.func.isRequired});t.default=Object(c.connect)(e=>{const t=Object(d.selectors)(e),a=t.getFormattedTopRetailers,n=t.getSelectedAccountId,s=(0,t.getRoute)(),i=s.params;let r="";if(s.name===E.rd.SEARCH&&i.query){const e=Object(h.A)(i.query);r=Object(h.B)(e)}return{retailers:a(),activeAccountId:n(),selectedRetailer:r}})(T)},function(e,t,a){"use strict";a.r(t),a.d(t,"RightPaneGroceriesList",(function(){return J})),a.d(t,"mapDispatchToProps",(function(){return $})),a.d(t,"mapStateToProps",(function(){return ee}));var n=a(33),s=a.n(n),i=a(27),r=a.n(i),o=a(3),l=a.n(o),c=a(7),d=a.n(c),m=a(1),_=a.n(m),u=a(12),p=a.n(u),h=a(6),g=a(13),E=a(59),b=a(4),f=a(17),C=a(58),S=a(94),y=a(278),T=a(49),v=a(0),I=a(45),M=a(5),A=a(22),N=a(114),k=a(98),O=a(189),D=a(8),P=a(14),R=a(10),w=a(1713),F=a.n(w);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const L=Object(T.a)("/img/empty_shopping_list.png"),B=Object(T.a)("/img/empty_shopping_cart.png"),j=Object(T.a)("/img/grocery_background.png"),U=Object(T.a)("/img/add_attachment.png"),H=Object(T.a)("/img/cart.png"),W=Object(T.a)("/img/google_play_badge.png"),G=Object(T.a)("/img/app_store_badge.png"),Z=Object(T.a)("/img/yahoo_mail_qr_code.png"),V=()=>{},q="checkout",z="decrement",Y="increment",K="refresh",X="trash",Q=Object(h.defineMessages)({header:{id:"right_pane_groceries_list.header",defaultMessage:"Shopping list"},walmart_header:{id:"right_pane_groceries_list.walmart_header",defaultMessage:"{retailerName} shopping cart"},print:{id:"right_pane_groceries_list.print",defaultMessage:"Print shopping list"},unavailable:{id:"right_pane_groceries_list.unavailable",defaultMessage:"Out of stock"},total:{id:"right_pane_groceries_list.total",defaultMessage:"Total for {items} {items, plural, one {item} other {items}}"},coupon:{id:"right_pane_groceries_list.coupon",defaultMessage:"Coupon"},save:{id:"right_pane_groceries_list.save",defaultMessage:"Save {info}"},refresh_button:{id:"right_pane_groceries_list.refresh_button",defaultMessage:"Refresh"},refresh_text:{id:"right_pane_groceries_list.refresh_text",defaultMessage:"Price and availability vary on an hourly basis. Refresh to get real-time data in store."},refresh_disabled_text:{id:"right_pane_groceries_list.refresh_disabled_text",defaultMessage:"Price and availability for your shopping cart are up-to-date now."},retailer_checkout_text:{id:"right_pane_groceries_list.retailer_checkout_text",defaultMessage:"Checkout on {retailerName}"},shopping_cart_transition_text:{id:"right_pane_groceries_list.shopping_cart_transition_text",defaultMessage:"Transferring {numberOfItems} items to {retailerName}"},transfer_to_retailer:{id:"right_pane_groceries_list.transfer_to_retailer",defaultMessage:"Transfer to {retailerName}"},empty_shopping_list_desc:{id:"right_pane_groceries_list.empty_shopping_list_decs",defaultMessage:'Your shopping list is empty. Click <img src="{urlPath}" width="18" class="{addImageClass}"/> to add your first item.'},yahoo_mail_app:{id:"right_pane_groceries_list.yahoo_mail_app",defaultMessage:"Get the shopping list on your phone with the Yahoo Mail app."},empty_shopping_cart_desc:{id:"right_pane_groceries_list.empty_shopping_cart_desc",defaultMessage:'Your shopping cart is empty.<br/>Search or click on the <img src="{addCart}" width="18" class="{addImageClass}"/> button to add to your cart.'},empty_state:{id:"grocery_helper_modal.empty_state",defaultMessage:"No item"},empty_state_total:{id:"grocery_helper_modal.empty_state_total",defaultMessage:"$0.00"}});class J extends _.a.Component{constructor(...e){super(...e),l()(this,"state",{expandOfferCardState:0,checkoutTransitionState:!1,selectedItems:{}}),l()(this,"isDarkThemeMode",()=>this.context.getThemeMode()===A.i.DARK),l()(this,"isMediumThemeMode",()=>this.context.getThemeMode()===A.i.MEDIUM),l()(this,"handlePrint",()=>{const e=this.props;(0,e.printOffers)({retailerId:e.retailerId})}),l()(this,"handleWalmartCheckout",()=>{var e,t;const a=this.props,n=a.availableItems,s=a.subTotal,i=null===(e=window)||void 0===e||null===(t=e.AppBootstrapData)||void 0===t?void 0:t.groceryBeaconHash;this.setState({checkoutTransitionState:!0}),i&&Object(k.b)(`https://www.googletagmanager.com/ns.html?id=GTM-KPZHTFH&type=wlmtgcry&cat=checkout&u1=${i}&u44=${n.length}&u45=[purchaserType]&u46=${s}`),setTimeout(()=>{var e,t;const a=this.props,n=a.availableItems,s=a.deleteProducts,i=a.preferredStore,r=a.retailerId,o=null==i||null===(e=i.fulfillmentPoints)||void 0===e||null===(t=e[0])||void 0===t?void 0:t["@id"],l=n.map(e=>`${e.offerId}_${e.quantity}`).join(",").replace(/walmart_grocery_/g,""),c="https://goto.walmart.com/c/2055067/833400/10388?veh=aff&sourceid=imp_000011112222333344&subId1=mail&u="+encodeURIComponent(`https://affil.walmart.com/cart/0/2?ap=${o}&items=${l}`);this._i13nModel({mKey:M.g.CARD_INTERACT,interactionType:q,xpname:v.Qb.GROCERY_CART}),s({retailerId:r,items:n}),Object(S.a)(c),this.setState({checkoutTransitionState:!1})},3e3)}),l()(this,"toggleOfferCardState",e=>{const t=this.state,a=t.expandOfferCardState,n=t.selectedItems;let s;n[e]?(s=a-1,n[e]=!1):(s=a+1,n[e]=!0),this.setState({selectedItems:n,expandOfferCardState:s})}),l()(this,"openItemDetail",e=>{const t=this.props.retailerId,a=Object(P.m)(t,"id!"+e);this.context.navigateTo({route:a})}),l()(this,"handleDeleteProduct",(e,t)=>{e.stopPropagation();const a=this.props,n=a.retailerId,s=a.deleteProducts;this._i13nModel({mKey:M.g.CARD_INTERACT,interactionType:X,offerId:t.offerId,xpname:v.Qb.GROCERY_CART}),s({retailerId:n,items:[t]})}),l()(this,"handleChangeProductsQuantity",(e,t,a)=>{e.stopPropagation();const n=this.props,s=n.changeProductsQuantity,i=n.deleteProducts,r=n.retailerId,o=n.retailerName;if(a&&t.quantity===t.maxQuantity)return;const c=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{quantity:t.quantity+(a?1:-1)});return c.quantity?s({categories:t.categories,contextOfUse:v.Pb.GROCERY_SHOPPING_CART,interactionType:a?Y:z,items:[c],offerIndex:-1,retailerId:r,retailerName:o}):i({retailerId:r,items:[c]})}),l()(this,"refreshShoppingList",()=>{this._i13nModel({mKey:M.g.CARD_INTERACT,interactionType:K,xpname:v.Qb.GROCERY_CART}),this.props.refreshShoppingList()})}componentDidMount(){this.props.isGroceryWithProduct&&this._i13nModel({mKey:M.g.CARD_VIEW,xpname:v.Qb.GROCERY_CART})}componentDidUpdate(e){if(0===e.availableItems.length&&1===this.props.availableItems.length){var t,a;const e=null===(t=window)||void 0===t||null===(a=t.AppBootstrapData)||void 0===a?void 0:a.groceryBeaconHash;e&&Object(k.b)("https://www.googletagmanager.com/ns.html?id=GTM-KPZHTFH&type=wlmtgcry&cat=addtocrt&u1="+e)}}_i13nModel({mKey:e,categories:t,interactionType:a,offerId:n,xpname:s}){const i={mKey:e,sec:M.i.QUOTIENT},r={featurefamily:v.Cb.IC,catetgoryid:t,offerid:n,retailername:this.props.retailerName,xpname:s};e===M.g.CARD_INTERACT&&(i.interactionType=M.e.click,r.interactiontype=a,a===q&&(r.itemsincart=this.props.numberOfItems,r.ordervalue=this.props.subTotal,r.itemsinoos=this.props.unAvailableItems.length)),i.actionData=r,I.b.sendI13nModel({i13nModel:i})}renderCheckoutProducts(e,t,a){const n=p()(F.a,{isGroceryWithProduct:!0,notShowYm6QRCode:!0,outOfStock:e,darkThemeMode:this.isDarkThemeMode()||this.isMediumThemeMode()});return _.a.createElement("div",{key:a,"data-test-id":"render-transition-product",className:n.transitionImg},_.a.createElement("img",{className:n.trasitionItemImage,"data-test-id":"thumbnail",onError:e=>Object(O.a)(e,v.jd),src:t.imageUrl}),_.a.createElement("div",{className:n.overlayContainer},_.a.createElement("div",{className:n.transitionOverLay})))}renderProductItem(e,t,a){const n=p()(F.a,{isGroceryWithProduct:!0,notShowYm6QRCode:!0,outOfStock:e,darkThemeMode:this.isDarkThemeMode()||this.isMediumThemeMode()}),s=this.isDarkThemeMode()||this.isMediumThemeMode()?b.ColorStates.WHITE:b.ColorStates.SELECTED;return _.a.createElement("div",{key:a,className:n.item,"data-test-id":"offer-card-toggle-button",onClick:()=>this.openItemDetail(t.offerId)},_.a.createElement("div",{className:n.left},_.a.createElement("img",{className:n.itemImage,"data-test-id":"thumbnail",onError:e=>Object(O.a)(e,v.jd),src:t.imageUrl}),_.a.createElement("div",{className:n.overlayContainer},_.a.createElement("div",{className:n.overlay}))),_.a.createElement("div",{className:n.right},_.a.createElement("div",null,_.a.createElement("div",{className:n.brandName},t.description),_.a.createElement("div",{className:n.actionContainer},_.a.createElement("div",{className:n.trashCan,"data-test-id":"remove-item-icon",onClick:e=>this.handleDeleteProduct(e,t)},_.a.createElement(f.b,{colorState:b.ColorStates.INHERITED,kind:b.Kinds.DELETE,size:b.Sizes.XS})),_.a.createElement("div",{className:n.numberContainer},_.a.createElement("div",{className:n.change,"data-test-id":"minus",onClick:e?V:e=>this.handleChangeProductsQuantity(e,t,!1)},_.a.createElement(f.b,{colorState:e?b.ColorStates.SECOND_LEVEL_GRAY:s,kind:b.Kinds.MINUS,size:b.Sizes.S})),_.a.createElement("label",{className:n.quantity,htmlFor:"quantity"},t.quantity),_.a.createElement("div",{className:n.change,"data-test-id":"add",onClick:e?V:e=>this.handleChangeProductsQuantity(e,t,!0)},_.a.createElement(f.b,{colorState:e||t.quantity===t.maxQuantity?b.ColorStates.SECOND_LEVEL_GRAY:s,kind:b.Kinds.ADD,size:b.Sizes.S})))))),_.a.createElement("div",{className:n.save},t.offerValue))}renderSummaryButton(e,t){const a=this.props,n=a.availableItems,s=a.isGroceryWithProduct,i=a.subTotal,r=a.retailerName,o=this.context.intl.formatMessage,l=n.length?a.numberOfItems:0;let c=t?b.ColorStates.DISABLED:b.ColorStates.SELECTED;return(this.isDarkThemeMode()||this.isMediumThemeMode())&&(c=t?b.ColorStates.COOL_FAINT:b.ColorStates.WHITE),s?_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:e.productSummary},t?_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:e.emptyState},o(Q.empty_state)),_.a.createElement("div",{className:e.totalEmpty},o(Q.empty_state_total))):_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:e.numberOfProducts},o(Q.total,{items:l})),_.a.createElement("div",{className:e.total},"$"+i))),_.a.createElement("div",{className:e.refreshContainer},_.a.createElement("button",{className:e.refreshButton,"data-test-id":"refresh",disabled:t,onClick:t?V:this.refreshShoppingList},_.a.createElement(f.b,{colorState:c,kind:b.Kinds.REFRESH,size:b.Sizes.S})," ",o(Q.refresh_button)),_.a.createElement("span",{className:e.refreshText},o(t?Q.refresh_disabled_text:Q.refresh_text))),_.a.createElement("div",{className:!n.length||t?e.walmartCheckoutEmpty:e.walmartCheckout,"data-test-id":"walmart-checkout-button",onClick:!n.length||t?V:this.handleWalmartCheckout},_.a.createElement("span",{className:e.walmartText},o(Q.retailer_checkout_text,{retailerName:r})))):t?null:_.a.createElement("div",{className:e.printContainer,"data-test-id":"print-button",onClick:this.handlePrint},_.a.createElement("div",{className:e.print},_.a.createElement(f.b,{colorState:b.ColorStates.INHERITED,kind:b.Kinds.PRINTER,size:b.Sizes.XS}),_.a.createElement("span",{className:e.printText},o(Q.print))))}renderTransitionSummaryButton(e){const t=this.props,a=t.availableItems,n=t.numberOfItems,s=t.retailerName,i=this.context.intl.formatMessage,r=a.slice(0,5);return _.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:e.partition},_.a.createElement("div",{className:e.transitionText},_.a.createElement("img",{className:e.logo,src:this.isDarkThemeMode()||this.isMediumThemeMode()?Object(T.a)("/img/walmart_logo_dark_theme_mode.png"):Object(T.a)("/img/walmart_logo_small.png")}),i(Q.shopping_cart_transition_text,{numberOfItems:n,retailerName:s}),_.a.createElement("span",{className:e.dot1},"."),_.a.createElement("span",{className:e.dot2},"."),_.a.createElement("span",{className:e.dot3},".")),_.a.createElement("div",{className:e.walmartList,"data-test-id":"walmart-list"},r.map((e,t)=>this.renderCheckoutProducts(!1,e,t)),a.length>5&&_.a.createElement("div",{className:e.transitionQuantityContainer},_.a.createElement("div",{className:e.transitionQuantity},"+"+(a.length-5)),_.a.createElement("div",{className:e.overlayContainer},_.a.createElement("div",{className:e.transitionOverLay})))),_.a.createElement("div",{className:e.walmartCheckoutTransition,"data-test-id":"walmart-checkout-button"},_.a.createElement("span",{className:e.walmartText},i(Q.transfer_to_retailer,{retailerName:s})))))}renderUnavailableItems(e){const t=this.props.unAvailableItems;return _.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:e.header},(0,this.context.intl.formatMessage)(Q.unavailable)),t.map((e,t)=>this.renderProductItem(!0,e,t)))}renderEmptyShoppingList(e){return this.props.isGroceryWithProduct?_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:e.emptyImageContainer},_.a.createElement("img",{src:B,className:e.emptyImage})),_.a.createElement("div",{className:e.emptyText},_.a.createElement(h.FormattedHTMLMessage,r()({},Q.empty_shopping_cart_desc,{values:{addCart:H,addImageClass:e.addImage}})))):_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:e.emptyImageContainer},_.a.createElement("img",{src:L,className:e.emptyImage}),_.a.createElement("img",{src:j,className:e.groceryBackgroundImage})),_.a.createElement("div",{className:e.emptyText},_.a.createElement(h.FormattedHTMLMessage,r()({},Q.empty_shopping_list_desc,{values:{urlPath:U,addImageClass:e.addImage}}))))}renderShoppingListBody(e,t){const a=this.props,n=a.availableItems,s=a.linked,i=a.listContentType,r=a.isGroceryWithProduct,o=this.state.selectedItems,l=this.context.intl.formatMessage;return t?this.renderEmptyShoppingList(e):r?n.map((e,t)=>this.renderProductItem(!1,e,t)):s?n.map((t,a)=>_.a.createElement("div",{key:a,className:e.item,"data-test-id":"offer-card-toggle-button",onClick:()=>this.toggleOfferCardState(t.offerId)},_.a.createElement("div",{className:e.left},_.a.createElement("img",{className:e.itemImage,"data-test-id":"thumbnail",onError:e=>Object(O.a)(e,v.jd),src:t.imageUrl}),_.a.createElement("div",{className:e.overlayContainer},_.a.createElement("div",{className:e.overlay}))),_.a.createElement("div",{className:e.right},_.a.createElement("div",{className:e.saveContainer},_.a.createElement("div",{className:e.save},t.discountType===v.kd.GETXFREE?t.offerValue:l(Q.save,{info:t.offerValue})),_.a.createElement(f.b,{kind:b.Kinds.CIRCLE,size:b.Sizes.XXXS,colorState:b.ColorStates.FIRST_LEVEL_GRAY}),_.a.createElement("div",{className:e.coupon},l(Q.coupon))),_.a.createElement("div",{className:e.brandName},t.brandName),o[t.offerId]&&_.a.createElement("div",{className:e.cardDescription},t.description),_.a.createElement("div",{className:t.dateDiff<=1?e.redExpires:e.expires},_.a.createElement(y.a,{type:i,daysUntilExpiry:t.dateDiff}))))):null}render(){const e=this.props,t=e.isGroceryWithProduct,a=e.retailerName,n=e.shoppingCartStatus,s=e.showYm6QRCode,i=e.unAvailableItems,r=this.state.expandOfferCardState,o=this.context.intl.formatMessage,l=!(e.availableItems.length||i.length)||!t&&!e.linked,c=p()(F.a,{expandedCardState:!!r,emptyShoppingList:l,isGroceryWithProduct:t,notShowYm6QRCode:!s,darkThemeMode:this.isDarkThemeMode()||this.isMediumThemeMode()});return n===v.od.REFRESHING?_.a.createElement("div",{className:c.container},_.a.createElement(C.b,{flex:!0})):_.a.createElement("div",{className:c.container},_.a.createElement("div",{className:this.state.checkoutTransitionState?c.transitionTitle:c.title},t?o(Q.walmart_header,{retailerName:a}):o(Q.header)),_.a.createElement("div",{"aria-hidden":!0,className:c.cart,"data-test-id":"right-rail-groceries-cart"},this.renderShoppingListBody(c,l),!!i.length&&this.renderUnavailableItems(c)),!this.state.checkoutTransitionState&&this.renderSummaryButton(c,l),this.state.checkoutTransitionState&&this.renderTransitionSummaryButton(c),s&&_.a.createElement("div",{className:c.appContainer},_.a.createElement("div",{className:c.appText},o(Q.yahoo_mail_app)),_.a.createElement("div",{className:c.downloadContainer},_.a.createElement("img",{className:c.qrCode,src:Z}),_.a.createElement("div",{className:c.appStore},_.a.createElement("img",{src:W}),_.a.createElement("img",{src:G})))))}}l()(J,"contextTypes",{getThemeMode:d.a.func,intl:h.intlShape.isRequired,navigateTo:d.a.func});const $=e=>({changeProductsQuantity:t=>e(Object(E.e)(t)),deleteProducts:t=>e(Object(E.h)(t)),printOffers:t=>e(Object(E.t)(t)),refreshShoppingList:t=>e(Object(E.u)(t))}),ee=e=>{const t=Object(R.selectors)(e),a=t.getActivatedOffersSelectors,n=t.getRetailersSelectors,i=t.getRoute,r=t.isFeatureEnabled,o=Object(D.z)(i()),l=n(),c=l.getDisplayNameFromRetailerId,d=l.getPreferredStore,m=l.getShoppingCartStatus,_=l.getSubTotal,u=l.getNumberOfItems,p=l.isLinkedRetailer,h=l.isRetailerLinkable,g=Object(D.w)(o),E=Object(D.B)(o),b=p(E),f=Object(D.gb)(o,{keyword:"",listFilter:v.bc.ACTIVATED_OFFER_CARDS}),C=(0,a().getActivatedOfferStreamItems)(f).reverse(),S=Object(N.d)(C,e=>"Unavailable"===e.status),y=s()(S,2),T=y[0],I=y[1],M=d(E),A=m(),k=_(E),O=u(E);return{availableItems:I,isGroceryWithProduct:r(v.Eb.GROCERY_WITH_PRODUCTS)&&!h(E),linked:b,listContentType:g,preferredStore:M,retailerId:E,retailerName:c(E),shoppingCartStatus:A,subTotal:k,numberOfItems:O,showYm6QRCode:r(v.Eb.YM6_QRCODE_UPSELL),unAvailableItems:T}};t.default=Object(g.connect)(ee,$)(J)},function(e,t,a){"use strict";a.r(t),a.d(t,"RightRailSavedDeals",(function(){return M}));var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(6),_=a(13),u=a(4),p=a(17),h=a(0),g=a(8),E=a(10),b=a(1417),f=a(1714),C=a.n(f),S=a(18),y=a(5),T=a(45);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const I=Object(m.defineMessages)({header:{id:"coupon_separator_saved",defaultMessage:"Saved deals"},viewLess:{id:"card_group.view_less",defaultMessage:"View less"},viewMore:{id:"card_group.view_more_cards",defaultMessage:"View more"},onboarding:{id:"saved_deals.onboarding",defaultMessage:"Find your saved deals here"}});class M extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{expanded:!1}),r()(this,"toggleView",()=>{this.setState({expanded:!this.state.expanded})}),r()(this,"renderCouponList",e=>{const t=this.state.expanded?this.props.savedDeals:this.props.savedDeals.slice(0,3);return d.a.createElement("div",{className:e.list},t.map(t=>d.a.createElement(b.a,s()({overrideClassNames:{container:e.item},key:t.id},t))))}),r()(this,"renderDealPlaceholder",e=>d.a.createElement("div",{className:e.item},d.a.createElement("div",{className:e.link},d.a.createElement("div",{className:e.avatar}),d.a.createElement("span",{className:e.content},d.a.createElement("span",{className:e.fromName}),d.a.createElement("span",{className:e.description}),d.a.createElement("span",{className:e.expiration}))),d.a.createElement(S.a,{className:e.clippedButton},d.a.createElement(p.b,{"aria-hidden":!0,kind:u.Kinds.SCISSORS,size:u.Sizes.XS,colorState:u.ColorStates.INVERTED})))),r()(this,"renderOnboarding",e=>d.a.createElement("div",{"data-test-id":"saved-deals-onboarding"},d.a.createElement("div",{className:e.onboarding},this.context.intl.formatMessage(I.onboarding)),d.a.createElement("div",{className:e.arrowContainer},d.a.createElement("div",{className:e.arrow})),this.renderDealPlaceholder(e))),r()(this,"renderExpandButton",e=>d.a.createElement("div",{onClick:this.toggleView,className:e.expandButton},(0,this.context.intl.formatMessage)(this.state.expanded?I.viewLess:I.viewMore),d.a.createElement(p.b,{kind:u.Kinds.CHEVRON_UP,size:u.Sizes.XS,rotate:this.state.expanded?u.Rotate.D0:u.Rotate.D180,colorState:u.ColorStates.INHERITED})))}componentDidMount(){if(this.props.savedDeals.length){T.b.sendI13nModel({i13nModel:{mKey:y.g.CARD_VIEW,sec:y.i.COUPONS_LIST,actionData:{featurefamily:h.Cb.IC,slot:y.j.COUPON_SMART_VIEW,xpname:h.u.COUPON_SMART_VIEW_BRIEF_ITEM}}})}}render(){const e=this.context.intl.formatMessage,t=this.context.getCss(C.a);return d.a.createElement("div",{className:t.container},d.a.createElement("div",{className:t.header},e(I.header)),this.props.savedDeals.length?this.renderCouponList(t):this.renderOnboarding(t),this.props.savedDeals.length>3?this.renderExpandButton(t):null)}}M.contextTypes={intl:m.intlShape.isRequired,getCss:l.a.func};t.default=Object(_.connect)(e=>{const t=Object(E.selectors)(e),a=t.getSelectedAccountId,n=t.isFeatureEnabled,s=(0,t.getCouponsSelectors)().getCouponCardStreamItems,i={listFilter:h.bc.SAVED_COUPON_CARDS,referrer:h.Sd.COUPONS,accountIds:[a()]};return{savedDeals:s(n(h.Eb.DEALS_VIEW_FOR_INTLS)?Object(g.e)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i,{excludefolders:[h.Mb.TRASH,h.Mb.BULK]})):Object(g.e)(i))}})(M)},,,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return c}));a(7);var n=a(1),s=a.n(n),i=a(6),r=a(1405),o=a(0);const l=Object(i.defineMessages)({header:{id:"settings.cue_header",defaultMessage:"Customize the look of your inbox"},body:{id:"settings.cue_body",defaultMessage:"Open Settings to see email previews, change email spacing, turn on tabs and more."}});function c({onTryNow:e,onShow:t}){return s.a.createElement(r.a,{headerText:l.header,bodyText:l.body,cueName:o.Eb.SETTINGS_CUE,onTryNow:e,onShow:t,onMayBeLater:()=>{}})}},function(e,t,a){"use strict";a.r(t),a.d(t,"NeedToKnowNewsCue",(function(){return T})),a.d(t,"mapStateToProps",(function(){return v})),a.d(t,"mapDispatchToProps",(function(){return I}));var n=a(33),s=a.n(n),i=a(3),r=a.n(i),o=(a(7),a(1)),l=a.n(o),c=a(6),d=a(13),m=a(10),_=a(1437),u=a(0),p=a(445),h=a(108),g=a(2),E=a(5),b=a(214),f=a(94);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const y=Object(c.defineMessages)({header_text:{id:"need_to_know_news_cue.header_text",defaultMessage:"Trending on Yahoo Homepage"},primary_button_text:{id:"need_to_know_news_cue.primary_button_text",defaultMessage:"Catch up now"},body_text:{id:"need_to_know_news_cue.body_text",defaultMessage:'<ul class="{listStyle}"><li class="{listItemStyle}">{firstItem}</li><li class="{listItemStyle}">{secondItem}</li><li class="{listItemStyle}">{thirdItem}</li></ul>'}});class T extends l.a.Component{constructor(...e){super(...e),r()(this,"onTryButton",()=>{const e=this.props.homepageUrl;Object(f.a)(e)}),r()(this,"onCueBodyClick",()=>{const e=this.props;(0,e.needToKnowNewsCueClicked)({mKey:`cue_${e.cueName}_body_clicked`,sec:E.i.FEATURE_CUE}),this.onTryButton()}),r()(this,"onExternalClick",()=>{const e=this.props,t=e.cueName,a=e.closeFeatureCue;if(e.closeOnExternalLink&&e.isCueActive){const e="ignored",n={name:t,i13nModel:{mKey:`cue_${t}_${e}`,sec:E.i.FEATURE_CUE},userAction:e};window.removeEventListener("click",this.onExternalClick,!1),setImmediate(()=>{a(n)})}})}componentDidUpdate(){this.props.userInteractedWithMail&&this.onExternalClick()}componentDidMount(){window.addEventListener("click",this.onExternalClick,!1)}componentWillUnmount(){window.removeEventListener("click",this.onExternalClick,!1)}render(){const e=this.props,t=e.cueName,a=e.coverImage,n=e.articleTitles,i=e.onShow;if(n.length<3||!a)return null;const r=s()(n,3),o=r[0],c=r[1],d=r[2];return l.a.createElement("div",{onClick:this.onCueBodyClick},l.a.createElement(_.a,{bodyText:S({},y.body_text,{values:{firstItem:Object(b.b)(o),secondItem:Object(b.b)(c),thirdItem:Object(b.b)(d)}}),cueName:t,headerText:y.header_text,mayBeLaterButtonText:y.secondary_button_text,onTryButton:this.onTryButton,pngImageUrl:a,tryButtonText:y.primary_button_text,cueVariant:u.Kc,onShow:i}))}}const v=e=>{const t=Object(m.selectors)(e),a=t.getAction,n=t.isFeatureEnabled,s=(0,t.getNeedToKnowNewsSelectors)(),i=s.getCoverImageUrl,r=s.getNewsArticles,o=(0,s.getHomePageUrl)();return{coverImage:i(),homepageUrl:o,articleTitles:r().map(e=>e.articleTitle),userInteractedWithMail:[g.OPEN_PAGE_REQUESTED,g.PREVIEW_MESSAGE_REQUESTED,g.CLOSE_PAGE_REQUESTED].indexOf(a().type)>=0,closeOnExternalLink:n(u.Eb.NTK_CLOSE_ON_EXTERNAL_CLICK),isCueActive:n(u.Eb.NEED_TO_KNOW_NEWS_CUE)}},I=e=>({needToKnowNewsCueClicked:t=>e(Object(p.a)(t)),closeFeatureCue:t=>e(Object(h.a)(t))});t.default=Object(d.connect)(v,I)(T)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=(a(7),a(1)),r=a.n(i),o=a(107),l=a(1728),c=a.n(l),d=a(12),m=a.n(d),_=a(21),u=a(6),p=a(4),h=a(18),g=a(25);const E=Object(u.defineMessages)({close:{id:"userInfo_dialog.close_icon",defaultMessage:"Close"},title:{id:"userInfo_dialog.title_message",defaultMessage:"Debug information"},done:{id:"userInfo_dialog.ok_button",defaultMessage:"OK"}});class b extends r.a.Component{render(){const e=this.context.intl.formatMessage,t=window.AppBootstrapData,a=t.buildNumber,n=t.loggerParams,s=t.guid,i=t.colo,l=t.launchTime,d=t.shardId,b=t.userNamespace,f=window.navigator.connection,C=m()(c.a);return r.a.createElement(o.a,{onClose:this.props.onClose,onKeyDown:this.props.onKeyDown},r.a.createElement("div",{className:C.container},r.a.createElement("div",{className:C.close},r.a.createElement(_.default,{onClick:this.props.onClose,kind:p.Kinds.CLOSE,size:p.Sizes.XS,colorState:p.ColorStates.DARK,title:e(E.close),"aria-label":e(E.close)})),r.a.createElement("div",{className:C.header},r.a.createElement(u.FormattedMessage,E.title)),r.a.createElement("div",null,r.a.createElement("ul",{className:C.debugList},r.a.createElement("li",null,r.a.createElement("label",null,"YID:")," ",n.yid),r.a.createElement("li",null,r.a.createElement("label",null,"GUID:")," ",s),r.a.createElement("li",null,r.a.createElement("label",null,"Shard ID:")," ",d),r.a.createElement("li",null,r.a.createElement("label",null,"Colo ID:")," ",i),f?r.a.createElement("li",null,r.a.createElement("label",null,"Network Speed:")," ",f.effectiveType):null,r.a.createElement("li",null,r.a.createElement("label",null,"Namespace:")," ",b),r.a.createElement("li",null,r.a.createElement("label",null,"Build Number:")," ",a),r.a.createElement("li",null,r.a.createElement("label",null,"Launch Time:")," ",new Date(l).toLocaleString()),r.a.createElement("li",null,r.a.createElement("label",null,"Current Time:")," ",(new Date).toLocaleString()))),r.a.createElement("div",{className:C.buttonContainer},r.a.createElement(h.a,{onClick:this.props.onClose,title:e(E.done),kind:g.a.PRIMARY,"aria-label":e(E.done)},r.a.createElement(u.FormattedMessage,E.done)))))}}s()(b,"contextTypes",{intl:u.intlShape}),t.default=b},function(e,t,a){"use strict";a.r(t),a.d(t,"AddMailboxPopover",(function(){return E}));var n=a(3),s=a.n(n),i=(a(7),a(1)),r=a.n(i),o=a(12),l=a.n(o),c=a(1733),d=a.n(c),m=a(6),_=a(21),u=a(4),p=a(319),h=a(5);const g=Object(m.defineMessages)({add_mailbox_popover_label:{id:"add_mailbox_popover_label",defaultMessage:"Add your Gmail, Outlook or Aol account. Check emails all in one!"},close:{id:"close",defaultMessage:"Close"},add_mailbox_popover_description_v2:{id:"add_mailbox_popover_description_v2",defaultMessage:"Finish this task and get {points} points!"}});class E extends r.a.Component{constructor(...e){super(...e),s()(this,"closePopover",()=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",interactionType:h.e.click,actionData:{}}})})}render(){const e=this.context.intl.formatMessage,t=l()(d.a);return r.a.createElement("div",{id:"abc",role:"alert","data-test-id":"addMailboxCue",className:t.wrapper},r.a.createElement("div",{className:t.imgContainer}),r.a.createElement("div",{className:t.content},r.a.createElement("span",{className:t.title},e(g.add_mailbox_popover_label)),r.a.createElement("span",{className:t.description},e(g.add_mailbox_popover_description_v2,{points:this.props.imapInChallengePoints}))),r.a.createElement("div",{className:t.closeWrapper},r.a.createElement(_.default,{onClick:this.closePopover,kind:u.Kinds.CLOSE_MINI,size:u.Sizes.XS,colorState:u.ColorStates.DISABLED,"data-test-id":"addMailbox-icon-btn-close",paddingLess:!0,"aria-label":e(g.close),title:e(g.close)})))}}E.contextTypes={intl:m.intlShape.isRequired},t.default=Object(p.a)(E)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1405),m=a(0),_=a(14);const u=Object(c.defineMessages)({header:{id:"starred.cue_header",defaultMessage:"Star an email and easily come back to it later"},body:{id:"starred.cue_body",defaultMessage:"Keep track of your most important emails. View starred emails here."}});class p extends l.a.Component{constructor(...e){super(...e),s()(this,"openStarredSmartView",()=>{this.context.navigateTo({route:Object(_.x)(m.Ud.STARRED)})})}render(){return l.a.createElement(d.a,{headerText:u.header,bodyText:u.body,cueName:m.Eb.STARRED_CUE,onTryNow:this.openStarredSmartView,onMayBeLater:()=>{},onShow:this.props.onShow,close:this.props.close})}}s()(p,"contextTypes",{navigateTo:r.a.func}),t.default=p},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1405),m=a(0),_=a(14);const u=Object(c.defineMessages)({header:{id:"photos.cue_header",defaultMessage:"View all the photos in your inbox in one place"},body:{id:"photos.cue_body",defaultMessage:"Click here to see every photo you've sent or received in this inbox."}});class p extends l.a.Component{constructor(...e){super(...e),s()(this,"openPhotosSmartView",()=>{this.context.navigateTo({route:Object(_.x)(m.Ud.PHOTOS)})})}render(){return l.a.createElement(d.a,{headerText:u.header,bodyText:u.body,cueName:m.Eb.PHOTOS_CUE,onTryNow:this.openPhotosSmartView,onMayBeLater:()=>{},onShow:this.props.onShow,close:this.props.close})}}s()(p,"contextTypes",{navigateTo:r.a.func}),t.default=p},function(e,t,a){"use strict";a.r(t),a.d(t,"WalmartCue",(function(){return b}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(13),d=a(6),m=a(49),_=a(1437),u=a(14),p=a(0),h=a(10);a(51);const g=Object(m.a)("/img/walmart_logo.png"),E=Object(d.defineMessages)({header_text:{id:"walmart_cue.header_text",defaultMessage:"Walmart grocery"},body_text:{id:"walmart_cue.body_text",defaultMessage:"Buy groceries for pickup from Walmart"},primary_button_text:{id:"walmart_cue.primary_button_text",defaultMessage:"Learn more"}});class b extends l.a.Component{constructor(...e){super(...e),s()(this,"onTryButton",()=>{const e=this.props,t=e.retailerId,a={accountIds:e.activeAccount.id};this.context.navigateTo({route:Object(u.x)(p.Ud.GROCERIES,{overrides:a,name:t})})})}render(){return l.a.createElement(_.a,{bodyText:E.body_text,cueName:this.props.cueName,headerText:E.header_text,onTryButton:this.onTryButton,pngImageUrl:g,tryButtonText:E.primary_button_text})}}s()(b,"contextTypes",{navigateTo:r.a.func});t.default=Object(c.connect)(e=>{const t=Object(h.selectors)(e);return{activeAccount:(0,t.getAccountById)((0,t.getSelectedAccountIdByRoute)((0,t.getRoute)()))}})(b)},function(e,t,a){"use strict";a.r(t),a.d(t,"GroceriesCue",(function(){return g}));var n=a(3),s=a.n(n),i=a(1),r=a.n(i),o=a(6),l=a(1393),c=a(7),d=a.n(c),m=a(13),_=a(10),u=a(0),p=a(14);a(51);const h=Object(o.defineMessages)({new:{id:"groceries_cue.new",defaultMessage:"Find all your saved coupons in the groceries tab."}});class g extends i.Component{constructor(...e){super(...e),s()(this,"handleClick",()=>{const e=this.props.retailerId,t={accountIds:this.props.activeAccount.id};this.context.navigateTo({route:Object(p.x)(u.Ud.GROCERIES,{overrides:t,name:e})})})}render(){const e=this.props;return r.a.createElement(l.default,{clickable:!0,cueName:e.cueName,message:h.new,onClick:this.handleClick,onShow:e.onShow,appearance:"white"})}}s()(g,"contextTypes",{navigateTo:d.a.func});t.default=Object(m.connect)(e=>{const t=Object(_.selectors)(e);return{activeAccount:(0,t.getAccountById)((0,t.getSelectedAccountIdByRoute)((0,t.getRoute)()))}})(g)},,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"ConnectCloudStorageAccount",(function(){return C}));var n=a(3),s=a.n(n),i=(a(7),a(1)),r=a.n(i),o=a(1738),l=a.n(o),c=a(12),d=a.n(c),m=a(18),_=a(49),u=a(0),p=a(21),h=a(6),g=a(4);const E=d()(l.a),b=Object(h.defineMessages)({gdriveLabel:{id:"compose.gdrive_label",defaultMessage:"Google Drive"},gdriveLogo:{id:"compose.gdrive_logo",defaultMessage:"Google Drive logo"},dropboxLabel:{id:"compose.dropbox_label",defaultMessage:"Dropbox"},dropboxLogo:{id:"compose.dropbox_logo",defaultMessage:"Dropbox logo"},gdriveConnectDescription:{id:"compose.gdrive_connect_text",defaultMessage:"Connect your Google Drive account to browse, search and share files and photos in mail you send."},gdriveConnectButtonText:{id:"compose.gdrive_connect_button_text",defaultMessage:"Connect your Google Drive"},dropboxConnectDescription:{id:"compose.dropbox_connect_text",defaultMessage:"Connect your Dropbox account to browse, search and share files and photos in mail you send."},dropboxConnectButtonText:{id:"compose.dropbox_connect_button_text",defaultMessage:"Connect your Dropbox"},close:{id:"compose.close_button_label",defaultMessage:"Close"}}),f={[u.eb.GDRIVE]:Object(_.a)("/img/google_drive.png"),[u.eb.DROPBOX]:Object(_.a)("/img/dropbox.png")};class C extends r.a.Component{constructor(...e){super(...e),s()(this,"handleClickOnPopover",e=>{e.stopPropagation()})}render(){const e=this.props,t=e.provider,a=e.onConnectHandler,n=this.context.intl.formatMessage,s=f[t];return r.a.createElement("div",{className:E.secondaryPopup,onClick:this.handleClickOnPopover,"data-test-id":"cloud-storage-connect-menu"},r.a.createElement("div",{className:E.topSection},r.a.createElement("span",{className:E.providerLabel},n(b[t+"Label"])),r.a.createElement("span",null,r.a.createElement(p.default,{"data-iskeynav":!0,"data-test-id":"cloud-storage-close-button",kind:g.Kinds.CLOSE,size:g.Sizes.XXS,title:n(b.close),colorState:g.ColorStates.NORMAL,onClick:this.props.handleClose}))),r.a.createElement("div",{className:E.separatorNoMargin}),r.a.createElement("div",{className:E.bottomSection},r.a.createElement("img",{alt:n(b[t+"Logo"]),src:s}),r.a.createElement("div",{className:E.description},n(b[t+"ConnectDescription"])),r.a.createElement(m.a,{"data-test-id":"cloud-storage-connect-button",className:E.connectButton,onClick:a,title:n(b[t+"ConnectButtonText"])},n(b[t+"ConnectButtonText"]))))}}s()(C,"contextTypes",{intl:h.intlShape.isRequired}),t.default=C},function(e,t,a){"use strict";a.r(t),a.d(t,"AttachFilesMenu",(function(){return S}));var n=a(3),s=a.n(n),i=(a(7),a(1)),r=a.n(i),o=a(1744),l=a.n(o),c=a(12),d=a.n(c),m=a(117),_=a(63),u=a(32),p=a(25),h=a(18),g=a(17),E=a(6),b=a(4);const f=d()(l.a),C=Object(E.defineMessages)({attachFromGDrive:{id:"compose.attach_file_from_gdrive",defaultMessage:"Share files from Google Drive"},attachFromDropbox:{id:"compose.attach_file_from_dropbox",defaultMessage:"Share files from Dropbox"},attachFromRecentEmails:{id:"compose.attach_file_from_recent_emails",defaultMessage:"Attach files from recent emails"},attachFromComputer:{id:"compose.attach_file_from_computer",defaultMessage:"Attach files from computer"}});class S extends r.a.Component{render(){const e=this.props,t=e.handleEscape,a=e.handleAttachFromGDrive,n=e.handleAttachFromDropbox,s=e.handleAttachFromRecentEmails,i=e.handleAttachFromComputer,o=this.context.intl.formatMessage,l=o(C.attachFromGDrive),c=o(C.attachFromDropbox),d=o(C.attachFromRecentEmails),E=o(C.attachFromComputer);return r.a.createElement("div",{className:f.popoverContent},r.a.createElement(_.a,{kind:m.a.MENU,focusOnMount:!0,"data-test-id":"attach-files-menu",key:"attach-files-menu",circularNavigation:!0,onEscape:t},r.a.createElement(u.a,{name:"attach-from-gdrive","data-test-id":"attach-from-gdrive",title:l,onClick:a},r.a.createElement(h.a,{overridingClass:f.listItem,kind:p.a.MENUITEM},r.a.createElement("span",{className:f.buttonItem},r.a.createElement(g.b,{kind:b.Kinds.DRIVE,colorState:b.ColorStates.NORMAL,size:b.Sizes.XS}),r.a.createElement("span",{className:f.label},l)))),r.a.createElement(u.a,{name:"attach-from-dropbox","data-test-id":"attach-from-dropbox",title:c,onClick:n},r.a.createElement(h.a,{overridingClass:f.listItem,kind:p.a.MENUITEM},r.a.createElement("span",{className:f.buttonItem},r.a.createElement(g.b,{kind:b.Kinds.DROPBOX,colorState:b.ColorStates.NORMAL,size:b.Sizes.XS}),r.a.createElement("span",{className:f.label},c)))),r.a.createElement(u.a,{name:"attach-from-recent-emails","data-test-id":"attach-from-recent-emails",title:d,onClick:s},r.a.createElement(h.a,{overridingClass:f.listItem,kind:p.a.MENUITEM},r.a.createElement("span",{className:f.buttonItem},r.a.createElement(g.b,{kind:b.Kinds.ATTACH_DOC,colorState:b.ColorStates.NORMAL,size:b.Sizes.XS}),r.a.createElement("span",{className:f.label},d)))),r.a.createElement(u.a,{className:f.separator}),r.a.createElement(u.a,{name:"attach-from-computer","data-test-id":"attach-from-computer-list-btn",title:E,onClick:i},r.a.createElement(h.a,{overridingClass:f.listItem,kind:p.a.MENUITEM},r.a.createElement("span",{className:f.buttonItem},r.a.createElement(g.b,{kind:b.Kinds.DESKTOP_ATTACHMENT,colorState:b.ColorStates.NORMAL,size:b.Sizes.XS}),r.a.createElement("span",{className:f.label},E))))))}}s()(S,"contextTypes",{intl:E.intlShape.isRequired}),t.default=S},,function(e,t,a){"use strict";a.r(t),a.d(t,"mapStateToProps",(function(){return S})),a.d(t,"mapDispatchToProps",(function(){return y})),a.d(t,"disconnectedReplySuggestions",(function(){return T}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(13),d=a(1767),m=a.n(d),_=a(12),u=a.n(_),p=a(5),h=a(16),g=a(88),E=(a(51),a(10));const b=u()(m.a),f=p.i.MSG_BODY;class C extends l.a.Component{constructor(e){super(e),s()(this,"handleSmartReply",e=>{e.preventDefault(),e.stopPropagation();const t=this.props,a=t.messageGroupId,n=t.message,s=e.target.innerText,i={mKey:p.g.MSG_SMART_REPLY,sec:f,mKeyGroup:p.h.smartReply,interactionType:Object(h.getInteractionFromEvent)(e)};this.context.executeAction(g.v,{messageGroupId:a,message:n,selectedReplySuggestion:s,i13nModel:i})}),this.handleSmartReply=this.handleSmartReply.bind(this)}render(){const e=this.props.replySuggestions;return e&&e.length>0?l.a.createElement("div",{"data-test-id":"smart-reply-container",className:b.replySuggestionsContainer},e.map((e,t)=>l.a.createElement("div",{key:t,className:b.replyItem,onClick:this.handleSmartReply},e))):null}}C.contextTypes={executeAction:r.a.func.isRequired};const S=(e,t)=>{const a=Object(E.selectors)(e),n=t.message;return{replySuggestions:(0,a.getReplySuggestionSelectors)().getSuggestions(n.id)}},y=()=>({}),T=C;t.default=Object(c.connect)(S,y)(C)},function(e,t,a){"use strict";a.r(t),a.d(t,"MessageToolbarMoreMenuItems",(function(){return O})),a.d(t,"mapStateToProps",(function(){return D})),a.d(t,"mapDispatchToProps",(function(){return P}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(13),d=a(63),m=a(32),_=a(18),u=a(25),p=a(117),h=a(6),g=a(604),E=a.n(g),b=a(12),f=a.n(b),C=a(82),S=a(10),y=a(0),T=(a(51),a(431)),v=a(60),I=a.n(v),M=a(5),A=a(16),N=a(1268);const k=f()(E.a);class O extends l.a.Component{constructor(...e){super(...e),s()(this,"handleBlockSenders",e=>{e.stopPropagation(),this.props.onBlockSenders(this.props.emailIds)}),s()(this,"handleUnBlock",e=>{const t=this.props,a=t.blockedSenders,n=t.emailIds,s=I()(a.filter(e=>n[0]!==e));this.props.handleUnBlockSenders({blockSenders:s,delta:-1,i13nModel:{mKey:M.g.UNBLOCK_SENDERS_SUBMIT,sec:M.i.MSG_BODY,interactionType:Object(A.getInteractionFromEvent)(e)}})}),s()(this,"renderBlockSendersMenuItem",()=>{const e=this.props,t=e.blockedSendersApiCallStatus;return e.enableBlockSendersAction?l.a.createElement(m.a,null,e.isSenderBlocked?l.a.createElement(_.a,{onClick:this.handleUnBlock,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"unblock_sender_message",defaultMessage:"Unblock sender"})):l.a.createElement(_.a,{onClick:this.handleBlockSenders,kind:u.a.MENUITEM,disabled:t!==y.od.LOADED},l.a.createElement(h.FormattedMessage,{id:"block_sender_message",defaultMessage:"Block sender"}))):null})}componentDidMount(){this.props.blockSendersFeatureEnabled&&this.props.blockedSendersApiCallStatus!==y.od.LOADED&&this.props.fetchBlockedSenders()}render(){const e=this.props,t=e.onArchive,a=e.onDelete,n=e.onRawMessage,s=e.onPrint,i=e.message,r=e.unsubscribeFromMessageFeatureEnabled,o=e.isRead,c=e.isStar,g=e.onUnread,E=e.onStar,b=e.onUnstar;return l.a.createElement("div",{className:k.popoverContent},l.a.createElement(d.a,{kind:p.a.MENU,focusOnMount:!0,"data-test-id":"folder-menu",key:"folder-menu",circularNavigation:!1},!o&&l.a.createElement(m.a,{name:"mark-as-read","data-test-id":"mark-as-read"},l.a.createElement(_.a,{onClick:e.onRead,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"mark_msgs_as_read",defaultMessage:"Mark as read"}))),o&&l.a.createElement(m.a,{name:"mark-as-unread","data-test-id":"mark-as-unread"},l.a.createElement(_.a,{onClick:g,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"mark_msgs_as_unread",defaultMessage:"Mark as unread"}))),!c&&l.a.createElement(m.a,{name:"mark-as-starred","data-test-id":"mark-as-starred"},l.a.createElement(_.a,{onClick:E,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"mark_msgs_as_starred",defaultMessage:"Star"}))),c&&l.a.createElement(m.a,{name:"mark-as-unstarred","data-test-id":"mark-as-unstarred"},l.a.createElement(_.a,{onClick:b,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"mark_msgs_as_unstarred",defaultMessage:"Clear star"}))),l.a.createElement(m.a,{className:k.separator}),l.a.createElement(m.a,null,l.a.createElement(_.a,{onClick:t,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"archive_message",defaultMessage:"Archive"}))),l.a.createElement(m.a,{name:"message-toolbar-delete","data-test-id":"message-toolbar-delete"},l.a.createElement(_.a,{onClick:a,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"delete_message",defaultMessage:"Delete message"}))),this.renderBlockSendersMenuItem(),r&&l.a.createElement(m.a,{name:"unsubscribe-message"},l.a.createElement(N.default,{message:i,menuMode:!0})),l.a.createElement(m.a,{className:k.separator}),l.a.createElement(m.a,{name:"raw-message","data-test-id":"raw-message"},l.a.createElement(_.a,{onClick:n,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"raw_message",defaultMessage:"View raw message"}))),l.a.createElement(m.a,{name:"print-message","data-test-id":"print-message"},l.a.createElement(_.a,{onClick:s,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"print_message_card",defaultMessage:"Print"})))))}}s()(O,"contextTypes",{executeAction:r.a.func,intl:h.intlShape.isRequired}),s()(O,"defaultProps",{isRead:!0,isStar:!0});const D=(e,{message:t})=>{const a=Object(S.selectors)(e),n=a.isFeatureEnabled,s=a.getSetting,i=a.getSettingsSelectors,r=a.getParticipant,o=a.canDisplayBlockSenderMenuItemForMessageId,l=a.getMessageFlags,c=n(y.Eb.BLOCK_SENDERS),d=n(y.Eb.UNSUBSCRIBE_FROM_MESSAGE);let m=!1,_=!1;const u=[],p=i().getBlockedSendersApiCallStatus;let h=y.od.LOADING,g=[];if(c){const e=r(t.id);g=s(y.Kd.DELIVERY_BLOCKED_SENDERS),h=p(),m=o(t.id)&&g.length<y.Ld.blockedSenders,_=e&&e.email&&!!g.find(t=>t===e.email),m&&u.push(e.email)}const E=[t.id];return{blockSendersFeatureEnabled:c,unsubscribeFromMessageFeatureEnabled:d,enableBlockSendersAction:m,blockedSendersApiCallStatus:h,isSenderBlocked:_,blockedSenders:g,emailIds:u,isRead:E.some(e=>l(e).read),isStar:E.some(e=>l(e).flagged)}},P=e=>({fetchBlockedSenders:t=>e(Object(C.p)(t)),handleUnBlockSenders:t=>e(Object(T.b)(t))});t.default=Object(c.connect)(D,P)(O)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return c}));var n=a(1),s=a.n(n),i=(a(7),a(6)),r=a(1393),o=a(0);const l=Object(i.defineMessages)({body:{id:"search_relevance_cue.body",defaultMessage:"You can also try sorting by relevance"}});function c({close:e}){return s.a.createElement(r.default,{message:l.body,cueName:o.Eb.SEARCH_RELEVANCE_CUE,close:e,animate:!0})}},function(e,t,a){"use strict";a.r(t),a.d(t,"MessageListBanner",(function(){return M})),a.d(t,"mapStateToProps",(function(){return A}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(12),d=a.n(c),m=a(6),_=a(1772),u=a.n(_),p=a(22),h=a(18),g=a(25),E=a(5),b=a(319),f=a(58),C=a(13),S=a(0),y=a(10),T=a(17),v=a(4);const I=Object(m.defineMessages)({mailpro_free_trial_banner_text:{id:"mailpro_free_trial_banner_text",defaultMessage:"{yahooBrandNameString} is gifting you {daysDuration} days of ad-free mail!"},mailpro_free_trial_cta_remove_ads:{id:"mailpro_free_trial_cta_remove_ads",defaultMessage:"Remove ads"},error_text:{id:"error_text",defaultMessage:"Error!"},try_again:{id:"launch.error.try.again",defaultMessage:"Try again"}});class M extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{removeAdsClicked:!1,renderError:!1,purchaseFreeTrialStatus:""}),s()(this,"handleClick",()=>{this.setState({removeAdsClicked:!0}),this.props.purchaseMailproFreeTrial({i13nModel:{mKey:"banner_"+this.props.cueName+"_subscription",sec:E.i.MAILPRO_FREE_TRIAL,interactionType:E.e.click}})})}static getDerivedStateFromProps(e,t){return e.purchaseFreeTrialStatus!==t.purchaseFreeTrialStatus?t.purchaseFreeTrialStatus&&"FAILED"===e.purchaseFreeTrialStatus&&t.removeAdsClicked?{renderError:!0,purchaseFreeTrialStatus:e.purchaseFreeTrialStatus,removeAdsClicked:!1}:{renderError:!1,purchaseFreeTrialStatus:e.purchaseFreeTrialStatus}:null}componentDidUpdate(e){e.subscriptionStatus===S.gc.NOT_SUBSCRIBED&&this.props.subscriptionStatus===S.gc.SUBSCRIBED&&window.location.reload(!0)}renderErrorMessage(e,t){return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:e.errorIcon},l.a.createElement(T.b,{kind:v.Kinds.EXCLAMATION_ALT,size:v.Sizes.XXS,colorState:v.ColorStates.WARNING_GRAD_RED})),l.a.createElement("span",{className:e.errorText},t))}renderLoadingIndicator(e){return l.a.createElement("div",{className:e.loadingIndicator},l.a.createElement(f.b,{size:f.a.S}))}render(){const e=this.context.intl.formatMessage,t=this.context.yahooBrandNameString,a=this.props,n=a.isCompactLayout,s=a.msgListDensity,i=a.purchaseFreeTrialInProgress,r=a.themeMode===p.i.DARK,o=d()(u.a,{isCompactLayout:n,isThemeModeDark:r,msgListDensity:`${n?"compact_":""}${s}`}),c=e(this.state.renderError?I.try_again:I.mailpro_free_trial_cta_remove_ads),m=e(I.error_text),_=e(I.mailpro_free_trial_banner_text,{yahooBrandNameString:t,daysDuration:S.fc});return l.a.createElement("div",{className:o.container},l.a.createElement("div",{className:o.line,"data-test-id":"mailpro-free-trial-banner"},l.a.createElement("span",{className:o.giftIcon},l.a.createElement(T.b,{kind:v.Kinds.GIFT,size:v.Sizes.XXS,colorState:v.ColorStates.INHERITED})),l.a.createElement("span",{className:o.bannerText},_),l.a.createElement("div",{className:o.buttonContainer},this.state.renderError?this.renderErrorMessage(o,m):null,this.state.removeAdsClicked&&i?this.renderLoadingIndicator(o):l.a.createElement(h.a,{title:c,"data-test-id":"banner-cue-cta",kind:g.a.TEXT,"aria-label":c,overridingClass:o.ctaButton,onClick:this.handleClick},c))))}}s()(M,"contextTypes",{intl:m.intlShape,yahooBrandNameString:r.a.string});const A=e=>{const t=(0,Object(y.selectors)(e).getMailproFreeTrialSelectors)(),a=t.getSubscriptionStatus,n=t.getPurchaseFreeTrialStatus;return{purchaseFreeTrialInProgress:(0,t.isPurchaseFreeTrialInProgress)(),subscriptionStatus:a(),purchaseFreeTrialStatus:n()}};t.default=Object(b.a)(Object(C.connect)(A)(M))},function(e,t,a){"use strict";a.r(t),a.d(t,"SearchPopup",(function(){return C})),a.d(t,"mapStateToProps",(function(){return S}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(13),m=a(4),_=a(17),u=a(62),p=a(0),h=a(5),g=a(10),E=a(1832),b=a.n(E);const f=Object(c.defineMessages)({retailersHeader:{id:"couponsSearch.retailersHeader",defaultMessage:"Search deals from popular stores"},dealsHeader:{id:"couponsSearch.dealsHeader",defaultMessage:"Hot deals you do not want to miss"},recentSearchesHeader:{id:"couponsSearch.recentSearchesHeader",defaultMessage:"Recent searches"}});class C extends o.Component{constructor(...e){super(...e),s()(this,"handleRetailerClick",({name:e,email:t})=>{this.props.onSearchSubmit({query:{name:e,emailAddresses:[t]},i13nModel:{mKey:h.g.COUPONS_SEARCH_TOP_RETAILER_CLICKED,sec:h.i.COUPONS_SEARCH_PANE,mKeyGroup:h.h.search,actionData:{domain:e,email:t}}})}),s()(this,"handleRecentSearchClick",e=>{this.props.onSearchSubmit({query:{keyword:e},i13nModel:{mKey:h.g.COUPONS_SEARCH_RECENT_SEARCH_CLICKED,sec:h.i.COUPONS_SEARCH_PANE,mKeyGroup:h.h.search,actionData:{keyword:e}}})})}renderTopRetailers(){const e=this.props.topRetailers,t=this.context.getCss(b.a),a=[];if(!e||!e.length)return null;const n=(0,this.context.intl.formatMessage)(f.retailersHeader);for(let n=0;n<e.length;n++){const s=e[n],i=s.name,r=s.email;!i||!r||a.length>=5||a.push(l.a.createElement("div",{"data-test-id":"top-retailer-button",className:t.retailer,key:i,onClick:()=>this.handleRetailerClick({name:i,email:r})},l.a.createElement("div",{className:t.retailerLogo},l.a.createElement(u.c,{contact:{email:r},size:u.b.NOBLE_L})),l.a.createElement("span",{className:t.retailerName},i)))}return l.a.createElement("div",{className:t.topRetailersContainer},l.a.createElement("h3",{className:t.header},n),l.a.createElement("ul",{className:t.retailers},a))}renderRecentSearches(){const e=this.props.recentSearches,t=this.context.getCss(b.a),a=this.context.intl.formatMessage,n=[];if(!e||!e.length)return null;for(let a=0;a<e.length;a++){const s=e[a]||"";!s||n.length>=3||n.push(l.a.createElement("div",{"data-test-id":"recent-search-submit-button",className:t.recentSearch,key:s,onClick:()=>this.handleRecentSearchClick(s)},l.a.createElement("div",{className:t.searchIcon},l.a.createElement(_.b,{kind:m.Kinds.CLOCK_OUTLINE,size:m.Sizes.S,colorState:m.ColorStates.FIRST_LEVEL_GRAY})),l.a.createElement("span",null,s)))}return l.a.createElement("div",{className:t.recentSearchesContainer},l.a.createElement("h3",{className:t.header},a(f.recentSearchesHeader)),l.a.createElement("ul",{className:t.recentSearches},n))}renderCoupons(){return l.a.createElement("div",null,this.renderTopRetailers(),this.renderRecentSearches())}render(){const e=this.props,t=e.containerStyle,a=this.context.getCss(b.a,{ybarFujiTheme:e.ybarFujiTheme});return l.a.createElement("div",{className:a.container,style:t,"data-test-id":"coupons-search-pane"},this.renderCoupons())}}s()(C,"contextTypes",{getCss:r.a.func,intl:c.intlShape});const S=e=>{const t=Object(g.selectors)(e),a=t.getFormattedTopRetailers,n=t.isFeatureEnabled,s=(0,t.getRecentSearchesSelectors)().getRecentSearches,i=a(),r=n(p.Eb.AFFILIATE_PARTNER),o=n(p.Eb.YBAR_FUJI2_THEME);let l=s();return l=Array.from(new Set(Object.keys(l).map(e=>l[e]&&l[e].query))),{topRetailers:i,viglinkEnabled:r,recentSearches:l,ybarFujiTheme:o}};t.default=Object(d.connect)(S)(C)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return l}));var n=a(1),s=a.n(n),i=a(6),r=a(1393);a(7);const o=Object(i.defineMessages)({body:{id:"groceries_search_cue.new",defaultMessage:"Easily find and add what you need"}});class l extends n.Component{render(){return s.a.createElement(r.default,{cueName:this.props.cueName,message:o.body,onClick:this.handleClick,appearance:"white"})}}},function(e,t,a){"use strict";a.r(t),a.d(t,"SettingsView",(function(){return Eo})),a.d(t,"mapStateToProps",(function(){return bo})),a.d(t,"mapDispatchToProps",(function(){return fo}));var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(6),_=a(12),u=a.n(_),p=a(30),h=a.n(p),g=a(1775),E=a.n(g),b=a(69),f=a(139),C=a(109),S=a(431),y=a(41),T=a(51),v=a(1776),I=a.n(v),M=a(0),A=a(5),N=a(45),k=a(14),O=a(16),D=a(13),P=a(44),R=a(17),w=a(4),F=a(1439),x=a(9),L=a(1777),B=a.n(L);const j=u()(B.a);function U(){return d.a.createElement("div",{"data-test-id":"settings-error",className:j.errorContainer},d.a.createElement("div",{className:j.errorWrapper},d.a.createElement("span",{"data-test-id":"settings-error-message",className:j.errorMessage},d.a.createElement("span",{className:j.warning},d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.S,colorState:w.ColorStates.WARNING})),d.a.createElement(m.FormattedMessage,{id:"settings_fetch_failed",defaultMessage:"Your preferences failed to load at this time due to a temporary error. {retry}",values:{retry:d.a.createElement("a",{className:j.retryMessage,onClick:()=>{location.reload()},"data-test-id":"settings-error-retry"},d.a.createElement(m.FormattedMessage,{id:"settings_retry_message",defaultMessage:"Try Again"}))}}))))}var H=a(58),W=a(10),G=a(82);const Z=u()(I.a),V=Object(m.defineMessages)({gotoInboxLabel:{id:"button.gotoInbox",defaultMessage:"Back to Inbox"}}),q=["m"];class z extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{active:this.props.selected,timezoneConflict:!1}),r()(this,"handleShortcuts",e=>{const t=String.fromCharCode(e.which||e.keyCode).toLowerCase();switch(e.preventDefault(),e.stopPropagation(),t){case"m":this.goToInbox()}}),r()(this,"getMailboxSizeUsed",()=>(this.props.mailboxSize/10995116277.76+.005).toFixed(2)),r()(this,"handleClick",(e,t)=>{t.preventDefault(),t.stopPropagation();const a={[M.Nd.FILTERS]:A.g.SETTINGS_LEFT_RAIL_FILTERS,[M.Nd.ACCOUNTS]:A.g.SETTINGS_LEFT_RAIL_ACCOUNTS,[M.Nd.NOTIFICATIONS]:A.g.SETTINGS_LEFT_RAIL_NOTIFICATIONS,[M.Nd.WRITING_EMAIL]:A.g.SETTINGS_LEFT_RAIL_WRITING_EMAILS,[M.Nd.VIEWING_EMAIL]:A.g.SETTINGS_LEFT_RAIL_VIEWING_EMAILS,[M.Nd.CATEGORIZATION]:A.g.SETTINGS_LEFT_RAIL_CATEGORIZATION,[M.Nd.AUTOMATIC_REPLY]:A.g.SETTINGS_LEFT_RAIL_AUTOMATIC_REPLY,[M.Nd.PERSONALIZE_INBOX]:A.g.SETTINGS_LEFT_RAIL_PERSONALIZE_INBOX,[M.Nd.SECURITY_AND_PRIVACY]:A.g.SETTINGS_LEFT_RAIL_SECURITY_AND_PRIVACY,[M.Nd.CONTACTS]:A.g.SETTINGS_LEFT_RAIL_CONTACTS,[M.Nd.ENCRYPTION]:A.g.SETTINGS_LEFT_RAIL_ENCRYPTION,[M.Nd.MAIL_PRO]:A.g.SETTINGS_LEFT_RAIL_MAIL_PRO};this.context.navigateTo({route:Object(k.w)({settingsGroupId:e}),i13nModel:{mKey:a[e],sec:A.i.SETTINGS_LEFT_RAIL,interactionType:Object(O.getInteractionFromEvent)(t)}})}),r()(this,"_goToAboutYahooMail",e=>{this.props.goToAboutYahooMail({event:e})}),r()(this,"_goToAdFreeMail",e=>{this.props.goToAdFreeMail({event:e})}),r()(this,"_goToFeedbackPage",e=>{this.props.giveFeedback({event:e})}),r()(this,"_goToHelpPage",e=>{this.props.goToHelpPage({event:e})}),r()(this,"_goToPrivacyTerms",e=>{this.props.goToPrivacyTerms({event:e})}),r()(this,"_goToAboutOurAds",e=>{this.props.goToAboutOurAds({event:e})}),r()(this,"handleLinkClick",(e,t)=>{const a=this.context.config;switch(e){case a.aboutYmailUrl:this._goToAboutYahooMail(t);break;case a.aboutAdsUrl:this._goToAboutOurAds(t);break;case a.adFreeMailUrl:this._goToAdFreeMail(t);break;case a.privacyUrl:case a.termsUrl:this._goToPrivacyTerms(t);break;case a.feedbackURL:this._goToFeedbackPage(t);break;case a.helpUrl:this._goToHelpPage(t)}}),r()(this,"renderLabel",(e,t)=>{const a=this.props.silentTimeZoneCorrection;if(e.props.disabled)return d.a.createElement("span",{className:t.tabNavText,title:e.props.title},e.props.title);const n=!a&&this.state.timezoneConflict&&!this.props.isTimezoneUpdating&&e.props.groupId===M.Nd.VIEWING_EMAIL||this.props.isLinkedInAuthExpired&&e.props.groupId===M.Nd.CONTACTS;return d.a.createElement("a",{href:this.context.getUrlFromRoute({name:M.rd.SETTINGS,params:{settingsGroupId:e.props.groupId}}),className:t.tabNavText,onClick:this.handleClick.bind(this,""+e.props.groupId),title:e.props.title,"data-test-id":"settings-tab-"+e.props.groupId},d.a.createElement("span",null,e.props.title),n?d.a.createElement("span",{className:Z.rightAlign},d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.XS,colorState:w.ColorStates.WARNING_GRAD_RED})):null)}),r()(this,"renderLink",(e,t)=>d.a.createElement("a",{href:e.props.linkTo,className:t.tabLinkText,target:e.props.selfTab?"_self":"_blank",onClick:this.handleLinkClick.bind(this,e.props.linkTo),rel:"noopener"},e.props.title)),r()(this,"renderTitles",(e,t)=>{if(!e)return;const a=u()(I.a,{disabled:e.props.disabled,selected:!e.props.linkTo&&e.props.groupId===""+this.state.active}),n=e.props.linkTo?this.renderLink(e,a):this.renderLabel(e,a);return d.a.createElement("li",{key:t,style:e.props.style,className:a.navLink},e.props.hideLink?null:n)}),r()(this,"renderFooter",()=>d.a.createElement("div",{className:Z.footer},d.a.createElement("div",{className:Z.footerContent},d.a.createElement("div",null,d.a.createElement("p",{className:Z.quotaTotal},d.a.createElement(m.FormattedMessage,{id:"mailbox.maxStorage",defaultMessage:"1 TB of storage"})),d.a.createElement("p",{className:Z.quotaUsed},d.a.createElement(m.FormattedMessage,{id:"mailbox.usedStorage",defaultMessage:"{size} % used",values:{size:this.getMailboxSizeUsed()}})))))),r()(this,"renderLoadingOrErrorPage",()=>this.props.settingsApiCallStatus===M.od.LOADING?d.a.createElement("div",{className:Z.loadingIndicator},d.a.createElement(H.b,null)):d.a.createElement(U,null)),r()(this,"tabHeader",()=>{const e=this.context.intl.formatMessage;return d.a.createElement("div",{className:Z.arrowLeft,"data-test-id":"settings-back-button","aria-label":e(V.gotoInboxLabel),title:e(V.gotoInboxLabel),onClick:this.goToInbox},d.a.createElement(R.b,{kind:w.Kinds.ARROW_UP,size:w.Sizes.XS,rotate:w.Rotate.D270,colorState:w.ColorStates.SELECTED}),d.a.createElement("span",{className:Z.headerLink},e(V.gotoInboxLabel)))}),r()(this,"goToInbox",()=>{this.props.goToInbox({inboxFolderId:this.props.inboxFolderId})}),r()(this,"render",()=>{const e=this.state.active,t=this.props,a=t.children,n=t.settingsApiCallStatus,s=t.hasWideLogo,i=d.a.Children.toArray(a).find(t=>t.props.groupId===""+e);return d.a.createElement("div",{className:Z.wrapper},d.a.createElement("div",{className:s?Z.navContainerWide:Z.navContainer},d.a.createElement("nav",{className:Z.sidebar},this.tabHeader(),d.a.createElement("div",{className:Z.linksContainer},d.a.createElement("div",{className:Z.tabLinks},d.a.createElement("ul",{className:Z.navLinks},d.a.Children.map(a,this.renderTitles)))),this.renderFooter())),n===M.od.LOADED&&i?i:this.renderLoadingOrErrorPage())})}componentDidMount(){this.context.bindShortcut(q,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(q)}componentWillReceiveProps(e,t){const a=t.timezone.name,n=Object(F.d)(a);this.setState({timezoneConflict:n})}}r()(z,"contextTypes",{config:l.a.object,executeAction:l.a.func,navigateTo:l.a.func,getUrlFromRoute:l.a.func.isRequired,timezone:T.TimezoneType,intl:l.a.object.isRequired,bindShortcut:l.a.func,unbindShortcut:l.a.func}),r()(z,"defaultProps",{selected:0});const Y=A.g.SETTINGS_LEFT_RAIL_AD_FREE,K=A.g.SETTINGS_FEEDBACK,X=A.g.SETTINGS_HELP,Q=A.g.SETTINGS_LEFT_RAIL_PRIVACY,J=A.g.SETTINGS_LEFT_RAIL_ABOUT_ADS,$=A.g.SETTINGS_LEFT_RAIL_ABOUT,ee=Object(N.a)(A.i.SETTINGS_LEFT_RAIL);var te=Object(D.connect)(e=>{const t=Object(W.selectors)(e),a=t.getMailboxesSelectors,n=t.isFeatureEnabled,s=t.getEnvironmentSelectors,i=t.getRoute,r=t.getMailboxSize,o=t.getDefaultFolderIdForSelectedAccount,l=(0,t.getSettingsSelectors)(),c=s().getTimezoneUpdatingStatus(),d=l.getSettingsApiCallStatus(),m=i(),_=(0,a().getSocialAccountsStatus)()||{};return{selected:m.params.settingsGroupId,isTimezoneUpdating:c,settingsApiCallStatus:d,isLinkedInAuthExpired:(_[M.Xd.LinkedIn]||{}).status===M.Wd.EXPIRED,hasWideLogo:n(M.Kd.HAS_WIDE_LOGO),inboxFolderId:o(),mailboxSize:r(),silentTimeZoneCorrection:n(M.Eb.SILENT_TIMEZONE_CORRECTION)}},e=>({goToInbox:({inboxFolderId:t})=>e(Object(P.g)({inboxFolderId:t})),goToAdFreeMail:({event:t})=>e(Object(G.u)(ee({event:t,mKey:Y}))),giveFeedback:({event:t})=>e(Object(G.r)(ee({event:t,mKey:K}))),goToHelpPage:({event:t})=>e(Object(G.v)(ee({event:t,mKey:X}))),goToPrivacyTerms:({event:t})=>e(Object(G.w)(ee({event:t,mKey:Q}))),goToAboutOurAds:({event:t})=>e(Object(G.s)(ee({event:t,mKey:J}))),goToAboutYahooMail:({event:t})=>e(Object(G.t)(ee({event:t,mKey:$})))}))(z),ae=a(1778),ne=a.n(ae);const se=u()(ne.a);function ie({children:e}){return d.a.createElement("article",{className:se.mainContent},e)}var re=a(1779),oe=a.n(re),le=a(1499),ce=a(1780),de=a.n(ce),me=a(22),_e=a(114);function ue({snippets:e,multiTaskModeSetting:t,previewPaneSetting:a,msgListDensity:n,cueMode:s=!1,logoUrl:i,themeSetting:r,themeModeSetting:o},l){const c=Object(_e.e)(s?7:15),_=a===M.ed.RIGHT,u=o===me.i.DARK,p={snippets:e,previewPaneSetting:a,multiTaskModeSetting:t,verticalSnippets:e&&_,cueMode:s,darkModeNonPhotoTheme:!Object(me.p)(r)&&u,["darkModePhotoTheme_"+r]:Object(me.p)(r)&&u};_||Object.assign(p,{msgListDensity:n});const h=l.getCss(de.a,p);return d.a.createElement("div",{className:h.previewWrapper},!s&&d.a.createElement("h4",{className:h.previewTitle,"data-test-id":"preview-header"},d.a.createElement(m.FormattedMessage,{id:"preview_section_header_text",defaultMessage:"Preview"})),d.a.createElement("div",{className:h.container},d.a.createElement("div",{className:h.headerWrapper},d.a.createElement("div",{className:h.header},d.a.createElement("div",{className:h.logoContainer},d.a.createElement("img",{className:h.logo,src:i})),d.a.createElement("div",{className:h.search},d.a.createElement("div",{className:h.searchBox}),d.a.createElement("div",{className:h.searchBtn}))),d.a.createElement("div",{className:h.tabContainer,"data-test-id":"settings-tabs"},d.a.createElement("ul",{className:h.tabs},d.a.createElement("li",{className:h.leftRailTabSpacer}),d.a.createElement("li",{className:h.tabItem}),d.a.createElement("li",{className:h.tabItemWhite}),d.a.createElement("li",{className:h.tabItem})))),d.a.createElement("div",{"data-test-id":"preview-main-content",className:h.mainContent},d.a.createElement("div",{"data-test-id":"preview-left-rail",className:h.rail}),d.a.createElement("div",{"data-test-id":"preview-message-list",className:h.messageList},d.a.createElement("div",{className:h.listItem},d.a.createElement("ul",{className:h.firstColumn,"data-test-id":"settings-message-list-preview"},c.map(e=>d.a.createElement("li",{key:e,className:h.messageListItem},d.a.createElement("div",{className:h.sender}),d.a.createElement("div",{className:h.firstColumnSnippet})))),d.a.createElement("ul",{className:h.secondColumn},c.map(t=>{const a=t%2*10+96+"px";return d.a.createElement("li",{key:t,className:h.messageListItem},d.a.createElement("div",{className:h.wrapper},d.a.createElement("div",{className:h.subject,style:{width:t%3*10+68+"px"}}),e?d.a.createElement("div",{"data-test-id":"settings-snippets",className:h.secondColumnSnippet,style:{width:a}}):null))}))),d.a.createElement("div",{className:h.previewPane,"data-test-id":"settings-preview-pane"},d.a.createElement("img",{className:h.avatar,src:"https://s.yimg.com/dh/ap/social/profile/profile_a64.png"}),d.a.createElement("div",null,d.a.createElement("ul",{className:h.messageItems},d.a.createElement("li",{className:h.messageViewItem}),d.a.createElement("li",{className:h.messageViewItem,style:{width:"90%"}}),d.a.createElement("li",{className:h.messageViewItem,style:{width:"60%"}}),d.a.createElement("li",{className:h.messageViewItem,style:{width:"20%"}}))))),d.a.createElement("div",{"data-test-id":"preview-right-rail",className:h.rail}))))}ue.contextTypes={config:l.a.object,getCss:l.a.func};var pe=ue;const he=u()(oe.a);class ge extends d.a.Component{render(){return d.a.createElement("div",{className:he.container,"data-test-id":"personalize-inbox-tab"},d.a.createElement("div",{className:he.left},d.a.createElement("div",{className:he.headerWrapper},d.a.createElement("header",{className:he.titleWrapper},d.a.createElement("h4",{className:he.title},d.a.createElement(m.FormattedMessage,{id:"personalize_mailbox_header",defaultMessage:"Personalize inbox"})),d.a.createElement("span",{className:he.hint},d.a.createElement(m.FormattedMessage,{id:"personalize_mailbox_hint",defaultMessage:"Change how your inbox looks and feels"}))),d.a.createElement(le.a,this.props))),d.a.createElement("div",{className:he.right},d.a.createElement(pe,this.props)))}}r()(ge,"displayName","PersonalizedInboxTab");var Ee=a(1781),be=a.n(Ee),fe=a(489),Ce=a(87),Se=a(49),ye=a(110);const Te=u()(be.a);class ve extends d.a.Component{render(){const e=this.context.intl.formatMessage;return d.a.createElement("div",{className:Te.container,"data-test-id":"categorization-tab"},d.a.createElement("div",{className:Te.left},d.a.createElement("div",{className:Te.headerWrapper},d.a.createElement("header",{className:Te.titleWrapper},d.a.createElement("h4",{className:Te.title},e(ye.a.categorization_header)),d.a.createElement("span",{className:Te.hint},e(ye.a.categorization_hint))),d.a.createElement(fe.a,{showHint:!0}))),d.a.createElement("div",{className:Te.right},d.a.createElement("div",{className:Te.categoryRightRailContainer},d.a.createElement("img",{className:Te.categoryRightRailImg,src:Object(Se.a)(Ce.g.CATEGORIZATION)}))))}}r()(ve,"displayName","CategorizationTab"),r()(ve,"contextTypes",{intl:m.intlShape.isRequired});var Ie=a(33),Me=a.n(Ie),Ae=a(1782),Ne=a.n(Ae),ke=a(111),Oe=a.n(ke),De=a(1783),Pe=a.n(De),Re=a(62),we=a(1784),Fe=a.n(we),xe=a(21);const Le=u()(Fe.a);function Be({tweet:{handle:e,name:t,creationTime:a,content:n,imgUrl:s}}){return d.a.createElement("div",{className:Le.tweetWrapper},d.a.createElement("div",{className:Le.tweet},d.a.createElement("div",{className:Le.tweetHeader},d.a.createElement("div",{className:Le.twitterProfile},d.a.createElement("img",{className:Le.twitterAvatar,src:s,alt:t})),d.a.createElement("div",{className:Le.twitterAccount},d.a.createElement("span",{className:Le.userName},t),d.a.createElement("span",{className:Le.userId},"@",e)),d.a.createElement("div",{className:Le.twitterImg},d.a.createElement(R.b,{size:w.Sizes.XS,kind:w.Kinds.TWITTER,colorState:w.ColorStates.TWITTER_ENABLED}))),d.a.createElement("div",{className:Le.tweetBody},n),d.a.createElement("div",{className:Le.tweetFooter},d.a.createElement("span",{className:Le.tweetDate},a),d.a.createElement("div",{className:Le.tweetAction},d.a.createElement(xe.default,{size:w.Sizes.XXS,kind:w.Kinds.REPLY,color:w.ColorStates.COOL_FAINT,onClick:()=>{}}),d.a.createElement(xe.default,{size:w.Sizes.XXS,kind:w.Kinds.FORWARD,color:w.ColorStates.COOL_FAINT,onClick:()=>{}}),d.a.createElement(xe.default,{size:w.Sizes.XS,kind:w.Kinds.STAR,color:w.ColorStates.COOL_FAINT,onClick:()=>{}})))))}var je=a(1500),Ue=a(29),He=Object(m.defineMessages)({header:{id:"vacation_response_settings.v2.header",defaultMessage:"Vacation response"},hint:{id:"vacation_response_settings.v2.hint",defaultMessage:"Set an automatic reply to incoming messages when you are on vacation or out of office"},corpHint:{id:"vacation_response_settings.v2.corpHint",defaultMessage:'To set up a vacation response for Yahoo Corp Mail, please go to <a class="{class}" href="{url}" target="_blank">Gmail</a>.'},subheader:{id:"vacation_response_settings.v2.subheader",defaultMessage:"Turn on vacation response"},dateText:{id:"vacation_response_settings.v2.date_text",defaultMessage:"Show vacation response during these dates"},messageText:{id:"vacation_response_settings.v2.message_text",defaultMessage:"Compose your message below with stationery, GIFs and more"},editorAriaLabel:{id:"vacation_response_settings.v2.editor_aria_label",defaultMessage:"Vacation response"},deleteResponseButtonText:{id:"vacation_response_settings.v2.delete_vacation_response_btn_text",defaultMessage:"Remove vacation response"},invalidStartDateError:{id:"vacation_response_settings.v2.invalid_start_date_error",defaultMessage:"The start date is invalid"},invalidEndDateError:{id:"vacation_response_settings.v2.invalid_end_date_error",defaultMessage:"The end date is invalid"},startDateError:{id:"vacation_response_settings.v2.start_date_error",defaultMessage:"Start date must be before end date"},endDateError:{id:"vacation_response_settings.v2.end_date_error",defaultMessage:"The end date has already passed"},rightRailHeader:{id:"vacation_response_settings.v2.right_rail_header",defaultMessage:"Find help for vacation response"},toggleBtn:{id:"vacation_response_settings.v2.enable_toggle_btn",defaultMessage:"Turn on vacation response"},enableAriaLabel:{id:"vacation_response_settings.v2.enable_tooltip_text",defaultMessage:"Turn on vacation response"},disableAriaLabel:{id:"vacation_response_settings.v2.disable_tooltip_text",defaultMessage:"Turn off vacation response"},confirmDeleteModalTitle:{id:"vacation_response_settings.v2.confirm_delete_modal.title",defaultMessage:"Are you sure you want to remove this vacation response?"},confirmDeleteModalBody:{id:"vacation_response_settings.v2.confirm_delete_modal.body",defaultMessage:"You won't be able to undo this action."},confirmDeleteModalCancelButton:{id:"vacation_response_settings.v2.confirm_delete_modal.cancel_button",defaultMessage:"Cancel"},confirmDeleteModalDeleteButton:{id:"vacation_response_settings.v2.confirm_delete_modal.delete_button",defaultMessage:"Remove"},expiredMessage:{id:"vacation_response_settings.v2.expired_message",defaultMessage:"Expired"},previewHeaderVacationResponse:{id:"vacation_response_settings.preview.header",defaultMessage:"Preview vacation response"},previewHeaderWritingEmail:{id:"writing_email_settings.preview.header",defaultMessage:"Preview Signature"},previewToText:{id:"vacation_response_settings.v2.preview.to_text",defaultMessage:"To:"},previewReceiversText:{id:"vacation_response_settings.v2.preview.receivers_text",defaultMessage:"Recipients"},previewReceiversTextWithDomain:{id:"vacation_response_settings.v2.preview.receivers_text_with_domain",defaultMessage:"recipient@{domain}"},domainResponseHeader:{id:"vacation_response_settings.v2.domain_response.header",defaultMessage:"Send a different response to specific domains"},domainResponseDomainNameText:{id:"vacation_response_settings.v2.domain_response.domain_name_text",defaultMessage:"Email domain name"},domainResponseFirstDomainText:{id:"vacation_response_settings.v2.domain_response.first_domain_text",defaultMessage:"First domain"},domainResponseSecondDomainText:{id:"vacation_response_settings.v2.domain_response.second_domain_text",defaultMessage:"Second domain"},domainResponseEditorAriaLabel:{id:"vacation_response_settings.v2.domain_response.editor_aria_label",defaultMessage:"Send a different response to specific domains"},domainResponseMessageText:{id:"vacation_response_settings.v2.domain_response.message_text",defaultMessage:"Message"}});class We extends d.a.Component{constructor(e){super(e),this.disableEditing=Oe()(this.disableEditing,100),this.renderReceiversText=this.renderReceiversText.bind(this)}componentDidUpdate(){this.props.kind===Ue.PreviewTypes.VACATION_RESPONSE&&this.disableEditing()}disableEditing(){je.a.makeNonEditable(this.stationeryWrapper)}renderReceiversText(){const e=this.props.domains;if(e&&e.length>0)return d.a.createElement("span",null,e.map((e,t)=>{if(!e)return;const a=d.a.createElement(m.FormattedMessage,s()({key:t+"-text",values:{domain:e}},He.previewReceiversTextWithDomain));return 0!==t?d.a.createElement("span",{key:t+"-wrapper"},", ",a):a}))}render(){const e=this.props,t=e.account,a=e.composeFontFamily,n=e.composeFontSize,s=e.content,i=e.showTweet,r=e.kind,o=e.showPreviewText,l=e.onDoubleClick,c=e.settingsGroupId,_=this.context.intl.formatMessage,p=t.sendingName||t.email,h=u()(Pe.a);return d.a.createElement("div",{className:h.mainWrapper,"data-test-id":"settings-message-previewer"},d.a.createElement("div",{className:h.previewSection},o&&c===M.Nd.AUTOMATIC_REPLY&&d.a.createElement("h4",{className:h.previewTitle,"data-test-id":"preview-text-isVacationResponse"},_(He.previewHeaderVacationResponse)),o&&c===M.Nd.WRITING_EMAIL&&d.a.createElement("h4",{className:h.previewTitle,"data-test-id":"preview-text-isWritingEmail"},_(He.previewHeaderWritingEmail)),d.a.createElement("div",{className:h.listContainer,onDoubleClick:l,"data-test-id":"preview-container"},d.a.createElement("ul",{className:h.listWrapper},d.a.createElement("li",{className:h.listItemHeader},d.a.createElement("div",{className:h.avatar},d.a.createElement(Re.c,{useFallbackImage:!0,size:Re.b.M})),d.a.createElement("div",{className:h.header},d.a.createElement("div",{className:h.accName,title:p},p),d.a.createElement("div",null,d.a.createElement("span",{className:h.to},d.a.createElement(m.FormattedMessage,He.previewToText)),this.renderReceiversText()))),d.a.createElement("li",{className:h.listItem},d.a.createElement("font",{size:n},d.a.createElement("div",{className:"rte vacation-response-preview "+h.msgPreview,"data-test-id":"settings-preview-content",dangerouslySetInnerHTML:{__html:s},style:{fontFamily:a},ref:e=>this.stationeryWrapper=e})),t.signatureActive&&r!==Ue.PreviewTypes.VACATION_RESPONSE?d.a.createElement("div",{className:h.signaturePreview,"data-test-id":"settings-preview-signature",dangerouslySetInnerHTML:{__html:t.signature}}):null,i&&t.isPrimary?d.a.createElement(Be,null):null)))))}}We.contextTypes={intl:m.intlShape.isRequired},We.defaultProps={content:"",showTweet:!1,composeFontFamily:"",showPreviewText:!0,onDoubleClick:()=>{}};var Ge=Object(D.connect)(e=>({settingsGroupId:(0,Object(W.selectors)(e).getRouteParams)().settingsGroupId}))(We),Ze=a(1785),Ve=a.n(Ze),qe=a(89);const ze={month:"2-digit",day:"2-digit",year:"numeric"};function Ye({selected:e,startDate:t,endDate:a,onSelect:n},{intl:s}){const i=Object(qe.e)(t,s.locale,ze),r=Object(qe.e)(a,s.locale,ze),o=u()(Ve.a,{selected:e}),l=a<new Date;return d.a.createElement("li",{className:o.listItem,onClick:n,"data-test-id":"vacation-response-list-item"},d.a.createElement(R.b,{kind:w.Kinds.GETAWAYFILL,size:w.Sizes.M,colorState:w.ColorStates.TOUCH_PRIMARY}),d.a.createElement("div",{className:o.datesWrapper},d.a.createElement("span",null,i),d.a.createElement("span",{className:o.datesArrow},d.a.createElement(R.b,{size:w.Sizes.XS,kind:w.Kinds.ARROW_UP,rotate:w.Rotate.D90,colorState:"FIRST_LEVEL_GRAY"})),d.a.createElement("span",null,r),l&&d.a.createElement("div",{className:o.messageWrapper},d.a.createElement(m.FormattedMessage,He.expiredMessage))),l&&d.a.createElement("div",{className:o.expiredStatusWrapper,"data-test-id":"expired-status-wrapper"},d.a.createElement("div",{className:o.statusIcon},d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.XS,colorState:w.ColorStates.WARNING_GRAD_RED}))))}Ye.contextTypes={intl:m.intlShape.isRequired};var Ke=a(1786),Xe=a.n(Ke),Qe=a(1495),Je=a(18),$e=a(25),et=a(85),tt=a(1788),at=a.n(tt),nt=a(276),st=a(482),it=a(104),rt=a(1789),ot=a.n(rt),lt=a(648),ct=a(77),dt=a(603),mt=a(196),_t=a(360),ut=a(159);function pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pt(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const gt=()=>{};class Et extends d.a.Component{constructor(e){super(e),r()(this,"focus",()=>{this.editor&&this.editor.rte&&this.editor.rte.focus()}),r()(this,"addEmoji",e=>{this.editor&&this.editor.rte&&this.editor.rte.isRich&&ut.a.insertEmoji(this.editor.rte,this.context.intl.formatMessage,e)}),r()(this,"_updateToolbarState",e=>{this.toolbar&&this.toolbar.getWrappedInstance().updateState(e)}),r()(this,"execCommand",(e,t)=>{const a=t.data,n=t.i13nModel;switch(e){case Ue.ToolbarActions.SEND:return;case Ue.ToolbarActions.UPDATE_STATIONERY:this.state.stationeryTheme=a?a.themeName:""}n&&this.props.handleToolbarActions({i13nModel:n}),this.editor.rte.pushButton(e,a),this.focus()}),r()(this,"onEditorContentChange",e=>{const t=e.format;e.type&&Object(dt.a)(e);let a="";if(this.editor){const e={formatState:ht({},this.state.formatState,{richTextMode:this.editor.rte.isRich})};Object(x.f)(e.formatState,t)||(e.formatState=ht({},e.formatState,{},t)),a=this.editor.getRawMessageContent(),this.setState(e)}this.props.onChange(this.wrapWithFontIfNeeded(a))}),r()(this,"wrapWithFontIfNeeded",e=>{const t=document.createElement("div");if(t.innerHTML=e,1===t.childNodes.length&&t.firstChild.childNodes.length){const e=t.firstChild;return"FONT"===e.nodeName?(e.face||(e.face=this.props.composeFontFamily),e.size||(e.size=this.props.composeFontSize)):(e.style.fontFamily||(e.style.fontFamily=this.props.composeFontFamily),e.style.fontSize||(e.style.fontSize=Object(ct.getFontSizeStyle)(this.props.composeFontSize))),e.outerHTML}return t.style.fontFamily=this.props.composeFontFamily,t.style.fontSize=Object(ct.getFontSizeStyle)(this.props.composeFontSize),t.outerHTML}),r()(this,"handleFocus",()=>{this.setState({focused:!0},this.props.onFocus)}),r()(this,"handleBlur",()=>{this.setState({focused:!1},this.props.onBlur)});this.state={formatState:{richTextMode:!0,foreColor:mt.a.DEFAULTS.FG_COLOR,backgroundColor:mt.a.DEFAULTS.BG_COLOR,fontSize:e.composeFontSize||"0",fontFamily:e.composeFontFamily||""},focused:!1,stationeryTheme:""}}shouldComponentUpdate({content:e,disabled:t},{formatState:a,focused:n,editorContainer:s}){return e!==this.props.content||n!==this.state.focused||t!==this.props.disabled||this.state.formatState.richTextMode!==a.richTextMode||this.state.editorContainer!==s}render(){const e=this.props,t=e.composeData,a=e.attachments,n=e.htmlAnnotations,s=e.content,i=e.ariaLabel,r=e.disabled,o=e.composeFontFamily,l=e.composeFontSize,c=e.stationeryRestrictedThemes,m=e.linkEnhancerUrlBlocklist,_=e.rtl,p=e.stationery,h=e.editorKind,g=e.toolbarKind,E=e.stationeryCategory,b=e.stationeryCategoriesToShow,f=e.isDomainResponse,C=e.editorRef,S=e.initialFocus,y=e.gif,T=e.onGifClick,v=e.showInitialPopup,I=this.state.focused,M=u()(ot.a,{focused:I&&!r,kind:h}),A=!v||/^<div(?: style="[^>]*")?>(<br>)?<\/div>$/.test(s),N=!f&&A&&g===Ue.ToolbarTypes.VACATION_RESPONSE_SETTINGS;return d.a.createElement("div",{className:M.editorWrapper},r?d.a.createElement("div",{className:M.rte,"data-test-id":"vacation-response-preview",dangerouslySetInnerHTML:{__html:s}}):d.a.createElement("div",{className:M.rte,ref:e=>!this.state.editorContainer&&this.setState({editorContainer:e})},d.a.createElement(lt.a,{stationery:p,linkEnhancerUrlBlocklist:m,content:s,onImagePaste:gt,ariaLabel:i,onBlur:this.handleBlur,attachments:a,kind:h,onFocus:this.handleFocus,ref:e=>{this.editor=e,C(e)},htmlAnnotations:n,composeFontFamily:o,composeFontSize:l,onContentChange:this.onEditorContentChange,rtl:_,onStationeryThemeChange:this.execCommand.bind(this,Ue.ToolbarActions.UPDATE_STATIONERY),initialFocus:S,scrollableAreaRef:this.state.editorContainer,updateToolbarState:this._updateToolbarState})),d.a.createElement(_t.a,{ref:e=>this.toolbar=e,uploadEnabled:!1,showSendButton:!1,showDeleteButton:!1,showPlainTextMode:!1,formatState:this.state.formatState,focusOnEditor:this.focus,kind:g,onExecuteAction:this.execCommand,draftStatus:t.draftStatus,addEmoji:this.addEmoji,lastDraftSavedTime:t.lastSaved,stationeryEnabled:p,stationeryTheme:this.state.stationeryTheme,stationeryCategory:E,stationeryCategoriesToShow:b,showStationeryDefaultTheme:!1,showStationeryThemeCategories:!1,disabled:r,stationeryRestrictedThemes:c,showStationerySetDefault:!1,showStationeryPicker:N,rtl:_,gifFinderEnabled:y,onGifClick:T}))}}r()(Et,"contextTypes",{executeAction:l.a.func,intl:m.intlShape.isRequired}),r()(Et,"defaultProps",{composeData:{draftStatus:"INIT",lastSaved:Date.now()},htmlAnnotations:[],attachments:[],onBlur:gt,onFocus:gt,content:"",isDomainResponse:!1,handleToolbarActions:gt,editorRef:gt,gif:!1});var bt=Et;var ft=Object(D.connect)(void 0,e=>({handleToolbarActions:t=>e(Object(it.h)(t))}))(bt),Ct=a(477),St=a(299),yt=a(156);function Tt(e,t){const a=e.enabled,n=e.content,s=e.domainOne,i=e.domainTwo,r=e.onChange,o=e.onFocus,l=e.composeFontFamily,c=e.composeFontSize,_=e.rtl,p=e.stationery,h=e.stationeryRestrictedThemes,g=e.stationeryCategory,E=e.stationeryCategoriesToShow,b=e.toggleType,f=e.editorRef,C=e.editorTitleRef,S=void 0===C?()=>{}:C,y=e.extraEditorPadding,T=void 0!==y&&y,v=e.editorInitialFocus,I=e.gif,M=e.onGifClick,A=t.intl.formatMessage,N=u()(at.a,{extraEditorPadding:T});return d.a.createElement("div",{"data-test-id":"domain-specific-response"},d.a.createElement("div",{className:N.fixedWidthOption},d.a.createElement(Ct.a,{canToggle:!0,subHeader:!0,toggleEnabled:a,toggleType:b,header:A(He.domainResponseHeader),onToggle:()=>r(St.b.DOMAIN_ENABLED,!a)})),a?d.a.createElement("div",{className:N.domainResponseWrapper},d.a.createElement("div",{className:N.domainNameControl},d.a.createElement("h5",{className:N.headerTitle},d.a.createElement(m.FormattedMessage,He.domainResponseDomainNameText)),d.a.createElement(nt.a,{isClearable:!0,value:s,placeholder:A(He.domainResponseFirstDomainText),onChange:e=>r(St.b.DOMAIN_ONE,e),kind:st.a.DARK_BORDER_BOTTOM}),d.a.createElement(nt.a,{isClearable:!0,value:i,placeholder:A(He.domainResponseSecondDomainText),onChange:e=>r(St.b.DOMAIN_TWO,e),kind:st.a.DARK_BORDER_BOTTOM})),d.a.createElement("div",{className:N.domainResponseSection},d.a.createElement("h5",{className:N.headerTitle,ref:S},d.a.createElement(m.FormattedMessage,He.domainResponseMessageText)),d.a.createElement("div",{className:N.editor},d.a.createElement(ft,{content:n,onFocus:o,composeFontFamily:l,composeFontSize:c,ariaLabel:A(He.domainResponseEditorAriaLabel),onChange:e=>r(St.b.DOMAIN_MSG_BODY,e),rtl:_,stationery:p,stationeryRestrictedThemes:h,stationeryCategory:g,stationeryCategoriesToShow:E,editorKind:Ue.EditorTypes.VACATION_RESPONSE_SETTINGS,toolbarKind:Ue.ToolbarTypes.VACATION_RESPONSE_SETTINGS,editorRef:f,isDomainResponse:!0,initialFocus:v,gif:I,onGifClick:M})))):null)}Tt.contextTypes={intl:m.intlShape.isRequired};var vt=Tt,It=a(1790),Mt=a.n(It);var At=function({onSave:e,onNext:t,onCancel:a,disableSave:n=!1,marginLess:s=!1}){const i=u()(Mt.a,{marginLess:s});return d.a.createElement("div",{className:i.viewActions},t?d.a.createElement(Je.a,{kind:$e.a.PRIMARY,onClick:t,"data-test-id":"view-actions-next-button",overridingClass:i.nextButton,marginLess:!0},d.a.createElement(m.FormattedMessage,{id:"next_btn_text",defaultMessage:"Next"})):d.a.createElement(Je.a,{kind:$e.a.PRIMARY,onClick:e,disabled:n,"data-test-id":"view-actions-save-button",overridingClass:i.saveButton,marginLess:!0},d.a.createElement(m.FormattedMessage,{id:"save_btn_text",defaultMessage:"Save"})),d.a.createElement(Je.a,{"data-test-id":"view-actions-cancel-button",kind:$e.a.SECONDARY_BORDERLESS,onClick:a,overridingClass:i.cancelButton},d.a.createElement(m.FormattedMessage,{id:"cancel_btn_text",defaultMessage:"Cancel"})))},Nt=a(19),kt=a(11);function Ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ot(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ot(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}class Pt extends d.a.Component{constructor(e){super(e);this.state=Dt({},this.getStateFromVacationPreferences(e.vacationPreferences),{showConfirm:!1,error:"",showErrors:!0,viewActionsAnchored:!1}),this.handleChange=this.handleChange.bind(this),this.handleDateChange=this.handleDateChange.bind(this),this.handleMessageBodyChange=this.handleMessageBodyChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleCancel=this.handleCancel.bind(this),this.onDeleteClick=this.onDeleteClick.bind(this),this.showDeleteConfirmation=this.showDeleteConfirmation.bind(this),this.hideDeleteConfirmation=this.hideDeleteConfirmation.bind(this),this.handleDelete=this.handleDelete.bind(this),this.recalculateAnchor=this.recalculateAnchor.bind(this),this.handleInvalidDateEntered=this.handleInvalidDateEntered.bind(this),this.handleDomainResponseEditorGifClick=this.handleDomainResponseEditorGifClick.bind(this),this.handleEditorGifClick=this.handleEditorGifClick.bind(this),this.handleClickDatePicker=this.handleClickDatePicker.bind(this),this.memoizedPlainText={}}getStateFromVacationPreferences(e={}){const t=e.startDate,a=e.endDate,n=e.messageBody,s=void 0===n?"":n,i=e.domainSpecificResponse,r=void 0===i?{}:i,o=r.domains,l=void 0===o?[]:o,c=r.domainMessageBody,d=void 0===c?"":c,m=Me()(l,2),_=m[0],u=void 0===_?"":_,p=m[1],h=void 0===p?"":p,g=t?Object(qe.c)(t):null,E=a?Object(qe.c)(a):null,b=!(!u&&!h);return{domainOne:u,domainTwo:h,messageBody:s,domainResponseEnabled:b,startDate:g,endDate:E,domainMessageBody:d,canSave:!!(g&&E&&(s||b||d))}}componentWillReceiveProps(e){const t=e.vacationPreferences,a=void 0===t?{}:t;this.props.vacationPreferences!==a&&this.setState(this.getStateFromVacationPreferences(a))}_getTrimmedPlainText(e,t=!1){return Object(Nt.a)(-1!==["messageEditor","domainResponseMessageEditor"].indexOf(e),"editorType must be one of messageEditor, domainResponseMessageEditor"),(t||void 0===this.memoizedPlainText[e])&&(this.memoizedPlainText[e]=this[e].getPlainText().trim()),this.memoizedPlainText[e]}_getMessageBody(e,t=this.state.messageBody){return this.messageEditor?this._getTrimmedPlainText("messageEditor",e):t}_getDomainResponseMessageBody(e,t=this.state.domainMessageBody){return this.domainResponseMessageEditor?this._getTrimmedPlainText("domainResponseMessageEditor",e):t}handleChange(e,t,a){const n=Dt({},this.state,{[e]:t}),s=n.domainOne,i=n.domainTwo,r=n.startDate,o=n.endDate,l=n.error,c=this._getMessageBody("messageBody"===e,n.messageBody),d=this._getDomainResponseMessageBody("domainMessageBody"===e,n.domainMessageBody);this.setState({[e]:t,canSave:!(l||!r||!o||!(s||i||c||d))},a),this.props.preventRouteChange()}handleDateChange(e,t){const a=this.state,n=a.domainOne,s=a.domainTwo,i=this._getMessageBody(),r=this._getDomainResponseMessageBody(),o={startDate:e,endDate:t};o.error=t&&t<new Date(1e3*Object(qe.o)(Object(qe.i)()))?He.endDateError:e&&t&&e>t?He.startDateError:null,o.canSave=!(o.error||!e||!t||!(n||s||i||r)),this.setState(o),o.error||this.props.onDateChange(e,t),this.props.preventRouteChange()}handleInvalidDateEntered({startDate:e,endDate:t}){void 0!==e?this.setState({error:He.invalidStartDateError,canSave:!1}):void 0!==t&&this.setState({error:He.invalidEndDateError,canSave:!1})}handleMessageBodyChange(e){this.handleChange("messageBody",e)}_isDataValid(){const e=this.state,t=e.startDate,a=e.endDate;return t&&a&&a>=Object(qe.o)(new Date)&&t<=a}handleSave(e){const t=this.state,a=t.endDate,n=t.domainOne,s=t.domainTwo,i=t.startDate,r=t.domainResponseEnabled,o=this.messageEditor?this.messageEditor.getInnerHtml():this.state.messageBody,l=this.domainResponseMessageEditor?this.domainResponseMessageEditor.getInnerHtml():this.state.domainMessageBody;if(!this._isDataValid())return;const c={enabled:!0,startDate:Object(qe.o)(i),endDate:Object(qe.k)(a),messageBody:o,domainSpecificResponse:{domains:r?[n,s]:[""],domainMessageBody:r?l:""}};this.props.onSave(c,e)}handleCancel(e){this.setState(this.getStateFromVacationPreferences({})),this.props.onReset(e)}onDeleteClick(e){e.stopPropagation(),this.showDeleteConfirmation()}showDeleteConfirmation(){this.setState({showConfirm:!0})}hideDeleteConfirmation(){this.setState({showConfirm:!1})}handleDelete(e){const t=this.props.onDelete;this.hideDeleteConfirmation(),t(e)}_anchorViewActions(){this.setState({viewActionsAnchored:!0})}_unAnchorViewActions(){this.setState({viewActionsAnchored:!1})}recalculateAnchor(){const e=window.innerHeight;if(this.state.viewActionsAnchored){this.formWrapper.getBoundingClientRect().bottom<=e&&this._unAnchorViewActions()}else{this.viewActionsContainer.getBoundingClientRect().bottom>e&&this._anchorViewActions()}}scrollToEditor(){this.editorTitle&&(this.mainWrapper.scrollTop+=this.editorTitle.getBoundingClientRect().top-kt.Ob)}scrollToDomainResponseEditor(){this.domainResponseEditorTitle&&(this.mainWrapper.scrollTop+=this.domainResponseEditorTitle.getBoundingClientRect().top-kt.Ob)}componentDidMount(){this.recalculateAnchor()}componentDidUpdate(){this.recalculateAnchor()}handleGifClick(e,{rte:t}={}){t&&ut.a.insertGif(t,this.context.intl.formatMessage,e)}handleEditorGifClick(e){return this.handleGifClick(e,this.messageEditor)}handleDomainResponseEditorGifClick(e){return this.handleGifClick(e,this.domainResponseMessageEditor)}handleClickDatePicker(){const e=this.state,t=e.startDate,a=e.endDate,n=Object(qe.o)(Object(qe.i)());let s=t,i=a;t&&Object(qe.o)(t)<n&&(s=new Date(1e3*Object(qe.o)(Object(qe.i)()))),a&&Object(qe.o)(a)<n&&(i=new Date(1e3*Object(qe.k)(Object(qe.i)()))),s===t&&i===a||this.handleDateChange(s,i)}render(){const e=this.state,t=e.domainOne,a=e.domainTwo,n=e.domainResponseEnabled,s=e.startDate,i=e.endDate,r=e.error,o=e.showErrors,l=e.canSave,c=e.showConfirm,_=this.props,u=_.enabled,p=_.composeFontSize,h=_.composeFontFamily,g=_.stationeryRestrictedThemes,E=_.linkEnhancerUrlBlocklist,b=_.rtl,f=_.stationery,C=_.vacationPreferences,S=_.showDeleteButton,y=_.editorInitialFocus,T=_.domainResponseEditorInitialFocus,v=C.messageBody,I=C.domainSpecificResponse,A=(void 0===I?{}:I).domainMessageBody,N=_.account.signature,k=void 0===N?"":N,O=this.context,D=O.intl.formatMessage,P=(0,O.getCss)(Xe.a,{disabled:!u,viewActionsAnchored:e.viewActionsAnchored}),R=u&&!v?k:v;return d.a.createElement("div",{className:P.mainWrapper,onScroll:this.recalculateAnchor,ref:e=>this.mainWrapper=e,"data-test-id":"vacation-response-form"},d.a.createElement("div",{className:P.overlay},d.a.createElement("div",{className:P.formWrapper,ref:e=>this.formWrapper=e},d.a.createElement("div",{className:P.mB40},d.a.createElement("h5",{className:P.headerTitle},d.a.createElement(m.FormattedMessage,He.dateText)),d.a.createElement("div",{className:P.formControl,"data-test-id":"vacation-response-date-picker-container",onClick:this.handleClickDatePicker},d.a.createElement(Qe.a,{useISODateFormat:!0,startDate:s,endDate:i,onChange:this.handleDateChange,disabled:!u,disableErrors:()=>this.setState({showErrors:!1}),enableErrors:()=>this.setState({showErrors:!0}),onInvalidDateEntered:this.handleInvalidDateEntered,datePickerWidth:198}),r&&o?d.a.createElement("div",{"data-test-id":"vacation-response-date-error",className:P.error},D(r)):null)),d.a.createElement("div",{className:P.mB40},d.a.createElement("h5",{className:P.headerTitle,ref:e=>this.editorTitle=e},d.a.createElement(m.FormattedMessage,He.messageText)),d.a.createElement("div",{className:P.editorWrapper},d.a.createElement("div",{className:P.editor},d.a.createElement(ft,{linkEnhancerUrlBlocklist:E,content:R,showInitialPopup:Boolean(v),disabled:!u,ariaLabel:D(He.editorAriaLabel),onChange:this.handleMessageBodyChange,composeFontFamily:h,composeFontSize:p,stationery:f,stationeryRestrictedThemes:g,stationeryCategory:M.ae.featured,stationeryCategoriesToShow:[M.ae.featured,M.ae.seasonal],editorKind:Ue.EditorTypes.VACATION_RESPONSE_SETTINGS,toolbarKind:Ue.ToolbarTypes.VACATION_RESPONSE_SETTINGS,editorRef:e=>this.messageEditor=e,initialFocus:y,gif:!0,onGifClick:this.handleEditorGifClick})))),d.a.createElement(vt,{domainOne:t,domainTwo:a,content:A,onChange:this.handleChange,composeFontFamily:h,composeFontSize:p,enabled:n,rtl:b,stationery:f,stationeryCategory:M.ae.featured,stationeryCategoriesToShow:[M.ae.featured,M.ae.seasonal],stationeryRestrictedThemes:g,toggleType:yt.f.CHECKBOX,editorRef:e=>this.domainResponseMessageEditor=e,editorTitleRef:e=>this.domainResponseEditorTitle=e,editorInitialFocus:T,extraEditorPadding:!0,gif:!0,onGifClick:this.handleDomainResponseEditorGifClick}),S&&d.a.createElement("div",{className:P.deleteButton},d.a.createElement(Je.a,{kind:$e.a.DANGER,onClick:this.onDeleteClick,"data-test-id":"delete-button"},d.a.createElement(m.FormattedMessage,He.deleteResponseButtonText)))),d.a.createElement("div",{className:P.viewActionsContainer,ref:e=>this.viewActionsContainer=e},d.a.createElement(At,{disableSave:!l,onSave:this.handleSave,onCancel:this.handleCancel,marginLess:!0})),c&&d.a.createElement(et.a,{cancelLabel:He.confirmDeleteModalCancelButton,acceptLabel:He.confirmDeleteModalDeleteButton,onConfirm:this.handleDelete,onAbort:this.hideDeleteConfirmation,customTitle:d.a.createElement("div",{className:P.customTitle},d.a.createElement(m.FormattedMessage,He.confirmDeleteModalTitle)),showCustomTitle:!0},d.a.createElement(m.FormattedMessage,He.confirmDeleteModalBody))))}}Pt.defaultProps={onReset:()=>{},onDateChange:()=>{},stationery:!0,showDeleteButton:!1,preventRouteChange:()=>{}},Pt.contextTypes={intl:m.intlShape,getCss:l.a.func};var Rt=a(237);function wt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wt(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}class xt extends d.a.Component{constructor(...e){super(...e),r()(this,"getStateFromVacationPreferences",(e={})=>{const t=e.enabled,a=void 0!==t&&t,n=e.startDate,s=e.endDate,i=e.messageBody,r=void 0===i?"":i,o=e.domainSpecificResponse,l=void 0===o?{}:o,c=l.domainMessageBody,d=void 0===c?"":c,m=l.domains,_=void 0===m?[]:m,u=Me()(_,2),p=u[0],h=u[1],g=!!(a||r||(void 0===p?"":p)||(void 0===h?"":h)||d);return{enabled:a,startDate:n?Object(qe.c)(n):null,endDate:s?Object(qe.c)(s):null,hasResponse:g,adding:!1,selected:!1,editorInitialFocus:!1,domainResponseEditorInitialFocus:!1}}),r()(this,"handleChange",(e,t,a)=>{this.setState({[e]:t},a),this.preventRouteChange()}),r()(this,"handlePreviewDoubleClick",e=>{e.stopPropagation(),e.preventDefault(),this.setState({selected:!0,editorInitialFocus:!0,domainResponseEditorInitialFocus:!1},()=>{this.responseForm&&this.responseForm.scrollToEditor()})}),r()(this,"handleDomainResponsePreviewDoubleClick",e=>{e.stopPropagation(),e.preventDefault(),this.setState({selected:!0,editorInitialFocus:!1,domainResponseEditorInitialFocus:!0},()=>{this.responseForm&&this.responseForm.scrollToDomainResponseEditor()})}),r()(this,"saveVacationResponse",({value:e,event:t,actionType:a})=>{this.props.onSave({value:e,actionType:a,i13nModel:{interactionType:Object(O.getInteractionFromEvent)(t)}}),this.allowPageChange()}),r()(this,"preventRouteChange",()=>{this.shouldPreventRouteChange=!0}),r()(this,"allowPageChange",()=>{this.shouldPreventRouteChange=!1}),r()(this,"_getRightRailState",()=>{const e=this.state,t=e.enabled;return{type:t&&(e.adding||e.selected)||!t&&!e.hasResponse?St.c.EDITOR:St.c.PREVIEW,enabled:t}}),r()(this,"renderRightRail",e=>{const t=this.props,a=t.activeAccount,n=t.composeFontFamily,s=t.composeFontSize,i=t.stationeryRestrictedThemes,r=t.linkEnhancerUrlBlocklist,o=t.rtl,l=t.stationery,c=t.vacationPreferences,m=c.messageBody,_=void 0===m?"":m,u=c.domainSpecificResponse,p=void 0===u?{}:u,h=p.domains,g=void 0===h?[]:h,E=p.domainMessageBody,b=void 0===E?"":E,f=this.state,C=f.hasResponse,S=f.editorInitialFocus,y=f.domainResponseEditorInitialFocus,T=Me()(g,2),v=T[0],I=T[1],M=!(!(void 0===v?"":v)&&!(void 0===I?"":I)),A=this._getRightRailState(),N=A.enabled;switch(A.type){case St.c.EDITOR:return d.a.createElement("div",{className:e.right},d.a.createElement(Pt,{enabled:N,vacationPreferences:this.props.vacationPreferences,onSave:this.onSave,onReset:this.onReset,onDateChange:this.handleDateChange,account:a,composeFontSize:s,composeFontFamily:n,stationeryRestrictedThemes:i,linkEnhancerUrlBlocklist:r,rtl:o,stationery:l,onDelete:this.onDelete,showDeleteButton:C,ref:e=>this.responseForm=e,editorInitialFocus:S,domainResponseEditorInitialFocus:y,preventRouteChange:this.preventRouteChange}));case St.c.PREVIEW:return d.a.createElement("div",{className:`${e.right} ${e.overlay}`},d.a.createElement("div",{className:e.previewContainer},d.a.createElement(Ge,{account:a,composeFontSize:s,composeFontFamily:n,content:_,stationery:l,kind:Ue.PreviewTypes.VACATION_RESPONSE,onDoubleClick:this.handlePreviewDoubleClick}),M&&d.a.createElement(Ge,{account:a,composeFontSize:s,composeFontFamily:n,content:b,kind:Ue.PreviewTypes.VACATION_RESPONSE,stationery:l,domains:g,showPreviewText:!1,onDoubleClick:this.handleDomainResponsePreviewDoubleClick})))}}),r()(this,"onSave",(e,t)=>{this.saveVacationResponse({value:e,event:t,actionType:St.a.SAVE})}),r()(this,"onDelete",e=>{this.saveVacationResponse({value:{enabled:!1,startDate:0,endDate:0,messageBody:"",domainSpecificResponse:{domains:["",""],domainMessageBody:""}},event:e,actionType:St.a.DELETE})}),r()(this,"onReset",e=>{this.setState(this.getStateFromVacationPreferences(this.props.vacationPreferences)),this.allowPageChange(),N.b.sendI13nModel({i13nModel:{mKey:A.g.SETTINGS_CANCEL_EDIT_AUTOMATIC_REPLY,interactionType:Object(O.getInteractionFromEvent)(e),sec:A.i.SETTINGS_AUTOMATIC_REPLY_TAB}})}),r()(this,"handleToggle",e=>{const t=this.state,a=t.hasResponse,n=!t.enabled,s=this.props.vacationPreferences,i=s.startDate,r=s.endDate,o=s.messageBody,l=void 0===o?"":o,c=s.domainSpecificResponse,d=void 0===c?{}:c,m=d.domains,_=void 0===m?[]:m,u=d.domainMessageBody,p=void 0===u?"":u,h=Me()(_,2),g=h[0],E=void 0===g?"":g,b=h[1],f=void 0===b?"":b;this.setState({enabled:n,adding:n&&!a,selected:!1}),(!n||n&&a)&&this.saveVacationResponse({value:{enabled:n,startDate:i,endDate:r,messageBody:l,domainSpecificResponse:{domains:[E,f],domainMessageBody:p}},event:e,actionType:n?St.a.SWITCH_ON:St.a.SWITCH_OFF})}),r()(this,"handleDateChange",(e,t)=>{this.setState({startDate:e,endDate:t}),this.preventRouteChange()}),r()(this,"handleSelectItem",()=>{this.setState({selected:!0,editorInitialFocus:!1,domainResponseEditorInitialFocus:!1})}),r()(this,"getUnsyncedData",()=>({type:M.Ce.VACATION_RESPONSE_SETTINGS,hash:M.De.PREVENT_ROUTE_CHANGE,preventRouteChange:this.shouldPreventRouteChange})),r()(this,"state",this.getStateFromVacationPreferences(this.props.vacationPreferences))}componentWillReceiveProps(e){const t=e.vacationPreferences,a=void 0===t?{}:t;this.props.vacationPreferences!==a&&this.setState(this.getStateFromVacationPreferences(a))}renderMessageForCorpMail(e){const t=this.context.intl.formatMessage;return d.a.createElement("div",{className:e.left},d.a.createElement("div",{className:e.mainWrapper},d.a.createElement("div",{className:e.pageHeader},d.a.createElement(Ct.a,{header:t(He.header),hint:t(He.corpHint,{url:this.props.corpMailVacationResponseUrl,class:e.settingsSubHeaderLinkStyle})}))))}render(){const e=this.context,t=e.intl.formatMessage,a=this.state,n=a.enabled,s=a.startDate,i=a.endDate,r=a.selected,o=a.hasResponse,l=e.partner===M.M,c=u()(Ne.a,{disabled:!n});return d.a.createElement(Rt.a,{getUnsyncedData:this.getUnsyncedData},d.a.createElement("div",{className:c.container,"data-test-id":"vacation-response"},l?this.renderMessageForCorpMail(c):d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:c.left},d.a.createElement("div",{className:c.mainWrapper},d.a.createElement("div",{className:c.pageHeader},d.a.createElement(Ct.a,{header:t(He.header),hint:t(He.hint)})),d.a.createElement("div",null,d.a.createElement(Ct.a,{canToggle:!0,subHeader:!0,toggleEnabled:n,header:t(He.subheader),onToggle:this.handleToggle,toggleAriaLabel:t(n?He.disableAriaLabel:He.enableAriaLabel)})),o?d.a.createElement("div",{className:c.overlay},d.a.createElement("ul",{className:c.listWrapper},d.a.createElement(Ye,{startDate:s,endDate:i,selected:r,onSelect:this.handleSelectItem}))):null)),this.renderRightRail(c))))}}r()(xt,"contextTypes",{intl:m.intlShape.isRequired,partner:l.a.string});var Lt=Object(D.connect)(e=>({corpMailVacationResponseUrl:(0,Object(W.selectors)(e).getSetting)(M.Kd.CORP_MAIL_GMAIL_SETTINGS).vacationResponseUrl}),e=>({onSave:({value:t,actionType:a,i13nModel:n})=>e(Object(b.g)({value:t,actionType:a,i13nModel:Ft({mKey:A.g.SETTINGS_AUTOMATIC_REPLY,sec:A.i.SETTINGS_AUTOMATIC_REPLY_TAB},n)}))}))(xt),Bt=a(1791),jt=a.n(Bt),Ut=a(1792),Ht=a.n(Ut);const Wt=u()(Ht.a),Gt=({header:e,helpLinks:t,demoImg:a,showHelpLinks:n},s)=>{const i=s.config.helpUrl;return d.a.createElement("section",{className:Wt.container,"data-test-id":"setting-help"},d.a.createElement("div",{className:Wt.demoImgContainer},d.a.createElement("img",{className:Wt.demoImg,src:Object(Se.a)(a)})),n?d.a.createElement("div",{"data-test-id":"setting-help-link-container"},d.a.createElement("div",{className:Wt.header},e),d.a.createElement("ul",{className:Wt.listContainer},t&&t.map((e,t)=>e.link?d.a.createElement("li",{className:Wt.listItem,key:t},d.a.createElement("a",{className:Wt.helpLink,href:e.link,target:"_blank",rel:"noopener"},e.text)):null)),d.a.createElement("a",{className:Wt.moreHelp,href:i,target:"_blank",rel:"noopener"},d.a.createElement(m.FormattedMessage,{id:"setting.rightrail.morehelp",defaultMessage:"Need more help?"}))):null)};Gt.contextTypes={config:l.a.object.isRequired};var Zt=Object(D.connect)(e=>({showHelpLinks:(0,Object(W.selectors)(e).getFeaturesSelectors)().isEnabled(M.Eb.SHOW_RIGHT_RAIL_HELP_LINKS)}))(Gt),Vt=a(182);const qt=Object(m.defineMessages)({notificationsHeader:{id:"notificationsHeader_label",defaultMessage:"Notifications"},notificationsHint:{id:"notificationsHint_label",defaultMessage:"Never miss important notifications"},desktopNotificationsHeader:{id:"desktopNotificationsHeader_label",defaultMessage:"Desktop notifications"},desktopNotificationsHint:{id:"desktopNotificationsHint_hint",defaultMessage:"Get notifications on new mail"},rightRailHeader:{id:"notification_right_rail_header",defaultMessage:"Find help for notifications"}}),zt=u()(jt.a);class Yt extends d.a.Component{render(){const e=this.context.intl,t=e.formatMessage,a=e.locale,n=this.context,s=n.mailBrandNameString,i=n.partner,r=this.props,o=r.browserNotifications,l=r.setBrowserNotification;return d.a.createElement("div",{className:zt.container,"data-test-id":"browser-notifications"},d.a.createElement("div",{className:zt.left},d.a.createElement("div",{className:zt.headerWrapper},d.a.createElement("div",{className:zt.pageHeader},d.a.createElement(Ct.a,{header:t(qt.notificationsHeader),hint:t(qt.notificationsHint)})),d.a.createElement("div",{"data-test-id":"browser-notifications-setting"},d.a.createElement(Ct.a,{canToggle:!0,subHeader:!0,toggleEnabled:o,header:t(qt.desktopNotificationsHeader),hint:t(qt.desktopNotificationsHint),onToggle:l.bind(null,!o)})))),d.a.createElement("div",{className:zt.right},d.a.createElement(Zt,{demoImg:Ce.g.NOTIFICATIONS,header:t(qt.rightRailHeader),helpLinks:Vt.d.map(({text:e,link:n})=>({text:t(e,{mailBrandNameString:s}),link:n(a,i)}))})))}}r()(Yt,"contextTypes",{intl:m.intlShape.isRequired,config:l.a.object,mailBrandNameString:l.a.string,partner:l.a.string});var Kt=Object(D.connect)(void 0,e=>({setBrowserNotification:(t,a)=>e(Object(b.b)({name:M.Kd.NOTIFICATION,value:t,runV3:!0,i13nModel:{mKey:A.g.SETTINGS_NOTIFICATIONS,sec:A.i.SETTINGS_NOTIFICATIONS_TAB,interactionType:Object(O.getInteractionFromEvent)(a)}}))}))(Yt),Xt=a(1793),Qt=a.n(Xt),Jt=a(395),$t=a(476),ea=a(1794),ta=a.n(ea);const aa=function(e){const t=new Date;return e.filter(e=>{const a=function(e,t){try{return Object(qe.r)(e,t)}catch(e){return null}}(t,e.timezone.name);return null===a||a===Object(F.c)()}).sort((e,t)=>{const a=e.city.toLowerCase(),n=t.city.toLowerCase();return a<n?-1:a>n?1:0})}(a(1795));const na=Object(m.defineMessages)({placeholder2:{id:"locationSelector_placeholder_2",defaultMessage:"Select closest city"},title:{id:"timeZone_title",defaultMessage:"Closest city and timezone"},timezoneUpdateTip:{id:"timezone_update_tip",defaultMessage:"Your timezone is not consistent with your computer's timezone"},changeButton:{id:"locationSelector_change",defaultMessage:"Change"},locationSelectorTopHint:{id:"location_selector_top_hint",defaultMessage:"Set your inbox location to set your default time zone"}});class sa extends d.a.Component{constructor(e,t){super(e,t),r()(this,"getLocationName",({city:e,state:t,country:a})=>t?`${e}, ${t}, ${a}`:`${e}, ${a}`),r()(this,"handleSelect",e=>{this.setState({settingError:M.Jd.VALIDATING,value:e}),this.props.onChange(e),this.timer=Object(F.d)(e.timezone.name)?setTimeout(()=>{this.setState({settingError:M.Jd.ERROR})},1500):setTimeout(()=>{this.setState({settingError:M.Jd.RESOLVED})},1500)});const a=e.initialValue,n=t.timezone.name,s=Object(F.d)(n);this.state={value:a,error:!1,options:aa,settingError:s?M.Jd.ERROR:M.Jd.NONE}}componentWillReceiveProps(e,t){const a=t.timezone.name;Object(F.d)(a)&&this.setState({settingError:M.Jd.ERROR})}componentWillUnmount(){clearTimeout(this.timer)}render(){const e=this.state,t=e.value,a=e.error,n=e.settingError,s=e.options,i=(void 0===t?{}:t).timezone,r=this.context.intl.formatMessage,o=u()(ta.a,{error:a||n===M.Jd.ERROR});return d.a.createElement("div",null,d.a.createElement(Ct.a,{subHeader:!0,settingError:n,header:r(na.title),hint:r(na.locationSelectorTopHint)}),n===M.Jd.ERROR?d.a.createElement("div",{"data-test-id":"error-message",className:o.timezoneUpdateTip},r(na.timezoneUpdateTip)):null,d.a.createElement("div",{className:o.formControl},d.a.createElement("div",{className:o.selectbox,"data-test-id":"timezone-selectbox"},d.a.createElement($t.a,{selected:this.state.value,placeholder:r(na.placeholder2),title:r(na.placeholder2),onChange:this.handleSelect,className:o.typeahead,inputFormatter:e=>{const t=e?this.getLocationName(e):"";return{optionLabel:t,optionTitle:t}}},s.map((e,t)=>d.a.createElement(Jt.a,{key:t,className:o.typeaheadOption,value:e},this.getLocationName(e))))),d.a.createElement("div",{className:o.relatedInfo},a&&d.a.createElement(m.FormattedMessage,{id:"location_request_failure",defaultMessage:"Location unknown"}),!a&&i&&i.longName&&d.a.createElement("div",null,d.a.createElement(m.FormattedMessage,{id:"mail_timezone",defaultMessage:"Your timezone:"})," ",d.a.createElement(m.FormattedMessage,{id:"location_timezone",defaultMessage:"{UTC}{offsetPositive, select, true {+} false {-} }{timezoneOffset} {timezoneName}",values:{UTC:"GMT",offsetPositive:i.offsetPositive,timezoneOffset:i.currentOffset,timezoneName:i.longName}})),a||n!==M.Jd.ERROR?null:d.a.createElement(m.FormattedMessage,{id:"system_timezone",defaultMessage:"Computer's timezone: GMT{genericName} {longName}",values:{genericName:Object(F.a)(Object(F.c)()),longName:Object(F.b)(this.context.intl.locale)}}))))}}r()(sa,"contextTypes",{intl:m.intlShape,locale:T.LocaleShape,timezone:T.TimezoneType,bindShortcut:l.a.func,unbindShortcut:l.a.func});var ia=sa,ra=a(1438),oa=a.n(ra);const la=u()(oa.a),ca=Object(m.defineMessages)({goBackToFolder:{id:"back-to-folder-action",defaultMessage:"Go back to original folder"},showPreviousMessage:{id:"previous-message-action",defaultMessage:"Show previous message"},showNextMesage:{id:"next-message-action",defaultMessage:"Show next message"}}),da={SHOW_NEXT_MESSAGE:ca.showNextMesage,SHOW_PREVIOUS_MESSAGE:ca.showPreviousMessage,GO_BACK_TO_FOLDER:ca.goBackToFolder};function ma({actionAfterMsgMove:e,onChange:t},a){const n=a.intl.formatMessage,s=Object.keys(M.o).map(a=>{const s=e===M.o[a],i=u()(oa.a,{isChecked:s});return d.a.createElement("li",{key:a},d.a.createElement("label",{className:i.previewOption},d.a.createElement("input",{type:"radio",checked:s,onChange:t,name:"actionAfterMsgMove",value:M.o[a]}),d.a.createElement("span",{className:i.previewOptionText},n(da[a]))))});return d.a.createElement("ul",{className:la.menuList},s)}ma.contextTypes={intl:m.intlShape.isRequired};var _a=ma;const ua=u()(oa.a),pa=Object(m.defineMessages)({IMMEDIATELY:{id:"mark_as_read_interval_immediately",defaultMessage:"Immediately"},AFTER_2_SECONDS:{id:"mark_as_read_interval_after_2_seconds",defaultMessage:"After 2 seconds"},AFTER_5_SECONDS:{id:"mark_as_read_interval_after_5_seconds",defaultMessage:"After 5 seconds"},NEVER:{id:"mark_as_read_interval_never",defaultMessage:"Never"}});function ha({markAsReadInterval:e,onChange:t},a){const n=a.intl.formatMessage,s=Object.keys(M.Bc).map(a=>{const s=e===M.Bc[a],i=u()(oa.a,{isChecked:s});return d.a.createElement("li",{key:a},d.a.createElement("label",{className:i.previewOption},d.a.createElement("input",{type:"radio",checked:s,onChange:t,name:"markAsReadIntervalOptions",value:M.Bc[a]}),d.a.createElement("span",{className:i.previewOptionText},n(pa[a]))))});return d.a.createElement("ul",{className:ua.menuList},s)}ha.contextTypes={intl:m.intlShape.isRequired};var ga=ha,Ea=a(1796),ba=a.n(Ea);const fa=u()(ba.a),Ca=Object(m.defineMessages)({neverShow:{id:"never-show-images",defaultMessage:"Ask before showing external images"},alwaysShow:{id:"always-show-images",defaultMessage:"Always, except in spam folder"}}),Sa={NEVER:Ca.neverShow,ALWAYS:Ca.alwaysShow};function ya({showImageSetting:e,onChange:t},a){const n=a.intl.formatMessage,s=Object.keys(M.Pd).map(a=>{const s=e===M.Pd[a],i=u()(ba.a,{isChecked:s});return d.a.createElement("li",{key:a},d.a.createElement("label",{className:i.showImageOption},d.a.createElement("input",{type:"radio",name:"showImageOption",checked:s,onChange:t,value:M.Pd[a]}),d.a.createElement("span",{className:i.showImageOptionText},n(Sa[a]))))});return d.a.createElement("ul",{className:fa.menuList},s)}ya.contextTypes={intl:m.intlShape.isRequired};var Ta=ya,va=a(115);function Ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const Ma=u()(Qt.a),Aa=Object(m.defineMessages)({viewEmailHeader_label:{id:"viewEmailHeader_label",defaultMessage:"Viewing emails"},viewEmailHint_hint:{id:"viewEmailHint_hint",defaultMessage:"Manage your email viewing experience"},groupByConversation_text:{id:"groupByConversation_text",defaultMessage:"Group by conversation"},packageTrackingLabel:{id:"package_tracking_label",defaultMessage:"Package Tracking"},packageTrackingHint:{id:"package_tracking_hint",defaultMessage:"Show Package Tracking module in inbox"},rightRailHeader:{id:"view_email_right_rail_header",defaultMessage:"Find help for viewing emails"},mark_as_read_interval_immediately:{id:"mark_as_read_interval_immediately",defaultMessage:"Immediately"},groupByConversation_hint:{id:"group_by_conversation_hint",defaultMessage:"Messages within an email thread will be grouped together"},ampSettingLabel:{id:"amp_setting_label",defaultMessage:"Dynamic message"},ampSettingHint:{id:"amp_setting_hint",defaultMessage:"Display dynamic email content when available."},learnMoreText:{id:"settings_learn_more",defaultMessage:"Learn more"}});class Na extends d.a.Component{constructor(e){super(e),r()(this,"toggleConversationMode",e=>{this.props.updateConversationMode({value:!this.props.conversationSetting,i13nModel:{mKey:A.g.SETTINGS_CONVERSATION,sec:A.i.SETTINGS_VIEWING_EMAIL_TAB,interactionType:Object(O.getInteractionFromEvent)(e)}})}),r()(this,"changeShowImageSetting",e=>{const t=this.props,a=t.pacNotificationShown,n="true"===e.currentTarget.value;if(n===t.showImageSetting)return;const s={mKey:A.g.SHOW_IMG,sec:A.i.SETTINGS_VIEWING_EMAIL_TAB,interactionType:Object(O.getInteractionFromEvent)(e)};a&&!n&&(s.actionData={img_setting:n}),this.setState({showImageSetting:n},()=>{this.props.changeSettings({name:M.Kd.SHOW_IMAGES,value:n,i13nModel:s})})}),r()(this,"handleMarkAsReadIntervalChange",e=>{const t=this.props.markAsReadInterval,a=Number(e.currentTarget.value);a!==t&&this.props.changeSettings({name:M.Kd.MARK_AS_READ_INTERVAL,value:a})}),r()(this,"handleLocationChange",e=>{this.props.updateLocationSetting({location:e})}),r()(this,"handleActionAfterMessageMoveChange",e=>{const t=this.props.actionAfterMsgMove,a=Number(e.currentTarget.value);a!==t&&this.props.changeSettings({name:M.Kd.ACTION_AFTER_MSG_MOVE,value:a})}),r()(this,"updatePackageTrackingSettings",e=>{const t=this.props,a=t.packageTrackingSettings;(0,t.updatePackageTrackingSettings)(!a,{mKey:a?A.g.PACKAGE_TRACKING_DISABLED:A.g.PACKAGE_TRACKING_ENABLED,sec:A.i.PACKAGE_TRACKING,interactionType:Object(O.getInteractionFromEvent)(e)})}),r()(this,"toggleAMPSetting",()=>{const e=this.props;(0,e.changeSettings)({name:M.Kd.AMP_EMAIL,value:!e.ampSetting})}),this.state={showImageSetting:this.props.showImageSetting}}static getDerivedStateFromProps(e,t){return e.showImageSetting!==t.showImageSetting?{showImageSetting:e.showImageSetting}:null}render(){const e=this.props,t=e.conversationSetting,a=e.actionAfterMsgMove,n=e.markAsReadInterval,s=e.silentTimeZoneCorrection,i=e.pkgTrackingTopOfMsg,r=e.packageTrackingSettings,o=e.isAMPEnabled,l=e.ampSetting,c=this.context,_=c.timezone,u=c.mailBrandNameString,p=c.partner,h=this.state.showImageSetting,g=this.context.intl,E=g.formatMessage,b=g.locale,f=Object(Vt.h)("SLN35423")(b)+"&actp=email";let C;return _.location&&_.location.city?C=Object.assign({},_.location):_.geoLocation&&_.geoLocation.city&&(C=Object.assign({},_.geoLocation)),C&&(C.timezone={name:_.name,longName:_.longName,currentOffset:_.formattedOffset,offsetPositive:_.currentOffset>=0}),d.a.createElement("div",{className:Ma.container,"data-test-id":"viewing-email"},d.a.createElement("div",{className:Ma.left},d.a.createElement("div",{className:Ma.pageHeader},d.a.createElement(Ct.a,{header:E(Aa.viewEmailHeader_label),hint:E(Aa.viewEmailHint_hint)})),d.a.createElement("div",{className:Ma.formControl,"data-test-id":"group-conversation-setting"},d.a.createElement(Ct.a,{canToggle:!0,subHeader:!0,toggleEnabled:t,onToggle:this.toggleConversationMode,header:E(Aa.groupByConversation_text),hint:E(Aa.groupByConversation_hint)})),i?d.a.createElement("div",{className:Ma.formControl,"data-test-id":"package-tracking-toggle"},d.a.createElement(Ct.a,{canToggle:!0,subHeader:!0,toggleEnabled:r,header:E(Aa.packageTrackingLabel),hint:E(Aa.packageTrackingHint),onToggle:this.updatePackageTrackingSettings})):null,s?null:d.a.createElement("div",{className:Ma.sectionHeaderContainer},d.a.createElement(ia,{initialValue:C,onChange:this.handleLocationChange})),o?d.a.createElement("div",{className:Ma.formControl,"data-test-id":"AMP-setting-toggle"},d.a.createElement(Ct.a,{canToggle:!0,subHeader:!0,toggleEnabled:l,header:E(Aa.ampSettingLabel),hint:E(Aa.ampSettingHint),onToggle:this.toggleAMPSetting}),d.a.createElement("a",{className:Ma.helpLink,href:f,target:"_blank",rel:"noopener noreferrer"},E(Aa.learnMoreText))):null,d.a.createElement("div",{className:Ma.sectionHeaderContainer},d.a.createElement("p",{className:Ma.sectionHeaderName},d.a.createElement(m.FormattedMessage,{id:"mark_as_read_interval_options_title",defaultMessage:"Mark as read interval"})),d.a.createElement(ga,{markAsReadInterval:n,onChange:this.handleMarkAsReadIntervalChange})),d.a.createElement("div",{className:Ma.sectionHeaderContainer},d.a.createElement("p",{className:Ma.sectionHeaderName},d.a.createElement(m.FormattedMessage,{id:"action_after_message_move_text",defaultMessage:"After moving a message"})),d.a.createElement(_a,{actionAfterMsgMove:a,onChange:this.handleActionAfterMessageMoveChange})),d.a.createElement("div",{className:Ma.sectionHeaderContainer},d.a.createElement("p",{className:Ma.sectionHeaderName},d.a.createElement(m.FormattedMessage,{id:"showImageHeader_text",defaultMessage:"Show images in messages"})),d.a.createElement("div",{"data-test-id":"show-image-options"},d.a.createElement(Ta,{onChange:this.changeShowImageSetting,showImageSetting:h})))),d.a.createElement("div",{className:Ma.right},d.a.createElement(Zt,{demoImg:Ce.g.VIEWMAIL,header:E(Aa.rightRailHeader),helpLinks:Vt.g.map(({text:e,link:t})=>({text:E(e,{mailBrandNameString:u}),link:t(b,p)}))})))}}r()(Na,"contextTypes",{intl:m.intlShape.isRequired,executeAction:l.a.func,timezone:T.TimezoneType,mailBrandNameString:l.a.string,partner:l.a.string});var ka=Object(D.connect)(e=>{const t=Object(W.selectors)(e),a=t.isFeatureEnabled,n=t.getSetting,s=(0,t.getFeatureCueSelectors)().isShown,i=n(M.Kd.SCOUT_ONBOARDING),r=Object(va.b)(i,M.Eb.WEB_PAC_NOTIFICATION_CUE)>0;return{showImageSetting:a(M.Kd.SHOW_IMAGES)||!!s(M.Eb.WEB_PAC_NOTIFICATION_CUE)&&a(M.Eb.INLINE_IMAGES_PROXIED),pacNotificationShown:r,packageTrackingSettings:a(M.Kd.PACKAGE_TRACKING_SETTINGS),pkgTrackingTopOfMsg:a(M.Eb.PKG_TRACKING_TOP_OF_MSG),conversationSetting:a(M.Eb.CONVERSATIONS),silentTimeZoneCorrection:a(M.Eb.SILENT_TIMEZONE_CORRECTION),actionAfterMsgMove:n(M.Kd.ACTION_AFTER_MSG_MOVE),markAsReadInterval:n(M.Kd.MARK_AS_READ_INTERVAL),isAMPEnabled:a(M.Eb.AMP),ampSetting:a(M.Kd.AMP_EMAIL)}},e=>({changeSettings:t=>e(Object(b.b)(t)),updateConversationMode:t=>e(Object(G.J)(t)),updateLocationSetting:t=>e(Object(G.M)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ia(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ia(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{isUpdating:!0}))),updatePackageTrackingSettings:(t,a)=>e(Object(b.b)({name:M.Kd.PACKAGE_TRACKING_SETTINGS,value:t,runV3:!0,i13nModel:a}))}))(Na),Oa=a(1797),Da=a.n(Oa),Pa=a(1798),Ra=a.n(Pa),wa=a(320),Fa=a(1496),xa=a.n(Fa);function La({children:e,active:t}){const a=u()(xa.a,{isActive:t});return d.a.createElement("article",{className:a.accordionPanel,"data-test-id":"accordion-content"},e)}const Ba=u()(xa.a);class ja extends d.a.Component{constructor(...e){super(...e),r()(this,"_getActiveChildren",()=>{const e=d.a.Children.toArray(this.props.children).reduce((e,t,a)=>t.props&&t.props.active?e.concat(a):e,[]);return e.length?e:[0]}),r()(this,"state",{selected:this._getActiveChildren()}),r()(this,"handleClick",e=>{let t=this.state.selected.slice(0);const a=t.indexOf(e);-1!==a?t.splice(a,1):this.props.multiSelect?t.push(e):t=[e],this.setState({selected:t})}),r()(this,"handleKeyDown",(e,t)=>{"Enter"===t.key&&this.handleClick(e)}),r()(this,"renderPanels",()=>d.a.createElement("ul",{className:Ba.accordionContainer},d.a.Children.map(this.props.children,function(e,t){const a=e.props,n=a.title,s=a.children,i=-1!==this.state.selected.indexOf(t),r=u()(xa.a,{isActive:i});return d.a.createElement("li",{key:t,className:r.itemContainer,"data-test-id":"accordion-item"},d.a.createElement("div",{className:r.itemTitle,tabIndex:0,"data-test-id":"accordion-header",onKeyDown:this.handleKeyDown.bind(this,t),onClick:this.handleClick.bind(this,t)},d.a.createElement("span",{className:r.arrow},d.a.createElement(R.b,{kind:w.Kinds.CHEVRON_UP,size:w.Sizes.XS,rotate:w.Rotate.D90,colorState:w.ColorStates.NORMAL})),d.a.createElement("span",null,n)),d.a.createElement(La,{active:i},s))}.bind(this))))}render(){return d.a.createElement("div",{className:Ba.accordionWrapper},this.renderPanels())}}r()(ja,"defaultProps",{selected:[0],multiSelect:!1});var Ua=ja,Ha=a(1370),Wa=a(1408),Ga=a(1443),Za=a(493);const Va=92*kt.G,qa=5*kt.G,za=u()(Ra.a);class Ya extends d.a.Component{constructor(...e){super(...e),r()(this,"getStateFromProps",({name:e,index:t=-1,criterions:a=[],actions:n=[]})=>{const s={name:e,index:t,error:"",newFolderName:"",selectedFolder:Object(Wa.b)({actions:n})};return Object.keys(Ha.c).forEach(e=>{const t=a.findIndex(t=>t.field===e),n=t>-1?Object.assign({},a[t]):{};s[e]=n}),s}),r()(this,"saveFilter",()=>{const e=[],t=this.props,a=t.onCreateNewFolder,n=t.onSave,s=this.state,i=s.index,r=s.name,o=void 0===r?"":r,l=s.selectedFolder,c=s.newFolderName,d=l||c||Ha.a.INBOX;t.limitReached?this.setState({error:Ga.a.storageLimitError}):o.trim()?(Object.keys(Ha.c).forEach(t=>{const a=this.state[t],n=a.field,s=a.operator,i=a.value,r=a.matchCase,o=void 0!==r&&r,l=(void 0===i?"":i).trim();s&&l&&e.push({field:n,operator:s,value:l,matchCase:o})}),0!==e.length?(!l&&c&&a(c),n({name:o,index:i,criterions:e,matchType:Ha.a.ALL,actions:[{type:Ha.a.MOVETOFOLDER,value:{folderActionValueBean:{folder:{name:d}}}}]})):this.setState({error:Ga.a.noFilterSelectedError})):this.setState({error:Ga.a.filterNameError})}),r()(this,"handleEditFiterRule",(e,t,a)=>{const n=this.state,s=n[e]||{};s[t]=a,s.field=e,n[e]=s,this.setState(n)}),r()(this,"handleChange",(e,t)=>{const a={[e]:t},n=Ha.a.NEW_FOLDER_NAME,s=Ha.a.SELECTED_FOLDER;e===n&&t?a[s]="":e===s&&t&&(a[n]=""),this.setState(a)}),r()(this,"getLocalizedFolderValue",e=>{const t=this.context.intl.formatMessage;switch(e){case Ha.a.INBOX:return t(Ga.a.folder_inbox_label);case Ha.a.SENT:return t(Ga.a.folder_sent_label);case Ha.a.ARCHIVE:return t(Ga.a.folder_archive_label);case Ha.a.SPAM:return t(Ga.a.folder_spam_label);case Ha.a.TRASH:return t(Ga.a.folder_trash_label);default:return e}}),r()(this,"renderFilterCriterions",()=>{const e=this.context.intl.formatMessage;return Object.keys(Ha.c).map((t,a)=>{const n=this.state[t],s=!(!this.state[t]||!this.state[t].value);return d.a.createElement(La,{key:a,title:e(Ga.a[Ha.c[t].toLowerCase().replace(/\//g,"_")]),active:s},d.a.createElement("div",{className:za.control},d.a.createElement($t.a,{selected:n.operator,placeholder:e(Ga.a.selectCondition),title:e(Ga.a.selectCondition),onChange:e=>{this.handleEditFiterRule(t,Ha.a.OPERATOR,e)},dropdownType:Za.a.FITCONTENT,maxWidth:Va-qa},Object.keys(Ha.e).map(t=>d.a.createElement(Jt.a,{key:t,value:t},e(Ga.a[Ha.e[t].replace(/ /g,"_")]))))),d.a.createElement(nt.a,{isClearable:!0,name:t,value:n.value,"aria-label":t,placeholder:e(Ga.a.filterValue),onChange:e=>this.handleEditFiterRule(t,Ha.a.VALUE,e)}),d.a.createElement("div",{className:za.matchCase},d.a.createElement(wa.a,{isChecked:!!n.matchCase,onClick:()=>this.handleEditFiterRule(t,Ha.a.MATCH_CASE,!n.matchCase)}),d.a.createElement(m.FormattedMessage,{id:"match_case_test",defaultMessage:"Match case"})))})}),r()(this,"state",this.getStateFromProps(this.props.filter))}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.folderNamesForRendering,n=t.onCancel,s=this.state,i=s.name,r=s.error,o=s.newFolderName,l=!!r?e(r):"";return d.a.createElement("div",{className:za.filterWrapper,"data-test-id":"settings-filter-editor"},d.a.createElement("div",{className:za.filterPreviewSection},d.a.createElement("header",{className:za.previewTitleWrapper},d.a.createElement("h4",{className:za.previewFilterTitle},d.a.createElement(m.FormattedMessage,{id:"edit_filter_text",defaultMessage:"Edit Filter"}))),d.a.createElement("label",{className:za.filterNameLabel,htmlFor:"filterName"},d.a.createElement(m.FormattedMessage,{id:"filter_name_text",defaultMessage:"Filter name"})),d.a.createElement("div",{className:za.filterName},d.a.createElement(nt.a,{name:"filterName",isClearable:!0,value:i,error:l,label:e(Ga.a.filterName),hint:e(Ga.a.filterNameHint),"aria-label":e(Ga.a.filterName),placeholder:e(Ga.a.filterNamePlaceholder),onChange:e=>this.handleChange(Ha.a.NAME,e)})),d.a.createElement("h5",{className:za.setRulesHeader},d.a.createElement(m.FormattedMessage,{id:"set_rules_text",defaultMessage:"Set rules"})),d.a.createElement("div",{className:za.filterOptionAccordion,"data-test-id":"settings-filter-criteria"},d.a.createElement(Ua,{multiSelect:!0},this.renderFilterCriterions())),d.a.createElement("h5",{className:za.chooseFolderLabel},d.a.createElement(m.FormattedMessage,{id:"choose_folder_text",defaultMessage:"Choose a folder to move to"})),d.a.createElement("div",{className:za.chooseFolderControl,"data-test-id":"filters-select-folder"},d.a.createElement("div",{className:za.folderControl},d.a.createElement($t.a,{selected:this.state.selectedFolder,placeholder:e(Ga.a.selectFolderPlaceholder),title:e(Ga.a.selectFolderPlaceholder),onChange:e=>this.handleChange(Ha.a.SELECTED_FOLDER,e),dropdownType:Za.a.FITCONTENT,maxWidth:Va},a.map(e=>d.a.createElement(Jt.a,{key:e,value:e},this.getLocalizedFolderValue(e))))),d.a.createElement("span",{className:za.orText},d.a.createElement(m.FormattedMessage,{id:"or_text",defaultMessage:"or"})),d.a.createElement("div",{className:za.folderControl},d.a.createElement(nt.a,{isClearable:!0,name:"createFolder",onChange:e=>this.handleChange(Ha.a.NEW_FOLDER_NAME,e),value:o,"aria-label":e(Ga.a.newFolderPlaceholder),placeholder:e(Ga.a.newFolderPlaceholder),className:za.folderSelectorInput}))),d.a.createElement(At,{onSave:this.saveFilter,onCancel:n})))}}r()(Ya,"contextTypes",{intl:m.intlShape.isRequired});var Ka=Object(D.connect)(e=>({folderNamesForRendering:(0,Object(W.selectors)(e).getAllowedFolderNamesForMessageFilters)()}))(Ya),Xa=a(1799),Qa=a.n(Xa),Ja=a(1800),$a=a.n(Ja),en=a(1801),tn=a.n(en);const an=u()(tn.a);function nn({filter:e},t){const a=t.intl.formatMessage,n=e.criterions,s=void 0===n?[]:n,i=Object(y.m)(a,Object(Wa.b)(e))||Object(Wa.b)(e),r=[];return s.forEach(({field:e,operator:t,value:n})=>{Ha.c[e]&&r.push(a(Ga.a.filterCriteriaSummary,{filter_field:a(Ga.a[Ha.c[e].toLowerCase().replace(/\//g,"_")]),filter_operator:a(Ga.a[Ha.e[t].replace(/\s/g,"_")]),ruleValue:`"${n}"`}))}),d.a.createElement("div",{className:an.container},a(Ga.a.filterSummaryFolder,{folderName:`"${i}"`}),d.a.createElement("span",null,r.join(a(Ga.a.filterCriteriaSeparator))))}nn.contextTypes={intl:m.intlShape.isRequired};class sn extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{hovered:!1}),r()(this,"getDefaultprops",()=>({isSelected:!1})),r()(this,"handleClick",e=>{const t=this.props;(0,t.onAction)(e,t.index)}),r()(this,"handleMouseOver",()=>{this.setState({hovered:!0})}),r()(this,"handleMouseLeave",()=>{this.setState({hovered:!1})})}shouldComponentUpdate({filter:e,isSelected:t},{hovered:a}){return a!==this.state.hovered||t!==this.props.isSelected||e.name!==this.props.filter.name}render(){const e=this.props,t=e.filter,a=e.isSelected,n=u()($a.a,{isSelected:a});return d.a.createElement("div",{className:n.filterItem,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"settings-filter-item",onClick:this.handleClick.bind(null,Ha.f.EDIT)},d.a.createElement("div",{"data-test-id":"filter-item",className:n.filterItemText},d.a.createElement("p",{"data-test-id":"filter-item-text",className:n.filterItemText},t.name),d.a.createElement("div",{"data-test-id":"filter-item-summary"},d.a.createElement(nn,{filter:t}))))}}r()(sn,"contextTypes",{intl:m.intlShape.isRequired});var rn=sn,on=a(90);const ln=u()(Qa.a),cn=M.Ld.filters,dn=Object(m.defineMessages)({addNewFilter:{id:"add_new_filter",defaultMessage:"Add new filters"},deleteFilter:{id:"delete_filter",defaultMessage:"Delete filters"},moveFilterUp:{id:"move_filter_up",defaultMessage:"Move filter up"},moveFilterDown:{id:"move_filter_down",defaultMessage:"Move filter down"}});function mn({filters:e,selectedIndex:t,onAction:a},n){const s=n.intl.formatMessage,i=s(dn.addNewFilter),r=t<=-1,o=e=>{t>-1&&a(e,t)};return d.a.createElement("div",{className:ln.filterContent,"data-test-id":"settings-filters-list"},d.a.createElement("div",{className:ln.filtersListTitle},d.a.createElement(m.FormattedMessage,{id:"filters_list_header_text",defaultMessage:"Your filters"})),d.a.createElement("div",{className:ln.filtersListHint},d.a.createElement(m.FormattedMessage,{id:"filters_list_header_hint_text",defaultMessage:"Add or click on a filter to re-order, edit or delete. Filters are listed by priority"})),d.a.createElement("div",{className:ln.filtersListBtnsContainer},d.a.createElement(xe.default,{size:w.Sizes.XS,title:i,kind:w.Kinds.ADD,"aria-label":i,colorState:w.ColorStates.SELECTED,onClick:(e=>a(e)).bind(null,Ha.f.ADD),"data-test-id":"add-new-filter",paddingLess:!0,disabled:e.length>=cn},d.a.createElement("span",{className:ln.addBtn},i)),d.a.createElement("div",{className:ln.rightAlign},d.a.createElement(on.a,{"data-test-id":"move-filter-up",size:w.Sizes.XS,kind:w.Kinds.ARROW_UP,title:s(dn.moveFilterUp),"aria-label":s(dn.moveFilterUp),onClick:o.bind(null,Ha.f.MOVE_UP),colorStates:{normal:r?w.ColorStates.DISABLED:w.ColorStates.NORMAL,hovered:r?w.ColorStates.DISABLED:w.ColorStates.SELECTED},disabled:r}),d.a.createElement(on.a,{"data-test-id":"move-filter-down",size:w.Sizes.XS,kind:w.Kinds.ARROW_UP,rotate:w.Rotate.D180,title:s(dn.moveFilterDown),"aria-label":s(dn.moveFilterDown),onClick:o.bind(null,Ha.f.MOVE_DOWN),colorStates:{normal:r?w.ColorStates.DISABLED:w.ColorStates.NORMAL,hovered:r?w.ColorStates.DISABLED:w.ColorStates.SELECTED},disabled:r}),d.a.createElement(on.a,{"data-test-id":"delete-filter",size:w.Sizes.XS,kind:w.Kinds.DELETE,title:s(dn.deleteFilter),"aria-label":s(dn.deleteFilter),onClick:o.bind(null,Ha.f.DELETE),colorStates:{normal:r?w.ColorStates.DISABLED:w.ColorStates.NORMAL,hovered:r?w.ColorStates.DISABLED:w.ColorStates.WARNING},disabled:r}))),d.a.createElement("ol",{className:ln.filtersList},e.map((e,n)=>d.a.createElement("li",{key:`${e.name}-${n}`,className:ln.filtersListItem},d.a.createElement(rn,{index:n,filter:e,onAction:a,isSelected:t===n})))),d.a.createElement("div",{className:ln.filterCount,"data-test-id":"filters-limit"},d.a.createElement(m.FormattedMessage,{id:"filters_list_count_message",defaultMessage:"{count} of {maxCount} used",values:{count:e.length,maxCount:cn}})))}mn.contextTypes={intl:m.intlShape.isRequired};var _n=mn;const un=Object(m.defineMessages)({filterHeader:{id:"filters_text",defaultMessage:"Filters"},filterHint:{id:"filters_hint_text",defaultMessage:"Set filters to organize incoming email"},corpFilterHint:{id:"filters_corp_hint_text",defaultMessage:'To manage message filters for Yahoo Corp Mail, please go to <a class="{class}" href="{url}" target="_blank">Gmail</a>.'},cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"},deleteBtn:{id:"delete_btn_text",defaultMessage:"Delete"},confirmDialogTitle:{id:"delete_dialog_title",defaultMessage:"Confirm delete"},rightRailHeader:{id:"filters_right_rail_header",defaultMessage:"Find help for filters"}}),pn=u()(Da.a);class hn extends d.a.Component{constructor(e){super(e),r()(this,"setSelectedIndex",e=>{this.setState({selectedIndex:e,editFormVisible:!0,newUnsavedFilter:null})}),r()(this,"toggleConfirmDialog",(e,t=-1)=>{this.setState({showConfirm:e,deleteIndex:t})}),r()(this,"deleteFilter",()=>{const e=this.state,t=e.deleteIndex;let a=e.filters.slice();t>-1&&t<a.length&&(a.splice(t,1),a=a.map((e,t)=>Object.assign({},e,{index:t+1})),this.saveFilters(a)),this.toggleConfirmDialog(!1)}),r()(this,"moveFilters",(e,t)=>{const a=this.state,n=a.editFormVisible,s=a.filters.slice(),i=Object.assign({},s[t]),r=t+(e?-1:1);r>=0&&r<s.length&&(s[t]=Object.assign({},s[r]),s[t].index=t+1,s[r]=i,s[r].index=r+1,this.saveFilters(s,r,n))}),r()(this,"saveFilters",(e,t=-1,a=!1)=>{this.setState({filters:e,selectedIndex:t,editFormVisible:a},()=>{this.props.onSave({filters:e,i13nModel:{mKey:A.g.SETTINGS_MSG_FILTERS_SAVE,sec:A.i.SETTINGS_MESSAGE_FILTERS_TAB}})})}),r()(this,"handleSave",e=>{const t=this.state.filters.slice();if(-1===e.index)e.index=t.length+1,t.push(e);else{const a=t.findIndex(({index:t})=>t===e.index);a>-1&&(t[a]=e)}this.saveFilters(t)}),r()(this,"handleCancel",()=>{this.setState({selectedIndex:-1,editFormVisible:!1,newUnsavedFilter:null})}),r()(this,"handleFilterListAction",(e,t)=>{switch(e){case Ha.f.ADD:this.setSelectedIndex(-1);break;case Ha.f.EDIT:this.setSelectedIndex(t);break;case Ha.f.MOVE_UP:this.moveFilters(!0,t);break;case Ha.f.MOVE_DOWN:this.moveFilters(!1,t);break;case Ha.f.DELETE:this.toggleConfirmDialog(!0,t)}});const t=e.newUnsavedFilter;this.state={newUnsavedFilter:t,filters:e.filters,deleteIndex:-1,selectedIndex:-1,showConfirm:!1,editFormVisible:!!t}}componentWillReceiveProps({filters:e}){this.setState({filters:e})}renderMessageForCorpMail(){const e=this.context.intl.formatMessage;return d.a.createElement("div",{className:pn.left},d.a.createElement("div",{className:pn.filterWrapper},d.a.createElement("div",{className:pn.pageHeader},d.a.createElement(Ct.a,{header:e(un.filterHeader),hint:e(un.corpFilterHint,{url:this.props.corpMailMessageFiltersUrl,class:pn.settingsSubHeaderLinkStyle})}))))}render(){const e=this.context,t=e.intl,a=t.formatMessage,n=t.locale,s=e.partner,i=this.props.onCreateNewFolder,r=this.state,o=r.selectedIndex,l=r.deleteIndex,c=r.showConfirm,_=r.editFormVisible,u=r.filters,p=u[o]||r.newUnsavedFilter||{};return d.a.createElement("div",{className:pn.container,"data-test-id":"settings-message-filters"},s===M.M?this.renderMessageForCorpMail():d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:pn.left},d.a.createElement("div",{className:pn.filterWrapper},d.a.createElement("div",{className:pn.pageHeader},d.a.createElement(Ct.a,{header:a(un.filterHeader),hint:a(un.filterHint)})),d.a.createElement(_n,{filters:u,selectedIndex:o,onAction:this.handleFilterListAction}))),d.a.createElement("div",{className:pn.right},_?d.a.createElement(Ka,{filter:p,key:p.index,onSave:this.handleSave,onCancel:this.handleCancel,onCreateNewFolder:i,limitReached:u.length>=M.Ld.filters}):d.a.createElement(Zt,{demoImg:Ce.g.FILTER,header:a(un.rightRailHeader),helpLinks:Vt.b.map(({text:e,link:t})=>({link:t(n,s),text:a(e)}))})),c?d.a.createElement(et.a,{onConfirm:this.deleteFilter,cancelLabel:un.cancelBtn,acceptLabel:un.deleteBtn,title:a(un.confirmDialogTitle),onAbort:this.toggleConfirmDialog.bind(this,!1)},d.a.createElement("div",{className:pn.confirmDialog},d.a.createElement(m.FormattedMessage,{id:"confirm.delete_filter",defaultMessage:"Are you sure to delete filter {name}?",values:{name:d.a.createElement("strong",null,"'",u[l].name,"'")}}))):null))}}r()(hn,"contextTypes",{intl:m.intlShape.isRequired,partner:l.a.string});var gn=Object(D.connect)(e=>{const t=Object(W.selectors)(e),a=t.getAddFilterSelectors,n=t.getSubjectAndSnippetSelectors,s=t.getParticipant,i=t.getSetting,r=(0,t.getMessagesSelectors)(),o=r.doesMessageIdExist,l=r.getToAddresses,c=r.getCcAddresses,d=n().getSubject,m=(0,a().getAddFilter)(),_=m.messageId,u=m.listId;let p;const h=i(M.Kd.CORP_MAIL_GMAIL_SETTINGS).messageFiltersUrl;if(_&&o(_)){const e=s(_),t=Object(Wa.a)({sender:s(_),toRecipients:l(_),ccRecipients:c(_),subject:d(_,u)});p={name:e.name||e.email,index:-1,matchType:Ha.a.ALL,actions:[{type:Ha.a.MOVETOFOLDER,value:{folderActionValueBean:{folder:{name:""}}}}],criterions:t}}return{newUnsavedFilter:p,corpMailMessageFiltersUrl:h}})(hn),En=a(1802),bn=a.n(En),fn=a(1803),Cn=a.n(fn),Sn=a(1804),yn=a.n(Sn);const Tn=Object(m.defineMessages)({deleteBlockedSender:{id:"delete_blocked_sender",defaultMessage:"Delete blocked sender"}}),vn=u()(yn.a);class In extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{hovered:!1}),r()(this,"handleMouseOver",()=>{this.setState({hovered:!0})}),r()(this,"handleMouseLeave",()=>{this.setState({hovered:!1})})}render(){const e=this.state.hovered,t=this.context.intl.formatMessage,a=this.props,n=a.index,s=a.onDelete;return d.a.createElement("div",{className:vn.listItem,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"blocked-address-item"},d.a.createElement("p",{className:vn.listItemText},a.address),e?d.a.createElement("div",{className:vn.buttons},d.a.createElement(on.a,{size:w.Sizes.XS,kind:w.Kinds.DELETE,onClick:s.bind(null,n),title:t(Tn.deleteBlockedSender),"aria-label":t(Tn.deleteBlockedSender),colorStates:{normal:w.ColorStates.NORMAL,hovered:w.ColorStates.WARNING}})):null)}}r()(In,"contextTypes",{intl:m.intlShape.isRequired});var Mn=In;const An=u()(Cn.a),Nn=Object(m.defineMessages)({addNewBlockedSender:{id:"add_new_blocked_sender",defaultMessage:"Add"},showMore:{id:"show_full_blocked_list",defaultMessage:"Show all {number} addresses"},showLess:{id:"show_less_blocked_list",defaultMessage:"Show fewer addresses"}});class kn extends d.a.Component{constructor(e){super(e),this.state={showFullList:!1},this.toggleBlockedList=this.toggleBlockedList.bind(this),this.renderBlockedList=this.renderBlockedList.bind(this),this.renderToggleButton=this.renderToggleButton.bind(this)}toggleBlockedList(){this.setState({showFullList:!this.state.showFullList})}renderBlockedList(){const e=this.props,t=e.onDelete;let a=e.blockedSenders;return!this.state.showFullList&&a.length>4&&(a=a.slice(0,4)),d.a.createElement("ol",{className:An.list},a.map((e,a)=>d.a.createElement("li",{key:a,className:An.listItem},d.a.createElement(Mn,{index:a,address:e,onDelete:t}))))}renderToggleButton(){const e=this.props.blockedSenders,t=this.state.showFullList,a=this.context.intl.formatMessage;return e.length>4?d.a.createElement("div",null,d.a.createElement("div",{className:An.separator}),d.a.createElement("a",{onClick:this.toggleBlockedList,"data-test-id":"toggle_button",className:An.textButton},t?a(Nn.showLess):a(Nn.showMore,{number:e.length}))):null}render(){const e=this.props,t=e.onAdd,a=e.canBlock,n=(0,this.context.intl.formatMessage)(Nn.addNewBlockedSender);return d.a.createElement("div",{className:An.content,"data-test-id":"blocked-senders-list"},d.a.createElement("div",{className:An.btnContainer},d.a.createElement("h4",{className:An.listTitle},d.a.createElement(m.FormattedMessage,{id:"banned_address_list_header_text",defaultMessage:"Blocked addresses"})),d.a.createElement("div",{className:An.rightAlign},d.a.createElement(xe.default,{onClick:t,size:w.Sizes.XS,kind:w.Kinds.ADD,disabled:!a,title:n,colorState:w.ColorStates.SELECTED,"aria-label":n,"data-test-id":"add-new-blocked-sender"},d.a.createElement("span",{className:An.addBtn},n)))),this.renderBlockedList(),this.renderToggleButton())}}kn.contextTypes={intl:m.intlShape.isRequired},kn.defaultProps={canBlock:!0};var On=kn,Dn=a(1805),Pn=a.n(Dn);const Rn=Object(m.defineMessages)({address:{id:"address_label",defaultMessage:"Address"},addressPlaceholder:{id:"address_placeholder",defaultMessage:"Type a email address"},myAccountError:{id:"primary_account_error_text",defaultMessage:"You can not ban your own email address"},myExternalAccountError:{id:"external_account_error_text",defaultMessage:"You can not ban any of your own email addresses"},invalidEmailError:{id:"invalid_email_error_text",defaultMessage:"The email address to ban is invalid"},storageLimit:{id:"blocked_email_limit",defaultMessage:"Number of blocked addresses has reached the limit"}}),wn=u()(Pn.a);class Fn extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{error:"",address:""}),r()(this,"saveAddress",()=>{let e=null;const t=this.state.address,a=this.props,n=a.onSave,s=a.limitReached,i=a.accounts.find(({email:e})=>e===t),r=Rn.myAccountError,o=Rn.myExternalAccountError,l=Rn.invalidEmailError,c=Rn.storageLimit;Object(O.isValidEmail)(t)?i?e="1"===i.id?r:o:s&&(e=c):e=l,e?this.setState({error:e}):n(t)}),r()(this,"handleChange",e=>{this.setState({address:e})})}render(){const e=this.props.onCancel,t=this.state,a=t.address,n=t.error,s=this.context.intl.formatMessage,i=n?s(n):"";return d.a.createElement("div",{className:wn.wrapper,"data-test-id":"blocked-sender-editor"},d.a.createElement("div",{className:wn.previewSection},d.a.createElement("header",{className:wn.previewTitleWrapper},d.a.createElement("h4",{className:wn.previewTitle},d.a.createElement(m.FormattedMessage,{id:"add_banned_address_header_text",defaultMessage:"Add an email address to block"}))),d.a.createElement("label",{className:wn.nameLabel,htmlFor:"address"},d.a.createElement(m.FormattedMessage,{id:"banned_address_text",defaultMessage:"Address"})),d.a.createElement("div",{className:wn.address},d.a.createElement(nt.a,{isClearable:!0,value:a,error:i,name:"blocked-address",onChange:this.handleChange,label:s(Rn.address),"aria-label":s(Rn.address),placeholder:s(Rn.addressPlaceholder)})),d.a.createElement(At,{onCancel:e,onSave:this.saveAddress})))}}r()(Fn,"contextTypes",{intl:m.intlShape.isRequired});var xn=Fn,Ln=a(60),Bn=a.n(Ln),jn=a(98),Un=a(107),Hn=a(589);const Wn=u()(bn.a),Gn=M.Ld.blockedSenders,Zn=Object(m.defineMessages)({securityAndPrivacyHeader_label:{id:"securityAndPrivacyHeader_label",defaultMessage:"Security and privacy"},securityAndPrivacyHint_hint:{id:"securityAndPrivacyHint_hint",defaultMessage:"Make your email safer"},securityAndPrivacyHint_corpHint:{id:"securityAndPrivacyHint_corpHint",defaultMessage:'To manage blocked addresses for Yahoo Corp Mail, please go to <a class="{class}" href="{url}" target="_blank">Gmail</a>.'},securityUpsell_title:{id:"securityUpsell_title",defaultMessage:"Shop, bank and browse online with confidence."},securityUpsell_text:{id:"securityUpsell_text",defaultMessage:"As a valued member of the Yahoo family, we want to help make sure your data is safe and secure. That's why we're proud to offer you Norton Security Online."},securityUpsell_link:{id:"securityUpsell_link",defaultMessage:"Help Protect Your Online Security Today"},hrSetting_title:{id:"help_yahoo_mail_improve_title",defaultMessage:"Help improve Yahoo Mail"},hrSetting_hint:{id:"help_yahoo_mail_improve_hint",defaultMessage:"To enhance the Yahoo experience, you previously opted in to let Yahoo personnel review your email communications. This helps us improve our services and better understand how people use our products."},updatedHRSetting_text:{id:"hr_setting_updated_text",defaultMessage:"Your emails will no longer be reviewable by Yahoo personnel."},stopParticipatingBtn:{id:"stop_participating_btn_text",defaultMessage:"Stop participating"},confirmDialogCancelBtn:{id:"confirm_dialog_cancel_btn_text",defaultMessage:"Cancel"},confirmDialogOkBtn:{id:"confirm_dialog_ok_btn_text",defaultMessage:"OK"},confirmDialogTitle:{id:"confirm_dialog_title_text",defaultMessage:"Stop participating?"},confirmDialogText:{id:"confirm_dialog_subtitle_text",defaultMessage:"Are you sure you want to stop participating in this Yahoo Mail improvement program?"},learnMore:{id:"learn_more_link_text",defaultMessage:"Learn More"}});class Vn extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{editorShown:!1,showConfirmDialog:!1,showLearnMoreDialog:!1}),r()(this,"saveBlockedSenders",(e,t=!1,a=1)=>{this.props.blockSenders({blockSenders:Bn()(e),overWrite:t,delta:a}),this.handleCancel()}),r()(this,"handleBannedAddressSave",e=>{this.saveBlockedSenders(this.props.blockedSenders.concat(e))}),r()(this,"handleDeleteAddress",e=>{this.saveBlockedSenders(this.props.blockedSenders.filter((t,a)=>a!==e),!0,-1)}),r()(this,"handleCancel",()=>{this.setState({editorShown:!1})}),r()(this,"handleAddNewAddress",()=>{this.setState({editorShown:!0})}),r()(this,"handleUpsellClicked",()=>{this.props.securitySubscriptionsUpsellClicked({i13nModel:{mKey:A.g.SECURITY_SUBSCRIPTIONS_UPSELL_CLICKED,sec:A.i.SETTINGS_LEFT_RAIL,interactionType:A.e.click}})}),r()(this,"renderSecuritySubscriptionsUpsell",()=>{const e=this.context.intl.formatMessage;return d.a.createElement("div",{className:Wn.securityUpsellContainer,"data-test-id":"security-upsell"},d.a.createElement("img",{className:Wn.securityUpsellImag,src:Object(Se.a)("/img/yahoo_norton_image.png")}),d.a.createElement("div",{className:Wn.upsellTextContainer},d.a.createElement("p",{className:Wn.upsellTextTitle},e(Zn.securityUpsell_title)),d.a.createElement("p",{className:Wn.upsellTextContent},e(Zn.securityUpsell_text)),d.a.createElement("a",{className:Wn.upsellTextLink,target:"_blank",rel:"noopener noreferrer",href:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B21803326.250207396;dc_trk_aid=443598529;dc_trk_cid=107039316;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=","aria-hidden":!0,onClick:this.handleUpsellClicked},e(Zn.securityUpsell_link))))}),r()(this,"onClickLearnMore",()=>{this.setState({showLearnMoreDialog:!0})}),r()(this,"handleDismiss",()=>{this.setState({showLearnMoreDialog:!1})}),r()(this,"renderLearnMoreDialog",()=>{const e=this.props,t=e.privacyUrl,a=e.termsUrl;return d.a.createElement(Un.a,{onClose:this.handleDismiss,onKeyDown:this.handleDismiss},d.a.createElement("div",{className:Wn.learnMoreContainer},d.a.createElement("div",{className:Wn.header},d.a.createElement(Hn.a,{headerText:"Yahoo Mail Research Project",showSubheader:!1,onClose:this.handleDismiss})),d.a.createElement("div",{className:Wn.learnMoreContent},d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("b",null,"Yahoo Mail is part of Verizon Media."),d.a.createElement("br",null),d.a.createElement("div",{className:Wn.sectionContainer},"Verizon Media researchers and scientists are instrumental in creating and continually improving our cutting edge products and services that hundreds of millions of people use every day around the world. In order to help these individuals carry out our mission, your participation in the Yahoo Mail Research Project permits select employees and contractors working on Verizon Media’s behalf to review email content from certain types of emails to better personalize products, content, and advertising. For example, the Yahoo Mail Research Project allows us to improve Yahoo Mail features like smart reply, package tracking, and smart views that filter emails by email type (features not available in all markets).",d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("b",null,"Information Collection and Use Practices"),d.a.createElement("ul",null,d.a.createElement("li",null,"By agreeing to join the Research Project, participants have agreed to make available all emails that are sent, received, and stored by the participants from all devices using Yahoo Mail;"),d.a.createElement("li",null,"Participants can withdraw from the Research Project at any time through the Settings in Yahoo Mail;"),d.a.createElement("li",null,"Upon withdrawal, the Research Project will stop collecting that participant’s emails from that date forward and within approximately two weeks will remove all communications previously contributed to the Research Project;"),d.a.createElement("li",null,"Aggregated and anonymous data derived from this research may be shared with our partners, prospective partners, and advertisers.")),d.a.createElement("b",null,"Additional Information"),d.a.createElement("ul",null,d.a.createElement("li",null,"Yahoo Mail is covered by the Verizon Media"," ",d.a.createElement("a",{className:Wn.sectionLink,href:t,rel:"nofollow",target:"_new"},"Privacy Policy"),"."),d.a.createElement("li",null,"Participants in the Yahoo Mail Research Project are also subject to the Verizon Media"," ",d.a.createElement("a",{className:Wn.sectionLink,href:a,rel:"nofollow",target:"_new"},"Terms of Service"),".")),"This page describes current Verizon Media practices with respect to this particular service. This information may change as Verizon Media revises this service by adding or removing features or using different service providers. To find out how Verizon Media treats your personal information, please visit our"," ",d.a.createElement("a",{className:Wn.sectionLink,href:t,rel:"nofollow",target:"_new"},"Privacy Policy"),"."))))}),r()(this,"toggleConfirmDialog",e=>{this.setState({showConfirmDialog:e})}),r()(this,"renderConfirmDialog",()=>{const e=this.context.intl.formatMessage;return d.a.createElement(et.a,{onConfirm:this.toggleHumanReadableConsentSetting,cancelLabel:Zn.confirmDialogCancelBtn,acceptLabel:Zn.confirmDialogOkBtn,title:e(Zn.confirmDialogTitle),onAbort:this.toggleConfirmDialog.bind(this,!1)},d.a.createElement("div",{className:Wn.confirmDialog},e(Zn.confirmDialogText)))}),r()(this,"toggleHumanReadableConsentSetting",e=>{this.props.updateHumanReadableConsentSetting({name:M.Kd.CONSENT_EVENTS,value:{humanReadableConsentEvents:{status:this.props.humanReadableConsentEnabled?yt.c:yt.b}},i13nModel:{mKey:this.props.humanReadableConsentEnabled?A.g.SETTINGS_HUMAN_READABLE_CONSENT_OPTOUT:A.g.SETTINGS_HUMAN_READABLE_CONSENT_OPTIN,sec:A.i.SETTINGS_SECURITY_PRIVACY_TAB,interactionType:Object(O.getInteractionFromEvent)(e)},action:{name:M.Kd.CONSENT_EVENTS}}),this.toggleConfirmDialog(!1)})}componentDidMount(){const e=this.props,t=e.showHumanReadableConsentSetting,a=e.humanReadableConsentEnabled;e.showSecuritySubscriptionsUpsell&&Object(jn.a)("https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B21803326.250207396;dc_trk_aid=443598529;dc_trk_cid=107039316;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?",!1),t&&a&&N.b.sendI13nModel({i13nModel:{mKey:A.g.SETTINGS_HUMAN_READABLE_CONSENT_SHOW,sec:A.i.SETTINGS_SECURITY_PRIVACY_TAB}})}renderMessageForCorpMail(){const e=this.context.intl.formatMessage;return d.a.createElement("div",{className:Wn.left},d.a.createElement("div",{className:Wn.mainWrapper},d.a.createElement(Ct.a,{header:e(Zn.securityAndPrivacyHeader_label),hint:e(Zn.securityAndPrivacyHint_corpHint,{url:this.props.corpMailSecurityAndPrivacyUrl,class:Wn.settingsSubHeaderLinkStyle})})))}renderHumanReadableConsentSection(){const e=this.context.intl.formatMessage,t=this.props,a=t.humanReadableConsentEnabled;return t.humanReadableConsentUpdated&&!a?d.a.createElement("div",{className:Wn.hrSetting},d.a.createElement(Ct.a,{header:e(Zn.updatedHRSetting_text)})):a?d.a.createElement("div",{className:Wn.hrSetting,"data-test-id":"human-readable-consent-setting"},d.a.createElement(Ct.a,{"data-test-id":"human-readable-consent-setting-toggle",subHeader:!0,header:e(Zn.hrSetting_title)}),d.a.createElement("p",{className:Wn.hint},e(Zn.hrSetting_hint)," ",d.a.createElement("a",{className:Wn.learnMoreLink,onClick:this.onClickLearnMore},e(Zn.learnMore))),d.a.createElement(Je.a,{"data-test-id":"human-readable-consent-setting-toggle-btn",className:Wn.participateBtn,onClick:this.toggleConfirmDialog.bind(this,!0)},e(Zn.stopParticipatingBtn))):null}render(){const e=this.state.editorShown,t=this.context,a=t.intl.formatMessage,n=this.props,s=n.blockedSenders,i=void 0===s?[]:s,r=n.getAccounts,o=n.showSecuritySubscriptionsUpsell,l=n.showHumanReadableConsentSetting,c=t.partner===M.M,_=d.a.createElement("div",{className:Wn.hintAdvanced},d.a.createElement("span",null,a(Zn.securityAndPrivacyHint_hint)),d.a.createElement("span",{className:Wn.count},d.a.createElement(m.FormattedMessage,{id:"blocked_senders_list_count_message",defaultMessage:"{count} of {maxCount} used",values:{count:i.length,maxCount:Gn}})));return d.a.createElement("div",{className:Wn.container,"data-test-id":"security-and-privacy-tab"},c?this.renderMessageForCorpMail():d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:Wn.left},d.a.createElement("div",{className:Wn.mainWrapper},d.a.createElement(Ct.a,{hintElement:_,header:a(Zn.securityAndPrivacyHeader_label)}),d.a.createElement("div",{className:Wn.menuList},d.a.createElement(On,{blockedSenders:i,onAdd:this.handleAddNewAddress,onDelete:this.handleDeleteAddress,canBlock:i.length<Gn})),l?this.renderHumanReadableConsentSection():null,this.state.showConfirmDialog?this.renderConfirmDialog():null)),d.a.createElement("div",{className:Wn.right},e?d.a.createElement(xn,{accounts:r(),onCancel:this.handleCancel,onSave:this.handleBannedAddressSave,limitReached:i.length>=Gn}):null,o&&!e?this.renderSecuritySubscriptionsUpsell():null),this.state.showLearnMoreDialog?this.renderLearnMoreDialog():null))}}r()(Vn,"contextTypes",{intl:m.intlShape.isRequired,executeAction:l.a.func,partner:l.a.string});var qn=Object(D.connect)(e=>{const t=Object(W.selectors)(e),a=t.isFeatureEnabled,n=t.getSetting,s=t.getSettingsSelectors,i=n(M.Kd.CORP_MAIL_GMAIL_SETTINGS).securityAndPrivacyUrl,r=n(M.Kd.PRIVACY_URL),o=n(M.Kd.TERMS_URL),l=s().isHumanReadableConsentUpdated();return{corpMailSecurityAndPrivacyUrl:i,showSecuritySubscriptionsUpsell:a(M.Eb.SECURITY_SUBSCRIPTIONS_UPSELL),humanReadableConsentEnabled:n(M.Kd.HUMAN_READABLE_CONSENT),humanReadableConsentUpdated:l,showHumanReadableConsentSetting:a(M.Eb.SHOW_HUMAN_READABLE_CONSENT_SETTING),privacyUrl:r,termsUrl:o}},e=>({securitySubscriptionsUpsellClicked:t=>e(Object(G.G)(t)),updateHumanReadableConsentSetting:t=>e(Object(b.b)(t))}))(Vn),zn=a(1806),Yn=a.n(zn),Kn=a(1807),Xn=a.n(Kn);const Qn=Object(m.defineMessages)({confirmDisableEnhancedContactsTitle:{id:"enhance_contacts.confirmation_title",defaultMessage:"Are you sure you want to disable enhanced contacts?"}}),Jn=({enabled:e,onToggle:t},{intl:a})=>{const n=u()(Xn.a,{dangerStatus:e}),s=Object(c.useState)(!1),i=Me()(s,2),r=i[0],o=i[1],l=a.formatMessage,_=Object(c.useCallback)(()=>{e?o(!0):t()},[e,t]),p=Object(c.useCallback)(()=>{t(),o(!1)},[t]),h=Object(c.useCallback)(()=>{o(!1)},[]);return d.a.createElement("div",{"data-test-id":"enhance-contacts-section"},d.a.createElement("div",{className:n.container},d.a.createElement("div",{className:n.description},d.a.createElement("div",{className:n.header},d.a.createElement(m.FormattedMessage,{id:"enhance_contacts.description_header",defaultMessage:"Enhance Contacts"})),d.a.createElement("div",{className:n.hint},d.a.createElement(m.FormattedMessage,{id:"enhance_contacts.description_hint",defaultMessage:"Automatically extract phone numbers and physical addresses from emails sent and received to enrich contacts"}))),d.a.createElement("div",{className:n.status,onClick:_,"data-test-id":"enhance-contacts-preference-status"},d.a.createElement(m.FormattedMessage,{id:"enhance_contacts.status",defaultMessage:"{enabled, select, true {Disable} false {Enable} }",values:{enabled:e}}))),r&&d.a.createElement(et.a,{onConfirm:p,title:l(Qn.confirmDisableEnhancedContactsTitle),onAbort:h},d.a.createElement(m.FormattedMessage,{id:"enhance_contacts.confirmation_message",defaultMessage:"All enhanced contact information associated with your account will be permanently deleted."})))};Jn.contextTypes={intl:m.intlShape.isRequired};var $n=Jn,es=a(1808),ts=a.n(es);const as=Object(m.defineMessages)({confirmDisconnectTitle:{id:"social_accounts.confirmation_title",defaultMessage:"Are you sure you want to disconnect from LinkedIn?"}}),ns=(l.a.shape({[M.Xd.LinkedIn]:l.a.shape({status:l.a.oneOf(Object.values(M.Wd))})}),({onConnect:e,onDisconnect:t,connectedAccounts:a},{intl:n})=>{const s=(a[M.Xd.LinkedIn]||{}).status===M.Wd.CONNECTED,i=(a[M.Xd.LinkedIn]||{}).status===M.Wd.EXPIRED,r=u()(ts.a,{dangerStatus:s}),o=n.formatMessage,l=Object(c.useState)(!1),_=Me()(l,2),p=_[0],h=_[1],g=Object(c.useCallback)(t=>{s?h(!0):e({url:"",provider:M.Xd.LinkedIn,i13nModel:{mKey:A.g.IMPORT_LINKEDIN_CONTACTS,sec:A.i.SETTINGS_CONTACTS_TAB,interactionType:Object(O.getInteractionFromEvent)(t)}})},[s,e]),E=Object(c.useCallback)(()=>{t(M.Xd.LinkedIn),h(!1)},[t]),b=Object(c.useCallback)(()=>{h(!1)},[]);return d.a.createElement("div",{"data-test-id":"social-accounts-section"},d.a.createElement("div",{className:r.container},d.a.createElement("div",{className:r.description},d.a.createElement("div",{className:r.header},d.a.createElement(m.FormattedMessage,{id:"social_accounts.description_header",defaultMessage:"Connect LinkedIn account"})),d.a.createElement("div",{className:r.hint},d.a.createElement(m.FormattedMessage,{id:"social_accounts.description_hint",defaultMessage:"Sync with LinkedIn to see information about your contacts and have a more personal Mail experience"})),i?d.a.createElement("div",{className:r.expiredAccount},d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.XXS,colorState:w.ColorStates.WARNING_GRAD_RED}),d.a.createElement(m.FormattedMessage,{id:"social_accounts.expired_message",defaultMessage:"An error occurred. Try connecting to LinkedIn again."})):null),d.a.createElement("div",{className:r.status,onClick:g,"data-test-id":"social-accounts-account-status"},d.a.createElement(m.FormattedMessage,{id:"social_accounts.status",defaultMessage:"{connected, select, true {Disconnect} false {Connect} }",values:{connected:s}}))),p&&d.a.createElement(et.a,{onConfirm:E,title:o(as.confirmDisconnectTitle),onAbort:b},d.a.createElement(m.FormattedMessage,{id:"social_accounts.confirmation_message",defaultMessage:"All contact information imported from LinkedIn will be deleted from Yahoo Mail."})))});ns.contextTypes={intl:m.intlShape.isRequired};var ss=ns,is=a(97),rs=a(1809),os=a.n(rs),ls=a(63),cs=a(117),ds=a(387);const ms=u()(os.a),_s=e=>{const t=e.statuses,a=e.onConnect,n=e.onDisconnect;return d.a.createElement("div",{className:ms.listContainer},d.a.createElement("div",{className:ms.accountInfoHeader},d.a.createElement(m.FormattedMessage,{id:"import_account_contacts.header",defaultMessage:"Import contacts"})),d.a.createElement(ls.a,{kind:cs.a.DEFAULT,className:ms.listWrapper},M.Z.map(e=>{const s=t[e]||{};return d.a.createElement(ds.b,{provider:e,key:e,accountStatus:s.status,lastImportedTime:s.lastImportedTime,onConnect:a,onDisconnect:n})})))};_s.contextTypes={};var us=Object(D.connect)(e=>({statuses:(0,(0,Object(W.selectors)(e).getMailboxesSelectors)().getSocialAccountsStatus)()||{}}))(_s);const ps=Object(m.defineMessages)({confirmDisconnectImportTitle:{id:"contacts_settings.confirm_disconnect_import_title",defaultMessage:"Stop importing contacts"},confirmDisconnectSocialTitle:{id:"contacts_settings.confirm_disconnect_social_title",defaultMessage:"Disconnect a Social account"},rightRailHeader:{id:"contacts_settings.right_rail_header",defaultMessage:"Find help for contacts"}}),hs=u()(Yn.a);class gs extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{showConfirm:!1,selectedAccount:null}),r()(this,"disconnectImportAccount",()=>{const e=this.state.selectedAccount;this.toggleConfirmDialog(!1),this.props.onContactImportDisconnect(e)}),r()(this,"disconnectSocialAccount",e=>{this.props.unlinkSocialAccount({provider:e})}),r()(this,"handleCancel",()=>{this.toggleConfirmDialog(!1)}),r()(this,"handleImportAccountDisconnect",e=>{this.toggleConfirmDialog(!0,e)}),r()(this,"toggleConfirmDialog",(e,t=null)=>{this.setState({showConfirm:e,selectedAccount:t})}),r()(this,"renderConfirmTitle",()=>(0,this.context.intl.formatMessage)(ps.confirmDisconnectImportTitle)),r()(this,"toggleEnhanceContactsPreference",()=>{this.props.changeEnhanceContactsPreference({enabled:!this.props.enhanceContactsPreference})})}render(){const e=this.state,t=e.showConfirm,a=e.selectedAccount,n=this.context.intl,s=n.formatMessage,i=n.locale,r=this.context,o=r.mailBrandNameString,l=r.partner,c=this.props,_=c.connectedAccounts,u=c.onConnectSocialAccount,p=c.onContactImportConnect,h=c.showEnhanceContactsSection,g=c.enhanceContactsPreference;return d.a.createElement("div",{className:hs.container},d.a.createElement("div",{className:hs.left},d.a.createElement("div",{className:hs.sectionsWrapper},d.a.createElement("header",{className:hs.titleWrapper},d.a.createElement("h4",{className:hs.title},d.a.createElement(m.FormattedMessage,{id:"contacts_settings.header",defaultMessage:"Contacts"}))),d.a.createElement("div",{className:hs.section},d.a.createElement(us,{onConnect:p,onDisconnect:this.handleImportAccountDisconnect})),d.a.createElement("div",{className:hs.section},d.a.createElement(ss,{connectedAccounts:_,onConnect:u,onDisconnect:this.disconnectSocialAccount})),h&&d.a.createElement("div",{className:hs.section},d.a.createElement($n,{enabled:g,onToggle:this.toggleEnhanceContactsPreference})))),d.a.createElement("div",{className:hs.right},d.a.createElement(Zt,{demoImg:Ce.g.SOCIAL,header:s(ps.rightRailHeader),helpLinks:Vt.e.map(({text:e,link:t})=>({text:s(e,{mailBrandNameString:o}),link:t(i,l)}))})),t?d.a.createElement(et.a,{onConfirm:this.disconnectImportAccount,title:this.renderConfirmTitle(),onAbort:this.handleCancel},d.a.createElement(m.FormattedHTMLMessage,{id:"contacts_settings.confirm_delete_import_account",defaultMessage:"Are you sure you want to stop importing contacts from <b>{providerName}</b>?",values:{providerName:a.providerName}})):null)}}r()(gs,"contextTypes",{intl:m.intlShape.isRequired,executeAction:l.a.func,mailBrandNameString:l.a.string,partner:l.a.string});var Es=Object(D.connect)(e=>{const t=Object(W.selectors)(e),a=t.getFeaturesSelectors,n=(0,t.getMailboxesSelectors)().getEnhanceContactsPreference;return{showEnhanceContactsSection:(0,a().isEnabled)(M.Eb.SHOW_ENHANCE_CONTACTS_PREFERENCE),enhanceContactsPreference:n()}},e=>({unlinkSocialAccount:t=>e(Object(is.n)(t)),changeEnhanceContactsPreference:t=>e(Object(G.e)(t)),onConnectSocialAccount:t=>e(Object(is.a)(t)),onContactImportConnect:t=>e(Object(is.k)(t)),onContactImportDisconnect:t=>e(Object(is.b)(t))}))(gs),bs=a(1497),fs=a.n(bs),Cs=a(1810),Ss=a.n(Cs);const ys=({supportImgs:e,header:t,hint:a,fujiKind:n,styleV2:s})=>{const i=u()(Ss.a,{styleV2:s});return d.a.createElement("div",{className:i.rightContainer,"data-test-id":"mail-pro-help"},d.a.createElement("div",{className:i.supportImgContainer},n?d.a.createElement("span",{className:i.fujiIcon},d.a.createElement(R.b,{kind:n,size:w.Sizes.XL,colorState:w.ColorStates.INHERITED})):d.a.createElement("img",{className:i.supportImg,src:Object(Se.a)(e)}),d.a.createElement("div",{className:i.headerContainer},d.a.createElement("h4",{className:i.helpTitle},d.a.createElement("span",null,t)),d.a.createElement("span",{className:i.helpHint},a))))};ys.defaultProps={fujiKind:"",supportImgs:"",styleV2:!1};var Ts=ys,vs=a(94);const Is=M.gc.NOT_SUBSCRIBED,Ms=M.gc.SUBSCRIBED,As=[w.Kinds.NO_ADS,w.Kinds.NUMBER_ONE,w.Kinds.STOPWATCH_DASHES,w.Kinds.INFINITY],Ns=Object(m.defineMessages)({yahooMailProBranding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},manageSubscriptionHeader:{id:"manageSubscription_text",defaultMessage:"Manage your subscription"},getMailProHint:{id:"get_mail_pro_hint",defaultMessage:"Ad-free mail for this account and more"},mailproBrandingString:{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"},mailpro_free_trial_cta_remove_ads:{id:"mailpro_free_trial_cta_remove_ads",defaultMessage:"Remove ads"},try_again:{id:"subhub.tryAgain",defaultMessage:"Try again"},error_text:{id:"error_text",defaultMessage:"Error!"},get_mail_pro:{id:"get_mail_pro",defaultMessage:"Get {mailProBrandingString}"},no_ads_across_all_devices:{id:"no_ads_across_all_devices",defaultMessage:"No ads across all devices"},priority_customer_support:{id:"priority_customer_support",defaultMessage:"Priority customer support"},even_faster_performance:{id:"even_faster_performance",defaultMessage:"Even faster performance"},keep_your_email_records:{id:"keep_your_email_records",defaultMessage:"Keep your email records"},no_ads_across_all_devices_description:{id:"no_ads_across_all_devices_description",defaultMessage:"Enjoy more room to view your messages with an ad-free {mailBrandNameString} experience across desktop + mobile"},priority_customer_support_description:{id:"priority_customer_support_description",defaultMessage:"Reach out to our customer support team anytime to get help with any of your {yahooMailProBranding} needs"},even_faster_performance_description:{id:"even_faster_performance_description",defaultMessage:"With this ad-free experience, your email will load faster on Desktop browsers"},keep_your_email_records_description:{id:"keep_your_email_records_description",defaultMessage:"With an active {yahooMailProBranding} subscription your emails won’t get purged due to long periods of inactivity*"},keep_your_email_records_terms:{id:"keep_your_email_records_terms",defaultMessage:"Subject to storage limits, spam and email abuse policies and future changes in storage policy"},free_trial_offer_body_text:{id:"free_trial_offer_body_text",defaultMessage:"We are now offering you an ad-free, commitment-free {mailBrandNameString} experience for {numOfDays} days."},keep_mail_pro_permanently_description_text:{id:"keep_mail_pro_permanently_description_text",defaultMessage:"We hope you are enjoying your ad-free Mail. Click the button below to keep this experience after your trial ends."},keep_mail_pro_permanently_cta_text:{id:"keep_mail_pro_permanently_cta_text",defaultMessage:"Keep {mailProBrandingString} permanently"}});class ks extends d.a.PureComponent{constructor(...e){super(...e),r()(this,"state",{renderError:!1,purchaseFreeTrialStatus:""}),r()(this,"purchaseFreeTrial",()=>{this.props.purchaseMailproFreeTrial({i13nModel:{mKey:A.g.PURCHASE_FREE_TRIAL_FROM_SETTINGS_TAB,sec:A.i.MAILPRO_FREE_TRIAL,interactionType:A.e.click}})})}static getDerivedStateFromProps(e,t){return e.purchaseFreeTrialStatus!==t.purchaseFreeTrialStatus?t.purchaseFreeTrialStatus&&"FAILED"===e.purchaseFreeTrialStatus?{renderError:!0,purchaseFreeTrialStatus:e.purchaseFreeTrialStatus}:{renderError:!1,purchaseFreeTrialStatus:e.purchaseFreeTrialStatus}:null}navigateToMailPro(e,t,a){N.b.sendI13nModel({i13nModel:{mKey:t?A.g.NAVIGATE_TO_MAIL_PRO_ACTIVE_USER:A.g.NAVIGATE_TO_TRY_MAIL_PRO_FOR_FREE,sec:A.i.MAIL_PRO_SETTINGS,interactionType:A.e.click,actionData:{region:a}}}),Object(vs.a)(e)}renderCTA({classNames:e,formatMessage:t,region:a,mailProEnabled:n,mailProUpsellClickURL:s,mailProFreeTrialSubscriptionStatus:i,purchaseFreeTrialInProgress:r,renderError:o}){switch(i){case Is:return r?d.a.createElement("span",{className:e.loadingSpinner},d.a.createElement(H.b,{size:H.a.S})):o?d.a.createElement(d.a.Fragment,null,d.a.createElement("span",{className:e.errorContainer},d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.XXS,colorState:w.ColorStates.WARNING_GRAD_RED}),t(Ns.error_text)),d.a.createElement(Je.a,{overridingClass:e.tryAgainCTA,onClick:this.purchaseFreeTrial},t(Ns.try_again))):d.a.createElement(Je.a,{overridingClass:e.selectedPlan,onClick:this.purchaseFreeTrial},t(Ns.mailpro_free_trial_cta_remove_ads));case Ms:return d.a.createElement(Je.a,{className:e.selectedPlan,"data-test-id":"free-mail-pro-button",onClick:()=>this.navigateToMailPro(s,n,a)},t(Ns.keep_mail_pro_permanently_cta_text,{mailProBrandingString:t(Ns.mailproBrandingString)}));default:return d.a.createElement(Je.a,{className:e.selectedPlan,"data-test-id":"free-mail-pro-button",onClick:()=>this.navigateToMailPro(s,n,a)},this.props.mailProEnabled?t(Ns.manageSubscriptionHeader):t(Ns.get_mail_pro,{mailProBrandingString:t(Ns.mailproBrandingString)}))}}renderLeftPanel({classNames:e,formatMessage:t,region:a,mailProEnabled:n,mailBrandNameString:s,mailProUpsellClickURL:i,mailProFreeTrialSubscriptionStatus:r,purchaseFreeTrialInProgress:o,renderError:l}){let c=n?null:t(Ns.getMailProHint);switch(r){case Is:c=t(Ns.free_trial_offer_body_text,{mailBrandNameString:s,numOfDays:M.fc});break;case Ms:c=t(Ns.keep_mail_pro_permanently_description_text)}return d.a.createElement("div",{className:e.left},d.a.createElement("div",{className:e.mainWrapper},d.a.createElement(Ct.a,{header:t(Ns.yahooMailProBranding),hint:c}),this.renderCTA({classNames:e,formatMessage:t,region:a,mailProEnabled:n,mailProUpsellClickURL:i,mailProFreeTrialSubscriptionStatus:r,purchaseFreeTrialInProgress:o,renderError:l})))}renderMailProInfo(e,t,a,n){let s,i;switch(e){case w.Kinds.NO_ADS:s=a(Ns.no_ads_across_all_devices),i=a(Ns.no_ads_across_all_devices_description,{mailBrandNameString:n});break;case w.Kinds.NUMBER_ONE:s=a(Ns.priority_customer_support),i=a(Ns.priority_customer_support_description,{yahooMailProBranding:a(Ns.yahooMailProBranding)});break;case w.Kinds.STOPWATCH_DASHES:s=a(Ns.even_faster_performance),i=a(Ns.even_faster_performance_description);break;case w.Kinds.INFINITY:s=a(Ns.keep_your_email_records),i=a(Ns.keep_your_email_records_description,{yahooMailProBranding:a(Ns.yahooMailProBranding)})}return d.a.createElement(Ts,{key:"mail_pro_info_link_"+t,fujiKind:e,header:s,hint:i,styleV2:!0})}render(){const e=this.context,t=e.intl.formatMessage,a=e.mailBrandNameString,n=e.region,s=this.props,i=s.mailProEnabled,r=s.mailProUpsellClickURL,o=s.mailProFreeTrialSubscriptionStatus,l=s.purchaseFreeTrialInProgress,c=this.state.renderError,m=u()(fs.a,{styleV2:!0});return d.a.createElement("div",{className:m.container,"data-test-id":"yahoo_mail_pro"},this.renderLeftPanel({classNames:m,formatMessage:t,region:n,mailProEnabled:i,mailBrandNameString:a,mailProUpsellClickURL:r,mailProFreeTrialSubscriptionStatus:o,purchaseFreeTrialInProgress:l,renderError:c}),d.a.createElement("div",{className:m.right},As.map((e,a)=>this.renderMailProInfo(e,a,t,this.context.mailBrandNameString)),d.a.createElement("span",{className:m.keepRecordTerms},"*",t(Ns.keep_your_email_records_terms))))}}r()(ks,"contextTypes",{intl:m.intlShape.isRequired,region:l.a.string,mailBrandNameString:l.a.string});var Os=ks,Ds=a(321),Ps=a(47);const Rs=u()(fs.a),ws=Object(m.defineMessages)({yahooMailProBranding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},tryForFree:{id:"mail.try_for_free",defaultMessage:"Try for free"},manageSubscriptionHeader:{id:"manageSubscription_text",defaultMessage:"Manage your subscription"},getMailProHint:{id:"get_mail_pro_hint",defaultMessage:"Ad-free mail for this account and more"}});class Fs extends d.a.Component{componentDidMount(){Object(jn.a)(this.props.mailProUpsellImpressionURL,!1)}navigateToMailPro(e,t,a){N.b.sendI13nModel({i13nModel:{mKey:t?A.g.NAVIGATE_TO_MAIL_PRO_ACTIVE_USER:A.g.NAVIGATE_TO_TRY_MAIL_PRO_FOR_FREE,sec:A.i.MAIL_PRO_SETTINGS,interactionType:A.e.click,actionData:{region:a}}}),function(e,t){window.open(e,t)}(e)}renderLink(e,t,a,n){return d.a.createElement("div",{className:Rs.left},d.a.createElement("div",{className:Rs.mainWrapper},d.a.createElement(Ct.a,{header:e(ws.yahooMailProBranding),hint:a?null:e(ws.getMailProHint)}),d.a.createElement(Je.a,{className:Rs.selectedPlan,"data-test-id":"free-mail-pro-button",onClick:()=>this.navigateToMailPro(n,a,t)},e(a?ws.manageSubscriptionHeader:ws.tryForFree))))}render(){const e="us"===this.context.region?Vt.c:Vt.c.slice(0,1),t=this.context,a=t.intl.formatMessage,n=t.region,s=this.props,i=s.mailProEnabled,r=s.mailProUpsellClickURL;return s.mailProFreeTrialEnabled?d.a.createElement(Os,this.props):d.a.createElement("div",{className:Rs.container,"data-test-id":"yahoo_mail_pro"},this.renderLink(a,n,i,r),d.a.createElement("div",{className:Rs.right},e&&e.map((e,t)=>d.a.createElement(Ts,{key:t,supportImgs:e.img,header:a(e.header),hint:a(e.hint)}))))}}r()(Fs,"contextTypes",{intl:m.intlShape.isRequired,region:l.a.string});var xs=Object(D.connect)(e=>{const t=Object(W.selectors)(e),a=t.isFeatureEnabled,n=t.getMailproFreeTrialSelectors,s=(0,t.getSetting)(M.Kd.MAILPRO_UPSELL_INSTRUMENTATION_URL),i=s.settingsTabImpressionURL,r=s.settingsTabClickURL,o=n(),l=o.getSubscriptionStatus,c=o.isPurchaseFreeTrialInProgress,d=o.getPurchaseFreeTrialStatus;return{mailProUpsellImpressionURL:i,mailProUpsellClickURL:r,mailProFreeTrialEnabled:a(M.Eb.MAILPRO_FREE_TRIAL),mailProFreeTrialSubscriptionStatus:l(),purchaseFreeTrialInProgress:c(),purchaseFreeTrialStatus:d()}},e=>({purchaseMailproFreeTrial:t=>e(Object(Ds.a)(t))}))(Fs),Ls=a(1811),Bs=a.n(Ls),js=a(1812),Us=a.n(js),Hs=a(586),Ws=a(95);const Gs=Object(m.defineMessages)({signaturelabel:{id:"signature_lable",defaultMessage:"Signature"},signatureToggle:{id:"signature_toggle",defaultMessage:"Toggle signature"},tweetToggle:{id:"tweet_toggle",defaultMessage:"include latest tweet"}}),Zs=()=>{};class Vs extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{hintHovered:!1}),r()(this,"handleBlur",()=>{this.props.onSave(this.props.account)}),r()(this,"handleFocus",()=>{this.updateSignatureText(this.props.account.signature)}),r()(this,"handleTweetToggle",e=>{this.props.onTweetEnable(e)}),r()(this,"handleSignatureStatusChange",()=>{const e=this.props.account;this.props.onStatusChange({id:e.id,signatureActive:!e.signatureActive})}),r()(this,"toggleHintHover",()=>{this.setState({hintHovered:!this.state.hintHovered})}),r()(this,"updateSignatureText",e=>{this.props.onChange(this.props.account.id,e)}),r()(this,"renderTweetToggle",e=>d.a.createElement("div",{className:e.formControl},d.a.createElement(wa.a,{isChecked:this.props.enableTweet,onClick:this.handleTweetToggle,ariaLabel:(0,this.context.intl.formatMessage)(Gs.tweetToggle)}),d.a.createElement(Ws.c,{triggerOn:Ws.b.HOVER,onHide:this.toggleHintHover,onShown:this.toggleHintHover,triggerOff:Ws.a.HOVER_OUT},d.a.createElement("span",{className:e.toggleControlName},d.a.createElement(m.FormattedMessage,{id:"includeTweet_text",defaultMessage:"Include your latest Tweet from Twitter"})),d.a.createElement("div",{className:e.tweetHint},d.a.createElement(m.FormattedMessage,{id:"include_tweet_hint_text",defaultMessage:"Turn on this require to sign in Twitter"})))))}render(){const e=this.state.hintHovered,t=this.context.intl.formatMessage,a=this.props.account,n=a.signatureActive,s=a.email,i=a.signature,r=a.isPrimary,o=this.props,l=o.composeFontFamily,c=o.composeFontSize,_=o.showDefaultTitle,p=o.showEditorAlways,h=o.showTweet,g=o.stationeryRestrictedThemes,E=o.rtl,b=u()(Us.a,{signatureActive:n,hintHovered:e,showDefaultTitle:_});return d.a.createElement("div",{className:b.signatureControl},d.a.createElement("h4",{className:b.header},d.a.createElement("span",{className:b.email},_?d.a.createElement(m.FormattedMessage,{id:"signature_title_text",defaultMessage:"Signature"}):s),d.a.createElement("span",{className:b.rightAlign,"data-test-id":"signature-toggle-button"},d.a.createElement(Hs.a,{isEnabled:!!n,onClick:this.handleSignatureStatusChange,ariaLabel:t(Gs.signatureToggle)}))),p||n?d.a.createElement("div",{className:b.signatureWrapper},d.a.createElement("div",{className:b.signatureEditor},d.a.createElement(ft,{disabled:!n,ariaLabel:t(Gs.signaturelabel),content:i,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.updateSignatureText,composeFontFamily:l,composeFontSize:c,stationeryRestrictedThemes:g,rtl:E,editorKind:Ue.EditorTypes.MESSAGE,toolbarKind:Ue.ToolbarTypes.MESSAGE})),r&&h?this.renderTweetToggle(b):null):null)}}r()(Vs,"contextTypes",{intl:m.intlShape,config:l.a.object}),r()(Vs,"defaultProps",{showDefaultTitle:!1,showEditorAlways:!1,onTweetEnable:Zs,onSave:Zs});var qs=Vs,zs=a(1813),Ys=a.n(zs),Ks=a(1814),Xs=a.n(Ks),Qs=a(491);const Js=Object(m.defineMessages)({[M.Wd.CONNECTED+"_message"]:{id:"linkButton.connectedMessage",defaultMessage:"Disconnect"},[M.Wd.EXPIRED+"_message"]:{id:"linkButton.expiredMessage",defaultMessage:"Reconnect"},[M.Wd.NOT_CONNECTED+"_message"]:{id:"linkButton.connect",defaultMessage:"Connect"}}),$s={[M.Xd.LinkedIn]:A.g.IMPORT_LINKEDIN_CONTACTS,[M.R.GDrive]:A.g.CLOUD_STORAGE_GDRIVE_CONNECT_CLICKED,[M.R.Dropbox]:A.g.CLOUD_STORAGE_DROPBOX_CONNECT_CLICKED},ei=(e,t)=>{const a=e.provider,n=e.accountStatus,s=e.onDisconnect,i=e.onConnect,r=e.isCloudStorageAccount,o=r&&M.X[a].displayName||a,l=u()(Xs.a),c=(0,t.intl.formatMessage)(Js[n+"_message"]||Js[M.Wd.NOT_CONNECTED+"_message"]);return d.a.createElement("li",{className:l.listItem,onClick:e=>{n===M.Wd.CONNECTED?s({providerType:r?"CLOUD_STORAGE_ACCOUNT":"SOCIAL_ACCOUNT",provider:a}):i({url:"",provider:a,i13nModel:{mKey:$s[a],sec:A.i.SETTINGS_CONTACTS_TAB,interactionType:Object(O.getInteractionFromEvent)(e)}})},role:"button","data-test-id":"social-account-item-"+a},d.a.createElement(Qs.a,{accountType:a}),d.a.createElement("div",{className:l.accountInfo},d.a.createElement("p",{className:l.accountName},o)),d.a.createElement("div",{className:l.accountStatus},c))};ei.contextTypes={intl:m.intlShape.isRequired};var ti=Object(D.connect)(void 0,e=>({onConnect:t=>e(Object(is.a)(t))}))(ei);const ai=Object(m.defineMessages)({confirmDisconnectCloudTitle:{id:"confirm_disconnect_cloud_title",defaultMessage:"Disconnect a Cloud Storage account"}}),ni=u()(Ys.a),si=({onDisconnect:e,connectedProviderAccounts:t},{intl:a})=>{const n=a.formatMessage,s=Object(c.useState)(!1),i=Me()(s,2),r=i[0],o=i[1],l=Object(c.useState)(null),_=Me()(l,2),u=_[0],p=_[1],h=Object(c.useCallback)(e=>{p(e),o(!0)},[]),g=Object(c.useCallback)(()=>{e(u),o(!1)},[u,e]),E=Object(c.useCallback)(()=>{o(!1),p(null)},[]),b=Object.keys(M.X).map(e=>d.a.createElement(ti,{key:e,provider:e,accountStatus:(t[e]||{}).status,onDisconnect:h,isCloudStorageAccount:!0}));return d.a.createElement("div",{className:ni.listContainer},d.a.createElement("div",{className:ni.accountInfoHeader},d.a.createElement("p",{className:ni.headerText},d.a.createElement(m.FormattedMessage,{id:"cloud_storage_account_list_header_text",defaultMessage:"Connected cloud storage accounts"})),d.a.createElement("span",{className:ni.hint},d.a.createElement(m.FormattedMessage,{id:"cloud_storage_account_list_header_hint",defaultMessage:"Sync with cloud storage accounts for attaching files"}))),d.a.createElement(ls.a,{kind:cs.a.DEFAULT,className:ni.listWrapper},b),r&&d.a.createElement(et.a,{onConfirm:g,title:n(ai.confirmDisconnectCloudTitle),onAbort:E,"data-test-id":"cloud-storage-disconnect-modal"},d.a.createElement(m.FormattedMessage,{id:"confirm.delete_social_account",defaultMessage:"Are you sure you want to disconnect this account?"})))};si.contextTypes={intl:m.intlShape.isRequired};var ii=si,ri=a(146);function oi(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const li=u()(Bs.a),ci=Object(m.defineMessages)({writeEmailHeader_label:{id:"writeEmail_label",defaultMessage:"Writing emails"},writeEmailHint_hint:{id:"writeEmail_hint_label",defaultMessage:"Manage your email writing experience"},font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},font_size_label_tiny:{id:"compose.font_size_label_tiny",defaultMessage:"Tiny"},font_size_label_small:{id:"compose.font_size_label_small",defaultMessage:"Small"},font_size_label_medium:{id:"compose.font_size_label_medium",defaultMessage:"Medium"},font_size_label_large:{id:"compose.font_size_label_large",defaultMessage:"Large"},font_size_label_xlarge:{id:"compose.font_size_label_xlarge",defaultMessage:"X-Large"},font_size_label_huge:{id:"compose.font_size_label_huge",defaultMessage:"Huge"},sampleText:{id:"writing_email.sample_text",defaultMessage:"How are you doing?"},account_name_label:{id:"writing_email.account_name_label",defaultMessage:"Extra"},linkEnhancer_text:{id:"linkEnhancer_text",defaultMessage:"Automatically generate a preview of links"},default_text:{id:"compose.default_text",defaultMessage:"Default"}});class di extends d.a.Component{constructor(e){super(e),r()(this,"handleDefaultSendingAddressChange",e=>{this.props.updateAccountDetails({accountId:e,updatedProperties:{isSending:!0}})}),r()(this,"handleFontFamilyChange",e=>{this.props.changeSettings({name:M.Kd.COMPOSE_FONT_FAMILY,value:e})}),r()(this,"handleFontSizeChange",e=>{this.props.changeSettings({name:M.Kd.COMPOSE_FONT_SIZE,value:""+e})}),r()(this,"updateAccounts",({id:e,signature:t})=>{const a=this.props.getAccounts().find(t=>t.id===e);a&&a.signature!==t&&this.props.updateAccountDetails({accountId:a.id,signature:t,updatedProperties:{signature:t}})}),r()(this,"updateSignatureStatus",({id:e,signatureActive:t})=>{this.props.updateAccountDetails({accountId:e,updatedProperties:{signatureActive:t}}),t||this.setState({selectedIndex:-1})}),r()(this,"updateSignature",(e,t)=>{const a=this.getUpdatedAccounts(e,{signature:t}),n=a.accounts;n&&this.setState({accounts:n,selectedIndex:a.index})}),r()(this,"updateTweetStatus",()=>{}),r()(this,"getDefaultSendingAddresses",()=>{let e;const t=this.context.intl.formatMessage,a=this.props.getAccounts().reduce((a,{id:n,email:s,isPrimary:i,type:r,status:o,description:l,accountVerified:c,isSending:d})=>{let m;return i?e={id:n,email:s,accountName:t(ci.default_text)}:(e=>-1!==[M.n.ALIAS,M.n.DEA].indexOf(e))(r)?m=t(ci.account_name_label):"ENABLED"===o&&c&&(e=>-1!==[M.n.SENDAS,M.n.POPIN].indexOf(e))(r)&&(m=l),!i&&m&&a.push({id:n,email:s,accountName:m,isSending:d}),a},[]);return a.unshift(e),a.filter(Boolean)}),r()(this,"getRootAccounts",e=>e.filter(({type:e})=>M.nd.indexOf(e)>-1)),r()(this,"getUpdatedAccounts",(e,t)=>{const a=this.getRootAccounts(this.state.accounts),n=a.findIndex(t=>t.id===e);if(n>-1){return{accounts:[...a.slice(0,n),Object.assign({},a[n],t),...a.slice(n+1)],index:n}}return{}}),r()(this,"getFirstAccountWithSignatureActive",()=>{let e=this.state.selectedIndex;return-1===e&&(e=this.getRootAccounts(this.state.accounts).findIndex(({signatureActive:e})=>e)),e}),r()(this,"hideAccount",e=>e.status===M.m.DELETE_IN_PROGRESS||e.type===M.n.POPIN||e.type===M.n.EXTERNAL||e.type===M.n.PHONE),r()(this,"renderAccounts",e=>{const t=this.props,a=t.composeFontFamily,n=t.composeFontSize,s=t.showTweet,i=t.stationeryRestrictedThemes,r=t.rtl;return e.map(e=>this.hideAccount(e)?null:d.a.createElement("li",{key:e.email,"data-test-id":"signature-item",className:li.signatureItem},d.a.createElement(qs,{account:e,onChange:this.updateSignature,onTweetEnable:this.updateTweetStatus,onStatusChange:this.updateSignatureStatus,onSave:Oe()(this.updateAccounts,500),composeFontFamily:a,composeFontSize:n,showTweet:s,stationeryRestrictedThemes:i,rtl:r})))}),r()(this,"toggleLinkEnhancerMode",e=>{this.props.updateLinkEnhancerMode({name:M.Kd.LINK_ENHANCR,value:!this.props.linkEnhancer,i13nModel:{mKey:A.g.SETTINGS_LINK_ENHANCER,sec:A.i.SETTINGS_WRITING_EMAIL_TAB,interactionType:Object(O.getInteractionFromEvent)(e)},action:{name:M.Kd.LINK_ENHANCR}})}),r()(this,"getSelectedSendingAccount",e=>{const t=e.find(e=>e.isSending);return t||e[0]}),r()(this,"disconnectCloudStorageAccount",e=>{this.props.unlinkCloudStorageAccount({provider:e.provider,unlink:!0})});this.state={accounts:(0,e.getAccounts)(),selectedIndex:-1}}componentWillReceiveProps({getAccounts:e}){this.setState({accounts:e()})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.composeFontFamily,n=t.composeFontSize,s=t.activeAccount,i=t.linkEnhancer,r=t.cloudStorageEnabled,o=this.state,l=o.showTweet,c=o.accounts,_={[Ue.FontSizes[0].name]:e(ci.font_size_label_tiny),[Ue.FontSizes[1].name]:e(ci.font_size_label_small),[Ue.FontSizes[2].name]:e(ci.font_size_label_medium),[Ue.FontSizes[3].name]:e(ci.font_size_label_large),[Ue.FontSizes[4].name]:e(ci.font_size_label_xlarge),[Ue.FontSizes[5].name]:e(ci.font_size_label_huge)},u=this.getRootAccounts(c),p=u[this.getFirstAccountWithSignatureActive()]||s,h=this.getDefaultSendingAddresses(),g=this.getSelectedSendingAccount(h);return d.a.createElement("div",{className:li.container,"data-test-id":"writing-email"},d.a.createElement("div",{className:li.left},d.a.createElement("div",{className:li.mainWrapper},d.a.createElement("div",{className:li.pageHeader},d.a.createElement(Ct.a,{header:e(ci.writeEmailHeader_label),hint:e(ci.writeEmailHint_hint)})),d.a.createElement("div",{className:li.linkEnhancerControl,"data-test-id":"link-enhancer-toggle"},d.a.createElement(Ct.a,{canToggle:!0,subHeader:!0,toggleEnabled:i,onToggle:this.toggleLinkEnhancerMode,header:e(ci.linkEnhancer_text)})),d.a.createElement("div",{className:li.signatureHeader},d.a.createElement("h5",{className:li.headerTitle},d.a.createElement(m.FormattedMessage,{id:"signature_text",defaultMessage:"Signature"}))),d.a.createElement("ul",{className:li.signatureControl},this.renderAccounts(u)),d.a.createElement("h5",{className:li.headerTitle},d.a.createElement(m.FormattedMessage,{id:"richTextFont_text",defaultMessage:"Default rich-text font"})),d.a.createElement("div",{className:li.formControl},d.a.createElement("div",{className:li.fontSelectWrapper},d.a.createElement("span",{className:li.selectbox,"data-test-id":"settings-font-family"},d.a.createElement($t.a,{selected:a,onChange:this.handleFontFamilyChange},Ue.Fonts.map(({name:t,fontFamily:a,label:n})=>d.a.createElement(Jt.a,{key:t,value:a},Object(ct.getLocalizedFontFamilyName)(e,t)||n)))),d.a.createElement("span",{className:li.selectbox,"data-test-id":"settings-font-size"},d.a.createElement($t.a,{selected:+n,onChange:this.handleFontSizeChange},Ue.FontSizes.map(({name:e,fontSize:t})=>d.a.createElement(Jt.a,{key:e,value:t},_[e])))))),!!h.length&&d.a.createElement("div",null,d.a.createElement("h5",{className:li.headerTitle},d.a.createElement(m.FormattedMessage,{id:"sendingAddress_text",defaultMessage:"Default sending address"})),d.a.createElement("div",{className:li.formControl},d.a.createElement("div",{className:li.sendingAddressControl,"data-test-id":"settings-sending-account"},d.a.createElement($t.a,{selected:g.id,onChange:this.handleDefaultSendingAddressChange},h.map(({id:e,email:t,accountName:a})=>d.a.createElement(Jt.a,{key:t,value:e},`${a} (${t})`)))))),r&&d.a.createElement("div",{className:li.cloudStorageAccountsSection},d.a.createElement(ii,{connectedProviderAccounts:this.props.connectedProviderAccounts,onDisconnect:this.disconnectCloudStorageAccount})))),d.a.createElement("div",{className:li.right},d.a.createElement(Ge,{showTweet:l,account:p,composeFontFamily:a,composeFontSize:+n,content:e(ci.sampleText),kind:Ue.PreviewTypes.MESSAGE})))}}r()(di,"contextTypes",{intl:m.intlShape.isRequired,executeAction:l.a.func});var mi=Object(D.connect)(e=>{const t=Object(W.selectors)(e),a=t.getContentProviders,n=t.getRoute,s=t.getSelectedAccountIdByRoute,i=t.getAccountById,r=t.getAllAccounts,o=(0,t.getFeaturesSelectors)(),l=i(s(n())),c=a().getContentProvidersStatus;return{activeAccount:l,getAccounts:r,cloudStorageEnabled:o.isEnabled(M.Eb.CLOUD_STORAGE),connectedProviderAccounts:c(),rtl:o.isEnabled(M.Eb.RTL),showTweet:o.isEnabled(M.Eb.SHOW_TWEET),linkEnhancer:o.isEnabled(M.Kd.LINK_ENHANCR),composeFontSize:o.getSetting(M.Kd.COMPOSE_FONT_SIZE),composeFontFamily:o.getSetting(M.Kd.COMPOSE_FONT_FAMILY),stationeryRestrictedThemes:o.isEnabled(M.Kd.STATIONERY_RESTRICTED_THEMES)}},e=>({changeSettings:t=>e(Object(b.b)(t)),unlinkCloudStorageAccount:t=>e(Object(ri.m)(t)),updateFontFamily:t=>e(Object(b.b)(t)),updateLinkEnhancerMode:t=>e(Object(b.b)(t)),updateFontFamilypdateFontFamily:t=>e(Object(b.b)(t)),updateAccountDetails:t=>e(Object(b.k)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oi(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oi(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{warnOnClose:!1})))}))(di),_i=a(34),ui=a.n(_i),pi=a(1815),hi=a.n(pi),gi=a(28),Ei=a(1377),bi=a.n(Ei),fi=a(1816),Ci=a.n(fi);var Si=function({accounts:e,enableAccounts:t,onToggle:a}){const n=u()(Ci.a),s=e=>{a(e)};return d.a.createElement("ul",{className:n.listContainer},e.map(e=>d.a.createElement("li",{className:n.accountItem,key:e.id},d.a.createElement(Ct.a,{canToggle:!0,toggleEnabled:!!t[e.id],header:e.email,onToggle:s.bind(null,e.id)}))))},yi=a(1817),Ti=a.n(yi);const vi=Object(Vt.h)("SLN29133"),Ii=Object(m.defineMessages)({acceptLabel:{id:"account_forwarding_remove_btn",defaultMessage:"Remove"},verifyLabel:{id:"account_forwarding_verify_btn",defaultMessage:"Verify"},forwardingLabel:{id:"account_forwarding_text",defaultMessage:"Forwarding"},forwardingPlaceholder:{id:"forward_input_placeholder",defaultMessage:"Forwarding address"},forwardingLearnMore:{id:"forward_learn_more",defaultMessage:"Learn more"}});class Mi extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{showDialog:!1,isFocus:!1,showVerificationPendingStatus:!1}),r()(this,"onRemove",()=>{this.setState({showDialog:!0})}),r()(this,"onVerify",()=>{const e=this.props.stateForwardEmail,t=Object(O.isValidEmail)(e);this.setState(()=>t?{showVerificationPendingStatus:!0}:null,()=>this.props.onVerify())}),r()(this,"handleFocusBlur",()=>{this.setState(({isFocus:e})=>({isFocus:!e}))}),r()(this,"handleChange",e=>{(0,this.props.onChange)(e)}),r()(this,"renderDescription",e=>{const t=this.props,a=t.forwardEmail,n=t.forwardEmailVerified,s=t.showForwardReviewAlert,i=t.stateForwardEmail,r=this.state.showVerificationPendingStatus;let o=null;if(!1===t.isEmailValid)o=d.a.createElement(m.FormattedMessage,{id:"forward_email_error",defaultMessage:"Email is invalid"});else if(a&&n)o=d.a.createElement(m.FormattedMessage,s?{id:"email_forward_review",defaultMessage:"If you don't recognize the email address above, please remove or disable Forwarding immediately."}:{id:"email_forward_verified",defaultMessage:"Verified"});else if(a&&!n)o=d.a.createElement(m.FormattedMessage,{id:"email_forward_wait",defaultMessage:"This email address is waiting to be verified. Please follow the instructions sent to {email}.",values:{email:a||i}});else if(!a&&!r)return null;const l=d.a.createElement(R.b,{kind:w.Kinds.CAL_ACCEPT,size:w.Sizes.XS,colorState:w.ColorStates.SUCCESS}),c=d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.XS,colorState:w.ColorStates.WARNING_GRAD_RED});return d.a.createElement("div",{className:e.autoForwardDescription,"data-test-id":"auto-forwarding-description"},d.a.createElement("div",{className:e.verifyIcon},n&&s||!n?c:l),d.a.createElement("div",{className:e.verifyDescription},o))})}componentDidUpdate(){this.state.showVerificationPendingStatus&&this.props.forwardEmail&&this.setState({showVerificationPendingStatus:!1})}componentWillUnmount(){const e=this.props;e.showForwardReviewAlert&&(0,e.reviewEmail)({accountId:e.accountId,updatedProperties:{showForwardReviewAlert:!1}})}render(){const e=this.context,t=e.intl,a=t.formatMessage,n=t.locale,s=e.partner,i=this.props,r=i.forwardEmail,o=i.disableForwarding,l=i.forwardEmailVerified,c=i.stateForwardEmail,_=i.isEmailValid,u=this.state,p=u.showDialog,h=this.renderDescription,g=this.handleChange,E=this.onVerify,b=this.onRemove,f=this.handleFocusBlur,C=(0,e.getCss)(Ti.a,{isFocus:u.isFocus,forwardEmailVerified:l}),S=vi(n,s);return d.a.createElement("div",{"data-test-id":"auto-forwarding-section"},p?d.a.createElement(et.a,{title:d.a.createElement(m.FormattedMessage,{id:"account_forwarding_disable_modal",defaultMessage:"Removing {email} will permanently stop automatic email forwarding. Are you sure?",values:{email:d.a.createElement("strong",null," ",r," ")}}),acceptLabel:Ii.acceptLabel,message:"",wideContainer:!0,onAbort:()=>{this.setState({showDialog:!1})},onConfirm:()=>{this.setState({showDialog:!1},()=>o())}}):null,d.a.createElement("div",{className:C.displayFlex},d.a.createElement("label",{className:C.autoForwardingHeader,htmlFor:"emailForwarding"},a(Ii.forwardingLabel))),d.a.createElement("div",{className:C.disabledText},d.a.createElement(m.FormattedMessage,{id:"account_forwarding_description",defaultMessage:"Forward your mail to the specified address, so you can check it there."}),d.a.createElement("a",{className:C.learnMore,href:S,target:"_blank"},a(Ii.forwardingLearnMore))),d.a.createElement("div",{className:C.textInput},d.a.createElement("div",{className:C.inputBox},d.a.createElement(nt.a,{className:C.inputStyle,name:"stateForwardEmail","aria-label":a(Ii.forwardingPlaceholder),placeholder:a(Ii.forwardingPlaceholder),value:c,onChange:g,onFocus:f,onBlur:f,disabled:r&&l}),d.a.createElement("div",{className:C.removeButtonContainer},r&&l?d.a.createElement(Je.a,{"data-test-id":"accounts-delete-forwarding-btn",kind:$e.a.DANGER,paddingLess:!0,overridingClass:C.removeForwardingBtn,onClick:b},d.a.createElement("div",{className:C.removeText},a(Ii.acceptLabel))):d.a.createElement(Je.a,{"data-test-id":"accounts-verify-forwarding-btn",kind:$e.a.PRIMARY,paddingLess:!0,overridingClass:C.verifyForwardingBtn,disabled:!c||!1===_,onClick:E},d.a.createElement("div",{className:C.removeText},a(Ii.verifyLabel))))),h(C)))}}r()(Mi,"displayName","AutoForwardingSection"),r()(Mi,"contextTypes",{intl:m.intlShape.isRequired,getCss:l.a.func,partner:l.a.string});var Ai=Mi;function Ni(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ki(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ni(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ni(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Oi=Object(m.defineMessages)({brandName:{id:"yahoo_brand_name",defaultMessage:"Yahoo"},accountName:{id:"account_name_placeholder",defaultMessage:"Your Name"},accountDescription:{id:"account_description_placeholder",defaultMessage:"Description"},accountNameHint:{id:"account_name_hint",defaultMessage:"The name shown in emails you send."},accountDescriptionHint:{id:"account_description_hint",defaultMessage:"Name this mailbox."},sendOnlyDescriptionHint:{id:"account_sendonly_description_hint",defaultMessage:"Name this send-only email address"},confirmBtn:{id:"edit_confirm_btn_text",defaultMessage:"Remove mailbox"},confirmAliasBtn:{id:"edit_remove_alias_btn_text",defaultMessage:"Remove alias"},confirmSendOnlyBtn:{id:"edit_remove_sendonly_btn_text",defaultMessage:"Remove send-only email address"},saveBtnTitle:{id:"account_save_btn_title",defaultMessage:"Save"},saveBtnDisabled:{id:"account_save_btn_disabled_title",defaultMessage:"Please select at lease one mailbox to link to your send-only email address"},cancelBtnTitle:{id:"account_cancel_btn_title",defaultMessage:"Cancel"},sendOnlyType:{id:"edit_send_only",defaultMessage:"(send-only)"},aliasType:{id:"edit_alias_account",defaultMessage:"(alias)"},aliasAddSuccess:{id:"alias_account_add_success",defaultMessage:"Congratulations. Your email alias has been added"},aliasAddedMessage:{id:"alias_account_add_msg",defaultMessage:"Now you can use {email} to send and receive messages from this mailbox."}}),Di=u()(bi.a);function Pi(e,t){let a="";if(e){const e=M.xb.YAHOO;return e.charAt(0).toUpperCase()+e.slice(1)}return t&&(a=t.split("@")[0]),a}class Ri extends d.a.Component{constructor(e,t){super(e,t),r()(this,"_handleOAuthResponse",({status:e,wssid:t})=>{const a=this.props,n=a.handleReauth,s=a.account,i=s.id,r=s.email,o=Object(Ps.d)(this.state.account);window[M.Tc]=void 0,n(200===(e=parseInt(e,10))?{wssid:t,accountId:i,email:r,provider:o}:{error:{status:e},email:r,provider:o})}),r()(this,"_openOAuthWindow",()=>{const e=this.context.partner,t=this.props,a=t.appRootPath,n=t.account.email,s=Object(Ps.d)(this.state.account),i=s===M.xb.GOOGLE?600:700,r=`https://${window.location.hostname}${a}/oAuth`,o="ycorp"===e;return window[M.Tc]=this._handleOAuthResponse,window.oAuthWindow?(this.oAuthWindow=window.oAuthWindow,delete window.oAuthWindow):this.oAuthWindow=this._getPopupwindow("","authorizeWindow",800,i),this.context.credstoreClient.getAuthorizationURL({provider:s,email:n,redirectUri:r,isCorpUser:o}).then(({authorizationURL:e})=>{this.oAuthWindow.location.replace(`${e}&${s===M.xb.AOL?"login_id":"login_hint"}=${n}`)})}),r()(this,"_getPopupwindow",(e,t,a,n)=>{const s=screen.width/2-a/2,i=screen.height/2-n/2;return window.open(e,t,`width=${a}, height=${n}, top=${i}, left=${s}`)}),r()(this,"handleChange",(e,t)=>{const a=this.state.account;Object.assign(a,{[e]:t}),this.setState({account:a})}),r()(this,"handleForwardEmailChange",e=>{this.setState(({isForwardEmailValid:t})=>{const a={};return!1===t&&(a.isForwardEmailValid=null),ki({},a,{forwardEmail:e})})}),r()(this,"handleSave",()=>{const e=this.state,t=e.account,a=t.id,n=t.type,s=t.unsetFields,i=void 0===s?[]:s,r=e.forwardEmail,o=e.enableAccounts,l=this.props.account.forwardEmailVerified,c={sendingName:t.sendingName,description:t.description,replyToAddress:t.replyToAddress,signatureActive:t.signatureActive,signature:t.signature};i.length&&(c.unsetFields=i),n===M.n.SENDAS&&(c.linkedAccounts=Object.keys(o));const d=Object(O.isValidEmail)(r),m={};if(r&&!l){if(!d)return void this.setState({isForwardEmailValid:d},()=>this.props.onSave(a,c,m));c.forwardEmail=r,c.forwardSetting=M.hb,m.mKey=A.g.SETTINGS_ENABLE_FORWARDING,m.sec=A.i.SETTINGS_ACCOUNTS_TAB}else!r&&this.props.account.forwardEmail&&(c.unsetFields=[...i,"forwardEmail","forwardSetting"],m.mKey=A.g.SETTINGS_DISABLE_FORWARDING,m.sec=A.i.SETTINGS_ACCOUNTS_TAB);this.props.onSave(a,c,m),this.props.onCancel()}),r()(this,"handleVerify",()=>{const e=this.state,t=e.forwardEmail,a=e.account.id,n=this.props.onSave,s=Object(O.isValidEmail)(t);this.setState({isForwardEmailValid:s},()=>{if(s){n(a,{forwardEmail:t,forwardSetting:M.hb})}})}),r()(this,"handleDelete",()=>{const e=this.props,t=e.account.id,a=e.onDelete;this.toggleConfirmDialog(!1),a(t)}),r()(this,"handleCancel",()=>{this.props.onCancel()}),r()(this,"handleReauthorize",e=>{e.preventDefault(),this._openOAuthWindow()}),r()(this,"handleLinkedAccountToggle",e=>{const t=this.state.enableAccounts;void 0===t[e]?t[e]=!0:delete t[e],this.setState({enableAccounts:t})}),r()(this,"removeMailbox",()=>{this.props.confirmAccountDeleted(),this.toggleConfirmDialog(!0)}),r()(this,"disableForwarding",()=>{const e=this.state.account,t={unsetFields:["forwardEmail","forwardSetting"]},a={mKey:A.g.SETTINGS_DISABLE_FORWARDING,sec:A.i.SETTINGS_ACCOUNTS_TAB};this.setState({forwardEmail:""},()=>this.props.onSave(e.id,t,a))}),r()(this,"toggleConfirmDialog",e=>{this.setState({showConfirm:e})}),r()(this,"showSignature",e=>e!==M.n.ALIAS&&e!==M.n.SENDAS),r()(this,"showLinkedAccountsList",e=>this.props.enableLinkAccounts&&e===M.n.SENDAS),r()(this,"hideReauth",e=>e===M.n.ALIAS||e===M.n.SENDAS),r()(this,"getAccountType",e=>{const t=this.context.intl.formatMessage;switch(e){case M.n.SENDAS:return t(Oi.sendOnlyType);case M.n.ALIAS:return t(Oi.aliasType);default:return null}}),r()(this,"getDeleteBtnString",e=>{const t=this.context.intl.formatMessage;switch(e){case M.n.SENDAS:return t(Oi.confirmSendOnlyBtn);case M.n.ALIAS:return t(Oi.confirmAliasBtn);default:return t(Oi.confirmBtn)}}),r()(this,"getErrorMessage",()=>{const e=this.state.account;return e.accountVerified||e.type!==M.n.SENDAS?null:d.a.createElement("div",{className:Di.errorWrapper},d.a.createElement("div",{className:Di.errorIcon},d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.XS,colorState:w.ColorStates.WARNING_GRAD_RED})),this.getErrorMessageBody())}),r()(this,"handleResendClick",e=>{e.preventDefault(),this.props.onResend(this.props.account)}),r()(this,"getErrorMessageBody",()=>{const e=this.state.account,t=this.props.sendingEmailConfirmStatus;return e.accountVerified?null:d.a.createElement("div",null,d.a.createElement(m.FormattedMessage,{id:"edit_account_verified_body",defaultMessage:"Check {email} for a verification email from Yahoo and follow\n                            the steps. If you do not receive the email, try resending it.",values:{email:d.a.createElement("b",null,e.email)}}),d.a.createElement("div",{className:Di.link,onClick:this.handleResendClick,href:"#"},t?d.a.createElement("span",{className:Di.sendingText},d.a.createElement(m.FormattedMessage,{id:"edit_sending_verification",defaultMessage:"Sending..."})):d.a.createElement(m.FormattedMessage,{id:"edit_resend_verification",defaultMessage:"Resend email"})))}),r()(this,"getReauthorizeMailboxLink",(e,t)=>d.a.createElement("div",null,d.a.createElement("a",{href:"#",className:e.reauthorizeText,onClick:this.handleReauthorize,"data-test-id":"reauthorize-link"},d.a.createElement(m.FormattedMessage,{id:"account_reauthorize_text",defaultMessage:"Sign in to {provider}",values:{provider:t}})))),r()(this,"getReauthorizeMailboxAlertMessage",()=>{const e=this.state.account,t=e.id,a=e.isPrimary,n=e.status,s=e.type,i=this.props.expiredAccounts,r=Object(Ps.d)(this.state.account),o=Object(Ps.f)(r);return a||n===M.m.DELETE_IN_PROGRESS||this.hideReauth(s)?null:i.indexOf(t)>-1?d.a.createElement("div",{className:Di.errorWrapper},d.a.createElement("div",{className:Di.errorIcon},d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.XS,colorState:w.ColorStates.WARNING_GRAD_RED})),d.a.createElement(m.FormattedMessage,{id:"account_reauthorize_alert_message",defaultMessage:"This mailbox is not syncing with {provider} and needs permission to resume. This can happen because a security setting or password was changed.",values:{provider:o}}),d.a.createElement("div",null,this.getReauthorizeMailboxLink(Di,o))):null}),r()(this,"getReauthorizeMailboxMessage",()=>{const e=this.state.account,t=e.id,a=e.isPrimary,n=e.status,s=e.type,i=this.props,r=i.expiredAccounts,o=i.isBasicAuth,l=Object(Ps.d)(this.state.account),c=Object(Ps.f)(l);return a||n===M.m.DELETE_IN_PROGRESS||this.hideReauth(s)||r.indexOf(t)>-1?null:d.a.createElement("div",{className:Di.reauthorizeWrapper,ref:e=>this._reAuthMessage=e},d.a.createElement("label",{className:Di.label,htmlFor:"reauthorize"},d.a.createElement(m.FormattedMessage,{id:"account_reauthorize_header_text",defaultMessage:"Reauthorize mailbox"})),o?d.a.createElement("div",{className:Di.reauthMessageWrapper},d.a.createElement("div",{className:Di.errorIcon},d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.XS,colorState:w.ColorStates.WARNING_GRAD_RED})),d.a.createElement(m.FormattedMessage,{id:"account_reauthorize_basic_auth_text",defaultMessage:"To reauthorize this mailbox, please sign in to the Yahoo Mail app on the mobile device where the mailbox was originally added."})):this.getReauthorizeMailboxLink(Di,c))}),r()(this,"renderEditAccountHeader",()=>{const e=this.state.account,t=e.email,a=this.props.newAccount,n=this.getAccountType(e.type),s=this.context.intl.formatMessage;return a&&a.type===M.n.ALIAS?d.a.createElement("div",{className:Di.newAccountWrapper},d.a.createElement("div",{className:Di.newAccountTitle},d.a.createElement("span",{className:Di.newAccountIconWrapper},d.a.createElement(R.b,{kind:w.Kinds.CAL_ACCEPT,size:w.Sizes.XS,colorState:w.ColorStates.SUCCESS})),d.a.createElement("span",{className:Di.newAccountSuccess},s(Oi.aliasAddSuccess))),d.a.createElement("div",{className:Di.newAccountText},s(Oi.aliasAddedMessage,{email:t}))):d.a.createElement("div",{className:Di.previewFilterTitle},d.a.createElement(m.FormattedMessage,{id:"edit_account_text",defaultMessage:"Edit {email}",values:{email:d.a.createElement("b",null,t)}}),n?d.a.createElement("span",{className:Di.accountType},n):null)}),r()(this,"getButtons",()=>{const e=this.state.account.status,t=this.props.newAccount,a=this.context.intl.formatMessage,n=[],s=this.disableSave()?Di.disabledButton:Di.saveButton;return t&&t.type===M.n.ALIAS?(n.push(d.a.createElement(Je.a,{"data-test-id":"edit-finish-btn",key:"edit-finish-btn",onClick:this.handleSave,className:s,title:a(Oi.saveBtnTitle)},d.a.createElement(m.FormattedMessage,{id:"account_finish_btn_title",defaultMessage:"Finish"}))),n):(e!==M.m.DELETE_IN_PROGRESS&&n.push(d.a.createElement(Je.a,{"data-test-id":"edit-save-btn",key:"edit-save-btn",onClick:this.handleSave,className:s,disabled:this.disableSave(),title:this.disableSave()?a(Oi.saveBtnDisabled):a(Oi.saveBtnTitle)},d.a.createElement(m.FormattedMessage,{id:"account_edit_save",defaultMessage:"Save"}))),n.push(d.a.createElement(Je.a,{"data-test-id":"edit-cancel-btn",key:"edit-cancel-btn",onClick:this.props.onCancel,className:Di.cancelButton,title:a(Oi.cancelBtnTitle)},d.a.createElement(m.FormattedMessage,{id:"cancel_btn_text",defaultMessage:"Cancel"}))),n)}),r()(this,"hideAccountRemoveButton",()=>{const e=this.props,t=this.state.account,a=t.type;return!!(t.isPrimary||t.status===M.m.DELETE_IN_PROGRESS||e.newAccount&&a===M.n.ALIAS||!e.canRemoveImapInAccount&&Object(Ps.h)({type:a}))}),r()(this,"disableSave",()=>{const e=this.state;return e.account.type===M.n.SENDAS&&0===Object.keys(e.enableAccounts).length});const a=e.account,n={},s=a.linkedAccounts||[];e.accounts.forEach(e=>{s.indexOf(e.id)>-1&&(n[e.id]=!0)}),this.state={showConfirm:!1,isForwardEmailValid:null,account:Object.assign({},a,{description:a.description||Pi(a.isPrimary,a.email)}),enableAccounts:n,forwardEmail:a.forwardEmail||""}}componentDidMount(){const e=this.props;e.openReauth&&(e.isBasicAuth||this._openOAuthWindow(),setTimeout(()=>{const e=Object(gi.findDOMNode)(this._reAuthMessage);return e&&e.scrollIntoView()},0))}componentWillUnmount(){window[M.Tc]=void 0}static getDerivedStateFromProps({account:e},{forwardEmail:t}){return t!==e.forwardEmail?{forwardEmail:t}:null}render(){const e=this.state,t=e.account,a=t.email,n=t.sendingName,s=t.description,i=t.replyToAddress,r=t.type,o=e.showConfirm,l=e.enableAccounts,c=e.forwardEmail,_=this.context,u=_.intl.formatMessage,p=_.mailBrandNameString,h=this.props,g=h.account,E=g.id,b=g.showForwardReviewAlert,f=g.forwardEmailVerified,C=h.composeFontSize,S=h.composeFontFamily,y=h.rtl,T=h.accounts,v=h.reviewEmail,I=h.isAutoForwardEnabled,A=h.replyToAddressEnabled,N=[...h.replyToAddresses],k=this.getDeleteBtnString(r);!i||N.find(({email:e})=>e===i)||N.push({email:i});const O=d.a.createElement("div",{className:Di.customTitle},d.a.createElement(m.FormattedMessage,{id:"confirm.delete_account",defaultMessage:"Are you sure you want to remove {email}?",values:{email:d.a.createElement("strong",null,a)}})),D=this.getErrorMessage();return d.a.createElement("div",{className:Di.filterWrapper,"data-test-id":"accounts-editor"},d.a.createElement("div",{className:Di.filterPreviewSection},d.a.createElement("header",{className:Di.previewTitleWrapper},this.renderEditAccountHeader(),d.a.createElement("span",{className:Di.blurredArea})),D||null,this.getReauthorizeMailboxAlertMessage(),d.a.createElement("label",{className:Di.label,htmlFor:"accountName"},d.a.createElement(m.FormattedMessage,{id:"account_name_text",defaultMessage:"Your name"})),d.a.createElement("div",{className:Di.textInput},d.a.createElement(nt.a,{isClearable:!0,name:"accountName",value:n,hint:u(Oi.accountNameHint),"aria-label":u(Oi.accountName),placeholder:u(Oi.accountName),onChange:e=>this.handleChange("sendingName",e)})),d.a.createElement("label",{className:Di.label,htmlFor:"description"},d.a.createElement(m.FormattedMessage,{id:"account_description_text",defaultMessage:"Description"})),d.a.createElement("div",{className:Di.textInput},d.a.createElement(nt.a,{isClearable:!0,name:"description",value:s,hint:u(r===M.n.SENDAS?Oi.sendOnlyDescriptionHint:Oi.accountDescriptionHint),"aria-label":u(Oi.accountDescription),placeholder:u(Oi.accountDescription),onChange:e=>this.handleChange("description",e)})),A?d.a.createElement("div",null,d.a.createElement("label",{className:Di.label,htmlFor:"replyToAddress"},d.a.createElement(m.FormattedMessage,{id:"reply_to_address_text",defaultMessage:"Reply-to address"})),d.a.createElement("div",{className:Di.textInput},d.a.createElement($t.a,{selected:i||a,onChange:e=>this.handleChange("replyToAddress",e)},N.map(({email:e})=>d.a.createElement(Jt.a,{key:e,value:e},e))),d.a.createElement("div",{className:Di.hint},d.a.createElement(m.FormattedMessage,{id:"reply_to_address_hint",defaultMessage:"Receive replies to your sent emails at a different address."})))):null,this.showSignature(r)?d.a.createElement("div",{className:Di.signatureContainer},d.a.createElement(qs,{key:this.state.account.email,account:this.state.account,onChange:(e,t)=>this.handleChange("signature",t),onStatusChange:({signatureActive:e})=>this.handleChange("signatureActive",e),composeFontFamily:S,composeFontSize:C,showDefaultTitle:!0,showEditorAlways:!0,rtl:y})):null,I?d.a.createElement(Ai,{accountId:E,reviewEmail:v,showForwardReviewAlert:b,onVerify:this.handleVerify,forwardEmailVerified:f,forwardEmail:this.props.account.forwardEmail,stateForwardEmail:c,isEmailValid:this.state.isForwardEmailValid,disableForwarding:this.disableForwarding,onChange:this.handleForwardEmailChange}):null,this.showLinkedAccountsList(r)?d.a.createElement("div",null,d.a.createElement("div",{className:Di.linkedLabelWrapper},d.a.createElement("label",{className:Di.label,htmlFor:"linkedMailboxes"},d.a.createElement(m.FormattedMessage,{id:"linked_mailboxes_text",defaultMessage:"Linked mailboxes"}))),d.a.createElement(Si,{accounts:T.filter(e=>Object(Ps.h)(e)||e.isPrimary),enableAccounts:l,onToggle:this.handleLinkedAccountToggle})):null,this.getReauthorizeMailboxMessage(),this.hideAccountRemoveButton()?null:d.a.createElement("div",{className:Di.deleteBtn},d.a.createElement(Je.a,{"data-test-id":"accounts-delete-btn",kind:$e.a.DANGER,onClick:this.removeMailbox},k),r===M.n.SENDAS?null:d.a.createElement("div",{className:Di.hint},d.a.createElement(m.FormattedMessage,r===M.n.ALIAS?{id:"delete_alias_account_hint",defaultMessage:"If you remove an alias, you will no longer be able to use it to mask your Yahoo ID."}:{id:"delete_account_hint",defaultMessage:"Disconnecting a mailbox will permanently remove all messages and data from {mailBrandNameString} and cannot be undone.",values:{mailBrandNameString:p}}))),d.a.createElement("div",{className:Di.iconWrapper},this.getButtons())),o?d.a.createElement(et.a,{onConfirm:this.handleDelete,cancelLabel:Oi.cancelBtn,acceptLabel:r===M.n.ALIAS?Oi.confirmAliasBtn:Oi.confirmBtn,onAbort:this.toggleConfirmDialog.bind(this,!1),customTitle:O,showCustomTitle:!0},d.a.createElement(m.FormattedMessage,{id:"confirm.delete_account_message",defaultMessage:"From within {mailBrandNameString}:",values:{mailBrandNameString:p}}),d.a.createElement("ul",{className:Di.listWrapper},d.a.createElement("li",null,d.a.createElement(m.FormattedMessage,{id:"confirm.delete_account_point1",defaultMessage:"You won't be able to send or receive\n                                          messages with this mailbox."})),d.a.createElement("li",null,d.a.createElement(m.FormattedMessage,{id:"confirm.delete_account_point2",defaultMessage:"All information associated with this mailbox will be permanently deleted."})))):null)}}r()(Ri,"contextTypes",{intl:m.intlShape.isRequired,config:l.a.object,credstoreClient:T.CredstoreClientType,partner:l.a.string,mailBrandNameString:l.a.string});var wi=Object(D.connect)((e,{account:t})=>{const a=Object(W.selectors)(e),n=a.isFeatureEnabled,s=a.getAccountSelectors,i=n(M.Eb.AUTO_FORWARD_EMAIL),r=s().isPrimaryAccountDisabled(),o=t.isPrimary;return{isAutoForwardEnabled:i&&!Object(Ps.h)(t)&&o&&!r,replyToAddressEnabled:n(M.Eb.REPLY_TO_ADDRESS),isBasicAuth:s().isBasicAuthAccountId(t.id)}},e=>({confirmAccountDeleted:t=>e(Object(C.e)(ki({i13nModel:{mKey:A.g.CONFIRM_DELETE_ACCOUNT,sec:A.i.SETTINGS_ACCOUNTS_TAB,interactionType:A.e.click}},t))),reviewEmail:t=>e(b.j(t))}))(Ri),Fi=a(1818),xi=a.n(Fi),Li=a(1819),Bi=a.n(Li),ji=a(591);const Ui=Object(m.defineMessages)({sendOnly:{id:"account_item_sendas",defaultMessage:"(send-only)"},alias:{id:"account_item_alias",defaultMessage:"(alias)"}});class Hi extends d.a.Component{constructor(...e){super(...e),r()(this,"getAccountStatus",e=>{const t=this.props,a=t.account,n=a.id,s=a.status,i=a.createTime,r=a.type,o=a.forwardEmail,l=a.forwardEmailVerified;return a.accountVerified?t.expiredAccounts.find(e=>e.id===n)?d.a.createElement("div",{className:e.statusWrapper},d.a.createElement("div",{className:e.statusIcon},d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.XS,colorState:w.ColorStates.WARNING_GRAD_RED})),d.a.createElement("span",{className:e.messageWrapper},d.a.createElement(m.FormattedMessage,{id:"account_item_syncing_error",defaultMessage:"Not syncing"}))):s===M.m.DELETE_IN_PROGRESS?d.a.createElement(m.FormattedMessage,{id:"account_status_disconnecting",defaultMessage:"Disconnecting"}):Object(Ps.a)({status:s,type:r,createTime:i,syncTime:this.props.syncTime})?d.a.createElement("div",{className:e.statusWrapper},d.a.createElement("div",{className:e.syncingStatusIcon},d.a.createElement(ji.a,null)),d.a.createElement("span",{className:e.messageWrapper},d.a.createElement(m.FormattedMessage,{id:"account_status_syncing",defaultMessage:"Syncing"}))):o&&!l?d.a.createElement("div",{className:e.accountNameWrapper},d.a.createElement("div",{className:e.statusIcon},d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.XS,colorState:w.ColorStates.WARNING_GRAD_RED}))):null:d.a.createElement("div",{className:e.statusWrapper},d.a.createElement("div",{className:e.statusIcon},d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.XS,colorState:w.ColorStates.WARNING_GRAD_RED})),d.a.createElement("span",{className:e.messageWrapper},d.a.createElement(m.FormattedMessage,{id:"account_item_verify_error",defaultMessage:"Not verified"})))}),r()(this,"handleSelect",()=>{const e=this.props;e.account.status!==M.m.DELETE_IN_PROGRESS&&(0,e.onSelect)()}),r()(this,"getAccountTypeText",e=>{switch(e){case M.n.ALIAS:return d.a.createElement(m.FormattedMessage,{id:"account_item_alias",defaultMessage:"(alias)"});case M.n.SENDAS:return d.a.createElement(m.FormattedMessage,{id:"account_item_sendas",defaultMessage:"(send-only)"});default:return null}})}render(){const e=this.props,t=e.account,a=e.selected,n=this.context.intl.formatMessage,s=t.email,i=t.status,r=t.description,o=t.type,l=u()(Bi.a,{selected:a,deleteInProgress:i===M.m.DELETE_IN_PROGRESS}),c=Object(Ps.d)(t),m=this.getAccountTypeText(o);let _;switch(o){case M.n.ALIAS:_=n(Ui.alias);break;case M.n.SENDAS:_=n(Ui.sendOnly);break;default:_=""}return i===M.m.DELETE_IN_PROGRESS&&o===M.n.SENDAS?null:d.a.createElement("li",{className:l.listItem,onClick:this.handleSelect,"data-test-id":"accounts-list-item"},d.a.createElement(Qs.a,{accountType:c}),d.a.createElement("div",{className:l.accountInfo},d.a.createElement("div",{className:l.accountNameWrapper},d.a.createElement("p",{className:l.accountName,title:s+" "+_},d.a.createElement("span",null,s),m?d.a.createElement("span",{className:l.typeTextWrapper},m):null)),d.a.createElement("p",{className:l.accountDescription},r)),d.a.createElement("div",{className:l.accountStatus,"data-test-id":"accounts-item-status"},this.getAccountStatus(l)))}}r()(Hi,"contextTypes",{config:l.a.object,intl:m.intlShape.isRequired});var Wi=Hi,Gi=a(15),Zi=a(2),Vi=a(61),qi=a(64),zi=a(42),Yi=a(1820),Ki=a.n(Yi),Xi=a(319);const Qi=Object(m.defineMessages)({rewards_tasks_completed_title:{id:"rewards_tasks_completed_title",defaultMessage:"You earned {points} YPoints"},rewards_imapin_tasks_completed_description:{id:"rewards_imapin_tasks_completed_description",defaultMessage:"Now you have earned some Ypoints. Go and check what rewards you can get!"},rewards_add_imapin_dialog_title:{id:"rewards_add_imapin_dialog_title",defaultMessage:"Add mailbox and earn YPoints"},rewards_add_imapin_dialog_description:{id:"rewards_add_imapin_dialog_description",defaultMessage:"Add mailbox and earn {points} YPoints"},rewards_cta_check_rewards:{id:"rewards_cta_check_rewards",defaultMessage:"Check Rewards"},rewards_cta_maybe_later:{id:"rewards_cta_maybe_later",defaultMessage:"Maybe Later"}}),Ji=({onClose:e,cueName:t,goToInbox:a,challengeCompleted:n,imapInChallengePoints:s,membershipRewardsIconToggled:i},{getCss:r,region:o,intl:{formatMessage:l}})=>{const c=r(Ki.a,{showAddMailPopup:!n}),m=(e,t)=>({i13nModel:{mKey:e,interactionType:Object(O.getInteractionFromEvent)(t),actionData:{challengeType:"IMAPIN"}}});return d.a.createElement("div",{className:c.subwrapper,"data-test-id":"imapin_notification"},d.a.createElement("div",{className:c.imgContainer},d.a.createElement("img",{className:c.cueImg,src:Object(Se.a)((()=>"hk"===o?n?"/img/tmr_hk_task_completed.svg":"/img/tmr_hk_task_notify.svg":n?"/img/tmr_tw_task_completed_regular.svg":"/img/tmr_tw_task_notify.svg")())})),d.a.createElement("div",{className:c.content},d.a.createElement("div",{className:c.title},n?l(Qi.rewards_tasks_completed_title,{points:s}):l(Qi.rewards_add_imapin_dialog_title)),d.a.createElement("div",{className:c.description},n?l(Qi.rewards_imapin_tasks_completed_description):l(Qi.rewards_add_imapin_dialog_description,{points:s})),n?d.a.createElement("div",null,d.a.createElement(Je.a,{overridingClass:c.primary,onClick:n=>{e(m("cue_"+t+"_success",n)),a(),i({name:M.pd.MEMBERSHIP_REWARDS,tab:M.qe.REWARDS})},kind:$e.a.PRIMARY,"data-test-id":"cta-check-rewards",marginLess:!0},l(Qi.rewards_cta_check_rewards)),d.a.createElement(Je.a,{overridingClass:c.secondary,onClick:a=>{e(m("cue_"+t+"_close",a))},kind:$e.a.SECONDARY_BORDERLESS,"data-test-id":"cta-maybe-later"},l(Qi.rewards_cta_maybe_later))):null))};Ji.contextTypes={getCss:l.a.func,intl:m.intlShape.isRequired,region:l.a.string};var $i=Object(Xi.a)(Ji),er=a(480);const tr={[M.l.IMAPIN]:50,[M.l.ALIAS]:1,[M.l.SENDAS]:10,[M.l.DEA]:500},ar=Object(m.defineMessages)({imapinAccountHeader:{id:"section_imapin_header",defaultMessage:"Mailbox list"},aliasAccountHeader:{id:"section_alias_header",defaultMessage:"Email alias"},sendasAccountHeader:{id:"section_sendas_header",defaultMessage:"Send-only email address"},disposableAccountHeader:{id:"section_disposable_header",defaultMessage:"Disposable email address"},addMailBoxButton:{id:"section_addaccount_button",defaultMessage:"Add mailbox"},addButton:{id:"section_add_button",defaultMessage:"Add"},showless:{id:"section_showless_button",defaultMessage:"Show less"},showmore:{id:"section_showmore_button",defaultMessage:"Show all {number} accounts"},openAliasSectionButtonLabel:{id:"section_alias_open_button_label",defaultMessage:"Open email alias"},closeAliasSectionButtonLabel:{id:"section_alias_close_button_label",defaultMessage:"Close email alias"},openSendAsSectionButtonLabel:{id:"section_sendas_open_button_label",defaultMessage:"Open send-only email address"},closeSendAsSectionButtonLabel:{id:"section_sendas_close_button_label",defaultMessage:"Close send-only email address"},openDEASectionButtonLabel:{id:"section_dea_open_button_label",defaultMessage:"Open disposable email address"},closeDEASectionButtonLabel:{id:"section_dea_close_button_label",defaultMessage:"Close disposable email address"},baseNameLabel:{id:"section_basename_label",defaultMessage:"Base name"},deaFormatText:{id:"section_dea_format_text",defaultMessage:"{baseName}-[keyword]@{domain}"},imapinSectionHint:{id:"section_imapin_hint",defaultMessage:"Add an account to access all your emails in one place"},aliasSectionHint:{id:"section_alias_hint",defaultMessage:"Send and receive emails from a different Yahoo email address"},sendasSectionHint:{id:"section_sendas_hint",defaultMessage:"Send emails from a different email address"},deaSectionHint:{id:"section_dea_hint",defaultMessage:"Create an email address to sign up for third-party newsletters. Delete account to stop receiving."},accountUsageHint:{id:"section_account_usage_hint",defaultMessage:"{accounts} of {maxNumberOfAccounts} used"},accountNums:{id:"section_account_addresses_number",defaultMessage:"{number, plural, one {# address} other {# addresses}}"},imapAccountNums:{id:"section_imapin_address_number",defaultMessage:"{number, plural, one {# mailbox} other {# mailboxes}}"},imapinAccountPlural:{id:"section_account_imapin_plural",defaultMessage:"mailboxes"},aliasAccountPlural:{id:"section_account_alias_plural",defaultMessage:"alias"},sendasAccountPlural:{id:"section_account_sendas_plural",defaultMessage:"send-only addresses"},deaAccountPlural:{id:"section_account_dea_plural",defaultMessage:"disposable addresses"}}),nr={[M.l.IMAPIN]:ar.imapinAccountHeader,[M.l.ALIAS]:ar.aliasAccountHeader,[M.l.SENDAS]:ar.sendasAccountHeader,[M.l.DEA]:ar.disposableAccountHeader},sr={[M.l.IMAPIN]:ar.imapinSectionHint,[M.l.ALIAS]:ar.aliasSectionHint,[M.l.SENDAS]:ar.sendasSectionHint,[M.l.DEA]:ar.deaSectionHint},ir={[M.l.IMAPIN]:ar.imapinAccountPlural,[M.l.ALIAS]:ar.aliasAccountPlural,[M.l.SENDAS]:ar.sendasAccountPlural,[M.l.DEA]:ar.deaAccountPlural},rr={[M.l.SENDAS]:ar.openSendAsSectionButtonLabel,[M.l.ALIAS]:ar.openAliasSectionButtonLabel,[M.l.DEA]:ar.openDEASectionButtonLabel},or={[M.l.SENDAS]:ar.closeSendAsSectionButtonLabel,[M.l.ALIAS]:ar.closeAliasSectionButtonLabel,[M.l.DEA]:ar.closeDEASectionButtonLabel};class lr extends d.a.Component{constructor(e){super(e),r()(this,"shouldRenderBaseName",()=>{const e=this.props;return!(e.sectionType!==M.l.DEA||!e.baseName)}),r()(this,"getAccountItem",e=>{const t=this.props,a=t.sectionType,n=t.selectedAccountId,s=t.expiredAccounts,i=t.handleAccountSelected,r=t.syncTime,o=u()(xi.a,{deaListItemSelected:n===e.id});return a===M.l.DEA?d.a.createElement("li",{key:e.email,className:o.deaListItem,onClick:()=>i(e.id)},d.a.createElement("div",{className:o.deaAccountInfo},d.a.createElement("div",{className:o.deaAccountName},e.email),d.a.createElement("p",{className:o.deaAccountDescription},e.description))):d.a.createElement(Wi,{account:e,key:e.email,selected:n===e.id,onSelect:()=>i(e.id),expiredAccounts:s,syncTime:r})}),r()(this,"renderAccountList",e=>{const t=this.context.intl.formatMessage,a=this.props,n=a.baseName,s=a.domain,i=a.sectionType,r=this.state;let o=a.accounts;return r.showAccounts?(!r.expandAccounts&&o.length>3&&(o=o.slice(0,3)),d.a.createElement("ul",{className:e.listWrapper,"data-test-id":i+"_list"},this.shouldRenderBaseName()?d.a.createElement("div",{"data-test-id":"base-name",className:e.baseNameWrapper},d.a.createElement("div",{className:e.baseName},d.a.createElement("span",{className:e.baseNameText},t(ar.baseNameLabel)),d.a.createElement("span",{className:e.domain},n)),d.a.createElement("span",{className:e.deaHint},t(ar.deaFormatText,{baseName:n,domain:s}))):null,o.map(e=>this.getAccountItem(e)))):null}),r()(this,"getButtonClassName",e=>this.props.sectionType===M.l.IMAPIN?e.primaryButton:e.secondaryButton),r()(this,"handleAccountListCollapse",e=>{e.stopPropagation(),e.preventDefault();this.setState({expandAccounts:!this.state.expandAccounts})}),r()(this,"getButtonText",()=>{const e=this.context.intl.formatMessage;return e(this.props.sectionType===M.l.IMAPIN?ar.addMailBoxButton:ar.addButton)}),r()(this,"handleButtonClick",()=>{this.props.openAddAccountWizard(),this.props.handleButtonClick()}),r()(this,"goToInbox",()=>{this.props.goToInbox({inboxFolderId:this.props.inboxFolderId})}),r()(this,"computeActionData",()=>({challengeType:M.pe.IMAPIN})),r()(this,"renderButtons",e=>{const t=this.props,a=t.accounts,n=t.sectionType,s=t.buttonDisabled,i=t.canAddImapInAccount,r=t.addAliasAccount,o=t.imapInChallengePoints,l=t.showImapinCompletedNotification,c=t.membershipRewardsIconToggled,m=this.state,_=m.expandAccounts,u=this.context.intl.formatMessage,p=a.length>=tr[n];let h;return m.showAccounts?(h=t.showAddMailPopup||l?d.a.createElement(qi.a,{key:""+(l?"IMAPIN-COMPLETED":"ADD-IMAPIN")},d.a.createElement(Vi.a,{onClick:this.handleButtonClick},d.a.createElement(Je.a,{"data-test-id":n+"_section_button",className:this.getButtonClassName(e),disabled:s||p},this.getButtonText())),d.a.createElement(zi.a,{triggerOn:Gi.i.MOUNT,permittedArrowDirections:[Gi.h.UP],zAltitude:kt.Pb.POPOVER.HIGH,align:Gi.a.CENTER,persistent:l},l?d.a.createElement($i,{cueName:M.Eb.TMR_ICON_NOTIFICATION,challengeCompleted:!0,imapInChallengePoints:o,membershipRewardsIconToggled:c,goToInbox:this.goToInbox,computeActionData:this.computeActionData}):d.a.createElement(Ji,{challengeCompleted:!1,imapInChallengePoints:o}))):d.a.createElement(Je.a,{"data-test-id":n+"_section_button",className:this.getButtonClassName(e),onClick:this.handleButtonClick,disabled:s||p},this.getButtonText()),d.a.createElement("div",{className:e.buttonsWrapper},!i&&n===M.l.IMAPIN||!r&&n===M.l.ALIAS?null:h,a.length>3?d.a.createElement("a",{"data-test-id":n+"_account_list_collapse_button",className:e.textButton,onClick:this.handleAccountListCollapse},_?u(ar.showless):u(ar.showmore,{number:a.length})):null)):null}),r()(this,"toggleAccountSection",e=>{e.preventDefault(),e.stopPropagation();this.setState({showAccounts:!this.state.showAccounts})}),r()(this,"getRemoveNumber",()=>{const e=this.props,t=e.sectionType,a=e.accounts,n=this.context.intl.formatMessage;return n(t===M.l.IMAPIN?ar.imapAccountNums:ar.accountNums,{number:a.length-tr[t]+1})});const t=e.expandAccounts,a=e.selectedAccountId,n="-1"===a?-1:e.accounts.findIndex(e=>e.id===a);this.state={showAccounts:!0,expandAccounts:t||n>=3}}render(){const e=this.props,t=e.accounts,a=e.sectionType,n=e.buttonDisabled,s=e.addAliasAccount,i=this.context.intl.formatMessage,r=this.state.showAccounts,o=i(nr[a]),l=!s&&a===M.l.ALIAS,c=t.length>tr[a]&&!l,_=u()(xi.a,{buttonDisabled:n||t.length>=tr[a],exceedMaxAccounts:c}),p=t.length>0?""+t.length:"0",h=a===M.l.ALIAS&&t.length===tr[a]||t.length>tr[a]&&l;return d.a.createElement("div",{className:_.sectionContainer},d.a.createElement("div",{className:_.sectionInfoHeader},d.a.createElement("div",{className:_.headerText},o),a!==M.l.IMAPIN?d.a.createElement(xe.default,{"data-test-id":a+"account_section_collapse_button",kind:w.Kinds.CHEVRON_UP,rotate:r?w.Rotate.D0:w.Rotate.D180,size:w.Sizes.XS,colorState:w.ColorStates.SELECTED,onClick:this.toggleAccountSection,title:i(r?or[a]:rr[a]),"aria-label":i(r?or[a]:rr[a]),className:_.toggleAccountSectionButton}):null),d.a.createElement("div",{className:_.sectionHintsWrapper},d.a.createElement("div",{className:_.sectionHint},i(sr[a])),r?d.a.createElement(Ws.c,{align:Gi.a.END,triggerOn:Ws.b.HOVER,triggerOff:Ws.a.HOVER_OUT_ANCHOR,offset:-40},d.a.createElement("div",{className:_.accountUsage},c?d.a.createElement("span",{className:_.warningIcon,"data-test-id":a+"_max_limit_exceeded"},d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.XS,colorState:w.ColorStates.WARNING_GRAD_RED})):null,h?null:i(ar.accountUsageHint,{accounts:p,maxNumberOfAccounts:tr[a]})),c?d.a.createElement("div",{className:_.exceedMaxAccountsHint},d.a.createElement("p",{className:_.errorText},d.a.createElement(m.FormattedMessage,{id:"section_account_remove_hint",defaultMessage:"You have exceeded the new limit of {maxNumberOfAccounts} {accountTypePlural}. Please remove at least {numberOfAccounts} to add a new one.",values:{maxNumberOfAccounts:tr[a],accountTypePlural:i(ir[a]),numberOfAccounts:d.a.createElement("span",{className:_.errorWarn},this.getRemoveNumber())}}))):d.a.createElement("div",null)):null),this.renderAccountList(_),this.renderButtons(_))}}r()(lr,"contextTypes",{intl:m.intlShape.isRequired}),r()(lr,"defaultProps",{expandAccounts:!1,expiredAccounts:[],canAddImapInAccount:!1,addAliasAccount:!1,baseName:"",domain:""});var cr=Object(D.connect)((e,t)=>{if(t.sectionType===M.l.IMAPIN){const t=Object(W.selectors)(e),a=t.isFeatureEnabled,n=t.getDefaultFolderIdForSelectedAccount,s=(0,t.getMembershipRewardsSelectors)(),i=s.getChallengeDefns,r=s.isImapInCompleted,o=s.getLastCompletedChallenges,l=(0,s.getAtosInfo)().atosStatus,c=i(M.pe.IMAPIN),d=Object(x.b)(c,"rewards.value",""),m=l===M.oe.AGREED&&!r(),_=o(M.pe.IMAPIN).pointsReceived;return{showAddMailPopup:m,imapInChallengePoints:d,showImapinCompletedNotification:a(M.Eb.TMR_ICON_NOTIFICATION)&&!!_,inboxFolderId:n()}}if(t.sectionType!==M.l.ALIAS)return{};const a=Object(W.selectors)(e),n=a.getAliasAccounts,s=a.getFeaturesSelectors,i=a.getAction,r=e.mailboxes.accounts,o=Object.keys(r).map(e=>r[e]);if(t.sectionType===M.n.ALIAS&&"-1"===t.selectedAccountId&&i().type===Zi.ALIAS_EMAIL_CREATE_SUCCEEDED){const e=o.find(e=>e.type===M.n.ALIAS);t.handleNewAccountCreated(e)}const l=s().getSetting(M.Kd.SYNC_TIME);return{accounts:n(),syncTime:l}},e=>({openAddAccountWizard:()=>e(Object(G.A)({i13nModel:{mKey:A.g.ADD_ACCOUNT,sec:A.i.SETTINGS_ACCOUNTS_TAB,interactionType:A.e.click}})),goToInbox:t=>e(Object(P.g)(t)),membershipRewardsIconToggled:t=>e(Object(er.a)(t))}))(lr),dr=a(1821),mr=a.n(dr),_r=a(168),ur=a(1397);const pr=()=>{},hr=Object(m.defineMessages)({clearBtnTitle:{id:"dea_base_name_clear",defaultMessage:"clear"}});class gr extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{hasFocus:!1}),r()(this,"handleFocus",()=>{this.setState({hasFocus:!0},()=>{this.props.onFocus()})}),r()(this,"handleBlur",()=>{this.setState({hasFocus:!1},()=>{this.props.onBlur()})}),r()(this,"handleChange",e=>{this.props.onChange(e.target.value)}),r()(this,"handleClear",()=>{this.props.onChange(""),this.focus()}),r()(this,"focus",()=>{this.input.focus()})}render(){const e=this.state.hasFocus,t=this.context.intl.formatMessage,a=this.props,n=a.baseName,s=a.value,i=a.hint,r=a.error,o=a.kind,l=a.domain,c=u()(mr.a,{hasFocus:e,error:r}),_=o===ur.a.PREFIX,p=d.a.createElement(_r.a,{value:s,"data-test-id":o,name:o,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,ref:e=>this.input=e,className:c.inputField,disabled:_&&!!n});return d.a.createElement("div",{className:c.inputContainer},d.a.createElement("div",{className:c.emailContainer},_?d.a.createElement("div",{className:c.baseNameInput},p):d.a.createElement("div",{className:c.baseName,"data-test-id":"base-name-prefix"},n+"-"),d.a.createElement("div",{className:c.keyword},_?d.a.createElement(m.FormattedMessage,{id:"keyword_hint_text",defaultMessage:"-[keyword]"}):p),"@"+l,d.a.createElement("span",{className:c.clearButtonContainer},s?d.a.createElement(xe.default,{size:w.Sizes.XXS,onClick:this.handleClear,kind:w.Kinds.CLEAR,className:c.clearButton,colorState:w.ColorStates.FAINT,title:t(hr.clearBtnTitle)}):null)),i&&!r&&d.a.createElement("div",{className:c.hint},i),r&&d.a.createElement("span",{className:c.error,"data-test-id":"dea-base-name-error"},r))}}r()(gr,"contextTypes",{intl:m.intlShape.isRequired}),r()(gr,"defaultProps",{hint:"",error:"",onBlur:pr,onFocus:pr,onChange:pr});var Er=gr;const br=u()(bi.a),fr=Object(m.defineMessages)({deaBaseName:{id:"dea_base_name_placeholder",defaultMessage:"base Name"},deaBaseNameHint:{id:"dea_base_name_hint",defaultMessage:"* Base name can't be changed after set"},baseNameError:{id:"dea_base_name_error",defaultMessage:"The base name cannot be empty"}});class Cr extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{value:this.props.baseName}),r()(this,"clearBaseNameSuggestions",()=>{const e=this.props.suggestions;e&&0!==e.length&&this.props.clearBaseNameSuggestions()}),r()(this,"handleChange",e=>{this.setState({value:e},()=>this.clearBaseNameSuggestions())}),r()(this,"handleNext",()=>{const e=this.state.value,t=!!e&&!this.props.baseName,a=e?"":(0,this.context.intl.formatMessage)(fr.baseNameError);this.setState({error:a}),t&&this.props.onCreateBaseName(e)})}componentWillReceiveProps(e){const t=e.baseName;t&&this.setState({value:t})}render(){const e=this.state,t=e.value,a=e.error,n=this.context.intl.formatMessage,s=this.props,i=s.domain,r=s.baseName,o=s.suggestions,l=s.onCancel;return d.a.createElement("div",null,d.a.createElement("label",{className:br.label,htmlFor:"emailAddress"},d.a.createElement(m.FormattedMessage,{id:"disposable_email_basename_text",defaultMessage:"Set base name"})),d.a.createElement(Er,{value:t,domain:i,baseName:r,error:a,kind:ur.a.PREFIX,onChange:this.handleChange,hint:n(fr.deaBaseNameHint),placeholder:n(fr.deaBaseName)}),o.length?d.a.createElement("div",{"data-test-id":"dea-base-name-suggestions",className:br.suggestionsContainer},d.a.createElement("p",{className:br.baseNameError},d.a.createElement(m.FormattedMessage,{id:"basename_unavailable_text",defaultMessage:"{baseName} is not available, try names below",values:{baseName:t}})),d.a.createElement("ul",{className:br.suggestions},o.map(e=>d.a.createElement("li",{key:e,className:br.suggestionsListItem},d.a.createElement("span",{"data-test-id":"dea-base-name-"+e,className:br.suggestion,onClick:this.handleChange.bind(this,e)},e))))):null,d.a.createElement(At,{onNext:this.handleNext,onCancel:l}))}}r()(Cr,"contextTypes",{intl:m.intlShape.isRequired});var Sr=Cr;const yr=()=>{},Tr=Object(m.defineMessages)({keywordPlaceholder:{id:"dea_keyword_placeholder",defaultMessage:"Keyword"},keywordHint:{id:"dea_keyword_hint",defaultMessage:"Add Keyword to create unique disposable address"},emptyKeywordError:{id:"dea_empty_keyword_error",defaultMessage:"The keyword cannot be empty"},invalidKeywordError:{id:"dea_invalid_keyword_error",defaultMessage:"The keyword is invalid"},deaSendingName:{id:"dea_name_placeholder",defaultMessage:"Your Name"},deaDescription:{id:"dea_description_placeholder",defaultMessage:"Description"},duplicateEmailError:{id:"dea_email_existed_error",defaultMessage:"That disposable email address already exists"}}),vr=u()(bi.a);class Ir extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{error:"",saveBtnDisabled:!1}),r()(this,"handleSave",()=>{const e=this.props,t=e.account.id,a=e.onSave,n=e.keyword,s=this.context.intl.formatMessage;t||n?t||!(0,e.isExistingDEA)(n)?Object(O.validateLocalPart)(n)?this.setState({error:""},a):this.setState({error:s(Tr.invalidKeywordError)}):this.setState({error:s(Tr.duplicateEmailError)}):this.setState({error:s(Tr.emptyKeywordError)})}),r()(this,"handleBlur",()=>{const e=this.props,t=this.context.intl.formatMessage;!e.account.id&&(0,e.isExistingDEA)(e.keyword)&&this.setState({error:t(Tr.duplicateEmailError),saveBtnDisabled:!0})})}render(){const e=this.props,t=e.account,a=t.sendingName,n=t.description,s=e.keyword,i=e.baseName,r=e.domain,o=e.onChange,l=e.onCancel,c=e.onDelete,_=!!t.id,u=this.state.error,p=this.context.intl.formatMessage;return d.a.createElement("div",{className:vr.container,"data-test-id":"dea-form"},_?null:d.a.createElement("div",{className:vr.textInput},d.a.createElement("label",{className:vr.label,htmlFor:"emailAddress"},d.a.createElement(m.FormattedMessage,{id:"disposable_email_text",defaultMessage:"Set address"})),d.a.createElement(Er,{domain:r,value:s,baseName:i,kind:ur.a.KEYWORD,error:u,hint:p(Tr.keywordHint),placeholder:p(Tr.keywordPlaceholder),onChange:e=>{o("keyword",e),this.setState({error:"",saveBtnDisabled:!1})},onBlur:this.handleBlur})),d.a.createElement("label",{className:vr.label,htmlFor:"sendingName"},d.a.createElement(m.FormattedMessage,{id:"disposable_email_sendingName_text",defaultMessage:"Sending Name"})),d.a.createElement("div",{className:vr.textInput},d.a.createElement(nt.a,{isClearable:!0,name:"sendingName",value:a,"aria-label":p(Tr.deaSendingName),placeholder:p(Tr.deaSendingName),onChange:e=>o("sendingName",e)})),d.a.createElement("label",{className:vr.label,htmlFor:"description"},d.a.createElement(m.FormattedMessage,{id:"dea_description_text",defaultMessage:"Description"})),d.a.createElement("div",{className:vr.textInput},d.a.createElement(nt.a,{isClearable:!0,name:"description",value:n,"aria-label":p(Tr.deaDescription),placeholder:p(Tr.deaDescription),onChange:e=>o("description",e)})),_?d.a.createElement("div",{className:vr.deleteBtn},d.a.createElement(Je.a,{"data-test-id":"delete-dea-account",kind:$e.a.DANGER,onClick:c},d.a.createElement(m.FormattedMessage,{id:"delete_dea_btn_text",defaultMessage:"Delete address"})),d.a.createElement("div",{className:vr.hint},d.a.createElement(m.FormattedMessage,{id:"dea_delete_hint",defaultMessage:"Delete address won't delete emails sent to this address"}))):null,d.a.createElement(At,{onSave:this.handleSave,onCancel:l,disableSave:this.state.saveBtnDisabled}))}}r()(Ir,"contextTypes",{intl:m.intlShape.isRequired}),r()(Ir,"defaultProps",{account:{},onSave:yr,onChange:yr,onDelete:yr,onCancel:yr,isExistingDEA:yr});var Mr=Ir;const Ar=u()(bi.a);class Nr extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{keyword:"",sendingName:"",description:"",hasFocus:!1}),r()(this,"handleChange",(e,t)=>{this.setState({[e]:t})}),r()(this,"handleSave",()=>{const e=this.state,t=this.props;this.props.onSave({sendingName:e.sendingName,description:e.description,type:M.n.DEA,email:`${t.baseName}-${e.keyword}@${t.domain}`})})}componentWillUnmount(){this.props.clearBaseNameSuggestions()}render(){const e=this.state,t=e.sendingName,a=e.description,n=e.keyword,s=this.props,i=s.domain,r=s.baseName,o=s.onCreateBaseName,l=s.baseNameSuggestions,c=s.clearBaseNameSuggestions,_=s.onCancel;return d.a.createElement("div",{className:Ar.filterWrapper,"data-test-id":"dea-creator"},d.a.createElement("div",{className:Ar.filterPreviewSection},d.a.createElement("header",{className:Ar.previewTitleWrapper},d.a.createElement("div",{className:Ar.previewFilterTitleLeftAlign},d.a.createElement(m.FormattedMessage,{id:"add_dea_base_text",defaultMessage:"Create first disposable email address"}))),r?d.a.createElement(Mr,{domain:i,keyword:n,account:{sendingName:t,description:a},baseName:r,onCancel:_,onSave:this.handleSave,onChange:this.handleChange}):d.a.createElement(Sr,{domain:i,baseName:r,suggestions:l,onCreateBaseName:o,clearBaseNameSuggestions:c,onCancel:_})))}}r()(Nr,"contextTypes",{intl:m.intlShape.isRequired});const kr=Object(m.defineMessages)({cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"},confirmBtn:{id:"confirm_btn_text",defaultMessage:"Confirm"},confirmDeleteTitle:{id:"confirm_delete_title_text",defaultMessage:"Confirm Delete"}}),Or=u()(bi.a);class Dr extends d.a.Component{constructor(...e){super(...e),r()(this,"getStateFromProps",({account:e={}})=>({id:e.id,email:e.email,sendingName:e.sendingName,description:e.description,keyword:e.keyword,showConfirm:!1})),r()(this,"toggleConfirmDialog",e=>{this.setState({showConfirm:e})}),r()(this,"handleChange",(e,t)=>{this.setState({[e]:t})}),r()(this,"handleDelete",()=>{const e=this.props.onDelete;this.toggleConfirmDialog(!1),e(this.state.id)}),r()(this,"handleSave",()=>{const e=this.state,t=e.id,a=this.props;this.props.onSave({id:t,sendingName:e.sendingName,description:e.description,type:M.n.DEA,email:t?e.email:`${a.baseName}-${e.keyword}@${a.domain}`})}),r()(this,"state",this.getStateFromProps(this.props))}render(){const e=this.state,t=e.id,a=e.email,n=e.sendingName,s=e.description,i=e.keyword,r=e.showConfirm,o=this.props,l=o.baseName,c=o.domain,_=o.onCancel,u=this.context.intl.formatMessage;return d.a.createElement("div",{className:Or.filterWrapper,"data-test-id":"dea-editor"},d.a.createElement("div",{className:Or.filterPreviewSection},d.a.createElement("header",{className:Or.previewTitleWrapper},d.a.createElement("div",{className:Or.previewFilterTitle},d.a.createElement(m.FormattedMessage,!!t?{id:"edit_dea_account_text",defaultMessage:"Edit {email}",values:{email:d.a.createElement("span",{className:Or.email,title:a},a)}}:{id:"add_dea_account_text",defaultMessage:"Create disposable email address"}))),d.a.createElement(Mr,{domain:c,keyword:i,account:{id:t,email:a,sendingName:n,description:s},baseName:l,onCancel:_,onDelete:this.toggleConfirmDialog.bind(this,!0),onSave:this.handleSave,onChange:this.handleChange,isExistingDEA:this.props.isExistingDEA}),r?d.a.createElement(et.a,{onConfirm:this.handleDelete,cancelLabel:kr.cancelBtn,acceptLabel:kr.confirmBtn,title:u(kr.confirmDeleteTitle),onAbort:this.toggleConfirmDialog.bind(this,!1)},d.a.createElement(m.FormattedMessage,{id:"confirm.delete_account",defaultMessage:"Are you sure you want to remove {email}?",values:{email:d.a.createElement("strong",null,a)}})):null))}}r()(Dr,"contextTypes",{intl:m.intlShape.isRequired});var Pr=Dr,Rr=a(487),wr=a(1822),Fr=a.n(wr);const xr=Object(m.defineMessages)({ok_button_title:{id:"other_provider_ok_button_title",defaultMessage:"OK"},body_text_step_1:{id:"other_provider_body_text_step_1",defaultMessage:"Tap on your Profile icon in the top left"},body_text_step_2:{id:"other_provider_body_text_step_2",defaultMessage:'Tap "+ Add another mailbox"'},body_text_step_3:{id:"other_provider_body_text_step_3",defaultMessage:'Select "Other"'},body_text_step_4:{id:"other_provider_body_text_step_4",defaultMessage:"Follow the steps on the screen to add your mailbox"}}),Lr=Object(Se.a)("/img/google_play_badge.png"),Br=Object(Se.a)("/img/app_store_badge.png"),jr=u()(Fr.a);class Ur extends d.a.Component{render(){const e=this.props.onNext,t=this.context.intl.formatMessage;return d.a.createElement("div",null,d.a.createElement("h5",{className:jr.label},d.a.createElement(m.FormattedMessage,{id:"oAuth_other_provider_header",defaultMessage:"Connect this account in the {mailBrandNameString} app",values:{mailBrandNameString:this.context.mailBrandNameString}})),d.a.createElement("div",{className:jr.appStore},d.a.createElement("img",{className:jr.appleAppStore,src:Br}),d.a.createElement("img",{src:Lr})),d.a.createElement("div",{className:jr.textBody,"data-test-id":"oAuth_provider_body"},d.a.createElement(m.FormattedMessage,{id:"oAuth_other_provider_body_head",defaultMessage:"Open the latest version of the Yahoo Mail app on your device and follow the simple steps below:"}),d.a.createElement("div",{className:jr.textBodySteps},d.a.createElement("ol",{className:jr.textBodyStepList},d.a.createElement("li",null,d.a.createElement(m.FormattedMessage,xr.body_text_step_1)),d.a.createElement("li",null,d.a.createElement(m.FormattedMessage,xr.body_text_step_2)),d.a.createElement("li",null,d.a.createElement(m.FormattedMessage,xr.body_text_step_3)),d.a.createElement("li",null,d.a.createElement(m.FormattedMessage,xr.body_text_step_4)))),d.a.createElement(m.FormattedMessage,{id:"oAuth_other_provider_body_foot",defaultMessage:"Once you've connected your account in the app, you can access this account across all devices."})),d.a.createElement(Je.a,{"data-test-id":"other-provider-ok-button",className:jr.okButton,onClick:e,title:t(xr.ok_button_title)},d.a.createElement(m.FormattedMessage,{id:"other_provider_ok_button_label",defaultMessage:"OK"})))}}r()(Ur,"contextTypes",{intl:m.intlShape.isRequired,mailBrandNameString:l.a.string});var Hr=Ur,Wr=a(1449),Gr=a(498),Zr=a(497),Vr=a(610);const qr=u()(bi.a);class zr extends d.a.Component{constructor(e,t){super(e,t),r()(this,"handleChange",(e,t)=>{this.state[e]!==t&&this.setState("provider"===e?{[e]:t,email:""}:{[e]:t})});this.state={email:"",provider:"ycorp"===t.partner?M.xb.GOOGLE:""}}render(){const e=this.state,t=e.email,a=e.provider,n=this.props,s=n.onCancel,i=n.onAuthorize,r=n.accounts,o=n.handleAddSuccess,l=n.handleAddFailure,c=n.accountSyncFailed,m=n.appRootPath,_=n.onSubmit,u="ycorp"===this.context.partner?2:1,p=r.find(e=>e.email===t);return d.a.createElement("div",{className:qr.filterWrapper},d.a.createElement("div",{className:qr.filterPreviewSection},d.a.createElement(Rr.a,{onCancel:s,startStep:u},d.a.createElement(Hr,null),d.a.createElement(Wr.a,{provider:a,onChange:this.handleChange}),d.a.createElement(Gr.a,{email:t,provider:a,onChange:this.handleChange,accounts:r}),d.a.createElement(Zr.a,{email:t,provider:a,onAuthorize:i,handleAddSuccess:o,onCancelAuthorize:l,accountSyncFailed:c,appRootPath:m}),d.a.createElement(Vr.a,{onCancel:s,onSubmit:_,account:p,isSyncing:!p,accountSyncFailed:c}))))}}r()(zr,"contextTypes",{intl:m.intlShape.isRequired,partner:l.a.string});var Yr=zr,Kr=a(1823),Xr=a.n(Kr);const Qr=Object(m.defineMessages)({sendasHeader:{id:"add_sendas_header_label",defaultMessage:"Add send-only email address"},verifyAccountHeader:{id:"add_sendas_verify_header_label",defaultMessage:"Verify your account"},sendasEmailPlaceHolder:{id:"add_sendas_email_placeholder",defaultMessage:"name@example.com"},invalidEmail:{id:"add_sendas_invalid_email",defaultMessage:"Invalid email address"},next_button_text:{id:"add_sendas_next_button_text",defaultMessage:"Next"},cancel_button_text:{id:"add_sendas_cancel_button_text",defaultMessage:"Cancel"},finish_button_text:{id:"add_sendas_finish_button_text",defaultMessage:"Verify to setup"},resend_text:{id:"add_sendas_resend_text",defaultMessage:"resending it."},disabled_text:{id:"add_sendas_disabled_text",defaultMessage:"Please select at lease one mailbox to link to your send-only email address"}});class Jr extends d.a.Component{constructor(e){super(e),r()(this,"handleInputChange",e=>{this.setState({email:e,invalidEmail:!1,accountExist:!1})}),r()(this,"handleVerifyEmail",()=>{const e=this.props,t=e.accounts,a=e.enableLinkAccounts,n=this.state,s=n.email,i=n.step;if(Object(O.isValidEmail)(s)){if(!Object(Ps.b)(t,s))return a?void this.setState({step:i+1}):(this.props.onCreateSendOnly(s,[this.props.primaryAccountId]),void this.setState({step:i+2}));this.setState({accountExist:!0})}else this.setState({invalidEmail:!0})}),r()(this,"handleResendEmail",()=>{const e=this.props,t=e.account;t&&(0,e.onResend)(t)}),r()(this,"renderAccountAddressForm",e=>{const t=this.state,a=t.email,n=t.accountExist,s=this.context.intl.formatMessage,i=t.invalidEmail?s(Qr.invalidEmail):"";return d.a.createElement("div",null,d.a.createElement("h5",{className:e.headerLabel},s(Qr.sendasHeader)),n?d.a.createElement("div",{className:e.errorWrapper},d.a.createElement("div",{className:e.errorIcon},d.a.createElement(R.b,{kind:w.Kinds.EXCLAMATION_ALT,size:w.Sizes.XS,colorState:w.ColorStates.WARNING_GRAD_RED})),d.a.createElement(m.FormattedMessage,{id:"sendas_account_exsit_error",defaultMessage:"Your email {email} already exists.",values:{email:a}})):null,d.a.createElement(nt.a,{name:"sendas_email",value:a,placeholder:s(Qr.sendasEmailPlaceHolder),onChange:this.handleInputChange,error:i}),d.a.createElement(Je.a,{"data-test-id":"sendas-next-button",className:e.primaryButton,onClick:this.handleVerifyEmail,title:s(Qr.next_button_text)},s(Qr.next_button_text)))}),r()(this,"handleLinkedAccountToggle",e=>{const t=this.state.enableAccounts;void 0===t[e]?t[e]=!0:delete t[e],this.setState({enableAccounts:t})}),r()(this,"handleCreateSendOnlyAccount",()=>{const e=this.state,t=e.step;this.props.onCreateSendOnly(e.email,Object.keys(e.enableAccounts)),this.setState({step:t+1})}),r()(this,"renderLinkedAccountsForm",e=>{const t=this.context.intl.formatMessage,a=this.state,n=a.enableAccounts,s=this.props,i=s.accounts,r=s.onCancel,o=d.a.createElement("strong",null,a.email),l=0===Object.keys(n).length,c=l?e.disabledPrimaryButton:e.primaryButton;return d.a.createElement("div",null,d.a.createElement("h5",{className:e.headerLabel},d.a.createElement(m.FormattedMessage,{id:"add_sendas_linked_accounts_title",defaultMessage:"Select the mailbox(es) that you would like to link to the send-only email address"}),d.a.createElement("div",null,"(",o,")")),d.a.createElement(Si,{accounts:i.filter(e=>Object(Ps.h)(e)||e.isPrimary),enableAccounts:n,onToggle:this.handleLinkedAccountToggle}),d.a.createElement(Je.a,{"data-test-id":"sendas-next-button",className:c,onClick:this.handleCreateSendOnlyAccount,title:t(l?Qr.disabled_text:Qr.next_button_text),disabled:l},t(Qr.next_button_text)),d.a.createElement(Je.a,{"data-test-id":"sendas-cancel-button",className:e.cancelButton,onClick:r,title:t(Qr.cancel_button_text)},t(Qr.cancel_button_text)))}),r()(this,"renderConfirmPage",e=>{const t=this.context.intl.formatMessage,a=this.props.onCancel,n=this.state.email;return d.a.createElement("div",null,d.a.createElement("h5",{className:e.headerLabel},t(Qr.verifyAccountHeader)),d.a.createElement("div",{className:e.textBody},d.a.createElement(m.FormattedMessage,{id:"add_sendas_verify_text",defaultMessage:"Check {email} for a confirmation email from Yahoo Member Services. Click the link in the message to enable sending email from this account. If you don't see a confirmation email, try {resend}",values:{email:d.a.createElement("b",null,n),resend:d.a.createElement("a",{className:e.link,onClick:this.handleResendEmail},t(Qr.resend_text))}})),d.a.createElement(Je.a,{"data-test-id":"sendas-finish-button",className:e.primaryButton,onClick:a,title:t(Qr.finish_button_text)},t(Qr.finish_button_text)))}),r()(this,"renderForm",e=>{switch(this.state.step){case 1:return this.renderLinkedAccountsForm(e);case 2:return this.renderConfirmPage(e)}return this.renderAccountAddressForm(e)});const t={};t[e.primaryAccountId]=!0,this.state={step:0,email:"",invalidEmail:!1,accountExist:!1,enableAccounts:t}}render(){const e=this.state,t=e.invalidEmail,a=e.accountExist,n=u()(Xr.a,{invalidEmail:t,accountExist:a});return d.a.createElement("div",{className:n.formWrapper},d.a.createElement("div",{className:n.formSection},this.renderForm(n)))}}r()(Jr,"contextTypes",{intl:m.intlShape.isRequired});var $r=Jr,eo=a(1824),to=a.n(eo);const ao=Object(m.defineMessages)({addAliasHeader:{id:"add_alias_header",defaultMessage:"Create an email alias"},accountEmail:{id:"alias_email_placeholder",defaultMessage:"Your Email"},aliasEmailUnavailable:{id:"alias_email_unavailable",defaultMessage:"Sorry, {email} is unavailable."},setupBtnTitle:{id:"alias_btn_setup_title",defaultMessage:"Setup"},cancelBtnTitle:{id:"account_cancel_btn_title",defaultMessage:"Cancel"}}),no=u()(to.a);class so extends d.a.Component{constructor(e){super(e),r()(this,"setupAlias",()=>{this.props.onCreateAlias(this.state.email)}),r()(this,"handleInputChange",e=>{this.state.email!==e&&(this.suggestions=[],this.setState({email:e}))}),r()(this,"handleSelect",e=>{this.state.email!==e&&this.setState({email:e})}),this.suggestions=[],this.state={email:""}}componentWillReceiveProps(e){const t=e.getAliasSuggestions(this.state.email);t&&(this.suggestions=t)}render(){const e=this.context.intl.formatMessage,t=this.state.email,a=this.props,n=a.getAliasSuggestionStatus,s=a.onCancel,i=this.context.mailBrandNameString;return d.a.createElement("div",{className:no.formWrapper,"data-test-id":"add-alias"},d.a.createElement("div",{className:no.formSection},d.a.createElement("header",{className:no.titleWrapper},e(ao.addAliasHeader)),d.a.createElement("label",{className:no.label,htmlFor:"accountEmail"},d.a.createElement(m.FormattedMessage,{id:"add_alias_account_label",defaultMessage:"Create a new {mailBrandNameString} address",values:{mailBrandNameString:i}})),d.a.createElement("div",{className:no.textInput},d.a.createElement(nt.a,{isClearable:!0,name:"accountEmail",value:t,"aria-label":e(ao.accountEmail),placeholder:e(ao.accountEmail),onChange:this.handleInputChange,error:n(t)===M.od.ERROR&&""!==t?e(ao.aliasEmailUnavailable,{email:t}):null})),this.suggestions.length&&""!==t?d.a.createElement("div",{className:no.suggestionsContainer},d.a.createElement("p",null,d.a.createElement(m.FormattedMessage,{id:"add_alias_suggestion_help",defaultMessage:"Need help? Here are some available email aliases."})),d.a.createElement("ul",{className:no.suggestions},this.suggestions.map(e=>d.a.createElement("li",{key:e,className:no.suggestionsListItem},d.a.createElement("span",{"data-test-id":"alias-name-"+e,className:no.suggestion,onClick:this.handleSelect.bind(this,e)},e))))):d.a.createElement("div",{className:no.textWrapperContainer},d.a.createElement("div",{className:no.textWrapper},d.a.createElement(m.FormattedMessage,{id:"add_alias_email_format",defaultMessage:"Your email alias may consist of letters, numbers, underscores and a period. Other special characters not allowed."})),d.a.createElement("div",{className:no.textWrapper},d.a.createElement(m.FormattedMessage,{id:"add_alias_condition",defaultMessage:"Alias email address can be edited only twice in the next 12 months."}))),d.a.createElement("div",{className:no.buttonWrapper},d.a.createElement(Je.a,{"data-test-id":"alias-setup-btn",kind:$e.a.PRIMARY,overridingClass:no.saveButton,title:e(ao.setupBtnTitle),onClick:this.setupAlias},d.a.createElement(m.FormattedMessage,{id:"alias_account_setup",defaultMessage:"Set up"})),d.a.createElement(Je.a,{"data-test-id":"alias-cancel-btn",kind:$e.a.SECONDARY_BORDERLESS,overridingClass:no.cancelButton,title:e(ao.cancelBtnTitle),onClick:s},d.a.createElement(m.FormattedMessage,{id:"cancel_btn_text",defaultMessage:"Cancel"})))))}}r()(so,"contextTypes",{intl:m.intlShape.isRequired,mailBrandNameString:l.a.string});var io=so;function ro(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const oo=Object(m.defineMessages)({addAccount:{id:"add_account_btn_text",defaultMessage:"Add another mailbox"},rightRailHeader:{id:"accounts_right_rail_header",defaultMessage:"Find help for accounts"}});class lo extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{action:this.props.openAddAccount?"CREATE_ROOT_ACCOUNT":null,newAccount:null,selectedAccountId:this.props.defaultSelectedAccount,openReauth:this.props.openReauth}),r()(this,"setSelectedIndex",e=>{this.setState({selectedAccountId:e,action:null,newAccount:null,openReauth:!1})}),r()(this,"getReplyToAddresses",()=>this.props.getAccounts().filter(e=>e.accountVerified&&"ENABLED"===e.status)),r()(this,"getDisposableAddresses",()=>this.props.getAccounts().filter(e=>e.type===M.n.DEA)),r()(this,"handleNewAccountCreated",e=>{this.setState({selectedAccountId:e.id,newAccount:e})}),r()(this,"handleSave",(e,t,a)=>{(0,this.props.updateAccountDetails)({accountId:e,updatedProperties:t,i13nModel:a})}),r()(this,"handleDeleteAccount",e=>{const t={mKey:A.g.DELETE_ACCOUNT,sec:A.i.SETTINGS_ACCOUNTS_TAB,interactionType:A.e.click};this.resetState(),this.props.onDeleteAccount({accountId:e,i13nModel:t})}),r()(this,"resetState",()=>{this.setState({selectedAccountId:"-1",action:null,newAccount:null})}),r()(this,"handleCancel",e=>{this.props.cancelAccountSettings({mKey:e}),this.resetState()}),r()(this,"handleCreateBaseName",()=>{this.setState({selectedAccountId:"-1",action:this.props.deaBaseName.deaPrefix?"CREATE_DEA_ACCOUNT":"CREATE_BASE_NAME"})}),r()(this,"isExistingDEA",e=>{const t=this.getDisposableAddresses(),a=`${this.props.deaBaseName.deaPrefix}-${e}@yahoo.com`;return!!t.find(e=>e.email===a)}),r()(this,"handleCreateDisposableAddress",e=>{const t=e.id,a=ui()(e,["id"]);t?this.handleSave(t,a):this.props.addAccount({newAccount:a}),this.resetState()}),r()(this,"handleSaveBaseName",e=>{this.props.createBaseName({baseName:e})}),r()(this,"handleAddAccount",()=>{this.setState({selectedAccountId:"-1",action:"CREATE_ROOT_ACCOUNT"})}),r()(this,"handleAddSendOnlyAccount",()=>{this.setState({selectedAccountId:"-1",action:"CREATE_SENDAS_ACCOUNT"})}),r()(this,"handleAddAliasAccount",()=>{this.setState({selectedAccountId:"-1",action:"CREATE_ALIAS_ACCOUNT"})}),r()(this,"handleCreateAccount",e=>{const t=Object(Ps.g)(e);this.props.addAccount(t)}),r()(this,"handleCreateSendAsAccount",(e,t)=>{const a=Object(Ps.g)({email:e,linkedAccounts:t,type:M.n.SENDAS});this.props.addAccount(a)}),r()(this,"handleConfirmSubmit",(e,t)=>{this.setState({newAccount:null}),this.handleSave(e,t)}),r()(this,"handleResendConfirmEmail",e=>{this.props.resendConfirmEmail({account:e})}),r()(this,"handleReauth",({wssid:e,accountId:t,error:a,email:n,provider:s})=>{a?this.props.reauthAccountFailed({error:a.status,email:n,provider:s}):this.props.reauthAccount({wssid:e,accountId:t,email:n,provider:s})}),r()(this,"handleCreateAlias",e=>{this.props.createAlias({email:e})}),r()(this,"getMailBoxList",()=>this.props.getAccounts().filter(e=>Object(Ps.h)(e)||e.isPrimary)),r()(this,"getAliasAccounts",()=>this.props.getAccounts().filter(e=>e.type===M.n.ALIAS&&e.status!==M.m.DELETE_IN_PROGRESS)),r()(this,"getSendAsAccounts",()=>this.props.getAccounts().filter(e=>e.type===M.n.SENDAS&&e.status!==M.m.DELETE_IN_PROGRESS)),r()(this,"renderIMAPINSection",()=>{const e=this.state,t=e.selectedAccountId,a=e.action,n=this.props,s=n.canAddImapInAccount,i=n.expiredAccounts,r="ycorp"===this.context.partner&&(0,n.getAccounts)().some(e=>e.email&&Object(O.isVerizonMediaEmail)(e.email));return d.a.createElement(cr,{key:M.l.IMAPIN,sectionType:M.l.IMAPIN,accounts:this.getMailBoxList(),selectedAccountId:t,handleAccountSelected:this.setSelectedIndex,buttonDisabled:"CREATE_ROOT_ACCOUNT"===a,expiredAccounts:i,handleButtonClick:this.handleAddAccount,canAddImapInAccount:s&&!r})}),r()(this,"renderAliasSection",()=>{const e=this.state,t=e.selectedAccountId,a=e.action,n=this.props,s=n.expiredAccounts,i=n.addAliasAccount,r=this.getAliasAccounts();return 0!==r.length||i?d.a.createElement(cr,{key:M.l.ALIAS,sectionType:M.l.ALIAS,accounts:r,selectedAccountId:t,handleAccountSelected:this.setSelectedIndex,buttonDisabled:"CREATE_ALIAS_ACCOUNT"===a,expiredAccounts:s,addAliasAccount:i,handleButtonClick:this.handleAddAliasAccount,handleNewAccountCreated:this.handleNewAccountCreated}):null}),r()(this,"renderSendAsSection",()=>{const e=this.state,t=e.selectedAccountId,a=e.action,n=this.props,s=n.expiredAccounts;return n.addSendOnlyAccounts?d.a.createElement(cr,{key:M.l.SENDAS,sectionType:M.l.SENDAS,accounts:this.getSendAsAccounts(),selectedAccountId:t,handleAccountSelected:this.setSelectedIndex,buttonDisabled:"CREATE_SENDAS_ACCOUNT"===a,handleButtonClick:this.handleAddSendOnlyAccount,expiredAccounts:s}):null}),r()(this,"renderDisposableEmailSection",()=>{const e=this.state.selectedAccountId,t=this.getDisposableAddresses(),a=this.props,n=a.disposableAddressDeleteOnly;return!a.disposableAddress||n&&!t.length?null:d.a.createElement(cr,{key:M.l.DEA,sectionType:M.l.DEA,accounts:t,selectedAccountId:e,handleAccountSelected:this.setSelectedIndex,handleButtonClick:this.handleCreateBaseName,buttonDisabled:n,baseName:a.deaBaseName.deaPrefix,domain:"yahoo.com"})}),r()(this,"renderRightPane",()=>{const e=this.state,t=e.selectedAccountId,a=e.newAccount,n=e.openReauth,s=this.props,i=s.deaBaseName.deaPrefix,r=s.composeFontFamily,o=s.composeFontSize,l=s.sendingEmailConfirmStatus,c=s.expiredAccounts,m=s.appRootPath,_=s.canRemoveImapInAccount,u=s.stationeryRestrictedThemes,p=s.rtl,h=s.enableLinkAccounts,g=s.forwardEmail,E=(0,s.getAccounts)(),b=E.find(({id:e})=>e===t);return b.type===M.n.DEA?d.a.createElement(Pr,{domain:"yahoo.com",baseName:i,key:b.id,account:b,onCancel:this.handleCancel.bind(this,A.g.CANCEL_EDIT_DEA),onDelete:this.handleDeleteAccount,onSave:this.handleCreateDisposableAddress}):d.a.createElement(wi,{onSave:this.handleSave,key:b.id,account:b,accounts:E,onCancel:this.handleCancel.bind(this,A.g.SETTINGS_CANCEL_EDIT_ACCOUNT),onDelete:this.handleDeleteAccount,replyToAddresses:this.getReplyToAddresses(),composeFontFamily:r,composeFontSize:o,onResend:this.handleResendConfirmEmail,sendingEmailConfirmStatus:l,handleReauth:this.handleReauth,expiredAccounts:c,newAccount:a,openReauth:n,canRemoveImapInAccount:_,appRootPath:m,stationeryRestrictedThemes:u,rtl:p,enableLinkAccounts:h,forwardEmail:g})}),r()(this,"renderAddForm",()=>{const e=this.state,t=e.action,a=e.prefix,n=e.newAccount,s=this.context.intl,i=s.formatMessage,r=s.locale,o=this.props,l=o.deaBaseName.deaPrefix,c=o.baseNameSuggestions,m=o.getAliasSuggestions,_=o.getAliasSuggestionStatus,u=o.accountSyncFailed,p=o.appRootPath,h=o.enableLinkAccounts,g=o.clearBaseNameSuggestions,E=(0,o.getAccounts)(),b=E.find(e=>e.isPrimary),f=this.context,C=f.mailBrandNameString,S=f.partner;switch(t){case"CREATE_ROOT_ACCOUNT":return d.a.createElement(Yr,{appRootPath:p,onCancel:this.handleCancel.bind(this,A.g.CANCEL_ADD_ACCOUNT),onAuthorize:this.handleCreateAccount,accounts:E,onSubmit:this.handleConfirmSubmit,handleAddSuccess:this.props.handleAddSuccess,handleAddFailure:this.props.handleAddFailure,accountSyncFailed:u});case"CREATE_BASE_NAME":return d.a.createElement(Nr,{domain:"yahoo.com",baseName:l||a,onCancel:this.handleCancel.bind(this,A.g.CANCEL_ADD_BASE),onSave:this.handleCreateDisposableAddress,onCreateBaseName:this.handleSaveBaseName,baseNameSuggestions:c,clearBaseNameSuggestions:g});case"CREATE_DEA_ACCOUNT":return d.a.createElement(Pr,{domain:"yahoo.com",baseName:l,onCancel:this.handleCancel.bind(this,A.g.CANCEL_ADD_DEA),onSave:this.handleCreateDisposableAddress,isExistingDEA:this.isExistingDEA});case"CREATE_SENDAS_ACCOUNT":return d.a.createElement($r,{onCancel:this.handleCancel,onCreateSendOnly:this.handleCreateSendAsAccount,onResend:this.handleResendConfirmEmail,accounts:E,account:n,primaryAccountId:b.id,enableLinkAccounts:h});case"CREATE_ALIAS_ACCOUNT":return d.a.createElement(io,{onCancel:this.handleCancel,onCreateAlias:this.handleCreateAlias,getAliasSuggestions:m,getAliasSuggestionStatus:_});default:return d.a.createElement(Zt,{demoImg:Ce.g.ACCOUNTS,header:i(oo.rightRailHeader),helpLinks:Vt.a.map(({text:e,link:t})=>({text:i(e,{mailBrandNameString:C}),link:t(r,S)}))})}}),r()(this,"isValidAccount",()=>{const e=this.props.getAccounts(),t=this.state.selectedAccountId;return e.find(({id:e})=>e===t)})}componentWillReceiveProps(e){null!==e.newAccount&&this.setState({newAccount:e.newAccount})}render(){const e=u()(hi.a),t=[this.renderAliasSection(),this.renderSendAsSection(),this.renderDisposableEmailSection()];return d.a.createElement("div",{className:e.container,"data-test-id":"accounts-settings"},d.a.createElement("div",{className:e.left},d.a.createElement("div",{className:e.headerWrapper},d.a.createElement("header",{className:e.titleWrapper},d.a.createElement("h4",{className:e.title},d.a.createElement(m.FormattedMessage,{id:"accounts_header",defaultMessage:"Mailbox management"})),d.a.createElement("span",{className:e.hint},d.a.createElement(m.FormattedMessage,{id:"accounts_list_header_hint",defaultMessage:"Connect your Google, Outlook (Hotmail) or AOL address to manage your email all together."}))),this.renderIMAPINSection(),this.props.isPrimaryAccountDisabled?null:t)),d.a.createElement("div",{className:e.right},this.isValidAccount()?this.renderRightPane():this.renderAddForm()))}}r()(lo,"contextTypes",{intl:m.intlShape.isRequired,config:l.a.object,executeAction:l.a.func,mailBrandNameString:l.a.string,partner:l.a.string}),r()(lo,"defaultProps",{defaultSelectedAccount:"-1",aliasSuggestions:[]});var co=Object(D.connect)(e=>{const t=Object(W.selectors)(e),a=t.getFeaturesSelectors,n=t.getSelectedAccountId,s=t.getAccountById,i=t.getAccountSelectors,r=(0,t.getRoute)(),o=a(),l=o.isEnabled(M.Eb.ADD_SEND_ONLY_ACCOUNTS),c=o.isEnabled(M.Eb.DISPOSABLE_ADDRESS_DELETE_ONLY),d=i().isPrimaryAccountDisabled();return{addSendOnlyAccounts:l,disposableAddressDeleteOnly:c,forwardEmail:s(n()).forwardEmail,isPrimaryAccountDisabled:d,openAddAccount:!!r.params.openAddAccount}},e=>({updateAccountDetails:t=>e(Object(b.k)(t)),createBaseName:t=>e(Object(G.k)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ro(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ro(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{domain:"yahoo.com"}))),reauthAccount:t=>e(Object(C.k)(t)),reauthAccountFailed:t=>e(Object(C.l)(t)),createAlias:t=>e(Object(G.h)(t)),resendConfirmEmail:t=>e(Object(G.D)(t)),handleAddSuccess({provider:t,email:a}){e(Object(G.z)({i13nModel:{mKey:A.g.CONNECT_ACCOUNT_SUCCESS,sec:A.i.SETTINGS_ACCOUNTS_TAB,interactionType:A.e.click,actionData:{prvdr:t,email:a}}}))},handleAddFailure({provider:t,email:a,status:n,error:s}){e(Object(G.y)({i13nModel:{mKey:A.g.CONNECT_ACCOUNT_FAILURE,sec:A.i.SETTINGS_ACCOUNTS_TAB,interactionType:A.e.click,actionData:{prvdr:t,email:a,status:n,error:s}}}))},cancelAccountSettings(t){e(Object(G.c)({i13nModel:{mKey:t.mKey,sec:A.i.SETTINGS_ACCOUNTS_TAB,interactionType:A.e.click}}))},addAccount:t=>e(Object(C.a)(t)),clearBaseNameSuggestions:()=>e(Object(G.g)())}))(lo),mo=a(1825),_o=a.n(mo);const uo=u()(_o.a);var po=Object(D.connect)(e=>({isEnabled:(0,Object(W.selectors)(e).isFeatureEnabled)(M.Eb.PRIVACY_RIGHTS_ICON)}))(({isEnabled:e})=>e?d.a.createElement("img",{src:"https://s.yimg.com/cv/apiv2/default/20200109/Privacy_Rights_icon.png",className:uo.image,"aria-hidden":!0}):null);const ho=Object(m.defineMessages)({gotoInboxLabel:{id:"button.gotoInbox",defaultMessage:"Back to Inbox"},personalize_inbox:{id:"settings.personalize_inbox",defaultMessage:"Personalize inbox"},mailboxes:{id:"settings.mailboxes",defaultMessage:"Mailboxes"},notifications:{id:"settings.notifications",defaultMessage:"Notifications"},writingEmail:{id:"settings.writingEmail",defaultMessage:"Writing email"},viewingEmail:{id:"settings.viewingEmail",defaultMessage:"Viewing email"},categorization:{id:"settings.categorization",defaultMessage:"Inbox views"},security:{id:"settings.security",defaultMessage:"Security and privacy"},encryption:{id:"settings.encryption",defaultMessage:"Encryption"},filters:{id:"settings.filters",defaultMessage:"Filters"},contacts:{id:"settings.contacts",defaultMessage:"Contacts"},automaticReply:{id:"settings.automaticReply",defaultMessage:"Vacation response"},aboutYMail:{id:"settings.aboutYMail",defaultMessage:"About {mailBrandNameString}"},adFreeMail:{id:"settings.adFreeMail",defaultMessage:"Ad free mail"},yahooMailProBrandName:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},privacy:{id:"settings.privacy",defaultMessage:"Privacy Policy"},terms:{id:"settings.terms",defaultMessage:"Terms"},aboutAds:{id:"settings.aboutAds",defaultMessage:"About our Ads"},help:{id:"settings.help",defaultMessage:"Help"},giveFeedback:{id:"settings.giveFeedback",defaultMessage:"Give feedback"},optOutLinkText:{id:"option_to_basic_mail_item",defaultMessage:"Switch to basic Mail"}}),go=u()(E.a);class Eo extends d.a.Component{constructor(...e){super(...e),r()(this,"handleCreateNewFolder",e=>{const t=this.props.activeAccount;this.context.executeAction(f.b,{folderName:Object(y.k)(e,t),accountId:t.id})}),r()(this,"handleDeleteAccount",({accountId:e,i13nModel:t})=>{this.props.deleteAccount({accountId:e,i13nModel:t})})}render(){const e=this.context.intl.formatMessage,t=this.context.config.aboutYmailUrl,a=this.props,n=a.getAccounts,i=a.blockedSenders,r=a.selectedGroup,o=a.browserNotifications,l=a.connectedAccounts,m=a.deaBaseName,_=a.deaBaseNameSuggestions,u=a.getAliasSuggestions,p=a.getAliasSuggestionStatus,h=a.newAccount,g=a.composeFontSize,E=a.composeFontFamily,b=a.defaultSelectedAccount,f=a.aboutAdsUrl,C=a.privacyUrl,S=a.termsUrl,y=a.helpUrl,T=a.feedbackUrl,v=a.showAboutOurAdsLink,I=a.showAboutYahooMailLink,A=a.showGiveFeedbackLink,N=a.optOutLinkInMoreSettings,k=a.doNotSellUrl,O=a.doNotSellLabel,D=a.openReauth,P=a.accountSyncFailed,R=a.sendingEmailConfirmStatus,w=a.canAddImapInAccount,F=a.canRemoveImapInAccount,x=a.addAliasAccount,L=a.expiredAccounts,B=a.mailProEligible,j=a.mailProEnabled,U=a.appRootPath,H=a.smartViewCategoriesEnabled,W=a.disposableAddress,G=a.showTweet,Z=a.stationeryRestrictedThemes,V=a.rtl,q=a.linkAccountList,z=a.blockSenders,Y=a.isPrimaryAccountDisabled,K=this.context.mailBrandNameString,X=M.Jc+"?crumb="+window.AppBootstrapData.crumb,Q=[d.a.createElement(ie,{key:M.Nd.AUTOMATIC_REPLY,title:e(ho.automaticReply),groupId:M.Nd.AUTOMATIC_REPLY},d.a.createElement(Lt,s()({},this.props,{stationery:this.props.vacationResponseStationery}))),d.a.createElement(ie,{key:M.Nd.FILTERS,title:e(ho.filters),groupId:M.Nd.FILTERS},d.a.createElement(gn,{onSave:this.props.handleSaveFilter,filters:this.props.messageFilters,onCreateNewFolder:this.handleCreateNewFolder})),d.a.createElement(ie,{key:M.Nd.SECURITY_AND_PRIVACY,title:e(ho.security),groupId:M.Nd.SECURITY_AND_PRIVACY},d.a.createElement(qn,{getAccounts:n,blockedSenders:i,blockSenders:z,changeSettings:this.props.changeSettings}))];return d.a.createElement("section",{className:go.container,"data-test-id":"settings-navigation"},d.a.createElement(te,{key:r},d.a.createElement(ie,{title:e(ho.personalize_inbox),groupId:M.Nd.PERSONALIZE_INBOX},d.a.createElement(ge,this.props)),d.a.createElement(ie,{title:e(ho.mailboxes),groupId:M.Nd.ACCOUNTS},d.a.createElement(co,{stationeryRestrictedThemes:Z,disposableAddress:W,appRootPath:U,getAccounts:n,deaBaseName:m,baseNameSuggestions:_,getAliasSuggestions:u,getAliasSuggestionStatus:p,newAccount:h,composeFontFamily:E,composeFontSize:g,defaultSelectedAccount:b,openReauth:D,accountSyncFailed:P,sendingEmailConfirmStatus:R,canAddImapInAccount:w,canRemoveImapInAccount:F,addAliasAccount:x,expiredAccounts:L,showTweet:G,rtl:V,enableLinkAccounts:q,onDeleteAccount:this.handleDeleteAccount})),d.a.createElement(ie,{title:e(ho.notifications),groupId:M.Nd.NOTIFICATIONS},d.a.createElement(Kt,{browserNotifications:!!o})),d.a.createElement(ie,{title:e(ho.writingEmail),groupId:M.Nd.WRITING_EMAIL},d.a.createElement(mi,null)),d.a.createElement(ie,{title:e(ho.viewingEmail),groupId:M.Nd.VIEWING_EMAIL},d.a.createElement(ka,null)),H?d.a.createElement(ie,{title:e(ho.categorization),groupId:M.Nd.CATEGORIZATION},d.a.createElement(ve,null)):null,Y?null:Q,d.a.createElement(ie,{title:e(ho.contacts),groupId:M.Nd.CONTACTS},d.a.createElement(Es,{connectedAccounts:l})),B?d.a.createElement(ie,{title:e(ho.yahooMailProBrandName),groupId:M.Nd.MAIL_PRO},d.a.createElement(xs,{mailProEnabled:j})):null,d.a.createElement(ie,{style:{marginTop:"auto",paddingTop:"20px"},linkTo:X,hideLink:!N,selfTab:!0,title:e(ho.optOutLinkText)}),d.a.createElement(ie,{linkTo:t,hideLink:!I,title:e(ho.aboutYMail,{mailBrandNameString:K})}),d.a.createElement(ie,{linkTo:f,title:e(ho.aboutAds),hideLink:!v}),d.a.createElement(ie,{linkTo:T,title:e(ho.giveFeedback),hideLink:!A}),d.a.createElement(ie,{linkTo:y,title:e(ho.help)}),d.a.createElement(ie,{linkTo:C,title:e(ho.privacy)}),k?d.a.createElement(ie,{linkTo:k,title:d.a.createElement(c.Fragment,null,d.a.createElement("span",null,O),d.a.createElement(po,null))}):null,d.a.createElement(ie,{linkTo:S,title:e(ho.terms)})))}}r()(Eo,"contextTypes",{config:l.a.object,intl:m.intlShape.isRequired,executeAction:l.a.func,navigateTo:l.a.func,store:l.a.object,mailBrandNameString:l.a.string});const bo=e=>{const t=Object(W.selectors)(e),a=t.getAllAccounts,n=t.getAliasAccounts,s=t.getFeaturesSelectors,i=t.isFeatureEnabled,r=t.getRoute,o=t.getSelectedAccountIdByRoute,l=t.getAccountById,c=t.getAliasSuggestions,d=t.getAliasSuggestionStatus,m=t.getMailboxesSelectors,_=t.getSendingAccountId,u=t.getExpiredAccounts,p=t.getAccountSelectors,h=(0,t.getEnvironmentSelectors)(),g=h.getDoNotSellUrl,E=h.getDoNotSellLabel,b=s(),f=b.getSetting("logoUrl"),C=b.getSetting("secureCryptoMode"),S=b.getSetting("appRootPath"),y=b.getSetting("linkAccountList"),T=b.isEnabled(M.Eb.DISPOSABLE_ADDRESS),v=b.isEnabled(M.Eb.SHOW_TWEET),I=b.isEnabled(M.Kd.STATIONERY_RESTRICTED_THEMES),A=b.getSetting(M.Kd.LINK_ENHANCER_URL_BLOCK_LIST),N=b.isEnabled(M.Eb.RTL),k=b.isEnabled(M.Eb.STATIONERY),O=b.isEnabled(M.Eb.VACATION_RESPONSE_STATIONERY),D=r(),P=l(o(D)),R=m(),w=R.getRecentlyAddedAccount(),F=b.isEnabled(M.Eb.SMARTVIEW_CATEGORIES_ENABLED),x=p().isPrimaryAccountDisabled(),L=b.getSetting(M.Kd.ABOUT_AD_URL),B=b.getSetting(M.Kd.PRIVACY_URL),j=b.getSetting(M.Kd.TERMS_URL),U=b.getSetting(M.Kd.HELP_URL),H=b.getSetting(M.Kd.FEEDBACK_URL),G=b.isEnabled(M.Eb.SHOW_ABOUT_OUR_ADS_LINK),Z=b.isEnabled(M.Eb.SHOW_ABOUT_YAHOO_MAIL_LINK),V=b.isEnabled(M.Eb.SHOW_GIVE_FEEDBACK_LINK),q=b.isEnabled(M.Eb.SHOW_OPT_OUT_LINK_MORE_SETTINGS),z=i(M.Eb.DO_NOT_SELL_LINK);return{getAccounts:()=>[].concat(a().filter(e=>e.type!==M.n.ALIAS),n()),isPrimaryAccountDisabled:x,defaultSendingAccount:l(_()),expiredAccounts:u(),logoUrl:f,secureCryptoMode:C,appRootPath:S,disposableAddress:T,showTweet:v,stationeryRestrictedThemes:I,linkEnhancerUrlBlocklist:A,rtl:N,stationery:k,vacationResponseStationery:O,linkAccountList:y,aboutAdsUrl:L,privacyUrl:B,termsUrl:j,helpUrl:U,feedbackUrl:H,showAboutOurAdsLink:G,showAboutYahooMailLink:Z,showGiveFeedbackLink:V,optOutLinkInMoreSettings:q,doNotSellUrl:z?g():void 0,doNotSellLabel:E(),messageFilters:b.getSetting(M.Kd.MESSAGE_FILTERS),vacationPreferences:b.getSetting(M.Kd.VACATION_PREFERENCES),activeAccount:P,selectedGroup:D.params.settingsGroupId,defaultSelectedAccount:D.params.accountId,openReauth:!0===D.params.openReauth,snippets:b.isEnabled(M.Kd.SNIPPETS),photoThemes:b.isEnabled(M.Eb.PHOTO_THEMES),themeSetting:b.getSetting(M.Kd.THEME),partnerBrand:b.getSetting(M.Kd.PARTNER_BRAND),themeModeSetting:b.getSetting(M.Kd.THEME_MODE),previewPaneSetting:b.getSetting(M.Kd.PREVIEW_PANE),msgListDensity:b.getSetting(M.Kd.MSG_LIST_DENSITY),canAddImapInAccount:b.isEnabled("canAddImapInAccount"),canRemoveImapInAccount:b.isEnabled("canRemoveImapInAccount"),multiTaskModeSetting:b.isEnabled(M.Kd.MAIL_TABS),mailProEligible:b.isEnabled(M.Eb.MAIL_PRO_ELIGIBLE),mailProEnabled:b.isEnabled(M.Eb.MAIL_PRO),addAliasAccount:b.isEnabled("addAliasAccount"),browserNotifications:b.isEnabled(M.Kd.DESKTOP_NOTIFICATION),composeFontSize:b.getSetting(M.Kd.COMPOSE_FONT_SIZE),composeFontFamily:b.getSetting(M.Kd.COMPOSE_FONT_FAMILY),connectedAccounts:R.getSocialAccountsStatus(),blockedSenders:b.getSetting(M.Kd.DELIVERY_BLOCKED_SENDERS),deaBaseName:R.getDeaBaseName(),deaBaseNameSuggestions:R.getBaseNameSuggestions(),getAliasSuggestions:c,getAliasSuggestionStatus:d,newAccount:w,accountSyncFailed:!!w&&!w.isSynced,sendingEmailConfirmStatus:b.isEnabled(M.Kd.SENDING_EMAIL_CONFIRM_STATUS),smartViewCategoriesEnabled:F,hasWideLogo:b.isEnabled(M.Kd.HAS_WIDE_LOGO),breakingNewsSettings:b.getSetting(M.Kd.BREAKING_NEWS_SETTINGS),breakingNews:b.isEnabled(M.Eb.BREAKING_NEWS)}},fo=e=>({deleteAccount:t=>e(Object(C.f)(t)),blockSenders:t=>e(Object(S.b)(t)),handleSaveFilter:t=>e(Object(b.f)(t)),changeSettings:t=>e(Object(b.b)(t))});t.default=Object(D.connect)(bo,fo,void 0,{areStatePropsEqual:(e,t)=>h()(Object(x.g)(e,["getAccounts"]),Object(x.g)(t,["getAccounts"]))})(Eo)},,function(e,t,a){"use strict";a.r(t),a.d(t,"uiContext",(function(){return It})),a.d(t,"mapDispatchToProps",(function(){return Mt}));var n=a(31),s=a(13),i=a(8),r=a(0),o=a(66),l=a(3),c=a.n(l),d=a(7),m=a.n(d),_=a(1),u=a.n(_),p=a(1534),h=a.n(p),g=a(322);a(51);const E=2*r.D.Paddings.AROUND_PAGE_WIDTH,b=2*r.D.Paddings.AROUND_PAGE_HEIGHT;function f({containerWidth:e,contentWidth:t}){return Math.max(Math.round((t+E-e)/2),0)}function C(e,t){const a=e.contentAndRightRailHeight;return{containerWidth:t?e.innerWidth:function({contentAndRightRailWidth:e}){return e>=1252?Math.floor((e-E-52)/2):Math.max(e-E-600-52,450)}({contentAndRightRailWidth:e.contentAndRightRailWidth}),containerHeight:a}}var S=a(28),y=a.n(S),T=a(12),v=a.n(T),I=a(1535),M=a.n(I);const A=v()(M.a);var N=class extends u.a.Component{constructor(e){super(e),c()(this,"_setupIframe",(e=0)=>{const t=this.iframeRef.current,a=t&&t.contentDocument;if(a&&"complete"===a.readyState){const e=t.contentDocument.createElement("div");a.body.appendChild(e),this._iframeContentNode=e,this._renderChildrenIntoContentNode(this.props)}else e<50&&(this._timerID=setTimeout(()=>{this._setupIframe(++e)},200))}),c()(this,"_renderChildrenIntoContentNode",e=>{y.a.unstable_renderSubtreeIntoContainer(this,u.a.createElement("div",null,e.children),this._iframeContentNode)}),this.iframeRef=u.a.createRef()}componentDidMount(){this._setupIframe()}componentWillUpdate(e){this._iframeContentNode&&this._renderChildrenIntoContentNode(e)}componentWillUnmount(){this._timerID&&(clearTimeout(this._timerID),this._timerID=null),this._iframeContentNode&&(y.a.unmountComponentAtNode(this._iframeContentNode),this._iframeContentNode=null)}render(){const e=this.props;return u.a.createElement("iframe",{className:A.iframe,ref:this.iframeRef,width:e.width,height:e.height})}},k=a(11),O=a(1414),D=a(23);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const w=Object(O.a)(R({},k.Qb,{backgroundColor:"transparent",border:0,fill:k.M.INVERTED,"pointer-events":"auto",outline:"none",cursor:"pointer"})),F=`\n    html, body {\n        margin: 0;\n        padding: 0;\n    }\n    .lightbox.dp-doc-pages [data-name=scroll-area] [data-name=infinite-scroll-content] {\n        display: flex;\n        justify-content: center;\n    }\n    .lightbox .dp-page-outer {\n        transform: translate(-50%, 0);\n    }\n    .dp-doc-pages>div {\n        height: 100%;\n    }\n    .dp-doc-pages [data-name=scroll-area] {\n        height: 100%;\n        overflow-y: scroll;\n        position: relative;\n    }\n    .dp-doc-pages ul {\n        list-style: none;\n        margin: 0px;\n        padding: ${r.D.Paddings.AROUND_PAGE_WIDTH}px;\n    }\n    .dp-doc-pages ul > li:focus {\n        outline: none;\n    }\n    .f-left {\n        float: left;\n    }\n    .f-left {\n        float: right;\n    }\n    .f-clear {\n        clear: both;\n    }\n    .v-top {\n        vertical-align: top;\n    }\n    .bi {\n        position: absolute;\n        border: 0;\n        margin: 0;\n        user-select: none;\n    }\n    .c {\n        position: absolute;\n        border: 0;\n        padding: 0;\n        margin: 0;\n        overflow: hidden;\n        display: block;\n    }\n    .t {\n        position: absolute;\n        white-space: pre;\n        -webkit-transform-origin: 0 100%;\n        -moz-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        unicode-bidi: bidi-override;\n        -moz-font-feature-settings: "liga" 0;\n    }\n    .t:after {\n        content: "";\n    }\n    .t:before {\n        content: "";\n        display: inline-block;\n    }\n    .t span {\n        position: relative;\n        unicode-bidi: bidi-override;\n    }\n    ._ {\n        display: inline-block;\n        color: transparent;\n        z-index: -1;\n    }\n    .pi {\n        display: none;\n    }\n    .d {\n        position: absolute;\n        -webkit-transform-origin: 0 100%;\n        -moz-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n    }\n    .it {\n        border: none;\n        background-color: rgba(255, 255, 255, 0);\n    }\n    .ir:hover {\n        cursor: pointer;\n    }\n    a.l:hover {\n        cursor: pointer;\n    }\n    .dp-page-inner {\n        position: absolute;\n        padding: 0;\n        margin: 0;\n        top: 0;\n        left: 0;\n        transform-origin: 0 0;\n        padding-right: 16px;\n    }\n    .dp-page-outer {\n        position: absolute;\n        background-color: #fff;\n        margin: 0 auto 12px auto;\n        box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);\n    }\n    .pf {\n        position: relative;\n        background-color: #fff;\n        overflow: hidden;\n        border: 0;\n        margin: 0 auto;\n        border-collapse: separate\n    }\n    .dp-styles {\n        display: none;\n    }\n    .list-styles {\n        list-style: none\n    }\n    .btn-top {${Object(O.a)(R({},k.Sb,{bottom:7*k.G+"px",backgroundColor:Object(D.a)(k.J,.7)}))}}\n    .btn-top:hover {background-color: ${k.J};}\n    .btn-top > button {${w}}\n    .btn-top > button > span {${Object(O.a)(k.Rb)}}\n    .btn-top > button > span > svg {${w}}\n`;var x=class extends u.a.Component{render(){const e=Object.keys(this.props.pages).reduce((e,t)=>this.props.pages[t].status!==r.od.ERROR&&this.props.pages[t].status!==r.od.LOADING&&this.props.pages[t].content.css?[...e,u.a.createElement("style",{key:t,type:"text/css",dangerouslySetInnerHTML:{__html:this.props.pages[t].content.css}})]:e,[]);return u.a.createElement("div",{className:"dp-styles"},u.a.createElement("style",{key:"default",type:"text/css",dangerouslySetInnerHTML:{__html:F}}),e)}};var L=class extends u.a.Component{render(){return u.a.createElement("div",{className:"dp-page-outer",style:{backgroundColor:"#fff",height:this.props.height,width:this.props.width}},u.a.createElement("div",{className:"dp-page-inner dp-page-loading"}))}},B=a(6),j=Object(B.defineMessages)({back:{id:"preview.back",defaultMessage:"Back"},close:{id:"preview.close",defaultMessage:"Close"},openMessage:{id:"openMessage",defaultMessage:"Open Message"},retryAttachmentFetch:{id:"retryDocumentFetch",defaultMessage:"Retry"},printAttachment:{id:"printAttachment",defaultMessage:"Print"},downloadAttachment:{id:"downloadAttachment",defaultMessage:"Download"},forwardAttachment:{id:"forwardAttachment",defaultMessage:"Forward"},openAttachmentInNewTab:{id:"openAttachmentInNewTab",defaultMessage:"Open in New Window"},collapse:{id:"preview.collapse",defaultMessage:"Collapse"},expand:{id:"preview.expand",defaultMessage:"Expand"},refreshDocumentPage:{id:"refreshDocumentPage",defaultMessage:"Refresh"},attachmentPreviewDefaultErrorMessage:{id:"attachmentPreviewDefaultErrorMessage",defaultMessage:"We are having trouble previewing this file."},passwordProtectedPDFPreviewErrorMessage:{id:"passwordProtectedPDFPreviewErrorMessage",defaultMessage:"Previews for password-protected PDF files are not supported."},increaseZoom:{id:"increaseZoom",defaultMessage:"Increase zoom"},decreaseZoom:{id:"decreaseZoom",defaultMessage:"Decrease zoom"},nextAttachment:{id:"nextAttachment",defaultMessage:"Next attachment"},previousAttachment:{id:"previousAttachment",defaultMessage:"Previous attachment"}}),U=a(136),H=a(242);class W extends u.a.Component{render(){const e=this.props,t=e.refreshPage,a=e.pageNumber,n=this.context.intl.formatMessage;return u.a.createElement("div",{className:"dp-page-outer",style:{height:this.props.height,width:this.props.width,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:k.Jb,textAlign:"center",fontSize:k.m,fontFamily:k.n}},u.a.createElement("div",{"data-test-id":"page-error"},u.a.createElement(H.a,{kind:U.a.ATTACHMENT_PREVIEW_ERROR,width:88,height:88}),u.a.createElement("p",null,u.a.createElement(B.FormattedMessage,{id:"attachmentPreviewPageDefaultErrorMessage",defaultMessage:"Trouble previewing page {page_number}. {refresh}",values:{refresh:u.a.createElement("button",{style:{backgroundColor:k.Jb,outline:0,border:0,padding:0,cursor:"pointer",fontSize:k.m,fontFamily:k.n},"data-test-id":"page-refresh-link",onClick:e=>{e.preventDefault(),t()}},u.a.createElement("span",{style:{color:k.o}},n(j.refreshDocumentPage))),page_number:a}}))))}}c()(W,"contextTypes",{intl:B.intlShape});var G=W;function Z(e){return e?e.replace(/&(#?[\w\d]+);?/g,(e,t)=>{var a,n;return"#"===t.charAt(0)&&(n="x"===t.charAt(1)?parseInt(t.substr(2).toLowerCase(),16):parseInt(t.substr(1),10),isNaN(n)||n<-32768||n>65535||(a=String.fromCharCode(n))),a||e}):""}class V extends u.a.Component{constructor(...e){super(...e),c()(this,"_getTransformStyle",()=>{const e=`scale(${this.props.scale})`;return{transform:e,WebkitTransform:e}})}componentWillMount(){this.props.page.status&&this.props.page.status!==r.od.DOES_NOT_EXIST||this.props.onPageNotFound(this.props.id)}render(){const e=this.props,t=e.refreshPage,a=e.id,n=e.height,s=e.width,i=e.page.status;if(!i||i===r.od.DOES_NOT_EXIST||i===r.od.LOADING)return u.a.createElement(L,{height:n,width:s});if(i===r.od.ERROR)return u.a.createElement(G,{height:n,width:s,refreshPage:t,pageNumber:a});const o=this.props.page.content;return u.a.createElement("div",{id:"pf"+a,className:"dp-page-outer",style:{height:this.props.height,width:this.props.width}},u.a.createElement("div",{className:"dp-page-inner",style:this._getTransformStyle(),dangerouslySetInnerHTML:{__html:Z(o.html)}}))}}c()(V,"defaultProps",{scale:1});var q=V,z=a(111),Y=a.n(z),K=a(1536),X=a.n(K),Q=a(21),J=a(4),$=a(22),ee=a(58),te=a(10),ae=a(315),ne=a(650);const se="SECTION",ie="ROW",re="PENCIL",oe=Object(B.defineMessages)({infinite_scroll_messages:{id:"infinite_scroll.messages",defaultMessage:"Messages"},infinite_scroll_scroll_to_top:{id:"infinite_scroll.scroll_to_top_button_title",defaultMessage:"Scroll to top"}});function le(e=0,t=0,a=0){return{transform:`translate3d(${e}px, ${t}px, ${a}px)`}}class ce extends u.a.Component{constructor(...e){super(...e),c()(this,"setScrollContainer",e=>{this.scrollContainer=e}),c()(this,"_getMeta",({size:e,getHeightForIndex:t,isSectionHeader:a,hasMoreItems:n,contentInsetTop:s,isInvalidItem:i,getIdForIndex:r})=>{const o=Array(e+(n?1:0)+1);let l=s;const c=[],d=[];let m,_=0;for(let s=0;s<e+(n?1:0);s++){const e=r(s),n=a(s);i(e)||(o[_]=l,n&&(void 0!==m&&_-m==1&&(d.pop(),c.pop(),_--),m=_,d.push(_)),0===_&&n||(l+=t(s)),_++),n&&c.push(s)}return o[_]=l,{sectionIndices:c,sectionPositionIndices:d,positions:o,containerHeight:l}}),c()(this,"_getStartItemForScrollTop",e=>{const t=this.props,a=this._getMeta(t).positions;let n=0;for(let s=0;s<t.size;s++)if(a[s]>e){n=s-1;break}return n=Math.max(n,0),n}),c()(this,"_getItemsFitToView",({bufferSize:e,size:t},{positions:a},n)=>{const s=this._rectBox.height;let i=0,r=t;for(let e=0;e<t;e++)if(a[e]>n){i=e-1;break}for(let e=i;e<t;e++){if(a[Math.min(e+1,t-1)]>=n+s){r=e+1;break}}return i=Math.max(i-e,0),r=Math.min(r+e,t),this._maxSpread<r-i&&(this._maxSpread=r-i),r=i+this._maxSpread,{start:i,end:r}}),c()(this,"_scrollToFitCursor",()=>{this.scroller.scrollTop=Math.max(this.state.positions[this.props.cursorIndex]-this._rectBox.height/2,1)}),c()(this,"_handleResize",()=>{this._maxSpread=0,this._onBoundingRectChange()}),c()(this,"_onBoundingRectChange",()=>{const e=this._rectBox.height;if(this.scrollContainer)if(this._rectBox=this.scrollContainer.getBoundingClientRect(),this.scroller.style.height=this._rectBox.height-this._getPinnedSectionHeight()+"px",this._rectBox.height!==e){const e=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);this.setState(e,this._loadMoreIfNeeded)}else this._loadMoreIfNeeded()}),c()(this,"_loadMoreIfNeeded",()=>{const e=this.props,t=e.size;(this.state.positions[t-e.loadThreshold]||this.state.positions[t])<this._lastScrollTop+this._rectBox.height&&this._loadMore()}),c()(this,"_createBreakingNewsRefreshTimer",()=>{this.breakingNewsRefreshTimer=setTimeout(()=>{this.props.isBreakingNewsDismissed||this.state.dismissBreakingNews||(this.props.onBreakingNewsRefresh(),this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=null),this._createBreakingNewsRefreshTimer())},this.props.newsRefreshInterval)}),c()(this,"focusItem",e=>{if(!this.content||!this.content.children)return!1;const t=this.content.children[e-this.state.start];return!!t&&(this.animationFrameIDs.focusItem=requestAnimationFrame(()=>{t.children[0].focus(),t.children[0].setAttribute("tabindex",this.props.groupTabIndex)}),!0)}),c()(this,"_handleFocusPass",e=>{let t;e.preventDefault(),this.props.cursorIndex<0?(this.scroller.scrollTop=0,t=this.props.initialIndexForTab,this.props.selectFirstItem()):(this._scrollToFitCursor(),t=this.props.cursorIndex,this.animationFrameIDs.focusPass=window.requestAnimationFrame(()=>this.focusItem(t)))}),c()(this,"_handleScroll",e=>{e.stopPropagation(),this.animationRequested||this.scroller&&(this._lastScrollTop=this.scroller.scrollTop,this.animationRequested=!0,this.props.onScroll(),this.animationFrameIDs.scroll=window.requestAnimationFrame(()=>{this.animationRequested=!1;const e=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);e.pinnedSectionIndex=this._getPinnedSectionIndex(this.state.sectionPositionIndices),this.props.newsArticle.title&&!this.state.dismissBreakingNews&&(e.dismissBreakingNews=this.state.pinnedSectionIndex!==e.pinnedSectionIndex),this.state.start===e.start&&this.state.end===e.end&&this.state.pinnedSectionIndex===e.pinnedSectionIndex||this.setState(e),this._loadMoreIfNeeded(),this._styleItems(),this.props.onScrollTopChange(this._lastScrollTop),clearTimeout(this.scrollTopTimeout),this.scrollTopTimeout=setTimeout(()=>{const e=this._scrollPercent();(e<5&&this.goToTop||e>5&&!this.goToTop)&&this.forceUpdate()},100)}))}),c()(this,"_getPinnedSectionIndex",e=>{const t=this._getSectionIndexStatus(e);return t?t.findIndex(e=>e===r.Gd.PINNED):0}),c()(this,"_styleStickyHeader",()=>{if(this._lastScrollTop&&!this._stickyHeaderStyled){const e=Object($.p)(this.context.getTheme())&&this.context.getThemeMode()===$.i.DARK;this.stickyheader.style.boxShadow=e?k.Db.BLACK_MED:k.Db.MED,this._stickyHeaderStyled=!0}else this._lastScrollTop||(this.stickyheader.style.boxShadow="none",this._stickyHeaderStyled=!1)}),c()(this,"_styleItems",()=>{const e=this.state,t=e.start,a=e.sectionPositionIndices,n=this._stylesForSections(a);this.content&&Array.prototype.forEach.call(this.content.children,(e,a)=>{const n=this._translateForIndex(a+t);Object.assign(e.style,n)}),this.header&&Array.prototype.forEach.call(this.header.children,(e,t)=>{Object.assign(e.style,n[a[t]])}),this.stickyheader&&this._styleStickyHeader()}),c()(this,"_loadMore",()=>{const e=this.props,t=e.onLoadMore,a=this.state;!t||a.loading||!e.hasMoreItems||e.size-a.end>e.loadThreshold||this.setState({loading:!0},t)}),c()(this,"_translateForIndex",e=>le(0,this.state.positions[e])),c()(this,"_getSectionIndexStatus",e=>{const t=Math.floor(r.Fd*this._getPinnedSectionHeight());let a=0;for(let n=e.length-1;n>=0;n--){if(this.state.positions[e[n]]<=this._lastScrollTop-t){a=n;break}}return e.map((e,t)=>a===t?r.Gd.PINNED:r.Gd.FLOW)}),c()(this,"_stylesForSections",e=>{const t=this._getSectionIndexStatus(e),a=this.state.positions,n={};return e.forEach((e,s)=>{let i;switch(t[s]){case r.Gd.FLOW:i=le(0,a[e]);break;case r.Gd.PINNED:i={display:"none"}}n[e]=Object.assign({zIndex:1},i)}),n}),c()(this,"getRowClass",e=>e.item),c()(this,"renderRow",(e,t,{type:a,translation:n})=>{const s=this.props,i=s.cursorIndex,r=t===i||i<0&&s.initialIndexForTab===t?s.groupTabIndex:-1,o=(0,s.getElementForIndex)(t);if(o)return u.a.createElement("li",{key:t,role:"rowgroup","data-test-id":"infinite-scroll-"+a,className:e.item,style:n},u.a.cloneElement(o,{tabIndex:r}))}),c()(this,"_getPinnedSectionHeight",()=>{const e=this.state,t=e.sectionIndices,a=e.pinnedSectionIndex;return a>=0&&a<t.length?(0,this.props.getHeightForIndex)(t[a]):0}),c()(this,"_scrollPercent",()=>this.scroller?Math.floor(this.scroller.scrollTop/this.scroller.scrollHeight*100):0),c()(this,"_scrolToTop",()=>{this.scroller&&(this.scroller.scrollTop=0)}),c()(this,"state",Object.assign(this._getMeta(this.props),{loading:!1,pinnedSectionIndex:0,prevSize:0,dismissBreakingNews:!1})),this._handleResizeDebounced=Y()(this._handleResize.bind(this),200)}componentWillReceiveProps(e){const t={};Object.assign(t,this._getMeta(e)),Object.assign(t,this._getItemsFitToView(e,t,this._lastScrollTop)),t.pinnedSectionIndex=this._getPinnedSectionIndex(t.sectionPositionIndices),t.loading=this.state.loading&&this.props.size===e.size&&Array.apply(null,{length:this.props.size}).every((t,a)=>this.props.getIdForIndex(a)===e.getIdForIndex(a)),t.prevSize=this.props.size,this.setState(t)}componentWillMount(){let e=0;const t=this.props,a=t.cursorIndex,n=t.initialScrollTop,s=t.initialRenderCount,i=t.size;this._maxSpread=0,this._rectBox={height:0,top:0},this._lastScrollTop=0,this._stickyHeaderStyled=!1,this.animationFrameIDs={},n>0?(this._lastScrollTop=n,e=this._getStartItemForScrollTop(this._lastScrollTop)):a>s&&(e=Math.max(a-(Math.ceil(s/2)-1),0),this._lastScrollTop=this.state.positions[e]),this.setState({start:e,end:Math.min(e+s,i)})}componentDidMount(){const e=this.props,t=e.cursorIndex,a=e.initialRenderCount,n=e.initialScrollTop;if(this._onBoundingRectChange(),n>0)this.scroller.scrollTop=n;else if(t>a)this._scrollToFitCursor();else{const e=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);this.state.start===e.start&&this.state.end===e.end||this.setState(e,()=>{this._styleItems(),this._loadMoreIfNeeded()})}setTimeout(()=>this.focusItem(this.props.cursorIndex)),window.addEventListener("resize",this._handleResizeDebounced),this.scroller.addEventListener("scroll",this._handleScroll),this.props.isBreakingNewsEnabled&&this.stickyheader&&this._createBreakingNewsRefreshTimer()}componentWillUnmount(){clearTimeout(this.scrollTopTimeout),Object.keys(this.animationFrameIDs).forEach(e=>{window.cancelAnimationFrame(this.animationFrameIDs[e])}),this._handleResizeDebounced.cancel(),window.removeEventListener("resize",this._handleResizeDebounced),this.scroller.removeEventListener("scroll",this._handleScroll),this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=null)}componentDidUpdate(e){const t=this.props;if(this.props.layoutKey!==e.layoutKey?this._handleResizeDebounced():this._loadMoreIfNeeded(),document.activeElement&&document.activeElement!==document.body&&(function(e){return e&&(["INPUT","SELECT","TEXTAREA"].indexOf(e.tagName)>=0||"true"===e.getAttribute("contentEditable"))}(document.activeElement)||document.activeElement.tabIndex===k.Lb.MESSAGE_LIST_MAIN))return;(function({cursorIndex:e,size:t,bufferSize:a},{start:n,end:s}){return s=s===t-1?s:s-a-1,(n=0===n?n:n+a)<e&&e<s}(this.props,this.state)&&t.cursorIndex!==e.cursorIndex||t.getIdForIndex(t.cursorIndex)!==e.getIdForIndex(e.cursorIndex))&&this.focusItem(t.cursorIndex)}render(){const e=this.context.getTheme(),t=this.context.getCss(X.a,{["theme-"+e]:!0}),a=this.context.intl.formatMessage,n=this.props,s=n.hasMoreItems,i=n.getElementForIndex,r=n.size,o=n.cursorIndex,l=n.groupTabIndex,c=n.isSectionHeader,d=n.isPencilAd,m=n.getHeightForIndex,_=n.dir,p=n.isBreakingNewsEnabled,h=n.newsArticle,g=n.onBreakingNewsDismissed,E=n.onBreakingNewsClicked,b=n.isCompactLayout,f=n.onBreakingNewsRendered,C=this.state,S=C.loading,y=C.start,T=C.end,v=C.sectionIndices,I=C.pinnedSectionIndex,M=C.sectionPositionIndices,A=[];let N=0,k=null,O=null,D=y;const P=this._stylesForSections(M);for(let e=y;e<T;e++)if(e<r){let a,n;if(c(e)?(a=se,n=v.indexOf(e)):a=d(e)?re:ie,n<0)continue;const s=this.renderRow(t,n>=0?v[n]:e,{type:a,translation:n>=0?P[M[n]]:this._translateForIndex(D)});s&&(A.push(s),D++)}else A.push(null);const R=M.map((e,a)=>this.renderRow(t,v[a],{type:se,translation:P[e]}));return I>-1&&v.length>0&&(N=m(v[I]),k=u.a.createElement("div",{ref:e=>this.stickyheader=e,className:t.stickyHeader,style:{height:N},"data-test-id":"mail-reader-sticky-header"},p&&!this.state.dismissBreakingNews&&h.title&&!h.isRead?u.a.createElement(ne.a,{newsArticle:h,isCompactLayout:b,breakingNewsDismissed:g,breakingNewsClicked:E,breakingNewsRendered:f}):i(v[I]))),this._scrollPercent()>5&&(O=u.a.createElement("div",{ref:e=>this.goToTop=e,className:this.props.insideIframe?"btn-top":t.scrollToTop,onClick:this._scrolToTop},u.a.createElement(Q.default,{kind:J.Kinds.TAP_TO_TOP,size:J.Sizes.XS,colorState:J.ColorStates.INVERTED,paddingLess:!0,title:a(oe.infinite_scroll_scroll_to_top)}))),u.a.createElement("div",{"data-test-id":"infinite-scroll-container",className:t.main,dir:_,ref:this.setScrollContainer},k,u.a.createElement("div",{role:"navigation",className:t.scroll,"data-name":"scroll-area","data-test-id":"virtual-list",ref:e=>{this.scroller=e,this.props.scrollRef(e)},style:{marginTop:N},"aria-label":a(oe.infinite_scroll_messages)},u.a.createElement("div",{"data-test-id":"infinite-scroll-focus-passer",className:t.focusStealer,tabIndex:y>o||T<o?l:-1,onFocus:this._handleFocusPass}),u.a.createElement("div",{className:t.container,"data-name":"infinite-scroll-content","data-test-id":"infinite-scroll-content",style:{height:this.state.containerHeight}},u.a.createElement("ul",{ref:e=>this.content=e,className:t.container,role:"grid","data-test-id":"infinite-scroll-rows","aria-readonly":"true"},A),u.a.createElement("ul",{ref:e=>this.header=e,className:t.container,"aria-hidden":!0},R),S&&s&&u.a.createElement("div",{className:t.loading},u.a.createElement(ee.b,null)))),O)}}c()(ce,"contextTypes",{getCss:m.a.func,intl:B.intlShape.isRequired,getTheme:m.a.func,getThemeMode:m.a.func}),c()(ce,"defaultProps",{contentInsetTop:0,initialRenderCount:15,bufferSize:1,isSectionHeader:()=>!1,isPencilAd:()=>!1,initialIndexForTab:0,cursorIndex:-1,hasMoreItems:!1,loadThreshold:10,selectFirstItem:()=>null,onScrollTopChange:()=>{},onScroll:()=>{},layoutKey:"@DEFAULT",scrollRef:()=>{},isInvalidItem:()=>!1,isBreakingNewsEnabled:!1,isBreakingNewsDismissed:!1,newsArticle:{},newsRefreshInterval:0,isCompactLayout:!1});var de=Object(s.connect)(e=>{const t=Object(te.selectors)(e),a=t.isFeatureEnabled,n=t.getSetting,s=t.getBreakingNewsSelectors,i=(0,t.getEnvironmentSelectors)(),o=s().getIsBreakingNewsDismissed();return{isBreakingNewsEnabled:a(r.Eb.BREAKING_NEWS_ENABLED),isBreakingNewsDismissed:o,newsArticle:s().getNewsArticle(),newsRefreshInterval:n(r.Kd.BREAKING_NEWS_REFRESH_INTERVAL),isCompactLayout:n(r.Kd.PREVIEW_PANE)===r.ed.RIGHT,dir:i.getPageDirection()}},e=>({onBreakingNewsDismissed:t=>e(Object(ae.b)(t)),onBreakingNewsRefresh:t=>e(Object(ae.c)(t)),onBreakingNewsClicked:t=>e(Object(ae.a)(t)),onBreakingNewsRendered:t=>e(Object(ae.d)(t))}))(ce);class me extends u.a.Component{constructor(e,t){super(e,t),c()(this,"_calculateTotalHeight",e=>{const t=e.exceptions,a=e.defaultPageHeight,n=e.scale,s=e.totalPages;let i,o=0,l=0;for(i in t)t.hasOwnProperty(i)&&(l+=t[i].h*n,o++);return l+=(s-o)*a*n,l+=r.D.GAP_BETWEEN_PAGES*s,l}),c()(this,"_getScrollTopForPageIndex",e=>{let t=0;for(let a=0;a<e;a++){t+=_e(this.props,a).height+r.D.GAP_BETWEEN_PAGES}return t}),c()(this,"handleScrollTopChange",e=>{const t=this.props.totalPages;let a=0,n=e;for(let e=0;e<t;e++){if(n-=_e(this.props,e).height,n<0){a=e;break}}this.lastPageIndex!==a&&(this.lastPageIndex=a,this.props.handleScrollChange({currentPageIndex:a})),this.lastScrollTopFactor=e/this.state.totalHeight}),this.state={totalHeight:this._calculateTotalHeight(e)}}componentWillReceiveProps(e){const t=this.props;if(e.documentId===t.documentId&&e.scale===t.scale||this.setState({totalHeight:this._calculateTotalHeight(e)}),e.currentPageIndex!==t.currentPageIndex){const t=this._getScrollTopForPageIndex(e.currentPageIndex);this.lastScrollTopFactor=t/this.state.totalHeight}}componentWillMount(){this.lastScrollTopFactor=this.props.initialScrollTopFactor,this.lastPageIndex=0}componentWillUnmount(){this.props.persistScrollState(this.lastScrollTopFactor)}componentDidUpdate(e){if(e.scale!==this.props.scale){const e=f({containerWidth:this.props.containerWidth,contentWidth:this.props.defaultPageWidth*this.props.scale});y.a.findDOMNode(this._infiniteScroll.scroller)&&(y.a.findDOMNode(this._infiniteScroll.scroller).scrollLeft=e)}}render(){const e=this.props,t=e.pages,a=e.currentPageIndex,n=e.fetchPage,s=e.scale,i=e.documentId,o=e.totalPages;return u.a.createElement("div",{className:e.fullScreenMode?"lightbox dp-doc-pages":"dp-doc-pages"},u.a.createElement(x,{pages:t}),u.a.createElement(de,{ref:e=>{this._infiniteScroll=e},key:i+s+a,initialRenderCount:1,bufferSize:1,size:o,getHeightForIndex:t=>_e(e,t).height+r.D.GAP_BETWEEN_PAGES,getElementForIndex:a=>{const i=_e(e,a);return u.a.createElement(q,{id:a+1,height:i.height,width:i.width,scale:s,page:t[a+1]||{},onPageNotFound:n,refreshPage:()=>n(a+1,!0)})},getIdForIndex:ue,onScrollTopChange:this.handleScrollTopChange,initialScrollTop:this.lastScrollTopFactor*this.state.totalHeight,insideIframe:!0}))}}function _e(e,t){const a=t+1;let n=e.defaultPageHeight,s=e.defaultPageWidth;if(e.exceptions["p"+a]){const t=e.exceptions["p"+a];n=t.h,s=t.w}return n*=e.scale,s*=e.scale,{height:n,width:s}}function ue(){return 1}c()(me,"defaultProps",{initialScrollTopFactor:0});var pe=me,he=a(1537),ge=a.n(he),Ee=a(25),be=a(18);const fe=v()(ge.a);class Ce extends u.a.Component{constructor(...e){super(...e),c()(this,"getErrorActionMessage",()=>{const e=this.props,t=e.onRetryRequested,a=e.downloadUrl,n=e.filename,s=this.context.intl.formatMessage;return u.a.createElement(B.FormattedMessage,this.props.attachmentError.isRetryable?{id:"attachmentPreviewErrorRetryAndDownload",defaultMessage:"{retry} or {download} {filename}",values:{retry:u.a.createElement(be.a,{onClick:e=>{e.preventDefault(),t()},kind:Ee.a.CHROMELESS,"data-iskeynav":!0,title:s(j.retryAttachmentFetch)},u.a.createElement("span",{className:fe.link},s(j.retryAttachmentFetch))),download:u.a.createElement("a",{className:fe.link,target:"_blank",href:a,rel:"noopener"},s(j.downloadAttachment)),filename:n}}:{id:"attachmentPreviewErrorDownload",defaultMessage:"{download} {filename}",values:{download:u.a.createElement("a",{className:fe.link,target:"_blank",href:a,rel:"noopener"},s(j.downloadAttachment)),filename:n}})}),c()(this,"getErrorMessage",()=>(0,this.context.intl.formatMessage)(815===this.props.attachmentError.code?j.passwordProtectedPDFPreviewErrorMessage:j.attachmentPreviewDefaultErrorMessage))}render(){return u.a.createElement("div",{"data-test-id":"attachment-error",className:fe.container},u.a.createElement(H.a,{kind:U.a.ATTACHMENT_PREVIEW_ERROR,width:88,height:88}),u.a.createElement("p",null,this.getErrorMessage()),this.getErrorActionMessage())}}c()(Ce,"contextTypes",{intl:B.intlShape});var Se=Ce,ye=a(1450),Te=a.n(ye),ve=a(168),Ie=a(154),Me=a.n(Ie);const Ae=13;class Ne extends u.a.Component{constructor(...e){super(...e),c()(this,"state",{navigatorPageNumber:this.props.currentPageNumber,inputMode:!1}),c()(this,"_pageNumberInputChanged",e=>{this.setState({navigatorPageNumber:e.target.value})}),c()(this,"_onKeyUp",e=>{if(e.keyCode!==Ae)return;const t=this.props.totalPages,a=parseInt(this.state.navigatorPageNumber,10);a>0&&a<=t&&this.props.jumpToPage(a),this.setState({inputMode:!this.state.inputMode})}),c()(this,"_toggleInput",()=>{this.setState({inputMode:!this.state.inputMode,navigatorPageNumber:this.props.currentPageNumber.toString()})})}componentDidUpdate(){this.state.inputMode&&this.refs.input.focus()}render(){const e=this.props.fullScreenMode,t=this.context.getCss(Te.a,{fullScreenMode:e});return u.a.createElement("span",null,u.a.createElement("span",{className:t.pageLabel},u.a.createElement(B.FormattedMessage,{id:"pagenavigator.page",defaultMessage:"Page"})),this.state.inputMode?u.a.createElement(ve.a,{ref:"input",containerClassName:t.pageNavInputContainer,className:Me()(t.pageNavInput,{[t.currentPageTheme]:e}),"data-test-id":"previewr-pageno-input",value:this.state.navigatorPageNumber,onChange:this._pageNumberInputChanged,onKeyUp:this._onKeyUp}):u.a.createElement("span",{className:Me()(t.currentPage,{[t.currentPageTheme]:e}),"data-test-id":"previewr-pageno-label",onClick:this._toggleInput},this.props.currentPageNumber),u.a.createElement("span",{className:t.totalPages},u.a.createElement(B.FormattedMessage,{id:"pagenavigator.of",defaultMessage:"of"})," ",this.props.totalPages))}}c()(Ne,"contextTypes",{intl:B.intlShape.isRequired,getCss:m.a.func});var ke=Ne,Oe=a(1538),De=a.n(Oe),Pe=a(16),Re=a(5),we=a(1539),Fe=a.n(we);const xe=v()(Fe.a);class Le extends u.a.Component{constructor(e){super(e),c()(this,"_onMouseMove",e=>{this.slideActive&&this._updateSliderPosition(e.clientX)}),c()(this,"_updateSliderPosition",e=>{const t=this.props,a=t.minValue,n=t.isRTL,s=t.maxValue-a,i=this.refs.sliderBar.getBoundingClientRect(),r=i.left,o=i.right,l=o-r;let c=e-r;e<r?c=0:e>o&&(c=l);this._setSlider(n?s-(c/l+a):c/l)}),c()(this,"_incrementSlider",()=>{this._setSlider(this.state.value+.05)}),c()(this,"_decrementSlider",()=>{this._setSlider(this.state.value-.05)}),c()(this,"_setSlider",e=>{const t=this.props,a=t.minValue,n=t.maxValue,s=this.state.value;(e=Math.max(Math.min(1,e),0))!==s&&(this.setState({value:e}),this.props.onChange(a+e*(n-a)))}),c()(this,"_startSlide",()=>{this.slideActive=!0}),c()(this,"_stopSlide",()=>{this.slideActive=!1});const t=e.minValue;this.state={value:(e.initialValue-t)/(e.maxValue-t)}}render(){const e=this.props,t=e.strings,a=e.minValue,n=e.maxValue,s=e.isRTL,i=this.state.value,r=n-a,o=a+i*r,l=s?100-100*i:100*i;return u.a.createElement("div",{"data-test-id":"slider-box",className:xe.container,onMouseLeave:this._stopSlide,onMouseUp:this._stopSlide,onMouseMove:this._onMouseMove},u.a.createElement("div",{className:xe.inner},u.a.createElement("div",null,u.a.createElement(Q.default,{"data-iskeynav":!0,"data-test-id":"decrease-slider",kind:J.Kinds.MINUS,size:J.Sizes.XS,onClick:this._decrementSlider,colorState:J.ColorStates.INVERTED,title:t.decreaseSlider,"aria-label":t.decreaseSlider})),u.a.createElement("div",{className:xe.barContainer,"data-test-id":"slider"},u.a.createElement("div",{ref:"sliderBar","data-test-id":"slider-bar",className:xe.bar,onClick:e=>{this._updateSliderPosition(e.clientX)},role:"presenation"}),u.a.createElement("span",{style:{left:"calc("+l+"% - 4px)"},className:xe.slider,"data-test-id":"slider-handle",onMouseDown:this._startSlide,role:"slider","data-iskeynav":!0,"aria-valuemin":a,"aria-valuemax":n,"aria-valuenow":o.toFixed(2)})),u.a.createElement("div",null,u.a.createElement(Q.default,{"data-iskeynav":!0,"data-test-id":"increase-slider",kind:J.Kinds.ADD,size:J.Sizes.XS,onClick:this._incrementSlider,colorState:J.ColorStates.INVERTED,title:t.increaseSlider,"aria-label":t.increaseSlider}))))}}c()(Le,"defaultProps",{initialValue:0,minValue:0,maxValue:1});var Be=Object(s.connect)(e=>({isRTL:"rtl"===(0,Object(te.selectors)(e).getEnvironmentSelectors)().getPageDirection()}))(Le);const je=v()(De.a);class Ue extends u.a.Component{constructor(...e){super(...e),c()(this,"handleNavigate",(e,t)=>{this.props.onNavigate(e,{i13nModel:{interactionType:Object(Pe.getInteractionFromEvent)(t)}})}),c()(this,"handleZoom",e=>{this.props.onZoom(e,{i13nModel:{interactionType:Re.e.click}})}),c()(this,"renderZoomControls",()=>this.renderSlider()),c()(this,"renderSlider",()=>{const e=j.decreaseZoom,t=this.context.intl.formatMessage;return u.a.createElement(Be,{className:je.slider,onChange:this.handleZoom,initialValue:this.props.initialZoomFactor+r.D.MIN_SCALE,strings:{increaseSlider:t(j.increaseZoom),decreaseSlider:t(e)},minValue:r.D.MIN_SCALE,maxValue:r.D.MAX_SCALE})})}render(){const e=this.props,t=e.nextAttachmentId,a=e.showZoomControls,n=this.context.intl.formatMessage;return u.a.createElement("div",{"data-test-id":"previewr-controls",className:je.container},e.previousAttachmentId&&u.a.createElement("div",{className:je.leftButton+" "+je.rtlRawScaleX},u.a.createElement(Q.default,{"data-iskeynav":!0,"data-test-id":"prev-document",kind:J.Kinds.ARROW_RIGHT_DOC,rotate:J.Rotate.D180,size:J.Sizes.XS,onClick:this.handleNavigate.bind(this,r.D.Movement.PREV),colorState:J.ColorStates.INVERTED,title:n(j.previousAttachment),"aria-label":n(j.previousAttachment),className:je.buttonIcon})),t&&u.a.createElement("div",{className:je.rightButton+" "+je.rtlRawScaleX},u.a.createElement(Q.default,{"data-iskeynav":!0,"data-test-id":"next-document",kind:J.Kinds.ARROW_RIGHT_DOC,size:J.Sizes.XS,onClick:this.handleNavigate.bind(this,r.D.Movement.NEXT),colorState:J.ColorStates.INVERTED,title:n(j.nextAttachment),"aria-label":n(j.nextAttachment),className:je.buttonIcon})),a?this.renderZoomControls():null)}}c()(Ue,"contextTypes",{intl:B.intlShape.isRequired}),c()(Ue,"defaultProps",{initialZoomFactor:r.D.MIN_SCALE,showZoomControls:!0});var He=Ue,We=a(1540),Ge=a.n(We),Ze=a(17),Ve=a(90),qe=a(132),ze=a(324);function Ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ye(a,!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ye(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}class Xe extends u.a.Component{constructor(...e){super(...e),c()(this,"_handleClose",e=>{e.stopPropagation(),this.props.onClose({i13nModel:{interactionType:Object(Pe.getInteractionFromEvent)(e)}})}),c()(this,"_handlePrint",e=>{e.stopPropagation(),this.props.onPrint({i13nModel:{interactionType:Object(Pe.getInteractionFromEvent)(e)}})}),c()(this,"_handleDownload",e=>{e.stopPropagation(),this.props.onDownload({i13nModel:{interactionType:Object(Pe.getInteractionFromEvent)(e)}})}),c()(this,"_handleMessageOpen",e=>{e.stopPropagation(),this.props.onMessageOpen({i13nModel:{interactionType:Object(Pe.getInteractionFromEvent)(e)}})}),c()(this,"_handleOpenInNewWindow",e=>{this.props.onOpenInNewWindow({i13nModel:{interactionType:Object(Pe.getInteractionFromEvent)(e)}})}),c()(this,"_handleOpenInFullScreen",e=>{e.stopPropagation(),this.props.onOpenInFullScreen({i13nModel:{interactionType:Object(Pe.getInteractionFromEvent)(e)}})}),c()(this,"_handleShare",(e,t)=>{this.props.onForward(e,t)})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.fullScreenMode,n=t.hideOpenMessageIcon,s=t.hidePopoutIcon,i=t.hideBackButton,r=t.hideCloseButton,o=t.hidePrintButton,l=t.hideDownloadButton,c=t.route,d=v()(Te.a,{fullScreenMode:a}),m={normal:a?J.ColorStates.INVERTED:J.ColorStates.NORMAL,hovered:a?J.ColorStates.INVERTED_DIM:J.ColorStates.SELECTED},_=this.context.getUrlFromRoute(Ke({},c,{query:Ke({},c.query,{fullscreen:"1",target:"blank"})}));return u.a.createElement(qe.a,{axis:qe.b.HORIZONTAL,circularNavigation:!1,"data-test-id":"previewr-toolbar",className:d.container,groupTabIndex:k.Lb.ATTACHMENT_PREVIEW_TOOLBAR,role:"toolbar"},u.a.createElement("div",{className:d.columnLeft},i?null:u.a.createElement("div",{className:d.backButton,onClick:this._handleClose,title:e(j.back),"aria-label":e(j.back)},u.a.createElement(Ze.b,{"data-test-id":"previewr-back","data-iskeynav":!0,kind:J.Kinds.ARROW_UP,rotate:J.Rotate.D270,size:J.Sizes.XS,colorState:J.ColorStates.INVERTED}),u.a.createElement("span",{className:d.backButtonLabel},u.a.createElement(B.FormattedMessage,j.back))),u.a.createElement("span",{"data-test-id":"previewr-filename",className:d.filename,title:this.props.filename},this.props.filename)),u.a.createElement("div",{className:d.columnCenter},u.a.createElement("span",{className:d.pageNav},this.props.children)),u.a.createElement("div",{className:d.columnRight},n?null:u.a.createElement("span",{className:d.buttonContainer},u.a.createElement(Ve.a,{"data-iskeynav":!0,"data-test-id":"previewr-open-message",kind:J.Kinds.INBOX,size:J.Sizes.XS,colorStates:m,onClick:this._handleMessageOpen,title:e(j.openMessage),"aria-label":e(j.openMessage)})),o?null:u.a.createElement("span",{className:d.buttonContainer},u.a.createElement(Ve.a,{"data-iskeynav":!0,"data-test-id":"previewr-print",kind:J.Kinds.PRINTER,size:J.Sizes.XS,colorStates:m,onClick:this._handlePrint,title:e(j.printAttachment),"aria-label":e(j.printAttachment)})),l?null:u.a.createElement("span",{className:d.buttonContainer},u.a.createElement(Ve.a,{"data-iskeynav":!0,"data-test-id":"previewr-download",kind:J.Kinds.DOWNLOAD,size:J.Sizes.XS,colorStates:m,onClick:this._handleDownload,title:e(j.downloadAttachment),"aria-label":e(j.downloadAttachment)})),u.a.createElement("span",{className:d.buttonContainer+" "+d.rtlRawScaleX},u.a.createElement(ze.a,{"data-iskeynav":!0,onForward:this._handleShare,colorStates:m,"data-test-id":"previewr-forward",title:e(j.forwardAttachment),"aria-label":e(j.forwardAttachment)})),s?null:u.a.createElement("span",{className:d.buttonContainer},u.a.createElement("a",{href:_,"data-test-id":"previewr-popout",target:"_blank",validate:"true",onClick:this._handleOpenInNewWindow},u.a.createElement(Ve.a,{"data-iskeynav":!0,kind:J.Kinds.POP_OUT,size:J.Sizes.XS,colorStates:m,title:e(j.openAttachmentInNewTab),"aria-label":e(j.openAttachmentInNewTab)}))),a?null:u.a.createElement("span",{className:d.buttonContainer},u.a.createElement(Ve.a,{"data-iskeynav":!0,"data-test-id":"previewr-expand-btn",kind:J.Kinds.EXPAND,size:J.Sizes.XS,colorStates:m,onClick:this._handleOpenInFullScreen,title:e(j.expand),"aria-label":e(j.expand)})),r?null:u.a.createElement("span",{className:d.buttonContainer},u.a.createElement(Ve.a,{"data-iskeynav":!0,"data-test-id":"previewr-close",kind:J.Kinds.CLOSE,size:J.Sizes.XS,colorStates:m,onClick:this._handleClose,title:e(j.close),"aria-label":e(j.close)}))))}}c()(Xe,"contextTypes",{intl:B.intlShape.isRequired,executeAction:m.a.func.isRequired,getUrlFromRoute:m.a.func.isRequired});var Qe=Object(s.connect)(e=>{const t=Object(te.selectors)(e),a=t.getRouteUIContext,n=(0,t.getRoute)(),s=a(),i="1"===n.query.fullscreen,r="blank"===n.query.target,o=n.params.attachmentId&&-1!==n.params.attachmentId.indexOf("inlineImage");return{hideOpenMessageIcon:!i||!s.mKey||-1!==It.OPEN_ATTACHMENT_IN_FULLSCREEN.indexOf(s.mKey),hidePopoutIcon:!i||r||o,hideBackButton:!i||i&&r,hideCloseButton:i&&r,hidePrintButton:o,hideDownloadButton:o,route:n}})(Xe);const Je=v()(Ge.a);var $e=class extends u.a.Component{constructor(...e){super(...e),c()(this,"state",{currentPageNumber:1,navigateToPageIndex:0,showControls:!1}),c()(this,"_handleScrollChange",e=>{this.setState({currentPageNumber:e.currentPageIndex+1})}),c()(this,"_jumpToPage",e=>{this.setState({currentPageNumber:e,navigateToPageIndex:e-1})}),c()(this,"nextPage",()=>{const e=this.state.currentPageNumber+1;e<=this.props.totalPages&&this._jumpToPage(e)}),c()(this,"prevPage",()=>{const e=this.state.currentPageNumber-1;e>0&&this._jumpToPage(e)}),c()(this,"_calculateScale",()=>{const e=this.props,t=e.document;return function({orientation:e,zoom:t,containerWidth:a,containerHeight:n,contentWidth:s,contentHeight:i}){let o;return o=e===r.D.Orientation.FIT_TO_WIDTH?(a-E)/s:(n-b)/i,o+t}({orientation:e.fullScreenMode?r.D.Orientation.FIT_TO_HEIGHT:r.D.Orientation.FIT_TO_WIDTH,zoom:e.zoomLevel,containerWidth:e.containerWidth,containerHeight:e.containerHeight,contentWidth:t.width,contentHeight:t.height})}),c()(this,"_getPageListProps",()=>{const e=this.props,t=this.state,a=e.document;return{pages:a.pages,totalPages:e.totalPages,exceptions:a.exceptions,defaultPageHeight:a.height,defaultPageWidth:a.width,documentId:e.documentId,scale:this._calculateScale(),initialScrollTopFactor:e.initialScrollTopFactor,currentPageIndex:t.navigateToPageIndex,fetchPage:e.fetchPage,handleScrollChange:this._handleScrollChange,onUnmount:e.onPageListUnmount,persistScrollState:e.persistScrollState,containerWidth:e.containerWidth,fullScreenMode:e.fullScreenMode}}),c()(this,"renderContent",()=>{const e=this.props,t=e.documentError,a=e.containerWidth,n=e.filename,s=e.downloadUrl,i=e.refetchDocument;switch(e.documentState){case r.od.LOADED:return u.a.createElement(N,{width:a+"px",height:"100%"},u.a.createElement(pe,this._getPageListProps()));case r.od.ERROR:return u.a.createElement(Se,{onRetryRequested:i,attachmentError:t,filename:n,downloadUrl:s});default:return u.a.createElement(ee.b,null)}}),c()(this,"_onMouseOver",()=>{if(!this.state.showControls){const e=this.props.documentState;this.setState({showControls:e===r.od.LOADED||e===r.od.ERROR})}}),c()(this,"_onMouseLeave",()=>{this.setState({showControls:!1})})}render(){const e=this.props,t=e.documentState,a=e.onNavigate,n=e.onZoom,s=e.nextAttachmentId,i=e.previousAttachmentId,o=e.fullScreenMode,l=e.zoomLevel,c=this.state,d=c.showControls;return u.a.createElement("div",{className:Je.container,onMouseOver:this._onMouseOver,onMouseLeave:this._onMouseLeave,"data-test-id":"previewr-doc"},u.a.createElement(Qe,{filename:e.filename,onClose:e.onClose,onOpenInFullScreen:e.onOpenInFullScreen,onOpenInNewWindow:e.onOpenInNewWindow,onMessageOpen:e.onMessageOpen,onDownload:e.onDownload,onPrint:e.onPrint,onForward:e.onForward,fullScreenMode:o},e.document?u.a.createElement(ke,{currentPageNumber:c.currentPageNumber,totalPages:e.totalPages,jumpToPage:this._jumpToPage,fullScreenMode:o}):null),u.a.createElement("div",{className:Je.content},this.renderContent()),d?u.a.createElement(He,{onNavigate:a,onZoom:n,"data-test-id":"previewr-controls",initialZoomFactor:l,nextAttachmentId:s,previousAttachmentId:i,showZoomControls:t===r.od.LOADED}):null)}},et=a(1541),tt=a.n(et),at=a(20);const nt=v()(tt.a);class st extends u.a.Component{constructor(...e){super(...e),c()(this,"state",{loaded:!1,controlsActive:!1,failed:!1}),c()(this,"_loadImage",()=>{if(Object(at.c)()){const e=new Image;e.onload=this._onImageLoad.bind(this,e),e.onerror=this._onImageLoadError,e.src=this.props.src}}),c()(this,"_onImageLoad",e=>{this._actualWidth=e.naturalWidth,this._actualHeight=e.naturalHeight,this.setState({loaded:!0})}),c()(this,"_onImageLoadError",()=>{this.setState({failed:!0})}),c()(this,"_getScaledDimensions",()=>{const e=this._actualWidth,t=this._actualHeight,a=this.props,n=function({zoom:e,containerWidth:t,containerHeight:a,contentWidth:n,contentHeight:s,initialImageContainerRatio:i}){const r=a*i.heightRatio,o=Math.min(n,t*i.widthRatio),l=Math.min(s,r);return Math.min(o/n,l/s)+e}({zoom:a.zoomLevel,containerWidth:a.containerWidth-2*r.D.Paddings.AROUND_IMG_WIDTH,containerHeight:a.containerHeight-r.D.TOOLBAR_HEIGHT-2*r.D.Paddings.AROUND_IMG_HEIGHT,contentWidth:e,contentHeight:t,initialImageContainerRatio:a.initialImageContainerRatio});return{width:Math.round(n*e),height:Math.round(n*t)}}),c()(this,"_renderImageTag",()=>{const e=this._getScaledDimensions();return u.a.createElement("div",{ref:e=>{this._imageWrapper=e},className:nt.imageWrapper},u.a.createElement("img",{className:nt.image,src:this.props.src,width:e.width,height:e.height}))}),c()(this,"_onMouseOver",()=>{if(!this.state.controlsActive){const e=this.state,t=e.failed;this.setState({controlsActive:e.loaded||t})}}),c()(this,"_onMouseLeave",()=>{this.setState({controlsActive:!1})}),c()(this,"_renderImageError",()=>{const e=this.props;return u.a.createElement(Se,{onRetryRequested:this._reloadImage,attachmentError:{isRetryable:!0},filename:e.filename,downloadUrl:e.src})}),c()(this,"_reloadImage",()=>{this.setState({failed:!1,loaded:!1}),this._loadImage()}),c()(this,"_renderContent",()=>{const e=this.state,t=e.failed;return e.loaded?this._renderImageTag():t?this._renderImageError():u.a.createElement(ee.b,null)})}componentWillReceiveProps(e){e.src!==this.props.src&&this.setState({loaded:!1,failed:!1},()=>this._loadImage())}componentWillMount(){this._loadImage()}componentDidUpdate(e){if(e.zoomLevel!==this.props.zoomLevel&&this._imageWrapper){const e=this._getScaledDimensions(),t=f({containerWidth:this.props.containerWidth,contentWidth:e.width});y.a.findDOMNode(this._imageWrapper).scrollLeft=t}}render(){const e=this.props,t=e.onZoom,a=e.onNavigate,n=e.nextAttachmentId,s=e.previousAttachmentId,i=e.zoomLevel,r=this.state,o=r.controlsActive,l=r.loaded;return u.a.createElement("div",{className:nt.container,"data-test-id":"previewr-image",onMouseOver:this._onMouseOver,onMouseLeave:this._onMouseLeave},u.a.createElement(Qe,{filename:e.filename,onClose:e.onClose,onOpenInFullScreen:e.onOpenInFullScreen,onMessageOpen:e.onMessageOpen,onOpenInNewWindow:e.onOpenInNewWindow,onDownload:e.onDownload,onPrint:e.onPrint,onForward:e.onForward,fullScreenMode:e.fullScreenMode}),u.a.createElement("div",{className:nt.content},this._renderContent()),o?u.a.createElement(He,{onNavigate:a,onZoom:t,"data-test-id":"previewr-controls",initialZoomFactor:i,nextAttachmentId:n,previousAttachmentId:s,showZoomControls:l}):null)}}c()(st,"defaultProps",{initialImageContainerRatio:{widthRatio:1,heightRatio:1}});var it=st,rt=a(203),ot=a(1542),lt=a.n(ot);class ct extends u.a.Component{render(){const e=this.context.getCss(lt.a,{modalStyle:this.props.isModalStyle});return u.a.createElement(rt.a,{top:0,left:0},u.a.createElement("div",{className:e.container},this.props.children))}}c()(ct,"contextTypes",{getCss:m.a.func});var dt=ct,mt=a(46),_t=a(171),ut=a(186);const pt={widthRatio:.68,heightRatio:.84};var ht=a(55),gt=a(14);function Et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Et(a,!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Et(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}Object(_t.b)({group:ut.b,keys:{previousPage:{key:"UP_ARROW",description:u.a.createElement(B.FormattedMessage,{id:"shortcut.previewr_previous_page",defaultMessage:"Previous Page"})},nextPage:{key:"DOWN_ARROW",description:u.a.createElement(B.FormattedMessage,{id:"shortcut.previewr_next_page",defaultMessage:"Next Page"})},previousAttachment:{key:"LEFT_ARROW",description:u.a.createElement(B.FormattedMessage,{id:"shortcut.previewr_previous",defaultMessage:"Previous Attachment"})},nextAttachment:{key:"RIGHT_ARROW",description:u.a.createElement(B.FormattedMessage,{id:"shortcut.previewr_next",defaultMessage:"Next Attachment"})},zoomIn:{key:"CTRL+=,META+=",description:u.a.createElement(B.FormattedMessage,{id:"shortcut.previewr_zoom_in",defaultMessage:"Zoom In"})},zoomOut:{key:"CTRL+-,META+-",description:u.a.createElement(B.FormattedMessage,{id:"shortcut.previewr_zoom_out",defaultMessage:"Zoom Out"})},fullscreen:{key:"CTRL+F,META+F",description:u.a.createElement(B.FormattedMessage,{id:"shortcut.previewr_fullscreen",defaultMessage:"Fullscreen"})},download:{key:"CTRL+D,META+D",description:u.a.createElement(B.FormattedMessage,{id:"shortcut.previewr_download",defaultMessage:"Download"})}}});const ft=["escape","up","down","right","left","ctrl+=","meta+=","ctrl+-","meta+-","ctrl+f","meta+f","ctrl+d","meta+d"],Ct=()=>{};class St extends u.a.Component{constructor(e){super(e),c()(this,"focus",()=>{setTimeout(()=>{this.refs.container&&this.refs.container.focus()},0)}),c()(this,"_getRapidKeys",e=>({mKey:Re.g[`ATTACHMENT_${this.props.fullScreenMode?"LIGHTBOX":"PREVIEW"}_${this.props.attachment.type===r.F.Types.IMAGE?"IMAGE":"DOCUMENT"}_${e}`]||Re.g.ATTACHMENT_ACTION_UNKNOWN,sec:this.props.fullScreenMode?Re.i.ATTACHMENT_LIGHTBOX:Re.i.ATTM_PREVIEW})),c()(this,"_handleZoomChange",(e,{i13nModel:t})=>{const a=Math.max(e-r.D.MIN_SCALE,0);this.setState({zoomLevel:a},()=>{this.props.handleAttachmentZoom({id:this.props.attachment.id,newZoomLevel:a,i13nModel:bt({},t,{},this._getRapidKeys("ZOOM"))})})}),c()(this,"_handleClose",({i13nModel:e})=>{this.props.handleClose(bt({},e,{},this._getRapidKeys("CLOSE")))}),c()(this,"_handleNavigation",(e,{i13nModel:t})=>{const a=this.props,n=a.previousAttachmentId,s=a.nextAttachmentId,i=a.nextMessageGroupId,o=a.previousMessageGroupId,l=a.attachmentNavType||"IN_MESSAGE",c=Object.assign({},a.fullScreenMode?{fullscreen:"1"}:null,a.fromMessagePreview?{messagePreview:"1"}:null,a.isNewCompose?{newCompose:"1"}:null);e===r.D.Movement.PREV&&n?this.context.navigateTo({route:Object(gt.d)(this.props.listId,o,n,c),i13nModel:Object.assign({},this._getRapidKeys("PREV_"+l),t)}):e===r.D.Movement.NEXT&&s&&this.context.navigateTo({route:Object(gt.d)(this.props.listId,i,s,c),i13nModel:Object.assign({},this._getRapidKeys("NEXT_"+l),t)})}),c()(this,"_onZoom",(e,{i13nModel:t})=>{let a=this.state.zoomLevel;e===r.D.Movement.ZOOM_IN?a+=r.D.SCALE_STEP:e===r.D.Movement.ZOOM_OUT&&(a-=r.D.SCALE_STEP),this._handleZoomChange(a+r.D.MIN_SCALE,{i13nModel:t})}),c()(this,"_handlePageNavigation",e=>{const t=this.refs.docViewer;t&&(e===r.D.Movement.PREV?t.prevPage():e===r.D.Movement.NEXT&&t.nextPage())}),c()(this,"_onDownload",({i13nModel:e})=>{this.props.handleDownload({attachment:this.props.attachment,i13nModel:Object.assign({},this._getRapidKeys("DOWNLOAD"),{mKeyGroup:Re.h.dwnldAttmnt},e)})}),c()(this,"_onPrint",({i13nModel:e})=>{this.props.handleDownload({attachment:this.props.attachment,i13nModel:Object.assign({},this._getRapidKeys("PRINT"),{mKey:Re.g.MSG_HDR_PRINT,mKeyGroup:Re.h.printAttmnt},e)})}),c()(this,"handleForward",(e,t)=>{const a=this.props,n=a.attachment,s=a.forwardAttachments,i={csid:e,attachments:n?[n]:[],i13nModel:bt({},this._getRapidKeys("SHARE"),{mKeyGroup:Re.h.composeMsg,interactionType:Re.e.click})};if(t)return this.context.navigateTo(bt({},i,{route:t}));s(i)}),c()(this,"handleOpenInNewWindow",({i13nModel:e})=>{this.context.executeAction(g.e,{i13nModel:Object.assign({},this._getRapidKeys("OPEN"),e)})}),c()(this,"handleMessageOpen",({i13nModel:e})=>{this.props.onMessageOpen({i13nModel:Object.assign({},this._getRapidKeys("MSG"),{mKeyGroup:Re.h.openMsg},e)})}),c()(this,"fetchPage",e=>{this.context.executeAction(g.c,{documentId:this.props.attachment.documentId,pageNumber:e})}),c()(this,"_handleKeyboard",e=>{const t=e.metaKey||e.ctrlKey;let a=!1;switch(e.keyCode){case mt.b.ESCAPE:this._handleClose({i13nModel:{interactionType:Re.e.shortcut}}),a=!0;break;case mt.b.LEFT:this._handleNavigation(r.D.Movement.PREV,{i13nModel:{interactionType:Re.e.shortcut}}),a=!0;break;case mt.b.RIGHT:this._handleNavigation(r.D.Movement.NEXT,{i13nModel:{interactionType:Re.e.shortcut}}),a=!0;break;case mt.b.UP:this._handlePageNavigation(r.D.Movement.PREV),a=!0;break;case mt.b.DOWN:this._handlePageNavigation(r.D.Movement.NEXT),a=!0;break;case 68:t&&(this._onDownload({i13nModel:{interactionType:Re.e.shortcut}}),a=!0);break;case 70:t&&(this._switchToFullScreen({i13nModel:{interactionType:Object(Pe.getInteractionFromEvent)(e)}}),a=!0);break;case mt.b.EQUAL:t&&(this._onZoom(r.D.Movement.ZOOM_IN,{i13nModel:{interactionType:Re.e.shortcut}}),a=!0);break;case mt.b.MINUS:t&&(this._onZoom(r.D.Movement.ZOOM_OUT,{i13nModel:{interactionType:Re.e.shortcut}}),a=!0)}a&&(e.preventDefault(),e.stopPropagation())}),c()(this,"_switchToFullScreen",({i13nModel:e})=>{const t=this.props,a=t.route,n=t.listId,s=Object.assign({fullscreen:"1"},t.fromMessagePreview?{messagePreview:"1"}:null,t.isNewCompose?{newCompose:"1"}:null);this.context.navigateTo({route:Object(gt.d)(n,a.params.groupId,a.params.attachmentId,s),i13nModel:Object.assign({mKey:Re.g.OPEN_LIGHTBOX_ATTACHMENT_PREVIEW,sec:Re.i.ATTM_PREVIEW},e)})}),c()(this,"getContainerDimension",()=>{const e=this.props;return C(e.windowDimensions,e.fullScreenMode)}),c()(this,"displayImageWhenReady",e=>{this.gifImageUrl=e.target.src,this.setState({imageLoaded:!0})}),c()(this,"loadImageInBackground",e=>{this.imageToLoad=new Image,this.imageToLoad.src=e,this.imageToLoad.onload=this.displayImageWhenReady}),c()(this,"_renderContent",()=>{const e=this.props,t=e.document,a=e.totalPages,n=e.documentError,s=e.documentState,i=e.attachment,o=e.initialScrollTopFactor,l=e.nextAttachmentId,c=e.previousAttachmentId,d=e.fullScreenMode,m=i.filename,_=i.documentId,p=i.downloadUrl,g=i.type,E=i.thumbnailUrl,b=i.subtype,f=this.state,C=f.zoomLevel,S=f.imageLoaded,y=this.getContainerDimension(),T=y.containerWidth,v=y.containerHeight,I=this.context.getCss(h.a);S||b!==r.F.SubTypes.GIF||this.loadImageInBackground(p);const M=S?this.gifImageUrl:Object(ht.r)(void 0)||Object(ht.r)(E)||p;return u.a.createElement("div",{ref:"container","data-test-id":"previewr",className:I.container,style:{width:T+"px"},tabIndex:k.Lb.ATTACHMENT_PREVIEW},g===r.F.Types.IMAGE?u.a.createElement(it,{filename:m,src:M,fullScreenMode:d,zoomLevel:C,containerWidth:T,containerHeight:v,onClose:this._handleClose,onOpenInFullScreen:this._switchToFullScreen,onMessageOpen:this.handleMessageOpen,onOpenInNewWindow:this.handleOpenInNewWindow,nextAttachmentId:l,previousAttachmentId:c,onZoom:this._handleZoomChange,onNavigate:this._handleNavigation,onDownload:this._onDownload,onPrint:this._onPrint,onForward:this.handleForward,initialImageContainerRatio:d?pt:{widthRatio:1,heightRatio:1}}):u.a.createElement($e,{ref:"docViewer",document:t,totalPages:a,documentError:n,filename:m,downloadUrl:p,documentId:_,key:_,documentState:s,fullScreenMode:d,zoomLevel:C,containerWidth:T,containerHeight:v,fetchPage:this.fetchPage,initialScrollTopFactor:o,persistScrollState:Ct,onClose:this._handleClose,onOpenInFullScreen:this._switchToFullScreen,onOpenInNewWindow:this.handleOpenInNewWindow,onMessageOpen:this.handleMessageOpen,nextAttachmentId:l,previousAttachmentId:c,onZoom:this._handleZoomChange,onNavigate:this._handleNavigation,onDownload:this._onDownload,onPrint:this._onPrint,onForward:this.handleForward,refetchDocument:this.fetchPage}))});this.state={zoomLevel:e.initialZoomLevel,imageLoaded:!1}}componentDidMount(){this.mousetrap=this.context.bindShortcut(ft,this._handleKeyboard,this.refs.container),this.focus()}componentWillUnmount(){this.context.unbindShortcut(ft,this.mousetrap)}componentDidUpdate(e){this.props.fullScreenMode&&this.focus(),e.fullScreenMode!==this.props.fullScreenMode&&(this.context.unbindShortcut(ft,this.mousetrap),this.mousetrap=this.context.bindShortcut(ft,this._handleKeyboard,this.refs.container))}componentWillReceiveProps(e){var t;if(e.attachment&&e.attachment.id!==(null===(t=this.props.attachment)||void 0===t?void 0:t.id)){const t=e.attachment.previewerUiState,a=(void 0===t?{}:t).zoomLevel;this.setState({zoomLevel:void 0===a?0:a}),this.setState({imageLoaded:!1})}}render(){const e=this.props,t=e.attachmentId;return e.attachment?e.fullScreenMode?u.a.createElement(dt,null,this._renderContent()):this._renderContent():(t&&t.includes("inlineImage")&&this.props.handleClose({}),null)}}c()(St,"contextTypes",{executeAction:m.a.func,getCss:m.a.func,navigateTo:m.a.func.isRequired,bindShortcut:m.a.func,unbindShortcut:m.a.func}),c()(St,"defaultProps",{initialScrollTopFactor:0,initialZoomLevel:0});var yt=Object(s.connect)(null,e=>({handleDownload({attachment:t,i13nModel:a}){e(Object(g.b)({attachment:t,i13nModel:a}))},handleAttachmentZoom(t){e(Object(g.f)(t))},forwardAttachments(t){e(Object(g.d)(t))}}))(St),Tt=a(44),vt=a(9);const It={OPEN_ATTACHMENT_FROM_LIST_VIEW:[Re.g.DOC_OPEN,Re.g.PHOTO_OPEN,Re.g.ATTACHMENT_LIGHTBOX_OPEN,Re.g.ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_LIST,Re.g.ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_GROUP,Re.g.ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_LIST,Re.g.ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_GROUP,Re.g.ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_LIST,Re.g.ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_LIST,Re.g.ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_GROUP,Re.g.ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_GROUP],OPEN_ATTACHMENT_FROM_MSG_VIEW:[Re.g.OPEN_DOC_PREVIEW,Re.g.INLINE_IMAGE_PREVIEW,Re.g.ATTACHMENT_LIGHTBOX_IMAGE_CLOSE,Re.g.ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_MESSAGE,Re.g.ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_MESSAGE,Re.g.ATTACHMENT_LIGHTBOX_DOCUMENT_CLOSE,Re.g.ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_MESSAGE,Re.g.ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_MESSAGE,Re.g.ATTACHMENT_PREVIEW_IMAGE_NEXT_IN_MESSAGE,Re.g.ATTACHMENT_PREVIEW_IMAGE_PREV_IN_MESSAGE,Re.g.ATTACHMENT_PREVIEW_DOCUMENT_NEXT_IN_MESSAGE,Re.g.ATTACHMENT_PREVIEW_DOCUMENT_PREV_IN_MESSAGE,Re.g.ATTACHMENT_PREVIEW_IMAGE_SHARE,Re.g.ATTACHMENT_LIGHTBOX_IMAGE_SHARE,Re.g.TAB_CLICKED_WITH_ATTACHMENT_PREVIEW],OPEN_ATTACHMENT_IN_FULLSCREEN:[Re.g.OPEN_LIGHTBOX_ATTACHMENT_PREVIEW,Re.g.ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_MESSAGE,Re.g.ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_MESSAGE,Re.g.ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_MESSAGE,Re.g.ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_MESSAGE]},Mt=(e,t)=>({onMessageOpen:a=>{const n=t.getMessageRoute(a);return n?e(Object(Tt.j)(n)):null},handleClose:a=>e(Object(Tt.j)(t.getCloseRoute(a)))});t.default=Object(n.compose)(Object(s.connect)(e=>{const t=Object(te.selectors)(e),a=t.getAttachmentById,n=t.getDocumentSelectors,s=t.getRouteUIContext,l=t.getRoute,c=t.getFeaturesSelectors,d=t.getPreviousListItemId,m=t.getNextListItemId,_=t.getGroupIdContainingAttachmentId,u=t.getPreviousAttachmentIdForMessage,p=t.getNextAttachmentIdForMessage,h=t.getPreviousAttachmentIdForMessageGroup,g=t.getNextAttachmentIdForMessageGroup,E=t.normalizeRoute,b=t.getWindowDimensions,f=t.getMessageCsid,C=t.getFoldersSelectors,S=t.getStreamItemInFocus,y=t.doesMessageGroupIdExist,T=t.isSingleDraftGroup,v=(0,t.getInlineImagesAttachmentsSelectors)().getInlineImageByAttachmentId,I=l(),M=Object(i.z)(I),A=Object(i.w)(M),N=I.params.groupId,k=I.params.csid,O=I.params.attachmentId,D=a(O)||v(O),P=S(),R=P?P.messageId||P.id:Object(o.f)(O),w=D?D.documentId:null,F=function(e){const t=e&&e.previewerUiState?e.previewerUiState:{scrollPositionFactor:0,zoomLevel:0};return{initialZoomLevel:t.zoomLevel,initialScrollTopFactor:t.scrollPositionFactor}}(D),x=F.initialZoomLevel,L=F.initialScrollTopFactor,B=n(),j=s(),U="1"===I.query.fullscreen,H="1"===I.query.messagePreview,W="1"===I.query.newCompose;let G,Z,V,q;B.getState(w)!==r.od.DOES_NOT_EXIST&&(G=B.getDocument(w),Z=B.getState(w),V=B.getError(w),q=B.getNumberOfPages(w));let z="",Y="",K="",X=N,Q=N;const J=c().isEnabled(r.Eb.CONVERSATIONS);return j&&(-1!==It.OPEN_ATTACHMENT_FROM_MSG_VIEW.indexOf(j.mKey)||-1!==It.OPEN_ATTACHMENT_IN_FULLSCREEN.indexOf(j.mKey)?(Y=p(O,R),K=u(O,R),z="IN_MESSAGE"):-1!==It.OPEN_ATTACHMENT_FROM_LIST_VIEW.indexOf(j.mKey)&&A===r.ac.MESSAGES?(Y=g(O,N),K=h(O,N),z="IN_GROUP"):-1!==It.OPEN_ATTACHMENT_FROM_LIST_VIEW.indexOf(j.mKey)&&(Y=m(M,O),K=d(M,O),X=Y?_(Y):null,Q=K?_(K):null,z="IN_LIST")),{listId:M,fullScreenMode:U,attachmentId:O,nextAttachmentId:Y,previousAttachmentId:K,nextMessageGroupId:X,previousMessageGroupId:Q,documentId:w,document:G,totalPages:q,documentState:Z,documentError:V,attachment:D,initialZoomLevel:U?0:x,initialScrollTopFactor:L,route:I,attachmentNavType:z,fromMessagePreview:H,isNewCompose:W,windowDimensions:b(),getMessageRoute({i13nModel:e}){const t=a(O),n=Object(o.f)(O),s=Object(i.w)(M);let l;j.sec===Re.i.RIGHT_RAIL&&s===r.ac.MESSAGES&&(l=D.type===r.F.Types.IMAGE?Object(i.gb)(M,{listContentType:r.ac.IMAGES}):Object(i.gb)(M,{listContentType:r.ac.DOCUMENTS}));const c=Object(gt.o)({attachment:t,listId:l||M,isConversationMode:J});if(c)return{route:E(c),i13nModel:e,hashParams:{messageId:n}};const d=t.csid?Object(gt.f)(t.csid,I.query):null;return d?{route:E(d),i13nModel:e}:null},getCloseRoute(e){let t;const a=Object(i.q)(M),n=C(),s=n.doesFolderIdExist,o=n.getPrimaryFolderTypeByFolderId;if(-1!==It.OPEN_ATTACHMENT_IN_FULLSCREEN.indexOf(j.mKey)){const a=Object.assign({},W?{newCompose:"1"}:null,H?{messagePreview:"1"}:null);return t=Object(gt.d)(M,N,O,a),{route:E(t),i13nModel:e}}if("IN_MESSAGE"===z){const e=y(N)&&T(N);t=s(a)&&o(a)===r.Mb.DRAFT&&!H?W?Object(gt.f)(k||f(R)):e||!J?Object(gt.j)(M,f(R)):Object(gt.p)(M,N):H?Object(gt.n)(M):Object(gt.p)(M,N)}else t=Object(gt.n)(M);return Object(vt.c)(j)&&O&&O.includes("inlineImage")&&(t=H?Object(gt.n)(M):Object(gt.p)(M,N)),{route:E(t),i13nModel:e}}}}),Object(s.connect)(void 0,Mt))(yt)},function(e,t,a){"use strict";a.r(t),a.d(t,"AdvancedSearchPills",(function(){return je}));var n=a(27),s=a.n(n),i=a(33),r=a.n(i),o=a(3),l=a.n(o),c=a(6),d=(a(7),a(1)),m=a.n(d),_=a(12),u=a.n(_),p=a(1367),h=a.n(p),g=a(19),E=(a(51),a(363)),b=a(0),f=a(1368),C=a(1387),S=a(168);const y=u()(h.a),T=Object(c.defineMessages)({subject_label:{id:"advanced_search.subject_label",defaultMessage:"Subject"}});class v extends m.a.Component{render(){const e=this.props,t=e.subject,a=e.onChange,n=e.onClear;return m.a.createElement("div",{className:y.inputWrapper},m.a.createElement("span",{className:y.inputLabel},(0,this.context.intl.formatMessage)(T.subject_label)),m.a.createElement(S.a,{className:y.inputField,type:"text",tabIndex:0,id:"adv-search-subject-input","data-test-id":"adv-search-subject-input",value:t,onClear:n,onChange:a,isClearable:!0}))}}l()(v,"contextTypes",{intl:c.intlShape.isRequired});var I=v;const M=u()(h.a),A=Object(c.defineMessages)({keyword_label:{id:"advanced_search.keyword_label",defaultMessage:"Keyword"}});class N extends m.a.Component{render(){const e=this.props,t=e.keyword,a=e.onChange,n=e.onClear;return m.a.createElement("div",{className:M.inputWrapper},m.a.createElement("span",{className:M.inputLabel},(0,this.context.intl.formatMessage)(A.keyword_label)),m.a.createElement(S.a,{className:M.inputField,type:"text",tabIndex:0,id:"adv-search-keyword-input","data-test-id":"adv-search-keyword-input",value:t,onClear:n,onChange:a,isClearable:!0}))}}l()(N,"contextTypes",{intl:c.intlShape.isRequired});var k=N,O=a(28),D=a.n(O),P=a(18),R=a(25),w=a(1833),F=a.n(w);const x=u()(F.a),L=Object(c.defineMessages)({reset_btn_title:{id:"advanced_search.reset_btn_title",defaultMessage:"Reset"},reset_btn_label:{id:"advanced_search.reset_btn_label",defaultMessage:"Reset"},search_btn_title:{id:"advanced_search.search_btn_title",defaultMessage:"Search"},search_btn_label:{id:"advanced_search.search_btn_label",defaultMessage:"Search"}});class B extends m.a.Component{constructor(...e){super(...e),l()(this,"isSearchButtonFocused",()=>document.activeElement===Object(O.findDOMNode)(this.searchButton)),l()(this,"focusSearchButton",()=>{Object(O.findDOMNode)(this.searchButton).focus()})}render(){const e=this.props,t=e.onSubmit,a=e.disabled,n=this.context.intl.formatMessage;return m.a.createElement("div",{className:x.buttonContainer},m.a.createElement("div",{className:x.resetBtnWrapper},m.a.createElement(P.a,{onClick:e.onReset,"data-test-id":"adv-search-reset-btn",kind:R.a.CHROMELESS,title:n(L.reset_btn_title),"data-iskeynav":!0,overridingClass:x.resetBtn,tabIndex:0},n(L.reset_btn_label))),m.a.createElement("div",{className:x.searchBtnWrapper},m.a.createElement(P.a,{ref:e=>this.searchButton=e,onClick:t,"data-test-id":"adv-search-search-btn",kind:R.a.SECONDARY,title:n(L.search_btn_title),"data-iskeynav":!0,tabIndex:0,disabled:a},n(L.search_btn_label))))}}l()(B,"contextTypes",{intl:c.intlShape.isRequired});var j=B,U=a(320),H=a(1834),W=a.n(H);const G=u()(W.a),Z=Object(c.defineMessages)({contains_label:{id:"advanced_search.contains_label",defaultMessage:"Contains"},attachment_label:{id:"advanced_search.attachment_label",defaultMessage:"Attachment"},photo_label:{id:"advanced_search.photo_label",defaultMessage:"Photo"},calendar_invite_label:{id:"advanced_search.calendar_invite_label",defaultMessage:"Calendar invite"}});class V extends m.a.Component{constructor(...e){super(...e),l()(this,"renderAttachmentCheckbox",e=>{const t=this.context.intl.formatMessage,a=u()(W.a,{checkboxSelected:e});return m.a.createElement("div",{className:a.checkboxWrapper},m.a.createElement(U.a,{isChecked:e,id:"adv-search-attachment-checkbox","data-test-id":"adv-search-attachment-checkbox",onClick:this.props.onCheckboxClick.bind(null,b.s.ATTACHMENT),tabIndex:0,className:a.checkboxButton}),m.a.createElement("label",{className:a.checkboxLabel,htmlFor:"adv-search-attachment-checkbox"},t(Z.attachment_label)))}),l()(this,"renderPhotoCheckbox",e=>{const t=this.context.intl.formatMessage,a=u()(W.a,{checkboxSelected:e});return m.a.createElement("div",{className:a.checkboxWrapper},m.a.createElement(U.a,{isChecked:e,id:"adv-search-photo-checkbox","data-test-id":"adv-search-photo-checkbox",onClick:this.props.onCheckboxClick.bind(null,b.s.PHOTO),tabIndex:0,className:a.checkboxButton}),m.a.createElement("label",{className:a.checkboxLabel,htmlFor:"adv-search-photo-checkbox"},t(Z.photo_label)))}),l()(this,"renderCalendarInviteCheckbox",e=>{const t=this.context.intl.formatMessage,a=u()(W.a,{checkboxSelected:e});return m.a.createElement("div",{className:a.checkboxWrapper},m.a.createElement(U.a,{isChecked:e,id:"adv-search-calendarinvite-checkbox","data-test-id":"adv-search-calendarinvite-checkbox",onClick:this.props.onCheckboxClick.bind(null,b.s.CALENDAR_INVITE),tabIndex:0,className:a.checkboxButton}),m.a.createElement("label",{className:a.checkboxLabel,htmlFor:"adv-search-calendarinvite-checkbox"},t(Z.calendar_invite_label)))})}render(){const e=this.props,t=e.isPhotoChecked,a=e.isCalendarInviteChecked,n=e.isAttachmentChecked;return m.a.createElement("div",{className:G.checkboxContainerWrapper},m.a.createElement("div",{className:G.checkboxGroupLabelWrapper},m.a.createElement("span",{className:G.checkboxGroupLabel},(0,this.context.intl.formatMessage)(Z.contains_label))),this.renderAttachmentCheckbox(n),this.renderPhotoCheckbox(t),this.renderCalendarInviteCheckbox(a))}}l()(V,"contextTypes",{intl:c.intlShape.isRequired});var q=V,z=a(476),Y=a(395),K=a(11),X=a(4),Q=a(34),J=a.n(Q),$=a(17),ee=a(9);var te=class extends m.a.Component{constructor(...e){super(...e),l()(this,"state",{hovered:!1}),l()(this,"handleHover",e=>{this.setState({hovered:e})})}render(){const e=this.props,t=e.colorStates,a=J()(e,["colorStates"]),n=this.state.hovered?t.hovered:t.normal;return m.a.createElement($.b,s()({},a,{onMouseEnter:()=>this.handleHover(!0),onMouseLeave:()=>this.handleHover(!1),colorState:n,allowPointerEvents:!0}))}},ae=a(100),ne=a(47),se=a(41),ie=a(79),re=a(13),oe=a(10);const le=u()(h.a),ce=Object(ee.d)(["ACCOUNT","FOLDER","ALL_MAIL"]);class de extends m.a.Component{constructor(e){super(e),l()(this,"focus",()=>{D.a.findDOMNode(this).focus()}),l()(this,"_getDefaultAccountDescription",e=>{const t=this.context.intl.formatMessage;switch(Object(ne.d)(e)){case b.xb.YAHOO:case b.xb.YAHOO_SB:return t(ie.a.yahoo_account_description);case b.xb.GOOGLE:case b.xb.GOOGLE_APP:return t(ie.a.gmail_account_description);case b.xb.OUTLOOK:return t(ie.a.outlook_account_description);case b.xb.AOL:return t(ie.a.aol_account_description);default:return t(ie.a.unknown_account_description)}}),l()(this,"_buildOptionList",()=>{const e=this.state.expandAccountId;return this.props.accountList.reduce((t,a)=>(t.push({type:ce.ACCOUNT,account:a,label:a.description||this._getDefaultAccountDescription(a)}),a.id===e&&(t=t.concat(this.props.getFoldersForRendering(a.id).map(e=>({type:ce.FOLDER,folder:e,label:e.name})))),t),[{type:ce.ALL_MAIL}])}),l()(this,"getI10nLabel",(e,t)=>{const a=this.context.intl.formatMessage;let n,s;if(e)if(t){n=m.a.createElement(ae.a,{folderId:t.id});s=a(b.ie[t.type]?ie.a.system_folder_label:ie.a.custom_folder_label)}else n=m.a.createElement(c.FormattedMessage,{id:"advanced_search.unknown_folder_label",defaultMessage:"{foldersField}",values:{foldersField:e}}),s=a(ie.a.unknown_folder_title);else n=m.a.createElement(c.FormattedMessage,{id:"advanced_search.all_mail_title",defaultMessage:"All mail"}),s=a(ie.a.all_mail_title);return{menuLabel:n,menuTitle:s}}),l()(this,"handleSearchChange",(e,t)=>{const a=this.props,n=a.onFolderChange,s=a.onAccountChange,i=a.activeFolderId,r=e[t],o=r.type,l=r.account;let c={};return o===ce.FOLDER?(c={folders:[r.folder.id]},void n(c)):o===ce.ACCOUNT?(c={accountIds:[l.id]},void s(c)):void(o===ce.ALL_MAIL&&(i?n(c):s(c)))}),l()(this,"handleToggleExpandClick",(e,t)=>{const a=this.state.expandAccountId;t.stopPropagation(),t.preventDefault(),this.setState(e===a?{expandAccountId:null}:{expandAccountId:e})}),l()(this,"formatSelectInput",(e,t)=>{const a=e[t],n=a.type,s=a.label,i=a.folder;let r;if(n===ce.ALL_MAIL&&(r=this.getI10nLabel(null,null)),n===ce.FOLDER&&(r=this.getI10nLabel(s,i)),r){const e=r.menuTitle;return{optionLabel:m.a.createElement("span",{className:le.folderFieldText},r.menuLabel),optionTitle:e}}return{optionLabel:m.a.createElement("span",{className:le.folderFieldText},s),optionTitle:s}}),l()(this,"renderFolderItems",(e,t)=>{const a=this.context.intl.formatMessage,n=e.label,s=e.folder,i=this.props.accountList,r=s.level,o=s.id,l=this.getI10nLabel(n,s).menuLabel,c={paddingLeft:6*K.G+4*K.G*(r+(1===i.length?0:1))+"px"};return m.a.createElement(Y.a,{key:o,value:t,title:Object(se.m)(a,s.type)||n},m.a.createElement("span",{className:le.accountContainerFolderItem,style:c},l))}),l()(this,"renderAllMailItem",()=>{const e=(0,this.context.intl.formatMessage)(ie.a.all_mail_title),t=this.getI10nLabel(null,null);return m.a.createElement(Y.a,{key:e,value:0,title:t.menuTitle},m.a.createElement("span",{className:le.accountContainerAllMail},t.menuLabel))}),l()(this,"renderAccountHeader",(e,t)=>{const a=e.label,n=e.account.id,s=this.state.expandAccountId===n;return m.a.createElement(Y.a,{key:a,value:t,title:a},m.a.createElement("div",{className:le.accountHeaderContainer},m.a.createElement("div",{"data-test-id":"toggle-expansion-"+n,onClick:this.handleToggleExpandClick.bind(this,n),className:le.accountContainerButtonContainer},m.a.createElement(te,{kind:X.Kinds.CHEVRON_UP,colorStates:{normal:X.ColorStates.DISABLED,hovered:X.ColorStates.SELECTED},size:X.Sizes.XS,rotate:s?X.Rotate.D180:X.Rotate.D90})),m.a.createElement("span",{className:le.accountContainerAccountHeader},a)))}),l()(this,"renderMenuItems",e=>{const t=this.props.accountList;return e.reduce((e,a,n)=>{const s=a.type,i=a.folder;return s===ce.ALL_MAIL?e.concat(this.renderAllMailItem()):s===ce.ACCOUNT&&1!==t.length?e.concat(this.renderAccountHeader(a,n)):i?e.concat(this.renderFolderItems(a,n)):e},[])});this.state={expandAccountId:e.initialExpandedAccountId}}render(){const e=this.props,t=e.activeFolderId,a=e.activeAccountId,n=e.tabIndex,s=this._buildOptionList(),i=this.renderMenuItems(s);let r=0;return a&&(r=s.findIndex(e=>e.type===ce.ACCOUNT&&e.account.id===a)),t&&(r=s.findIndex(e=>e.type===ce.FOLDER&&e.folder.id===t)),(r<=0||r>=s.length)&&(r=0),m.a.createElement("div",{tabIndex:n,className:le.accountContainerSelect,"data-test-id":"folder-menu-drop-down"},m.a.createElement(z.a,{selected:r,onChange:this.handleSearchChange.bind(this,s),inputFormatter:this.formatSelectInput.bind(this,s)},i))}}l()(de,"contextTypes",{intl:c.intlShape.isRequired});var me=Object(re.connect)((e,{activeFolderId:t,activeAccountId:a,defaultAccountId:n})=>{const s=(0,Object(oe.selectors)(e).getFoldersSelectors)();return{getFoldersForRendering:t=>{const a=(0,Object(oe.selectors)(e).getFoldersSelectors)(),n=a.getCustomFolderList;return[...(0,a.getSystemFolderList)(t),...n(t)].filter(({type:e})=>-1===[b.Mb.BULK].indexOf(e)).filter(({disabled:e})=>!e)},initialExpandedAccountId:a||(t?(0,s.getAccountIdByFolderId)(t):n)}})(de);const _e=u()(h.a),ue=Object(c.defineMessages)({search_in_label:{id:"advanced_search.search_in_label",defaultMessage:"Search in"}});class pe extends m.a.Component{constructor(...e){super(...e),l()(this,"containsFocusedElement",()=>Object(O.findDOMNode)(this.refs.folderMenu).contains(document.activeElement)),l()(this,"focusFolderMenu",()=>{Object(O.findDOMNode)(this.refs.folderMenu).focus()})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.folders,n=t.activeAccountId,i=t.accountIds[0],o={tabIndex:0,accountList:t.accountList,onFolderChange:t.onFolderChange,onAccountChange:t.onAccountChange},l=r()(a,1)[0];return i&&Object.assign(o,{activeAccountId:i}),Object.assign(o,{defaultAccountId:n}),l&&Object.assign(o,{activeFolderId:l}),m.a.createElement("div",{className:_e.inputWrapper},m.a.createElement("span",{className:_e.inputLabel},e(ue.search_in_label)),m.a.createElement("div",{className:_e.selectFieldContainer},m.a.createElement(me,s()({},o,{ref:"folderMenu"}))))}}l()(pe,"defaultProps",{folders:[],accountIds:[]}),l()(pe,"contextTypes",{intl:c.intlShape.isRequired});var he=pe,ge=a(147),Ee=a(499),be=a(234),fe=a(1835),Ce=a.n(fe);const Se=u()(Ce.a);var ye={className:Se.pills,containerClassName:Se.pillsContainer,containerChildClassName:Se.pillsContainerChild,pillClassName:Se.pillOuter,typeaheadClassName:Se.typeahead,typeaheadInputClassName:Se.typeaheadInput,typeaheadInputContainerClassName:Se.typeaheadInputContainer,typeaheadInputHintClassName:Se.typeaheadInputHint,typeaheadDropDownClassName:Se.suggestionDropdown,multiple:!1,initialActiveIndex:-1,inputTabIndex:0};const Te=Object(c.defineMessages)({from_label:{id:"advanced_search.from_label",defaultMessage:"From"}});class ve extends m.a.Component{constructor(...e){super(...e),l()(this,"mapPropsToPillsInterface",()=>({onInputKeyDown:this.props.onInputKeyDown,onRemove:this.props.onPillRemove,onFocus:this.props.onPillFocus,onBlur:this.props.onPillBlur,onSelect:this.props.onPillSelect,onActiveIndexChange:this.props.onActiveIndexChange})),l()(this,"renderSuggestion",(e,t,a)=>m.a.createElement(ge.Option,{key:a,value:a+1},m.a.createElement(Ee.a,{suggestion:t,inputValue:e}))),l()(this,"renderPill",(e,t,a,n)=>{const s=e.emailAddresses&&e.emailAddresses[0],i=s||e.name;let r=e.name||"";return s&&r.trim()?r=`${r} <${s}>`:s&&(r=s),m.a.createElement(be.default,{value:i,title:r,contactEmail:s,isLastElement:t===a.length-1,isSelected:n,onPillRemove:this.props.onPillRemove})}),l()(this,"focusFromField",()=>{this.input.focus&&this.input.focus()})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.isFocused,n=t.from,i=t.onInputChange,r=t.contact,o=t.activeSuggestion,l=t.showHint,c=t.suggestions.slice(0,t.maxContactsVisible),d=u()(h.a,{pillsInputFocused:a}),_=Object(f.h)(r),p=Object(f.e)(n,r,c,!!o,l),g=Object(f.g)(n);let E=null;return n&&!_&&(E=c.map((e,t)=>this.renderSuggestion(n,e,t))),m.a.createElement("div",{className:d.inputWrapper,"data-test-id":"adv-search-from-input"},m.a.createElement("span",{className:d.inputLabel},e(Te.from_label)),m.a.createElement("div",{className:d.pillsInputWrapper},m.a.createElement(ge.Pills,s()({ref:e=>this.input=e},ye,this.mapPropsToPillsInterface(),{onInputChange:i,inputValue:_?"":g,hintValue:p,selected:Object(f.c)(r),renderPill:this.renderPill}),E)))}}l()(ve,"contextTypes",{intl:c.intlShape.isRequired}),l()(ve,"defaultProps",{maxContactsVisible:6});var Ie=ve;const Me=Object(c.defineMessages)({to_label:{id:"advanced_search.to_label",defaultMessage:"To"}});class Ae extends m.a.Component{constructor(...e){super(...e),l()(this,"mapPropsToPillsInterface",()=>({onInputKeyDown:this.props.onInputKeyDown,onRemove:this.props.onPillRemove,onFocus:this.props.onPillFocus,onBlur:this.props.onPillBlur,onSelect:this.props.onPillSelect,onActiveIndexChange:this.props.onActiveIndexChange})),l()(this,"renderSuggestion",(e,t,a)=>m.a.createElement(ge.Option,{key:a,value:a+1},m.a.createElement(Ee.a,{suggestion:t,inputValue:e}))),l()(this,"renderPill",(e,t,a,n)=>{const s=e.emailAddresses&&e.emailAddresses[0],i=s||e.name;let r=e.name||"";return s&&r.trim()?r=`${r} <${s}>`:s&&(r=s),m.a.createElement(be.default,{value:i,title:r,contactEmail:s,isLastElement:t===a.length-1,isSelected:n,onPillRemove:this.props.onPillRemove})})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.isFocused,n=t.to,i=t.onInputChange,r=t.contact,o=t.activeSuggestion,l=t.showHint,c=t.suggestions.slice(0,t.maxContactsVisible),d=u()(h.a,{pillsInputFocused:a}),_=Object(f.h)(r),p=Object(f.e)(n,r,c,!!o,l),g=Object(f.g)(n);let E=null;return n&&!_&&(E=c.map((e,t)=>this.renderSuggestion(n,e,t))),m.a.createElement("div",{className:d.inputWrapper,"data-test-id":"adv-search-to-input"},m.a.createElement("span",{className:d.inputLabel},e(Me.to_label)),m.a.createElement("div",{className:d.pillsInputWrapper},m.a.createElement(ge.Pills,s()({},ye,this.mapPropsToPillsInterface(),{onInputChange:i,inputValue:_?"":g,hintValue:p,selected:Object(f.c)(r),renderPill:this.renderPill}),E)))}}l()(Ae,"contextTypes",{intl:c.intlShape.isRequired}),l()(Ae,"defaultProps",{maxContactsVisible:6});var Ne=Ae,ke=a(102),Oe=a.n(ke),De=a(1836),Pe=a.n(De),Re=a(1495),we=a(89);const Fe=Oe()(u()(h.a),u()(Pe.a)),xe=Object(c.defineMessages)({date_label:{id:"advanced_search.date_label",defaultMessage:"Date"},dateError:{id:"advanced_search.date_error",defaultMessage:"The End date should be greater than Start date."},any:{id:"advanced_search.datepicker.any",defaultMessage:"Any"},week:{id:"advanced_search.datepicker.week",defaultMessage:"In the last 7 days"},month:{id:"advanced_search.datepicker.month",defaultMessage:"In the last 30 days"},custom:{id:"advanced_search.datepicker.custom",defaultMessage:"Custom dates"}});class Le extends m.a.Component{constructor(...e){super(...e),l()(this,"handleDateRangeChange",e=>{this.props.onChange(Object(f.d)(e,new Date))}),l()(this,"handleDatePickerChange",(e,t)=>{this.props.onChange({startDate:Object(we.l)(e),endDate:Object(we.l)(t)})}),l()(this,"_renderDatePicker",()=>{const e=this.context.intl.formatMessage,t=Object(f.a)(this.props.startDate,this.props.endDate),a=t.startDate,n=t.endDate,s=this.props.showErrors&&a>n?xe.dateError:null;return m.a.createElement("div",{className:Fe.dateRangeWrapper},m.a.createElement(Re.a,{startDate:a,endDate:n,onChange:this.handleDatePickerChange,disableErrors:this.props.disableErrors,enableErrors:this.props.enableErrors,useISODateFormat:!0}),s&&m.a.createElement("div",{"data-test-id":"advanced-search-datepicker-error",className:Fe.error},e(s)))})}shouldComponentUpdate(e){return this.props.startDate!==e.startDate||this.props.endDate!==e.endDate||this.props.showErrors!==e.showErrors}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.startDate,n=t.endDate,s=Object(f.f)(a,n),i=s===C.a.CUSTOM;return m.a.createElement("div",{className:Fe.dateFieldWrapper,"data-test-id":"adv-search-date-field"},m.a.createElement("span",{className:Fe.inputLabel},e(xe.date_label)),m.a.createElement("div",{className:Fe.selectbox,"data-test-id":"adv-search-date-option"},m.a.createElement(z.a,{selected:s,onChange:this.handleDateRangeChange},C.d.map(t=>m.a.createElement(Y.a,{key:t,value:t},e(xe[t])))),i&&this._renderDatePicker()))}}l()(Le,"contextTypes",{intl:c.intlShape.isRequired});var Be=Le;const je={FROM:"from",TO:"to"};class Ue extends m.a.Component{constructor(e,t){super(e,t),l()(this,"_getContactName",e=>(this.props.getContactByEmail(e)||{}).name||""),l()(this,"initializePillContacts",e=>{let t={},a={};const n=this.getAdvancedSearchFieldValues(e),s=n.fromField,i=n.toField;return s&&(a={emailAddresses:[s],name:this._getContactName(s)}),i&&(t={emailAddresses:[i],name:this._getContactName(i)}),{fromPillContact:a,toPillContact:t}}),l()(this,"hasPillContact",e=>{const t=this.state,a=e===je.FROM?t.fromPillContact:t.toPillContact,n=a.emailAddresses;return!(!a.name&&!(void 0===n?[]:n)[0])}),l()(this,"getPills",e=>{const t=this.state,a=t.fromPillContact,n=t.toPillContact;return this.hasPillContact(e)?e===je.FROM?[a]:[n]:[]}),l()(this,"clearPill",e=>{e===je.FROM?(this.setState({fromPillContact:{}}),this.handleFromInputChange("")):(this.setState({toPillContact:{}}),this.handleToInputChange(""))}),l()(this,"handleSuggestionSelect",(e,t)=>{const a=this.props.suggestions[t-1],n=Object(f.j)(a),s=n.emailAddresses,i=n.name;Object(g.a)(s&&s.length>0,"emailAddresses missing for the suggestion");const r={activeSuggestion:null};e===je.FROM?(this.handleFromInputChange(s[0]),r.fromPillContact={name:i,emailAddresses:s}):(this.handleToInputChange(s[0]),r.toPillContact={name:i,emailAddresses:s}),this.setState(r)}),l()(this,"handleClearBtnClick",e=>{const t=this.props.searchInput.inputValue,a=Object.assign({},Object(E.e)(t),{[e]:""});this.props.onSearchChange(Object(E.b)(a),{},{fetchSuggestions:!1})}),l()(this,"handlePillsInputFocus",e=>{const t={};e===je.FROM?t.fromInputFocused=!0:t.toInputFocused=!0,this.setState(t)}),l()(this,"handlePillsInputBlur",e=>{const t={};e===je.FROM?(t.fromInputFocused=!1,t.showFromInputHint=!1):(t.toInputFocused=!1,t.showToInputHint=!1),this.setState(t)}),l()(this,"handlePillsInputKeyDown",(e,t)=>{const a=this.props,n=a.suggestions,s=this.getAdvancedSearchFieldValues(a.searchInput.inputValue),i=s.fromField,r=s.toField,o=!this.hasPillContact(e)&&i&&n.length,l=!this.hasPillContact(e)&&r&&n.length;switch(t.key){case"Enter":case"Tab":break;case"Backspace":this.hasPillContact(e)&&this.clearPill(e),this.setState({activeSuggestion:null});break;case"Escape":(e===je.FROM&&o||e===je.TO&&l)&&t.stopPropagation(),this.setState({activeSuggestion:null});break;default:this.hasPillContact(e)&&t.preventDefault()}}),l()(this,"handleFolderChange",({folders:e})=>{const t=this.props.searchInput.inputValue,a=void 0===t?"":t,n=Object.assign({},Object(E.e)(Object(E.c)(E.a.FOLDERS,a)),{[b.s.FOLDERS]:""});this.props.onSearchChange(Object(E.b)(n),{folders:e||[]},{fetchSuggestions:!1})}),l()(this,"handleAccountChange",({accountIds:e})=>{const t=this.props.searchInput.inputValue,a=void 0===t?"":t,n=Object.assign({},Object(E.e)(Object(E.c)(E.a.FOLDERS,a)),{[b.s.FOLDERS]:""});this.props.onSearchChange(Object(E.b)(n),{accountIds:e||[]},{fetchSuggestions:!1})}),l()(this,"handleFromInputChange",e=>{const t=this.props,a=t.onSearchChange,n=t.searchInput.inputValue;e=-1!==e.indexOf('"')?e.replace(/"/g,""):e;const s=Object.assign({},Object(E.e)(Object(E.c)(E.a.FROM,n)),{[b.s.FROM]:-1!==e.indexOf(" ")?`"${e}"`:e});this.setState({showFromInputHint:!0,activeSuggestion:null,fromInputValue:e},()=>{a(Object(E.b)(s),{suggestionsKeyword:e},{fetchSuggestions:!0})})}),l()(this,"handleToInputChange",e=>{const t=this.props,a=t.onSearchChange,n=t.searchInput.inputValue;e=-1!==e.indexOf('"')?e.replace(/"/g,""):e;const s=Object.assign({},Object(E.e)(Object(E.c)(E.a.TO,n)),{[b.s.TO]:-1!==e.indexOf(" ")?`"${e}"`:e});this.setState({showToInputHint:!0,activeSuggestion:null,toInputValue:e},()=>{a(Object(E.b)(s),{suggestionsKeyword:e},{fetchSuggestions:!0})})}),l()(this,"handleSubjectInputChange",e=>{const t=this.props.searchInput.inputValue,a=e.target.value,n=Object.assign({},Object(E.e)(Object(E.c)(E.a.SUBJECT,t)),{[b.s.SUBJECT]:-1!==a.indexOf(" ")?`"${a}"`:a});this.props.onSearchChange(Object(E.b)(n),{},{fetchSuggestions:!1})}),l()(this,"handleKeywordInputChange",e=>{const t=this.props.searchInput.inputValue,a=Object.assign({},Object(E.e)(t,!0),{[b.s.KEYWORD]:e.target.value});this.props.onSearchChange(Object(E.b)(a),{},{fetchSuggestions:!1})}),l()(this,"handleDateChange",({startDate:e,endDate:t})=>{const a=this.props.searchInput.inputValue,n=Object(E.c)(E.a.BEFORE,a),s=Object(E.c)(E.a.AFTER,n),i=Object.assign({},Object(E.e)(s),{[b.s.BEFORE]:t,[b.s.AFTER]:e});Object(f.f)(e,t)!==C.a.CUSTOM&&this.setState({showErrors:!0}),this.props.onSearchChange(Object(E.b)(i),{},{fetchSuggestions:!1})}),l()(this,"handleCheckboxClick",e=>{const t=this.props.searchInput.inputValue,a=Object(E.e)(t),n=Object.assign({},a,{[e]:!a[e]});this.props.onSearchChange(Object(E.b)(n),{},{fetchSuggestions:!1})}),l()(this,"trimQuotedFieldValue",e=>{const t=e.match(/^"([^"]*)"$/)||[],a=r()(t,2)[1];return a&&-1!==a.indexOf(" ")?a:e}),l()(this,"updatedSelectedSuggestion",(e,t)=>{const a=this.props.suggestions;this.hasPillContact(e)||this.setState({activeSuggestion:a[t]})}),l()(this,"getPillProps",e=>({onInputKeyDown:this.handlePillsInputKeyDown.bind(this,e),onPillRemove:this.clearPill.bind(this,e),onPillFocus:this.handlePillsInputFocus.bind(this,e),onPillBlur:this.handlePillsInputBlur.bind(this,e),onPillSelect:this.handleSuggestionSelect.bind(this,e),onActiveIndexChange:this.updatedSelectedSuggestion.bind(this,e)})),l()(this,"handleReset",()=>{this.setState({folderMenuActive:!1,showErrors:!0,fromInputValue:"",toInputValue:""}),this.props.onSearchChange("",{folders:[]},{fetchSuggestions:!1})}),l()(this,"handleClick",()=>{this.setState({folderMenuActive:!1})}),l()(this,"handleKeyDown",e=>{switch(e.key){case"Tab":e.stopPropagation(),this.refs.footer.isSearchButtonFocused()&&!e.shiftKey?(e.preventDefault(),this.refs.folders.focusFolderMenu()):this.refs.folders.containsFocusedElement()&&e.shiftKey&&(e.preventDefault(),this.refs.footer.focusSearchButton())}}),l()(this,"getAdvancedSearchFieldValues",(e="")=>{const t=Object(E.e)(e,!0);return{foldersField:this.trimQuotedFieldValue(t[b.s.FOLDERS]||""),fromField:this.trimQuotedFieldValue(t[b.s.FROM]||""),toField:this.trimQuotedFieldValue(t[b.s.TO]||""),subjectField:this.trimQuotedFieldValue(t[b.s.SUBJECT]||""),keywordField:t[b.s.KEYWORD]||"",beforeField:t[b.s.BEFORE]||"",afterField:t[b.s.AFTER]||"",attachmentField:t[b.s.ATTACHMENT]||!1,imageField:t[b.s.PHOTO]||!1,calendarInviteField:t[b.s.CALENDAR_INVITE]||!1}});const a=e.searchInput.inputValue,n=this.initializePillContacts(a),s=n.fromPillContact,i=n.toPillContact,o=this.getAdvancedSearchFieldValues(a);this.state={fromPillContact:s,toPillContact:i,fromInputValue:o.fromField,toInputValue:o.toField,activeSuggestion:null,showFromInputHint:!1,showToInputHint:!1,fromInputFocused:!1,toInputFocused:!1,folderMenuActive:!1,showErrors:!0}}componentWillReceiveProps(e){let t={},a={};const n=(e.searchInput||{}).inputValue,s=this.initializePillContacts(void 0===n?"":n),i=s.fromPillContact,r=s.toPillContact;this.hasPillContact(je.FROM)&&(a=i),this.hasPillContact(je.TO)&&(t=r),this.setState({fromPillContact:a,toPillContact:t})}componentDidMount(){this.fromField.focusFromField()}render(){const e=this.props,t=e.style,a=e.searchInput,n=e.accountList,i=e.activeAccountId,r=e.ybarFujiTheme,o=this.getAdvancedSearchFieldValues(a.inputValue),l=o.subjectField,c=o.keywordField,d=o.beforeField,_=o.afterField,p=o.attachmentField,g=o.imageField,E=o.calendarInviteField,f=a.accountIds,C=a.folders,S=!this.state.showErrors||new Date(_)>new Date(d),y=u()(h.a,{ybarFujiTheme:r});return m.a.createElement("div",{"data-test-id":"advanced-search-pane",ref:"advancedSearchPane",className:y.paneContainer,style:t,onClick:this.handleClick,onKeyDown:this.handleKeyDown},m.a.createElement(he,{ref:"folders",accountList:n,activeAccountId:i,folders:C,accountIds:f,onFolderChange:this.handleFolderChange,onAccountChange:this.handleAccountChange}),m.a.createElement(Ie,s()({},this.getPillProps(je.FROM),{ref:e=>this.fromField=e,from:this.state.fromInputValue,suggestions:this.props.suggestions,activeSuggestion:this.state.activeSuggestion,isFocused:this.state.fromInputFocused,showHint:this.state.showFromInputHint,contact:this.state.fromPillContact,onInputChange:this.handleFromInputChange})),m.a.createElement(Ne,s()({},this.getPillProps(je.TO),{to:this.state.toInputValue,suggestions:this.props.suggestions,activeSuggestion:this.state.activeSuggestion,isFocused:this.state.toInputFocused,showHint:this.state.showToInputHint,contact:this.state.toPillContact,onInputChange:this.handleToInputChange})),m.a.createElement(I,{onChange:this.handleSubjectInputChange,onClear:this.handleClearBtnClick.bind(this,b.s.SUBJECT),subject:l}),m.a.createElement(k,{onChange:this.handleKeywordInputChange,onClear:this.handleClearBtnClick.bind(this,b.s.KEYWORD),keyword:c}),m.a.createElement(Be,{startDate:_,endDate:d,onChange:this.handleDateChange,showErrors:this.state.showErrors,enableErrors:()=>this.setState({showErrors:!0}),disableErrors:()=>this.setState({showErrors:!1})}),m.a.createElement(q,{isPhotoChecked:g,isAttachmentChecked:p,isCalendarInviteChecked:E,onCheckboxClick:this.handleCheckboxClick}),m.a.createElement(j,{ref:"footer",onReset:this.handleReset,onSubmit:this.props.onSearchSubmit,disabled:S}))}}l()(Ue,"contextTypes",{intl:c.intlShape.isRequired}),l()(Ue,"defaultProps",{searchInput:{inputValue:"",accountIds:[],folders:[]},suggestions:[]});t.default=Ue},function(e,t,a){"use strict";a.r(t),a.d(t,"MembershipRewardsPanel",(function(){return Ne})),a.d(t,"mapStateToProps",(function(){return ke})),a.d(t,"mapDispatchToProps",(function(){return Oe}));var n=a(1),s=a.n(n),i=a(7),r=a.n(i),o=a(13),l=a(1488),c=a.n(l),d=a(10),m=a(6),_=a(1715),u=a.n(_),p=a(49),h=a(18),g=a(25),E=a(22),b=a(1379),f=a(0),C=a(204),S=a(5),y=a(94);const T=Object(m.defineMessages)({rewards_atos_signup_panel_title:{id:"rewards_atos_signup_panel_title",defaultMessage:"Check-in your {mailBrandingString} everyday and complete the  tasks. Accumulate your YPoints and redeem the prizes you like!"},rewards_atos_signup_panel_description:{id:"rewards_atos_signup_panel_description",defaultMessage:"Thanks for using Yahoo services in your daily life. Now you can start to accumulate your YPoints <img class='{yPointsIconClass}' src='{yPointsIcon}' /> by check-in {mailBrandingString} everyday, or complete the tasks we assigned. YPoints can be used in exchanging of lots of awesome prizes in Yahoo App!"},rewards_upgrade_atos_panel_title:{id:"rewards_upgrade_atos_panel_title",defaultMessage:"We have upgraded the terms of service. Please agree to the latest one before daily check-in!"},rewards_upgrade_atos_panel_description:{id:"rewards_upgrade_atos_panel_description",defaultMessage:"Don't worry, your current YPoints is still the same and effective ! But you have to agree to the latest terms of service to continue getting new points."},rewards_suspended_atos_panel_description:{id:"rewards_suspended_atos_panel_description",defaultMessage:"Your account cannot join the Yahoo Rewards program now. Please use another account to login or contact customer care for assistant."},rewards_cta_upgrade_now:{id:"rewards_cta_upgrade_now",defaultMessage:"Upgrade Now"},rewards_cta_join_now:{id:"rewards_cta_join_now",defaultMessage:"Join Now"},rewards_cta_contact_customer_care:{id:"rewards_cta_contact_customer_care",defaultMessage:"Contact Customer Care"}}),v=(e,{getCss:t,region:a,intl:{formatMessage:n},getThemeMode:i})=>{const r=e.atosInfo,o=r.atosStatus,l=r.url,c=e.tmrNavigateToAtos,d=e.tmrNavigateToUrl,m=e.customerCareUrl,_=o===f.oe.EXPIRED,v=o===f.oe.SUSPENDED,I=t(u.a),M=Object(E.n)({context:{getThemeMode:i},includeMedium:!0}),A="hk"===a?"/img/tmr_hk_points_icon.svg":"/img/tmr_tw_points_icon.svg",N=()=>{v?(d({i13nModel:{mKey:S.g.TMR_NAVIGATE_TO_URL,sec:S.i.MEMBERSHIP_REWARDS,interactionType:S.e.click,actionData:{linkType:"CustomerCare",atosStatus:o}}}),Object(y.a)(m)):(c({i13nModel:{mKey:S.g.TMR_NAVIGATE_TO_ATOS,sec:S.i.MEMBERSHIP_REWARDS,interactionType:S.e.click,actionData:{atosStatus:o}}}),window.open(l+`?.done=${encodeURIComponent(b.c)}&.src=${b.a[a]||"media-tw"}`,"_self"))};return v?(()=>{const e=M?"/img/tmr_atos_suspended_panel_dark.svg":"/img/tmr_atos_suspended_panel_light.svg";return s.a.createElement("div",{className:I.subContainer,"data-test-id":"tmr_atos_panel"},s.a.createElement("div",{className:I.imgContainer},s.a.createElement("img",{className:I.cueImg,src:Object(p.a)(e)})),s.a.createElement("div",{className:I.content},s.a.createElement("div",{className:I.description},n(T.rewards_suspended_atos_panel_description))),s.a.createElement("div",{className:I.buttonContainer},s.a.createElement(h.a,{overridingClass:I.primaryCta,onClick:N,kind:g.a.PRIMARY,"data-test-id":"cta-contact-customer-care",marginLess:!0},n(T.rewards_cta_contact_customer_care))))})():s.a.createElement("div",{className:I.subContainer,"data-test-id":"tmr_atos_panel"},s.a.createElement("div",{className:I.imgContainer},s.a.createElement("img",{className:I.cueImg,src:Object(p.a)((()=>_?"hk"===a?"/img/tmr_hk_atos_upgrade_panel.svg":"/img/tmr_tw_atos_upgrade_panel.svg":M?"hk"===a?"/img/tmr_hk_atos_signup_panel_dark.svg":"/img/tmr_tw_atos_signup_panel_dark.svg":"hk"===a?"/img/tmr_hk_atos_signup_panel_light.svg":"/img/tmr_tw_atos_signup_panel_light.svg")())})),s.a.createElement("div",{className:I.content},s.a.createElement("div",{className:I.title},_?n(T.rewards_upgrade_atos_panel_title):n(T.rewards_atos_signup_panel_title,{mailBrandingString:n(C.a.mailBrandName)})),s.a.createElement("div",{className:I.description},_?n(T.rewards_upgrade_atos_panel_description):s.a.createElement("span",{dangerouslySetInnerHTML:{__html:n(T.rewards_atos_signup_panel_description,{yPointsIconClass:I.yPointsIcon,yPointsIcon:Object(p.a)(A),mailBrandingString:n(C.a.mailBrandName)})}}))),s.a.createElement("div",{className:I.buttonContainer},s.a.createElement(h.a,{overridingClass:I.primaryCta,onClick:N,kind:g.a.PRIMARY,"data-test-id":"cta-join-now",marginLess:!0},n(_?T.rewards_cta_upgrade_now:T.rewards_cta_join_now))))};v.contextTypes={getCss:r.a.func,intl:m.intlShape.isRequired,region:r.a.string,getThemeMode:r.a.func};var I=v,M=a(480),A=a(3),N=a.n(A),k=a(1716),O=a.n(k),D=a(1446),P=a(61),R=a(64),w=a(42),F=a(15),x=a(11);const L=Object(m.defineMessages)({rewards_panel_tab_checkin:{id:"rewards_panel_tab_checkin",defaultMessage:"Check-In"},rewards_panel_tab_tasks:{id:"rewards_panel_tab_tasks",defaultMessage:"Tasks"},rewards_panel_tab_rewards:{id:"rewards_panel_tab_rewards",defaultMessage:"Rewards"},rewards_point_history_title:{id:"rewards_point_history_title",defaultMessage:"Wanna check your points history?"},rewards_point_history_description:{id:"rewards_point_history_description",defaultMessage:"Download Yahoo App to learn completed YPoints history and expiration date of each records."},rewards_point_history_title_v2:{id:"revised_rewards_point_history_title",defaultMessage:"Redeem gifts with your points!"},rewards_point_history_description_v2:{id:"revised_rewards_point_history_description",defaultMessage:"You can redeem various kinds of gifts in Yahoo App. Scan the QR code to download it now!"}});class B extends s.a.Component{constructor(...e){super(...e),N()(this,"onTabClick",(e,t,a)=>{t!==a&&this.props.changeTab({tab:a,i13nModel:{mKey:S.g.TMR_TAB_CHANGE,sec:S.i.MEMBERSHIP_REWARDS,interactionType:S.e.click,actionData:{tab:a}}})}),N()(this,"pointsIconClick",()=>{this.props.tmrPointsIconClick({i13nModel:{mKey:S.g.TMR_POINT_ICON_CLICK,sec:S.i.MEMBERSHIP_REWARDS,interactionType:S.e.click,actionData:{pointsBalance:this.props.pointsBalance}}})}),N()(this,"downloadAppClick",()=>{this.props.tmrNavigateToUrl({i13nModel:{mKey:S.g.TMR_NAVIGATE_TO_URL,sec:S.i.MEMBERSHIP_REWARDS,interactionType:S.e.click,actionData:{linkType:"superAppPage"}}})}),N()(this,"renderPointHistoryDialog",e=>{const t=this.context.intl.formatMessage,a="hk"===this.context.region?"/img/tmr_hk_task_completed_qrcode.png":"/img/tmr_tw_task_completed_qrcode.png";return s.a.createElement("div",{className:e.dialogContainer},s.a.createElement("img",{className:e.qrCodeImg,src:Object(p.a)(a)}),s.a.createElement("div",{className:e.dialogContentContainer},s.a.createElement("b",null,s.a.createElement("span",null,t(L.rewards_point_history_title_v2))),s.a.createElement("span",{className:e.dialogDescription},t(L.rewards_point_history_description_v2))))})}render(){const e=this.props,t=e.selectedTab,a=e.pointsBalance,n=e.includeDailyCheckinTab,i=this.context,r=i.region,o=i.getThemeMode,l=i.intl.formatMessage,c=(0,i.getCss)(O.a),d=Object(E.n)({context:{getThemeMode:o},includeMedium:!0}),m="hk"===r?"/img/tmr_hk_points_icon.svg":"/img/tmr_tw_points_icon.svg",_=[{title:L.rewards_panel_tab_tasks,tab:f.qe.TASKS},{title:L.rewards_panel_tab_rewards,tab:f.qe.REWARDS}];return n&&_.unshift({title:L.rewards_panel_tab_checkin,tab:f.qe.CHECKIN}),s.a.createElement("div",{className:c.wrapper,"data-test-id":"rewards-panel-header"},s.a.createElement(D.b,{overrideClassNames:c,isDark:d},_.map(({title:e,tab:a})=>s.a.createElement(D.a,{overrideClassNames:c,title:l(e),"data-test-id":"rewards-panel-"+a,isSelected:t===a,onClick:e=>{this.onTabClick(e,t,a)},key:a},l(e)))),s.a.createElement("div",{className:c.pointsContainer},s.a.createElement(R.a,{className:c.popoverContainer},s.a.createElement(P.a,null,s.a.createElement("img",{className:c.pointsIcon,src:Object(p.a)(m)})),s.a.createElement(w.b,{triggerOn:F.i.CLICK,permittedArrowDirections:[F.h.UP],zAltitude:x.Pb.POPOVER.HIGH,align:F.a.END,offset:24,onShow:this.pointsIconClick},this.renderPointHistoryDialog(c))),a?s.a.createElement("span",null,a):null))}}B.contextTypes={getCss:r.a.func,intl:m.intlShape.isRequired,region:r.a.string,getThemeMode:r.a.func};var j=B,U=a(1717),H=a.n(U),W=a(1489),G=a.n(W),Z=a(9);class V extends s.a.Component{componentDidMount(){this.props.spinEnabled&&(this._dailyCheckinDayRenderedTimer=setTimeout(()=>{this.props.spinCompleted()},1e3))}componentWillUnmount(){this._dailyCheckinDayRenderedTimer&&clearTimeout(this._dailyCheckinDayRenderedTimer)}render(){const e=this.props,t=e.title,a=e.checkinType,n=e.pointValue,i=e.selectionRangeType,r=e.spinEnabled,o=Object(E.n)({context:this.context,includeMedium:!0}),l={spinEnabled:r};l.checkinType=a===b.b.UNCHECK?`${o?"dark-":""}${a}`:a,i&&(l.selectionRangeType=`${o?"dark-":""}${i}`);const c=this.context.getCss(G.a,l);return s.a.createElement("li",{"data-test-id":"week-day",className:c.weekDay,title:t},s.a.createElement("span",{className:c.weekDayBackground},s.a.createElement("span",{className:c.weekDayBackgroundOverlay}),s.a.createElement("span",{className:c.weekDayPointContainer},n?"+"+n:"")))}}V.contextTypes={getCss:r.a.func,getThemeMode:r.a.func};var q=V,z=a(89);const Y=b.b.REGULAR,K=b.b.BONUS,X=b.b.UNCHECK,Q=b.b.FUTURE_MILESTONE;class J extends s.a.Component{constructor(...e){super(...e),N()(this,"renderWeekRow",({classNames:e,weekNum:t,noOfDaysToRender:a,dailyCheckinProgress:n,showSpin:i,spinCompleted:r,dailyCheckinBonusType:o,dailyCheckinMilestoneList:l})=>{const c=[],d=f.re[this.context.region]||f.re.tw,m=Object(Z.b)(this.context,"locale.name","en-US");for(let e=1;e<=a;e++){let _,u=X,p="";const h=7*t+e;let g="";const E=i&&h===n.length;if(h<=n.length){const e=n[h-1],t=e.date;u=e.isBonus?K:Y,_=e.points,p=t?Object(z.e)(new Date(t),m,{timeZone:d}):""}if(h<n.length&&(1===e?g="START":e>1&&e<a?g="MIDDLE":e===a&&(g="END")),e>1&&h===n.length&&(g="END"),u===X&&o===f.gb.MILESTONE_BONUS){const e=l.find(e=>e.checkinNumber===h);e&&(u=Q,_=e.points)}c.push(s.a.createElement(q,{key:"week-day-"+h,checkinType:u,pointValue:_,selectionRangeType:g,title:p,spinEnabled:E,spinCompleted:r}))}return s.a.createElement("li",{"data-test-id":"week-row",key:"week-row-"+t},s.a.createElement("ul",{className:e.weekRow},c))})}render(){const e=this.context.getCss(G.a),t=this.props,a=t.numberofDaysInChallenge,n=t.dailyCheckinProgress,i=t.showSpin,r=t.spinCompleted,o=t.dailyCheckinBonusType,l=t.dailyCheckinMilestoneList,c=Math.ceil(a/7),d=[];for(let t=0;t<c;t++){const s=a-7*t;d.push(this.renderWeekRow({classNames:e,weekNum:t,noOfDaysToRender:s>=7?7:s,dailyCheckinProgress:n,showSpin:i,spinCompleted:r,dailyCheckinBonusType:o,dailyCheckinMilestoneList:l}))}return s.a.createElement("ul",{className:e.container},d)}}J.contextTypes={getCss:r.a.func,region:r.a.string,locale:r.a.object};var $=J;const ee=f.gb.WEEKEND_BONUS,te=f.gb.MILESTONE_BONUS,ae=Object(m.defineMessages)({rewards_daily_checkin_panel_title:{id:"rewards_daily_checkin_panel_title",defaultMessage:"You have checked in for {numberOfDays} days"},rewards_daily_checkin_panel_subtitle:{id:"rewards_daily_checkin_panel_subtitle",defaultMessage:"<b>Tip:</b> Check in on weekends and earn extra Yahoo Points!"},rewards_daily_checkin_panel_more_tasks:{id:"rewards_daily_checkin_panel_more_tasks",defaultMessage:"Complete tasks to get {pointValue} more Yahoo Points!"},rewards_cta_learn_more:{id:"rewards_cta_learn_more",defaultMessage:"Learn more"},rewards_challenge_description:{id:"rewards_challenge_description",defaultMessage:"Challenge Description"},rewards_challenge_duration:{id:"rewards_challenge_duration",defaultMessage:"Challenge Duration"},rewards_milestone_checkin_task_panel_subtitle:{id:"rewards_milestone_checkin_task_panel_subtitle",defaultMessage:"<b>Tip:</b> Earn extra points by continuing checking in!"}});class ne extends s.a.Component{constructor(...e){super(...e),N()(this,"handleLearnMoreClick",()=>{this.props.changeTab({tab:f.qe.TASKS,i13nModel:{mKey:S.g.TMR_TASK_CLICK,sec:S.i.MEMBERSHIP_REWARDS,interactionType:S.e.click,actionData:{taskType:f.pe.IMAPIN}}})})}getPanelSubtitle(e){switch(e){case te:return ae.rewards_milestone_checkin_task_panel_subtitle;case ee:return ae.rewards_daily_checkin_panel_subtitle;default:return""}}render(){const e=this.context.getCss(H.a),t=this.context.intl.formatMessage,a=Object(Z.b)(this.context,"locale.name","en-US"),n=f.re[this.context.region]||f.re.tw,i=t(ae.rewards_cta_learn_more),r=this.props,o=r.challenge,l=void 0===o?{}:o,c=r.challengeProgress,d=void 0===c?{}:c,m=r.imapinChallenge,_=void 0===m?{}:m,u=r.imapinChallengeCompleted,E=r.showSpin,b=r.spinCompleted,C=r.dailyCheckinBonusType,S=r.dailyCheckinMilestoneList,y=l.description,T=l.startTime,v=l.endTime,I=d.recurringProgresses,M=d.repeatedTimes,A=T&&new Date(T),N=v&&new Date(v),k=A&&N?`${Object(z.e)(A,a,{timeZone:n})} - ${Object(z.e)(N,a,{timeZone:n})}`:"",O=Object(z.j)(A,N),D=Object(Z.b)(_,"rewards.value"),P=this.getPanelSubtitle(C);return s.a.createElement("div",{className:e.subContainer,"data-test-id":"daily-checkin-panel"},s.a.createElement("div",{className:e.completedCheckin},s.a.createElement("img",{className:e.dailyCheckinIcon,src:Object(p.a)("/img/tmr_daily_checkin_icon.svg")}),s.a.createElement("span",null,s.a.createElement("b",null,t(ae.rewards_daily_checkin_panel_title,{numberOfDays:M})))),P?s.a.createElement("span",{dangerouslySetInnerHTML:{__html:t(P)}}):null,s.a.createElement($,{numberofDaysInChallenge:O,dailyCheckinProgress:I,showSpin:E,spinCompleted:b,dailyCheckinBonusType:C,dailyCheckinMilestoneList:S}),u?null:s.a.createElement("div",{className:e.moreTask},s.a.createElement("img",{src:Object(p.a)("/img/tmr_tasks_icon.svg")}),s.a.createElement("span",{className:e.moreTaskContent},s.a.createElement("b",null,t(ae.rewards_daily_checkin_panel_more_tasks,{pointValue:D}))),s.a.createElement(h.a,{title:i,"data-test-id":"tmr-learn-more-cta",kind:g.a.PRIMARY,"aria-label":i,marginLess:!0,overridingClass:e.ctaButton,onClick:this.handleLearnMoreClick},i)),s.a.createElement("div",{className:e.challengeDescription},s.a.createElement("span",{className:e.challengeDetailsHeader},s.a.createElement("b",null,t(ae.rewards_challenge_description))),s.a.createElement("span",null,y)),s.a.createElement("div",null,s.a.createElement("span",{className:e.challengeDetailsHeader},s.a.createElement("b",null,t(ae.rewards_challenge_duration))),s.a.createElement("span",null,k)))}}ne.contextTypes={getCss:r.a.func,intl:m.intlShape.isRequired,locale:r.a.object,region:r.a.string};var se=ne,ie=a(1718),re=a.n(ie),oe=a(17),le=a(4),ce=a(16),de=a(14);function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(a,!0).forEach((function(t){N()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ue=Object(m.defineMessages)({rewards_tasks_panel_title:{id:"rewards_tasks_panel_title",defaultMessage:"Complete tasks to earn Yahoo Points"},rewards_tasks_panel_more_title:{id:"rewards_tasks_panel_more_title",defaultMessage:"Unlock more tasks in Yahoo App"},rewards_cta_go:{id:"rewards_cta_go",defaultMessage:"Go"},rewards_tasks_back_panel_title:{id:"rewards_tasks_back_panel_title",defaultMessage:"All tasks"},rewards_tasks_app_download:{id:"rewards_tasks_app_download",defaultMessage:"Download Yahoo App to take more challenges!"},rewards_cta_appstore:{id:"rewards_cta_appstore",defaultMessage:"App Store"},rewards_cta_playstore:{id:"rewards_cta_playstore",defaultMessage:"Play Store"},rewards_cta_task_completed:{id:"rewards_cta_task_completed",defaultMessage:"Completed"}});class pe extends s.a.Component{constructor(...e){super(...e),N()(this,"state",{showSuperAppPromotion:!1}),N()(this,"navigateToSettings",e=>{e.preventDefault(),e.stopPropagation(),this.context.navigateTo({route:Object(de.w)({settingsGroupId:f.Nd.ACCOUNTS}),i13nModel:{mKey:S.g.TMR_NAVIGATE_TO_ADD_ACCOUNT,sec:S.i.MEMBERSHIP_REWARDS,interactionType:Object(ce.getInteractionFromEvent)(e)}})}),N()(this,"instrumentNavigation",e=>{this.props.tmrNavigateToUrl({i13nModel:{mKey:S.g.TMR_NAVIGATE_TO_URL,sec:S.i.MEMBERSHIP_REWARDS,interactionType:S.e.click,actionData:{linkType:e}}})}),N()(this,"showYahooAppPromotion",()=>{this.instrumentNavigation("SuperAppQRCodeFromTasks"),this.setState({showSuperAppPromotion:!0})}),N()(this,"handleGoBack",()=>{this.setState({showSuperAppPromotion:!1})}),N()(this,"renderSuperAppPromotion",e=>{const t=this.context.intl.formatMessage,a=this.props.membershipRewardsSettings,n=Object(E.n)({context:this.context,includeMedium:!0}),i=n?Object(p.a)("/img/tmr_icon_appstore_white.svg"):Object(p.a)("/img/tmr_icon_appstore_blue.svg"),r=n?Object(p.a)("/img/tmr_icon_playstore_white.svg"):Object(p.a)("/img/tmr_icon_playstore_blue.svg");return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:e.backPanel},s.a.createElement("span",{className:e.backIcon,onClick:this.handleGoBack},s.a.createElement(oe.b,{kind:le.Kinds.ARROW_UP,rotate:le.Rotate.D270,size:le.Sizes.XS,colorState:le.ColorStates.INHERITED})),s.a.createElement("b",null,s.a.createElement("span",null,t(ue.rewards_tasks_back_panel_title)))),s.a.createElement("div",{className:e.subContainer,"data-test-id":"rewards-tasks-panel"},s.a.createElement("div",{className:e.imgContainer},s.a.createElement("span",{className:e.imgContent},t(ue.rewards_tasks_app_download))),s.a.createElement("div",{className:e.footer},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:e.appLogoContainer,href:a.appStoreLink,onClick:e=>this.instrumentNavigation("appStoreFromTasks",e)},s.a.createElement("img",{className:e.appLogo,src:i}),t(ue.rewards_cta_appstore)),s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:e.appLogoContainer,href:a.playStoreLink,onClick:e=>this.instrumentNavigation("playStoreFromTasks",e)},s.a.createElement("img",{className:e.appLogo,src:r}),t(ue.rewards_cta_playstore)))))}),N()(this,"renderTask",(e,t,a)=>{const n=this.context.intl.formatMessage,i=e.title,r=e.description,o=e.rewards.value,l=e.completed,c="hk"===this.context.region?"/img/tmr_hk_points_icon.svg":"/img/tmr_tw_points_icon.svg",d=n(l?ue.rewards_cta_task_completed:ue.rewards_cta_go);return s.a.createElement("div",{key:"task-"+t,className:a.taskPanel,"data-test-id":"reward-task"},s.a.createElement("div",{className:a.taskDetails},s.a.createElement("div",{className:a.taskTitleContainer},s.a.createElement("span",{className:a.taskTitle},i),o?s.a.createElement("div",{className:a.taskPoints},s.a.createElement("span",null,"+"+o),s.a.createElement("img",{className:a.yPointsIcon,src:Object(p.a)(c)})):null),s.a.createElement("div",{className:a.taskDescription},r)),s.a.createElement(h.a,{title:d,"data-test-id":"rewards-tasks-go-button",kind:g.a.PRIMARY,"aria-label":d,marginLess:!0,overridingClass:a.goButton,onClick:e.onClick,disabled:!!l},d))}),N()(this,"renderSuperAppTasks",e=>{const t=this.context.intl.formatMessage,a=this.props.superAppChallenges;return s.a.createElement("div",null,s.a.createElement("div",{className:e.superAppTasksTitle},s.a.createElement("img",{className:e.superAppIcon,src:Object(p.a)("/img/tmr_yahoo_super_app_icon.png")}),s.a.createElement("div",null,s.a.createElement("b",null,t(ue.rewards_tasks_panel_more_title)))),a.map((t,a)=>(t=_e({},t,{onClick:this.showYahooAppPromotion}),this.renderTask(t,a,e))))}),N()(this,"renderTaskView",(e,t)=>{const a=this.context.intl.formatMessage;return s.a.createElement("div",{className:e.subContainer,"data-test-id":"rewards-tasks-panel"},s.a.createElement("div",{className:e.titleContainer},s.a.createElement("img",{src:Object(p.a)("/img/tmr_tasks_icon.svg")}),s.a.createElement("span",{className:e.title},s.a.createElement("b",null,a(ue.rewards_tasks_panel_title)))),t.map((t,a)=>this.renderTask(t,a,e)),this.renderSuperAppTasks(e))})}render(){const e=Object(E.n)({context:this.context,includeMedium:!0}),t=this.context.getCss(re.a,{imageType:`${"hk"===this.context.region?"hk":"tw"}-${e?"dark":"light"}`}),a=this.props,n=a.imapinChallenge;a.imapinChallengeCompleted&&(n.completed=!0);const s=n.title?[_e({},n,{onClick:this.navigateToSettings})]:[];return this.state.showSuperAppPromotion?this.renderSuperAppPromotion(t):this.renderTaskView(t,s)}}pe.contextTypes={getCss:r.a.func,intl:m.intlShape.isRequired,region:r.a.string,getThemeMode:r.a.func,navigateTo:r.a.func};var he=pe,ge=a(1719),Ee=a.n(ge);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(a,!0).forEach((function(t){N()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Ce=Object(m.defineMessages)({rewards_redeem_panel_title:{id:"rewards_redeem_panel_title",defaultMessage:"Featured Rewards"},rewards_cta_appstore:{id:"rewards_cta_appstore",defaultMessage:"App Store"},rewards_cta_playstore:{id:"rewards_cta_playstore",defaultMessage:"Play Store"},rewards_cta_more_rewards:{id:"rewards_cta_more_rewards",defaultMessage:"See All Rewards"},rewards_redeem_app_download:{id:"rewards_redeem_app_download",defaultMessage:"Download Yahoo App to redeem member exclusive rewards!"}});class Se extends s.a.Component{constructor(...e){super(...e),N()(this,"state",{showSuperAppPromotion:!1}),N()(this,"instrumentNavigation",(e,t)=>{this.props.tmrNavigateToUrl({i13nModel:{mKey:S.g.TMR_NAVIGATE_TO_URL,sec:S.i.MEMBERSHIP_REWARDS,interactionType:Object(ce.getInteractionFromEvent)(e),actionData:fe({},t)}})}),N()(this,"showYahooAppPromotion",(e,t)=>{this.instrumentNavigation(e,t),this.setState({showSuperAppPromotion:!0})}),N()(this,"handleGoBack",()=>{this.setState({showSuperAppPromotion:!1})}),N()(this,"renderSuperAppPromotion",(e,t)=>{const a=this.context.intl.formatMessage,n=this.props.membershipRewardsSettings,i=Object(E.n)({context:this.context,includeMedium:!0}),r=i?Object(p.a)("/img/tmr_icon_appstore_white.svg"):Object(p.a)("/img/tmr_icon_appstore_blue.svg"),o=i?Object(p.a)("/img/tmr_icon_playstore_white.svg"):Object(p.a)("/img/tmr_icon_playstore_blue.svg");return s.a.createElement(s.a.Fragment,null,t.length?s.a.createElement("div",{className:e.backPanel},s.a.createElement("span",{className:e.backIcon,onClick:this.handleGoBack},s.a.createElement(oe.b,{kind:le.Kinds.ARROW_UP,rotate:le.Rotate.D270,size:le.Sizes.XS,colorState:le.ColorStates.INHERITED})),s.a.createElement("b",null,s.a.createElement("span",null,a(Ce.rewards_redeem_panel_title)))):null,s.a.createElement("div",{className:e.subContainer,"data-test-id":"rewards-redeem-panel"},s.a.createElement("div",{className:e.imgContainer},s.a.createElement("span",{className:e.imgContent},a(Ce.rewards_redeem_app_download))),s.a.createElement("div",{className:e.footer},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:e.appLogoContainer,href:n.appStoreLink,onClick:e=>this.instrumentNavigation(e,{linkType:"appStoreFromRewards"})},s.a.createElement("img",{className:e.appLogo,src:r}),a(Ce.rewards_cta_appstore)),s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:e.appLogoContainer,href:n.playStoreLink,onClick:e=>this.instrumentNavigation(e,{linkType:"playStoreFromRewards"})},s.a.createElement("img",{className:e.appLogo,src:o}),a(Ce.rewards_cta_playstore)))))}),N()(this,"renderItem",(e,t,a)=>{const n="hk"===this.context.region?"/img/tmr_hk_points_icon.svg":"/img/tmr_tw_points_icon.svg";return s.a.createElement("div",{key:"reward-item-"+a,"data-test-id":"reward-item",className:e.rewardsContainer,onClick:e=>this.showYahooAppPromotion(e,{linkType:"RewardsItem",itemNumber:a,prizeId:t.prizeId})},s.a.createElement("img",{className:e.itemImg,src:t.imageUrl}),s.a.createElement("span",null,t.title),s.a.createElement("span",{className:e.priceContainer},s.a.createElement("span",{className:e.price},t.points),s.a.createElement("img",{className:e.yPointsIcon,src:Object(p.a)(n)})))}),N()(this,"renderRewardsView",(e,t)=>{const a=this.context.intl.formatMessage,n=a(Ce.rewards_cta_more_rewards);return s.a.createElement("div",{className:e.subContainer,"data-test-id":"rewards-redeem-panel"},s.a.createElement("div",{className:e.titleContainer},s.a.createElement("img",{src:Object(p.a)("/img/tmr_rewards_icon.svg")}),s.a.createElement("span",{className:e.title},s.a.createElement("b",null,a(Ce.rewards_redeem_panel_title)))),s.a.createElement("div",{className:e.rewardsItems},t.map((t,a)=>this.renderItem(e,t,a))),s.a.createElement(h.a,{title:n,"data-test-id":"show-more-rewards",kind:g.a.PRIMARY,"aria-label":n,marginLess:!0,overridingClass:e.moreButton,onClick:e=>this.showYahooAppPromotion(e,{linkType:"SuperAppQRCodeFromRewards"})},n))})}render(){const e=Object(E.n)({context:this.context,includeMedium:!0}),t=this.context.getCss(Ee.a,{imageType:`${"hk"===this.context.region?"hk":"tw"}-${e?"dark":"light"}`}),a=this.props.redeemItems;return this.state.showSuperAppPromotion||!a.length?this.renderSuperAppPromotion(t,a):this.renderRewardsView(t,a)}}Se.contextTypes={getCss:r.a.func,intl:m.intlShape.isRequired,getThemeMode:r.a.func,region:r.a.string};var ye=Se;const Te=Object(m.defineMessages)({rewards_error_message:{id:"rewards_error_message",defaultMessage:"Something went wrong, will try again later or reload mail"}}),ve=(e,{getCss:t,intl:{formatMessage:a}})=>{const n=t(c.a);return s.a.createElement("span",{className:n.errorMessage},a(Te.rewards_error_message))};ve.contextTypes={getCss:r.a.func.isRequired,intl:m.intlShape.isRequired};var Ie=ve;const Me=f.pe.DAILY_CHECKIN,Ae=f.pe.IMAPIN;class Ne extends s.a.Component{render(){const e=this.context.getCss(c.a),t=this.props,a=t.atosInfo,n=t.tmrNavigateToAtos,i=t.membershipRewardsSettings,r=t.selectedTab,o=t.changeTab,l=t.pointsBalance,d=t.dailyCheckinChallenge,m=t.dailyCheckinProgress,_=t.imapinChallenge,u=t.imapinChallengeCompleted,p=t.superAppChallenges,h=t.redeemItems,g=t.showSpin,E=t.spinCompleted,b=t.tmrNavigateToUrl,C=t.tmrPointsIconClick,S=t.dailyCheckinBonusType,y=t.dailyCheckinMilestoneList;let T=s.a.createElement(Ie,null);return a.atosStatus&&(T=a.atosStatus!==f.oe.AGREED?s.a.createElement(I,{atosInfo:a,tmrNavigateToAtos:n,tmrNavigateToUrl:b,customerCareUrl:i.customerCareUrl}):s.a.createElement(s.a.Fragment,null,s.a.createElement(j,{pointsBalance:l,includeDailyCheckinTab:!!d.id,selectedTab:r,changeTab:o,membershipRewardsSettings:i,tmrPointsIconClick:C,tmrNavigateToUrl:b}),r===f.qe.CHECKIN?s.a.createElement(se,{challenge:d,challengeProgress:m,imapinChallenge:_,imapinChallengeCompleted:u,changeTab:o,showSpin:g,spinCompleted:E,dailyCheckinBonusType:S,dailyCheckinMilestoneList:y}):null,r===f.qe.TASKS?s.a.createElement(he,{imapinChallenge:_,imapinChallengeCompleted:u,superAppChallenges:p,membershipRewardsSettings:i,tmrNavigateToUrl:b}):null,r===f.qe.REWARDS?s.a.createElement(ye,{redeemItems:h,membershipRewardsSettings:i,tmrNavigateToUrl:b}):null)),s.a.createElement("div",{className:e.container},T)}}Ne.contextTypes={getCss:r.a.func.isRequired};const ke=e=>{const t=Object(d.selectors)(e),a=t.getSetting,n=(0,t.getMembershipRewardsSelectors)(),s=n.getAtosInfo,i=n.getSelectedTab,r=n.getPointsBalance,o=n.getChallengeDefns,l=n.getChallengeProgress,c=n.isImapInCompleted,m=n.getSuperAppChallenges,_=n.getRedeemItems,u=n.getLastCompletedChallenges,p=n.getDailyCheckinBonusType,h=n.getDailyCheckinMilestoneList,g=a(f.Kd.MEMBERSHIP_REWARDS_SETTINGS);return{atosInfo:s(),membershipRewardsSettings:g,selectedTab:i(),pointsBalance:r(),dailyCheckinChallenge:o(Me),dailyCheckinProgress:l(Me),imapinChallenge:o(Ae),imapinChallengeCompleted:c(),superAppChallenges:m(),redeemItems:_(),showSpin:!!u(f.pe.DAILY_CHECKIN).showSpin,dailyCheckinBonusType:p(),dailyCheckinMilestoneList:h()}},Oe=e=>({tmrNavigateToAtos:t=>e(Object(M.d)(t)),tmrNavigateToUrl:t=>e(Object(M.e)(t)),changeTab:t=>e(Object(M.b)(t)),spinCompleted:t=>e(Object(M.c)(t)),tmrPointsIconClick:t=>e(Object(M.f)(t))});t.default=Object(o.connect)(ke,Oe)(Ne)},function(e,t,a){"use strict";a.r(t),a.d(t,"CloudStorageItems",(function(){return Pe})),a.d(t,"mapStateToProps",(function(){return Re})),a.d(t,"mapDispatchToProps",(function(){return we}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(12),d=a.n(c),m=a(6),_=a(5),u=a(0),p=a(4),h=a(21),g=a(1739),E=a.n(g),b=a(1740),f=a.n(b),C=a(276),S=a(482);const y=Object(m.defineMessages)({searchFiles:{id:"files_search",defaultMessage:"Search files"}}),T={kind:p.Kinds.SEARCH,size:p.Sizes.XXS,colorState:p.ColorStates.FIRST_LEVEL_GRAY};class v extends l.a.Component{render(){const e=this.context.intl.formatMessage,t=this.props,a=t.handleSearchChange,n=t.searchBoxValue,s=d()(f.a,{searchBoxNotEmpty:!!n});return l.a.createElement("div",{className:s.searchSection},l.a.createElement(C.a,{fujiIconProps:T,kind:S.a.LEFT_ICON,onChange:a,className:s.searchInput,placeholder:e(y.searchFiles),value:n,isClearable:!0,clearButtonContainerClassName:s.clearButtonContainer,focusOnMount:!0}))}}s()(v,"contextTypes",{intl:m.intlShape});var I=v,M=a(64),A=a(61),N=a(42),k=a(15),O=a(11),D=a(63),P=a(117),R=a(90),w=a(226),F=a(1741),x=a.n(F);const L=d()(x.a),B=Object(m.defineMessages)({backButton:{id:"compose.cloud_storage_back_button_title",defaultMessage:"Go back to previous folder"},allFiles:{id:"compose.cloud_storage_all_files_menu_item",defaultMessage:"All Files"},recentFiles:{id:"compose.recent_files_in_mail_menu",defaultMessage:"Recent files in Mail"}});class j extends l.a.Component{constructor(...e){super(...e),s()(this,"getMenuItem",(e,t)=>{const a="/"===e.path?(0,this.context.intl.formatMessage)(B.allFiles):e.name,n="  ".repeat(t)+a;return l.a.createElement(w.a,{key:e.id,name:a,onClick:this.props.handleMenuItemClick.bind(this,e)},l.a.createElement("div",{className:L.listItem,title:a},n))}),s()(this,"renderMenuItems",()=>this.props.folderTree.slice(0,-1).map((e,t)=>this.getMenuItem(e,t)))}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.folderTree,n=t.provider,s=t.handleBackButton,i=a.length;if(i>1){const t=a[i-1].name||n;return l.a.createElement("div",{className:L.leftHeaderSection},l.a.createElement(h.default,{title:e(B.backButton),kind:p.Kinds.ARROW_UP,size:p.Sizes.S,rotate:p.Rotate.D270,colorState:p.ColorStates.FIRST_LEVEL_GRAY,onClick:s,"data-test-id":"icon-btn-folder_back",paddingLess:!0}),l.a.createElement(M.a,{className:L.navigationPopoverContainer},l.a.createElement(A.a,null,l.a.createElement("div",{className:L.folderButton},l.a.createElement("span",{className:L.folderLabel,"data-test-id":"folder-label-name"},t),l.a.createElement(R.a,{kind:p.Kinds.INPUT_ARROW_DOWN,size:p.Sizes.XS,colorStates:{normal:p.ColorStates.INHERITED,hovered:p.ColorStates.INHERITED},paddingLess:!0}))),l.a.createElement(N.b,{triggerOn:k.i.CLICK,permittedArrowDirections:[k.h.UP],zAltitude:O.Pb.POPOVER.HIGH,isArrowVisible:!1,align:k.a.START},l.a.createElement("div",{className:L.navigationPopoverContent},l.a.createElement(D.a,{kind:P.a.MENU,focusOnMount:!0},this.renderMenuItems())))))}const r=u.X[n]&&u.X[n].displayName||e(B.recentFiles);return l.a.createElement("span",{className:L.providerLabel,"data-test-id":"provider-label-name"},r)}}s()(j,"contextTypes",{intl:m.intlShape.isRequired});var U=j,H=a(58),W=a(49),G=a(1441),Z=a.n(G),V=a(1742),q=a.n(V),z=a(1743),Y=a.n(z),K=a(170),X=a(252),Q=a(55),J=a(51),$=a(210),ee=a(125),te=a(146),ae=a(13),ne=a(16),se=a(119),ie=a(103);const re=u.F.SimplifiedTypes,oe=d()(Y.a),le=Object(m.defineMessages)({preview:{id:"compose.preview_button",defaultMessage:"Preview"},previewTitle:{id:"compose.preview_button_title",defaultMessage:"Click to preview item"},thumbnailTitle:{id:"compose.thumbnail_title",defaultMessage:"Click to insert item"},promptAccept:{id:"prompt.accept",defaultMessage:"OK"},cancel:{id:"cancel_btn_text",defaultMessage:"Cancel"},filePermissionChangeAlertTitle:{id:"file_permission_change_alert.title",defaultMessage:"Change file permission"},filePermissionChangeAlertSubheader:{id:"file_permission_change_alert.subheader",defaultMessage:"Anyone who receives this link will be able to view the file."}});class ce extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{hover:!1}),s()(this,"handleMouseOver",()=>{this.setState({hover:!0})}),s()(this,"handleMouseLeave",()=>{this.setState({hover:!1})}),s()(this,"showModal",e=>Object(ee.a)(l.a.createElement($.a,{title:this.context.intl.formatMessage(le.filePermissionChangeAlertTitle),message:this.context.intl.formatMessage(le.filePermissionChangeAlertSubheader),primaryButtonLabel:le.promptAccept,secondaryButtonLabel:le.cancel,onPrimaryButtonClick:t=>{this.handlePrimaryButtonClick(e,t)},onSecondaryButtonClick:this.handleSecondaryButtonClick,onClose:this.handleSecondaryButtonClick}),this.context)),s()(this,"handlePreviewClick",(e,t)=>{t.stopPropagation(),e.previewLink&&window.open(e.previewLink,"_blank"),this.props.handlePreviewClick(e,t),this.props.onPreviewClick({i13nModel:{mKey:_.g.CLOUD_STORAGE_ITEM_PREVIEW_CLICKED,sec:_.i.COMPOSE_ATTACH_FILES_MENU,interactionType:Object(ne.getInteractionFromEvent)(t),actionData:{item:e}}})}),s()(this,"handlePrimaryButtonClick",(e,t)=>{this.props.handleItemClick(e),this.props.onChangePermissionsDialogClick({i13nModel:{mKey:_.g.CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_ACCEPTED,sec:_.i.COMPOSE_ATTACH_FILES_MENU,interactionType:Object(ne.getInteractionFromEvent)(t)}})}),s()(this,"handleSecondaryButtonClick",e=>{this.props.onChangePermissionsDialogClick({i13nModel:{mKey:_.g.CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_CANCELLED,sec:_.i.COMPOSE_ATTACH_FILES_MENU,interactionType:Object(ne.getInteractionFromEvent)(e)}})}),s()(this,"handlePermissionResult",(e,t)=>{t===u.T.PRIVATE?this.showModal(e):this.props.handleItemClick(e)}),s()(this,"handleItemClick",e=>{this.props.provider===u.eb.YMAIL||this.props.provider===u.eb.DROPBOX||e.mimeType===u.S.FOLDER_MIMETYPE?this.props.handleItemClick(e):e.permission?this.handlePermissionResult(e,e.permission):this.context.cloudStorageClient.getFilePermissions({itemId:e.id,provider:this.props.provider}).then(({permission:t})=>{this.handlePermissionResult(e,t),this.props.onFilePermissionFetch({itemId:e.id,permission:t})}).catch(t=>{this.showModal(e);Object(se.apiErrorLogger)(ie.a,u.z.CloudStorageClient,{apiName:"getFilePermissions"},t)})}),s()(this,"renderPreviewLink",()=>{const e=this.props,t=e.item,a=e.provider,n=e.isThumbnail,s=(0,this.context.intl.formatMessage)(le.preview);return a===u.eb.YMAIL||t.previewLink?l.a.createElement("div",{className:n?oe.previewWrapper:{}},l.a.createElement(R.a,{kind:a===u.eb.YMAIL?p.Kinds.PREVIEW:p.Kinds.POP_OUT,"data-test-id":"preview-button",size:n?p.Sizes.XS:p.Sizes.XXS,colorStates:{normal:n?p.ColorStates.SELECTED:p.ColorStates.FIRST_LEVEL_GRAY,hovered:p.ColorStates.NORMAL},title:s,className:oe.previewLink,onClick:e=>{this.handlePreviewClick(t,e)},paddingLess:!n},n?null:l.a.createElement("div",{className:oe.previewLabel},s))):null}),s()(this,"renderThumbnailItem",()=>{const e=this.context.intl.formatMessage,t=this.props.item,a=t.name,n=t.mimeType,s=t.thumbnail,i=Object(Q.j)(n),r=i.type,o=i.subtype,c=Object(Q.i)(a),m=Object(Q.d)(r,o),_=d()(Y.a,{type:c||m});return l.a.createElement("div",{className:_.thumbnailResultItem,"data-test-id":"thumbnail-result-item",onClick:()=>{this.handleItemClick(t)}},l.a.createElement("div",{onMouseLeave:this.handleMouseLeave,onMouseOver:this.handleMouseOver},l.a.createElement("div",{className:s?_.imageThumbnail:_.genericThumbnail},s?l.a.createElement("img",{className:_.image,src:s}):l.a.createElement(X.a,{type:r,subtype:o,filename:a,isThumbnail:!0}),this.state.hover?l.a.createElement("div",{className:_.hoverMask,title:e(le.thumbnailTitle)},this.renderPreviewLink(t)):null)),l.a.createElement("div",{className:_.thumbnailTitle,title:a},a))}),s()(this,"renderIcon",()=>{const e=this.props,t=e.item,a=e.provider,n=t.mimeType,s=t.thumbnail,i=t.name,r=Object(Q.j)(n),o=r.type,c=r.subtype,d=Object(Q.d)(o,c);return l.a.createElement("div",{className:oe.icon},!s||a!==u.eb.YMAIL&&d!==re.IMAGE?l.a.createElement(X.a,{type:o,subtype:c,filename:i}):l.a.createElement("img",{className:oe.iconImg,src:s}))}),s()(this,"renderListItem",()=>{const e=this.props,t=e.item,a=e.provider,n=t.mimeType,s=t.name,i=t.lastUpdateTime,r=t.creationDate,o=t.sharedBy,c=o&&o.name;return l.a.createElement("div",{onMouseLeave:this.handleMouseLeave,onMouseOver:this.handleMouseOver},l.a.createElement("div",{className:oe.resultItem,"data-test-id":"list-result-item",onClick:()=>{this.handleItemClick(t)}},l.a.createElement("div",{className:oe.resultItemContainer},this.renderIcon(),l.a.createElement("div",{className:oe.leftSection},l.a.createElement("div",{className:oe.title,title:s},s),a===u.eb.YMAIL?l.a.createElement("div",{className:oe.sharedByName,title:c},c):null),n!==u.S.FOLDER_MIMETYPE?l.a.createElement("div",{className:oe.rightSection},this.state.hover?this.renderPreviewLink():null,l.a.createElement("div",{className:oe.dateLabel},l.a.createElement(K.a,{"data-test-id":"date-time-label",date:new Date(i||r)}))):null),l.a.createElement("div",{className:oe.divider})))})}render(){return this.props.isThumbnail?this.renderThumbnailItem():this.renderListItem()}}s()(ce,"contextTypes",{intl:m.intlShape,executeAction:r.a.func,getStore:r.a.func,cloudStorageClient:J.CloudStorageClientType});var de=Object(ae.connect)(null,e=>({onChangePermissionsDialogClick:t=>e(Object(te.b)(t)),onPreviewClick:t=>e(Object(te.d)(t)),onFilePermissionFetch:t=>e(Object(te.p)(t))}))(ce);const me=d()(q.a);class _e extends l.a.Component{render(){const e=this.props,t=e.provider,a=e.handleItemClick,n=e.handlePreviewClick;return l.a.createElement("div",{className:me.rowContainer},e.item.items.map(e=>l.a.createElement(de,{key:e.id,item:e,handlePreviewClick:n,handleItemClick:a,isThumbnail:!0,provider:t,handleInsertShareableLink:this.props.handleInsertShareableLink})))}}s()(_e,"contextTypes",{intl:m.intlShape});var ue=_e,pe=a(277);const he=d()(Z.a);class ge extends l.a.Component{render(){return l.a.createElement(pe.a,{bufferSize:10,items:this.props.items,getItemHeight:()=>56,formatItem:this.props.formatItem,loadMoreItems:this.props.handleLoadMoreItems,scrollerClassName:he.resultContainer,scrollTop:this.props.scrollTop||0,onScroll:this.props.onScroll})}}s()(ge,"contextTypes",{intl:m.intlShape});var Ee=ge;const be=d()(Z.a);class fe extends l.a.Component{render(){return l.a.createElement(pe.a,{bufferSize:10,items:this.props.items,getItemHeight:()=>167,formatItem:this.props.formatItem,loadMoreItems:this.props.handleLoadMoreItems,scrollerClassName:be.resultContainer,scrollTop:this.props.scrollTop||0,onScroll:this.props.onScroll})}}s()(fe,"contextTypes",{intl:m.intlShape});var Ce=fe;const Se=Object(W.a)("/img/cloud_storage_empty_results.png"),ye=Object(W.a)("/img/recent_attachments_empty_results.png"),Te=d()(Z.a),ve=Object(m.defineMessages)({loadingError:{id:"compose.cloud_account_loading_error",defaultMessage:"Unable to load files at the moment."},emptyResultsMsg:{id:"compose.cloud_account_empty_results_msg",defaultMessage:"No files found. Please try another search."},recentFilesEmptyResultsMsg:{id:"compose.recent_files_empty_results_msg",defaultMessage:"See all recent attachments in one place"},tryAgain:{id:"launch.error.try.again",defaultMessage:"Try again"},connectAgain:{id:"launch.error.connect.again",defaultMessage:"Connect again"}});class Ie extends l.a.Component{constructor(...e){super(...e),s()(this,"onScroll",({scrollTop:e})=>{this.scrollPosition=e}),s()(this,"handleLoadMoreItems",()=>{if(!this.props.loadMoreItems)return!1;const e=this.props;return this.props.handleLoadMoreItemsOnScroll(e.provider,e.path,e.query,!0),!0}),s()(this,"handleNavigateToPath",()=>{const e=this.props;this.props.handleNavigateToPath(e.provider,e.path,e.query)}),s()(this,"formatListItem",e=>l.a.createElement(de,{item:e,handleItemClick:this.props.handleItemClick,handlePreviewClick:this.props.handlePreviewClick,provider:this.props.provider,isThumbnail:!1,previewAttachment:this.props.previewAttachment,handleInsertShareableLink:this.props.handleInsertShareableLink})),s()(this,"formatThumbnailItem",e=>l.a.createElement(ue,{item:e,handleItemClick:this.props.handleItemClick,handlePreviewClick:this.props.handlePreviewClick,provider:this.props.provider,handleInsertShareableLink:this.props.handleInsertShareableLink})),s()(this,"renderVirtualList",()=>{const e=this.props,t=e.itemsInRows;return e.isListView?l.a.createElement(Ee,{items:e.items,formatItem:this.formatListItem,handleLoadMoreItems:this.handleLoadMoreItems,scrollTop:this.scrollPosition,onScroll:this.onScroll}):l.a.createElement(Ce,{items:t,formatItem:this.formatThumbnailItem,handleLoadMoreItems:this.handleLoadMoreItems,scrollTop:this.scrollPosition,onScroll:this.onScroll})}),s()(this,"renderEmptyResultView",()=>{const e=this.context.intl.formatMessage,t=this.props.provider;return l.a.createElement("div",{className:Te.container,"data-test-id":"cloud-storage-no-results"},l.a.createElement("img",{src:t===u.eb.YMAIL?ye:Se}),l.a.createElement("div",{className:Te.emptyResultsText},e(t!==u.eb.YMAIL?ve.emptyResultsMsg:ve.recentFilesEmptyResultsMsg)))}),s()(this,"renderReconnectView",()=>{const e=this.context.intl.formatMessage;return l.a.createElement("div",{className:Te.container,"data-test-id":"cloud-storage-auth-error"},l.a.createElement("img",{src:Se}),l.a.createElement("div",null,l.a.createElement("div",{className:Te.descriptionError},e(ve.loadingError)),l.a.createElement("div",{className:Te.tryAgain},l.a.createElement("a",{"data-test-id":"cloud-storage-connect-again-link",className:Te.tryAgainLink,onClick:this.props.reconnectHandler},e(ve.connectAgain)))))}),s()(this,"renderErrorResultView",()=>{const e=this.context.intl.formatMessage;return l.a.createElement("div",{className:Te.container,"data-test-id":"cloud-storage-no-results"},l.a.createElement("img",{src:this.props.provider===u.eb.YMAIL?ye:Se}),l.a.createElement("div",null,l.a.createElement("div",{className:Te.descriptionError},e(ve.loadingError)),l.a.createElement("div",{className:Te.tryAgain},l.a.createElement("a",{"data-test-id":"cloud-storage-try-again-link",className:Te.tryAgainLink,onClick:this.handleNavigateToPath},e(ve.tryAgain)))))})}componentDidUpdate(e){e.path!==this.props.path&&(this.scrollPosition=0)}render(){const e=this.props,t=e.status,a=e.items,n=t===u.od.DIRTY,s=t===u.od.ERROR&&0===a.length;return t===u.od.LOADED&&0===a.length?this.renderEmptyResultView():n?this.renderReconnectView():s?this.renderErrorResultView():l.a.createElement("div",{className:Te.virtualListContainer,"data-test-id":"virtual-list-container"},t===u.od.DOES_NOT_EXIST||t===u.od.LOADING&&0===a.length?l.a.createElement("div",{className:Te.loadingContainer},l.a.createElement(H.b,null)):this.renderVirtualList())}}s()(Ie,"contextTypes",{intl:m.intlShape});var Me=Ie,Ae=a(8),Ne=a(10),ke=a(164);const Oe=d()(E.a),De=Object(m.defineMessages)({close:{id:"compose.close_button_label",defaultMessage:"Close"}});class Pe extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{folderTree:this.props.folderTreeArray,listView:!0}),s()(this,"handleInsertShareableLink",e=>{this.props.handleClose(),this.props.insertLink(e),setImmediate(()=>{this.props.onLinkAdded({i13nModel:{mKey:_.g.CLOUD_STORAGE_ITEM_LINK_INSERTED,sec:_.i.COMPOSE_ATTACH_FILES_MENU,interactionType:_.e.click,actionData:{source:this.props.provider,listView:this.state.listView}}})})}),s()(this,"handleNavigateToPath",(e,t,a)=>{this.props.handlePathChange(e,t,a)}),s()(this,"handlePreviewClick",(e,t)=>{if(this.props.provider===u.eb.YMAIL){const a=this.props.getAttachmentById(`${e.mid}:${e.partId}`);if(!a)return;this.props.previewAttachment(a.id,Object(ne.getInteractionFromEvent)(t),a.conversationId,!0)}}),s()(this,"handleItemClick",e=>{if(this.props.provider===u.eb.YMAIL){const t=this.props.getAttachmentById(`${e.mid}:${e.partId}`);this.props.handleAttachmentFromRecentFiles(t)}else if(e.mimeType===u.S.FOLDER_MIMETYPE){const t=[...this.state.folderTree];t.push(e),this.setState({folderTree:t},this.handleNavigateToPath(this.props.provider,e.path,this.props.query))}else this.props.onItemClick({itemId:e.id,provider:this.props.provider})}),s()(this,"handleMenuItemClick",e=>{const t=[...this.state.folderTree],a=t.splice(0,t.findIndex(t=>t.name===e.name)+1);this.setState({folderTree:a},this.handleNavigateToPath(this.props.provider,e.path,this.props.query))}),s()(this,"handleBackButton",()=>{const e=[...this.state.folderTree];e.pop(),this.setState({folderTree:e},()=>{const t=e[e.length-1];t&&this.handleNavigateToPath(this.props.provider,t.path,this.props.query)})}),s()(this,"toggleListView",e=>{this.setState({listView:e})}),s()(this,"renderViewModeToggle",()=>{const e=d()(E.a,{isThumbnailView:!this.state.listView});return l.a.createElement("div",{className:e.toggleContainer},l.a.createElement("div",{className:e.thumbnailToggle,onClick:()=>{this.toggleListView(!1)},"data-test-id":"thumbnail-view-toggle"},l.a.createElement("div",{className:e.squareContainer},l.a.createElement("div",{className:e.square}),l.a.createElement("div",{className:e.square})),l.a.createElement("div",{className:e.squareContainer},l.a.createElement("div",{className:e.square}),l.a.createElement("div",{className:e.square}))),l.a.createElement("div",{className:e.listToggle,onClick:()=>{this.toggleListView(!0)},"data-test-id":"list-view-toggle"},l.a.createElement("div",{className:e.line}),l.a.createElement("div",{className:e.line}),l.a.createElement("div",{className:e.line}),l.a.createElement("div",{className:e.line})))})}componentWillMount(){const e=this.props.provider,t=this.props.query;this.props.fetchCloudStorageItems({source:e,query:t,path:this.props.path,i13nModel:{mKey:_.g.CLOUD_STORAGE_ITEMS_FETCHED,sec:_.i.COMPOSE_ATTACH_FILES_MENU,interactionType:_.e.nav,actionData:{source:e,query:t}}})}componentDidUpdate(e){this.props.shareableLink&&e.shareableLink!==this.props.shareableLink&&this.handleInsertShareableLink(this.props.shareableLink)}componentWillUnmount(){const e=this.props.path,t=this.props.provider;this.props.saveFolderState(this.state.folderTree,t),this.props.savePathState(e,t)}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.searchBoxValue,n=t.handleSearchChange,s=t.provider,i=t.status,r=t.items,o=t.itemsInRows,c=t.query,d=t.path;return l.a.createElement("div",{className:Oe.popover,"data-test-id":"cloud-storage-results-menu"},l.a.createElement("div",{className:Oe.headerSection},l.a.createElement(U,{folderTree:this.state.folderTree,provider:s,handleMenuItemClick:this.handleMenuItemClick,handleBackButton:this.handleBackButton}),l.a.createElement("div",{className:Oe.rightHeaderSection},l.a.createElement(I,{searchBoxValue:a,handleSearchChange:n}),this.renderViewModeToggle(),l.a.createElement(h.default,{"data-iskeynav":!0,"data-test-id":"close-button",kind:p.Kinds.CLOSE,size:p.Sizes.XXS,onClick:this.props.handleClose,title:e(De.close),colorState:p.ColorStates.FIRST_LEVEL_GRAY}))),l.a.createElement("div",{className:Oe.separator}),l.a.createElement("div",{className:Oe.resultsSection},l.a.createElement(Me,{status:i,items:r,itemsInRows:o,handleLoadMoreItemsOnScroll:this.props.handleLoadMoreItemsOnScroll,handleNavigateToPath:this.handleNavigateToPath,handleItemClick:this.handleItemClick,handlePreviewClick:this.handlePreviewClick,loadMoreItems:this.props.loadMoreItems,path:d,query:c,provider:s,isListView:this.state.listView,handleInsertShareableLink:this.handleInsertShareableLink,reconnectHandler:this.props.reconnectHandler})))}}s()(Pe,"contextTypes",{intl:m.intlShape.isRequired});const Re=(e,t)=>{const a=t.query.toLowerCase().trim(),n=t.provider,s=t.path,i=Object(Ne.selectors)(e),r=i.getCloudStorageAccountSelectors,o=i.getAttachmentById,l=i.getCurrentListId,c=i.getListsSelectors,d=(0,i.getSelectedAccountId)(),m=c(),_=m.doesListExist,p=m.getListStatus,h=m.getItemIdsSelectors,g=m.hasMoreItems,E=Object(Ae.gb)(l(),{listContentType:u.ac.CLOUD_STORAGE_ITEMS,keyword:a,name:n,folders:[].concat(s),listFilter:u.bc.CLOUD_STORAGE_ITEMS,accountIds:[d]});let b=[],f=u.od.DOES_NOT_EXIST,C=!1;_(E)&&(b=b.concat(h(E).getItemIds()),f=p(E),C=g(E));const S=r().getCloudStorageItems(),y=b.map(e=>S[e]);return{items:y,itemsInRows:Object(ke.e)(y,3,"unknown","none"),status:f,loadMoreItems:C,getAttachmentById:o,shareableLink:r().getShareableLinkForRecentItem()}},we=e=>({onItemClick:t=>e(Object(te.l)(t)),onLinkAdded:t=>e(Object(te.c)(t))});t.default=Object(ae.connect)(Re,we)(Pe)},function(e,t,a){"use strict";a.r(t),a.d(t,"GifPopUp",(function(){return ie})),a.d(t,"mapStateToProps",(function(){return re}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(13),d=a(10),m=a(1749),_=a.n(m),u=a(12),p=a.n(u),h=a(8),g=a(0),E=a(1750),b=a.n(E),f=a(6),C=a(1312),S=a(1751),y=a.n(S);const T=p()(y.a),v=Object(f.defineMessages)({gifItemTooltip:{id:"compose.gif.item.tooltip",defaultMessage:"Click to insert"}});class I extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{hovered:!1,thumbnailLoaded:!1,betterImgFetched:!1}),s()(this,"_onMouseOver",()=>{const e=this.state,t=e.betterImgFetched;e.hovered||this.setState({hovered:!0},()=>{if(!t){const e=new Image;e.src=this.props.url,e.onload=()=>this._isMounted&&this.setState({betterImgFetched:!0})}})}),s()(this,"_onImageLoaded",()=>{this._isMounted&&!this.state.thumbnailLoaded&&this.setState({thumbnailLoaded:!0})})}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const e=this.props,t=e.height,a=this.state,n=a.hovered;return l.a.createElement("span",{onMouseOver:this._onMouseOver,onMouseLeave:()=>this.setState({hovered:!1}),onClick:e.onClick,className:T.container,"data-test-id":"tile-image"},l.a.createElement("img",{className:T.img,style:{width:e.width,height:t},src:a.thumbnailLoaded&&a.betterImgFetched?e.url:e.thumbnail,onLoad:this._onImageLoaded}),n?l.a.createElement("div",{className:T.overlay,style:{height:t},title:this.context.intl.formatMessage(v.gifItemTooltip),"data-test-id":"gif-overlay"}):null)}}s()(I,"contextTypes",{intl:f.intlShape.isRequired}),s()(I,"defaultProps",{onClick:()=>{}});var M=I,A=a(1752),N=a.n(A);const k=p()(N.a),O=Object(f.defineMessages)({gifLabel:{id:"gif.tile_images.arial_label",defaultMessage:"GIF"}});class D extends l.a.Component{constructor(...e){super(...e),s()(this,"_mediaTable",e=>{const t=this.props,a=t.layoutWidth,n=Math.min(a,t.maxHeight),s=Math.floor(n),i=e.map(e=>{let t=e.height,a=e.width,n=e.downloadLink;if(e.source===g.I.TUMBLR){const i=function(e,t){let a=Number.MAX_VALUE,n=-1;return e.forEach(({height:e,width:s},i)=>{const r=Math.abs(t-Math.max(e,s));r<a&&(a=r,n=i)}),e[n]}(e.thumbnails,s);t=i.height,a=i.width,n=i.url}return{id:e.id,width:a,height:t,url:n,thumbnail:e.thumbnail,originalItem:e}});return new C.MediaTable(i,{layoutWidth:a,maxRows:0,maxAspect:a/s*2,maxClippedRows:0,wholeRowsOnly:!1,imgMargin:4,singleImgWidth:Math.round(.7*a),maxSingleImgHeight:s,maxRowHeight:s,idProp:"id"})}),s()(this,"_onItemClick",e=>{this.props.onItemClick(e)}),s()(this,"_renderRow",(e,t)=>e.items.map(e=>{const a=t[e.id],n=Math.floor(a.width),s=Math.floor(a.height);return this._renderItem(e,n,s)})),s()(this,"_renderItem",(e,t,a)=>{const n=e.originalItem,s=e.url,i=e.thumbnail;return l.a.createElement(M,{"aria-label":(0,this.context.intl.formatMessage)(O.gifLabel),"data-id":e.id,height:a,key:e.id,onClick:this._onItemClick.bind(null,n),role:"Menuitem",tabIndex:"0",url:s,width:t,thumbnail:i})}),s()(this,"_calcRenderProps",e=>{const t=[];let a,n,s;for(a=0;a<e.items.length;a++)n=e.items[a],s=e.getRow(n.id),t[n.id]=s.getMeta(n.id);return t})}render(){const e=this._mediaTable(this.props.results),t=e.rows,a=this._calcRenderProps(e);return l.a.createElement("div",null,t.map((e,t)=>l.a.createElement("div",{key:"row-"+t,className:k.rowContainer},this._renderRow(e,a))))}}s()(D,"contextTypes",{intl:f.intlShape.isRequired}),s()(D,"defaultProps",{results:[]});var P=D,R=a(1753),w=a.n(R),F=a(185),x=a.n(F),L=a(58);const B=p()(w.a);var j=class extends l.a.Component{constructor(...e){super(...e),s()(this,"onScroll",()=>{this._loadMoreWhenAtBottom()}),s()(this,"_loadMoreWhenAtBottom",()=>{if(!this._scroller||this.props.isLoading)return;const e=this._scroller;e.clientHeight+e.scrollTop>=e.scrollHeight-115&&this.props.onLoadMore()})}componentWillMount(){this.onScroll=x()(this.onScroll,300,{leading:!0})}componentDidMount(){this._loadMoreWhenAtBottom()}componentWillReceiveProps(e){this._scroller&&this.props.query&&e.query&&this.props.query.toLowerCase().trim()!==e.query.toLowerCase().trim()&&(this._scroller.scrollTop=0)}render(){return l.a.createElement("div",{className:B.container,ref:e=>this._scroller=e,onScroll:this.onScroll,"data-test-id":"scroller"},this.props.children,this.props.isLoading&&l.a.createElement("div",{className:B.gifLoadingSection},l.a.createElement(L.b,{size:L.a.M})))}};const U=p()(b.a);var H=class extends l.a.Component{componentDidMount(){this.props.status===g.od.DOES_NOT_EXIST&&this.props.fetchGIF({query:this.props.query})}componentWillReceiveProps(e){e.width!==this.props.width&&(this.containerWidth=null)}render(){const e=this.props,t=e.gifs,a=e.onItemClick,n=e.query,s=e.width,i=e.fetchGIF,r=e.status;return r===g.od.DOES_NOT_EXIST||r===g.od.LOADING&&0===t.length?l.a.createElement(L.b,{size:L.a.M}):t.length?l.a.createElement(j,{onLoadMore:()=>i({query:n,fetchMoreItems:!0}),isLoading:r!==g.od.LOADED,query:n},l.a.createElement("div",{ref:e=>{!this.containerWidth&&e&&(this.containerWidth=e.clientWidth,this.forceUpdate())}},l.a.createElement(P,{maxHeight:230,layoutWidth:this.containerWidth||s,results:t,onItemClick:a}))):l.a.createElement("p",{className:U.errMsg,"data-test-id":"err-msg"},l.a.createElement(f.FormattedMessage,{id:"gif_not_found",defaultMessage:"GIFs are not found. Please try another search."}))}};var W=Object(c.connect)((e,t)=>{const a=t.query.toLowerCase().trim(),n=Object(d.selectors)(e),s=n.getCurrentListId,i=n.getGifItemsSelectors,r=n.getGifCategoriesSelectors,o=(0,n.getListsSelectors)(),l=o.doesListExist,c=o.getListStatus,m=o.getItemIdsSelectors,_=Object(h.gb)(s(),{listContentType:g.ac.GIFS,keyword:a,listFilter:g.bc.GIFS});let u=[],p=g.od.DOES_NOT_EXIST;if(r().isGifCategoryQuery(a)){const e=Object(h.gb)(s(),{listContentType:g.ac.GIFS,keyword:a,listFilter:g.bc.GIFS});l(e)&&(u=m(e).getItemIds(),p=c(e))}l(_)&&(u=u.concat(m(_).getItemIds()),p=c(_));const E=i().getGifItems();return{status:p,gifs:u.map(e=>E[e])}})(H),G=a(1754),Z=a.n(G),V=a(276),q=a(482),z=a(4);const Y=Object(f.defineMessages)({searchGif:{id:"gif_search_gif",defaultMessage:"Search GIFs"}}),K=p()(Z.a),X={kind:z.Kinds.SEARCH,size:z.Sizes.XXS,colorState:z.ColorStates.NORMAL};class Q extends l.a.Component{render(){const e=this.props,t=e.gifCategories,a=e.onCategoryClick,n=e.searchBoxValue,s=e.selectedCategory;return l.a.createElement("div",{className:K.searchSection},l.a.createElement(V.a,{fujiIconProps:X,kind:q.a.LEFT_ICON,onChange:e.handleSearchChange,placeholder:(0,this.context.intl.formatMessage)(Y.searchGif),value:n,isClearable:!0,clearButtonContainerClassName:K.clearButtonContainer,focusOnMount:!0}),l.a.createElement("ul",{className:K.categoryContainer,"data-test-id":"category-container"},t.map(e=>{let t=K.categories,n="";const i=e.categoryName||e.title;return(e.categoryId||e.title)===s&&(t=K.categorySelected,n="category-active"),l.a.createElement("li",{className:`${t} ${K.hiddenBoldCategoryText}`,key:e.categoryId||e.tag,onClick:()=>a(e),"data-test-id":n,title:i},l.a.createElement("div",{className:K.categoryDiv},i))})))}}s()(Q,"contextTypes",{intl:f.intlShape});var J=Q,$=a(29),ee=a(21);function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ne=p()(_.a),se=Object(f.defineMessages)({close:{id:"gif_popup.btn_close",defaultMessage:"Close"},via:{id:"gif_popup.via",defaultMessage:"Via"}});class ie extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{xButtonHovered:!1}),s()(this,"onGifClick",e=>{this.props.handleGifClick(e)}),s()(this,"handleXButtonHover",e=>{this.setState({xButtonHovered:e})})}componentWillMount(){this.props.fetchGifCategories()}componentDidMount(){window.addEventListener("mousedown",this.handleWindowMouseDown,!1)}render(){const e=this.props,t=e.fetchGIF,a=e.toggleMenu,n=e.searchBoxValue,s=e.selectedCategory,i=e.handleSearchChange,r=e.onCategoryClick,o=e.width,c=e.query,d=e.gifCategories,m=e.isRTL,_=this.context.intl.formatMessage,u=this.state.xButtonHovered?z.ColorStates.NORMAL:z.ColorStates.DISABLED;return l.a.createElement("section",{ref:e=>this._gifContainer=e,"data-test-id":"gif-container",className:ne.gifFinderContainer,onClick:e=>e.stopPropagation(),style:ae({width:o+"px",bottom:e.bottom+"px"},!m&&{left:e.left+window.scrollX+"px"},{},m&&{right:window.innerWidth-e.right-window.scrollX+"px"})},l.a.createElement("div",{className:ne.gifPopupTopArea},l.a.createElement("span",{onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1)},l.a.createElement(ee.default,{"data-iskeynav":!0,"data-test-id":"gif-close-button",kind:z.Kinds.CLOSE,size:z.Sizes.XXS,onClick:a,title:_(se.close),colorState:u}))),l.a.createElement("div",{className:ne.resultSection},l.a.createElement(W,{query:c,width:o?o-$.HORIZONTAL_PADDING:0,onItemClick:this.onGifClick,fetchGIF:t})),l.a.createElement(J,{searchBoxValue:n,selectedCategory:s,handleSearchChange:i,onCategoryClick:r,gifCategories:d}))}}s()(ie,"contextTypes",{intl:f.intlShape.isRequired,config:r.a.object.isRequired}),s()(ie,"defaultProps",{left:0,width:0,bottom:0,right:0});const re=e=>({isRTL:"rtl"===(0,Object(d.selectors)(e).getEnvironmentSelectors)().getPageDirection()});t.default=Object(c.connect)(re)(ie)},function(e,t,a){"use strict";a.r(t),a.d(t,"Print",(function(){return le})),a.d(t,"mapStateToProps",(function(){return ce})),a.d(t,"mapDispatchToProps",(function(){return de}));var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(28),_=a.n(m),u=a(6),p=a(13),h=a(84),g=a(157),E=a(0),b=a(8),f=a(92),C=a(10),S=a(12),y=a.n(S),T=a(4),v=a(21),I=(a(51),a(55)),M=a(252),A=a(454),N=a(133),k=a(1447),O=a.n(k);const D=Object(u.defineMessages)({untitled:{id:"attachment_item.untitled_filename",defaultMessage:"Untitled"}}),P=y()(O.a);class R extends d.a.Component{render(){const e=this.props.attachment,t=e.filename,a=e.type,n=e.subtype,s=e.size,i=this.context.intl.formatMessage,r=A.b(t),o=t?A.a(t,r):i(D.untitled),l=Object(N.prettyPrintBytes)(s,1);return d.a.createElement("li",{className:P.itemContainer},d.a.createElement(M.a,{type:a,subtype:n}),d.a.createElement("div",{className:P.itemInfo},d.a.createElement("span",null,o),d.a.createElement("span",null,r),d.a.createElement("div",{className:P.itemSize},l)))}}R.contextTypes={intl:u.intlShape.isRequired};var w=R,F=a(587);var x=class extends d.a.Component{render(){const e=Object(I.f)(this.props.attachments),t=y()(O.a);return e&&e.length>0?d.a.createElement("div",null,d.a.createElement(F.a,null),d.a.createElement("ul",{className:t.listContainer,"data-test-id":"print-attachments"},e.map((e,t)=>d.a.createElement(w,{attachment:e,key:t})))):null}},L=a(361),B=a(1448),j=a.n(B);const U=Object(u.defineMessages)({message_from:{id:"message_from",defaultMessage:"From:"},message_to:{id:"message_to",defaultMessage:"To:"},message_cc:{id:"message_cc",defaultMessage:"Cc:"},message_bcc:{id:"message_bcc",defaultMessage:"Bcc:"},message_subject:{id:"message_subject",defaultMessage:"Subject:"},message_date:{id:"message_date",defaultMessage:"Date:"},message_no_subject:{id:"no_subject",defaultMessage:"No Subject"}}),H={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"};class W extends d.a.Component{constructor(...e){super(...e),r()(this,"buildAddressList",e=>{const t=[];return e.map((function(e){t.push(e.email||e.name)})),t.join("; ")})}render(){const e=this.context.intl,t=e.formatMessage,a=e.formatDate,n=this.props.message.headers,s=n.from,i=n.to,r=n.cc,o=n.bcc,l=n.date,c=n.subject,m=Object(f.g)(c),_=s[0]||{},u=_.name,p=_.email,h=u?`${u} (${p})`:p,g=y()(j.a),E=a(new Date(1e3*l),H);return d.a.createElement("header",{className:"print-header "+g.header},d.a.createElement("div",{className:g.subjectHeaderRow},d.a.createElement("span",{"data-test-id":"message-subject",className:g.subjectBody},m||`(${t(U.message_no_subject)})`)),d.a.createElement("div",{className:g.headerTable},d.a.createElement("div",{className:g.headerRow},d.a.createElement("span",{className:g.label},t(U.message_from)),d.a.createElement("span",{"data-test-id":"message-from",className:g.fieldBody},h)),i.length>0?d.a.createElement("div",{className:g.headerRow},d.a.createElement("span",{className:g.label},t(U.message_to)),d.a.createElement("span",{"data-test-id":"message-to",className:g.fieldBody},this.buildAddressList(i))):null,r.length>0?d.a.createElement("div",{className:g.headerRow},d.a.createElement("span",{className:g.label},t(U.message_cc)),d.a.createElement("span",{"data-test-id":"message-cc",className:g.fieldBody},this.buildAddressList(r))):null,o.length>0?d.a.createElement("div",{className:g.headerRow},d.a.createElement("span",{className:g.label},t(U.message_bcc)),d.a.createElement("span",{"data-test-id":"message-bcc",className:g.fieldBody},this.buildAddressList(o,g))):null,d.a.createElement("div",{className:g.headerRow,"data-test-id":"message-date"},d.a.createElement("span",{className:g.label},t(U.message_date)),d.a.createElement("span",{className:g.fieldBody},E))))}}r()(W,"contextTypes",{intl:u.intlShape.isRequired});var G=W,Z=a(189),V=a(278),q=a(1501),z=a.n(q);class Y extends d.a.Component{render(){const e=this.props,t=e.offerDescription,a=e.brandName,n=e.imageUrl,s=e.dateDiff,i=e.offerValue,r=e.type,o=y()(z.a);return d.a.createElement("div",{"data-test-id":"offer-list-item",className:o.container},d.a.createElement("div",{className:o.svgStyle},d.a.createElement("img",{className:o.icon,src:n,onError:e=>Object(Z.a)(e,E.jd)})),d.a.createElement("div",{className:o.cardDetails},d.a.createElement("div",{className:o.cardTitle},a),d.a.createElement("div",{className:o.cardDescription},t),i&&d.a.createElement("div",{className:o.boldGray},d.a.createElement(u.FormattedMessage,{id:"offer_list_item.offerValue",defaultMessage:"{offerValue} off",values:{offerValue:i}})),d.a.createElement("div",{className:o.boldGray},d.a.createElement(V.a,{type:r,daysUntilExpiry:s}))))}}var K=a(49),X=a(1502),Q=a.n(X),J=a(202),$=a(16),ee=a(9);const te=[J.m.birthday,J.m.anniversary,J.m.website,J.m.notes];class ae extends d.a.Component{constructor(...e){super(...e),r()(this,"renderEmployment",(e="",t="")=>{const a=y()(Q.a),n=[e,t];return d.a.createElement("h2",{className:a.employment},n.join(e&&t?", ":""))}),r()(this,"getLabelForField",(e,t,a)=>{const n=this.context.intl.formatMessage;return Object(J.k)({typesList:e,defaultType:t,type:a,formatMessage:n}).ariaLabel}),r()(this,"renderItem",(e,t,a,n,s,i)=>{const r=this.context.intl.formatMessage,o=y()(Q.a);return d.a.createElement("div",{key:`${e}_${a}_${t}`},d.a.createElement("span",{className:o.fieldName},0===t?r(J.m[a]):""),i,d.a.createElement("span",{className:o.type},this.getLabelForField(n,a,s)))}),r()(this,"renderEmails",(e={},t)=>{const a=y()(Q.a);return Object.keys(e).length?d.a.createElement("div",{className:a.section,"data-test-id":"print-contact-item-emails"},Object.keys(e).map((a,n)=>this.renderItem(t,n,"email",J.e,e[a],a))):null}),r()(this,"renderPhones",(e=[],t)=>{const a=y()(Q.a);return e.length?d.a.createElement("div",{className:a.section,"data-test-id":"print-contact-item-phones"},e.map((e,a)=>this.renderItem(t,a,"phone",J.j,e.type,e.number))):null}),r()(this,"renderAddresses",(e=[],t)=>{const a=y()(Q.a);return e.map((e,n)=>{const s=e.addrFields,i=e.type;return Object.keys(s).forEach(e=>{s[e]||delete s[e]}),Object.keys(s).length?d.a.createElement("div",{key:`${t}_address_${n}`,className:a.section,"data-test-id":"print-contact-item-addresses"},Object.keys(s).map((e,r)=>d.a.createElement("div",{key:`${t}_address_${n}_${r}`},d.a.createElement("span",{className:a.fieldName},0===r?this.getLabelForField(J.b,"Address",i):""),d.a.createElement("span",null,s[e])))):null})}),r()(this,"renderOtherFields",(e=[],t)=>{const a=this.context.intl.formatMessage,n=y()(Q.a);return e.map((e,s)=>{if(e)return d.a.createElement("div",{key:`${t}_otherField_${s}`,className:n.otherSection,"data-test-id":"print-contact-item-others"},d.a.createElement("span",{className:n.fieldName},a(te[s])),d.a.createElement("span",null,e))})}),r()(this,"isEmptyContact",(e,t)=>{const a=e.emailType,n=e.phonesWithType,s=e.addressesWithType;return!(t||e.company||e.position||e.birthday||e.anniversary||e.notes||e.website||!Object(ee.c)(a)||(null==n?void 0:n.length)||(null==s?void 0:s.length))})}render(){const e=this.props,t=e.contact,a=e.sortOrder,n=t.id,s=t.company,i=t.position,r=t.birthday,o=t.anniversary,l=t.notes,c=t.website,m=t.emailType,_=t.phonesWithType,u=t.addressesWithType,p=y()(Q.a),h=[r,o,c,l],g=Object($.getDisplayName)(t,a);return this.isEmptyContact(t,g)?null:d.a.createElement("div",{className:p.container,"data-test-id":"print-contacts-content"},g?d.a.createElement("h1",{className:p.name},g):null,this.renderEmployment(s,i),this.renderEmails(m,n),this.renderPhones(_,n),this.renderAddresses(u,n),this.renderOtherFields(h,n))}}r()(ae,"contextTypes",{intl:u.intlShape});var ne=Object(p.connect)((e,{contactId:t})=>{const a=(0,Object(C.selectors)(e).getContactListSelectors)(),n=a.getContactsSortOrder;return{contact:(0,a.getContactById)(t),sortOrder:n()}},void 0)(ae);const se=Object(K.a)("/img/yahoo_mail_qr_code.png"),ie=Object(u.defineMessages)({print_message:{id:"print_message",defaultMessage:"Print"},close_window:{id:"close_window",defaultMessage:"Close Window"},print_offer_header:{id:"print_offer_header",defaultMessage:"Your {retailerName} shopping list"},print_offer_detail:{id:"print_offer_detail",defaultMessage:"The printed coupon list is only for your own reference. Use your phone number to checkout at the {retailerName} counter."},print_list_header:{id:"print_list_header",defaultMessage:"Get the shopping list on your phone"},print_list_detail:{id:"print_list_detail",defaultMessage:"Download the Yahoo Mail app and find all your saved coupons under the Groceries tab."}});class re extends d.a.Component{render(){const e=this.context.intl.formatMessage,t=e(ie.print_message),a=e(ie.close_window),n=this.props,s=n.closeWindow,i=n.message,r=n.offers,o=n.printWindow,l=n.retailerName,c=n.showYm6QRCode,m=n.contactIdsToPrint,_=n.isContactPrint,u=y()(j.a);return d.a.createElement("div",null,d.a.createElement("div",{className:u.buttonContainer+" hide-on-print","data-test-id":"print-buttons-container"},d.a.createElement(v.default,{"data-test-id":"close-button","aria-label":a,title:a,kind:T.Kinds.CLOSE,size:T.Sizes.XS,onClick:s,className:u.button}),d.a.createElement(v.default,{"data-test-id":"print-button","aria-label":t,title:t,kind:T.Kinds.PRINTER,size:T.Sizes.XS,onClick:o,className:u.button})),i&&d.a.createElement("div",{"data-test-id":"print-message-view",className:u.printView,"data-test-expanded":!0,tabIndex:-1,"data-iskeynav":!0},d.a.createElement(G,{message:i}),d.a.createElement("div",null,d.a.createElement(L.a,{messageId:i.id,folderId:i.folder.id,quoteExpanded:!0,removeCollapseButton:!0,printView:!0}),d.a.createElement(x,{attachments:i.attachments}))),r&&!_&&d.a.createElement("div",null,c?d.a.createElement("div",{className:u.listHeaderContainer},d.a.createElement("img",{className:u.qrCode,src:se}),d.a.createElement("div",{className:u.printListHeaderText},d.a.createElement("div",{className:u.printListHeader},e(ie.print_list_header)),d.a.createElement("div",{className:u.printListDetail},e(ie.print_list_detail)))):null,d.a.createElement("p",{className:u.offerHeader},e(ie.print_offer_header,{retailerName:l})),d.a.createElement("p",{className:u.printOfferDetail},e(ie.print_offer_detail,{retailerName:l})),r.map(({brandName:e,dateDiff:t,description:a,imageUrl:n,offerId:s,offerValue:i})=>d.a.createElement(Y,{brandName:e,dateDiff:t,imageUrl:n,key:s,offerDescription:a,offerValue:i}))),_&&m.length>0&&m.map(e=>d.a.createElement(ne,{contactId:e,key:e})))}}r()(re,"contextTypes",{intl:u.intlShape.isRequired});const oe=Object(u.defineMessages)({print_no_subject:{id:"print.no_subject",defaultMessage:"No Subject"},print_text:{id:"print.title",defaultMessage:"Unable to print"},print_blocked_warning:{id:"print.blocked.warning",defaultMessage:"You may be using an extension that blocks popups. To print, please click OK to enable popups for the current session"},print_offers_subject:{id:"print.print_offers_subject",defaultMessage:"{retailerName} Shopping List"},print_contacts_subject:{id:"print.print_contacts_subject",defaultMessage:"Contacts"}});class le extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{showPrintAlert:!1}),r()(this,"isContentAvailable",()=>{const e=this.props,t=e.isContactPrint;return e.hasFullBody||e.offers&&!t||t&&e.contactIdsToPrint.length>0}),r()(this,"openPopup",()=>{this.popupHandle=window.open("","","resizable=yes, scrollbars=yes, width=600, height=600"),this.popupHandle?(this.popupTimer&&clearTimeout(this.popupTimer),this.popupTimer=setTimeout(()=>{this.executePrint()},300)):this.state.showPrintAlert||this.setState({showPrintAlert:!0})}),r()(this,"executePrint",()=>{var e;const t=this.context.mailBrandNameString,a=this.context.intl.formatMessage,n=this.props,i=n.message,r=n.printId,o=n.retailerName,l=n.isContactPrint;let c=n.offers&&o?a(oe.print_offers_subject,{retailerName:o}):Object(f.g)(null==i||null===(e=i.headers)||void 0===e?void 0:e.subject)||a(oe.print_no_subject);if(!(this.popupHandle&&this.popupHandle.document&&"function"==typeof this.popupHandle.document.write))return;l&&(c=a(oe.print_contacts_subject)),this.renderPrintContainer(this.popupHandle.document),this.popupHandle.document.title=`${t} - ${c}`,this.popupHandle.document.close(),this.popupHandle.focus(),this.popupHandle.addEventListener("beforeunload",e=>{if(this.popupHandle&&!this.popupHandle._isRenderComplete)return e.preventDefault(),e.returnValue="",void(this.popupHandle.leaving=!0);_.a.unmountComponentAtNode(this.popupHandle.document.getElementById("printContainer")),this.popupHandle=void 0}),this.popupHandle.addEventListener("unload",()=>{this.popupHandle&&this.popupHandle.leaving&&(_.a.unmountComponentAtNode(this.popupHandle.document.getElementById("printContainer")),this.popupHandle=void 0),clearTimeout(this.printTimer),this.props.printMessageClosed({printId:r})});const m=function(){this.popupHandle&&this.popupHandle.print()};this.isContentAvailable()&&(_.a.render(d.a.createElement(u.IntlProvider,window.AppIntl,d.a.createElement(p.Provider,{store:this.context.store},d.a.createElement(re,s()({},this.props,{closeWindow:function(){this.popupHandle&&this.popupHandle.close()}.bind(this),printWindow:m.bind(this)})))),this.popupHandle.document.getElementById("printContainer"),()=>{this.popupHandle._isRenderComplete=!0}),this.isContentAvailable()&&(clearImmediate(this.printTimer),this.printTimer=setImmediate(()=>{this.props.printMessageSuccess({printId:r}),m.call(this)})))}),r()(this,"onAcceptHandler",()=>{this.setState({showPrintAlert:!1}),this.openPopup()}),r()(this,"onPrintCancel",()=>{this.props.printMessageCancel({printId:this.props.printId})})}componentWillReceiveProps(e){if(!this.props.printId&&e.printId&&(this.hiddenIframe&&this.removePrintIframe({type:"componentWillReceiveProps"}),this.popupHandle&&(this.popupHandle.close(),this.popupHandle=void 0)),this.props.printId!==e.printId&&this.setState({showPrintAlert:!1}),!this.props.hasFullBody&&e.hasFullBody)if(this.props.iframePrint)this.hiddenIframe&&this.hiddenIframe.contentWindow&&(this.hiddenIframe.contentWindow.focus(),this.hiddenIframe.contentWindow.print());else{const e=this.popupHandle;clearTimeout(this.printTimer),this.printTimer=setTimeout(()=>{e&&e.print()},500)}}componentDidUpdate(){const e=this.props;void 0!==e.printId&&(e.iframePrint?!this.hiddenIframe&&this.isContentAvailable()&&this.openPrintIframe():!this.popupHandle&&this.isContentAvailable()&&this.openPopup())}renderPrintContainer(e){if(!e)return;const t=this.props,a=t.direction;let n;if(t.externalCss){const e=Array.from(document.getElementsByTagName("link")).find((function(e){return"mail-css"===e.id}));n=e&&e.outerHTML||""}else{const e=document.getElementsByTagName("style")[0];e&&(n=`<style>${e.innerHTML}</style>`)}e.write(`<html><head>\n                ${n}\n                </head>\n                <body id="Atom" dir="${a}" style=overflow:visible;min-width:auto><div id="printContainer"/></body></html>`)}renderPrintContent(e,t=(()=>{})){e&&_.a.render(d.a.createElement(u.IntlProvider,window.AppIntl,d.a.createElement(p.Provider,{store:this.context.store},d.a.createElement(re,this.props))),e,t)}openPrintIframe(){this.hiddenIframe=document.createElement("iframe"),this.hiddenIframe.addEventListener("load",this.setupPrintIframe.bind(this)),this.hiddenIframe.id="_iframePrint",this.hiddenIframe.width="1px",this.hiddenIframe.height="1px",this.hiddenIframe.style.display="none",this.hiddenIframe.src="about:blank",document.body.appendChild(this.hiddenIframe)}setupPrintIframe(){if(!this.hiddenIframe)return;const e=this.hiddenIframe,t=e.contentWindow,a=e.contentDocument;if(a&&"complete"===a.readyState){const e=this.props,n=e.printId,s=e.printMessageSuccess;this.renderPrintContainer(a),this.renderPrintContent(a.getElementById("printContainer"),()=>{t.addEventListener("afterprint",this.removePrintIframe.bind(this)),t.addEventListener("beforeunload",this.removePrintIframe.bind(this)),this.isContentAvailable()&&(t.focus(),t.print(),setImmediate(()=>{s({printId:n})}))})}}removePrintIframe(){if(!this.hiddenIframe)return;const e=this.props,t=e.printId,a=e.printMessageClosed,n=this.hiddenIframe.contentDocument;this.hiddenIframe.removeEventListener("load",this.setupPrintIframe.bind(this)),n&&_.a.unmountComponentAtNode(n.getElementById("printContainer")),document.body.removeChild(this.hiddenIframe),this.hiddenIframe=null,setImmediate(()=>{a({printId:t})})}render(){const e=this.context.intl.formatMessage;return this.state.showPrintAlert?d.a.createElement(g.a,{title:e(oe.print_text),message:e(oe.print_blocked_warning),onAccept:this.onAcceptHandler,onClose:this.onPrintCancel,hideClose:!1}):null}}r()(le,"contextTypes",{intl:u.intlShape.isRequired,mailBrandNameString:l.a.string,store:l.a.object});const ce=e=>{const t=Object(C.selectors)(e),a=t.__patchV2MessageId__,n=t.doesMessageIdExist,s=t.getActivatedOffersSelectors,i=t.getCurrentListId,r=t.getEnvironmentSelectors,o=t.getItemToPrint,l=t.getMessageBodiesSelectors,c=t.getRetailersSelectors,d=t.isFeatureEnabled,m=t.getListItemIds,_=(0,t.getListsSelectors)().isListAlreadyLoaded,u=o()||{},p=d(E.Eb.IFRAME_PRINT),h=d(E.Eb.EXTERNAL_CSS),g=l().hasFullBody(u.messageId),f=i(),S=Object(b.x)(f);let y=void 0,T="";const v=Object(b.k)(E.bc.PRINT_CONTACTS),I=_(v)?m(v):[];if(S===E.bc.RECOMMENDED_OFFER_CARDS){const e=c().getDisplayNameFromRetailerId,t=Object(b.B)(f)||"",a=Object(b.gb)(f,{listFilter:E.bc.ACTIVATED_OFFER_CARDS});y=(0,s().getActivatedOfferStreamItems)(a),T=e(t)}return{direction:r().getPageDirection(),iframePrint:p,externalCss:h,hasFullBody:g,message:n(u.messageId)?a(u.messageId,f):void 0,offers:y,printId:u.printId,retailerName:T,showYm6QRCode:d(E.Eb.YM6_QRCODE_UPSELL),contactIdsToPrint:I,isContactPrint:u.printType===E.hd.CONTACTS}},de=e=>({printMessageCancel:t=>e(Object(h.o)(t)),printMessageClosed:t=>e(Object(h.p)(t)),printMessageSuccess:t=>e(Object(h.q)(t))});t.default=Object(p.connect)(ce,de)(le)},function(e,t,a){"use strict";a.r(t),a.d(t,"NewUserOnboardingCue",(function(){return ye})),a.d(t,"mapStateToProps",(function(){return Te})),a.d(t,"mapDispatchToProps",(function(){return ve}));var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(6),_=a(1366),u=a(319),p=a(12),h=a.n(p),g=a(1520),E=a.n(g),b=a(21),f=a(4),C=a(478),S=a(16),y=a(69),T=a(0),v=a(10),I=a(13);const M=Object(m.defineMessages)({page_indicator:{id:"page_indicator",defaultMessage:"page {index, number} of {numberOfItems, number}"},page_indicator_selected:{id:"page_indicator_selected",defaultMessage:"current page, {index, number} of {numberOfItems, number}"}});class A extends c.Component{render(){const e=this.props,t=e.isSelected,a=e.index,n=e.numberOfItems,s=this.context.intl.formatMessage;return d.a.createElement(b.default,{kind:f.Kinds.CIRCLE,colorState:t?f.ColorStates.SELECTED:f.ColorStates.FAINT,size:f.Sizes.XXS,onClick:e.onClick,title:s(t?M.page_indicator_selected:M.page_indicator,{index:a+1,numberOfItems:n})})}}A.contextTypes={intl:m.intlShape.isRequired},A.defaultProps={isSelected:!1};var N=A,k=a(1521),O=a.n(k);class D extends c.Component{renderIndicators(){const e=this.props,t=e.numberOfItems,a=e.index,n=e.onIndicatorClick,s=[];for(let e=0;e<t;e++){const i="page_control_key_"+e;s.push(d.a.createElement(N,e===a?{isSelected:!0,key:i,index:e,numberOfItems:t}:{onClick:n.bind(this,e),key:i,index:e,numberOfItems:t}))}return s}render(){const e=h()(O.a);return d.a.createElement("div",{"data-test-id":"page-control-container",className:e.container},this.renderIndicators())}}D.defaultProps={index:0};var P=D,R=a(1522),w=a.n(R),F=a(1412),x=a(1413),L=a(486),B=a(5),j=a(45),U=a(18),H=a(25);let W=null,G=null;const Z=Object(m.defineMessages)({pickTheme:{id:"themes_cue.picktheme",defaultMessage:"Make your inbox your own by picking a theme."},done:{id:"themes_cue.done",defaultMessage:"Done"}});class V extends d.a.Component{constructor(e,t){super(e,t),r()(this,"updateTheme",e=>{if(W===e.currentTarget.value)return;W=e.currentTarget.value;const t={mKey:"cue_themesCue_updateThm",sec:B.i.THEMES_CUE,interactionType:Object(S.getInteractionFromEvent)(e)};this.setState({theme:W},()=>{this.updateThemeVariableStyles(W,this.state.themeMode),j.b.sendI13nModel(t)})}),r()(this,"updateThemeMode",e=>{if(G===e.currentTarget.value)return;G=e.currentTarget.value;const t={mKey:"cue_themesCue_updateThmMode",sec:B.i.THEMES_CUE,interactionType:Object(S.getInteractionFromEvent)(e)};this.setState({themeMode:G},()=>{this.updateThemeVariableStyles(this.state.theme,G),this.props.changeSettings({name:T.Kd.THEME_MODE,value:G,i13nModel:t})})}),W=W||t.getTheme(),G=G||t.getThemeMode(),this.state={theme:W,themeMode:G},this.handleButtonClick=this.handleButtonClick.bind(this)}handleButtonClick(){const e=this.props,t=e.onNext;(0,e.handleNextButtonClick)(W,G),t()}updateThemeVariableStyles(e,t){document.getElementById("themer").innerHTML=Object(L.a)(e,t)}render(){const e=h()(w.a),t=this.updateTheme,a=this.updateThemeMode,n=this.props,s=n.isReturningUser,i=n.hasMappedTheme,r=n.photoThemes,o=n.partnerBrand,l=this.context.intl.formatMessage;return d.a.createElement("div",null,d.a.createElement("div",{className:e.heading,id:"themes-cue-title"},d.a.createElement(m.FormattedMessage,{id:"themes.cue_welcome_new_user",defaultMessage:"Welcome, {userDisplayName}!",values:{userDisplayName:n.userDisplayName}})),d.a.createElement("div",{className:e.description,id:"themes-cue-description"},d.a.createElement(m.FormattedMessage,s?Z.pickTheme:i?{id:"themes.cue_mapped_theme_msg",defaultMessage:"Based on your prior mailbox, we picked this theme just for you. We think you’ll love it."}:Z.pickTheme)),d.a.createElement("div",{className:e.settingCover},d.a.createElement(F.a,{themeSetting:W,onChange:t,cueMode:!0,photoThemes:r,partnerBrand:o,liteVersion:!0})),d.a.createElement("div",{className:e.settingCover},d.a.createElement("div",{className:e.settings},d.a.createElement(x.a,{themeSetting:W,themeModeSetting:G,onChange:a,cueMode:!0,liteVersion:!0}))),d.a.createElement("div",{className:e.buttonContainer},d.a.createElement(U.a,{overridingClass:e.doneButton,onClick:this.handleButtonClick,title:l(Z.done),"data-test-id":"themes-cue-done",kind:H.a.SECONDARY,"aria-label":l(Z.done)},d.a.createElement(m.FormattedMessage,Z.done))))}}r()(V,"contextTypes",{intl:m.intlShape,partner:l.a.string,getTheme:l.a.func,getThemeMode:l.a.func});Object(u.a)(V);var q=Object(u.a)(Object(I.connect)(e=>{const t=(0,Object(v.selectors)(e).getFeaturesSelectors)();return{isReturningUser:t.isEnabled(T.Eb.IS_RETURNING_USER),hasMappedTheme:t.isEnabled(T.Eb.HAS_MAPPED_THEME),partnerBrand:t.getSetting(T.Kd.PARTNER_BRAND)}},e=>({changeSettings:t=>e(Object(y.b)(t))}))(V)),z=a(1523),Y=a.n(z),K=a(49);const X=Object(m.defineMessages)({done:{id:"download_app.done_button",defaultMessage:"Done"},prev:{id:"new_onboarding_cue_v1.prev_btn",defaultMessage:"Previous"}});class Q extends d.a.Component{constructor(e,t){super(e,t),this.onClickPrevious=this.onClickPrevious.bind(this)}onClickPrevious(){const e=this.props,t=e.onPrevious;(0,e.onPrevClick)(),t()}render(){const e=this.context.intl.formatMessage,t=h()(Y.a),a=this.props.onClick;return d.a.createElement("div",null,d.a.createElement("div",{className:t.heading},d.a.createElement(m.FormattedMessage,{id:"download_app.all_set",defaultMessage:"Congratulations, you are all set!"})),d.a.createElement("div",{className:t.message},d.a.createElement(m.FormattedMessage,{id:"download_app.download_app_header",defaultMessage:"Download the top-rated Yahoo Mail app for free"})),d.a.createElement("div",{className:t.container},d.a.createElement("div",null,d.a.createElement("img",{src:Object(K.a)("/img/yahoo_mail_pro_devices_2x.png"),"aria-hidden":!0})),d.a.createElement("div",null,d.a.createElement("img",{src:Object(K.a)("/img/yahoo_mail_qr_code.png"),"aria-hidden":!0}))),d.a.createElement(U.a,{onClick:a,title:e(X.done),"data-test-id":"task-cue-done",kind:H.a.SECONDARY,overridingClass:t.doneButton,"aria-label":e(X.done)},d.a.createElement(m.FormattedMessage,X.done)),d.a.createElement("div",{className:t.prevBtn,"data-test-id":"prev-cue-button",onClick:this.onClickPrevious},d.a.createElement(m.FormattedMessage,X.prev)))}}r()(Q,"contextTypes",{intl:m.intlShape});var J=Q,$=a(1524),ee=a.n($),te=a(82),ae=a(498),ne=a(497),se=a(1449),ie=a(47),re=a(109),oe=a(1526),le=a.n(oe),ce=a(17),de=a(58);const me=Object(m.defineMessages)({add_confirm:{id:"account_confirm_next",defaultMessage:"Next"}}),_e=()=>{};class ue extends d.a.Component{constructor(...e){super(...e),r()(this,"handleConfirm",()=>{(0,this.props.onCancel)()})}componentWillReceiveProps(e){e.accountSyncFailed&&this.props.onPrevious()}componentDidMount(){this.props.isSyncing||this.props.handleAddSuccess()}render(){const e=this.props,t=e.isSyncing,a=e.email,n=e.newUserTasksCue,s=this.context.intl.formatMessage,i=h()(le.a,{isSyncing:t,newUserTasksCue:n});return d.a.createElement("div",{className:i.container},d.a.createElement("label",{className:i.label,htmlFor:"accountAddress"},d.a.createElement(m.FormattedMessage,t?{id:"add_confirm_syn_title",defaultMessage:"Setting up your new mailbox"}:{id:"add_mailbox_confirm_title",defaultMessage:"Your mailbox has been successfully added"})),d.a.createElement("div",{className:i.syncEmail},d.a.createElement("div",{className:i.emailText},a),d.a.createElement("h5",{className:i.titleLabel},t?d.a.createElement(de.b,{size:"S"}):d.a.createElement(ce.b,{kind:f.Kinds.CAL_ACCEPT,size:f.Sizes.S,colorState:f.ColorStates.SUCCESS}))),d.a.createElement(U.a,{className:i.confirmButton,onClick:this.handleConfirm,title:s(me.add_confirm),kind:H.a.PRIMARY},d.a.createElement("span",null,s(me.add_confirm))))}}r()(ue,"contextTypes",{intl:m.intlShape.isRequired,mailBrandNameString:l.a.string}),r()(ue,"defaultProps",{onCancel:_e,handleAddSuccess:_e,isSyncing:!1});var pe=ue,he=a(487);const ge=Object(m.defineMessages)({skip:{id:"new_onboarding_cue_v1.skip_btn",defaultMessage:"Skip"},prev:{id:"new_onboarding_cue_v1.prev_btn",defaultMessage:"Previous"}});class Ee extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{email:"",provider:"",addMailboxStepIndex:0}),r()(this,"handleChange",(e,t)=>{this.state[e]!==t&&this.setState("provider"===e?{[e]:t,email:""}:{[e]:t})}),r()(this,"handleItemClick",e=>{this.props.addAccountSelectProvider({provider:e}),this.handleChange("provider",e)}),r()(this,"cancel",()=>{const e=this.props,t=e.handleDoneButtonClick,a=e.onNext;this.setState({addMailboxStepIndex:0,email:"",provider:""}),t(),a()}),r()(this,"handleCreateAccount",e=>{const t=Object(ie.g)(e);this.props.addAccount(t)}),r()(this,"handleConfirmSubmit",(e,t)=>{this.handleSave(e,t)}),r()(this,"handleSave",(e,t,a)=>{(0,this.props.updateAccountDetails)({accountId:e,updatedProperties:t,i13nModel:a})}),r()(this,"onClickPrevious",()=>{const e=this.props,t=e.onPrevious;(0,e.onPrevClick)(),t()}),r()(this,"onClickNext",()=>{const e=this.props,t=e.onNext;(0,e.onSkipClick)(),t()})}render(){const e=h()(ee.a),t=this.props,a=t.newUserTasksCue,n=t.handleAddSuccess,s=t.handleAddFailure,i=t.accountSyncFailed,r=t.appRootPath,o=t.accounts,l=this.state,c=l.addMailboxStepIndex,_=l.email,u=l.provider,p=o.find(e=>e.email===_);return d.a.createElement(d.a.Fragment,null,d.a.createElement(he.a,{onCancel:this.cancel,startStep:c},d.a.createElement(se.a,{provider:u,onChange:this.handleChange,inNewUserTasksCue:a}),d.a.createElement(ae.a,{email:_,provider:u,onChange:this.handleChange,accounts:o,inNewUserTasksCue:a}),d.a.createElement(ne.a,{email:_,provider:u,onAuthorize:this.handleCreateAccount,handleAddSuccess:n,onCancelAuthorize:s,accountSyncFailed:i,appRootPath:r,inNewUserTasksCue:a}),d.a.createElement(pe,{email:_,onCancel:this.cancel,account:p,isSyncing:!p,accountSyncFailed:i,handleAddSuccess:n,newUserTasksCue:a})),d.a.createElement("div",null,d.a.createElement("div",{className:e.skipBtn,"data-test-id":"skip-cue-button",onClick:this.onClickNext},d.a.createElement(m.FormattedMessage,ge.skip)),d.a.createElement("div",{className:e.prevBtn,"data-test-id":"prev-cue-button",onClick:this.onClickPrevious},d.a.createElement(m.FormattedMessage,ge.prev))))}}r()(Ee,"contextTypes",{intl:m.intlShape.isRequired,partner:l.a.string});var be=Object(I.connect)(e=>{const t=Object(v.selectors)(e),a=t.getAllAccounts,n=t.getMailboxesSelectors,s=(0,t.getFeaturesSelectors)(),i=n().getRecentlyAddedAccount();return{appRootPath:s.getSetting(T.Kd.APP_ROOT_PATH),accounts:a(),accountSyncFailed:!!i&&!i.isSynced}},(e,t)=>({updateAccountDetails:t=>e(Object(y.k)(t)),addAccountSelectProvider:a=>e(Object(te.a)({i13nModel:{mKey:B.g[`SELECT_${a.provider.toUpperCase()}_ACCOUNT`],sec:B.i.NEW_USER_TASKS_CUE,interactionType:Object(S.getInteractionFromEvent)(t)}})),addAccount:t=>e(Object(re.a)(t)),handleAddSuccess({provider:a,email:n}){e(Object(te.z)({i13nModel:{mKey:B.g.CONNECT_ACCOUNT_SUCCESS,sec:B.i.NEW_USER_TASKS_CUE,interactionType:Object(S.getInteractionFromEvent)(t),actionData:{prvdr:a,email:n}}}))},handleAddFailure({provider:a,email:n,status:s,error:i}){e(Object(te.y)({i13nModel:{mKey:B.g.CONNECT_ACCOUNT_FAILURE,sec:B.i.NEW_USER_TASKS_CUE,interactionType:Object(S.getInteractionFromEvent)(t),actionData:{prvdr:a,email:n,status:s,error:i}}}))}}))(Ee);let fe=null,Ce=null;const Se=Object(m.defineMessages)({skip:{id:"new_onboarding_cue_v1.skip_btn",defaultMessage:"Skip"},prev:{id:"new_onboarding_cue_v1.prev_btn",defaultMessage:"Previous"},close:{id:"new_user_onboarding_cue.close_icon",defaultMessage:"Close"},done:{id:"themes_cue.done",defaultMessage:"Done"}});class ye extends d.a.Component{constructor(e,t){super(e,t),r()(this,"updateThemeAndThemeMode",(e,t)=>{this.props.updateThemeAndThemeMode({updatedSettingAttributes:[{name:T.Kd.THEME,value:e},{name:T.Kd.THEME_MODE,value:t}]})}),r()(this,"onClose",e=>{const t=this.props,a=t.isReturningUser,n=t.hasMappedTheme;this.updateThemeAndThemeMode(fe,Ce),setImmediate(()=>{this.props.onClose({i13nModel:{mKey:"cue_newUserTasksCue_close",interactionType:Object(S.getInteractionFromEvent)(e),actionData:{isReturningUser:a,hasMappedTheme:n,finalThemeSelection:fe}}})})}),r()(this,"handleNextButtonClick",(e,t)=>{0===this.state.index&&(fe=e,Ce=t,this.setState({theme:e,themeMode:t})),this.next()}),r()(this,"next",()=>{this.setState({index:this.state.index+1})}),r()(this,"prev",()=>{const e=this.state.index;e>0&&this.setState({index:e-1})}),r()(this,"handlePageControlClick",()=>{this.setState({index:this.state.index})}),fe=fe||t.getTheme(),Ce=Ce||t.getThemeMode(),this.state={animated:!1,theme:fe,themeMode:Ce,index:0}}render(){const e=this.context.intl.formatMessage,t=this.onClose,a=this.state.index,n=h()(E.a);return d.a.createElement(_.a,{onClose:t,kind:C.a.DARK,ariaLabelledBy:"new-user-onboarding-title",ariaDescribedBy:"new-user-onboarding-description"},d.a.createElement("div",{"data-test-id":this.props.cueName,className:n.container},d.a.createElement("div",{className:n.close},d.a.createElement(b.default,{onClick:t,kind:f.Kinds.CLOSE,size:f.Sizes.XS,colorState:f.ColorStates.DARK,title:e(Se.close),"aria-label":e(Se.close),"data-test-id":"close-cue-button"})),d.a.createElement("div",{"data-test-id":"content",className:n.content},d.a.createElement(he.a,{onCancel:t,startStep:a},d.a.createElement(q,s()({handleNextButtonClick:this.handleNextButtonClick},this.props)),d.a.createElement(be,s()({handleDoneButtonClick:this.next,newUserTasksCue:this.props.newUserTasksCue,onPrevClick:this.prev,onSkipClick:this.next},this.props)),d.a.createElement(J,{onClick:t,onPrevClick:this.prev})),d.a.createElement("div",{className:n.pageControlWrapper},d.a.createElement(P,{numberOfItems:3,index:a,onIndicatorClick:this.handlePageControlClick})))))}}r()(ye,"contextTypes",{intl:m.intlShape,partner:l.a.string,getTheme:l.a.func,getThemeMode:l.a.func});const Te=e=>{const t=(0,Object(v.selectors)(e).getFeaturesSelectors)();return{isReturningUser:t.isEnabled(T.Eb.IS_RETURNING_USER),hasMappedTheme:t.isEnabled(T.Eb.HAS_MAPPED_THEME)}},ve=e=>({updateThemeAndThemeMode:t=>e(Object(y.n)(t))});t.default=Object(u.a)(Object(I.connect)(Te,ve)(ye))},function(e,t,a){"use strict";a.r(t),a.d(t,"TravelCardsGroup",(function(){return te}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(13),l=a(1),c=a.n(l),d=a(10),m=a(0),_=a(6),u=a(1710),p=a.n(u),h=a(111),g=a.n(h),E=a(17),b=a(1409),f=a(4),C=a(476),S=a(395);var y=({onChange:e,selected:t,label:a,options:n,classNames:s,arrowDownColor:i})=>c.a.createElement("div",{className:s.selector},c.a.createElement(C.a,{onChange:e,selected:t,classNames:s,arrowDownColor:i},n.map(e=>c.a.createElement(S.a,{key:e,value:e},e))),c.a.createElement("span",{className:s.selectorLabel,title:a},a)),T=a(1711),v=a.n(T),I=a(12),M=a.n(I),A=a(135),N=a.n(A);class k extends c.a.Component{constructor(...e){super(...e),s()(this,"state",{inputText:"",activeIndex:0}),s()(this,"getHint",(e,t,a)=>{if(!e||!t||!t.length||this.state.selected)return"";return e+(this.props.getHint(t[a]||{})||"").substr(e.length)}),s()(this,"handleInputChange",e=>{this.setState({inputText:e,selected:!1}),this.props.onInputChange(e)}),s()(this,"handleSelect",e=>{this.setState({inputText:this.props.getHint(e),selected:!0}),this.props.onValueChange(e)}),s()(this,"handleActiveIndexChange",e=>{this.setState({activeIndex:e})})}render(){const e=this.state,t=e.inputText,a=e.activeIndex,n=this.props.classNames,s=M()(v.a);return c.a.createElement(N.a,{placeholder:this.props.placeholder,maxVisible:10,inputValue:t,onInputChange:this.handleInputChange,hintValue:this.getHint(t,this.props.suggestions,a),onSelect:this.handleSelect,onActiveIndexChange:this.handleActiveIndexChange,className:n.typeahead||s.typeahead,inputContainerClassName:n.typeaheadInputContainer||s.typeaheadInputContainer,inputClassName:n.typeaheadInput||s.typeaheadInput,inputHintClassName:n.typeaheadInputHint||s.typeaheadInputHint,dropDownClassName:n.typeaheadDropDown||s.typeaheadDropDown},this.props.suggestions.map((e,t)=>c.a.createElement(A.Option,{key:t,className:n.typeaheadOption||s.typeaheadOption,value:e},this.props.getHint(e))))}}s()(k,"defaultProps",{suggestions:[],classNames:{},getHint:e=>e});var O=k,D=a(446),P=a(2);function R({i13nModel:e}){return{type:P.NAVIGATE_TO_BOOKING,i13nModel:e}}function w({i13nModel:e}){return{type:P.BOOKING_CARD_RENDERED,i13nModel:e}}var F=a(53),x=a.n(F),L=a(1486),B=a.n(L),j=a(18),U=a(22),H=a(188);const W=(e,t)=>{const a=t.getThemeMode(),n=a===U.i.DARK||a===U.i.MEDIUM,s=t.getCss(B.a,{isDarkTheme:n});return c.a.createElement("div",{"data-test-id":"right-rail-travel-card",className:s.container},e.header?c.a.createElement("div",{className:s.header},c.a.createElement("span",{className:s.headerText},e.header),c.a.createElement("span",{className:s.partnerAttributionIcon},c.a.createElement(H.a,{isOnDarkBackground:n,noVigLinkCheck:!0}))):null,c.a.createElement("div",{className:e.headerClassName,onClick:e.onLogoClick},c.a.createElement("div",{className:s.icon},c.a.createElement(E.b,{kind:e.iconKind,size:f.Sizes.XXS,colorState:f.ColorStates.INVERTED}),c.a.createElement("div",{className:s.title},e.title)),c.a.createElement("img",{src:e.logoUrl,className:s.partnerLogo})),e.children,e.buttonText?c.a.createElement(j.a,{"data-test-id":"submit-button",title:e.buttonText,onClick:e.onSubmit,className:s.submitButton},e.buttonText):null)};W.contextTypes={getCss:r.a.func,getThemeMode:r.a.func};var G=W,Z=a(5),V=a(15),q=a(450);const z="https://www.booking.com/searchresults.html?aid="+q.a,Y="BOOKING";var K=a(49),X=a(8),Q=a(94);const J=Object(_.defineMessages)({search_hotels:{id:"hotel_card.search_hotels",defaultMessage:"Search hotels"},yahoo_travel_deals:{id:"travel_card.title",defaultMessage:"Yahoo Travel Deals"},hotel:{id:"hotel_card.hotel",defaultMessage:"Hotel"},adults:{id:"hotel_card.adults",defaultMessage:"Adults(18+)"},children:{id:"hotel_card.children",defaultMessage:"Children"},destination:{id:"hotel_card.destination",defaultMessage:"Destination"}});class $ extends c.a.Component{constructor(...e){super(...e),s()(this,"state",{destination:"",startDate:new Date,endDate:new Date(Date.now()+864e5),adults:1,children:0,searchURL:""}),s()(this,"getLocationSuggestions",e=>this.props.locationSuggestions[e]||[]),s()(this,"setDestinationInfo",e=>{this.setState({destination:e.label,searchURL:e.url+"&"})}),s()(this,"onDestinationInputChange",e=>{this.DestinationKeyword=e,!this.props.locationSuggestions[e]&&e&&e.length>2&&this.props.requestLocationSearchSuggestions(e,this.props.partner)}),s()(this,"submitToPartnerSite",()=>{const e=this.state,t=e.startDate,a=e.endDate,n=e.adults,s=e.children,i={checkin:`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`,checkout:`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`,group_adults:n,group_children:s,no_rooms:1};this.navigateToPartnerSite(x.a.stringify(i))}),s()(this,"setStartDate",e=>{this.setState(this.state.endDate-e<864e5?{startDate:e,endDate:new Date(e.getTime()+864e5)}:{startDate:e})}),s()(this,"setEndDate",e=>{this.setState(e<this.state.startDate?{startDate:e,endDate:e}:{endDate:e})}),s()(this,"navigateToPartnerSite",(e="")=>{this.props.navigateToPartnerSite(R,{i13nModel:{mKey:Z.g.NAVIGATE_TO_BOOKING,sec:Z.i.RIGHT_RAIL_TRAVEL_CARD,interactionType:Z.e.click}});const t=`${e&&this.state.searchURL?this.state.searchURL:z+"&"}label=${this.props.isTravelSmartView?"pageoffers-xml-858204-click_brand-yahoo_market-US_campaign-travelview":"pageoffers-xml-858204-click_brand-yahoo_market-US_campaign-inboxview"}&`;Object(Q.a)(t+e)}),s()(this,"renderForm",()=>{const e=this.props,t=e.arrivalDate,a=e.departureDate,n=e.arrivalAirportDesc,s=this.context.getThemeMode(),i=s===U.i.DARK||s===U.i.MEDIUM,r=this.context.getCss(p.a,{isDarkTheme:i}),o=this.context.intl.formatMessage;return c.a.createElement("form",{className:r.form,"data-test-id":"hotels-card-form"},c.a.createElement("div",{className:r.formRow},c.a.createElement("div",{className:r.locationSelector,"data-test-id":"destination-field"},c.a.createElement(E.b,{kind:f.Kinds.LOCATION_MARKER,size:f.Sizes.XXS,colorState:f.ColorStates.INHERITED}),c.a.createElement(O,{placeholder:n||o(J.destination),classNames:r,suggestions:this.getLocationSuggestions(this.DestinationKeyword),onInputChange:this.onDestinationInputChange,onValueChange:this.setDestinationInfo,getHint:e=>e.label}))),c.a.createElement("div",{className:r.formRow,"data-test-id":"date-field"},c.a.createElement("div",{className:r.formColumnUnderline},c.a.createElement(b.a,{classNames:r,value:a||this.state.startDate,onStartEdit:()=>{},onDoneEdit:()=>{},onChange:e=>this.setStartDate(e)})),c.a.createElement("span",{className:r.arrow},c.a.createElement(E.b,{kind:f.Kinds.ARROW_UP,size:f.Sizes.XS,colorState:f.ColorStates.INHERITED})),c.a.createElement("div",{className:r.formColumnUnderline},c.a.createElement(b.a,{classNames:r,value:t||this.state.endDate,onStartEdit:()=>{},onDoneEdit:()=>{},onChange:e=>this.setEndDate(e),popoverAlign:V.a.END}))),c.a.createElement("div",{className:r.formRow},c.a.createElement("div",{className:r.formColumn,"data-test-id":"adults-selector"},c.a.createElement(y,{onChange:e=>this.setState({adults:e}),selected:this.state.adults,classNames:r,options:[1,2,3,4,5,6],label:o(J.adults),arrowDownColor:i&&f.ColorStates.INVERTED_LESS_DIM})),c.a.createElement("span",{className:r.divider}),c.a.createElement("div",{className:r.formColumn,"data-test-id":"children-selector"},c.a.createElement(y,{onChange:e=>this.setState({children:e}),selected:this.state.children,classNames:r,options:[0,1,2,3,4,5],label:o(J.children),arrowDownColor:i&&f.ColorStates.INVERTED_LESS_DIM}))))})}componentDidMount(){this.props.cardRendered(w,{i13nModel:{mKey:Z.g.BOOKING_CARD_RENDERED,sec:Z.i.RIGHT_RAIL_TRAVEL_CARD,interactionType:Z.e.nav}})}render(){const e=this.context.getCss(p.a),t=this.context.intl.formatMessage;return c.a.createElement(G,{header:t(J.yahoo_travel_deals),title:t(J.hotel),logoUrl:Object(K.a)("/img/logo_bookingcom.png"),onSubmit:this.submitToPartnerSite,buttonText:t(J.search_hotels),headerClassName:e.hotelCardHeader,iconKind:f.Kinds.HOTELS,onLogoClick:this.navigateToPartnerSite},this.renderForm())}}s()($,"contextTypes",{getCss:r.a.func,intl:_.intlShape.isRequired,store:r.a.object,getThemeMode:r.a.func});var ee=Object(o.connect)(e=>{const t=Object(d.selectors)(e),a=t.getFlightsSelectors,n=t.getTravelCardListItems,s=t.getFeaturesSelectors,i=t.getLocationSuggestionSelectors,r=t.getSmartViewTypeFromRoute,o=(0,t.getRoute)(),l=Object(X.z)(o),c=s().isEnabled,_=c(m.Eb.CONVERSATIONS),u=c(m.Eb.HOTELS_CARD_PREFILL),p=Date.now(),h=u?n(l,_,p):"",g=h&&h.length?h[0].id:"",E=a(),b=g?(0,E.getFlightCard)(g):"",f=b.arrivalTime,C=b.departureTime,S=b.arrivalAirportDesc,y=f?new Date(f):null,T=C?new Date(C):null,v=r(o)===m.Ud.TRAVEL;return{locationSuggestions:i().getLocationSuggestionsMap(),arrivalDate:y,departureDate:T,arrivalAirportDesc:S,isTravelSmartView:v}},e=>({requestLocationSearchSuggestions:g()((t,a)=>e(Object(D.c)({query:{keyword:t,product:"hotels"},partner:a})),200),navigateToPartnerSite:(t,a)=>e(t(a)),cardRendered:(t,a)=>e(t(a))}))($);class te extends c.a.Component{render(){const e=this.props.bookingCard,t=this.context.getCss(B.a);return c.a.createElement("div",{className:t.travelCardsContainer},e&&c.a.createElement(ee,{key:"HotelsCard",partner:Y}))}}s()(te,"contextTypes",{getCss:r.a.func});t.default=Object(o.connect)(e=>({bookingCard:(0,Object(d.selectors)(e).isFeatureEnabled)(m.Eb.BOOKING_CARD)}))(te)},function(e,t,a){"use strict";a.r(t),a.d(t,"logger",(function(){return fe}));var n=a(27),s=a.n(n),i=a(33),r=a.n(i),o=a(3),l=a.n(o),c=a(7),d=a.n(c),m=a(1),_=a.n(m),u=a(6),p=a(132),h=a(12),g=a.n(h),E=a(1826),b=a.n(E),f=a(11),C=a(17),S=a(4);const y=g()(b.a);var T=class extends _.a.Component{render(){const e=this.props.subject;return _.a.createElement(p.a,{groupTabIndex:f.Lb.MESSAGE_GROUP_HEADER},_.a.createElement("header",{"data-test-id":"sponsored-message-header",className:y.groupHeader},_.a.createElement("div",{className:y.subjectRow},_.a.createElement("span",{"data-test-id":"message-group-subject",className:y.subject},e?_.a.createElement("span",{className:y.subjectText},e):_.a.createElement("span",{className:y.noSubject},_.a.createElement(u.FormattedMessage,{id:"message.no_subject",defaultMessage:"No Subject"})),_.a.createElement(C.b,{kind:S.Kinds.SPONSORED,size:S.Sizes.XS,colorState:S.ColorStates.INHERITED})))))}},v=a(71),I=a(605),M=a(21),A=a(22);const N=Object(u.defineMessages)({forward_sponsored:{id:"sponsored_forward",defaultMessage:"Forward this sponsored message to someone"}});class k extends _.a.Component{render(){const e=this.props,t=e.disabled,a=e.onClick,n=e.showLabel,s=(0,this.context.intl.formatMessage)(N.forward_sponsored),i=this.context.getThemeMode()===A.i.DARK;return _.a.createElement(M.default,{"data-iskeynav":!0,"data-test-id":"toolbar-sponsored-forward","aria-label":s,title:s,kind:S.Kinds.FORWARD,disabled:t,onClick:a,size:S.Sizes.XS,colorState:S.ColorStates.INHERITED,isOnDarkBackground:i},n?_.a.createElement(u.FormattedMessage,{id:"sponsored_forward_icon_label",defaultMessage:"Forward"}):null)}}l()(k,"defaultProps",{showLabel:!0}),l()(k,"contextTypes",{intl:u.intlShape.isRequired,getThemeMode:d.a.func});var O=k;const D=Object(u.defineMessages)({sponsored_save:{id:"sponsored_save",defaultMessage:"Save this sponsored message to someone"}});class P extends _.a.Component{render(){const e=this.props,t=e.disabled,a=e.onClick,n=e.showLabel,s=(0,this.context.intl.formatMessage)(D.sponsored_save),i=this.context.getThemeMode()===A.i.DARK;return _.a.createElement(M.default,{"data-iskeynav":!0,"data-test-id":"toolbar-sponsored-save","aria-label":s,title:s,kind:S.Kinds.MOVE_TO_FOLDER,disabled:t,onClick:a,size:S.Sizes.XS,colorState:S.ColorStates.INHERITED,isOnDarkBackground:i},n?_.a.createElement(u.FormattedMessage,{id:"sponsored_save_icon_label",defaultMessage:"Save To Inbox"}):null)}}l()(P,"defaultProps",{showLabel:!0}),l()(P,"contextTypes",{intl:u.intlShape.isRequired,getThemeMode:d.a.func});var R=P,w=a(32),F=a(134),x=a(171),L=a(186),B=a(16),j=a(5),U=a(90),H=a(46),W=a(358),G=a.n(W),Z=a(158),V=a(9),q=a(98);const z=["esc","backspace","del","#",...Z.d];Object(x.b)({group:L.a,keys:Object.assign({},Z.c,{escapeToFolder:{key:"ESC",description:_.a.createElement("strong",null,_.a.createElement(u.FormattedMessage,{id:"shortcut.message_group_escape_message",defaultMessage:"Escape to previous view"}))},delete:{key:"BACKSPACE, DEL, #",description:_.a.createElement("strong",null,_.a.createElement(u.FormattedMessage,{id:"shortcut.message_group_delete",defaultMessage:"Delete"}))}})});class Y extends _.a.Component{constructor(...e){super(...e),l()(this,"handleShortcuts",e=>{e.preventDefault(),e.stopPropagation();const t=String.fromCharCode(e.which).toLowerCase();switch(e.keyCode){case H.b.ESCAPE:case H.b.BACKSPACE:case H.b.DELETE:case H.b.HASHTAG:this.handleClose(e);break;default:"r"===t?this.handleClose("reply",j.e.shortcut):"f"===t&&this.handleClose("forward",j.e.shortcut)}}),l()(this,"getClassNames",()=>this.context.getCss(G.a,{hamSpamDisabled:!0,archiveRestoreDisabled:!0,moveDisabled:!0,deletePermDisabled:!0,groupActionsActive:!1,triageActionsActive:!0,verticalSortView:!1,verticalSelectionControlView:!1,selectionControlDisabled:!0,sponsoredVideoMessage:this.props.isVideoAd})),l()(this,"handleSponsoredForward",e=>{if(e.preventDefault(),this.props.onForward){Object(V.b)(this.props.actionUrls,"SHARE",[]).forEach(e=>Object(q.a)(e,!1)),this.props.onForward()}}),l()(this,"handleSponsoredSave",e=>{if(e.preventDefault(),this.props.onSave){Object(V.b)(this.props.actionUrls,"SAVE",[]).forEach(e=>Object(q.a)(e,!1)),this.props.onSave()}}),l()(this,"handleClose",(e,t="")=>{this.props.onClose({i13nModel:{mKey:j.g.TOOLBAR_CLOSE_MSG,sec:j.i.MSG_READ_TOOLBAR,interactionType:t||Object(B.getInteractionFromEvent)(e)}})})}componentDidMount(){this.context.bindShortcut(z,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(z)}render(){const e=this.props.conversations,t=this.context.intl.formatMessage,a=this.getClassNames();return _.a.createElement(p.a,{axis:p.b.HORIZONTAL,circularNavigation:!1,className:a.container,"data-test-id":"message-toolbar",groupTabIndex:f.Lb.MESSAGE_LIST_TOOLBAR,role:"toolbar"},_.a.createElement(F.a,null),_.a.createElement("div",{className:a.mainActionControls},_.a.createElement("ul",{className:a.triageActionList},_.a.createElement(w.a,{name:"forwardSponsored"},_.a.createElement("div",{className:a.sponsoredToolBarForward},_.a.createElement(O,{disabled:!this.props.onForward,onClick:this.handleSponsoredForward,showLabel:!0}))),_.a.createElement(w.a,{name:"saveSponsored"},_.a.createElement("div",{className:a.sponsoredToolBarSave},_.a.createElement(R,{disabled:!this.props.onSave,onClick:this.handleSponsoredSave,showLabel:!0}))),_.a.createElement(w.a,{name:"perm-delete"},_.a.createElement("div",{className:a.sponsoredToolBarClose},_.a.createElement(I.a,{"data-test-id":"delete-sponsored-btn",disabled:!1,onClick:this.handleClose,permanent:!1,showLabel:!0,conversations:e}))))),_.a.createElement(F.a,null),_.a.createElement("span",{"data-test-id":"close-wrapper",className:a.closeWrapper},_.a.createElement(U.a,{"data-iskeynav":!0,"data-test-id":"toolbar-close",disabled:!1,kind:S.Kinds.CLOSE,size:S.Sizes.XS,onClick:this.handleClose,title:t(v.a.close),"aria-label":t(v.a.close),colorStates:{normal:S.ColorStates.DISABLED,hovered:S.ColorStates.SELECTED}})),_.a.createElement("hr",{className:a.bottomLine}))}}l()(Y,"contextTypes",{intl:u.intlShape.isRequired,config:d.a.object.isRequired,getCss:d.a.func,bindShortcut:d.a.func,unbindShortcut:d.a.func}),l()(Y,"defaultProps",{showLabels:!0});var K=Y,X=a(302),Q=a.n(X),J=a(256),$=a.n(J),ee=a(1396),te=a(70),ae=a.n(te),ne=a(28),se=a(107),ie=a(18),re=a(25),oe=a(1827),le=a.n(oe),ce=a(0);const de=Object(u.defineMessages)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptLabel:{id:"confirm.accept",defaultMessage:"OK"},defaultCancelLabel:{id:"confirm.cancel",defaultMessage:"Cancel"}}),me=g()(le.a),_e={marginLeft:0,marginRight:2*f.G+"px"};class ue extends _.a.Component{constructor(...e){super(...e),l()(this,"handleKeyDown",e=>{const t=this.props.onAbort;if(e.stopPropagation(),e.key===ce.Wb.ESCAPE)return e.preventDefault(),e.stopPropagation(),void(t&&this.props.onAbort(e))}),l()(this,"renderAbortButton",()=>{const e=this.props.onAbort,t=this.context.intl.formatMessage;if(e)return _.a.createElement("div",{className:me.close},_.a.createElement(U.a,{onClick:e,kind:S.Kinds.CLOSE,size:S.Sizes.XS,title:t(de.close),"aria-label":t(de.close),"data-test-id":"confirm-button-close",colorStates:{normal:S.ColorStates.DISABLED,hovered:S.ColorStates.SELECTED}}))}),l()(this,"renderCancelButton",()=>{const e=this.props.onCancel,t=this.context.intl.formatMessage,a=t(this.props.cancelLabel);if(e)return _.a.createElement(ie.a,{onClick:e,kind:re.a.SECONDARY,style:_e,title:t(this.props.cancelLabel),"aria-label":t(this.props.cancelLabel),"data-test-id":"confirm-button-cancel"},a)}),l()(this,"onConfirm",e=>{this.props.disableConfirm||this.props.onConfirm(e)}),l()(this,"_onAbort",()=>{const e=this.props.onAbort;e&&e()})}render(){const e=this.context.intl.formatMessage,t=this.props.title;let a=this.props.message;const n=e(this.props.acceptLabel);return a||(a=this.props.children),_.a.createElement(se.a,{onClose:this._onAbort,onKeyDown:this.handleKeyDown},_.a.createElement("div",{className:me.container,"data-test-id":"confirm-dialog"},_.a.createElement("div",{className:me.header},_.a.createElement("div",{className:me.title,"data-test-id":"confirm-title"},t),this.renderAbortButton()),_.a.createElement("div",{className:me.message,"data-test-id":"confirm-message"},a),_.a.createElement("div",{className:me.controls},_.a.createElement(ie.a,{onClick:this.onConfirm,style:_e,title:e(this.props.acceptLabel),"aria-label":e(this.props.acceptLabel),"data-test-id":"confirm-button-ok"},n),this.renderCancelButton())))}}l()(ue,"contextTypes",{intl:u.intlShape.isRequired}),l()(ue,"defaultProps",{acceptLabel:de.defaultAcceptLabel,cancelLabel:de.defaultCancelLabel,disableConfirm:!1});var pe=ue;const he=Object(u.defineMessages)({brandName:{id:"yahoo_brand_name",defaultMessage:"Yahoo"},warningMessage:{id:"ad.sponsored_submit_warning",defaultMessage:"By submitting this form you agree to send your info to the advertiser who agrees to use it according to their privacy policy."},warningTitle:{id:"ad.sponsored_submit_title",defaultMessage:"Warning"}});class ge extends _.a.Component{constructor(...e){super(...e),l()(this,"onConfirm",()=>{this.props.submitForm(),this.props.hide()})}render(){const e=this.context.intl.formatMessage;return _.a.createElement(pe,{title:e(he.warningTitle),onConfirm:this.onConfirm,onAbort:this.props.hide,onCancel:this.props.hide,message:e(he.warningMessage)})}}l()(ge,"contextTypes",{intl:u.intlShape.isRequired});var Ee=ge,be=a(26);const fe=ae.a.create("norrin/gemini_sponsored_video"),Ce=g()($.a);class Se extends _.a.Component{constructor(...e){super(...e),l()(this,"state",{showSubmitWarning:!1}),l()(this,"videoPlayerCallbacks",["onAdPlaybackStart","onAdPlaybackEnd","onPlaybackStart","onPlaybackComplete","onPlaybackError","onAdError","onPlayerError","onLoadError"].reduce((e,t)=>(e[t]=(e={})=>{let a=e;if("object"==typeof e){a={adBreakId:e.adBreakId,videoId:e.videoId,adBreakItemId:e.adBreakItemId}}fe.info("Sponsored message video ad "+t,{payload:a})},e),{})),l()(this,"initializeForm",()=>{if(this.form=Object(ne.findDOMNode)(this).querySelector("form"),this.form){const e=this.props,t=e.emailAddress,a=e.accountName;[].slice.call(this.form.elements).forEach(e=>{const n=e.name.toLowerCase();"fullname"===n&&a?e.value=a:"email"===n&&t&&(e.value=t)})}}),l()(this,"_createMarkup",()=>({__html:this.props.asset})),l()(this,"handleAdClicked",e=>{Object(V.b)(this.props.actionUrls,"CLICK_INTERNAL",[]).forEach((function(e){const t=e.replace("$(click_label)","msm_click");return Object(q.a)(t,!1)})),this.form&&"submit"===e.target.type&&(e.preventDefault(),this.setState({showSubmitWarning:!0}))}),l()(this,"hideSubmitWarning",()=>{this.setState({showSubmitWarning:!1})}),l()(this,"getFormParams",e=>{if(e){return[].slice.call(e.elements).reduce((e,t)=>(t.name&&e.push(`${t.name}=${t.value}`),e),[]).join("&")}return""}),l()(this,"submitForm",()=>{if(this.form){const e=this.form.method||be.a.GET,t=(this.form.action||"").split("#$embeddedLandingUrl_"),a=r()(t,2),n=a[0],s=a[1];if(this.embeddedLandingUrl=Object(V.b)(this.props.embeddedLandingUrls,s+".url",this.embeddedLandingUrl),!this.embeddedLandingUrl)return void this.form.submit();switch(e.toUpperCase()){case be.a.GET:{const e=window.encodeURIComponent(this.getFormParams(this.form));return void window.open(this.embeddedLandingUrl.replace("$(AD_FORMPARAMS)",e),"_blank")}case be.a.POST:return Object(q.a)(this.embeddedLandingUrl,!1),this.form.action=n,void this.form.submit()}}}),l()(this,"renderSponsoredMessageBody",()=>{const e=this.context.getCss(Q.a);if(this.props.videoConfig){const t=Object(V.b)(this.props.videoConfig,"YVAP.standaloneAd.gemini.landingUrl"),a=Object(V.b)(this.props.videoConfig,"YVAP.standaloneAd.gemini.mediaInfo.0.contentType"),n=Object(V.b)(this.props.videoConfig,"playlist.mediaItems.0.images.thumbnail");return _.a.createElement("div",{className:e.sponsoredVideoBodyContainer},_.a.createElement("a",{rel:"noreferrer",role:"presentation",tabIndex:"-1",href:t,target:"_blank"},_.a.createElement("div",{className:e.sponsoredMessageSource},this.props.source),_.a.createElement("div",{className:e.sponsoredMessageDescription},this.props.description)),"video/mp4"===a||"application/vnd.apple.mpegurl"===a?_.a.createElement("div",{"data-test-id":"video-container"},_.a.createElement(ee.a,s()({},this.videoPlayerCallbacks,{width:"640px",height:"360px",playerConfig:this.props.videoConfig,key:"sponsoredGemini",showVideoCoverInitially:!1,play:!0}))):_.a.createElement("img",{src:n,className:e.videoAdThumbnail}),_.a.createElement("a",{rel:"noreferrer",role:"presentation",tabIndex:"-1",href:t,target:"_blank",className:e.sponsoredMessageButton,title:this.props.action},this.props.action))}return _.a.createElement("div",{className:"msg-body sponsored "+Ce.bodyContainer,onClick:this.handleAdClicked,dangerouslySetInnerHTML:this._createMarkup(),"data-test-id":"sponsored-message-read"})})}componentDidUpdate(e){this.props.asset&&e.asset!==this.props.asset&&this.initializeForm()}componentDidMount(){this.props.asset&&this.initializeForm()}render(){const e=this.props.conversations,t=this.context.getCss(Q.a);return _.a.createElement("div",{className:t.container},_.a.createElement(K,{conversations:e,listId:this.props.listId,actionUrls:this.props.actionUrls,onForward:this.props.forwardCreative,onSave:this.props.saveSponsoredMessage,onClose:this.props.onClose,isVideoAd:!!this.props.videoConfig}),_.a.createElement("div",{className:t.scrollView},_.a.createElement(T,{subject:this.props.subject}),_.a.createElement("div",{className:Ce.sponsoredMessageContainer},this.renderSponsoredMessageBody())),this.state.showSubmitWarning?_.a.createElement(Ee,{hide:this.hideSubmitWarning,submitForm:this.submitForm}):null)}}l()(Se,"contextTypes",{getCss:d.a.func}),l()(Se,"defaultProps",{asset:"",listId:"",subject:"",actionUrls:{},source:"",description:"",action:"",embeddedLandingUrls:{},conversations:!1});t.default=Se},function(e,t,a){"use strict";a.r(t);a(7);var n=a(1),s=a.n(n),i=a(485),r=a.n(i),o=a(1309),l=a.n(o),c=a(30),d=a.n(c),m=a(16),_=a(1414),u=a(1394),p=a(91),h=(a(51),a(11));var g=class extends s.a.Component{render(){const e=this.props.size,t=this.props,a=t.cardId,n=t.cardUrl,i=t.embedUrl,r=t.thumbnailUrl,o=t.hasThumbnail,l=t.cardType,c=t.primaryRichInformation,d=t.secondaryRichInformation,m=t.cardTitle,_=t.cardDescription,g=t.domainStyles.domainLogo,E=u.a[e],b=E.maxWidth,f=E.titleMaxLength,C=E.descriptionMaxLength,S=E.thumbnailHeight,y=E.thumbnailWidth,T=E.upperSectionHeight,v=E.titleSectionMaxWidth,I=E.domainLogoHeight,M=E.domainLogoWidth,A=E.cardBorderRadius,N=void 0===A?0:A,k=Object(p.f)(m,f),O=Object(p.f)(_,C),D="rgb(224, 228, 233)";return s.a.createElement("div",{id:a,className:"yahoo-link-enhancr-card "+(!o&&e===u.b.MEDIUM?"yahoo-link-enhancr-not-allow-cover ":"")+"ymail-preserve-class ymail-preserve-style",style:Object.assign({maxWidth:b+"px",fontFamily:h.n},e===u.b.MINI?{display:"inline-block"}:{},e===u.b.APPEND?{margin:"5px 5px 5px 0",display:"inline-block"}:{}),"data-url":n,"data-embed-url":i,"data-type":l,"data-size":e},s.a.createElement("a",{href:n,style:{textDecoration:"none !important",color:"#000 !important"},className:"yahoo-enhancr-cardlink",target:"_blank",rel:"noreferrer"},e===u.b.MINI||e===u.b.APPEND?s.a.createElement("table",{className:"card yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:b,height:T,style:{borderWidth:"1px",borderStyle:"solid",borderColor:""+D,width:b+"px",backgroundColor:"#fff",borderRadius:N+"px"}},s.a.createElement("tbody",null,s.a.createElement("tr",null,o?s.a.createElement("td",{width:y+"px",style:{width:y+"px",backgroundColor:"#000",borderRadius:`${N}px 0 0 ${N}px`,borderRight:"1px solid "+D}},s.a.createElement("img",{src:r,width:y,height:S,style:{width:y+"px",verticalAlign:"middle",borderRadius:`${N}px 0 0 ${N}px`}})):null,s.a.createElement("td",{width:"10px",style:{width:"10px"}}),s.a.createElement("td",null,g?s.a.createElement("img",{className:"card-object",src:g,width:M,height:I}):null,s.a.createElement("h2",{className:"card-title",style:{fontSize:"14px",lineHeight:"16px",color:"#26282a",fontFamily:h.n,textDecoration:"none !important",margin:"4px 0",wordBreak:"break-word",maxWidth:v-10+"px"}},k))))):s.a.createElement("table",{className:"card-wrapper yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",style:{maxWidth:b+"px"}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{width:b},s.a.createElement("table",{className:"card yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:"100%",style:{maxWidth:b+"px",borderWidth:"1px",borderStyle:"solid",borderColor:""+D,borderRadius:N+"px"}},s.a.createElement("tbody",null,o?s.a.createElement("tr",null,s.a.createElement("td",{className:"card-primary-image-cell",height:""+S,style:{backgroundColor:"rgb(0, 0, 0)",backgroundRepeat:"no-repeat",backgroundPosition:"top center",backgroundSize:"cover",height:S+"px",position:"relative",borderRadius:`${N}px ${N}px 0 0`}},s.a.createElement("span",{className:"card-primary-image-outlook-replace"}),s.a.createElement("table",{className:"card-overlay-container-table yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",style:{width:"100%"}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"card-overlay-cell",style:{backgroundColor:"transparent",height:S+"px",borderRadius:`${N}px ${N}px 0 0`}},s.a.createElement("span",{className:"card-overlay-outlook-replace"}),s.a.createElement("table",{className:"yahoo-ignore-table",height:T,style:{width:"100%",height:T+"px",minHeight:T+"px"}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"card-richInfo2",style:{textAlign:"left",padding:"15px 0 0 15px",verticalAlign:"top"}},d&&d.currencySymbol&&d.price?s.a.createElement("span",{style:{color:"#fff",fontSize:"16px",fontWeight:"600"}},`${d.currencySymbol}${d.price}`):null),s.a.createElement("td",{className:"card-actions",style:{textAlign:"right",padding:"15px 15px 0 0",verticalAlign:"top"}},s.a.createElement("div",{className:"card-share-container"}))))),s.a.createElement("span",{className:"closing-outlook-replace"}))))))):null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("table",{className:"card-info yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",style:{background:"#fff",position:"relative",zIndex:2,width:"100%",maxWidth:b+"px",borderRadius:`0 0 ${N}px ${N}px`,borderTop:"1px solid "+D}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{style:{backgroundColor:"#ffffff",padding:"16px 0 16px 12px",verticalAlign:"top",borderRadius:`0 0 0 ${N}px`}},g?s.a.createElement("img",{className:"card-object-1 yahoo-ignore-inline-image ymail-preserve-class",src:g,height:I,style:{minWidth:M+"px",marginTop:"3px"}}):null),s.a.createElement("td",{style:{verticalAlign:"middle",padding:"12px 24px 16px 12px",width:"99%",fontFamily:h.n,borderRadius:`0 0 ${N}px 0`}},s.a.createElement("h2",{className:"card-title",style:{fontSize:"14px",lineHeight:"19px",margin:"0 0 6px 0",fontFamily:h.n,wordBreak:"break-word",color:"#26282a",maxWidth:v-48+"px"}},k),c?s.a.createElement("p",{className:"card-richinfo-primary",style:{fontSize:"12px",lineHeight:"16px",margin:"0 0 4px 0",color:"#979ba7"}},c):null,s.a.createElement("p",{className:"card-description",style:{fontSize:"12px",lineHeight:"16px",margin:"0",color:"#979ba7",wordBreak:"break-word"}},O)))))))))))))))}},E=a(68),b=a(214),f=a(155);class C{constructor(e){this._processConfig(e)}_processConfig(e){this.size=e.size,this.cardId=e.cardId,this.cardUrl=e.cardUrl,this.embedUrl=e.embedUrl,this.type=e.type,this.primaryRichInformation="article"===this.type?e.author:void 0,this.secondaryRichInformation=e.offer,this.cardType=u.c.YENHANCER,this.linkInfo=e.linkInfo,this._processThumbnailForCard()}_processThumbnailForCard(){this.thumbnailUrl=this._getThumbnailUrl(this.linkInfo),this.hasThumbnail=!!this.thumbnailUrl,this.hasThumbnail&&this._checkIfThumbnailLoads()}_checkIfThumbnailLoads(){const e=E.a.feature("link_enhancer_mrs_load"),t=new Image;t.onerror=()=>{this.hasThumbnail=!1,e.logFailure()},t.onload=()=>{this.hasThumbnail=!0,e.logLatency()},t.src=this.thumbnailUrl}_getThumbnailUrl(e){const t=e.images;if(t&&t.thumbnails){const e=t.thumbnails[u.d[this.size]];if(e)return e.url}}updateSize(e){this.size=e,this._processThumbnailForCard()}_fixMarkup(e){return e=this._addDeprecatedMarkup(e)}_addDeprecatedMarkup(e){const t=this.size,a=this.thumbnailUrl;return this.hasThumbnail&&t!==u.b.MINI&&t!==u.b.APPEND&&(e=(e=(e=(e=e.replace(/<td class="card-primary-image-cell"/,`<td class="card-primary-image-cell" background="${Object(b.a)(a)}" bgcolor="#000000" valign="top"`)).replace(/<table class="card-overlay-container-table yahoo-ignore-table"/,'<table class="card-overlay-container-table yahoo-ignore-table" valign="top"')).replace(/<td class="card-overlay-cell"/,'<td class="card-overlay-cell" background="https://s.yimg.com/cv/ae/nq/storm/assets/enhancrV21/1/enhancr_gradient-400x175.png" bgcolor="transparent" valign="top"')).replace(/<table class="card-info yahoo-ignore-table"/,'<table align="center" class="card-info yahoo-ignore-table"'),e=this._addOutlookConditionalComments(e)),e=this._addDeprecatedTableBorder(e)}_addDeprecatedTableBorder(e){return e.replace(/<table/g,'<table border="0"')}_addOutlookConditionalComments(e){const t=this.thumbnailUrl,a=u.a[this.size],n=a.maxWidth,s=a.outlookThumbnailHeight;return e=(e=(e=e.replace(/<span class="card-primary-image-outlook-replace"><\/span>/,`\x3c!--[if gte mso 9]><v:rect fill="true" stroke="false" style="width:${n-4}px;height:${s}px;position:absolute;top:0;left:0;"><v:fill type="frame" color="#000000" src="${Object(b.a)(t)}"/></v:rect><![endif]--\x3e`)).replace(/<span class="card-overlay-outlook-replace"><\/span>/,`\x3c!--[if gte mso 9]><v:rect fill="true" stroke="false" style="width:${n-4}px;height:${s}px;position:absolute;top:-18px;left:0;"><v:fill type="pattern" color="#000000" src="https://s.yimg.com/cv/ae/nq/storm/assets/enhancrV21/1/enhancr_gradient-400x175.png"/><v:textbox inset="0,0,20px,0"><![endif]--\x3e`)).replace(/<span class="closing-outlook-replace"><\/span>/,"\x3c!--[if gte mso 9]></v:textbox></v:rect><![endif]--\x3e")}getCardMarkup(){const e=this.linkInfo,t=r.a.renderToStaticMarkup(s.a.createElement(g,{cardId:this.cardId,size:this.size,cardUrl:this.cardUrl,embedUrl:this.embedUrl,primaryRichInformation:this.primaryRichInformation,secondaryRichInformation:this.secondaryRichInformation,thumbnailUrl:this.thumbnailUrl,hasThumbnail:this.hasThumbnail,cardType:this.cardType,cardTitle:e.title,cardDescription:e.description,domainStyles:e.domainStyles}));return Object(f.purifyToHTML)(this._fixMarkup(t))}getPlaceholderMarkup(){return`<div class="link-enhancr-placeholder ${this.cardId}" />`}}var S=a(3),y=a.n(S),T=a(6);class v extends s.a.Component{getChildContext(){return{intl:this.props.context.intl}}render(){const e={wrapper:{marginTop:10},header:{fontSize:"14px",fontWeight:400,color:"#454545",fontFamily:h.n,textShadow:"1px 1px 0 rgb(255, 255, 255)",margin:0,padding:2*h.G+"px 0"}};return s.a.createElement("div",{className:"enhancr-link-previews ymail-preserve-class ymail-preserve-style",style:e.wrapper},s.a.createElement("h3",{style:e.header},s.a.createElement(T.FormattedMessage,{id:"compose.link_enhancer.preview_header",defaultMessage:"Links in the message {count}",values:{count:s.a.createElement("span",{className:"link-enhancr-preview-count"},"(1)")}})),this.props.children)}}y()(v,"childContextTypes",{intl:T.intlShape.isRequired});var I=v,M=a(58),A=a(5),N=a(29),k=a(159);const O=/<iframe[^>]+src=(\\?["'])(https:\/\/(?:[\w\-.~:/?#[\]@!$&'()*+,;=]|%[a-f0-9]{2})+)\1[^>]*>[^<]*<\/iframe>/im,D=/(enhancr_card_\d+)/;var P=a(77),R=a(301);const w=N.INLINE_IMAGE_PLUGIN_CLASSES.GIF_WRAPPER_CLASS,F=N.INLINE_IMAGE_PLUGIN_CLASSES.INLINE_IMAGE_CLASS,x=N.INLINE_IMAGE_PLUGIN_CLASSES.IGNORE_CLASS,L=N.INLINE_IMAGE_PLUGIN_SIZE.TINY_IMAGE_WIDTH,B=N.INLINE_IMAGE_PLUGIN_SIZE.IMAGE_SMALL_WIDTH,j=N.INLINE_IMAGE_PLUGIN_SIZE.IMAGE_BIG_WIDTH,U=N.INLINE_IMAGE_PLUGIN_SIZE.IMAGE_BIG_PERCENTAGE,H=N.INLINE_IMAGE_PLUGIN_SIZE.IMAGE_SMALL_PERCENTAGE,W=`img:not([class*="${x}"])`,G=/^((blob):)/;var Z=a(1500);const V={InlineImagePlugin:class{constructor(e){this._overlay=e._overlay,this._rte=e.rte,this._smallImagesSizeMap={},this._getAttachmentInfo=e.getAttachmentInfo,this._onImagePaste=e.onImagePaste,this._onImageRemove=e.onImageRemove,this._updateImgHoverOverlayProp=e.updateImgHoverOverlayProps,this._mouseoverCallback=this.mouseoverCallback.bind(this),this.blobCleaner=e.blobCleaner}fixImgSrcDomain(){const e=this._rte.element.querySelectorAll('img[src*="/content/parts/@.id=="]:not([class*=preview])');Array.prototype.forEach.call(e,e=>Object(R.d)(e))}contentChanged(e){if("sethtml"===e){const e=this._rte.element;[].forEach.call(e.querySelectorAll(W),e=>{this._addEventListenersForInlineImage(e),e.draggable=!1}),[].forEach.call(e.querySelectorAll(`div[class*="${w}"]`),e=>{const t=e.querySelector("img");t&&this._addEventListenersForInlineImage(t),e.setAttribute("contenteditable",!1)}),this.displayLoadingIndicatorForImages()}}_onImageLoaded(e){e.classList.remove(N.IMAGE_STATUS.loading),this.blobCleaner&&G.test(e.src)&&this.blobCleaner.addToBucket(e.src),document.body.contains(e)&&this._addEventListenersForInlineImage(e)}isImageFetched(e,t){e.complete||e.naturalWidth?t(e):setTimeout(()=>this.isImageFetched(e,t),100)}displayLoadingIndicatorForImages(){[].forEach.call(this._rte.element.querySelectorAll(`img:not([class="${N.IMAGE_STATUS.loading}"]):not([class*="${x}"])`),e=>{e.complete||(e.classList.add(N.IMAGE_STATUS.loading),this.isImageFetched(e,this._onImageLoaded.bind(this)))})}setOverylayNode(e){this._overlay=e}resizeHoverImage(e){const t=this._hoverImageEl.getAttribute("data-id");if(Math.round(this._hoverImageEl.clientWidth)<=B){const a=this._smallImagesSizeMap[t];void 0!==a?(Object.assign(this._hoverImageEl.style,{width:""+(e===N.CURRENT_IMAGE_SIZE_STATUS.SMALL?H:U),maxWidth:(e===N.CURRENT_IMAGE_SIZE_STATUS.SMALL?a:B)+"px"}),e===N.CURRENT_IMAGE_SIZE_STATUS.SMALL&&this._hoverImageEl.clientWidth<a&&(this._hoverImageEl.style.width=a+"px")):e===N.CURRENT_IMAGE_SIZE_STATUS.SMALL?Object.assign(this._hoverImageEl.style,{width:H,maxWidth:Math.min(B,this._hoverImageEl.naturalWidth)+"px"}):e===N.CURRENT_IMAGE_SIZE_STATUS.LARGE&&Object.assign(this._hoverImageEl.style,{width:U,maxWidth:Math.min(j,Math.max(this._hoverImageEl.naturalWidth,B))+"px"})}else e===N.CURRENT_IMAGE_SIZE_STATUS.SMALL&&Object.assign(this._hoverImageEl.style,{width:H,maxWidth:B+"px"});this._rte.contentChanged({type:k.a.isGif(this._hoverImageEl)?N.EDITOR_EVENTS.gif_resized:N.EDITOR_EVENTS.inline_image_resized,eventData:{size:e}}),this._hoverImageEl=null}onContentMutated(e,t,a){t.length&&this.onDOMNodesAdded(t),a.length&&this.onDOMNodesRemoved(a)}onDOMNodesRemoved(e){e.forEach(e=>{const t=e.tagName,a=e.className,n=void 0===a?"":a,s=e.getAttribute?e.getAttribute("data-id"):e.dataset&&e.dataset.id;"IMG"===t&&s&&-1!==n.indexOf(F)&&(this._rte.element.querySelector(`img[class*="${F}"][data-id="${s}"]`)||this._onImageRemove(s))})}onDOMNodesAdded(e){e.forEach(e=>{if(!e.querySelector||"BR"===e.tagName||"EM"===e.tagName||"FONT"===e.tagName||"STRONG"===e.tagName)return;const t="IMG"===e.tagName?[e]:e.querySelectorAll(W);[].forEach.call(t,e=>{e.setAttribute("data-inlineimagemanipulating",!0);const t=e.getAttribute("data-id"),a=this._getAttachmentInfo().find(({contentId:e})=>t===e);this._addEventListenersForInlineImage(e),a&&(e.setAttribute("data-id",a.contentId),e.src=a.downloadUrl),e.complete||(e.classList.add(N.IMAGE_STATUS.loading),this.isImageFetched(e,this._onImageLoaded.bind(this)))})})}_addEventListenersAndAdjustSize(e){this._isTinyImage(e)||e.classList.contains(N.IMAGE_STATUS.loading)||(this._autoAdjustImageSize(e),e.addEventListener("mouseover",this._mouseoverCallback))}_addEventListenersForInlineImage(e){e.setAttribute("data-inlineimagemanipulating",!0),e.complete?this._addEventListenersAndAdjustSize(e):e.onload=this._addEventListenersAndAdjustSize.bind(this,e)}_isTinyImage(e){const t=e.clientWidth;return t&&t<L}_autoAdjustImageSize(e){if(e.hasAttribute("width")||e.hasAttribute("height")){const t=Math.round(this._rte.element.clientWidth);let a=e.getAttribute("width");if(a){a=a>Math.min(t,j)?U:a+"px"}else a=e.style.width;return Object.assign(e.style,{minHeight:"",height:"",width:a,maxWidth:Math.min(j,e.naturalWidth,t)+"px"}),e.removeAttribute("width"),void e.removeAttribute("height")}const t=e.naturalWidth,a=e.clientWidth;t<B||a<B?(e.hasAttribute("data-id")||e.setAttribute("data-id",Date.now()),this._smallImagesSizeMap[e.getAttribute("data-id")]=Math.min(t,a)):e.style.width&&e.style.maxWidth||Object.assign(e.style,{width:U,maxWidth:Math.min(j,t)+"px",minHeight:"",height:""}),(e.style.height||e.style.minHeight)&&Object.assign(e.style,{minHeight:"",height:""})}mouseoverCallback(e){if(this._hoverImageEl=e.target,k.a.fixOverlayPosition({hoveredElement:this._hoverImageEl,overlay:this._overlay,scrollableContainer:this._scrollableArea,editor:this._rte}),"IMG"===this._hoverImageEl.nodeName){this._hoverImageEl.removeAttribute("data-inlineimagemanipulating");const e=this._hoverImageEl.getAttribute("data-id"),t=N.CURRENT_IMAGE_SIZE_STATUS.SMALL,a=N.CURRENT_IMAGE_SIZE_STATUS.LARGE;this._updateImgHoverOverlayProp({imageSize:this._hoverImageEl.style.width===U?a:t,showSendAsAttachmentBtn:this._getAttachmentInfo().some(({contentId:t})=>t===e),hoveredImage:this._hoverImageEl})}}setScrollableArea(e){this._scrollableArea||(this._scrollableArea=e)}onPaste(e){const t=e.pastedFiles||[];[].slice.call(this._rte.element.querySelectorAll('img[src^="data:"]')).forEach(e=>{const a=Object(P.getFileFromDataURI)(e.src),n=URL.createObjectURL(a);a.downloadLink=n,t.push(a),e.src=n,e.classList.add(F)}),t.length>0&&this._onImagePaste(t)}},StationeryPlugin:Z.a,LinkEnhancerPlugin:class{constructor(e){this._rte=e.rte,this._overlay=e.overlay,this.blocklist=e.blocklist||[],this.enhancedLinks=e.enhancedLinks||{},this._scrollableArea=e.scrollableArea,this.onCardHovered=e.onCardHovered,this.context=e.context,this.linkEnhancerFetch=e.linkEnhancerFetch,this.onLinkEnhancerlinkRemoved=e.onLinkEnhancerlinkRemoved,this.onLinkEnhancerlinkMoveToInline=e.onLinkEnhancerlinkMoveToInline,this.onLinkEnhancerlinkAdded=e.onLinkEnhancerlinkAdded,this.onLinkEnhancerlinkResized=e.onLinkEnhancerlinkResized,this.onLinkEnhancerlinkMoveToBottom=e.onLinkEnhancerlinkMoveToBottom,this.enhancerCards={},this.previewCards={},this._findAndEnhanceCards()}handleNewAnchor(e){const t=e.hasAttribute("href")?e.getAttribute("href").trim():"";if(/^https?:/i.test(t)&&!this.enhancerCards[t]){for(const e in this.blocklist)if(RegExp(this.blocklist[e]).test(t))return;this.enhancedLinks[t]?this._renderNewAnchor(t):this._fetchEnhancerCard(t)}}_renderNewAnchor(e){if(this.enhancerCards[e])return;const t=this._generateCardId(),a=this._getEnhancerProps(e,t),n=this._rte.element.querySelectorAll('a[href*="'+Object(_.c)(e)+'"]'),s=n[n.length-1];if(l()(a))return;const i={cardId:t,linkNode:s,originalLinkText:s.textContent};s.textContent===e&&(s.textContent=a.linkInfo.title),s.classList.add(t);const r=new C(a),o=this._createCardNode(r.getCardMarkup());if(this.enhancerCards[e]=Object.assign(i,{enhancerCard:r,cardNode:o,cardSize:a.size}),this._insertEnhancerAfterLink({linkNode:s,cardNode:o}),this._rte.contentChanged({type:N.EDITOR_EVENTS.link_enhancer_card_added}),o){const e=window.getSelection(),t=document.createRange();t.setStartAfter(o),t.collapse(!0),e.removeAllRanges(),e.addRange(t)}setImmediate(()=>{this.onLinkEnhancerlinkAdded({i13nModel:{mKey:A.g.LINK_ENHANCER_ADD_LINK,sec:A.i.COMPOSE_MSG,actionData:{mHref:e}}})})}contentChanged(e){e&&"sethtml"===e&&this._findAndEnhanceCards()}hasCards(){return Object.keys(this.enhancerCards).length>0}_renderNewlyFetchedLinks(){const e=Object.keys(this.enhancedLinks),t=this._hoveredCard&&this._hoveredCard.getAttribute("data-url");Array.prototype.forEach.call(e,e=>{const a=this.enhancedLinks[e],n=this._rte.element.querySelectorAll('a[href*="'+Object(_.c)(e)+'"]'),s=n[n.length-1];a&&s&&!this.enhancerCards[e]&&this._renderNewAnchor(e),a&&s&&t===e&&this.enhancerCards[e]&&(this.enhancerCards[e].resizePending||this.enhancerCards[e].movePending)&&this._doPendingResizeOrMove(e),a||t!==e||this._hideSpinner(this._hoveredCard)})}_doPendingResizeOrMove(e){const t=this._getEnhancerProps(e,this.enhancerCards[e].cardId);l()(t)||(this.enhancerCards[e].enhancerCard=new C(t),this.enhancerCards[e].resizePending?this.handleResizeCard({newSize:this.enhancerCards[e].cardSize}):this.enhancerCards[e].movePending&&this.handleMoveCardToBottom(),this.enhancerCards[e].resizePending=!1,this.enhancerCards[e].movePending=!1)}_findAndEnhanceCards(){const e=this._rte.element,t=e.querySelectorAll(N.LINK_EHANCER_CARD_SELECTOR);Array.prototype.forEach.call(t,t=>{const a=t.getAttribute("data-url");if(t.contentEditable=!1,t.setAttribute("contenteditable",!1),this._attachHoverEvent(t),!this.enhancerCards[a]){const n=t.getAttribute("id"),s=e.querySelector(`a[class~="${n}"]`),i=e.querySelector(`div[class*="link-enhancr-placeholder"][class*="${n}"]`),r=t.getAttribute("data-size");this.enhancerCards[a]={cardId:n,linkNode:s,placeholderNode:i,cardSize:r}}}),this._findPreviewBox()}_getEnhancerProps(e,t){const a=this.enhancedLinks[e];if(!a||!a.title)return{};const n={cardUrl:e,linkInfo:a,cardId:t,size:u.b.MEDIUM};if(a.video&&(a.video.html||a.video.url))if(a.video.html){const e=O.exec(a.video.html);e&&e[2]&&(n.embedUrl=e[2])}else n.embedUrl=a.video.url;return a.author&&(n.author=a.author),a.offers&&a.offers.length&&(n.offer=a.offers[0]),a.type&&(n.type=a.type),n}getCurrentCardSize(){if(this._hoveredCard)return this._hoveredCard.getAttribute("data-size")}_findPreviewBox(){const e=this._rte.element.querySelector('div[class*="enhancr-link-previews"]');if(e){const t=e.querySelectorAll(N.LINK_EHANCER_CARD_SELECTOR);Array.prototype.forEach.call(t,e=>this.previewCards[e.getAttribute("id")]=!0),this.previewBoxNode=e}}_insertEnhancerAfterLink({linkNode:e,cardNode:t}){const a=e.parentNode===this._rte.element?e:e.parentNode;a.insertAdjacentHTML("afterend","<div><br/></div><div><br/></div>"),"function"==typeof a.insertAdjacentElement?a.insertAdjacentElement("afterend",t):a.parentNode.insertBefore(t,a.nextSibling),a.insertAdjacentHTML("afterend","<div><br/></div>")}handleResizeCard({newSize:e}){if(this._hoveredCard){const t=this._hoveredCard,a=t.getAttribute("data-url"),n=this.enhancerCards[a],s=this.getCurrentCardSize();if(n){n.cardSize=e;const i=n.enhancerCard;this._hideOverlay(),i?this._resizeCard(t,n,e):(n.resizePending=!0,this._fetchEnhancerCard(a,t)),s===u.b.APPEND?this.onLinkEnhancerlinkMoveToInline({i13nModel:{mKey:A.g.LINK_ENHANCER_MOVE_LINK_INLINE,sec:A.i.COMPOSE_MSG,actionData:{mHref:a}}}):this.onLinkEnhancerlinkResized({i13nModel:{mKey:A.g.LINK_ENHANCER_RESIZE_LINK,sec:A.i.COMPOSE_MSG,actionData:{mHref:a,size:e}}})}}}_fetchEnhancerCard(e){this.enhancedLinks[e]?this._renderNewlyFetchedLinks():(this._hoveredCard&&this._showSpinner(this._hoveredCard),this.linkEnhancerFetch({cardUrl:e}))}_resizeCard(e,t,a){const n=t.enhancerCard,s=t.cardId,i=t.linkNode,r=t.placeholderNode;n.updateSize(a);const o=this._createCardNode(n.getCardMarkup());if(this.previewCards.hasOwnProperty(s))if(e.parentNode.removeChild(e),delete this.previewCards[s],this._updatePreviewBoxState(),r&&r.parentNode)r.parentNode.replaceChild(o,r);else if(i&&i.parentNode){let e=i;if(!this._rte.element.contains(i)){const t=i.className.match(D);e=t?this._rte.element.querySelector(`a[class*="${t[0]}"]`):e}this._insertEnhancerAfterLink({linkNode:e,cardNode:o})}else this.previewBoxNode?this.previewBoxNode.insertAdjacentElement("beforebegin",o):this._rte.element.insertAdjacentElement("beforeend",o);else e.parentNode.replaceChild(o,e);this._attachHoverEvent(o),this._rte.contentChanged({type:N.EDITOR_EVENTS.link_enhancer_card_size_changed})}_updatePreviewBoxState(){const e=this._rte.element,t=Object.keys(this.previewCards).length;0===t&&this.previewBoxNode?(this.previewBoxNode.parentNode.removeChild(this.previewBoxNode),this.previewBoxNode=null):t>0&&!this.previewBoxNode&&this._setupPreviewFooter();const a=e.querySelector('span[class*="link-enhancr-preview-count"]');a&&(a.textContent=`(${t})`)}_setupPreviewFooter(){const e=this._rte.element,t=r.a.renderToStaticMarkup(s.a.createElement(I,{context:this.context})),a=document.createElement("div");a.innerHTML=t,this.previewBoxNode=a.firstChild,e.insertAdjacentElement("beforeend",this.previewBoxNode)}handleRemoveCard(){if(this._hoveredCard){const e=this._hoveredCard,t=e.getAttribute("data-url"),a=this.enhancerCards[t];if(a){const n=a.enhancerCard,s=a.linkNode,i=a.placeholderNode,r=a.cardId,o=a.originalLinkText;this._hideOverlay(),n&&delete a.enhancerCard,e.parentNode.removeChild(e),this.previewCards.hasOwnProperty(r)&&(delete this.previewCards[r],this._updatePreviewBoxState()),s&&document.body.contains(s)&&(s.textContent=o||s.href,s.classList.remove(r)),i&&document.body.contains(i)&&i.parentNode.removeChild(i),this._rte.contentChanged({type:N.EDITOR_EVENTS.link_enhancer_card_removed}),this.onLinkEnhancerlinkRemoved({i13nModel:{mKey:A.g.LINK_ENHANCER_REMOVE_LINK,sec:A.i.COMPOSE_MSG,actionData:{mHref:t}}})}}}handleMoveCardToBottom(){if(this._hoveredCard){const e=this._hoveredCard,t=e.getAttribute("data-url"),a=this.enhancerCards[t];a&&(a.enhancerCard?this._moveCardToBottom(e,a):(a.movePending=!0,this._fetchEnhancerCard(t,e))),this.onLinkEnhancerlinkMoveToBottom({i13nModel:{mKey:A.g.LINK_ENHANCER_MOVE_LINK_BOTTOM,sec:A.i.COMPOSE_MSG,actionData:{mHref:t}}})}}_moveCardToBottom(e,t){const a=t.enhancerCard;this.previewCards[t.cardId]=!0,this._updatePreviewBoxState(),a.updateSize(u.b.APPEND);const n=this._createCardNode(a.getCardMarkup()),s=this._createCardNode(a.getPlaceholderMarkup());t.placeholderNode=s,this.previewBoxNode.insertAdjacentElement("beforeend",n),e.parentNode.replaceChild(s,e),this._rte.contentChanged({type:"link_enhancer_card_moved"})}_showSpinner(e){if(!e.querySelector("div.loadingSpinnerContainer")){"relative"!==e.style.position&&(e.style.position="relative");const t=document.createElement("div");t.classList.add("loadingSpinnerContainer"),Object.assign(t.style,{position:"absolute",top:"0px",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.3)"}),e.appendChild(t);const a=r.a.renderToStaticMarkup(s.a.createElement(M.b,{size:M.a.M}));t.insertAdjacentHTML("beforeend",a)}}_hideSpinner(e){const t=e.querySelector("div.loadingSpinnerContainer");t&&e.removeChild(t)}setScrollableArea(e){this._scrollableArea=e}setEnhancedLinks(e){d()(e,this.enhancedLinks)||(this.enhancedLinks=e,this._renderNewlyFetchedLinks())}_hideOverlay(){this._overlay&&Object.assign(this._overlay.style,{position:"absolute",top:"-5000px"})}setOverylayNode(e){this._overlay=e}onContentMutated(e,t,a){t&&t.forEach(e=>{if("A"===e.tagName)this.handleNewAnchor(e);else if(e.className&&-1!==e.className.indexOf("pasted-link")&&e.querySelectorAll){e.removeAttribute("class");const t=e.querySelectorAll("a"),a=t[t.length-1];a&&this.handleNewAnchor(a)}}),a.length&&this.onDOMNodesRemoved(a)}onDOMNodesRemoved(e){Object.keys(this.enhancerCards).map(e=>this.enhancerCards[e].cardNode).some(t=>e.some(e=>{if("function"==typeof e.contains&&e.contains(t))return this._hideOverlay(),!0}))}_attachHoverEvent(e){e.addEventListener("mouseover",()=>{this._hoveredCard=e,this.onCardHovered({newCardSize:this.getCurrentCardSize(),hoveredCard:this._hoveredCard}),k.a.fixOverlayPosition({hoveredElement:this._hoveredCard,overlay:this._overlay,scrollableContainer:this._scrollableArea,editor:this._rte})})}_createCardNode(e){const t=document.createElement("div");return t.innerHTML=e,t.firstChild.contentEditable=!1,t.firstChild.setAttribute("contenteditable",!1),this._attachHoverEvent(t.firstChild),t.firstChild}_generateCardId(){return"enhancr_card_"+Object(m.generateUID)()}},TableFormatterPlugin:class{contentChanged(e){e&&"paste"===e.type&&e.newElements&&Array.prototype.filter.call(e.newElements,this._shouldFormatTable).forEach(e=>this._formatTable(e))}_shouldFormatTable(e){return"TABLE"===e.tagName&&-1===e.className.indexOf("yahoo-ignore-table")&&null===e.querySelector("table")}_isStyled(e){return!!(e.hasAttribute("bgcolor")||e.style.getPropertyValue("background")||e.style.getPropertyValue("background-color")||e.style.getPropertyValue("color")||e.style.getPropertyValue("border")||e.style.getPropertyValue("border-width"))}_isTableStyled(e,t,a){return!!(e.hasAttribute("border")&&"0"!==e.getAttribute("border")||this._isStyled(e)||Array.prototype.some.call(t,this._isStyled)||Array.prototype.some.call(a,this._isStyled))}_removeWidth(e){e.removeAttribute("width"),e.style.removeProperty("width"),e.style.removeProperty("min-width")}_formatTable(e){const t=`${.5*h.G}px ${2*h.G}px`,a=e.className.indexOf("Mso")>-1,n=e.querySelectorAll("td, th"),s=e.querySelectorAll("tr");this._removeWidth(e),Array.prototype.forEach.call(n,e=>{this._removeWidth(e),e.style.padding||e.style.setProperty("padding",t)}),Array.prototype.forEach.call(e.querySelectorAll("col"),this._removeWidth),a&&Array.prototype.forEach.call(e.querySelectorAll("p"),e=>e.style.setProperty("margin",0)),this._isTableStyled(e,s,n)||Array.prototype.forEach.call(s,(e,t)=>{const a=t%2?"#fff":"#eee";e.setAttribute("bgcolor",a),e.style.setProperty("background-color",a)})}}};t.default=class extends s.a.Component{componentDidMount(){this.props.onLoad(V)}render(){return null}}},function(e,t,a){"use strict";a.r(t),a.d(t,"SubscriptionUpsells",(function(){return he})),a.d(t,"mapStateToProps",(function(){return ge}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(10),l=a(13),c=a(1),d=a.n(c),m=a(0),_=a(27),u=a.n(_),p=a(6),h=a(319),g=a(1529),E=a.n(g),b=a(18),f=a(25),C=a(16),S=a(49),y=a(90),T=a(4),v=a(94),I=a(98),M=a(107),A=a(203),N=a(143),k=a(428);const O=Object(p.defineMessages)({close:{id:"subscriptions_upsell_close",defaultMessage:"Close"},unsubscribeText:{id:"subscriptions_upsell_unsubscribe_text",defaultMessage:"I don't like this offer"}});class D extends c.Component{constructor(...e){super(...e),s()(this,"userClickedOverlayButtons",!1),s()(this,"uiContext",{TRY_NOW:"tryNow",UNSUBSCRIBE:"unsubscribe",BACKGROUND:"background",CLOSE_BUTTON:"closeButton"}),s()(this,"onClose",(e,t)=>{const a=this.props,n=a.version,s=a.productCode;this.props.onClose({i13nModel:{mKey:"cue_"+a.cueName+"_close",interactionType:Object(C.getInteractionFromEvent)(e),actionData:{version:n,uiContext:t,productCode:s}}}),this.userClickedOverlayButtons=!0}),s()(this,"onTryNow",e=>{this.onClose(e,this.uiContext.TRY_NOW),Object(v.a)(this.props.redirectUrl)}),s()(this,"onUnsubscribe",e=>{this.onClose(e,this.uiContext.UNSUBSCRIBE),this.props.onUnsubscribeClick({preferenceCode:this.props.productCode})}),s()(this,"onCloseModal",e=>this.onClose(e,this.uiContext.BACKGROUND)),s()(this,"onCloseButtonClick",e=>this.onClose(e,this.uiContext.CLOSE_BUTTON))}componentDidMount(){const e=this.props.impressionTracker;Object(I.a)(e,!1)}componentWillUnmount(){this.props.cueTypeComponent!==A.a||this.userClickedOverlayButtons||this.onCloseModal({})}render(){const e=this.props,t=e.images,a=e.strings,n=e.overridingStyle,s=e.cueTypeComponent,i=t.headerImages,r=void 0===i?[]:i,o=t.tipImage,l=this.context.intl.formatMessage,c=this.context.getCss(E.a,void 0===n?{}:n),m=d.a.createElement("div",{className:c.closeWrapper},d.a.createElement(y.a,{"data-iskeynav":!0,kind:T.Kinds.CLOSE,size:T.Sizes.XS,onClick:this.onCloseButtonClick,title:l(O.close),colorStates:{normal:T.ColorStates.COOL_FAINT,hovered:T.ColorStates.INHERITED},tabIndex:0})),_=d.a.createElement("div",{className:c.container},d.a.createElement("div",{className:c.purpleHeader},d.a.createElement("div",{"aria-hidden":!0,className:c.headerImagesContainer},r.map(({oneX:e,twoX:t})=>d.a.createElement("img",{className:c.logo,src:Object(S.a)(e),srcSet:Object(S.a)(t)+" 2x",key:"subscriptions_upsell_"+e,"aria-hidden":!0}))),s===M.a&&m),d.a.createElement("div",{className:c.content},d.a.createElement("div",{className:c.mainBody},(o||a.tipText)&&d.a.createElement("div",{className:c.tipSection},o&&d.a.createElement("img",{className:c.tipImage,src:Object(S.a)(o.oneX),srcSet:Object(S.a)(o.twoX)+" 2x","aria-hidden":!0}),a.tipText&&d.a.createElement("h3",{className:c.tipText},d.a.createElement(p.FormattedMessage,a.tipText))),d.a.createElement("h1",{className:c.heading},l(a.heading)),d.a.createElement("p",{className:c.bodyTextContainer},d.a.createElement(p.FormattedHTMLMessage,a.body)),d.a.createElement(b.a,{title:l(a.ctaText),"data-test-id":"try-it-button",kind:f.a.PRIMARY,"aria-label":l(a.ctaText),marginLess:!0,overridingClass:c.ctaButton,onClick:this.onTryNow,tabIndex:0},l(a.ctaText))),d.a.createElement("div",{className:c.unsubscribeWrapper},d.a.createElement(b.a,{"data-test-id":"unsubscribe-button",kind:f.a.TEXT,overridingClass:c.unsubscribeText,onClick:this.onUnsubscribe,tabIndex:0},l(O.unsubscribeText)))),s===A.a&&m);switch(s){case A.a:return d.a.createElement(A.a,null,_);case M.a:default:return d.a.createElement(M.a,{onClose:this.onCloseModal},_)}}}D.defaultProps={cueTypeComponent:M.a},D.contextTypes={intl:p.intlShape.isRequired,getCss:r.a.func};var P=Object(l.connect)(null,e=>({onUnsubscribeClick:t=>e(Object(k.a)(t))}))(D);const R="/img/yahoo_norton_transparent_logo.png",w="/img/yahoo_norton_transparent_logo_2x.png",F="/img/yahoo_norton_colored_logo_2x.png",x="/img/yahoo_norton_colored_logo.png",L="/img/trusted_fill_black_2x.png",B="/img/trusted_fill_black.png",j="/img/trusted_fill_purple_2x.png",U="/img/trusted_fill_purple.png",H=Object(p.defineMessages)({heading:{id:"norton_upsell_header_text",defaultMessage:"Help rid your phone of malicious apps"},body:{id:"norton_upsell_body_text",defaultMessage:"It's easy for malicious apps to end up on your mobile phone. Norton Security Online removes them and prevents new ones from installing.<br/>Try it FREE* for 30 days."},ctaText:{id:"norton_upsell_cta_text",defaultMessage:"Get protection today"},tipText:{id:"norton_upsell_tip_text",defaultMessage:"Security Tip"}});var W=Object(h.a)(e=>{const t=N.g.T1;let a,n,s;t===N.g.T1?(a=[{oneX:R,twoX:w}],n={oneX:U,twoX:j},s={}):(a=[{oneX:x,twoX:F}],n={oneX:B,twoX:L},s={nortonT2Style:!0});const i={headerImages:a,tipImage:n};return d.a.createElement(P,u()({},e,{images:i,strings:H,overridingStyle:s,version:t}))});const G="/img/yahoo_lastpass_transparent_horizontal_2x.png",Z="/img/yahoo_lastpass_transparent_horizontal.png",V="/img/icon_computer_2x.png",q="/img/icon_computer.png",z=Object(p.defineMessages)({heading:{id:"lastpass_upsell_header_text",defaultMessage:"Ease the password hassle."},body:{id:"lastpass_upsell_body_text",defaultMessage:"Never forget or mistype another password. As part of the Yahoo family, you get a free* 30-day trial of LastPass."},ctaText:{id:"lastpass_upsell_cta_text",defaultMessage:"Try it free now*"}});var Y=Object(h.a)(e=>{let t,a={};e.version===N.g.T2&&(t={oneX:q,twoX:V},a={lastpassT2Style:!0});const n={headerImages:[{oneX:Z,twoX:G}],tipImage:t};return d.a.createElement(P,u()({},e,{images:n,strings:z,overridingStyle:a}))});function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const X="/img/yahoo_new_logo_transparent_2x.png",Q="/img/yahoo_new_logo_transparent.png",J="/img/stardust.png",$="/img/stardust_2x.png",ee="/img/sysmech_pc.png",te="/img/sysmech_pc_2x.png",ae=Object(p.defineMessages)({heading:{id:"sys_mechanic_upsell_header_text",defaultMessage:"De-junk and speed up your slow PC"},body:{id:"sys_mechanic_upsell_body_text",defaultMessage:"Help restore maximum speed, power and stability with System Mechanic."},ctaText:{id:"sys_mechanic_upsell_cta_text",defaultMessage:"Try it free*"},tipTextNoName:{id:"sys_mechanic_upsell_tip_text_no_name",defaultMessage:"PC Cleanup Tip"},tipTextWithName:{id:"sys_mechanic_upsell_tip_text_with_name",defaultMessage:"PC Cleanup Tip for {name}"}});var ne=Object(h.a)(Object(l.connect)(e=>{const t=Object(o.selectors)(e),a=((0,t.getAccountById)((0,t.getSelectedAccountIdByRoute)((0,t.getRoute)()))||{}).sendingName;return{sendingName:void 0===a?"":a}},null)(e=>{const t=e.sendingName;ae.tipText=e.version===N.g.T1&&t?function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},ae.tipTextWithName,{values:{name:t}}):ae.tipTextNoName;const a={headerImages:[{oneX:Q,twoX:X},{oneX:ee,twoX:te}],tipImage:{oneX:J,twoX:$}};return d.a.createElement(P,u()({},e,{images:a,strings:ae,overridingStyle:{bigPurpleHeader:!0}}))}));const se="/img/yahoo_mail_pro_logo_single_line_2x.png",ie="/img/yahoo_mail_pro_logo_single_line.png",re="/img/yahoo_mail_pro_devices.png",oe="/img/yahoo_mail_pro_devices_2x.png",le="/img/yahoo_mail_pro_logo_center.png",ce="/img/yahoo_mail_pro_logo_center_2x.png",de="/img/yahoo_mail_pro_devices_v2.png",me="/img/yahoo_mail_pro_devices_v2_2x.png",_e=Object(p.defineMessages)({heading:{id:"ymail_pro_upsell_header_text",defaultMessage:"Upgrade to ad-free"},body:{id:"ymail_pro_upsell_body_text",defaultMessage:"Enjoy an ad-free inbox across all devices with priority customer support."},ctaText:{id:"ymail_pro_upsell_cta_text",defaultMessage:"Try it free*"}});var ue=Object(h.a)(e=>{let t,a,n;e.version===N.g.T1?(t={bigPurpleHeader:!0},a=[{oneX:ie,twoX:se},{oneX:re,twoX:oe}]):(t={smallOverlayStyle:!0},n=A.a,a=[{oneX:le,twoX:ce},{oneX:de,twoX:me}]);const s={headerImages:a};return d.a.createElement(P,u()({},e,{images:s,strings:_e,overridingStyle:t,cueTypeComponent:n}))});function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const he=e=>{const t=e.productCode,a=e.version,n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{computeActionData:()=>({productCode:t,version:a})});switch(t){case N.e.NORTON:return d.a.createElement(W,n);case N.e.LASTPASS:return d.a.createElement(Y,n);case N.e.YMAILPRO:return d.a.createElement(ue,n);case N.e.SYSTEM_MECHANIC:return d.a.createElement(ne,n)}return null},ge=e=>{const t=Object(o.selectors)(e),a=m.Eb.SUBSCRIPTION_UPSELLS,n=(0,t.getSetting)(m.Kd.SUBSCRIPTION_UPSELL_PRODUCT_CODE),s=n.productCode,i=n.version,r=N.f[`${s}_${i}`]||{};return{cueName:a,version:i,redirectUrl:r.redirectUrl,impressionTracker:r.impressionTracker,productCode:s}};t.default=Object(l.connect)(ge,null)(he)},function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"injectCardButtons",(function(){return q})),a.d(n,"enhanceCardsInTree",(function(){return z})),a.d(n,"getInjectionWrapper",(function(){return Y})),a.d(n,"shareCard",(function(){return K})),a.d(n,"playEmbeddedMedia",(function(){return X}));a(7);var s=a(1),i=a.n(s),r=a(28),o=a.n(r),l=a(6),c=a(27),d=a.n(c),m=a(3),_=a.n(m),u=a(53),p=a.n(u);const h={default:{autoplay:1},"yahoo.com":{},"yimg.com":{},"youtube.com":{autoplay:1,fs:0,showinfo:0,modestbranding:1,playsinline:1},"youtu.be":{},"vimeo.com":{autoplay:1,badge:0,byline:0,title:0,portrait:0},"flickr.com":{},"tumblr.com":{},"reverbnation.com":{},"scribd.com":{},"linkedin.com":{},"viddler.com":{},"slideshare.net":{},"soundcloud.com":{auto_play:1}};h["s.yimg.com"]=h["yimg.com"],h["player.vimeo.com"]=h["vimeo.com"],h["w.soundcloud.com"]=h["soundcloud.com"];const g=/^https:\/\/(?:www\.)?((?:[\w~-]+\.)*[a-zA-Z0-9]+\.[a-zA-Z]+)/;function E(e){const t=g.exec(e);return t?t[1]:void 0}var b=a(1768),f=a.n(b),C=a(12),S=a.n(C);const y=Object(l.defineMessages)({errorMessage:{id:"embeddedMediaPlayer.errorMessage",defaultMessage:"Cannot play media from this URL. The website is not supported."}});class T extends i.a.Component{constructor(...e){super(...e),_()(this,"generateUrl",()=>{const e=this.props,t=e.width,a=e.height,n=e.mediaUrl,s=function(e){const t=E(e);return!!h[t]&&(Object.keys(h[t]).length?h[t]:h.default)}(n);if(!s)return!1;const i=p.a.stringify(s),r=`${n}${-1===n.indexOf("?")?"?":"&"}${i}`;return`https://s.yimg.com/nq/s/assets/html/yframe-min_2_2705_1.html?src=${encodeURIComponent(r)}&width=${t}&height=${a}`})}componentWillMount(){this.setState({beforeAnimation:!!this.props.animate})}componentDidMount(){this.state.beforeAnimation&&(this.animationTimeout=setTimeout(()=>{this.animationTimeout=!1,this.setState({beforeAnimation:!1})},17))}componentWillUnmount(){this.animationTimeout&&clearTimeout(this.animationTimeout)}render(){const e=this.props,t=e.width,a=e.height,n=e.animate,s=this.context.intl.formatMessage,r=this.generateUrl(),o=S()(f.a,{animate:n,beforeAnimation:this.state.beforeAnimation}),l=o.embeddedMediaPlayer;let c;return r?(this.state.beforeAnimation||(c={width:t,height:a}),i.a.createElement("iframe",d()({src:r,className:l},c,{"data-test-id":"embedded-media-player"}))):i.a.createElement("div",{className:o.errorContainer,"data-test-id":"embedded-media-player-error"},s(y.errorMessage))}}_()(T,"contextTypes",{intl:l.intlShape.isRequired}),_()(T,"defaultProps",{width:400,height:200,animate:!1});var v=T,I=a(95),M=a(15),A=a(63),N=a(32),k=a(117),O=a(21),D=a(17),P=a(4),R=a(1769),w=a.n(R);const F=S()(w.a),x=Object(l.defineMessages)({shareButton:{id:"shareButton.button",defaultMessage:"Share"},mail:{id:"shareButton.mail",defaultMessage:"Mail"},facebook:{id:"shareButton.facebook",defaultMessage:"Facebook"},twitter:{id:"shareButton.twitter",defaultMessage:"Twitter"},tumblr:{id:"shareButton.tumblr",defaultMessage:"Tumblr"},mailLI:{id:"shareButton.mailLI",defaultMessage:"Share in Email"},facebookLI:{id:"shareButton.facebookLI",defaultMessage:"Share to Facebook"},twitterLI:{id:"shareButton.twitterLI",defaultMessage:"Share to Twitter"},tumblrLI:{id:"shareButton.tumblrLI",defaultMessage:"Share to Tumblr"}}),L=function({url:e,shareCard:t,onShareCardLinkClick:a},{intl:{formatMessage:n}}){const s=encodeURIComponent(e);return i.a.createElement("div",{className:F.anchorContainer,style:{zIndex:3}},i.a.createElement(I.c,{triggerOn:I.b.HOVER,triggerOff:I.a.HOVER_OUT|I.a.CLICK,align:M.a.START,isArrowVisible:!1},i.a.createElement("div",{"data-test-id":"shareButtonAnchor",tabIndex:"-1",className:F.menuButton},i.a.createElement(O.default,{kind:P.Kinds.SHARE_SOCIAL,size:P.Sizes.XXS,paddingLess:!0,title:n(x.shareButton)})),i.a.createElement("div",{className:F.shareMenuContainer},i.a.createElement(A.a,{kind:k.a.MENU},i.a.createElement(N.a,{ariaLabel:n(x.mailLI)},i.a.createElement("a",{href:"#",className:F.shareLink,onClick:n=>{a(n,e),t(n)},"data-test-id":"share-to-mail"},i.a.createElement(D.b,{kind:P.Kinds.INBOX,size:P.Sizes.XXS,colorState:P.ColorStates.YBADGE,style:{padding:"2px"}}),i.a.createElement("span",{className:F.shareLinkText},n(x.mail)))),i.a.createElement(N.a,{ariaLabel:n(x.facebookLI)},i.a.createElement("a",{href:"https://www.facebook.com/dialog/share?app_id=90376669494&display=popup&href="+s,target:"_blank",className:F.shareLink,onClick:t=>{a(t,e)},"data-test-id":"share-to-facebook",rel:"noopener"},i.a.createElement(D.b,{kind:P.Kinds.FACEBOOK,size:P.Sizes.XS,colorState:P.ColorStates.FACEBOOK_ENABLED}),i.a.createElement("span",{className:F.shareLinkText},n(x.facebook)))),i.a.createElement(N.a,{ariaLabel:n(x.twitterLI)},i.a.createElement("a",{href:"https://twitter.com/intent/tweet?url="+s,target:"_blank",className:F.shareLink,onClick:t=>{a(t,e)},"data-test-id":"share-to-twitter",rel:"noopener"},i.a.createElement(D.b,{kind:P.Kinds.TWITTER,size:P.Sizes.XS,colorState:P.ColorStates.TWITTER_ENABLED}),i.a.createElement("span",{className:F.shareLinkText},n(x.twitter)))),i.a.createElement(N.a,{ariaLabel:n(x.tumblrLI)},i.a.createElement("a",{href:"https://www.tumblr.com/widgets/share/tool/preview?_format=html&canonicalUrl="+s,target:"_blank",className:F.shareLink,onClick:t=>{a(t,e)},"data-test-id":"share-to-tumblr",rel:"noopener"},i.a.createElement(D.b,{kind:P.Kinds.TUMBLR,size:P.Sizes.XS}),i.a.createElement("span",{className:F.shareLinkText},n(x.tumblr))))))))};L.contextTypes={intl:l.intlShape.isRequired};var B=L,j=a(242),U=a(136),H=a(1394),W=a(1770),G=a.n(W);const Z=S()(G.a),V=Object(l.defineMessages)({play:{id:"mediaCard.playButtonAltText",defaultMessage:"Play"},close:{id:"mediaCard.closeButtonTitle",defaultMessage:"Close"}});function q(e,t,a,n,s,r){const l=Y(e),c=e.getAttribute("data-size").toUpperCase(),d=e.getBoundingClientRect(),m=S()(G.a,{cardSize:c});let _,u,p=72,h=null;if(c!==H.b.MINI&&c!==H.b.APPEND){c===H.b.COVER&&(p=90);const s=p;if(H.b[c]){const e=H.a[c],t=e.maxWidth;_=((e.thumbnailWidth||t)-p-20)/2,u=(e.thumbnailHeight-s-20)/2}(!H.b[c]||d.height<H.a[c].thumbnailHeight)&&(_=(d.width-p-20)/2,u=(d.height-s-20)/2),h=i.a.createElement("div",{onClick:X.bind(null,e,t,a,n,r),style:{top:u+"px",left:_+"px",height:s+"px"},className:m.playButtonContainer,tabIndex:"0",title:r(V.play),"aria-label":r(V.play),role:"button"},i.a.createElement(j.a,{kind:U.a.PLAY_VIDEO,width:p,height:s,altText:r(V.play)}))}o.a.unstable_renderSubtreeIntoContainer(a,i.a.createElement("div",null,h,i.a.createElement("div",{className:m.shareButtonContainer},i.a.createElement(B,{url:e.getAttribute("data-url"),shareCard:K.bind(null,e,t,n),onShareCardLinkClick:s}))),l)}function z(e,t,a,n,s){const r=e.querySelectorAll('div[class*="yahoo-link-enhancr-card"]');Array.prototype.forEach.call(r,r=>{if(!r.getElementsByClassName("card-controls-injection-wrapper").length){const l=r.getAttribute("data-embed-url"),c=r.getAttribute("data-url"),d=r.getAttribute("data-size");if(!c||!d)return;const m=document.createElement("div"),_=d.toUpperCase(),u=S()(G.a,{cardSize:_});r.style.position="relative",m.classList.add("card-controls-injection-wrapper"),Object.assign(m.style,{position:"absolute",top:"0px",width:"100%",height:"0",zIndex:"3"}),r.appendChild(m),l&&function(e){return!!h[E(e)]}(l)?q(r,e,t,a,n,s):o.a.unstable_renderSubtreeIntoContainer(t,i.a.createElement("div",{className:u.shareButtonContainer},i.a.createElement(B,{url:c,shareCard:K.bind(null,r,e,a),onShareCardLinkClick:n})),m)}})}function Y(e){return e.getElementsByClassName("card-controls-injection-wrapper")[0]}function K(e,t,a,n){n.preventDefault();const s=e.getAttribute("id"),i=e.getAttribute("data-url"),r=e.querySelector('[class*="card-title"]'),o=r?r.textContent:i,l=e.cloneNode(!0),c=Y(l);let d=t.querySelector(`a[class~="${s}"]`);d||(d=document.createElement("a"),d.setAttribute("href",i),s&&d.classList.add(s),d.textContent=o),c&&l.removeChild(c),l.style.removeProperty("position");a(o,`<div>${d.outerHTML}<br/></div><div><br/></div>${l.outerHTML}<div><br/></div><div><br/></div>`)}function X(e,t,a,n,s){const r=e.getAttribute("data-embed-url"),l=Y(e),c=e.getBoundingClientRect(),d=i.a.createElement("div",{className:Z.closeButtonContainer},i.a.createElement("div",{className:Z.closeButtonPositioner},i.a.createElement(O.default,{onClick:q.bind(null,e,t,a,n,null,s),kind:P.Kinds.CLOSE_MINI,title:s(V.close),ariaLabel:s(V.close),role:"button","data-test-id":"embedded-media-player-close-button"}))),m=i.a.createElement(v,{mediaUrl:r,width:c.width,height:c.height,animate:!0});o.a.unstable_renderSubtreeIntoContainer(a,i.a.createElement("div",null,d,m),l)}t.default=class extends i.a.Component{componentDidMount(){this.props.onLoad(n)}render(){return null}}},function(e,t,a){"use strict";a.r(t),a.d(t,"CONTEXTS",(function(){return Ne})),a.d(t,"strings",(function(){return ke})),a.d(t,"CardGroup",(function(){return Oe})),a.d(t,"mapStateToProps",(function(){return De})),a.d(t,"mapDispatchToProps",(function(){return Pe}));var n=a(33),s=a.n(n),i=a(3),r=a.n(i),o=(a(7),a(1)),l=a.n(o),c=a(12),d=a.n(c),m=a(28),_=a.n(m),u=a(6),p=a(13),h=a(209),g=a(140),E=a(18),b=a(25),f=a(4),C=a(17),S=a(24),y=a(188),T=a(94),v=a(62),I=a(36),M=a(0),A=a(45),N=a(5),k=a(16),O=a(83),D=a(11),P=a(9),R=(a(51),a(10)),w=a(550),F=a(257),x=a(206),L=a(501),B=a(259),j=a.n(B),U=a(73),H=a(105),W=a(21),G=a(300),Z=a(455),V=a(1757),q=a.n(V),z=a(278);const Y="https://s.yimg.com/nq/nr/img/deal_image_placeholder_SWiXZcx1WvrWnGuvXuk7reZqlqHBreEfkM7GXRhQJe4_v1.png",K=Object(u.defineMessages)({month_0:{id:"coupon_card.january",defaultMessage:"JAN"},month_1:{id:"coupon_card.february",defaultMessage:"FEB"},month_2:{id:"coupon_card.march",defaultMessage:"MAR"},month_3:{id:"coupon_card.april",defaultMessage:"APR"},month_4:{id:"coupon_card.may",defaultMessage:"MAY"},month_5:{id:"coupon_card.june",defaultMessage:"JUN"},month_6:{id:"coupon_card.july",defaultMessage:"JUL"},month_7:{id:"coupon_card.august",defaultMessage:"AUG"},month_8:{id:"coupon_card.september",defaultMessage:"SEP"},month_9:{id:"coupon_card.october",defaultMessage:"OCT"},month_10:{id:"coupon_card.november",defaultMessage:"NOV"},month_11:{id:"coupon_card.december",defaultMessage:"DEC"},save:{id:"deal_card.save",defaultMessage:"Save deal"},sponsoredByViglink:{id:"viglink.sponsored_by_viglink",defaultMessage:"Sponsored link by Viglink"},unsave:{id:"coupon_card.unsave",defaultMessage:"Saved!"},unusualDiscount:{id:"coupon_card.unusualDiscount",defaultMessage:"UNUSUAL DISCOUNT"}});class X extends l.a.Component{constructor(...e){super(...e),r()(this,"getDateInfo",()=>{if("string"==typeof this.props.expirationTime)return{};const e=this.props.expirationTime,t=e.dateDiff,a=e.isInferred;return{day:e.date,month:(0,this.context.intl.formatMessage)(K["month_"+e.month]),dateDiff:t,isInferred:a}}),r()(this,"handleAffiliateLinkClick",(e,t,a)=>{e.stopPropagation();const n=this.props,i=n.cmid,r=n.contactLink,o=n.dealLink,l=n.fromEmail,c=n.inboxCommerceFeatureClicked,d=n.parentMessageId,m=n.position,_=n.relevanceScore,u=n.src,p=n.unusualDiscountViglinkClicked,h=n.xpname;if(n.unusualDiscount){const e=l.split("@"),t=s()(e,2);p({i13nModel:{mKey:N.g.UNUSUAL_DISCOUNT_COUPON_CARD_VIGLINK_CLICKED,sec:N.i.MSG_BODY,actionData:{url:o||r,sndr:t[1],mid:d,cardMid:i,reason:{featurefamily:M.Cb.IC,featurename:M.Eb.UNUSUAL_DISCOUNT_EXISTS}}}})}const g={mKey:N.g.CARD_INTERACT,sec:N.i.MSG_BODY,actionData:{xpname:h,msgId:d,brandurl:o||r,cardId:i,slot:N.j.TOM,sndr:l,affiliatePartner:t,featurefamily:M.Cb.IC,interactiontype:N.e.click,interacteditem:a,position:m,score:_,src:u}};c({clicked:!0}),A.b.sendI13nModel({i13nModel:g})}),r()(this,"unsaveHandler",e=>{e.stopPropagation(),e.preventDefault();const t=this.props,a=t.cmid,n=t.parentMessageId;(0,t.unSaveDeal)({mailboxId:t.mailboxId,cardMid:a,parentMessageId:n,i13nModel:{mKey:N.g.CARD_INTERACT,sec:N.i.MSG_BODY,actionData:{xpname:t.xpname,msgId:n,cardId:a,slot:N.j.TOM,position:t.position,sndr:t.fromEmail,featurefamily:M.Cb.IC,interactiontype:"unclip",interacteditem:"star"}},recommendations:!0})}),r()(this,"saveHandler",e=>{e.stopPropagation(),e.preventDefault();const t=this.props,a=t.cmid,n=t.parentMessageId;(0,t.saveDeal)({mailboxId:t.mailboxId,cardMid:a,parentMessageId:n,i13nModel:t.unusualDiscount?{mKey:N.g.UNUSUAL_DISCOUNT_COUPON_CLIPPED,sec:N.i.MSG_BODY,actionData:{reason:{featurefamily:M.Cb.IC,featurename:M.Eb.UNUSUAL_DISCOUNT_EXISTS}}}:{mKey:N.g.CARD_INTERACT,sec:N.i.MSG_BODY,actionData:{xpname:t.xpname,msgId:n,cardId:a,slot:N.j.TOM,position:t.position,sndr:t.fromEmail,featurefamily:M.Cb.IC,interactiontype:"clip",interacteditem:"star"}},recommendations:!0})}),r()(this,"getDealImageSrc",()=>{const e=this.props,t=e.fromEmail,a=e.imageUrl,n=e.imageWidth,s=e.retailerLogoUrl;return parseInt(e.imageHeight,10)<175&&parseInt(n,10)<200?Object(G.a)({email:t},96,Y):a||s||Object(G.a)({email:t},96,Y)}),r()(this,"renderDealImage",(e,t,a)=>{const n=this.props,s=n.dealLink||n.contactLink,i=n.imageUrl?"Image":"Brand";return n.isAffiliatePartnerEnabled&&s?l.a.createElement("a",{target:"_blank",href:a||s,rel:"noreferrer",onClick:e=>this.handleAffiliateLinkClick(e,t,i),"data-test-id":"deal-image",className:e.imageContainer,id:"deal-image",title:n.description},l.a.createElement("img",{"aria-hidden":!0,className:e.image,"data-test-id":"deal-image-load",onLoad:this._onImageLoaded,src:this.getDealImageSrc()})):l.a.createElement("div",{"data-test-id":"deal-image",className:e.imageContainer},l.a.createElement("img",{"aria-hidden":!0,className:e.image,src:this.getDealImageSrc(),onLoad:this._onImageLoaded}))}),r()(this,"_onImageLoaded",e=>{const t=e.target||{},a=t.naturalHeight,n=void 0===a?-1:a,s=t.naturalWidth,i=void 0===s?-1:s,r=t.src;(void 0===r?"":r)!==Object(G.a)({email:this.props.fromEmail},96,Y)&&(n<175||i<200)&&(e.target.src=Object(G.a)({email:this.props.fromEmail},96,Y))}),r()(this,"handleCardBodyClick",(e,t,a)=>{const n=this.props,s=n.isAffiliatePartnerEnabled,i=n.dealLink||n.contactLink;s&&this.handleAffiliateLinkClick(e,t,"Body"),window.open(s?a:i,"_blank","noreferrer")}),r()(this,"isNearingExpiry",e=>e<2),r()(this,"displayBrandName",e=>{const t=this.props,a=t.xobniName||t.brandName;return a?l.a.createElement("span",{className:e.brandNameText},a):null}),r()(this,"displayDealCategory",e=>{const t=this.props.dealCategories,a=void 0===t?[]:t,n=a.length?a[0]:null;return n&&n.name?l.a.createElement(o.Fragment,null,l.a.createElement(C.b,{kind:f.Kinds.CIRCLE,size:f.Sizes.XXXS,colorState:f.ColorStates.IMPROVED_GRAY_DARK}),l.a.createElement("span",{className:e.dealCategory},n.name)):null})}render(){const e=this.props,t=e.affiliateFeatures,a=e.amountUnit,n=e.cmid,s=e.contactLink,i=e.contextOfUse,r=e.dealLink,o=e.description,c=e.domainMap,m=e.fromEmail,_=e.isAffiliatePartnerEnabled,u=e.isSavedDeal,p=e.isUnusualDiscount,h=e.locale,g=e.partner,E=e.price,b=e.unusualDiscount,C="productRecommendations"===i,S="nobleDeals"===i,y=C||"recommendedDeal"===i?{}:this.getDateInfo(),T=y.dateDiff,v=y.isInferred,I=r||s,M=_?Object(O.b)({affiliateLink:I,domainMap:c,email:m,locale:h,partner:g,features:t}):{affiliatePartnerName:"",affiliatePartnerUrl:""},A=M.affiliatePartnerName,N=M.affiliatePartnerUrl,k=p&&b,D=d()(q.a,{isNearingExpiry:this.isNearingExpiry(T),contextOfUse:i});return l.a.createElement("div",{onClick:e=>this.handleCardBodyClick(e,A,N),title:o,"data-test-id":"deal-container",className:D.container},this.renderDealImage(D,A,N),l.a.createElement("div",{id:"deal-content","data-test-id":"deal-content",className:D.cardContent},l.a.createElement("div",{className:D.cardInfo},l.a.createElement("div",{className:D.cardDetails},k&&l.a.createElement(Z.a,{unusualDiscount:b}),!k&&this.displayBrandName(D),!k&&this.displayDealCategory(D)),_&&I?l.a.createElement("a",{target:"_blank",href:N||I,title:o,rel:"noreferrer",className:D.cardDescription,onClick:e=>this.handleAffiliateLinkClick(e,A,"Text"),"data-test-id":"viglink-anchor"},o):l.a.createElement("div",{className:D.cardDescription},o),!v&&T?l.a.createElement("div",{className:D.expiryTime},l.a.createElement(z.a,{daysUntilExpiry:T,isInferred:v})):null,C&&a&&E?l.a.createElement("div",{className:D.price},j()(a),E):null),!S&&!C&&n&&l.a.createElement("div",{"data-test-id":"deal-button",className:D.buttonContainer},l.a.createElement(W.default,{title:u?"Unsave deal":"Save deal",kind:f.Kinds.STAR,size:f.Sizes.M,colorState:u?f.ColorStates.STARRED:f.ColorStates.FAINT,className:D.starButton,"data-test-id":u?"unsave-deal-btn":"save-deal-btn",onClick:u?this.unsaveHandler:this.saveHandler}))))}}r()(X,"contextTypes",{intl:u.intlShape.isRequired}),r()(X,"defaultProps",{fromEmail:"",brandName:"",relevanceScore:0,src:"msg",contextOfUse:"deals"});const Q=Object(p.connect)((e,{contextOfUse:t="deals",isSavedDeal:a=!1})=>{const n=Object(R.selectors)(e),s=n.getSetting,i=n.isFeatureEnabled,r=n.getSelectedMailboxId,o=(0,n.getEnvironmentSelectors)(),l=o.getLoggerParams,c=o.getPartner,d="productRecommendations"===t,m=s(M.Kd.ENABLED_AFFILIATE_PARTNERS),_=r();return{affiliateFeatures:m,isAffiliatePartnerEnabled:i(M.Eb.AFFILIATE_PARTNER),isSavedDeal:!d&&a,isUnusualDiscount:i(M.Eb.UNUSUAL_DISCOUNT),locale:l().locale,mailboxId:_,partner:c(),theme:s(M.Kd.THEME)}},e=>({saveDeal:({mailboxId:t,cardMid:a,i13nModel:n={},recommendations:s=!1,parentMessageId:i})=>e(Object(H.b)({mailboxId:t,cardMid:a,i13nModel:n,recommendations:s,parentMessageId:i})),unSaveDeal:({mailboxId:t,cardMid:a,i13nModel:n={},recommendations:s=!1,parentMessageId:i})=>e(Object(H.p)({mailboxId:t,cardMid:a,i13nModel:n,recommendations:s,parentMessageId:i})),unusualDiscountViglinkClicked:t=>e(Object(U.A)(t)),inboxCommerceFeatureClicked:t=>e(Object(h.b)(t))}))(X);var J=Object(x.a)(Q),$=a(49),ee=a(1758),te=a.n(ee);const ae=Object($.a)("/img/deal_image_placeholder.png");class ne extends l.a.Component{constructor(...e){super(...e),r()(this,"handleCardBodyClick",()=>{const e=this.props;A.b.sendI13nModel({i13nModel:{mKey:N.g.CARD_INTERACT,sec:N.i.MSG_BODY,actionData:{xpname:M.u.RECOMMENDED_PRODUCTS,reference:e.reference,msgId:e.parentMessageId,brandurl:e.url,slot:N.j.TOM,sndr:e.fromEmail,affiliatePartner:e.affiliatePartnerName,featurefamily:M.Cb.IC,interactiontype:"click",interacteditem:"card",position:e.position}}})})}render(){const e=this.props,t=e.imageUrl,a=e.price,n=e.url,s=d()(te.a);return l.a.createElement("a",{className:s.container,href:n,target:"_blank","data-test-id":"products-card-link",onClick:()=>this.handleCardBodyClick()},l.a.createElement("div",{className:s.imageContainer},l.a.createElement("img",{className:s.image,src:t})),l.a.createElement("div",{className:s.card},l.a.createElement("div",{className:s.price},a)))}}r()(ne,"defaultProps",{imageUrl:ae});var se=a(1759),ie=a.n(se);const re=Object($.a)("/img/product_image_placeholder.png");class oe extends l.a.Component{constructor(...e){super(...e),r()(this,"renderProductItem",e=>l.a.createElement("div",{className:e.container},l.a.createElement("div",{className:e.imageContainer},l.a.createElement("img",{className:e.image,src:re})),l.a.createElement("div",{className:e.card},l.a.createElement("span",{className:e.price}),l.a.createElement("span",{className:e.cashback}))))}render(){const e=this.context.intl.formatMessage,t=d()(ie.a);return l.a.createElement("div",{className:t.productCardsContainer},l.a.createElement("div",{className:t.title},e(ke.affiliate_products)),l.a.createElement("div",{className:t.productCards},this.renderProductItem(t),this.renderProductItem(t),this.renderProductItem(t),this.renderProductItem(t)))}}r()(oe,"contextTypes",{intl:u.intlShape.isRequired});var le=a(1760),ce=a.n(le),de=a(255),me=a(1761),_e=a.n(me);var ue=({image:e,header:t,description:a,footer:n})=>{const s=d()(_e.a);return l.a.createElement("div",{className:s.cardContainer},l.a.createElement("img",{className:s.image,src:e}),l.a.createElement("span",{className:s.content},l.a.createElement("span",{className:s.mainContent},t,a),n))},pe=a(30),he=a.n(pe),ge=a(356);var Ee=class extends l.a.PureComponent{constructor(...e){super(...e),r()(this,"state",{adItems:[],expandedView:!1}),r()(this,"dpaAdClicked",()=>A.b.sendI13nModel({i13nModel:{mKey:this.props.crossDomainDPAAds?N.g.CROSS_DOMAIN_DPA_AD_CLICKED:N.g.SHOPPING_CART_AD_CLICKED,sec:N.i.DPA_ADS}})),r()(this,"handleExpandClick",()=>{const e=this.state,t=e.expandedView,a={toggleType:t?"COLLAPSING":"EXPANDING"};!t&&e.instrumentAdsCountOnExpand&&(a.adCount=this.props.adItems.length-this.getNumberOfAdsInNonExpandedView()),A.b.sendI13nModel({i13nModel:{mKey:N.g.SHOPPING_CART_EXPAND_TOGGLED,sec:N.i.SHOPPING_CART,interactionType:N.e.click,actionData:a}}),this.setState({expandedView:!this.state.expandedView,instrumentAdsCountOnExpand:!1})})}static getDerivedStateFromProps(e,t){return he()(t.adItems,e.adItems)?null:{adItems:e.adItems,instrumentAdsCountOnExpand:!0}}componentDidMount(){this._instrumentDPAAdsRender()}componentDidUpdate(e){he()(this.props.adItems,e.adItems)||this._instrumentDPAAdsRender()}getNumberOfAdsInNonExpandedView(){return this.props.isCompactView?1:2}_instrumentDPAAdsRender(){const e=this.props,t=e.adItems,a=e.rootDomain,n=e.crossDomainDPAAds,s=this.getNumberOfAdsInNonExpandedView();if(t.length){return A.b.sendI13nModel({i13nModel:{mKey:n?N.g.CROSS_DOMAIN_DPA_AD_RENDERED:N.g.SHOPPING_CART_AD_RENDERED,sec:N.i.DPA_ADS,actionData:{domain:a,adCount:t.length<=s||this.state.expandedView?t.length:s}}})}}getAdMessage(e){switch(e){case"RECOMMENDATION":return l.a.createElement(u.FormattedMessage,{id:"shopping_cart_ad.recommendation",defaultMessage:"Recommended item"});case"ADD_TO_CART":return l.a.createElement(u.FormattedMessage,{id:"shopping_cart_ad.add_to_cart",defaultMessage:"Item from your shopping cart"});case"VIEW":return l.a.createElement(u.FormattedMessage,{id:"shopping_cart_ad.view",defaultMessage:"Pick up where you left off"});default:return null}}render(){const e=this.props,t=e.sender,a=e.aboutAdsUrl,n=e.sectionId,s=e.isCompactView,i=e.crossDomainDPAAds,r=e.fromEmail,o=this.state,c=o.adItems,m=o.expandedView,_=d()(ce.a,{isCompactView:s}),p=s?c.length>1:c.length>2;let h=c.map(e=>e.pencilAd);return m||(h=h.slice(0,this.getNumberOfAdsInNonExpandedView())),l.a.createElement("div",{className:_.cardGroupContainer},l.a.createElement("div",{className:_.header},l.a.createElement("a",{href:a,rel:"noreferrer",target:"_blank",className:_.sponsoredText,"data-test-id":"shopping-cart-link"},i?l.a.createElement(u.FormattedMessage,{id:"card_group.shopping_cart_header_v2",defaultMessage:"Sponsored products you may like"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:_.senderLogo},l.a.createElement(v.c,{contact:{email:r},size:v.b.C,useFallbackImage:!1})),l.a.createElement(u.FormattedMessage,{id:"card_group.shopping_cart_header_v3",defaultMessage:"Sponsored products by {sender}",values:{sender:t}}))),l.a.createElement(ge.a,{kind:f.Kinds.MORE,size:f.Sizes.S,sectionId:n,advertiseWithUsEnabled:!0,offset:8,marginLess:!0})),l.a.createElement("div",{className:_.adCardsContainer},l.a.createElement("div",{className:_.adCards},h.map(e=>l.a.createElement(de.a,{key:e.clickUrl,rootNode:null,pencilAdData:e,sectionId:n,className:_.adContainer},l.a.createElement("a",{onClick:this.dpaAdClicked,className:_.anchor,href:e.clickUrl,rel:"noreferrer",target:"_blank"},l.a.createElement(ue,{image:e.origImg,header:l.a.createElement("span",{className:_.message},i&&e.adSource?e.adSource:this.getAdMessage(e.productAdActivity)||e.productAdActivityMessage),description:l.a.createElement("span",{className:_.product},e.adHeadline),footer:l.a.createElement("span",{className:_.price},l.a.createElement("span",{className:_.currentPrice},e.salePrice||e.fullPrice),e.salePrice?l.a.createElement("span",{className:_.originalPrice},e.fullPrice):null)}))))),p?l.a.createElement("div",{className:_.expandContainer},l.a.createElement("span",{className:_.expandSpacing}),l.a.createElement("span",{className:_.expandButton,onClick:this.handleExpandClick,"data-test-id":"expand-button"},l.a.createElement(u.FormattedMessage,m?{id:"card_group.view_less",defaultMessage:"View less"}:{id:"card_group.view_all",defaultMessage:"View all {numCoupons}",values:{numCoupons:c.length}}),l.a.createElement(C.b,{kind:f.Kinds.CHEVRON_UP,size:f.Sizes.XXS,colorState:f.ColorStates.SELECTED,rotate:m?f.Rotate.D0:f.Rotate.D180}))):null))}},be=a(1762),fe=a.n(be),Ce=a(1491);const Se="click",ye="view_less",Te="view_more",ve={COUPON_HEAD_LOGO:"coupon_head_logo",EXPANSION_RETAILER_LINK:"expansion_retailer_link",VIEW_ALL_BTN:"view_all_btn",VIEW_LESS_BTN:"view_less_btn"},Ie="manual_expansion",Me="out_and_back",Ae=["hallmark.com","synchronyfinancial.com","google.com","instagram.com","facebookmail.com","mail.facebook.com","twitter.com","github.com","jira.com"],Ne={EXTRACTED_DEALS:"extractedDeals",GROCERIES_TOP_OF_MSG:"groceriesTopOfMsg",LASTPASS_UPSELL:"lastpassUpsell",PACKAGE_TRACKING:"packageTracking",PRODUCT_RECOMMENDATIONS:"productRecommendations",SENDER_BACKFILLED_DEALS:"senderBackfilledDeals",SENDER_FALLBACK_DEALS:"senderFallbackDeals",YMOBILE_UPSELL:"ymobileUpsell",FALCON_TOM_SUBSCRIPTION_UPSELL:"falconTOMSubscriptionUpsell",NO_UPSELL:"noUpsell",DEALS_WITH_PRODUCTS:"dealsWithProducts"},ke=Object(u.defineMessages)({dealsFromSender:{id:"card_group.deals_from_sender",defaultMessage:"Deals from {sender}"},groceriesBarTitle:{id:"card_group.groceries_bar_title",defaultMessage:"Recommended for you"},recommendationsTitle:{id:"card_group.recommendations_title",defaultMessage:"Recommendations from {sender}"},packageTrackingCardTitle:{id:"card_group.package_tracking_card_title",defaultMessage:"Packages in this message"},viewMore:{id:"card_group.view_more",defaultMessage:"View {numCoupons} more {numCoupons, plural, one {deal} other {deals}}"},less:{id:"card_group.less",defaultMessage:"Less"},more:{id:"card_group.more",defaultMessage:"More"},recommended_categories:{id:"card_group.recommended_categories",defaultMessage:"Recommended categories"},for_you:{id:"card_group.for_you",defaultMessage:"For you"},affiliate_products:{id:"card_group.affiliate_products",defaultMessage:"Recommended products"},see_more:{id:"card_group.see_more",defaultMessage:"More related to this email"},fall_back_deals_see_more:{id:"card_group.fall_back_deals_see_more",defaultMessage:"More related to {xobniName}"},see_less:{id:"card_group.see_less",defaultMessage:"See Less"},productsFromSender:{id:"card_group.products_from_sender",defaultMessage:"Products from {sender}"}});class Oe extends l.a.Component{constructor(e){super(e),r()(this,"state",{dimensions:{},fallBackDealsFromSender:null,isExpanded:!1,showOutAndBackExpansionText:!1,showOverflowCategories:!1}),r()(this,"_isCardGroupExpandable",()=>this.availableDeals.length>this._getInitialViewCount()),r()(this,"_getExtractionSource",()=>{const e=this.props,t=e.isOrdMail,a=e.groceryWithProducts,n=e.groceryOfferCardsToDisplay,s=this.state.fallBackDealsFromSender;let i;switch(e.cardGroupContext){case Ne.EXTRACTED_DEALS:case Ne.SENDER_BACKFILLED_DEALS:case Ne.DEALS_WITH_PRODUCTS:i=M.u.MESSAGE_EXTRACTION;break;case Ne.PRODUCT_RECOMMENDATIONS:i=M.u.PRODUCT_EXTRACTION;break;case Ne.SENDER_FALLBACK_DEALS:null!==s&&(i=t?M.u.SENDER_EXTRACTION_RECEIPTS:M.u.SENDER_EXTRACTION);break;case Ne.GROCERIES_TOP_OF_MSG:{var r;const e="PurchaseMatch"===(null==n||null===(r=n[0])||void 0===r?void 0:r.recommendationReason)?M.Ob.WALMART_RECOMMENDATIONS:M.Ob.WALMART_STATIC_UPSELL;i=a?e:M.Ob.GROCERY_DEALS_RECOMMENDATION;break}case Ne.PACKAGE_TRACKING:i=M.Zc.PACKAGE_TRACKING}return i}),r()(this,"_i13nModel",({mKey:e,interactiontype:t="",interactedItem:a="",affiliatePartnerName:n,xpname:s,reference:i})=>{const r=this.props,o=r.fromEmail,l=r.parentMessageId,c=r.groceryOfferCardsToDisplay,d=this._getInitialViewCount();let m=[];this.availableDeals&&(m=t===Te&&a===ve.VIEW_ALL_BTN?this.availableDeals.slice(d):this.availableDeals.slice(0,d));let _=m.map(e=>e.relevanceScore||0);const u=m.map(e=>e.src||"msg");let p=m.map(e=>e.cmid||"");const h=m.filter(e=>e.imageUrl).length/m.length,g=s||this._getExtractionSource();if(g){g!==M.Ob.GROCERY_DEALS_RECOMMENDATION&&g!==M.Ob.WALMART_RECOMMENDATIONS||(p=c.map(e=>e.offerId),_=c.map(e=>e.score));const s={xpname:g,featurefamily:M.Cb.IC,slot:N.j.TOM,sndr:o,msgId:l,affiliatePartner:n,reference:i};if(g===M.Ob.GROCERY_DEALS_RECOMMENDATION||M.Ob.WALMART_RECOMMENDATIONS){const e=[];c.forEach((t,a)=>{t&&e.push(a)}),s.position=e}if(g===M.u.MESSAGE_EXTRACTION||g===M.u.PRODUCT_EXTRACTION||g===M.u.SENDER_EXTRACTION_RECEIPTS||g===M.u.SENDER_EXTRACTION){if(!p.length)return;s.cardId=p,s.imagePercentage=h}g!==M.u.CONTACT_CARD&&(g!==M.Ob.WALMART_STATIC_UPSELL&&(s.score=_),g!==M.Ob.WALMART_RECOMMENDATIONS&&(s.position="na")),g===M.u.MESSAGE_EXTRACTION&&(s.src=u),e===N.g.CARD_INTERACT&&(s.interactiontype=t,s.interacteditem=a),A.b.sendI13nModel({i13nModel:{mKey:e,sec:N.i.MSG_BODY,actionData:s}})}}),r()(this,"_getInitialViewCount",()=>{const e=this.props,t=e.numberOfCardRows,a=e.numberOfCardsInOneRow,n=this.availableDeals.filter(e=>e.clipped);return n.length>=a*t?n.length+(n.length%a==0?0:1):a*t}),r()(this,"_isDealContextSelected",()=>[Ne.DEALS_WITH_PRODUCTS,Ne.EXTRACTED_DEALS,Ne.PRODUCT_RECOMMENDATIONS,Ne.SENDER_BACKFILLED_DEALS,Ne.SENDER_FALLBACK_DEALS].includes(this.props.cardGroupContext)),r()(this,"_toggleExpandState",e=>{const t=this.props,a=t.affiliateOffers,n=t.affiliateOffersRequested,s=t.affiliateRetailerId,i=t.categoriesList,r=t.inboxCommerceFeatureClicked,o=t.shouldAutoExpand,l=t.showMerchantCard,c=this.state,d=c.isExpanded,m=c.showOutAndBackExpansionText,_=!d,u=_?Te:ye;d&&this.props.onViewLess(),this.setState({isExpanded:_}),l&&s&&!a&&!d&&n(s),o&&r({clicked:!1}),(this._isDealContextSelected()||l)&&(_&&l?(this._i13nModel({mKey:N.g.CARD_INTERACT,interactiontype:u,interactedItem:ve.VIEW_ALL_BTN,xpname:M.u.CONTACT_CARD,reference:e?Me:Ie}),s&&(null==i?void 0:i.length)&&this._i13nModel({mKey:N.g.CARD_VIEW,xpname:M.u.RECOMMENDED_CATEGORIES,reference:e?Me:Ie}),s&&(null==a?void 0:a.length)&&this._i13nModel({mKey:N.g.CARD_VIEW,xpname:M.u.RECOMMENDED_PRODUCTS,reference:e?Me:Ie})):_?(this._i13nModel({mKey:N.g.CARD_INTERACT,interactiontype:u,interactedItem:ve.VIEW_ALL_BTN}),this._i13nModel({mKey:N.g.CARD_VIEW})):this._i13nModel(l?{mKey:N.g.CARD_INTERACT,interactiontype:u,interactedItem:ve.VIEW_LESS_BTN,xpname:M.u.CONTACT_CARD,reference:m?Me:Ie}:{mKey:N.g.CARD_INTERACT,interactiontype:u,interactedItem:ve.VIEW_LESS_BTN}))}),r()(this,"_renderProductsCards",()=>{var e;const t=this.props,a=t.affiliateOffers,n=t.fromEmail,s=t.parentMessageId,i=this.state.showOutAndBackExpansionText,r=null===(e=this.productCardsContainer)||void 0===e?void 0:e.offsetWidth,o=Math.floor(r/M.Yc);return[...a].splice(0,o).map(({description:e,imgUrl:t,price:a,url:r},o)=>l.a.createElement(ne,{affiliatePartnerName:this.affiliatePartnerName,reference:i?Me:Ie,description:e,fromEmail:n,imageUrl:t,key:o,parentMessageId:s,position:o,price:a,url:r}))}),r()(this,"_renderGroceriesTopOfMsg",()=>{const e=this.props;return l.a.createElement(S.a,{import:"../groceries_top_of_msg",cardName:M.Eb.ENABLE_GROCERIES_TOP_OF_MSG,isFullWidth:e.isCompactView,retailerId:e.retailerId,fromEmail:e.fromEmail,parentMessageId:e.parentMessageId,primaryAccountId:e.primaryAccountId,itemsToDisplay:e.groceryOfferCardsToDisplay,groceryWithProducts:e.groceryWithProducts,isGroceriesTopOfMsg:e.isGroceriesTopOfMsg,staticGroceriesTom:e.staticGroceriesTom,_moduleLoader:function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,1837))},_moduleResolver:function(){return 1837}})}),r()(this,"_renderExpandContainer",()=>{const e=this.props,t=e.xobniName,a=e.cardGroupContext,n=this.state.isExpanded,s=d()(fe.a,{isDealsCardSelected:this._isDealContextSelected()});return l.a.createElement("div",{"data-test-id":"coupon_expand_container",className:s.expandContainer},l.a.createElement(E.a,{"data-test-id":"product_expand_button",kind:b.a.SECONDARY,onClick:()=>this._toggleExpandState(),style:{display:"flex",padding:`0 ${4*D.G}px`,height:7*D.G+"px"}},l.a.createElement("span",{className:s.expandButtonText},(0,this.context.intl.formatMessage)(n?ke.see_less:a===Ne.SENDER_FALLBACK_DEALS?ke.fall_back_deals_see_more:ke.see_more,{xobniName:t}))))}),r()(this,"renderPkgTrackingCard",()=>{const e=this.props;return l.a.createElement(S.a,{import:"../pkg_tracking_card",cardName:M.Eb.PKG_TRACKING_TOP_OF_MSG,usePreviewPaneStyles:e.isCompactView,packageTrackingCard:e.packageTrackingCard,parentMessageId:e.parentMessageId,fromEmail:e.fromEmail,_moduleLoader:function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,1845))},_moduleResolver:function(){return 1845}})}),r()(this,"_renderDPAAds",e=>{const t=this.props,a=t.aboutAdsUrl,n=t.adFeedbackStatus,s=t.crossDomainDPASectionId,i=t.DPAAdsItems,r=t.fromEmail,o=t.isCompactView,c=t.rootDomain,d=t.sender,m=t.shoppingCartSectionId,_=t.showCrossDomainDPAAds,u=M.p.ENDED,p=!!n[m]&&n[m],h=!!n[s]&&n[s];return p===u||h===u?null:p&&p!==u||h&&h!==u?l.a.createElement("div",{className:e.shoppingCartAdFeedbackContainer,"data-test-id":"dpa-ad-feedback"},l.a.createElement(F.a,{sectionId:_?s:m,adFeedbackOnLightBackground:!0})):l.a.createElement(Ee,{sender:d,aboutAdsUrl:a,adItems:i,sectionId:_?s:m,isCompactView:o,crossDomainDPAAds:_,fromEmail:r,rootDomain:c})}),r()(this,"_renderCategoryLinks",(e,t)=>{var a,n;const s=this.state,i=s.dimensions,r=s.showOverflowCategories,o=this.context.intl.formatMessage,c=r?f.Rotate.D0:f.Rotate.D180;let d=(null===(a=this.pillContainerRef)||void 0===a||null===(n=a.current)||void 0===n?void 0:n.offsetWidth)||0;this.categoriesToShow=this.categoriesToShow&&this.categoriesToShow.length>=2&&this.categoriesToShow.length===t.length?[...t].sort((e,t)=>this.categoriesToShow.findIndex(t=>t.id===e.id)-this.categoriesToShow.findIndex(e=>e.id===t.id)):[...t];const m=this.categoriesToShow.reduce((e,t)=>e+(i[t.name]&&i[t.name].width||0),0)>d;m&&(d-=78);const _=m?this.categoriesToShow.reduce((e,t)=>(d-=i[t.name]&&i[t.name].width||0,d>=0&&++e,e),0):this.categoriesToShow.length,u=this.categoriesToShow.slice(0,_||1),p=this.categoriesToShow.slice(_||1),h=t=>l.a.createElement("div",{className:e.categoryBlock,"data-pill-text":null==t?void 0:t.name,key:null==t?void 0:t.id,onClick:e=>this._handleCategorySearchLinkClick(e,t),title:null==t?void 0:t.name},null==t?void 0:t.name);return l.a.createElement("div",{className:e.categoriesBar,"data-test-id":"categoriesBar",ref:this.pillContainerRef},u.map(e=>h(e)),r?p.map(e=>h(e)):null,p.length?(()=>l.a.createElement("span",{className:e.toggleButton,onClick:()=>this.setState({showOverflowCategories:!r})},l.a.createElement("span",null,r?l.a.createElement("span",{"data-test-id":"less"},o(ke.less)):l.a.createElement("span",{"data-test-id":"more"},o(ke.more))),l.a.createElement(C.b,{kind:f.Kinds.CHEVRON_UP,size:f.Sizes.XXS,colorState:f.ColorStates.SELECTED,rotate:c})))():null)}),r()(this,"_handleAffiliateLinkClick",(e,t,a,n)=>{e.stopPropagation();const s=this.props,i=s.contactLink,r=s.inboxCommerceFeatureClicked,o=s.isAffiliatePartnerEnabled,l=s.showOutNBackForMerchantCard;o&&this._i13nModel({mKey:N.g.CARD_INTERACT,interactiontype:Se,interactedItem:n,affiliatePartnerName:t}),l&&r({clicked:!0}),window.open(o?a:i,"_blank","noreferrer")}),r()(this,"_handleCategorySearchLinkClick",(e,t)=>{const a=this.props,n=a.followedCategories,s=a.requestCategoryFollow,i=`https://shopping.yahoo.com/search?p=${encodeURIComponent(null==t?void 0:t.name)}&siteId=us-inbox&pageId=inbox-tom`;e.stopPropagation(),this._i13nModel({mKey:N.g.CARD_INTERACT,interactiontype:Se,interactedItem:ve.CATEGORY_SHOPPING_LINK,xpname:M.u.RECOMMENDED_CATEGORIES,reference:this.state.showOutAndBackExpansionText?Me:Ie}),n.includes(null==t?void 0:t.name)||s({category:t}),i&&Object(T.a)(i)}),r()(this,"_renderAffiliateSection",e=>{const t=this.state.isExpanded,a=this.context.intl.formatMessage,n=this.props,s=n.categoriesList,i=n.affiliateOffers,r=n.affiliateRetailerId,o=r&&!!s.length,c=r&&!i,d=r&&!!(null==i?void 0:i.length);return n.cardGroupContext===Ne.DEALS_WITH_PRODUCTS?d&&l.a.createElement("div",{className:e.productCardsContainer},l.a.createElement("div",{className:e.title},a(ke.productsFromSender,{sender:n.xobniName||n.sender})),l.a.createElement("div",{className:e.productCards},this._renderProductsCards())):l.a.createElement("div",{className:t?e.slider:e.hide},o&&l.a.createElement("div",{className:e.categoryLinksContainer},l.a.createElement("div",{className:e.title},a(ke.recommended_categories)),l.a.createElement("div",{className:e.subTitle},a(ke.for_you)),this._renderCategoryLinks(e,s)),c&&l.a.createElement(oe,null),d&&l.a.createElement("div",{className:e.productCardsContainer},l.a.createElement("div",{className:e.title},a(ke.affiliate_products)),l.a.createElement("div",{className:e.productCards},this._renderProductsCards())))}),r()(this,"_renderStoreFrontModule",e=>{const t=this.state,a=t.isExpanded,n=t.showOutAndBackExpansionText,s=this.context.intl.formatMessage,i=this.props,r=i.affiliateRetailerId,o=i.cardGroupContext,c=i.contactDefaultName,d=i.parentMessageId,m=i.sender,_=i.xobniName;return l.a.createElement("div",{className:e.cardGroupParent,id:"card_group_parent"},i.showMerchantCard&&l.a.createElement(L.a,{email:i.fromEmail,hasMoreButton:o!==Ne.GROCERIES_TOP_OF_MSG&&(this._isCardGroupExpandable()||o!==Ne.DEALS_WITH_PRODUCTS&&!!r),isMerchantCard:!0,isMerchantCardExpanded:a,messageIds:[d],name:c,showOutAndBackExpansionText:n,toggleMerchantCardExpandState:this._toggleExpandState}),!!this.dealsToBeShown.length&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.dealsTitle},s(o===Ne.PRODUCT_RECOMMENDATIONS?ke.recommendationsTitle:ke.dealsFromSender,{sender:_||m})),l.a.createElement("div",{"data-test-id":"card_container",className:e.cardContainer},this._getCardsToRender())),this._renderAffiliateSection(e))}),r()(this,"_setAffiliatePartnerInfo",()=>{const e=this.props,t=e.affiliateFeatures,a=e.contactLink,n=e.domainMap,s=e.fromEmail,i=e.locale,r=e.partner,o=e.isAffiliatePartnerEnabled?Object(O.b)({affiliateLink:a,domainMap:n,email:s,features:t,locale:i,partner:r}):{affiliatePartnerName:"",affiliatePartnerUrl:""},l=o.affiliatePartnerUrl;this.affiliatePartnerName=o.affiliatePartnerName,this.affiliatePartnerUrl=l}),r()(this,"_renderTitleBarImage",(e,t=!0)=>l.a.createElement("span",{className:e.dealsBarImage,"data-test-id":"title-bar-image",onClick:t?e=>this._handleAffiliateLinkClick(e,this.affiliatePartnerName,this.affiliatePartnerUrl,ve.COUPON_HEAD_LOGO):()=>{}},l.a.createElement(v.c,{contact:{email:this.props.fromEmail},size:v.b.C}))),r()(this,"_renderPartnerAttributionIcon",e=>l.a.createElement("span",{className:e.partnerAttributionIcon},l.a.createElement(y.a,null))),r()(this,"_setAvailableDeals",()=>{var e;const t=this.props,a=t.cardGroupContext,n=t.extractedDealCards,s=t.recommendationCards,i=t.recommendedDeals,r=t.rootDomain,o=t.sender;switch(this.availableDeals=[],a){case Ne.EXTRACTED_DEALS:case Ne.DEALS_WITH_PRODUCTS:this.previousDeals=(null===(e=this.previousDeals)||void 0===e?void 0:e.length)>1&&this.previousDeals.length===n.length?[...n].sort((e,t)=>this.previousDeals.findIndex(t=>t.cmid===e.cmid)-this.previousDeals.findIndex(e=>e.cmid===t.cmid)):[...n],this.availableDeals=[...this.previousDeals];break;case Ne.SENDER_FALLBACK_DEALS:case Ne.SENDER_BACKFILLED_DEALS:{const e=10;let t=a===Ne.SENDER_BACKFILLED_DEALS?[...n]:[],s=i.filter(e=>e.senderEmails.some(e=>Object(k.getRootDomainFromEmailAddress)(e)===r));s.length||(s=i.filter(e=>o.toLowerCase()===(e.retailer||"dummyRetailer").toLowerCase())),s.length&&(this.state.fallBackDealsFromSender||this.setState({fallBackDealsFromSender:!0}),t=s.reduce((e,t)=>(e.some(e=>(null==e?void 0:e.description)===(null==t?void 0:t.description))||e.push(t),e),t),t.splice(e)),this.availableDeals=[...t];break}case Ne.PRODUCT_RECOMMENDATIONS:this.availableDeals=[...s]}}),r()(this,"_setDealsToBeShown",()=>{const e=this.props,t=e.cardGroupContext,a=e.showMerchantCard,n=e.affiliateRetailerId,s=this.state.isExpanded,i=[...this.availableDeals];switch(t){case Ne.EXTRACTED_DEALS:case Ne.SENDER_FALLBACK_DEALS:case Ne.SENDER_BACKFILLED_DEALS:case Ne.PRODUCT_RECOMMENDATIONS:case Ne.DEALS_WITH_PRODUCTS:(this._isCardGroupExpandable()&&!s||a&&n&&t!==Ne.DEALS_WITH_PRODUCTS)&&i.splice(this._getInitialViewCount())}this.dealsToBeShown=i}),r()(this,"_getCardsToRender",()=>{switch(this.props.cardGroupContext){case Ne.EXTRACTED_DEALS:case Ne.SENDER_FALLBACK_DEALS:case Ne.SENDER_BACKFILLED_DEALS:case Ne.PRODUCT_RECOMMENDATIONS:case Ne.DEALS_WITH_PRODUCTS:return this._renderDeals();case Ne.PACKAGE_TRACKING:return this.renderPkgTrackingCard();case Ne.GROCERIES_TOP_OF_MSG:return this._renderGroceriesTopOfMsg()}return null}),r()(this,"_renderDeals",()=>{const e=this.props,t=e.cardGroupContext,a=e.contactLink,n=e.fromEmail,s=e.parentMessageId,i=e.sender,r=e.xobniName;return this.dealsToBeShown.map(({amountUnit:e,categories:o,clipped:c,cmid:d,dealLink:m,description:_,expirationTime:u,imageHeight:p,imageUrl:h,imageWidth:g,price:E,relevanceScore:b,src:f,retailerLogoUrl:C,saved:S,unusualDiscount:y,isRecommendedDeal:T=!1},v)=>{let I="deals";return T?I="recommendedDeal":t===Ne.PRODUCT_RECOMMENDATIONS&&(I="productRecommendations"),l.a.createElement(J,{amountUnit:e,brandName:i,cmid:d,contactLink:a,contextOfUse:I,dealCategories:o,dealLink:m,description:_,expirationTime:u,fromEmail:n,imageHeight:p,imageUrl:h,imageWidth:g,isSavedDeal:T?S:c,key:d,parentMessageId:s,position:v,price:E,relevanceScore:b,retailerLogoUrl:C,src:f,unusualDiscount:y,xobniName:r,xpname:this._getExtractionSource()})})}),r()(this,"_renderFalconTOMSubscriptionUpsell",e=>this.props.cardGroupContext===Ne.FALCON_TOM_SUBSCRIPTION_UPSELL?l.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},l.a.createElement("div",{className:e.cardContainer},l.a.createElement(S.a,{import:"./tom_upsells/falcon_tom_subscription_upsell_card",cardName:M.Eb.FALCON_TOM_SUBSCRIPTIONS_UPSELLS,falconTOMSubscriptionData:this.props.falconTOMSubscriptionData,_moduleLoader:function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,1846))},_moduleResolver:function(){return 1846}}))):null),r()(this,"_renderCommerceCards",e=>{var t;const n=this.props,s=n.cardGroupContext,i=n.groceryOfferCardsToDisplay,r=n.groceryWithProducts,o=n.isGroceriesTopOfMsg,c=n.isNarrowScreen,d=n.lastpassPromoType,m=n.sender,_=void 0===m?"sender":m,u=n.showMerchantCard,p=n.showSponsoredLogo,h=n.staticGroceriesTom,g=n.xobniName,E=n.yMobilePromoType,b=this.context.intl.formatMessage,f="PurchaseMatch"===(null==i||null===(t=i[0])||void 0===t?void 0:t.recommendationReason);if(this._setAffiliatePartnerInfo(),this._setAvailableDeals(),this._setDealsToBeShown(),s===Ne.YMOBILE_UPSELL)return l.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},l.a.createElement("div",{className:e.cardContainer},l.a.createElement(S.a,{import:"./tom_upsells/ymobile_upsell_card",cardName:M.Eb.YMOBILE_PROMOS,version:E,_moduleLoader:function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,1841))},_moduleResolver:function(){return 1841}})));if(s===Ne.LASTPASS_UPSELL)return l.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},l.a.createElement("div",{className:e.cardContainer},l.a.createElement(S.a,{import:"./tom_upsells/lastpass_upsell_card",cardName:M.Eb.LASTPASS_UPSELL,version:d,_moduleLoader:function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,1842))},_moduleResolver:function(){return 1842}})));if([Ne.GROCERIES_TOP_OF_MSG,Ne.PACKAGE_TRACKING].includes(s)){const t=o&&f?b(ke.groceriesBarTitle):null,a=s===Ne.PACKAGE_TRACKING?b(ke.packageTrackingCardTitle):t;return l.a.createElement("div",{className:e.cardGroupParent},l.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},u&&this._renderStoreFrontModule(e),l.a.createElement("div",{className:e.header},l.a.createElement("span",{className:e.dealsTitleBar},!u&&this._renderTitleBarImage(e),h&&r&&!f&&s===Ne.GROCERIES_TOP_OF_MSG?null:a),!u&&c&&this._renderPartnerAttributionIcon(e)),l.a.createElement("div",{"data-test-id":"card_container",className:e.cardContainer},this._getCardsToRender())))}if(this._isDealContextSelected()){const t=s===Ne.PRODUCT_RECOMMENDATIONS?ke.recommendationsTitle:ke.dealsFromSender;return u||this.dealsToBeShown.length?l.a.createElement("div",{className:e.cardGroupParent},l.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},u||s===Ne.DEALS_WITH_PRODUCTS?this._renderStoreFrontModule(e):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.header},l.a.createElement("span",{className:e.dealsTitleBar},this._renderTitleBarImage(e),b(t,{sender:g||_})),(c||p)&&this._renderPartnerAttributionIcon(e)),l.a.createElement("div",{"data-test-id":"card_container",className:e.cardContainer},this._getCardsToRender()),this._isCardGroupExpandable()&&this._renderExpandContainer()))):null}return u?this._renderStoreFrontModule(e):null}),r()(this,"_hasItemInCommerceSection",()=>{const e=this.props;return null!==e.cardGroupContext||e.showMerchantCard}),this.pillContainerRef=l.a.createRef(),this.cardGroupRef=l.a.createRef(),this.availableDeals=[],this.dealsToBeShown=[],this.timeoutId=null}componentDidMount(){this._i13nModel({mKey:N.g.CARD_VIEW}),this.productCardsContainer=_.a.findDOMNode(this.cardGroupRef.current),setTimeout(()=>{var e;return null===(e=document.getElementById("card_group_container"))||void 0===e?void 0:e.scrollIntoView()},1)}componentDidUpdate(e,t){var a,n,i;if((this.props.extractedDealCards.length!==e.extractedDealCards.length||this.props.cardGroupContext===Ne.SENDER_FALLBACK_DEALS&&this.state.fallBackDealsFromSender!==t.fallBackDealsFromSender||this.props.cardGroupContext===Ne.GROCERIES_TOP_OF_MSG&&e.cardGroupContext!==Ne.GROCERIES_TOP_OF_MSG)&&this._i13nModel({mKey:N.g.CARD_VIEW}),(null===(a=this.props.affiliateOffers)||void 0===a?void 0:a.length)!==(null===(n=e.affiliateOffers)||void 0===n?void 0:n.length)&&(null===(i=this.props.affiliateOffers)||void 0===i?void 0:i.length)>0&&this._i13nModel({mKey:N.g.CARD_VIEW,xpname:M.u.RECOMMENDED_PRODUCTS,reference:this.state.showOutAndBackExpansionText?Me:Ie}),!e.shouldAutoExpand&&this.props.shouldAutoExpand&&this.props.showOutNBackForMerchantCard&&this.props.affiliateRetailerId&&!this.state.isExpanded){var r;this.focusNode=document.getElementById("card_group_container"),this.setState({showOutAndBackExpansionText:!0});new IntersectionObserver(e=>{s()(e,1)[0].isIntersecting&&this.props.shouldAutoExpand&&!this.state.isExpanded&&(clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this._toggleExpandState(!0)},1e3))}).observe(this.focusNode),null===(r=this.focusNode)||void 0===r||r.scrollIntoView({behavior:"smooth"})}}render(){const e=this.props,t=e.applyTOMUpsellCardStyle,a=e.cardGroupContext,n=e.DPAAdsItems,s=e.falconTOMSubscriptionsUpsellsEnabled,i=e.isCompactView,r=e.lastpassPromoType,o=e.showMerchantCard,c=d()(fe.a,{isCompactDealsCardSelected:this._isDealContextSelected()&&i,isDealsCardSelected:this._isDealContextSelected()&&!i,inlineAdUpsellCard:a===Ne.LASTPASS_UPSELL&&r===Ce.a.T2,showAdUpsellCards:t,showDealsWithProducts:a===Ne.DEALS_WITH_PRODUCTS,showGroceriesTopOfMsg:a===Ne.GROCERIES_TOP_OF_MSG,showMerchantCard:o,showPkgTrackingCard:a===Ne.PACKAGE_TRACKING});if(!n.length&&!this._hasItemInCommerceSection())return null;let m=null;return m=a===Ne.NO_UPSELL||!a&&!o&&s?null:a===Ne.FALCON_TOM_SUBSCRIPTION_UPSELL?this._renderFalconTOMSubscriptionUpsell(c):n.length?this._renderDPAAds(c):this._renderCommerceCards(c),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:c.container,ref:this.cardGroupRef,id:"card_group_container"},m),l.a.createElement("div",{className:c.separator}))}}r()(Oe,"contextTypes",{intl:u.intlShape.isRequired});const De=(e,{parentMessageId:t="",lastMessageId:a="",messageSubject:n="",couponCards:i=[],currentGroupId:r})=>{const o=Object(R.selectors)(e),l=o.getAdsSelectors,c=o.getAffiliateRetailersSelectors,d=o.getCategoryFollowingSelectors,m=o.getContactListSelectors,_=o.getCouponsSelectors,u=o.getEnvironmentSelectors,p=o.getGroceriesTopOfMsgSelectors,h=o.getMessageBodiesSelectors,g=o.getMessagesSelectors,E=o.getPackageTrackingSelectors,b=o.getParticipantInFocus,f=o.getPrimaryAccountId,C=o.getProductRecommendationsSelectors,S=o.getRetailersSelectors,y=o.getSetting,T=o.isFeatureEnabled,v=o.isMessageRoute,A=o.isNarrowScreen,N=(0,o.getFalconTOMSubscriptionSelectors)(),O=N.getFalconTOMSubscriptionByGroupId,F=N.getFalconTOMSubscriptionsApiCallStatus,x=m().getContactByEmail,L=g(),B=L.getCardConversationId,j=L.getFromAddresses,U=L.getDecos,H=l(),W=H.getDPAAds,G=H.getAdFeedbackStatus,Z=_(),V=Z.getCouponCategoriesForMessageGroup,q=Z.getRecommendedDeals,z=E().getPackageTrackingCardFromConversationId,Y=C().getRecommendationsFromConversationId,K=d().isCategoryFollowed,X=j(t),Q=s()(X,1)[0],J=void 0===Q?{}:Q,$=J.email,ee=void 0===$?"":$,te=J.name,ae=void 0===te?"":te,ne=(0,h().getState)(a)===M.od.LOADED,se=ee?Object(k.getRootDomainFromEmailAddress)(ee):"",ie=x(ee)||void 0,re=ie&&ie.website,oe=ie&&ie.name,le=U(t),ce=S(),de=ce.isRetailerLinkable,me=(0,ce.getRetailerIdFromEmail)(ee),_e=p(),ue=_e.getCoupons,pe=(0,_e.doesRetailerExist)(me),he=y(M.Kd.PREVIEW_PANE)===M.ed.RIGHT&&!v(),ge=T(M.Eb.DEALS)?V():[],Ee=q(),be=T(M.Eb.FALCON_TOM_SUBSCRIPTIONS_UPSELLS),fe=O(r),Se=F(r)===M.Bb.LOADED||F(r)===M.Bb.CANCELLED,ye=u(),Te=ye.getLoggerParams,ve=ye.getPartner,Ie=W().sort((e,t)=>{const a={ADD_TO_CART:0,VIEW:1,RECOMMENDATION:2};return a[Object(P.b)(e,"pencilAd.productAdActivity")]-a[Object(P.b)(t,"pencilAd.productAdActivity")]}),Me=y(M.Kd.GEMINI_SECTION_IDS)[M.Nb.SHOPPING_CART],ke=e=>{if("deals"===e){let e=2;const t=(0,u().getWindowDimensions)();return he&&(e-=1),t.innerWidth>=D.Nb&&(e+=1),e}return 2-(he?1:0)},Oe=[...i],De=Object(I.l)(le,M.Cc.ORD),Pe=Object(I.l)(le,M.Cc.PKG),Re=T(M.Eb.XOBNI_PREFETCH)?null==ie?void 0:ie.isBusiness:!Object(I.l)(le,M.Cc.PE)&&Object(I.l)(le,[M.Cc.CPN,M.Cc.CRR,M.Cc.EVR,M.Cc.FDR,M.Cc.FLR,M.Cc.INV,M.Cc.LDG,M.Cc.ORD,M.Cc.PCS,M.Cc.PKG,M.Cc.SH,M.Cc.TNR,M.Cc.TR,M.Cc.TRR,M.Cc.TXR]);let we=y(M.Kd.NUMBER_OF_COUPON_ROWS);const Fe=ge.filter(e=>K(e.id)),xe=/^Fw:.*$/.test(n),Le=f(),Be=B(t),je=Y(Be),Ue=c(),He=Ue.getAffiliateOfferFromRetailerId,We=Ue.shouldAutoExpand,Ge=(0,Ue.getRetailerIdFromDomain)(se),Ze=He(Ge),Ve=b(),qe=z(Be),ze=(ue(me)||[]).slice(0,he?2:4),Ye=!xe&&!Ae.includes(se)&&T(M.Eb.SHOW_MERCHANT_CARD)&&Re,Ke=Object(w.b)(ee),Xe=y(M.Kd.LASTPASS_TOM_VERSION)||Ce.a.CT,Qe=ne&&[()=>be&&!Se&&Ne.NO_UPSELL,()=>be&&!Object(P.c)(fe)&&Ne.FALCON_TOM_SUBSCRIPTION_UPSELL,()=>T(M.Eb.DEALS_WITH_PRODUCTS)&&Ge&&Ne.DEALS_WITH_PRODUCTS,()=>T(M.Eb.YMOBILE_PROMOS)&&Ke&&Ne.YMOBILE_UPSELL,()=>T(M.Eb.LASTPASS_UPSELL)&&Ne.LASTPASS_UPSELL,()=>!xe&&T(M.Eb.PKG_TRACKING_TOP_OF_MSG)&&Pe&&!!qe&&Ne.PACKAGE_TRACKING,()=>{var e;return!xe&&(T(M.Eb.ENABLE_GROCERIES_TOP_OF_MSG)&&pe&&"PurchaseMatch"===(null==ze||null===(e=ze[0])||void 0===e?void 0:e.recommendationReason)||T(M.Eb.ENABLE_STATIC_GROCERIES_TOP_OF_MSG)&&!de(me))&&Ne.GROCERIES_TOP_OF_MSG},()=>!xe&&!Ae.includes(se)&&Oe&&Oe.length>0&&Oe.length<we*ke("deals")&&T(M.Eb.SENDER_DEALS_BACKFILL)&&Ne.SENDER_BACKFILLED_DEALS,()=>!xe&&!Ae.includes(se)&&T(M.Eb.DEALS)&&Oe&&Oe.length>0&&Ne.EXTRACTED_DEALS,()=>!xe&&T(M.Eb.PRODUCT_RECOMMENDATIONS)&&je.length&&Ne.PRODUCT_RECOMMENDATIONS,()=>!xe&&!Ae.includes(se)&&Re&&T(M.Eb.RECOMMENDED_DEALS)&&!!Ee.length&&Ne.SENDER_FALLBACK_DEALS].find(e=>e()),Je=Qe?Qe():null,$e=Je===Ne.FALCON_TOM_SUBSCRIPTION_UPSELL||Je===Ne.YMOBILE_UPSELL||Je===Ne.LASTPASS_UPSELL&&Xe!==Ce.a.T2;Je===Ne.DEALS_WITH_PRODUCTS&&(we=1);const et=ke([Ne.EXTRACTED_DEALS,Ne.SENDER_BACKFILLED_DEALS,Ne.SENDER_FALLBACK_DEALS,Ne.PRODUCT_RECOMMENDATIONS,Ne.DEALS_WITH_PRODUCTS].includes(Je)&&"deals");return{aboutAdsUrl:y(M.Kd.ABOUT_AD_URL),adFeedbackStatus:G(),affiliateFeatures:y(M.Kd.ENABLED_AFFILIATE_PARTNERS),affiliateOffers:Ze,affiliateRetailerId:Ge,cardGroupContext:Je,categoriesList:ge,contact:ie,contactDefaultName:null==Ve?void 0:Ve.name,contactLink:re,crossDomainDPASectionId:y(M.Kd.GEMINI_SECTION_IDS)[M.Nb.CROSS_DOMAIN_DPA_ADS],decos:le,DPAAdsItems:Ie,extractedDealCards:Oe,followedCategories:Fe.map(e=>null==e?void 0:e.name),fromEmail:ee,groceryOfferCardsToDisplay:ze,isAffiliatePartnerEnabled:T(M.Eb.AFFILIATE_PARTNER),isBottomPreviewPane:y(M.Kd.PREVIEW_PANE)===M.ed.BOTTOM&&!v(),isCompactView:he,isNarrowScreen:A(),isOrdMail:De,isShipmentMail:Pe,numberOfCardRows:we,numberOfCardsInOneRow:et,packageTrackingCard:qe,primaryAccountId:Le,recommendationCards:je,recommendedDeals:Ee,retailerId:me,rootDomain:se,sender:ae,shoppingCartSectionId:Me,shouldAutoExpand:We(),showCrossDomainDPAAds:T(M.Eb.CROSS_DOMAIN_DPA_ADS),showMerchantCard:Ye,showOutNBackForMerchantCard:y(M.Kd.SHOW_OUT_N_BACK_AUTO_EXPANSION),showSponsoredLogo:T(M.Eb.SHOW_SPONSORED_LOGO),xobniName:oe,yMobilePromoType:Ke,lastpassPromoType:Xe,applyTOMUpsellCardStyle:$e,groceryWithProducts:T(M.Eb.GROCERY_WITH_PRODUCTS)&&!de(me),staticGroceriesTom:T(M.Eb.ENABLE_STATIC_GROCERIES_TOP_OF_MSG),isGroceriesTopOfMsg:T(M.Eb.ENABLE_GROCERIES_TOP_OF_MSG),falconTOMSubscriptionData:fe,falconTOMSubscriptionsUpsellsEnabled:be,locale:Te().locale,partner:ve()}},Pe=e=>({affiliateOffersRequested:t=>e(Object(h.a)(t)),inboxCommerceFeatureClicked:t=>e(Object(h.b)(t)),requestCategoryFollow:t=>e(Object(g.f)(t))});t.default=Object(x.a)(Object(p.connect)(De,Pe)(Oe))},,function(e,t,a){"use strict";a.r(t),a.d(t,"EmptyFolderVideo",(function(){return te})),a.d(t,"mapStateToProps",(function(){return ae})),a.d(t,"mapDispatchToProps",(function(){return ne}));var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(70),_=a.n(m).a.create("norrin/empty_folder_video"),u=a(6),p=a(13),h=a(10),g=a(1396),E=a(1504),b=a.n(E),f=a(12),C=a.n(f),S=a(134),y=a(90),T=a(4),v=a(17),I=a(18),M=a(21),A=a(63),N=a(64),k=a(61),O=a(42),D=a(15),P=a(32),R=a(25);const w=Object(u.defineMessages)({hide:{id:"efv_hide",defaultMessage:"Hide"},featured:{id:"efv_featured_channel",defaultMessage:"Featured"},news:{id:"efv_news_channel",defaultMessage:"News"},finance:{id:"efv_finance_channel",defaultMessage:"Finance"},sports:{id:"efv_sports_channel",defaultMessage:"Sports"},lifestyles:{id:"efv_lifestyles_channel",defaultMessage:"Lifestyles"},entertainment:{id:"efv_entertainment_channel",defaultMessage:"Entertainment"}});class F extends d.a.Component{constructor(...e){super(...e),r()(this,"closePlayer",e=>{e.preventDefault(),this.props.handleCloseVideoPlayer()}),r()(this,"changeChannel",(e,t)=>{t.preventDefault(),this.props.changeChannel(e)}),r()(this,"renderChannels",()=>{const e=this.props,t=e.currentChannel,a=e.channelData;return Object.keys(e.channels).map(e=>{const n=e===t,s=C()(b.a,{active:n}),i=a[e]?a[e].channelName:"";return d.a.createElement(P.a,{key:e,name:e},d.a.createElement(I.a,{kind:R.a.MENUITEM,onClick:this.changeChannel.bind(this,e),title:i,"aria-label":i},n?d.a.createElement("span",{className:s.checkMark},d.a.createElement(v.b,{kind:T.Kinds.CHECKMARK,size:T.Sizes.XS,colorState:T.ColorStates.NORMAL})):null,d.a.createElement("span",{className:s.channelTab},i)))})})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.currentChannel,n=t.channelData,s=t.isDarkTheme,i=C()(b.a,{isDarkTheme:s}),r=n[a]?n[a].channelName:"";return d.a.createElement("div",{"data-test-id":"efv-toolbar",className:i.container},!this.props.aolVideoPlayer&&d.a.createElement(N.a,null,d.a.createElement(k.a,null,d.a.createElement("div",{"data-test-id":"efv-channel-list",className:i.categoryFilterContainer},r&&d.a.createElement("p",{className:i.categoryFilterHeader},r),d.a.createElement(M.default,{"data-iskeynav":!0,paddingLess:!0,"aria-label":"show list",title:"show list","data-test-id":"show-list-button",kind:T.Kinds.CHEVRON_UP,colorState:T.ColorStates.INHERITED,size:T.Sizes.S,rotate:T.Rotate.D180}))),d.a.createElement(O.b,{triggerOn:D.i.CLICK,isArrowVisible:!1,offset:12},d.a.createElement("div",null,d.a.createElement(A.a,{focusOnMount:!0,"data-test-id":"gpt-list-menu"},this.renderChannels())))),d.a.createElement(S.a,null),d.a.createElement("span",{className:i.closeWrapper},d.a.createElement(y.a,{"data-test-id":"efv-toolbar-close",kind:T.Kinds.CLOSE,size:T.Sizes.XS,onClick:this.closePlayer,title:e(w.hide),colorStates:{normal:s?T.ColorStates.WHITE:T.ColorStates.NORMAL,hovered:T.ColorStates.SELECTED}})))}}r()(F,"contextTypes",{intl:u.intlShape});var x=F,L=a(144),B=a(1505),j=a.n(B),U=a(309),H=a(8),W=a(0);const G="640px",Z="360px",V={mute:!0,playlistUI:{show:!0,position:"bottom"},YVAP:{accountId:"1097",timeout:20,vpaidTimeout:20},site:"Mail",html5:!1,expName:"mailemptyfolderHTML5"};var q=a(11),z=a(9),Y=a(294);var K=Object(p.connect)(e=>{const t=Object(h.selectors)(e).getSetting;return{videoPlayerUrl:t(W.Kd.AOL_VIDEO_PLAYER_URL),videoPlayerIframeSrc:t(W.Kd.AOL_VIDEO_PLAYER_IFRAME_SRC)}})(class extends d.a.Component{constructor(){super(),this.handleIframeLoaded=this.handleIframeLoaded.bind(this)}componentWillReceiveProps(e){this.playerApi&&this.props.play!==e.play&&(e.play?this.playerApi.play():this.playerApi.pause())}handleIframeLoaded(e){this.playerApi||Y.a.loadScript(this.props.videoPlayerUrl).then(()=>{window.oath&&window.oath.player&&window.oath.player.loadIframeApi(e,e=>{this.playerApi=e,this.props.play||this.playerApi.pause()})})}render(){const e=this.props;return d.a.createElement("iframe",{"data-test-id":"aol-video-player",ref:this.handleIframeLoaded,src:e.videoPlayerIframeSrc,sandbox:"allow-same-origin allow-scripts",allow:"autoplay",allowFullScreen:!0,width:e.width,height:e.height,frameBorder:"0"})}}),X=a(47),Q=a(22),J=a(49);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const ee=Object(u.defineMessages)({sub_header:{id:"efv_sub_header",defaultMessage:"Catch up on the most popular videos on {yahooBrandNameString}"},inbox:{id:"efv_inbox",defaultMessage:"Inbox"},unread:{id:"efv_unread",defaultMessage:"Unread"},starred:{id:"efv_starred",defaultMessage:"Starred"},draft:{id:"efv_drafts",defaultMessage:"Drafts"},sent:{id:"efv_sent",defaultMessage:"Sent"},archive:{id:"efv_archive",defaultMessage:"Archive"},spam:{id:"efv_spam",defaultMessage:"Spam"},bulk:{id:"efv_spam",defaultMessage:"Spam"},trash:{id:"efv_trash",defaultMessage:"Trash"}});class te extends d.a.Component{constructor(...e){super(...e),r()(this,"logPlayerEvent",(e={},t)=>{let a=e;if("object"==typeof e){a={adBreakId:e.adBreakId,videoId:e.videoId,adBreakItemId:e.adBreakItemId}}_.info("Empty folder video "+t,{payload:a})}),r()(this,"videoPlayerCallbacks",["onAdPlaybackEnd","onPlaybackComplete","onPlaybackError","onAdError","onPlayerError","onLoadError"].reduce((e,t)=>(e[t]=e=>this.logPlayerEvent(e,t),e),{})),r()(this,"constructPlayerConfig",()=>{const e=this.props,t=e.channelData,a=e.currentChannel,n=e.spaceId,s=e.channels,i=e.autoplay,o=e.videoPlayerSapiCobrand,l=this.context.region,c=this.context.getThemeMode()===Q.i.DARK;let d={};for(const e in t)if(e===a){d=t[e];break}if(!Object(z.b)(d,"channelVideos.length",null))return null;const m={mediaItems:[{id:d.channelVideos[0].playlistId}],id:s[a.toLowerCase()]},_=Object.assign(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({pageSpaceId:n,region:l,playlist:m,autoplay:i},o?{pluginConfigs:{"source-metadata-plugin":{"media/sapi":{qs:{"ad.cobrand":o}}}}}:{}),V);return c&&(_.playlistUI.theme="dark"),_}),r()(this,"openPlayer",e=>{e.preventDefault(),this.props.handleOpenVideoPlayer()}),r()(this,"onUIInteract",e=>{const t=this.props,a=t.handleVideoPlay,n=t.handleVideoPause;switch(e.srcElement){case"ctrl-play-btn":return a();case"ctrl-pause-btn":return n();case"ui_pl_thmb_clk":_.info("Playlist UI clicked")}}),r()(this,"handleMuteToggled",e=>{this.mute=e}),r()(this,"renderHeader",()=>{const e=this.context.yahooBrandNameString,t=this.props,a=t.showVideoPlayer,n=t.folderName,i=t.isSystemFolder,r=t.isAccountSyncing,o=this.context.getThemeMode()===Q.i.DARK,l=C()(j.a,{videoHidden:r||!a||!this._playerConfig,isDarkTheme:o});return r?d.a.createElement("div",{"data-test-id":"efv-header",className:l.header},d.a.createElement("div",null,d.a.createElement("img",{"data-test-id":"empty-img",src:Object(J.a)("/img/sync_message_1x.png"),srcSet:Object(J.a)("/img/sync_message_2x.png"),"aria-hidden":!0,className:l.syncImage})),d.a.createElement("div",{className:l.syncMessage},d.a.createElement("div",null,d.a.createElement(u.FormattedMessage,{id:"sync_folder_message",defaultMessage:"We're syncing your mailbox."})),d.a.createElement("div",{className:l.syncWaitMessage},d.a.createElement(u.FormattedMessage,{id:"sync_folder_wait_message",defaultMessage:"Check back soon to see your messages."})))):d.a.createElement("div",{"data-test-id":"efv-header",className:l.header},d.a.createElement(u.FormattedMessage,{id:"efv_header",defaultMessage:'Your "{folder_name}" folder is empty',values:{folder_name:d.a.createElement("span",{"data-test-id":"efv-folder-name",className:l.folderName},i&&ee[n.toLowerCase()]?d.a.createElement(u.FormattedMessage,ee[n.toLowerCase()]):n)}}),this._playerConfig?d.a.createElement("div",{"data-test-id":"efv-subheader",className:l.subHeader,onClick:a?null:this.openPlayer},d.a.createElement(u.FormattedMessage,s()({},ee.sub_header,{values:{yahooBrandNameString:e}}))):null)}),r()(this,"onPlaybackStart",(e,t)=>{this.logPlayerEvent(e,t),this.props.showEmptyFolderVideo&&this.props.isAppVisible||this.forceUpdate()}),r()(this,"renderVideoPlayerContent",()=>{const e=this.props,t=e.isPaused,a=e.currentChannel,n=e.showEmptyFolderVideo,i=e.aolVideoPlayer,r=e.isAppVisible,o=this.context.getThemeMode()===Q.i.DARK,l=C()(j.a,{aolVideoPlayer:i,isDarkTheme:o});return d.a.createElement("div",{"data-test-id":n?"efv-container-visible":"efv-container-hidden",className:l.container},d.a.createElement(x,s()({},this.props,{isDarkTheme:o})),d.a.createElement("div",{className:l.contentContainer},this.renderHeader(),d.a.createElement("div",{"data-test-id":"video-container",className:l.videoContainer},i?d.a.createElement(K,{play:n,width:G,height:Z}):d.a.createElement(g.a,s()({playerConfig:this._playerConfig,width:"100%",height:"100%",play:n&&!t&&r,mute:this.mute,showVideoCoverInitially:!n},this.videoPlayerCallbacks,{onUIInteract:this.onUIInteract,onPlaybackStart:e=>this.onPlaybackStart(e,"onPlaybackStart"),onAdPlaybackStart:e=>this.onPlaybackStart(e,"onAdPlaybackStart"),onMute:this.handleMuteToggled,key:a})))))})}componentWillMount(){this._playerConfig=this.props.playerConfig||this._playerConfig}render(){const e=this.props,t=e.showVideoPlayer,a=e.showEmptyFolderVideo,n=e.aolVideoPlayer,s={width:"100%",height:"100%",backgroundColor:this.context.getThemeMode()===Q.i.DARK?q.Jb:q.Mb,zIndex:1};return s.display=a?"block":"none",this._playerConfig=n?this._playerConfig||a:this.constructPlayerConfig(),d.a.createElement(L.a,{top:"0px",left:"0px",position:"absolute",visibility:"visible",rootId:"mail-app-component",styles:s},t&&this._playerConfig?this.renderVideoPlayerContent():this.renderHeader())}}r()(te,"contextTypes",{region:l.a.string,yahooBrandNameString:l.a.string,getThemeMode:l.a.func});const ae=e=>{const t=Object(h.selectors)(e),a=t.getVideoPlayerSelectors,n=t.getVideoChannelsMetaData,s=t.getFoldersSelectors,i=t.getRoute,r=t.getCurrentSpaceId,o=t.getAccountById,l=t.getSelectedAccountId,c=t.couldShowEmptyFolderVideo,d=t.getSmartViewTypeFromListId,m=t.isAppVisible,_=(0,t.getFeaturesSelectors)(),u=_.getSetting,p=_.isEnabled,g=s(),E=g.getFolderName,b=g.isSystemFolder,f=g.doesFolderIdExist,C=a(),S=C.getCurrentChannel,y=C.getShowVideoPlayer,T=C.getIsPaused,v=i(),I=Object(H.z)(v),M=Object(H.P)(I),A=S(),N=n(),k=T(),O=u(W.Kd.EMPTY_FOLDER_VIDEO_CHANNELS),D=p(W.Eb.AUTOPLAY_EMPTY_FOLDER_VIDEO),P=p(W.Eb.AOL_VIDEO_PLAYER),R=Object(H.q)(I),w=f(R),F=!w||b(R),x=c(),L=r(),B=w?E(R):"",j=o(l()),U=Object(X.a)(j),G=y()&&!U,Z=u(W.Kd.VIDEO_PLAYER_SAPI_COBRAND);let V;return V=!B&&M?d(I).toLowerCase():"string"==typeof B?B.split("/").pop():B,{currentChannel:A,showVideoPlayer:G,channelData:N,isPaused:k,showEmptyFolderVideo:x,channels:O,autoplay:D,folderName:V,isSystemFolder:F,listId:I,spaceId:L,isAccountSyncing:U,aolVideoPlayer:P,videoPlayerSapiCobrand:Z,isAppVisible:m()}},ne=e=>({handleOpenVideoPlayer(){e(Object(U.g)())},handleCloseVideoPlayer(){e(Object(U.f)())},changeChannel(t){e(Object(U.a)({channelAlias:t}))},handleVideoPlay(){e(Object(U.i)())},handleVideoPause(){e(Object(U.h)())}});t.default=Object(p.connect)(ae,ne)(te)},function(e,t,a){"use strict";a.r(t);var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(6),_=a(1828),u=a.n(_),p=a(49),h=a(1396),g=a(12),E=a.n(g),b=a(136),f=a(242),C=a(1829),S=a.n(C);const y=Object(m.defineMessages)({playVideo:{id:"videoPlayerPlayButton",defaultMessage:"Play video"},reload:{id:"videoPlayerReloadButton",defaultMessage:"Reload"}});class T extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{showError:this.props.loadError}),r()(this,"renderPlayButton",()=>{const e=this.props,t=e.playButtonSize,a=e.handleClick,n=this.context.intl.formatMessage,s=this.state.showError,i=E()(S.a,{showError:s});return d.a.createElement("div",{className:i.playButton,"data-test-id":"player-play-button",tabIndex:"0","aria-label":n(y.playVideo),title:n(y.playVideo),role:"button",onClick:a},d.a.createElement(f.a,{kind:b.a.PLAY_VIDEO,width:t,height:t}))}),r()(this,"renderError",()=>{const e=this.context.intl.formatMessage,t=this.state.showError,a=E()(S.a,{showError:t});return d.a.createElement("div",{className:a.errorContainer,"data-test-id":"player-error"},d.a.createElement("div",{className:a.errorMessage},d.a.createElement(m.FormattedMessage,{id:"tutorial.load_error",defaultMessage:"Sorry, an error has occurred while streaming this video. We apologize for any inconvenience."})),d.a.createElement("button",{className:a.reloadButton,onClick:this.props.handleClick,tabIndex:-1,title:e(y.reload),"data-test-id":"player-reload-button"},d.a.createElement(m.FormattedMessage,y.reload)))})}componentWillReceiveProps(e){this.props.loadError!==e.loadError&&this.setState({showError:e.loadError})}render(){const e=this.props,t=e.width,a=e.height,n=this.state.showError,s=E()(S.a,{showError:n});return d.a.createElement("div",{className:s.container,style:{width:t,height:a},tabIndex:"-1"},this.props.coverImage?d.a.createElement("img",{className:s.coverImage,"data-test-id":"player-cover-image",src:this.props.coverImage,"aria-hidden":!0}):null,n?this.renderError():this.renderPlayButton())}}r()(T,"contextTypes",{intl:m.intlShape}),r()(T,"defaultProps",{width:"480px",height:"270px",playButtonSize:48,loadError:!1});var v=T,I=a(5),M=a(2);function A(e,t){e.dispatch(M.TUTORIAL_VIDEO_PLAYED,t)}var N=a(1830),k=a.n(N),O=a(1831),D=a.n(O);const P=Object(m.defineMessages)({playingText:{id:"video_item_playing_text",defaultMessage:"Playing now"}});class R extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{isHovered:!1}),r()(this,"handleSelect",()=>{this.props.handleSelect(this.props.videoIndex)}),r()(this,"handleHovered",e=>{this.setState({isHovered:e})}),r()(this,"renderPlayButton",()=>!this.props.isPlaying&&this.state.isHovered)}render(){const e=this.context.intl.formatMessage,t=this.context.mailBrandNameString,a=this.props,n=a.isPlaying,s=a.video,i=this.context.getCss(D.a,{isPlaying:n,isHovered:this.state.isHovered});return d.a.createElement("div",{className:i.itemContainer,onClick:this.handleSelect,onMouseEnter:()=>this.handleHovered(!0),onMouseLeave:()=>this.handleHovered(!1)},d.a.createElement("img",{className:i.thumbnail,src:s.thumbnail,"aria-hidden":!0}),this.renderPlayButton()?d.a.createElement("div",{className:i.playButton},d.a.createElement(f.a,{kind:b.a.PLAY_VIDEO,width:48,height:48})):null,n?d.a.createElement("span",{className:i.playingText},e(P.playingText)):null,d.a.createElement("div",{className:i.videoTitle},e(s.title,{mailBrandNameString:t})))}}r()(R,"contextTypes",{intl:m.intlShape,getCss:l.a.func,mailBrandNameString:l.a.string});var w=R;const F=E()(k.a);var x=class extends d.a.Component{render(){const e=this.props,t=e.selectedVideoId,a=e.handleSelect;return d.a.createElement("div",{className:F.galleryContainer},e.videos.map((e,n)=>d.a.createElement(w,{key:n,handleSelect:a,video:e,isPlaying:t===e.id,videoIndex:n})))}};const L=Object(m.defineMessages)({video_title:{id:"tutorial.video_title",defaultMessage:"Introducing the new {mailBrandNameString}"},video_subsubtitle:{id:"tutorial.video_subsubtitle",defaultMessage:"With a cleaner design and streamlined features, you can now keep your inbox more organized than ever."},smarter_search_video_title:{id:"tutorial.smarter_search_video_title",defaultMessage:"Tips for Smarter Search"},smarter_search_video_subtitle:{id:"tutorial.smarter_search_video_subtitle",defaultMessage:"Three easy ways to search for emails, photos and documents in your inbox."},personalize_inbox_video_title:{id:"tutorial.personalize_inbox_video_title",defaultMessage:"Personalize your inbox"},personalize_inbox_video_subtitle:{id:"tutorial.personalize_inbox_video_subtitle",defaultMessage:"Set up your email just the way you like it"},email_organize_video_title:{id:"tutorial.email_organize_video_title",defaultMessage:"Email organization"},email_organize_video_subtitle:{id:"tutorial.email_organize_video_subtitle",defaultMessage:"Explore new ways to view and organize your emails"},compose_video_title:{id:"tutorial.compose_video_title",defaultMessage:"Send with style"},compose_video_subtitle:{id:"tutorial.compose_video_subtitle",defaultMessage:"Make your emails stand out with emojis, animated GIFs, stationery and more."}}),B=[{thumbnail:Object(p.a)("/img/mail_onboarding.jpg"),title:L.video_title,subTitle:L.video_subsubtitle},{thumbnail:Object(p.a)("/img/search_onboarding.jpg"),title:L.smarter_search_video_title,subTitle:L.smarter_search_video_subtitle},{thumbnail:Object(p.a)("/img/personalize_inbox.jpg"),title:L.personalize_inbox_video_title,subTitle:L.personalize_inbox_video_subtitle},{thumbnail:Object(p.a)("/img/email_organize.jpg"),title:L.email_organize_video_title,subTitle:L.email_organize_video_subtitle},{thumbnail:Object(p.a)("/img/compose_thumbnail.png"),title:L.compose_video_title,subTitle:L.compose_video_subtitle}];class j extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{selectedVideoIndex:-1,isInitialState:!0}),r()(this,"renderHeader",e=>{const t=this.context.mailBrandNameString;return d.a.createElement("div",{className:e.headerSection},d.a.createElement("div",{className:e.viewHeader},d.a.createElement(m.FormattedMessage,{id:"tutorial.view_title",defaultMessage:"Explore More"})),d.a.createElement("div",{className:e.viewDescription},d.a.createElement(m.FormattedMessage,{id:"tutorial.view_description",defaultMessage:"See how easy it is to use {mailBrandNameString}'s new powerful features",values:{mailBrandNameString:t}})))}),r()(this,"handlePlaybackStart",()=>{const e=this.state.selectedVideoIndex;this.context.executeAction(A,{i13nModel:{mKey:I.g.TUTORIAL_VIDEO,sec:I.i.TUTORIALS,interactionType:I.e.click,actionData:{videoId:e>=0?B[e].id:B[0].id}}})}),r()(this,"handleVideoClick",()=>{this.state.selectedVideoIndex<0&&this.handleVideoSelect(0)}),r()(this,"getMediaItems",()=>{const e=this.state.selectedVideoIndex;if(e>=0){let t=[B[e]];return t=t.concat(B.filter((t,a)=>a!==e)),t.map(e=>({id:e.id}))}return B.map(e=>({id:e.id}))}),r()(this,"renderPlayer",e=>{const t={width:"502px"},a=this.state,n=a.isInitialState,i=a.selectedVideoIndex,r=this.context.mailBrandNameString,o=i>=0?B[i].id:"",l=i>=0?B[i]:B[0],c={playlist:{mediaItems:this.getMediaItems()},replayonlyendscreen:!0,autoplay:!0};return d.a.createElement("div",{className:e.playerContainer},d.a.createElement("div",{className:e.videoContainer},d.a.createElement(h.a,{playerConfig:c,width:"502px",height:"282px",playerPositionId:o,onPlaybackStart:this.handlePlaybackStart,handleVideoClick:this.handleVideoClick},n?d.a.createElement(v,{playButtonSize:88,coverImage:l.thumbnail,width:"502px",height:"282px",handleClick:()=>{}}):null)),d.a.createElement("div",{className:e.msgContainer,style:t},d.a.createElement("div",{className:e.videoTitle},d.a.createElement(m.FormattedMessage,s()({},l.title,{values:{mailBrandNameString:r}}))),d.a.createElement("div",{className:e.videoSubtitle},d.a.createElement(m.FormattedMessage,l.subTitle))))}),r()(this,"handleVideoSelect",e=>{e!==this.state.selectedVideoIndex&&this.setState({selectedVideoIndex:e,isInitialState:!1})})}render(){const e=this.state.selectedVideoIndex,t=e>=0?B[e].id:"",a=this.context.getCss(u.a),n=this.props.newMailVideoId;return B[0].id=n.onboarding,B[1].id=n.searchOnboarding,B[2].id=n.personalizeInbox,B[3].id=n.emailOrganization,B[4].id=n.compose,d.a.createElement("div",{"data-test-id":"tutorial-view",className:a.container},this.renderHeader(a),this.renderPlayer(a),d.a.createElement(x,{handleSelect:this.handleVideoSelect,videos:B,selectedVideoId:t}))}}r()(j,"contextTypes",{executeAction:l.a.func.isRequired,getCss:l.a.func,config:l.a.object,mailBrandNameString:l.a.string});t.default=j},function(e,t,a){"use strict";a.r(t),a.d(t,"mapStateToProps",(function(){return ae})),a.d(t,"mapDispatchToProps",(function(){return ne}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1366),m=a(319),_=a(12),u=a.n(_),p=a(1411),h=a.n(p),g=a(25),E=a(21),b=a(4),f=a(478),C=a(16),S=a(10),y=a(13),T=a(49),v=a(18),I=a(9);var M=e=>{const t=e.heading,a=e.subHeading,n=e.buttonKind,s=e.onClick,i=e.buttonMessage,r=e.hasMargin,o=e.linkTo,c=e.isCompact,d=e.isVideoAdOption,m=u()(h.a,{isCompact:c,nonCompact:!c});return l.a.createElement("div",{className:m.adblockOption},t?l.a.createElement("div",{className:m.optionHeading},t,l.a.createElement("span",{className:m.optionSubHeading},a)):null,l.a.createElement("a",{href:o,rel:"noreferrer noopener",target:"_blank",className:m.optionButtonContainer},l.a.createElement(v.a,{"data-test-id":"navigate-to-link",onClick:s,kind:n,marginLess:r,overridingClass:d?m.optionButtonVideoAd:""},l.a.createElement("span",{className:m.optionButton},i))))},A=a(0),N=a(303),k=a(5),O=a(73),D=a(1396),P=a(70),R=a.n(P),w=a(1511),F=a.n(w),x=a(62),L=a(544),B=a(323);const j=R.a.create("norrin/gemini_rr_upsell_video_ad"),U=Object(c.defineMessages)({close:{id:"adBlock_upsell_close_icon",defaultMessage:"Close"},thanksForWatching:{id:"right_rail_upsell_video_ad.thanks",defaultMessage:"Thank you for watching the video!"},enjoyAdFree:{id:"right_rail_upsell_video_ad.enjoy",defaultMessage:"Enjoy your {duration} {units} of ad-lite Yahoo Mail"},adText:{id:"ad.text",defaultMessage:"AD"}});class H extends o.Component{constructor(){super(),s()(this,"getVideoConfig",()=>{const e=this.props,t=e.adData,a=t.videoAd;return{site:e.site,expName:"norrinRightRailUpsellVideoAd",autoplay:!0,html5:!0,mute:!0,spaceId:e.spaceId,playlist:{mediaItems:[{id:e.geminiVideoAdId,images:{thumbnail:a.thumbnail}}]},YVAP:{standaloneAd:{gemini:{mediaInfo:a.videoMediaAssets,clickUrl:a.clickUrl,landingUrl:t.pencilAd.landingUrl},rules:a.rules,beacons:a.actionUrls}},replayonlyendscreen:!0,ccOnMute:!0,region:this.context.region}}),s()(this,"handleAdPlaybackStart",()=>{this.videoStartTimestamp=Date.now(),this.props.onVideoAdStarted({i13nModel:{mKey:k.g.RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED,sec:k.i.FEATURE_CUE}})}),s()(this,"updateAdFreeTimestamp",e=>{Object(C.isLocalStorageAvailable)()&&(e||Date.now()-this.videoStartTimestamp>L.a)&&(window.localStorage.setItem(L.b,Date.now()),this.props.onTimestampUpdate())}),s()(this,"handleAdPlaybackEnd",()=>{this.updateAdFreeTimestamp(!0),this.setState({isFinished:!0}),this.props.onVideoAdFinished({i13nModel:{mKey:k.g.RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED,sec:k.i.FEATURE_CUE}})}),s()(this,"handleVideoError",(e,t)=>{j.info("Right-rail Gemini video ad"+e,{data:t})}),s()(this,"handleAdClick",(e,t)=>{e.stopPropagation(),this.updateAdFreeTimestamp(!1),this.props.onVideoAdClicked({i13nModel:{mKey:k.g.RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED,sec:k.i.FEATURE_CUE,actionData:{videoClick:t}}})}),this.videoStartTimestamp=0,this.state={isFinished:!1}}render(){const e=this.props,t=e.onClose,a=e.videoAdDuration,n=e.adData.pencilAd,s=n.adSource,i=n.adImg,r=n.adHeadline,o=n.clickUrl,c=n.callToAction,d=this.context.intl.formatMessage,m=this.context.getCss(F.a);return l.a.createElement("div",{"data-test-id":"video-container",className:m.container},l.a.createElement("div",{className:m.close},l.a.createElement(E.default,{onClick:t,kind:b.Kinds.CLOSE,size:b.Sizes.XS,colorState:this.state.isFinished?b.ColorStates.NORMAL:b.ColorStates.WHITE,title:d(U.close),"aria-label":d(U.close),"data-test-id":"close-cue-button"})),this.state.isFinished?l.a.createElement("div",{"data-test-id":"video-thank-you-container",className:m.thankYouContainer},l.a.createElement("div",{className:m.thankYouImage},l.a.createElement("div",{className:m.imageWrapper},l.a.createElement("div",{className:m.imageBackground},l.a.createElement("img",{className:m.thinkingEmoji,src:Object(T.a)("/img/animation_adblocker.gif")})))),l.a.createElement("div",{className:m.thankYouHeaderContainer},l.a.createElement("div",{className:m.thankYouHeader},d(U.thanksForWatching)),l.a.createElement("div",{className:m.thankYouSubHeader},d(U.enjoyAdFree,{duration:a>60?"":a,units:a>60?"day":"minutes"})))):l.a.createElement("div",{className:m.videoContainer,onClick:e=>this.handleAdClick(e,!0)},l.a.createElement(D.a,{onAdPlaybackStart:this.handleAdPlaybackStart,onAdPlaybackEnd:this.handleAdPlaybackEnd,onAdError:e=>this.handleVideoError("AdError",e),onPlayerError:e=>this.handleVideoError("PlayerError",e),onLoadError:e=>this.handleVideoError("LoadError",e),width:"640px",height:"360px",playerConfig:this.getVideoConfig(),key:"rightRailUpsellVideoAd",showVideoCoverInitially:!1,play:!0}),l.a.createElement("div",{className:m.adContainer},l.a.createElement("div",{className:m.adDetails},l.a.createElement("div",{className:m.adImage},i&&l.a.createElement(B.a,{size:x.b.M,imageSrc:i})),l.a.createElement("div",{className:m.adDescription},l.a.createElement("span",{className:m.adSource},s,l.a.createElement("a",{className:m.adIcon,href:this.props.aboutAdsUrl,target:"_blank"},d(U.adText))),l.a.createElement("span",{className:m.adHeadline},r))),l.a.createElement("a",{className:m.cta,href:o,onClick:e=>this.handleAdClick(e,!1),target:"_blank"},c))))}}s()(H,"contextTypes",{intl:c.intlShape,region:r.a.string,getCss:r.a.func});var W=Object(y.connect)(e=>{const t=Object(S.selectors)(e),a=t.getSetting,n=t.getCurrentSpaceId;return{geminiVideoAdId:a(A.Kd.GEMINI_VIDEO_AD_ID),spaceId:n(),site:a(A.Kd.GEMINI_VIDEO_AD_SITE),aboutAdsUrl:a(A.Kd.ABOUT_AD_URL)}},e=>({onVideoAdStarted:t=>e(Object(O.t)(t)),onVideoAdFinished:t=>e(Object(O.s)(t)),onVideoAdClicked:t=>e(Object(O.r)(t))}))(H),G=a(94),Z=a(98),V=a(321),q=a(58),z=a(17),Y=a(126),K=a(45);const X=A.gc.NOT_SUBSCRIBED,Q=Object(c.defineMessages)({adBlockUpsellUserName:{id:"adBlock_upsell_user_name",defaultMessage:"Hi {accountName}!"},close:{id:"adBlock_upsell_close_icon",defaultMessage:"Close"},rightRailUpsellSubText:{id:"right_rail_upsell_subtext",defaultMessage:"Want more room to view your messages?"}});class J extends l.a.PureComponent{constructor(...e){super(...e),s()(this,"state",{renderError:!1,purchaseFreeTrialStatus:""}),s()(this,"handleOverlayClick",e=>{e.preventDefault(),e.stopPropagation(),this.props.onClose()}),s()(this,"purchaseFreeTrial",()=>{this.props.purchaseMailproFreeTrial({i13nModel:{mKey:k.g.PURCHASE_FREE_TRIAL_FROM_RIGHT_RAIL_UPSELL,sec:k.i.MAILPRO_FREE_TRIAL,interactionType:k.e.click}})})}static getDerivedStateFromProps(e,t){return e.purchaseFreeTrialStatus!==t.purchaseFreeTrialStatus?t.purchaseFreeTrialStatus&&"FAILED"===e.purchaseFreeTrialStatus?{renderError:!0,purchaseFreeTrialStatus:e.purchaseFreeTrialStatus}:{renderError:!1,purchaseFreeTrialStatus:e.purchaseFreeTrialStatus}:null}navigateToMailPro(e){K.b.sendI13nModel({i13nModel:{mKey:k.g.NAVIGATE_TO_MAIL_PRO_FROM_RIGHT_RAIL_UPSELL,sec:k.i.MAILPRO_FREE_TRIAL,interactionType:k.e.click}}),Object(G.a)(e)}renderCTA({classNames:e,mailProFreeTrialSubscriptionStatus:t,purchaseFreeTrialInProgress:a,renderError:n,mailProUpsellClickURL:s,onClose:i}){switch(t){case X:return a?l.a.createElement("span",{className:e.loadingSpinner},l.a.createElement(q.b,{size:q.a.S})):n?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:e.errorContainer},l.a.createElement(z.b,{kind:b.Kinds.EXCLAMATION_ALT,size:b.Sizes.XXS,colorState:b.ColorStates.WARNING_GRAD_RED}),l.a.createElement(c.FormattedMessage,{id:"error_text",defaultMessage:"Error!"})),l.a.createElement(v.a,{overridingClass:e.tryAgainCTA,onClick:this.purchaseFreeTrial},l.a.createElement(c.FormattedMessage,{id:"launch.error.try.again",defaultMessage:"Try again"}))):l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{onClick:this.purchaseFreeTrial},l.a.createElement(c.FormattedMessage,{id:"mailpro_free_trial_cta_remove_ads",defaultMessage:"Remove ads"})),l.a.createElement(Y.c,{kind:Y.a.TEXT,size:Y.b.XS,onClick:i},l.a.createElement(c.FormattedMessage,{id:"onboarding.buttons.not_now",defaultMessage:"Not now"})));default:return l.a.createElement(v.a,{marginLess:!0,onClick:()=>this.navigateToMailPro(s)},l.a.createElement(c.FormattedMessage,{id:"get_mail_pro",defaultMessage:"Get {mailProBrandingString}",values:{mailProBrandingString:l.a.createElement(c.FormattedMessage,{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"})}}))}}render(){const e=this.context,t=e.intl.formatMessage,a=e.mailBrandNameString,n=this.props,s=n.onClose,i=n.accountName,r=n.handleOverlayClick,o=n.mailProFreeTrialSubscriptionStatus,m=n.purchaseFreeTrialInProgress,_=n.mailProUpsellClickURL,p=this.state.renderError,g=u()(h.a);return l.a.createElement(d.a,{onClose:r,onOuterClick:()=>{},kind:f.a.DARK,ariaLabelledBy:"right-rail-upsell-cue",ariaDescribedBy:"right-rail-upsell-cue"},l.a.createElement("div",{"data-test-id":"rr-upsell-cue",className:g.container},l.a.createElement("div",{className:g.close},l.a.createElement(E.default,{onClick:s,kind:b.Kinds.CLOSE,size:b.Sizes.XS,colorState:b.ColorStates.NORMAL,title:t(Q.close),"aria-label":t(Q.close),"data-test-id":"close-cue-button"})),l.a.createElement("div",{"data-test-id":"header",className:g.headerSection},l.a.createElement("div",{className:g.imageWrapper},l.a.createElement("div",{className:g.adBlockBackground},l.a.createElement("img",{className:g.thinkingEmoji,src:Object(T.a)("/img/animation_adblocker.gif")})))),l.a.createElement("div",{className:g.heading},l.a.createElement("div",{className:g.userName},t(Q.adBlockUpsellUserName,{accountName:i})),l.a.createElement("div",{className:g.message},t(Q.rightRailUpsellSubText))),l.a.createElement("div",{className:g.description,"data-test-id":"rr-upsell-cue-description-two-options"},l.a.createElement(c.FormattedMessage,o===X?{id:"free_trial_offer_body_text",defaultMessage:"We are now offering you an ad-free, commitment-free {mailBrandNameString} experience for {numOfDays} days.",values:{mailBrandNameString:a,numOfDays:A.fc}}:{id:"get_more_space_body_text",defaultMessage:"Get more space with our ad-free version of {mailBrandNameString}.",values:{mailBrandNameString:a}})),this.renderCTA({classNames:g,mailProFreeTrialSubscriptionStatus:o,purchaseFreeTrialInProgress:m,renderError:p,mailProUpsellClickURL:_,onClose:s})))}}s()(J,"contextTypes",{intl:c.intlShape.isRequired,region:r.a.string,mailBrandNameString:r.a.string});var $=J;const ee=Object(c.defineMessages)({yahooMailProBranding:{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"},yahooWiderMailBranding:{id:"mail.yahoo_wider_mail_upsell_branding",defaultMessage:"Wider Mail"},tryItFree:{id:"adblock_payup_try_it_free",defaultMessage:"Try it free!"},getExtension:{id:"adblock_payup_extension_text",defaultMessage:"Install"},upgradeToMailPro:{id:"upgrade_to_yahoo_mail_pro",defaultMessage:"Upgrade to {mailProBranding} (go ad-free)"},mailProPricePlan:{id:"upgrade_to_yahoo_mail_pro_price",defaultMessage:"{mailProPriceOption}/month"},getWiderMail:{id:"get_wider_mail_extension",defaultMessage:"Get the free {widerMailBranding} extension"},adBlockUpsellUserName:{id:"adBlock_upsell_user_name",defaultMessage:"Hi {accountName}!"},close:{id:"adBlock_upsell_close_icon",defaultMessage:"Close"},rightRailUpsellSubText:{id:"right_rail_upsell_subtext",defaultMessage:"Want more room to view your messages?"},adBlockUpsellOptionsHeader:{id:"adBlock_upsell_options_header",defaultMessage:"Want fewer ads?"},tryOneofThese:{id:"try_one_of_these",defaultMessage:"Try one of these options:"},videoAdDescription:{id:"right_rail_upsell_video_ad.description",defaultMessage:"Hide this ad for {duration} {units} (recommended)"},videoAdButton:{id:"right_rail_upsell_video_ad.button",defaultMessage:"Watch Video Ad"}});class te extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{videoAdStarted:!1,isTempAdFree:!1}),s()(this,"getRapidEvent",(e,t)=>({i13nModel:{mKey:e,sec:k.i.FEATURE_CUE,interactionType:Object(C.getInteractionFromEvent)(t)}})),s()(this,"statOptionClick",(e,t)=>{(0,this.props.onAdblockUpsellOptionClick)({mKey:e,sec:k.i.FEATURE_CUE,interactionType:Object(C.getInteractionFromEvent)(t)})}),s()(this,"onClose",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",sec:k.i.FEATURE_CUE,interactionType:Object(C.getInteractionFromEvent)(e),actionData:{isTempAdFree:this.state.isTempAdFree}}})}),s()(this,"handleOverlayClick",e=>{e.preventDefault(),e.stopPropagation(),this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),s()(this,"handleGetExtension",e=>{let t=Object(I.b)(window,"AppBootstrapData.browserName","");if(t=t.toLowerCase(),"chrome"===t){const e=this.props.widerMailExtensionUrl;Object(G.a)(e)}else"firefox"===t&&(location.href="https://addons.mozilla.org/firefox/downloads/latest/yahoo-wider-mail/addon-727603-latest.xpi?src=ymail",this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e)))}),s()(this,"handleClick",(e,t)=>{let a;switch(e){case"goToMailPro":return t.preventDefault(),t.stopPropagation(),K.b.sendI13nModel({i13nModel:{mKey:"cue_"+this.props.cueName+"_mailPro",sec:k.i.FEATURE_CUE,interactionType:Object(C.getInteractionFromEvent)(t)}}),void Object(G.a)(this.props.mailProUpsellClickURL);case"videoAd":a="cue_"+this.props.cueName+"_videoAd",this.setState({videoAdStarted:!0});break;case"getExtension":a="cue_"+this.props.cueName+"_getExtension",this.handleGetExtension(t);break;default:a="cue_"+this.props.cueName+"_success"}this.statOptionClick(a,t)}),s()(this,"handleAdFreeTimestampUpdated",()=>{this.setState({isTempAdFree:!0})}),s()(this,"renderUpsellCue",e=>{const t=this.context.intl.formatMessage,a=this.onClose,n=this.props,s=n.accountName,i=n.isMailProEligible,r=n.isWiderMailEligible,o=n.isMailPro,d=n.widerMailExtnEnabled,m=n.videoAdDuration,_=n.adData,u=n.rightRailUpsellVideoAd&&_&&Object(I.b)(_,"pencilAd.landingUrl",null)&&Object(I.b)(_,"videoAd.clickUrl",null);return l.a.createElement("div",{"data-test-id":"rr-upsell-cue",className:e.container},l.a.createElement("div",{className:e.close},l.a.createElement(E.default,{onClick:a,kind:b.Kinds.CLOSE,size:b.Sizes.XS,colorState:b.ColorStates.NORMAL,title:t(ee.close),"aria-label":t(ee.close),"data-test-id":"close-cue-button"})),l.a.createElement("div",{"data-test-id":"header",className:e.headerSection},l.a.createElement("div",{className:e.imageWrapper},l.a.createElement("div",{className:e.adBlockBackground},l.a.createElement("img",{className:e.thinkingEmoji,src:Object(T.a)("/img/animation_adblocker.gif")})))),l.a.createElement("div",{className:e.heading},l.a.createElement("div",{className:e.userName},t(ee.adBlockUpsellUserName,{accountName:s})),l.a.createElement("div",{className:e.message},t(ee.rightRailUpsellSubText))),r&&!d&&i&&!o?l.a.createElement("div",{className:e.description,"data-test-id":"rr-upsell-cue-description-two-options"},l.a.createElement(c.FormattedMessage,{id:"body_text_right_rail_upsell",defaultMessage:"Choose one of the options below to get an expanded view of your inbox:"})):null,l.a.createElement("div",{className:e.adblockUpsell,"data-test-id":"rr-upsell-options"},r&&!d?l.a.createElement(M,{heading:t(ee.getWiderMail,{widerMailBranding:t(ee.yahooWiderMailBranding)}),buttonKind:g.a.SECONDARY,hasMargin:!0,onClick:this.handleClick.bind(this,"getExtension"),buttonMessage:t(ee.getExtension),"data-test-id":"wider-mail-extension"}):null,i&&!o?l.a.createElement(M,{heading:t(ee.upgradeToMailPro,{mailProBranding:t(ee.yahooMailProBranding)}),buttonKind:u?g.a.SECONDARY:g.a.PRIMARY,hasMargin:!0,onClick:this.handleClick.bind(this,"goToMailPro"),linkTo:"#",buttonMessage:t(ee.tryItFree)}):null,u?l.a.createElement(M,{heading:t(ee.videoAdDescription,{duration:m>60?1:m,units:m>60?"day":"minutes"}),buttonKind:g.a.PRIMARY,hasMargin:!0,onClick:this.handleClick.bind(this,"videoAd"),buttonMessage:t(ee.videoAdButton),isVideoAdOption:!0}):null))})}componentDidMount(){const e=this.props,t=e.mailProUpsellImpressionURL;this.state.videoAdStarted||!e.isMailProEligible||e.isMailPro||Object(Z.a)(t,!1)}render(){const e=this.props,t=e.adData,a=e.accountName,n=e.videoAdDuration,s=e.mailProFreeTrialEnabled,i=e.mailProFreeTrialSubscriptionStatus,r=e.purchaseMailproFreeTrial,o=e.purchaseFreeTrialInProgress,c=e.purchaseFreeTrialStatus,m=e.mailProUpsellClickURL,_=u()(h.a);return s?l.a.createElement($,{handleOverlayClick:this.handleOverlayClick,onClose:this.onClose,accountName:a,mailProUpsellClickURL:m,mailProFreeTrialSubscriptionStatus:i,purchaseMailproFreeTrial:r,purchaseFreeTrialInProgress:o,purchaseFreeTrialStatus:c}):l.a.createElement(d.a,{onClose:this.handleOverlayClick,onOuterClick:()=>{},kind:f.a.DARK,ariaLabelledBy:"right-rail-upsell-cue",ariaDescribedBy:"right-rail-upsell-cue"},this.state.videoAdStarted?l.a.createElement(W,{onClose:this.onClose,onTimestampUpdate:this.handleAdFreeTimestampUpdated,adData:t,videoAdDuration:n}):this.renderUpsellCue(_))}}s()(te,"contextTypes",{intl:c.intlShape});const ae=e=>{const t=Object(S.selectors)(e),a=t.getAccountSelectors,n=t.getSelectedAccountId,s=t.getAdsSelectors,i=t.getMailproFreeTrialSelectors,r=(0,t.getFeaturesSelectors)(),o=(0,a().getAccountNameByAccountId)(n()),l=r.isEnabled(A.Eb.MAIL_PRO_ELIGIBLE),c=r.getSetting(A.Kd.WIDER_MAIL_EXTENSION_URL),d=r.isEnabled(A.Eb.WIDER_MAIL_ELIGIBLE),m=r.isEnabled(A.Eb.MAIL_PRO),_=r.isEnabled(A.Eb.IS_WIDER_MAIL_EXTN_ENABLED),u=r.isEnabled(A.Eb.RIGHT_RAIL_UPSELL_VIDEO_AD),p=r.getSetting(A.Kd.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION),h=r.getSetting(A.Kd.GEMINI_SECTION_IDS),g=s().getGeminiAdData(h[A.Nb.RIGHT_RAIL_UPSELL]),E=r.getSetting(A.Kd.MAILPRO_UPSELL_INSTRUMENTATION_URL),b=E.rightRailUpsellImpressionURL,f=E.rightRailUpsellClickURL,C=i(),y=C.getSubscriptionStatus,T=C.isPurchaseFreeTrialInProgress,v=C.getPurchaseFreeTrialStatus;return{isMailProEligible:l,accountName:o,isWiderMailEligible:d,widerMailExtensionUrl:c,isMailPro:m,widerMailExtnEnabled:_,rightRailUpsellVideoAd:u,videoAdDuration:p,adData:g,mailProUpsellImpressionURL:b,mailProUpsellClickURL:f,mailProFreeTrialEnabled:r.isEnabled(A.Eb.MAILPRO_FREE_TRIAL),mailProFreeTrialSubscriptionStatus:y(),purchaseFreeTrialInProgress:T(),purchaseFreeTrialStatus:v()}},ne=e=>({onAdblockUpsellOptionClick:t=>e(Object(N.e)({i13nModel:t})),purchaseMailproFreeTrial:t=>e(Object(V.a)(t))});t.default=Object(m.a)(Object(y.connect)(ae,ne)(te))},function(e,t,a){"use strict";a.r(t),a.d(t,"PanelStack",(function(){return Q})),a.d(t,"mapStateToProps",(function(){return J})),a.d(t,"mapDispatchToProps",(function(){return $}));var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(6),_=a(12),u=a.n(_),p=a(1729),h=a.n(p),g=a(5),E=a(14),b=a(10),f=a(0),C=a(17),S=a(4),y=(a(9),a(51)),T=a(1730),v=a.n(T),I=a(21);const M=Object(m.defineMessages)({close:{id:"cue.close",defaultMessage:"Close"}});class A extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{isHovered:!1,close:!1}),r()(this,"_onMouseEnter",()=>{this.setState({isHovered:!0})}),r()(this,"_onMouseLeave",()=>{this.setState({isHovered:!1})}),r()(this,"_onClose",e=>{e.stopPropagation();const t=this.props.closeOnClick;this.setState({close:!0},()=>t())}),r()(this,"_onClick",()=>{const e=this.props,t=e.onClick;e.closeOnClick?this.setState({close:!0},()=>t()):t()})}render(){const e=this._onClose,t=this._onMouseEnter,a=this._onMouseLeave,n=this._onClick,s=this.state,i=this.props,r=i.iconKind,o=i.iconSize,l=i.color,c=i.message,m=i.title,_=i.dataTestId,u=i.closeOnClick,p=this.context.intl.formatMessage,h=this.context.mailBrandNameString,g=this.context.getCss(v.a,{animate:i.animate,color:l,isParentHovered:i.isParentHovered,extraPadding:i.extraPadding,isHovered:s.isHovered,close:s.close});return d.a.createElement("div",{className:g.panelContainer,onClick:n,onMouseEnter:t,onMouseLeave:a,"data-test-id":_,title:p(m,{mailBrandNameString:h}),"aria-label":p(c)},d.a.createElement(C.b,{kind:r,size:o,colorState:l}),d.a.createElement("span",{className:g.optionLabel},p(c)),u?d.a.createElement("div",{className:g.closeBtn},d.a.createElement(I.default,{onClick:e,kind:S.Kinds.CLOSE,size:S.Sizes.XXS,colorState:S.ColorStates.IMPROVED_GRAY_DARK,title:p(M.close),"aria-label":p(M.close),"data-test-id":"close-cue-button"})):null)}}r()(A,"contextTypes",{intl:m.intlShape.isRequired,getCss:l.a.func,mailBrandNameString:l.a.string}),r()(A,"defaultProps",{iconSize:S.Sizes.XS,color:S.ColorStates.NORMAL,onClick:()=>{},isParentHovered:!1,dataTestId:"panel-item",animate:!1,extraPadding:!1});var N=A,k=a(1439),O=a(94),D=a(2);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const R=e=>function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({type:D.FEEDBACK_PANEL_GIVE_FEEDBACK},e);var w=a(13),F=a(1731),x=a.n(F),L=a(18),B=a(25),j=a(22),U=a(319),H=a(58);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const G=Object(m.defineMessages)({mailpro_free_trial_panel:{id:"mailpro_free_trial_panel",defaultMessage:"Enjoy ad-free mail for {daysDuration} days!"},mailpro_free_trial_cta_remove_ads:{id:"mailpro_free_trial_cta_remove_ads",defaultMessage:"Remove ads"},try_again:{id:"subhub.tryAgain",defaultMessage:"Try again"},error_text:{id:"error_text",defaultMessage:"Error!"}});class Z extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{removeAdsClicked:!1,renderError:!1,purchaseFreeTrialStatus:""}),r()(this,"handleClick",()=>{this.setState({removeAdsClicked:!0}),this.props.purchaseMailproFreeTrial({i13nModel:{mKey:"panel_"+this.props.cueName+"_subscription",sec:g.i.MAILPRO_FREE_TRIAL,interactionType:g.e.click}})})}static getDerivedStateFromProps(e,t){return e.purchaseFreeTrialStatus!==t.purchaseFreeTrialStatus?t.purchaseFreeTrialStatus&&"FAILED"===e.purchaseFreeTrialStatus&&t.removeAdsClicked?{renderError:!0,purchaseFreeTrialStatus:e.purchaseFreeTrialStatus,removeAdsClicked:!1}:{renderError:!1,purchaseFreeTrialStatus:e.purchaseFreeTrialStatus}:null}componentDidUpdate(e){e.subscriptionStatus===f.gc.NOT_SUBSCRIBED&&this.props.subscriptionStatus===f.gc.SUBSCRIBED&&window.location.reload(!0)}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.themeMode,n=t.purchaseFreeTrialInProgress,s=u()(x.a,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a===j.i.LIGHT?{["panelBackground_"+this.context.getTheme()]:!0}:{})),i=e(G.mailpro_free_trial_panel,{daysDuration:f.fc}),o=e(this.state.renderError?G.try_again:G.mailpro_free_trial_cta_remove_ads),l=e(G.error_text);return d.a.createElement("div",{className:s.panelContainer,"data-test-id":"mailpro-free-trial-panel",title:i,"aria-label":i},d.a.createElement("span",{className:s.panelTitle},i),this.state.removeAdsClicked&&n?d.a.createElement("div",{className:s.loadingIndicator},d.a.createElement(H.b,{size:H.a.S})):d.a.createElement(L.a,{title:o,"data-test-id":"mailpro-free-trial-panel-cta",kind:B.a.TEXT,"aria-label":o,overridingClass:s.ctaButton,onClick:this.handleClick},o),this.state.renderError?d.a.createElement("div",{className:s.errorMessageContainer},d.a.createElement(C.b,{kind:S.Kinds.EXCLAMATION_ALT,size:S.Sizes.XXS,colorState:S.ColorStates.WARNING_GRAD_RED}),l):null)}}r()(Z,"contextTypes",{intl:m.intlShape,getTheme:l.a.func});var V=Object(U.a)(Z),q=a(321);const z=f.hc.PRE_SIGNUP_LEFT_PANEL_1,Y=f.hc.PRE_SIGNUP_LEFT_PANEL_2,K=f.hc.PRE_SIGNUP_LEFT_PANEL_3,X=Object(m.defineMessages)({timezone:{id:"timezonePanel",defaultMessage:"Update time zone"},timezoneTitle:{id:"timezonePanelTitle",defaultMessage:"Your computer's time zone does not appear to match your {mailBrandNameString} time zone preference."},feedback:{id:"feedbackPanel",defaultMessage:"Give Feedback"},feedbackTitle:{id:"feedbackPanelTitle",defaultMessage:"Provide Feedback about Yahoo Mail"}});class Q extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{isHovered:!1,timezoneConflict:!1,showPanelItems:!1}),r()(this,"_onNavigateToSetting",()=>{this.context.navigateTo({route:Object(E.w)({settingsGroupId:f.Nd.VIEWING_EMAIL,accountId:this.props.accountId})})}),r()(this,"_onGiveFeedback",()=>{this.props.giveFeedback({i13nModel:{mKey:g.g.FEEDBACK_PANEL_GIVE_FEEDBACK,sec:g.i.FEEDBACK_PANEL}}),Object(O.a)(this.props.feedbackURL)})}componentDidMount(){const e=this.props,t=e.silentTimeZoneCorrection,a=e.showMailproFreeTrialUpsell,n=this.context.timezone.name,s=Object(k.d)(n);s&&!t&&this.setState({timezoneConflict:s}),this.setState(a?{showPanelItems:!0}:{showPanelItems:!this.props.lastpassFreeTrialUpsellEnabled})}render(){const e=this.props,t=e.showFeedbackPanel,a=e.showMailproFreeTrialUpsell,n=e.purchaseMailproFreeTrial,i=e.themeMode,r=e.purchaseFreeTrialInProgress,o=e.subscriptionStatus,l=e.purchaseFreeTrialStatus,c=e.upsellId;if(!this.state.showPanelItems)return null;const m=u()(h.a,{showMailproFreeTrialUpsell:a}),_=[],p={upsellId:c};return this.state.timezoneConflict&&_.push({iconKind:S.Kinds.CLOCK,color:S.ColorStates.ADVISORY,onClick:this._onNavigateToSetting,isParentHovered:this.state.isHovered,message:X.timezone,title:X.timezoneTitle,dataTestId:"timezone-panel"}),t&&_.push({iconKind:S.Kinds.FEEDBACK,color:S.ColorStates.NORMAL,onClick:this._onGiveFeedback,isParentHovered:this.state.isHovered,message:X.feedback,title:X.feedbackTitle,dataTestId:"feedback-panel"}),d.a.createElement("div",{className:m.wrapper,"data-test-id":"panel-stack"},a?d.a.createElement(V,{purchaseMailproFreeTrial:n,themeMode:i,cueName:f.Eb.MAILPRO_FREE_TRIAL_UPSELLS,purchaseFreeTrialInProgress:r,subscriptionStatus:o,purchaseFreeTrialStatus:l,computeUserResponse:()=>c,computeActionData:()=>p}):d.a.createElement("div",{"data-test-id":"panel-stack-items",onMouseEnter:()=>this.setState({isHovered:!0}),onMouseLeave:()=>this.setState({isHovered:!1})},_.map((e,t)=>d.a.createElement(N,s()({},e,{key:t})))))}}r()(Q,"contextTypes",{navigateTo:l.a.func,timezone:y.TimezoneType,partner:l.a.string});const J=e=>{const t=Object(b.selectors)(e),a=t.isFeatureEnabled,n=t.getSetting,s=t.getMailproFreeTrialSelectors,i=a(f.Eb.LASTPASS_FREETRIAL_UPSELL),r=s(),o=r.getSubscriptionStatus,l=r.getPurchaseFreeTrialStatus,c=r.getUpsellId,d=(0,r.isPurchaseFreeTrialInProgress)(),m=o(),_=l(),u=c(),p=[z,Y,K].indexOf(u)>-1,h=a(f.Eb.MAILPRO_FREE_TRIAL_UPSELLS)&&p;return{showFeedbackPanel:a(f.Eb.SHOW_FEEDBACK_PANEL),feedbackURL:n(f.Kd.FEEDBACK_URL),lastpassFreeTrialUpsellEnabled:i,silentTimeZoneCorrection:a(f.Eb.SILENT_TIMEZONE_CORRECTION),showMailproFreeTrialUpsell:h,themeMode:n(f.Kd.THEME_MODE),purchaseFreeTrialInProgress:d,subscriptionStatus:m,purchaseFreeTrialStatus:_,upsellId:u}},$=e=>({giveFeedback:t=>e(R(t)),purchaseMailproFreeTrial:t=>e(Object(q.a)(t))});t.default=Object(w.connect)(J,$)(Q)},function(e,t,a){"use strict";a.r(t),a.d(t,"ERROR_FRAME_PATH",(function(){return g})),a.d(t,"Downloader",(function(){return b})),a.d(t,"mapStateToProps",(function(){return f})),a.d(t,"mapDispatchToProps",(function(){return C}));var n=a(3),s=a.n(n),i=(a(7),a(1)),r=a.n(i),o=a(13),l=a(0);var c=class extends r.a.Component{constructor(...e){super(...e),s()(this,"_isIFrameLoaded",()=>{try{return this.iframe&&this.iframe.contentDocument}catch(e){return!0}}),s()(this,"checkDownloadStatus",()=>{this._isIFrameLoaded()||(this._downloadFallbackWindow=window.open(this.props.downloadUrl,"_self"))})}componentDidMount(){const e=this.props,t=e.downloadId,a=e.onDownloadCompleted;this.timeout=setTimeout(()=>{(this._isIFrameLoaded()||this._downloadFallbackWindow)&&a({downloadId:t})},l.ob)}componentWillUnmount(){clearTimeout(this.timeout),this._downloadFallbackWindow&&this._downloadFallbackWindow.close&&this._downloadFallbackWindow.close(),this.timeout=null,this._downloadFallbackWindow=null}render(){return r.a.createElement("iframe",{width:"0",height:"0",src:this.props.downloadUrl,style:{display:"none"},ref:e=>this.iframe=e,onLoad:this.checkDownloadStatus})}},d=a(10),m=a(68),_=a(2),u=a(70);const p=a.n(u).a.create("norrin/downloader");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const g=l.Ie+"/iframemsg";function E(){return window.location.hostname+(window.location.port?":"+window.location.port:"")}class b extends r.a.Component{constructor(...e){super(...e),s()(this,"_handlePostMessage",e=>{const t=e.source;if(e.origin!=="https://"+E()||t.location.pathname!==g)return;let a={};try{a=JSON.parse(e.data)}catch(t){return void m.a.error(`Unable to parse JSON data from ${g}.`,e.data)}const n=a.error,i=void 0===n?{}:n,r=this.props.downloadItems.find(e=>e.downloadId===a.id)||{};this.props.handleDownloadFailed(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({downloadId:r.downloadId,downloadUrl:r.downloadUrl,filename:r.filename,fileCount:r.fileCount},i))}),s()(this,"_buildDownloadUrl",(e,t)=>{if(-1===E().indexOf("mail.yahoo.com")&&-1===E().indexOf("mail.aol.com"))return t;return`${t}&error=${encodeURIComponent(`${function(){return`https://${E()}${g}`}()}?id=${e}`)}`})}componentDidMount(){window.addEventListener("message",this._handlePostMessage)}componentWillUnmount(){window.removeEventListener("message",this._handlePostMessage)}render(){const e=this.props,t=e.handleDownloadCompleted,a=e.downloadItems.map(e=>r.a.createElement(c,{key:e.downloadId,downloadId:e.downloadId,downloadUrl:this._buildDownloadUrl(e.downloadId,e.downloadUrl),onDownloadCompleted:t}));return a.length?r.a.createElement("div",{"data-test-id":"downloader-wrapper"},a):null}}function f(e){return{downloadItems:(0,Object(d.selectors)(e).getDownloadsSelectors)().getDownloads()}}function C(e){return{handleDownloadCompleted({downloadId:t}){e(function({downloadId:e,downloadUrl:t}){return p.info("download completed",{downloadId:e,downloadUrl:t}),{type:_.DOWNLOAD_COMPLETED,downloadId:e}}({downloadId:t}))},handleDownloadFailed({downloadId:t,downloadUrl:a,filename:n,fileCount:s,error:i}){e(function({downloadId:e,downloadUrl:t,fileCount:a,filename:n,error:s={}}){return p.error("download failed",{downloadId:e,downloadUrl:t,error:s}),{type:_.DOWNLOAD_FAILED,downloadId:e,downloadUrl:t,fileCount:a,filename:n,error:s}}({downloadId:t,downloadUrl:a,filename:n,fileCount:s,error:i}))}}}t.default=Object(o.connect)(f,C)(b)},function(e,t,a){"use strict";a.r(t),a.d(t,"PlaAdsPanelRoot",(function(){return A})),a.d(t,"mapStateToProps",(function(){return N})),a.d(t,"mapDispatchToProps",(function(){return k}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(1487),d=a.n(c),m=a(10),_=a(13),u=a(6),p=a(8),h=a(2);var g=a(5),E=a(0),b=a(27),f=a.n(b),C=a(607);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}class y extends l.a.Component{constructor(e,{getCss:t}){super(e),this.state={hover:!1},this.classNames=t(d.a),this.handleMouseOver=this.handleMouseOver.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleClick=this.handleClick.bind(this)}handleMouseOver(){this.setState({hover:!0})}handleMouseLeave(){this.setState({hover:!1})}handleClick(){const e=this.props;(0,e.adPanelClicked)(e.adItem)}renderDetails(){var e;const t=this.props.adItem,a=this.classNames;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:a.sellerInfo},t.sellerName),(null==t||null===(e=t.productRating)||void 0===e?void 0:e.rating)?l.a.createElement("div",{className:a.ratingsContainer},l.a.createElement("div",{className:a.ratings},l.a.createElement(C.a,{value:parseInt(t.productRating.rating,10)/2})),l.a.createElement("span",{className:a.ratingsCount},t.productRating.rating/2,t.productRating.numberOfReviews?` (${t.productRating.numberOfReviews})`:null)):null)}render(){const e=this.props.adItem,t=e.k,a=e.ns,n=e.url,i=e.title,r=e.thumbnailUrl,o=this.classNames,c=e.dealPrice||e.originalPrice,d=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({"data-yiid":e.impressionId},t&&a?{"data-appns":a,"data-k":t}:{});return l.a.createElement("a",{rel:"noreferrer",href:n,target:"_blank","aria-hidden":!0,onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseOver:this.handleMouseOver},l.a.createElement("div",f()({className:o.productContainer},d),l.a.createElement("div",{className:this.state.hover?o.overlay:null},l.a.createElement("div",{className:o.product},l.a.createElement("div",{className:o.productImage,style:{backgroundImage:`url(${r})`}}),l.a.createElement("div",{className:o.productPrice},c),l.a.createElement("div",{className:o.productTitle,title:i},i),this.state.hover&&this.renderDetails()))))}}y.contextTypes={intl:u.intlShape.isRequired,getCss:r.a.func};var T=a(98),v=a(53),I=a.n(v);const M=Object(u.defineMessages)({headerTitle:{id:"pla.header.title",defaultMessage:'Shopping results for "{searchKeyword}"'},ad_text:{id:"ad_text_unified",defaultMessage:"Ad"}});class A extends l.a.Component{constructor(...e){super(...e),s()(this,"onAdPanelClicked",e=>{const t=this.props;(0,t.onPlaAdClicked)({i13nModel:{mKey:g.g.SEARCH_PLA_AD_ITEM_CLICKED,sec:g.i.RIGHT_RAIL_PLA_CARD,interactionType:g.e.click,actionData:{adTitle:e.title,keyword:t.searchKeyword}}})})}componentDidMount(){this.sendHTMLBeacon(),this.sendPageLoadBeacon()}sendHTMLBeacon(){const e=this.props,t="https://search.yahoo.com/beacon/geop/p?"+I.a.stringify({s:e.spaceId,ysid:e.instrumentation.searchId,traffic_source:e.sourceTag});Object(T.a)(t,!1)}sendPageLoadBeacon(){var e,t;const a=this.props.instrumentation;(null===(e=window)||void 0===e||null===(t=e.pla)||void 0===t?void 0:t.init)&&window.pla.init(a.clientId,a.impressionGuid)}render(){const e=this.props,t=e.aboutAdsUrl,a=e.plaAds,n=e.searchKeyword,s=this.context.getCss(d.a,{isRRCompactSize:e.isRRCompactSize}),i=this.context.intl.formatMessage,r=i(M.headerTitle,{searchKeyword:n});return l.a.createElement("div",{className:s.container},l.a.createElement("div",{className:s.header},l.a.createElement("span",null,l.a.createElement("a",{rel:"noreferrer",className:s.adText,href:t,target:"_blank"},i(M.ad_text)),l.a.createElement("span",{className:s.adMidDot},"·")),l.a.createElement("span",{className:s.headerTitle,title:r},r)),l.a.createElement("div",{className:s.products},a.map(e=>l.a.createElement(y,{key:e.url,adItem:e,adPanelClicked:this.onAdPanelClicked}))))}}A.contextTypes={intl:u.intlShape.isRequired,getCss:r.a.func};const N=e=>{const t=Object(m.selectors)(e),a=t.getSetting,n=t.getPlaAdsSelectors,s=t.isNarrowScreen,i=(0,t.getRoute)(),r=Object(p.z)(i),o=Object(p.v)(r),l=a(E.Kd.ABOUT_AD_URL),c=n().getPlaAdDataForCurrentRoute(),d=c.instrumentation;return{plaAds:c.ads,searchKeyword:o,isRRCompactSize:s(),aboutAdsUrl:l,instrumentation:d,spaceId:a(E.Kd.SPACE_IDS).searchKeyword,sourceTag:a(E.Kd.PLA_SEARCH_SOURCE_TAG)}},k=e=>({onPlaAdClicked:t=>e((({i13nModel:e})=>({type:h.SEARCH_PLA_AD_CLICKED,i13nModel:e}))(t))});t.default=Object(_.connect)(N,k)(A)},function(e,t,a){"use strict";a.r(t),a.d(t,"mapStateToProps",(function(){return q}));var n=a(1),s=a.n(n),i=a(13),r=a(27),o=a.n(r),l=a(3),c=a.n(l),d=a(28),m=a.n(d),_=a(7),u=a.n(_),p=a(6),h=a(12),g=a.n(h),E=a(492),b=a.n(E),f=a(0),C=a(9),S=a(1499),y=a(14),T=(a(22),a(156)),v=a(5),I=a(16),M=a(173),A=a(4),N=a(17),k=a(82),O=a(45),D=a(18),P=a(94),R=a(10),w=a(98),F=a(321),x=a(58);const L=f.gc.NOT_SUBSCRIBED,B=f.gc.SUBSCRIBED,j=f.gc.UPGRADED_TO_MAILPRO;var U=class extends s.a.PureComponent{constructor(...e){super(...e),c()(this,"state",{renderError:!1,purchaseFreeTrialStatus:""}),c()(this,"purchaseFreeTrial",e=>{e.stopPropagation(),this.props.purchaseMailproFreeTrial({i13nModel:{mKey:v.g.PURCHASE_FREE_TRIAL_FROM_SETTINGS_MENU,sec:v.i.MAILPRO_FREE_TRIAL,interactionType:v.e.click}})})}static getDerivedStateFromProps(e,t){return e.purchaseFreeTrialStatus!==t.purchaseFreeTrialStatus?t.purchaseFreeTrialStatus&&"FAILED"===e.purchaseFreeTrialStatus?{renderError:!0,purchaseFreeTrialStatus:e.purchaseFreeTrialStatus}:{renderError:!1,purchaseFreeTrialStatus:e.purchaseFreeTrialStatus}:null}navigateToMailPro(e){O.b.sendI13nModel({i13nModel:{mKey:v.g.NAVIGATE_TO_MAIL_PRO_FROM_SETTINGS_POPOVER,sec:v.i.MAILPRO_FREE_TRIAL,interactionType:v.e.click}}),Object(P.a)(e)}render(){const e=g()(b.a),t=this.props,a=t.mailProUpsellClickURL,n=t.purchaseFreeTrialInProgress,i=this.state.renderError;switch(t.mailProFreeTrialSubscriptionStatus){case L:return n?s.a.createElement("span",{className:e.loadingSpinner},s.a.createElement(x.b,{size:x.a.S})):i?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:e.errorContainer},s.a.createElement(N.b,{kind:A.Kinds.EXCLAMATION_ALT,size:A.Sizes.XXS,colorState:A.ColorStates.WARNING_GRAD_RED}),s.a.createElement(p.FormattedMessage,{id:"error_text",defaultMessage:"Error!"}),s.a.createElement(D.a,{overridingClass:e.tryAgainCTA,onClick:this.purchaseFreeTrial},s.a.createElement(p.FormattedMessage,{id:"launch.error.try.again",defaultMessage:"Try again"})))):s.a.createElement(D.a,{overridingClass:e.promoButton,onClick:this.purchaseFreeTrial},s.a.createElement(p.FormattedMessage,{id:"mailpro_free_trial_cta_remove_ads",defaultMessage:"Remove ads"}));case B:return s.a.createElement(D.a,{overridingClass:e.promoButton,onClick:()=>this.navigateToMailPro(a)},s.a.createElement(p.FormattedMessage,{id:"keep_mail_pro",defaultMessage:"Keep {mailProBrandingString}",values:{mailProBrandingString:s.a.createElement(p.FormattedMessage,{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"})}}));case j:return s.a.createElement(D.a,{overridingClass:e.promoButton,onClick:()=>this.navigateToMailPro(a)},s.a.createElement(p.FormattedMessage,{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"}));default:return s.a.createElement(D.a,{overridingClass:e.promoButton,onClick:()=>this.navigateToMailPro(a)},s.a.createElement(p.FormattedMessage,{id:"get_mail_pro",defaultMessage:"Get {mailProBrandingString}",values:{mailProBrandingString:s.a.createElement(p.FormattedMessage,{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"})}}))}}};const H=Object(p.defineMessages)({moreSettings:{id:"more_settings_title",defaultMessage:"Settings"},optOutLinkText:{id:"option_to_basic_mail_item",defaultMessage:"Switch to basic Mail"},giveFeedbackText:{id:"give_feedback_link",defaultMessage:"Give feedback"},yahooMailProBranding:{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"},yahooMailProUpsell:{id:"mail.yahoo_mail_pro_upsell",defaultMessage:"Try {YahooMailProBrand}"},yahooWiderMailUpsell:{id:"mail.yahoo_wider_mail_upsell",defaultMessage:"Get fewer ads"}}),W="https://chrome.google.com/webstore/detail/ccnahoejlccigmekeiephhmcfkiadlgh";class G extends s.a.Component{constructor(...e){super(...e),c()(this,"state",{hasScrolled:!1,menuFooterItemsHeight:84}),c()(this,"swallowEvent",e=>{e.stopPropagation()}),c()(this,"_renderOptOutItem",(e,t)=>{if(!this.props.norrinOptOut)return null;const a=f.Jc+"?crumb="+window.AppBootstrapData.crumb;return s.a.createElement("a",{href:this.props.optOutSurvey?"#":a,className:e.optOutLink,onClick:this.props.onOptOutFeedback,title:t(H.optOutLinkText),"data-test-id":"opt-out-button"},s.a.createElement(N.b,{kind:A.Kinds.ARROW_UP,size:A.Sizes.XS,rotate:A.Rotate.D270,colorState:A.ColorStates.INHERITED}),s.a.createElement("span",{className:e.menuLabel},t(H.optOutLinkText)))}),c()(this,"_renderMailProItem",(e,t,a)=>{const n=this.props;return n.mailProFreeTrialEnabled?s.a.createElement(U,{mailProUpsellClickURL:a,mailProFreeTrialSubscriptionStatus:n.mailProFreeTrialSubscriptionStatus,purchaseFreeTrialInProgress:n.purchaseFreeTrialInProgress,purchaseMailproFreeTrial:n.purchaseMailproFreeTrial,purchaseFreeTrialStatus:n.purchaseFreeTrialStatus}):s.a.createElement(D.a,{overridingClass:e.promoButton,onClick:()=>this.navigateToMailPro(a)},this.props.mailProEnabled?t(H.yahooMailProBranding):t(H.yahooMailProUpsell,{YahooMailProBrand:t(H.yahooMailProBranding)}))}),c()(this,"_renderWiderMailPromo",(e,t)=>s.a.createElement("a",{href:W,onClick:this.handleGetExtension.bind(this),rel:"noreferrer",target:"_blank"},s.a.createElement(D.a,{overridingClass:e.promoButton},t(H.yahooWiderMailUpsell)))),c()(this,"handleGetExtension",e=>{this.props.goToWiderPromo({event:e}),e.preventDefault();let t=Object(C.b)(window,"AppBootstrapData.browserName","");t=t.toLowerCase(),"firefox"===t?location.href="https://addons.mozilla.org/firefox/downloads/latest/yahoo-wider-mail/addon-727603-latest.xpi":Object(P.a)(W)}),c()(this,"handleScroll",()=>{this.setState({hasScrolled:!0})}),c()(this,"gotoSettings",e=>{e.preventDefault(),this.context.navigateTo({route:Object(y.w)({settingsGroupId:f.Nd.PERSONALIZE_INBOX}),i13nModel:{mKey:v.g.SETTINGS_POPUP_MORE,sec:v.i.SETTINGS_POPUP,interactionType:Object(I.getInteractionFromEvent)(e)}})}),c()(this,"_goToFeedbackPage",e=>{this.props.giveFeedback({event:e})}),c()(this,"handleClickToScroll",e=>{const t=m.a.findDOMNode(this._menuItemQuickAccessDiv),a=e.offsetHeight-t.offsetHeight;this._scrollInterval=setInterval(()=>{t.scrollTop+T.e<=a?t.scrollTop+=T.e:clearInterval(this._scrollInterval)},T.d)})}componentDidMount(){this.setState({menuFooterItemsHeight:this.footerElem1.clientHeight+(this.footerElem2?this.footerElem2.clientHeight:0)||84});const e=this.props,t=e.mailProUpsellImpressionURL;e.mailProLinkInSettingsMenu&&!e.widerMailPromo&&Object(w.a)(t,!1)}componentDidUpdate(){const e=this.props.onUpdateCompleted;e&&e()}componentWillUnmount(){this.context.executeAction(M.b)}navigateToMailPro(e){O.b.sendI13nModel({i13nModel:{mKey:v.g.NAVIGATE_TO_MAIL_PRO_FROM_SETTINGS_POPOVER,sec:v.i.MAILPRO_FREE_TRIAL,interactionType:v.e.click}}),Object(P.a)(e)}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.feedbackUrl,n=t.photoThemes,i=t.availableHeightBelowCommsProps,r=t.partnerBrand,l=t.showGiveFeedbackLink,c=t.optOutLinkInMoreSettings,d=t.mailProLinkInSettingsMenu,m=t.widerMailPromo,_=t.mailProUpsellClickURL,u=g()(b.a,{hideFeedbackLink:!l}),h=i-this.state.menuFooterItemsHeight,E=h>T.g?h:T.g;return s.a.createElement("div",{className:u.menuContainer,"data-test-id":"settings-menu"},s.a.createElement("ul",{className:u.menuList},s.a.createElement("li",{onClick:this.swallowEvent},s.a.createElement("div",{"data-test-id":"menu-item-quick-access-div",ref:e=>this._menuItemQuickAccessDiv=e,className:u.menuItemQuickAccess,onScroll:this.handleScroll,style:{maxHeight:E}},s.a.createElement(S.a,o()({},this.props,{liteVersion:!0,hasScrolled:this.state.hasScrolled,handleClickToScroll:this.handleClickToScroll,menuItemQuickAccessHeight:E,photoThemes:n,partnerBrand:r})))),s.a.createElement("li",{className:u.menuItem,ref:e=>this.footerElem1=e},s.a.createElement("a",{onClick:this.gotoSettings,title:e(H.moreSettings),href:this.context.getUrlFromRoute({name:f.rd.SETTINGS,params:{settingsGroupId:f.Nd.PERSONALIZE_INBOX}}),className:u.moreSettingsLink,"data-test-id":"more-settings"},s.a.createElement(N.b,{kind:A.Kinds.MORE,size:A.Sizes.XS,colorState:A.ColorStates.INHERITED}),s.a.createElement("span",{className:u.menuLabel},s.a.createElement(p.FormattedMessage,{id:"more_settings_link",defaultMessage:"More Settings"})))),l||!c||d||m?s.a.createElement("li",{className:u.menuItemFooter,ref:e=>this.footerElem2=e},c||d?null:this._renderOptOutItem(u,e),s.a.createElement("a",{target:"_blank",href:a,onClick:this._goToFeedbackPage,className:u.feedbackLink,title:e(H.giveFeedbackText),"data-test-id":"give-feedback"},s.a.createElement(N.b,{kind:A.Kinds.FEEDBACK,size:A.Sizes.XXS,colorState:A.ColorStates.INHERITED}),s.a.createElement("span",{className:u.menuLabel},e(H.giveFeedbackText))),d&&!m?this._renderMailProItem(u,e,_):null,m?this._renderWiderMailPromo(u,e):null):null))}}c()(G,"contextTypes",{intl:p.intlShape.isRequired,executeAction:u.a.func,navigateTo:u.a.func,config:u.a.object,getUrlFromRoute:u.a.func.isRequired});const Z=Object(O.a)(v.i.SETTINGS_POPUP);var V=Object(i.connect)(e=>{const t=Object(R.selectors)(e),a=t.isFeatureEnabled,n=t.getMailproFreeTrialSelectors,s=(0,t.getSetting)(f.Kd.MAILPRO_UPSELL_INSTRUMENTATION_URL),i=s.settingsPopoverImpressionURL,r=s.settingsPopoverClickURL,o=n(),l=o.getSubscriptionStatus,c=o.isPurchaseFreeTrialInProgress,d=o.getPurchaseFreeTrialStatus;return{mailProUpsellImpressionURL:i,mailProUpsellClickURL:r,mailProFreeTrialEnabled:a(f.Eb.MAILPRO_FREE_TRIAL),mailProFreeTrialSubscriptionStatus:l(),purchaseFreeTrialInProgress:c(),purchaseFreeTrialStatus:d()}},e=>({giveFeedback:({event:t})=>e(Object(k.r)(Z({event:t,mKey:v.g.SETTINGS_POPUP_FEEDBACK}))),goToWiderPromo:({event:t})=>e(Object(k.x)(Z({event:t,mKey:v.g.SETTINGS_POPUP_WIDER_PROMO}))),purchaseMailproFreeTrial:t=>e(Object(F.a)(t))}))(G);function q(e){const t=(0,Object(R.selectors)(e).getFeaturesSelectors)();return{snippets:t.isEnabled(f.Kd.SNIPPETS),multiTaskModeSetting:t.isEnabled(f.Kd.MAIL_TABS),themeSetting:t.getSetting(f.Kd.THEME),themeModeSetting:t.getSetting(f.Kd.THEME_MODE),previewPaneSetting:t.getSetting(f.Kd.PREVIEW_PANE),msgListDensity:t.getSetting(f.Kd.MSG_LIST_DENSITY),photoThemes:t.isEnabled(f.Eb.PHOTO_THEMES),norrinOptOut:t.isEnabled("norrinOptOut"),optOutSurvey:t.isEnabled("optOutSurvey"),feedbackUrl:t.getSetting(f.Kd.FEEDBACK_URL),partnerBrand:t.getSetting(f.Kd.PARTNER_BRAND),showGiveFeedbackLink:t.isEnabled(f.Eb.SHOW_GIVE_FEEDBACK_LINK),optOutLinkInMoreSettings:t.isEnabled(f.Eb.SHOW_OPT_OUT_LINK_MORE_SETTINGS),mailProLinkInSettingsMenu:t.isEnabled(f.Eb.MAIL_PRO_LINK_IN_SETTINGS_MENU),mailProEnabled:t.isEnabled(f.Eb.MAIL_PRO),widerMailPromo:t.isEnabled(f.Eb.WIDER_MAIL_PROMO)}}t.default=Object(i.connect)(q)(V)},function(e,t,a){"use strict";a.r(t),a.d(t,"RewardsIconPopover",(function(){return F})),a.d(t,"mapStateToProps",(function(){return x})),a.d(t,"mapDispatchToProps",(function(){return L}));var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(13),_=a(1436),u=a.n(_),p=a(10),h=a(6),g=a(49),E=a(18),b=a(25),f=a(319),C=a(16),S=a(1379),y=a(0),T=a(204);const v=Object(h.defineMessages)({rewards_atos_signup_cue_title:{id:"rewards_atos_signup_cue_title",defaultMessage:"Join and start to earn YPoints"},rewards_atos_signup_cue_description:{id:"rewards_atos_signup_cue_description",defaultMessage:"Join Yahoo Rewards Program, check your mailbox every day and earn YPoints to redeem rewards."},rewards_upgrade_atos_cue_title:{id:"rewards_upgrade_atos_cue_title",defaultMessage:"Term of Service Updated"},rewards_upgrade_atos_cue_description:{id:"rewards_upgrade_atos_cue_description",defaultMessage:"Please check and agree updated term of service, continue to earn points in {mailBrandingString}."},rewards_cta_join_now:{id:"rewards_cta_join_now",defaultMessage:"Join Now"},rewards_cta_maybe_later:{id:"rewards_cta_maybe_later",defaultMessage:"Maybe Later"},rewards_cta_upgrade_now:{id:"rewards_cta_upgrade_now",defaultMessage:"Upgrade Now"}}),I=(e,{getCss:t,region:a,intl:{formatMessage:n}})=>{const s=e.atosInfo,i=s.atosStatus,r=s.url,o=e.onClose,l=e.cueName,c=e.tmrNotificationUserResponse,m=i===y.oe.EXPIRED,_=t(u.a),p=(e,t)=>({i13nModel:{mKey:e,interactionType:Object(C.getInteractionFromEvent)(t),actionData:{atosStatus:i,cueCount:c}}}),h=e=>{o(p("cue_"+l+"_success",e)),window.open(r+`?.done=${encodeURIComponent(S.c)}&.src=${S.a[a]||"media-tw"}`,"_self")};return d.a.createElement("div",{className:_.subwrapper,"data-test-id":"tmr_atos_cue"},d.a.createElement("div",{className:_.imgContainer},d.a.createElement("img",{className:_.cueImg,src:Object(g.a)((()=>m?"hk"===a?"/img/tmr_hk_atos_upgrade_cue.svg":"/img/tmr_tw_atos_upgrade_cue.svg":"hk"===a?"/img/tmr_hk_atos_signup_cue.svg":"/img/tmr_tw_atos_signup_cue.svg")())})),d.a.createElement("div",{className:_.content},d.a.createElement("div",{className:_.title},n(m?v.rewards_upgrade_atos_cue_title:v.rewards_atos_signup_cue_title)),d.a.createElement("div",{className:_.description},m?n(v.rewards_upgrade_atos_cue_description,{mailBrandingString:n(T.a.mailBrandName)}):n(v.rewards_atos_signup_cue_description)),d.a.createElement("div",null,m?d.a.createElement(E.a,{overridingClass:_.primary,onClick:h,kind:b.a.PRIMARY,"data-test-id":"cta-upgrade-now",marginLess:!0},n(v.rewards_cta_upgrade_now)):d.a.createElement(E.a,{overridingClass:_.primary,onClick:h,kind:b.a.PRIMARY,"data-test-id":"cta-join-now",marginLess:!0},n(v.rewards_cta_join_now)),d.a.createElement(E.a,{overridingClass:_.secondary,onClick:e=>{o(p("cue_"+l+"_close",e))},kind:b.a.SECONDARY_BORDERLESS,"data-test-id":"cta-maybe-later"},n(v.rewards_cta_maybe_later)))))};I.contextTypes={getCss:l.a.func,intl:h.intlShape.isRequired,region:l.a.string};var M=Object(f.a)(I);const A=y.gb.WEEKEND_BONUS,N=y.gb.MILESTONE_BONUS,k=Object(h.defineMessages)({rewards_tasks_completed_title:{id:"rewards_tasks_completed_title",defaultMessage:"You earned {points} YPoints"},rewards_tasks_completed_description:{id:"rewards_tasks_completed_description",defaultMessage:"Checked in today! Come back on weekend to earn bonus YPoints"},rewards_bonus_tasks_completed_title:{id:"rewards_bonus_tasks_completed_title",defaultMessage:"It's Weekend! You earn {points} YPoints as bonus"},rewards_bonus_tasks_completed_description:{id:"rewards_bonus_tasks_completed_description",defaultMessage:"Checked in today! Glad to see you in weekend and earn bonus YPoints"},rewards_cta_see_progress:{id:"rewards_cta_see_progress",defaultMessage:"See Progress"},rewards_cta_got_it:{id:"rewards_cta_got_it",defaultMessage:"Got it"},checkin_completed_description:{id:"checkin_completed_description",defaultMessage:"Checked in today!"},rewards_milestone_tasks_completed_description:{id:"rewards_milestone_tasks_completed_description",defaultMessage:"Checked in today! Continue checking in to earn bonus YPoints"},rewards_bonus_milestone_tasks_completed_title:{id:"rewards_bonus_milestone_tasks_completed_title",defaultMessage:"You earn {points} YPoints as bonus"},rewards_bonus_milestone_tasks_completed_description:{id:"rewards_bonus_milestone_tasks_completed_description",defaultMessage:"Checked in today! Keep it up!"}}),O=({notificationData:e,onClose:t,cueName:a,isMembershipRewardsPaneActive:n,membershipRewardsIconToggled:s},{getCss:i,region:r,intl:{formatMessage:o}})=>{const l=i(u.a),c=e.isBonusReceived,m=e.pointsReceived,_=e.dailyCheckinBonusType,p=(e,t)=>({i13nModel:{mKey:e,interactionType:Object(C.getInteractionFromEvent)(t),actionData:{challengeType:y.pe.DAILY_CHECKIN}}}),h=e=>{t(p("cue_"+a+"_close",e))};return d.a.createElement("div",{className:l.subwrapper,"data-test-id":"daily_checkin_notification"},d.a.createElement("div",{className:l.imgContainer},d.a.createElement("img",{className:l.cueImg,src:Object(g.a)((()=>"hk"===r?"/img/tmr_hk_task_completed.svg":c?"/img/tmr_tw_task_completed_bonus.svg":"/img/tmr_tw_task_completed_regular.svg")())})),d.a.createElement("div",{className:l.content},d.a.createElement("div",{className:l.title},(()=>{switch(_){case N:return o(c?k.rewards_bonus_milestone_tasks_completed_title:k.rewards_tasks_completed_title,{points:m});case A:return o(c?k.rewards_bonus_tasks_completed_title:k.rewards_tasks_completed_title,{points:m});default:return o(k.rewards_tasks_completed_title,{points:m})}})()),d.a.createElement("div",{className:l.description},(()=>{switch(_){case N:return o(c?k.rewards_bonus_milestone_tasks_completed_description:k.rewards_milestone_tasks_completed_description);case A:return o(c?k.rewards_bonus_tasks_completed_description:k.rewards_tasks_completed_description);default:return o(k.checkin_completed_description)}})()),d.a.createElement("div",null,d.a.createElement(E.a,{overridingClass:l.primary,onClick:n?h:e=>{t(p("cue_"+a+"_success",e)),s({name:y.pd.MEMBERSHIP_REWARDS})},kind:b.a.PRIMARY,"data-test-id":n?"cta-got-it":"cta-see-progress",marginLess:!0},o(n?k.rewards_cta_got_it:k.rewards_cta_see_progress)),n?null:d.a.createElement(E.a,{overridingClass:l.secondary,onClick:h,kind:b.a.SECONDARY_BORDERLESS,"data-test-id":"cta-got-it"},o(k.rewards_cta_got_it)))))};O.contextTypes={getCss:l.a.func,intl:h.intlShape.isRequired,region:l.a.string};var D=Object(f.a)(O),P=a(480);const R=y.oe.EXPIRED,w=y.oe.NO_STATE;class F extends d.a.Component{constructor(...e){super(...e),r()(this,"computeActionData",()=>{const e=this.props,t=e.atosInfo.atosStatus;return t===R||t===w?{atosStatus:this.props.atosInfo.atosStatus,cueCount:this.props.tmrNotificationUserResponse}:{challengeType:y.pe.DAILY_CHECKIN,checkInCount:e.checkInCount}})}render(){const e=this.context.getCss(u.a),t=this.props,a=t.atosInfo.atosStatus,n=t.notificationData,i=t.tmrNotificationUserResponse;let r=null;return a===R||a===w?r=d.a.createElement(M,s()({},this.props,{computeActionData:this.computeActionData,tmrNotificationUserResponse:i})):n.pointsReceived&&(r=d.a.createElement(D,s()({},this.props,{computeActionData:this.computeActionData}))),d.a.createElement("div",{role:"alert",className:e.wrapper},r)}}F.contextTypes={getCss:l.a.func.isRequired};const x=e=>{const t=Object(p.selectors)(e),a=t.getSetting,n=t.getFeatureCueSelectors,s=(0,t.getMembershipRewardsSelectors)(),i=s.getLastCompletedChallenges,r=s.getChallengeProgress,o=s.getDailyCheckinBonusType,l=(0,s.getAtosInfo)(),c=a(y.Kd.ACTIONABLE_RIGHT_RAIL_CONTENT),d=c&&c.currentView===y.pd.MEMBERSHIP_REWARDS,m=i(y.pe.DAILY_CHECKIN),_=m.pointsReceived,u=m.bonusChallengeCompleted,h=(0,n().getUserResponse)(y.Eb.TMR_ICON_NOTIFICATION),g=r(y.pe.DAILY_CHECKIN).repeatedTimes;return{atosInfo:l,notificationData:{pointsReceived:_,isBonusReceived:u,dailyCheckinBonusType:o()},isMembershipRewardsPaneActive:d,tmrNotificationUserResponse:h,checkInCount:g||0}},L=e=>({membershipRewardsIconToggled:t=>e(Object(P.a)(t))});t.default=Object(m.connect)(x,L)(F)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1366),m=a(319),_=a(12),u=a.n(_),p=a(1513),h=a.n(p),g=a(25),E=a(478),b=a(16),f=a(10),C=a(13),S=a(49),y=a(18),T=a(0),v=a(21),I=a(4),M=a(5),A=a(182),N=a(45),k=a(98),O=a(94),D=a(1514),P=a.n(D),R=a(11);const w=Object(c.defineMessages)({adblockDelayDismissCountdownTitle:{id:"adblock_delay_dismiss_timer",defaultMessage:"Returning to your inbox..."},second:{id:"ad.countdown_in_second",defaultMessage:"seconds"}}),F={centerX:110,centerY:110,radius:""+13*R.G,startAngle:-90};class x extends o.Component{constructor(e){super(e),this.state={mountTime:Date.now(),currentTime:Date.now()}}incrementTimer(){const e=this.state,t=e.currentTime,a=e.mountTime,n=this.props,s=n.timeRemainingInSecond,i=n.onComplete;this.timer&&clearTimeout(this.timer),t>=a+1e3*s?i():(this.setState({currentTime:Date.now()}),this.timer=setTimeout(this.incrementTimer.bind(this),1e3))}componentDidMount(){this.incrementTimer()}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}polarToCartesian(e){const t=(e-90)*Math.PI/180;return{x:F.centerX+F.radius*Math.cos(t),y:F.centerY+F.radius*Math.sin(t)}}describeArc(e){const t=this.polarToCartesian(e),a=this.polarToCartesian(F.startAngle);return["M",t.x,t.y,"A",F.radius,F.radius,0,e-F.startAngle<=180?"0":"1",0,a.x,a.y].join(" ")}render(){const e=this.state,t=e.currentTime,a=e.mountTime,n=this.props,s=n.timerDuration,i=n.timeRemainingInSecond,r=u()(P.a),o=a+1e3*i-t,c=o>0?Math.round(o/1e3):0,d=this.context.intl.formatMessage;return l.a.createElement("div",{className:r.countdownContainer},l.a.createElement("div",{className:r.heading},d(w.adblockDelayDismissCountdownTitle)),l.a.createElement("div",{className:r.countdownArc},l.a.createElement("svg",null,l.a.createElement("path",{d:this.describeArc(c/s*180-90)}))),l.a.createElement("span",{className:r.countdownSecond},c),l.a.createElement("div",{className:r.countdownText},d(w.second)))}}x.contextTypes={intl:c.intlShape.isRequired};var L=x,B=a(204),j=a(253);const U=Object(c.defineMessages)({mailProBrandName:{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"},adblockDelayDismissCue1Title:{id:"adblock_delay_dismiss_cue_1_title",defaultMessage:"You're using an ad blocker. <br/> We're asking you not to."},adblockDelayDismissCue1Des:{id:"adblock_delay_dismiss_cue_1_desc",defaultMessage:"Our users mean everything to us. Showing you ads lets us keep {mailBrandName} free and build world-class features that enhance your email experience. Support this work by unblocking ads on {mailBrandName} or going ad-free with {mailProBrandName}."},adblockDelayDismissCue2Title:{id:"adblock_delay_dismiss_cue_2_title",defaultMessage:"It's us again, reminding you to unblock ads."},adblockDelayDismissCue2Des:{id:"adblock_delay_dismiss_cue_2_desc",defaultMessage:"We rely on ad revenue to fund spam protection for your email, fight bad actors and deliver the features you love. Unblock ads to support {mailBrandName} or go ad-free with {mailProBrandName}."},adblockDelayDismissCue3Title:{id:"adblock_delay_dismiss_cue_3_title",defaultMessage:"I think we need to talk… about your ad blocker."},adblockDelayDismissCue3Des:{id:"adblock_delay_dismiss_cue_3_desc",defaultMessage:"Did you know ad blockers can insert code into your inbox and accidentally hide messages? Don't miss important emails—unblock ads in {mailBrandName} now or go ad-free with {mailProBrandName}."},adblockDelayDismissCue4Title:{id:"adblock_delay_dismiss_cue_4_title",defaultMessage:"It's not us, it's not you... <br/> it's your pesky ad blocker."},adblockDelayDismissCue4Des:{id:"adblock_delay_dismiss_cue_4_desc",defaultMessage:"You've seen our reminders to unblock ads and know why we're asking. You'll keep seeing reminders as long as you're using an ad blocker. To stop receiving these messages, unblock ads in {mailBrandName} now or go ad-free with {mailProBrandName}."},adblockDelayDismissAdfree:{id:"ad_upsell_label_with_price",defaultMessage:"Go ad-free for {mailproPricing}/month"},adblockDelayDismissUnblockStepTitle:{id:"adblock_to_nodin_page1_message3",defaultMessage:"How to unblock ads?"},adblockDelayDismissUnblockStep1:{id:"adblock_upsell_v6_unblock_step_1",defaultMessage:"Step 1"},adblockDelayDismissUnblockStep2:{id:"adblock_upsell_v6_unblock_step_2",defaultMessage:"Step 2"},adblockDelayDismissUnblockStep3:{id:"adblock_upsell_v6_unblock_step_3",defaultMessage:"Step 3"},adblockDelayDismissUnblockStep1Des:{id:"adblock_delay_dismiss_unblock_step_1_des",defaultMessage:"Click the ad blocker icon in your browser. Examples:"},adblockDelayDismissUnblockStep1ChromeUser:{id:"adblock_delay_dismiss_unblock_step_1_chrome",defaultMessage:"Chrome users:"},adblockDelayDismissUnblockStep1ChromeUserDes:{id:"adblock_delay_dismiss_unblock_step_1_chrome_des",defaultMessage:'Click Extensions  <img src={assetURL} class="{chromeExtIcon}"/>, then click the ad blocker icon.'},adblockDelayDismissUnblockStep2Des:{id:"adblock_delay_dismiss_unblock_step_2_des",defaultMessage:'Choose to show ads on mail.yahoo.com. Common options are "<span class="{boldTextStyle}">Don’t run on pages on this domain</span>",  "<span class="{boldTextStyle}">Enabled on this site</span>", "<span class="{boldTextStyle}">Trust Site</span>", but may be different in your ad blocker.'},adblockDelayDismissUnblockStep3Des:{id:"adblock_upsell_v6_unblock_step_3_des",defaultMessage:"Refresh {mailBrandName}."},adblockDelayDismissDone:{id:"adblock_upsell_v6_done_btn_text",defaultMessage:"I'm done"},adblockDelayDismissBackBtn:{id:"adblock_upsell_v6_back_btn_text",defaultMessage:"Back"},adblockDelayDismissUnblockPage2Footer:{id:"adblockDelayDismissUnblockPage2Footer",defaultMessage:'Visit our <a class="{upsellOptionLinkStyle}" target="_blank" rel="noreferrer" tabindex="0" href="{adBlockPayupHelpUrl}" title="help page">help page</a> for more detailed instructions.'},adblockDelayDismissPage1Btn1:{id:"ad_unblock_ads",defaultMessage:"Unblock ads"},adblockDelayDismissPage1Btn2:{id:"ad_upsell_label_with_price",defaultMessage:"Go ad-free for {mailproPricing}/month"},close:{id:"adBlock_upsell_close_icon",defaultMessage:"Close"}}),H=[{title:U.adblockDelayDismissCue1Title,desription:U.adblockDelayDismissCue1Des},{title:U.adblockDelayDismissCue2Title,desription:U.adblockDelayDismissCue2Des},{title:U.adblockDelayDismissCue3Title,desription:U.adblockDelayDismissCue3Des},{title:U.adblockDelayDismissCue4Title,desription:U.adblockDelayDismissCue4Des}],W="goToMailPro",G="unblockDone",Z="goToAdBlockHelp",V="changeUi",q="dismiss";class z extends l.a.Component{constructor(e){super(e),s()(this,"getUnblockStep2Description",e=>(0,this.context.intl.formatMessage)(U.adblockDelayDismissUnblockStep2Des,{boldTextStyle:e.boldText})),s()(this,"getFooterText",e=>{const t=this.context,a=t.intl,n=a.formatMessage,s=A.f.link(a.locale,t.partner);return n(U.adblockDelayDismissUnblockPage2Footer,{upsellOptionLinkStyle:e.upsellOptionLink,adBlockPayupHelpUrl:s})}),s()(this,"togglePage",e=>{this.setState(this.state.dismissed?t=>({countdownRemain:2===e?this.getCountdownRemain():t.countdownRemain,page:e}):{page:e})}),s()(this,"onCountdownComplete",()=>{const e=this.props,t=e.onClose,a=e.cueName,n=e.qualifiedActionCount;Object(j.b)(),t({i13nModel:{mKey:"cue_"+a+"_timer_complete",sec:M.i.FEATURE_CUE,actionData:{upsellRenderCount:Object(j.a)(),qualifiedActionCount:n}}})}),s()(this,"handleReload",()=>{const e=this.props,t=e.qualifiedActionCount;N.b.sendI13nModel({i13nModel:{mKey:"cue_"+e.cueName+"_timer_refresh",sec:M.i.FEATURE_CUE,actionData:{upsellRenderCount:Object(j.a)()+1,qualifiedActionCount:t}}})}),this.timerRef=l.a.createRef(),this.state={page:1,dismissed:!1,countdownRemain:e.timerDuration}}componentDidMount(){window.addEventListener("beforeunload",this.handleReload),this.props.mailProUpsellImpressionURL&&Object(k.a)(this.props.mailProUpsellImpressionURL,!1)}componentWillUnmount(){window.removeEventListener("beforeunload",this.handleReload)}handleClick(e,t){const a=this.props,n=a.cueName,s=a.mailProUpsellClickURL,i=a.qualifiedActionCount;let r;switch(e){case W:return N.b.sendI13nModel({i13nModel:{mKey:"cue_"+n+"_mailPro",sec:M.i.FEATURE_CUE,interactionType:Object(b.getInteractionFromEvent)(t),actionData:{upsellRenderCount:Object(j.a)()+1,qualifiedActionCount:i}}}),void Object(O.a)(s);case G:r="cue_"+n+"_unblock_done";break;case Z:r="cue_"+n+"_help_page";break;case V:1===this.state.page?(r="cue_"+n+"_page_navigate_2",this.togglePage(2)):(r="cue_"+n+"_page_navigate_1",this.togglePage(1));break;case q:r="cue_"+n+"_timer_render",this.setState({dismissed:!0})}N.b.sendI13nModel({i13nModel:{mKey:r,sec:M.i.FEATURE_CUE,interactionType:Object(b.getInteractionFromEvent)(t),actionData:{upsellRenderCount:Object(j.a)()+1,qualifiedActionCount:i}}})}getImageUrl(e){if(2===this.state.page)return Object(S.a)("/img/adblock_upsell_emoji_v6_step2.png");switch(e){case 0:return Object(S.a)("/img/adblock_delay_dismiss_cue_1.png");case 1:return Object(S.a)("/img/adblock_delay_dismiss_cue_2.png");case 2:return Object(S.a)("/img/adblock_delay_dismiss_cue_3.png");case 3:return Object(S.a)("/img/adblock_delay_dismiss_cue_4.png")}}renderUnblockSteps(e){const t=this.context,a=t.intl.formatMessage,n=t.mailBrandNameString||a(B.a.mailBrandName);return l.a.createElement("div",{className:e.description},l.a.createElement("div",{className:e.unblockStepContainer},l.a.createElement("div",{className:e.stepCountContainer},a(U.adblockDelayDismissUnblockStep1)),l.a.createElement("div",{className:e.stepDetailContainer},a(U.adblockDelayDismissUnblockStep1Des),l.a.createElement("img",{className:e.adblockersContainer,src:Object(S.a)("/img/adblocker_examples.png")}),l.a.createElement("br",null),l.a.createElement("span",{className:e.adblockChrome},a(U.adblockDelayDismissUnblockStep1ChromeUser)),l.a.createElement("br",null),l.a.createElement("span",{dangerouslySetInnerHTML:{__html:a(U.adblockDelayDismissUnblockStep1ChromeUserDes,{assetURL:Object(S.a)("/img/icon_chrome_extension.png"),chromeExtIcon:e.chromeExtIcon})}}))),l.a.createElement("div",{className:e.unblockStepContainer},l.a.createElement("div",{className:e.stepCountContainer},a(U.adblockDelayDismissUnblockStep2)),l.a.createElement("div",{className:e.stepDetailContainer},l.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.getUnblockStep2Description(e)}}))),l.a.createElement("div",{className:e.unblockStepContainer},l.a.createElement("div",{className:e.stepCountContainer},a(U.adblockDelayDismissUnblockStep3)),l.a.createElement("div",{className:e.stepDetailContainer},a(U.adblockDelayDismissUnblockStep3Des,{mailBrandName:n}))))}renderText(e,t){const a=this.context.intl,n=a.formatMessage,s=a.mailBrandNameString,i=n(U.mailProBrandName),r={mailBrandName:s||n(B.a.mailBrandName),mailProBrandName:i};return l.a.createElement("div",{className:e.textContainer},l.a.createElement("div",{className:e.heading,dangerouslySetInnerHTML:{__html:n(H[t].title)}}),l.a.createElement("div",{className:e.description},n(H[t].desription,r)))}renderSecondPage(e){const t=this.context.intl.formatMessage,a=this.props.globalHost;return l.a.createElement("div",{className:e.footerContainer},l.a.createElement("div",{className:e.btnContainer},l.a.createElement("a",{target:"_self",rel:"noreferrer noopener",tabIndex:0,onClick:e=>this.handleClick(G,e),title:t(U.adblockDelayDismissDone),"aria-label":t(U.adblockDelayDismissDone),href:a,"data-test-id":"refresh-link",className:e.primaryButton},t(U.adblockDelayDismissDone)),l.a.createElement(y.a,{onClick:e=>this.handleClick(V,e),kind:g.a.SECONDARY,marginLess:!0,tabIndex:0,"aria-label":t(U.adblockDelayDismissBackBtn),title:t(U.adblockDelayDismissBackBtn),"data-test-id":"back-button"},t(U.adblockDelayDismissBackBtn))),l.a.createElement("div",{className:e.footerText,onClick:e=>this.handleClick(Z,e),"data-test-id":"adblock-help-link",dangerouslySetInnerHTML:{__html:this.getFooterText(e)}}))}getCountdownRemain(){var e,t,a,n,s,i;const r=null===(e=this.timerRef)||void 0===e||null===(t=e.current)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.mountTime,o=null===(n=this.timerRef)||void 0===n||null===(s=n.current)||void 0===s||null===(i=s.state)||void 0===i?void 0:i.currentTime;if(void 0===r||void 0===o)return this.props.timerDuration;const l=r+1e3*this.state.countdownRemain-o;return l>0?Math.round(l/1e3)%60:0}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.isMailProEligible,n=t.cueName,s=t.mailproPricing,i=t.currentUi,r=t.timerDuration,o=this.state,c=o.dismissed,m=o.page,_=o.countdownRemain,p=u()(h.a,{pageTwoUi:2===m});return l.a.createElement(d.a,{onClose:()=>{},onOuterClick:()=>{},kind:E.a.DARK,ariaLabelledBy:"adblock-delay-dismiss-cue",ariaDescribedBy:"adblock-delay-dismiss-cue"},l.a.createElement("div",{"data-test-id":n,className:p.container},!c&&2!==m&&l.a.createElement("div",{className:p.close},l.a.createElement(v.default,{onClick:e=>this.handleClick(q,e),kind:I.Kinds.CLOSE,size:I.Sizes.XS,colorState:I.ColorStates.NORMAL,title:e(U.close),tabIndex:0,"aria-label":e(U.close),"data-test-id":"close-cue-button",className:p.closeButton})),c&&2!==m&&l.a.createElement(L,{ref:this.timerRef,timerDuration:r,timeRemainingInSecond:_,onComplete:this.onCountdownComplete}),!c||c&&2===m?l.a.createElement("img",{className:p.headerSection,src:this.getImageUrl(i)}):null,1===m?l.a.createElement(l.a.Fragment,null,this.renderText(p,i),l.a.createElement("div",{className:p.btnContainer},a&&l.a.createElement(y.a,{kind:g.a.PRIMARY,onClick:e=>this.handleClick(V,e),overridingClass:p.primaryButton,tabIndex:0,"aria-label":e(U.adblockDelayDismissPage1Btn1),title:e(U.adblockDelayDismissPage1Btn1),marginLess:!0},e(U.adblockDelayDismissPage1Btn1)),l.a.createElement(y.a,{onClick:e=>this.handleClick(W,e),kind:a?g.a.SECONDARY:g.a.PRIMARY,tabIndex:0,"aria-label":e(U.adblockDelayDismissPage1Btn2,{mailproPricing:s}),title:e(U.adblockDelayDismissPage1Btn2,{mailproPricing:s}),marginLess:!0,overridingClass:p.optionButton},e(U.adblockDelayDismissPage1Btn2,{mailproPricing:s})))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:p.heading},e(U.adblockDelayDismissUnblockStepTitle)),this.renderUnblockSteps(p),this.renderSecondPage(p))))}}s()(z,"contextTypes",{intl:c.intlShape,mailBrandNameString:r.a.string});t.default=Object(m.a)(Object(C.connect)(e=>{const t=Object(f.selectors)(e),a=t.getEnvironmentSelectors,n=t.getAdsSelectors,s=t.getSetting,i=(0,t.getFeaturesSelectors)(),r=n().getAdblockDelayDismissQualifiedActionCount(),o=i.isEnabled(T.Eb.MAIL_PRO_ELIGIBLE),l=s(T.Kd.MAIL_PRO_MONTHLY_PRICE),c=s(T.Kd.ADBLOCK_DELAY_DISMISS_SETTINGS),d=c.duration,m=c.increment,_=void 0===m?0:m,u=Object(j.a)(),p=a().getEndpoint(T.yb.GLOBAL_HOST),h=d+u*_,g=i.getSetting(T.Kd.ADBLOCK_DELAY_DISMISS_INSTRUMENTATION_URL),E=g.impressionUrl,b=g.clickUrl,C=i.getSetting(T.Kd.AD_FREE_MAIL_URL);return{isMailProEligible:o,mailproPricing:l,currentUi:u,mailProUpsellImpressionURL:E[u]||"",mailProUpsellClickURL:b[u]||C,globalHost:p,timerDuration:h,qualifiedActionCount:r}},void 0)(z))},function(e,t,a){"use strict";a.r(t),a.d(t,"NpsSurveyCue",(function(){return L})),a.d(t,"mapStateToProps",(function(){return B}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(10),m=a(13),_=a(319),u=a(12),p=a.n(u),h=a(11),g=a(1519),E=a.n(g),b=a(18),f=a(25),C=a(90),S=a(4),y=a(16),T=a(5),v=a(45),I=a(0),M=a(49),A=a(294),N=a(54);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}let D;function P(e,t,a=0){let n;n="undefined"!=typeof window&&void 0!==window.OSafeframe?Promise.resolve():function(){return D||(D=A.a.loadScript("https://s.yimg.com/uc/sf/latest/js/safe.min.js")),D}(),n.then(()=>{window.OSafeframe.initNPS("nps-container",{surveyid:e,lang:t},{containerStyle:{desktop:O({width:"450px",height:"550px","border-radius":"8px"},a?{right:a}:{}),mobile:{width:"90%",height:"610px","border-radius":"8px"}}})},e=>{N.a.error("npsSurvey_error",{error:e})})}var R=a(203);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const x=Object(c.defineMessages)({primaryBtn:{id:"nps_survey_cue.primary_btn",defaultMessage:"Okay, let's go!"},skipBtn:{id:"nps_survey_cue.skip_btn",defaultMessage:"Not now"},close:{id:"nps_survey_cue.close_icon",defaultMessage:"Close"}});class L extends l.a.Component{constructor(...e){super(...e),s()(this,"componentDidMount",()=>{setImmediate(()=>{v.b.sendI13nModel({i13nModel:{mKey:T.g.NPS_SURVEY_SHOWN,sec:T.i.FEATURE_CUE}})})}),s()(this,"getRapidEvent",(e,t)=>{const a=this.props,n=a.surveyId,s=a.surveyLocale;return{i13nModel:{mKey:e,interactionType:Object(y.getInteractionFromEvent)(t),actionData:{surveyId:n,surveyLocale:s}}}}),s()(this,"onAccept",e=>{const t=this.props;P(t.surveyId,t.surveyLocale,t.rightSidePadding),this.props.onClose(this.getRapidEvent(T.g.NPS_SURVEY_ACCEPT,e))}),s()(this,"onDecline",e=>{this.props.onClose(this.getRapidEvent(T.g.NPS_SURVEY_DECLINE,e))})}render(){const e=p()(E.a),t=this.context.intl.formatMessage,a=this.props,n=this.context.mailBrandNameString,s={right:a.rightSidePadding};return a.isTabletMode&&(s.bottom="80px"),l.a.createElement(R.a,null,l.a.createElement("div",{"data-test-id":this.props.cueName,className:e.container,style:F({},s)},l.a.createElement("div",{"data-test-id":"close-wrapper",className:e.closeWrapper},l.a.createElement(C.a,{"data-iskeynav":!0,"data-test-id":"close-cue-button",kind:S.Kinds.CLOSE,size:S.Sizes.XS,onClick:this.onDecline,title:t(x.close),colorStates:{normal:S.ColorStates.NORMAL,hovered:S.ColorStates.SELECTED}})),l.a.createElement("div",{className:e.imageContainer},l.a.createElement("img",{src:Object(M.a)("/img/new_mail_logo.png"),srcSet:`\n                                ${Object(M.a)("/img/new_mail_logo_2x.png")} 2x,\n                                ${Object(M.a)("/img/new_mail_logo_3x.png")} 3x\n                            `,"aria-hidden":!0})),l.a.createElement("div",{className:e.contentWrapper},l.a.createElement("div",{className:e.heading,id:"nps-survey-title"},l.a.createElement(c.FormattedMessage,{id:"nps_survey_cue.header_text",defaultMessage:"Help shape your {mailBrandNameString} experience!",values:{mailBrandNameString:n}})),l.a.createElement("div",{className:e.description,id:"nps-survey-description"},l.a.createElement(c.FormattedMessage,{id:"nps_survey_cue.body",defaultMessage:"If you have a minute, we’d love to hear from you."})),l.a.createElement(b.a,{style:{height:"36px",minWidth:"148px",fontSize:"13px",fontWeight:"regular",margin:"20px 0px 0px 0px"},onClick:this.onAccept,title:t(x.primaryBtn),"data-test-id":"primary-cue-button",kind:f.a.PRIMARY,"aria-label":t(x.primaryBtn)},l.a.createElement(c.FormattedMessage,x.primaryBtn)),l.a.createElement("div",{className:e.skipBtn,"data-test-id":"skip-cue-button",onClick:this.onDecline,role:"button"},l.a.createElement(c.FormattedMessage,x.skipBtn)))))}}s()(L,"contextTypes",{intl:c.intlShape,mailBrandNameString:r.a.string});const B=e=>{const t=Object(d.selectors)(e),a=t.getSetting,n=t.isFeatureEnabled,s=t.isNarrowScreen,i=t.getPrescribedNumberOfColumns,r=(0,t.isMobileRoute)()&&2===i(),o=a(I.Kd.NPS_SURVEY_CONFIG),l=n(I.Eb.ADS);let c;return c=r?8:l?s()?h.a:h.b:52,{surveyId:o.surveyId,surveyLocale:o.surveyLocale,rightSidePadding:c+16+"px",isTabletMode:r}};t.default=Object(_.a)(Object(m.connect)(B,null)(L))},function(e,t,a){"use strict";a.r(t),a.d(t,"powerStrings",(function(){return x})),a.d(t,"YMobileUpsells",(function(){return B})),a.d(t,"mapStateToProps",(function(){return j}));var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(10),d=a(13),m=a(1),_=a.n(m),u=a(0),p=a(1530),h=a.n(p),g=a(6),E=a(18),b=a(25),f=a(16),C=a(49),S=a(90),y=a(4),T=a(94),v=a(98),I=a(203),M=a(397),A=a(319);const N=Object(g.defineMessages)({close:{id:"ymobile_upsell_close",defaultMessage:"Close"},ctaText:{id:"ymobile_upsell_cta_text",defaultMessage:"Check it out"},heading:{id:"ymobile_upsell_header_text.power",defaultMessage:"Unlimited plan. Unlimited you."}}),k="/img/ymobile_logo_1x.png",O="/img/ymobile_logo_2x.png";class D extends m.Component{constructor(...e){super(...e),r()(this,"userClickedOverlayButtons",!1),r()(this,"uiContext",{TRY_NOW:"tryNow",BACKGROUND:"background",CLOSE_BUTTON:"closeButton"}),r()(this,"onClose",(e,t)=>{const a=this.props,n=a.version;this.props.onClose({i13nModel:{mKey:"cue_"+a.cueName+"_close",interactionType:Object(f.getInteractionFromEvent)(e),actionData:{version:n,uiContext:t}}}),this.userClickedOverlayButtons=!0}),r()(this,"onTryNow",e=>{this.onClose(e,this.uiContext.TRY_NOW),Object(T.a)(this.props.redirectUrl)}),r()(this,"onCloseModal",e=>this.onClose(e,this.uiContext.BACKGROUND)),r()(this,"onCloseButtonClick",e=>this.onClose(e,this.uiContext.CLOSE_BUTTON))}componentDidMount(){const e=this.props.impressionTracker;Object(v.a)(e,!1)}componentWillUnmount(){this.userClickedOverlayButtons||this.onCloseModal({})}render(){const e=this.props.strings,t=this.context.intl.formatMessage,a=t(N.ctaText),n=this.context.getCss(h.a),s=_.a.createElement("div",{className:n.closeWrapper},_.a.createElement(S.a,{"data-iskeynav":!0,kind:y.Kinds.CLOSE,size:y.Sizes.XS,onClick:this.onCloseButtonClick,title:t(N.close),colorStates:{normal:y.ColorStates.COOL_FAINT,hovered:y.ColorStates.INHERITED},tabIndex:0})),i=_.a.createElement("div",{className:n.container},_.a.createElement("div",{className:n.purpleHeader},_.a.createElement("img",{className:n.logo,src:Object(C.a)(k),srcSet:Object(C.a)(O)+" 2x","aria-hidden":!0}),s),_.a.createElement("div",{className:n.content},_.a.createElement("h1",{className:n.heading},t(N.heading)),_.a.createElement("p",{className:n.bodyTextContainer},_.a.createElement(g.FormattedHTMLMessage,e.body)),_.a.createElement(E.a,{title:a,"data-test-id":"try-it-button",kind:b.a.PRIMARY,marginLess:!0,overridingClass:n.ctaButton,onClick:this.onTryNow,tabIndex:0},a)));return _.a.createElement(I.a,null,i)}}D.contextTypes={intl:g.intlShape.isRequired,getCss:l.a.func};var P=Object(A.a)(D),R=a(1531),w=a.n(R);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const x=Object(g.defineMessages)({body:{id:"ymobile_upsell_body_text.power",defaultMessage:'Stream, text and talk your heart out on Verizon’s 4G LTE Network. Just $39<span class="{classVariable}">99</span>/mo.'}}),L=Object(g.defineMessages)({body:{id:"ymobile_upsell_body_text.saver",defaultMessage:'Stream, text and talk your heart out.<br/>Just $39<span class="{classVariable}">99</span>/mo.'}}),B=(e,{getCss:t})=>{const a=e.version,n=t(w.a);let i;switch(a){case M.a.POWER:i=x;break;case M.a.SAVER:i=L;break;default:return null}return i.body=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i.body,{values:{classVariable:n.superscript}}),_.a.createElement(P,s()({},e,{strings:i}))};B.contextTypes={getCss:l.a.func};const j=e=>{const t=Object(c.selectors)(e),a=u.Eb.YMOBILE_PROMO_UPSELLS,n=(0,t.getSetting)(u.Kd.YMOBILE_UPSELL_VERSION),s=M.b[n]||{};return{cueName:a,version:n,redirectUrl:s.redirectUrl,impressionTracker:s.impressionTracker,computeActionData:()=>({version:n})}};t.default=Object(d.connect)(j,null)(B)},function(e,t,a){"use strict";a.r(t),a.d(t,"DispatcherUpsells",(function(){return L})),a.d(t,"replaceNameVariable",(function(){return B})),a.d(t,"mapStateToProps",(function(){return j}));var n=a(3),s=a.n(n),i=a(10),r=a(13),o=a(1),l=a.n(o),c=a(0),d=a(339),m=a(7),_=a.n(m),u=a(155),p=a(1533),h=a.n(p),g=a(6),E=a(18),b=a(25),f=a(16),C=a(90),S=a(4),y=a(94),T=a(98),v=a(107),I=a(203),M=a(428),A=a(319),N=a(102),k=a.n(N);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const P=Object(g.defineMessages)({close:{id:"dispatcher_upsells.close",defaultMessage:"Close"},unsubscribeText:{id:"dispatcher_upsells.unsubscribe_text",defaultMessage:"I don't like this offer"},tryItFallbackText:{id:"dispatcher_upsells.tryItFallbackText",defaultMessage:"Try it"}});class R extends o.Component{constructor(...e){super(...e),s()(this,"userClickedOverlayButtons",!1),s()(this,"uiContext",{TRY_NOW:"tryNow",UNSUBSCRIBE:"unsubscribe",BACKGROUND:"background",CLOSE_BUTTON:"closeButton"}),s()(this,"onClose",(e,t)=>{const a=this.props,n=a.version,s=a.productCode;this.props.onClose({i13nModel:{mKey:"cue_"+a.cueName+"_close",interactionType:Object(f.getInteractionFromEvent)(e),actionData:{version:n,uiContext:t,productCode:s}}}),this.userClickedOverlayButtons=!0}),s()(this,"onTryNow",e=>{const t=this.props.redirectUrl;this.onClose(e,this.uiContext.TRY_NOW),t&&Object(y.a)(t)}),s()(this,"onUnsubscribe",e=>{const t=this.props,a=t.productCode,n=t.onUnsubscribeClick;this.onClose(e,this.uiContext.UNSUBSCRIBE),a&&n({preferenceCode:a})}),s()(this,"onCloseModal",e=>this.onClose(e,this.uiContext.BACKGROUND)),s()(this,"onCloseButtonClick",e=>this.onClose(e,this.uiContext.CLOSE_BUTTON)),s()(this,"renderCloseButton",e=>l.a.createElement("div",{className:e.closeWrapper},l.a.createElement(C.a,{"data-iskeynav":!0,kind:S.Kinds.CLOSE,size:S.Sizes.XS,onClick:this.onCloseButtonClick,title:(0,this.context.intl.formatMessage)(P.close),colorStates:{normal:S.ColorStates.COOL_FAINT,hovered:S.ColorStates.INHERITED},tabIndex:0}))),s()(this,"renderUnsubscribeButton",e=>l.a.createElement("div",{className:e.unsubscribeWrapper},l.a.createElement(E.a,{"data-test-id":"unsubscribe-button",kind:b.a.TEXT,overridingClass:e.unsubscribeText,onClick:this.onUnsubscribe,tabIndex:0},(0,this.context.intl.formatMessage)(P.unsubscribeText)))),s()(this,"renderTextContent",({classNames:e,isOnDarkBackground:t=!1})=>{const a=this.props,n=a.tooltipImg,s=a.tooltipImgAlt,i=void 0===s?"":s,r=a.tooltipText,o=a.headingText,c=a.descriptionText,d=a.ctaText,m=void 0===d?(0,this.context.intl.formatMessage)(P.tryItFallbackText):d,_=a.redirectUrl;return l.a.createElement("div",{className:e.content},l.a.createElement("div",{className:e.mainBody},(n||r)&&l.a.createElement("div",{className:e.tipSection},(null==n?void 0:n.oneX)&&this.renderImage(D({},n,{alt:i,styleName:e.tipImage})),r&&l.a.createElement("h3",{className:e.tipText,dangerouslySetInnerHTML:{__html:Object(u.purifyToHTML)(r)}})),o&&l.a.createElement("h1",{className:e.heading,dangerouslySetInnerHTML:{__html:Object(u.purifyToHTML)(o)}}),c&&l.a.createElement("p",{className:e.bodyTextContainer,dangerouslySetInnerHTML:{__html:Object(u.purifyToHTML)(c)}}),_&&l.a.createElement(E.a,{isOnDarkBackground:t,title:m,"data-test-id":"try-it-button",kind:b.a.PRIMARY,marginLess:!0,overridingClass:e.ctaButton,onClick:this.onTryNow,tabIndex:0},m)),this.renderUnsubscribeButton(e))}),s()(this,"renderImage",({oneX:e,twoX:t,alt:a="",styleName:n,width:s,height:i})=>l.a.createElement("img",{className:n,src:e,srcSet:(t||e)+" 2x",key:"subscriptions_upsell_"+e,"aria-hidden":!0,alt:a,style:{width:Number(s)+"px",height:Number(i)+"px"}})),s()(this,"renderHeaderImages",({classNames:e,includeOfferImage:t=!0})=>{const a=[],n=this.props,s=n.logoImg,i=n.offerImg,r=n.offerImgAlt;return s&&s.oneX&&a.push(D({},s,{alt:n.logoImgAlt,styleName:e.logo})),t&&i&&i.oneX&&a.push(D({},i,{alt:r,styleName:k()(e.logo,e.offerImage)})),l.a.createElement("div",{"aria-hidden":!0,className:e.headerImagesContainer},a.map(e=>this.renderImage(e)))})}componentDidMount(){const e=this.props.impressionTracker;e&&Object(T.a)(e,!1)}componentWillUnmount(){this.props.cueTypeComponent!==d.c.OVERLAY||this.userClickedOverlayButtons||this.onCloseModal({})}render(){const e=this.props,t=e.template,a=e.overridingStyle,n=e.cueTypeComponent,s=e.offerImg,i=void 0===s?{}:s,r=e.offerImgAlt,o=void 0===r?"":r,c=this.context.getCss(h.a,D({},void 0===a?{}:a,{[d.c.OVERLAY]:n===d.c.OVERLAY}));let m=null;switch(t){case d.b.BIG_PURPLE_HEADER:case d.b.SMALL_PURPLE_HEADER:m=l.a.createElement("div",{className:c.container},l.a.createElement("div",{className:c.purpleHeader},this.renderHeaderImages({classNames:c}),this.renderCloseButton(c)),this.renderTextContent({classNames:c}));break;case d.b.SIDE_HEADER:m=l.a.createElement("div",{className:c.container},l.a.createElement("div",{className:c.purpleHeader},this.renderHeaderImages({classNames:c})),this.renderTextContent({classNames:c}),this.renderCloseButton(c));break;case d.b.BACKGROUND_IMAGE:{const e=i.oneX,t=i.twoX;m=l.a.createElement("div",{className:c.container,style:{height:Number(i.height)+"px",backgroundImage:`url(${t||e})`}},l.a.createElement("div",{className:c.purpleHeader},this.renderCloseButton(c),this.renderHeaderImages({classNames:c,includeOfferImage:!1}),this.renderTextContent({classNames:c,isOnDarkBackground:!0})));break}case d.b.FALLBACK:{const e=i.oneX,t=i.twoX,a=i.height;m=l.a.createElement("div",{className:c.container,style:{width:Number(i.width)+"px",height:Number(a)+"px",backgroundImage:`url(${t||e})`},"aria-label":o},this.renderCloseButton(c),this.renderUnsubscribeButton(c));break}default:return null}switch(n){case d.c.OVERLAY:return l.a.createElement(I.a,null,m);case d.c.MODAL:default:return l.a.createElement(v.a,{onClose:this.onCloseModal},m)}}}R.contextTypes={intl:g.intlShape.isRequired,getCss:_.a.func};var w=Object(A.a)(Object(r.connect)(null,e=>({onUnsubscribeClick:t=>e(Object(M.a)(t))}))(R));function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const L=e=>{const t=e.productCode,a=e.version,n=x({},e,{cueName:c.Eb.DISPATCHER_UPSELLS,overridingStyle:{[e.template]:!0},computeActionData:()=>({productCode:t,version:a})});return l.a.createElement(w,n)},B=({text:e="",fallback:t="",name:a=""})=>!a&&t?t:e.replace(/\${NAME}/gi,a),j=e=>{const t=(0,Object(i.selectors)(e).getSetting)(c.Kd.DISPATCHER_UPSELL_DATA),a=Object(i.selectors)(e),n=((0,a.getAccountById)((0,a.getSelectedAccountIdByRoute)((0,a.getRoute)()))||{}).sendingName,s=void 0===n?"":n,r=t.descriptionText,o=t.descriptionTextFallback,l=t.tooltipText,d=t.tooltipTextFallback;return x({},t,{headingText:B({text:t.headingText,fallback:t.headingTextFallback,name:s}),descriptionText:B({text:r,fallback:o,name:s}),tooltipText:B({text:l,fallback:d,name:s})})};t.default=Object(r.connect)(j,null)(L)},,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),i=a(7),r=a.n(i),o=a(6),l=a(27),c=a.n(l),d=a(3),m=a.n(d),_=a(17),u=a(4),p=a(16),h=(a(51),a(5)),g=a(319),E=a(1732),b=a.n(E),f=a(12),C=a.n(f);const S={kind:u.Kinds.CLOSE,colorState:u.ColorStates.DEFAULT,size:u.Sizes.XXXS};class y extends s.a.Component{constructor(...e){super(...e),m()(this,"onClose",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",sec:h.i.FEATURE_CUE,interactionType:Object(p.getInteractionFromEvent)(e)}})}),m()(this,"onCtaClick",e=>{this.props.onCtaClick(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_success",sec:h.i.FEATURE_CUE,interactionType:Object(p.getInteractionFromEvent)(e)}})})}render(){const e=this.context.mailBrandNameString,t=this.context.intl.formatMessage,a=this.props,n=a.message,i=a.ctaText,r=a.bgImage,l=a.cueName,d=a.bgImageClass,m=C()(b.a,{image:d});return s.a.createElement("div",{className:m.container,"data-test-id":l},s.a.createElement("div",{className:m.text},s.a.createElement(o.FormattedMessage,c()({},n,{values:{mailBrandNameString:e}}))),s.a.createElement("a",{className:m.ctaLink,onClick:this.onCtaClick,"aria-label":t(i),title:t(i),"data-test-id":"try-now-cue-button"},t(i)),s.a.createElement("div",{"data-test-id":"text-cue-close-icon",className:m.close,onClick:this.onClose},s.a.createElement(_.b,c()({"data-test-id":"close-cue-button"},S))),s.a.createElement("div",{className:m.image,style:{backgroundImage:`url(${r})`}}))}}m()(y,"contextTypes",{intl:o.intlShape.isRequired,mailBrandNameString:r.a.string});var T=Object(g.a)(y),v=a(0),I=a(49),M=a(14);const A=Object(I.a)("/img/account_sources.png"),N=Object(o.defineMessages)({ctaText:{id:"imapin.office365_cta",defaultMessage:"Add Office 365 now"},message:{id:"imapin.office365_message",defaultMessage:"{mailBrandNameString} now supports Office 365 email import."}});function k(e,t){return s.a.createElement(T,{message:N.message,ctaText:N.ctaText,cueName:v.Eb.OFFICE365_CUE,onCtaClick:()=>{t.navigateTo({route:Object(M.w)({settingsGroupId:v.Nd.ACCOUNTS,openAddAccount:!0})})},onShow:e.onShow,bgImage:A,bgImageClass:"office365"})}k.contextTypes={navigateTo:r.a.func}},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1406),m=a.n(d),_=a(12),u=a.n(_),p=a(18),h=(a(51),a(319)),g=a(16),E=a(25),b=a(17),f=a(4),C=a(242),S=a(21);const y=Object(c.defineMessages)({mayBeLaterButtonText:{id:"mayBeLater.buttonText",defaultMessage:"Got it"},close:{id:"cue.close",defaultMessage:"Close"}});class T extends l.a.Component{constructor(...e){super(...e),s()(this,"onTryButton",e=>{e.stopPropagation(),this.props.onTryButton(e),this.props.onSuccess({i13nModel:{interactionType:Object(g.getInteractionFromEvent)(e)}})}),s()(this,"onMayBeLater",e=>{this.props.onClose({i13nModel:{interactionType:Object(g.getInteractionFromEvent)(e)},userResponse:this.props.userResponse?this.props.userResponse:null})})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.fujiIconKind,n=t.fujiIconSize,s=t.svgImageKind,i=t.pngImageUrl,r=u()(m.a,{svgStyleImage:void 0!==(a||s||i),svgStyleWithoutImage:void 0===a});return l.a.createElement("div",{className:r.hotspotContainer,"data-test-id":this.props.cueName},l.a.createElement("div",{className:r.svgStyle},s?l.a.createElement(C.a,{kind:s,width:72,height:72}):"",i?l.a.createElement("img",{src:i}):null,a&&n&&void 0===s?l.a.createElement(b.b,{kind:a,size:n,colorState:f.ColorStates.INVERTED}):""),l.a.createElement("div",{className:r.hostspotInfoWrapper},"object"==typeof this.props.headerText?l.a.createElement("div",{className:r.header,"aria-label":e(this.props.headerText)},l.a.createElement(c.FormattedMessage,this.props.headerText)):l.a.createElement("div",{className:r.header,"aria-label":this.props.headerText},this.props.headerText),l.a.createElement("div",{className:r.body,"aria-label":e(this.props.bodyText)},l.a.createElement(c.FormattedMessage,this.props.bodyText)),l.a.createElement("div",{className:r.actionContainer},l.a.createElement(p.a,{onClick:this.onTryButton,title:e(this.props.tryButtonText),"data-test-id":"try-cue-button",kind:E.a.PRIMARY,"aria-label":e(this.props.tryButtonText)},l.a.createElement(c.FormattedMessage,this.props.tryButtonText)),l.a.createElement(p.a,{onClick:this.onMayBeLater,title:e(this.props.mayBeLaterButtonText),"data-test-id":"maybe-later-cue-button",kind:E.a.CHROMELESS,"aria-label":e(this.props.mayBeLaterButtonText)},l.a.createElement(c.FormattedMessage,this.props.mayBeLaterButtonText))),l.a.createElement("div",{className:r.close},l.a.createElement(S.default,{onClick:this.onMayBeLater,kind:f.Kinds.CLOSE,size:f.Sizes.XXS,colorState:f.ColorStates.IMPROVED_GRAY_DARK,title:e(y.close),"aria-label":e(y.close),"data-test-id":"close-cue-button"}))))}}s()(T,"contextTypes",{intl:c.intlShape.isRequired}),s()(T,"defaultProps",{mayBeLaterButtonText:y.mayBeLaterButtonText});var v=Object(h.a)(T),I=a(0),M=a(14),A=a(49);const N=Object(A.a)("/img/coupons_view_cue.png"),k=Object(c.defineMessages)({header:{id:"couponsview_cue.header",defaultMessage:"Never miss a deal"},body:{id:"couponsview_cue.body",defaultMessage:"Deals we find in your inbox will appear here. Opt into notifications to be alerted when deals are about to expire"},primary_button:{id:"couponsview_cue.primary_button",defaultMessage:"Try Deals view"}});class O extends l.a.Component{constructor(...e){super(...e),s()(this,"onTryButton",()=>{this.context.navigateTo({route:Object(M.x)(I.Ud.COUPONS),name:this.props.cueName})})}render(){return l.a.createElement(v,{bodyText:k.body,cueName:this.props.cueName,headerText:k.header,onTryButton:this.onTryButton,tryButtonText:k.primary_button,pngImageUrl:N})}}s()(O,"contextTypes",{navigateTo:r.a.func});t.default=O},function(e,t,a){"use strict";a.r(t),a.d(t,"CategoryFollowing",(function(){return L})),a.d(t,"mapStateToProps",(function(){return B})),a.d(t,"mapDispatchToProps",(function(){return j}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(12),d=a.n(c),m=a(28),_=a.n(m),u=a(6),p=a(13),h=a(140),g=a(15),E=a(24),b=a(1494),f=a(0),C=a(45),S=a(5),y=a(11),T=a(10),v=a(4),I=a(17),M=a(22),A=a(16),N=a(1773),k=a.n(N);const O=()=>{};class D extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{isFollowing:this.props.following,isExpanded:!1}),s()(this,"handleClick",e=>{const t=this.props,a=t.contextOfUse;if(!t.isCompact)if("category"===a){const t=this.props,a=t.displayContent,n=t.requestCategoryUnfollow,s=t.requestCategoryFollow,i=this.state.isFollowing,r=i?S.g.CATEGORY_UNFOLLOW:S.g.CATEGORY_FOLLOW,o=Object(A.getInteractionFromEvent)(e),l=S.i.MSG_BODY,c={reason:{featurefamily:f.Cb.IC,featurename:f.Eb.CATEGORY_FOLLOW,viewtype:"msgread"}};i?n({category:a}):s({category:a}),C.b.sendI13nModel({i13nModel:{mKey:r,interactionType:o,sec:l,actionData:c}})}else"expand"===a&&(this.setState({isExpanded:!this.state.isExpanded}),this.props.onPillClick())}),s()(this,"renderIcon",(e,t,a,n)=>{if(n)return null;let s,i,r,o;return t?(s=v.Kinds.EXCLAMATION,i=v.Sizes.XXS,r=v.ColorStates.INHERITED,o=v.Rotate.D0):a?(s=v.Kinds.ARROW_RIGHT_DOC,i=v.Sizes.XXS,r=v.ColorStates.GRAD_BLUE,o=this.state.isExpanded?v.Rotate.D270:v.Rotate.D90):this.props.isCompact?(s=v.Kinds.STAR,i=v.Sizes.XS,r=v.ColorStates.INHERITED,o=v.Rotate.D0):(s=v.Kinds.BIG_STAR,i=v.Sizes.XXS,r=v.ColorStates.INHERITED,o=v.Rotate.D0),l.a.createElement("div",{"data-test-id":"category_pill_icon",className:e.icon},l.a.createElement(I.b,{kind:s,size:i,rotate:o,colorState:r}))}),s()(this,"renderDisplayContent",(e,t,a)=>{const n=this.props.displayContent;let s;return s=a?"+"+n.displayText:t?n.displayText:n.name,l.a.createElement("div",{"data-test-id":"category_pill_name",className:e.categoryText},s)})}componentDidUpdate(e){e.following!==this.props.following&&this.setState({isFollowing:this.props.following})}render(){const e=this.context,t=e.getCss,a=this.props,n=a.isCompact,s=a.displayContent,i=a.error,r=a.contextOfUse,o=this.state.isFollowing,c=(0,e.getThemeMode)(),d=this.props["data-test-id"]&&(o&&!i?"following ":"")+(i?"error ":"")+this.props["data-test-id"],m="expand"===r,_="overflowNumber"===r,u=t(k.a,{following:o&&!i,isCompact:n,isDarkThemeCompact:c===M.i.DARK&&n,contextOfUse_error:`${r}_${!!i}`});return l.a.createElement("div",{"data-test-id":d,"data-pill-text":"category"===r?s.name:null,className:u.pillContainer,onClick:this.handleClick},this.renderIcon(u,i,m,_),this.renderDisplayContent(u,m,_))}}s()(D,"contextTypes",{getCss:r.a.func,getThemeMode:r.a.func}),s()(D,"defaultProps",{following:!1,isCompact:!1,requestCategoryFollow:O,requestCategoryUnfollow:O,contextOfUse:"category",onPillClick:O});var P=Object(p.connect)((e,{contextOfUse:t="",displayContent:a={},following:n,error:s})=>{const i=(0,Object(T.selectors)(e).getCategoryFollowingSelectors)(),r=i.isCategoryFollowed,o=i.isCategoryLastError,l=["firstCategory","overflowNumber","popover"].includes(t);return a.id&&(n=r(a.id),s=o(a.id)),{isCompact:l,following:n,error:s}},e=>({requestCategoryFollow:t=>e(Object(h.f)(t)),requestCategoryUnfollow:t=>e(Object(h.g)(t))}))(D),R=a(1774),w=a.n(R);const F=Object(u.defineMessages)({heading_suggested:{id:"category_following.heading_suggested",defaultMessage:"Suggested product categories to watch"},popover_title:{id:"category_following.popover_title",defaultMessage:"Following {categoriesLength} product categories"},onboarding_title:{id:"category_following.onboarding_title",defaultMessage:"Start watching categories like these to get relevant deals."}}),x={messageList:{}};class L extends l.a.Component{constructor(e){super(e),s()(this,"state",{showOverflowCategories:!1,mounted:!1,popoverClosed:!1,dimensions:{}}),s()(this,"renderCompactPills",e=>{const t=this.props,a=t.messageGroupId,n=t.categoriesFollowed;if(n.length){const t=l.a.createElement(P,{contextOfUse:"firstCategory",displayContent:n[0]});return x.messageList[a]||(this.renderTimeout=setImmediate(()=>{if(!x.messageList[a]){C.b.sendI13nModel({i13nModel:{mKey:S.g.CATEGORY_FOLLOWING_SHOW,sec:S.i.MSG_BODY,actionData:{reason:{featurefamily:f.Cb.IC,featurename:f.Eb.CATEGORY_FOLLOW}}}}),x.messageList[a]=!0}})),l.a.createElement("div",{className:e.pillsWrapper},t)}return null}),s()(this,"toggleExpansion",()=>{this.setState({showOverflowCategories:!this.state.showOverflowCategories})}),s()(this,"renderExpandPill",()=>{const e=this.state.showOverflowCategories;return l.a.createElement(P,{"data-test-id":e?"category_view_less":"category_view_more",contextOfUse:"expand",displayContent:{displayText:e?"Less":"More"},onPillClick:this.toggleExpansion})}),s()(this,"renderPopover",()=>this.props.isCueEnabled?l.a.createElement(b.a,{popoverAnchor:this.headContainerRef.current,align:g.a.CENTER,triggerOn:g.i.MOUNT,isArrowVisible:!0,permittedArrowDirections:[g.h.START],zAltitude:y.Pb.POPOVER.LOW,bg:g.d.DEFAULT,borderRadius:g.e.MEDIUM},l.a.createElement("div",{ref:"popoverInnerContent"},l.a.createElement(E.a,{import:"../feature_cue/atoms/text_only_cue",appearance:"white",message:F.onboarding_title,cueName:f.Eb.CATEGORY_FOLLOWING_CUE,onCloseNotify:this.onClosePopover,_moduleLoader:function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,1393))},_moduleResolver:function(){return 1393}}))):null),s()(this,"onClosePopover",()=>{this.setState({popoverClosed:!0})}),s()(this,"renderPills",e=>{const t=this.props,a=t.categoriesList,n=t.containerWidth,s=this.state.dimensions,i=this.context.intl.formatMessage;this.categoriesToShow=this.categoriesToShow&&this.categoriesToShow.length>=2&&this.categoriesToShow.length===a.length?[...a].sort((e,t)=>this.categoriesToShow.findIndex(t=>t.id===e.id)-this.categoriesToShow.findIndex(e=>e.id===t.id)):[...a];let r=this.pillContainerRef.current&&this.pillContainerRef.current.offsetWidth||n;if(r>0){const e=this.categoriesToShow.reduce((e,t)=>e+(s[t.name]&&s[t.name].width||0),0);r-=4*y.G+4*y.G;const t=e>r;r=t?r-80:0,t&&r<=0&&(r=1)}const o=r>0?this.categoriesToShow.reduce((e,t)=>(r-=s[t.name]&&s[t.name].width||0,r>=0&&++e,e),0):this.categoriesToShow.length,c=this.categoriesToShow.slice(0,o||1),d=this.categoriesToShow.slice(o||1);return this.renderedMessageReadOnce||(this.renderTimeout=setImmediate(()=>{if(!this.renderedMessageReadOnce){C.b.sendI13nModel({i13nModel:{mKey:S.g.SUGGESTED_CATEGORIES_CARD_SHOW,sec:S.i.MSG_BODY,actionData:{reason:{featurefamily:f.Cb.IC,featurename:f.Eb.CATEGORY_FOLLOW,viewtype:"msgread"}}}}),this.renderedMessageReadOnce=!0}})),l.a.createElement("div",{"data-test-id":"category_following"},l.a.createElement("div",{className:e.separator}),l.a.createElement("div",{ref:this.pillContainerRef,className:e.container},l.a.createElement("div",{ref:this.headContainerRef,className:e.heading},i(F.heading_suggested)),this.renderPopover(),l.a.createElement("div",{className:e.pillsWrapper},c.map((e,t)=>l.a.createElement(P,{"data-test-id":"category_pill",displayContent:e,key:t})),this.state.showOverflowCategories?d.map((e,t)=>l.a.createElement(P,{"data-test-id":"category_pill",displayContent:e,key:t})):null,d.length?this.renderExpandPill():null)))}),this.pillContainerRef=l.a.createRef(),this.headContainerRef=l.a.createRef(),this.renderedMessageReadOnce=!1}componentDidMount(){if(!this.state.mounted&&(this.setState({mounted:!0}),0===this.props.containerWidth)){const e=_.a.findDOMNode(this);if(e instanceof HTMLElement){const t=e.querySelectorAll("[data-pill-text]"),a=Array.from(t).reduce((e,t)=>(e[t.getAttribute("data-pill-text")]={width:t.offsetWidth+1+y.G,height:t.offsetHeight},e),{});this.setState({dimensions:a})}}}componentWillUnmount(){"messageRead"===this.props.contextOfUse&&this.props.categoryFollowFailureReset(),this.state.mounted&&this.setState({mounted:!1}),clearImmediate(this.renderTimeout)}render(){const e=this.props,t=e.isCategoryListLoaded,a="messageList"===e.contextOfUse,n=d()(w.a,{isCompact:a});return t?a?this.renderCompactPills(n):this.renderPills(n):null}}s()(L,"contextTypes",{intl:u.intlShape.isRequired}),s()(L,"defaultProps",{categoriesFollowed:[],contextOfUse:"messageRead",containerWidth:0});const B=(e,{categoriesList:t=[]})=>{const a=Object(T.selectors)(e),n=a.isFeatureEnabled,s=(0,a.getCategoryFollowingSelectors)(),i=s.isCategoryListLoaded,r=s.isCategoryFollowed,o=n(f.Eb.CATEGORY_FOLLOWING_CUE),l=t.filter(e=>r(e.id));return{isCueEnabled:o,isCategoryListLoaded:i(),categoriesFollowed:l}},j=e=>({categoryFollowFailureReset:()=>e(Object(h.b)())});t.default=Object(p.connect)(B,j)(L)},function(e,t,a){"use strict";a.r(t),a.d(t,"MoreMenuItems",(function(){return W})),a.d(t,"mapStateToProps",(function(){return G})),a.d(t,"mapDispatchToProps",(function(){return Z}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(13),d=a(32),m=a(6),_=a(606),u=a.n(_),p=a(12),h=a.n(p),g=a(117),E=a(63),b=a(106),f=a(113),C=a(5),S=a(0),y=a(16),T=a(10),v=a(125),I=a(495),M=Object(m.defineMessages)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},blockSenders:{id:"block_messages_from_senders",defaultMessage:"Block senders"},viewRawMessage:{id:"view_raw_message_title",defaultMessage:"View raw message"},markedAsRead:{id:"marked_as_read",defaultMessage:"Message is already marked as read"},markedAsUnread:{id:"marked_as_unread",defaultMessage:"Message is already marked as unread"},markedAsStarred:{id:"marked_as_starred",defaultMessage:"Message is already marked as starred"},markedAsUnstarred:{id:"marked_as_unstarred",defaultMessage:"Message is already marked as not starred"},printMessage:{id:"print_message_title",defaultMessage:"Print message"},filterMessagesLikeThis:{id:"filter_messages_like_this",defaultMessage:"Filter messages like this..."},addToContacts:{id:"more_menu.add_to_contact",defaultMessage:"Add Sender to Contacts"},extractionsFeedback:{id:"more_menu.extractions_feedback",defaultMessage:"Give extractions feedback"}}),A=a(82),N=a(496),k=a(67),O=a(8),D=a(1492),P=a(1442),R=a(1493),w=a(84),F=a(1268),x=a(80),L=a(24);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const j=h()(u.a),U={[b.i]:f.e,[b.m]:f.h,[b.f]:f.c,[b.l]:f.g},H=()=>{};class W extends l.a.Component{constructor(...e){super(...e),s()(this,"_executeAction",({action:e,stream:t={},permanent:a,i13nModel:n})=>{const i=U[e],r=this.props;i&&r.doSelectAll&&(e=i),this.context.executeAction(e,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({listId:r.listId},t,{allItemsCount:r.allItemsCount,conversations:r.conversations,messageGroupIds:r.selectedGroupIds},a&&{permanent:a},{i13nModel:Object.assign({sec:r.contextMenuMode?C.i.MSG_LIST_CONTEXT_MENU:C.i.MSG_LIST_BULK_ACTION},n)}))}),s()(this,"shouldHandleEvent",e=>(e.preventDefault(),e.key&&e.stopPropagation(),!e.key||e.key&&/^( |Enter)$/.test(e.key))),s()(this,"handleGroupRead",e=>{const t=this.props,a=t.streamId,n=t.streamItem;this.shouldHandleEvent(e)&&this._executeAction({action:b.i,stream:{streamId:a,streamItem:n},i13nModel:{mKey:C.g.TOOLBAR_MARK_READ,interactionType:Object(y.getInteractionFromEvent)(e),mKeyGroup:C.h.markRead}})}),s()(this,"handleGroupUnread",e=>{const t=this.props,a=t.streamId,n=t.streamItem;this.shouldHandleEvent(e)&&this._executeAction({action:b.m,stream:{streamId:a,streamItem:n},i13nModel:{mKey:C.g.TOOLBAR_MARK_UNREAD,interactionType:Object(y.getInteractionFromEvent)(e),mKeyGroup:C.h.markUnread}})}),s()(this,"handleGroupStarred",e=>{const t=this.props,a=t.streamId,n=t.streamItem;this.shouldHandleEvent(e)&&this._executeAction({action:b.f,stream:{streamId:a,streamItem:n},i13nModel:{mKey:C.g.TOOLBAR_MARK_STARRED,interactionType:Object(y.getInteractionFromEvent)(e),mKeyGroup:C.h.markStar}})}),s()(this,"handleGroupUnstarred",e=>{const t=this.props,a=t.streamId,n=t.streamItem;this.shouldHandleEvent(e)&&this._executeAction({action:b.l,stream:{streamId:a,streamItem:n},i13nModel:{mKey:C.g.TOOLBAR_MARK_UNSTARRED,interactionType:Object(y.getInteractionFromEvent)(e),mKeyGroup:C.h.markUnstar}})}),s()(this,"handleGroupBlockSenders",e=>{this.shouldHandleEvent(e)&&Object(v.a)(l.a.createElement(I.a,{messageGroupIds:this.props.selectedGroupIds,listId:this.props.listId}),this.context)}),s()(this,"handleAddToContacts",e=>{this.shouldHandleEvent(e)&&this.props.addToContacts({email:this.props.emailIds[0],isCompose:!1,name:S.pd.CONTACTS_PANE,id:this.props.idForSender,i13nModel:{mKey:C.g.TOOLBAR_ADD_TO_CONTACTS,sec:this.props.contextMenuMode?C.i.MSG_LIST_CONTEXT_MENU:C.i.MSG_LIST_BULK_ACTION,interactionType:Object(y.getInteractionFromEvent)(e)}})}),s()(this,"handleExtractionsFeedback",e=>{this.shouldHandleEvent(e)&&setTimeout(()=>Object(v.a)(l.a.createElement(L.a,{bundleName:"feedback",import:"../feedback/atoms/feedback_modal",groupId:this.props.activeGroupId,_moduleLoader:function(){return a.e(3).then(a.bind(null,1410))},_moduleResolver:function(){return 1410}}),this.context),100)}),s()(this,"handlePrint",e=>{if(!this.shouldHandleEvent(e))return;const t=this.props;this.props.onPrint({listId:t.listId,streamId:t.streamId,groupId:t.activeGroupId,i13nModel:{mKey:C.g.TOOLBAR_PRINT,interactionType:Object(y.getInteractionFromEvent)(e)}})}),s()(this,"handleRawMessage",e=>{this.shouldHandleEvent(e)&&this._executeAction({action:b.t,i13nModel:{mKey:C.g.TOOLBAR_VIEW_RAW,interactionType:Object(y.getInteractionFromEvent)(e)}})}),s()(this,"handleFilterMessagesLikeThis",e=>{if(!this.shouldHandleEvent(e))return;const t=this.props.messageIds;Object(v.a)(l.a.createElement(R.a,{messageId:t[0]}),this.context)}),s()(this,"renderConfirmDialog",e=>{const t=this.props,a=t.allItemsCount,n=t.doSelectAll,s=t.folderType,i=t.listId,r=t.selectedGroupIds,o=t.streamId,c=t.streamItem,d=t.conversations;Object(v.a)(l.a.createElement(D.a,{selectedGroupIds:r,streamId:o,listId:i,streamItem:c,allItemsCount:a,doSelectAll:n,folderType:s,conversations:d,contextMenuAction:e}),this.context)}),s()(this,"handleDelete",e=>{if(!this.shouldHandleEvent(e))return;const t=this.props,a=t.streamId,n=t.streamItem,s=t.enabledActionsForFolderType,i=!s.delete&&s.permDelete;i||t.isBulkAction?this.renderConfirmDialog(i?P.a.PERM_DELETE:P.a.DELETE):this._executeAction({action:b.c,stream:{streamId:a,streamItem:n},permanent:i,i13nModel:{mKey:C.g.TOOLBAR_DELETE,mKeyGroup:C.h.deleteMsg,interactionType:Object(y.getInteractionFromEvent)(e)}})}),s()(this,"handleArchive",e=>{if(!this.shouldHandleEvent(e))return;const t=this.props,a=t.doSelectAll,n=t.streamId,s=t.streamItem,i=t.enabledActionsForFolderType,r=!i.archive&&i.restore,o={mKey:r?C.g.TOOLBAR_RESTORE:C.g.TOOLBAR_ARCHIVE,mKeyGroup:r?C.h.restore:C.h.archiveMsg,interactionType:Object(y.getInteractionFromEvent)(e)};a?this.renderConfirmDialog(r?P.a.RESTORE:P.a.ARCHIVE):this._executeAction({action:r?b.r:b.a,stream:{streamId:n,streamItem:s},i13nModel:o})}),s()(this,"handleSpam",e=>{if(!this.shouldHandleEvent(e))return;const t=this.props,a=t.doSelectAll,n=t.streamId,s=t.streamItem,i=t.enabledActionsForFolderType,r=!!i.spam||!i.ham,o={mKey:r?C.g.TOOLBAR_SPAM:C.g.TOOLBAR_NOT_SPAM,mKeyGroup:r?C.h.markSpam:C.h.markUnspam,interactionType:Object(y.getInteractionFromEvent)(e)};a?this.renderConfirmDialog(r?P.a.MARK_AS_SPAM:P.a.MARK_AS_NOT_SPAM):this._executeAction({action:r?b.j:b.g,stream:{streamId:n,streamItem:s},i13nModel:o})}),s()(this,"handleReply",e=>{const t=this.props.selectedGroupIds;this.shouldHandleEvent(e)&&this.context.executeAction(b.q,{triggeredFromContextMenu:!0,messageGroupId:t[0],i13nModel:Object.assign({mKey:C.g.TOOLBAR_REPLY,sec:C.i.MSG_LIST_CONTEXT_MENU,mKeyGroup:C.h.replyMsg,interactionType:Object(y.getInteractionFromEvent)(e)})})}),s()(this,"handleReplyAll",e=>{const t=this.props.selectedGroupIds;this.shouldHandleEvent(e)&&this.context.executeAction(b.p,{triggeredFromContextMenu:!0,messageGroupId:t[0],i13nModel:Object.assign({mKey:C.g.TOOLBAR_REPLYALL,sec:C.i.MSG_LIST_CONTEXT_MENU,mKeyGroup:C.h.replyAllMsg,interactionType:Object(y.getInteractionFromEvent)(e)})})}),s()(this,"handleForward",e=>{const t=this.props.selectedGroupIds;this.shouldHandleEvent(e)&&this.context.executeAction(b.e,{triggeredFromContextMenu:!0,messageGroupId:t[0],i13nModel:Object.assign({mKey:C.g.TOOLBAR_FORWARD,sec:C.i.MSG_LIST_CONTEXT_MENU,mKeyGroup:C.h.forwardMsg,interactionType:Object(y.getInteractionFromEvent)(e)})})}),s()(this,"renderReplyActions",()=>{const e=this.props;return e.contextMenuMode&&e.enableSingleMessageGroupActions?l.a.createElement(o.Fragment,null,l.a.createElement(d.a,{name:"reply-message","data-test-id":"more-menu-reply"},l.a.createElement("a",{tabIndex:-1,onClick:this.handleReply,onKeyDown:this.handleReply,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,{id:"message.toolbar.reply",defaultMessage:"Reply"})))),l.a.createElement(d.a,{name:"reply-all-message","data-test-id":"more-menu-reply-all"},l.a.createElement("a",{tabIndex:-1,onClick:this.handleReplyAll,onKeyDown:this.handleReplyAll,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,{id:"message.toolbar.replyAll",defaultMessage:"Reply All"})))),l.a.createElement(d.a,{name:"forward-message","data-test-id":"more-menu-forward"},l.a.createElement("a",{tabIndex:-1,onClick:this.handleForward,onKeyDown:this.handleForward,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,{id:"message.toolbar.forward",defaultMessage:"Forward"})))),l.a.createElement(d.a,{className:j.separator})):null}),s()(this,"renderArchive",()=>{const e=this.props.enabledActionsForFolderType,t=e.archive;return!t&&e.restore?l.a.createElement(d.a,{name:"restore-message","data-test-id":"more-menu-restore"},l.a.createElement("a",{tabIndex:-1,onClick:this.handleArchive,onKeyDown:this.handleArchive,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"})))):t?l.a.createElement(d.a,{name:"archive-message","data-test-id":"more-menu-archive"},l.a.createElement("a",{tabIndex:-1,onClick:this.handleArchive,onKeyDown:this.handleArchive,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,{id:"archive_icon_label",defaultMessage:"Archive"})))):null}),s()(this,"renderSpam",()=>{const e=this.props.enabledActionsForFolderType,t=e.ham;return e.spam?l.a.createElement(d.a,{name:"mark-as-spam-message","data-test-id":"more-menu-mark-as-spam"},l.a.createElement("a",{tabIndex:-1,onClick:this.handleSpam,onKeyDown:this.handleSpam,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,{id:"spam_icon_label",defaultMessage:"Spam"})))):t?l.a.createElement(d.a,{name:"mark-not-spam-message","data-test-id":"more-menu-mark-not-spam"},l.a.createElement("a",{tabIndex:-1,onClick:this.handleSpam,onKeyDown:this.handleSpam,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,{id:"not_spam_icon_label",defaultMessage:"Not Spam"})))):null})}componentDidMount(){this.props.enableFilterMessagesLikeThis&&this.props.filtersAndBlockedSendersApiStatus!==S.od.LOADED?this.props.fetchFiltersAndBlockedSenders():this.props.enableBlockSenders&&this.props.blockedSendersApiStatus!==S.od.LOADED&&this.props.fetchBlockedSenders(),this.props.shouldFetchContactDetails&&this.props.getContactDetails({email:this.props.emailIds[0],isCompose:!1})}render(){const e=this.props,t=e.enableMarkAsRead,a=e.enableMarkAsUnread,n=e.enableStar,s=e.enableUnstar,i=e.enableBlockSenders,r=e.enableSingleMessageGroupActions,c=e.enableFilterMessagesLikeThis,_=e.messageIds,p=e.contextMenuMode,b=e.showAddToContacts,f=e.enableAddToContacts,C=e.enableExtractionsFeedback,y=e.blockedSendersApiStatus!==S.od.LOADED,T=e.filtersAndBlockedSendersApiStatus!==S.od.LOADED,v=this.context.intl.formatMessage,I=!p;return l.a.createElement("div",{"data-test-id":"more-menu-list-container",className:j.popoverContent},l.a.createElement(E.a,{kind:g.a.MENU,focusOnMount:!0,"data-test-id":"more-menu",key:"more-menu",circularNavigation:!1,onEscape:e.onEscape},this.renderReplyActions(),t&&l.a.createElement(d.a,{name:"mark-as-read","data-test-id":"mark-as-read",title:v(M.markAsRead)},l.a.createElement("a",{tabIndex:-1,onClick:this.handleGroupRead,onKeyDown:this.handleGroupRead,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,{id:"mark_msgs_as_read",defaultMessage:"Mark as read"})),I&&l.a.createElement("span",{"data-test-id":"mark-as-read-shortcut"},"Shift+K"))),a&&l.a.createElement(d.a,{name:"mark-as-unread","data-test-id":"mark-as-unread",title:v(M.markAsUnread)},l.a.createElement("a",{tabIndex:-1,onClick:this.handleGroupUnread,onKeyDown:this.handleGroupUnread,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,{id:"mark_msgs_as_unread",defaultMessage:"Mark as unread"})),I&&l.a.createElement("span",{"data-test-id":"mark-as-unread-shortcut"},"K"))),n&&l.a.createElement(d.a,{name:"mark-as-starred","data-test-id":"mark-as-starred",title:v(M.markAsStarred)},l.a.createElement("a",{tabIndex:-1,onClick:this.handleGroupStarred,onKeyDown:this.handleGroupStarred,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,{id:"mark_msgs_as_starred",defaultMessage:"Star"})),I&&l.a.createElement("span",{"data-test-id":"mark-as-starred-shortcut"},"L"))),s&&l.a.createElement(d.a,{name:"mark-as-unstarred","data-test-id":"mark-as-unstarred",title:v(M.markAsUnstarred)},l.a.createElement("a",{tabIndex:-1,onClick:this.handleGroupUnstarred,onKeyDown:this.handleGroupUnstarred,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,{id:"mark_msgs_as_unstarred",defaultMessage:"Clear star"})),I&&l.a.createElement("span",{"data-test-id":"mark-as-unstarred-shortcut"},"Shift+L"))),i&&l.a.createElement(d.a,{name:"block-senders","data-test-id":"block-senders",title:v(M.blockSenders)},l.a.createElement("a",{tabIndex:-1,onClick:y?H:this.handleGroupBlockSenders,onKeyDown:y?H:this.handleGroupBlockSenders,className:h()(u.a,{disabled:y}).button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,{id:"block_senders",defaultMessage:"Block senders"})))),p&&l.a.createElement(o.Fragment,null,l.a.createElement(d.a,{className:j.separator}),this.renderArchive(),l.a.createElement(d.a,{name:"delete-message","data-test-id":"more-menu-delete"},l.a.createElement("a",{tabIndex:-1,onClick:this.handleDelete,onKeyDown:this.handleDelete,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,{id:"delete_icon_label",defaultMessage:"Delete"})))),this.renderSpam()),r&&l.a.createElement(o.Fragment,null,l.a.createElement(d.a,{className:j.separator}),1===_.length&&l.a.createElement(d.a,{name:"unsubscribe-message","data-test-id":"unsubscribe-message"},l.a.createElement(F.default,{messageId:_[0],menuMode:!0})),c&&l.a.createElement(d.a,{name:"filter-messages-like-this","data-test-id":"filter-messages-like-this",title:v(M.filterMessagesLikeThis)},l.a.createElement("a",{tabIndex:-1,onClick:T?H:this.handleFilterMessagesLikeThis,onKeyDown:T?H:this.handleFilterMessagesLikeThis,className:h()(u.a,{disabled:T}).button},l.a.createElement("span",{className:j.label},v(M.filterMessagesLikeThis)))),l.a.createElement(d.a,{name:"raw-message","data-test-id":"raw-message",title:v(M.viewRawMessage)},l.a.createElement("a",{tabIndex:-1,onClick:this.handleRawMessage,onKeyDown:this.handleRawMessage,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,_.length>1?{id:"view_raw_message_newest",defaultMessage:"View newest raw message"}:{id:"view_raw_message",defaultMessage:"View raw message"})))),l.a.createElement(d.a,{name:"print-message","data-test-id":"print-message",title:v(M.printMessage)},l.a.createElement("a",{tabIndex:-1,onClick:this.handlePrint,onKeyDown:this.handlePrint,className:j.button},l.a.createElement("span",{className:j.label},l.a.createElement(m.FormattedMessage,_.length>1?{id:"print_message_newest",defaultMessage:"Print newest"}:{id:"print_message_single",defaultMessage:"Print"})),I&&l.a.createElement("span",{"data-test-id":"print-shortcut"},"P")))),b&&l.a.createElement(o.Fragment,null,l.a.createElement(d.a,{className:j.separator}),l.a.createElement(d.a,{name:"add-to-contacts","data-test-id":"add-to-contacts",title:v(M.addToContacts)},l.a.createElement("a",{className:h()(u.a,{disabled:!f}).button,tabIndex:-1,onClick:f?this.handleAddToContacts:H,onKeyDown:f?this.handleAddToContacts:H},l.a.createElement("span",{className:j.label},v(M.addToContacts))))),C&&l.a.createElement(o.Fragment,null,l.a.createElement(d.a,{className:j.separator}),l.a.createElement(d.a,{name:"extractions-feedback","data-test-id":"extractions-feedback",title:v(M.extractionsFeedback)},l.a.createElement("a",{className:j.button,tabIndex:-1,onClick:this.handleExtractionsFeedback,onKeyDown:this.handleExtractionsFeedback},l.a.createElement("span",{className:j.label},v(M.extractionsFeedback)))))))}}s()(W,"contextTypes",{executeAction:r.a.func,intl:m.intlShape.isRequired,store:r.a.object,getTheme:r.a.func,getStore:r.a.func,getCss:r.a.func,getThemeMode:r.a.func,navigateTo:r.a.func}),s()(W,"defaultProps",{onEscape:H,enableMarkAsRead:!0,enableMarkAsUnread:!0,enableStar:!0,enableUnstar:!0,enableBlockSenders:!1,enableFilterMessagesLikeThis:!1,enableSingleMessageGroupActions:!1,enableAddToContacts:!1,showAddToContacts:!1,enableExtractionsFeedback:!1});const G=(e,{activeGroupId:t,streamId:a,listId:n,contextMenuMode:s})=>{const i=Object(T.selectors)(e),r=i.getMessageIdsFromMessageGroupId,o=i.getSenderEmailIdsFromMessageGroup,l=i.getSettingsSelectors,c=i.getMessageFlags,d=i.isSingleDraftGroup,m=i.doesStreamExist,_=i.doesListExist,u=i.getListItemIds,p=i.getSelectedStreamItems,h=i.getAllItemsCountForListId,g=i.doesFolderIdExist,E=i.getPrimaryFolderTypeByFolderId,b=i.getParticipant,f=i.getSelectedAccountId,C=i.getPrimaryAccountId,y=i.getContactListSelectors,v=(0,i.getFeaturesSelectors)();let I;if(t)I=[t];else{I=(m(a)?p(a):[]).map(({id:e})=>e)}const M=1===I.length?{id:I[0],listId:n}:void 0,A=v.isEnabled("selectAll"),D=h(n);let P=!1;const R=v.getSetting("bulkActionDialogThreshold"),w=!t&&I.length>=R;if(A){const e=_(n)?u(n):[],a=e.length>0&&e.length===I.length;P=A&&a&&!t&&(D>=R||D>I.length)}const F=v.isEnabled(S.Eb.CONVERSATIONS),x=o(I),L=v.isEnabled(S.Eb.BLOCK_SENDERS),B=v.getSetting(S.Kd.DELIVERY_BLOCKED_SENDERS),j=1===I.length?r(I[0]):[];let U=S.od.LOADING;const H=L&&x.length>0&&B.length<S.Ld.blockedSenders;if(H){U=(0,l().getBlockedSendersApiCallStatus)()}const W=1===I.length&&!d(I[0]);let G,Z={};if(s){const e=Object(O.q)(n);e&&g(e)&&(G=E(e)),Z=Object(N.a)({kind:k.c.LIST,primaryFolderType:G,listContentType:S.ac.MESSAGES})}let V=S.od.LOADING,q=!1;if(W){const e=b(j[0]),t=v.getSetting(S.Kd.MESSAGE_FILTERS);if(q=v.isEnabled(S.Eb.FILTER_MESSAGES_LIKE_THIS)&&C()===f()&&e&&e.email&&t.length<S.Ld.filters,q){V=(0,l().getFiltersAndBlockedSendersApiCallStatus)()}}const z=v.isEnabled(S.Eb.ADD_EDIT_FROM_LIST_CARD),Y=y(),K=Y.isUserAddedContact;let X=!1,Q=!1,J=!1,$=!1,ee=!1;const te=(0,Y.getContactIdByEmail)(x[0]),ae=v.isEnabled(S.Eb.EXTRACTIONS_FEEDBACK);return z&&W&&(void 0===x[0]?X=!0:Q=K(te),J=j.length<=1&&!X,$=J&&!Q,ee=$&&!te),{selectedGroupIds:I,streamItem:M,conversations:F,enableMarkAsRead:0===j.length||j.some(e=>!c(e).read),enableMarkAsUnread:0===j.length||j.some(e=>c(e).read),enableStar:0===j.length||j.some(e=>!c(e).flagged),enableUnstar:0===j.length||j.some(e=>c(e).flagged),enableBlockSenders:H,blockedSendersApiStatus:U,enableSingleMessageGroupActions:W,messageIds:j,doSelectAll:P,allItemsCount:D,isBulkAction:w,folderType:G,enabledActionsForFolderType:Z,enableFilterMessagesLikeThis:q,filtersAndBlockedSendersApiStatus:V,showAddToContacts:J,enableAddToContacts:$,shouldFetchContactDetails:ee,emailIds:x,idForSender:$?te:null,enableExtractionsFeedback:ae}},Z=e=>({fetchBlockedSenders:t=>e(Object(A.p)(t)),fetchFiltersAndBlockedSenders:t=>e(Object(A.q)(t)),onPrint:t=>e(Object(w.r)(t)),addToContacts:t=>e(Object(x.a)(t)),getContactDetails:t=>e(Object(x.e)(t))});t.default=Object(c.connect)(G,Z)(W)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return I}));a(7);var n=a(1),s=a.n(n),i=a(6),r=a(3),o=a.n(r),l=a(28),c=a(1406),d=a.n(c),m=a(12),_=a.n(m),u=a(18),p=(a(51),a(319)),h=a(16),g=a(25),E=a(21),b=a(4);const f=_()(d.a),C=Object(i.defineMessages)({button:{id:"information_cue.button",defaultMessage:"Got it"},infoNewCallout:{id:"feature_cue.newFeature",defaultMessage:"New feature notification"},close:{id:"cue.close",defaultMessage:"Close"}});class S extends s.a.Component{constructor(...e){super(...e),o()(this,"onClose",e=>{this.props.onClose({i13nModel:{interactionType:Object(h.getInteractionFromEvent)(e)}})})}componentDidMount(){this.refs.informationCueContent&&window.setTimeout(()=>{Object(l.findDOMNode)(this.refs.informationCueContent).focus()},0)}render(){const e=this.context.intl.formatMessage;return s.a.createElement("div",{role:"navigation","aria-label":e(C.infoNewCallout)},s.a.createElement("div",{className:f.container,"data-test-id":this.props.cueName,role:"alert","aria-labelledby":"information-cue-heading","aria-describedby":"information-cue-desc",ref:"informationCueContent",tabIndex:"-1"},s.a.createElement("div",{className:f.header,id:"information-cue-heading"},s.a.createElement(i.FormattedMessage,this.props.headerText)),s.a.createElement("div",{className:f.body,id:"information-cue-desc"},s.a.createElement(i.FormattedMessage,this.props.bodyText)),s.a.createElement("div",{className:f.actionContainer},s.a.createElement(u.a,{onClick:this.onClose,title:e(C.button),"data-test-id":"information-cue-button",id:"information-cue-button",kind:g.a.PRIMARY,"aria-label":e(C.button),marginLess:!0},s.a.createElement(i.FormattedMessage,C.button)))),s.a.createElement("div",{className:f.close},s.a.createElement(E.default,{onClick:this.onClose,kind:b.Kinds.CLOSE,size:b.Sizes.XXS,colorState:b.ColorStates.IMPROVED_GRAY_DARK,title:e(C.close),"aria-label":e(C.close),"data-test-id":"close-cue-button"})))}}o()(S,"contextTypes",{intl:i.intlShape.isRequired});var y=Object(p.a)(S),T=a(0);const v=Object(i.defineMessages)({header:{id:"search.cue_header",defaultMessage:"Quickly narrow your search results"},body:{id:"search.cue_body",defaultMessage:"Find messages, documents and photos sent from a specific contact using search filters."}});function I({onShow:e,close:t}){return s.a.createElement(y,{headerText:v.header,bodyText:v.body,cueName:T.Eb.SEARCH_CUE,onShow:e,close:t})}},function(e,t,a){"use strict";a.r(t);a(7);var n=a(1),s=a.n(n),i=a(6),r=a(3),o=a.n(r),l=a(1406),c=a.n(l),d=a(12),m=a.n(d),_=a(18),u=(a(51),a(319)),p=a(16),h=a(25),g=a(21),E=a(4);const b=m()(c.a),f=Object(i.defineMessages)({tryNow:{id:"feature_cue.btn_try_now",defaultMessage:"Try now"},mayBeLater:{id:"feature_cue.btn_maybe_later",defaultMessage:"Maybe later"},close:{id:"cue.close",defaultMessage:"Close"}});class C extends s.a.Component{constructor(...e){super(...e),o()(this,"onTryNow",e=>{e.stopPropagation(),this.props.onTryNow(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_try_now",interactionType:Object(p.getInteractionFromEvent)(e)}})}),o()(this,"onMayBeLater",e=>{this.props.onMayBeLater(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_later",interactionType:Object(p.getInteractionFromEvent)(e)}})})}render(){const e=this.context.intl.formatMessage;return s.a.createElement("div",{className:b.imageCueContainer,"data-test-id":this.props.cueName},s.a.createElement("div",{className:b.imageCueInfoImageContainer},s.a.createElement("div",{className:b.imageCueInfoContainer},s.a.createElement("div",{className:b.header,"aria-label":e(this.props.headerText)},s.a.createElement(i.FormattedMessage,this.props.headerText)),s.a.createElement("div",{className:b.body,"aria-label":e(this.props.bodyText)},s.a.createElement(i.FormattedMessage,this.props.bodyText))),s.a.createElement("img",{src:this.props.imgUrl,className:b.image})),s.a.createElement("div",{className:b.imageActionContainer},s.a.createElement(_.a,{style:{width:"60%"},onClick:this.onTryNow,title:e(f.tryNow),"data-test-id":"try-now-cue-button",kind:h.a.CUE,"aria-label":e(f.tryNow)},s.a.createElement(i.FormattedMessage,f.tryNow)),s.a.createElement(_.a,{style:{width:"40%"},onClick:this.onMayBeLater,title:e(f.mayBeLater),"data-test-id":"maybe-later-cue-button",kind:h.a.CHROMELESS,"aria-label":e(f.mayBeLater)},s.a.createElement(i.FormattedMessage,f.mayBeLater))),s.a.createElement("div",{className:b.close},s.a.createElement(g.default,{onClick:this.onMayBeLater,kind:E.Kinds.CLOSE,size:E.Sizes.XXS,colorState:E.ColorStates.IMPROVED_GRAY_DARK,title:e(f.close),"aria-label":e(f.close),"data-test-id":"close-cue-button"})))}}o()(C,"contextTypes",{intl:i.intlShape.isRequired});var S=Object(u.a)(C),y=a(49);const T=Object(y.a)("/img/emoji_cue_bg.png"),v=Object(i.defineMessages)({header:{id:"emoji.cue_header",defaultMessage:"Easier than words"},body:{id:"emoji.cue_body",defaultMessage:"Express your every emotion with our new emojis"}});t.default=class extends s.a.Component{render(){return s.a.createElement(S,{headerText:v.header,bodyText:v.body,onTryNow:this.props.onTryNow,onMayBeLater:this.props.onMayBeLater,cueName:this.props.cueName,imgUrl:T})}}},,,,,,,,,,,function(e,t,a){"use strict";e.exports={className:{default:{removeContact:"R_0 W_6LEV H_6LEV r_P Q_fq7 E_6Fd5",contactItem:"D_F P_Z2h2uOL H_A ab_C k_w r_P q4_2ieea9 cZ1WADfW_2ieea9",contactAvatar:"W_6UbO H_6UbO E_6Eb4 U_6Eb4",contactName:"o_h J_x mq_CZ G_e C_Z281SGl D_B u_b i_6FIA",emailAddressLabel:"D_F je_eo6 C_Z1YRXYn i_6FsP",emailAddressLabelWrapper:"o_h J_x mq_CZ G_e F_N",primaryEmail:"b_n P_0 C_Z1YRXYn r_P C4_Z2aVTcY",contactDetails:"o_h J_x mq_CZ G_e d_6UbO D_F gl_C ek_BB N_6Fd5",detailsContainer:"m_Z12nDQf D_F W_3rRMK gl_FM jb_6Eb4 ab_C",contactEmail:"o_h J_x mq_CZ G_e i_6EGz C4_Z2aVTcY r_P Y_6Fd5 Y6_0",highlight:"q_2ieeaE",emailHighlight:"u_b"},defaultName:{contactName:"fd_i"},contactClickDisabled:{contactItem:"r_A"},darkVariations:{contactItem:"q4_ajP6C q0_ajP6C",detailsContainer:"m_1iPdY0",contactName:"C_ZpQYvz",emailAddressLabel:"C_ZvsWfq",primaryEmail:"C_ZvsWfq C4_52qC",highlight:"q_ncmIk"}},_key:"QioOG"}},,function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(107);function r(e){const t=document.querySelectorAll("header, #app > div");for(let a=0;a<t.length;a++)t[a].querySelector("#modal-outer")||(e?t[a].setAttribute("aria-hidden",e):t[a].removeAttribute("aria-hidden"))}t.a=class extends s.a.Component{componentDidMount(){r(!0)}componentWillUnmount(){r(!1)}render(){return s.a.createElement(i.a,this.props)}}},function(e,t,a){"use strict";e.exports={className:{default:{paneContainer:"I_52qC b_Z14vXdP k_w o_A P_6LEV",inputWrapper:"D_F ab_C U_6Eb4",selectFieldContainer:"em_N W_0 H_6D6F C_Z281SGl A_6EqO",inputLabel:"ej_djH em_0 en_0 A_6EqO u_b C_Z281SGl",folderFieldText:"ev_nKj2Q u_1hszGB y_Z2hYGcu",accountContainerSelect:"em_N en_N ev_nKj2Q y_Z2hYGcu",accountHeaderContainer:"M_0 P_0 D_F",accountContainerButtonContainer:"D_F M_3gIgH ab_C gl_C",accountContainerAccountHeader:"W_3nF5b o_h G_e J_x ev_nKj2Q u_b",accountContainerFolderItem:"E_6Fd5 W_3rtg7 H_6VdP",accountContainerAllMail:"W_3nF5b X_6MGW o_h G_e J_x ev_nKj2Q u_b",inputField:"cn_ZmdUJf m_2w4l8N H_6VdP em_N A_6EqO C_Z281SGl ir3_0 m3_2fAfSG",pillsInputWrapper:"m_2w4l8N H_6VdP em_N"},pillsInputFocused:{pillsInputWrapper:"m_2fAfSG"},ybarFujiTheme:{paneContainer:"e_eo6"}},_key:"ZIy47X"}},function(e,t,a){"use strict";a.d(t,"j",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"g",(function(){return m})),a.d(t,"c",(function(){return _})),a.d(t,"b",(function(){return u})),a.d(t,"f",(function(){return p})),a.d(t,"d",(function(){return h})),a.d(t,"i",(function(){return g})),a.d(t,"a",(function(){return E}));var n=a(33),s=a.n(n),i=a(91),r=a(1387),o=a(89);const l=e=>({name:e.name,emailAddresses:e.emailIds}),c=e=>{const t=e.emailAddresses;return!(!e.name&&!(void 0===t?[]:t)[0])},d=(e,t,a,n,s)=>{if(!a||!a[0])return"";const r=l(a[0]),o=r.name,d=r.emailAddresses,m=(void 0===d?[]:d)[0],_=new RegExp("^"+Object(i.a)(e),"i");return!e||!s||n||c(t)?"":_.test(m)?e+m.slice(e.length):_.test(o)?e+o.slice(e.length):""},m=(e,t,a)=>t&&a&&l(a).emailAddresses[0]||e,_=e=>c(e)?[e]:[],u=(e="")=>{const t=e.split("-"),a=s()(t,3);return new Date(a[0],a[1]-1,a[2])},p=(e,t)=>{if(!e&&!t)return r.a.ANY;const a=Object(o.j)(e,t),n=t&&g(t)&&Object(o.s)(u(t));return a===r.c&&n?r.a.WEEK:a===r.b&&n?r.a.MONTH:r.a.CUSTOM},h=(e,t)=>{let a="",n="";switch(e){case r.a.ANY:break;case r.a.WEEK:a=new Date(t).setDate(t.getDate()-r.c);break;case r.a.MONTH:a=new Date(t).setDate(t.getDate()-r.b);break;case r.a.CUSTOM:a=t}return a&&(a=Object(o.l)(new Date(a)),n=Object(o.l)(new Date(t))),{startDate:a,endDate:n}};function g(e=""){return null!==e.match(/^\d{4}-\d{2}-\d{2}$/)}const E=(e="",t="")=>{if(e&&t){const a=g(e)?u(e):null,n=g(t)?u(t):null;e=a&&Object(o.t)(a)?a:Object(o.i)(),t=n&&Object(o.t)(n)?n:Object(o.i)()}else e=t=Object(o.i)();return{startDate:e,endDate:t}}},,function(e,t,a){"use strict";a.d(t,"f",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return c}));var n=a(9);const s=Object(n.d)(["ADD","EDIT","DELETE","MOVE_UP","MOVE_DOWN"]),i={SENDER:"SENDER",TOORCC:"TOORCC",SUBJECT:"SUBJECT",BODY:"BODY"},r={[i.SENDER]:"From",[i.TOORCC]:"To/CC",[i.SUBJECT]:"Subject",[i.BODY]:"Body"},o={CONTAINS:"CONTAINS",NOTCONTAINS:"NOTCONTAINS",BEGINSWITH:"BEGINSWITH",ENDSWITH:"ENDSWITH"},l={[o.CONTAINS]:"contains",[o.NOTCONTAINS]:"does not contain",[o.BEGINSWITH]:"begins with",[o.ENDSWITH]:"ends with"},c={ALL:"ALL",INBOX:"Inbox",SENT:"Sent",ARCHIVE:"Archive",SPAM:"Spam",TRASH:"Trash",MOVETOFOLDER:"MOVETOFOLDER",OPERATOR:"operator",NAME:"name",VALUE:"value",MATCH_CASE:"matchCase",SELECTED_FOLDER:"selectedFolder",NEW_FOLDER_NAME:"newFolderName"}},function(e,t,a){"use strict";var n=a(7),s=a.n(n),i=a(1),r=a.n(i),o=a(13),l=a(10),c=a(62),d=(a(51),a(1364)),m=a.n(d),_=a(6),u=a(33),p=a.n(u),h=a(44),g=a(104),E=a(5),b=a(16),f=a(91),C=a(22);const S=(e,t)=>{const a=t.getCss,n=e.emails,s=e.highlight,i=e.applyTheme,o=(void 0===i||i)&&Object(C.n)({context:t,includeMedium:!0}),l=a(m.a,{darkVariations:o}),c=n[0];let d,u="",h="";s&&(n.find(e=>{var t=Object(f.d)(e,s),a=p()(t,3);return u=a[0],d=a[1],h=a[2],!!d}),d||(u="",h=""));return r.a.createElement("div",{className:l.emailAddressLabel,"data-test-id":"contact-item-email-list"},r.a.createElement("div",{className:l.emailAddressLabelWrapper,"data-test-id":"contact-item-email-list-wrapper"},r.a.createElement("a",{className:l.primaryEmail,onClick:t=>{const a=e.emails,n=e.openComposeView,s=e.isCompose,i=e.i13nSection,r=void 0===i?E.i.CONTACTS_PANE:i,o=e.onComposeHeaderChange,l=e.csid,c=e.inputFocus;t.stopPropagation();const d=E.g.CONTACT_ITEM_EMAIL_CLICKED,m={mKey:d,sec:r,mKeyGroup:E.h.composeMsg,interactionType:Object(b.getInteractionFromEvent)(t)};if(s){return o({csid:l,composeParams:{[c.type]:[{email:a[0]}]},i13nModel:m})}n({composeParams:{to:[{email:a[0]}]},uiContext:{mKey:d},i13nModel:m})},title:c,"data-test-id":"contact-item-primary-email"},u,d?r.a.createElement("span",{className:l.emailHighlight},d):c,h))," ",r.a.createElement("div",{"data-test-id":"contact-item-extra-info"},n.length>1&&r.a.createElement(_.FormattedMessage,{id:"contact_item.emails_with_compose",defaultMessage:"  & {extraEmailCount} more",values:{extraEmailCount:n.length-1}})))};S.contextTypes={getCss:s.a.func.isRequired,getThemeMode:s.a.func,getTheme:s.a.func};var y=Object(o.connect)(e=>{const t=Object(l.selectors)(e);return Object(b.composeContactsInfo)(t)},e=>({onComposeHeaderChange:t=>e(Object(g.b)(t)),openComposeView:t=>e(Object(h.h)(t))}))(S),T=a(9);const v=(e,t)=>{if(!e)return null;if(t)return e.number;const a=e.addrFields;return Object(T.h)(a).filter(Boolean).slice(0,2).join(" ")},I=(e,t)=>{let a;const n=e.contact,s=n.emails,i=n.phonesWithType,o=void 0===i?[]:i,l=n.addressesWithType,c=void 0===l?[]:l,d=e.applyTheme,u=void 0===d||d;if(s&&s.length)return r.a.createElement(y,{highlight:e.highlight,emails:s,i13nSection:e.i13nSection,applyTheme:u});if(!o.length&&!c.length)return null;const p=u&&Object(C.n)({context:t,includeMedium:!0}),h=t.getCss(m.a,{darkVariations:p}),g=!!o.length,E=o.length?o:c;return E.length>1&&(a=r.a.createElement(_.FormattedHTMLMessage,{id:"contact_item.sub_items",defaultMessage:"{item} & {extraItemCount} more",values:{extraItemCount:E.length-1,item:v(E[0],g)}})),r.a.createElement("div",{className:h.emailAddressLabel,"data-test-id":"contact-sub-items-"+(g?"phone":"address")},a||v(E[0],g))};I.contextTypes={getCss:s.a.func,getThemeMode:s.a.func,getTheme:s.a.func};var M=I,A=a(249),N=a(99),k=a(17),O=a(4),D=a(320),P=a(8);const R=Object(_.defineMessages)({default_contact_name:{id:"contact_list.unknown_name",defaultMessage:"# Unknown name"},remove_contact:{id:"contact_list.btn_remove_contact",defaultMessage:"Remove from list"}}),w=(e,t)=>{const a=t.intl.formatMessage,n=t.getCss,s=e.contact,i=e.highlight,o=e.onClick,l=e.applyTheme,d=void 0===l||l,_=e.allowContactRemoval,u=e.onContactRemoval,p=e.itemType,h=e.allowMultiSelect,g=void 0!==h&&h,f=e.isContactSelected,S=void 0===f?()=>!1:f,y=e.listId,T=e.sortOrder,v=s.id,I=Object(b.getDisplayName)(s,T),w=e.i13nSection||y&&N.a[Object(P.x)(y)]||E.i.CONTACTS_PANE,F=!!o,x=d&&Object(C.n)({context:t,includeMedium:!0}),L=n(m.a,{defaultName:!I,contactClickDisabled:!F,darkVariations:x});return r.a.createElement("div",{onClick:e=>{F&&o({event:e,payload:{id:v},listId:y,itemType:p,i13nSection:w})},className:L.contactItem,"data-test-id":"contact-item"},r.a.createElement("span",{className:L.contactAvatar},r.a.createElement(c.c,{contact:{id:v},size:c.b.M,isDarkMode:x})),r.a.createElement("div",{className:L.detailsContainer},r.a.createElement("div",{className:L.contactDetails},r.a.createElement(A.a,{containerClassNames:L.contactName,haystack:I||a(R.default_contact_name),needle:i,formatter:e=>r.a.createElement("span",{className:L.highlight},e)}),r.a.createElement(M,{contact:s,highlight:i,applyTheme:d,i13nSection:w})),g&&r.a.createElement("span",{className:L.checkboxWrapper},r.a.createElement(D.a,{isChecked:S({itemType:p}),onClick:()=>{}})),_&&r.a.createElement("span",{className:L.removeContact,onClick:e=>{e.stopPropagation(),u&&u(e,{itemType:p})},"data-test-id":"contact-remove-button-wrapper",title:a(R.remove_contact)},r.a.createElement(k.b,{"data-iskeynav":!0,"data-test-id":"contact-remove-button",kind:O.Kinds.CLOSE,size:O.Sizes.XXS,colorState:O.ColorStates.NORMAL}))))};w.contextTypes={intl:_.intlShape,getCss:s.a.func,getThemeMode:s.a.func,getTheme:s.a.func};t.a=Object(o.connect)((e,{id:t,itemType:a={}})=>{const n=(0,Object(l.selectors)(e).getContactListSelectors)(),s=n.getContactById,i=(0,n.getContactsSortOrder)(),r=a.id||t;let o=s(r)||{};const c=a.value,d=o.firstName,m=o.middleName,_=o.lastName,u=o.name;switch(a.type){case N.b.EMAIL:o={id:r,name:u,firstName:d,middleName:m,lastName:_,emails:[c]};break;case N.b.PHONE:o={id:r,name:u,firstName:d,middleName:m,lastName:_,phonesWithType:[{number:c}]};break;case N.b.ADDRESS:o={id:r,name:u,firstName:d,middleName:m,lastName:_,addressesWithType:[{addrFields:c}]};break;case N.b.HIDDEN:o={id:r,name:u,firstName:d,middleName:m,lastName:_,hiddenEndpoint:c}}return{contact:o,itemType:a,sortOrder:i}})(w)},function(e,t,a){"use strict";var n=a(7),s=a.n(n),i=a(1),r=a.n(i),o=a(1385),l=a.n(o),c=a(6),d=a(21),m=a(4),_=a(13),u=a(123),p=a(16),h=a(5),g=a(95),E=a(15),b=a(11);const f=Object(c.defineMessages)({addNewGroup:{id:"contact_groups_dropdown.add_new_group",defaultMessage:"Create list"},disable_contact_list_features:{id:"contactList.disable",defaultMessage:"Creating and editing contact lists is not currently available"}}),C=(e,t)=>{const a=e.disableDL,n=t.getCss(l.a,{disableDL:a}),s=t.intl.formatMessage,i=(e=>e(f.addNewGroup))(s),o=r.a.createElement("div",{"data-iskeynav":!0,onClick:t=>{t.stopPropagation(),t.preventDefault(),a||e.createNewList({i13nModel:{mKey:h.g.OPEN_CREATE_USER_GROUP,sec:h.i.GROUPS_CONTACTS_TAB,interactionType:Object(p.getInteractionFromEvent)(t)}})},className:n.label,title:i,role:"button"},r.a.createElement(d.default,{disabled:a,kind:m.Kinds.ADD,size:m.Sizes.XS,"aria-hidden":!0,paddingLess:!0,colorState:m.ColorStates.INHERITED,title:""}),i);return a?r.a.createElement(g.c,{permittedArrowDirections:[E.h.UP],triggerOn:g.b.HOVER|g.b.CLICK,triggerOff:g.a.HOVER_OUT|g.a.CLICK,align:E.a.START,isArrowVisible:!1,persistent:!0,zAltitude:b.Pb.CURSOR},o,r.a.createElement("div",{className:n.disableMessage},s(f.disable_contact_list_features))):o};C.contextTypes={getCss:s.a.func,intl:c.intlShape.isRequired};t.a=Object(_.connect)(void 0,e=>({createNewList:t=>e(Object(u.C)(t))}))(C)},,,,,function(e,t,a){"use strict";e.exports={className:{default:{filterWrapper:"em_N iz_A P_ZzaS5e",filterPreviewSection:"W_3vPwA",filterTitle:"A_6FsP M_Ic9xa",previewTitleWrapper:"D_F U_72FG o_h p_R K_6VdP",previewFilterTitle:"M_0 A_6EWk a_3vPwA",previewFilterTitleLeftAlign:"D_X a_3s0hC",blurredArea:"p_a T_6FIA D_X R_0 H_6FIA W_7yHc aw_275FVc",newAccountWrapper:"M_0 o_h J_x",newAccountIconWrapper:"M_E8xte",newAccountSuccess:"V_GM",newAccountTitle:"A_6EWk U_72FG",newAccountText:"A_6DUj i_6Fd5 J_N",textInput:"A_6EqO M_27msYt",linkedLabelWrapper:"U_fq7",label:"u_b A_6EqO M_Ic9xa",signatureContainer:"U_72FG",reauthorizeWrapper:"u_b A_6EqO Y_72FG i_6VdP",reauthorizeText:"r_P C_Z2aVTcY A_6EqO i_6VdP Y_dRA u_dPo C4_Z29WjXl",control:"W_3nF5b U_fq7",hint:"C_Z1YRXYn A_6DUj Y_fq7",baseNameError:"C_ZnTFMv",suggestionsContainer:"Y_72FG",suggestions:"M_0 P_0 hd_n",suggestionsListItem:"i_6MGW",suggestion:"r_P C_Z2aVTcY",iconWrapper:"M_UgT7L",saveButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2hYGcu A_6EqO u_e69 cZ1RN91d_n I_Z2aVTcY E_fq7 e_dRA b_0 C_52qC I4_Z29WjXl",disabledButton:"r_A D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2hYGcu A_6EqO u_e69 cZ1RN91d_n I_Z2aVTcY E_fq7 e_dRA b_0 C_52qC I4_Z2aVTcY l4_Z2aVTcY O_cMq",cancelButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2hYGcu A_6EqO u_e69 cZ1RN91d_n I_52qC b_0 C_Z2aVTcY I4_2iedUU C4_Z29WjXl",link:"C_Z2aVTcY Q_dRA u_e69 r_P",listWrapper:"X_6EGz M_Z26RiTK",errorWrapper:"A_6EqO i_6LEV C_ZkiIcp D_F ab_CI M_1KW3rc",errorIcon:"E_fq7",errorHeader:"M_0 u_e69 i_6LEV",reauthMessageWrapper:"A_6EqO D_F ab_CI i_6LEV u_N M_Z19Su7t",accountType:"Q_eo6",sendingText:"C_ZvsWfq",customTitle:"i_6LEV a_3vhr3 o_h G_e",deleteBtn:"Y_72FG",email:"o_h J_x mq_CZ G_e a_3vhr3 u_b D_X V_GH cZ1RN91d_GG"}},_key:"HUKd9"}},,function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var n=a(9);const s="https://mail.yahoo.com",i={tw:"media-tw",hk:"media-hk"},r=Object(n.d)(["REGULAR","BONUS","UNCHECK","FUTURE_MILESTONE"])},function(e,t,a){"use strict";e.exports={className:{default:{container:"i_6MGW P_Z1fehm1 C_Z1YRXYn u_b z_Z12nDQf M_dm5 A_6EqO"},darkTheme:{container:"C_ZvsWfq z_1iPdY0"},firstSeparator:{container:"z_n i_6MWH"}},_key:"ZVVtnJ"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"gl_C P_Z2tp6b1 D_F em_N W_6D6F H_6D6F",subContainer:"gl_C",heading:"gl_C t_C A_6FsP u_e69 i_6MGW P_28NWDt C_Z281SGl a_3v1qi ix_AS",description:"A_6EqO P_BuS3Q i_6FIA gl_C t_C C_Z1YRXYn a_3v1qi ix_AS"},darkStyles:{heading:"C_ZpQYvz",description:"C_ZvsWfq"}},_key:"Z1SRUXb"}},function(e,t,a){"use strict";e.exports={className:{default:{chevronContainer:"D_F ab_C gl_C W_6MGW H_6MGW e_6D6F I_Z2aVTcY cdPFi_52qC Q_eo6",moreContactsContainer:"H_A D_F ab_C P_Z1Ve0sQ r_P q4_2ieea9",moreLabel:"Q_6Fd5 o_h G_e J_x mq_CZ C4_Z2aVTcY"},darkVariations:{moreContactsContainer:"q4_ncmHO",moreLabel:"C_ZpQYvz C4_Z2bg7IA"}},_key:"Z13N579"}},function(e,t,a){"use strict";var n=a(7),s=a.n(n),i=a(1),r=a.n(i),o=a(1384),l=a.n(o),c=a(395),d=a(476),m=a(4),_=a(0),u=a(22),p=a(6),h=a(13),g=a(10),E=a(1372);const b=Object(p.defineMessages)({allContacts:{id:"contact_groups_dropdown.all_contacts",defaultMessage:"All contacts"}}),f=({onChange:e,selectedItem:t,list:a=[],applyTheme:n=!1,groups:s,disableDL:i},o)=>{const p=o.getCss,h=o.intl.formatMessage,g=n&&Object(u.n)({context:o,includeMedium:!0}),f=p(l.a,{applyThemeMode:g}),C=e=>e===_.jb?h(b.allContacts):e===_.b?r.a.createElement(E.a,{disableDL:i}):s[e].name;return r.a.createElement(d.a,{selected:t,onChange:(t,a)=>{i&&t===_.b||e(t,a)},classNames:f,arrowDownColor:g?m.ColorStates.WHITE:m.ColorStates.NORMAL,inputFormatter:e=>{const t=C(e);return{optionLabel:t,optionTitle:t}}},a.map(e=>r.a.createElement(c.a,{key:e,value:e,isSelected:e===t,hoverStyle:"BOLD"},C(e))))};f.contextTypes={getCss:s.a.func,getThemeMode:s.a.func,intl:p.intlShape.isRequired};t.a=Object(h.connect)(e=>({groups:(0,(0,Object(g.selectors)(e).getContactListSelectors)().getAllGroupsData)()}))(f)},function(e,t,a){"use strict";e.exports={className:{default:{selectLabel:"D_F C_Z281SGl i_6VdP X_fq7 gl_FM m_Z14vXdP e_dRA I_ZnIF8Y H_6UbO",selectedValue:"em_N o_h J_x D_X G_e C_Z281SGl"},applyThemeMode:{selectLabel:"I_1kC8gG m_1kC8gG",selectedValue:"C_52qC"}},_key:"Z18TGdG"}},function(e,t,a){"use strict";e.exports={className:{default:{label:"D_F C_Z2aVTcY cdPFi_Z2aVTcY r_P u4_b",disableMessage:"P_fq7 a_3qWeB"},disableDL:{label:"u4_N C_q cdPFi_q r_BN O_cMq"}},_key:"Z2gXM3a"}},,function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return r}));const n={START_DATE:"startDate",END_DATE:"endDate",ANY:"any",WEEK:"week",MONTH:"month",CUSTOM:"custom"},s=7,i=30,r=[n.ANY,n.WEEK,n.MONTH,n.CUSTOM]},,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"TextOnlyCue",(function(){return S}));var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=(a(7),a(1)),l=a.n(o),c=a(17),d=a(4),m=a(1734),_=a.n(m),u=a(6),p=a(16),h=(a(51),a(0)),g=a(5),E=a(319),b=a(12),f=a.n(b);const C={blue:{kind:d.Kinds.CAL_DECLINE,colorState:d.ColorStates.INVERTED_MORE_DIM,size:d.Sizes.S},white:{kind:d.Kinds.CLOSE,colorState:d.ColorStates.DEFAULT,size:d.Sizes.XS}};class S extends l.a.Component{constructor(...e){super(...e),r()(this,"onClose",e=>{e.stopPropagation(),this.props.onCloseNotify&&this.props.onCloseNotify(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",sec:g.i.FEATURE_CUE,interactionType:Object(p.getInteractionFromEvent)(e)}})}),r()(this,"onClick",()=>{this.props.onClick()})}render(){const e=this.props,t=e.appearance,a=e.animate,n=e.cueName,i=e.clickable,r=f()(_.a,{appearance:t,animate:a,clickable:i,oneLineText:n===h.Eb.GROCERIES_SEARCH_CUE});return l.a.createElement("div",{className:r.container,"data-test-id":this.props.cueName,onClick:this.onClick},l.a.createElement("span",{className:r.text},l.a.createElement(u.FormattedMessage,this.props.message)),l.a.createElement("div",{"data-test-id":"text-cue-close-icon",className:r.close,onClick:this.onClose},l.a.createElement(c.b,s()({"data-test-id":"close-cue-button"},C[t]))))}}r()(S,"contextTypes",{intl:u.intlShape.isRequired}),r()(S,"defaultProps",{appearance:"blue",animate:!1,clickable:!1,close:!1,onClick:()=>{}}),t.default=Object(E.a)(S)},function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return o}));var n=a(9);const s=Object(n.d)(["MINI","MEDIUM","COVER","APPEND"]),i={[s.MINI]:"80x80",[s.MEDIUM]:"400x200",[s.COVER]:"800x280",[s.APPEND]:"80x80"},r={[s.MINI]:{maxWidth:288,upperSectionHeight:80,titleMaxLength:42,thumbnailHeight:80,thumbnailWidth:80,domainLogoHeight:24,domainLogoWidth:24,cardBorderRadius:2,titleSectionMaxWidth:196},[s.MEDIUM]:{titleMaxLength:75,maxWidth:400,thumbnailHeight:175,descriptionMaxLength:115,outlookThumbnailHeight:175,upperSectionHeight:175,bottomSectionMaxWidth:380,domainLogoHeight:36,domainLogoWidth:36,cardBorderRadius:2,titleSectionMaxWidth:362},[s.COVER]:{titleMaxLength:100,maxWidth:800,thumbnailHeight:280,outlookThumbnailHeight:300,descriptionMaxLength:190,upperSectionHeight:265,bottomSectionMaxWidth:760,domainLogoHeight:48,domainLogoWidth:48,titleSectionMaxWidth:752},[s.APPEND]:{maxWidth:288,upperSectionHeight:80,titleMaxLength:42,thumbnailHeight:80,thumbnailWidth:80,domainLogoHeight:24,domainLogoWidth:24,cardBorderRadius:2,titleSectionMaxWidth:196}},o=Object(n.d)(["YENHANCER","FLICKR","DROPBOX"])},function(e,t,a){"use strict";var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(13),_=a(30),u=a.n(_),p=a(10),h=a(0),g=(a(9),a(277)),E=a(8),b=a(483),f=a(1380),C=a.n(f),S=a(22),y=a(12),T=a.n(y);const v=({listId:e,firstSeparator:t,applyTheme:a},n)=>{const s=T()(C.a,{darkTheme:a&&Object(S.n)({context:n,includeMedium:!0}),firstSeparator:t});return d.a.createElement("h3",{className:s.container},Object(E.B)(e))};v.contextTypes={getCss:l.a.func,getThemeMode:l.a.func};var I=v,M=a(6),A=a(1381),N=a.n(A);const k=Object(M.defineMessages)({top_contacts_empty_heading:{id:"contacts_blank.top_contacts_empty_heading",defaultMessage:"No top contacts for now"},top_contacts_empty_desc:{id:"contacts_blank.top_contacts_empty_desc",defaultMessage:"Use mail more often for {mailBrandNameString} to generate your top contacts!"},people_contacts_empty_heading:{id:"contacts_blank.people_contacts_empty_heading",defaultMessage:"No people contacts for now"},people_contacts_empty_desc:{id:"contacts_blank.people_contacts_empty_desc",defaultMessage:"Use mail more often for {mailBrandNameString} to generate your people contacts!"},business_contacts_empty_heading:{id:"contacts_blank.business_contacts_empty_heading",defaultMessage:"No business contacts for now"},business_contacts_empty_desc:{id:"contacts_blank.business_contacts_empty_desc",defaultMessage:"Use mail more often for {mailBrandNameString} to generate your business contacts!"},search_empty_heading:{id:"contacts_blank.search_empty_heading",defaultMessage:"No matching contacts found."},user_created_contacts_empty_heading:{id:"contacts_blank.user_created_contacts_empty_heading",defaultMessage:"No contacts available"},user_created_contacts_empty_desc:{id:"contacts_blank.user_created_contacts_empty_desc",defaultMessage:"Create a contact"},groups_empty_heading:{id:"contacts_blank.groups_empty_heading",defaultMessage:"No lists available"}}),O=({listId:e,applyTheme:t},a)=>{const n=a.intl.formatMessage,s=a.getCss,i=a.mailBrandNameString,r=t&&Object(S.n)({context:a,includeMedium:!0}),o=s(N.a,{darkStyles:r}),l=Object(E.x)(e),c=Object(E.v)(e);let m="",_="";switch(l){case h.bc.TOP_CONTACTS:m=n(k.top_contacts_empty_heading),_=n(k.top_contacts_empty_desc,{mailBrandNameString:i});break;case h.bc.PEOPLE:m=n(k.people_contacts_empty_heading),_=n(k.people_contacts_empty_desc,{mailBrandNameString:i});break;case h.bc.NOT_PEOPLE:m=n(k.business_contacts_empty_heading),_=n(k.business_contacts_empty_desc,{mailBrandNameString:i});break;case h.bc.USER_CREATED_CONTACTS:m=n(k.user_created_contacts_empty_heading),_=n(k.user_created_contacts_empty_desc);break;case h.bc.GROUPS:m=n(c?k.user_created_contacts_empty_heading:k.groups_empty_heading);break;default:m=n(k.search_empty_heading)}return d.a.createElement("div",{className:o.container,"data-test-id":"empty_contacts"},d.a.createElement("div",{className:o.subContainer},d.a.createElement("h4",{className:o.heading,"data-test-id":"empty_contacts-heading"},m),d.a.createElement("p",{className:o.description,"data-test-id":"empty_contacts-desc"},_)))};O.contextTypes={getCss:l.a.func,intl:M.intlShape.isRequired,mailBrandNameString:l.a.string,getThemeMode:l.a.func};var D=O,P=a(1371),R=a(1382),w=a.n(R),F=a(4),x=a(99),L=a(123),B=a(16),j=a(5),U=a(17);const H=(e,t)=>{const a=t.getCss,n=e.displayAll,s=e.remainingCount,i=e.handleClick,r=e.categoryListId,o=e.listId,l=e.applyTheme&&Object(S.n)({context:t,includeMedium:!0}),c=a(w.a,{darkVariations:l});let m,_;n?(m=F.Rotate.D270,_="less"):(m=F.Rotate.D90,_="more");return d.a.createElement("div",{"data-test-id":"more-contacts-row",className:c.moreContactsContainer,onClick:e=>{e.stopPropagation(),i({categoryListId:r,listId:o,i13nModel:{mKey:j.g.TOGGLE_ALPHA_SECTION,sec:x.a[Object(E.x)(o)]||j.i.CONTACTS_PANE,interactionType:Object(B.getInteractionFromEvent)(e)}})}},d.a.createElement("div",{className:c.chevronContainer},d.a.createElement(U.b,{size:F.Sizes.XXS,kind:F.Kinds.ARROW_RIGHT_DOC,rotate:m,colorState:F.ColorStates.INHERITED})),d.a.createElement("span",{"data-test-id":"more-less-label",className:c.moreLabel},d.a.createElement(M.FormattedMessage,{id:"more_contacts_button.more_less",defaultMessage:"{remainingCount, number} {option, select, more {more} less {less} }",values:{remainingCount:s,option:_}})))};H.contextTypes={getCss:l.a.func,getThemeMode:l.a.func,getTheme:l.a.func};var W=Object(m.connect)((e,{categoryListId:t,listId:a})=>{const n=Object(p.selectors)(e),s=n.getStreamsSelectors,i=(0,n.getListsSelectors)().getTotalHits,r=s(),o=r.getExpansionStateForStreamItem;return{displayAll:!(!(0,r.doesStreamExist)(a)||!o({streamId:a,listId:a,csid:t})),remainingCount:i(t)-h.ic}},e=>({handleClick:t=>e(Object(L.F)(t))}))(H),G=a(195);const Z=6*a(11).G+1;class V extends d.a.Component{constructor(...e){super(...e),r()(this,"onScroll",({scrollTop:e})=>{const t=this.props,a=t.onScroll;return a&&a({listId:t.listId,scrollTop:e})}),r()(this,"formatItem",(e,{itemIndex:t})=>{const a=e.id,n=e.listId,i=e.itemType,r=this.props,o=r.listId,l=r.applyTheme,c=r.contactItemProps;switch(e.type){case h.ac.EXPAND_COLLAPSE_CONTACTS:return d.a.createElement(W,{categoryListId:n,listId:o,applyTheme:l});case h.ac.CONTACTS_SEPARATOR:return d.a.createElement(I,{listId:n,firstSeparator:0===t,applyTheme:l});case h.ac.LOADING_INDICATOR:return d.a.createElement(G.a,{applyTheme:l});default:return d.a.createElement(P.a,s()({id:a,listId:o,itemType:i,applyTheme:l,highlight:Object(E.l)(n)},c))}})}getItemHeight({type:e}){switch(e){case h.ac.EXPAND_COLLAPSE_CONTACTS:return 48;case h.ac.CONTACTS_SEPARATOR:return Z;default:return 64}}render(){const e=this.props,t=e.items,a=e.status,n=e.listId,s=e.scrollPositions,i=e.applyTheme;return a===h.od.DOES_NOT_EXIST||a===h.od.LOADING?d.a.createElement(b.a,{applyTheme:i}):0===t.length?d.a.createElement(D,{listId:n,applyTheme:i}):d.a.createElement(g.a,{bufferSize:10,getItemHeight:this.getItemHeight,formatItem:this.formatItem,items:t,scrollTop:s[n]||0,onScroll:this.onScroll})}}r()(V,"defaultProps",{scrollPositions:{},applyTheme:!0});t.a=Object(m.connect)((e,{listId:t,items:a})=>{const n=Object(p.selectors)(e),s=n.getContactListItems,i=(0,n.getListsSelectors)(),r=i.getListStatus,o=(0,i.doesListExist)(t);return{status:o?r(t):h.od.DOES_NOT_EXIST,items:o?a||s(t):[]}},void 0,void 0,{areStatePropsEqual:u.a})(V)},function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=(a(7),a(1)),r=a.n(i),o=a(12),l=a.n(o),c=a(28),d=a(6),m=a(13),_=a(0),u=a(294),p=a(10),h=(a(51),a(1503)),g=a.n(h),E=a(9);let b;const f=()=>{};class C extends r.a.Component{constructor(...e){super(...e),s()(this,"state",{loadError:!1,showVideoCover:this.props.showVideoCoverInitially}),s()(this,"handleLoadError",e=>{b=void 0,this.setState({showVideoCover:!0,loadError:!0}),this.props.onLoadError(e)}),s()(this,"handleClick",()=>{this.state.loadError&&this.setState({showVideoCover:!1,loadError:!1}),this.props.handleVideoClick(),this.initializePlayer()}),s()(this,"getPlayerConfig",e=>{var t,a;const n=e||this.props.playerConfig,s=((null===(t=window)||void 0===t||null===(a=t.AppBootstrapData)||void 0===a?void 0:a.buckets)||[]).join(",");return Object.assign(n,{iframeRender:!n.html5,lang:this.context.intl.locale||"en-US",site:n.site,expBucket:s})}),s()(this,"initializePlayer",e=>{const t=this.getPlayerConfig(e);if(this.playerStatus!==_.cd.NotInitialized)return;this.playerStatus=_.cd.Initializing;const a=e=>{if(!e)return this.playerStatus=_.cd.NotInitialized,void this.handleLoadError(new Error("Failed to load video platform"));this.playerStatus=_.cd.Initialized,this.setState({showVideoCover:!1});const a=e.Events||e.API_Events;this._player=new e.VideoPlayer(t),this._addPlayerSubscriptions(this._player,a),this._player.render(Object(c.findDOMNode)(this.refs.player))},n=this.props.oathVideoPlayerEnabled?"OATH.VideoPlatform":"YAHOO.VideoPlatform",s="undefined"!=typeof window&&Object(E.b)(window,n),i=this.props.videoPlayerUrl;if(s)a(s);else{if(!b){b=u.a.loadScript(t.lang?`${i}&lang=${t.lang}`:i)}b.then(()=>{a(Object(E.b)(window,n))},e=>{this.handleLoadError(e)})}}),s()(this,"_addPlayerEventListener",(e,t,a)=>{const n=e.addEventListener||e.on;t&&"function"==typeof n&&n.call(e,t,a)}),s()(this,"_addPlayerSubscriptions",(e,t)=>{e&&t&&(this._addPlayerEventListener(e,t.PLAYER_READY,this.props.onPlayerReady),this._addPlayerEventListener(e,t.PLAYBACK_START,this.props.onPlaybackStart),this._addPlayerEventListener(e,t.VIDEO_STARTED,this.props.onVideoStarted),this._addPlayerEventListener(e,t.PLAYLIST_POSITION_CHANGE,this.props.onPlaylistPositionChange),this._addPlayerEventListener(e,t.PLAYER_MUTE_CHANGE,this.props.onMute),this._addPlayerEventListener(e,t.PLAYBACK_PAUSE,this.props.onPause),this._addPlayerEventListener(e,t.PLAYBACK_RESUMED,this.props.onResume),this._addPlayerEventListener(e,t.UI_INTERACT,this.props.onUIInteract),this._addPlayerEventListener(e,t.PLAYLIST_COMPLETE,this.props.onPlaybackComplete),this._addPlayerEventListener(e,t.PLAYBACK_TIME_UPDATE,this.props.onPlaybackUpdate),this._addPlayerEventListener(e,t.PLAYER_ERROR,this.props.onPlayerError),this._addPlayerEventListener(e,t.PLAYBACK_ERROR,this.props.onPlaybackError),this._addPlayerEventListener(e,t.AD_PLAYBACK_START||t.AD_BREAK_STARTED,this.props.onAdPlaybackStart),this._addPlayerEventListener(e,t.AD_PLAYBACK_STOP||t.AD_BREAK_ENDED,this.props.onAdPlaybackEnd),this._addPlayerEventListener(e,t.AD_ERROR||t.AD_BREAK_ITEM_ERROR,this.props.onAdError))})}componentDidMount(){this.playerStatus=_.cd.NotInitialized,this.state.showVideoCover||this.initializePlayer()}componentWillUnmount(){this._player&&this._player.destroy()}componentWillReceiveProps(e){e.playerPositionId&&e.playerPositionId!==this.props.playerPositionId&&(this.playerStatus===_.cd.Initialized?this._player.playlist.setPositionById(e.playerPositionId):this.initializePlayer(e.playerConfig)),!this.props.play&&e.play?this.playerStatus===_.cd.Initialized?(this._player.controls.play(),this._player.controls.setMute(this.props.mute)):this.initializePlayer():this._player&&this._player.controls.isPlaying()&&!e.play&&(this._player.controls.pause(),this._player.controls.setMute(!0))}render(){const e=l()(g.a),t=this.props;return r.a.createElement("div",{className:e.container,style:{width:t.width,height:t.height}},this.state.showVideoCover&&this.props.children?r.a.cloneElement(this.props.children,{loadError:this.state.loadError,handleClick:this.handleClick}):null,r.a.createElement("div",{ref:"player",className:e.stretchedBox}))}}s()(C,"contextTypes",{intl:d.intlShape.isRequired}),s()(C,"defaultProps",{width:"480px",height:"270px",playerConfig:{},onPlayerReady:f,onPlaybackStart:f,onAdPlaybackStart:f,onVideoStarted:f,onPlaylistPositionChange:f,onMute:f,onPause:f,onResume:f,onUIInteract:f,onPlaybackComplete:f,onPlaybackUpdate:f,onPlayerError:f,onLoadError:f,onAdPlaybackEnd:f,onPlaybackError:f,onAdError:f,play:!1,mute:!0,showVideoCoverInitially:!0,playerPositionId:"",handleVideoClick:f}),t.a=Object(m.connect)(e=>{const t=Object(p.selectors)(e),a=t.getSetting,n=(0,t.isFeatureEnabled)(_.Eb.OATH_VIDEO_PLAYER);return{videoPlayerUrl:a(n?_.Kd.OATH_VIDEO_PLAYER_URL:_.Kd.VIDEO_PLAYER_URL),oathVideoPlayerEnabled:n}})(C)},function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o}));var n=a(9),s=a(0);const i=Object(n.d)(["PREFIX","KEYWORD"]),r=[s.xb.GOOGLE,s.xb.OUTLOOK,s.xb.AOL,s.xb.YAHOO],o=[s.xb.GOOGLE,s.xb.OUTLOOK,s.xb.AOL]},,,,,,,,function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=(a(7),a(1)),r=a.n(i),o=a(1406),l=a.n(o),c=a(12),d=a.n(c),m=a(6),_=a(18),u=(a(51),a(319)),p=a(16),h=a(25),g=a(21),E=a(4);const b=d()(l.a),f=Object(m.defineMessages)({tryNow:{id:"feature_cue.btn_try_now",defaultMessage:"Try now"},mayBeLater:{id:"feature_cue.btn_maybe_later",defaultMessage:"Maybe later"},tryNowNewCallout:{id:"feature_cue.newFeature",defaultMessage:"New feature notification"},close:{id:"cue.close",defaultMessage:"Close"}});class C extends r.a.Component{constructor(...e){super(...e),s()(this,"onTryNow",e=>{e.stopPropagation(),this.props.onTryNow(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_try_now",interactionType:Object(p.getInteractionFromEvent)(e)}})}),s()(this,"onMayBeLater",e=>{this.props.onMayBeLater(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_later",interactionType:Object(p.getInteractionFromEvent)(e)}})})}componentDidMount(){window.setTimeout(()=>{this.tryNowCueContent&&this.tryNowCueContent.focus()},0)}render(){const e=this.context.intl.formatMessage;return r.a.createElement("div",{role:"navigation","aria-label":e(f.tryNowNewCallout)},r.a.createElement("div",{className:b.container,"data-test-id":this.props.cueName,role:"alert","aria-labelledby":"try-now-heading","aria-describedby":"try-now-desc",ref:e=>{this.tryNowCueContent=e},tabIndex:"-1"},r.a.createElement("div",{className:b.header,"aria-label":e(this.props.headerText),id:"try-now-heading"},r.a.createElement(m.FormattedMessage,this.props.headerText)),r.a.createElement("div",{className:b.body,"aria-label":e(this.props.bodyText),id:"try-now-desc",tabIndex:"0"},r.a.createElement(m.FormattedMessage,this.props.bodyText)),r.a.createElement("div",{className:b.actionContainer},r.a.createElement(_.a,{style:{width:"60%"},onClick:this.onTryNow,title:e(f.tryNow),"data-test-id":"try-now-cue-button",kind:h.a.CUE,"aria-label":e(f.tryNow)},r.a.createElement(m.FormattedMessage,f.tryNow)),r.a.createElement(_.a,{style:{width:"40%"},onClick:this.onMayBeLater,title:e(f.mayBeLater),"data-test-id":"maybe-later-cue-button",kind:h.a.CHROMELESS,"aria-label":e(f.mayBeLater)},r.a.createElement(m.FormattedMessage,f.mayBeLater))),r.a.createElement("div",{className:b.close},r.a.createElement(g.default,{onClick:this.onMayBeLater,kind:E.Kinds.CLOSE,size:E.Sizes.XXS,colorState:E.ColorStates.IMPROVED_GRAY_DARK,title:e(f.close),"aria-label":e(f.close),"data-test-id":"close-cue-button"}))))}}s()(C,"contextTypes",{intl:m.intlShape.isRequired}),t.a=Object(u.a)(C)},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC P_yJhcT s_3qWeB a_3zJDR D_F ek_BB em_N W_3rRhf",buttonContainer:"D_F gl_FM Y_6Eb4",header:"i_6MGW A_6FsP u_e69 C_Z281SGl U_6Eb4",body:"A_6EqO i_6FIA C_Z281SGl",actionContainer:"D_F je_6Eb4",imageActionContainer:"D_F P_1lwRNx",pagination:"P_Z1crMe6 C_ZvsWfq",imageCueContainer:"I_52qC P_Z24LTwU s_3qWeB a_3rLkT",imageCueInfoImageContainer:"D_F ek_EZ",imageCueInfoContainer:"D_F ek_BB je_6MGW a_3nOD5",image:"W_3mSyq H_3mSyq E_67SN",CueContainer:"D_F a_3vNsy",hotspotContainer:"D_F ek_EZ a_3zBDu",hostspotInfoWrapper:"I_52qC P_yJhcT s_3qWeB a_3zJDR D_F ek_BB em_N",svgStyle:"I_Z2aVTcY e_v8Hnf W_fq7 H_q em_0",close:"p_a R_eTB T_fq7"},svgStyleWithoutImage:{body:"i_6FIA A_6EqO C_Z281SGl a_3rBM0"},svgStyleImage:{svgStyle:"D_F gl_C ab_C I_Z2aVTcY e_v8Hnf s_3mT4V em_0"}},_key:"ZUHl2M"}},,function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i}));var n=a(1370);function s({actions:e=[]}){if(Array.isArray(e)&&e.length>0){const t=e[0].value;if(t){const e=t.folderActionValueBean;return e?e.folder.name:""}}return""}function i({sender:e=[],toRecipients:t=[],ccRecipients:a=[],subject:s=""}){const i=[];return e&&e.email&&i.push({field:n.b.SENDER,operator:n.d.CONTAINS,value:e.email,matchCase:!1}),t.length&&t[0].email?i.push({field:n.b.TOORCC,operator:n.d.CONTAINS,value:t[0].email,matchCase:!1}):a.length&&a[0].email&&i.push({field:n.b.TOORCC,operator:n.d.CONTAINS,value:a[0].email,matchCase:!1}),s&&i.push({field:n.b.SUBJECT,operator:n.d.CONTAINS,value:s.slice(0,200),matchCase:!1}),i}},function(e,t,a){"use strict";var n=a(33),s=a.n(n),i=a(3),r=a.n(i),o=(a(7),a(1)),l=a.n(o),c=a(6),d=a(89),m=a(12),_=a.n(m),u=a(17),p=a(4),h=a(1420),g=a.n(h),E=a(1421),b=a.n(E),f=a(21),C=a(1422),S=a.n(C),y=a(1423),T=a.n(y);function v({day:e,currentMonth:t,selectedDate:a,onSelect:n,showOtherMonths:s}){const i=e.getMonth()===t,r=Object(d.d)(e,a),o=_()(T.a,{isSelected:r,isToday:Object(d.s)(e)&&!r,isDisabled:(!i||Object(d.u)(e))&&!r});return i||s?l.a.createElement("div",{className:o.dayWrapper},l.a.createElement("span",{"data-test-id":"calendar-day",className:o.day,onClick:n.bind(null,e)},e.getDate())):l.a.createElement("span",{className:o.emptyDay})}const I=_()(S.a);function M({weekStart:e,selectedDate:t,currentMonth:a,onSelect:n,showOtherMonths:s}){return l.a.createElement("div",{className:I.weekWrapper},Object(d.f)(e).map((e,i)=>l.a.createElement(v,{key:i,day:e,onSelect:n,selectedDate:t,currentMonth:a,showOtherMonths:s})))}function A({currentView:e,currentMonth:t,selectedDate:a,onSelect:n,showOtherMonths:s}){return l.a.createElement("div",{"data-test-id":"calendar-days"},Object(d.g)(e).map((e,i)=>l.a.createElement(M,{key:i,weekStart:e,onSelect:n,selectedDate:a,currentMonth:t,showOtherMonths:s})))}const N=Object(c.defineMessages)({prevMonth:{id:"prev_month_text",defaultMessage:"Go to previous month"},nxtMonth:{id:"nxt_month_text",defaultMessage:"Go to next month"}}),k=_()(b.a);class O extends l.a.Component{constructor(...e){super(...e),r()(this,"setDate",e=>{this.props.onMonthChange&&this.props.onMonthChange(e)}),r()(this,"handleSelect",(e,t)=>{t.preventDefault(),e.getMonth()!==this.props.currentView.getMonth()&&this.props.onMonthChange(e),this.props.onSelect&&this.props.onSelect(e)}),r()(this,"nextMonth",()=>{const e=Object(d.b)(this.props.currentView);e.setDate(1),e.setMonth(e.getMonth()+1),this.setDate(e)}),r()(this,"previousMonth",()=>{const e=Object(d.b)(this.props.currentView);e.setDate(1),e.setMonth(e.getMonth()-1),this.setDate(e)}),r()(this,"swallowEvent",e=>{e.stopPropagation()}),r()(this,"renderMonthHeader",()=>{const e=this.context.intl.formatMessage;return l.a.createElement("div",{ref:"calendar",className:k.monthHeaderWrapper},l.a.createElement("span",{className:k.titleWrapper},l.a.createElement(c.FormattedDate,{value:this.props.currentView,month:"long",year:"numeric"})),l.a.createElement("span",{className:k.arrow},l.a.createElement(f.default,{paddingLess:!0,kind:p.Kinds.CHEVRON_UP,size:p.Sizes.XS,rotate:p.Rotate.D270,colorState:p.ColorStates.SELECTED,onClick:()=>this.previousMonth(),title:e(N.prevMonth),"aria-label":e(N.prevMonth)})),l.a.createElement("span",{className:k.arrow},l.a.createElement(f.default,{paddingLess:!0,kind:p.Kinds.CHEVRON_UP,size:p.Sizes.XS,rotate:p.Rotate.D90,colorState:p.ColorStates.SELECTED,onClick:()=>this.nextMonth(),title:e(N.nxtMonth),"aria-label":e(N.nxtMonth)})))}),r()(this,"renderWeekHeader",()=>{const e=[24,25,26,27,28,29,30].map(e=>{const t=Date.UTC(2016,6,e);return l.a.createElement("span",{key:e,className:k.dayHeader},l.a.createElement(c.FormattedDate,{value:t,timeZone:"UTC",weekday:"narrow"}))});return l.a.createElement("div",{className:k.dayHeaderWrapper},e)})}render(){const e=this.props,t=e.showOtherMonths,a=e.selectedDate,n=e.currentView;return l.a.createElement("div",{className:k.datepickerCalendar,onClick:this.swallowEvent,onMouseDown:this.swallowEvent},this.renderMonthHeader(),l.a.createElement("div",{className:k.daysWrapper},this.renderWeekHeader(),l.a.createElement(A,{currentView:n,selectedDate:a,onSelect:this.handleSelect,showOtherMonths:t,currentMonth:n.getMonth()})))}}r()(O,"contextTypes",{intl:c.intlShape.isRequired});var D=O,P=a(95),R=a(11);const w=Object(c.defineMessages)({calendar:{id:"calendar_text",defaultMessage:"Calendar"}}),F="ArrowDown",x="ArrowUp",L="ArrowLeft",B="ArrowRight",j={ArrowDown:7,ArrowUp:-7,ArrowLeft:-1,ArrowRight:1},U={month:"2-digit",day:"2-digit",year:"numeric"},H=/[^a-z0-9]+/;class W extends l.a.Component{constructor(e,t){super(e,t),r()(this,"getFormattedDate",e=>this.props.useISODateFormat?Object(d.l)(e):Object(d.e)(e,this.context.intl.locale,U)),r()(this,"offsetDate",(e,t)=>{e.preventDefault(),e.stopPropagation();const a=Object(d.t)(this.props.value)?this.props.value:new Date;this.handleSelect(new Date(a.setDate(a.getDate()+t)))}),r()(this,"handleKeyDown",e=>{switch(e.key){case x:case F:case L:case B:e.shiftKey&&this.offsetDate(e,j[e.key])}}),r()(this,"handleFocus",()=>{this.setState({hasFocus:!0}),this.keyboardListener.focus(),this.keyboardListener.select(),this.props.onStartEdit()}),r()(this,"handleBlur",()=>{this.setState({hasFocus:!1}),this.props.onDoneEdit(),this.state.validInput||this.props.onInvalidDateEntered(this.state.inputValue)}),r()(this,"handleSelect",e=>{this.props.onChange&&this.props.onChange(e),this.setState({inputValue:this.getFormattedDate(e),validInput:!0}),this.keyboardListener&&this.keyboardListener.focus()}),r()(this,"handleMonthChange",e=>{this.setState({currentView:e}),this.keyboardListener.focus()}),r()(this,"handleInputChange",(e,{target:{value:t}})=>{const a=t.split(H),n=["yyyy","mm","dd"].map(t=>{const n=a[e.split(H).indexOf(t)];if("mm"===t||"dd"===t){if(n&&1===n.length)return"0"+n;if(n&&3===n.length&&"0"===n.charAt(0))return n.substring(1)}return n}),i=s()(n,3),r=i[1]+"/"+i[2]+"/"+i[0],o=new Date(r),l=r.length===e.length&&Object(d.t)(o)&&r===Object(d.e)(o,"en-US",U);l&&this.handleSelect(o),this.setState({inputValue:t,validInput:l})}),r()(this,"handleInputClick",e=>{this.state.hasFocus&&(e.preventDefault(),e.stopPropagation())}),r()(this,"getInputField",()=>{const e=this.state,t=e.validInput,a=e.inputValue,n=Object(d.e)(new Date("11/22/3333"),this.context.intl.locale,U),s=this.props.useISODateFormat?"yyyy-mm-dd":n.replace("3333","yyyy").replace("22","dd").replace("11","mm"),i=_()(g.a,{invalidInput:!t&&a.length>=s.length}),r=l.a.createElement("input",{type:"text",value:this.state.inputValue,placeholder:s,spellCheck:"false",ref:e=>{!this.keyboardListener&&e&&(this.keyboardListener=e)},onKeyDown:this.handleKeyDown,className:this.props.classNames.dateInput||i.dateInput,onClick:this.handleInputClick,onChange:e=>this.handleInputChange(s,e)});return l.a.createElement("div",null," ",l.a.createElement("span",{className:i.datePart}," ",r," ")," ")}),this.state={hasFocus:!1,currentView:null,inputValue:this.props.value&&Object(d.t)(this.props.value)?this.getFormattedDate(this.props.value):this.props.value||"",validInput:!0}}componentWillReceiveProps(e){if(e.value!==this.props.value){let t="";e.value&&(t=Object(d.t)(e.value)?this.getFormattedDate(e.value):e.value),this.setState({inputValue:t})}}render(){const e=this.state,t=e.currentView,a=this.props,n=a.label,s=a.disabled,i=a.value,r=a.showOtherMonths,o=a.zAltitude,c=a.popoverAlign,m=e.hasFocus&&!s,h=_()(g.a,{isFocused:m}),E=this.props.classNames,b=Object(d.i)(),f=Object(d.t)(i)?i:null,C=l.a.createElement("div",{ref:"datepicker","data-test-id":"datepicker",className:E.datepickerInput||h.datepickerInput},l.a.createElement("span",{className:E.datepickerIcon||h.datepickerIcon,"data-test-id":"icon"},l.a.createElement(u.b,{size:p.Sizes.XS,kind:p.Kinds.CALENDAR_SETTINGS,title:this.context.intl.formatMessage(w.calendar),colorState:p.ColorStates.INHERITED})),l.a.createElement("span",{className:h.valueWrapper},l.a.createElement("label",{className:h.datepickerValue,"aria-label":n},this.getInputField())),l.a.createElement("div",{"data-test-id":"date-value",name:f||b}));return l.a.createElement(P.c,{triggerOn:P.b.CLICK,triggerOff:P.a.CLICK,onShown:this.handleFocus,onHide:this.handleBlur,disabled:s,zAltitude:o,align:c},C,l.a.createElement("div",{"data-test-id":"calendar"},l.a.createElement(D,{selectedDate:f,onSelect:this.handleSelect,showOtherMonths:r,currentView:t||f||b,onMonthChange:this.handleMonthChange,handleKeyDown:this.handleKeyDown})))}}W.defaultProps={disabled:!1,showOtherMonths:!0,zAltitude:R.Pb.POPOVER.MEDIUM,classNames:{},onInvalidDateEntered:()=>{},useISODateFormat:!1},W.contextTypes={intl:c.intlShape.isRequired};t.a=W},,function(e,t,a){"use strict";e.exports={className:{default:{container:"q_52qC D_F ek_BB eo_x ab_C e_eo6 jb_72FG W_3A1b8",close:"ac_CH H_6EqO W_6Eb4 h_Z1kaEH9",closeVideo:"H_6EqO W_6Eb4 h_Z1kaEH9 p_a T_0 R_0 Z_N",videoContainer:"p_R",heading:"A_6EWk i_6Mbr W_3zBDu d_6VdP ab_C u_e69 t_C je_6LEV",description:"je_6Eb4 A_6EqO i_6FIA W_3vX1s d_6VdP C_Z1Vxdfo t_C",headerSection:"D_F gl_C ek_BB W_3vqYW H_7qGO Y_6MGW U_fq7",imageWrapper:"D_F gl_C",adBlockBackground:"D_F W_3vqYW gl_C",thinkingEmoji:"H_7yHc",adblockOption:"D_F ab_C gl_C Y_6LEV W_3vVYr",adblockUpsell:"a_3z5BY A_6EqO u_b Y_eo6",optionHeading:"em_N",optionButton:"s_7ALe d_6Urz D_B C_q J_x",optionButtonVideoAd:"P_1Eu7sD",videoThankYouContainer:"D_F ab_C I_52qC ek_BB W_3zmEK e_dRA",videoThankYouHeaderContainer:"ab_C t_C je_6LEV jb_7bcz",videoThankYouImage:"Y_72FG",videoThankYouHeader:"A_6EWk u_b",videoThankYouSubHeader:"A_6Eb4 je_eo6",loadingSpinner:"M_6LEV H_7bXP",errorContainer:"D_F ab_C Y_fq7",tryAgainCTA:"Y_eo6 U_6UbO"},isCompact:{adblockOption:"ek_BB F_N",optionHeading:"t_C",optionButtonContainer:"Y_fq7"},nonCompact:{optionHeading:"em_N"}},_key:"1mTJH2"}},function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=(a(7),a(1)),r=a.n(i),o=a(12),l=a.n(o),c=a(1517),d=a.n(c),m=a(6),_=a(22),u=(a(9),a(49)),p=a(0),h=a(43),g=a.n(h);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const f=Object(m.defineMessages)({defaultTheme:{id:"theme-default",defaultMessage:"Default"},purpleDefaultTheme:{id:"theme-purple-default",defaultMessage:"Purple"},sunriseTheme:{id:"theme-sunrise",defaultMessage:"Sunrise"},aquaGreenTheme:{id:"theme-aqua-green",defaultMessage:"Aqua green"},aquaBlueTheme:{id:"theme-aqua-blue",defaultMessage:"Aqua blue"},deepPurpleTheme:{id:"theme-deep-purple",defaultMessage:"Deep purple"},blueNightTheme:{id:"theme-blue-night",defaultMessage:"Blue night"},darkGreyTheme:{id:"theme-dark-grey",defaultMessage:"Dark grey"},nightLandscapeTheme:{id:"theme-night-landscape",defaultMessage:"Night landscape"},roadtripTheme:{id:"theme-roadtrip",defaultMessage:"Roadtrip"},sunsetAussieTheme:{id:"theme-sunset-aussie",defaultMessage:"Sunset aussie"},lighthouseTheme:{id:"theme-lighthouse",defaultMessage:"Lighthouse"}});let C={DEFAULT:f.defaultTheme,SUNRISE:f.sunriseTheme,AQUA_GREEN:f.aquaGreenTheme,AQUA_BLUE:f.aquaBlueTheme,DEEP_PURPLE:f.deepPurpleTheme,BLUE_NIGHT:f.blueNightTheme,DARK_GREY:f.darkGreyTheme,NIGHT_LANDSCAPE:f.nightLandscapeTheme,ROADTRIP:f.roadtripTheme,SUNSET_AUSSIE:f.sunsetAussieTheme,LIGHTHOUSE:f.lighthouseTheme,ATT:f.defaultTheme,FRONTIER:f.defaultTheme,ROGERS:f.defaultTheme,BT:f.defaultTheme,SKY:f.defaultTheme};function S({themeSetting:e,onChange:t,liteVersion:a,photoThemes:n=!1,cueMode:s=!1,partnerBrand:i},o){const c=function(e){const t=g()(_.j,[...Object.keys(_.e)]);switch(e){case p.he.ATT:return C=b({},C,{DEFAULT:f.purpleDefaultTheme}),b({[_.e.ATT]:_.f.ATT},g()(t,[_.j.AQUA_BLUE]));case p.he.FRONTIER:return b({[_.e.FRONTIER]:_.f.FRONTIER},g()(t,[_.j.DEFAULT]));case p.he.ROGERS:return C=b({},C,{DEFAULT:f.purpleDefaultTheme}),b({[_.e.ROGERS]:_.f.ROGERS},g()(t,[_.j.DARK_GREY]));case p.he.BT:return C=b({},C,{DEFAULT:f.purpleDefaultTheme}),b({[_.e.BT]:_.f.BT},g()(t,[_.j.DEEP_PURPLE]));case p.he.SKY:return C=b({},C,{DEFAULT:f.purpleDefaultTheme}),b({[_.e.SKY]:_.f.SKY},g()(t,[_.j.AQUA_BLUE]));default:return t}}(i),m=g()(c,[...Object.keys(_.g)]);let h=n?c:m;h=s&&n?Object.assign({},_.g,m):h;const E=l()(d.a,{liteVersion:a,cueMode:s,["theme-"+e]:!0}),S=l()(d.a,{["selected_"+a]:!0,cueMode:s}),y=o.intl.formatMessage,T=Object.keys(h).map(a=>{const n=e===_.j[a],s=y(C[a]);return r.a.createElement("li",{key:a,className:n?S.themeDotContainer:E.themeDotContainer},r.a.createElement("input",{type:"radio",name:"themeOption",value:_.j[a],checked:n,onChange:t,className:E.accessible,id:"themeOption-"+a}),r.a.createElement("label",{htmlFor:"themeOption-"+a,className:E.themeDot,style:{backgroundImage:Object(_.m)(_.k[a],u.a)},title:s},r.a.createElement("span",{className:E.accessible},s)))});return r.a.createElement("div",{"data-test-id":"theme-chooser"},r.a.createElement("ul",{className:E.themeChooser},T))}S.contextTypes={intl:m.intlShape.isRequired},t.a=S},function(e,t,a){"use strict";a(7);var n=a(1),s=a.n(n),i=a(12),r=a.n(i),o=a(1518),l=a.n(o),c=a(6),d=a(22);a(9);const m=Object(c.defineMessages)({lightThemeMode:{id:"theme-mode-light",defaultMessage:"Light"},mediumThemeMode:{id:"theme-mode-medium",defaultMessage:"Medium"},darkThemeMode:{id:"theme-mode-dark",defaultMessage:"Dark"}}),_={LIGHT:m.lightThemeMode,MEDIUM:m.mediumThemeMode,DARK:m.darkThemeMode},u=r()(l.a,{selected:!0});function p({themeSetting:e,themeModeSetting:t,onChange:a,liteVersion:n,cueMode:i=!1},o){const c=o.intl.formatMessage,m=r()(l.a,{cueMode:i,liteVersion:n,["theme_"+e]:!0}),p=Object.keys(d.i).map(e=>{const n=t===d.i[e],r=c(_[e]);return s.a.createElement("li",{key:e},s.a.createElement("div",{className:n&&i?m.themeModeBorderedContainer:m.themeModeContainer},s.a.createElement("label",{className:n?m.themeModeChecked:m.themeMode,htmlFor:"theme-mode-"+e,title:r},s.a.createElement("div",{className:m["themeMode"+e]},s.a.createElement("span",{className:m.accessible},r))),i?s.a.createElement("input",{id:"theme-mode-"+e,className:i?m.accessible:m.radioButton,type:"radio",name:"themeModeOption",checked:n,value:d.i[e],onChange:a,title:r}):s.a.createElement("div",{className:n?u.labelTextContainer:m.labelTextContainer},s.a.createElement("input",{id:"theme-mode-"+e,className:i?m.accessible:m.radioButton,type:"radio",name:"themeModeOption",checked:n,value:d.i[e],onChange:a,title:r}),s.a.createElement("label",{className:m.label,htmlFor:"theme-mode-"+e,title:r},r))),i?s.a.createElement("div",{className:n?u.cueLabelTextContainer:m.cueLabelTextContainer},s.a.createElement("label",{className:m.label,htmlFor:"theme-mode-"+e,title:r},r)):null)});return s.a.createElement("div",{className:m.chooser,"data-test-id":"theme-mode-chooser"},s.a.createElement("ul",{className:m.themeModeChooser},p))}p.contextTypes={intl:c.intlShape.isRequired},t.a=p},function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return o}));const n=/([A-Z][a-z]+)/g,s=/^webkit/i;function i(e){const t={};return e.trim().slice(0,-1).split(";").forEach(e=>{const a=e.trim().split(":"),n=function(e){const t=e.split("-"),a=[t[0].trim()];for(let e=1;e<t.length;e++)a.push(t[e][0].toUpperCase()+t[e].slice(1));return a.join("")}(a[0]);t[n]=a[1].trim()}),t}function r(e){return Object.keys(e).reduce((t,a)=>{if(!a||!a.length||function(e){return e.indexOf(":")>-1}(a))return t;const i=e[a];if(function(e){return e.indexOf("-")>-1}(a))return`${t}${a}:${i};`.toLowerCase();let r=(a[0].toUpperCase()+a.slice(1)).match(n).join("-");return s.test(a)&&(r="-"+r),`${t}${r}:${i};`.toLowerCase()},"")}function o(e){return"undefined"!=typeof window&&window.CSS&&window.CSS.escape?window.CSS.escape(e):e}},function(e,t,a){"use strict";e.exports={className:{default:{container:"H_6UbO M_0 P_0 D_F"}},_key:"1ntBGx"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_X H_6UbO k_w M_Z1fefhY P_0 M6_Ic6Mi",button:"H_6D6F z_n x_n n_n bn_e8l bm_n q_n A_6EqO i_6Fd5 P_3Y3Gk u_b C_Z281SGl r_P"},isSelected:{button:"C_Z2aVTcY bm_FJ jb_eDQ bj_Z2aVTcY"},isDark:{button:"C_ZpQYvz"},isDarkAndSelected:{button:"C_2qemPL bj_2qemPL"}},_key:"25Er8G"}},function(e,t,a){"use strict";var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(102),_=a.n(m),u=a(6),p=a(18),h=a(4),g=a(17),E=a(62),b=a(0),f=a(45),C=a(5),S=a(83),y=a(206),T=a(278),v=a(192),I=a(1418),M=a.n(I);const A=Object(u.defineMessages)({clip:{id:"coupon_item.brief.clip",defaultMessage:"Clip this coupon"},unclip:{id:"coupon_item.brief.unclip",defaultMessage:"Unclip this coupon"},sponsoredByViglink:{id:"viglink.sponsored_by_viglink",defaultMessage:"Sponsored link by Viglink"}});class N extends c.Component{constructor(...e){super(...e),r()(this,"clipCoupon",()=>{this.props.clip({cardMid:this.props.cardMid,i13nModel:{mKey:C.g.COUPON_CLIPPED,sec:C.i.CONTACT_CARD}})}),r()(this,"unclipCoupon",()=>{this.props.unclip({cardMid:this.props.cardMid,i13nModel:{mKey:C.g.COUPON_UNCLIPPED,sec:C.i.CONTACT_CARD}})}),r()(this,"handleAffiliateLinkClick",e=>{const t=this.props,a=t.cardMid;f.b.sendI13nModel({i13nModel:{mKey:C.g.CARD_INTERACT,sec:C.i.COUPONS_LIST,actionData:{xpname:b.u.COUPON_SMART_VIEW_BRIEF_ITEM,msgId:a,brandurl:t.dealLink,cardId:a,slot:C.j.COUPON_SMART_VIEW,sndr:t.fromEmail,affiliatePartner:e,featurefamily:b.Cb.IC,interactiontype:C.e.click,interacteditem:"saved_deal_card"}}})})}render(){const e=this.props,t=e.affiliateFeatures,a=e.clipped,n=e.daysUntilExpiry,i=e.dealLink,r=e.description,o=e.domainMap,l=e.fromEmail,c=e.fromName,m=e.isAffiliatePartnerEnabled,u=e.isInferredDate,b=e.locale,f=e.overrideClassNames,C=e.partner,y=this.context,v=y.intl,I=(0,y.getCss)(M.a),N=m&&i?Object(S.b)({affiliateLink:i,domainMap:o,email:l,features:t,locale:b,partner:C}):{affiliatePartnerName:"",affiliatePartnerUrl:""},k=N.affiliatePartnerName,O={target:"_blank",title:r,rel:"noreferrer"};return m&&i?(O.href=N.affiliatePartnerUrl||i,O.onClick=()=>this.handleAffiliateLinkClick(k)):i&&(O.href=i),d.a.createElement("div",{className:_()(I.container,f.container)},d.a.createElement("a",s()({className:I.link},O),d.a.createElement(E.c,{contact:{email:l},size:E.b.NOBLE_L}),d.a.createElement("span",{className:I.content},d.a.createElement("span",{className:I.fromName},c),d.a.createElement("span",{className:I.description},r),!u&&d.a.createElement("span",{className:I.expiration},d.a.createElement(T.a,{daysUntilExpiry:n})))),a?d.a.createElement(p.a,{"data-test-id":"clipped",className:I.clippedButton,onClick:this.unclipCoupon,"aria-label":v.formatMessage(A.unclip)},d.a.createElement(g.b,{"aria-hidden":!0,kind:h.Kinds.SCISSORS,size:h.Sizes.XS,colorState:h.ColorStates.INVERTED})):d.a.createElement(p.a,{"data-test-id":"unclipped",className:I.unclippedButton,onClick:this.clipCoupon,"aria-label":v.formatMessage(A.clip)},d.a.createElement(g.b,{"aria-hidden":!0,kind:h.Kinds.SCISSORS,size:h.Sizes.XS,colorState:h.ColorStates.INHERITED})))}}r()(N,"defaultProps",{overrideClassNames:{}}),r()(N,"contextTypes",{getCss:l.a.func,intl:u.intlShape}),t.a=Object(y.a)(Object(v.a)(N))},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F o_h ab_C bn_dBP bm_FJ bj_ZpQYvz P_1Eu6qC q4_1I4yPF bm8_n",link:"C_Z281SGl F_N D_F o_h ek_EZ P_0 ab_C",content:"F_N D_F o_h P_6Eb4 ek_BB gl_C",fromName:"cZ1zaJgg_B o_h J_x G_e A_6FsP i_6LUG",description:"cZ1zaJgg_B o_h J_x G_e A_6EWk i_6FsP M_Z26RiTK",expiration:"cZ1zaJgg_B o_h J_x G_e M_Z26RiTK",clippedButton:"F_n I_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C gl_C W_72FG H_72FG k_w P_0 M_0 C_52qC",unclippedButton:"F_n I_T l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C gl_C W_72FG H_72FG k_w P_0 M_0 cdPFi_Z287E9E"},"themeMode-MEDIUM":{container:"bj_Z27oFgc q4_ajP6C",link:"C_ZpQYvz"},"themeMode-DARK":{container:"bj_Z27oFgc q4_ajP6C",link:"C_ZpQYvz"}},_key:"2aEsk4"}},,function(e,t,a){"use strict";e.exports={className:{default:{datepickerWrapper:"p_R H_6VdP U_fq7",datepickerInput:"em_N ir_n D_F ab_C p_R q_52qC A_6EqO H_6VdP P_3gJOe m_2w4l8N",valueWrapper:"o_h J_x G_e",datepickerLabel:"C_Z1TsNWR W_7jIs i_6NIX",datepickerValue:"b_n ir_n t_C D_X H_6MGW C_Z281SGl i_6MGW Q_eo6 P_0",datepickerIcon:"D_F ab_C i_6NIX cdPFi_Z1TsNWR",datePart:"t_C Q_eo6 E_eo6",dateInput:"M_0 b_n ir_n ev_q I_q"},isFocused:{datepickerWrapper:"Z_O",datepickerInput:"m_2fAfSG",datepickerValue:"e_dRA I_2ieeaE",datepickerIcon:"cdPFi_Z2aVTcY"},invalidInput:{dateInput:"M_0 b_n ir_n ev_q I_q C_uiV"}},_key:"Z1HCWYS"}},function(e,t,a){"use strict";e.exports={className:{default:{datepickerCalendar:"k_w q_52qC W_3rfjo e_dRA j_2v1b6D P_Z1stIAm",dayHeaderWrapper:"Y_fq7 U_dRA",monthHeaderWrapper:"D_F A_6EqO H_6LEV m_Z14vXdP P_1Eu7sD",titleWrapper:"D_X W_1BJksS u_b C_Z281SGl",yearTitle:"Q_eo6",daysWrapper:"P_1Eu7sD",arrow:"r_P t_C W_6LEV H_6LEV",dayHeader:"r_P t_C D_X A_6DUj W_6NIX H_6LEV C_ZvsWfq i_6LEV"}},_key:"ZMRiTz"}},function(e,t,a){"use strict";e.exports={className:{default:{weekWrapper:"U_dRA"}},_key:"Z26EX72"}},function(e,t,a){"use strict";e.exports={className:{default:{dayWrapper:"t_C D_X W_6NIX H_6LEV",day:"r_P e_e5X t_C D_X W_6LEV H_6LEV A_6DUj i_6LEV q4_ZpQYvz",emptyDay:"D_X W_6NIX H_6LEV"},isDisabled:{day:"A_6DUj C_Z1TsNWR"},isSelected:{day:"u_b C_Z281SGl q_2ieeaE"},isToday:{day:"q_1I4z5p"}},_key:"Z1htaH"}},,,,,,,,,,function(e,t,a){"use strict";e.exports={className:{default:{resultsContainer:"H_3s2lE X_6LEV N_6LEV o_A",limitReached:"Q_fq7 D_Z1YJkyX o_h G_e J_x",count:"G_e o_h",bottomSection:"D_F P_Z1TacOn aa_FL z_Z14vXdP",buttonGroup:"F_N a_3nOD5",itemCounts:"F_N i_6UbO t_r r_BN D_F gl_CH o_h G_e J_x eo_x",doneButton:"H_6TFj a_7ALe s_1EuSsS P_3gJOe V_M e_dRA E_fq7 b_0 M_E8xte",cancelButton:"H_6TFj a_7ALe s_1EuSsS P_3gJOe V_M I_52qC b_0 C_Z2aVTcY I4_2iedUU C4_Z29WjXl",closeButton:"p_a R_6Fd5 T_6Eb4 r_P",toggleButton:"C_Z2aVTcY E_fq7 r_P u_N C4_Z2aVTcY",icon:"D_Z1YJkyX ab_C H_6TFj E_eo6"},bottomDisabled:{limitReached:"O_cMq"},maxCountReached:{count:"C_Znn46r"}},_key:"ZiLFch"}},function(e,t,a){"use strict";e.exports={className:{default:{searchContainer:"P_Z1Ve0sQ",header:"C_Z281SGl A_6FsP u_b U_eo6",searchInput:"A_6EqO F_P q_ZnIF8Y H_6UbO b_0 Z_N li_6UbO W_6D6F p_R T_0 L_0 e_dRA ir3_0 m3_dm5",flexbox:"D_F Y_fq7",searchFlex:"F_O p_R E_fq7",selectFlex:"F_N",inputSearchIcon:"p_a L_fq7 T_fq7 Z_N",selectLabel:"I_ZnIF8Y H_6UbO D_F gl_FL C_Z281SGl m_Z14vXdP i_6VdP X_fq7 e_dRA a_3nF5b k_w"}},_key:"Z7yBgQ"}},function(e,t,a){"use strict";e.exports={className:{default:{contactPickerContainer:"I_52qC s_3zDHw d_3zlCJ p_R j_ZqTdtW"}},_key:"Z1k61UO"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"W_3zmEK",subwrapper:"D_F",imgContainer:"D_F aw_Z5r2aC",cueImg:"W_7ALe",content:"P_1WRVno",title:"A_6FsP gp_1Fqk81 u_b U_eTB",description:"U_6Fd5",primary:"i_6NIX",secondary:"I4_52qC"}},_key:"ZFo7Ws"}},function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=(a(7),a(1)),r=a.n(i),o=a(12),l=a.n(o),c=a(6),d=a(319),m=a(18),_=a(25),u=a(4),p=a(21),h=a(16),g=(a(51),a(1724)),E=a.n(g),b=a(0);const f=Object(c.defineMessages)({close:{id:"cue.close",defaultMessage:"Close"}});class C extends r.a.Component{constructor(...e){super(...e),s()(this,"onTryButton",e=>{e.stopPropagation();const t=this.props,a=t.onSuccess,n=t.onTryButton,s=(0,t.computeActionData)("cue_"+t.cueName+"_click");n(e),a({i13nModel:{interactionType:Object(h.getInteractionFromEvent)(e),actionData:s}})}),s()(this,"onClose",e=>{const t=this.props,a=t.cueName,n=t.onClose,s=t.userResponse,i=(0,t.computeActionData)("cue_"+a+"_later");e.stopPropagation(),n({i13nModel:{mKey:"cue_"+a+"_later",interactionType:Object(h.getInteractionFromEvent)(e),actionData:i},userResponse:s||null})}),s()(this,"onMayBeLater",e=>{const t=this.props,a=t.cueName,n=t.onClose,s=t.onMayBeLater;if(t.groceriesSmartView||a===b.Eb.GROCERIES_LOCATIONS_CUE){const i=(0,t.computeActionData)("cue_"+a+"_success_sec");s(e),n({i13nModel:{mKey:"cue_"+a+"_success_sec",interactionType:Object(h.getInteractionFromEvent)(e),actionData:i}})}else this.onClose(e)}),s()(this,"renderHeaderContainer",()=>{const e=this.props,t=e.cueVariant,a=e.groceriesSmartView,n=e.cueName,s=e.headerText,i=e.smartViewCue,o=n===b.Eb.WALMART_CUE,d=n===b.Eb.GROCERIES_LOCATIONS_CUE,m=l()(E.a,{cueVariant:t,groceriesSmartView:a,walmartCue:o,smartViewCue:i}),_=this.context.intl.formatMessage,h=r.a.createElement(p.default,{"data-test-id":"close-icon",onClick:a||d?this.onClose:this.onMayBeLater,kind:u.Kinds.CLOSE,size:u.Sizes.XXS,title:_(f.close),"aria-label":_(f.close),className:m.close});return s?"object"==typeof s?r.a.createElement("div",{className:m.header,"aria-label":_(s,s.values)},r.a.createElement(c.FormattedMessage,s),h):r.a.createElement("div",{className:m.header,"aria-label":s},s,h):h})}render(){const e=this.props,t=e.bodyText,a=e.cueName,n=e.cueVariant,s=e.groceriesSmartView,i=e.mayBeLaterButtonText,o=e.pngImageUrl,d=e.smartViewCue,u=e.tryButtonText,p=e.usePreviewPaneStyles,h=this.context.intl.formatMessage,g=a===b.Eb.WALMART_CUE,f=a===b.Eb.GROCERIES_LOCATIONS_CUE,C=l()(E.a,{cueVariant:n,groceriesSmartView:s,walmartCue:g,smartViewCue:d,selectLocationsCue:f});return n===b.Kc&&(t.values.listItemStyle=C.listItemStyle,t.values.listStyle=C.listStyle),r.a.createElement("div",{className:p?C.ppContainer:C.container},r.a.createElement("div",{className:C.containerBorder}),r.a.createElement("div",{className:C.cueContainer,"data-test-id":a},r.a.createElement("div",{className:C.svgStyle},g&&r.a.createElement("div",{className:C.backgroundBlock},r.a.createElement("img",{className:C.icon,src:o})),o&&!g&&r.a.createElement("img",{className:C.icon,src:o})),r.a.createElement("div",{className:C.cueContainerWrapper},this.renderHeaderContainer(),"object"==typeof t?r.a.createElement("div",{className:C.body,"aria-label":h(t,t.values)},r.a.createElement(c.FormattedHTMLMessage,t)):r.a.createElement("div",{className:C.body,"aria-label":t},t),r.a.createElement("div",{className:C.actionContainer},r.a.createElement(m.a,{style:g?{height:"30px",width:"132px"}:null,onClick:this.onTryButton,title:h(u),"data-test-id":"try-cue-button",kind:_.a.PRIMARY,"aria-label":h(u),marginLess:!0},r.a.createElement(c.FormattedMessage,u)),i?r.a.createElement(m.a,{onClick:this.onMayBeLater,title:h(i),"data-test-id":"maybe-later-cue-button",kind:f?_.a.SECONDARY:_.a.CHROMELESS,overridingClass:C.secondarylink,"aria-label":h(i)},r.a.createElement(c.FormattedMessage,i)):null))))}}s()(C,"contextTypes",{intl:c.intlShape.isRequired}),s()(C,"defaultProps",{computeActionData:()=>{},cueVariant:"default",groceriesSmartView:!1,smartViewCue:!1,usePreviewPaneStyles:!1}),t.a=Object(d.a)(C)},function(e,t,a){"use strict";e.exports={className:{default:{menuList:"M_0 P_0 hd_n",previewOption:"i_6FIA D_F ab_BZ Y_fq7 P_KXYok",previewOptionText:"Q_eo6",previewPaneMode:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_52qC ab_CH gl_C r_P o_h",blockContainer:"H_6UHk W_7bcz ac_C p_R",previewPaneModeChooser:"hd_n P_1Bs8Qs D_F gl_FM Y_6Fd5 U_6MGW W_3rRhf",previewPaneBOTTOM:"D_B b_n l_T e_dRA I_ZpQYvz U_eDQ Y_0 H_fq7",previewPaneNO:"D_B b_n l_T e_dRA I_ZpQYvz U_eDQ Y_0 H_fq7",previewPaneRIGHT:"D_B b_n l_T e_dRA I_ZpQYvz U_eDQ Y_0 H_fq7 E_eo6 W_6EGz",previewPaneDarkBOTTOM:"D_B b_n l_T e_dRA I_ZpQYvz U_eDQ Y_0 H_6LUG",previewPaneDarkRIGHT:"D_B b_n l_T e_dRA I_ZpQYvz U_eDQ Y_0 H_6UHk W_6UHk p_a T_0 R_0",labelTextContainer:"D_F gl_C ab_C Y_6DEy i_6FIA a_7sKQ",radioButton:"M_Z1oluSy D_F ac_FO W_6FIA H_6FIA r_P",label:"r_P a_7ceA G_e o_h"},isChecked:{previewOption:"u_e69 i_6FIA D_F ab_BZ Y_fq7 P_KXYok"},selected:{labelTextContainer:"u_e69"},liteVersion:{previewPaneModeChooser:"Y_0 U_0 W_A"}},_key:"Z2Sg0p"}},function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return _})),a.d(t,"d",(function(){return u}));var n=a(89),s=a(235),i=a.n(s),r=a(208),o=a.n(r);const l=new i.a({max:500,maxAge:3e5});function c(e){let t=l.get(e);return void 0===t&&(t=Object(n.r)(new Date,e),l.set(e,t)),t}function d(e,t,a){const n=e<0?"-":"+",s=Math.floor(Math.abs(e/60)),i=Math.abs(e%60),r=new Intl.NumberFormat(a,{minimumIntegerDigits:t?1:2}).format(s);let o=new Intl.NumberFormat(a,{minimumIntegerDigits:2}).format(i);return 0===e?"":(t&&0===i&&(o=""),n+r+(o?":":"")+o)}function m(e){if(Intl.DateTimeFormat){const t=new Intl.DateTimeFormat(e||"en",{timeZoneName:"long"});if(t.formatToParts)try{return t.formatToParts()[6].value||""}catch(e){return""}else if(t.format)try{return(t.format(new Date).split(",")[1]||"").trim()}catch(e){return""}}return""}function _(){const e=o.a.determine();let t=e&&e.name();if(Intl&&Intl.DateTimeFormat&&(t=t||new Intl.DateTimeFormat("en").resolvedOptions().timeZone),t)try{return c(t)}catch(e){return-1*(new Date).getTimezoneOffset()}return-1*(new Date).getTimezoneOffset()}function u(e){try{return _()!==c(e)}catch(e){return!1}}},,function(e,t,a){"use strict";e.exports={className:{default:{container:"K_e5X t_C",emptyResultsText:"je_6NYI",descriptionError:"A_6EqO gl_C t_C C_Z281SGl je_6DEy",tryAgain:"je_6DEy",tryAgainLink:"C_Z2aVTcY A_6EqO r_P",virtualListContainer:"W_6D6F H_3zLco cZ1RN91d_n o_h p_R",loadingContainer:"T_dRK W_6D6F p_R",resultContainer:"H_3zLco"}},_key:"1yCfpK"}},function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(9);const s=Object(n.d)(["DELETE","PERM_DELETE","ARCHIVE","RESTORE","MARK_AS_SPAM","MARK_AS_NOT_SPAM"])},function(e,t,a){"use strict";var n=a(6);t.a=Object(n.defineMessages)({filterName:{id:"filter_name_label",defaultMessage:"Filter Name"},selectCondition:{id:"select_filter_condition",defaultMessage:"Select a filter criterion"},filterValue:{id:"filter_value_placeholder",defaultMessage:"Type a filter value"},filterNameHint:{id:"filter_name_hint",defaultMessage:"Name your Filter"},filterNamePlaceholder:{id:"filter_name_placeholder",defaultMessage:"Type a filter name"},selectFolderPlaceholder:{id:"select_folder_placeholder",defaultMessage:"Select folder"},newFolderPlaceholder:{id:"type_new_folder_placeholder",defaultMessage:"Folder name"},cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"},storageLimitError:{id:"setting_limit_error_text",defaultMessage:"You have reached the storage limit"},filterNameError:{id:"filter_name_error_text",defaultMessage:"Filter Name is invalid"},noFilterSelectedError:{id:"no_filter_selected_error_text",defaultMessage:"You must specify at least one filter rule."},folder_inbox_label:{id:"folder_inbox",defaultMessage:"Inbox"},folder_sent_label:{id:"folder_sent",defaultMessage:"Sent"},folder_archive_label:{id:"folder_archive",defaultMessage:"Archive"},folder_trash_label:{id:"folder_trash",defaultMessage:"Trash"},folder_spam_label:{id:"folder_bulk",defaultMessage:"Spam"},contains:{id:"contains_text",defaultMessage:"contains"},does_not_contain:{id:"does_not_contain_text",defaultMessage:"does not contain"},begins_with:{id:"begins_with_text",defaultMessage:"begins with"},ends_with:{id:"ends_with_text",defaultMessage:"ends with"},from:{id:"from_label",defaultMessage:"From"},to_cc:{id:"to_or_cc_label",defaultMessage:"To/CC"},subject:{id:"subject_label",defaultMessage:"Subject"},body:{id:"body_label",defaultMessage:"Body"},filterSummaryFolder:{id:"filter_rule_description",defaultMessage:"Deliver to {folderName} if "},filterCriteriaSummary:{id:"filter_criteria_summary_text",defaultMessage:"{filter_field} {filter_operator} {ruleValue}"},filterCriteriaSeparator:{id:"filter_criteria_separator",defaultMessage:"; "}})},function(e,t,a){"use strict";e.exports={className:{default:{container:"P_3Y3Gk W_3qWeB",button:"P_fQq0A ab_C gl_FM je_eo6 jb_eo6 D_F r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7",label:"D_F",separator:"m_Z14vXdP M_3HLUz"},disabled:{button:"O_cMq r_BN I4_52qC"}},_key:"Z17GWCz"}},function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(1840),d=a.n(c),m=a(13),_=a(6),u=a(49),p=a(18),h=a(25),g=a(98),E=a(2),b=a(94),f=a(16);a(51);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const y=()=>{};class T extends l.a.Component{constructor(...e){super(...e),s()(this,"onTryNow",e=>{const t=this.props,a=t.onTryNow,n=t.cardName,s=t.redirectUrl,i=t.version;Object(b.a)(s),a({i13nModel:{mKey:n+"_upsell_clicked",sec:n+"_upsell_card",interactionType:Object(f.getInteractionFromEvent)(e),actionData:{version:i}}})})}componentDidMount(){const e=this.props,t=e.impressionTracker,a=e.impressionBeacon,n=e.onShow,s=e.cardName,i=e.version;a&&Object(g.a)(a,!1),Object(g.a)(t,!1),n({i13nModel:{mKey:s+"_upsell_shown",sec:s+"_upsell_card",interactionType:Object(f.getInteractionFromEvent)({}),actionData:{version:i}}})}render(){const e=this.props,t=e.images,a=void 0===t?{}:t,n=e.overridingStyle,s=e.strings,i=e.contentDerivedFromApi,r=e.falconTOMImageUrl,o=this.context.getCss(d.a,void 0===n?{}:n),c=a.logoImg,m=a.avatarImg;let g={};return i?g=s||{}:["heading","body","ctaText"].forEach(e=>{g[e]=l.a.createElement(_.FormattedHTMLMessage,s[e])}),l.a.createElement("div",{"data-test-id":"upsell-card-template",className:o.wrapper,"aria-hidden":!0,onClick:this.onTryNow},m&&l.a.createElement("div",{className:o.avatar,"aria-hidden":!0},l.a.createElement("img",{className:o.avatarImg,src:Object(u.a)(m.oneX),srcSet:Object(u.a)(m.twoX)+" 2x"})),l.a.createElement("div",{className:o.content},l.a.createElement("div",{className:o.mainBody},l.a.createElement("h2",{className:o.heading},g.heading),l.a.createElement("p",{className:o.bodyTextContainer},g.body)),l.a.createElement(p.a,{title:g.ctaText,"data-test-id":"try-it-button",kind:h.a.PRIMARY,"aria-label":g.ctaText,overridingClass:o.ctaButton,onClick:y,tabIndex:0},g.ctaText)),c&&l.a.createElement("div",{className:o.header,"aria-hidden":!0},l.a.createElement("img",{className:o.cueImg,src:Object(u.a)(c.oneX),srcSet:Object(u.a)(c.twoX)+" 2x"})),i&&r&&l.a.createElement("div",{className:o.header,style:{backgroundImage:`url(${r})`},"aria-hidden":!0}))}}T.contextTypes={intl:_.intlShape.isRequired,getCss:r.a.func};t.a=Object(m.connect)(null,e=>({onTryNow:t=>e(S({type:E.TOM_UPSELL_CLICKED},t)),onShow:t=>e(S({type:E.TOM_UPSELL_SHOWN},t))}))(T)},function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return b}));var n=a(1),s=a.n(n),i=a(7),r=a.n(i),o=a(1415),l=a.n(o);const c=({children:e,isDark:t,overrideClassNames:a={}},{getCss:i})=>{const r=i(l.a);return s.a.createElement("ul",{className:r.container+" "+(a.tabListContainer||""),role:"tablist"},n.Children.toArray(e).map(e=>Object(n.cloneElement)(e,{isDark:t})))};c.contextTypes={getCss:r.a.func};var d=c,m=a(27),_=a.n(m),u=a(34),p=a.n(u),h=a(1416),g=a.n(h);const E=(e,{getCss:t})=>{let a=e.children,n=e.onClick,i=e.isDark,r=void 0!==i&&i,o=e.isSelected,l=void 0!==o&&o,c=e.overrideClassNames,d=void 0===c?{}:c,m=p()(e,["children","onClick","isDark","isSelected","overrideClassNames"]);const u=t(g.a,{isSelected:l,isDark:r,isDarkAndSelected:r&&l});return s.a.createElement("li",{className:u.container+" "+(d.tabContainer||""),role:"presentation"},s.a.createElement("button",_()({},m,{className:u.button+" "+(d.button||""),role:"tab","aria-selected":l,onClick:n}),a))};E.contextTypes={getCss:r.a.func};var b=E},function(e,t,a){"use strict";e.exports={className:{default:{listContainer:"hd_n Q_6Fd5 Y_6Fd5 X_0",itemContainer:"D_F M_fq7",itemInfo:"X_fq7 ek_BB C_Z281SGl",itemSize:"kk_6DUj C_Z1YRXYn"}},_key:"10Vyi0"}},function(e,t,a){"use strict";e.exports={className:{default:{printView:"ir_n",header:"P_S9pNs M_2ae0fr m_Z14vXdP",subjectHeaderRow:"D_F el_EZ jb_6Eb4 U_eo6 m_Z14vXdP",subjectBody:"C_Z281SGl A_6FsP i_6FIA y_Z2hYGcu",headerTable:"D_FY",headerRow:"D_GE",label:"C_Z1YRXYn D_FZ je_fq7",fieldBody:"C_Z281SGl D_FZ X_fq7 je_fq7",buttonContainer:"M_Z2iDC9F D_F ek_FB",button:"P_0 M_Z1fenNR",offerHeader:"t_C A_6FsP C_Z281SGl",listHeaderContainer:"D_F ab_C M_qWfYD",qrCode:"W_3n93F",printListHeaderText:"D_F ek_BB",printListHeader:"A_6EWk u_b U_eo6 C_Z281SGl",printListDetail:"A_6EqO C_Z281SGl",printOfferDetail:"P_14odDn t_C A_6EWk C_Z1VRpVF"}},_key:"Zc1mDY"}},function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(12),m=a.n(d),_=a(1525),u=a.n(_),p=a(1397),h=a(18),g=a(0),E=a(13),b=a(10),f=a(82),C=a(5),S=a(25),y=a(355);const T={id:"supported_provider.cancel_button_title",description:"Tooltip for the cancel button.",defaultMessage:"Cancel"},v={id:"add_mailbox.pickMailbox",defaultMessage:"Select below to get started",description:"description inside the add mailbox cue"};class I extends l.a.Component{constructor(...e){super(...e),s()(this,"handleItemClick",e=>{if(this.props.addAccountSelectProvider({provider:e}),g.zd.indexOf(e)>=0)return this.props.onChange("provider",e),void this.props.onNext();this.props.onPrevious()})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.onCancel,n=t.office365Enabled,s=t.inNewUserTasksCue,i=m()(u.a,{inNewUserTasksCue:s});let r=this.context.partner?p.b:p.c;return!this.context.partner&&n&&(r=p.c.slice(),r.splice(2,0,g.xb.OFFICE365)),l.a.createElement("div",{className:i.container},s?l.a.createElement("div",null,l.a.createElement("div",{className:i.heading,id:"add-mailbox-title"},l.a.createElement(c.FormattedMessage,{id:"add_mailbox.add_another_mailbox",defaultMessage:"Would you like to add another milbox?"})),l.a.createElement("div",{className:i.description,id:"add-mailbox-description"},l.a.createElement(c.FormattedMessage,v))):l.a.createElement("h5",{className:i.label},l.a.createElement(c.FormattedMessage,{id:"oAuth_select_provider_text",defaultMessage:"Select email provider"})),l.a.createElement("ol",{className:i.accountList},r.map(s?e=>{switch(e){case"google":case"outlook":case"aol":return l.a.createElement("li",{key:e,className:i.listItem,onClick:()=>this.handleItemClick(e)},l.a.createElement(y.a,{provider:e}))}}:e=>l.a.createElement("li",{key:e,className:i.listItem,onClick:()=>this.handleItemClick(e)},l.a.createElement(y.a,{provider:e}))),s?null:l.a.createElement("li",{className:i.listItemOther,onClick:()=>this.handleItemClick("OTHER")},l.a.createElement(c.FormattedMessage,{id:"oAuth_other_provider",defaultMessage:"Other"}))),s?null:l.a.createElement(h.a,{"data-test-id":"supported-provider-cancel-button",kind:S.a.SECONDARY_BORDERLESS,overridingClass:i.cancelButton,onClick:a,title:e(T),tabIndex:0},l.a.createElement(c.FormattedMessage,{id:"supported_provider.cancel_button_label",defaultMessage:"Cancel"})))}}s()(I,"contextTypes",{intl:c.intlShape.isRequired,partner:r.a.string});t.a=Object(E.connect)(e=>({office365Enabled:(0,Object(b.selectors)(e).getFeaturesSelectors)().isEnabled(g.Eb.OFFICE365)}),e=>({addAccountSelectProvider:t=>e(Object(f.a)({i13nModel:{mKey:C.g[`SELECT_${t.provider.toUpperCase()}_ACCOUNT`],sec:C.i.SETTINGS_ACCOUNTS_TAB,interactionType:C.e.click}}))}))(I)},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F W_6D6F I_52qC m_Z14vXdP en_0",columnLeft:"D_F ab_C F_N P_1UqJXO o_h",columnCenter:"D_F ab_C eo_HB F_0 P_JMIAn",columnRight:"D_F gl_CH F_N ab_C P_1HT1B4 t_r s_3qWeB",backButton:"D_F ab_C P_eo6 i_6EWk r_P O4_cMr",backButtonLabel:"P_eo6 J_x",filename:"u_b o_h J_x G_e",pageNav:"C_Z1VRpVF J_x",currentPage:"I_ZpQYvz cn_0 e_dRA P_3gJOe",totalPages:"Q_eo6",pageNavInput:"a_6LEV I_ZpQYvz cn_0 e_dRA P_3gJOe C_Z1HyqBV A_6EqO",pageNavInputContainer:"D_I",pageLabel:"E_eo6",buttonContainer:"E_6Eb4 r_P",rtlRawScaleX:"rtlR_h_2gl0WC",currentPageTheme:"I_Z1EVJaD"},"fullScreenMode-true":{columnCenter:"gl_C",filename:"A_6EWk",pageNav:"Y_eo6 C_ak5lC",container:"I_T H_7iGr C_52qC",pageNavInput:"C_ak5lC",buttonContainer:"E_6LEV",columnRight:"je_6Fd5 jb_fq7"}},_key:"2iA2mk"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC r_BN k_w D_F ek_BB ab_C cZ1RN91d_GG en_0 a_3vpWV M_0",header:"A_6EqO k_w i_CS W_6D6F P_PEFpM t_C C_Z1VRpVF D_F gl_FM ab_C",headerText:"A_6EWk C_Z281SGl u_e69",icon:"D_F C_ZpQYvz",title:"Q_fq7 u_b",partnerLogo:"H_6LEV r_P",submitButton:"H_6TFj s_3nF5b I_T b_2fAfSG e_dRA C_Z2aVTcY A_6Eb4 u_b r_P M_Z18KXHe a_3v1qi G_e o_h J_x",travelCardsContainer:"M_0 W_3vpWV a_3vpWV cg_FJ cn_3vzlv l_ZpQYvz"},"themeMode-MEDIUM":{container:"I_sgPuT",header:"C_ZpQYvz",headerText:"C_ZpQYvz",submitButton:"b_2fh2n5 C_Z2bg7IA",travelCardsContainer:"cn_0"},"themeMode-DARK":{container:"I_sgPuT",header:"C_ZpQYvz",headerText:"C_ZpQYvz",submitButton:"b_2fh2n5 C_Z2bg7IA",travelCardsContainer:"cn_0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"ZvlYiQ"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC k_w H_6D6F a_3vpWV iy_h iz_FF W_3vpWV",header:"C_Z281SGl i_6EGz A_6DUj D_ZS1uoi ca8c02_O cZwJqdT_Z2lir11 M_ZgNFzL o_h G_e",headerTitle:"C_Z281SGl A_6EqO u_b i_6LEV",adText:"C_Z1VRqsb A_6DUj u_e69",adMidDot:"C_Z1VRqsb A_6DUj u_e69 M_3gIMd",products:"D_e0XN ga_ZQKkz1 M_Z1YNIT7",productContainer:"p_R H_3r73g",overlay:"e_eTB k_w r_P W_3nz8P I_T j_Z1loWFJ p_a Z_N",product:"I_52qC e_eTB D_X",productImage:"I_52qC ay_C az_DW ba_BE b_ZJWhfH l_ZnMIOa e_fq7 k_w H_3npzV W_3npzV M_fq7",productPrice:"C_Z29dUYT A_6DUj u_b i_6DUj M_fq7 W_6D6F",productTitle:"C_Z281SGl i_6EGz A_6DUj D_ZS1uoi ca8c02_O cZwJqdT_Z2lir11 M_fq7 o_h G_e",sellerInfo:"C_Z1YRXYn A_6DUj i_6EGz M_fq7",ratingsContainer:"ab_C D_F M_fq7",ratings:"E_eTB A_6EqO",ratingsCount:"i_6EGz C_Z1WBuqm A_6DUj"},isRRCompactSize:{container:"a_3o4BO W_3o4BO",products:"ga_dwE M_27N2td"},"themeMode-DARK":{container:"I_sgPuT C_52qC n_n0e9V l_T",overlay:"I_ZKWIFy",product:"I_T I4_ZS20TA",headerTitle:"C_52qC",adMidDot:"C_ZvsWfq",adText:"C_ZvsWfq",productPrice:"C_52qC",productTitle:"C_52qC",ratingsCount:"C_52qC",sellerInfo:"C_52qC"},"themeMode-MEDIUM":{container:"I_sgPuT C_52qC n_n0e9V l_T",overlay:"I_ZKWIFy",product:"I_T I4_ZS20TA",headerTitle:"C_52qC",adMidDot:"C_ZvsWfq",adText:"C_ZvsWfq",productPrice:"C_52qC",productTitle:"C_52qC",ratingsCount:"C_52qC",sellerInfo:"C_52qC"}},_key:"Z1GxWXs"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB W_3vpWV H_6D6F C_Z281SGl a_3vpWV",errorMessage:"D_X t_C P_Zit7Th"},"themeMode-MEDIUM":{container:"C_ZpQYvz"},"themeMode-DARK":{container:"C_ZpQYvz"}},_key:"Z1XgR1q"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"M_1IaimO ha_n P_0",weekRow:"U_6Eb4 ha_n H_6VdP P_0",weekDay:"D_X W_6VdP H_6VdP P_3gIMd P6_1wVxIt P8_ZmsLix",weekDayBackground:"p_R D_X W_6VdP H_6VdP e_e5X",weekDayBackgroundOverlay:"p_a T_0 L_0 H_6D6F W_6D6F e_e5X",weekDayPointContainer:"p_a T_0 L_0 H_6D6F W_6D6F A_6Eb4 u_b C_52qC D_B i_6VdP t_C"},"checkinType-UNCHECK":{weekDayBackground:"I_ZnIF8Y",weekDayPointContainer:"aw_1SQvbk"},"checkinType-dark-UNCHECK":{weekDayBackground:"I_ajP4A",weekDayPointContainer:"aw_1tEJ2R"},"checkinType-REGULAR":{weekDayBackground:"I_82XEY aw_1JOKe5",weekDayBackgroundOverlay:"O_cMo aw_Z1LCaFo",weekDayPointContainer:"aw_82XEY"},"checkinType-FUTURE_MILESTONE":{weekDayBackground:"I_82XEY aw_Z2r7UrV O_cMr",weekDayBackgroundOverlay:"aw_Zixypj",weekDayPointContainer:"aw_1I1rwq O_6uD6"},"checkinType-BONUS":{weekDayBackground:"I_82XEY aw_Z2r7UrV",weekDayBackgroundOverlay:"O_cMo aw_Zixypj",weekDayPointContainer:"aw_1I1rwq"},"selectionRangeType-START":{weekDay:"q_xqijO"},"selectionRangeType-dark-START":{weekDay:"q_7Mmob"},"selectionRangeType-MIDDLE":{weekDay:"q_ZnIF8Y"},"selectionRangeType-dark-MIDDLE":{weekDay:"q_ajP4A"},"selectionRangeType-END":{weekDay:"q_Z1eToww"},"selectionRangeType-dark-END":{weekDay:"q_1ed5dy"},spinEnabled:{weekDayBackground:"ah_Nu3Un am_N",weekDayPointContainer:"ah_zVKwS"}},_key:"ZIVPB4"}},function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const n=new RegExp(/^[a-zA-Z]{2}-[a-zA-Z]{4}-[a-zA-z]{2}$|^[a-zA-z]{2,3}-[a-zA-Z]{2}$|^[a-zA-Z]{2}-\d{3}$/),s=new RegExp(/^\w{2}-\d{3}$/);function i(e){return"string"!=typeof e||e.indexOf("-u-")<0?e:e.substring(0,e.indexOf("-u-"))}function r(e){e=i(e);const t=s.test(e)?4:3;return"string"==typeof e&&n.test(e)?e.substring(0,e.length-t).toLowerCase():"en"}},function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return d}));var n=a(6),s=a(9),i=a(7),r=a.n(i);let o;!function(e){e.CT="CT",e.T1="T1",e.T2="T2"}(o||(o={}));r.a.oneOf(Object(s.h)(o));const l=Object(n.defineMessages)({ctaText:{id:"ct_lastpass_tom.ctaText",defaultMessage:"Try it free*"},heading:{id:"ct_lastpass_tom.heading",defaultMessage:"Forgot a password? No problem.{includeNewline, select, true {<br/>} false {&nbsp;}}LastPass Premium remembers it for you."},body:{id:"ct_lastpass_tom.body",defaultMessage:"As a {yahooBrand} user, you are entitled to a free* 30 day trial of LastPass Premium."}}),c={[o.CT]:{logo:"/img/yahoo_lastpass_v_white_1x.png",logo2x:"/img/yahoo_lastpass_v_white_2x.png"},[o.T1]:{logo:"/img/logo_lastpass_1x.png",logo2x:"/img/logo_lastpass_2x.png"},[o.T2]:{logo:"/img/lastpass_passwordsecurity_1x.png",logo2x:"/img/lastpass_passwordsecurity_2x.png"}},d={[o.CT]:{impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.268575728;dc_trk_aid=460393808;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"},[o.T1]:{impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.268575725;dc_trk_aid=460393808;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"},[o.T2]:{impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.268575722;dc_trk_aid=460393808;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(85),m=a(190),_=a(5),u=a(16),p=a(67),h=(a(9),a(1442)),g=a(71);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const b={[h.a.DELETE]:{title:g.a.confirm_delete_title,message:g.a.confirm_delete_messages},[h.a.PERM_DELETE]:{title:g.a.confirm_delete_title,message:g.a.confirm_permanently_delete_messages},[h.a.ARCHIVE]:{title:g.a.confirm_archive_title,message:g.a.confirm_archive_messages},[h.a.RESTORE]:{title:g.a.confirm_restore_title,message:g.a.confirm_restore_messages},[h.a.MARK_AS_SPAM]:{title:g.a.confirm_spam_title,message:g.a.confirm_spam_messages},[h.a.MARK_AS_NOT_SPAM]:{title:g.a.confirm_ham_title,message:g.a.confirm_ham_messages}},f={[h.a.DELETE]:{mKey:_.g.TOOLBAR_DELETE,mKeyGroup:_.h.deleteMsg},[h.a.PERM_DELETE]:{mKey:_.g.TOOLBAR_DELETE,mKeyGroup:_.h.deleteMsg},[h.a.ARCHIVE]:{mKey:_.g.TOOLBAR_ARCHIVE,mKeyGroup:_.h.archiveMsg},[h.a.RESTORE]:{mKey:_.g.TOOLBAR_RESTORE,mKeyGroup:_.h.restore},[h.a.MARK_AS_SPAM]:{mKey:_.g.TOOLBAR_SPAM,mKeyGroup:_.h.markSpam},[h.a.MARK_AS_NOT_SPAM]:{mKey:_.g.TOOLBAR_NOT_SPAM,mKeyGroup:_.h.markUnspam}};class C extends l.a.Component{constructor(...e){super(...e),s()(this,"cancelConfirm",()=>{this.props.onClose()}),s()(this,"getActionCreator",()=>{const e=this.props,t=e.doSelectAll?m.a[p.c.LIST]:m.b[p.c.LIST];return{[h.a.DELETE]:t.delete,[h.a.PERM_DELETE]:t.delete,[h.a.ARCHIVE]:t.archive,[h.a.RESTORE]:t.restore,[h.a.MARK_AS_SPAM]:t.markAsSpam,[h.a.MARK_AS_NOT_SPAM]:t.markAsNotSpam}[e.contextMenuAction]}),s()(this,"handleConfirm",e=>{const t=this.props,a=t.allItemsCount,n=t.conversations,i=t.listId,r=t.selectedGroupIds,o=t.streamId,l=t.streamItem,c=t.contextMenuAction,d=Object.assign({},f[c],{sec:_.i.MSG_LIST_CONTEXT_MENU,interactionType:Object(u.getInteractionFromEvent)(e)});this.context.executeAction(this.getActionCreator(),function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({listId:i,streamId:o,streamItem:l,messageGroupIds:r},c===h.a.PERM_DELETE&&{permanent:!0},{},a&&{allItemsCount:a},{conversations:n,i13nModel:d})),this.props.onClose()}),s()(this,"getConfirmDialogStrings",()=>{const e=this.props,t=e.contextMenuAction,a=this.context.intl.formatMessage,n={conversations:e.conversations,count:e.doSelectAll?e.allItemsCount:e.selectedGroupIds.length};return{title:a(b[t].title),message:a(b[t].message,n)}})}render(){const e=this.getConfirmDialogStrings();return l.a.createElement(d.a,{title:e.title,message:e.message,onConfirm:this.handleConfirm,onAbort:this.cancelConfirm})}}s()(C,"contextTypes",{intl:c.intlShape.isRequired,executeAction:r.a.func}),s()(C,"defaultProps",{onClose:()=>{}})},function(e,t,a){"use strict";var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(13),_=a(6),u=a(85),p=a(1771),h=a.n(p),g=a(12),E=a.n(g),b=(a(51),a(69)),f=a(1370),C=a(10),S=a(493),y=a(395),T=a(1443),v=a(476),I=a(592),M=a(5),A=a(139),N=a(41),k=a(14),O=a(0),D=a(25),P=a(18),R=a(8),w=a(1408),F=a(16);const x=E()(h.a),L=Object(_.defineMessages)({heading:{id:"filterMessagesLikeThis.heading",defaultMessage:"Add filter"},description:{id:"filterMessagesLikeThis.description",defaultMessage:"Always move messages from <b>{email}</b> to this folder:"},moreOptions:{id:"filterMessagesLikeThis.moreOptions",defaultMessage:"More options"},createNewFolder:{id:"create_new_folder",defaultMessage:"Create new folder"},acceptLabel:{id:"save_btn_text",defaultMessage:"Save"}}),B=()=>{};class j extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{selectedFolder:""}),r()(this,"handleConfirm",e=>{e.stopPropagation();const t=this.props,a=t.sender,n=t.messageFilters,s=this.state.selectedFolder||f.a.INBOX,i={mKey:M.g.TOOLBAR_FILTER_MESSAGES_LIKE_THIS,sec:M.i.MSG_LIST_CONTEXT_MENU,interactionType:Object(F.getInteractionFromEvent)(e)},r={name:a.name||a.email,index:n.length+1,matchType:f.a.ALL,actions:[{type:f.a.MOVETOFOLDER,value:{folderActionValueBean:{folder:{name:s}}}}],criterions:Object(w.a)({sender:a})};this.props.handleSaveFilter({filters:[...n,r],i13nModel:i}),this.props.onClose()}),r()(this,"getLocalizedFolderValue",e=>{const t=this.context.intl.formatMessage;switch(e){case f.a.INBOX:return t(T.a.folder_inbox_label);case f.a.SENT:return t(T.a.folder_sent_label);case f.a.ARCHIVE:return t(T.a.folder_archive_label);case f.a.SPAM:return t(T.a.folder_spam_label);case f.a.TRASH:return t(T.a.folder_trash_label);default:return e}}),r()(this,"handleClose",e=>{e.stopPropagation(),this.props.onClose()}),r()(this,"handleFolderSelect",e=>{this.setState({selectedFolder:e})}),r()(this,"handleFolderCreate",({folderName:e,i13nModel:t})=>{const a=this.props.activeAccount;t=Object.assign({mKey:M.g.ADD_FOLDER,sec:M.i.FILTER_MESSAGES,mKeyGroup:M.h.createFldr},t),this.context.executeAction(A.b,{folderName:Object(N.k)(e,a),alertFromModalDialog:!0,accountId:a.id,i13nModel:t}),this.setState({selectedFolder:e}),this.selectRef&&this.selectRef.focus()}),r()(this,"handleMoreOptions",()=>{const e=this.props,t=e.messageId,a=e.handleFilterMoreOptions,n=e.onClose,s=e.listId;this.context.navigateTo({route:Object(k.w)({settingsGroupId:O.Nd.FILTERS})}),a({messageId:t,listId:s}),n()}),r()(this,"setSelectRef",e=>{this.selectRef=e})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.sender,n=t.folderNamesForRendering,i=t.activeAccount,r=!this.state.selectedFolder;return d.a.createElement(u.a,{onAbort:this.handleClose,onConfirm:this.handleConfirm,hideIcon:!0,title:e(L.heading),onOuterClick:B,disablePrimaryButton:r,acceptLabel:L.acceptLabel},d.a.createElement("div",{className:x.description},d.a.createElement(_.FormattedHTMLMessage,s()({},L.description,{values:{email:a.email}}))),d.a.createElement("div",null,d.a.createElement(v.a,{selected:this.state.selectedFolder,"data-test-id":"filter-select",placeholder:e(T.a.selectFolderPlaceholder),title:e(T.a.selectFolderPlaceholder),onChange:e=>this.handleFolderSelect(e),dropdownType:S.a.FITCONTENT,maxWidth:100,setRef:this.setSelectRef},d.a.createElement(y.a,{onSelect:B,key:"createNewFolder",title:e(L.createNewFolder),handlesOnSelect:!0},d.a.createElement(I.a,{activeAccountId:i.id,onCreate:this.handleFolderCreate,fullWidth:!0,noHoverColor:!0,whiteBackground:!0})),n.map(e=>d.a.createElement(y.a,{title:e,key:e,value:e},this.getLocalizedFolderValue(e))))),d.a.createElement("div",null,d.a.createElement(P.a,{onClick:this.handleMoreOptions,kind:D.a.CHROMELESS,title:e(L.moreOptions)},d.a.createElement("span",{className:x.moreOptions},e(L.moreOptions)))))}}r()(j,"contextTypes",{intl:_.intlShape.isRequired,executeAction:l.a.func,getUrlFromRoute:l.a.func,navigateTo:l.a.func}),r()(j,"defaultProps",{});t.a=Object(m.connect)((e,t)=>{const a=Object(C.selectors)(e),n=a.getAllowedFolderNamesForMessageFilters,s=a.getSelectedAccountIdByRoute,i=a.getAccountById,r=a.getParticipant,o=a.getSetting,l=t.messageId,c=(0,a.getRoute)(),d=Object(R.z)(c),m=i(s(c)),_=o(O.Kd.MESSAGE_FILTERS),u=r(l);return{folderNamesForRendering:n(),listId:d,activeAccount:m,messageFilters:_,sender:u}},e=>({handleSaveFilter:t=>e(Object(b.f)(t)),handleFilterMoreOptions:t=>e(Object(b.a)(t))}))(j)},function(e,t,a){"use strict";a(64),a(61);var n=a(42);a.d(t,"a",(function(){return n.b}));a(95)},function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));a(7);var n=a(1),s=a.n(n),i=a(6),r=a(12),o=a.n(r),l=a(1787),c=a.n(l),d=a(1409),m=a(11),_=a(17),u=a(4);const p=o()(c.a),h=Object(i.defineMessages)({fromLabel:{id:"date_range_picker.from_date_label",defaultMessage:"From"},toLabel:{id:"date_range_picker.to_date_label",defaultMessage:"To"}});class g extends s.a.Component{constructor(){super(),this.state={editLeft:!1,editRight:!1}}handleStateChange(e){const t=this.state.editLeft||this.state.editRight;this.setState(e,()=>{const e=this.state.editLeft||this.state.editRight;!t&&e?this.props.disableErrors():t&&!e&&this.props.enableErrors()})}handleDatePickerChange({startDate:e=this.props.startDate,endDate:t=this.props.endDate}=this.props){this.props.onChange(e,t)}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.endDate,n=t.datePickerWidth,i=t.useISODateFormat;return s.a.createElement("div",{className:p.dateWrapper},s.a.createElement("span",{className:p.datepicker,style:n?{width:n+"px"}:null},s.a.createElement(d.a,{zAltitude:m.Pb.OVERLAY,value:t.startDate,label:e(h.fromLabel),onChange:e=>this.handleDatePickerChange({startDate:e}),disabled:this.props.disabled,onStartEdit:()=>this.handleStateChange({editLeft:!0}),onDoneEdit:()=>this.handleStateChange({editLeft:!1}),onInvalidDateEntered:e=>this.props.onInvalidDateEntered({startDate:e}),useISODateFormat:i})),s.a.createElement("span",null,s.a.createElement(_.b,{size:u.Sizes.XS,kind:u.Kinds.ARROW_UP,rotate:u.Rotate.D90,colorState:"FIRST_LEVEL_GRAY"})),s.a.createElement("span",{className:p.datepicker,style:n?{width:n+"px"}:null},s.a.createElement(d.a,{zAltitude:m.Pb.OVERLAY,value:a,label:e(h.toLabel),onChange:e=>this.handleDatePickerChange({endDate:e}),disabled:this.props.disabled,onStartEdit:()=>this.handleStateChange({editRight:!0}),onDoneEdit:()=>this.handleStateChange({editRight:!1}),onInvalidDateEntered:e=>this.props.onInvalidDateEntered({endDate:e}),useISODateFormat:i})))}}g.contextTypes={intl:i.intlShape.isRequired},g.defaultProps={onInvalidDateEntered:()=>{},useISODateFormat:!1}},function(e,t,a){"use strict";e.exports={className:{default:{accordionWrapper:"D_F",accordionContainer:"M_0 P_0 em_N D_F hd_n ek_BB",arrow:"W_6LEV H_6LEV",accordionPanel:"P_6LEV D_n ek_BB",itemContainer:"m_Z14vXdP m8_n",itemTitle:"D_F P_3gIMd r_P u_e69 ab_C H_6VdP ir3_1JO2M7"},isActive:{accordionPanel:"D_B",arrow:"h_22ufi4"}},_key:"lrlaB"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"D_F W_3vPwA x_Z14vXdP",right:"D_F em_N ek_BB o_A",getMailPro:"P_0 hd_n Y_72FG",plans:"P_0 hd_n M_0 z8_Z14vXdP",name:"M_0 u_e69 D_F i_6FIA",price:"M_0 P_6Eb4",priceName:"M_0 u_dPo D_F i_6FIA cZ1jMJ1e_AT",hint:"C_Z1VRpVF i_6EGz A_6EqO Y_fq7 U_fq7",date:"C_Z1VRpVF i_6EGz A_6EqO X_eo6",mainWrapper:"em_N iz_A D_F ek_BB P_ZzaS5e",manageSubscription:"Y_6Eb4 U_6LEV",manageMailPro:"P_0 hd_n Y_72FG m_Z14vXdP",subscriptionIcon:"X_72FG p_R B_dRA L_6UX5",promoButton:"q_52qC C_Z2aVTcY l_Z2aVTcY e_dRA cn_dRA k_w r_P H_6VdP s_3nx4N en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2hYGcu A_6EqO",selectedPlan:"q_Z2aVTcY e_dRA k_w r_P H_73cc s_3nx4N en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2hYGcu A_6EqO b_0 W_e5X C_52qC I4_Z29WjXl ir3_1JO2M7 it3_dRA",tryAgainCTA:"q_Z2aVTcY e_dRA k_w r_P H_73cc s_3nx4N en_0 M_3HLUz V_M cZ1RN91d_n y_Z2hYGcu A_6EqO b_0 W_e5X C_52qC I4_Z29WjXl ir3_1JO2M7 it3_dRA",buttonContainer:"W_e5X",keepRecordTerms:"Y_7iGr Q_7rdk C_Z1VRpVF"},styleV2:{buttonContainer:"W_82XEY",loadingSpinner:"M_ZVBDo2 W_e5X H_72FG D_F ek_BB gl_C",errorContainer:"D_F ab_C Y_6Fd5"}},_key:"Zl3C6a"}},,function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(28),d=a.n(c),m=a(6),_=a(12),u=a.n(_),p=a(13),h=a(1725),g=a.n(h),E=a(1726),b=a.n(E),f=a(1412),C=a(1413),S=a(1438),y=a.n(S),T=a(0);a(9);const v=Object(m.defineMessages)({wideList:{id:"wide-list-preview-pane",defaultMessage:"List"},rightPane:{id:"right-preview-pane",defaultMessage:"Right"},bottomPane:{id:"bottom-preview-pane",defaultMessage:"Bottom"}}),I={NO:v.wideList,RIGHT:v.rightPane,BOTTOM:v.bottomPane},M=u()(y.a,{selected:!0});function A({previewPaneSetting:e,onChange:t,liteVersion:a},n){const s=n.intl.formatMessage,i=u()(y.a,{liteVersion:a}),r=Object.keys(T.ed).map(a=>{const n=e===T.ed[a],r=s(I[a]);return l.a.createElement("li",{key:a,className:i.previewPaneModeContainer},l.a.createElement("label",{htmlFor:"previewPane-mode-"+a},l.a.createElement("div",{className:i.previewPaneMode,title:r},l.a.createElement("div",{className:i.blockContainer},l.a.createElement("span",{className:i["previewPane"+a]}),l.a.createElement("span",{style:"BOTTOM"===a?{display:"none"}:{},className:i["previewPane"+a]}),l.a.createElement("span",{style:"BOTTOM"===a?{display:"none"}:{},className:i["previewPane"+a]}),l.a.createElement("span",{style:"NO"===a?{display:"none"}:{},className:i["previewPaneDark"+a]})))),l.a.createElement("div",{className:n?M.labelTextContainer:i.labelTextContainer},l.a.createElement("input",{id:"previewPane-mode-"+a,className:i.radioButton,type:"radio",name:"previewOption",checked:n,value:T.ed[a],onChange:t,title:r}),l.a.createElement("label",{className:i.label,htmlFor:"previewPane-mode-"+a,title:r},r)))});return l.a.createElement("div",{"data-test-id":"previewPane-mode-chooser"},l.a.createElement("ul",{className:i.previewPaneModeChooser},r))}A.contextTypes={intl:m.intlShape.isRequired};var N=A,k=a(1727),O=a.n(k);const D=Object(m.defineMessages)({slimDensity:{id:"slim-msg-density",defaultMessage:"Small"},regularDensity:{id:"regular-msg-density",defaultMessage:"Medium"},relaxedDensity:{id:"relaxed-msg-density",defaultMessage:"Large"}}),P={SLIM:D.slimDensity,NORMAL:D.regularDensity,RELAXED:D.relaxedDensity},R=u()(O.a,{selected:!0});function w({msgListDensity:e,onChange:t,liteVersion:a},n){const s=u()(O.a,{liteVersion:a}),i=n.intl.formatMessage,r=Object.keys(T.Ec).map(a=>{const n=e===T.Ec[a],r=i(P[a]);return l.a.createElement("li",{key:a,className:s.msgListDensityModeContainer},l.a.createElement("label",{htmlFor:"msgListDensity-mode-"+a},l.a.createElement("div",{className:s.msgListDensityMode,title:r},l.a.createElement("div",{className:s.blockContainer},l.a.createElement("span",{className:s["msgListDensity"+a]}),l.a.createElement("span",{style:"RELAXED"===a?{display:"none"}:{},className:s["msgListDensity"+a]}),l.a.createElement("span",{style:"NORMAL"===a||"RELAXED"===a?{display:"none"}:{},className:s["msgListDensity"+a]})))),l.a.createElement("div",{className:n?R.labelTextContainer:s.labelTextContainer},l.a.createElement("input",{id:"msgListDensity-mode-"+a,className:s.radioButton,type:"radio",name:"msgListDensity",checked:n,value:T.Ec[a],onChange:t,title:r}),l.a.createElement("label",{className:s.label,htmlFor:"msgListDensity-mode-"+a,title:r},r)))});return l.a.createElement("div",{"data-test-id":"msgListDensity-mode-chooser"},l.a.createElement("ul",{className:s.msgListDensityModeChooser},r))}w.contextTypes={intl:m.intlShape.isRequired};var F=w,x=a(5),L=a(16),B=a(477),j=a(17),U=a(4),H=a(69),W=a(486);const G=Object(m.defineMessages)({tabs:{id:"tabs_aria_label",defaultMessage:"Tabs"},snippets:{id:"snippets_aria_label",defaultMessage:"Message preview"},tabsLabel:{id:"tabs_label",defaultMessage:"Message tabs"},tabsHint:{id:"tabs_option",defaultMessage:"Turn on tabs to multitask"},restoreLabel:{id:"restore_label",defaultMessage:"Always restore tabs"},restoreHint:{id:"restore_option",defaultMessage:"Restore tabs from your previous session when you sign in to Mail on a different browser or device"},restoreWarning:{id:"restore_warning",defaultMessage:"This feature is available when you have message tabs enabled."},snippetsLabel:{id:"snippets_label",defaultMessage:"Message preview"},snippetsHint:{id:"snippet_hint",defaultMessage:"Show message preview in inbox"},breakingNewsLabel:{id:"breaking_news_label",defaultMessage:"Breaking News"},breakingNewsHint:{id:"breaking_news_hint",defaultMessage:"Show Breaking News module in inbox"}});class Z extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{expandButtonClicked:!1,expandButtonHovered:!1,themeSetting:this.context.getTheme(),themeModeSetting:this.context.getThemeMode()}),s()(this,"handleHoverState",e=>{this.setState({expandButtonHovered:e})}),s()(this,"handleClickToScroll",()=>{this.setState({expandButtonClicked:!0});const e=d.a.findDOMNode(this._settingsForm);this.props.handleClickToScroll(e)}),s()(this,"updateTheme",e=>{const t=this.props,a=t.liteVersion,n=t.updateTheme,s=e.currentTarget.value;if(s===this.state.themeSetting)return;const i={mKey:a?x.g.SETTINGS_POPUP_THEME:x.g.SETTINGS_THEME,sec:a?x.i.SETTINGS_POPUP:x.i.SETTINGS_INBOX_TAB,interactionType:Object(L.getInteractionFromEvent)(e)};a&&(window.showSettingsPopover=!0),this.setState({themeSetting:s},()=>{this.updateThemeVariableStyles(s,this.state.themeModeSetting),n(s,i)})}),s()(this,"updateThemeMode",e=>{const t=this.props,a=t.liteVersion,n=t.updateThemeMode,s=e.currentTarget.value;if(s===this.state.themeModeSetting)return;const i={mKey:a?x.g.SETTINGS_POPUP_THEME_MODE:x.g.SETTINGS_THEME_MODE,sec:a?x.i.SETTINGS_POPUP:x.i.SETTINGS_INBOX_TAB,interactionType:Object(L.getInteractionFromEvent)(e)};a&&(window.showSettingsPopover=!0),this.setState({themeModeSetting:s},()=>{this.updateThemeVariableStyles(this.state.themeSetting,s),n(s,i)})}),s()(this,"updatePreviewPane",e=>{const t=this.props,a=t.liteVersion,n=t.previewPaneSetting,s=t.updatePreviewPane,i=Number(e.currentTarget.value);if(i===n)return;s(i,{mKey:a?x.g.SETTINGS_POPUP_PREVIEW_PANE:x.g.SETTINGS_PREVIEW_PANE,sec:a?x.i.SETTINGS_POPUP:x.i.SETTINGS_INBOX_TAB,interactionType:Object(L.getInteractionFromEvent)(e)})}),s()(this,"updateMultiTaskMode",e=>{const t=this.props,a=t.liteVersion;(0,t.updateMultiTaskMode)(!t.multiTaskModeSetting,{mKey:a?x.g.SETTINGS_POPUP_TAB_SETTING:x.g.SETTINGS_TAB_SETTING,sec:a?x.i.SETTINGS_POPUP:x.i.SETTINGS_INBOX_TAB,interactionType:Object(L.getInteractionFromEvent)(e)})}),s()(this,"updateSnippets",e=>{const t=this.props,a=t.liteVersion;(0,t.updateSnippets)(!t.snippets,{mKey:a?x.g.SETTINGS_POPUP_SNIPPET:x.g.SETTINGS_SNIPPET,sec:a?x.i.SETTINGS_POPUP:x.i.SETTINGS_INBOX_TAB,interactionType:Object(L.getInteractionFromEvent)(e)})}),s()(this,"updateMessageListDensity",e=>{const t=this.props,a=t.liteVersion,n=t.msgListDensity,s=t.updateMessageListDensity,i=Number(e.currentTarget.value);if(i===n)return;s(i,{mKey:a?x.g.SETTINGS_POPUP_MSG_LIST_DENSITY:x.g.SETTINGS_MSG_LIST_DENSITY,sec:a?x.i.SETTINGS_POPUP:x.i.SETTINGS_INBOX_TAB,interactionType:Object(L.getInteractionFromEvent)(e)})}),s()(this,"updateBreakingNewsSettings",e=>{const t=this.props,a=t.breakingNewsSettings;(0,t.updateBreakingNewsSettings)(!a,{mKey:a?x.g.BREAKING_NEWS_DISABLED:x.g.BREAKING_NEWS_ENABLED,sec:x.i.BREAKING_NEWS,interactionType:Object(L.getInteractionFromEvent)(e)})})}componentWillUnmount(){clearInterval(this._scrollInterval)}updateThemeVariableStyles(e,t){document.getElementById("themer").innerHTML=Object(W.a)(e,t)}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.multiTaskModeSetting,n=t.previewPaneSetting,s=t.msgListDensity,i=t.snippets,r=t.liteVersion,o=t.hasScrolled,c=t.photoThemes,d=t.menuItemQuickAccessHeight,_=t.partnerBrand,p=t.breakingNews,h=t.breakingNewsSettings,E=this.state,S=E.themeSetting,y=E.themeModeSetting,T=E.expandButtonHovered,v=u()(g.a,{liteVersion:r}),I=u()(b.a,{smallBadge:r,hoveredOver:T}),M=d-40;return l.a.createElement("form",{ref:e=>this._settingsForm=e,className:v.form,onSubmit:e=>e.preventDefault()},l.a.createElement("ul",{className:v.menuList},l.a.createElement("li",null,l.a.createElement("p",{className:v.name},l.a.createElement(m.FormattedMessage,{id:"theme_label",defaultMessage:"Theme"})),l.a.createElement(f.a,{themeSetting:S,onChange:this.updateTheme,liteVersion:r,photoThemes:c,partnerBrand:_}),l.a.createElement(C.a,{themeSetting:S,themeModeSetting:y,onChange:this.updateThemeMode,liteVersion:r})),l.a.createElement("li",{className:v.previewOptions,"data-test-id":"preview-pane-options"},l.a.createElement("p",{className:v.name},l.a.createElement(m.FormattedMessage,{id:"layout_label",defaultMessage:"Message layout"})),r?null:l.a.createElement("span",{className:v.hint},l.a.createElement(m.FormattedMessage,{id:"layout_hint",defaultMessage:"Choose to show lists and messages side-by-side"})),l.a.createElement("div",{className:v.layoutOptions,"data-test-id":"preview-pane-options"},l.a.createElement(N,{onChange:this.updatePreviewPane,previewPaneSetting:n,liteVersion:r}))),l.a.createElement("li",{className:v.msgListDensityOptions},l.a.createElement("p",{className:v.name},l.a.createElement(m.FormattedMessage,{id:"msg_list_density_label",defaultMessage:"Inbox spacing"})),r?null:l.a.createElement("span",{className:v.hint},l.a.createElement(m.FormattedMessage,{id:"msg_list_density_hint",defaultMessage:"Choose a comfortable message list density"}))),!r||this.state.expandButtonClicked||o?null:l.a.createElement("div",{className:v.blurredContainer},l.a.createElement("div",{ref:e=>this._expandButtonContainer=e,className:v.expandButtonContainer,onMouseEnter:this.handleHoverState.bind(this,!0),onMouseLeave:this.handleHoverState.bind(this,!1),style:{top:M}},l.a.createElement("div",{className:v.expandButton},l.a.createElement("div",{className:I.badge},l.a.createElement("div",{className:I.pulse1}),l.a.createElement("div",{className:I.pulse2}),l.a.createElement("div",{className:I.orb,onClick:this.handleClickToScroll},l.a.createElement(j.b,{kind:U.Kinds.CHEVRON_UP,size:U.Sizes.XS,rotate:U.Rotate.D180,colorState:U.ColorStates.INVERTED})))))),l.a.createElement("li",{className:v.layoutOptions,"data-test-id":"message-list-density-options"},l.a.createElement(F,{msgListDensity:s,onChange:this.updateMessageListDensity,liteVersion:r})),l.a.createElement("li",{className:v.settingControl,"data-test-id":"multi-tasking-toggle"},l.a.createElement(B.a,{canToggle:!0,subHeader:!0,toggleEnabled:a,header:e(G.tabsLabel),hint:e(G.tabsHint),onToggle:this.updateMultiTaskMode})),r?null:l.a.createElement("li",{className:v.settingControl,"data-test-id":"snippets-toggle"},l.a.createElement(B.a,{canToggle:!0,subHeader:!0,toggleEnabled:i,header:e(G.snippetsLabel),hint:r?null:e(G.snippetsHint),onToggle:this.updateSnippets})),!r&&p?l.a.createElement("li",{className:v.settingControl,"data-test-id":"breaking-news-toggle"},l.a.createElement(B.a,{canToggle:!0,subHeader:!0,toggleEnabled:h,header:e(G.breakingNewsLabel),hint:e(G.breakingNewsHint),onToggle:this.updateBreakingNewsSettings})):null))}}s()(Z,"contextTypes",{intl:m.intlShape.isRequired,config:r.a.object,executeAction:r.a.func,navigateTo:r.a.func,getTheme:r.a.func,getThemeMode:r.a.func}),s()(Z,"defaultProps",{liteVersion:!1});t.a=Object(p.connect)(void 0,e=>({updateTheme:(t,a)=>e(Object(H.b)({name:T.Kd.THEME,value:t,runV3:!0,i13nModel:a})),updateThemeMode:(t,a)=>e(Object(H.b)({name:T.Kd.THEME_MODE,value:t,runV3:!0,i13nModel:a})),updatePreviewPane:(t,a)=>e(Object(H.b)({name:T.Kd.PREVIEW_PANE,value:t,runV3:!0,i13nModel:a})),updateMultiTaskMode:(t,a)=>e(Object(H.b)({name:T.Kd.MAIL_TABS,value:t,runV3:!0,i13nModel:a})),updateSnippets:(t,a)=>e(Object(H.b)({name:T.Kd.SNIPPETS,value:t,runV3:!0,i13nModel:a})),updateMessageListDensity:(t,a)=>e(Object(H.b)({name:T.Kd.MSG_LIST_DENSITY,value:t,runV3:!0,i13nModel:a})),updateBreakingNewsSettings:(t,a)=>e(Object(H.b)({name:T.Kd.BREAKING_NEWS_SETTINGS,value:t,runV3:!0,i13nModel:a}))}))(Z)},function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(1),s=a.n(n),i=a(485),r=a.n(i),o=a(6),l=a(3),c=a.n(l),d=a(7),m=a.n(d),_=a(1414),u=a(1490),p=a(29),h=a(204);const g=Object(o.defineMessages)({stationery_placeholder:{id:"stationery_placeholder",defaultMessage:"Start here ..."},msg_footer:{id:"msg_footer",defaultMessage:"{mailBrandNameString} Stationery"},clear_stationery:{id:"clear_stationery",defaultMessage:"Clear stationery"},clear_default:{id:"clear_default",defaultMessage:"Clear default"},vday_text:{id:"vday_text",defaultMessage:"Spread the love across your inboxes."},multi_mailbox_text:{id:"multi_mailbox_text",defaultMessage:"Connect and send a message from Gmail, Outlook, AOL, and more!"}});class E extends s.a.Component{constructor(...e){super(...e),c()(this,"createMarkup",()=>({__html:this.props.themeObj.messageText})),c()(this,"buildImageUrl",e=>{const t=this.props.themeObj;return e&&t.mobstorPath+t.themeVersion+"/"+t.uniqueThemeName+"/"+e}),c()(this,"isUnoTemplate",()=>"uno_template"===this.props.themeObj.templateName),c()(this,"_renderUnoTopTable",()=>{const e=this.props.themeObj,t=e.themeDisplayName,a=e.topImg_width,n=this.buildImageUrl(e.topImg_src);return s.a.createElement("table",{className:"yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:"100%"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("img",{alt:t,className:"top-img yahoo-ignore-inline-image resImage anim",src:n,width:a,style:{display:"block",border:0,margin:"0 auto"}})))))}),c()(this,"_renderMiddleTable",()=>{const e=this.context.intl.formatMessage,t=this.props.themeObj,a=t.mainContent_style,n=t.fontFamily,i=Object(_.b)(a);return s.a.createElement("table",{className:"yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:"100%"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"mainContent",width:"100%",style:i},s.a.createElement("div",{style:{fontFamily:n,marginBottom:0,marginTop:0}},s.a.createElement("div",{id:"middleBody","data-ph":e(g.stationery_placeholder),contentEditable:"true",dangerouslySetInnerHTML:this.createMarkup()}))))))}),c()(this,"_renderUnoBottomTable",()=>{const e=this.props.themeObj,t=e.themeDisplayName,a=e.bottomImg_width,n=this.buildImageUrl(e.bottomImg_src);return s.a.createElement("table",{className:"yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:"100%"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("img",{alt:t,className:"yahoo-ignore-inline-image resImage",src:n,width:a,style:{display:"block",border:0,margin:"0 auto"}})))))}),c()(this,"_renderBodyTable",()=>{const e=this.props.themeObj,t=e.themeDisplayName,a=e.clickgenre,n=e.template_width,i=e.background_color,r=e.wrapperTable_style,o=e.bannerTop_style,l=e.topImg_src,c=e.topImg_size,d=Object(_.b)(r),m=this.buildImageUrl(l);let u={};return o&&(u=Object(_.b)(o)),s.a.createElement("table",{className:"wrapper "+(this.isUnoTemplate()?"uno":"motif")+" yahoo-ignore-table","data-test-id":"stationery-wrapper",clickgenre:a,cellPadding:"0",cellSpacing:"0",width:n,style:Object.assign({backgroundColor:""+i,margin:"0 auto",maxWidth:"800px"},d)},s.a.createElement("tbody",null,s.a.createElement("tr",null,this.isUnoTemplate()?s.a.createElement("td",{className:"mobileBannerTop"},this._renderUnoTopTable()):s.a.createElement("td",{className:"bannerTop",width:"100%",style:u},s.a.createElement("img",{alt:t,className:"top-img yahoo-ignore-inline-image resImage anim",src:m,width:c,style:{display:"block",border:0,margin:"0 auto"}}))),s.a.createElement("tr",null,s.a.createElement("td",{style:{verticalAlign:"top"}},this._renderMiddleTable())),this.isUnoTemplate()&&s.a.createElement("tr",null,s.a.createElement("td",{className:"mobileBannerBottom",style:{verticalAlign:"bottom"}},this._renderUnoBottomTable()))))}),c()(this,"_renderFooterTable",()=>{const e=this.context.intl,t=e.formatMessage,a=e.locale,n=this.context.mailBrandNameString||t(h.a.mailBrandName),i="en"===Object(u.a)(a),r=this.props.themeObj,o=r.valentineDay,l=r.actionStyle,c=r.creditStyle,d=r.yahooStationery&&i;return s.a.createElement("table",{width:"100%",className:"bottomTable yahoo-ignore-table",style:{margin:"0 auto",maxWidth:"800px"}},s.a.createElement("tbody",null,s.a.createElement("tr",null,"Paperless Post"===r.themeProviderName&&s.a.createElement("td",{height:"40",className:"footer",style:c},s.a.createElement("a",{href:`https://www.paperlesspost.com/ystationery?utm_medium=referral&utm_source=yahoo_birdlogo&utm_campaign=birdlogo&pp_channel=yahoo&pp_theme=${r.uniqueThemeName}&lang=${r.senderLang}`,target:"_blank",rel:"noopener"},s.a.createElement("img",{src:"https://s.yimg.com/tq/stationery/150917194743/img/pp_logo.png",alt:"Paperless Post",className:"yahoo-ignore-inline-image",width:"57",height:"32",style:{cursor:"pointer !important"}}))),o&&s.a.createElement("td",{height:"40",className:"footer",style:c},s.a.createElement("div",{style:{fontSize:"13px",color:"#444"}},t(g.vday_text),s.a.createElement("br",null),s.a.createElement("a",{href:"https://overview.mail.yahoo.com/features/multiplemailboxes",style:{textDecoration:"none",cursor:"pointer"},rel:"noopener"},t(g.multi_mailbox_text)))),s.a.createElement("td",{height:"40",className:"footer",style:l},s.a.createElement("span",{className:"btn-clear btn-clear-stationery",title:t(g.clear_stationery)}),s.a.createElement("span",{className:"btn-clear btn-clear-divider btn-clear-default-divider"}),s.a.createElement("span",{className:"btn-clear btn-clear-default",title:t(g.clear_default)}),d&&s.a.createElement("span",{className:"btn-clear btn-clear-divider"}),d&&s.a.createElement("span",{className:"promotion-url"},s.a.createElement("a",{href:"https://overview.mail.yahoo.com/features/stationery",target:"_blank",className:p.HYPERLINK_PLUGIN_IGNORE_CLASS,style:{display:"block",lineHeight:"24px",fontSize:"12px",fontFamily:"Georgia, Timew New Roman, serif",fontStyle:"italic",color:"#999999"},rel:"noopener"},t(g.msg_footer,{mailBrandNameString:n}),s.a.createElement("span",{className:"ytrackb",style:{display:"block",width:1,height:1,background:'url("https://pclick.internal.yahoo.com/p/s=1197769629&t=qVvyLzQyVO")'}})))))))})}render(){return s.a.createElement("table",{className:"wrapper-hf yahoo-ignore-table",width:"100%"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,this._renderBodyTable())),s.a.createElement("tr",null,s.a.createElement("td",{height:"40"},this._renderFooterTable()))))}}c()(E,"contextTypes",{intl:o.intlShape.isRequired,mailBrandNameString:m.a.string});var b=E;var f=a(236),C=a(5);const S=`[class$="${f.a}"]`;class y{constructor(e){this.rte=e.rte,this.htmlAnnotations=e.htmlAnnotations,this.onThemeChange=e.onThemeChange,this.onDefaultThemeChange=e.onDefaultThemeChange,this.context=e.context,this.commands={[p.ToolbarActions.UPDATE_STATIONERY]:{action:(e,t)=>{this.update(t)},worksInNonEditable:!0}},this.stationeryUsed=!1,this.fontFamily=e.fontFamily,this.rtl=e.rtl,this.rte.element.addEventListener("click",this.handleRTEClick.bind(this))}static makeNonEditable(e){if(e.querySelector('[class*="rte-stationery-core"]')){const t=e.querySelector('[id$="middleBody"]');t.contentEditable=!1,t.setAttribute("contenteditable",!1)}}getStationeryMarkup(e,t){const a=this.context.intl.lang,n=t.isDefaultTheme?"showClearDefault":"",i=e.querySelector('[id$="middleBody"]')||e;return t.yahooStationery=!0,t.valentineDay=!1,t.clickgenre=t.clickgenre?t.clickgenre:"",t.actionStyle={textAlign:this.rtl?"left":"right",backgroundColor:"#ffffff"},t.creditStyle={textAlign:this.rtl?"right":"left",backgroundColor:"#ffffff"},t.senderLang=a,t.messageText=i.innerHTML,t.fontFamily=this.fontFamily,function(e,t){return`<div class="rte-stationery-core ${e}" contenteditable="false" >\x3c!--[if gte mso 9]><table class="yahoo-ignore-table" align="center" width="800" ><![endif]--\x3e`+r.a.renderToStaticMarkup(s.a.createElement(o.IntlProvider,window.AppIntl,s.a.createElement(b,{themeObj:t})))+'\x3c!--[if gte mso 9]></table><img src="https://pclick.internal.yahoo.com/p/s=1197769629&t=qVvyLzQyVO" width="1" height="1"/><![endif]--\x3e</div>'}(n,t)}update(e){e?this.applyTheme(e):this.clearStationery()}applyTheme(e){const t=this.rte.element,a=this.rte.getRawHTML(),n=Object(f.c)(a,this.htmlAnnotations),s=n.quote,i=n.nonQuote,r=document.createElement("div");r.innerHTML=i,this.rte.setHTML(`${this.getStationeryMarkup(r,e)} ${s}`),this.stationeryUsed=!0;const o=t.querySelector('[class*="rte-stationery-core"]'),l=t.querySelector(S);if(t.setAttribute("contenteditable",!1),t.contentEditable=!1,o){const e=t.querySelector('[id$="middleBody"]');e.setAttribute("contenteditable",!0),e.contentEditable=!0}l&&(l.setAttribute("contenteditable",!0),l.contentEditable=!0)}checkAndSetDraft(){const e=this.rte.element,t=e.querySelector('[class*="rte-stationery-core"]'),a=e.querySelector(S);if((!a||!a.contains(t))&&t){const t=e.querySelector('[id$="middleBody"]');t.contentEditable=!0,e.contentEditable=!1,t.setAttribute("contenteditable",!0),e.setAttribute("contenteditable",!1),this.stationeryUsed=!0,a&&(a.contentEditable=!0,a.setAttribute("contenteditable",!0))}}clearStationery(){const e=this.rte.element,t=e.querySelector('[id$="middleBody"]'),a=e.querySelector(S);if(!a||!a.contains(t)){if(t){const a=Object(f.c)(e.innerHTML,this.htmlAnnotations);this.rte.setHTML(t.innerHTML+a.quote),this.stationeryUsed=!1}e.contentEditable=!0,e.setAttribute("contenteditable",!0)}}isStationeryUsed(){return this.stationeryUsed}handleRTEClick(e){const t=e.target,a=this.rte.element.querySelector(S);if(a&&a.contains(t))return;if(t.className.indexOf("btn-clear-stationery")>-1)return this.clearStationery(),this.onThemeChange(""),void this.rte.contentChanged({type:p.EDITOR_EVENTS.stationery_cleared,eventData:{sec:C.i.COMPOSE_MSG}});if(t.className.indexOf("btn-clear-default")>-1)return this.clearStationery(),this.onDefaultThemeChange(""),void this.rte.contentChanged({type:p.EDITOR_EVENTS.default_stationery_cleared,eventData:{sec:C.i.COMPOSE_MSG}});const n=this.rte.element.querySelector('[class*="rte-stationery-core"]');if(n&&(n===t||n.contains(t))){n.querySelector('[id$="middleBody"]').focus()}}}},function(e,t,a){"use strict";e.exports={className:{default:{container:"ab_C D_F F_ZmdwxM M_jUMqK K_n",svgStyle:"H_7iGr E_fq7 W_7iGr",icon:"H_7iGr e_fq7",cardDetails:"A_6DUj F_Z2uTegI o_h N_6Eb4",cardDescription:"C_Z1VRpVF i_6FIA o_h G_e J_N",cardTitle:"u_b i_6DUj K_6UbO o_h C_Z281SGl",boldGray:"C_Z1VRpVF u_b"}},_key:"Z2nJYMW"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"M_1IUslH jb_6UbO m_6i8pv ix_AS",name:"u_b M_1HT1B4 i_6NIX",employment:"M_3Y3Gk i_6LEV u_b",section:"A_6EWk D_F ek_BB jb_fq7",otherSection:"A_6EWk jb_fq7",fieldName:"D_X W_dmf",type:"Q_fq7 A_6EqO O_cMq"}},_key:"1M97T1"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_R q_Z281SGl r_P e_dRA",stretchedBox:"ir_n M_0 P_0 b_0 H_6D6F W_6D6F p_a o_h"}},_key:"2a2gv"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_6D6F bn_dBP bj_ZpQYvz bm_FJ k_w D_F je_6MGW X_6MGW N_6LEV H_7bcz en_0 p_R",closeWrapper:"p_R B_fq7",categoryFilterContainer:"r_P I_ZnIF8Y e_dRA H_6D6F P_Zl3sKS U_fq7 D_F ab_C p_R B_fq7",categoryFilterHeader:"M_82XEY E_A y_Z2hYGcu A_6EqO W_3rui8 J_x G_e o_h",checkMark:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",channelTab:"W_3rv4o X_6LEV J_x G_e o_h"},isDarkTheme:{container:"bj_ajP3z"}},_key:"Z1DzDEa"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"H_6D6F D_F ek_BB I_52qC",contentContainer:"p_R iz_A H_1HKkit",syncImage:"W_3v9Wb H_3nH9d",syncMessage:"Y_6MGW C_Z1VRpVF",syncWaitMessage:"Y_eo6",videoContainer:"M_1EAG48 D_B W_3DVPV H_3rRhf cZ1YE9Aj_3HK1R cZ1YE9Ay_3vNsy",header:"t_C A_6FsP C_Z281SGl Y_6MGW U_6LEV I_52qC",subHeader:"A_6EqO C_Z1VRpVF W_3vVYr Q_A E_A Y_eTB"},videoHidden:{subHeader:"C_Z2aVTcY C4_Z29WjXl r4_P",header:"Y_7sfl H_1HKkit"},aolVideoPlayer:{videoContainer:"W_3HK1R H_3vNsy cZ1YE9Aj_3HK1R cZ1YE9Ay_3vNsy"},isDarkTheme:{container:"I_T",header:"I_T C_ZpQYvz",subHeader:"C_ZvsWfq"}},_key:"27FjRi"}},,,function(e,t,a){"use strict";e.exports={className:{default:{container:"P_ZVJJuR M_0 o_h a_3s8Nv",header:"D_F gl_FM i_6LEV W_3rSz1",headerText:"A_6EqO u_b P_Z1yLCgE",close:"p_a R_eo6 T_eo6",body:"A_6Eb4 P_Z1yLCgE C_Z1YRXYn",coloredBar:"W_fq7 p_a L_0 T_0 B_0"},ATT:{coloredBar:"I_Z2dxrGx"},FRONTIER:{coloredBar:"I_Z1A0QhA"},ROGERS:{coloredBar:"I_Z21W7Hh"},BT:{coloredBar:"I_Z20SNAa"},SKY:{coloredBar:"I_Z2dycH0"},DEFAULT:{coloredBar:"I_Z2aVTcY"},SUNRISE:{coloredBar:"I_ZmlXUP"},AQUA_GREEN:{coloredBar:"I_Z1UHURv"},AQUA_BLUE:{coloredBar:"I_Z280Xf5"},DEEP_PURPLE:{coloredBar:"I_Zwa5YI"},BLUE_NIGHT:{coloredBar:"I_Z21zYBA"},DARK_GREY:{coloredBar:"I_Z21W7Hh"},NIGHT_LANDSCAPE:{coloredBar:"I_Z1UEcsX"},ROADTRIP:{coloredBar:"I_ZrkPvI"},SUNSET_AUSSIE:{coloredBar:"I_ZmlXUP"},LIGHTHOUSE:{coloredBar:"I_Z1VDTK1"}},_key:"BLJGB"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"P_Zx4FOE M_0 o_h D_F",animation:"aw_20RxiB az_DW ba_BE H_73cc N_0 E_eo6 Y_68F4 W_73HH",header:"W_3rui8",headerText:"A_6EqO u_b i_6FIA",bodyText:"A_6Eb4 P_Z2rzEzV C_Z1YRXYn i_6FIA",close:"p_a R_0 T_0"}},_key:"ZWzY6E"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3A1b8 q_52qC D_F ek_BB eo_x ab_C e_eo6 p_f T_fq7 R_fq7",close:"ac_CH H_6EqO W_6Eb4 h_Z1kaEH9",heading:"y_Z2hYGcu A_6EWk i_6Mbr W_3vxrN ab_C u_e69 t_C U_6Fd5",subHeadingText:"D_B",description:"y_Z2hYGcu A_6EqO i_6FIA W_3vGuc C_Z1YRXYn t_CY U_6LEV",headerSection:"D_F gl_C ek_BB Y_6Eb4 U_fq7",feedbackContainer:"U_6MGW t_C",feedbackLink:"C_Z2aVTcY",upsellOptionLink:"C_Z2aVTcY u_b r_P",adblockUpsellBtnContainer:"U_6LEV",adblockersContainer:"H_6LEV Y_eo6"},pageTwoUi:{description:"W_3w5L5 U_eo6",adblockUpsellBtnContainer:"D_F U_6MGW",allowlistStepContainer:"D_F U_6Fd5",stepCountContainer:"y_Z2hYGcu A_6EqO C_Z281SGl t_C u_b J_x",stepDetailContainer:"W_3vpHb Q_6Eb4 y_Z2hYGcu A_6EqO C_Z1YRXYn t_CY i_6FIA",boldText:"u_b C_Z281SGl",footerText:"U_6LEV y_Z2hYGcu A_6EqO C_Z1YRXYn t_C i_6FIA"},centerDescriptionText:{description:"t_C"}},_key:"Z1TVNTu"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_R I_52qC e_eo6",close:"H_6EqO W_6Eb4 h_Z1kaEH9 p_a T_0 R_0 Z_N",imageWrapper:"D_F gl_C",imageBackground:"D_F W_3vqYW gl_C",thinkingEmoji:"H_7yHc",thankYouContainer:"D_F ab_C I_52qC ek_BB W_3zmEK e_dRA",thankYouHeaderContainer:"ab_C t_C je_6LEV jb_7bcz",thankYouImage:"Y_72FG",thankYouHeader:"A_6EWk u_b",thankYouSubHeader:"A_6Eb4 je_eo6",adContainer:"D_F H_7iGr A_6Eb4 gl_FM",adDetails:"D_F",adImage:"D_F ab_C M_1Eu7sD",adDescription:"D_F ek_BB gl_C a_3A1b8 o_h",cta:"b_n C_52qC P_1JNv2M M_1e3IG8 I_ZamTeg e_dRA D_F ab_C",adIcon:"A_6DEy I_ZxFlP3 u_b b_0 r_P Q_fq7 P_3gIgH C_52qC",adSource:"u_b",adHeadline:"C_ZxFlP3"}},_key:"Z2o37rS"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3A1b8 q_52qC D_F ek_BB eo_x ab_C e_eo6 p_f T_fq7 R_fq7 P_1Eu7sD",heading:"y_Z2hYGcu A_6FsP i_N W_3zBDu ab_C u_e69 t_C U_fq7",subHeadingText:"D_B",description:"D_F ek_BB y_Z2hYGcu A_6EqO i_6CC0 W_3vX1s C_Z1YRXYn t_C U_6LEV",headerSection:"Y_6Eb4 U_6Eb4",feedbackContainer:"U_6MGW t_C",feedbackLink:"C_Z2aVTcY",upsellOptionLink:"C_Z2aVTcY u_b r_P C3_Z2dyg2z",unblockStepContainer:"D_F U_eTB",btnContainer:"U_6LEV D_F ek_BB a_3vX1s",optionButton:"s_3n93F P_1Eu7sD",primaryButton:"D_B t_C A_6EqO i_N u_e69 k_w cg_n e_dRA lv_ZSMsbO ir_n p_R s_3n93F P_ZXLiDn U_1D0AJn I_Z2aVTcY C_52qC I0_Z2dyg2z I3_Z2dyg2z I4_Z2bdAhD l4_Z2bdIi1",secondaryButton:"D_B t_C A_6EqO i_N u_e69 k_w cg_FJ e_dRA lv_ZSMsbO ir_n p_R s_3n93F P_Z1E2Rbv Y_6Eb4 cn_dBP I_52qC C_Z2aVTcY l_Z2aVTcY I4_52qC C4_Z2dyg2z l4_Z2dyg2z I3_ZpQYvz C3_Z2dyg2z l3_Z2dyg2z",footerContainer:"D_F ek_EZ ab_CI a_3vX1s U_6MGW",footerLink:"u_e69 C3_Z2dyg2z",refreshLink:"A_6EqO Q_6Fd5 u_e69 r_P i_N t_C C_Z2aVTcY",backBtn:"A_6EqO U_6Fd5 i_N t_C u_e69 C_Z2aVTcY r_P"},pageTwoUi:{description:"W_3w5L5 U_6DEy",adblockUpsellBtnContainer:"U_6MGW",unblockStepContainer:"U_eTB",stepCountContainer:"y_Z2hYGcu A_6EqO C_Z281SGl t_C u_b J_x",stepDetailContainer:"W_3vpHb Q_6Fd5 y_Z2hYGcu A_6EqO C_Z1YRXYn t_l i_6FIA",adblockersContainer:"H_6LEV Y_eo6",boldText:"u_b C_Z281SGl",footerContainer:"ek_BB ab_C U_6Eb4",footerText:"y_Z2hYGcu A_6EqO C_Z1YRXYn t_C i_6FIA"},renderConfirmation:{headerSection:"Y_6NIX U_6Fd5",description:"U_6Fd5",btnContainer:"U_6UbO"}},_key:"Z1a3P8O"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3zLco q_52qC D_F ek_BB eo_x ab_C e_eo6 p_f T_fq7 R_fq7 P_1Eu7sD",close:"ac_CH W_6Eb4 h_Z18Axbm",closeButton:"ir3_Z1GFDCA",textContainer:"D_F ek_BB ab_C a_3vX1s",heading:"y_Z2hYGcu A_6FsP ab_C u_e69 gp_1Fqk81 J_x i_6CCo t_C U_fq7",description:"D_F ek_BB y_Z2hYGcu A_6EqO i_6CC0 W_3vX1s C_Z1YRXYn t_CY U_6MGW",headerSection:"M_27me0J",upsellOptionLink:"C_Z2aVTcY u_b r_P C3_Z2dyg2z",unblockStepContainer:"D_F U_fq7",btnContainer:"U_6MGW D_F ek_BB a_3vX1s",optionButton:"s_3n93F P_1Eu7sD",primaryButton:"D_B t_C A_6EqO i_N u_e69 k_w cg_n e_dRA lv_ZSMsbO ir_n p_R s_3n93F P_ZXLiDn U_1D0AJn I_Z2aVTcY C_52qC I0_Z2dyg2z I3_Z2dyg2z I4_Z2bdAhD l4_Z2bdIi1",secondaryButton:"D_B t_C A_6EqO i_N u_e69 k_w cg_FJ e_dRA lv_ZSMsbO ir_n p_R s_3n93F P_Z1E2Rbv Y_6Eb4 cn_dBP I_52qC C_Z2aVTcY l_Z2aVTcY I4_52qC C4_Z2dyg2z l4_Z2dyg2z I3_ZpQYvz C3_Z2dyg2z l3_Z2dyg2z",footerContainer:"D_F a_3vX1s U_6MGW ek_BB ab_C",footerLink:"u_e69 C3_Z2dyg2z",backBtn:"A_6EqO U_6Fd5 i_N t_C u_e69 C_Z2aVTcY r_P"},pageTwoUi:{heading:"U_6Fd5",headerSection:"M_11xg5I",description:"W_3w5L5 U_6DEy",adblockUpsellBtnContainer:"U_6MGW",unblockStepContainer:"U_eTB",stepCountContainer:"y_Z2hYGcu A_6EqO C_Z281SGl t_C u_e69 J_x",stepDetailContainer:"W_3vpHb M_knLz8 y_Z2hYGcu A_6EqO C_Z1YRXYn t_l i_6FIA",adblockersContainer:"H_6LEV M_Z26Rg9S",adblockChrome:"u_b",chromeExtIcon:"X_dRA H_6Fd5",boldText:"u_b C_Z281SGl",footerText:"y_Z2hYGcu A_6EqO C_Z1YRXYn t_C i_6FIA"}},_key:"lPheN"}},function(e,t,a){"use strict";e.exports={className:{default:{countdownContainer:"D_F ek_BB t_C p_R",heading:"u_e69 M_11xoBB C_Z1YRXYn",countdownArc:"p_a T_0 L_370NN cZ13pKbK_ZkiIcp cZ1XO2Ji_diW m_0 cdPFi_n",countdownSecond:"u_b A_6MGW C_Z1YRXYn",countdownText:"u_b A_6DUj C_Z1YRXYn U_6TFj"}},_key:"Z2bbWHH"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"Z_7G9R I_52qC j_nWwhY W_3zTIh H_A p_a B_7ceA L_6Fd5 D_F",imageContainer:"W_3qYiD I_Z21a4NC D_F ek_BB gl_C H_3o6al",closeWrapper:"p_a T_dm5 R_dm5 E_dm5 Y_dm5",content:"D_F ek_BB U_6LEV Q_6LEV Y_6Fd5 E_dm5 a_3rKiS",mainBody:"D_F ab_CI ek_BB",heading:"i_1HuzId A_6FsP u_e69 C_Z281SGl U_dm5 Y_dm5 t_l W_3qWeB",bodyTextContainer:"A_6EqO i_1HuzId C_Z281SGl U_dm5 Y_eo6 t_l W_3r5eY",ctaButtonContainer:"M_Zl8xDy d_6NIX A_6EqO W_3rdfm D_F ek_EZ",maybeLaterText:"Q_6Fd5"}},_key:"2dgaTY"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC W_6D6F D_F ek_BB gl_C p_f B_69H5 L_0 R_0 H_3vasG",close:"p_a T_6Fd5 R_6Fd5",separator:"q_5ooIw ba_93CzH W_6D6F H_eTB",content:"q_l76Em C_Z281SGl H_3v3uk W_6D6F",heading:"P_Z2wNDYJ A_6LEV u_e69 i_6MGW D_F gl_C",description:"D_F gl_C C_Z1VRpVF A_6Fd5 u_dPo i_6LEV",settingCover:"D_F gl_C",settings:"P_0 W_3vzvP",buttonContainer:"u_b D_F gl_C W_6D6F p_a B_6NIX"},animated:{container:"ah_1GGYdE"}},_key:"1LVkUV"}},function(e,t,a){"use strict";e.exports={className:{default:{themeChooser:"hd_n P_0 D_F ab_C eo_HB M_1VPfch",themeDotContainer:"A_0 b_tw30f e_6D6F H_6UbO P_e8l U_6Eb4 E_eTB",themeDot:"D_X W_6UbO H_6UbO e_6D6F r_P ba_BH ay_C cZPx57W_l",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"},selected_true:{themeDotContainer:"E_3qHvC cZ1UAA4J_eTB b_Z1dQEKn"},selected_false:{themeDotContainer:"b_Z1dQEKn"},liteVersion:{themeChooser:"M_Z1eDWt9 W_A",themeDotContainer:"E_3qHvC cZ1UAA4J_eTB"},cueMode:{themeChooser:"hd_n P_0 D_F ab_C eo_x M_829jJ",themeDotContainer:"H_6VJl",themeDot:"W_6VJl H_6VJl"}},_key:"Z1Y5uPm"}},function(e,t,a){"use strict";e.exports={className:{default:{themeModeChooser:"hd_n P_1Bs8Qs D_F gl_FM M_Z27rj8q W_3rRhf",themeModeBorderedContainer:"A_0 b_Z1dQEKn e_eo6 P_e8l",themeMode:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_4ssuT ab_CH gl_C r_P ay_C",themeModeLIGHT:"I_52qC D_X z_Z1a7UWG H_6VdP W_6D6F",themeModeMEDIUM:"I_52qC D_X z_Z1a7UWG H_6VdP W_73HH n_Z1a7UWG x_Z1a7UWG",themeModeDARK:"O_0",cueLabelTextContainer:"D_F gl_C ab_C Y_eo6 i_6FIA",labelTextContainer:"D_F gl_C ab_C Y_6DEy i_6FIA a_7sKQ",radioButton:"M_Z1oluSy W_6FIA H_6FIA r_P D_F ac_FO",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",label:"r_P a_7ceA G_e o_h"},liteVersion:{themeModeChooser:"M_Z26RiTK W_A"},selected:{labelTextContainer:"u_e69",cueLabelTextContainer:"u_e69 Y_dBP"},cueMode:{themeModeChooser:"P_0 U_6Fd5",themeModeContainer:"A_0 b_tw30f e_eo6 P_e8l",chooser:"Y_68F4",label:"a_n"},theme_ATT:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_ZvJQac ab_CH gl_C r_P ay_CS ba_BH"},theme_FRONTIER:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z21mNgp ab_CH gl_C r_P ay_CS ba_BH"},theme_ROGERS:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_cqhYR ab_CH gl_C r_P ay_CS ba_BH"},theme_BT:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_fyCuS ab_CH gl_C r_P ay_CS ba_BH"},theme_SKY:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_2i3i9C ab_CH gl_C r_P ay_CS ba_BH"},theme_DEFAULT:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z1oGKIG ab_CH gl_C r_P ay_CS ba_BH"},theme_SUNRISE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_j5A3N ab_CH gl_C r_P ay_CS ba_BH"},theme_AQUA_GREEN:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z1TaR3H ab_CH gl_C r_P ay_CS ba_BH"},theme_AQUA_BLUE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_lYTmB ab_CH gl_C r_P ay_CS ba_BH"},theme_DEEP_PURPLE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z2r9M2j ab_CH gl_C r_P ay_CS ba_BH"},theme_BLUE_NIGHT:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_ZhWBiv ab_CH gl_C r_P ay_CS ba_BH"},theme_DARK_GREY:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_cqhYR ab_CH gl_C r_P ay_CS ba_BH"},theme_NIGHT_LANDSCAPE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z1wLEpd ab_CH gl_C r_P ay_CS ba_BH"},theme_ROADTRIP:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z1DvGqD ab_CH gl_C r_P ay_CS ba_BH"},theme_SUNSET_AUSSIE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_1bjVkK ab_CH gl_C r_P ay_l ba_Z2qIBs0"},theme_LIGHTHOUSE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_4GXi2 ab_CH gl_C r_P ay_CS ba_BH"}},_key:"erlUj"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_a B_fq7 Z_7G9R W_3v9qF H_3s2lE q_Z1ryveK D_F ek_BB eo_x e_eo6 j_1doAr4",imageContainer:"t_C je_6MGW",contentWrapper:"N_6MGW X_6MGW t_C C_Z2aa5On",closeWrapper:"p_a T_eTB R_eTB W_6MGW H_6MGW",heading:"je_6DEy A_6FsP u_b i_6Mbr",description:"je_6LEV A_6EqO i_6FIA X_6DEy N_6DEy",skipBtn:"r_P A_6EqO i_6FIA M_Z1MRgHD"}},_key:"KkUBu"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3Lic3 d_3zDHw D_F ek_BB eo_x ab_C e_eo6 p_R",header:"q_ZR1uyF e_C04i4",close:"ac_CH H_dm5 W_dm5 h_Z1kaEH9",content:"q_l76Em C_Z281SGl H_3zREf W_6D6F",pageControlWrapper:"D_F ab_C gl_C B_6Fd5 p_a W_d3W Q_dRK"}},_key:"24XBsx"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F"}},_key:"Z1NP9TF"}},function(e,t,a){"use strict";e.exports={className:{default:{settings:"P_0 W_3vzvP",settingCover:"M_1WjdEk D_F gl_C",buttonContainer:"u_b D_F gl_C W_6D6F",heading:"P_Z2ifgzF A_6FsP u_e69 i_6MGW D_F gl_C",description:"D_F gl_C C_Z1VRpVF A_6EWk u_dPo i_6LEV",doneButton:"H_73HH W_3rdfm A_6EWk M_Z1CikVl"}},_key:"Z1Qx3be"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F",heading:"P_Z2ifgzF A_6FsP u_e69 i_6MGW D_F gl_C",message:"P_Zjgzuf A_6EWk u_e69 i_6MGW D_F gl_C",doneButton:"P_0 W_djH Q_dPd",prevBtn:"r_P A_6EqO C_Z2aW2JT i_6MGW B_6Fd5 D_F Q_d6u p_a"}},_key:"Z2t06CU"}},function(e,t,a){"use strict";e.exports={className:{default:{heading:"P_Z2ifgzF A_6LEV u_e69 i_6MGW D_F gl_C",description:"D_F gl_C C_Z1VRpVF A_6Fd5 u_dPo i_6LEV",accountList:"P_0 D_F ab_C hd_n ek_BB",listItem:"em_N D_F r_P Y_6Eb4 gl_C b_ylyiC e_74JI W_3rtg7 q4_1I4yPF",skipBtn:"r_P A_6EqO C_Z2aW2JT i_6MGW B_6Fd5 D_F Q_eRe p_a",prevBtn:"r_P A_6EqO C_Z2aW2JT i_6MGW B_6Fd5 D_F Q_d6u p_a"}},_key:"ZUY8v3"}},function(e,t,a){"use strict";e.exports={className:{default:{accountList:"M_0 P_0 D_F hd_n ek_BB",listItem:"em_N D_F r_P gl_C m_Z12nDQf q4_1I4yPF",listItemOther:"em_N D_F P_Z1um1qI gl_C m_Z12nDQf r_P q4_1I4yPF",label:"A_6EWk M_27msYt i_6LEV C_Z281SGl u_dPo",cancelButton:"H_6TFj M_Z2ht1qD i_N"},inNewUserTasksCue:{heading:"P_Z2ifgzF A_6LEV u_e69 i_6MGW D_F gl_C",description:"D_F gl_C C_Z1VRpVF A_6Fd5 u_dPo i_6LEV",accountList:"P_0 D_F ab_C hd_n ek_BB",listItem:"em_N D_F r_P Y_6Eb4 gl_C b_ylyiC e_74JI W_3rtg7 q4_1I4yPF"}},_key:"2mnHmC"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F a_3He0m ek_BB ab_C",syncEmail:"j_Z26Owcm e_eDQ W_eog H_73HH A_6EqO p_R",emailText:"D_X A_6FsP P_6Eb4 W_eTL",titleLabel:"A_6EWk M_27msYt u_90sc ab_C i_6LEV D_X V_FV",confirmButton:"r_P D_X H_6TFj Y_7yHc q_Z2aVTcY W_3mS2U e_dRA k_w en_0 V_M s_7yHc cZ1RN91d_n y_Z2hYGcu A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl",label:"u_b U_7yHc i_6TFj A_6FsP"},isSyncing:{confirmButton:"O_cMq r_A cZW7ROP_n"},newUserTasksCue:{container:"M_Z180kBu"}},_key:"ZU1CNh"}},function(e,t,a){"use strict";e.exports={className:{default:{lastPassContainer:"p_a B_7ceA L_6Fd5 Z_7G9R I_52qC j_nWwhY H_A",lastPassContent:"D_F M_2rcPMa",lastPassTextContainer:"D_F ek_BB gl_FL",ctaButton:"M_Z68uBJ W_3nx4N",headerText:"i_6MGW A_6MGW u_e69 C_Z281SGl",subHeaderText:"i_6MGW A_6FsP u_N C_Z281SGl Y_eo6",bodyTextContainer:"A_6EqO i_6FIA C_Z1YRXYn W_3vNsy M_ZuD6o1",purpleHeader:"I_Z21a4NC H_6W06 D_F gl_FM X_6EGz",logo:"ac_C W_7sKQ",closeWrapper:"D_F ab_C E_eTB",image:"W_3n2AO H_7IvQ"},noImage:{lastPassTextContainer:"gl_FM",textContainer:"D_B",headerText:"u_N"}},_key:"25BsvO"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3M7y6 e_eo6 q_52qC D_F ek_BB p_R",cueImg:"W_6D6F H_3r61f",containerText:"P_72FG t_C",containerTitle:"D_F ek_BB gl_C A_6MGW u_b U_6Eb4 i_6MGW",titleText:"U_eo6",containerDescription:"U_6MGW A_6FsP i_6LEV",ctaButton:"H_73HH A_6FsP u_b",close:"r_P p_a R_0 Y_6Fd5 E_6Fd5 cdPFi_2sqbRh cdPFi4_52qC"}},_key:"Z2oKew4"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"Z_7G9R I_52qC j_nWwhY H_A",content:"D_F ek_BB Y_6UbO E_72FG Q_72FG a_3HK1R",purpleHeader:"I_Z21a4NC H_7yHc D_F X_6NIX",headerImagesContainer:"D_F W_6D6F ek_BB gl_C",closeWrapper:"T_dm5 R_dm5 cdPFi4_52qC cdPFi3_52qC cdPFi0_52qC",logo:"ac_C s_3rdfm Y_dm5 Q_A E_A U_6MGW U21_dm5 U8_dm5",ctaButton:"Y_fq7 U_6Eb4 s_3nx4N d_73HH A_6FsP",mainBody:"D_F ab_C ek_BB",bodyTextContainer:"A_6FsP i_1HuzId C_Z281SGl Y_fq7 t_C U_6MGW",unsubscribeText:"C_Z1VRpVF r_P",unsubscribeWrapper:"D_F gl_CH U_6MGW Y_6Eb4",heading:"i_3mCHE A_6TFj u_e69 C_Z281SGl t_C Y_6Eb4 U_dm5",tipSection:"C_Z1WGv5u D_F ab_C H_6MGW",tipImage:"W_6LEV E_fq7",tipText:"M_dm5"},nortonT2Style:{purpleHeader:"I_ZnIF8Y",tipSection:"C_Z281SGl",ctaButton:"I_Z1rHbPF l_Z1rHbPF C_Z281SGl I4_Z1sAk1g l4_Z1sAk1g I3_Z1sAk1g l3_Z1sAk1g I0_Z1sAk1g l0_Z1sAk1g",unsubscribeText:"C4_Z281SGl C3_Z281SGl C0_Z281SGl",closeWrapper:"cdPFi4_Z281SGl cdPFi3_Z281SGl cdPFi0_Z281SGl"},lastpassT2Style:{tipSection:"H_A",tipImage:"W_A E_dm5"},bigPurpleHeader:{purpleHeader:"d_3rehn K_3v1qi H_A",logo:"s_3n13i H8_7IvQ H6_6UbO"},smallOverlayStyle:{container:"D_F p_a B_7ceA L_6Fd5",content:"Q_6LEV E_dm5 Y_eo6 a_3qYiD",purpleHeader:"H_A X_dm5 W_3n2AO",mainBody:"ab_CI",closeWrapper:"cdPFi4_Z281SGl cdPFi3_Z281SGl cdPFi0_Z281SGl",unsubscribeWrapper:"gl_CI U_6LEV",bodyTextContainer:"t_l A_6EqO U_6LEV Y_eo6",heading:"A_6FsP",ctaButton:"s_3mS2U d_6NIX A_6EqO",logo:"s_7He5"}},_key:"NprS1"}},function(e,t,a){"use strict";e.exports={className:{default:{closeWrapper:"D_F cdPFi4_52qC cdPFi3_52qC cdPFi0_52qC",container:"Z_7G9R D_F p_a B_7ceA L_6Fd5 I_52qC ek_BB H_A j_nWwhY a_3vPwA e_dRA o_h",purpleHeader:"I_Z21a4NC gl_FM D_F H_72FG ab_C",logo:"Q_6Fd5 H_6LEV",content:"D_F ek_BB M_Z1fdKHk",heading:"i_6MGW A_6MGW u_e69 C_Z281SGl U_dm5 Y_dm5",bodyTextContainer:"A_6EWk i_6FIA C_Z281SGl Y_eo6",ctaButton:"s_3mS2U d_6NIX A_6EqO a_3nr8s"}},_key:"M8CX"}},function(e,t,a){"use strict";e.exports={className:{default:{superscript:"V_GI A_6DUj i_6Fd5"}},_key:"1a2cph"}},function(e,t,a){"use strict";e.exports={className:{default:{cueContainer:"W_3LycN e_eo6 q_52qC p_R",close:"r_P p_a R_0 Y_6DEy E_6DEy cdPFi_Z1VRpVF cdPFi4_Z281SGl",endTrialImg:"K_3mTQc H_3mTQc Y_6DEy",mailproLogo:"K_6VdP H_6VdP",imgContainer:"D_F ek_BC ab_C I_Z21a4NC W_3LycN H_3r61f e_C04i4",upsellContainer:"D_F K_3zmEK d_3rRhf H_3zmEK ek_BB t_C gl_FL",titlesContainer:"D_F ek_BB ab_C i_6CCo Y_6LEV",title:"A_6TFj u_b",subTitle:"A_6FsP a_3HK1R",iconsContainer:"D_F ek_EZ gl_FL M_1Ev1YL",container:"W_7Ig6 D_F ek_BB ab_C",iconBackground_noAds:"W_7Ig6 H_7Ig6 e_e5X I_ZnIF8Y D_F gl_C ab_C cdPFi_Z1YJKic C_Z1YJKic",iconBackground_numberOne:"W_7Ig6 H_7Ig6 e_e5X I_ZnIF8Y D_F gl_C ab_C cdPFi_ZqHIlk C_ZqHIlk",iconBackground_stopWatch:"W_7Ig6 H_7Ig6 e_e5X I_ZnIF8Y D_F gl_C ab_C cdPFi_ZkissS C_ZkissS",text:"W_3na5G A_6EWk u_e69 C_Z1VRpVF Y_fq7",buttonsContainer:"D_F ek_BB W_CD gl_CH ac_C d_3mU6W U_eDQ",ctaButton:"H_73HH W_CD s_3nxQ4 A_6EWk u_e69 ac_C",dismissButton:"H_73HH W_CD s_3nxQ4 A_6EWk u_e69 ac_C",loadingIndicator:"H_7jIs D_F ab_C gl_C k_w je_6LEV",errorMessageContainer:"D_F ek_EZ ab_C gl_C A_6EqO u_e69"},endSubLightbox:{upsellContainer:"H_3rRhf",titlesContainer:"Y_6TFj",subTitle:"Y_fq7",buttonsContainer:"d_82XEY",ctaButton:"s_3rRhf",dismissButton:"s_3rRhf u_N",close:"cdPFi_2sqbRh cdPFi4_52qC"},hideNotNowButton:{dismissButton:"v_h"}},_key:"Z2lp9qp"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"Z_7G9R I_52qC j_nWwhY H_A",content:"D_F ek_BB Y_6UbO E_72FG Q_72FG a_3HK1R",purpleHeader:"I_Z21a4NC H_7yHc D_F X_72FG",headerImagesContainer:"D_F W_6D6F ek_BB gl_C",closeWrapper:"T_dm5 R_dm5 Y_6Eb4 E_6Eb4 cdPFi4_52qC cdPFi3_52qC cdPFi0_52qC",logo:"ac_C W_A H_6UbO d_6LEV K_7bcz Y_dm5 Q_A E_A",ctaButton:"M_Z11ruSl s_3nx4N d_73HH A_6FsP",mainBody:"D_F ab_C ek_BB",bodyTextContainer:"A_6FsP i_1HuzId C_Z281SGl Y_fq7 t_C U_dm5",unsubscribeText:"C_Z1VRpVF r_P i_6FIA",unsubscribeWrapper:"D_F gl_CH U_6MGW Y_6Eb4",heading:"i_3mCHE A_6TFj u_b C_Z281SGl t_C U_dm5 Y_dm5",tipSection:"C_Z1WGv5u D_F ab_C U_6Eb4",tipImage:"W_6LEV H_6LEV E_fq7",tipText:"M_dm5"},bigPurpleHeader:{purpleHeader:"d_3nV5V K_3v1qi H_A",logo:"K_7ceA U_6MGW U22_6UbO Y7_72FG",offerImage:"H_3n93F d_7iGr K_3nV5V U_6UbO"},Overlay:{container:"p_a B_7ceA L_6Fd5",mainBody:"ab_CI",unsubscribeWrapper:"gl_CI U_dm5",heading:"A_6FsP t_l",bodyTextContainer:"A_6EqO t_l Y_eo6",ctaButton:"s_3mS2U d_6NIX A_6EqO Y_6LEV",purpleHeader:"H_A",closeWrapper:"E_dm5 Y_dm5",content:"U_6LEV Q_6LEV E_6LEV Y_6Fd5"},sideHeader:{container:"D_F",content:"E_dm5 a_3qYiD",purpleHeader:"X_dm5 W_3n2AO",closeWrapper:"cdPFi4_Z281SGl cdPFi3_Z281SGl cdPFi0_Z281SGl",logo:"a_7He5 H_A d_A K_A",offerImage:"W_6D6F H_A a_A",heading:"u_e69"},backgroundImage:{container:"W_3HK1R H_A I_Z21a4NC gl_CH ek_EZ D_F az_DW ba_BH ay_Z2lPpl",purpleHeader:"gl_CH W_3v1qi H_6D6F ek_BB X_dm5 I_T",mainBody:"ab_CI",logo:"Y_dm5 a_3rJgR iy_h iz_h ac_A U_6MGW",headerImagesContainer:"E_6LEV W_A ac_CI",content:"Y_dm5 E_72FG Q_dm5 a_6D6F",bodyTextContainer:"t_A C_52qC",heading:"t_A C_52qC i_6VdP",unsubscribeWrapper:"U_6LEV Y_6LEV",ctaButton:"M_2otkLI s_3nx4N d_73HH A_6EWk P_Z12qtVR",closeWrapper:"D_F gl_CH",unsubscribeText:"C_ZvsWfq C4_52qC C3_52qC C0_52qC"},fallback:{container:"s_3s0hC d_3nF5b a_3HK1R K_3zBDu iy_h iz_h D_F az_DW ba_BH ay_Z2lPpl gl_FM ek_BB ab_CH",unsubscribeWrapper:"E_6LEV Q_6LEV"}},_key:"1XeFeY"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"b_Z14vXdP cm_0 bn_0 p_R D_F ek_BB em_N o_h aw_Z22yhkg I_kt4zd az_DW ba_Z2gmOa3 ay_Z1cYiMT c2hBT4u_Zm6i39 cZTwBjO_Zdogtk",bgContainer:"aw_2941hk ba_10I1Qt az_oOItw ay_Z1nkUQx I_kt4zd"}},_key:"1h6L13"}},function(e,t,a){"use strict";e.exports={className:{default:{iframe:"b_n I_Zmk8Gp em_N"}},_key:"Z15xkoj"}},function(e,t,a){"use strict";e.exports={className:{default:{main:"H_6D6F W_6D6F",scroll:"p_R iy_h iz_A H_6D6F W_6D6F X_6Fd5 N_6Fd5 k_w",container:"hd_n P_0 M_0 p_R",item:"p_a T_0 L_0 R_0",newItem:"p_a T_0 L_0 R_0 ah_Z19ro7u",oldItem:"p_a T_0 L_0 R_0 ah_fqorO",maskItem:"cZ1RN91d_n p_a T_0 L_0 R_0",stickyHeader:"p_a T_0 L_0 R_0 X_6Fd5 I_ZD6Uwa Z_N j_n",scrollToTop:"D_F ab_C gl_C p_a B_6Fd5 R_0 H_6UbO W_6UbO E_6Fd5 I_ZS20T5 e_dRA r_P Z_O",loading:"p_a B_0 L_0 R_0",focusStealer:"H_0"},"theme-ATT":{scrollToTop:"I_Z15BeVd I4_Z2dxrGx"},"theme-FRONTIER":{scrollToTop:"I_2dK1Xc I4_Z1A0QhA"},"theme-ROGERS":{scrollToTop:"I_Z1m994D I4_Z21W7Hh"},"theme-BT":{scrollToTop:"I_Z3iqci I4_Z20SNAa"},"theme-SKY":{scrollToTop:"I_1za5gA I4_Z2dycH0"},"theme-DEFAULT":{scrollToTop:"I_Z1owzv1 I4_Z2aVTcY"},"theme-SUNRISE":{scrollToTop:"I_ZNpR7F I4_ZmlXUP"},"theme-AQUA_GREEN":{scrollToTop:"I_1dThJA I4_Z1UHURv"},"theme-AQUA_BLUE":{scrollToTop:"I_26UHLI I4_Z280Xf5"},"theme-DEEP_PURPLE":{scrollToTop:"I_ZRpDPm I4_Zwa5YI"},"theme-BLUE_NIGHT":{scrollToTop:"I_ZMqghf I4_Z21zYBA"},"theme-DARK_GREY":{scrollToTop:"I_Z1m994D I4_Z21W7Hh"},"theme-NIGHT_LANDSCAPE":{scrollToTop:"I_Z1W4Pak I4_Z1UEcsX"},"theme-ROADTRIP":{scrollToTop:"I_ZNsLcW I4_ZrkPvI"},"theme-SUNSET_AUSSIE":{scrollToTop:"I_ZNpR7F I4_ZmlXUP"},"theme-LIGHTHOUSE":{scrollToTop:"I_Zd2nN5 I4_Z1VDTK1"}},_key:"ZR47Hi"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB gl_C ab_C t_C",link:"C_Z2aVTcY"}},_key:"1Cd0Hf"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_6D6F",inner:"W_3n93F M_1EAG48",button:"C_52qC I_Z1Xxgu0 O_6uDw P_Z1E30bS b_n",rightButton:"C_52qC I_Z1Xxgu0 O_6uDw b_n e_e8l p_a B_0 U_e5X H_72FG W_6NIX R_6Fd5 T_e5X h_ZBOl0O",leftButton:"C_52qC I_Z1Xxgu0 O_6uDw b_n e_e8l p_a B_0 U_e5X H_72FG W_6NIX L_6Fd5 T_e5X h_ZBOl0O",zoomWrapper:"Q_eDQ E_eDQ",buttonIcon:"Y_eTB M_Z1iKcDS",slider:"p_a B_7rYA",rtlRawScaleX:"rtlR_h_2gl0WC"}},_key:"Mffoh"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_a B_6TFj H_6NIX W_3nV5V e_e8l I_Z1Xxgu0 O_6uDw Q_A E_A L_0 R_0 C_52qC t_C",barContainer:"D_X M_1HT1B4 p_R",bar:"I_ZvsWfq H_eTB W_3n93F e_eo6 r_P",slider:"I_52qC e_6DEy H_6DEy W_6DEy T_689y p_a r_P",inner:"D_F"}},_key:"ZVxq3G"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F em_N ek_BB",content:"q_1TkQOB em_N D_F ek_BB gl_C ab_C"}},_key:"Z2eQbzU"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB em_N p_R",content:"q_1TkQOB em_N D_F ek_BB gl_C ab_C p_R",imageWrapper:"p_a T_0 L_0 W_6D6F H_6D6F o_A t_C D_F ab_C",image:"k_w en_0 M_A gg_1fx0Xo"}},_key:"nghbs"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_f T_0 R_0 B_0 L_0 q_ajRa9 D_F",button:"E_6Eb4"},"themeMode-MEDIUM":{container:"q_sgPuT"},"themeMode-DARK":{container:"q_sgPuT"},modalStyle:{container:"q_sgPwq"}},_key:"1XW5Xb"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";e.exports={className:{default:{message:"o_h D_F ab_C r_P H_6UbO M_3gIMd em_N ir3_Z1FS2Mn I3_1YEmYj I4_ZFyHXD",subjectContainer:"o_h D_F ab_C J_x em_N",subject:"o_h G_e J_x en_N",messageCount:"en_0 P_3gJiI Q_fq7 e_fFR A_6DUj C_52qC I_2sqbOe",noSubject:"M_3gI0W",dateWrapper:"ab_C gl_CH D_F em_0 en_0 s_7jIs N_fq7 Q_fq7 A_6DUj"},lightThemeMode:{messageCount:"C_Z281SGl I_ZpQYvz",message:"ir3_1JO2M7 I3_1I4z5p it3_689y I4_1I4yPF"}},_key:"Z1zHJTB"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_CS H_CS en_0 W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz k_w P_Z1Ve0sQ o_h I_52qC U_dBP",briefHeader:"D_F M_0",briefTitle:"M_0 F_N A_6EqO u_b",allLink:"F_n D_F H_6LEV i_6LEV A_6EqO u_e69 C_Z1VRpVF cdPFi_Z1VRpVF S_n C4_Z2aVTcY cdPFi4_Z2aVTcY",briefContent:"M_3HLUz o_h",briefFooter:"D_F gl_CH M_9DHCV A_6Eb4 C_Z2aVTcY"},darkModeNonPhotoTheme:{container:"I_sgPuT C_ZpQYvz l_T"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6 C_ZnIF8Y l_ajP6C"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6 C_ZnIF8Y l_ajP6C"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1 C_ZnIF8Y l_ajP6C"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1 C_ZnIF8Y l_ajP6C"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H C_ZnIF8Y l_ajP6C"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H C_ZnIF8Y l_ajP6C"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW C_ZnIF8Y l_ajP6C"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW C_ZnIF8Y l_ajP6C"}},_key:"ZfXncq"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC r_BN W_3vpWV a_3vpWV k_w D_F ek_BB cZ1RN91d_GG en_0 em_N P_6Fd5",header:"u_e69 A_6EWk U_6LEV",item:"D_F U_6Eb4",avator:"E_6Eb4",headline:"u_b A_6EWk",summary:"U_fq7"},narrowScreen:{container:"W_d8J a_d8J"},"themeMode-DARK":{container:"I_sgPuT",headline:"C_Z2bg7IA",summary:"C_ZvsWfq",header:"C_ZvsWfq"},"themeMode-MEDIUM":{container:"I_sgPuT",headline:"C_Z2bg7IA",summary:"C_ZvsWfq",header:"C_ZvsWfq"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"Z2VGeU"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC r_BN W_3vpWV a_3vpWV k_w D_F ek_BB cZ1RN91d_GG en_0 em_N P_6Fd5",header:"D_F ab_C U_fq7",avator:"E_6Eb4",headline:"u_e69 C_Z2aVTcY A_6EWk",summary:"A_6EqO U_fq7",source:"A_6DUj C_Z2aVTcY"},narrowScreen:{container:"W_d8J a_d8J"},"themeMode-DARK":{container:"I_sgPuT",headline:"C_Z2bg7IA",summary:"C_ZvsWfq",source:"C_Z2bg7IA"},"themeMode-MEDIUM":{container:"I_sgPuT",headline:"C_Z2bg7IA",summary:"C_ZvsWfq",source:"C_Z2bg7IA"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"X8WVn"}},function(e,t,a){"use strict";e.exports={className:{default:{header:"A_6EqO M_V9fzB X_6Fd5",container:"I_52qC i_6Mbr D_F ek_BB en_0 M_Zm1Iab W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz",query:"X_6Fd5 C_Z2aVTcY cdPFi_Z2aVTcY C4_Z29WjXl cdPFi4_Z29WjXl u4_e69 r_P D_F",queryList:"M_S9pNs ha_n P_0",circle:"D_n",corner:"D_n",searchIcon:"Q_dRA C_q cdPFi_q D_n ab_C",webSearchIcon:"D_n"},darkTheme_default:{query:"C4_52qC cdPFi4_52qC C_ZpQYvz",header:"C_ZpQYvz"},numberList:{query:"D_DD ha_Z1nvPrc i_6UbO",queryList:"p_R",webSearchIcon:"D_F p_a R_q1 T_djH"},darkTheme_numberList:{query:"D_DD ha_Z1nvPrc i_6UbO C4_52qC C_ZpQYvz",header:"C_ZpQYvz",queryList:"p_R",webSearchIcon:"D_F p_a R_q1 T_djH"},tagCard:{query:"D_DD ha_2o0BsY i_6UbO X_0 Q_6Fd5 E_6MWH m_Z14vXdP C_Z281SGl C4_Z2aVTcY m8_n hc_Z1iRNWE",header:"A_6EWk Y_6Fd5 X_6UbO",queryList:"bq_1Pj8ie bs_FT cn_6FsP cg_FJ p_R Y_36T6c P_ZogEqy Q_6Fd5 E_6Fd5",circle:"W_6Eb4 H_6Eb4 D_CS p_a T_e5X R_0 I_ptT19 e_e5X"},darkTheme_tagCard:{query:"D_DD ha_2o0BsY i_6UbO X_0 Q_6Fd5 E_6MWH m_ZYfFSw C4_52qC m8_n C_ZpQYvz hc_Z1iRNWE",header:"A_6EWk Y_6Fd5 C_ZpQYvz X_6UbO",queryList:"bq_1J4S4T bs_FT cn_6FsP cg_FJ p_R Y_36T6c P_ZogEqy Q_6Fd5 E_6Fd5",circle:"W_6Eb4 H_6Eb4 D_CS p_a T_e5X R_0 I_2sqbOe e_e5X"},hoverRow:{query:"i_6UbO I4_1I4z5p C4_Z281SGl cdPFi4_Z281SGl u4_N C_Z281SGl cdPFi_Z281SGl",header:"A_6EWk X_6Fd5",queryList:"U_fq7 Q_6Fd5 E_6Fd5"},darkTheme_hoverRow:{query:"m_ZYfFSw i_6UbO I4_ZMqvwf C4_ZpQYvz cdPFi4_ZpQYvz u4_N m8_n C_ZpQYvz cdPFi_ZpQYvz",header:"A_6EWk C_ZpQYvz X_6Fd5",queryList:"U_fq7 Q_6Fd5 E_6Fd5"},cornerFold:{query:"i_6UbO I_ZnIF8Y I4_1Hvwe1 C4_Z281SGl cdPFi4_Z281SGl u4_N C_Z281SGl cdPFi_Z281SGl m_6i9dl p_R e_dRA",header:"A_6EWk X_6Fd5",queryList:"U_fq7 Q_6Fd5 E_6Fd5 Y_fq7",corner:"p_a W_0 H_0 n_Z2HSe2 m_Z1gWEmL B_0 R_0 D_CS"},darkTheme_cornerFold:{query:"i_6UbO I_sgPuT I4_ajP3z C4_ZpQYvz cdPFi4_ZpQYvz u4_N C_ZpQYvz cdPFi_ZpQYvz p_R cj_dRA bk_dRA U_dBP",header:"A_6EWk X_6Fd5 C_ZpQYvz",queryList:"U_fq7 Q_6Fd5 E_6UbO Y_fq7",corner:"p_a W_0 H_0 n_2cSrVM m_cxfg2 B_0 R_36KP4 D_CS",square:"p_a W_6Fd5 H_6Fd5 T_0 R_36KP4 D_CS I_sgPuT ck_dRA"},"themeMode-DARK":{container:"I_sgPuT l_T"},"themeMode-MEDIUM":{container:"I_sgPuT l_T"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"HnwnX"}},function(e,t,a){"use strict";e.exports={className:{default:{hotelCardHeader:"aw_1petbE H_7Ig6 D_F ab_CH P_Z1VdT10 k_w gl_FM U_eo6 W_6D6F",formRow:"D_F H_6VdP ab_C U_dBP",locationSelector:"X_fq7 D_F ab_C W_6D6F m_2tEJa0 cdPFi_Z1TsNWR",arrow:"h_22ufi4 W_6LEV H_6LEV cdPFi_Z1TsNWR",formColumn:"W_e5X D_F ab_C a_3nx4N",formColumnUnderline:"W_e5X D_F ab_C a_3nx4N m_2tEJa0",datepickerInput:"W_3mU6W em_N ir_n D_F ab_C p_R q_T A_6EqO H_6VdP P_3gJOe",divider:"W_6LEV",selector:"D_F ab_C",selectorLabel:"a_7rdk J_x o_h G_e",selectLabel:"E_fq7 D_F gl_FL C_Z281SGl m_2tEJa0 H_6VdP i_6VdP X_6EGz",form:"W_6D6F a_6D6F k_w P_1Eu6qC",typeahead:"Q_eo6 p_R W_6D6F"},isDarkTheme:{typeaheadInput:"C_ZpQYvz A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T b_0 J_x G_e bj3_Z2aVTcY",dateInput:"C_ZpQYvz M_0 b_n ir_n ev_q I_q",datepickerIcon:"D_F ab_C i_6NIX cdPFi_ak5m8",selectedValue:"em_N o_h J_x D_X G_e C_ZpQYvz",selector:"C_ZpQYvz",locationSelector:"cdPFi_ak5m8",arrow:"cdPFi_ak5m8"}},_key:"Z22BbwD"}},function(e,t,a){"use strict";e.exports={className:{default:{typeahead:"p_R",typeaheadInputContainer:"W_6D6F p_R",typeaheadInput:"A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T b_0 J_x G_e bj3_Z2aVTcY",typeaheadInputHint:"A_6EqO W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T",typeaheadDropDown:"W_6D6F p_a ha_n P_0 M_0 Z_fcS j_ZqTdtW I_52qC",typeaheadOption:"i_72FG P_1EudUu r_P J_x G_e o_h q_52qC q4_1I4yPF cZ1WADo5_1I4z5p"}},_key:"Z2duRle"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC k_w W_3vpWV a_3vpWV",header:"M_1UqJXO A_6FsP u_b C_Z281SGl",retailers:"ha_n M_1Eu7sD D_F P_0 ek_BB U_6Eb4",retailer:"I_ZnkeaL H_73HH D_F M_3HLUz P_fQwsr e_eo6 r_P F_n ab_C p_R u4_b I4_1I4yPF",retailerName:"A_6EqO o_h y_q Q_6LEV",expandButtonContainer:"D_F gl_C M_1HT1B4 cdPFi_ZamTeg C_ZamTeg",expandButton:"b_n y_q r_P D_F ab_C A_6EqO C_q u_b I_T",tagContainer:"D_F I_52qC e_6D6F W_6UbO H_6UbO gl_C ab_C",tag:"D_F p_R T_dBP L_dBP",retailerSelected:"I_1I4z5p H_73HH D_F M_3HLUz P_fQwsr e_eo6 r_P F_n ab_C p_R I4_1I4z5p u_b"},"themeMode-DARK":{container:"I_sgPuT l_T",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeMode-MEDIUM":{container:"I_sgPuT l_T",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"}},_key:"Z29RzHq"}},function(e,t,a){"use strict";e.exports={className:{default:{dot2:"ah_ZrLCNU",dot3:"ah_ZViLgo",container:"D_F ek_BB H_6D6F W_3vpWV",cart:"iy_h iz_A em_N",title:"t_C A_6FsP u_b M_Zz4RQu W_3vpWV",item:"D_F ek_EZ H_7ceA M_Z2tsrnv P_1HT1B4 r_P W_3rKiS",left:"D_F W_7ceA H_7ceA q_52qC e_fq7",partition:"W_3vpWV H_3nW7W e_dRA j_1kBJxJ I_52qC",logo:"W_6LEV H_6LEV im_BE N_fq7",transitionImg:"D_F W_6VdP H_6VdP q_52qC e_fq7 E_fq7",transitionText:"X_6LEV D_F A_6EqO u_e69 jb_6Eb4 je_6Mrc",walmartList:"D_F X_6LEV jb_6MGW",right:"X_6LEV",itemImage:"H_7ceA a_7ceA M_A e_fq7",trasitionItemImage:"H_6VdP a_6VdP M_A e_fq7",overlayContainer:"W_0",overlay:"W_7ceA H_7ceA h_ZE7Oyc q_ZS2gpl e_fq7",transitionOverLay:"W_6VdP H_6VdP h_ZEfWVz q_ZS2gpl e_fq7",transitionQuantityContainer:"D_F W_6VdP H_6VdP q_52qC e_fq7",saveContainer:"D_F ab_C jb_eo6",walmartSaveContainer:"D_F ab_C jb_eo6 gl_FM",save:"A_6EWk u_b",coupon:"C_Z1WBuqm A_6DUj",brandName:"A_6EqO o_h G_e J_x W_3nX9X",expires:"C_Z1VRpVF A_6DUj",trashCan:"ab_C b_2wsnAI e_dRA r_P D_F cdPFi_Z2aVTcY H_6Nds gl_C W_6VdP cdPFi4_Z2aVTcY",redExpires:"C_ZkiIcp A_6DUj",addImage:"V_M",printContainer:"D_F gl_C W_3rtvR H_6VdP e_dRA b_2fAfSG M_Z1DVp2R r_P",print:"D_F ab_C H_6VdP cdPFi_Z2aVTcY",checkout:"D_F ab_C H_6VdP cdPFi_52qC",printText:"X_6DEy A_6EqO u_b t_C C_Z2aVTcY",appContainer:"H_3nX9X P_Z2vOovI q_ZnkeaL",appText:"A_6EWk u_b",downloadContainer:"D_F ab_C Y_dRA",qrCode:"W_3nq6r",appStore:"W_3nr8s X_6Eb4",header:"C_Z1VRpVF A_6EqO u_e69 M_Z1Takjf t_CY",refreshContainer:"D_F M_1Eu5U7 P_1Eu5U7",refreshButton:"ab_C q_T b_2fAfSG e_dRA C_Z2aVTcY r_P D_F ek_EZ u_e69 H_6TFj Y_eo6 t_C W_3mT4V I4_1I4yPF",refreshText:"C_Z1VRpVF Q_fq7"},emptyShoppingList:{cart:"D_F ek_BB ab_C gl_C",emptyImageContainer:"D_F gl_C p_R",emptyImage:"W_3n93F p_a",groceryBackgroundImage:"W_3rBgu H_3mS2U P_VkBk2",emptyText:"W_3nV5V H_6VdP O_6uE9 A_6EqO i_6CC0 t_C C_Z1XFoRn je_6EGz",refreshButton:"b_12AjbX C_Z1TsNbA r_BN I4_82XEY"},isGroceryWithProduct:{title:"A_6FsP",transitionTitle:"u_b M_Zz4RQu W_3npkb A_6EqO X_6LEV",item:"H_7qGO W_3s9Pw M_6Fd5 P_82XEY",right:"D_F X_6Fd5",brandName:"J_N H_6VdP W_3nNB4",actionContainer:"D_F Y_eo6",numberContainer:"ab_C b_2wsnAI e_dRA D_F H_6Nds Q_6Eb4 W_7Ig6",transitionQuantity:"A_6EqO u_N C_Z1YRXYn M_A e_fq7 ab_C",change:"D_F gl_C W_74ed",quantity:"C_Z281SGl",save:"D_F ac_C Q_A",numberOfProducts:"A_6EWk u_N N_7yHc",emptyImageContainer:"D_F gl_C p_R",emptyImage:"W_7rdk p_82XEY",productSummary:"D_F gl_FM M_cnVKW P_Z12OnJq",walmartText:"A_6EqO u_b t_C C_52qC",emptyState:"A_6EWk u_N N_3nilO C_Z1VRqsb",total:"A_6FsP u_b",totalEmpty:"A_6FsP u_b C_Z1VRqsb",walmartCheckoutEmpty:"D_F ab_C gl_C W_A H_6UHk e_dRA b_10bFUn M_1iBkeu I_Z1VRqsb",walmartCheckoutTransition:"D_F ab_C gl_C W_A H_6UHk e_dRA b_2swhGV M_1iBkeu I_ZtwOFC",walmartCheckout:"D_F ab_C gl_C W_A d_6UHk H_6UHk e_dRA b_2fAfSG M_Z1TacOn r_P I_Z2aVTcY",emptyText:"W_3rSz1 H_7bcz"},expandedCardState:{item:"H_82XEY",cardDescription:"W_3nX9X C_Z1Xxgu0 i_N o_h G_e",brandName:"J_N"},notShowYm6QRCode:{printContainer:"M_1emr7n"},darkThemeMode:{title:"C_ZnIF8Y",transitionTitle:"C_52qC",save:"C_ZnIF8Y",brandName:"C_ZnIF8Y",partition:"j_Zg1SPO I_Z221K4R",transitionText:"C_52qC",dot1:"C_52qC",dot2:"C_52qC",dot3:"C_52qC",cardDescription:"C_ZvsWfq",expires:"C_ZvsWfq",emptyText:"C_ZvsWfq",coupon:"C_ZvsWfq",totalEmpty:"C_ZnIF8Y",emptyState:"C_ZnIF8Y",walmartText:"C_ZnIF8Y",printContainer:"b_2qAa88",print:"cdPFi_ZvsWfq",printText:"C_ZnIF8Y",productSummary:"C_ZnIF8Y",refreshButton:"b_2qAa88 C_ZnIF8Y I4_1YEmYj",refreshText:"C_ZnIF8Y",trashCan:"cdPFi_52qC b_12AjbX",numberContainer:"b_12AjbX",quantity:"C_ZpQYvz"},outOfStock:{item:"r_BN M_6Fd5 O_cMq P_82XEY W_3s9Pw"}},_key:"EDuIS"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"P_Z1E2XDm I_52qC",header:"A_6FsP u_b M_3Y3Gk",expandButton:"D_F ab_C gl_C M_3Y3Gk r_P u_b C_ZamTeg cdPFi_ZamTeg",item:"D_F o_h ab_C P_1Eu6qC e_eo6 M_ZlKroq q_ZnkeaL bm_n M8_0 q4_1I4yPF",link:"F_N D_F o_h ek_EZ ab_C",avatar:"W_72FG H_72FG e_6FIA q_sgPtS",content:"F_N D_F ek_BB gl_C P_1e3HE7",fromName:"H_6DEy W_7zJd q_sgPuo e_eo6",description:"M_829jJ H_6DEy W_3na5G q_sgPtS e_eo6",expiration:"M_829jJ H_6DEy W_3mS2U q_sgPtS e_eo6",clippedButton:"F_n I_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n D_F ab_C gl_C W_72FG H_72FG k_w P_0 M_0",onboarding:"A_6EWk q_ZamTeg e_fq7 H_7bcz D_F ab_C gl_C C_52qC",arrowContainer:"D_F gl_CH M_ZlKroq",arrow:"M_1Bs8Qs W_0 H_0 n_ZMviHe x_ZMviHe z_Z1HrxdM"},"themeMode-MEDIUM":{container:"I_sgPuT C_ZpQYvz",item:"q_1YEmYj q4_ZFyHXD",avatar:"q_2sqbOe",fromName:"q_2sqbOJ",description:"q_2sqbOe",expiration:"q_2sqbOe"},"themeMode-DARK":{container:"I_sgPuT C_ZpQYvz",item:"q_1YEmYj q4_ZFyHXD",avatar:"q_2sqbOe",fromName:"q_2sqbOJ",description:"q_2sqbOe",expiration:"q_2sqbOe"}},_key:"Z2ve0ds"}},function(e,t,a){"use strict";e.exports={className:{default:{subContainer:"P_1M2htK",imgContainer:"W_6D6F D_F gl_C",cueImg:"H_3nF5b",content:"P_1K6hUM M_1Eu7sD",title:"A_6FsP gp_1Fqk81 u_b U_6Fd5",yPointsIcon:"H_6Fd5 V_GM",buttonContainer:"D_F gl_C",primaryCta:"i_6VdP"},"themeMode-MEDIUM":{primaryCta:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd"},"themeMode-DARK":{primaryCta:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd"}},_key:"ZhV6Bm"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"D_F gl_FM P_1Eu7sD m_Z14vXdP F_n",button:"G_e a_7yHc o_h J_x i_Z2gtiuD",tabListContainer:"H_Z1nQF5a",tabContainer:"M_Z1fehm1 H_Z1nQF5a",popoverContainer:"D_F",pointsContainer:"D_F ab_C u_b",pointsIcon:"H_6FIA W_6FIA E_eo6 r_P",dialogContainer:"P_6Fd5 W_3vxrN k_w D_F ek_EZ",qrCodeImg:"H_7zJd",dialogContentContainer:"P_1qqF1t",dialogDescription:"D_B je_eo6",primary:"i_6TFj",secondary:"I4_52qC"},"themeMode-MEDIUM":{wrapper:"m_ZYfFSw"},"themeMode-DARK":{wrapper:"m_ZYfFSw"}},_key:"19caUu"}},function(e,t,a){"use strict";e.exports={className:{default:{subContainer:"M_6Fd5",completedCheckin:"D_F ab_C U_6Eb4",dailyCheckinIcon:"E_eo6",moreTask:"D_F ab_C U_6LEV P_6Eb4 e_fq7 I_ptT1E",moreTaskContent:"M_3gJOe em_N",ctaButton:"H_6TFj u_b J_x P_1Eu6qC",challengeDescription:"U_6LEV",challengeDetailsHeader:"D_B U_6Eb4"},"themeMode-MEDIUM":{moreTask:"I_ajP3z",ctaButton:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd"},"themeMode-DARK":{moreTask:"I_ajP3z",ctaButton:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd"}},_key:"Z2vRNSR"}},function(e,t,a){"use strict";e.exports={className:{default:{subContainer:"M_6Fd5",titleContainer:"D_F ab_C",title:"M_3gJOe o_h J_x G_e em_N",taskPanel:"Y_6MGW D_F ab_C gl_FM",taskDetails:"D_F ek_BB em_N o_h",taskTitleContainer:"D_F ab_C o_h",taskTitle:"o_h J_x G_e",taskPoints:"D_F ab_C Q_fq7",yPointsIcon:"H_6Fd5 Q_dRA ac_CI",taskDescription:"C_Z1VRpVF o_h J_x G_e",goButton:"en_0 s_7yHc H_6TFj u_b o_h G_e J_x P_1Eu6qC Q_ZK2EzR e_dRA",superAppTasksTitle:"Y_6UbO D_F ab_C",superAppIcon:"H_6LEV W_6LEV E_fq7 j_2hjuwP e_dRA",backPanel:"m_Z14vXdP D_F ab_C",backIcon:"r_P M_6Fd5 D_F",imgContainer:"p_R H_3vjv5 W_3saBM U_6MGW ba_Zeimxq",imgContent:"p_a L_0 Y_6LEV C_52qC t_C W_6D6F J_x o_h G_e P_3gIMd k_w u_elT",footer:"D_F gl_FM ab_C u_e69 M_1EuCs8 A_6EGz",appLogoContainer:"D_F r_P C_Z2aW2JT",appLogo:"E_eo6"},"themeMode-MEDIUM":{goButton:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd",taskDescription:"C_ZvsWfq",backPanel:"m_ZYfFSw",backIcon:"cdPFi_52qC",appLogoContainer:"C_52qC"},"themeMode-DARK":{goButton:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd",taskDescription:"C_ZvsWfq",backPanel:"m_ZYfFSw",backIcon:"cdPFi_52qC",appLogoContainer:"C_52qC"},"imageType-tw-dark":{imgContainer:"aw_1Wnytr c2aoGPX_1wbAP8 cZ1mtdww_1Sm4Jz"},"imageType-tw-light":{imgContainer:"aw_2kBAqP c2aoGPX_22L8nW cZ1mtdww_ZAm4Mx"},"imageType-hk-dark":{imgContainer:"aw_Z1SjgL1 c2aoGPX_2iCySG cZ1mtdww_1j6a0D"},"imageType-hk-light":{imgContainer:"aw_aKcUU c2aoGPX_Z1LMwG3 cZ1mtdww_U2LyH"}},_key:"Z2sIYxJ"}},function(e,t,a){"use strict";e.exports={className:{default:{subContainer:"M_6Fd5",titleContainer:"D_F ab_C U_6LEV",title:"M_3gJOe o_h J_x G_e em_N",rewardsItems:"U_6MGW D_e0XN ga_1XnUVO c1gjNkJ_6LEV cttd4l_6MGW",rewardsContainer:"D_F ek_BB r_P",itemImg:"H_3np4q W_3np4q e_fq7 b_2wc7QY U_fq7",priceContainer:"D_F ab_C",price:"A_6Fd5 C_ZkiIcp",yPointsIcon:"W_6Fd5 H_6Fd5",moreButton:"D_B M_A J_x a_6D6F o_h G_e",backPanel:"m_Z14vXdP D_F ab_C",backIcon:"r_P M_6Fd5 D_F",imgContainer:"p_R H_3vjv5 W_3saBM U_6MGW ba_Zeimxq",imgContent:"p_a L_0 Y_6LEV C_52qC t_C W_6D6F J_x o_h G_e P_3gIMd k_w u_elT",footer:"D_F gl_FM ab_C u_e69 M_1EuCs8 A_6EGz",appLogoContainer:"D_F r_P C_Z2aW2JT",appLogo:"E_eo6"},"themeMode-MEDIUM":{price:"C_ZkhR3R",moreButton:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd",backPanel:"m_ZYfFSw",backIcon:"cdPFi_52qC",appLogoContainer:"C_52qC"},"themeMode-DARK":{price:"C_ZkhR3R",moreButton:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd",backPanel:"m_ZYfFSw",backIcon:"cdPFi_52qC",appLogoContainer:"C_52qC"},"imageType-tw-dark":{imgContainer:"aw_Z1D7pkG c2aoGPX_ZDGs3u cZ1mtdww_ZByyM9"},"imageType-tw-light":{imgContainer:"aw_1FJ2uk c2aoGPX_1mXgjH cZ1mtdww_Z1JiSKr"},"imageType-hk-dark":{imgContainer:"aw_E3oez c2aoGPX_2ivfhd cZ1mtdww_1wAtbq"},"imageType-hk-light":{imgContainer:"aw_Z1UotmO c2aoGPX_1GFyPs cZ1mtdww_ZEW85i"}},_key:"ZKCrFU"}},,,,,function(e,t,a){"use strict";e.exports={className:{default:{actionContainer:"D_F M_28eW7C",cueContainer:"D_F ek_EZ a_3zlCJ",cueContainerWrapper:"D_F ek_BB em_N P_ZH79gU I_52qC s_3qWeB a_3zJDR",svgStyle:"D_F gl_C ab_C I_52qC e_v8Hnf s_7bcz P_1KSxRP em_0",containerBorder:"W_q H_eo6 I_Z2aVTcY",close:"p_a T_6LEV R_6LEV",secondarylink:"Q_6DEy"},"cueVariant-defaultPurchasesCue":{header:"A_6FsP i_6NIX u_e69 M_Z1fen2B H_6TFj",cueContainer:"a_xTLMB",svgStyle:"P_Z1ywKaK",icon:"W_7qGO H_7jcW",body:"A_6EqO i_6FIA C_Z281SGl M_SBKYM",actionContainer:"M_0 J_x"},"cueVariant-defaultQuotientCue":{body:"A_6EqO i_6FIA C_Z1Xxgu0 M_Z26RiTK",container:"W_e5X D_F gl_FM ek_BB",ppContainer:"D_F gl_FM ek_BB em_N",containerBorder:"I_Z1YQ5if M_Z2fXxfr W_82XEY",cueContainer:"a_n b_Z14vXdP e_dRA M_Z2qz5Ct",cueContainerWrapper:"s_n a_n",header:"i_6FIA A_6EqO u_b C_Z281SGl",icon:"W_7iGr H_7iGr",svgStyle:"P_6LEV"},"cueVariant-needToKnowNewsCue":{header:"A_6FsP i_6LEV u_e69 M_Z1fen2B",cueContainerWrapper:"P_251bID",cueContainer:"a_3DVPV K_3o46j r_P",svgStyle:"P_dm5",icon:"W_3rdv7 H_6D6F",body:"A_6EqO i_6FIA C_Z281SGl M_Z26RiTK W_3vit4",actionContainer:"P_sHqSv M_0 J_x",close:"p_a T_fq7 R_fq7",containerBorder:"D_n",listStyle:"X_6LEV M_dm5",listItemStyle:"J_x G_e o_h hc_Z1ouml2 M_XFRp"},smartViewCue:{header:"A_6FsP i_6NIX u_e69 M_0",cueContainerWrapper:"P_Z12dBKo",svgStyle:"P_n81yo"},groceriesSmartView:{header:"A_6FsP i_6NIX u_e69 M_Z1fen2B H_6TFj",containerBorder:"I_Z29jSvh",cueContainer:"a_xTLMB",cueContainerWrapper:"N_0",icon:"H_7iGr W_7iGr",svgStyle:"W_3mS2U P_GGreO",body:"A_6EqO i_6FIA C_Z281SGl M_SBKYM",actionContainer:"P_Z9e9xA M_0 J_x"},walmartCue:{containerBorder:"D_n",cueContainer:"W_3w4YO H_3nqmc",svgStyle:"P_82XEY s_n",cueContainerWrapper:"W_3rKiS s_n a_n P_ZCxCab",header:"A_6FsP u_e69 jb_eTB",actionContainer:"M_Z69BG8",icon:"M_A",close:"p_a T_6DUj R_6DUj",backgroundBlock:"W_3n37k H_3nqmc e_dRA I_Z1YJKic D_F"},selectLocationsCue:{containerBorder:"D_n",svgStyle:"P_82XEY s_n",cueContainerWrapper:"W_3vhr3 s_n a_n P_6LEV",actionContainer:"M_Z2wNFHA J_x",secondarylink:"M_Z1feokn",header:"A_6EWk u_e69 U_eo6"}},_key:"ZxX4rI"}},function(e,t,a){"use strict";e.exports={className:{default:{menuList:"M_0 P_0 hd_n",form:"b_efTvb",layoutOptions:"Y_6Fd5 Q_fq7",msgListDensityOptions:"Y_6VdP",previewOptions:"Y_6VdP",settingControl:"M_1Miyfv",header:"D_F",name:"M_0 D_F u_b i_6LEV A_6EWk C_Z281SGl",toggleBtn:"Q_A",hint:"C_Z1YRXYn i_6FIA A_6EqO"},liteVersion:{form:"P_Z1StkHV",layoutOptions:"Y_6Eb4 Q_0",msgListDensityOptions:"Y_6MGW",previewOptions:"Y_6MGW",settingControl:"M_1tDEvS",blurredContainer:"cZ1UAA4K_n",expandButtonContainer:"aw_Z16Embo p_a D_F gl_C o_h W_3v1qi H_6Fd5 je_6MGW Q_36RhU",expandButton:"D_F gl_C B_69bz",name:"M_0 D_F u_b i_6LEV N_6Fd5 o_h G_e"}},_key:"Z5bj5y"}},function(e,t,a){"use strict";e.exports={className:{default:{badge:"p_R T_0 L_0 H_6VdP W_6VdP Z_N",orb:"p_a T_0 L_0 aw_eYAlb j_ZD8w6D e_6FsP Z_N ah_2cWUOh H_6D6F W_6D6F b_0 D_F gl_FL ab_C r_P",pulse1:"ah_Z2ker5M Z_nF p_a T_0 L_0 I_Z2aVTcY H_6D6F W_6D6F O_0 e_6FIA cZW7ROP_n",pulse2:"ah_YMIOh Z_nG p_a T_0 L_0 I_Z2aVTcY H_6D6F W_6D6F O_0 e_6FIA cZW7ROP_n"},bigBadge:{badge:"W_7aG4 H_7aG4",orb:"e_6Mrc",pulse1:"e_6Mrc"},smallBadge:{badge:"H_6LEV W_6LEV",orb:"ah_1GPc07",pulse1:"ah_Z1W2WoW",pulse2:"ah_1CfAVj"},hoveredOver:{pulse1:"ah_Z15oIdf",pulse2:"ah_1jeJAY"}},_key:"Z1WULKL"}},function(e,t,a){"use strict";e.exports={className:{default:{msgListDensityModeChooser:"hd_n P_1Bs8Qs D_F gl_FM Y_6Fd5 U_6UbO W_3rRhf",msgListDensityMode:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_52qC ab_CH gl_C r_P o_h",blockContainer:"H_6UHk W_7bcz ac_C",msgListDensitySLIM:"D_B b_n l_T e_dRA I_ZpQYvz H_fq7 U_eDQ Y_0",msgListDensityNORMAL:"D_B b_n l_T e_dRA I_ZpQYvz H_6EqO U_fq7 Y_0",msgListDensityRELAXED:"D_B b_n l_T e_dRA I_ZpQYvz H_6FIA Y_fq7 U_fq7",labelTextContainer:"D_F gl_C ab_C Y_6DEy i_6FIA a_7sKQ",radioButton:"M_Z1oluSy W_6FIA H_6FIA r_P D_F ac_FO",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",label:"r_P a_7ceA G_e o_h"},selected:{labelTextContainer:"u_e69"},liteVersion:{msgListDensityModeChooser:"Y_0 U_0 W_A"}},_key:"Z1mypOq"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"s_3zJDR d_3mS2U k_w I_52qC D_F el_QDCVj ab_FT cZ1RN91d_GG",header:"P_nzmzl D_F ab_AJ A_6FsP",close:"ac_CH H_dm5 W_dm5 h_Z1kaEH9",debugList:"P_1EutVf hd_n",buttonContainer:"D_F gl_C"}},_key:"Zxm1Ja"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"p_a B_fq7 L_0 R_0 P_14vtzo M_0 Z_7G9R"},showMailproFreeTrialUpsell:{wrapper:"B_dm5"}},_key:"1DW9xA"}},function(e,t,a){"use strict";e.exports={className:{default:{optionLabel:"C_Z281SGl u_e69 i_6Fd5 D_X W_eRe Q_fq7 o_h mq_AS A_6Eb4",panelContainer:"p_R U_69H5 e_dRA q_52qC r_P j_nWwhY D_F ab_C H_6UHk X_eDQ N_eDQ lv_Z8FlFB b_Z1Mmp0D U8_0",closeBtn:"v_h W_6LEV H_6LEV e_dRA"},close:{panelContainer:"lz_BV lv_6uD6 h_1UIL7R"},extraPadding:{panelContainer:"je_eDQ jb_eDQ"},isParentHovered:{panelContainer:"j_ZqTdtW U_eo6 U8_0"},isHovered:{closeBtn:"v_v I4_Z1vP31I"},animate:{panelContainer:"ah_Z1UlhVi"},"color-WARNING_GRAD_RED":{panelContainer:"b4_Z1222NH"},"color-SELECTED":{panelContainer:"b4_2fAfSG"},"color-NORMAL":{panelContainer:"b4_2ivgpk"},"color-ADVISORY":{panelContainer:"b4_ZXQDCD"},"color-YBADGE":{panelContainer:"b4_2leNMI"}},_key:"ZqQK0D"}},function(e,t,a){"use strict";e.exports={className:{default:{panelContainer:"p_R P_3gJOe e_dRA I_ZnkeaL j_nWwhY D_F ek_BB ab_C t_C H_3n13i",panelTitle:"C_Z281SGl u_e69 i_6CC0 o_h A_6EqO P_Z15p09l a_3nq6r K_73HH",ctaButton:"I_ZnkeaL u_e69 A_6DUj H_6LEV e_dRA b_Z1APYqu l_Z2aVTcY W_CD s_7yHc",loadingIndicator:"H_6LEV I_ZnkeaL s_7yHc e_dRA",errorMessageContainer:"D_F ek_EZ ab_C A_6DUj u_e69 C_Z281SGl"},panelBackground_ATT:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_FRONTIER:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_ROGERS:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_BT:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_SKY:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_DEFAULT:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_SUNRISE:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_AQUA_GREEN:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_AQUA_BLUE:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_DEEP_PURPLE:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_BLUE_NIGHT:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_DARK_GREY:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_NIGHT_LANDSCAPE:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_ROADTRIP:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_SUNSET_AUSSIE:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"},panelBackground_LIGHTHOUSE:{panelContainer:"I_ZamTeg",panelTitle:"C_8ahxV",ctaButton:"l_T",errorMessageContainer:"C_8ahxV"}},_key:"ZPq6yL"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3rtg7 d_7jIs i_6FIA ab_C P_Z1YYbzT",ctaLink:"C_Z2aVTcY u_e69 Y_fq7 D_X r_P",image:"p_a R_fq7 B_6Eb4 H_72FG W_72FG",close:"p_a R_eTB T_eTB r_P"},"image-office365":{image:"ba_72FG ay_28BXGT"}},_key:"2rqnwQ"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"W_3zmEK H_3n93F p_R D_F q_52qC",imgContainer:"D_F W_7ALe P_6LEV az_DW ay_C ba_Z1m6vLS aw_Lh8eI",cueImg:"W_7ALe",content:"P_ZEJ7WE",title:"D_B A_6EWk u_b je_eTB",description:"D_B je_6DEy",closeWrapper:"p_a T_eo6 R_eo6"}},_key:"Z25JuQ4"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F a_3z5BY i_6FIA ab_C e_eo6",close:"Y_eo6 Q_6Eb4 r_P"},"appearance-blue":{container:"I_Z2aVTcY P_Z1E2XDm",text:"C_52qC A_6EGz u_b"},"appearance-white":{container:"D_F W_3rehn P_fq7 i_6FIA ab_FO e_eo6",text:"P_Z28IdWK W_3nV5V",close:"M_0 r_P"},animate:{container:"ah_ljSLT"},clickable:{container:"r_P"},oneLineText:{container:"W_3rlLf",text:"W_3rlfJ je_eo6 N_eTB P_n X_e8l",close:"M_0 r_P"}},_key:"2JVym"}},,,function(e,t,a){"use strict";e.exports={className:{default:{hoverContainer:"D_F I_T Z_d48 ab_CI gl_CH",icon:"W_6MGW H_6MGW r_P e_e5X I_52qC j_ZqTdtW h_Z26hN4S D_F gl_C ab_C",popoverContainer:"D_F",menuContainer:"P_13uJXY",menuItem:"J_x I4_2ieea9 C4_Z2aVTcY",divider:"z_Z163u0T",checkmarkIcon:"p_a L_fq7",paddingLeft:"X_6LEV"},shown:{hoverContainer:"b_2fAfSG"},isSelected:{hoverContainer:"I_Z1owzvw"}},_key:"1pDk7H"}},function(e,t,a){"use strict";e.exports={className:{default:{secondaryPopup:"W_3zLs9 H_3DpOq",topSection:"D_F gl_FM P_Iw9pr",providerLabel:"u_b C_Z1VRpVF i_6MGW",separatorNoMargin:"m_Z14vXdP",bottomSection:"D_F ek_BB ab_C p_a T_e5X R_e5X h_Z1cighw s_3vhWy",connectButton:"q_Z2aVTcY e_dRA k_w r_P H_6Urz s_3np4q P_1Eu6qC en_0 M_1IaimO V_M cZ1RN91d_n y_Z2hYGcu A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl ir3_1JO2M7 it3_dRA",description:"Y_6Eb4 t_C"}},_key:"Z2fzYui"}},function(e,t,a){"use strict";e.exports={className:{default:{popover:"W_3zLs9 H_3DpOq",headerSection:"D_F gl_FM P_ZgTzQx",rightHeaderSection:"D_F",separator:"m_Z14vXdP",thumbnailToggle:"D_F gl_FM P_eDQ W_6EGz H_6EGz k_BF I_ZnIF8Y e_dRA r_P",listToggle:"D_F gl_FM P_eDQ W_6EGz H_6EGz k_BF I_52qC e_dRA r_P ek_BB j_bYFTf",toggleContainer:"D_F Q_6Fd5 E_6FIA",squareContainer:"D_F ek_BB gl_FM",square:"I_ZroviD H_eTB W_eTB e_dBP",line:"H_dRA W_6EGz I_Z1VRpVF e_dRA",resultsSection:"D_F ek_BB H_3zSW1 gl_C"},isThumbnailView:{thumbnailToggle:"I_52qC j_bYFTf",listToggle:"I_ptT19 j_n",square:"I_Z1VRpVF",line:"I_ZroFTi"}},_key:"Adzk4"}},function(e,t,a){"use strict";e.exports={className:{default:{searchInput:"A_6DUj H_6MGW W_7I0l C_ZvsWfq X_6MGW N_6MGW e_dRA",clearButtonContainer:"W_6MGW"},searchBoxNotEmpty:{searchInput:"A_6EqO H_6MGW W_7I0l X_6MGW N_6MGW C_Z281SGl"}},_key:"Z1gme7g"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"J_EN",leftHeaderSection:"X_6Eb4 D_F",providerLabel:"u_b i_6MGW X_6EWk a_3niBz o_h G_e J_x C_Z1VRpVF",folderLabel:"u_b i_6MGW X_eTB a_3niBz o_h G_e J_x",navigationPopoverContainer:"D_F H_6MGW",navigationPopoverContent:"s_3n3n5 K_3z5BY iz_A",folderButton:"D_F r_P cdPFi_Z1VRpVF C_Z1VRpVF C4_Z29WjXl cdPFi4_Z29WjXl"}},_key:"1dXs8K"}},function(e,t,a){"use strict";e.exports={className:{default:{rowContainer:"D_F X_6EGz"}},_key:"3mw3c"}},function(e,t,a){"use strict";e.exports={className:{default:{previewLink:"D_F ab_C C_Z1VRpVF C4_Z281SGl",previewLabel:"Q_eo6 H_6Fd5 C_Z1VRpVF C4_Z281SGl",resultItem:"H_7ceA D_F ab_C p_R r4_P I4_2iedUU",resultItemContainer:"D_F W_6D6F ab_1urRJJ X_6Eb4 N_6FYl k_w",iconImg:"H_6D6F W_6D6F im_BE",icon:"H_6UbO W_6UbO E_6Eb4",leftSection:"E_6Eb4 s_0",title:"A_6EqO u_b G_Z296qkg o_h J_x",sharedByName:"A_6EqO u_N G_Z296qkg o_h J_x C_Z1VRpVF",rightSection:"Q_A D_F ab_C",dateLabel:"X_6TFj C_Z1VRpVF J_x",divider:"m_Z12nDQf W_eVi f_r p_a T_6D6F L_d4X",imageThumbnail:"D_F ab_C gl_C W_3niBz H_3nhPj b_Z12nDQf r_P b4_2fAfSG Y_6Eb4 p_R",genericThumbnail:"D_F ab_C gl_C W_3niBz H_3nhPj b_Z12nDQf r_P b4_2fAfSG Y_6Eb4 p_R I_2iedTo",thumbnailTitle:"W_3niBz H_6LEV o_h J_x G_e A_6DUj C_Z1VRpVF i_6NIX",previewWrapper:"I_a0zME D_F ek_BB em_N ab_CH gl_CH W_6D6F H_6D6F",hoverMask:"p_a T_0 B_0 L_0 R_0 gl_C H_6D6F",image:"D_F ab_C gl_C a_3niBz K_3nhPj p_R",thumbnailResultItem:"N_3L3t4"},"type-xls":{genericThumbnail:"I_2m2209"},"type-ppt":{genericThumbnail:"I_Z2gRbsK"},"type-doc":{genericThumbnail:"I_Z1gjdlg"},"type-pdf":{genericThumbnail:"I_Z2gRbsK"},"type-gdoc":{genericThumbnail:"I_Z1gjdlg"},"type-gsheet":{genericThumbnail:"I_2m2209"},"type-gslide":{genericThumbnail:"I_Z2gRbsK"},"type-compressed":{genericThumbnail:"I_Z21PQN4"},"type-video":{genericThumbnail:"I_18K0L5"},"type-audio":{genericThumbnail:"I_18K0L5"},"type-cal":{genericThumbnail:"I_18K0L5"}},_key:"2oPrnh"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"P_Z1DXsI3 ab_C gl_CI D_F r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7 W_6D6F",label:"Q_6DUj o_h J_x G_e D_B",popoverContent:"P_2akjsD",separator:"m_Z14vXdP M_HmAz8",buttonItem:"D_F ab_C W_6D6F"}},_key:"ZQGlKi"}},function(e,t,a){"use strict";e.exports={className:{default:{categoryContainer:"D_F ab_CI P_Z1fegk0",categoryList:"P_0 M_24YU4B ha_n",category:"C_Z1YRXYn P_3PUiW A_6EqO r_P C4_Z2aVTcY"},selected:{category:"C_Z281SGl u_b C4_Z281SGl"}},_key:"18bfU9"}},function(e,t,a){"use strict";e.exports={className:{default:{defaultThemeContainer:"D_F ek_BB gl_C ab_C I_ptT19 P_1Eu7sD",themeThumbnailImage:"W_3mS2U H_3n93F I_52qC P_0 M_1HT1B4",defaultText:"t_C A_6EqO C_Z1VRpVF",clearText:"t_C C_Z2aVTcY r_P",noneText:"t_C C_Z1VRpVF"}},_key:"1ebw9F"}},function(e,t,a){"use strict";e.exports={className:{default:{item:"D_F ek_BB M_Z2kmMaB r_P ir_n",thumbnailContainer:"p_R b_Z14vXdP M_1PXnfL l4_Z2aVTcY",itemThumbnailImage:"D_B W_3mS2U H_3n93F",selectionOverlay:"p_a W_6D6F B_0 o_h J_N t_C C_52qC i_6EqO k_w P_3Y3Gk I_Z1owzvw w_AS I4_Z1owzuv",itemName:"o_h t_C G_e C_Z1YRXYn W_3mT4V",itemProviderName:"o_h t_C G_e C_Z1YRXYn W_3mT4V"},selected:{thumbnailContainer:"b_Z1dQEKn M_Zm1Iab",itemName:"u_b"},hideStationeryTitle:{item:"M_Z2kmxbR"},"toolbarKind-VACATION_RESPONSE_SETTINGS":{item:"i_6Fd5 U_6Eb4",itemThumbnailImage:"W_7rdk H_1WugET",itemName:"W_7sfl",itemProviderName:"W_7sfl"}},_key:"Z2wc6iA"}},function(e,t,a){"use strict";e.exports={className:{default:{backdrop:"p_R T_0 L_0 R_0 B_0 Z_f8a",wrapperContainer:"D_F p_a L_0 B_7iGr H_3rdfm W_6D6F k_w I_52qC b_Z14vXdP e_dRA j_20baFh A_6DUj ir_n Z_f8a",stationeryContainer:"D_F em_N ek_BB P_Z1fenNR",clearStationeryButtonContainer:"t_r je_eo6 D_Z1YJkyX gl_CH ab_C",clearStationeryButton:"C_Z2aVTcY r_P N_6LEV",closeWrapper:"N_eo6 je_eo6 T_dm5 R_dm5",carouselContainer:"D_F em_N ek_BB E_6Fd5"},"toolbarKind-VACATION_RESPONSE_SETTINGS":{wrapperContainer:"H_3nNB4",stationeryContainer:"X_fq7",carouselContainer:"E_fq7",clearStationeryButtonContainer:"je_eo6 N_eo6",clearStationeryButton:"N_fq7"}},_key:"16WPrh"}},function(e,t,a){"use strict";e.exports={className:{default:{backdrop:"p_a T_0 L_0 R_0 B_0 Z_7G9R",gifFinderContainer:"k_w p_a B_7iGr j_nWwhY I_52qC P_Z2okp9v Z_7G9R iy_h",resultSection:"aa_C ab_C gl_C D_F H_3rtg7 M_Z2eeeUH",toolbarGifIcon:"I_ZnIF8Y",gifPopupTopArea:"D_F gl_CH P_C04i4"}},_key:"1AEV7g"}},function(e,t,a){"use strict";e.exports={className:{default:{errMsg:"F_N t_C"}},_key:"fOtwS"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_X E_eo6 o_h p_R V_GM",overlay:"ab_C q_ak5kB b_Z1dQEKn k_w C_Z2aVTcY r_P D_F L_0 P_3gJOe p_a t_C T_0 W_6D6F",overlayText:"A_6DUj ge_A i_6EqO J_N W_q mq_AQ",img:"I_ZpQYvz"}},_key:"V76dH"}},function(e,t,a){"use strict";e.exports={className:{default:{rowContainer:"J_x"}},_key:"Z1ywoRP"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"H_6D6F W_6D6F iz_FF",gifLoadingSection:"P_3mS2U"}},_key:"Z1Ub3Ln"}},function(e,t,a){"use strict";e.exports={className:{default:{searchSection:"D_F Y_6Fd5 p_R o_A t_l",categoryContainer:"k_w F_dHh ha_n M_0 P_0 D_F N_fq7",categoryDiv:"J_x",hiddenBoldCategoryText:"D33_B dq33_Z1WN6IG u33_b H33_dBP C33_T o33_h v33_h U33_68pj",categories:"C_Z1YRXYn r_P D_X H_6UbO i_6UbO Q_6MGW",categorySelected:"C_Z281SGl r_P D_X H_6UbO i_6UbO Q_6MGW m_mRxou u_b",clearButtonContainer:"W_6NIX"}},_key:"da9fO"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ab_C",button:"C_Z2aVTcY M_3gJOe C4_Z29WjXl r4_P i_6FYl u_dPo"},cardExpanded:{container:"ab_CI"}},_key:"ZzuQ8o"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ab_CI W_3zLco j_ZqTdtW I_4SSH",bottom:"Y_6Eb4 D_F",mainContent:"P_1DTVp9 W_3ze8R",close:"M_fq7",cancel:"b_n A_6EqO Q_fq7 C_Z2aVTcY I_52qC r4_P P_Zlnyey",address:"u_e69",buttonText:"a_3np4q i_6FIA",loadingIndicator:"D_F gl_C ab_C H_3rtg7 W_3ze8R",explanation:"C_Z1YRXYn Y_6Eb4",separator:"Y_6Eb4 m_Z14vXdP",label:"Q_eo6",option:"Y_6Eb4",text:"A_6FsP"}},_key:"oCnPQ"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC H_7Ig6 D_F U_6Eb4 r_P e_dRA j_Z1BOGD1 j4_Z2m3RhT",imageContainer:"H_7Ig6 s_7Ig6",image:"H_7Ig6 W_7Ig6 im_BE e_Z272TOo",cardContent:"em_O P_ZzriqB D_F gl_FM o_h",cardInfo:"o_h D_F ek_BB E_6Fd5 C_Z1YRXYn",brandNameText:"E_e8l",dealCategory:"Q_dRA G_e o_h",cardDetails:"D_F ab_C J_x A_6DUj u_e69 i_6CCs",cardDescription:"H_72FG A_6EWk u_b i_6CBU C_Z281SGl U_eo6 o_h",expiryTime:"A_6EqO",buttonContainer:"D_F ab_C",starButton:"lv4_1IWXzk h4_2d9T5e",price:"A_6EqO C_Z281SGl"},"contextOfUse-nobleDeals":{container:"I_82XEY e_82XEY j_82XEY r_P D_F H_82XEY M_Z1bycTG s_82XEY W_82XEY",imageContainer:"s_82XEY H_7yHc W_7yHc",image:"H_7yHc W_7yHc e_eo6",cardContent:"em_0 Q_6Eb4 P_82XEY D_B",cardInfo:"H_6D6F E_82XEY A_6Eb4 C_Z1XFoRn",cardDetails:"A_6Eb4 u_N",cardDescription:"u_e69 U_dRA",expiryTime:"C_Z1XFoRn"},isNearingExpiry:{expiryTime:"C_ZkiIcp"}},_key:"1nbE0O"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3n93F M_1nQIAE",imageContainer:"D_F gl_C W_3n93F H_3n93F e_fq7 b_2wc7QY",image:"H_3n93F e_fq7",card:"A_6DUj C_Z281SGl Y_fq7",description:"H_6VdP o_h",price:"u_b",cashback:"u_b C_Z1XBLoF"}},_key:"1ed8Xf"}},function(e,t,a){"use strict";e.exports={className:{default:{productCardsContainer:"M_Z1PpvCH",title:"A_6EqO u_b C_Z281SGl",productCards:"D_F",container:"W_3n93F M_1nQIAE",imageContainer:"D_F W_3n93F H_3n93F e_fq7 b_Z14vXdP",image:"ah_Z1tF3s4 W_3n93F H_3n93F e_fq7",card:"D_F ek_BB",price:"ah_Z1tF3s4 e_eo6 W_7ceA H_fq7 q_ZpQYvz M_3HLUz",description:"ah_Z1tF3s4 e_eo6 W_7ALe H_fq7 q_ZpQYvz U_eo6",cashback:"ah_Z1tF3s4 e_eo6 W_7sfl H_fq7 q_ZpQYvz"}},_key:"DQgb6"}},function(e,t,a){"use strict";e.exports={className:{default:{cardGroupContainer:"I_ZnkeaL W_6D6F",header:"u_b H_73HH ab_C P_1Eu7sD D_F ek_EZ gl_FM cdPFi_Z1VRpVF",adCardsContainer:"P_Z23gYLv",adContainer:"H_6D6F",adCards:"D_e0XN ga_ZQKkz1 c1gjNkJ_6Fd5 cttd4l_6Fd5",price:"D_F",message:"A_6DUj C_Z1VRpVF",product:"u_b",currentPrice:"C_Z281SGl E_fq7",originalPrice:"S_DB C_Z1VRpVF",sponsoredText:"D_F ab_C",senderLogo:"E_fq7",expandButton:"H_6LEV ab_C C_Z2aVTcY Y_fq7 D_F A_6DUj r_P",expandSpacing:"em_O",expandContainer:"D_F",label:"A_6DEy P_e8l i_6DEy b_ZGN9rt e_dRA u_b C_Z29jRO4 lo_GT"},isCompactView:{adCards:"ga_dwE"}},_key:"x8sNi"}},function(e,t,a){"use strict";e.exports={className:{default:{cardContainer:"I_52qC D_F ab_C j_1kBJxJ e_dRA H_6D6F r_P",image:"W_7Ig6 H_7Ig6 db_CCTsN",content:"W_6D6F D_F ek_BB H_6D6F P_fQoXz k_w gl_FM",mainContent:"D_F ek_BB"}},_key:"2wJeU7"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F",cardGroupParent:"D_F ek_BB W_6D6F",cardGroupContainer:"I_52qC W_6D6F",header:"u_b ab_C gl_FM M_Z16qvPI D_F ek_EZ",separator:"I_ZpQYvz H_eo6",cardContainer:"X_fq7 N_eo6 D_F eo_HB",expandContainer:"D_F gl_C ab_C U_6Eb4",expandSpacing:"em_O",expandButton:"H_6LEV ab_C I_2iedUU e_dRA C_Z2aW2JT U_6Fd5 E_6Fd5 D_F X_fq7 N_eo6 A_6DUj r_P",expandButtonText:"A_6DUj em_0 u_elT",whiteSpaceBar:"je_6DEy W_6D6F c_AO",partnerAttributionIcon:"E_6Fd5",sponsoredContainer:"D_F ab_C",sponsoredIcon:"D_F ab_C M_Z2qtLX C_Z2drWk6 cdPFi_Z2drWk6",sponsored:"A_6DEy ab_C D_F C_52qC P_3gIgH I_ZxFlP3 u_b gl_C H_6Fd5 e_dRA",shoppingCartAdFeedbackContainer:"W_6D6F",categoriesGroupContainer:"I_Znsmye W_6D6F",categoriesContainer:"M_6Fd5",categoryHeader:"A_6EqO u_b i_6LEV",categoriesBar:"D_F eo_HB ab_C",categoryBlock:"r_P A_6EqO M_1osmbG P_fQoXz b_Z14vXdP e_72FG I_52qC b4_2fAfSG I4_1I4yPF C4_Z2aVTcY",toggleButton:"H_6MGW D_F ab_C C_Z2aVTcY M_1osmbG P_fQoXz r_P",dealsTitleBar:"D_F ab_C i_N",dealsBarImage:"E_fq7 r_P",hide:"Q_6Fd5 K_0 o_h lv_ZsLsnA",slider:"Q_6Fd5 K_3D9NF o_h lv_1wsB8m",categoryLinksContainer:"W_6D6F M_Z1KVh9F",title:"A_6EqO u_b C_Z281SGl",subTitle:"A_6DUj C_Z1YRXYn",productCardsContainer:"U_6UbO",productCards:"D_F"},isDealsCardSelected:{cardGroupContainer:"n_Z14vXdP W_82XEY",cardContainer:"D_e0XN ga_Z1ymxfs cZTYFP4_16CCcD dh_fq7 M_EPxz5",expandButton:"I_n"},isCompactDealsCardSelected:{cardGroupContainer:"n_Z14vXdP W_82XEY",cardContainer:"D_e0XN ga_POq6n cZTYFP4_Z1ymxfs dh_fq7 M_EPxz5",expandButton:"I_n"},showGroceriesTopOfMsg:{cardGroupContainer:"n_Z14vXdP W_82XEY",cardContainer:"U_eo6"},showMerchantCard:{dealsTitle:"M_Z1f1fqO A_6EqO u_b C_Z281SGl",productCardsContainer:"U_6LEV"},showPkgTrackingCard:{cardGroupContainer:"I_ZnkeaL n_Z14vXdP W_82XEY",cardContainer:"X_6Fd5 N_6Fd5 jb_6EWk D_F eo_HB",dealsTitleBar:"D_F ab_C i_N",header:"N_fq7",dealsBarImage:"E_fq7 r_BN",expandButton:"I_n"},showAdUpsellCards:{cardContainer:"je_6Fd5 jb_6Fd5 X_6Fd5 N_6Fd5 I_Znsmye D_F gl_C"},inlineAdUpsellCard:{cardContainer:"X_dm5 N_dm5 I_ZnkeaL"},showDealsWithProducts:{dealsTitle:"M_Ztq6Wp A_6EqO u_b C_Z281SGl",productCardsContainer:"Y_fq7 Q_6Fd5 U_6Fd5"}},_key:"Zt4FbP"}},function(e,t,a){"use strict";e.exports={className:{default:{infoTable:"P_15dmEd",headingContainer:"D_F P_Ic91E",title:"W_3mS2U em_N u_b A_6EWk M_0 J_x o_h G_e",calendarLink:"C_Z2aVTcY A_6DUj",contentContainer:"D_F aa_CI ek_BB eo_HB H_7ALe",infoItem:"H_73HH W_e5X D_F ek_EZ P_1wVxIt k_w",infoItemFull:"H_73HH W_6D6F D_F ek_EZ",infoHeading:"A_6DUj C_Z1TsNWR i_6EWk",infoDescription:"a_3rdfm c26zcWN_3s0hC cZ10Gnka_3vxrN cWeabN_3z5BY A_6EqO i_6EGz",iconContainer:"N_6Fd5 D_F ab_C gl_C P_Z19ckRV",ellipsisText:"J_x o_h G_e",videoLink:"C_Z2aVTcY D_B i_6EGz",infoDetails:"o_h"},compact:{title:"W_3qWeB A_6EqO",infoDescription:"J_x A_6DUj"}},_key:"qPEuK"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"e_dRA p_R D_F ab_C gl_C H_3nWnH W_3nV5V F_27sF7m ek_BB",dateText:"p_a t_C H_6D6F W_6D6F i_3nG7c A_6TFj y_Z26egim u_b cZuy7p9_T",subText:"C_52qC y_Z2hYGcu A_6Eb4 u_b gp_dBP"},"size-L":{container:"M_0 W_3mT4V H_3nNQO",dateText:"ab_C A_6FsP jb_e8l",subText:"A_6DUj"},"theme-ATT":{container:"aw_Z2uFeNc",dateText:"q_Z2uFeNc C_Z2dxrGx"},"theme-FRONTIER":{container:"aw_Z16GALF",dateText:"q_Z16GALF C_Z1A0QhA"},"theme-ROGERS":{container:"aw_2eVLEa",dateText:"q_2eVLEa C_Z21W7Hh"},"theme-BT":{container:"aw_2dlp0g",dateText:"q_2dlp0g C_Z20SNAa"},"theme-SKY":{container:"aw_Z77h2R",dateText:"q_Z77h2R C_Z2dycH0"},"theme-DEFAULT":{container:"aw_Z1CkV98",dateText:"q_Z1CkV98 C_Z1XVK9k"},"theme-SUNRISE":{container:"aw_2bffSp",dateText:"q_2bffSp C_ZmGspq"},"theme-AQUA_GREEN":{container:"aw_1me547",dateText:"q_1me547 C_Z21AbCW"},"theme-AQUA_BLUE":{container:"aw_2wWOnw",dateText:"q_2wWOnw C_Z2bhAnS"},"theme-DEEP_PURPLE":{container:"aw_Z1V7woE",dateText:"q_Z1V7woE C_Z22C2iL"},"theme-BLUE_NIGHT":{container:"aw_ZRxwiL",dateText:"q_ZRxwiL C_Z285BEX"},"theme-DARK_GREY":{container:"aw_2eVLEa",dateText:"q_2eVLEa C_Z21W7Hh"},"theme-NIGHT_LANDSCAPE":{container:"aw_PqDUS",dateText:"q_PqDUS C_Z1UEcsX"},"theme-ROADTRIP":{container:"aw_Z1P3J5w",dateText:"q_Z1P3J5w C_ZrkPvI"},"theme-SUNSET_AUSSIE":{container:"aw_2r9mbU",dateText:"q_2r9mbU C_ZmlXUP"},"theme-LIGHTHOUSE":{container:"aw_2lxUNE",dateText:"q_2lxUNE C_Z1VDTK1"}},_key:"26pAhr"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F em_N ek_EZ P_WY39l z_Z12nDQf A_6DUj t_C",replyText:"X_fq7 N_fq7 A_6EqO C_Z2dxTPG D_F ab_C i_6MGW r4_P",edit:"A_6EqO C_Z2dxTPG D_F ab_C i_6MGW r4_P",confirmationText:"D_F ab_C M_3zDxc A_6DUj C_Z1TsWug i_6MGW",text:"N_fq7",showEdit:"D_F ab_C",yes:"N_6Fd5 D_F ab_C X_fq7 A_6EqO C_Z2dwhMO i_6MGW",no:"N_6Fd5 D_F ab_C X_fq7 A_6EqO C_Z1sxms7 i_6MGW",icon:"D_F N_fq7",loadingContainer:"D_F ab_C X_6Fd5 N_6Fd5 A_6EqO gl_C ek_BB",maybe:"N_6Fd5 D_F ab_C X_fq7 A_6EqO C_Z1rAmx3 i_6MGW",calendarLink:"C_Z2aVTcY A_6DUj"},isChecked:{replyText:"u_b"}},_key:"irYEA"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"b_Z12nDQf e_dRA o_h",container:"o_h D_F ek_EZ",content:"em_N D_F ek_BB",retryButton:"r_P C_Z2aVTcY A_6EqO b_n q_T",errorMessage:"M_fQoXz",loadingContainer:"H_3nV5V D_F gl_C ek_BB"},compact:{loadingContainer:"H_3nNQO W_3A8F0",container:"H_3nNQO W_3A8F0"}},_key:"jXC1z"}},function(e,t,a){"use strict";e.exports={className:{default:{replySuggestionsContainer:"H_73Xs D_F ab_FO r_BN gl_C Q_69H5 E_36RhU",replyItem:"b_Z14vXdP e_3mS2U I_52qC P_Z1otA7t M_Z1VLFyq A_6Eb4 C_Z1VRpVF r_P C4_Z2aVTcY"}},_key:"22ySMS"}},function(e,t,a){"use strict";e.exports={className:{default:{embeddedMediaPlayer:"b_n",errorContainer:"P_Z1YYbzT I_Z281SGl C_52qC"},"animate-true":{embeddedMediaPlayer:"lv_ZhuFRe"},"beforeAnimation-true":{embeddedMediaPlayer:"W_dm5 H_dm5 Q_e5X Y_dPd O_0"}},_key:"24JU7M"}},function(e,t,a){"use strict";e.exports={className:{default:{anchorContainer:"I_ak5mD e_dRA j_2kgqsw P_wpoVE",shareLink:"P_Zlnyey i_dm5 A_6EWk D_B I4_2ieea9",shareLinkText:"Q_fq7 E_eo6 p_R B_eo6",shareMenuContainer:"P_Z2a0Hq8 s_3n2AO",menuButton:"P_Z1otACY H_6Fd5 W_6Fd5"}},_key:"2mq5PK"}},function(e,t,a){"use strict";e.exports={className:{default:{playButtonContainer:"p_a r_P P_6DEy",closeButtonContainer:"p_a T_6Fd5 R_6Fd5 W_6Fd5 H_6Fd5 e_fq7 j_1tmztg I_ak5mD",closeButtonPositioner:"p_a L_36Jhx T_1zJPzR",shareButtonContainer:"p_a T_6Fd5 R_6Fd5"},"cardSize-MINI":{shareButtonContainer:"T_fq7 R_fq7"},"cardSize-APPEND":{shareButtonContainer:"T_fq7 R_fq7"}},_key:"ZF6IWY"}},function(e,t,a){"use strict";e.exports={className:{default:{description:"u_dPo C_Z1YRXYn U_6Eb4",folderSelectorInput:"k_w W_6D6F",moreOptions:"C_Z2aVTcY A_6EqO D_X Y_6Fd5"}},_key:"1Ly1C6"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"e_eo6 H_74JI X_0 o_h A_6EqO p_R D_ZKxLmw gl_C ab_C v_g9505 I_ZnIF8Y k_w I4_ZpQYvz",line:"D_F el_Z12c0F ab_C",giftIcon:"C_Z21a4NC cdPFi_Z21a4NC N_fq7 D_F",bannerText:"u_e69 C_Z21a4NC N_fq7",buttonContainer:"D_Z1YJkyX d_6Nds ab_AJ",ctaButton:"u_e69 C_Z27Uuwg",loadingIndicator:"D_X W_7rdk",errorText:"N_eo6 u_e69",errorIcon:"D_Z1YJkyX ac_C"},isCompactLayout:{container:"H_7rdk N_eTB",line:"D_CS X_6Eb4",giftIcon:"D_CS V_M"},isThemeModeDark:{container:"C_ZpQYvz cdPFi_52qC I_sgPuo I4_sgPuT",bannerText:"C_ZnIF8Y",giftIcon:"C_ZnIF8Y cdPFi_ZnIF8Y",ctaButton:"C4_52qC"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"C_ZpQYvz cdPFi_52qC I_ajOPR I4_ajP3z",bannerText:"C_ZnIF8Y",giftIcon:"C_ZnIF8Y cdPFi_ZnIF8Y",ctaButton:"C4_52qC"},"themeCombo-DARK_ROADTRIP":{container:"C_ZpQYvz cdPFi_52qC I_ajOPR I4_ajP3z",bannerText:"C_ZnIF8Y",giftIcon:"C_ZnIF8Y cdPFi_ZnIF8Y",ctaButton:"C4_52qC"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"C_ZpQYvz cdPFi_52qC I_ajOPR I4_ajP3z",bannerText:"C_ZnIF8Y",giftIcon:"C_ZnIF8Y cdPFi_ZnIF8Y",ctaButton:"C4_52qC"},"themeCombo-DARK_LIGHTHOUSE":{container:"C_ZpQYvz cdPFi_52qC I_ajOPR I4_ajP3z",bannerText:"C_ZnIF8Y",giftIcon:"C_ZnIF8Y cdPFi_ZnIF8Y",ctaButton:"C4_52qC"},"msgListDensity-1":{container:"H_qg"},"msgListDensity-2":{container:"H_qJ"},"msgListDensity-3":{container:"H_rh"},"msgListDensity-compact_1":{container:"H_si"},"msgListDensity-compact_2":{container:"H_sL"},"msgListDensity-compact_3":{container:"H_tf"}},_key:"24AblB"}},function(e,t,a){"use strict";e.exports={className:{default:{pillContainer:"D_F ab_C r_P H_6MGW e_6Fd5 b_ZU7xz1 M_ccnAd",categoryText:"H_6Fd5 y_Z2hYGcu A_6EGz u_e69 i_6CAU C_Z2aVTcY M_1cYnwf J_x G_e o_h",icon:"D_F ab_C W_6LEV H_6LEV M_ZmsKgw cZ13pKbK_Z2aVTcY cZ1XO2Ji_dRA cdPFi_52qC"},following:{pillContainer:"b_Z1lEwrq I_Z1owzy4",icon:"cZ13pKbK_82XEY cdPFi_Z2aVTcY"},isCompact:{pillContainer:"H_82XEY r_BN b_82XEY M_0 I_T a_3nN5y",categoryText:"D_F ab_C lo_GT H_6LEV A_fFR u_b C_Z2dsiLY M_0",icon:"cZ13pKbK_82XEY cdPFi_Z2dsiLY M_82XEY"},isDarkThemeCompact:{categoryText:"C_Z29fFBt",icon:"cdPFi_Z29fFBt"},"contextOfUse_error-overflowNumber_false":{categoryText:"X_eo6"},"contextOfUse_error-expand_false":{pillContainer:"b_n"},"contextOfUse_error-category_true":{pillContainer:"r_P H_6UbO e_6Fd5 b_1nDsNG M_ccnAd",categoryText:"H_6Fd5 i_6CAU y_Z2hYGcu A_6EGz u_e69 C_ZkiIcp M_Z215m2p J_x G_e o_h",icon:"W_6LEV H_6LEV M_ZmsLix cdPFi_ZkiIcp cZ13pKbK_82XEY"}},_key:"Z2be1G0"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB I_52qC W_q P_ZVJPWI",pillsWrapper:"D_F eo_HB E_fq7",separator:"I_ZpQYvz H_eo6",heading:"U_6EGz y_Z2hYGcu A_6EqO u_b C_Z281SGl W_3rJgR",popoverTitle:"y_Z2hYGcu A_6EqO u_b C_Z281SGl P_Z1VB8Pp",popoverPillsWrapper:"D_F eo_HB P_ZhyxBl a_3vit4",popoverPill:"jb_eTB"},"zAltitude-900":{popover:"Z_f8a"},isCompact:{pillsWrapper:"eo_x"}},_key:"Z1PGIaC"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N ej_0 en_N D_F k_w I_52qC",navContainer:"D_F q_ptT19",mainContent:"em_N D_F",helpLinks:"hd_n P_eo6",quotaTotal:"M_0 A_6DUj",quotaUsed:"M_0 u_b"}},_key:"Z2s0MSp"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"em_N D_F",navContainer:"D_F I_ptT19 a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU",navContainerWide:"D_F I_ptT19 a_3rehn W_3rehn s_3rehn cZ10Gnkk_ZM1sUU",sidebar:"em_N D_F ek_BB je_6Fd5 I_ptT19 W_6D6F",arrowLeft:"P_2jztU D_F F_n",headerLink:"S_n D_X A_6EqO i_6Fd5 C_Z2aVTcY t_l k_w W_6D6F P_ZmsLix r_P ac_C u_e69",linksContainer:"em_N D_F iz_A iy_h ab_FT P_1Eu7sD ek_BB d_0",tabLinks:"em_N en_0 D_F",quotaTotal:"M_0 A_6DUj C_Z1YRXYn",quotaUsed:"M_0 u_b",navLinks:"M_0 em_N D_F hd_n ek_BB P_0 W_6D6F",navLink:"D_F ab_C",tabLinkText:"k_w W_6D6F P_1l1yrf r_P i_6EqO ir3_1JO2M7 it3_dBP I4_2ieeaE C_Z1YRXYn A_6DUj u_e69",tabNavText:"k_w W_6D6F P_1l1yrf r_P i_6Fd5 ir3_1JO2M7 it3_dBP I4_2ieeaE D_F gl_FM",footer:"ac_C W_3nF5b z_Z14vXdP Y_6Fd5 je_6MGW U_6MGW",footerContent:"X_6Fd5",rightAlign:"Y_689y U_69bz ac_C",loadingIndicator:"H_6D6F W_6D6F D_F ek_BB gl_C"},selected:{tabNavText:"u_b C_Z281SGl n_Z1dQEKn I_2ieeE8"},disabled:{tabNavText:"C_Z1TsNWR r4_DZ"}},_key:"Z2tYmfH"}},function(e,t,a){"use strict";e.exports={className:{default:{errorContainer:"H_6D6F W_6D6F",errorWrapper:"H_6D6F W_6D6F D_F ek_BB eo_HB gl_C ab_C",errorMessage:"A_6FsP Q_fq7 ab_C gl_C",warning:"N_eo6 p_R T_eTB",retryMessage:"r_P C_Z2aVTcY"}},_key:"2jJYME"}},function(e,t,a){"use strict";e.exports={className:{default:{mainContent:"em_N D_F j_ZlOSbd"}},_key:"15eYCF"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F",headerWrapper:"em_N iz_A P_ZzaS5e",titleWrapper:"U_6VdP",hint:"A_6EqO C_Z1YRXYn",title:"u_N A_6FsP M_Ic7YD C_Z281SGl i_6LEV"}},_key:"1zgFYj"}},function(e,t,a){"use strict";e.exports={className:{default:{previewWrapper:"iz_A W_3vPwA P_ZzaS5e",previewTitle:"M_0 u_dPo C_Z1YRXYn U_fq7",container:"D_F aw_Z22yhkg ba_BH ek_BB H_3s0hC j_2c97b3",header:"D_F ab_C H_73HH",logoContainer:"en_0 em_0 W_7rdk D_F ab_C gl_C",logo:"W_A H_6EWk",search:"F_N D_F ab_C gl_FO",searchBox:"I_52qC e_dBP H_6Fd5 W_3nr8s",searchBtn:"W_72FG H_6Fd5 e_dRA M_3gIMd I_ak5jA",tabContainer:"I_a0xJ8 D_n",tabs:"M_0 P_0 D_F hd_n H_6D6F",tabItem:"H_6D6F E_dBP D_X W_7bcz I_a0xIC cj_dRA ck_dRA",leftRailTabSpacer:"H_6D6F E_0 D_X W_7rdk I_T cj_dRA ck_dRA",tabItemWhite:"H_6D6F E_dBP D_X W_7bcz I_52qC cj_dRA ck_dRA",mainContent:"F_N D_F o_h",rail:"F_27mRw7 I_ZnIF8Y",messageList:"F_N D_F ek_BB P_6Eb4 I_52qC",listItem:"D_F o_h",messageListItem:"M_1IaimO",firstColumn:"P_0 hd_n W_74JI M_3gJOe",sender:"H_eo6 W_74JI I_ZpQYvz e_6LEV",firstColumnSnippet:"D_n H_eo6 M_3HLUz W_74JI I_ZnIF8Y e_6LEV",secondColumn:"F_N P_0 hd_n W_7Ig6 M_3gJOe",wrapper:"D_F",subject:"H_eo6 E_eo6 I_ZpQYvz e_6LEV",secondColumnSnippet:"D_n",previewPane:"F_ZSWbjt je_6FIA",messageItems:"M_0 P_0 hd_n",avatar:"O_cMp e_e5X W_6MGW H_6MGW M_1Eu6qC",messageViewItem:"H_eo6 I_ZpQYvz e_6LEV M_Z3NB4K"},snippets:{secondColumnSnippet:"M_0 D_F H_eo6 I_ZnIF8Y e_6LEV"},multiTaskModeSetting:{tabContainer:"D_F H_6Fd5"},"previewPaneSetting-0":{previewPane:"D_n"},"previewPaneSetting-1":{messageList:"ek_EZ",secondColumn:"D_n"},verticalSnippets:{firstColumnSnippet:"D_B"},"msgListDensity-1":{messageListItem:"M_1HKSdG"},"msgListDensity-2":{messageListItem:"M_1HT1B4"},"themeMode-MEDIUM":{rail:"I_sgPuT",tabContainer:"I_sgPtS"},darkModeNonPhotoTheme:{rail:"I_sgPuT",tabContainer:"I_sgPtS",messageList:"I_sgPwq",tabItem:"I_sgPuT",tabItemWhite:"I_sgPwq"},darkModePhotoTheme_NIGHT_LANDSCAPE:{rail:"I_cOYCy",tabContainer:"I_cOYBx",tabItem:"I_cOYCy",messageList:"I_cOYF6",tabItemWhite:"I_1qHFVE"},darkModePhotoTheme_ROADTRIP:{rail:"I_1iaDqt",tabContainer:"I_1iaDps",tabItem:"I_1iaDqt",messageList:"I_1iaDt1",tabItemWhite:"I_Zrb5Uq"},darkModePhotoTheme_SUNSET_AUSSIE:{rail:"I_2woiYa",tabContainer:"I_2woiX9",tabItem:"I_2woiYa",messageList:"I_2woj1H",tabItemWhite:"I_2bmusn"},darkModePhotoTheme_LIGHTHOUSE:{rail:"I_t5YKp",tabContainer:"I_t5YJo",tabItem:"I_t5YKp",messageList:"I_t5YMW",tabItemWhite:"I_ZsxwGM"},cueMode:{previewWrapper:"W_3zSGg",search:"gl_CI Q_6Fd5",searchBox:"W_3o5DP",searchBtn:"W_74JI"}},_key:"Z1LNeQd"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F",headerWrapper:"em_N iz_A P_ZzaS5e",titleWrapper:"U_6UbO",hint:"A_6DUj C_Z1TsNWR",title:"u_N A_6FsP M_Ic9xa",categoryRightRailContainer:"P_6MGW ab_C D_F H_3s0hC gl_C W_3vPwA U_7iGr",categoryRightRailImg:"D_B K_3s0hC a_3vPwA"}},_key:"Z71Eyi"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"D_F x_Z14vXdP W_3vPwA",right:"o_A em_N D_F ek_BB",previewContainer:"U_6UbO",mainWrapper:"em_N iz_A P_ZzaS5e",listWrapper:"Y_6FIA P_0 hd_n",pageHeader:"U_6VdP",toggleBtn:"U_6UbO",formControl:"je_fq7 U_6Fd5",error:"A_6DUj C_ZnTFMv je_fq7 X_fq7",mB40:"U_72FG",headerTitle:"D_F u_b A_6EqO M_Ic9xa",arrow:"h_22ufi4 W_6LEV H_6LEV",btnPrimary:"r_P q_T D_X H_6UHk",settingsSubHeaderLinkStyle:"C_Z2aVTcY S_n"},disabled:{overlay:"O_cMp cZW7ROP_n"}},_key:"7KxpF"}},function(e,t,a){"use strict";e.exports={className:{default:{previewSection:"W_3AiJp",mainWrapper:"em_CS iz_v P_ZzaS5e",header:"D_F o_h ek_BB Q_6Fd5",avatar:"en_0 D_F",previewTitle:"M_Z1bycTG u_dPo C_Z1YRXYn",listContainer:"F_N q_52qC P_6Fd5 j_ZdTu0m",listWrapper:"M_0 P_0 hd_n U_6Fd5",listItemHeader:"D_F ab_C gl_CI U_6LEV",listItem:"D_B w_AS i_CS Y_fq7 Q_7bcz U_fq7 o_A",msgPreview:"je_0",signaturePreview:"Y_fq7",accName:"u_b o_h J_x G_e",phoneText:"C_ZvsWfq",to:"u_b E_eo6 C_Z1TsNWR"}},_key:"Z1ADQu6"}},function(e,t,a){"use strict";e.exports={className:{default:{tweetWrapper:"P_6Fd5 e_dRA b_Z14vXdP",tweet:"D_F ek_BB",twitterProfile:"D_F ab_C",twitterAccount:"em_N D_F ek_BB X_fq7",twitterAvatar:"e_dRA W_6UbO H_6UbO",userName:"u_b",userId:"C_ZvsWfq",tweetHeader:"D_F gl_FM",tweetBody:"Y_6Fd5 U_6Fd5",tweetFooter:"D_F ab_C",tweetDate:"A_6DUj C_ZvsWfq",tweetAction:"Q_A D_F ab_C gl_FL W_3mS2U"}},_key:"Z1YWKfK"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"D_F r_P ab_C gl_ZEO9jm P_1BSkPU m_Z12nDQf q4_1I4yPF",expiredStatusWrapper:"Q_A ab_C A_6DUj i_6LEV",datesWrapper:"Q_6Eb4 o_h J_x C_Z1VRpVF ab_C gl_FM",datesArrow:"D_X H_6LEV V_AP ab_C Q_fq7 E_fq7",accountEmail:"M_1wVxIt u_dPo i_d3a C_ZvsWfq A_6DUj o_h G_e",accountDescription:"M_0 u_dPo i_d3a C_ZvsWfq A_6DUj o_h G_e",messageWrapper:"C_ZnTFMv",typeTextWrapper:"Q_eo6 u_e69",statusIcon:"W_6LEV H_6LEV",syncingStatusIcon:"M_3gJOe",errorWrapper:"D_F s_3mT4V ab_C C_Z1TsNWR",errorIcon:"M_3gJOe"},selected:{listItem:"q_1I4yPF"}},_key:"KeKsz"}},function(e,t,a){"use strict";e.exports={className:{default:{mB40:"U_72FG",mainWrapper:"em_N iz_A P_ZzaS5e",formWrapper:"W_3A2IE",headerTitle:"D_F u_b A_6EqO M_Ic9xa",formControl:"je_fq7 U_6Fd5",error:"A_6DUj C_ZnTFMv je_fq7 X_fq7",editorWrapper:"P_eo6 q_ptT19 b_efTvb",editor:"P_eo6",deleteButton:"Y_72FG",viewActionsContainer:"M_1xFF3T P_Z1Ve0sQ W_6D6F lv_Z243dI4"},disabled:{overlay:"O_cMp cZW7ROP_n"},viewActionsAnchored:{formWrapper:"jb_3mSyq U_74JI",viewActionsContainer:"j_ZXJQiW U_dm5 p_a I_52qC B_dm5 Z_d48"}},_key:"Z10l01i"}},function(e,t,a){"use strict";e.exports={className:{default:{dateWrapper:"D_F ab_C gl_FM",datepicker:"W_3niBz"}},_key:"1KKfoQ"}},function(e,t,a){"use strict";e.exports={className:{default:{domainNameControl:"Y_fq7 U_6Fd5",headerTitle:"D_F u_b A_6EqO M_Ic9xa",domainResponseWrapper:"b_efTvb P_3gIMd q_ptT19 j_ZMd7Gz Y_fq7",domainResponseSection:"U_fq7",fixedWidthOption:"W_3vqYW"},extraEditorPadding:{editor:"P_eo6"}},_key:"10TrqA"}},function(e,t,a){"use strict";e.exports={className:{default:{editorWrapper:"q_52qC e_dRA b_2w4l8N",rte:"iz_A k_w P_6Fd5 H_3n93F C_ZxFlP3"},focused:{editorWrapper:"j_2uOW4F"},"kind-VACATION_RESPONSE_SETTINGS":{rte:"H_3zlCJ"}},_key:"Z1u5dH3"}},function(e,t,a){"use strict";e.exports={className:{default:{viewActions:"D_F ab_C H_6TFj M_1S6wUp",saveButton:"H_6TFj i_N M_fTMfj",nextButton:"H_6TFj i_N M_fTMfj",cancelButton:"H_6TFj i_N"},marginLess:{viewActions:"M_0"}},_key:"27CDOn"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F o_A",headerWrapper:"em_N iz_A P_ZzaS5e",pageHeader:"U_6VdP",section:"Y_6Eb4"}},_key:"1QMPub"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"P_2Xpez",demoImgContainer:"ab_C D_F H_3s0hC gl_C W_3vPwA U_7iGr",demoImg:"D_B K_3s0hC a_3vPwA",header:"C_Z1YRXYn A_6EqO u_e69 U_6Fd5",listContainer:"hd_n P_0 M_0",listItem:"m_Z14vXdP m8_0",helpLink:"ab_C C_Z2aVTcY D_F H_73HH p_R",moreHelp:"I_2iedUU C_Z2aVTcY D_X A_6DUj u_e69 i_6VdP Y_6Fd5 P_1Eu7sD I4_2ieeaE"}},_key:"ZYywGY"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"x_Z14vXdP W_3vPwA iz_A P_Z186TcY k_w",right:"em_N o_A D_F",pageHeader:"U_6VdP",formControl:"U_6VdP",selectbox:"W_6D6F",selectedTimeZone:"A_6DUj Y_eo6 C_ZvsWfq Q_6Fd5",sectionHeaderName:"M_ZlKroq D_F u_b i_6LEV A_6EWk",hint:"M_ZlKroq D_F A_6DUj C_Z1TsNWR",sectionHeaderContainer:"Y_6VdP",helpLink:"M_ZlKroq C_Z2aVTcY"}},_key:"ec7VL"}},function(e,t,a){"use strict";e.exports={className:{default:{selectbox:"p_R",changeButtonContainer:"p_a T_0 R_0 Z_N P_fq7 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY",clearIconContainer:"p_a T_0 R_0 Z_N P_fq7",relatedInfo:"A_6DUj C_Z1YRXYn M_Z15KeeM P_Z1HqVOA",hint:"M_ZlKroq D_F A_6DUj C_Z1TsNWR",typeahead:"",typeaheadInputContainer:"W_6D6F p_R",typeaheadInput:"A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T z_0 x_0 n_0 bm_FJ bn_dBP bj_Z1TsNWR J_x G_e bj3_Z2aVTcY",typeaheadInputHint:"A_6EqO W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T",typeaheadDropDown:"p_a ha_n P_0 M_0 W_3vqYW j_ZqTdtW I_52qC",typeaheadOption:"i_72FG P_1EudUu r_P J_x G_e o_h q_52qC q4_1I4yPF cZ1WADo5_1I4z5p",dropdownList:"p_a ha_n P_0 M_0 W_3vqYW j_ZqTdtW iz_A K_3z5BY q_52qC",timezoneUpdateTip:"C_ZkiIcp M_1IaimO"},error:{typeaheadInput:"bj_ZkiIcp bj3_ZkiIcp",relatedInfo:"C_ZkiIcp"}},_key:"nq0vN"}},function(e){e.exports=JSON.parse('[{"timezone":{"name":"Africa/Abidjan"},"city":"Abidjan","state":"Lagunes","country":"Côte d´Ivoire"},{"timezone":{"name":"Africa/Accra"},"city":"Accra","state":"Greater Accra","country":"Ghana"},{"timezone":{"name":"Australia/Adelaide"},"city":"Adelaide","state":"South Australia","country":"Australia"},{"timezone":{"name":"Africa/Algiers"},"city":"Algiers","state":"Alger","country":"Algeria"},{"timezone":{"name":"Asia/Amman"},"city":"Amman","state":"Amman","country":"Jordan"},{"timezone":{"name":"Europe/Amsterdam"},"city":"Amsterdam","state":"North Holland","country":"Netherlands"},{"timezone":{"name":"America/Anchorage"},"city":"Anchorage","state":"Alaska","country":"United States"},{"timezone":{"name":"Indian/Antananarivo"},"city":"Antananarivo","state":"Antananarivo","country":"Madagascar"},{"timezone":{"name":"Pacific/Apia"},"city":"Apia","state":"Tuamasaga","country":"Samoa"},{"timezone":{"name":"America/Araguaina"},"city":"Araguaina","state":"Tocantins","country":"Brazil"},{"timezone":{"name":"America/Aruba"},"city":"Aruba","state":null,"country":"Aruba"},{"timezone":{"name":"America/Asuncion"},"city":"Asuncion","state":"Asuncion","country":"Paraguay"},{"timezone":{"name":"Europe/Athens"},"city":"Athens","state":"Attica","country":"Greece"},{"timezone":{"name":"Pacific/Auckland"},"city":"Auckland","state":"Auckland Region","country":"New Zealand"},{"timezone":{"name":"Asia/Baghdad"},"city":"Baghdad","state":"Baghdad","country":"Iraq"},{"timezone":{"name":"America/Bahia"},"city":"Bahia","state":"Bahia","country":"Brazil"},{"timezone":{"name":"Asia/Baku"},"city":"Baku","state":"Baki","country":"Azerbaijan"},{"timezone":{"name":"Africa/Bamako"},"city":"Bamako","state":"Bamako","country":"Mali"},{"timezone":{"name":"Asia/Bangkok"},"city":"Bangkok","state":"Bangkok","country":"Thailand"},{"timezone":{"name":"Africa/Banjul"},"city":"Banjul","state":"Banjul","country":"The Gambia"},{"timezone":{"name":"America/Barbados"},"city":"Barbados","state":null,"country":"Barbados"},{"timezone":{"name":"Asia/Beirut"},"city":"Beirut","state":"Beirut","country":"Lebanon"},{"timezone":{"name":"America/Belem"},"city":"Belem","state":"Para","country":"Brazil"},{"timezone":{"name":"Europe/Belgrade"},"city":"Belgrade","state":"Beograd","country":"Serbia"},{"timezone":{"name":"America/Belize"},"city":"Belize","state":null,"country":"Belize"},{"timezone":{"name":"Europe/Berlin"},"city":"Berlin","state":"Berlin","country":"Germany"},{"timezone":{"name":"Africa/Blantyre"},"city":"Blantyre","state":"Scotland","country":"United Kingdom"},{"timezone":{"name":"America/Bogota"},"city":"Bogota","state":"Distrito Especial","country":"Colombia"},{"timezone":{"name":"America/Boise"},"city":"Boise","state":"Idaho","country":"United States"},{"timezone":{"name":"Australia/Brisbane"},"city":"Brisbane","state":"Queensland","country":"Australia"},{"timezone":{"name":"Europe/Brussels"},"city":"Brussels","state":"Capital Region of Brussels","country":"Belgium"},{"timezone":{"name":"Europe/Bucharest"},"city":"Bucharest","state":"Bucharest","country":"Romania"},{"timezone":{"name":"Europe/Budapest"},"city":"Budapest","state":"Budapest","country":"Hungary"},{"timezone":{"name":"America/Argentina/Buenos_Aires"},"city":"Buenos Aires","state":"Autonomous City of Buenos Aires","country":"Argentina"},{"timezone":{"name":"America/Buenos_Aires"},"city":"Buenos Aires","state":"Autonomous City of Buenos Aires","country":"Argentina"},{"timezone":{"name":"Africa/Bujumbura"},"city":"Bujumbura","state":"Bujumbura Mairie","country":"Burundi"},{"timezone":{"name":"Africa/Cairo"},"city":"Cairo","state":"Cairo","country":"Egypt"},{"timezone":{"name":"America/Campo_Grande"},"city":"Campo Grande","state":"Mato Grosso do Sul","country":"Brazil"},{"timezone":{"name":"America/Los_Angeles"},"city":"Canary","state":"Oregon","country":"United States"},{"timezone":{"name":"America/Cancun"},"city":"Cancun","state":"Quintana Roo","country":"Mexico"},{"timezone":{"name":"America/Caracas"},"city":"Caracas","state":"Distrito Federal","country":"Venezuela"},{"timezone":{"name":"Africa/Casablanca"},"city":"Casablanca","state":"Greater Casablanca","country":"Morocco"},{"timezone":{"name":"America/Argentina/Catamarca"},"city":"Catamarca","state":"Catamarca","country":"Argentina"},{"timezone":{"name":"America/Cayenne"},"city":"Cayenne","state":"Cayenne","country":"French Guiana"},{"timezone":{"name":"America/Chicago"},"city":"Chicago","state":"Illinois","country":"United States"},{"timezone":{"name":"America/Chihuahua"},"city":"Chihuahua","state":"Chihuahua","country":"Mexico"},{"timezone":{"name":"Europe/Chisinau"},"city":"Chisinau","state":"Chisinau","country":"Moldova"},{"timezone":{"name":"Asia/Colombo"},"city":"Colombo","state":"Western","country":"Sri Lanka"},{"timezone":{"name":"Europe/Copenhagen"},"city":"Copenhagen","state":"Hovedstaden","country":"Denmark"},{"timezone":{"name":"America/Argentina/Cordoba"},"city":"Cordoba","state":"Andalusia","country":"Spain"},{"timezone":{"name":"America/Costa_Rica"},"city":"Costa Rica","state":null,"country":"Costa Rica"},{"timezone":{"name":"America/Cuiaba"},"city":"Cuiaba","state":"Mato Grosso","country":"Brazil"},{"timezone":{"name":"America/Curacao"},"city":"Curacao","state":null,"country":"Curacao"},{"timezone":{"name":"Africa/Dakar"},"city":"Dakar","state":"Dakar","country":"Senegal"},{"timezone":{"name":"Africa/Dar_es_Salaam"},"city":"Dar es Salaam","state":"Dar es Salaam","country":"Tanzania"},{"timezone":{"name":"America/Dawson_Creek"},"city":"Dawson Creek","state":"British Columbia","country":"Canada"},{"timezone":{"name":"America/Denver"},"city":"Denver","state":"Colorado","country":"United States"},{"timezone":{"name":"America/Detroit"},"city":"Detroit","state":"Michigan","country":"United States"},{"timezone":{"name":"Asia/Dhaka"},"city":"Dhaka","state":"Dhaka","country":"Bangladesh"},{"timezone":{"name":"Africa/Douala"},"city":"Douala","state":"Littoral","country":"Cameroon"},{"timezone":{"name":"Asia/Dubai"},"city":"Dubai","state":"Dubai","country":"United Arab Emirates"},{"timezone":{"name":"Europe/Dublin"},"city":"Dublin","state":"Dublin","country":"Ireland"},{"timezone":{"name":"America/Edmonton"},"city":"Edmonton","state":"Alberta","country":"Canada"},{"timezone":{"name":"America/El_Salvador"},"city":"El Salvador","state":null,"country":"El Salvador"},{"timezone":{"name":"Pacific/Fiji"},"city":"Fiji","state":null,"country":"Fiji"},{"timezone":{"name":"America/Fortaleza"},"city":"Fortaleza","state":"Ceara","country":"Brazil"},{"timezone":{"name":"Africa/Gaborone"},"city":"Gaborone","state":"South-East","country":"Botswana"},{"timezone":{"name":"America/Grand_Turk"},"city":"Grand Turk Island","state":null,"country":"Turks and Caicos Islands"},{"timezone":{"name":"GMT"},"city":"Granite Mountain Air Station","state":"Alaska","country":"United States"},{"timezone":{"name":"Pacific/Guam"},"city":"Guam","state":null,"country":"Guam"},{"timezone":{"name":"America/Guatemala"},"city":"Guatemala","state":null,"country":"Guatemala"},{"timezone":{"name":"America/Guayaquil"},"city":"Guayaquil","state":"Guayas","country":"Ecuador"},{"timezone":{"name":"America/Guyana"},"city":"Guyana","state":null,"country":"Guyana"},{"timezone":{"name":"America/Halifax"},"city":"Halifax","state":"Nova Scotia","country":"Canada"},{"timezone":{"name":"America/Havana"},"city":"Havana","state":"Ciudad de la Habana","country":"Cuba"},{"timezone":{"name":"Europe/Helsinki"},"city":"Helsinki","state":"Uusimaa","country":"Finland"},{"timezone":{"name":"America/Hermosillo"},"city":"Hermosillo","state":"Sonora","country":"Mexico"},{"timezone":{"name":"Asia/Ho_Chi_Minh"},"city":"Ho Chi Minh City","state":"Ho Chi Minh","country":"Vietnam"},{"timezone":{"name":"Pacific/Honolulu"},"city":"Honolulu","state":"Hawaii","country":"United States"},{"timezone":{"name":"America/Indiana/Indianapolis"},"city":"Indianapolis","state":"Indiana","country":"United States"},{"timezone":{"name":"America/Indianapolis"},"city":"Indianapolis","state":"Indiana","country":"United States"},{"timezone":{"name":"Europe/Istanbul"},"city":"Istanbul","state":"Istanbul","country":"Turkey"},{"timezone":{"name":"Asia/Jakarta"},"city":"Jakarta","state":"DKI Jakarta","country":"Indonesia"},{"timezone":{"name":"America/Jamaica"},"city":"Jamaica","state":null,"country":"Jamaica"},{"timezone":{"name":"Asia/Jerusalem"},"city":"Jerusalem","state":"Jerusalem","country":"Israel"},{"timezone":{"name":"Africa/Johannesburg"},"city":"Johannesburg","state":"Gauteng","country":"South Africa"},{"timezone":{"name":"America/Argentina/Jujuy"},"city":"Jujuy Province","state":"Jujuy Province","country":"Argentina"},{"timezone":{"name":"America/Juneau"},"city":"Juneau","state":"Alaska","country":"United States"},{"timezone":{"name":"Asia/Kabul"},"city":"Kabul","state":"Kabul","country":"Afghanistan"},{"timezone":{"name":"Africa/Kampala"},"city":"Kampala","state":"Kampala","country":"Uganda"},{"timezone":{"name":"Asia/Karachi"},"city":"Karachi","state":"Sindh","country":"Pakistan"},{"timezone":{"name":"Africa/Khartoum"},"city":"Khartoum","state":"Al Khartum","country":"Sudan"},{"timezone":{"name":"Africa/Kigali"},"city":"Kigali","state":"Kigali Province","country":"Rwanda"},{"timezone":{"name":"Africa/Kinshasa"},"city":"Kinshasa","state":"Kinshasa","country":"Democratic Republic of Congo"},{"timezone":{"name":"Asia/Kolkata"},"city":"Kolkata","state":"West Bengal","country":"India"},{"timezone":{"name":"Asia/Kuala_Lumpur"},"city":"Kuala Lumpur","state":"Kuala Lumpur","country":"Malaysia"},{"timezone":{"name":"Asia/Kuwait"},"city":"Kuwait","state":null,"country":"Kuwait"},{"timezone":{"name":"Europe/Kiev"},"city":"Kyiv","state":"Kyiv City Municipality","country":"Ukraine"},{"timezone":{"name":"America/La_Paz"},"city":"La Paz","state":"La Paz Department","country":"Bolivia"},{"timezone":{"name":"America/Argentina/La_Rioja"},"city":"La Rioja","state":"La Rioja","country":"Spain"},{"timezone":{"name":"Africa/Lagos"},"city":"Lagos","state":"Lagos","country":"Nigeria"},{"timezone":{"name":"Africa/Libreville"},"city":"Libreville","state":"Estuaire","country":"Gabon"},{"timezone":{"name":"America/Lima"},"city":"Lima","state":"Lima Metropolitan Area","country":"Peru"},{"timezone":{"name":"Europe/Lisbon"},"city":"Lisbon","state":"Lisbon","country":"Portugal"},{"timezone":{"name":"Europe/London"},"city":"London","state":"England","country":"United Kingdom"},{"timezone":{"name":"America/Los_Angeles"},"city":"Los Angeles","state":"California","country":"United States"},{"timezone":{"name":"America/Kentucky/Louisville"},"city":"Louisville","state":"Kentucky","country":"United States"},{"timezone":{"name":"Africa/Luanda"},"city":"Luanda","state":"Luanda","country":"Angola"},{"timezone":{"name":"Africa/Lubumbashi"},"city":"Lubumbashi","state":"Katanga Province","country":"Democratic Republic of Congo"},{"timezone":{"name":"Africa/Lusaka"},"city":"Lusaka","state":"Lusaka","country":"Zambia"},{"timezone":{"name":"Europe/Luxembourg"},"city":"Luxembourg","state":null,"country":"Luxembourg"},{"timezone":{"name":"America/Maceio"},"city":"Maceio","state":"Alagoas","country":"Brazil"},{"timezone":{"name":"Europe/Madrid"},"city":"Madrid","state":"Madrid","country":"Spain"},{"timezone":{"name":"Pacific/Majuro"},"city":"Majuro","state":"Majuro","country":"Marshall Islands"},{"timezone":{"name":"Asia/Makassar"},"city":"Makassar","state":"South Sulawesi","country":"Indonesia"},{"timezone":{"name":"Europe/Malta"},"city":"Malta","state":null,"country":"Malta"},{"timezone":{"name":"America/Managua"},"city":"Managua","state":"Ciudad de la Habana","country":"Cuba"},{"timezone":{"name":"America/Manaus"},"city":"Manaus","state":"Amazonas","country":"Brazil"},{"timezone":{"name":"Asia/Manila"},"city":"Manila","state":"National Capital Region","country":"Philippines"},{"timezone":{"name":"Africa/Maputo"},"city":"Maputo","state":"Maputo","country":"Mozambique"},{"timezone":{"name":"America/Martinique"},"city":"Martinique","state":null,"country":"Martinique"},{"timezone":{"name":"Indian/Mauritius"},"city":"Mauritius","state":null,"country":"Mauritius"},{"timezone":{"name":"Australia/Melbourne"},"city":"Melbourne","state":"Victoria","country":"Australia"},{"timezone":{"name":"America/Argentina/Mendoza"},"city":"Mendoza","state":"Mendoza","country":"Argentina"},{"timezone":{"name":"America/Merida"},"city":"Merida","state":"Merida","country":"Venezuela"},{"timezone":{"name":"America/Mexico_City"},"city":"Mexico City","state":"Distrito Federal","country":"Mexico"},{"timezone":{"name":"America/Moncton"},"city":"Moncton","state":"New Brunswick","country":"Canada"},{"timezone":{"name":"America/Monterrey"},"city":"Monterrey","state":"Nuevo Leon","country":"Mexico"},{"timezone":{"name":"America/Montevideo"},"city":"Montevideo","state":"Montevideo","country":"Uruguay"},{"timezone":{"name":"America/Montreal"},"city":"Montreal","state":"Quebec","country":"Canada"},{"timezone":{"name":"Europe/Moscow"},"city":"Moscow","state":"Moscow Federal City","country":"Russia"},{"timezone":{"name":"Africa/Nairobi"},"city":"Nairobi","state":"Nairobi Area","country":"Kenya"},{"timezone":{"name":"America/Nassau"},"city":"Nassau","state":"New York","country":"United States"},{"timezone":{"name":"America/New_York"},"city":"New York","state":"New York","country":"United States"},{"timezone":{"name":"Africa/Niamey"},"city":"Niamey","state":"Niamey","country":"Niger"},{"timezone":{"name":"America/Nome"},"city":"Nome","state":"Alaska","country":"United States"},{"timezone":{"name":"Africa/Nouakchott"},"city":"Nouakchott","state":"Wilaya de Nouakchott","country":"Mauritania"},{"timezone":{"name":"Pacific/Noumea"},"city":"Noumea","state":"Sud","country":"New Caledonia"},{"timezone":{"name":"Europe/Oslo"},"city":"Oslo","state":"Oslo Fylke","country":"Norway"},{"timezone":{"name":"Africa/Ouagadougou"},"city":"Ouagadougou","state":"Kadiogo","country":"Burkina Faso"},{"timezone":{"name":"America/Panama"},"city":"Panama","state":null,"country":"Panama"},{"timezone":{"name":"America/Paramaribo"},"city":"Paramaribo District","state":"Paramaribo","country":"Suriname"},{"timezone":{"name":"Europe/Paris"},"city":"Paris","state":"Ile-de-France","country":"France"},{"timezone":{"name":"Australia/Perth"},"city":"Perth","state":"Western Australia","country":"Australia"},{"timezone":{"name":"Asia/Phnom_Penh"},"city":"Phnom Penh","state":"Phnum Penh","country":"Cambodia"},{"timezone":{"name":"America/Phoenix"},"city":"Phoenix","state":"Arizona","country":"United States"},{"timezone":{"name":"America/Port_of_Spain"},"city":"Port of Spain","state":"Port of Spain","country":"Trinidad and Tobago"},{"timezone":{"name":"America/Port-au-Prince"},"city":"Port-au-Prince","state":"Ouest Department","country":"Haiti"},{"timezone":{"name":"America/Porto_Velho"},"city":"Porto Velho","state":"Rondonia","country":"Brazil"},{"timezone":{"name":"Africa/Porto-Novo"},"city":"Porto-Novo","state":"Oueme","country":"Benin"},{"timezone":{"name":"Europe/Prague"},"city":"Prague","state":"Prague","country":"Czech Republic"},{"timezone":{"name":"America/Puerto_Rico"},"city":"Puerto Rico","state":null,"country":"Puerto Rico"},{"timezone":{"name":"Asia/Qatar"},"city":"Qatar","state":null,"country":"Qatar"},{"timezone":{"name":"America/Recife"},"city":"Recife","state":"Pernambuco","country":"Brazil"},{"timezone":{"name":"America/Regina"},"city":"Regina","state":"Saskatchewan","country":"Canada"},{"timezone":{"name":"Atlantic/Reykjavik"},"city":"Reykjavik","state":"Reykjavik","country":"Iceland"},{"timezone":{"name":"America/Rio_Branco"},"city":"Rio Branco","state":"Acre","country":"Brazil"},{"timezone":{"name":"Asia/Riyadh"},"city":"Riyadh","state":"Riyadh","country":"Saudi Arabia"},{"timezone":{"name":"Europe/Rome"},"city":"Rome","state":"Lazio","country":"Italy"},{"timezone":{"name":"America/Argentina/Salta"},"city":"Salta","state":"Salta","country":"Argentina"},{"timezone":{"name":"America/Argentina/San_Juan"},"city":"San Juan","state":"San Juan","country":"Puerto Rico"},{"timezone":{"name":"America/Argentina/San_Luis"},"city":"San Luis","state":"Colorado","country":"United States"},{"timezone":{"name":"America/Santarem"},"city":"Santarem","state":"Para","country":"Brazil"},{"timezone":{"name":"America/Santiago"},"city":"Santiago","state":"Santiago Metropolitan Region","country":"Chile"},{"timezone":{"name":"America/Santo_Domingo"},"city":"Santo Domingo","state":"Distrito Nacional","country":"Dominican Republic"},{"timezone":{"name":"America/Sao_Paulo"},"city":"Sao Paulo","state":"Sao Paulo","country":"Brazil"},{"timezone":{"name":"Asia/Seoul"},"city":"Seoul","state":"Seoul","country":"South Korea"},{"timezone":{"name":"Asia/Shanghai"},"city":"Shanghai","state":"Shanghai","country":"China"},{"timezone":{"name":"America/Shiprock"},"city":"Shiprock","state":"New Mexico","country":"United States"},{"timezone":{"name":"Asia/Singapore"},"city":"Singapore","state":null,"country":"Singapore"},{"timezone":{"name":"Europe/Sofia"},"city":"Sofia","state":"Sofiya-Grad","country":"Bulgaria"},{"timezone":{"name":"Atlantic/South_Georgia"},"city":"South Georgia","state":null,"country":"South Georgia and the South Sandwich Islands"},{"timezone":{"name":"Europe/Stockholm"},"city":"Stockholm","state":"Stockholm","country":"Sweden"},{"timezone":{"name":"America/Swift_Current"},"city":"Swift Current","state":"Saskatchewan","country":"Canada"},{"timezone":{"name":"Australia/Sydney"},"city":"Sydney","state":"New South Wales","country":"Australia"},{"timezone":{"name":"Pacific/Tahiti"},"city":"Tahiti Island","state":"Windward Islands","country":"French Polynesia"},{"timezone":{"name":"Asia/Tbilisi"},"city":"Tbilisi","state":"T´bilisi","country":"Georgia"},{"timezone":{"name":"America/Tegucigalpa"},"city":"Tegucigalpa","state":"Francisco Morazan","country":"Honduras"},{"timezone":{"name":"Asia/Tehran"},"city":"Tehran","state":"Tehran","country":"Iran"},{"timezone":{"name":"America/Thunder_Bay"},"city":"Thunder Bay","state":"Ontario","country":"Canada"},{"timezone":{"name":"America/Tijuana"},"city":"Tijuana","state":"Baja California","country":"Mexico"},{"timezone":{"name":"Europe/Tirane"},"city":"Tirane","state":"Tirane","country":"Albania"},{"timezone":{"name":"Asia/Tokyo"},"city":"Tokyo","state":"Tokyo Prefecture","country":"Japan"},{"timezone":{"name":"Pacific/Tongatapu"},"city":"Tongatapu","state":"Tongatapu","country":"Tonga"},{"timezone":{"name":"America/Toronto"},"city":"Toronto","state":"Ontario","country":"Canada"},{"timezone":{"name":"Africa/Tripoli"},"city":"Tripoli","state":"Tripoli","country":"Libya"},{"timezone":{"name":"America/Argentina/Tucuman"},"city":"Tucuman","state":"Tucuman","country":"Argentina"},{"timezone":{"name":"Africa/Tunis"},"city":"Tunis","state":"Tunis","country":"Tunisia"},{"timezone":{"name":"America/Argentina/Ushuaia"},"city":"Ushuaia","state":"Tierra del Fuego","country":"Argentina"},{"timezone":{"name":"America/Vancouver"},"city":"Vancouver","state":"British Columbia","country":"Canada"},{"timezone":{"name":"Europe/Vienna"},"city":"Vienna","state":"Vienna","country":"Austria"},{"timezone":{"name":"America/Indiana/Vincennes"},"city":"Vincennes","state":"Indiana","country":"United States"},{"timezone":{"name":"Europe/Warsaw"},"city":"Warsaw","state":"Masovian","country":"Poland"},{"timezone":{"name":"America/Winnipeg"},"city":"Winnipeg","state":"Manitoba","country":"Canada"},{"timezone":{"name":"Asia/Rangoon"},"city":"Yangon","state":"Yangon","country":"Myanmar"},{"timezone":{"name":"Asia/Yekaterinburg"},"city":"Yekaterinburg","state":"Sverdlovsk Oblast","country":"Russia"},{"timezone":{"name":"America/Yellowknife"},"city":"Yellowknife","state":"Northwest Territories","country":"Canada"},{"timezone":{"name":"Europe/Zurich"},"city":"Zurich","state":"Canton of Zurich","country":"Switzerland"}]')},function(e,t,a){"use strict";e.exports={className:{default:{menuList:"M_0 P_0 hd_n",showImageOption:"i_6MGW",showImageOptionText:"Q_eo6"},isChecked:{showImageOption:"u_b"}},_key:"ZEqUXy"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F o_A",pageHeader:"U_6VdP",filterWrapper:"em_N iz_A P_ZzaS5e",confirmDialog:"mq_AS a_3v1qi",settingsSubHeaderLinkStyle:"C_Z2aVTcY S_n"}},_key:"1lmgoE"}},function(e,t,a){"use strict";e.exports={className:{default:{filterWrapper:"em_N iz_A P_ZzaS5e",filterPreviewSection:"W_3vPwA",filterTitle:"A_6FsP M_Ic9xa",previewTitleWrapper:"D_F U_72FG",previewFilterTitle:"M_0 u_dPo A_6EWk",filterName:"A_6EqO M_27msYt",setRulesHeader:"A_6EqO M_27m5tQ",chooseFolderLabel:"A_6EqO M_Ic9xa",chooseFolderControl:"D_F gl_CI",control:"W_3nF5b U_fq7",folderControl:"W_3nxky U_fq7",orText:"t_C ac_C s_74JI M_3gJOe",filterNameLabel:"u_b A_6EqO M_27m5tQ",filterOptionAccordion:"U_72FG",matchCase:"D_F ab_C",btnLink:"b_n r_P t_C D_X q_T A_6EqO C_ZvsWfq",folderSelectorInput:"k_w W_6D6F"}},_key:"Z1k76Hz"}},function(e,t,a){"use strict";e.exports={className:{default:{filtersListTitle:"M_1NirIz u_b A_6EWk i_6LEV",filtersList:"P_0 hd_n M_Z1bWC3O",filtersListItem:"D_B r_P H_74JI m_Z12nDQf",filtersListBtnsContainer:"D_F ab_C m_Z14vXdP",addBtn:"A_6EqO C_Z2aVTcY",rightAlign:"Q_A",checkbox:"D_X V_GH H_6LEV W_6LEV M_ITspg",addIcon:"t_l C_Z2aVTcY M_Z2rzCvT",filtersListHint:"D_F gl_FM M_Z1bycTG A_6EqO C_Z1YRXYn i_6FIA",filterCount:"A_6DUj C_Z1YRXYn i_6EWk"},isSelected:{filtersListItem:"q_2ieeaE"}},_key:"Z1vLA4I"}},function(e,t,a){"use strict";e.exports={className:{default:{filterItem:"D_F r_P ab_C H_74JI P_3gJOe q4_1I4yPF",filterItemText:"M_0 W_6D6F o_h cZ1RN91d_GG J_x G_e",buttons:"en_0 D_F Q_A ab_C"},isSelected:{filterItem:"q_2ieeaE"}},_key:"Z2lJnMx"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"mq_AS a_3v1qi A_6DUj C_Z1VRpVF i_6EWk o_h G_e"}},_key:"Z13hQ7F"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"D_F x_Z14vXdP W_3vPwA",right:"em_N o_A D_F",menuList:"P_0 hd_n M_2f9jT7",name:"M_0 u_e69 D_F i_6FIA",hint:"C_Z1VRpVF i_6EGz A_6DUj",imageOptions:"Y_6FIA",mainWrapper:"em_N iz_A D_F ek_BB P_ZzaS5e",securityUpsellContainer:"M_A",securityUpsellImag:"W_3v1qi P_7aG4",upsellTextContainer:"t_C i_6LEV W_3z5BY",upsellTextTitle:"A_6FsP C_Z1YRXYn u_b",upsellTextContent:"u_e69 A_6EWk C_Z1VRpVF",upsellTextLink:"u_e69 A_6EWk C_Z2aVTcY r_P",settingsSubHeaderLinkStyle:"C_Z2aVTcY S_n",hintAdvanced:"em_N D_F gl_FM",hrSetting:"P_Z2qnxKq",participateBtn:"r_P P_1EudUu H_6TFj Y_6Fd5 E_A cn_dBP e_dRA cg_FJ y_Z2hYGcu A_6EqO u_e69 I_52qC C_Z2aVTcY l_Z2aVTcY C4_Z29WjXl l4_Z29WjXl",learnMoreContainer:"W_3Lic3 K_3He0m k_w I_52qC D_F el_QDCVj",learnMoreContent:"P_1EutVf U_72FG iz_A D_F ek_BB en_N em_N",sectionContainer:"W_6D6F em_N ej_0",sectionLink:"C_Z2aVTcY r_P",header:"en_0",learnMoreLink:"r_P C_Z281SGl"}},_key:"Z2iAKc1"}},function(e,t,a){"use strict";e.exports={className:{default:{btnContainer:"D_F ab_C m_Z14vXdP",list:"P_0 hd_n M_0",listTitle:"M_ITspg A_6EWk i_6LEV",listItem:"D_B r_P H_6VdP i_6VdP m_Z12nDQf m8_n m6_Z12nDQf",addBtn:"A_6EqO C_Z2aVTcY",rightAlign:"Q_A",separator:"U_fq7 m_Z12nDQf",textButton:"r_P f_r C_Z2aVTcY Q_A A_6EqO"}},_key:"Z2uWrqb"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"D_F r_P ab_C H_6VdP P_3gJOe q4_1I4yPF",listItemText:"M_0 W_6D6F o_h cZ1RN91d_GG J_x G_e",buttons:"en_0 D_F Q_A ab_C"}},_key:"1hwDor"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"em_N iz_A P_ZzaS5e",previewSection:"W_3vPwA",previewTitleWrapper:"D_F U_72FG",previewTitle:"M_0 u_dPo A_6EWk",address:"A_6EqO M_27msYt",nameLabel:"u_b A_6EqO M_27m5tQ",btnLink:"b_n r_P t_C D_X q_T A_6EqO C_ZvsWfq"}},_key:"1G9Sg3"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F o_A",sectionsWrapper:"em_N iz_A P_ZzaS5e",titleWrapper:"U_6VdP",hint:"A_6EqO C_Z1YRXYn",section:"Y_qN U_qN",title:"u_dPo A_6FsP M_Ic9xa",listContainer:"F_N",listWrapper:"M_0 P_0 hd_n",accountInfoHeader:"Q_eo6 U_6FIA",headerText:"M_0 i_6LEV u_b A_6EWk",emptyList:"D_F ab_CI A_6Eb4 C_Z1VRpVF",warningIcon:"E_fq7"}},_key:"1eN8hf"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ab_C Q_eo6 E_6Eb4",description:"em_N E_6LEV",header:"U_eo6 u_b A_6EWk",hint:"a_3rtg7 C_Z1YRXYn A_6EqO",status:"A_6EqO C_Z2aVTcY r_P"},dangerStatus:{status:"C_ZkiIcp"}},_key:"1B3eiG"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ab_C Q_eo6 E_6Eb4",description:"em_N E_6LEV",header:"U_eo6 u_b A_6EWk",hint:"a_3rtg7 C_Z1YRXYn A_6EqO",status:"A_6EqO C_Z2aVTcY r_P",expiredAccount:"A_6EqO C_Z1YRXYn D_F i_6EGz Y_eo6"},dangerStatus:{status:"C_ZkiIcp"}},_key:"Zguu0u"}},function(e,t,a){"use strict";e.exports={className:{default:{listContainer:"F_N",accountInfoHeader:"Q_eo6 U_6FIA Y_0 E_0 u_b A_6EWk i_6LEV",listWrapper:"M_0 P_0 hd_n"}},_key:"204GAW"}},function(e,t,a){"use strict";e.exports={className:{default:{rightContainer:"je_6NIX N_6LEV Q_fq7 D_F ek_EZ em_0 en_0 W_6D6F H_3qWeB X8_74JI U8_7yHc",supportImgContainer:"gl_C ab_C D_F H_3rtg7 a_3He0m",supportImg:"D_B K_3rtg7 a_3s0hC U_6LEV Q_6LEV",headerContainer:"ab_C P_6LEV a_3vPwA gl_CH p_R L_72FG",header:"C_Z1YRXYn A_6EWk u_e69 M_6MGW W_3z5BY P_Z28L70A"},styleV2:{rightContainer:"H_82XEY je_dm5 Q_7rdk",supportImgContainer:"H_82XEY",fujiIcon:"cdPFi_Z1YJKic C_Z1YJKic",helpHint:"C_Z1VRpVF"}},_key:"ZcY3My"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"D_F x_Z14vXdP W_3vPwA",right:"em_N D_F",mainWrapper:"em_N D_F iz_A ek_BB P_ZzaS5e",pageHeader:"U_6VdP",headerTitle:"M_0 u_b A_6EWk i_6LEV",formControl:"je_fq7 U_6VdP",cloudStorageAccountsSection:"U_6VdP",linkEnhancerControl:"U_6VdP",selectbox:"W_3nF5b",fontSelectWrapper:"D_F ab_C gl_FM",signatureControl:"P_0 hd_n M_Z2igsyX",signatureHeader:"jb_fq7 m_Z14vXdP",signatureItem:"m_Z14vXdP i_6VdP m8_n",sendingAddressControl:"W_6D6F"}},_key:"Kvlf2"}},function(e,t,a){"use strict";e.exports={className:{default:{header:"M_0 D_F u_dPo ab_C A_6EqO P_3gIMd",rightAlign:"Q_A",signatureWrapper:"P_eo6 q_ptT19 b_efTvb",signatureEditor:"P_eo6",formControl:"D_F",tweetHint:"u_b A_6DUj P_eo6 j_2kQXn4",toggleControlName:"u_e69"},signatureActive:{header:"u_b"},showDefaultTitle:{header:"u_b P_0 M_Ic9xa"},hintHovered:{toggleControlName:"m_1qriBL"}},_key:"2HK88"}},function(e,t,a){"use strict";e.exports={className:{default:{listContainer:"F_N",listWrapper:"M_0 P_0 hd_n",accountInfoHeader:"Q_eo6 U_6FIA",headerText:"M_0 i_6LEV u_b A_6EWk",hint:"A_6EqO C_Z1YRXYn"}},_key:"2n2Y7W"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"D_F r_P ab_C P_6Eb4 gl_ZEO9jm m_Z12nDQf m8_n",accountInfo:"Q_6Fd5",accountName:"M_0 i_d3a o_h J_x G_e C_Z281SGl u_e69",accountStatus:"Q_A A_6EqO C_Z2aVTcY t_r"}},_key:"RKgJK"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"o_A em_N D_F",headerWrapper:"em_N iz_A P_ZzaS5e",titleWrapper:"U_6VdP",hint:"A_6EqO C_Z1YRXYn i_6FIA",title:"u_dPo A_6FsP M_Ic7YD C_Z281SGl i_6LEV",listItem:"D_F r_P ab_C gl_ZEO9jm P_6Eb4 m_Z12nDQf q4_1I4yPF",listItemAdd:"D_F ab_C gl_ZEO9jm P_6Eb4 U_eo6 Q_fq7",accountStatus:"Q_A",addBtnText:"C_Z2aVTcY",avatar:"M_3gIMd D_X ba_2XwIr W_6MGW H_6MGW",accountInfoHeader:"U_6Fd5",accountInfo:"Q_6Fd5",headerText:"M_0 D_F u_e69 ab_C gl_FM A_6EqO i_6FIA",accountName:"M_0 i_d3a o_h a_3nx4N J_x G_e C_Z281SGl",accountEmail:"M_0 A_6DUj i_d3a u_dPo C_ZvsWfq",dea:"Y_6VdP"}},_key:"1jHMLB"}},function(e,t,a){"use strict";e.exports={className:{default:{listContainer:"ha_n M_0 P_0",accountItem:"D_F H_6VdP ab_C m_Z12nDQf P_3gIMd"}},_key:"2w6GHL"}},function(e,t,a){"use strict";e.exports={className:{default:{textInput:"A_6EqO M_27msYt",label:"u_b A_6EqO M_Ic9xa",autoForwardingHeader:"u_b A_6EqO M_27me0J F_N",autoForwardDescription:"U_6Fd5 C_Z2aa8Uy p_R",alertText:"C_Z1rNwYf A_6Eb4 Y_6DEy D_F",alertIcon:"E_fq7",inputStyle:"X_0 m_0 m3_n",inputBox:"p_R m_2w4l8N D_F U_6DEy",removeForwardingBtn:"H_6LEV W_7kKt D_FZ i_N",verifyForwardingBtn:"H_6LEV W_7kKt D_FZ i_N M_0",inputIcon:"Y_fq7 E_eo6",displayFlex:"D_F H_6TFj",removeButtonContainer:"Y_fq7",link:"C_Z2aVTcY r4_P",removeText:"A_6DUj i_0",disabledText:"C_Z1TsNWR H_73Xs",verifyIcon:"D_X p_a E_eDQ T_68pj",verifyDescription:"p_a L_6Nds D_X a_3vye4",forwardEmailError:"p_a Y_72FG Q_fq7 A_6DUj C_ZkiIcp",learnMore:"C_Z2aVTcY Q_eDQ"},isFocus:{inputBox:"m_2fAfSG"},forwardEmailVerified:{verifyDescription:"C_Z1TsNWR"}},_key:"2iT5D3"}},function(e,t,a){"use strict";e.exports={className:{default:{sectionContainer:"F_N U_6VdP",sectionInfoHeader:"i_6LEV D_F gl_FM U_dRA",headerText:"M_0 D_F u_b ab_C gl_FM A_6EWk",toggleAccountSectionButton:"M_0 P_0",listWrapper:"M_0 P_0 hd_n",buttonsWrapper:"D_F gl_FM M_0",primaryButton:"r_P D_X H_6TFj q_Z2aVTcY Y_6Fd5 E_A e_dRA k_w en_0 V_M s_7yHc cZ1RN91d_n y_Z2hYGcu A_6EqO u_e69 b_0 P_1EudUu C_52qC I4_Z29WjXl",secondaryButton:"r_P P_1EudUu H_6TFj Y_6Fd5 E_A cn_dBP e_dRA cg_FJ y_Z2hYGcu A_6EqO u_e69 I_52qC C_Z2aVTcY l_Z2aVTcY I4_52qC C4_Z29WjXl l4_Z29WjXl",textButton:"r_P D_X C_Z2aVTcY Y_6Fd5 Q_A A_6DUj i_6EWk X_6LEV",baseNameWrapper:"U_6Fd5",baseName:"M_0 cZ1RN91d_GG o_h J_x G_e",baseNameText:"u_e69",domain:"Q_6Eb4",deaHint:"A_6DUj C_Z1TsNWR o_h G_e J_x",deaAccountName:"M_0 i_d3a o_h cZ1RN91d_GG J_x G_e C_Z281SGl u_e69",deaAccountDescription:"M_0 u_dPo i_d3a C_ZvsWfq A_6DUj o_h G_e",deaListItem:"D_F H_6UbO r_P ab_C gl_ZEO9jm P_ZXLjFo m_Z12nDQf i_6VdP o_h G_e J_x q4_1I4yPF",sectionHintsWrapper:"D_F gl_FM ab_CI C_Z1YRXYn A_6EqO i_6FIA U_6Fd5",sectionHint:"E_6UbO a_3rehn",accountUsage:"en_0 s_7yHc D_F ab_CH gl_CH",warningIcon:"E_fq7 H_6LEV",exceedMaxAccountsHint:"C_ZnTFMv i_6FIA a_3o4BO P_Z1E2XDm A_6EqO",errorText:"M_0",errorWarn:"u_e69"},buttonDisabled:{primaryButton:"r_A O_cMq I4_Z2aVTcY l4_Z2aVTcY",secondaryButton:"r_A O_cMq I4_52qC C4_Z2aVTcY l4_Z2aVTcY"},exceedMaxAccounts:{sectionHint:"a_3o5DP",accountUsage:"C_ZnTFMv s_3mU6W"},deaListItemSelected:{deaListItem:"q_1I4yPF"}},_key:"LLFYV"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"D_F ab_C r_P gl_ZEO9jm P_ZXLjFo m_Z12nDQf q4_1I4yPF",accountStatus:"Q_A",accountInfo:"en_N D_F o_h ek_BB Q_6Fd5",accountName:"M_0 i_d3a o_h J_x G_e C_Z281SGl u_e69",accountEmail:"M_1wVxIt u_dPo i_d3a C_ZvsWfq A_6DUj o_h G_e",accountDescription:"M_0 u_dPo i_d3a cZ1RN91d_GG C_Z1YRXYn A_6DUj o_h G_e",messageWrapper:"D_F ab_C A_6DUj C_Z1YRXYn i_6LEV s_7jIs",statusWrapper:"D_F ab_C s_7He5",accountNameWrapper:"D_F ab_C",typeTextWrapper:"Q_eo6 u_e69",statusIcon:"W_6LEV H_6LEV M_3gJOe",syncingStatusIcon:"M_3gJOe",errorWrapper:"D_F ab_C s_3mT4V C_Z1TsNWR",errorIcon:"M_3gJOe"},selected:{listItem:"q_1I4yPF"},deleteInProgress:{listItem:"O_cMp q_n r_DZ"}},_key:"1N7dn5"}},function(e,t,a){"use strict";e.exports={className:{default:{subwrapper:"D_F W_3zmEK",imgContainer:"D_F ek_BB gl_C aw_Z5r2aC",cueImg:"W_7sKQ",content:"P_1WRVno",title:"A_6FsP gp_1Fqk81 u_b U_eTB",description:"U_6Fd5",primary:"i_6NIX",secondary:"I4_52qC"},showAddMailPopup:{subwrapper:"W_3vFXG",description:"U_82XEY"}},_key:"Z12Ms2F"}},function(e,t,a){"use strict";e.exports={className:{default:{inputContainer:"D_F ek_BB",emailContainer:"D_F ab_C W_6D6F m_2w4l8N",baseName:"P_3gJOe",keyword:"G_e J_x o_h",hint:"D_B Y_fq7 Q_fq7 A_6DUj C_Z1TsNWR",error:"D_B Y_fq7 Q_fq7 A_6DUj C_ZnTFMv",inputField:"b_0 q_T H_6VdP em_N A_6EqO C_Z281SGl o_h J_x G_e ir3_0",clearButtonContainer:"Q_A E_fq7"},hasFocus:{emailContainer:"m_2fAfSG"}},_key:"Z2dhj1E"}},function(e,t,a){"use strict";e.exports={className:{default:{label:"A_6EWk M_27mcXI u_dPo i_6LEV",appStore:"D_F",appleAppStore:"N_6Fd5",textBody:"A_6EqO C_Z29dUYT M_1Wjk7b i_6LEV",textBodyStepList:"P_0 M_6Fd5",okButton:"q_Z2aVTcY e_dRA k_w r_P H_6TFj P_1EudUu en_0 Y_6LEV V_M cZ1RN91d_n y_Z2hYGcu A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl"}},_key:"b9alV"}},function(e,t,a){"use strict";e.exports={className:{default:{formWrapper:"em_N iz_A P_ZzaS5e",formSection:"W_3vPwA",headerLabel:"A_6EWk M_27msYt u_dPo i_6LEV",errorWrapper:"A_6EqO i_6LEV C_ZkiIcp D_F ab_CI U_6LEV",errorIcon:"E_fq7 D_F",buttonsWrapper:"D_F ab_C gl_CI H_6TFj M_1S6wUp",primaryButton:"r_P D_X H_6TFj q_Z2aVTcY M_Z11UGJB e_dRA k_w en_0 V_M cZ1RN91d_n y_Z2hYGcu A_6EqO u_e69 b_0 P_1EudUu C_52qC I4_Z29WjXl",disabledPrimaryButton:"r_A D_X H_6TFj q_Z2aVTcY M_Z11UGJB e_dRA k_w en_0 V_M cZ1RN91d_n y_Z2hYGcu A_6EqO u_e69 b_0 P_1EudUu C_52qC I4_Z2aVTcY l4_Z2aVTcY O_cMq",cancelButton:"b_n r_P C_Z1YRXYn V_M D_X q_T A_6EqO H_6TFj P_1EudUu u_e69 M_dxMae I4_15sa3J C4_Z281SGl",textBody:"M_0",link:"C_Z2aVTcY r_P"},invalidEmail:{headerLabel:"M_27mluB"},accountExist:{headerLabel:"M_27mcXI"}},_key:"Z1jN48a"}},function(e,t,a){"use strict";e.exports={className:{default:{formWrapper:"em_N iz_A P_ZzaS5e",formSection:"W_3vPwA",titleWrapper:"D_F A_6EWk U_72FG",label:"u_b A_6EqO M_Ic9xa",textInput:"A_6EqO H_7jIs",link:"C_Z2aVTcY r_P",textWrapperContainer:"Y_72FG i_6Fd5",textWrapper:"D_F A_6DUj",suggestionsContainer:"Y_72FG",suggestions:"Y_6LEV P_0 hd_n",suggestionsListItem:"U_6Eb4",suggestion:"r_P C_Z2aVTcY u_e69",buttonWrapper:"M_Z1sBvxS",saveButton:"H_6TFj i_N M_fTMfj",cancelButton:"H_6TFj i_N"}},_key:"ZmX2YT"}},function(e,t,a){"use strict";e.exports={className:{default:{image:"W_6EWk H_LMmCf Q_dRA V_M"}},_key:"Z2aSDa7"}},function(e,t,a){"use strict";e.exports={className:{default:{groupHeader:"D_F d_74JI m_Z12nDQf X_6VdP N_6LEV I_52qC",subjectRow:"D_F ab_C em_N o_h A_6FsP P_3Y3Gk",subject:"en_N G_e J_x o_h i_3mCHE cdPFi_Z2drWk6 D_F ab_C",subjectText:"E_fq7",noSubject:"M_3gI0W"}},_key:"162rFa"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3zJDR k_w I_52qC D_F el_QDCVj",header:"M_0 P_SdaxL A_6FsP D_F el_Z1mLfFl ab_AJ u_e69",icon:"p_a M_6FIA",title:"em_N N_6Fd5 i_6MGW",close:"ac_2ou4X1",message:"P_1EudUu",controls:"P_1EudUu"}},_key:"ZmblT"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F em_N ek_BB ab_FT W_6D6F o_A",headerSection:"M_Z1ONggB",viewHeader:"t_C A_6TFj i_72FG",viewDescription:"c2geo8R_6EqO t_C C_Z1VRpVF i_6FIA",playerContainer:"D_F ek_BB M_1EAG48 en_0 gl_C o_A",videoContainer:"M_1EAG48 D_F gl_C",msgContainer:"je_fq7 M_1EAG48",videoTitle:"A_6FsP u_e69 C_Z281SGl i_6MGW",videoSubtitle:"A_6EqO C_Z1VRpVF i_6FIA"},"themeMode-DARK":{container:"C_52qC",header:"m_ZYfFSw",viewHeader:"C_52qC",viewDescription:"C_ZpQYvz",videoTitle:"C_52qC",videoSubtitle:"C_ZpQYvz"}},_key:"1YBqEn"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"ir_n M_0 P_0 b_0 p_a o_h Z_N q_Z281SGl e_dRA",coverImage:"D_B W_6D6F H_6D6F M_0 P_0 b_0",playButton:"p_a r_P L_e5X T_e5X ir_n P_0 b_0 M_0 h_16WrXa",errorContainer:"W_6D6F p_a L_e5X T_e5X P_0 b_0 M_0 h_16WrXa",errorMessage:"C_52qC i_6MGW A_6FsP P_ZkVrXL",reloadButton:"C_52qC q_Z1YRXYn H_6VdP P_1Eumrn b_n r_P u_b p_a L_e5X T_e5X h_ZhN1V2"},"showError-true":{coverImage:"O_cMn"}},_key:"Z1NnXFu"}},function(e,t,a){"use strict";e.exports={className:{default:{galleryContainer:"M_ZQxzll P_3gJiI D_F eo_HB gl_C"}},_key:"Z23SxlN"}},function(e,t,a){"use strict";e.exports={className:{default:{itemContainer:"M_3gJiI p_R r_P W_3nF5b",thumbnail:"W_3nF5b H_7GHz k_w O_cMu",playButton:"p_a T_6LUG L_7ceA r_P",playingText:"p_a T_0 L_0 A_6DUj i_6EGz C_52qC I_Z2aVTcY t_l fd_i P_eo6",videoTitle:"A_6EqO i_6FIA u_e69 C_Z281SGl U_6Eb4"},isPlaying:{thumbnail:"b_1XBKym O_N"},isHovered:{thumbnail:"O_N"},"themeMode-DARK":{videoTitle:"C_52qC"}},_key:"ZDjdcj"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC b_Z14vXdP k_w",header:"M_0 P_1UqJXO A_6EqO C_Z1Xxgu0",retailers:"ha_n M_1Eu7sD D_F P_0",deals:"ha_n M_Z24zbI0 P_0 K_7Ig6 o_h",retailer:"W_7He5 H_7He5 D_F ek_BB gl_C ab_C b_Z14vXdP e_dRA E_eo6 E8_0 r_P",retailerName:"A_6DUj i_6Fd5 u_b t_C K_6UbO o_h",deal:"i_6MGW I_ZpQYvz D_X A_6EqO P_3gIMd M_Z2rzDxU a_e5X G_e J_x o_h V_AP",recentSearches:"ha_n M_Z24zbI0 P_0",recentSearch:"D_F ab_C H_74JI r_P I4_2iedUU",searchIcon:"E_6Fd5"},ybarFujiTheme:{container:"e_eo6"}},_key:"1IfE6D"}},function(e,t,a){"use strict";e.exports={className:{default:{buttonContainer:"D_F gl_CH ab_C",searchBtnWrapper:"M_0",resetBtnWrapper:"E_6LEV",resetBtn:"C_Z2aVTcY"}},_key:"ZiAY6r"}},function(e,t,a){"use strict";e.exports={className:{default:{checkboxContainerWrapper:"U_6Fd5",checkboxGroupLabelWrapper:"P_3Y3Gk m_Z14vXdP",checkboxGroupLabel:"A_6EqO C_Z281SGl u_b",checkboxWrapper:"D_F ab_C H_6VdP I4_1I4yPF",checkboxLabel:"A_6EqO C_Z281SGl",checkboxButton:"E_eo6 it_68F4"},checkboxSelected:{checkboxWrapper:"I_1I4z5p I4_1I4z5p"}},_key:"2Tpip"}},function(e,t,a){"use strict";e.exports={className:{default:{pills:"k_w D_F ab_C W_6D6F p_R r_P H_6D6F",pillOuter:"D_F ac_C en_0",pillsContainer:"hd_n em_N el_EZ D_F M_0 P_3HLUz ir_0",pillsContainerChild:"em_N o_h D_F",typeahead:"ac_C W_6D6F",typeaheadInput:"A_6EqO y_Z2hYGcu C_Z281SGl k_w b_0 W_6D6F H_6VdP P_3gJOe I_T ir_n p_R Z_N",typeaheadInputContainer:"p_R",suggestionDropdown:"W_6D6F Z_6D6Q I_52qC k_w ha_n L_0 T_6UHk M_0 P_Z2rzFgL b_Z14vXdP e_dRA j_Zm8rYD p_a o_A",typeaheadInputHint:"A_6EqO y_Z2hYGcu C_ZvsWfq k_w b_0 W_6D6F H_6VdP P_3gJOe I_T ir_n Z_0 p_a q_T L_0"}},_key:"Z2eGbAI"}},function(e,t,a){"use strict";e.exports={className:{default:{dateFieldWrapper:"D_F ab_AJ U_6Eb4",dateRangeWrapper:"Y_6Eb4",selectbox:"W_6D6F",error:"A_6DUj C_ZnTFMv je_fq7 X_fq7"}},_key:"q1Lgx"}},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(7),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(359),m=a(1838),_=a.n(m),u=a(12),p=a.n(u),h=a(25),g=a(18),E=a(0),b=a(45),f=a(5),C=a(14),S=a(49);const y=Object(c.defineMessages)({viewMore:{id:"card_group.view_more_cards",defaultMessage:"View more"},buyOnline:{id:"groceries_top_of_msg.buy_online",defaultMessage:"Create your cart"},walmartFallBackSubText:{id:"groceries_top_of_msg.walmart_fallback_subtext",defaultMessage:"Save time and money on {mailBrandNameString} with shopping suggestions made for you."},walmartFallBackText1:{id:"groceries_top_of_msg.walmart_fallback_text1",defaultMessage:"Stay safe!"},walmartFallBackText2:{id:"groceries_top_of_msg.walmart_fallback_text2",defaultMessage:"Buy groceries for pickup from Walmart."}});class T extends l.a.Component{constructor(...e){super(...e),s()(this,"viewMore",(e=!1)=>{const t=this.props,a=t.retailerId,n=t.primaryAccountId;b.b.sendI13nModel({i13nModel:{mKey:f.g.CARD_INTERACT,interactionType:f.e.click,sec:f.i.MSG_BODY,actionData:{xpname:t.groceryWithProducts?e?E.Ob.WALMART_STATIC_UPSELL:E.Ob.WALMART_RECOMMENDATIONS:E.Ob.GROCERY_DEALS_RECOMMENDATION,interactiontype:e?"walmarttomupsellaccept":"view_more",interacteditem:e?"create_cart_btn":"view_all_btn",slot:f.j.TOM,sndr:t.fromEmail,msgId:t.parentMessageId,featurefamily:E.Cb.IC}}}),this.context.navigateTo({route:Object(C.x)(E.Ud.GROCERIES,{accountIds:n,name:a})})})}renderItems(e){var t;const a=this.props,n=a.itemsToDisplay,s=a.groceryWithProducts,i=a.retailerId,r=a.isFullWidth,o=a.parentMessageId,c=a.fromEmail,m=a.isGroceriesTopOfMsg,_=this.context.intl.formatMessage,u=this.context.mailBrandNameString,p=s&&"PurchaseMatch"===(null==n||null===(t=n[0])||void 0===t?void 0:t.recommendationReason),b=a.staticGroceriesTom&&s&&!p;return b?l.a.createElement("div",{"data-test-id":"tom-fallback-container",className:e.container},l.a.createElement("div",{className:e.rightContainer},l.a.createElement("div",{className:e.text},_(y.walmartFallBackText1),l.a.createElement("br",null),_(y.walmartFallBackText2)),l.a.createElement("div",{className:e.subText},_(y.walmartFallBackSubText,{mailBrandNameString:u}))),l.a.createElement("div",null,l.a.createElement(g.a,{onClick:this.viewMore.bind(this,b),style:{height:"30px",width:"132px",padding:"0px 10px",marginTop:"30px"},kind:h.a.PRIMARY,"data-test-id":"buy-online-btn"},_(y.buyOnline)),l.a.createElement("div",{className:e.imgBackground},l.a.createElement("img",{src:Object(S.a)("/img/ym6_groceries.png"),className:e.img})))):m&&p?l.a.createElement("div",{className:e.item,"data-test-id":"groceries_top_msg"},l.a.createElement("section",{className:e.itemContainerTopOfMsg},n.map(({brandName:e,description:t,discountType:a,expiryTimestamp:n,imageUrl:s,offerId:m,unitPriceDisplay:_,value:u=""},p)=>l.a.createElement(d.a,{brandName:e,contextOfUse:"groceriesTopOfMsg",dateDiff:Math.floor((n-(new Date).getTime())/E.rc),discountType:a,fromEmail:c,imageUrl:s,isFullWidth:r,key:p,offerDescription:t,offerId:m,offerValue:u,parentMessageId:o,position:p,retailerId:i,unitPriceDisplay:_}))),n.length>1?l.a.createElement("div",null,l.a.createElement("img",{onClick:this.viewMore,src:Object(S.a)("/img/chevron.png"),className:e.chevronRight}),l.a.createElement("a",{"data-test-id":"groceries_tom_view_more",className:e.viewMore,onClick:this.viewMore},_(y.viewMore))):null):void 0}render(){const e=this.props.isFullWidth,t=p()(_.a,{isFullWidth:e});return l.a.createElement("div",{className:t.topOfMsg,"data-test-id":"groceries_top_msg_render"},this.renderItems(t))}}s()(T,"contextTypes",{navigateTo:r.a.func,intl:c.intlShape.isRequired,mailBrandNameString:r.a.string}),t.default=T},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC W_f7Y H_7GHz s_3s9Pw D_F M_fymYt r_P e_dRA gl_FM j_Z1Gul3w",subText:"A_6DUj C_Z1VRpVF X_6Fd5",imgBackground:"W_3n1yN H_7GHz e_dRA I_ZpQYvz f_r",rightContainer:"N_7bI5 je_6EWk",text:"H_72FG y_Z2hYGcu A_6EWk u_b X_6Fd5",img:"W_7bcz H_7jcW X_6TFj je_6EGz",chevronRight:"W_6LEV H_6LEV f_r im_BE N_6Fd5 r_P",item:"jb_6EqO",itemContainer:"D_F eo_HB Y_6Fd5 Q_6Fd5",topOfMsg:"W_6D6F",viewMore:"H_1HO9fF A_6DUj u_e69 t_r C_Z2aVTcY f_r jb_6EqO r_P",itemContainerTopOfMsg:"jb_eo6 D_F eo_HB Q_fq7"}},_key:"Z2jul19"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"H_A W_6D6F I_52qC D_F camnVI_6LEV X_6EWk e_dRA j_1kBJxJ N_6LEV",orderDetails:"C_Z1VRpVF A_6DUj",trackImage:"D_F je_6LEV X_6LEV",blue_delivery_line:"W_3rBgu H_eDQ I_Z2aVTcY Y_dRA",blue_tick:"W_6LEV H_6LEV Y_68pj",blue_line:"W_3nalr H_eDQ I_Z2aVTcY Y_dRA",grey_line:"W_3nalr H_eDQ I_ZvsWfq Y_dRA",tiny_truck:"W_6TFj H_6MGW Y_68F4",blue_circle:"W_6DEy H_6DEy h_3kmMd I_Z2aVTcY e_e5X",grey_circle:"W_6DEy H_6DEy h_3kmMd b_Z1NXk6R I_ZkbNhI e_e5X Y_68F4",content:"A_6EqO jb_eDQ",logo:"p_a T_6Nds L_7jcW",deliveryDate:"A_6FsP u_b X_6LEV",img:"W_3mU6W H_7qGO N_73cc je_6DEy X_6MWH jb_6LEV p_R T_0 L_0",ship:"A_6FsP u_b",leftContainer:"D_F",packageDataContainer:"je_6Fd5",rightContainer:"je_6FsP X_3qYyo jb_6FsP",rightContainerExtended:"je_6FsP X_2pRLop jb_6FsP",packageData:"X_6LEV jb_eDQ"},usePreviewPaneStyles:{container:"D_B",rightContainer:"je_0 X_3o5o5",rectangle:"W_6D6F H_dBP U_fq7 I_ZpQYvz",rightContainerExtended:"je_0 X_3o5o5"}},_key:"Z2vw5GV"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"e_dRA o_h j_nWwhY I_52qC D_F r_P W_6D6F a_3LAgP",content:"D_F je_6Fd5 jb_6Fd5 X_6Fd5 N_6Fd5 eo_HB W_6D6F gl_FM A_6EqO",mainBody:"D_F ek_BB N_6Fd5",header:"I_Z21a4NC W_3n1yN D_F P_6Fd5 gl_C ab_C",ctaButton:"W_A H_A M_dm5 e_dRA ac_C",bodyTextContainer:"C_Z1YRXYn i_6CCW Y_eo6 U_6Eb4",heading:"A_6FsP M_dm5 i_1HuzId",cueImg:"W_7yHc",avatar:"ac_BZ"},lastpassT1:{header:"I_52qC aw_ZyjRWL az_DW ba_BH W_3np4q gl_CH N_6Fd5 H_A ay_Z2lPpl c2aoGPX_2uuNl8",heading:"A_6EWk",content:"N_fq7 A_6DUj"},lastpassT2:{wrapper:"P_6Fd5 I_ZnkeaL j_n a_3PLWo e_dm5",content:"je_dm5 jb_dm5 N_dm5 ac_C",ctaButton:"ac_C"},falconTOMSubscriptionUpsell:{heading:"A_6EWk",header:"I_T s_3nF5b P_0 ba_BH ay_Z2lPpl"}},_key:"Zp1CcB"}},function(e,t,a){"use strict";a.r(t);var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=(a(7),a(1)),l=a.n(o),c=a(6),d=a(1445),m=a(397);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const u={[m.a.POWER]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23741416.271693995;dc_trk_aid=464059855;dc_trk_cid=129709479;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23741416.271693995;dc_trk_aid=464059855;dc_trk_cid=129709479;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"},[m.a.SAVER]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23741416.271693992;dc_trk_aid=464059855;dc_trk_cid=129709479;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23741416.271693992;dc_trk_aid=464059855;dc_trk_cid=129709479;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?"}},p={[m.a.POWER]:Object(c.defineMessages)({ctaText:{id:"power_ymobile_tom.ctaText",defaultMessage:"Check it out"},heading:{id:"power_ymobile_tom.heading",defaultMessage:"Go unlimited for less"},body:{id:"power_ymobile_tom.body",defaultMessage:"Unlimited plan on Verizon’s 4G LTE Network. Just $39.99/mo."}}),[m.a.SAVER]:Object(c.defineMessages)({ctaText:{id:"saver_ymobile_tom.ctaText",defaultMessage:"Check it out"},heading:{id:"saver_ymobile_tom.heading",defaultMessage:"Now this is unlimited"},body:{id:"saver_ymobile_tom.body",defaultMessage:"Uncapped data, text & talk. No annual contracts. Just $39.99/mo."}})},h="/img/ymobile_tom_logo_1x.png",g="/img/ymobile_tom_logo_2x.png";t.default=e=>{const t=e.version,a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},u[t],{images:{logoImg:{oneX:h,twoX:g}},strings:p[t]});return l.a.createElement(d.a,s()({},e,a))}},function(e,t,a){"use strict";a.r(t),a.d(t,"LastpassUpsellCard",(function(){return b})),a.d(t,"mapStateToProps",(function(){return f}));var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=(a(7),a(1)),l=a.n(o),c=a(13),d=a(1445),m=a(6),_=a(10),u=a(0),p=a(1491),h=a(204);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const b=(e,t)=>{const a=e.version,n=p.c,i=p.b[a]||{};n.body=E({},n.body,{values:{yahooBrand:(0,t.intl.formatMessage)(h.a.brandName)}});const r={};a===p.a.T2?(r.avatarImg={oneX:i.logo,twoX:i.logo2x},n.heading=E({},n.heading,{values:{includeNewline:!1}})):(r.logoImg={oneX:i.logo,twoX:i.logo2x},n.heading=E({},n.heading,{values:{includeNewline:!0}}));const o=E({},p.d[a],{images:r,strings:n,overridingStyle:a===p.a.CT?{}:{["lastpass"+a]:!0}});return l.a.createElement(d.a,s()({},e,o))};b.contextTypes={intl:m.intlShape};const f=e=>{const t=((0,Object(_.selectors)(e).getSetting)(u.Kd.LASTPASS_UPSELL_SETTINGS)||{}).redirectUrl;return{redirectUrl:void 0===t?"":t}};t.default=Object(c.connect)(f)(b)},function(e,t,a){"use strict";a.r(t),a.d(t,"TextWithImagesOnlyCue",(function(){return A}));var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=a(7),l=a.n(o),c=a(1),d=a.n(c),m=a(17),_=a(4),u=a(1844),p=a.n(u),h=a(6),g=a(16),E=a(5),b=a(319),f=a(12),C=a.n(f),S=a(49);const y=Object(h.defineMessages)({cue_text:{id:"txt_with_img_cue.cue_text",defaultMessage:"Get delivery updates on your phone with the {yahooBrandNameString} Mail app"}}),T=Object(S.a)("/img/google_play_badge.png"),v=Object(S.a)("/img/app_store_badge.png"),I=Object(S.a)("/img/norrin_qr_code_pkg_tom.png"),M={white:{kind:_.Kinds.CLOSE,colorState:_.ColorStates.DEFAULT,size:_.Sizes.XS}};class A extends d.a.Component{constructor(...e){super(...e),r()(this,"onClose",e=>{e.stopPropagation(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",sec:E.i.FEATURE_CUE,interactionType:Object(g.getInteractionFromEvent)(e)}})})}render(){const e=this.props.appearance,t=C()(p.a,{appearance:e}),a=this.context.yahooBrandNameString;return d.a.createElement("div",{className:t.container,"data-test-id":this.props.cueName},d.a.createElement("img",{className:t.qrCode,src:I}),d.a.createElement("div",{className:t.textAndLogo},d.a.createElement("span",{className:t.text},d.a.createElement("div",{className:t.textLine},d.a.createElement(h.FormattedMessage,s()({},y.cue_text,{values:{yahooBrandNameString:a}})))),d.a.createElement("div",{className:t.appStore},d.a.createElement("img",{className:t.appleAppStore,src:v}),d.a.createElement("img",{src:T}))),d.a.createElement("div",{"data-test-id":"text-cue-close-icon",className:t.close,onClick:this.onClose},d.a.createElement(m.b,s()({"data-test-id":"close-cue-button"},M[e]))))}}r()(A,"contextTypes",{yahooBrandNameString:l.a.string}),r()(A,"defaultProps",{appearance:"white"}),t.default=Object(b.a)(A)},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F a_3z5BY i_6FIA ab_C e_eo6",close:"Y_eo6 Q_6Eb4 r_P"},"appearance-white":{container:"D_F W_3we2d P_fq7 i_6FIA ab_FO e_eo6",text:"W_3nV5V A_6EWk u_b",textAndLogo:"D_I je_6Fd5",qrCode:"P_6Fd5 W_7He5 H_7He5",appleAppStore:"N_eDQ",appStore:"D_F je_6EqO f_l",textLine:"f_l",close:"M_0 r_P"}},_key:"16DO7n"}},function(e,t,a){"use strict";a.r(t);var n=a(7),s=a.n(n),i=a(1),r=a.n(i),o=a(27),l=a.n(o),c=a(3),d=a.n(c),m=a(1839),_=a.n(m),u=a(12),p=a.n(u),h=a(6),g=a(13),E=a(2);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=a(5),S=a(43),y=a.n(S);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e,t,a=!0){const n=e.displayName||e.name;function i(){r.a.Component.apply(this,arguments)}Object.assign(i.prototype,r.a.Component.prototype),i.displayName="CardConnector("+n+")",i.contextTypes=t,i.propTypes={cardName:s.a.string,onShow:s.a.func,close:s.a.bool,onClick:s.a.func,closeCard:s.a.func,markCardAsShown:s.a.func,computeActionData:s.a.func},i.defaultProps={onShow:()=>{},onClick:()=>{},computeActionData:()=>({})},Object.assign(i.prototype,{componentDidMount(){const e=this.props,t=e.cardName,a=e.markCardAsShown,n=e.onShow,s={sec:C.i.FEATURE_CARD,mKey:"card_"+t+"_invoke"};s.actionData=(0,e.computeActionData)(s.mKey),a({name:t,i13nModel:s}),setImmediate(()=>n())},handleCloseCard(e,t){const a=Object.assign({sec:C.i.FEATURE_CARD,mKey:`card_${this.props.cardName}_${e}`},t.i13nModel),n=t.userResponse,s={name:this.props.cardName,i13nModel:a,userAction:e};n&&(s.userResponse=n),this.props.closeCard(s)},componentWillReceiveProps(e){e.close&&this.handleCloseCard("close",{i13nModel:{mKey:"card_"+this.props.cardName+"_success",interactionType:C.e.click}})},render(){const t=e.prototype&&e.prototype.isReactComponent?{ref:"wrappedElement"}:null,a=y()(this.props,["onShow","onClose"]);return r.a.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,{},t,{onClose:this.handleCloseCard.bind(this,"close"),persistent:!0,onSuccess:this.handleCloseCard.bind(this,"click")}))}});return a?Object(g.connect)(null,e=>({closeCard:t=>e((e=>f({type:"click"===e.userAction?E.CARD_TRY_NOW_REQUESTED:E.CARD_CLOSED},e))(t)),markCardAsShown:t=>e((e=>f({type:E.CARD_MARK_AS_SHOWN_REQUESTED},e))(t))}),null,{withRef:!0})(i):i}var I=a(18),M=a(25),A=a(49),N=a(69),k=a(0),O=a(10),D=a(24),P=a(94),R=a(1494),w=a(45),F=a(494),x=a(15),L=a(62),B=a(11);const j=Object(h.defineMessages)({enable_tracking:{id:"pkg_tacking.enable_tracking",defaultMessage:"Enable delivery tracking"},timechunk_str_months:{id:"timechunk_str_months",defaultMessage:"{month, select, 0 {January} 1 {February} 2 {March} 3 {April} 4 {May} 5 {June} 6 {July} 7 {August} 8 {September} 9 {October} 10 {November} 11 {December}}"},package_shipped:{id:"pkg_tacking.package_shipped",defaultMessage:"Package has shipped"},package_on_the_way:{id:"pkg_tracking.package_on_the_way",defaultMessage:"Your order from {orderDay} {orderedMonth} {year}"},package_is_delivered:{id:"pkg_tracking.package_is_delivered",defaultMessage:"Package is delivered"},package_expected_date:{id:"pkg_tacking.package_expected_date",defaultMessage:"Expected on {month} {day}"},package_delivered:{id:"pkg_tracking.package_delivered",defaultMessage:"Package Delivered on {month} {day}"},item:{id:"pkg_tacking.item",defaultMessage:"Item"},track:{id:"pkg_tacking.track",defaultMessage:"Track"},order_number:{id:"pkg_tacking.order_number",defaultMessage:"Order number"},tracking_number:{id:"pkg_tacking.tracking_number",defaultMessage:"Tracking number"},shipped:{id:"pkg_tacking.shipped",defaultMessage:"Shipped"}});class U extends r.a.Component{constructor(e){super(e),d()(this,"enableTracking",e=>{const t=this.props,a=t.fromEmail,n=t.parentMessageId;e.stopPropagation(),w.b.sendI13nModel({i13nModel:{mKey:C.g.CARD_INTERACT,interactionType:C.e.click,sec:C.i.MSG_BODY,actionData:{xpname:k.Zc.ENABLE_PACKAGE_TRACKING,sndr:a,msgId:n,featurefamily:k.Cb.IC}}}),this.props.changeSettings({name:k.Kd.PACKAGE_TRACKING_SETTINGS,value:!0})}),d()(this,"trackPkgButton",e=>{const t=this.props.displayContent,a=null==t?void 0:t.trackingUrl;e.stopPropagation(),w.b.sendI13nModel({i13nModel:{mKey:C.g.CARD_INTERACT,interactionType:C.e.click,sec:C.i.MSG_BODY,actionData:{xpname:k.Zc.PKG_TRACKING_URL_CLICKED,featurefamily:k.Cb.IC,url:a}}}),Object(P.a)(a)}),d()(this,"renderPkgCue",()=>this.props.isCueEnabled&&this.enableTrackButton?r.a.createElement(R.a,{popoverAnchor:this.enableTrackButton,align:x.a.CENTER,triggerOn:x.i.MOUNT,isArrowVisible:!0,permittedArrowDirections:[x.h.UP],zAltitude:B.Pb.POPOVER.HIGH,bg:x.d.DEFAULT,borderRadius:x.e.MEDIUM},r.a.createElement("div",{ref:"popoverInnerContent"},r.a.createElement(D.a,{import:"../../feature_cue/atoms/text_with_images_cue",appearance:"white",cueName:k.Eb.PKG_TRACKING_CUE,_moduleLoader:function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,1843))},_moduleResolver:function(){return 1843}}))):null),this.enableTrackButton=r.a.createRef()}render(){const e=this.props,t=e.displayContent,a=e.packageTrackingSettings,n=e.usePreviewPaneStyles,s=e.fromEmail,i=t.orderDate,o=void 0===i?"":i,c=t.expectedArrival,d=void 0===c?"":c,m=t.deliveryStatusToShow,u=void 0===m?"":m,g=t.trackingNumber,E=void 0===g?"":g,b=t.trackingUrl,f=void 0===b?"":b,C=t.orderNumber,S=void 0===C?"":C,y=t.name,T=void 0===y?"":y,v=this.context.intl.formatMessage,N=p()(_.a,{usePreviewPaneStyles:n}),k=new Date(o),O=k.getDate(),D=k.getFullYear(),P=k.getMonth(),R=P?v(j.timechunk_str_months,{month:P}):null,w=new Date(d),x=w.getDate(),B=w.getMonth(),U=B?v(j.timechunk_str_months,{month:B}):null,H=u;return r.a.createElement("div",{className:N.container,"data-test-id":"pkgTracking"},r.a.createElement("div",{className:N.leftContainer,"data-test-id":"pkgTracking-left-container"},r.a.createElement("div",{className:N.img},t?r.a.createElement(F.a,{src:Object(A.a)("/img/package_truck.png")}):null,r.a.createElement("div",{className:N.logo},r.a.createElement(L.c,{contact:{email:s},size:L.b.C,useFallbackImage:!1}))),r.a.createElement("div",{className:N.packageDataContainer},r.a.createElement("div",{className:N.packageData},E&&!a?r.a.createElement(h.FormattedMessage,j.package_shipped):"Delivered"===H?null:r.a.createElement("div",null,o?r.a.createElement("div",null,r.a.createElement(h.FormattedMessage,l()({},j.package_on_the_way,{values:{orderDay:O,orderedMonth:R,year:D}}))):null,E?r.a.createElement("div",{className:N.ship},H||r.a.createElement(h.FormattedMessage,j.shipped)):null)),E&&!isNaN(w)&&a?r.a.createElement("span",{className:N.deliveryDate},r.a.createElement(h.FormattedMessage,"Delivered"===H?l()({},j.package_delivered,{values:{month:U,day:x}}):l()({},j.package_expected_date,{values:{month:U,day:x}}))):null,E||isNaN(w)?null:r.a.createElement("span",{className:N.deliveryDate},r.a.createElement(h.FormattedMessage,l()({},j.package_expected_date,{values:{month:U,day:x}}))),r.a.createElement("div",{className:N.actionContainer},E&&!a?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(I.a,{ref:this.enableTrackButton,"data-test-id":"enable-tracking-button",onClick:this.enableTracking,kind:M.a.PRIMARY},r.a.createElement("div",null,r.a.createElement(h.FormattedMessage,j.enable_tracking)))),this.renderPkgCue()):r.a.createElement("div",null,H?r.a.createElement("div",{className:N.trackImage},r.a.createElement("div",{className:N.blue_circle}),"Delivered"===H?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:N.blue_delivery_line}),r.a.createElement("div",{className:N.blue_tick},r.a.createElement("img",{className:N.blue_tick,src:Object(A.a)("/img/check_blue.png")}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:N.blue_line}),r.a.createElement("div",{className:N.tiny_truck},r.a.createElement("img",{className:N.tiny_truck,src:Object(A.a)("/img/tiny_truck.png")})),r.a.createElement("div",{className:N.grey_line}),r.a.createElement("div",{className:N.grey_circle}))):null,r.a.createElement("div",null,f?r.a.createElement(I.a,{"data-test-id":"track-pkg-button",ref:"TrackButton",onClick:this.trackPkgButton,kind:M.a.PRIMARY},r.a.createElement("div",null,r.a.createElement(h.FormattedMessage,j.track))):null))))),r.a.createElement("div",{className:a?N.rightContainerExtended:N.rightContainer,"data-test-id":"pkgTracking-right-container"},n?r.a.createElement("div",{className:N.rectangle}):null,T?r.a.createElement("div",null,r.a.createElement("div",{className:N.orderDetails},r.a.createElement(h.FormattedMessage,j.item)),r.a.createElement("div",{className:N.content},T)):null,S?r.a.createElement("div",null,r.a.createElement("div",{className:N.orderDetails},r.a.createElement(h.FormattedMessage,j.order_number)),r.a.createElement("div",{className:N.content},S)):null,E?r.a.createElement("div",null,r.a.createElement("div",{className:N.orderDetails},r.a.createElement(h.FormattedMessage,j.tracking_number)),r.a.createElement("div",{className:N.content},E)):null))}}d()(U,"contextTypes",{intl:h.intlShape.isRequired}),d()(U,"defaultProps",{usePreviewPaneStyles:!1});var H=v(Object(g.connect)(e=>{const t=Object(O.selectors)(e),a=t.isFeatureEnabled;return{packageTrackingSettings:(0,t.getSetting)(k.Kd.PACKAGE_TRACKING_SETTINGS),isCueEnabled:a(k.Eb.PKG_TRACKING_CUE)}},e=>({changeSettings:t=>e(Object(N.b)(t))}))(U));t.default=class extends i.Component{render(){const e=this.props;return r.a.createElement(H,{displayContent:e.packageTrackingCard,parentMessageId:e.parentMessageId,fromEmail:e.fromEmail,usePreviewPaneStyles:e.usePreviewPaneStyles})}}},function(e,t,a){"use strict";a.r(t);var n=a(27),s=a.n(n),i=a(3),r=a.n(i),o=(a(7),a(1)),l=a.n(o),c=a(1445),d=(a(51),a(6));const m=Object(d.defineMessages)({ctaText:{id:"ct_falcon_tom_subscription_upsell.ctaText",defaultMessage:"Try it now"}});function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const p=(e,t)=>{const a=e.falconTOMSubscriptionData,n=a.strings,i=u({},n,{ctaText:n.ctaText||(0,t.intl.formatMessage)(m.ctaText)}),r=u({},a,{strings:i,overridingStyle:{falconTOMSubscriptionUpsell:!0},contentDerivedFromApi:!0});return l.a.createElement(c.a,s()({},e,r))};p.contextTypes={intl:d.intlShape.isRequired};t.default=p}])]);